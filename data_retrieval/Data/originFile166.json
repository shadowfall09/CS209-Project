{"items":[{"tags":["java","spring-boot","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":6821181,"reputation":3354,"user_id":5248299,"accept_rate":89,"display_name":"Kihats"},"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1695484593,"creation_date":1487889318,"answer_id":42427493,"question_id":42427492,"body_markdown":"Fetch the `registry` using `EurekaServerContextHolder.getInstance().getServerContext().getRegistry()` then use the `registry` to list all `Applications`\r\n   \r\n    PeerAwareInstanceRegistry registry = EurekaServerContextHolder.getInstance().getServerContext().getRegistry();\r\n        Applications applications = registry.getApplications();\r\n\r\n        applications.getRegisteredApplications().forEach((registeredApplication) -&gt; {\r\n            registeredApplication.getInstances().forEach((instance) -&gt; {\r\n                System.out.println(instance.getAppName() + &quot; (&quot; + instance.getInstanceId() + &quot;) &quot;);\r\n            });\r\n        });","title":"Eureka Server - list all registered instances","body":"<p>Fetch the <code>registry</code> using <code>EurekaServerContextHolder.getInstance().getServerContext().getRegistry()</code> then use the <code>registry</code> to list all <code>Applications</code></p>\n<pre><code>PeerAwareInstanceRegistry registry = EurekaServerContextHolder.getInstance().getServerContext().getRegistry();\n    Applications applications = registry.getApplications();\n\n    applications.getRegisteredApplications().forEach((registeredApplication) -&gt; {\n        registeredApplication.getInstances().forEach((instance) -&gt; {\n            System.out.println(instance.getAppName() + &quot; (&quot; + instance.getInstanceId() + &quot;) &quot;);\n        });\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10447957,"reputation":329,"user_id":7702483,"display_name":"tyrantqiao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538099150,"creation_date":1538099150,"answer_id":52547191,"question_id":42427492,"body_markdown":"If you want to get all registered applications. \r\n\r\n1. you need to turn on eureka&#39;s configuration.\r\n\r\n        eureka:\r\n          client:\r\n            serviceUrl:\r\n              defaultZone: http://localhost:8761/eureka/\r\n            #register eureka as application\r\n            register-with-eureka: true\r\n            #fetch all thing, we can get applications here\r\n            fetch-registry: true\r\n            #also you can specify the instance renewal time.\r\n          server:\r\n            enable-self-preservation: false\r\n\r\n2. now we can get the registered applications, but the class must be put in eureka application&#39;s package. [As we need to autowire PeerAwareInstanceRegistry]\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @Autowired\r\n    PeerAwareInstanceRegistry registry;\r\n\r\n    public void eurekaApplications() {\r\n        Applications applications = registry.getApplications();\r\n        //TODO add your code here.\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/gCiPT.png","title":"Eureka Server - list all registered instances","body":"<p>If you want to get all registered applications. </p>\n\n<ol>\n<li><p>you need to turn on eureka's configuration.</p>\n\n<pre><code>eureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka/\n    #register eureka as application\n    register-with-eureka: true\n    #fetch all thing, we can get applications here\n    fetch-registry: true\n    #also you can specify the instance renewal time.\n  server:\n    enable-self-preservation: false\n</code></pre></li>\n<li><p>now we can get the registered applications, but the class must be put in eureka application's package. [As we need to autowire PeerAwareInstanceRegistry]</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/gCiPT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gCiPT.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>@Autowired\nPeerAwareInstanceRegistry registry;\n\npublic void eurekaApplications() {\n    Applications applications = registry.getApplications();\n    //TODO add your code here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8945607,"reputation":81,"user_id":6673199,"display_name":"CATCODER DEV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579743800,"creation_date":1579743800,"answer_id":59870571,"question_id":42427492,"body_markdown":"This works for me, get all services registered on eureka and show iformation about each one\r\n\r\n    @Autowired\r\n    private DiscoveryClient discoveryClient;\r\n    \r\n    public List&lt;ServiceInstance&gt; getApplications() {\r\n\r\n        List&lt;String&gt; services = this.discoveryClient.getServices();\r\n        List&lt;ServiceInstance&gt; instances = new ArrayList&lt;ServiceInstance&gt;();\r\n        services.forEach(serviceName -&gt; {\r\n            this.discoveryClient.getInstances(serviceName).forEach(instance -&gt;{\r\n                instances.add(instance);\r\n            });\r\n        });\r\n        return instances;\r\n    }","title":"Eureka Server - list all registered instances","body":"<p>This works for me, get all services registered on eureka and show iformation about each one</p>\n\n<pre><code>@Autowired\nprivate DiscoveryClient discoveryClient;\n\npublic List&lt;ServiceInstance&gt; getApplications() {\n\n    List&lt;String&gt; services = this.discoveryClient.getServices();\n    List&lt;ServiceInstance&gt; instances = new ArrayList&lt;ServiceInstance&gt;();\n    services.forEach(serviceName -&gt; {\n        this.discoveryClient.getInstances(serviceName).forEach(instance -&gt;{\n            instances.add(instance);\n        });\n    });\n    return instances;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9259399,"reputation":11,"user_id":17375699,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667559721,"creation_date":1667291199,"answer_id":74273256,"question_id":42427492,"body_markdown":"To fetch the list of applications registered in the eureka server, you can use the DiscoveryClient interface from `springframework.cloud.client.discovery` package according to documentation [docs][1].\r\n\r\n```\r\nimport java.util.List;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.cloud.client.ServiceInstance;\r\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class DiscoveryClient{\r\n\r\n\r\n  private final DiscoveryClient client;\r\n\r\n  @GetMapping(&quot;/api/discovery/instance/info&quot;)\r\n  public ResponseEntity&lt;?&gt; test() {\r\n    return ResponseEntity.ok(getApplications());\r\n  }\r\n\r\n\r\n  public int getApplications() {\r\n    List&lt;ServiceInstance&gt; instances = client.getInstances(&quot;YOUR-APPLICATION-NAME-WITHIN-EUREKA&quot;);\r\n    log.info(&quot;instances {}&quot;, instances);\r\n    return instances.size();\r\n  }\r\n\r\n}\r\n```\r\n\r\n[1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html#_alternatives_to_the_native_netflix_eurekaclient","title":"Eureka Server - list all registered instances","body":"<p>To fetch the list of applications registered in the eureka server, you can use the DiscoveryClient interface from <code>springframework.cloud.client.discovery</code> package according to documentation <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html#_alternatives_to_the_native_netflix_eurekaclient\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<pre><code>import java.util.List;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@Slf4j\n@RestController\n@RequiredArgsConstructor\npublic class DiscoveryClient{\n\n\n  private final DiscoveryClient client;\n\n  @GetMapping(&quot;/api/discovery/instance/info&quot;)\n  public ResponseEntity&lt;?&gt; test() {\n    return ResponseEntity.ok(getApplications());\n  }\n\n\n  public int getApplications() {\n    List&lt;ServiceInstance&gt; instances = client.getInstances(&quot;YOUR-APPLICATION-NAME-WITHIN-EUREKA&quot;);\n    log.info(&quot;instances {}&quot;, instances);\n    return instances.size();\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6821181,"reputation":3354,"user_id":5248299,"accept_rate":89,"display_name":"Kihats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13921,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":42427493,"answer_count":4,"score":13,"last_activity_date":1695484593,"creation_date":1487889318,"question_id":42427492,"body_markdown":"I have a Spring Boot application that is also a Eureka Server. I want to list all instances that have been registered to this Eureka Server. How do I do it?","title":"Eureka Server - list all registered instances","body":"<p>I have a Spring Boot application that is also a Eureka Server. I want to list all instances that have been registered to this Eureka Server. How do I do it?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1552988273,"post_id":55237584,"comment_id":97208473,"body_markdown":"just think, if you can write like `long l = 1111111111111111111111111111111111111111111L;` in Java, if you can, you can do above also, since before you throw custom exception, library already throwing an exception while fitting long value,","body":"just think, if you can write like <code>long l = 1111111111111111111111111111111111111111111L;</code> in Java, if you can, you can do above also, since before you throw custom exception, library already throwing an exception while fitting long value,"},{"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"score":0,"creation_date":1552988292,"post_id":55237584,"comment_id":97208496,"body_markdown":"Please use Long varible to handle this issue.integer cannot support large number of data","body":"Please use Long varible to handle this issue.integer cannot support large number of data"},{"owner":{"account_id":11939775,"reputation":523,"user_id":8736966,"display_name":"Sudip Bolakhe"},"score":0,"creation_date":1552988649,"post_id":55237584,"comment_id":97208704,"body_markdown":"@dkb Yeah I understand that but what I am expecting is to restrict the size or max value in the controller itself.","body":"@dkb Yeah I understand that but what I am expecting is to restrict the size or max value in the controller itself."},{"owner":{"account_id":11939775,"reputation":523,"user_id":8736966,"display_name":"Sudip Bolakhe"},"score":0,"creation_date":1552988687,"post_id":55237584,"comment_id":97208733,"body_markdown":"@BathriNathan I have used the Long there","body":"@BathriNathan I have used the Long there"},{"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"score":0,"creation_date":1552989411,"post_id":55237584,"comment_id":97209198,"body_markdown":"@SudipBolakhe please check my answer it will be helpful to you...","body":"@SudipBolakhe please check my answer it will be helpful to you..."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":2,"creation_date":1552990157,"post_id":55237584,"comment_id":97209682,"body_markdown":"Refer: https://github.com/spring-projects/spring-framework/issues/11041, this feature is in queue to be implemented but there are some workaround, still issue will persist because Long id has to hold value first before validation works on it, so either you change to String and do validation or have custom exception handler.","body":"Refer: <a href=\"https://github.com/spring-projects/spring-framework/issues/11041\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/11041</a>, this feature is in queue to be implemented but there are some workaround, still issue will persist because Long id has to hold value first before validation works on it, so either you change to String and do validation or have custom exception handler."},{"owner":{"account_id":11939775,"reputation":523,"user_id":8736966,"display_name":"Sudip Bolakhe"},"score":0,"creation_date":1552990396,"post_id":55237584,"comment_id":97209824,"body_markdown":"@dkb Yeah I too figure out  that, If we need to apply size constraints or  max value, first the value needs to be within the range of the data type.","body":"@dkb Yeah I too figure out  that, If we need to apply size constraints or  max value, first the value needs to be within the range of the data type."}],"answers":[{"tags":[],"owner":{"account_id":11116342,"reputation":1868,"user_id":8160563,"display_name":"Marvin Klar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552988270,"creation_date":1552988270,"answer_id":55237736,"question_id":55237584,"body_markdown":"[Here][1] is described how to throw custom errors. I would suggest to accept an `String` as `value` for the user id. When the parsing of the `value` fails, you can throw your custom error.\r\n\r\n\r\n  [1]: https://www.baeldung.com/global-error-handler-in-a-spring-rest-api","title":"Set size limit for request param","body":"<p><a href=\"https://www.baeldung.com/global-error-handler-in-a-spring-rest-api\" rel=\"nofollow noreferrer\">Here</a> is described how to throw custom errors. I would suggest to accept an <code>String</code> as <code>value</code> for the user id. When the parsing of the <code>value</code> fails, you can throw your custom error.</p>\n"},{"tags":[],"owner":{"account_id":11499155,"reputation":1563,"user_id":8427457,"display_name":"TheSprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552988850,"creation_date":1552988850,"answer_id":55237918,"question_id":55237584,"body_markdown":"1. Change the input param(id) of that rest Service method from `Long` to `String`\r\n&lt;br&gt;then check String length and do you validation here \r\n2. Then convert that String value to long as below:&lt;br&gt;\r\n\r\n   `Long idValue = Long.valueOf(Id);`&lt;br&gt;&lt;br&gt;\r\nnow add your existing code here","title":"Set size limit for request param","body":"<ol>\n<li>Change the input param(id) of that rest Service method from <code>Long</code> to <code>String</code>\n<br>then check String length and do you validation here </li>\n<li><p>Then convert that String value to long as below:<br></p>\n\n<p><code>Long idValue = Long.valueOf(Id);</code><br><br>\nnow add your existing code here</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552989078,"creation_date":1552989078,"answer_id":55237999,"question_id":55237584,"body_markdown":"It seems java cant handle too large number as int or long so handle as string and use length property of string to handle and parse into int or long.\r\n\r\n**Note:**\r\nif length of the string is too long than integer or long can support then use return function or any call back function.\r\n\r\nJava variable range:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Impzy.png","title":"Set size limit for request param","body":"<p>It seems java cant handle too large number as int or long so handle as string and use length property of string to handle and parse into int or long.</p>\n\n<p><strong>Note:</strong>\nif length of the string is too long than integer or long can support then use return function or any call back function.</p>\n\n<p>Java variable range:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/Impzy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Impzy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695484539,"creation_date":1695484539,"answer_id":77163815,"question_id":55237584,"body_markdown":"    @RestController\r\n    public class YourController {\r\n    \r\n        @GetMapping(&quot;/yourEndpoint&quot;)\r\n        public ResponseEntity&lt;?&gt; yourEndpoint(\r\n            @RequestParam @Size(max = 50, message = &quot;Parameter &#39;param&#39; should be at most 50 characters long.&quot;) String param\r\n        ) {\r\n            // Your code here\r\n        }\r\n    }","title":"Set size limit for request param","body":"<pre><code>@RestController\npublic class YourController {\n\n    @GetMapping(&quot;/yourEndpoint&quot;)\n    public ResponseEntity&lt;?&gt; yourEndpoint(\n        @RequestParam @Size(max = 50, message = &quot;Parameter 'param' should be at most 50 characters long.&quot;) String param\n    ) {\n        // Your code here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11939775,"reputation":523,"user_id":8736966,"display_name":"Sudip Bolakhe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7719,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1695484539,"creation_date":1552987795,"question_id":55237584,"body_markdown":"Currently I have an API like this:\r\n\r\n```\r\n    @GetMapping(/user/{id})\r\n    public ResponseEntity&lt;MyClass&gt; getById(@PathVariable @Max(value = Long.MAX_VALUE, message= ID_LENGTH_EXCEED_MESSAGE) Long id) {\r\n      //some code here \r\n        return  new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n```\r\n\r\nThe issue is when I consume the API like this:\r\n```\r\n    {baseUrl}/user/1111111111111111111111111111111111111111111\r\n```\r\n\r\nI get an error message like this:\r\n```\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;long&#39;; \r\n    nested exception is java.lang.NumberFormatException: For input string: \r\n    &quot;1111111111111111111111111111111111111111111&quot;\r\n```\r\n\r\nDo you have any idea how to restrict the length of the value in path variable or even in request param and get a custom restricted message?","title":"Set size limit for request param","body":"<p>Currently I have an API like this:</p>\n\n<pre><code>    @GetMapping(/user/{id})\n    public ResponseEntity&lt;MyClass&gt; getById(@PathVariable @Max(value = Long.MAX_VALUE, message= ID_LENGTH_EXCEED_MESSAGE) Long id) {\n      //some code here \n        return  new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n</code></pre>\n\n<p>The issue is when I consume the API like this:</p>\n\n<pre><code>    {baseUrl}/user/1111111111111111111111111111111111111111111\n</code></pre>\n\n<p>I get an error message like this:</p>\n\n<pre><code>    Failed to convert value of type 'java.lang.String' to required type 'long'; \n    nested exception is java.lang.NumberFormatException: For input string: \n    \"1111111111111111111111111111111111111111111\"\n</code></pre>\n\n<p>Do you have any idea how to restrict the length of the value in path variable or even in request param and get a custom restricted message?</p>\n"},{"tags":["java","javac","unsupported-class-version"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1674745446,"post_id":75247101,"comment_id":132782881,"body_markdown":"You can also just refer to [official documentation](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.1-200-B.2) or [Wikipedia](https://en.wikipedia.org/wiki/Java_class_file#General_layout)","body":"You can also just refer to <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.1-200-B.2\" rel=\"nofollow noreferrer\">official documentation</a> or <a href=\"https://en.wikipedia.org/wiki/Java_class_file#General_layout\" rel=\"nofollow noreferrer\">Wikipedia</a>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1674745635,"post_id":75247101,"comment_id":132782942,"body_markdown":"Yes, thanks. I found it interesting to know it from command line for scripting/troubleshooting purposes.","body":"Yes, thanks. I found it interesting to know it from command line for scripting/troubleshooting purposes."}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1695483648,"creation_date":1674741443,"answer_id":75247102,"question_id":75247101,"body_markdown":"Java class major/minor version produced by a JDK can be obtained from `java`, `javac` or `javap` commands as follows\r\n\r\n    java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E -e &#39;java\\.(class\\.)?version &#39;\r\n    javac -J-XshowSettings:properties -version 2&gt;&amp;1 | grep -E -e &#39;java\\.(class\\.)?version &#39;\r\n\r\n    # testing all 3 commands\r\n    for cmd in &quot;java &quot; &quot;javac -J&quot; &quot;javap -J&quot;; do echo &quot;${cmd% *}&quot;; ${cmd}-XshowSettings:properties -version 2&gt;&amp;1  | grep -E -e &#39;java\\.(class\\.)?version &#39; ; done\r\n    \r\nResult:\r\n\r\n    java \r\n        java.class.version = 61.0\r\n        java.version = 17.0.8.1\r\n    javac\r\n        java.class.version = 55.0\r\n        java.version = 11.0.20.1\r\n    javap\r\n        java.class.version = 55.0\r\n        java.version = 11.0.20.1\r\n\r\n\r\n**Note**: As in my case :p , a Linux misconfiguration could give different results from `java` and `javac` showing that both commands belong to different versions. Than can be usually fixed using `alternatives` command.","title":"Get java class version from javac or JRE without a compiled class","body":"<p>Java class major/minor version produced by a JDK can be obtained from <code>java</code>, <code>javac</code> or <code>javap</code> commands as follows</p>\n<pre><code>java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E -e 'java\\.(class\\.)?version '\njavac -J-XshowSettings:properties -version 2&gt;&amp;1 | grep -E -e 'java\\.(class\\.)?version '\n\n# testing all 3 commands\nfor cmd in &quot;java &quot; &quot;javac -J&quot; &quot;javap -J&quot;; do echo &quot;${cmd% *}&quot;; ${cmd}-XshowSettings:properties -version 2&gt;&amp;1  | grep -E -e 'java\\.(class\\.)?version ' ; done\n</code></pre>\n<p>Result:</p>\n<pre><code>java \n    java.class.version = 61.0\n    java.version = 17.0.8.1\njavac\n    java.class.version = 55.0\n    java.version = 11.0.20.1\njavap\n    java.class.version = 55.0\n    java.version = 11.0.20.1\n</code></pre>\n<p><strong>Note</strong>: As in my case :p , a Linux misconfiguration could give different results from <code>java</code> and <code>javac</code> showing that both commands belong to different versions. Than can be usually fixed using <code>alternatives</code> command.</p>\n"}],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75247102,"answer_count":1,"score":0,"last_activity_date":1695483648,"creation_date":1674741443,"question_id":75247101,"body_markdown":"Java class version can be obtained from a class binary using `javap`\r\n\r\n    javap -verbose Test | grep &#39;minor\\|major&#39;\r\n      minor version: 0\r\n      major version: 55\r\n\r\nIs it possible to know in advance which class version a JDK will produce?\r\n`java -version` does not show it\r\n\r\n    java -version\r\n    openjdk version &quot;11.0.17&quot; 2022-10-18\r\n\r\nUsually related to [java.lang.UnsupportedClassVersionError](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi).","title":"Get java class version from javac or JRE without a compiled class","body":"<p>Java class version can be obtained from a class binary using <code>javap</code></p>\n<pre><code>javap -verbose Test | grep 'minor\\|major'\n  minor version: 0\n  major version: 55\n</code></pre>\n<p>Is it possible to know in advance which class version a JDK will produce?\n<code>java -version</code> does not show it</p>\n<pre><code>java -version\nopenjdk version &quot;11.0.17&quot; 2022-10-18\n</code></pre>\n<p>Usually related to <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">java.lang.UnsupportedClassVersionError</a>.</p>\n"},{"tags":["java","angular","spring","stripe-payments"],"comments":[{"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"score":1,"creation_date":1694999332,"post_id":77122921,"comment_id":135961146,"body_markdown":"No additional configuration is required to test Element integration with Payment Intent API. Stripe doesn&#39;t support Angular officially. If you use community library such as ngx-stripe, I&#39;d recommend reaching out to their Support/GitHub to check whether additional setting is required.","body":"No additional configuration is required to test Element integration with Payment Intent API. Stripe doesn&#39;t support Angular officially. If you use community library such as ngx-stripe, I&#39;d recommend reaching out to their Support/GitHub to check whether additional setting is required."},{"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"score":0,"creation_date":1695032941,"post_id":77122921,"comment_id":135965251,"body_markdown":"But it works on computer with angular? I can&#39;t debug cause its mobile","body":"But it works on computer with angular? I can&#39;t debug cause its mobile"},{"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"score":0,"creation_date":1695036036,"post_id":77122921,"comment_id":135965830,"body_markdown":"I don&#39;t use that library just raw js.","body":"I don&#39;t use that library just raw js."},{"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"score":0,"creation_date":1695037163,"post_id":77122921,"comment_id":135966064,"body_markdown":"I think the problem might be stripe.js isnt loading. Maybe the mobile browser it blocking it from loading.  Just a thought.","body":"I think the problem might be stripe.js isnt loading. Maybe the mobile browser it blocking it from loading.  Just a thought."}],"answers":[{"tags":[],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695483157,"creation_date":1695483157,"answer_id":77163733,"question_id":77122921,"body_markdown":"It turns out my requests to Stripe were happening from a local instance of my backend. The website was requesting from the REST API on my machine rather than the one running in Google Cloud. A quick change of URL from localhost to Google Cloud solved the issue. ","title":"How to enable stripe.js on Android Chrome?","body":"<p>It turns out my requests to Stripe were happening from a local instance of my backend. The website was requesting from the REST API on my machine rather than the one running in Google Cloud. A quick change of URL from localhost to Google Cloud solved the issue.</p>\n"}],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695483157,"creation_date":1694971430,"question_id":77122921,"body_markdown":"I use stripe.js with PaymentIntent API to process card transactions on my Angular Spring Boot web app. I have been testing it fully deployed. On my pc, can create payments and the popup works to confirm card. But on the Android phone, it doesnt prompt me to confirm the card with 3DS. Also can&#39;t add a new card with stripe elements. No transaction happens. Is there a setting perhaps to enable stripe testing on the Android phone? Works 100% on my PC Chrome. Or maybe is there a reason stripe.js  wont load in the mobile browser?","title":"How to enable stripe.js on Android Chrome?","body":"<p>I use stripe.js with PaymentIntent API to process card transactions on my Angular Spring Boot web app. I have been testing it fully deployed. On my pc, can create payments and the popup works to confirm card. But on the Android phone, it doesnt prompt me to confirm the card with 3DS. Also can't add a new card with stripe elements. No transaction happens. Is there a setting perhaps to enable stripe testing on the Android phone? Works 100% on my PC Chrome. Or maybe is there a reason stripe.js  wont load in the mobile browser?</p>\n"},{"tags":["java","firebase","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1695540137,"post_id":77163717,"comment_id":136036170,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":25478877,"reputation":1,"user_id":19275600,"display_name":"sithum udayanga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695482998,"creation_date":1695482998,"question_id":77163717,"body_markdown":"I want to retrive data from firebase realtime database. in database have child called &quot;Users&quot; inside of that child have another child called &quot;recently_played&quot; inside of that have list of items only save items id in &quot;recently_played&quot; child.\r\n\r\n\r\n```\r\nif (currentUser != null) {\r\n                        String userId = currentUser.getUid();\r\n                        DatabaseReference recentlyPlayedRef = databaseReference.child(&quot;Users&quot;).child(userId).child(&quot;recently_played&quot;);      \r\n                        recentlyPlayedRef.child(itemid).setValue(true); \r\n\r\n                    } else {\r\n                        Toast.makeText(PlayActivity.this, &quot;Please log in to save as recently played.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n```\r\n\r\nAnd I created recyclerView for display each items. each items have details (title,speakers,duration,category). I want to implement get items id from &quot;recently_played&quot; child and I created another different child called &quot;speeches&quot; and all items data store inside of &quot;speeches&quot; child with ech itemid and get each items data from &quot;speeches&quot; child and display each items inside in recycleview with itemcards.I also created itemModel , mainAdapter classes for retrive data to cards(i also created card layout called &quot;single_item.xml&quot;). I tryed to implement this but it&#39;s not working. My mentioned bellow.\r\n\r\n```\r\nrecentlyPlayedRef = FirebaseDatabase.getInstance().getReference()\r\n                        .child(&quot;Users&quot;)\r\n                        .child(currentUser.getUid())\r\n                        .child(&quot;recently_played&quot;);\r\n                Query query;\r\n                query = FirebaseDatabase.getInstance().getReference().child(&quot;speeches&quot;)\r\n                        .child(String.valueOf(recentlyPlayedRef));\r\n\r\n                FirebaseRecyclerOptions&lt;ItemModel&gt; options =\r\n                        new FirebaseRecyclerOptions.Builder&lt;ItemModel&gt;()\r\n                                .setQuery(query, ItemModel.class)\r\n                                .build();\r\n\r\n                mainAdapter = new MainAdapter(options);\r\n                recentlyrecycleview.setAdapter(mainAdapter);\r\n                mainAdapter.startListening(); \r\n```\r\n\r\n\r\nI want to display each items with cards inside of recycleview. Items id have in &quot;recently_played&quot; child and get each items data from &quot;speeches&quot; child using items id. And i already created itemModel class and MainAdapter for retrive data to card.","title":"how to retrive data from firebase realtime database","body":"<p>I want to retrive data from firebase realtime database. in database have child called &quot;Users&quot; inside of that child have another child called &quot;recently_played&quot; inside of that have list of items only save items id in &quot;recently_played&quot; child.</p>\n<pre><code>if (currentUser != null) {\n                        String userId = currentUser.getUid();\n                        DatabaseReference recentlyPlayedRef = databaseReference.child(&quot;Users&quot;).child(userId).child(&quot;recently_played&quot;);      \n                        recentlyPlayedRef.child(itemid).setValue(true); \n\n                    } else {\n                        Toast.makeText(PlayActivity.this, &quot;Please log in to save as recently played.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n</code></pre>\n<p>And I created recyclerView for display each items. each items have details (title,speakers,duration,category). I want to implement get items id from &quot;recently_played&quot; child and I created another different child called &quot;speeches&quot; and all items data store inside of &quot;speeches&quot; child with ech itemid and get each items data from &quot;speeches&quot; child and display each items inside in recycleview with itemcards.I also created itemModel , mainAdapter classes for retrive data to cards(i also created card layout called &quot;single_item.xml&quot;). I tryed to implement this but it's not working. My mentioned bellow.</p>\n<pre><code>recentlyPlayedRef = FirebaseDatabase.getInstance().getReference()\n                        .child(&quot;Users&quot;)\n                        .child(currentUser.getUid())\n                        .child(&quot;recently_played&quot;);\n                Query query;\n                query = FirebaseDatabase.getInstance().getReference().child(&quot;speeches&quot;)\n                        .child(String.valueOf(recentlyPlayedRef));\n\n                FirebaseRecyclerOptions&lt;ItemModel&gt; options =\n                        new FirebaseRecyclerOptions.Builder&lt;ItemModel&gt;()\n                                .setQuery(query, ItemModel.class)\n                                .build();\n\n                mainAdapter = new MainAdapter(options);\n                recentlyrecycleview.setAdapter(mainAdapter);\n                mainAdapter.startListening(); \n</code></pre>\n<p>I want to display each items with cards inside of recycleview. Items id have in &quot;recently_played&quot; child and get each items data from &quot;speeches&quot; child using items id. And i already created itemModel class and MainAdapter for retrive data to card.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":174588,"reputation":3274,"user_id":404051,"accept_rate":92,"display_name":"Burleigh Bear"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1310938942,"creation_date":1310938942,"answer_id":6726973,"question_id":6726963,"body_markdown":"Try:\r\n\r\n    list[r.nextInt(list.length)];","title":"Random string from string array list","body":"<p>Try:</p>\n\n<pre><code>list[r.nextInt(list.length)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184840,"reputation":1492,"user_id":421137,"display_name":"roni bar yanai"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360015005,"creation_date":1310939106,"answer_id":6726990,"question_id":6726963,"body_markdown":"    list[Math.floor(r.nextFloat()*5.99)]","title":"Random string from string array list","body":"<pre><code>list[Math.floor(r.nextFloat()*5.99)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1980703,"reputation":140,"user_id":1777400,"accept_rate":43,"display_name":"BRK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360014992,"creation_date":1352002726,"answer_id":13216040,"question_id":6726963,"body_markdown":"    private void pickText(){ \r\n        textview textView1= (TextView) findViewById(R.Id.textView1)\r\n        Random eventPicker = new Randorn();\r\n        randomN = eventPicker.nextInt(3) +1; \r\n    \r\n        switch (randomN){ \r\n            case 1: Intent a textview1.setText(StringOne);\r\n            break; \r\n    \r\n            case 2: textview1.setText(StringTwo);\r\n            break; \r\n\r\nI typed it from my phone there&#39;s prob syntax errors but it works.","title":"Random string from string array list","body":"<pre><code>private void pickText(){ \n    textview textView1= (TextView) findViewById(R.Id.textView1)\n    Random eventPicker = new Randorn();\n    randomN = eventPicker.nextInt(3) +1; \n\n    switch (randomN){ \n        case 1: Intent a textview1.setText(StringOne);\n        break; \n\n        case 2: textview1.setText(StringTwo);\n        break; \n</code></pre>\n\n<p>I typed it from my phone there's prob syntax errors but it works.</p>\n"},{"tags":[],"owner":{"account_id":7936007,"reputation":11,"user_id":5991997,"display_name":"Mike H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456927203,"creation_date":1456705117,"answer_id":35690062,"question_id":6726963,"body_markdown":"Ran into a similar problem with pulling a random string from a string array.\r\nFound this to work fairly well, I applied it to a button action so with every click a random is drawn(I found with any array size there are multiple instances of the same string being drawn consecutively throughout):\r\n \r\n    import java.util.*;\r\n    import java.util.Random.*;\r\n    \r\n    class Countries {\r\n    \tpublic Random g2 = new Random();\r\n    \tpublic String[] list = new String[] { &quot;Finland&quot;, &quot;Russia&quot;,\r\n    \t\t\t&quot;Latvia&quot;, &quot;Lithuania&quot;, &quot;Poland&quot; };\r\n    \tString random2;\r\n    }\r\n\r\n    // Applied to a button action:\r\n    int INDEXn = g2.nextInt(list.length);\r\n    for (int i2 = 0; i2 &lt; INDEXn; i2++) {\r\n    \trandom2 = (String) (list[INDEXn]);\r\n   \t}\r\n   \tSystem.out.println(random2 + &#39;\\n&#39;);\r\n\r\nThe `g2` random that is being used by `INDEXn` is calling a random integer, in this case the defined strings are turned into integer values, from the String array `list`.\r\nThe for-loop is cycling through the String array one time.\r\nThe random2 string is converting the chosen integer from `INDEXn` to the appropriate string variable in (`list[INDEXn]`).","title":"Random string from string array list","body":"<p>Ran into a similar problem with pulling a random string from a string array.\nFound this to work fairly well, I applied it to a button action so with every click a random is drawn(I found with any array size there are multiple instances of the same string being drawn consecutively throughout):</p>\n\n<pre><code>import java.util.*;\nimport java.util.Random.*;\n\nclass Countries {\n    public Random g2 = new Random();\n    public String[] list = new String[] { \"Finland\", \"Russia\",\n            \"Latvia\", \"Lithuania\", \"Poland\" };\n    String random2;\n}\n\n// Applied to a button action:\nint INDEXn = g2.nextInt(list.length);\nfor (int i2 = 0; i2 &lt; INDEXn; i2++) {\n    random2 = (String) (list[INDEXn]);\n}\nSystem.out.println(random2 + '\\n');\n</code></pre>\n\n<p>The <code>g2</code> random that is being used by <code>INDEXn</code> is calling a random integer, in this case the defined strings are turned into integer values, from the String array <code>list</code>.\nThe for-loop is cycling through the String array one time.\nThe random2 string is converting the chosen integer from <code>INDEXn</code> to the appropriate string variable in (<code>list[INDEXn]</code>).</p>\n"},{"tags":[],"owner":{"account_id":10314434,"reputation":41,"user_id":7609155,"display_name":"Prthbiraj Chouhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489118714,"creation_date":1489118714,"answer_id":42710019,"question_id":6726963,"body_markdown":"    static String getRandomString(){\r\n    \t\tint r = (int) (Math.random()*5);\r\n    \t\tString name = new String [] {&quot;India&quot;,&quot;USA&quot;,&quot;UK&quot;,&quot;Russia&quot;}[r];\r\n    \t\treturn name;\r\n    \t}","title":"Random string from string array list","body":"<pre><code>static String getRandomString(){\n        int r = (int) (Math.random()*5);\n        String name = new String [] {\"India\",\"USA\",\"UK\",\"Russia\"}[r];\n        return name;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9649253,"reputation":2644,"user_id":7160898,"display_name":"Jimale Abdi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561803622,"creation_date":1556700227,"answer_id":55933687,"question_id":6726963,"body_markdown":"The accepted answers is not working for me the solution worked for me is \r\n\r\n    List&lt;String&gt; myList = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\nSuppose you have this above `ArrayList` and you want to randomize it \r\n\r\n        Random r = new Random();\r\n\r\n        int randomitem = r.nextInt(myList.size());\r\n        String randomElement = myList.get(randomitem);\r\nIf you print this `randomElement ` variable you will get random string from your `ArrayList`","title":"Random string from string array list","body":"<p>The accepted answers is not working for me the solution worked for me is </p>\n\n<pre><code>List&lt;String&gt; myList = Arrays.asList(\"A\", \"B\", \"C\", \"D\");\n</code></pre>\n\n<p>Suppose you have this above <code>ArrayList</code> and you want to randomize it </p>\n\n<pre><code>    Random r = new Random();\n\n    int randomitem = r.nextInt(myList.size());\n    String randomElement = myList.get(randomitem);\n</code></pre>\n\n<p>If you print this <code>randomElement</code> variable you will get random string from your <code>ArrayList</code></p>\n"},{"tags":[],"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560163747,"creation_date":1560163747,"answer_id":56524951,"question_id":6726963,"body_markdown":"Here&#39;s a solution in 1 line:\r\n\r\n```String country = new String[] {&quot;Finland&quot;, &quot;Russia&quot;, &quot;Latvia&quot;, &quot;Lithuania&quot;, &quot;Poland&quot;}[(int)(Math.random()*5)];```\r\n\r\n","title":"Random string from string array list","body":"<p>Here's a solution in 1 line:</p>\n\n<p><code>String country = new String[] {\"Finland\", \"Russia\", \"Latvia\", \"Lithuania\", \"Poland\"}[(int)(Math.random()*5)];</code></p>\n"},{"tags":[],"owner":{"account_id":23204408,"reputation":1,"user_id":17298821,"display_name":"Isaac King"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635874791,"creation_date":1635761337,"answer_id":69795398,"question_id":6726963,"body_markdown":"import java.util.Random;\r\npublic static void main (String [] args){\r\n\r\n// For this code, we are trying to pic a random day from days\r\n\r\n\r\n    String [] days = {&quot;Sunday&quot;,&quot;Monday&quot;,\r\n                &quot;Tuesday&quot;,\r\n                &quot;Wednesday&quot;,\r\n                &quot;Thursday&quot;,\r\n                &quot;Friday&quot;,\r\n                &quot;Saturday&quot;};\r\n    \r\n    Random rand = new Random();\r\n    \r\n    int Rand_item = rand.nextInt(days.length);\r\n    \r\n    System.out.println(days[Rand_item]);\r\n\r\n}\r\n```","title":"Random string from string array list","body":"<p>import java.util.Random;\npublic static void main (String [] args){</p>\n<p>// For this code, we are trying to pic a random day from days</p>\n<pre><code>String [] days = {&quot;Sunday&quot;,&quot;Monday&quot;,\n            &quot;Tuesday&quot;,\n            &quot;Wednesday&quot;,\n            &quot;Thursday&quot;,\n            &quot;Friday&quot;,\n            &quot;Saturday&quot;};\n\nRandom rand = new Random();\n\nint Rand_item = rand.nextInt(days.length);\n\nSystem.out.println(days[Rand_item]);\n</code></pre>\n<p>}</p>\n<pre><code></code></pre>\n"}],"owner":{"account_id":217643,"reputation":8144,"user_id":473539,"accept_rate":97,"display_name":"Badr Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64976,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6726973,"answer_count":8,"score":16,"last_activity_date":1695482387,"creation_date":1310938797,"question_id":6726963,"body_markdown":"I have list of countries in my array, I would like to pick random country from the list (using random probably?), but I haven&#39;t found out the answer myself...\r\n\r\nThis is what I have so far:\r\n\r\n    String[] list = {&quot;Finland&quot;, &quot;Russia&quot;, &quot;Latvia&quot;, &quot;Lithuania&quot;, &quot;Poland&quot;};\r\n    Random r = new Random();","title":"Random string from string array list","body":"<p>I have list of countries in my array, I would like to pick random country from the list (using random probably?), but I haven't found out the answer myself...</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>String[] list = {\"Finland\", \"Russia\", \"Latvia\", \"Lithuania\", \"Poland\"};\nRandom r = new Random();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1695405433,"post_id":77158962,"comment_id":136025015,"body_markdown":"Yes, in order to display the content every x seconds you&#39;ll have to run the update asynchronously. As you&#39;ll ask the user to make a choice you&#39;ll have to then display different branch of your story. How did you plan to manage that part?","body":"Yes, in order to display the content every x seconds you&#39;ll have to run the update asynchronously. As you&#39;ll ask the user to make a choice you&#39;ll have to then display different branch of your story. How did you plan to manage that part?"},{"owner":{"account_id":25316790,"reputation":25,"user_id":19138772,"display_name":"Mikhail Gorbov"},"score":0,"creation_date":1695487923,"post_id":77158962,"comment_id":136032361,"body_markdown":"Thank you for your reply! I thought that Android Studio has built-in components that allow me to implement my idea without using asynchronous methods. Apparently, this is not the case.","body":"Thank you for your reply! I thought that Android Studio has built-in components that allow me to implement my idea without using asynchronous methods. Apparently, this is not the case."}],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695482183,"creation_date":1695482183,"answer_id":77163652,"question_id":77158962,"body_markdown":"Try using handler like this:\r\n\r\n    public class GameMain extends AppCompatActivity {\r\n        private ListView mainList;\r\n        private ArrayAdapter&lt;String&gt; adapter;\r\n        private String[] listText;\r\n        private int currentIndex = 0;\r\n        private Button button1;\r\n    \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_game_main);\r\n    \r\n            mainList = findViewById(R.id.list_of_text);\r\n            adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\r\n            listText = new String[] {\r\n                &quot;Text1&quot;,\r\n                &quot;Text2&quot;,\r\n                &quot;Text3&quot;,\r\n            };\r\n    \r\n            mainList.setAdapter(adapter);\r\n            button1 = findViewById(R.id.button_main_1);\r\n            button1.setVisibility(View.INVISIBLE);\r\n    \r\n            displayTextWithDelay();\r\n        }\r\n    \r\n        private void displayTextWithDelay() {\r\n            if (currentIndex &lt; listText.length) {\r\n                adapter.add(listText[currentIndex]);\r\n                currentIndex++;\r\n    \r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        displayTextWithDelay();\r\n                    }\r\n                }, 1000);\r\n            } else {\r\n                button1.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Displaying text on the screen with a delay (Android Studio)","body":"<p>Try using handler like this:</p>\n<pre><code>public class GameMain extends AppCompatActivity {\n    private ListView mainList;\n    private ArrayAdapter&lt;String&gt; adapter;\n    private String[] listText;\n    private int currentIndex = 0;\n    private Button button1;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game_main);\n\n        mainList = findViewById(R.id.list_of_text);\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\n        listText = new String[] {\n            &quot;Text1&quot;,\n            &quot;Text2&quot;,\n            &quot;Text3&quot;,\n        };\n\n        mainList.setAdapter(adapter);\n        button1 = findViewById(R.id.button_main_1);\n        button1.setVisibility(View.INVISIBLE);\n\n        displayTextWithDelay();\n    }\n\n    private void displayTextWithDelay() {\n        if (currentIndex &lt; listText.length) {\n            adapter.add(listText[currentIndex]);\n            currentIndex++;\n\n            new Handler().postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    displayTextWithDelay();\n                }\n            }, 1000);\n        } else {\n            button1.setVisibility(View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25316790,"reputation":25,"user_id":19138772,"display_name":"Mikhail Gorbov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77163652,"answer_count":1,"score":0,"last_activity_date":1695482183,"creation_date":1695396578,"question_id":77158962,"body_markdown":"Hello everyone I recently started development in Android Studio and ran into a problem. I am developing a text novel by analogy with lifeLine. The bottom line is that the text of the story is displayed on the screen with a slight delay. I want the gameplay to be like a chat in a messenger. When the text from the array is fully displayed on the screen, from 2 to 5 buttons with the choice of action should be displayed. \r\n\r\nNow I will describe the problem. To display the text, I use the ListView component. If I add a delay of 1 second to the loop, then the text will not be displayed sequentially, but will be displayed completely. And I would like the text to be displayed sequentially with a delay of 1 second. I tried using a handler and it helped. However, when I want to display the buttons after the loop ends, it doesn&#39;t work and the button is displayed immediately. I understand why this is happening. \r\n\r\nBut I have a question - is it possible to abandon the use of multithreading? What is the best way to implement my idea?\r\n\r\nMain Class:\r\n```\r\npublic class GameMain extends AppCompatActivity {\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game_main);\r\n\r\n        ListView mainList = findViewById(R.id.list_of_text);\r\n        //NewGame newGame = new NewGame();\r\n        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1);\r\n\r\n        String[] listText = {\r\n                &quot;Text1&quot;,\r\n                &quot;Text2&quot;,\r\n                &quot;Text3&quot;,\r\n        };\r\n\r\n        mainList.setAdapter(adapter);\r\n        SetTextOnDisplay textOnDisplay = new SetTextOnDisplay();\r\n        textOnDisplay.displayTextSequentially(listText, adapter);\r\n\r\n        Button button1 = findViewById(R.id.button_main_1);\r\n        button1.setVisibility(View.VISIBLE);\r\n    }\r\n}\r\n```\r\nThe class for displaying text:\r\n```\r\npublic class SetTextOnDisplay extends Thread {\r\n    public void displayTextSequentially(final String[] listText, final ArrayAdapter&lt;String&gt; adapter) {\r\n        final Handler handler = new Handler();\r\n        int delay = 500;\r\n\r\n        for (int i = 0; i &lt; listText.length; i++) {\r\n            final int index = i;\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    adapter.add(listText[index]);\r\n                    if (index == listText.length) {\r\n                        //Button button1 = findViewById(R.id.button_main_1);\r\n                        //button1.setVisibility(View.VISIBLE);\r\n                    }\r\n                }\r\n            }, delay * i);\r\n        }\r\n    }\r\n}\r\n```","title":"Displaying text on the screen with a delay (Android Studio)","body":"<p>Hello everyone I recently started development in Android Studio and ran into a problem. I am developing a text novel by analogy with lifeLine. The bottom line is that the text of the story is displayed on the screen with a slight delay. I want the gameplay to be like a chat in a messenger. When the text from the array is fully displayed on the screen, from 2 to 5 buttons with the choice of action should be displayed.</p>\n<p>Now I will describe the problem. To display the text, I use the ListView component. If I add a delay of 1 second to the loop, then the text will not be displayed sequentially, but will be displayed completely. And I would like the text to be displayed sequentially with a delay of 1 second. I tried using a handler and it helped. However, when I want to display the buttons after the loop ends, it doesn't work and the button is displayed immediately. I understand why this is happening.</p>\n<p>But I have a question - is it possible to abandon the use of multithreading? What is the best way to implement my idea?</p>\n<p>Main Class:</p>\n<pre><code>public class GameMain extends AppCompatActivity {\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game_main);\n\n        ListView mainList = findViewById(R.id.list_of_text);\n        //NewGame newGame = new NewGame();\n        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1);\n\n        String[] listText = {\n                &quot;Text1&quot;,\n                &quot;Text2&quot;,\n                &quot;Text3&quot;,\n        };\n\n        mainList.setAdapter(adapter);\n        SetTextOnDisplay textOnDisplay = new SetTextOnDisplay();\n        textOnDisplay.displayTextSequentially(listText, adapter);\n\n        Button button1 = findViewById(R.id.button_main_1);\n        button1.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n<p>The class for displaying text:</p>\n<pre><code>public class SetTextOnDisplay extends Thread {\n    public void displayTextSequentially(final String[] listText, final ArrayAdapter&lt;String&gt; adapter) {\n        final Handler handler = new Handler();\n        int delay = 500;\n\n        for (int i = 0; i &lt; listText.length; i++) {\n            final int index = i;\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    adapter.add(listText[index]);\n                    if (index == listText.length) {\n                        //Button button1 = findViewById(R.id.button_main_1);\n                        //button1.setVisibility(View.VISIBLE);\n                    }\n                }\n            }, delay * i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sdk","openoffice.org","uno"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1693842974,"post_id":77039105,"comment_id":135810295,"body_markdown":"Please don&#39;t post images of code, logs, errors, or other text; see [ask]. Speaking of: what error do you get exactly? Can you [edit] your question and add the error, maybe with stack trace?","body":"Please don&#39;t post images of code, logs, errors, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Speaking of: what error do you get exactly? Can you <a href=\"https://stackoverflow.com/posts/77039105/edit\">edit</a> your question and add the error, maybe with stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":20578182,"reputation":111,"user_id":15104908,"display_name":"Madhu Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695482155,"creation_date":1695482155,"answer_id":77163648,"question_id":77039105,"body_markdown":"[![Adding soffice path][1]][1]\r\n\r\nAdd the path of the soffice in your project dependency, and it will work. In my case it was `/opt/Libreoffice7.6/program/`\r\n\r\n  [1]: https://i.stack.imgur.com/Y5Tj2.png","title":"Error While Loading Document using OpenOffice SDK in JAVA","body":"<p><a href=\"https://i.stack.imgur.com/Y5Tj2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5Tj2.png\" alt=\"Adding soffice path\" /></a></p>\n<p>Add the path of the soffice in your project dependency, and it will work. In my case it was <code>/opt/Libreoffice7.6/program/</code></p>\n"}],"owner":{"account_id":20578182,"reputation":111,"user_id":15104908,"display_name":"Madhu Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":77163648,"answer_count":1,"score":-1,"last_activity_date":1695482155,"creation_date":1693842180,"question_id":77039105,"body_markdown":"I&#39;m trying to Load a document using OpenOffice SDK in JAVA. I&#39;m Using `XComponentContext xContext = Bootstrap.bootstrap()`, and trying to get the remote office component context of OpenOffice through Java. But it raises the exception `no office executable`.\r\n\r\nI have attached my JAVA code, openOffice SDK path, and Java JDK path. The version of OpenOffice is `4.1.14`, machine is `MacOS x86_64` and `Java version 8`\r\n\r\n\r\nPath of OpenOffice sdk in my local:\r\n![Path of OpenOffice sdk in my local][1] \r\n\r\nError message: no office executable found\r\n![Error message: no office executable found][2]\r\n\r\nLocation of OpenOffice SDK - `/Users/madhup/Desktop/OpenOffice_SDK`  \r\n\r\nJava JDK Path - `/Library/Java/JavaVirtualMachines/jdk1.8.0_321.jdk/Contents/Home/bin/javac` \r\n\r\nzshrc profile: \r\n![zshrc profile][3] \r\n\r\nJava code:  \r\n```\r\nimport com.sun.star.beans.PropertyValue;\r\nimport com.sun.star.comp.helper.Bootstrap;\r\nimport com.sun.star.frame.XComponentLoader;\r\nimport com.sun.star.lang.XComponent;\r\nimport com.sun.star.uno.UnoRuntime;\r\n\r\nimport com.sun.star.uno.XComponentContext;\r\nimport com.sun.star.comp.helper.BootstrapException;\r\npublic class LoadDocument {\r\n    public static void main(String[] args) throws BootstrapException {\r\n        try {\r\n            XComponentContext  xContext = Bootstrap.bootstrap();\r\n\r\n            com.sun.star.lang.XMultiComponentFactory xMCF = xContext.getServiceManager();\r\n\r\n            Object oDesktop = xMCF.createInstanceWithContext(\r\n                    &quot;com.sun.star.frame.Desktop&quot;, xContext);\r\n\r\n            XComponentLoader xCompLoader = (XComponentLoader) UnoRuntime.queryInterface(\r\n                    XComponentLoader.class, oDesktop);\r\n\r\n            String documentURL = &quot;file:///Users/path_to_file/hello.odt&quot;;\r\n\r\n            PropertyValue[] loadProps = new PropertyValue[0];\r\n\r\n            XComponent xComponent = xCompLoader.loadComponentFromURL(\r\n                    documentURL, &quot;_blank&quot;, 0, loadProps);\r\n\r\n            if (xComponent != null) {\r\nzshrc profile paths                System.out.println(&quot;Document loaded successfully.&quot;);\r\n                xComponent.dispose();\r\n            } else {\r\n                System.out.println(&quot;Failed to load the document.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPom file:\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\r\n            &lt;artifactId&gt;unoil&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\r\n            &lt;artifactId&gt;juh&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jurt&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ridl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\r\n            &lt;artifactId&gt;officebean&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.jeremysolarz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n```\r\nI&#39;ve already explored, set the SDK path, and added the classpath as mentioned in https://stackoverflow.com/questions/14157644/no-office-executable-found-exception-while-connecting-to-openoffice-through-java/59337721#59337721 and still getting the error.\r\n\r\nPlease help in resolving this problem. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ROUhU.jpg\r\n  [2]: https://i.stack.imgur.com/GSws7.png\r\n  [3]: https://i.stack.imgur.com/bCHRW.png","title":"Error While Loading Document using OpenOffice SDK in JAVA","body":"<p>I'm trying to Load a document using OpenOffice SDK in JAVA. I'm Using <code>XComponentContext xContext = Bootstrap.bootstrap()</code>, and trying to get the remote office component context of OpenOffice through Java. But it raises the exception <code>no office executable</code>.</p>\n<p>I have attached my JAVA code, openOffice SDK path, and Java JDK path. The version of OpenOffice is <code>4.1.14</code>, machine is <code>MacOS x86_64</code> and <code>Java version 8</code></p>\n<p>Path of OpenOffice sdk in my local:\n<img src=\"https://i.stack.imgur.com/ROUhU.jpg\" alt=\"Path of OpenOffice sdk in my local\" /></p>\n<p>Error message: no office executable found\n<img src=\"https://i.stack.imgur.com/GSws7.png\" alt=\"Error message: no office executable found\" /></p>\n<p>Location of OpenOffice SDK - <code>/Users/madhup/Desktop/OpenOffice_SDK</code></p>\n<p>Java JDK Path - <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_321.jdk/Contents/Home/bin/javac</code></p>\n<p>zshrc profile:\n<img src=\"https://i.stack.imgur.com/bCHRW.png\" alt=\"zshrc profile\" /></p>\n<p>Java code:</p>\n<pre><code>import com.sun.star.beans.PropertyValue;\nimport com.sun.star.comp.helper.Bootstrap;\nimport com.sun.star.frame.XComponentLoader;\nimport com.sun.star.lang.XComponent;\nimport com.sun.star.uno.UnoRuntime;\n\nimport com.sun.star.uno.XComponentContext;\nimport com.sun.star.comp.helper.BootstrapException;\npublic class LoadDocument {\n    public static void main(String[] args) throws BootstrapException {\n        try {\n            XComponentContext  xContext = Bootstrap.bootstrap();\n\n            com.sun.star.lang.XMultiComponentFactory xMCF = xContext.getServiceManager();\n\n            Object oDesktop = xMCF.createInstanceWithContext(\n                    &quot;com.sun.star.frame.Desktop&quot;, xContext);\n\n            XComponentLoader xCompLoader = (XComponentLoader) UnoRuntime.queryInterface(\n                    XComponentLoader.class, oDesktop);\n\n            String documentURL = &quot;file:///Users/path_to_file/hello.odt&quot;;\n\n            PropertyValue[] loadProps = new PropertyValue[0];\n\n            XComponent xComponent = xCompLoader.loadComponentFromURL(\n                    documentURL, &quot;_blank&quot;, 0, loadProps);\n\n            if (xComponent != null) {\nzshrc profile paths                System.out.println(&quot;Document loaded successfully.&quot;);\n                xComponent.dispose();\n            } else {\n                System.out.println(&quot;Failed to load the document.&quot;);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Pom file:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\n            &lt;artifactId&gt;unoil&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\n            &lt;artifactId&gt;juh&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\n            &lt;artifactId&gt;jurt&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\n            &lt;artifactId&gt;ridl&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openoffice&lt;/groupId&gt;\n            &lt;artifactId&gt;officebean&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.jeremysolarz&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap-connector&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>I've already explored, set the SDK path, and added the classpath as mentioned in <a href=\"https://stackoverflow.com/questions/14157644/no-office-executable-found-exception-while-connecting-to-openoffice-through-java/59337721#59337721\">No office executable found exception while connecting to OpenOffice through Java</a> and still getting the error.</p>\n<p>Please help in resolving this problem.</p>\n"},{"tags":["java","collections","hashmap","guava","multimap"],"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":1,"creation_date":1655851784,"post_id":72707848,"comment_id":128428822,"body_markdown":"`if (value != null)`","body":"<code>if (value != null)</code>"}],"answers":[{"tags":[],"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672244918,"creation_date":1655852423,"answer_id":72707945,"question_id":72707848,"body_markdown":"You can use a [ternary operator][1]:\r\n\r\n```\r\ndata.forEach((key, value) -&gt; System.out.println(&quot;[&quot; + key + &quot;]&quot; + &quot; &quot; + value != null ? value : &quot;{ Put whatever default value you&#39;d like here or leave empty }&quot;);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/%3F:\r\n","title":"Remove &#39;null&#39; from LinkedListMultimap in Java","body":"<p>You can use a <a href=\"https://en.wikipedia.org/wiki/%3F:\" rel=\"nofollow noreferrer\">ternary operator</a>:</p>\n<pre><code>data.forEach((key, value) -&gt; System.out.println(&quot;[&quot; + key + &quot;]&quot; + &quot; &quot; + value != null ? value : &quot;{ Put whatever default value you'd like here or leave empty }&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655973889,"creation_date":1655853253,"answer_id":72708019,"question_id":72707848,"body_markdown":"&gt; I want to remove the `null` values when printing or saving in a file\r\n\r\nStoring and retaining `null` in the collection doesn&#39;t make any sense (*`null` - represents the absence of data, it can&#39;t give any useful information*), it&#39;s an **antipattern**.\r\n\r\nTo remove `null` values from the map - perform a bulk removal on a collection of values using `removeIf()`.\r\n\r\nAs well as with standard map to obtain a collection of values, you can use [`values()`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html#values--) method. As specified in the documentation, it returns a *view* over the values of the map and not an independent collection. And all the changes done to it, will be reflected in the map.\r\n\r\n&gt; Changes to the returned collection will update the underlying\r\n&gt; multimap, and vice versa.\r\n\r\nThat&#39;s how it can be done.\r\n\r\n```\r\nMultimap&lt;String, String&gt; data = // initializing multimap\r\n\r\ndata.values().removeIf(Objects::isNull); // removing null values\r\n\r\ndata.forEach((k, v) -&gt; System.out.println( ... )); // printin the Multimap\r\n```","title":"Remove &#39;null&#39; from LinkedListMultimap in Java","body":"<blockquote>\n<p>I want to remove the <code>null</code> values when printing or saving in a file</p>\n</blockquote>\n<p>Storing and retaining <code>null</code> in the collection doesn't make any sense (<em><code>null</code> - represents the absence of data, it can't give any useful information</em>), it's an <strong>antipattern</strong>.</p>\n<p>To remove <code>null</code> values from the map - perform a bulk removal on a collection of values using <code>removeIf()</code>.</p>\n<p>As well as with standard map to obtain a collection of values, you can use <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html#values--\" rel=\"nofollow noreferrer\"><code>values()</code></a> method. As specified in the documentation, it returns a <em>view</em> over the values of the map and not an independent collection. And all the changes done to it, will be reflected in the map.</p>\n<blockquote>\n<p>Changes to the returned collection will update the underlying\nmultimap, and vice versa.</p>\n</blockquote>\n<p>That's how it can be done.</p>\n<pre><code>Multimap&lt;String, String&gt; data = // initializing multimap\n\ndata.values().removeIf(Objects::isNull); // removing null values\n\ndata.forEach((k, v) -&gt; System.out.println( ... )); // printin the Multimap\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14505720,"reputation":1,"user_id":10577031,"display_name":"Sergey Sergeev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695292240,"creation_date":1695292240,"answer_id":77149425,"question_id":72707848,"body_markdown":"Something is missing in the code above. Actually it should be like this:\r\n\r\n    map.values().removeIf(values -&gt; values.stream().anyMatch(Objects::isNull));","title":"Remove &#39;null&#39; from LinkedListMultimap in Java","body":"<p>Something is missing in the code above. Actually it should be like this:</p>\n<pre><code>map.values().removeIf(values -&gt; values.stream().anyMatch(Objects::isNull));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11803185,"reputation":592,"user_id":8636342,"display_name":"Jeet Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695481389,"creation_date":1695481389,"answer_id":77163591,"question_id":72707848,"body_markdown":"To achieve the expected output and remove entries with `null` values from your `LinkedListMultimap`, you can filter out the `null` values while printing the entries. Here&#39;s how you can do it:\r\n\r\n```java\r\nimport com.google.common.collect.LinkedListMultimap;\r\nimport com.google.common.collect.Multimap;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Multimap&lt;String, String&gt; data = LinkedListMultimap.create();\r\n        data.put(&quot;NAME&quot;, getName());\r\n        data.put(&quot;AGE&quot;, getAge());\r\n        data.put(&quot;DEPARTMENT&quot;, getDepartment());\r\n\r\n        data.entries().stream()\r\n            .filter(entry -&gt; entry.getValue() != null)\r\n            .forEach(entry -&gt; System.out.println(&quot;[&quot; + entry.getKey() + &quot;]&quot; + &quot; &quot; + entry.getValue()));\r\n    }\r\n\r\n    // Your getName, getAge, and getDepartment methods here\r\n\r\n}\r\n```\r\n\r\nIn this code, we use the `entries()` method of the `Multimap` to get all the key-value pairs as a collection of `Map.Entry` objects. Then, we stream over these entries, filtering out those where the value is not `null`, and print the remaining entries.\r\n\r\nThis way, you&#39;ll get the expected output without any entries containing `null` values.","title":"Remove &#39;null&#39; from LinkedListMultimap in Java","body":"<p>To achieve the expected output and remove entries with <code>null</code> values from your <code>LinkedListMultimap</code>, you can filter out the <code>null</code> values while printing the entries. Here's how you can do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.collect.LinkedListMultimap;\nimport com.google.common.collect.Multimap;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Multimap&lt;String, String&gt; data = LinkedListMultimap.create();\n        data.put(&quot;NAME&quot;, getName());\n        data.put(&quot;AGE&quot;, getAge());\n        data.put(&quot;DEPARTMENT&quot;, getDepartment());\n\n        data.entries().stream()\n            .filter(entry -&gt; entry.getValue() != null)\n            .forEach(entry -&gt; System.out.println(&quot;[&quot; + entry.getKey() + &quot;]&quot; + &quot; &quot; + entry.getValue()));\n    }\n\n    // Your getName, getAge, and getDepartment methods here\n\n}\n</code></pre>\n<p>In this code, we use the <code>entries()</code> method of the <code>Multimap</code> to get all the key-value pairs as a collection of <code>Map.Entry</code> objects. Then, we stream over these entries, filtering out those where the value is not <code>null</code>, and print the remaining entries.</p>\n<p>This way, you'll get the expected output without any entries containing <code>null</code> values.</p>\n"}],"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1695481389,"creation_date":1655851369,"question_id":72707848,"body_markdown":"I have the below code, and I want to remove the &#39;null&#39; values when printing or saving in a file.\r\n\r\nThere are times I don&#39;t have to pass any values to a variable. So, in those cases, I need the keys printed, but without any &#39;null&#39;. How can I do that?\r\n\r\nI have to use `LinkedListMultimap` as I may have duplicate keys and want to keep the order of entry to the map.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Multimap&lt;String, String&gt; data = LinkedListMultimap.create();\r\n        data.put(&quot;NAME&quot;, getName());\r\n        data.put(&quot;AGE&quot;, getAge());\r\n        data.put(&quot;DEPARTMENT&quot;, getDepartment());\r\n\r\n        data.forEach((key, value) -&gt; System.out.println(&quot;[&quot; + key + &quot;]&quot; + &quot; &quot; + value));\r\n    }\r\n\r\nCurrent output:\r\n\r\n```lang-none\r\n[NAME] Joe\r\n[AGE] 25\r\n[DEPARTMENT] null\r\n```\r\n\r\nExpected output:\r\n\r\n```lang-none\r\n[NAME] Joe\r\n[AGE] 25\r\n[DEPARTMENT]\r\n```\r\n\r\n","title":"Remove &#39;null&#39; from LinkedListMultimap in Java","body":"<p>I have the below code, and I want to remove the 'null' values when printing or saving in a file.</p>\n<p>There are times I don't have to pass any values to a variable. So, in those cases, I need the keys printed, but without any 'null'. How can I do that?</p>\n<p>I have to use <code>LinkedListMultimap</code> as I may have duplicate keys and want to keep the order of entry to the map.</p>\n<pre><code>public static void main(String[] args) {\n\n    Multimap&lt;String, String&gt; data = LinkedListMultimap.create();\n    data.put(&quot;NAME&quot;, getName());\n    data.put(&quot;AGE&quot;, getAge());\n    data.put(&quot;DEPARTMENT&quot;, getDepartment());\n\n    data.forEach((key, value) -&gt; System.out.println(&quot;[&quot; + key + &quot;]&quot; + &quot; &quot; + value));\n}\n</code></pre>\n<p>Current output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[NAME] Joe\n[AGE] 25\n[DEPARTMENT] null\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[NAME] Joe\n[AGE] 25\n[DEPARTMENT]\n</code></pre>\n"},{"tags":["java","json","nullable","openapi","openapi-generator"],"comments":[{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1582794940,"post_id":60429225,"comment_id":106902455,"body_markdown":"Did you generate all your backend with openapi or you did just try to add this functionnality to an existing project?","body":"Did you generate all your backend with openapi or you did just try to add this functionnality to an existing project?"},{"owner":{"account_id":17857472,"reputation":31,"user_id":12971734,"display_name":"anotherNoob"},"score":0,"creation_date":1582798007,"post_id":60429225,"comment_id":106904118,"body_markdown":"This is an existing project, in which the rest api is generated by defining the interface(s) in an YAML file, then generating Java classes from it using the maven plugin. I added the nullable attribute to the YAML file, then ran the plugin and moved the generated classes to their appropriate places.","body":"This is an existing project, in which the rest api is generated by defining the interface(s) in an YAML file, then generating Java classes from it using the maven plugin. I added the nullable attribute to the YAML file, then ran the plugin and moved the generated classes to their appropriate places."},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1582800517,"post_id":60429225,"comment_id":106905523,"body_markdown":"Ok, but did you replaced only models/interfaces?  I know there&#39;s some configuration comming with this feature, like a bean providing a `JsonNullableModule`","body":"Ok, but did you replaced only models/interfaces?  I know there&#39;s some configuration comming with this feature, like a bean providing a <code>JsonNullableModule</code>"},{"owner":{"account_id":17857472,"reputation":31,"user_id":12971734,"display_name":"anotherNoob"},"score":0,"creation_date":1582801052,"post_id":60429225,"comment_id":106905791,"body_markdown":"I did notice a similar problem in which the solution was to register JsonNullableModule (https://stackoverflow.com/questions/58800701/jsonnullable-is-not-serializing-its-value-with-jackson), but I&#39;m unsure how to do it in this context. There isn&#39;t that much code coming with the code generation, apart from the model and interface packages.","body":"I did notice a similar problem in which the solution was to register JsonNullableModule (<a href=\"https://stackoverflow.com/questions/58800701/jsonnullable-is-not-serializing-its-value-with-jackson\" title=\"jsonnullable is not serializing its value with jackson\">stackoverflow.com/questions/58800701/&hellip;</a>), but I&#39;m unsure how to do it in this context. There isn&#39;t that much code coming with the code generation, apart from the model and interface packages."},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1582803009,"post_id":60429225,"comment_id":106906847,"body_markdown":"I suggest you to download the openapi-generator-cli (last release) and generate a spring project with a simple API spec with some nullable models. From it you will be able to see how to configure your existing project to be able to use JsonNullable properly","body":"I suggest you to download the openapi-generator-cli (last release) and generate a spring project with a simple API spec with some nullable models. From it you will be able to see how to configure your existing project to be able to use JsonNullable properly"},{"owner":{"account_id":17857472,"reputation":31,"user_id":12971734,"display_name":"anotherNoob"},"score":0,"creation_date":1582804265,"post_id":60429225,"comment_id":106907582,"body_markdown":"As I inspected the configuration options closely, I noticed there was this:","body":"As I inspected the configuration options closely, I noticed there was this:"},{"owner":{"account_id":17857472,"reputation":31,"user_id":12971734,"display_name":"anotherNoob"},"score":0,"creation_date":1582804302,"post_id":60429225,"comment_id":106907608,"body_markdown":"&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;, setting it to false generated the rest of the code and I was able to figure out where the definition belonged","body":"&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;, setting it to false generated the rest of the code and I was able to figure out where the definition belonged"},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1582805731,"post_id":60429225,"comment_id":106908362,"body_markdown":"Nice! You can post what you&#39;ve done to resolve your issue and accept it as solution. It will be useful for other developers having the same troubles","body":"Nice! You can post what you&#39;ve done to resolve your issue and accept it as solution. It will be useful for other developers having the same troubles"},{"owner":{"account_id":15684159,"reputation":151,"user_id":11317335,"display_name":"denfri.dev"},"score":3,"creation_date":1599208985,"post_id":60429225,"comment_id":112709098,"body_markdown":"hi i am having the same issue, what was the solution?","body":"hi i am having the same issue, what was the solution?"}],"answers":[{"tags":[],"owner":{"account_id":46365,"reputation":4722,"user_id":136913,"accept_rate":89,"display_name":"Maniganda Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621203344,"creation_date":1621203344,"answer_id":67562007,"question_id":60429225,"body_markdown":"A property can be mentioned as `nullable` to pass null value in openApi.\r\nOpenApi generator wraps the datatype with JsonNullable as shown below.\r\n\r\n    private JsonNullable&lt;String&gt; firstField = JsonNullable.undefined();\r\n\r\nThe response you mentioned in your question says that the property is present but not the real value, this happens when the object is not serialized correctly. Just by registering `JsonNullableModule` should instruct how to serialize the parser such as jackson.\r\n\r\n    @Bean\r\n    public Module jsonNullableModule() {\r\n       return new JsonNullableModule();\r\n    }\r\nAt least in the version `org.openapitools:jackson-databind-nullable:0.2.1` I do not see such issues, meant no need to register the above been explicitly as it is take care by the library itself.","title":"Openapi generator maven plugin nullable property problem","body":"<p>A property can be mentioned as <code>nullable</code> to pass null value in openApi.\nOpenApi generator wraps the datatype with JsonNullable as shown below.</p>\n<pre><code>private JsonNullable&lt;String&gt; firstField = JsonNullable.undefined();\n</code></pre>\n<p>The response you mentioned in your question says that the property is present but not the real value, this happens when the object is not serialized correctly. Just by registering <code>JsonNullableModule</code> should instruct how to serialize the parser such as jackson.</p>\n<pre><code>@Bean\npublic Module jsonNullableModule() {\n   return new JsonNullableModule();\n}\n</code></pre>\n<p>At least in the version <code>org.openapitools:jackson-databind-nullable:0.2.1</code> I do not see such issues, meant no need to register the above been explicitly as it is take care by the library itself.</p>\n"},{"tags":[],"owner":{"account_id":5581952,"reputation":125,"user_id":4423575,"display_name":"stergipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649416300,"creation_date":1649416300,"answer_id":71795997,"question_id":60429225,"body_markdown":"Thanks to the help of @maniganda-prakash I was able to resolve my issue by registering the module in a custom `ObjectMapper` that is used by the `RestTemplate`. \r\n\r\nSomething like this:\r\n\r\n```java\r\nvar objectMapper = new ObjectMapper().registerModule(new JsonNullableModule());\r\nvar httpMessageConverter = new MappingJackson2HttpMessageConverter(objectMapper);\r\nvar restTemplate = RestTemplateBuilder.restTemplate().build();\r\nrestTemplate.getMessageConverters().add(0, httpMessageConverter);\t\r\n```\r\n \r\n\r\n\r\n","title":"Openapi generator maven plugin nullable property problem","body":"<p>Thanks to the help of @maniganda-prakash I was able to resolve my issue by registering the module in a custom <code>ObjectMapper</code> that is used by the <code>RestTemplate</code>.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var objectMapper = new ObjectMapper().registerModule(new JsonNullableModule());\nvar httpMessageConverter = new MappingJackson2HttpMessageConverter(objectMapper);\nvar restTemplate = RestTemplateBuilder.restTemplate().build();\nrestTemplate.getMessageConverters().add(0, httpMessageConverter);   \n</code></pre>\n"}],"owner":{"account_id":17857472,"reputation":31,"user_id":12971734,"display_name":"anotherNoob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17714,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695481295,"creation_date":1582792709,"question_id":60429225,"body_markdown":"I attempted to introduce nullable properties in an API which has been designed using openapi 3 specifications. The idea is to always return the properties to the client, whether their values are null or not.\r\n\r\nYAML file (I tried first without default, with same results):\r\n```    \r\n       property:\r\n          type: integer\r\n          nullable: true\r\n          default: null\r\n```\r\n\r\nGenerated Java code:\r\n```\r\n  @JsonProperty(&quot;property&quot;)\r\n  private JsonNullable&lt;Integer&gt; property = JsonNullable.undefined();\r\n```\r\n\r\nResponse from API:\r\n```\r\n  &quot;property&quot;: {\r\n    &quot;present&quot;: true\r\n  }\r\n```\r\n\r\nSo the result is always &quot;present: true&quot; whether or not the property is null or not. Without nullability it works out just fine, except for the null values being removed from the response which is undesireable.\r\n\r\nAny ideas?\r\n\r\nP.S. The property isn&#39;t actually named as &quot;property&quot;\r\n\r\n**Edit: configuration:**\r\n```\r\n&lt;generateAliasAsModel&gt;true&lt;/generateAliasAsModel&gt;\r\n&lt;inputSpec&gt;./api/interface1.yaml&lt;/inputSpec&gt;\r\n&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n&lt;enablePostProcessFile&gt;true&lt;/enablePostProcessFile&gt;\r\n&lt;configOptions&gt;\r\n    &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n    &lt;library&gt;spring-boot&lt;/library&gt;\r\n    &lt;java8&gt;true&lt;/java8&gt;\r\n    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    &lt;useOptional&gt;true&lt;/useOptional&gt;\r\n&lt;/configOptions&gt;\r\n```","title":"Openapi generator maven plugin nullable property problem","body":"<p>I attempted to introduce nullable properties in an API which has been designed using openapi 3 specifications. The idea is to always return the properties to the client, whether their values are null or not.</p>\n\n<p>YAML file (I tried first without default, with same results):</p>\n\n<pre><code>       property:\n          type: integer\n          nullable: true\n          default: null\n</code></pre>\n\n<p>Generated Java code:</p>\n\n<pre><code>  @JsonProperty(\"property\")\n  private JsonNullable&lt;Integer&gt; property = JsonNullable.undefined();\n</code></pre>\n\n<p>Response from API:</p>\n\n<pre><code>  \"property\": {\n    \"present\": true\n  }\n</code></pre>\n\n<p>So the result is always \"present: true\" whether or not the property is null or not. Without nullability it works out just fine, except for the null values being removed from the response which is undesireable.</p>\n\n<p>Any ideas?</p>\n\n<p>P.S. The property isn't actually named as \"property\"</p>\n\n<p><strong>Edit: configuration:</strong></p>\n\n<pre><code>&lt;generateAliasAsModel&gt;true&lt;/generateAliasAsModel&gt;\n&lt;inputSpec&gt;./api/interface1.yaml&lt;/inputSpec&gt;\n&lt;generatorName&gt;spring&lt;/generatorName&gt;\n&lt;enablePostProcessFile&gt;true&lt;/enablePostProcessFile&gt;\n&lt;configOptions&gt;\n    &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n    &lt;library&gt;spring-boot&lt;/library&gt;\n    &lt;java8&gt;true&lt;/java8&gt;\n    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n    &lt;useOptional&gt;true&lt;/useOptional&gt;\n&lt;/configOptions&gt;\n</code></pre>\n"},{"tags":["java","process","console"],"comments":[{"owner":{"account_id":2716548,"reputation":1719,"user_id":2343795,"accept_rate":75,"display_name":"snickers10m"},"score":0,"creation_date":1430098144,"post_id":29885561,"comment_id":47895557,"body_markdown":"I&#39;m not an expert on consoles. From what I can tell from experimentation, however, when the first example, first line is run, cmd is opened and awaits a system command. Since Writers depend on the java virtual machine running on a specific output area, I don&#39;t think you can output to the new cmd at all since it isn&#39;t running any form of virtual machine. If you want to open a cmd window that is simply an extension of the original (doesn&#39;t show the Windows version or anything, just a black screen), that might be an idea to work off of.","body":"I&#39;m not an expert on consoles. From what I can tell from experimentation, however, when the first example, first line is run, cmd is opened and awaits a system command. Since Writers depend on the java virtual machine running on a specific output area, I don&#39;t think you can output to the new cmd at all since it isn&#39;t running any form of virtual machine. If you want to open a cmd window that is simply an extension of the original (doesn&#39;t show the Windows version or anything, just a black screen), that might be an idea to work off of."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1430099223,"post_id":29885561,"comment_id":47895826,"body_markdown":"..and if you run **the other way** from `cmd`(.bat), it feels like very subtle difference. What would justify such an effort (and I think, also without further references, just my pre-commenter: It will be painful to impossible to get that outputsream) ... with &quot;this way&quot;.","body":"..and if you run <b>the other way</b> from <code>cmd</code>(.bat), it feels like very subtle difference. What would justify such an effort (and I think, also without further references, just my pre-commenter: It will be painful to impossible to get that outputsream) ... with &quot;this way&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5417706,"reputation":719,"user_id":4312397,"display_name":"Izold Tytykalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695480802,"creation_date":1430406056,"answer_id":29971171,"question_id":29885561,"body_markdown":"In your first way you started cmd and it started another process which you have no access too. Don&#39;t use this way if you need input/output stream.\r\n\r\nThe other way is right. Process is running fine. But you didn&#39;t provide any input for it. Obtain input stream and send some commands like &quot;cd foo\\n&quot;, &quot;dir\\n&quot;. As you can see this is regular stream so it requires &lt;Enter&gt; to execute the command. Then you can use output stream too.\r\n\r\nThere are a lot of [examples][1] how to do so.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3936023/printing-runtime-exec-outputstream-to-console","title":"Java spawn new cmd.exe and get the output stream","body":"<p>In your first way you started cmd and it started another process which you have no access too. Don't use this way if you need input/output stream.</p>\n<p>The other way is right. Process is running fine. But you didn't provide any input for it. Obtain input stream and send some commands like &quot;cd foo\\n&quot;, &quot;dir\\n&quot;. As you can see this is regular stream so it requires  to execute the command. Then you can use output stream too.</p>\n<p>There are a lot of <a href=\"https://stackoverflow.com/questions/3936023/printing-runtime-exec-outputstream-to-console\">examples</a> how to do so.</p>\n"}],"owner":{"account_id":3524886,"reputation":98,"user_id":2946289,"display_name":"Quentin Le B&#233;villon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695480802,"creation_date":1430096505,"question_id":29885561,"body_markdown":"I&#39;m trying to spawn a new console in java and get the ouput stream.\r\n\r\n**I tried this way :**\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;cmd.exe /c start&quot;);\r\n    BufferedWriter out = new BufferedWriter( new OutputStreamWriter(\r\n\t                                         p.getOutputStream()));\r\n\r\nthe console spawn but i&#39;m not able to write something on the stream !\r\n\r\n**The other way  :**\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;cmd.exe&quot;);\r\n      BufferedWriter out = new BufferedWriter(new OutputStreamWriter(\r\n\t               p.getOutputStream()));\r\n\r\nThis time i can write to the stream, but the console is not spawning !\r\n\r\nI lack knowledge :/\r\n\r\nThank you in advance. \r\n","title":"Java spawn new cmd.exe and get the output stream","body":"<p>I'm trying to spawn a new console in java and get the ouput stream.</p>\n\n<p><strong>I tried this way :</strong></p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"cmd.exe /c start\");\nBufferedWriter out = new BufferedWriter( new OutputStreamWriter(\n                                         p.getOutputStream()));\n</code></pre>\n\n<p>the console spawn but i'm not able to write something on the stream !</p>\n\n<p><strong>The other way  :</strong></p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"cmd.exe\");\n  BufferedWriter out = new BufferedWriter(new OutputStreamWriter(\n               p.getOutputStream()));\n</code></pre>\n\n<p>This time i can write to the stream, but the console is not spawning !</p>\n\n<p>I lack knowledge :/</p>\n\n<p>Thank you in advance. </p>\n"},{"tags":["java","hibernate","jpa","identity","eclipselink"],"comments":[{"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"score":4,"creation_date":1297961374,"post_id":5031614,"comment_id":5628761,"body_markdown":"I don&#39;t understand what do you mean by &quot;hashCode()/equals() broken&quot;","body":"I don&#39;t understand what do you mean by &quot;hashCode()/equals() broken&quot;"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1297961817,"post_id":5031614,"comment_id":5628875,"body_markdown":"@nanda: from Object.hashCode() javadoc: &quot;Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer&quot; and &quot;If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.&quot; which is violated in option 2 and 3.","body":"@nanda: from Object.hashCode() javadoc: &quot;Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer&quot; and &quot;If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.&quot; which is violated in option 2 and 3."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":5,"creation_date":1297961922,"post_id":5031614,"comment_id":5628917,"body_markdown":"They wouldn&#39;t be &quot;broken&quot; in that sense then, as in option 2 and 3 you would be implementing both equals() and hashCode() using the same strategy.","body":"They wouldn&#39;t be &quot;broken&quot; in that sense then, as in option 2 and 3 you would be implementing both equals() and hashCode() using the same strategy."},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1297962552,"post_id":5031614,"comment_id":5629077,"body_markdown":"@matt b option 2&#39;s hashCode() will change after persist(), option 3&#39;s hashCode() will change if some business field changes which I would call &quot;broken&quot; in the sense of the equals() method javadoc comment and Joshua Blochs book &quot;Effective Java&quot;.","body":"@matt b option 2&#39;s hashCode() will change after persist(), option 3&#39;s hashCode() will change if some business field changes which I would call &quot;broken&quot; in the sense of the equals() method javadoc comment and Joshua Blochs book &quot;Effective Java&quot;."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":14,"creation_date":1297962876,"post_id":5031614,"comment_id":5629152,"body_markdown":"That is not true of option 3. hashCode() and equals() should be using the same criteria, therefore if one of your fields change, yes the hashcode() method will return a different value for the same instance than it previous did, but so will equals(). You&#39;ve left off the second part of the sentence from the hashcode() javadoc: _Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, **provided no information used in equals comparisons on the object is modified**._","body":"That is not true of option 3. hashCode() and equals() should be using the same criteria, therefore if one of your fields change, yes the hashcode() method will return a different value for the same instance than it previous did, but so will equals(). You&#39;ve left off the second part of the sentence from the hashcode() javadoc: <i>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, <b>provided no information used in equals comparisons on the object is modified</b>.</i>"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1297964012,"post_id":5031614,"comment_id":5629425,"body_markdown":"@matt b Maybe I am missunderstanding the contract (I am not a native english speaker) but I am interpreting &quot;provided no information used in equals comparisons on the object is modified&quot; as **&quot;there&#39;s an exception of the rule if fields have been changed on which the equals method does not rely on&quot;** which is not true in option 3 because both rely on the same fields (which all may change).","body":"@matt b Maybe I am missunderstanding the contract (I am not a native english speaker) but I am interpreting &quot;provided no information used in equals comparisons on the object is modified&quot; as <b>&quot;there&#39;s an exception of the rule if fields have been changed on which the equals method does not rely on&quot;</b> which is not true in option 3 because both rely on the same fields (which all may change)."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":2,"creation_date":1297978841,"post_id":5031614,"comment_id":5632767,"body_markdown":"Actually that part of the sentence means the opposite - calling `hashcode()` on the same object instance should return the same value, unless any fields used in the `equals()` implementation change. In other words, if you have three fields in your class and your `equals()` method uses only two of them to determine equality of instances, then you can expect the `hashcode()` return value to change if you change one of those field&#39;s values - which makes sense when you consider that this object instance is no longer &quot;equal&quot; to the value that the old instance represented.","body":"Actually that part of the sentence means the opposite - calling <code>hashcode()</code> on the same object instance should return the same value, unless any fields used in the <code>equals()</code> implementation change. In other words, if you have three fields in your class and your <code>equals()</code> method uses only two of them to determine equality of instances, then you can expect the <code>hashcode()</code> return value to change if you change one of those field&#39;s values - which makes sense when you consider that this object instance is no longer &quot;equal&quot; to the value that the old instance represented."},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1298302921,"post_id":5031614,"comment_id":5676072,"body_markdown":"Thank you, matt-b - I&#39;ve updated my question to reflect your correct statements.","body":"Thank you, matt-b - I&#39;ve updated my question to reflect your correct statements."},{"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"score":2,"creation_date":1298486857,"post_id":5031614,"comment_id":5710513,"body_markdown":"&quot;problems when trying to retrieve a changed entity from a Map, Set or other hash-based Collections&quot;... this should be &quot;problems when trying to retrieve a changed entity from a HashMap, HashSet or other hash-based Collections&quot;","body":"&quot;problems when trying to retrieve a changed entity from a Map, Set or other hash-based Collections&quot;... this should be &quot;problems when trying to retrieve a changed entity from a HashMap, HashSet or other hash-based Collections&quot;"},{"owner":{"account_id":82370,"reputation":1477,"user_id":231645,"accept_rate":58,"display_name":"NBW"},"score":0,"creation_date":1340917051,"post_id":5031614,"comment_id":14789312,"body_markdown":"What are your thoughts on including your optimistic locking property, if you use one, in your hashCode()? Perhaps this deserves its own question.","body":"What are your thoughts on including your optimistic locking property, if you use one, in your hashCode()? Perhaps this deserves its own question."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1384249091,"post_id":5031614,"comment_id":29649647,"body_markdown":"What do you mean problems with detached entities?","body":"What do you mean problems with detached entities?"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1384250645,"post_id":5031614,"comment_id":29650540,"body_markdown":"@AndreiI If you add a not-yet-persisted entity into a hash-based collection and if the entity&#39;s hashCode relies on the PK, its hashcode will change after persisting it (because its PK will most probably be set), hence violating the hash-based collection&#39;s contract which leads to unpredictable results","body":"@AndreiI If you add a not-yet-persisted entity into a hash-based collection and if the entity&#39;s hashCode relies on the PK, its hashcode will change after persisting it (because its PK will most probably be set), hence violating the hash-based collection&#39;s contract which leads to unpredictable results"},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1384252716,"post_id":5031614,"comment_id":29651768,"body_markdown":"@MRalwasser not-yet-persisted is not the same as detached. According to the JPA spec, &quot;a detached entity instance is an instance with a **persistent** identity that is not (or no longer)\nassociated with a persistence context&quot;. Please correct the question. Also, when when you say problems with yet-not-persisted entities, you mean actually the cause for the `hashCode/equals() broken` problem. So you might consider to reformulate the three points.","body":"@MRalwasser not-yet-persisted is not the same as detached. According to the JPA spec, &quot;a detached entity instance is an instance with a <b>persistent</b> identity that is not (or no longer) associated with a persistence context&quot;. Please correct the question. Also, when when you say problems with yet-not-persisted entities, you mean actually the cause for the <code>hashCode&#47;equals() broken</code> problem. So you might consider to reformulate the three points."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":1,"creation_date":1384253046,"post_id":5031614,"comment_id":29651956,"body_markdown":"What do you mean by `problems with dynamic proxies`?","body":"What do you mean by <code>problems with dynamic proxies</code>?"},{"owner":{"account_id":1234733,"reputation":20412,"user_id":1198559,"accept_rate":70,"display_name":"jhegedus"},"score":0,"creation_date":1391700776,"post_id":5031614,"comment_id":32645331,"body_markdown":"If I understand the answers correctly then there is a 4th not-listed option which has the advantages of all the 3 listed options. That is when you create an entity (calling new) you also assign a large random number to its JPA ID (with the default GenerationType assigned). Now you can use an equals/hashcode based on this random number. The probability that two such random numbers collide is small.","body":"If I understand the answers correctly then there is a 4th not-listed option which has the advantages of all the 3 listed options. That is when you create an entity (calling new) you also assign a large random number to its JPA ID (with the default GenerationType assigned). Now you can use an equals/hashcode based on this random number. The probability that two such random numbers collide is small."},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":0,"creation_date":1498919822,"post_id":5031614,"comment_id":76703717,"body_markdown":"@jsegedus - That is not correct. You are probably referring to UUID generation - this should give you a clearer picture. http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1","body":"@jsegedus - That is not correct. You are probably referring to UUID generation - this should give you a clearer picture. <a href=\"http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1\" rel=\"nofollow noreferrer\">onjava.com/pub/a/onjava/2006/09/13/&hellip;</a>"},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":1,"creation_date":1609324288,"post_id":5031614,"comment_id":115811011,"body_markdown":"Best article I&#39;ve read on SO in so many years.","body":"Best article I&#39;ve read on SO in so many years."},{"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"score":0,"creation_date":1634077031,"post_id":5031614,"comment_id":122928256,"body_markdown":"@jhegedus From the book [Spring Boot Persistence Best Practices](https://www.apress.com/gp/book/9781484256251) by Anghel Leonard, he hardcoded `2021` as the return value of the `hashCode` method of child class (the _many_ side).","body":"@jhegedus From the book <a href=\"https://www.apress.com/gp/book/9781484256251\" rel=\"nofollow noreferrer\">Spring Boot Persistence Best Practices</a> by Anghel Leonard, he hardcoded <code>2021</code> as the return value of the <code>hashCode</code> method of child class (the <i>many</i> side)."},{"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"score":0,"creation_date":1634078783,"post_id":5031614,"comment_id":122928621,"body_markdown":"According to your definition of `hashCode / equals are broken` which takes hash-based collection or map into consideration (which the element/key is mutable, possible in a Hibernate context), Option 3 (Business-Id) should **not** break hashCode and equals. For example, `BookEntity`&#39;s `isbn` field can be used for `equals` and `hashCode` as this information is available when new object is created and will remain unchanged and be consistent across all entity state transitions.","body":"According to your definition of <code>hashCode &#47; equals are broken</code> which takes hash-based collection or map into consideration (which the element/key is mutable, possible in a Hibernate context), Option 3 (Business-Id) should <b>not</b> break hashCode and equals. For example, <code>BookEntity</code>&#39;s <code>isbn</code> field can be used for <code>equals</code> and <code>hashCode</code> as this information is available when new object is created and will remain unchanged and be consistent across all entity state transitions."},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1662037417,"post_id":5031614,"comment_id":129916929,"body_markdown":"There is one more option: compare by all fields (the naive implementation)","body":"There is one more option: compare by all fields (the naive implementation)"}],"answers":[{"tags":[],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1298969860,"creation_date":1297961622,"answer_id":5031954,"question_id":5031614,"body_markdown":"I always override equals/hashcode and implement it based on the business id. Seems the most reasonable solution for me. See the following [link][1].\r\n\r\n&gt; To sum all this stuff up, here is a listing of what will work or won&#39;t work with the different ways to handle equals/hashCode: ![enter image description here][2]\r\n\r\n**EDIT**:\r\n\r\nTo explain why this works for me:\r\n\r\n 1. I don&#39;t usually use hashed-based collection (HashMap/HashSet) in my JPA application. If I must, I prefer to create UniqueList solution.\r\n 2. I think changing business id on runtime is not a best practice for any database application. On rare cases where there is no other solution, I&#39;d do special treatment like remove the element and put it back to the hashed-based collection.\r\n 3. For my model, I set the business id on constructor and doesn&#39;t provide setters for it. I let JPA implementation to change the **field** instead of the property.\r\n 4. UUID solution seems to be overkill. Why UUID if you have natural business id? I would after all set the uniqueness of the business id in the database. Why having **THREE** indexes for each table in the database then?\r\n\r\n  [1]: http://community.jboss.org/wiki/EqualsandHashCode\r\n  [2]: http://i.stack.imgur.com/Mkrab.png","title":"The JPA hashCode() / equals() dilemma","body":"<p>I always override equals/hashcode and implement it based on the business id. Seems the most reasonable solution for me. See the following <a href=\"http://community.jboss.org/wiki/EqualsandHashCode\" rel=\"noreferrer\">link</a>.</p>\n\n<blockquote>\n  <p>To sum all this stuff up, here is a listing of what will work or won't work with the different ways to handle equals/hashCode: <img src=\"https://i.stack.imgur.com/Mkrab.png\" alt=\"enter image description here\"></p>\n</blockquote>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>To explain why this works for me:</p>\n\n<ol>\n<li>I don't usually use hashed-based collection (HashMap/HashSet) in my JPA application. If I must, I prefer to create UniqueList solution.</li>\n<li>I think changing business id on runtime is not a best practice for any database application. On rare cases where there is no other solution, I'd do special treatment like remove the element and put it back to the hashed-based collection.</li>\n<li>For my model, I set the business id on constructor and doesn't provide setters for it. I let JPA implementation to change the <strong>field</strong> instead of the property.</li>\n<li>UUID solution seems to be overkill. Why UUID if you have natural business id? I would after all set the uniqueness of the business id in the database. Why having <strong>THREE</strong> indexes for each table in the database then?</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":69197,"reputation":11177,"user_id":201498,"display_name":"lweller"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1678982497,"creation_date":1297961912,"answer_id":5032013,"question_id":5031614,"body_markdown":"I personally already used all of these three strategies in different projects. And I must say that option 1 is in my opinion the most practicable in a real life app. In my experience breaking `hashCode()`/`equals()` conformity leads to many crazy bugs as you will every time end up in situations where the result of equality changes after an entity has been added to a collection.\r\n\r\nBut there are further options (also with their pros and cons):\r\n\r\n---\r\na) `hashCode`/`equals` based on a set of **immutable**, **not null**, **constructor assigned**, fields\r\n\r\n(+) all three criteria are guaranteed\r\n\r\n(-) field values must be available to create a new instance\r\n\r\n(-) complicates handling if you must change one of then\r\n\r\n---\r\n\r\nb) `hashCode`/`equals` based on a primary key that is assigned by the application (in the constructor) instead of JPA\r\n\r\n(+) all three criteria are guaranteed\r\n\r\n(-) you cannot take advantage of simple reliable ID generation strategies like DB sequences\r\n\r\n(-) complicated if new entities are created in a distributed environment (client/server) or app server cluster\r\n\r\n---\r\n\r\nc) `hashCode`/`equals` based on a [UUID][1] assigned by the constructor of the entity\r\n\r\n(+) all three criteria are guaranteed\r\n\r\n(-) overhead of UUID generation\r\n\r\n(-) may be a little risk that twice the same UUID is used, depending on algorithm used (may be detected by an unique index on DB)\r\n\r\n\r\n  [1]: http://de.wikipedia.org/wiki/UUID","title":"The JPA hashCode() / equals() dilemma","body":"<p>I personally already used all of these three strategies in different projects. And I must say that option 1 is in my opinion the most practicable in a real life app. In my experience breaking <code>hashCode()</code>/<code>equals()</code> conformity leads to many crazy bugs as you will every time end up in situations where the result of equality changes after an entity has been added to a collection.</p>\n<p>But there are further options (also with their pros and cons):</p>\n<hr />\n<p>a) <code>hashCode</code>/<code>equals</code> based on a set of <strong>immutable</strong>, <strong>not null</strong>, <strong>constructor assigned</strong>, fields</p>\n<p>(+) all three criteria are guaranteed</p>\n<p>(-) field values must be available to create a new instance</p>\n<p>(-) complicates handling if you must change one of then</p>\n<hr />\n<p>b) <code>hashCode</code>/<code>equals</code> based on a primary key that is assigned by the application (in the constructor) instead of JPA</p>\n<p>(+) all three criteria are guaranteed</p>\n<p>(-) you cannot take advantage of simple reliable ID generation strategies like DB sequences</p>\n<p>(-) complicated if new entities are created in a distributed environment (client/server) or app server cluster</p>\n<hr />\n<p>c) <code>hashCode</code>/<code>equals</code> based on a <a href=\"http://de.wikipedia.org/wiki/UUID\" rel=\"nofollow noreferrer\">UUID</a> assigned by the constructor of the entity</p>\n<p>(+) all three criteria are guaranteed</p>\n<p>(-) overhead of UUID generation</p>\n<p>(-) may be a little risk that twice the same UUID is used, depending on algorithm used (may be detected by an unique index on DB)</p>\n"},{"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1298628696,"creation_date":1297966347,"answer_id":5032837,"question_id":5031614,"body_markdown":"If you want to use `equals()/hashCode()` for your Sets, in the sense that the *same entity* can only be in there once, then there is only one option: Option 2. That&#39;s because a **primary key** for an entity by definition never changes (if somebody indeed updates it, it&#39;s not the same entity anymore)\r\n\r\nYou should take that literally: Since your `equals()/hashCode()` are based on the primary key, you must not use these methods, until the primary key is set. So you shouldn&#39;t put entities in the set, until they&#39;re assigned a primary key. (Yes, UUIDs and similar concepts may help to assign primary keys early.)\r\n\r\nNow, it&#39;s theoretically also possible to achieve that with Option 3, even though so-called &quot;business-keys&quot; have the nasty drawback that they can change: &quot;All you&#39;ll have to do is delete the already inserted entities from the set(s), and re-insert them.&quot; That is true - but it also means, that in a distributed system, you&#39;ll have to make sure, that this is done absolutely everywhere the data has been inserted to (and you&#39;ll have to make sure, that the update is performed, before other things occur). You&#39;ll need a sophisticated update mechanism, especially if some remote systems aren&#39;t currently reachable...\r\n\r\nOption 1 can only be used, if all the objects in your sets are from the same Hibernate session. The Hibernate documentation makes this very clear in chapter [13.1.3. Considering object identity](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/transactions.html#transactions-basics-identity):\r\n\r\n&gt; Within a Session the application can safely use == to compare objects.\r\n&gt; \r\n&gt; However, an application that uses == outside of a Session might produce unexpected results. This might occur even in some unexpected places. For example, if you put two detached instances into the same Set, both might have the same database identity (i.e., they represent the same row). JVM identity, however, is by definition not guaranteed for instances in a detached state. The developer has to override the equals() and hashCode() methods in persistent classes and implement their own notion of object equality.\r\n\r\nIt continues to argue in favor of Option 3:\r\n\r\n&gt; There is one caveat: never use the database identifier to implement equality. Use a business key that is a combination of unique, usually immutable, attributes. The database identifier will change if a transient object is made persistent. If the transient instance (usually together with detached instances) is held in a Set, changing the hashcode breaks the contract of the Set.\r\n\r\nThis is true, **if** you \r\n\r\n- cannot assign the id early (e.g. by using UUIDs)\r\n- and yet you absolutely want to put your objects in sets while they&#39;re in transient state.\r\n\r\nOtherwise, you&#39;re free to choose Option 2.\r\n\r\nThen it mentions the need for a relative stability:\r\n\r\n&gt; Attributes for business keys do not have to be as stable as database primary keys; you only have to guarantee stability as long as the objects are in the same Set.\r\n\r\nThis is correct. The practical problem I see with this is: If you can&#39;t guarantee absolute stability, how will you be able to guarantee stability &quot;as long as the objects are in the same Set&quot;. I can imagine some special cases (like using sets only for a conversation and then throwing it away), but I would question the general practicability of this.\r\n\r\n---\r\n\r\nShort version:\r\n\r\n- Option 1 can only be used with objects within a single session.\r\n- If you can, use Option 2. (Assign PK as early as possible, because you can&#39;t use the objects in sets until the PK is assigned.)\r\n- If you can guarantee relative stability, you can use Option 3. But be careful with this.","title":"The JPA hashCode() / equals() dilemma","body":"<p>If you want to use <code>equals()/hashCode()</code> for your Sets, in the sense that the <em>same entity</em> can only be in there once, then there is only one option: Option 2. That's because a <strong>primary key</strong> for an entity by definition never changes (if somebody indeed updates it, it's not the same entity anymore)</p>\n\n<p>You should take that literally: Since your <code>equals()/hashCode()</code> are based on the primary key, you must not use these methods, until the primary key is set. So you shouldn't put entities in the set, until they're assigned a primary key. (Yes, UUIDs and similar concepts may help to assign primary keys early.)</p>\n\n<p>Now, it's theoretically also possible to achieve that with Option 3, even though so-called \"business-keys\" have the nasty drawback that they can change: \"All you'll have to do is delete the already inserted entities from the set(s), and re-insert them.\" That is true - but it also means, that in a distributed system, you'll have to make sure, that this is done absolutely everywhere the data has been inserted to (and you'll have to make sure, that the update is performed, before other things occur). You'll need a sophisticated update mechanism, especially if some remote systems aren't currently reachable...</p>\n\n<p>Option 1 can only be used, if all the objects in your sets are from the same Hibernate session. The Hibernate documentation makes this very clear in chapter <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/transactions.html#transactions-basics-identity\" rel=\"noreferrer\">13.1.3. Considering object identity</a>:</p>\n\n<blockquote>\n  <p>Within a Session the application can safely use == to compare objects.</p>\n  \n  <p>However, an application that uses == outside of a Session might produce unexpected results. This might occur even in some unexpected places. For example, if you put two detached instances into the same Set, both might have the same database identity (i.e., they represent the same row). JVM identity, however, is by definition not guaranteed for instances in a detached state. The developer has to override the equals() and hashCode() methods in persistent classes and implement their own notion of object equality.</p>\n</blockquote>\n\n<p>It continues to argue in favor of Option 3:</p>\n\n<blockquote>\n  <p>There is one caveat: never use the database identifier to implement equality. Use a business key that is a combination of unique, usually immutable, attributes. The database identifier will change if a transient object is made persistent. If the transient instance (usually together with detached instances) is held in a Set, changing the hashcode breaks the contract of the Set.</p>\n</blockquote>\n\n<p>This is true, <strong>if</strong> you </p>\n\n<ul>\n<li>cannot assign the id early (e.g. by using UUIDs)</li>\n<li>and yet you absolutely want to put your objects in sets while they're in transient state.</li>\n</ul>\n\n<p>Otherwise, you're free to choose Option 2.</p>\n\n<p>Then it mentions the need for a relative stability:</p>\n\n<blockquote>\n  <p>Attributes for business keys do not have to be as stable as database primary keys; you only have to guarantee stability as long as the objects are in the same Set.</p>\n</blockquote>\n\n<p>This is correct. The practical problem I see with this is: If you can't guarantee absolute stability, how will you be able to guarantee stability \"as long as the objects are in the same Set\". I can imagine some special cases (like using sets only for a conversation and then throwing it away), but I would question the general practicability of this.</p>\n\n<hr>\n\n<p>Short version:</p>\n\n<ul>\n<li>Option 1 can only be used with objects within a single session.</li>\n<li>If you can, use Option 2. (Assign PK as early as possible, because you can't use the objects in sets until the PK is assigned.)</li>\n<li>If you can guarantee relative stability, you can use Option 3. But be careful with this.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1298305028,"creation_date":1298305028,"answer_id":5068348,"question_id":5031614,"body_markdown":"There are obviously already very informative answers here but I will tell you what we do.\r\n\r\nWe do nothing (ie do not override).\r\n\r\nIf we do need equals/hashcode to work for collections we use UUIDs.\r\nYou just create the UUID in the constructor. We use http://wiki.fasterxml.com/JugHome for UUID. UUID is a little more expensive CPU wise but is cheap compared to serialization and db access.","title":"The JPA hashCode() / equals() dilemma","body":"<p>There are obviously already very informative answers here but I will tell you what we do.</p>\n\n<p>We do nothing (ie do not override).</p>\n\n<p>If we do need equals/hashcode to work for collections we use UUIDs.\nYou just create the UUID in the constructor. We use <a href=\"http://wiki.fasterxml.com/JugHome\" rel=\"nofollow\">http://wiki.fasterxml.com/JugHome</a> for UUID. UUID is a little more expensive CPU wise but is cheap compared to serialization and db access.</p>\n"},{"tags":[],"owner":{"account_id":2817,"reputation":8462,"user_id":3980,"accept_rate":100,"display_name":"Andrei  "},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1334697815,"creation_date":1298543240,"answer_id":5103360,"question_id":5031614,"body_markdown":"We usually have two IDs in our entities: \r\n\r\n 1. Is for persistence layer only (so that persistence provider and database can figure out relationships between objects).\r\n 2. Is for our application needs (`equals()` and `hashCode()` in particular)\r\n\r\nTake a look: \r\n\r\n\t@Entity\r\n\tpublic class User {\r\n\r\n\t\t@Id\r\n\t\tprivate int id;  // Persistence ID\r\n\t\tprivate UUID uuid; // Business ID\r\n\r\n\t\t// assuming all fields are subject to change\r\n\t\t// If we forbid users change their email or screenName we can use these\r\n\t\t// fields for business ID instead, but generally that&#39;s not the case\r\n\t\tprivate String screenName;\r\n\t\tprivate String email;\r\n\r\n\t\t// I don&#39;t put UUID generation in constructor for performance reasons. \r\n\t\t// I call setUuid() when I create a new entity\r\n\t\tpublic User() {\r\n\t\t}\r\n\r\n\t\t// This method is only called when a brand new entity is added to \r\n\t\t// persistence context - I add it as a safety net only but it might work \r\n\t\t// for you. In some cases (say, when I add this entity to some set before \r\n\t\t// calling em.persist()) setting a UUID might be too late. If I get a log \r\n\t\t// output it means that I forgot to call setUuid() somewhere.\r\n\t\t@PrePersist\r\n\t\tpublic void ensureUuid() {\r\n\t\t\tif (getUuid() == null) {\r\n\t\t\t\tlog.warn(format(&quot;User&#39;s UUID wasn&#39;t set on time. &quot; \r\n\t\t\t\t\t+ &quot;uuid: %s, name: %s, email: %s&quot;,\r\n\t\t\t\t\tgetUuid(), getScreenName(), getEmail()));\r\n\t\t\t\tsetUuid(UUID.randomUUID());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// equals() and hashCode() rely on non-changing data only. Thus we \r\n\t\t// guarantee that no matter how field values are changed we won&#39;t \r\n\t\t// lose our entity in hash-based Sets.\r\n\t\t@Override\r\n\t\tpublic int hashCode() {\r\n\t\t\treturn getUuid().hashCode();\r\n\t\t}\r\n\r\n\t\t// Note that I don&#39;t use direct field access inside my entity classes and\r\n\t\t// call getters instead. That&#39;s because Persistence provider (PP) might\r\n\t\t// want to load entity data lazily. And I don&#39;t use \r\n\t\t//    this.getClass() == other.getClass() \r\n\t\t// for the same reason. In order to support laziness PP might need to wrap\r\n\t\t// my entity object in some kind of proxy, i.e. subclassing it.\r\n\t\t@Override\r\n\t\tpublic boolean equals(final Object obj) {\r\n\t\t\tif (this == obj)\r\n\t\t\t\treturn true;\r\n\t\t\tif (!(obj instanceof User))\r\n\t\t\t\treturn false;\r\n\t\t\treturn getUuid().equals(((User) obj).getUuid());\r\n\t\t}\r\n\r\n\t\t// Getters and setters follow\r\n\t}\r\n\r\n\r\n----------\r\n**EDIT:** to clarify my point regarding calls to `setUuid()` method. Here&#39;s a typical scenario:\r\n\r\n\tUser user = new User();\r\n\t// user.setUuid(UUID.randomUUID()); // I should have called it here\r\n\tuser.setName(&quot;Master Yoda&quot;);\r\n\tuser.setEmail(&quot;yoda@jedicouncil.org&quot;);\r\n\r\n\tjediSet.add(user); // here&#39;s bug - we forgot to set UUID and \r\n\t                   //we won&#39;t find Yoda in Jedi set\r\n\r\n\tem.persist(user); // ensureUuid() was called and printed the log for me.\r\n\r\n\tjediCouncilSet.add(user); // Ok, we got a UUID now\r\n\t\r\nWhen I run my tests and see the log output I fix the problem:\r\n\r\n\tUser user = new User();\r\n\tuser.setUuid(UUID.randomUUID());\r\n\r\nAlternatively, one can provide a separate constructor:\r\n\r\n\t@Entity\r\n\tpublic class User {\r\n\r\n\t\t@Id\r\n\t\tprivate int id;  // Persistence ID\r\n\t\tprivate UUID uuid; // Business ID\r\n\r\n\t\t... // fields\r\n\r\n\t\t// Constructor for Persistence provider to use\r\n\t\tpublic User() {\r\n\t\t}\r\n\r\n\t\t// Constructor I use when creating new entities\r\n\t\tpublic User(UUID uuid) {\r\n\t\t\tsetUuid(uuid);\r\n\t\t}\r\n\r\n\t\t... // rest of the entity.\r\n\t}\r\n\r\nSo my example would look like this:\r\n\r\n\tUser user = new User(UUID.randomUUID());\r\n\t...\r\n\tjediSet.add(user); // no bug this time\r\n\r\n\tem.persist(user); // and no log output\r\n\r\nI use a default constructor and a setter, but you may find two-constructors approach more suitable for you.","title":"The JPA hashCode() / equals() dilemma","body":"<p>We usually have two IDs in our entities: </p>\n\n<ol>\n<li>Is for persistence layer only (so that persistence provider and database can figure out relationships between objects).</li>\n<li>Is for our application needs (<code>equals()</code> and <code>hashCode()</code> in particular)</li>\n</ol>\n\n<p>Take a look: </p>\n\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private int id;  // Persistence ID\n    private UUID uuid; // Business ID\n\n    // assuming all fields are subject to change\n    // If we forbid users change their email or screenName we can use these\n    // fields for business ID instead, but generally that's not the case\n    private String screenName;\n    private String email;\n\n    // I don't put UUID generation in constructor for performance reasons. \n    // I call setUuid() when I create a new entity\n    public User() {\n    }\n\n    // This method is only called when a brand new entity is added to \n    // persistence context - I add it as a safety net only but it might work \n    // for you. In some cases (say, when I add this entity to some set before \n    // calling em.persist()) setting a UUID might be too late. If I get a log \n    // output it means that I forgot to call setUuid() somewhere.\n    @PrePersist\n    public void ensureUuid() {\n        if (getUuid() == null) {\n            log.warn(format(\"User's UUID wasn't set on time. \" \n                + \"uuid: %s, name: %s, email: %s\",\n                getUuid(), getScreenName(), getEmail()));\n            setUuid(UUID.randomUUID());\n        }\n    }\n\n    // equals() and hashCode() rely on non-changing data only. Thus we \n    // guarantee that no matter how field values are changed we won't \n    // lose our entity in hash-based Sets.\n    @Override\n    public int hashCode() {\n        return getUuid().hashCode();\n    }\n\n    // Note that I don't use direct field access inside my entity classes and\n    // call getters instead. That's because Persistence provider (PP) might\n    // want to load entity data lazily. And I don't use \n    //    this.getClass() == other.getClass() \n    // for the same reason. In order to support laziness PP might need to wrap\n    // my entity object in some kind of proxy, i.e. subclassing it.\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj)\n            return true;\n        if (!(obj instanceof User))\n            return false;\n        return getUuid().equals(((User) obj).getUuid());\n    }\n\n    // Getters and setters follow\n}\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> to clarify my point regarding calls to <code>setUuid()</code> method. Here's a typical scenario:</p>\n\n<pre><code>User user = new User();\n// user.setUuid(UUID.randomUUID()); // I should have called it here\nuser.setName(\"Master Yoda\");\nuser.setEmail(\"yoda@jedicouncil.org\");\n\njediSet.add(user); // here's bug - we forgot to set UUID and \n                   //we won't find Yoda in Jedi set\n\nem.persist(user); // ensureUuid() was called and printed the log for me.\n\njediCouncilSet.add(user); // Ok, we got a UUID now\n</code></pre>\n\n<p>When I run my tests and see the log output I fix the problem:</p>\n\n<pre><code>User user = new User();\nuser.setUuid(UUID.randomUUID());\n</code></pre>\n\n<p>Alternatively, one can provide a separate constructor:</p>\n\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private int id;  // Persistence ID\n    private UUID uuid; // Business ID\n\n    ... // fields\n\n    // Constructor for Persistence provider to use\n    public User() {\n    }\n\n    // Constructor I use when creating new entities\n    public User(UUID uuid) {\n        setUuid(uuid);\n    }\n\n    ... // rest of the entity.\n}\n</code></pre>\n\n<p>So my example would look like this:</p>\n\n<pre><code>User user = new User(UUID.randomUUID());\n...\njediSet.add(user); // no bug this time\n\nem.persist(user); // and no log output\n</code></pre>\n\n<p>I use a default constructor and a setter, but you may find two-constructors approach more suitable for you.</p>\n"},{"tags":[],"owner":{"account_id":104022,"reputation":1332,"user_id":278325,"accept_rate":69,"display_name":"Drew"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1298757415,"creation_date":1298757415,"answer_id":5130025,"question_id":5031614,"body_markdown":"I agree with Andrew&#39;s answer. We do the same thing in our application but instead of storing UUIDs as VARCHAR/CHAR, we split it into two long values. See UUID.getLeastSignificantBits() and UUID.getMostSignificantBits().\r\n\r\nOne more thing to consider, is that calls to UUID.randomUUID() are pretty slow, so you might want to look into lazily generating the UUID only when needed, such as during persistence or calls to equals()/hashCode()\r\n\r\n    @MappedSuperclass\r\n    public abstract class AbstractJpaEntity extends AbstractMutable implements Identifiable, Modifiable {\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= 1L;\r\n    \r\n    \t@Version\r\n    \t@Column(name = &quot;version&quot;, nullable = false)\r\n    \tprivate int\t\t\t\t\tversion\t\t\t\t= 0;\r\n    \r\n    \t@Column(name = &quot;uuid_least_sig_bits&quot;)\r\n    \tprivate long\t\t\t\tuuidLeastSigBits\t= 0;\r\n    \r\n    \t@Column(name = &quot;uuid_most_sig_bits&quot;)\r\n    \tprivate long\t\t\t\tuuidMostSigBits\t\t= 0;\r\n    \r\n    \tprivate transient int\t\thashCode\t\t\t= 0;\r\n    \r\n    \tpublic AbstractJpaEntity() {\r\n    \t\t//\r\n    \t}\r\n    \r\n    \tpublic abstract Integer getId();\r\n    \r\n    \tpublic abstract void setId(final Integer id);\r\n    \r\n    \tpublic boolean isPersisted() {\r\n    \t\treturn getId() != null;\r\n    \t}\r\n    \r\n    \tpublic int getVersion() {\r\n    \t\treturn version;\r\n    \t}\r\n    \r\n    \t//calling UUID.randomUUID() is pretty expensive, \r\n    \t//so this is to lazily initialize uuid bits.\r\n    \tprivate void initUUID() {\r\n    \t\tfinal UUID uuid = UUID.randomUUID();\r\n    \t\tuuidLeastSigBits = uuid.getLeastSignificantBits();\r\n    \t\tuuidMostSigBits = uuid.getMostSignificantBits();\r\n    \t}\r\n    \r\n    \tpublic long getUuidLeastSigBits() {\r\n    \t\t//its safe to assume uuidMostSigBits of a valid UUID is never zero\r\n    \t\tif (uuidMostSigBits == 0) {\r\n    \t\t\tinitUUID();\r\n    \t\t}\r\n    \t\treturn uuidLeastSigBits;\r\n    \t}\r\n    \r\n    \tpublic long getUuidMostSigBits() {\r\n    \t\t//its safe to assume uuidMostSigBits of a valid UUID is never zero\r\n    \t\tif (uuidMostSigBits == 0) {\r\n    \t\t\tinitUUID();\r\n    \t\t}\r\n    \t\treturn uuidMostSigBits;\r\n    \t}\r\n    \r\n    \tpublic UUID getUuid() {\r\n    \t\treturn new UUID(getUuidMostSigBits(), getUuidLeastSigBits());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tif (hashCode == 0) {\r\n    \t\t\thashCode = (int) (getUuidMostSigBits() &gt;&gt; 32 ^ getUuidMostSigBits() ^ getUuidLeastSigBits() &gt;&gt; 32 ^ getUuidLeastSigBits());\r\n    \t\t}\r\n    \t\treturn hashCode;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(final Object obj) {\r\n    \t\tif (obj == null) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (!(obj instanceof AbstractJpaEntity)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t//UUID guarantees a pretty good uniqueness factor across distributed systems, so we can safely\r\n    \t\t//dismiss getClass().equals(obj.getClass()) here since the chance of two different objects (even \r\n    \t\t//if they have different types) having the same UUID is astronomical\r\n    \t\tfinal AbstractJpaEntity entity = (AbstractJpaEntity) obj;\r\n    \t\treturn getUuidMostSigBits() == entity.getUuidMostSigBits() &amp;&amp; getUuidLeastSigBits() == entity.getUuidLeastSigBits();\r\n    \t}\r\n    \r\n    \t@PrePersist\r\n    \tpublic void prePersist() {\r\n    \t\t// make sure the uuid is set before persisting\r\n    \t\tgetUuidLeastSigBits();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"The JPA hashCode() / equals() dilemma","body":"<p>I agree with Andrew's answer. We do the same thing in our application but instead of storing UUIDs as VARCHAR/CHAR, we split it into two long values. See UUID.getLeastSignificantBits() and UUID.getMostSignificantBits().</p>\n\n<p>One more thing to consider, is that calls to UUID.randomUUID() are pretty slow, so you might want to look into lazily generating the UUID only when needed, such as during persistence or calls to equals()/hashCode()</p>\n\n<pre><code>@MappedSuperclass\npublic abstract class AbstractJpaEntity extends AbstractMutable implements Identifiable, Modifiable {\n\n    private static final long   serialVersionUID    = 1L;\n\n    @Version\n    @Column(name = \"version\", nullable = false)\n    private int                 version             = 0;\n\n    @Column(name = \"uuid_least_sig_bits\")\n    private long                uuidLeastSigBits    = 0;\n\n    @Column(name = \"uuid_most_sig_bits\")\n    private long                uuidMostSigBits     = 0;\n\n    private transient int       hashCode            = 0;\n\n    public AbstractJpaEntity() {\n        //\n    }\n\n    public abstract Integer getId();\n\n    public abstract void setId(final Integer id);\n\n    public boolean isPersisted() {\n        return getId() != null;\n    }\n\n    public int getVersion() {\n        return version;\n    }\n\n    //calling UUID.randomUUID() is pretty expensive, \n    //so this is to lazily initialize uuid bits.\n    private void initUUID() {\n        final UUID uuid = UUID.randomUUID();\n        uuidLeastSigBits = uuid.getLeastSignificantBits();\n        uuidMostSigBits = uuid.getMostSignificantBits();\n    }\n\n    public long getUuidLeastSigBits() {\n        //its safe to assume uuidMostSigBits of a valid UUID is never zero\n        if (uuidMostSigBits == 0) {\n            initUUID();\n        }\n        return uuidLeastSigBits;\n    }\n\n    public long getUuidMostSigBits() {\n        //its safe to assume uuidMostSigBits of a valid UUID is never zero\n        if (uuidMostSigBits == 0) {\n            initUUID();\n        }\n        return uuidMostSigBits;\n    }\n\n    public UUID getUuid() {\n        return new UUID(getUuidMostSigBits(), getUuidLeastSigBits());\n    }\n\n    @Override\n    public int hashCode() {\n        if (hashCode == 0) {\n            hashCode = (int) (getUuidMostSigBits() &gt;&gt; 32 ^ getUuidMostSigBits() ^ getUuidLeastSigBits() &gt;&gt; 32 ^ getUuidLeastSigBits());\n        }\n        return hashCode;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (!(obj instanceof AbstractJpaEntity)) {\n            return false;\n        }\n        //UUID guarantees a pretty good uniqueness factor across distributed systems, so we can safely\n        //dismiss getClass().equals(obj.getClass()) here since the chance of two different objects (even \n        //if they have different types) having the same UUID is astronomical\n        final AbstractJpaEntity entity = (AbstractJpaEntity) obj;\n        return getUuidMostSigBits() == entity.getUuidMostSigBits() &amp;&amp; getUuidLeastSigBits() == entity.getUuidLeastSigBits();\n    }\n\n    @PrePersist\n    public void prePersist() {\n        // make sure the uuid is set before persisting\n        getUuidLeastSigBits();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64584,"reputation":15556,"user_id":190596,"accept_rate":81,"display_name":"Stijn Geukens"},"down_vote_count":0,"up_vote_count":158,"is_accepted":false,"score":158,"last_activity_date":1529016791,"creation_date":1303301342,"answer_id":5729992,"question_id":5031614,"body_markdown":"Read this very nice article on the subject: [Don&#39;t Let Hibernate Steal Your Identity][1].\r\n\r\nThe conclusion of the article goes like this:\r\n\r\n&gt; Object identity is deceptively hard to implement correctly when\r\n&gt; objects are persisted to a database. However, the problems stem\r\n&gt; entirely from allowing objects to exist without an id before they are\r\n&gt; saved. We can solve these problems by taking the responsibility of\r\n&gt; assigning object IDs away from object-relational mapping frameworks\r\n&gt; such as Hibernate. Instead, object IDs can be assigned as soon as the\r\n&gt; object is instantiated. This makes object identity simple and\r\n&gt; error-free, and reduces the amount of code needed in the domain model.\r\n\r\n  [1]: https://web.archive.org/web/20171211235806/http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html","title":"The JPA hashCode() / equals() dilemma","body":"<p>Read this very nice article on the subject: <a href=\"https://web.archive.org/web/20171211235806/http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html\" rel=\"noreferrer\">Don't Let Hibernate Steal Your Identity</a>.</p>\n\n<p>The conclusion of the article goes like this:</p>\n\n<blockquote>\n  <p>Object identity is deceptively hard to implement correctly when\n  objects are persisted to a database. However, the problems stem\n  entirely from allowing objects to exist without an id before they are\n  saved. We can solve these problems by taking the responsibility of\n  assigning object IDs away from object-relational mapping frameworks\n  such as Hibernate. Instead, object IDs can be assigned as soon as the\n  object is instantiated. This makes object identity simple and\n  error-free, and reduces the amount of code needed in the domain model.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":433180,"reputation":611,"user_id":818375,"accept_rate":56,"display_name":"illEatYourPuppies"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339768222,"creation_date":1339768222,"answer_id":11051931,"question_id":5031614,"body_markdown":"If UUID is the answer for many people, why don&#39;t we just use factory methods from business layer to create the entities and assign primary key at creation time?\r\n\r\nfor example:\r\n\r\n    @ManagedBean\r\n    public class MyCarFacade {\r\n      public Car createCar(){\r\n        Car car = new Car();\r\n        em.persist(car);\r\n        return car;\r\n      }\r\n    }\r\n\r\nthis way we would get a default primary key for the entity from the persistence provider, and our hashCode() and equals() functions could rely on that.\r\n\r\n We could also declare the Car&#39;s constructors protected and then use reflection in our business method to access them. This way developers would not be intent on instantiate Car with new, but through factory method.\r\n\r\nHow&#39;bout that?","title":"The JPA hashCode() / equals() dilemma","body":"<p>If UUID is the answer for many people, why don't we just use factory methods from business layer to create the entities and assign primary key at creation time?</p>\n\n<p>for example:</p>\n\n<pre><code>@ManagedBean\npublic class MyCarFacade {\n  public Car createCar(){\n    Car car = new Car();\n    em.persist(car);\n    return car;\n  }\n}\n</code></pre>\n\n<p>this way we would get a default primary key for the entity from the persistence provider, and our hashCode() and equals() functions could rely on that.</p>\n\n<p>We could also declare the Car's constructors protected and then use reflection in our business method to access them. This way developers would not be intent on instantiate Car with new, but through factory method.</p>\n\n<p>How'bout that?</p>\n"},{"tags":[],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1695479096,"creation_date":1367742611,"answer_id":16382764,"question_id":5031614,"body_markdown":"[Jakarta Persistence 3.0, section 4.12](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5735) writes:\r\n\r\n&gt; Two entities of the same abstract schema type are equal if and only if they have the same primary key value.\r\n\r\nI see no reason why Java code should behave differently.\r\n\r\nIf the entity class is in a so called &quot;transient&quot; state, i.e. it&#39;s not yet persisted and it has no identifier, then the hashCode/equals methods can not return a value, they ought to blow up, ideally implicitly with a `NullPointerException` when the method attempts to traverse the ID. Either way, this will effectively stop application code from putting a non-managed entity into a hash-based data structure. In fact, why not go one step further and blow up if the class and identifier are equal, but other important attributes such as the `version` are unequal (`IllegalStateException`)! [Fail-fast](https://www.martinfowler.com/ieeeSoftware/failFast.pdf) in a deterministic way is always the preferred option.\r\n\r\nWord of caution: Also document the blowing-up behavior. Documentation is important in and by itself, but it will hopefully also stop junior developers in the future to do something stupid with your code (they have this tendency to suppress NullPointerException where it happened and the last thing on their mind is side-effects lol).\r\n\r\nOh, and always use `getClass()` instead of `instanceof`. The equals-method requires symmetry. If `b` is equal to `a`, then `a` must be equal to `b`. With subclasses, `instanceof` breaks this relationship (`a` is _not_ instance of `b`).\r\n\r\nAlthough I personally always use `getClass()` even when implementing non-entity classes (the type _is_ state, and so a subclass _adds state_ even if the subclass is empty or only contains behavior), `instanceof` would&#39;ve been fine only if the class is _final_. But entity classes must not be final ([&#167;2.1](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a18)) so we&#39;re really out of options here.\r\n\r\nSome folks may not like `getClass()`, because of the persistence provider&#39;s proxy wrapping the object. This might have been a problem in the past, but it really shouldn&#39;t be. A provider not returning different proxy classes for different entities, well, I&#39;d say that&#39;s not a very smart provider lol. Generally, we shouldn&#39;t solve a problem until there is a problem. And, it seems like Hibernate&#39;s own documentation doesn&#39;t even see it worthwhile mentioning. In fact, they elegantly use `getClass()` in their own examples ([see this](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#mapping-model-pojo-equalshashcode)).\r\n\r\nLastly, if one has an entity subclass that is an entity, and the inheritance mapping strategy used is not the default (&quot;single table&quot;), but configured to be a &quot;joined subtype&quot;, then the primary key in that subclass table _will be the same_ as the superclass table. If the mapping strategy is &quot;table per concrete class&quot;, then the primary key _may be the same_ as in the superclass. An entity subclass is very likely to be adding state and therefore just as likely to be logically a different thing. But an equals implementation using `instanceof` can not necessarily and secondarily rely on the ID only, as we saw may be the same for different entities.\r\n\r\nIn my opinion, `instanceof` has no place at all in a non-final Java class, ever. This is especially true for persistent entities.","title":"The JPA hashCode() / equals() dilemma","body":"<p><a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5735\" rel=\"nofollow noreferrer\">Jakarta Persistence 3.0, section 4.12</a> writes:</p>\n<blockquote>\n<p>Two entities of the same abstract schema type are equal if and only if they have the same primary key value.</p>\n</blockquote>\n<p>I see no reason why Java code should behave differently.</p>\n<p>If the entity class is in a so called &quot;transient&quot; state, i.e. it's not yet persisted and it has no identifier, then the hashCode/equals methods can not return a value, they ought to blow up, ideally implicitly with a <code>NullPointerException</code> when the method attempts to traverse the ID. Either way, this will effectively stop application code from putting a non-managed entity into a hash-based data structure. In fact, why not go one step further and blow up if the class and identifier are equal, but other important attributes such as the <code>version</code> are unequal (<code>IllegalStateException</code>)! <a href=\"https://www.martinfowler.com/ieeeSoftware/failFast.pdf\" rel=\"nofollow noreferrer\">Fail-fast</a> in a deterministic way is always the preferred option.</p>\n<p>Word of caution: Also document the blowing-up behavior. Documentation is important in and by itself, but it will hopefully also stop junior developers in the future to do something stupid with your code (they have this tendency to suppress NullPointerException where it happened and the last thing on their mind is side-effects lol).</p>\n<p>Oh, and always use <code>getClass()</code> instead of <code>instanceof</code>. The equals-method requires symmetry. If <code>b</code> is equal to <code>a</code>, then <code>a</code> must be equal to <code>b</code>. With subclasses, <code>instanceof</code> breaks this relationship (<code>a</code> is <em>not</em> instance of <code>b</code>).</p>\n<p>Although I personally always use <code>getClass()</code> even when implementing non-entity classes (the type <em>is</em> state, and so a subclass <em>adds state</em> even if the subclass is empty or only contains behavior), <code>instanceof</code> would've been fine only if the class is <em>final</em>. But entity classes must not be final (<a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a18\" rel=\"nofollow noreferrer\">2.1</a>) so we're really out of options here.</p>\n<p>Some folks may not like <code>getClass()</code>, because of the persistence provider's proxy wrapping the object. This might have been a problem in the past, but it really shouldn't be. A provider not returning different proxy classes for different entities, well, I'd say that's not a very smart provider lol. Generally, we shouldn't solve a problem until there is a problem. And, it seems like Hibernate's own documentation doesn't even see it worthwhile mentioning. In fact, they elegantly use <code>getClass()</code> in their own examples (<a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#mapping-model-pojo-equalshashcode\" rel=\"nofollow noreferrer\">see this</a>).</p>\n<p>Lastly, if one has an entity subclass that is an entity, and the inheritance mapping strategy used is not the default (&quot;single table&quot;), but configured to be a &quot;joined subtype&quot;, then the primary key in that subclass table <em>will be the same</em> as the superclass table. If the mapping strategy is &quot;table per concrete class&quot;, then the primary key <em>may be the same</em> as in the superclass. An entity subclass is very likely to be adding state and therefore just as likely to be logically a different thing. But an equals implementation using <code>instanceof</code> can not necessarily and secondarily rely on the ID only, as we saw may be the same for different entities.</p>\n<p>In my opinion, <code>instanceof</code> has no place at all in a non-final Java class, ever. This is especially true for persistent entities.</p>\n"},{"tags":[],"owner":{"account_id":2333997,"reputation":825,"user_id":2046738,"accept_rate":0,"display_name":"Neil Stevens"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377898252,"creation_date":1377898252,"answer_id":18541744,"question_id":5031614,"body_markdown":"I have always used option 1 in the past because I was aware of these discussions and thought it was better to do nothing until I knew the right thing to do. Those systems are all still running successfully.\r\n\r\nHowever, next time I may try option 2 - using the database generated Id.\r\n\r\nHashcode and equals will throw IllegalStateException if the id is not set.\r\n\r\nThis will prevent subtle errors involving unsaved entities from appearing unexpectedly.\r\n\r\nWhat do people think of this approach?\r\n","title":"The JPA hashCode() / equals() dilemma","body":"<p>I have always used option 1 in the past because I was aware of these discussions and thought it was better to do nothing until I knew the right thing to do. Those systems are all still running successfully.</p>\n\n<p>However, next time I may try option 2 - using the database generated Id.</p>\n\n<p>Hashcode and equals will throw IllegalStateException if the id is not set.</p>\n\n<p>This will prevent subtle errors involving unsaved entities from appearing unexpectedly.</p>\n\n<p>What do people think of this approach?</p>\n"},{"tags":[],"owner":{"account_id":3021339,"reputation":7370,"user_id":2562319,"display_name":"jbyler"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1556665074,"creation_date":1379035377,"answer_id":18776798,"question_id":5031614,"body_markdown":"Although using a business key (option 3) is the most commonly recommended approach ([Hibernate community wiki][1], &quot;Java Persistence with Hibernate&quot; p. 398), and this is what we mostly use, there&#39;s a Hibernate bug which breaks this for eager-fetched sets: [HHH-3799][2].  In this case, Hibernate can add an entity to a set before its fields are initialized.  I&#39;m not sure why this bug hasn&#39;t gotten more attention, as it really makes the recommended business-key approach problematic.\r\n\r\nI think the heart of the matter is that equals and hashCode should be based on immutable state (reference [Odersky et al.][3]), and a Hibernate entity with Hibernate-managed primary key has *no* such immutable state.  The primary key is modified by Hibernate when a transient object becomes persistent.  The business key is also modified by Hibernate, when it hydrates an object in the process of being initialized.\r\n\r\nThat leaves only option 1, inheriting the java.lang.Object implementations based on object identity, or using an application-managed primary key as suggested by James Brundege in [&quot;Don&#39;t Let Hibernate Steal Your Identity&quot;][4] (already referenced by Stijn Geukens&#39;s answer) and by Lance Arlaus in [&quot;Object Generation: A Better Approach to Hibernate Integration&quot;][5].\r\n\r\nThe biggest problem with option 1 is that detached instances can&#39;t be compared with persistent instances using .equals().  But that&#39;s OK; the contract of equals and hashCode leaves it up to the developer to decide what equality means for each class.  So just let equals and hashCode inherit from Object.  If you need to compare a detached instance to a persistent instance, you can create a new method explicitly for that purpose, perhaps `boolean sameEntity` or `boolean dbEquivalent` or `boolean businessEquals`.\r\n\r\n  [1]: https://community.jboss.org/wiki/EqualsAndHashCode\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-3799\r\n  [3]: http://www.artima.com/lejava/articles/equality.html\r\n  [4]: https://web.archive.org/web/20180506060716/http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html\r\n  [5]: http://www.devx.com/Java/Article/30396","title":"The JPA hashCode() / equals() dilemma","body":"<p>Although using a business key (option 3) is the most commonly recommended approach (<a href=\"https://community.jboss.org/wiki/EqualsAndHashCode\" rel=\"noreferrer\">Hibernate community wiki</a>, \"Java Persistence with Hibernate\" p. 398), and this is what we mostly use, there's a Hibernate bug which breaks this for eager-fetched sets: <a href=\"https://hibernate.atlassian.net/browse/HHH-3799\" rel=\"noreferrer\">HHH-3799</a>.  In this case, Hibernate can add an entity to a set before its fields are initialized.  I'm not sure why this bug hasn't gotten more attention, as it really makes the recommended business-key approach problematic.</p>\n\n<p>I think the heart of the matter is that equals and hashCode should be based on immutable state (reference <a href=\"http://www.artima.com/lejava/articles/equality.html\" rel=\"noreferrer\">Odersky et al.</a>), and a Hibernate entity with Hibernate-managed primary key has <em>no</em> such immutable state.  The primary key is modified by Hibernate when a transient object becomes persistent.  The business key is also modified by Hibernate, when it hydrates an object in the process of being initialized.</p>\n\n<p>That leaves only option 1, inheriting the java.lang.Object implementations based on object identity, or using an application-managed primary key as suggested by James Brundege in <a href=\"https://web.archive.org/web/20180506060716/http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html\" rel=\"noreferrer\">\"Don't Let Hibernate Steal Your Identity\"</a> (already referenced by Stijn Geukens's answer) and by Lance Arlaus in <a href=\"http://www.devx.com/Java/Article/30396\" rel=\"noreferrer\">\"Object Generation: A Better Approach to Hibernate Integration\"</a>.</p>\n\n<p>The biggest problem with option 1 is that detached instances can't be compared with persistent instances using .equals().  But that's OK; the contract of equals and hashCode leaves it up to the developer to decide what equality means for each class.  So just let equals and hashCode inherit from Object.  If you need to compare a detached instance to a persistent instance, you can create a new method explicitly for that purpose, perhaps <code>boolean sameEntity</code> or <code>boolean dbEquivalent</code> or <code>boolean businessEquals</code>.</p>\n"},{"tags":[],"owner":{"account_id":2381975,"reputation":9,"user_id":2083808,"display_name":"user2083808"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1391794436,"creation_date":1391610659,"answer_id":21580054,"question_id":5031614,"body_markdown":"I tried to answer this question myself and was never totally happy with found solutions until i read this post and especially DREW one. I liked the way he lazy created UUID and optimally stored it.\r\n\r\nBut I wanted to add even more flexibility, ie lazy create UUID ONLY when hashCode()/equals() is accessed before first persistence of the entity with each solution&#39;s advantages : \r\n \r\n - equals() means &quot;object refers to the same logical entity&quot;\r\n - use database ID as much as possible because why would I do the work twice (performance concern)\r\n - prevent problem while accessing hashCode()/equals() on not yet persisted entity and keep the same behaviour after it is indeed persisted\r\n\r\nI would really apreciate feedback on my mixed-solution below\r\n\r\n    \r\n\r\n&gt;     public class MyEntity { \r\n\r\n&gt;         @Id()\r\n&gt;         @Column(name = &quot;ID&quot;, length = 20, nullable = false, unique = true)\r\n&gt;         @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n&gt;         private Long id = null;\r\n\r\n&gt;         @Transient private UUID uuid = null;\r\n\r\n&gt;         @Column(name = &quot;UUID_MOST&quot;, nullable = true, unique = false, updatable = false)\r\n&gt;         private Long uuidMostSignificantBits = null;\r\n&gt;         @Column(name = &quot;UUID_LEAST&quot;, nullable = true, unique = false, updatable = false)\r\n&gt;         private Long uuidLeastSignificantBits = null;\r\n\r\n&gt;         @Override\r\n&gt;         public final int hashCode() {\r\n&gt;             return this.getUuid().hashCode();\r\n&gt;         }\r\n\r\n&gt;         @Override\r\n&gt;         public final boolean equals(Object toBeCompared) {\r\n&gt;             if(this == toBeCompared) {\r\n&gt;                 return true;\r\n&gt;             }\r\n&gt;             if(toBeCompared == null) {\r\n&gt;                 return false;\r\n&gt;             }\r\n&gt;             if(!this.getClass().isInstance(toBeCompared)) {\r\n&gt;                 return false;\r\n&gt;             }\r\n&gt;             return this.getUuid().equals(((MyEntity)toBeCompared).getUuid());\r\n&gt;         }\r\n\r\n&gt;         public final UUID getUuid() {\r\n&gt;             // UUID already accessed on this physical object\r\n&gt;             if(this.uuid != null) {\r\n&gt;                 return this.uuid;\r\n&gt;             }\r\n&gt;             // UUID one day generated on this entity before it was persisted\r\n&gt;             if(this.uuidMostSignificantBits != null) {\r\n&gt;                 this.uuid = new UUID(this.uuidMostSignificantBits, this.uuidLeastSignificantBits);\r\n&gt;             // UUID never generated on this entity before it was persisted\r\n&gt;             } else if(this.getId() != null) {\r\n&gt;                 this.uuid = new UUID(this.getId(), this.getId());\r\n&gt;             // UUID never accessed on this not yet persisted entity\r\n&gt;             } else {\r\n&gt;                 this.setUuid(UUID.randomUUID());\r\n&gt;             }\r\n&gt;             return this.uuid; \r\n&gt;         }\r\n\r\n&gt;         private void setUuid(UUID uuid) {\r\n&gt;             if(uuid == null) {\r\n&gt;                 return;\r\n&gt;             }\r\n&gt;             // For the one hypothetical case where generated UUID could colude with UUID build from IDs\r\n&gt;             if(uuid.getMostSignificantBits() == uuid.getLeastSignificantBits()) {\r\n&gt;                 throw new Exception(&quot;UUID: &quot; + this.getUuid() + &quot; format is only for internal use&quot;);\r\n&gt;             }\r\n&gt;             this.uuidMostSignificantBits = uuid.getMostSignificantBits();\r\n&gt;             this.uuidLeastSignificantBits = uuid.getLeastSignificantBits();\r\n&gt;             this.uuid = uuid;\r\n&gt;         }\r\n\r\n\r\n","title":"The JPA hashCode() / equals() dilemma","body":"<p>I tried to answer this question myself and was never totally happy with found solutions until i read this post and especially DREW one. I liked the way he lazy created UUID and optimally stored it.</p>\n\n<p>But I wanted to add even more flexibility, ie lazy create UUID ONLY when hashCode()/equals() is accessed before first persistence of the entity with each solution's advantages : </p>\n\n<ul>\n<li>equals() means \"object refers to the same logical entity\"</li>\n<li>use database ID as much as possible because why would I do the work twice (performance concern)</li>\n<li>prevent problem while accessing hashCode()/equals() on not yet persisted entity and keep the same behaviour after it is indeed persisted</li>\n</ul>\n\n<p>I would really apreciate feedback on my mixed-solution below</p>\n\n<blockquote>\n<pre><code>public class MyEntity { \n\n    @Id()\n    @Column(name = \"ID\", length = 20, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id = null;\n\n    @Transient private UUID uuid = null;\n\n    @Column(name = \"UUID_MOST\", nullable = true, unique = false, updatable = false)\n    private Long uuidMostSignificantBits = null;\n    @Column(name = \"UUID_LEAST\", nullable = true, unique = false, updatable = false)\n    private Long uuidLeastSignificantBits = null;\n\n    @Override\n    public final int hashCode() {\n        return this.getUuid().hashCode();\n    }\n\n    @Override\n    public final boolean equals(Object toBeCompared) {\n        if(this == toBeCompared) {\n            return true;\n        }\n        if(toBeCompared == null) {\n            return false;\n        }\n        if(!this.getClass().isInstance(toBeCompared)) {\n            return false;\n        }\n        return this.getUuid().equals(((MyEntity)toBeCompared).getUuid());\n    }\n\n    public final UUID getUuid() {\n        // UUID already accessed on this physical object\n        if(this.uuid != null) {\n            return this.uuid;\n        }\n        // UUID one day generated on this entity before it was persisted\n        if(this.uuidMostSignificantBits != null) {\n            this.uuid = new UUID(this.uuidMostSignificantBits, this.uuidLeastSignificantBits);\n        // UUID never generated on this entity before it was persisted\n        } else if(this.getId() != null) {\n            this.uuid = new UUID(this.getId(), this.getId());\n        // UUID never accessed on this not yet persisted entity\n        } else {\n            this.setUuid(UUID.randomUUID());\n        }\n        return this.uuid; \n    }\n\n    private void setUuid(UUID uuid) {\n        if(uuid == null) {\n            return;\n        }\n        // For the one hypothetical case where generated UUID could colude with UUID build from IDs\n        if(uuid.getMostSignificantBits() == uuid.getLeastSignificantBits()) {\n            throw new Exception(\"UUID: \" + this.getUuid() + \" format is only for internal use\");\n        }\n        this.uuidMostSignificantBits = uuid.getMostSignificantBits();\n        this.uuidLeastSignificantBits = uuid.getLeastSignificantBits();\n        this.uuid = uuid;\n    }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1234733,"reputation":20412,"user_id":1198559,"accept_rate":70,"display_name":"jhegedus"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1391779541,"creation_date":1391779541,"answer_id":21628957,"question_id":5031614,"body_markdown":"Below is a **simple** (and tested) solution for Scala. \r\n\r\n - Note that this solution does not fit into any of the 3 categories\r\n   given in the question.  \r\n   \r\n - All my Entities are subclasses of the UUIDEntity so I follow the\r\n   don&#39;t-repeat-yourself (DRY) principle.\r\n   \r\n - If needed the UUID generation can be made more precise (by using more\r\n   pseudo-random numbers).\r\n\r\nScala Code:\r\n\r\n    import javax.persistence._\r\n    import scala.util.Random\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    abstract class UUIDEntity {\r\n      @Id  @GeneratedValue(strategy = GenerationType.TABLE)\r\n      var id:java.lang.Long=null\r\n      var uuid:java.lang.Long=Random.nextLong()\r\n      override def equals(o:Any):Boolean= \r\n        o match{\r\n          case o : UUIDEntity =&gt; o.uuid==uuid\r\n          case _ =&gt; false\r\n        }\r\n      override def hashCode() = uuid.hashCode()\r\n    }","title":"The JPA hashCode() / equals() dilemma","body":"<p>Below is a <strong>simple</strong> (and tested) solution for Scala. </p>\n\n<ul>\n<li><p>Note that this solution does not fit into any of the 3 categories\ngiven in the question.  </p></li>\n<li><p>All my Entities are subclasses of the UUIDEntity so I follow the\ndon't-repeat-yourself (DRY) principle.</p></li>\n<li><p>If needed the UUID generation can be made more precise (by using more\npseudo-random numbers).</p></li>\n</ul>\n\n<p>Scala Code:</p>\n\n<pre><code>import javax.persistence._\nimport scala.util.Random\n\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nabstract class UUIDEntity {\n  @Id  @GeneratedValue(strategy = GenerationType.TABLE)\n  var id:java.lang.Long=null\n  var uuid:java.lang.Long=Random.nextLong()\n  override def equals(o:Any):Boolean= \n    o match{\n      case o : UUIDEntity =&gt; o.uuid==uuid\n      case _ =&gt; false\n    }\n  override def hashCode() = uuid.hashCode()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2017799,"reputation":3789,"user_id":1804661,"accept_rate":50,"display_name":"Christopher Yang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1413395371,"creation_date":1413390756,"answer_id":26387579,"question_id":5031614,"body_markdown":"This is a common problem in every IT system that uses Java and JPA. The pain point extends beyond implementing equals() and hashCode(), it affects how an organization refer to an entity and how its clients refer to the same entity. I&#39;ve seen enough pain of not having a business key to the point that I wrote [my own blog][1] to express my view.\r\n\r\nIn short: use a short, human readable, sequential ID with meaningful prefixes as business key that&#39;s generated without any dependency on any storage other than RAM. Twitter&#39;s [Snowflake][2] is a very good example.\r\n\r\n\r\n  [1]: http://geeksrandomthoughts.blogspot.com/2014/10/my-take-on-dont-let-hibernate-steal.html\r\n  [2]: https://github.com/twitter/snowflake","title":"The JPA hashCode() / equals() dilemma","body":"<p>This is a common problem in every IT system that uses Java and JPA. The pain point extends beyond implementing equals() and hashCode(), it affects how an organization refer to an entity and how its clients refer to the same entity. I've seen enough pain of not having a business key to the point that I wrote <a href=\"http://geeksrandomthoughts.blogspot.com/2014/10/my-take-on-dont-let-hibernate-steal.html\" rel=\"nofollow\">my own blog</a> to express my view.</p>\n\n<p>In short: use a short, human readable, sequential ID with meaningful prefixes as business key that's generated without any dependency on any storage other than RAM. Twitter's <a href=\"https://github.com/twitter/snowflake\" rel=\"nofollow\">Snowflake</a> is a very good example.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1677740099,"creation_date":1415518633,"answer_id":26826084,"question_id":5031614,"body_markdown":" 1. If you have a business key, then you should use that for `equals` and [`hashCode`](http://vladmihalcea.com/hibernate-facts-equals-and-hashcode/).\r\n 2. If you don&#39;t have a business key, you should not leave it with the default `Object` equals and hashCode implementations because that does not work after you `merge` and entity.\r\n 3. You can use the entity identifier in the [`equals`](https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-entity-identifier/) method only if the `hashCode` implementation returns a constant value, like this:\r\n\r\n        @Entity\r\n        public class Book {\r\n         \r\n            @Id\r\n            @GeneratedValue\r\n            private Long id;\r\n         \r\n            private String title;\r\n         \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) return true;\r\n                if (!(o instanceof Book)) return false;\r\n                Book book = (Book) o;\r\n                return getId() != null &amp;&amp; Objects.equals(getId(), book.getId());\r\n            }\r\n         \r\n            @Override\r\n            public int hashCode() {\r\n                return getClass().hashCode();\r\n            }\r\n         \r\n            //Getters and setters omitted for brevity\r\n        }\r\n\r\nCheck out this [test case on GitHub](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/equality/IdEqualityTest.java) that proves this solution works like a charm.","title":"The JPA hashCode() / equals() dilemma","body":"<ol>\n<li><p>If you have a business key, then you should use that for <code>equals</code> and <a href=\"http://vladmihalcea.com/hibernate-facts-equals-and-hashcode/\" rel=\"nofollow noreferrer\"><code>hashCode</code></a>.</p>\n</li>\n<li><p>If you don't have a business key, you should not leave it with the default <code>Object</code> equals and hashCode implementations because that does not work after you <code>merge</code> and entity.</p>\n</li>\n<li><p>You can use the entity identifier in the <a href=\"https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-entity-identifier/\" rel=\"nofollow noreferrer\"><code>equals</code></a> method only if the <code>hashCode</code> implementation returns a constant value, like this:</p>\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String title;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return getId() != null &amp;&amp; Objects.equals(getId(), book.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n</li>\n</ol>\n<p>Check out this <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/equality/IdEqualityTest.java\" rel=\"nofollow noreferrer\">test case on GitHub</a> that proves this solution works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":6119678,"reputation":157,"user_id":4773603,"display_name":"Demel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428672007,"creation_date":1428671572,"answer_id":29562376,"question_id":5031614,"body_markdown":"Business keys approach doesn&#39;t suit for us. We use DB generated **ID**, temporary transient **tempId** and **override** equal()/hashcode() to solve the dilemma. All entities are descendants of Entity. Pros:\r\n\r\n 1. No extra fields in DB\r\n 1. No extra coding in descendants entities, one approach for all\r\n 1. No performance issues (like with UUID), DB Id generation\r\n 1. No problem with Hashmaps (don&#39;t need to keep in mind the use of equal &amp; etc.)\r\n 1. Hashcode of new entity doesn&#39;t changed in time even after persisting\r\n\r\nCons:\r\n\r\n 1. There are may be problems with serializing and deserializing not persisted entities\r\n 1. Hashcode of the saved entity may change after reloading from DB\r\n 1. Not persisted objects considered always different (maybe this is right?)\r\n 1. What else?\r\n\r\nLook at our code:\r\n\r\n    @MappedSuperclass\r\n    abstract public class Entity implements Serializable {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        @Column(nullable = false, updatable = false)\r\n        protected Long id;\r\n\r\n        @Transient\r\n        private Long tempId;\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        private void setTempId(Long tempId) {\r\n            this.tempId = tempId;\r\n        }\r\n\r\n        // Fix Id on first call from equal() or hashCode()\r\n        private Long getTempId() {\r\n            if (tempId == null)\r\n                // if we have id already, use it, else use 0\r\n                setTempId(getId() == null ? 0 : getId());\r\n            return tempId;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (super.equals(obj))\r\n                return true;\r\n            // take proxied object into account\r\n            if (obj == null || !Hibernate.getClass(obj).equals(this.getClass()))\r\n                return false;\r\n            Entity o = (Entity) obj;\r\n            return getTempId() != 0 &amp;&amp; o.getTempId() != 0 &amp;&amp; getTempId().equals(o.getTempId());\r\n        }\r\n\r\n        // hash doesn&#39;t change in time\r\n        @Override\r\n        public int hashCode() {\r\n            return getTempId() == 0 ? super.hashCode() : getTempId().hashCode();\r\n        }\r\n    }","title":"The JPA hashCode() / equals() dilemma","body":"<p>Business keys approach doesn't suit for us. We use DB generated <strong>ID</strong>, temporary transient <strong>tempId</strong> and <strong>override</strong> equal()/hashcode() to solve the dilemma. All entities are descendants of Entity. Pros:</p>\n\n<ol>\n<li>No extra fields in DB</li>\n<li>No extra coding in descendants entities, one approach for all</li>\n<li>No performance issues (like with UUID), DB Id generation</li>\n<li>No problem with Hashmaps (don't need to keep in mind the use of equal &amp; etc.)</li>\n<li>Hashcode of new entity doesn't changed in time even after persisting</li>\n</ol>\n\n<p>Cons:</p>\n\n<ol>\n<li>There are may be problems with serializing and deserializing not persisted entities</li>\n<li>Hashcode of the saved entity may change after reloading from DB</li>\n<li>Not persisted objects considered always different (maybe this is right?)</li>\n<li>What else?</li>\n</ol>\n\n<p>Look at our code:</p>\n\n<pre><code>@MappedSuperclass\nabstract public class Entity implements Serializable {\n\n    @Id\n    @GeneratedValue\n    @Column(nullable = false, updatable = false)\n    protected Long id;\n\n    @Transient\n    private Long tempId;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    private void setTempId(Long tempId) {\n        this.tempId = tempId;\n    }\n\n    // Fix Id on first call from equal() or hashCode()\n    private Long getTempId() {\n        if (tempId == null)\n            // if we have id already, use it, else use 0\n            setTempId(getId() == null ? 0 : getId());\n        return tempId;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (super.equals(obj))\n            return true;\n        // take proxied object into account\n        if (obj == null || !Hibernate.getClass(obj).equals(this.getClass()))\n            return false;\n        Entity o = (Entity) obj;\n        return getTempId() != 0 &amp;&amp; o.getTempId() != 0 &amp;&amp; getTempId().equals(o.getTempId());\n    }\n\n    // hash doesn't change in time\n    @Override\n    public int hashCode() {\n        return getTempId() == 0 ? super.hashCode() : getTempId().hashCode();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695130540,"creation_date":1475485517,"answer_id":39827962,"question_id":5031614,"body_markdown":"In practice it seems, that Option 2 (Primary key) is most frequently used.\r\nNatural and IMMUTABLE business key is seldom thing, creating and supporting synthetic keys are too heavy to solve situations, which are probably never happened.\r\nHave a look at &lt;a href=&quot;https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/domain/AbstractPersistable.java&quot;&gt;spring-data-jpa AbstractPersistable&lt;/a&gt; implementation (the only thing: &lt;a href=&quot;https://blog.oio.de/2010/09/24/instanceof-fails-with-hibernate-lazy-loading-and-entity-class-hierarchy/&quot;&gt;for Hibernate  implementation use `Hibernate.getClass`&lt;/a&gt;).\r\n\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (null == obj) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (this == obj) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!getClass().equals(ClassUtils.getUserClass(obj))) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tAbstractPersistable&lt;?&gt; that = (AbstractPersistable&lt;?&gt;) obj;\r\n\t\treturn null == this.getId() ? false : this.getId().equals(that.getId());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tint hashCode = 17;\r\n\t\thashCode += null == getId() ? 0 : getId().hashCode() * 31;\r\n\t\treturn hashCode;\r\n\t}\r\n\r\nJust aware of manipulating new objects in HashSet/HashMap.\r\nIn opposite, the Option 1 (remain `Object` implementation) is broken just after `merge`, that is very common situation. \r\n\r\nIf you have no business key and have a REAL needs to manipulate new entity in hash structure, override `hashCode` to constant, as [Vlad Mihalcea advised](https://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/26826084#26826084).","title":"The JPA hashCode() / equals() dilemma","body":"<p>In practice it seems, that Option 2 (Primary key) is most frequently used.\nNatural and IMMUTABLE business key is seldom thing, creating and supporting synthetic keys are too heavy to solve situations, which are probably never happened.\nHave a look at <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/domain/AbstractPersistable.java\" rel=\"nofollow noreferrer\">spring-data-jpa AbstractPersistable</a> implementation (the only thing: <a href=\"https://blog.oio.de/2010/09/24/instanceof-fails-with-hibernate-lazy-loading-and-entity-class-hierarchy/\" rel=\"nofollow noreferrer\">for Hibernate  implementation use <code>Hibernate.getClass</code></a>).</p>\n<pre><code>public boolean equals(Object obj) {\n    if (null == obj) {\n        return false;\n    }\n    if (this == obj) {\n        return true;\n    }\n    if (!getClass().equals(ClassUtils.getUserClass(obj))) {\n        return false;\n    }\n    AbstractPersistable&lt;?&gt; that = (AbstractPersistable&lt;?&gt;) obj;\n    return null == this.getId() ? false : this.getId().equals(that.getId());\n}\n\n@Override\npublic int hashCode() {\n    int hashCode = 17;\n    hashCode += null == getId() ? 0 : getId().hashCode() * 31;\n    return hashCode;\n}\n</code></pre>\n<p>Just aware of manipulating new objects in HashSet/HashMap.\nIn opposite, the Option 1 (remain <code>Object</code> implementation) is broken just after <code>merge</code>, that is very common situation.</p>\n<p>If you have no business key and have a REAL needs to manipulate new entity in hash structure, override <code>hashCode</code> to constant, as <a href=\"https://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/26826084#26826084\">Vlad Mihalcea advised</a>.</p>\n"},{"tags":[],"owner":{"account_id":1354796,"reputation":1589,"user_id":1293433,"display_name":"aux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522608884,"creation_date":1522608569,"answer_id":49601501,"question_id":5031614,"body_markdown":"Please consider the following approach based on predefined type identifier and the ID.\r\n\r\nThe specific assumptions for JPA:\r\n\r\n* entities of the same &quot;type&quot; and the same non-null ID are considered equal\r\n* non-persisted entities (assuming no ID) are never equal to other entities\r\n\r\nThe abstract entity:\r\n\r\n    @MappedSuperclass\r\n    public abstract class AbstractPersistable&lt;K extends Serializable&gt; {\r\n    \r\n      @Id @GeneratedValue\r\n      private K id;\r\n    \r\n      @Transient\r\n      private final String kind;\r\n    \r\n      public AbstractPersistable(final String kind) {\r\n        this.kind = requireNonNull(kind, &quot;Entity kind cannot be null&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public final boolean equals(final Object obj) {\r\n        if (this == obj) return true;\r\n        if (!(obj instanceof AbstractPersistable)) return false;\r\n        final AbstractPersistable&lt;?&gt; that = (AbstractPersistable&lt;?&gt;) obj;\r\n        return null != this.id\r\n            &amp;&amp; Objects.equals(this.id, that.id)\r\n            &amp;&amp; Objects.equals(this.kind, that.kind);\r\n      }\r\n    \r\n      @Override\r\n      public final int hashCode() {\r\n        return Objects.hash(kind, id);\r\n      }\r\n    \r\n      public K getId() {\r\n        return id;\r\n      }\r\n    \r\n      protected void setId(final K id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n\r\nConcrete entity example:\r\n\r\n    static class Foo extends AbstractPersistable&lt;Long&gt; {\r\n      public Foo() {\r\n        super(&quot;Foo&quot;);\r\n      }\r\n    }\r\n\r\nTest example:\r\n\r\n    @Test\r\n    public void test_EqualsAndHashcode_GivenSubclass() {\r\n      // Check contract\r\n      EqualsVerifier.forClass(Foo.class)\r\n        .suppress(Warning.NONFINAL_FIELDS, Warning.TRANSIENT_FIELDS)\r\n        .withOnlyTheseFields(&quot;id&quot;, &quot;kind&quot;)\r\n        .withNonnullFields(&quot;id&quot;, &quot;kind&quot;)\r\n        .verify();\r\n      // Ensure new objects are not equal\r\n      assertNotEquals(new Foo(), new Foo());\r\n    }\r\n\r\nMain advantages here: \r\n\r\n* simplicity\r\n* ensures subclasses provide type identity\r\n* predicted behavior with proxied classes\r\n\r\nDisadvantages:\r\n\r\n* Requires each entity to call `super()`\r\n\r\nNotes:\r\n\r\n* Needs attention when using inheritance. E.g. instance equality of `class A` and `class B extends A` may depend on concrete details of the application.\r\n* Ideally, use a business key as the ID\r\n\r\nLooking forward to your comments.","title":"The JPA hashCode() / equals() dilemma","body":"<p>Please consider the following approach based on predefined type identifier and the ID.</p>\n\n<p>The specific assumptions for JPA:</p>\n\n<ul>\n<li>entities of the same \"type\" and the same non-null ID are considered equal</li>\n<li>non-persisted entities (assuming no ID) are never equal to other entities</li>\n</ul>\n\n<p>The abstract entity:</p>\n\n<pre><code>@MappedSuperclass\npublic abstract class AbstractPersistable&lt;K extends Serializable&gt; {\n\n  @Id @GeneratedValue\n  private K id;\n\n  @Transient\n  private final String kind;\n\n  public AbstractPersistable(final String kind) {\n    this.kind = requireNonNull(kind, \"Entity kind cannot be null\");\n  }\n\n  @Override\n  public final boolean equals(final Object obj) {\n    if (this == obj) return true;\n    if (!(obj instanceof AbstractPersistable)) return false;\n    final AbstractPersistable&lt;?&gt; that = (AbstractPersistable&lt;?&gt;) obj;\n    return null != this.id\n        &amp;&amp; Objects.equals(this.id, that.id)\n        &amp;&amp; Objects.equals(this.kind, that.kind);\n  }\n\n  @Override\n  public final int hashCode() {\n    return Objects.hash(kind, id);\n  }\n\n  public K getId() {\n    return id;\n  }\n\n  protected void setId(final K id) {\n    this.id = id;\n  }\n}\n</code></pre>\n\n<p>Concrete entity example:</p>\n\n<pre><code>static class Foo extends AbstractPersistable&lt;Long&gt; {\n  public Foo() {\n    super(\"Foo\");\n  }\n}\n</code></pre>\n\n<p>Test example:</p>\n\n<pre><code>@Test\npublic void test_EqualsAndHashcode_GivenSubclass() {\n  // Check contract\n  EqualsVerifier.forClass(Foo.class)\n    .suppress(Warning.NONFINAL_FIELDS, Warning.TRANSIENT_FIELDS)\n    .withOnlyTheseFields(\"id\", \"kind\")\n    .withNonnullFields(\"id\", \"kind\")\n    .verify();\n  // Ensure new objects are not equal\n  assertNotEquals(new Foo(), new Foo());\n}\n</code></pre>\n\n<p>Main advantages here: </p>\n\n<ul>\n<li>simplicity</li>\n<li>ensures subclasses provide type identity</li>\n<li>predicted behavior with proxied classes</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Requires each entity to call <code>super()</code></li>\n</ul>\n\n<p>Notes:</p>\n\n<ul>\n<li>Needs attention when using inheritance. E.g. instance equality of <code>class A</code> and <code>class B extends A</code> may depend on concrete details of the application.</li>\n<li>Ideally, use a business key as the ID</li>\n</ul>\n\n<p>Looking forward to your comments.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542453164,"creation_date":1542453164,"answer_id":53350652,"question_id":5031614,"body_markdown":"IMO you have 3 options for implementing equals/hashCode\r\n\r\n* Use an application generated identity i.e. a UUID\r\n* Implement it based on a business key\r\n* Implement it based on the primary key\r\n\r\n**Using an application generated identity is the easiest approach, but comes with a few downsides**\r\n\r\n* Joins are slower when using it as PK because 128 Bit is simply bigger than 32 or 64 Bit\r\n* &quot;Debugging is harder&quot; because checking with your own eyes wether some data is correct is pretty hard\r\n\r\nIf you can work with these _downsides_, just use this approach.\r\n\r\nTo overcome the join issue one could be using the UUID as natural key and a sequence value as primary key, but then you might still run into the equals/hashCode implementation problems in compositional child entities that have embedded ids since you will want to join based on the primary key. Using the natural key in child entities id and the primary key for referring to the parent is a good compromise.\r\n\r\n    @Entity class Parent {\r\n      @Id @GeneratedValue Long id;\r\n      @NaturalId UUID uuid;\r\n      @OneToMany(mappedBy = &quot;parent&quot;) Set&lt;Child&gt; children;\r\n      // equals/hashCode based on uuid\r\n    }\r\n    \r\n    @Entity class Child {\r\n      @EmbeddedId ChildId id;\r\n      @ManyToOne Parent parent;\r\n    \r\n      @Embeddable class ChildId {\r\n        UUID parentUuid;\r\n        UUID childUuid;\r\n        // equals/hashCode based on parentUuid and childUuid\r\n      }\r\n      // equals/hashCode based on id\r\n    }\r\n\r\nIMO this is the cleanest approach as it will avoid all downsides and at the same time provide you a value(the UUID) that you can share with external systems without exposing system internals.\r\n\r\n**Implement it based on a business key if you can expect that from a user is a nice idea, but comes with a few downsides as well**\r\n\r\nMost of the time this business key will be some kind of _code_ that the user provides and less often a composite of multiple attributes.\r\n\r\n* Joins are slower because joining based on variable length text is simply slow. Some DBMS might even have problems creating an index if the key exceeds a certain length.\r\n* In my experience, business keys tend to change which will require cascading updates to objects referring to it. This is impossible if external systems refer to it\r\n\r\nIMO you shouldn&#39;t implement or work with a business key exclusively. It&#39;s a nice add-on i.e. users can quickly search by that business key, but the system shouldn&#39;t rely on it for operating.\r\n\r\n**Implement it based on the primary key has it&#39;s problems, but maybe it&#39;s not such a big deal**\r\n\r\nIf you need to expose ids to external system, use the UUID approach I suggested. If you don&#39;t, you could still use the UUID approach but you don&#39;t have to.\r\nThe problem of using a DBMS generated id in equals/hashCode stems from the fact that the object might have been added to hash based collections before assigning the id.\r\n\r\nThe obvious way to get around this is to simply not add the object to hash based collections before assigning the id. I understand that this is not always possible because you might want deduplication before assigning the id already. To still be able to use the hash based collections, you simply have to rebuild the collections after assigning the id.\r\n\r\nYou could do something like this:\r\n\r\n    @Entity class Parent {\r\n      @Id @GeneratedValue Long id;\r\n      @OneToMany(mappedBy = &quot;parent&quot;) Set&lt;Child&gt; children;\r\n      // equals/hashCode based on id\r\n    }\r\n    \r\n    @Entity class Child {\r\n      @EmbeddedId ChildId id;\r\n      @ManyToOne Parent parent;\r\n\r\n      @PrePersist void postPersist() {\r\n        parent.children.remove(this);\r\n      }\r\n      @PostPersist void postPersist() {\r\n        parent.children.add(this);\r\n      }\r\n    \r\n      @Embeddable class ChildId {\r\n        Long parentId;\r\n        @GeneratedValue Long childId;\r\n        // equals/hashCode based on parentId and childId\r\n      }\r\n      // equals/hashCode based on id\r\n    }\r\n\r\nI haven&#39;t tested the exact approach myself, so I&#39;m not sure how changing collections in pre- and post-persist events works but the idea is:\r\n\r\n* Temporarily Remove the object from hash based collections\r\n* Persist it\r\n* Re-add the object to the hash based collections\r\n\r\nAnother way of solving this is to simply rebuild all your hash based models after an update/persist.\r\n\r\nIn the end, it&#39;s up to you. I personally use the sequence based approach most of the time and only use the UUID approach if I need to expose an identifier to external systems.","title":"The JPA hashCode() / equals() dilemma","body":"<p>IMO you have 3 options for implementing equals/hashCode</p>\n\n<ul>\n<li>Use an application generated identity i.e. a UUID</li>\n<li>Implement it based on a business key</li>\n<li>Implement it based on the primary key</li>\n</ul>\n\n<p><strong>Using an application generated identity is the easiest approach, but comes with a few downsides</strong></p>\n\n<ul>\n<li>Joins are slower when using it as PK because 128 Bit is simply bigger than 32 or 64 Bit</li>\n<li>\"Debugging is harder\" because checking with your own eyes wether some data is correct is pretty hard</li>\n</ul>\n\n<p>If you can work with these <em>downsides</em>, just use this approach.</p>\n\n<p>To overcome the join issue one could be using the UUID as natural key and a sequence value as primary key, but then you might still run into the equals/hashCode implementation problems in compositional child entities that have embedded ids since you will want to join based on the primary key. Using the natural key in child entities id and the primary key for referring to the parent is a good compromise.</p>\n\n<pre><code>@Entity class Parent {\n  @Id @GeneratedValue Long id;\n  @NaturalId UUID uuid;\n  @OneToMany(mappedBy = \"parent\") Set&lt;Child&gt; children;\n  // equals/hashCode based on uuid\n}\n\n@Entity class Child {\n  @EmbeddedId ChildId id;\n  @ManyToOne Parent parent;\n\n  @Embeddable class ChildId {\n    UUID parentUuid;\n    UUID childUuid;\n    // equals/hashCode based on parentUuid and childUuid\n  }\n  // equals/hashCode based on id\n}\n</code></pre>\n\n<p>IMO this is the cleanest approach as it will avoid all downsides and at the same time provide you a value(the UUID) that you can share with external systems without exposing system internals.</p>\n\n<p><strong>Implement it based on a business key if you can expect that from a user is a nice idea, but comes with a few downsides as well</strong></p>\n\n<p>Most of the time this business key will be some kind of <em>code</em> that the user provides and less often a composite of multiple attributes.</p>\n\n<ul>\n<li>Joins are slower because joining based on variable length text is simply slow. Some DBMS might even have problems creating an index if the key exceeds a certain length.</li>\n<li>In my experience, business keys tend to change which will require cascading updates to objects referring to it. This is impossible if external systems refer to it</li>\n</ul>\n\n<p>IMO you shouldn't implement or work with a business key exclusively. It's a nice add-on i.e. users can quickly search by that business key, but the system shouldn't rely on it for operating.</p>\n\n<p><strong>Implement it based on the primary key has it's problems, but maybe it's not such a big deal</strong></p>\n\n<p>If you need to expose ids to external system, use the UUID approach I suggested. If you don't, you could still use the UUID approach but you don't have to.\nThe problem of using a DBMS generated id in equals/hashCode stems from the fact that the object might have been added to hash based collections before assigning the id.</p>\n\n<p>The obvious way to get around this is to simply not add the object to hash based collections before assigning the id. I understand that this is not always possible because you might want deduplication before assigning the id already. To still be able to use the hash based collections, you simply have to rebuild the collections after assigning the id.</p>\n\n<p>You could do something like this:</p>\n\n<pre><code>@Entity class Parent {\n  @Id @GeneratedValue Long id;\n  @OneToMany(mappedBy = \"parent\") Set&lt;Child&gt; children;\n  // equals/hashCode based on id\n}\n\n@Entity class Child {\n  @EmbeddedId ChildId id;\n  @ManyToOne Parent parent;\n\n  @PrePersist void postPersist() {\n    parent.children.remove(this);\n  }\n  @PostPersist void postPersist() {\n    parent.children.add(this);\n  }\n\n  @Embeddable class ChildId {\n    Long parentId;\n    @GeneratedValue Long childId;\n    // equals/hashCode based on parentId and childId\n  }\n  // equals/hashCode based on id\n}\n</code></pre>\n\n<p>I haven't tested the exact approach myself, so I'm not sure how changing collections in pre- and post-persist events works but the idea is:</p>\n\n<ul>\n<li>Temporarily Remove the object from hash based collections</li>\n<li>Persist it</li>\n<li>Re-add the object to the hash based collections</li>\n</ul>\n\n<p>Another way of solving this is to simply rebuild all your hash based models after an update/persist.</p>\n\n<p>In the end, it's up to you. I personally use the sequence based approach most of the time and only use the UUID approach if I need to expose an identifier to external systems.</p>\n"},{"tags":[],"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656682350,"creation_date":1656680559,"answer_id":72829686,"question_id":5031614,"body_markdown":"I using a class EntityBase and inherited to all my entities of JPA and this it works very good to me.\r\n\r\n\r\n \r\n\r\n    /**\r\n     * @author marcos.oliveira\r\n     */\r\n    @MappedSuperclass\r\n    public abstract class EntityBase&lt;TId extends Serializable&gt; implements Serializable{\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected TId id;\r\n    \r\n    \r\n    \r\n        public TId getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public void setId(TId id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return (super.hashCode() * 907) + Objects.hashCode(getId());//this.getId().hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + &quot; [Id=&quot; + id + &quot;]&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (obj == null || getClass() != obj.getClass()) {\r\n                return false;\r\n            }\r\n            EntityBase entity = (EntityBase) obj;\r\n            if (entity.id == null || id == null) {\r\n                return false;\r\n            }\r\n            return Objects.equals(id, entity.id);\r\n        }\r\n    }\r\n\r\nReference: https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/","title":"The JPA hashCode() / equals() dilemma","body":"<p>I using a class EntityBase and inherited to all my entities of JPA and this it works very good to me.</p>\n<pre><code>/**\n * @author marcos.oliveira\n */\n@MappedSuperclass\npublic abstract class EntityBase&lt;TId extends Serializable&gt; implements Serializable{\n    /**\n     *\n     */\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected TId id;\n\n\n\n    public TId getId() {\n        return this.id;\n    }\n\n    public void setId(TId id) {\n        this.id = id;\n    }\n\n    @Override\n    public int hashCode() {\n        return (super.hashCode() * 907) + Objects.hashCode(getId());//this.getId().hashCode();\n    }\n\n    @Override\n    public String toString() {\n        return super.toString() + &quot; [Id=&quot; + id + &quot;]&quot;;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null || getClass() != obj.getClass()) {\n            return false;\n        }\n        EntityBase entity = (EntityBase) obj;\n        if (entity.id == null || id == null) {\n            return false;\n        }\n        return Objects.equals(id, entity.id);\n    }\n}\n</code></pre>\n<p>Reference: <a href=\"https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/</a></p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695048262,"creation_date":1694541534,"answer_id":77091598,"question_id":5031614,"body_markdown":"In answer to the OPs two questions:\r\n  &gt; Did I miss an option and/or pro/con point?  \r\n\r\nI think you covered all the options/context.\r\n\r\n  &gt; What option did you choose and why?\r\n\r\nI chose OP&#39;s option 2 - Override them, based on the primary key\r\n\r\nBelow is the pattern I&#39;m using at and beyond Java 16 where JPA (i.e. the database) is generating the `marketId` when first saved (INSERTED) into its repository.\r\n\r\n**The key difference:** Keeping `equals` and `hashCode` consistent regarding the two states (`null` and `not null`) of the `marketId`.\r\n\r\nIOW, they are consistent with each other per their stated contracts. The other solutions I&#39;ve seen allow `equals` to change when `marketId` changes from `null` to non-`null`, and don&#39;t have `hashCode` also change at the same time and in the same way. This breaks the contract.\r\n\r\nThe key part of this is within `hashCode` itself, in that it explicitly avoids hashing the `null` value, which always results in \r\na hash value of 0.\r\n\r\n`Objects.hash(null)` can cause bad performance in both `Set` and/or as a `Map` key if many entities haven&#39;t yet been INSERTed.\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n  return (o == this) ||\r\n      ((o instanceof Market that)\r\n          //&amp;&amp; (this.getClass() == that.getClass())\r\n          &amp;&amp; ((this.marketId != null) &amp;&amp; (that.marketId != null))\r\n          &amp;&amp; (this.marketId.intValue() == that.marketId.intValue()));\r\n}\r\n\r\n@Override\r\npublic int hashCode() {\r\n  return\r\n      this.marketId == null\r\n          ? super.hashCode()\r\n          : Objects.hash(marketId);\r\n}\r\n```\r\n\r\nFor more details about the `equals` pattern above, please see this [StackOverflow Answer][1].\r\n\r\n**Note:** Because of how JPA/Hibernate can handle proxies, the line `&amp;&amp; (this.getClass() == that.getClass())` doesn&#39;t work the way intended and is commented out.\r\n\r\n\r\n**CAVEAT:** This assumes that the `marketId` is `null` within the JPA entity prior to being persisted (INSERTed) the first time. And that the instance is modified (i.e. mutated) during the persistence operation.\r\n\r\nAny use of a `Market` entity instance with a `null` `marketId` field within an existing `Set` or as a `Map` key must be &quot;reinitialized&quot; before further use.\r\n\r\nThe `Set` (or `Map`) behavior has become undefined due to the entity&#39;s mutation by the JPA during that initial save (INSERT). The values returned by both `equals` and `hashCode` will have changed.\r\n\r\nHence, the requirement is to stop using any current collection instances that depend upon coherent and consistent `equals` and `hashCode` (i.e. `Set` and `Map`) containing the newly persisted entities.\r\n\r\nAnd to explicitly regenerate any collections to correctly incorporate the new non-null `marketId` value injected by the JPA framework.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75402885/501113","title":"The JPA hashCode() / equals() dilemma","body":"<p>In answer to the OPs two questions:</p>\n<blockquote>\n<p>Did I miss an option and/or pro/con point?</p>\n</blockquote>\n<p>I think you covered all the options/context.</p>\n<blockquote>\n<p>What option did you choose and why?</p>\n</blockquote>\n<p>I chose OP's option 2 - Override them, based on the primary key</p>\n<p>Below is the pattern I'm using at and beyond Java 16 where JPA (i.e. the database) is generating the <code>marketId</code> when first saved (INSERTED) into its repository.</p>\n<p><strong>The key difference:</strong> Keeping <code>equals</code> and <code>hashCode</code> consistent regarding the two states (<code>null</code> and <code>not null</code>) of the <code>marketId</code>.</p>\n<p>IOW, they are consistent with each other per their stated contracts. The other solutions I've seen allow <code>equals</code> to change when <code>marketId</code> changes from <code>null</code> to non-<code>null</code>, and don't have <code>hashCode</code> also change at the same time and in the same way. This breaks the contract.</p>\n<p>The key part of this is within <code>hashCode</code> itself, in that it explicitly avoids hashing the <code>null</code> value, which always results in\na hash value of 0.</p>\n<p><code>Objects.hash(null)</code> can cause bad performance in both <code>Set</code> and/or as a <code>Map</code> key if many entities haven't yet been INSERTed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n  return (o == this) ||\n      ((o instanceof Market that)\n          //&amp;&amp; (this.getClass() == that.getClass())\n          &amp;&amp; ((this.marketId != null) &amp;&amp; (that.marketId != null))\n          &amp;&amp; (this.marketId.intValue() == that.marketId.intValue()));\n}\n\n@Override\npublic int hashCode() {\n  return\n      this.marketId == null\n          ? super.hashCode()\n          : Objects.hash(marketId);\n}\n</code></pre>\n<p>For more details about the <code>equals</code> pattern above, please see this <a href=\"https://stackoverflow.com/a/75402885/501113\">StackOverflow Answer</a>.</p>\n<p><strong>Note:</strong> Because of how JPA/Hibernate can handle proxies, the line <code>&amp;&amp; (this.getClass() == that.getClass())</code> doesn't work the way intended and is commented out.</p>\n<p><strong>CAVEAT:</strong> This assumes that the <code>marketId</code> is <code>null</code> within the JPA entity prior to being persisted (INSERTed) the first time. And that the instance is modified (i.e. mutated) during the persistence operation.</p>\n<p>Any use of a <code>Market</code> entity instance with a <code>null</code> <code>marketId</code> field within an existing <code>Set</code> or as a <code>Map</code> key must be &quot;reinitialized&quot; before further use.</p>\n<p>The <code>Set</code> (or <code>Map</code>) behavior has become undefined due to the entity's mutation by the JPA during that initial save (INSERT). The values returned by both <code>equals</code> and <code>hashCode</code> will have changed.</p>\n<p>Hence, the requirement is to stop using any current collection instances that depend upon coherent and consistent <code>equals</code> and <code>hashCode</code> (i.e. <code>Set</code> and <code>Map</code>) containing the newly persisted entities.</p>\n<p>And to explicitly regenerate any collections to correctly incorporate the new non-null <code>marketId</code> value injected by the JPA framework.</p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139130,"favorite_count":0,"down_vote_count":1,"up_vote_count":396,"closed_date":1695132215,"answer_count":21,"score":395,"last_activity_date":1695479096,"creation_date":1297959733,"question_id":5031614,"body_markdown":"There have been [some][1] [discussions][2] here about JPA entities and which `hashCode()`/`equals()` implementation should be used for JPA entity classes.  Most (if not all) of them depend on Hibernate, but I&#39;d like to discuss them JPA-implementation-neutrally (I am using EclipseLink, by the way).\r\n\r\nAll possible implementations are having their own **advantages** and **disadvantages** regarding:\r\n\r\n- **`hashCode()`/`equals()`** contract **conformity** (immutability) for `List`/`Set` operations\r\n- Whether **identical** objects (e.g. from different sessions, dynamic proxies from lazily-loaded data structures) can be detected\r\n- Whether entities behave correctly in **detached (or non-persisted) state** \r\n&lt;br&gt;\r\n\r\nAs far I can see, there are **three options**: \r\n\r\n1. Do not override them; rely on `Object.equals()` and `Object.hashCode()`\r\n   - `hashCode()`/`equals()` work\r\n   - cannot identify identical objects, problems with dynamic proxies\r\n   - no problems with detached entities\r\n2. Override them, based on the **primary key**\r\n   - `hashCode()`/`equals()` are broken\r\n   - correct identity (for all managed entities)\r\n   - problems with detached entities\r\n3. Override them, based on the **Business-Id** (non-primary key fields; what about foreign keys?)\r\n   - `hashCode()`/`equals()` are broken\r\n   - correct identity (for all managed entities)\r\n   - no problems with detached entities\r\n\r\n**My questions are:**\r\n\r\n1. Did I miss an option and/or pro/con point?&lt;br&gt;\r\n2. What option did you choose and why?\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**UPDATE 1:**\r\n\r\nBy &quot;`hashCode()`/`equals()` are broken&quot;, I mean that successive `hashCode()` invocations may return differing values, which is (when correctly implemented) not broken in the sense of the `Object` API documentation, but which causes problems when trying to retrieve a changed entity from a `Map`,  `Set` or other hash-based `Collection`.  Consequently, JPA implementations (at least EclipseLink) will not work correctly in some cases.\r\n\r\n**UPDATE 2:**\r\n\r\nThank you for your answers -- most of them have remarkable quality.&lt;br&gt;\r\nUnfortunately, I am still unsure which approach will be the best for a real-life application, or how to determine the best approach for my application.  So, I&#39;ll keep the question open and hope for some more discussions and/or opinions.\r\n\r\n  [1]: https://stackoverflow.com/questions/4762573/should-embeddable-jpa-class-implement-equals-and-hashcode\r\n  [2]: https://stackoverflow.com/questions/3147166/how-to-implement-equals-and-hashcode-methods-in-baseentity-of-jpa","title":"The JPA hashCode() / equals() dilemma","body":"<p>There have been <a href=\"https://stackoverflow.com/questions/4762573/should-embeddable-jpa-class-implement-equals-and-hashcode\">some</a> <a href=\"https://stackoverflow.com/questions/3147166/how-to-implement-equals-and-hashcode-methods-in-baseentity-of-jpa\">discussions</a> here about JPA entities and which <code>hashCode()</code>/<code>equals()</code> implementation should be used for JPA entity classes.  Most (if not all) of them depend on Hibernate, but I'd like to discuss them JPA-implementation-neutrally (I am using EclipseLink, by the way).</p>\n\n<p>All possible implementations are having their own <strong>advantages</strong> and <strong>disadvantages</strong> regarding:</p>\n\n<ul>\n<li><strong><code>hashCode()</code>/<code>equals()</code></strong> contract <strong>conformity</strong> (immutability) for <code>List</code>/<code>Set</code> operations</li>\n<li>Whether <strong>identical</strong> objects (e.g. from different sessions, dynamic proxies from lazily-loaded data structures) can be detected</li>\n<li>Whether entities behave correctly in <strong>detached (or non-persisted) state</strong> \n<br></li>\n</ul>\n\n<p>As far I can see, there are <strong>three options</strong>: </p>\n\n<ol>\n<li>Do not override them; rely on <code>Object.equals()</code> and <code>Object.hashCode()</code>\n\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> work</li>\n<li>cannot identify identical objects, problems with dynamic proxies</li>\n<li>no problems with detached entities</li>\n</ul></li>\n<li>Override them, based on the <strong>primary key</strong>\n\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> are broken</li>\n<li>correct identity (for all managed entities)</li>\n<li>problems with detached entities</li>\n</ul></li>\n<li>Override them, based on the <strong>Business-Id</strong> (non-primary key fields; what about foreign keys?)\n\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> are broken</li>\n<li>correct identity (for all managed entities)</li>\n<li>no problems with detached entities</li>\n</ul></li>\n</ol>\n\n<p><strong>My questions are:</strong></p>\n\n<ol>\n<li>Did I miss an option and/or pro/con point?<br></li>\n<li>What option did you choose and why?</li>\n</ol>\n\n<p><br><br>\n<strong>UPDATE 1:</strong></p>\n\n<p>By \"<code>hashCode()</code>/<code>equals()</code> are broken\", I mean that successive <code>hashCode()</code> invocations may return differing values, which is (when correctly implemented) not broken in the sense of the <code>Object</code> API documentation, but which causes problems when trying to retrieve a changed entity from a <code>Map</code>,  <code>Set</code> or other hash-based <code>Collection</code>.  Consequently, JPA implementations (at least EclipseLink) will not work correctly in some cases.</p>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>Thank you for your answers -- most of them have remarkable quality.<br>\nUnfortunately, I am still unsure which approach will be the best for a real-life application, or how to determine the best approach for my application.  So, I'll keep the question open and hope for some more discussions and/or opinions.</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1695470445,"post_id":77162911,"comment_id":136030570,"body_markdown":"If your ripple is freezing that means you&#39;re clogging up the main (UI thread). Post some code snippets so we see what and when you&#39;re deferring or what thread you&#39;re putting to sleep.","body":"If your ripple is freezing that means you&#39;re clogging up the main (UI thread). Post some code snippets so we see what and when you&#39;re deferring or what thread you&#39;re putting to sleep."},{"owner":{"account_id":18137027,"reputation":1,"user_id":13191428,"display_name":"Jorns 90"},"score":0,"creation_date":1695471099,"post_id":77162911,"comment_id":136030636,"body_markdown":"i have added some example code","body":"i have added some example code"},{"owner":{"account_id":18137027,"reputation":1,"user_id":13191428,"display_name":"Jorns 90"},"score":0,"creation_date":1695471852,"post_id":77162911,"comment_id":136030718,"body_markdown":"in OpenNotificationSettings() will be Thread.Sleep(300) method. There looks originally without any sleeping methods.","body":"in OpenNotificationSettings() will be Thread.Sleep(300) method. There looks originally without any sleeping methods."}],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695478939,"creation_date":1695478939,"answer_id":77163426,"question_id":77162911,"body_markdown":"Instead of using Thread.sleep, you should consider using background threads or asynchronous tasks to perform time-consuming operations. In your case, when you call OpenNotificationSettings, you are starting an Intent which may involve activities or dialogs, and these operations should not be done on the UI thread. \r\n\r\nLike this: \r\n\r\n    private void OpenNotificationSettings() {\r\n        // Post a delayed action to run after 200ms\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS);\r\n                intent.putExtra(Settings.EXTRA_APP_PACKAGE, requireContext().getPackageName());\r\n                intent.putExtra(Settings.EXTRA_CHANNEL_ID, &quot;task_reminder&quot;);\r\n                startActivity(intent);\r\n            }\r\n        }, 200); // Delay in ms\r\n    }\r\n\r\nBy using a Handler and postDelayed, you introduce a delay without freezing the UI thread. This should prevent the laggy ripple effect you were experiencing while ensuring a responsive user interface.\r\n\r\n","title":"Android Thread.sleep after button click","body":"<p>Instead of using Thread.sleep, you should consider using background threads or asynchronous tasks to perform time-consuming operations. In your case, when you call OpenNotificationSettings, you are starting an Intent which may involve activities or dialogs, and these operations should not be done on the UI thread.</p>\n<p>Like this:</p>\n<pre><code>private void OpenNotificationSettings() {\n    // Post a delayed action to run after 200ms\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS);\n            intent.putExtra(Settings.EXTRA_APP_PACKAGE, requireContext().getPackageName());\n            intent.putExtra(Settings.EXTRA_CHANNEL_ID, &quot;task_reminder&quot;);\n            startActivity(intent);\n        }\n    }, 200); // Delay in ms\n}\n</code></pre>\n<p>By using a Handler and postDelayed, you introduce a delay without freezing the UI thread. This should prevent the laggy ripple effect you were experiencing while ensuring a responsive user interface.</p>\n"}],"owner":{"account_id":18137027,"reputation":1,"user_id":13191428,"display_name":"Jorns 90"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695478939,"creation_date":1695470097,"question_id":77162911,"body_markdown":"In android i have button which have ripple effect. But problem is there follows: When i click on button which call a method which runs some activity or load from database etc..., ripple effect sometimes freeze or is laggy. I have solved problem with Thread.sleep method. and works fine. But there i have seen discusion about Thread.sleep which blocks UI thread, and better usage is handler postDelayed. So when i use postDelayed then ripple lags anyways, but when i use Thread.spleep(some 200 ms) it work sure better instead  of postDelay. Its a good solution use Thread.Sleep ? Note: In background ar no other processes running. After click is only show dialog, or loading from db and show dialog, or loading some Intent with activity.\r\n\r\nAny help apreciated. Thanks.\r\n\r\nin onCreateView(...)\r\n\r\n    lNotificationsSettingsLayout.setOnClickListener(view1 -&gt; OpenNotificationSettings());\r\n\r\n\r\nmethod which will be called\r\n    \r\n    private void OpenNotificationSettings()\r\n    {\r\n        Intent intent = new Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS);\r\n        intent.putExtra(Settings.EXTRA_APP_PACKAGE, requireContext().getPackageName());\r\n        intent.putExtra(Settings.EXTRA_CHANNEL_ID, &quot;task_reminder&quot;);\r\n        startActivity(intent);\r\n    }\r\n\r\nxml code snippet:\r\n\r\n    &lt;LinearLayout\r\n            android:id=&quot;@+id/lNotificationsSettingsLayout&quot;\r\n            android:foreground=&quot;?android:attr/selectableItemBackground&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingStart=&quot;16dp&quot;\r\n                    android:paddingTop=&quot;8dp&quot;\r\n                    android:paddingEnd=&quot;16dp&quot;\r\n                    android:text=&quot;@string/settingsItemNotifications&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingStart=&quot;16dp&quot;\r\n                    android:paddingEnd=&quot;16dp&quot;\r\n                    android:paddingBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/settingsDescriptionNotifications&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:paddingStart=&quot;20dp&quot;\r\n                    android:paddingEnd=&quot;20dp&quot;\r\n                    android:src=&quot;@drawable/arrow&quot;\r\n                    app:tint=&quot;@color/textColor&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n","title":"Android Thread.sleep after button click","body":"<p>In android i have button which have ripple effect. But problem is there follows: When i click on button which call a method which runs some activity or load from database etc..., ripple effect sometimes freeze or is laggy. I have solved problem with Thread.sleep method. and works fine. But there i have seen discusion about Thread.sleep which blocks UI thread, and better usage is handler postDelayed. So when i use postDelayed then ripple lags anyways, but when i use Thread.spleep(some 200 ms) it work sure better instead  of postDelay. Its a good solution use Thread.Sleep ? Note: In background ar no other processes running. After click is only show dialog, or loading from db and show dialog, or loading some Intent with activity.</p>\n<p>Any help apreciated. Thanks.</p>\n<p>in onCreateView(...)</p>\n<pre><code>lNotificationsSettingsLayout.setOnClickListener(view1 -&gt; OpenNotificationSettings());\n</code></pre>\n<p>method which will be called</p>\n<pre><code>private void OpenNotificationSettings()\n{\n    Intent intent = new Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS);\n    intent.putExtra(Settings.EXTRA_APP_PACKAGE, requireContext().getPackageName());\n    intent.putExtra(Settings.EXTRA_CHANNEL_ID, &quot;task_reminder&quot;);\n    startActivity(intent);\n}\n</code></pre>\n<p>xml code snippet:</p>\n<pre><code>&lt;LinearLayout\n        android:id=&quot;@+id/lNotificationsSettingsLayout&quot;\n        android:foreground=&quot;?android:attr/selectableItemBackground&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;LinearLayout\n\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:paddingStart=&quot;16dp&quot;\n                android:paddingTop=&quot;8dp&quot;\n                android:paddingEnd=&quot;16dp&quot;\n                android:text=&quot;@string/settingsItemNotifications&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:paddingStart=&quot;16dp&quot;\n                android:paddingEnd=&quot;16dp&quot;\n                android:paddingBottom=&quot;8dp&quot;\n                android:text=&quot;@string/settingsDescriptionNotifications&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:paddingStart=&quot;20dp&quot;\n                android:paddingEnd=&quot;20dp&quot;\n                android:src=&quot;@drawable/arrow&quot;\n                app:tint=&quot;@color/textColor&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","javapoet"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1695480737,"post_id":77163385,"comment_id":136031530,"body_markdown":"As far as I know, JavaPoet doesn&#39;t have API to create any kind of specific expressions (e.g. if you want to generate &quot;a + b&quot; you have to use a string literal *somewhere*). Why would you expect there be anything to generate a class literal?","body":"As far as I know, JavaPoet doesn&#39;t have API to create any kind of specific expressions (e.g. if you want to generate &quot;a + b&quot; you have to use a string literal <i>somewhere</i>). Why would you expect there be anything to generate a class literal?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1695480971,"post_id":77163385,"comment_id":136031555,"body_markdown":"I had no expectations one way or the other. I was just inquiring. I didn&#39;t want to do something manually if there existed a facility for this.","body":"I had no expectations one way or the other. I was just inquiring. I didn&#39;t want to do something manually if there existed a facility for this."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1695517344,"post_id":77163385,"comment_id":136034929,"body_markdown":"Can you reword your question without foo and bar? I can&#39;t understand a thing you&#39;re trying to do. Could you use actual words in place of foo and bar?","body":"Can you reword your question without foo and bar? I can&#39;t understand a thing you&#39;re trying to do. Could you use actual words in place of foo and bar?"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695478915,"creation_date":1695478266,"question_id":77163385,"body_markdown":"I have a method that takes a class, e.g. `public foo(Class&lt;?&gt; barClass)`. Using [JavaPoet][1] I want to pass construct an invocation of this method. Currently I&#39;m using this form:\r\n\r\n```java\r\n\r\nClassName barClassName = ClassName.get(&quot;com.example&quot;, &quot;Bar&quot;);\r\n\r\n\r\n  .addStatement(&quot;foo($T.class)&quot;, barClassName)\r\n\r\n```\r\n\r\n\r\nThat works well enough, but I&#39;m wondering if JavaPoet has some facility to construct the `Bar.class` form, such as `barClassName.literalReference()` or some such.\r\n\r\n  [1]: https://github.com/square/javapoet","title":"Bar.class reference in JavaPoet","body":"<p>I have a method that takes a class, e.g. <code>public foo(Class&lt;?&gt; barClass)</code>. Using <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">JavaPoet</a> I want to pass construct an invocation of this method. Currently I'm using this form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nClassName barClassName = ClassName.get(&quot;com.example&quot;, &quot;Bar&quot;);\n\n\n  .addStatement(&quot;foo($T.class)&quot;, barClassName)\n\n</code></pre>\n<p>That works well enough, but I'm wondering if JavaPoet has some facility to construct the <code>Bar.class</code> form, such as <code>barClassName.literalReference()</code> or some such.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695477748,"creation_date":1695477748,"answer_id":77163357,"question_id":77162810,"body_markdown":"You don&#39;t reset the shader once it is set. During binding, you will need to touch all values changed in the binding since view holders and their item views are reused. Since you don&#39;t reset the shader, the previous value will hold during all rebindings. This is a common problem (not resetting values during rebinding.)\r\n\r\nSee [Paint#setShader()](https://developer.android.com/reference/android/graphics/Paint#setShader(android.graphics.Shader)) about how to reset the shader.","title":"Java RecyclerView adapter incorrectly coloring 14th item specifically, regardless of variable values","body":"<p>You don't reset the shader once it is set. During binding, you will need to touch all values changed in the binding since view holders and their item views are reused. Since you don't reset the shader, the previous value will hold during all rebindings. This is a common problem (not resetting values during rebinding.)</p>\n<p>See <a href=\"https://developer.android.com/reference/android/graphics/Paint#setShader(android.graphics.Shader)\" rel=\"nofollow noreferrer\">Paint#setShader()</a> about how to reset the shader.</p>\n"}],"owner":{"account_id":29515801,"reputation":11,"user_id":22619785,"display_name":"Snoopher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695477748,"creation_date":1695468211,"question_id":77162810,"body_markdown":"I have a leaderboard that colors your name depending on your rank. For every 10  spent, there is a new color. The last rank is a gradient color. It colors everything as it should, except for the 14th item (position 13). It gives that one the gradient color regardless of rank, name, number of items or anything else.\r\nHere is MyAdapter:\r\n\r\n```\r\npackage com.miskolin.app;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Color;\r\nimport android.graphics.LinearGradient;\r\nimport android.graphics.Shader;\r\nimport android.graphics.Typeface;\r\nimport android.text.TextPaint;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\r\n\r\n\r\n    Context context;\r\n    List&lt;Item&gt; items;\r\n\r\n    public MyAdapter(Context context, List&lt;Item&gt; items) {\r\n        this.context = context;\r\n        this.items = items;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.user.setText(items.get(position).getUser());\r\n        holder.total.setText(items.get(position).getTotalSpent());\r\n        Integer rank = items.get(position).getLeadersRank();\r\n        int[][] rankColors = {\r\n                {\r\n                        context.getResources().getColor(R.color.Rank0),  // Rank 0\r\n                        context.getResources().getColor(R.color.Rank1),  // Rank 1\r\n                        context.getResources().getColor(R.color.Rank2),  // Rank 2\r\n                        context.getResources().getColor(R.color.Rank3),  // Rank 3\r\n                        context.getResources().getColor(R.color.Rank4),  // Rank 4\r\n                        context.getResources().getColor(R.color.Rank5),  // Rank 5\r\n                        context.getResources().getColor(R.color.Rank6),  // Rank 6\r\n                        context.getResources().getColor(R.color.Rank7) , // Rank 7\r\n                        context.getResources().getColor(R.color.Rank8)   // Rank 8\r\n                },\r\n                {\r\n                        context.getResources().getColor(R.color.Rank9c1),\r\n                        context.getResources().getColor(R.color.Rank9c2),\r\n                        context.getResources().getColor(R.color.Rank9c3)\r\n                }\r\n        };\r\n\r\n        if (rank &gt;= rankColors[0].length) {\r\n            Log.d(&quot;Debug&quot;, &quot;Using LinearGradient for item at position &quot; + position);\r\n            TextPaint paint = holder.user.getPaint();\r\n            Shader shader = new LinearGradient(0, 100, 3, 20, rankColors[1], null, Shader.TileMode.CLAMP);\r\n            paint.setShader(shader);\r\n            holder.user.setTextColor(rankColors[0][0]);\r\n        } else {\r\n            for (int i = 0; i &lt; rankColors[0].length; i++) {\r\n                if (rank.equals(i)) {\r\n                    Log.d(&quot;Debug&quot;, &quot;Using Color for item at position &quot; + position);\r\n                    holder.user.setTextColor(rankColors[0][i]);\r\n                    Log.d(&quot;color&quot;, holder.user.getText() + &quot; &quot; + Integer.toHexString(rankColors[0][i]));\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return items.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is MyViewHolder:\r\n\r\n```\r\npackage com.miskolin.app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\npublic class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n    TextView user,total;\r\n\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        user = itemView.findViewById(R.id.userView);\r\n        total = itemView.findViewById(R.id.total);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nSo I played around with the recyclerview margin_bottom and found that the position of the incorrectly colored item is somehow related to the height of the recyclerview\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/miskolin_leaderboard_background&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Graphs&quot;&gt;\r\n\r\n\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/main&quot;\r\n        android:layout_width=&quot;90dp&quot;\r\n        android:layout_height=&quot;90dp&quot;\r\n        android:background=&quot;@drawable/baseline_circle_24&quot;\r\n        android:src=&quot;@drawable/baseline_arrow_back_24&quot;\r\n        android:padding=&quot;24dp&quot;\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/leaderboard&quot;\r\n        android:text=&quot;Lestvica&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textSize=&quot;40dp&quot;\r\n        android:textColor=&quot;#B6B3A7&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/crown&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:layout_below=&quot;@id/leaderboard&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        app:srcCompat=&quot;@drawable/crown&quot; /&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@id/main&quot;\r\n        android:layout_below=&quot;@id/crown&quot;\r\n        android:id=&quot;@+id/recyclerview&quot;/&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nThis setup now incorrectly colors the 15th item","title":"Java RecyclerView adapter incorrectly coloring 14th item specifically, regardless of variable values","body":"<p>I have a leaderboard that colors your name depending on your rank. For every 10  spent, there is a new color. The last rank is a gradient color. It colors everything as it should, except for the 14th item (position 13). It gives that one the gradient color regardless of rank, name, number of items or anything else.\nHere is MyAdapter:</p>\n<pre><code>package com.miskolin.app;\n\nimport android.content.Context;\nimport android.graphics.Color;\nimport android.graphics.LinearGradient;\nimport android.graphics.Shader;\nimport android.graphics.Typeface;\nimport android.text.TextPaint;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.w3c.dom.Text;\n\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n\n    Context context;\n    List&lt;Item&gt; items;\n\n    public MyAdapter(Context context, List&lt;Item&gt; items) {\n        this.context = context;\n        this.items = items;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.user.setText(items.get(position).getUser());\n        holder.total.setText(items.get(position).getTotalSpent());\n        Integer rank = items.get(position).getLeadersRank();\n        int[][] rankColors = {\n                {\n                        context.getResources().getColor(R.color.Rank0),  // Rank 0\n                        context.getResources().getColor(R.color.Rank1),  // Rank 1\n                        context.getResources().getColor(R.color.Rank2),  // Rank 2\n                        context.getResources().getColor(R.color.Rank3),  // Rank 3\n                        context.getResources().getColor(R.color.Rank4),  // Rank 4\n                        context.getResources().getColor(R.color.Rank5),  // Rank 5\n                        context.getResources().getColor(R.color.Rank6),  // Rank 6\n                        context.getResources().getColor(R.color.Rank7) , // Rank 7\n                        context.getResources().getColor(R.color.Rank8)   // Rank 8\n                },\n                {\n                        context.getResources().getColor(R.color.Rank9c1),\n                        context.getResources().getColor(R.color.Rank9c2),\n                        context.getResources().getColor(R.color.Rank9c3)\n                }\n        };\n\n        if (rank &gt;= rankColors[0].length) {\n            Log.d(&quot;Debug&quot;, &quot;Using LinearGradient for item at position &quot; + position);\n            TextPaint paint = holder.user.getPaint();\n            Shader shader = new LinearGradient(0, 100, 3, 20, rankColors[1], null, Shader.TileMode.CLAMP);\n            paint.setShader(shader);\n            holder.user.setTextColor(rankColors[0][0]);\n        } else {\n            for (int i = 0; i &lt; rankColors[0].length; i++) {\n                if (rank.equals(i)) {\n                    Log.d(&quot;Debug&quot;, &quot;Using Color for item at position &quot; + position);\n                    holder.user.setTextColor(rankColors[0][i]);\n                    Log.d(&quot;color&quot;, holder.user.getText() + &quot; &quot; + Integer.toHexString(rankColors[0][i]));\n                    break;\n                }\n            }\n\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return items.size();\n    }\n}\n\n</code></pre>\n<p>Here is MyViewHolder:</p>\n<pre><code>package com.miskolin.app;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n\n    TextView user,total;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        user = itemView.findViewById(R.id.userView);\n        total = itemView.findViewById(R.id.total);\n    }\n}\n\n</code></pre>\n<p>So I played around with the recyclerview margin_bottom and found that the position of the incorrectly colored item is somehow related to the height of the recyclerview</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;@drawable/miskolin_leaderboard_background&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Graphs&quot;&gt;\n\n\n\n    &lt;ImageButton\n        android:id=&quot;@+id/main&quot;\n        android:layout_width=&quot;90dp&quot;\n        android:layout_height=&quot;90dp&quot;\n        android:background=&quot;@drawable/baseline_circle_24&quot;\n        android:src=&quot;@drawable/baseline_arrow_back_24&quot;\n        android:padding=&quot;24dp&quot;\n        android:scaleType=&quot;fitCenter&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/leaderboard&quot;\n        android:text=&quot;Lestvica&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;40dp&quot;\n        android:textColor=&quot;#B6B3A7&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/crown&quot;\n        android:layout_width=&quot;70dp&quot;\n        android:layout_height=&quot;70dp&quot;\n        android:layout_below=&quot;@id/leaderboard&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        app:srcCompat=&quot;@drawable/crown&quot; /&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@id/main&quot;\n        android:layout_below=&quot;@id/crown&quot;\n        android:id=&quot;@+id/recyclerview&quot;/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This setup now incorrectly colors the 15th item</p>\n"},{"tags":["java","android","mobile","google-play"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1695505783,"post_id":77163355,"comment_id":136034129,"body_markdown":"Share source code to reproduce your problem~","body":"Share source code to reproduce your problem~"}],"owner":{"account_id":29422046,"reputation":25,"user_id":22543581,"display_name":"Safnad Graphsol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695477688,"creation_date":1695477688,"question_id":77163355,"body_markdown":"My Android app developed in Java (android studio)\r\n\r\ntarget version was 32\r\n\r\nand I got a notification from the Play Store to upgrade to 33, within one year otherwise we cannot update.\r\n\r\n\r\nso I updated it to\r\nTarget SDK Version (32 to 33) in Android Studio\r\n\r\nbut the new version is 28  \r\n\r\nand try to update on 27 \r\n\r\nthe installation failed\r\n\r\n\r\nFailed to commit install session 621146829 with command package install-commit 621146829. Error: INSTALL_FAILED_UPDATE_INCOMPATIBLE: Existing package com.restaurant.grilliz signatures do not match newer version; ignoring!\r\n\r\n\r\nand it is working , if I unistall the previous and intall this new\r\n\r\n\r\nbut for my all users have old version, i cannot tell them to uninstall &amp; update\r\n\r\n\r\nso how to fix this\r\n\r\nI have no idea to fix this\r\nso please anybody help me to fix this","title":"Update Installation Getting Failed After Target SDK Version (32 to 33) in Android Studio","body":"<p>My Android app developed in Java (android studio)</p>\n<p>target version was 32</p>\n<p>and I got a notification from the Play Store to upgrade to 33, within one year otherwise we cannot update.</p>\n<p>so I updated it to\nTarget SDK Version (32 to 33) in Android Studio</p>\n<p>but the new version is 28</p>\n<p>and try to update on 27</p>\n<p>the installation failed</p>\n<p>Failed to commit install session 621146829 with command package install-commit 621146829. Error: INSTALL_FAILED_UPDATE_INCOMPATIBLE: Existing package com.restaurant.grilliz signatures do not match newer version; ignoring!</p>\n<p>and it is working , if I unistall the previous and intall this new</p>\n<p>but for my all users have old version, i cannot tell them to uninstall &amp; update</p>\n<p>so how to fix this</p>\n<p>I have no idea to fix this\nso please anybody help me to fix this</p>\n"},{"tags":["java","spring-boot","testing","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1695500537,"post_id":77163347,"comment_id":136033665,"body_markdown":"Please post AuthorService constructor.","body":"Please post AuthorService constructor."},{"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"score":0,"creation_date":1695523978,"post_id":77163347,"comment_id":136035270,"body_markdown":"hello I saw your comment, then I do recheck my authorService contructor so I have&#39;nt inject modelmapper fied in contructor that&#39;s why it got nullexception. Thank you so much Lesiak","body":"hello I saw your comment, then I do recheck my authorService contructor so I have&#39;nt inject modelmapper fied in contructor that&#39;s why it got nullexception. Thank you so much Lesiak"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695582571,"post_id":77163347,"comment_id":136040360,"body_markdown":"Please delete the question if it was caused by a typo or not reproducible","body":"Please delete the question if it was caused by a typo or not reproducible"}],"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695477567,"creation_date":1695477567,"question_id":77163347,"body_markdown":"when I execute the test method this happened:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;com.bookstore.com.ConfigPackage.ModelMappers.authorToDto(com.bookstore.com.domain.author.Author)&quot; because &quot;this.modelMapper&quot; is null\r\nat com.bookstore.com.services.authorService.AuthorService.fetchById(AuthorService.java:47)\r\nat com.bookstore.com.serviceLevelTest.AuthorServiceTest.isFetchAuthorByIdValid(AuthorServiceTest.java:89)\r\n```\r\n\r\n\r\nthis is service method in Author service class: \r\n\r\n```\r\n public AuthorDto fetchById(Long id){\r\n\r\n        try {\r\n            Optional&lt;Author&gt; author = authorRepository.fetchById(id);\r\n            if (author.isEmpty()){\r\n                logger.info(&quot;author is not exist&quot;);\r\n            }\r\n            logger.info(&quot;start converting.... and show author before convert : &quot; + author.get());\r\n            AuthorDto authorDto = modelMapper.authorToDto(author.get());\r\n            logger.info(&quot;after converted DTO: &quot; + authorDto);\r\n            return authorDto;\r\n        }catch (NoSuchElementException e){\r\n            logger.error(&quot;error happen&quot;);\r\n\r\n            throw  new RuntimeException(&quot;Something went wrong! &quot;+ e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nthis is authorServiceTest Class and method that produce the error above:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class AuthorServiceTest {\r\n    Logger logger = LoggerFactory.getLogger(AuthorService.class);\r\n    @Mock\r\n    AuthorRepository authorRepository;\r\n    @Mock\r\n    ModelMappers modelMappers;\r\n    @InjectMocks\r\n    AuthorService authorService;\r\n\r\n    @Test\r\n    void isFetchAuthorByIdValid(){\r\n        Author author = new Author(1L,&quot;Jack&quot;,&quot;SSM&quot;,&quot;Mars&quot;);\r\n        Mockito.when(authorRepository.fetchById(1L)).thenReturn(Optional.of(author));\r\n\r\n        AuthorDto authorDto = new AuthorDto();\r\n        authorDto.setAuthorId(author.getAuthorId());\r\n        authorDto.setFirstName(author.getFirstName());\r\n        authorDto.setLastName(author.getLastName());\r\n        authorDto.setNation(author.getNation());\r\n        Mockito.when(modelMappers.authorToDto(author)).thenReturn(authorDto);\r\n        AuthorDto authorDtoResult = authorService.fetchById(1L);\r\n        Assertions.assertNotNull(authorDtoResult);\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n \r\n\r\n\r\n\r\n\r\n\r\nI do a similar code to my book service test and every method worked, I have tested with PostMan this method is working fine, so I think it should be inside the test class itself, If anyone has a solution please help me solve this I&#39;m a newbie in this career and I still have to keep learn a lot, thanks in advance ","title":"Junit 5 + Mockito in every method in AuthorServicetest return NullPointerException from Modelmapper","body":"<p>when I execute the test method this happened:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.bookstore.com.ConfigPackage.ModelMappers.authorToDto(com.bookstore.com.domain.author.Author)&quot; because &quot;this.modelMapper&quot; is null\nat com.bookstore.com.services.authorService.AuthorService.fetchById(AuthorService.java:47)\nat com.bookstore.com.serviceLevelTest.AuthorServiceTest.isFetchAuthorByIdValid(AuthorServiceTest.java:89)\n</code></pre>\n<p>this is service method in Author service class:</p>\n<pre><code> public AuthorDto fetchById(Long id){\n\n        try {\n            Optional&lt;Author&gt; author = authorRepository.fetchById(id);\n            if (author.isEmpty()){\n                logger.info(&quot;author is not exist&quot;);\n            }\n            logger.info(&quot;start converting.... and show author before convert : &quot; + author.get());\n            AuthorDto authorDto = modelMapper.authorToDto(author.get());\n            logger.info(&quot;after converted DTO: &quot; + authorDto);\n            return authorDto;\n        }catch (NoSuchElementException e){\n            logger.error(&quot;error happen&quot;);\n\n            throw  new RuntimeException(&quot;Something went wrong! &quot;+ e.getMessage());\n        }\n\n    }\n\n</code></pre>\n<p>this is authorServiceTest Class and method that produce the error above:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class AuthorServiceTest {\n    Logger logger = LoggerFactory.getLogger(AuthorService.class);\n    @Mock\n    AuthorRepository authorRepository;\n    @Mock\n    ModelMappers modelMappers;\n    @InjectMocks\n    AuthorService authorService;\n\n    @Test\n    void isFetchAuthorByIdValid(){\n        Author author = new Author(1L,&quot;Jack&quot;,&quot;SSM&quot;,&quot;Mars&quot;);\n        Mockito.when(authorRepository.fetchById(1L)).thenReturn(Optional.of(author));\n\n        AuthorDto authorDto = new AuthorDto();\n        authorDto.setAuthorId(author.getAuthorId());\n        authorDto.setFirstName(author.getFirstName());\n        authorDto.setLastName(author.getLastName());\n        authorDto.setNation(author.getNation());\n        Mockito.when(modelMappers.authorToDto(author)).thenReturn(authorDto);\n        AuthorDto authorDtoResult = authorService.fetchById(1L);\n        Assertions.assertNotNull(authorDtoResult);\n    }\n}\n\n\n\n</code></pre>\n<p>I do a similar code to my book service test and every method worked, I have tested with PostMan this method is working fine, so I think it should be inside the test class itself, If anyone has a solution please help me solve this I'm a newbie in this career and I still have to keep learn a lot, thanks in advance</p>\n"},{"tags":["java","rsa"],"comments":[{"owner":{"account_id":8737108,"reputation":30917,"user_id":6535399,"display_name":"bartonjs"},"score":1,"creation_date":1576382995,"post_id":59340371,"comment_id":104879862,"body_markdown":"Your private key is only the same size as the public because you called `getPublic` for both of them :)","body":"Your private key is only the same size as the public because you called <code>getPublic</code> for both of them :)"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1576387991,"post_id":59340371,"comment_id":104880411,"body_markdown":"Dupe https://stackoverflow.com/questions/2921508/trying-to-understand-java-rsa-key-size (mostly) from nearly 10 years ago.","body":"Dupe <a href=\"https://stackoverflow.com/questions/2921508/trying-to-understand-java-rsa-key-size\" title=\"trying to understand java rsa key size\">stackoverflow.com/questions/2921508/&hellip;</a> (mostly) from nearly 10 years ago."}],"answers":[{"tags":[],"owner":{"account_id":13447574,"reputation":1898,"user_id":10089811,"display_name":"Jakob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1576371658,"creation_date":1576371658,"answer_id":59340432,"question_id":59340371,"body_markdown":"RSA keys aren&#39;t like AES keys.\r\n\r\nAES keys are some random bytes. RSA keys are numbers. The RSA modulus (`N`) defines the lenght.\r\n\r\nYour key is 294 bytes long, because of `getEncoded();`. It returns a formatted key and not the real lenght.","title":"Java RSA Key Sizes","body":"<p>RSA keys aren't like AES keys.</p>\n\n<p>AES keys are some random bytes. RSA keys are numbers. The RSA modulus (<code>N</code>) defines the lenght.</p>\n\n<p>Your key is 294 bytes long, because of <code>getEncoded();</code>. It returns a formatted key and not the real lenght.</p>\n"},{"tags":[],"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695477542,"creation_date":1695477542,"answer_id":77163345,"question_id":59340371,"body_markdown":"You are asking not for the key, but for an encoded representation of it. That&#39;s why it is named `getEncoded()`.\r\n\r\nStandard encoding for all crypto stuff is ASN.1 DER, and according to the specific standards for RSA keys, there&#39;s version, algorithm identifier, and the key integer itself to be present in the encoding.\r\n\r\nYour question is similar to asking &quot;when I store a picture in a GIF, why is the size not the number of pixels multiplied with byte per pixel?&quot;.\r\nEncoding is more complex than just the raw data.\r\n\r\n\r\nAdding a quote on details, to make this answer more useful:\r\n\r\n```\r\n    PrivateKeyInfo ::= SEQUENCE {\r\n      version Version,\r\n      algorithm   AlgorithmIdentifier,\r\n      PrivateKey  BIT STRING\r\n    }\r\n    \r\n    AlgorithmIdentifier ::= SEQUENCE {\r\n      algorithm   OBJECT IDENTIFIER,\r\n      parameters  ANY DEFINED BY algorithm OPTIONAL\r\n    }\r\n```\r\n\r\nwith AlgorithmIdentifier for RSA being the OID 1.2.840.113549.1.1.1 in OID format.\r\n\r\nSee also Java JDK docs, e.g. [Key interface JavaDoc][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/Key.html","title":"Java RSA Key Sizes","body":"<p>You are asking not for the key, but for an encoded representation of it. That's why it is named <code>getEncoded()</code>.</p>\n<p>Standard encoding for all crypto stuff is ASN.1 DER, and according to the specific standards for RSA keys, there's version, algorithm identifier, and the key integer itself to be present in the encoding.</p>\n<p>Your question is similar to asking &quot;when I store a picture in a GIF, why is the size not the number of pixels multiplied with byte per pixel?&quot;.\nEncoding is more complex than just the raw data.</p>\n<p>Adding a quote on details, to make this answer more useful:</p>\n<pre><code>    PrivateKeyInfo ::= SEQUENCE {\n      version Version,\n      algorithm   AlgorithmIdentifier,\n      PrivateKey  BIT STRING\n    }\n    \n    AlgorithmIdentifier ::= SEQUENCE {\n      algorithm   OBJECT IDENTIFIER,\n      parameters  ANY DEFINED BY algorithm OPTIONAL\n    }\n</code></pre>\n<p>with AlgorithmIdentifier for RSA being the OID 1.2.840.113549.1.1.1 in OID format.</p>\n<p>See also Java JDK docs, e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Key.html\" rel=\"nofollow noreferrer\">Key interface JavaDoc</a>.</p>\n"}],"owner":{"account_id":12365490,"reputation":467,"user_id":9023033,"accept_rate":100,"display_name":"Peter Ye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59340432,"answer_count":2,"score":1,"last_activity_date":1695477542,"creation_date":1576370797,"question_id":59340371,"body_markdown":"I am trying to learn how to sign messages using the RSA algorithm with SHA256 in Java. When I generated a 2048-bit KeyPair, I found that both the public and private key were 294 bytes. Here is my code for finding the size of the keys:\r\n```\r\nimport java.security.*;\r\n\r\npublic class RSATesting\r\n{    \r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048, new SecureRandom());\r\n        KeyPair pair = generator.generateKeyPair();\r\n        \r\n        byte[] publicKeyBytes=pair.getPublic().getEncoded();\r\n        System.out.println(publicKeyBytes.length);\r\n        byte[] privateKeyBytes=pair.getPublic().getEncoded();\r\n        System.out.println(privateKeyBytes.length);\r\n    }\r\n}\r\n```\r\nWhy are the keys not 256 bytes?\r\n\r\nThanks","title":"Java RSA Key Sizes","body":"<p>I am trying to learn how to sign messages using the RSA algorithm with SHA256 in Java. When I generated a 2048-bit KeyPair, I found that both the public and private key were 294 bytes. Here is my code for finding the size of the keys:</p>\n\n<pre><code>import java.security.*;\n\npublic class RSATesting\n{    \n    public static void main(String[] args) throws Exception\n    {\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(\"RSA\");\n        generator.initialize(2048, new SecureRandom());\n        KeyPair pair = generator.generateKeyPair();\n\n        byte[] publicKeyBytes=pair.getPublic().getEncoded();\n        System.out.println(publicKeyBytes.length);\n        byte[] privateKeyBytes=pair.getPublic().getEncoded();\n        System.out.println(privateKeyBytes.length);\n    }\n}\n</code></pre>\n\n<p>Why are the keys not 256 bytes?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mongodb","date"],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695477473,"creation_date":1695477473,"answer_id":77163344,"question_id":77163309,"body_markdown":"You can use a custom converter that handles the conversion of `LocalDate` fields\r\n\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.stereotype.Component;\r\n    import java.time.LocalDate;\r\n    \r\n    @Component\r\n    public class LocalDateConverter implements Converter&lt;String, LocalDate&gt; {\r\n    \r\n        @Override\r\n        public LocalDate convert(String source) {\r\n            if (source == null || source.isEmpty()) {\r\n                return null;\r\n            }\r\n            return LocalDate.parse(source);\r\n        }\r\n    }\r\nand now you need to register this custom converter in your MongoDB configuration,for example if you are using Spring Boot, you can do this by creating a `@Configuration` class and overriding the `mongoCustomConversions` bean like below\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.mongodb.core.convert.MongoCustomConversions;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    import org.springframework.data.mongodb.repository.config.EnableReactiveMongoRepositories;\r\n    import org.springframework.data.mongodb.repository.config.EnableReactiveMongoRepositories;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import java.util.List;\r\n    \r\n    @Configuration\r\n    @EnableMongoRepositories(basePackages = &quot;com.example.repository&quot;)\r\n    public class MongoConfig {\r\n    \r\n        @Autowired\r\n        private List&lt;Converter&lt;?, ?&gt;&gt; converters;\r\n    \r\n        @Bean\r\n        public MongoCustomConversions mongoCustomConversions() {\r\n            return new MongoCustomConversions(converters);\r\n        }\r\n    }","title":"Conversion fails on Empty Dates when querying MongoDB with Spring Repository","body":"<p>You can use a custom converter that handles the conversion of <code>LocalDate</code> fields</p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\nimport java.time.LocalDate;\n\n@Component\npublic class LocalDateConverter implements Converter&lt;String, LocalDate&gt; {\n\n    @Override\n    public LocalDate convert(String source) {\n        if (source == null || source.isEmpty()) {\n            return null;\n        }\n        return LocalDate.parse(source);\n    }\n}\n</code></pre>\n<p>and now you need to register this custom converter in your MongoDB configuration,for example if you are using Spring Boot, you can do this by creating a <code>@Configuration</code> class and overriding the <code>mongoCustomConversions</code> bean like below</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.core.convert.MongoCustomConversions;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.data.mongodb.repository.config.EnableReactiveMongoRepositories;\nimport org.springframework.data.mongodb.repository.config.EnableReactiveMongoRepositories;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport java.util.List;\n\n@Configuration\n@EnableMongoRepositories(basePackages = &quot;com.example.repository&quot;)\npublic class MongoConfig {\n\n    @Autowired\n    private List&lt;Converter&lt;?, ?&gt;&gt; converters;\n\n    @Bean\n    public MongoCustomConversions mongoCustomConversions() {\n        return new MongoCustomConversions(converters);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11010948,"reputation":189,"user_id":8088331,"display_name":"Giacomo Giovannini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77163344,"answer_count":1,"score":1,"last_activity_date":1695477473,"creation_date":1695476859,"question_id":77163309,"body_markdown":"I&#39;m trying to retrieve a document on MongoBD using this repository:\r\n\r\n    public interface MyObjectRepository extends Repository&lt;MyObject, String&gt;{\r\n\r\n\tMyObject findMyObjectByIdObject(String IdObject);}\r\n\r\nwhere MyObject is a simple custom class with no nested attributes, only Strings and some Dates.\r\n\r\nWhen I try to query MongoDB using:\r\n\r\n\t\tMyObject obj = myObjectRepository.findMyObjectByIdObject(&quot;id&quot;);\r\n\r\nI get this error if any of the custom class Date attributes is null, empty or not present as a field in the MongoDb document:\r\n\r\n    org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value []\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.doConvert(MappingMongoConverter.java:1814)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.doConvert(MappingMongoConverter.java:1806)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getPotentiallyConvertedSimpleRead(MappingMongoConverter.java:1328)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getPotentiallyConvertedSimpleRead(MappingMongoConverter.java:1313)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2310)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2158)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1926)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:606)\r\n\r\nI&#39;ve tried removing all Date (LocalDate, LocalDateTime, Date ....) attributes of my custom class and I am able to retrieve the document without problems.\r\n\r\nIs there a way to retrieve documents even if those dates are empty on the db?\r\n\r\n","title":"Conversion fails on Empty Dates when querying MongoDB with Spring Repository","body":"<p>I'm trying to retrieve a document on MongoBD using this repository:</p>\n<pre><code>public interface MyObjectRepository extends Repository&lt;MyObject, String&gt;{\n\nMyObject findMyObjectByIdObject(String IdObject);}\n</code></pre>\n<p>where MyObject is a simple custom class with no nested attributes, only Strings and some Dates.</p>\n<p>When I try to query MongoDB using:</p>\n<pre><code>    MyObject obj = myObjectRepository.findMyObjectByIdObject(&quot;id&quot;);\n</code></pre>\n<p>I get this error if any of the custom class Date attributes is null, empty or not present as a field in the MongoDb document:</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value []\nat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.doConvert(MappingMongoConverter.java:1814)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.doConvert(MappingMongoConverter.java:1806)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getPotentiallyConvertedSimpleRead(MappingMongoConverter.java:1328)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getPotentiallyConvertedSimpleRead(MappingMongoConverter.java:1313)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2310)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2158)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1926)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:606)\n</code></pre>\n<p>I've tried removing all Date (LocalDate, LocalDateTime, Date ....) attributes of my custom class and I am able to retrieve the document without problems.</p>\n<p>Is there a way to retrieve documents even if those dates are empty on the db?</p>\n"},{"tags":["java","docker","keycloak","keycloak-services","service-provider"],"answers":[{"tags":[],"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695477105,"creation_date":1669031390,"answer_id":74518446,"question_id":73773330,"body_markdown":"Solution:\r\n 1. Create your own cli script:\r\n\r\n    ```\r\n    embed-server --server-config=standalone-ha.xml --std-out=echo\r\n    batch\r\n\r\n    /subsystem=keycloak-server/spi=bruteForceProtector:add\r\n    /subsystem=keycloak-server/spi=bruteForceProtector/provider=custom-brute-force-detector:add(enabled=true)\r\n    /subsystem=keycloak-server/spi=bruteForceProtector:write-attribute(name=default-provider, value=custom-brute-force-detector)\r\n\r\n    run-batch\r\n    stop-embedded-server\r\n    ```\r\n\r\n 2. Create sh script that runs cli script:\r\n\r\n    ```sh\r\n    #!/bin/bash\r\n    if [ &quot;$ADD_CUSTOM_BRUTE_FORCE_SPI&quot; == &quot;true&quot; ]; then\r\n        echo &quot;Enabling custom brute force detector&quot;\r\n        $JBOSS_HOME/bin/jboss-cli.sh --file=&quot;/opt/jboss/tools/cli/infinispan/custom-brute-force-detector.cli&quot;\r\n    fi\r\n    ```\r\n\r\n \r\n 3. Import it in Dockerfile:\r\n\r\n    ```\r\n    RUN chmod +755 /opt/jboss/startup-scripts/add-custom-brute-force-spi.sh /opt/jboss/tools/docker-entrypoint.sh\r\n    ```\r\n\r\n","title":"Keycloak override default SPI with Docker","body":"<p>Solution:</p>\n<ol>\n<li><p>Create your own cli script:</p>\n<pre><code>embed-server --server-config=standalone-ha.xml --std-out=echo\nbatch\n\n/subsystem=keycloak-server/spi=bruteForceProtector:add\n/subsystem=keycloak-server/spi=bruteForceProtector/provider=custom-brute-force-detector:add(enabled=true)\n/subsystem=keycloak-server/spi=bruteForceProtector:write-attribute(name=default-provider, value=custom-brute-force-detector)\n\nrun-batch\nstop-embedded-server\n</code></pre>\n</li>\n<li><p>Create sh script that runs cli script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nif [ &quot;$ADD_CUSTOM_BRUTE_FORCE_SPI&quot; == &quot;true&quot; ]; then\n    echo &quot;Enabling custom brute force detector&quot;\n    $JBOSS_HOME/bin/jboss-cli.sh --file=&quot;/opt/jboss/tools/cli/infinispan/custom-brute-force-detector.cli&quot;\nfi\n</code></pre>\n</li>\n<li><p>Import it in Dockerfile:</p>\n<pre><code>RUN chmod +755 /opt/jboss/startup-scripts/add-custom-brute-force-spi.sh /opt/jboss/tools/docker-entrypoint.sh\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695477105,"creation_date":1663590425,"question_id":73773330,"body_markdown":"I have created my custom SPI for brute-force detection. On local env I just added this in standalone-ha.xml:\r\n\r\n            &lt;spi name=&quot;bruteForceProtector&quot;&gt;\r\n                &lt;default-provider&gt;bw-brute-force-detector&lt;/default-provider&gt;\r\n                &lt;provider name=&quot;bw-brute-force-detector&quot; enabled=&quot;true&quot;&gt;\r\n                &lt;/provider&gt;\r\n            &lt;/spi&gt;\r\n\r\nThis doesn&#39;t work anymore when we are using Docker. How I can pack and override default SPI with docker? I saw some approach with cli scrips but there is no clear example so I can understand...\r\nCan someone help? \r\n\r\n\r\n","title":"Keycloak override default SPI with Docker","body":"<p>I have created my custom SPI for brute-force detection. On local env I just added this in standalone-ha.xml:</p>\n<pre><code>        &lt;spi name=&quot;bruteForceProtector&quot;&gt;\n            &lt;default-provider&gt;bw-brute-force-detector&lt;/default-provider&gt;\n            &lt;provider name=&quot;bw-brute-force-detector&quot; enabled=&quot;true&quot;&gt;\n            &lt;/provider&gt;\n        &lt;/spi&gt;\n</code></pre>\n<p>This doesn't work anymore when we are using Docker. How I can pack and override default SPI with docker? I saw some approach with cli scrips but there is no clear example so I can understand...\nCan someone help?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695476955,"creation_date":1695476955,"answer_id":77163312,"question_id":77163094,"body_markdown":"Try this:\r\n\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n            \r\n            &lt;TableLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\r\n                &lt;TableRow\r\n                    android:background=&quot;@color/app_blue&quot;&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        ... /&gt;\r\n                    \r\n                &lt;/TableRow&gt;\r\n            &lt;/TableLayout&gt;\r\n        \r\n            \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        \r\n        &lt;/LinearLayout&gt;\r\n\r\nHere&#39;s what I changed and why:\r\n\r\nWrapping the entire layout in a LinearLayout with a vertical orientation to stack the header and RecyclerView vertically.\r\n\r\nIn the header TableRow, I added android:gravity=&quot;center&quot; to center the text within each TextView.\r\n\r\nFor each TextView in the header, make sure to set android:layout_width=&quot;0dp&quot; and android:layout_weight=&quot;1&quot; to evenly distribute the available width among the columns.\r\n\r\nYou&#39;ll need to add similar TextView elements for all the columns in your header.\r\n\r\n\r\n","title":"Android tableview cells not aligned","body":"<p>Try this:</p>\n<pre><code>&lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    \n        \n        &lt;TableLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\n            &lt;TableRow\n                android:background=&quot;@color/app_blue&quot;&gt;\n    \n                &lt;TextView\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:gravity=&quot;center&quot;\n                    ... /&gt;\n                \n            &lt;/TableRow&gt;\n        &lt;/TableLayout&gt;\n    \n        \n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    \n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>Here's what I changed and why:</p>\n<p>Wrapping the entire layout in a LinearLayout with a vertical orientation to stack the header and RecyclerView vertically.</p>\n<p>In the header TableRow, I added android:gravity=&quot;center&quot; to center the text within each TextView.</p>\n<p>For each TextView in the header, make sure to set android:layout_width=&quot;0dp&quot; and android:layout_weight=&quot;1&quot; to evenly distribute the available width among the columns.</p>\n<p>You'll need to add similar TextView elements for all the columns in your header.</p>\n"}],"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695476955,"creation_date":1695473146,"question_id":77163094,"body_markdown":"I am creating tables in Android Studio. The table header is created with the following code:\r\n\r\n\r\n\r\n\r\n    &lt;TableLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\r\n            &lt;TableRow android:background=&quot;@color/app_blue&quot;&gt;\r\n    \r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n                &lt;TextView ... /&gt;\r\n            &lt;/TableRow&gt;\r\n    \r\n        &lt;/TableLayout&gt;\r\n    \t\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n\r\n\r\nThe table is inside the Recyclerview, the table is created:\r\n\r\n   \r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:shrinkColumns=&quot;*&quot;\r\n        android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\r\n    \r\n        &lt;TableRow\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:stretchColumns=&quot;*&quot;\r\n            android:weightSum=&quot;10&quot;&gt;\r\n    \r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n            &lt;TextView ... /&gt;\r\n        &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n\r\nAnd table is shown like this:\r\n[![Emulator screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/61lPP.png\r\n\r\n\r\nI colored the cells to make it easier to see the problem. How to align cells and header\r\n\r\n","title":"Android tableview cells not aligned","body":"<p>I am creating tables in Android Studio. The table header is created with the following code:</p>\n<pre><code>&lt;TableLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\n        &lt;TableRow android:background=&quot;@color/app_blue&quot;&gt;\n\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n            &lt;TextView ... /&gt;\n        &lt;/TableRow&gt;\n\n    &lt;/TableLayout&gt;\n    \n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<p>The table is inside the Recyclerview, the table is created:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;1&quot;\n    android:shrinkColumns=&quot;*&quot;\n    android:stretchColumns=&quot;1,2,3,4,5,6,7,8,9,10&quot;&gt;\n\n    &lt;TableRow\n        android:layout_width=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:stretchColumns=&quot;*&quot;\n        android:weightSum=&quot;10&quot;&gt;\n\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n        &lt;TextView ... /&gt;\n    &lt;/TableRow&gt;\n&lt;/TableLayout&gt;\n</code></pre>\n<p>And table is shown like this:\n<a href=\"https://i.stack.imgur.com/61lPP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/61lPP.png\" alt=\"Emulator screenshot\" /></a></p>\n<p>I colored the cells to make it easier to see the problem. How to align cells and header</p>\n"},{"tags":["java","dictionary"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1274562743,"creation_date":1274562743,"answer_id":2889783,"question_id":2889777,"body_markdown":"These are different implementations of the same interface. Each implementation has some advantages and some disadvantages (fast insert, slow search) or vice versa.\r\n\r\nFor details look at the javadoc of [TreeMap][1], [HashMap][2], [LinkedHashMap][3].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>These are different implementations of the same interface. Each implementation has some advantages and some disadvantages (fast insert, slow search) or vice versa.</p>\n\n<p>For details look at the javadoc of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a>.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1406720895,"creation_date":1274563033,"answer_id":2889796,"question_id":2889777,"body_markdown":"All three represent mapping from unique keys to values, and therefore implement the [Map][1] interface.\r\n\r\n1. HashMap is a map based on [hashing][2] of the keys. It supports O(1) get/put operations. Keys must have [consistent implementations of `hashCode()` and `equals()`][3] for this to work. \r\n\r\n2. LinkedHashMap is very similar to HashMap, but it adds awareness to the order at which items are added (or accessed), so the iteration order is the same as insertion order (or access order, depending on construction parameters).\r\n\r\n3. TreeMap is a tree based mapping. Its put/get operations take O(log n) time. It requires items to have some comparison mechanism, either with Comparable or Comparator. The iteration order is determined by this mechanism.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Map.html\r\n  [2]: http://en.wikipedia.org/wiki/Hash_function\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>All three represent mapping from unique keys to values, and therefore implement the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\">Map</a> interface.</p>\n\n<ol>\n<li><p>HashMap is a map based on <a href=\"http://en.wikipedia.org/wiki/Hash_function\" rel=\"noreferrer\">hashing</a> of the keys. It supports O(1) get/put operations. Keys must have <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\">consistent implementations of <code>hashCode()</code> and <code>equals()</code></a> for this to work. </p></li>\n<li><p>LinkedHashMap is very similar to HashMap, but it adds awareness to the order at which items are added (or accessed), so the iteration order is the same as insertion order (or access order, depending on construction parameters).</p></li>\n<li><p>TreeMap is a tree based mapping. Its put/get operations take O(log n) time. It requires items to have some comparison mechanism, either with Comparable or Comparator. The iteration order is determined by this mechanism.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":3,"up_vote_count":1248,"is_accepted":true,"score":1245,"last_activity_date":1517794346,"creation_date":1274563096,"answer_id":2889800,"question_id":2889777,"body_markdown":"All three classes implement the `Map` interface and offer mostly the same functionality. The most important difference is the order in which iteration through the entries will happen:\r\n\r\n - `HashMap` makes absolutely no guarantees about the iteration order. It can (and will) even change completely when new elements are added.\r\n - `TreeMap` will iterate according to the &quot;natural ordering&quot; of the keys according to their `compareTo()` method (or an externally supplied `Comparator`). Additionally, it implements the [`SortedMap`][1] interface, which contains methods that depend on this sort order.\r\n - `LinkedHashMap` will iterate in the order in which the entries were put into the map\r\n\r\n[&quot;Hashtable&quot;][2] is the generic name for hash-based maps. In the context of the Java API,\r\n`Hashtable` is an obsolete class from the days of Java 1.1 before the collections framework existed. It should not be used anymore, because its API is cluttered with obsolete methods that duplicate functionality, and its methods are synchronized (which can decrease performance and is generally useless). Use [ConcurrentHashMap](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html) instead of Hashtable. \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/SortedMap.html\r\n  [2]: http://en.wikipedia.org/wiki/Hashtable","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>All three classes implement the <code>Map</code> interface and offer mostly the same functionality. The most important difference is the order in which iteration through the entries will happen:</p>\n\n<ul>\n<li><code>HashMap</code> makes absolutely no guarantees about the iteration order. It can (and will) even change completely when new elements are added.</li>\n<li><code>TreeMap</code> will iterate according to the \"natural ordering\" of the keys according to their <code>compareTo()</code> method (or an externally supplied <code>Comparator</code>). Additionally, it implements the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interface, which contains methods that depend on this sort order.</li>\n<li><code>LinkedHashMap</code> will iterate in the order in which the entries were put into the map</li>\n</ul>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Hashtable\" rel=\"noreferrer\">\"Hashtable\"</a> is the generic name for hash-based maps. In the context of the Java API,\n<code>Hashtable</code> is an obsolete class from the days of Java 1.1 before the collections framework existed. It should not be used anymore, because its API is cluttered with obsolete methods that duplicate functionality, and its methods are synchronized (which can decrease performance and is generally useless). Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> instead of Hashtable. </p>\n"},{"tags":[],"owner":{"account_id":117108,"reputation":1849,"user_id":306819,"accept_rate":65,"display_name":"siddhusingh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1379886363,"creation_date":1296627671,"answer_id":4871361,"question_id":2889777,"body_markdown":"@Amit: `SortedMap` is an interface whereas `TreeMap` is a class which implements the `SortedMap` interface. That means if follows the protocol which `SortedMap` asks its implementers to do.\r\nA tree unless implemented as search tree, can&#39;t give you ordered data because tree can be any kind of tree. So to make TreeMap work like Sorted order, it implements SortedMap ( e.g, Binary Search Tree - BST, balanced BST like AVL and R-B Tree , even Ternary Search Tree - mostly used for iterative searches in ordered way ).\r\n\r\n    public class TreeMap&lt;K,V&gt;\r\n    extends AbstractMap&lt;K,V&gt;\r\n    implements SortedMap&lt;K,V&gt;, Cloneable, Serializable\r\n\r\nIn NUT-SHELL\r\n`HashMap` : gives data in O(1) , no ordering\r\n\r\n`TreeMap` : gives data in O(log N), base 2. with ordered keys\r\n\r\n`LinkedHashMap` : is Hash table with linked list (think of indexed-SkipList) capability to store data in the way it gets inserted in the tree. Best suited to implement LRU ( least recently used ).","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>@Amit: <code>SortedMap</code> is an interface whereas <code>TreeMap</code> is a class which implements the <code>SortedMap</code> interface. That means if follows the protocol which <code>SortedMap</code> asks its implementers to do.\nA tree unless implemented as search tree, can't give you ordered data because tree can be any kind of tree. So to make TreeMap work like Sorted order, it implements SortedMap ( e.g, Binary Search Tree - BST, balanced BST like AVL and R-B Tree , even Ternary Search Tree - mostly used for iterative searches in ordered way ).</p>\n\n<pre><code>public class TreeMap&lt;K,V&gt;\nextends AbstractMap&lt;K,V&gt;\nimplements SortedMap&lt;K,V&gt;, Cloneable, Serializable\n</code></pre>\n\n<p>In NUT-SHELL\n<code>HashMap</code> : gives data in O(1) , no ordering</p>\n\n<p><code>TreeMap</code> : gives data in O(log N), base 2. with ordered keys</p>\n\n<p><code>LinkedHashMap</code> : is Hash table with linked list (think of indexed-SkipList) capability to store data in the way it gets inserted in the tree. Best suited to implement LRU ( least recently used ).</p>\n"},{"tags":[],"owner":{"account_id":980595,"reputation":421,"user_id":1000404,"display_name":"Prem Kumar"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1406721150,"creation_date":1318913752,"answer_id":7802592,"question_id":2889777,"body_markdown":"### HashMap\r\n\r\n- It has pair values(keys,values)\r\n- NO duplication key values\r\n- unordered unsorted\r\n- it allows one null key and more than one null values\r\n\r\n### HashTable\r\n\r\n - same as hash map\r\n - it does not allows null keys and null values\r\n\r\n### LinkedHashMap\r\n\r\n- It is ordered version of map implementation\r\n- Based on linked list and hashing data structures\r\n\r\n### TreeMap\r\n\r\n- Ordered and sortered version\r\n- based on hashing data structures\r\n\r\n","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<h3>HashMap</h3>\n\n<ul>\n<li>It has pair values(keys,values)</li>\n<li>NO duplication key values</li>\n<li>unordered unsorted</li>\n<li>it allows one null key and more than one null values</li>\n</ul>\n\n<h3>HashTable</h3>\n\n<ul>\n<li>same as hash map</li>\n<li>it does not allows null keys and null values</li>\n</ul>\n\n<h3>LinkedHashMap</h3>\n\n<ul>\n<li>It is ordered version of map implementation</li>\n<li>Based on linked list and hashing data structures</li>\n</ul>\n\n<h3>TreeMap</h3>\n\n<ul>\n<li>Ordered and sortered version</li>\n<li>based on hashing data structures</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1366914609,"creation_date":1346093484,"answer_id":12147789,"question_id":2889777,"body_markdown":"Just some more input from my own experience with maps, on when I would use each one:\r\n\r\n* HashMap - Most useful when looking for a best-performance (fast) implementation.\r\n* TreeMap (SortedMap interface) - Most useful when I&#39;m concerned with being able to sort or iterate over the keys in a particular order that I define.\r\n* LinkedHashMap - Combines advantages of guaranteed ordering from TreeMap without the increased cost of maintaining the TreeMap.  (It is almost as fast as the HashMap).  In particular, the LinkedHashMap also provides a great starting point for creating a Cache object by overriding the [`removeEldestEntry()`][1] method.  This lets you create a Cache object that can expire data using some criteria that you define.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html#removeEldestEntry%28java.util.Map.Entry%29","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>Just some more input from my own experience with maps, on when I would use each one:</p>\n\n<ul>\n<li>HashMap - Most useful when looking for a best-performance (fast) implementation.</li>\n<li>TreeMap (SortedMap interface) - Most useful when I'm concerned with being able to sort or iterate over the keys in a particular order that I define.</li>\n<li>LinkedHashMap - Combines advantages of guaranteed ordering from TreeMap without the increased cost of maintaining the TreeMap.  (It is almost as fast as the HashMap).  In particular, the LinkedHashMap also provides a great starting point for creating a Cache object by overriding the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html#removeEldestEntry%28java.util.Map.Entry%29\"><code>removeEldestEntry()</code></a> method.  This lets you create a Cache object that can expire data using some criteria that you define.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1443461372,"creation_date":1374082188,"answer_id":17706384,"question_id":2889777,"body_markdown":"&gt; HashMap makes absolutely not guarantees about the iteration order. It\r\n&gt; can (and will) even change completely when new elements are added.\r\n&gt; TreeMap will iterate according to the &quot;natural ordering&quot; of the keys\r\n&gt; according to their compareTo() method (or an externally supplied\r\n&gt; Comparator). Additionally, it implements the SortedMap interface,\r\n&gt; which contains methods that depend on this sort order. LinkedHashMap\r\n&gt; will iterate in the order in which the entries were put into the map\r\n\r\nLook at how performance varying..\r\n![enter image description here][1]\r\n\r\nTree map which is an implementation of Sorted map. The complexity of the put, get and containsKey operation is O(log n) due to the Natural ordering\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9Ete5.jpg","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<blockquote>\n  <p>HashMap makes absolutely not guarantees about the iteration order. It\n  can (and will) even change completely when new elements are added.\n  TreeMap will iterate according to the \"natural ordering\" of the keys\n  according to their compareTo() method (or an externally supplied\n  Comparator). Additionally, it implements the SortedMap interface,\n  which contains methods that depend on this sort order. LinkedHashMap\n  will iterate in the order in which the entries were put into the map</p>\n</blockquote>\n\n<p>Look at how performance varying..\n<img src=\"https://i.stack.imgur.com/9Ete5.jpg\" alt=\"enter image description here\"></p>\n\n<p>Tree map which is an implementation of Sorted map. The complexity of the put, get and containsKey operation is O(log n) due to the Natural ordering</p>\n"},{"tags":[],"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"down_vote_count":1,"up_vote_count":1823,"is_accepted":false,"score":1822,"last_activity_date":1614798138,"creation_date":1374089092,"answer_id":17708526,"question_id":2889777,"body_markdown":"I prefer visual presentation: \r\n\r\n| Property | HashMap | TreeMap | LinkedHashMap |\r\n|----------|---------|---------|---------------|\r\n| Iteration Order | no guaranteed order, will remain constant over time | sorted according to the natural ordering | insertion-order |\r\n| Get / put / remove / containsKey | O(1) | O(log(n)) | O(1) |\r\n| Interfaces | Map | NavigableMap, Map, SortedMap | Map |\r\n| Null values/keys | allowed | only values | allowed |\r\n| Fail-fast behavior | Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification | Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification | Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification |\r\n| Implementation | buckets | Red-Black Tree | double-linked buckets |\r\n| Is synchronized | implementation is not synchronized | implementation is not synchronized | implementation is not synchronized |","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>I prefer visual presentation:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Property</th>\n<th>HashMap</th>\n<th>TreeMap</th>\n<th>LinkedHashMap</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Iteration Order</td>\n<td>no guaranteed order, will remain constant over time</td>\n<td>sorted according to the natural ordering</td>\n<td>insertion-order</td>\n</tr>\n<tr>\n<td>Get / put / remove / containsKey</td>\n<td>O(1)</td>\n<td>O(log(n))</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>Interfaces</td>\n<td>Map</td>\n<td>NavigableMap, Map, SortedMap</td>\n<td>Map</td>\n</tr>\n<tr>\n<td>Null values/keys</td>\n<td>allowed</td>\n<td>only values</td>\n<td>allowed</td>\n</tr>\n<tr>\n<td>Fail-fast behavior</td>\n<td>Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification</td>\n<td>Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification</td>\n<td>Fail-fast behavior of an iterator cannot be guaranteed, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification</td>\n</tr>\n<tr>\n<td>Implementation</td>\n<td>buckets</td>\n<td>Red-Black Tree</td>\n<td>double-linked buckets</td>\n</tr>\n<tr>\n<td>Is synchronized</td>\n<td>implementation is not synchronized</td>\n<td>implementation is not synchronized</td>\n<td>implementation is not synchronized</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":40011,"reputation":40045,"user_id":115722,"accept_rate":85,"display_name":"pierrotlefou"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1484082711,"creation_date":1422584929,"answer_id":28228281,"question_id":2889777,"body_markdown":"See where each class is in the class hierarchy in the following diagram ([bigger one][1]). TreeMap implements `SortedMap` and `NavigableMap` while `HashMap` doesn&#39;t.\r\n\r\n`HashTable` is obsolete and the corresponding `ConcurrentHashMap` class should be used.\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://3.bp.blogspot.com/-LUCDWSG5qXE/Uy_ee5bIR5I/AAAAAAAAAZA/oY1hR_1fcwk/s1600/Java+collection+cheat+sheet.PNG\r\n  [2]: http://i.stack.imgur.com/MtCX2.png","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>See where each class is in the class hierarchy in the following diagram (<a href=\"http://3.bp.blogspot.com/-LUCDWSG5qXE/Uy_ee5bIR5I/AAAAAAAAAZA/oY1hR_1fcwk/s1600/Java+collection+cheat+sheet.PNG\" rel=\"noreferrer\">bigger one</a>). TreeMap implements <code>SortedMap</code> and <code>NavigableMap</code> while <code>HashMap</code> doesn't.</p>\n\n<p><code>HashTable</code> is obsolete and the corresponding <code>ConcurrentHashMap</code> class should be used.\n<img src=\"https://i.stack.imgur.com/MtCX2.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":9111057,"reputation":1276,"user_id":6779797,"display_name":"jsingh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487340971,"creation_date":1487340971,"answer_id":42300116,"question_id":2889777,"body_markdown":"All offer a key-&gt;value map and a way to iterate through the keys. The most important distinction between\r\nthese classes are the time guarantees and the ordering of the keys.\r\n\r\n 1. HashMap offers 0(1) lookup and insertion. If you iterate through the keys, though, the ordering of the\r\nkeys is essentially arbitrary. It is implemented by an array of linked lists.\r\n 2. TreeMap offers O(log N) lookup and insertion. Keys are ordered, so if you need to iterate through\r\nthe keys in sorted order, you can. This means that keys must implement the Comparable interface.TreeMap is implemented by a Red-Black Tree.\r\n 3. LinkedHashMap offers 0(1) lookup and insertion. Keys are ordered by their insertion order. It is\r\nimplemented by doubly-linked buckets.\r\n\r\n\r\nImagine you passed an empty TreeMap, HashMap, and LinkedHashMap into the following function:\r\n\r\n    void insertAndPrint(AbstractMap&lt;Integer, String&gt; map) {\r\n      int[] array= {1, -1, 0};\r\n      for (int x : array) {\r\n        map.put(x, Integer.toString(x));\r\n      }\r\n      for (int k: map.keySet()) {\r\n       System.out.print(k + &quot;, &quot;);\r\n      }\r\n    }\r\nThe output for each will look like the results below.&lt;br&gt;\r\n\r\nFor HashMap, the output was, in my own tests, { 0, 1, -1}, but it could be any ordering. There is no guarantee on the\r\nordering.&lt;br&gt;\r\nTreemap,the output was,{ -1, 0, 1}&lt;br&gt;\r\nLinkedList,the output was,{ 1, -1, 0}\r\n\r\n ","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>All offer a key->value map and a way to iterate through the keys. The most important distinction between\nthese classes are the time guarantees and the ordering of the keys.</p>\n\n<ol>\n<li>HashMap offers 0(1) lookup and insertion. If you iterate through the keys, though, the ordering of the\nkeys is essentially arbitrary. It is implemented by an array of linked lists.</li>\n<li>TreeMap offers O(log N) lookup and insertion. Keys are ordered, so if you need to iterate through\nthe keys in sorted order, you can. This means that keys must implement the Comparable interface.TreeMap is implemented by a Red-Black Tree.</li>\n<li>LinkedHashMap offers 0(1) lookup and insertion. Keys are ordered by their insertion order. It is\nimplemented by doubly-linked buckets.</li>\n</ol>\n\n<p>Imagine you passed an empty TreeMap, HashMap, and LinkedHashMap into the following function:</p>\n\n<pre><code>void insertAndPrint(AbstractMap&lt;Integer, String&gt; map) {\n  int[] array= {1, -1, 0};\n  for (int x : array) {\n    map.put(x, Integer.toString(x));\n  }\n  for (int k: map.keySet()) {\n   System.out.print(k + \", \");\n  }\n}\n</code></pre>\n\n<p>The output for each will look like the results below.<br></p>\n\n<p>For HashMap, the output was, in my own tests, { 0, 1, -1}, but it could be any ordering. There is no guarantee on the\nordering.<br>\nTreemap,the output was,{ -1, 0, 1}<br>\nLinkedList,the output was,{ 1, -1, 0}</p>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1501334193,"creation_date":1493962128,"answer_id":43797155,"question_id":2889777,"body_markdown":"All three classes `HashMap`, `TreeMap` and `LinkedHashMap` implements `java.util.Map` interface, and represents mapping from unique key to values. \r\n\r\n**[HashMap][1]**\r\n\r\n 1. A `HashMap` contains values based on the key.\r\n \r\n 2. It contains only    unique elements. \r\n 3. It may have one null key and multiple null values.\r\n    \r\n 4. It maintains ***no order***.\r\n\r\n   \r\n    ` public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable`\r\n\r\n \r\n\r\n**[LinkedHashMap][2]**\r\n\r\n 1. A `LinkedHashMap` contains values based on the key.\r\n 2. It contains only unique elements.\r\n 3. It may have one null key and multiple null values.\r\n 4. It is same as HashMap instead maintains ***insertion order***. *//See class deceleration below*\r\n\r\n   ` public class LinkedHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements Map&lt;K,V&gt; `\r\n\r\n\r\n**[TreeMap][3]**\r\n\r\n 1. A `TreeMap` contains values based on the key. It implements the NavigableMap interface and extends AbstractMap class.\r\n 2. It contains only unique elements.\r\n 3. It cannot have null key but can have multiple null values.\r\n 4. It is same as `HashMap` instead maintains ***ascending order***(Sorted using the natural order of its key.).\r\n\r\n   ` public class TreeMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements NavigableMap&lt;K,V&gt;, Cloneable, Serializable ` \r\n\r\n**[Hashtable][4]**\r\n\r\n 1. A Hashtable is an array of list. Each list is known as a bucket. The position of bucket is identified by calling the hashcode() method. A Hashtable contains values based on the key.\r\n 2. It contains only unique elements.\r\n 3. It may have not have any null key or value.\r\n 4. It is ***synchronized***.\r\n 5. It is a legacy class.\r\n\r\n    `public class Hashtable&lt;K,V&gt; extends Dictionary&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable`\r\n\r\n\r\n[![][5]][5]\r\n  \r\n\r\n\r\nRef: http://javarevisited.blogspot.in/2015/08/difference-between-HashMap-vs-TreeMap-vs-LinkedHashMap-Java.html\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java#HashMap\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedHashMap.java#LinkedHashMap\r\n  [3]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/TreeMap.java#TreeMap\r\n  [4]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Hashtable.java#Hashtable\r\n  [5]: https://i.stack.imgur.com/clp27.jpg","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>All three classes <code>HashMap</code>, <code>TreeMap</code> and <code>LinkedHashMap</code> implements <code>java.util.Map</code> interface, and represents mapping from unique key to values. </p>\n\n<p><strong><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java#HashMap\" rel=\"noreferrer\">HashMap</a></strong></p>\n\n<ol>\n<li><p>A <code>HashMap</code> contains values based on the key.</p></li>\n<li><p>It contains only    unique elements. </p></li>\n<li><p>It may have one null key and multiple null values.</p></li>\n<li><p>It maintains <strong><em>no order</em></strong>.</p>\n\n<p><code>public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable</code></p></li>\n</ol>\n\n<p><strong><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedHashMap.java#LinkedHashMap\" rel=\"noreferrer\">LinkedHashMap</a></strong></p>\n\n<ol>\n<li>A <code>LinkedHashMap</code> contains values based on the key.</li>\n<li>It contains only unique elements.</li>\n<li>It may have one null key and multiple null values.</li>\n<li><p>It is same as HashMap instead maintains <strong><em>insertion order</em></strong>. <em>//See class deceleration below</em></p>\n\n<p><code>public class LinkedHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements Map&lt;K,V&gt;</code></p></li>\n</ol>\n\n<p><strong><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/TreeMap.java#TreeMap\" rel=\"noreferrer\">TreeMap</a></strong></p>\n\n<ol>\n<li>A <code>TreeMap</code> contains values based on the key. It implements the NavigableMap interface and extends AbstractMap class.</li>\n<li>It contains only unique elements.</li>\n<li>It cannot have null key but can have multiple null values.</li>\n<li><p>It is same as <code>HashMap</code> instead maintains <strong><em>ascending order</em></strong>(Sorted using the natural order of its key.).</p>\n\n<p><code>public class TreeMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements NavigableMap&lt;K,V&gt;, Cloneable, Serializable</code> </p></li>\n</ol>\n\n<p><strong><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Hashtable.java#Hashtable\" rel=\"noreferrer\">Hashtable</a></strong></p>\n\n<ol>\n<li>A Hashtable is an array of list. Each list is known as a bucket. The position of bucket is identified by calling the hashcode() method. A Hashtable contains values based on the key.</li>\n<li>It contains only unique elements.</li>\n<li>It may have not have any null key or value.</li>\n<li>It is <strong><em>synchronized</em></strong>.</li>\n<li><p>It is a legacy class.</p>\n\n<p><code>public class Hashtable&lt;K,V&gt; extends Dictionary&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable</code></p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/clp27.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/clp27.jpg\" alt=\"\"></a></p>\n\n<p>Ref: <a href=\"http://javarevisited.blogspot.in/2015/08/difference-between-HashMap-vs-TreeMap-vs-LinkedHashMap-Java.html\" rel=\"noreferrer\">http://javarevisited.blogspot.in/2015/08/difference-between-HashMap-vs-TreeMap-vs-LinkedHashMap-Java.html</a></p>\n"},{"tags":[],"owner":{"account_id":8287282,"reputation":687,"user_id":6230028,"display_name":"Kamran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495277095,"creation_date":1495277095,"answer_id":44084915,"question_id":2889777,"body_markdown":"**HashMap**           \r\ncan contain one null key.\r\n\r\nHashMap maintains no order. \r\n    \r\n**TreeMap**\r\n\r\nTreeMap can not contain any null key.\r\n\r\nTreeMap maintains ascending order.\r\n\r\n**LinkedHashMap**\r\n\r\nLinkedHashMap can be used to maintain insertion order, on which keys are inserted into Map or it can also be used to maintain an access order, on which keys are accessed.\r\n\r\n**Examples**::\r\n\r\n1) HashMap&lt;Integer, String&gt; map = new HashMap();\r\n\r\n        map.put(null, &quot;Kamran&quot;);\r\n        map.put(2, &quot;Ali&quot;);\r\n        map.put(5, &quot;From&quot;);\r\n        map.put(4, &quot;Dir&quot;);`enter code here`\r\n        map.put(3, &quot;Lower&quot;);\r\n        for (Map.Entry m : map.entrySet()) {\r\n            System.out.println(m.getKey() + &quot;  &quot; + m.getValue());\r\n        } \r\n\r\n\r\n2) TreeMap&lt;Integer, String&gt; map = new TreeMap();\r\n\r\n\r\n        map.put(1, &quot;Kamran&quot;);\r\n        map.put(2, &quot;Ali&quot;);\r\n        map.put(5, &quot;From&quot;);\r\n        map.put(4, &quot;Dir&quot;);\r\n        map.put(3, &quot;Lower&quot;);\r\n        for (Map.Entry m : map.entrySet()) {\r\n            System.out.println(m.getKey() + &quot;  &quot; + m.getValue());\r\n        }\r\n\r\n3) LinkedHashMap&lt;Integer, String&gt; map = new LinkedHashMap();\r\n\r\n\r\n        map.put(1, &quot;Kamran&quot;);\r\n        map.put(2, &quot;Ali&quot;);\r\n        map.put(5, &quot;From&quot;);\r\n        map.put(4, &quot;Dir&quot;);\r\n        map.put(3, &quot;Lower&quot;);\r\n        for (Map.Entry m : map.entrySet()) {\r\n            System.out.println(m.getKey() + &quot;  &quot; + m.getValue());\r\n        }","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p><strong>HashMap</strong><br>\ncan contain one null key.</p>\n\n<p>HashMap maintains no order. </p>\n\n<p><strong>TreeMap</strong></p>\n\n<p>TreeMap can not contain any null key.</p>\n\n<p>TreeMap maintains ascending order.</p>\n\n<p><strong>LinkedHashMap</strong></p>\n\n<p>LinkedHashMap can be used to maintain insertion order, on which keys are inserted into Map or it can also be used to maintain an access order, on which keys are accessed.</p>\n\n<p><strong>Examples</strong>::</p>\n\n<p>1) HashMap map = new HashMap();</p>\n\n<pre><code>    map.put(null, \"Kamran\");\n    map.put(2, \"Ali\");\n    map.put(5, \"From\");\n    map.put(4, \"Dir\");`enter code here`\n    map.put(3, \"Lower\");\n    for (Map.Entry m : map.entrySet()) {\n        System.out.println(m.getKey() + \"  \" + m.getValue());\n    } \n</code></pre>\n\n<p>2) TreeMap map = new TreeMap();</p>\n\n<pre><code>    map.put(1, \"Kamran\");\n    map.put(2, \"Ali\");\n    map.put(5, \"From\");\n    map.put(4, \"Dir\");\n    map.put(3, \"Lower\");\n    for (Map.Entry m : map.entrySet()) {\n        System.out.println(m.getKey() + \"  \" + m.getValue());\n    }\n</code></pre>\n\n<p>3) LinkedHashMap map = new LinkedHashMap();</p>\n\n<pre><code>    map.put(1, \"Kamran\");\n    map.put(2, \"Ali\");\n    map.put(5, \"From\");\n    map.put(4, \"Dir\");\n    map.put(3, \"Lower\");\n    for (Map.Entry m : map.entrySet()) {\n        System.out.println(m.getKey() + \"  \" + m.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9739742,"reputation":87,"user_id":7221783,"display_name":"Shivam Shukla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1512166914,"creation_date":1512166541,"answer_id":47602247,"question_id":2889777,"body_markdown":"Hash map doesn&#39;t  preserves the insertion order.  \r\nExample.  Hashmap&lt;Integer,Integer&gt;\r\nIf you are inserting keys as \r\n\n    1  3\n    5  9\n    4   6\n    7   15\n    3   10\n\n\r\n\r\n\r\n\r\nIt can store it as \r\n\n    4  6\n    5  9\n    3  10\n    1  3\n    7  15\n\n\r\n\r\n\r\nLinked Hashmap  preserves the insertion order.  \r\n\r\nExample.  \r\nIf you are inserting keys \r\n\n    1  3\n    5  9\n    4   6\n    7   15\n    3   10\n\n\r\nIt will store it as\r\n\n    1  3\n    5  9\n    4   6\n    7   15\n    3   10\n\n  same as we insert. \r\n\r\n\r\nTree map stores the vales in Increasing Order Of Keys. \nExample.  \r\nIf you are inserting keys \r\n\n    1  3\n    5  9\n    4   6\n    7   15\n    3   10\n\n\r\nIt will store it as\r\n\n    1  3\n    3  10\n    4   6\n    5   9\n    7   15\n\n\r\n\r\n","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>Hash map doesn't  preserves the insertion order.<br>\nExample.  Hashmap\nIf you are inserting keys as </p>\n\n<pre><code>1  3\n5  9\n4   6\n7   15\n3   10\n</code></pre>\n\n<p>It can store it as </p>\n\n<pre><code>4  6\n5  9\n3  10\n1  3\n7  15\n</code></pre>\n\n<p>Linked Hashmap  preserves the insertion order.  </p>\n\n<p>Example.<br>\nIf you are inserting keys </p>\n\n<pre><code>1  3\n5  9\n4   6\n7   15\n3   10\n</code></pre>\n\n<p>It will store it as</p>\n\n<pre><code>1  3\n5  9\n4   6\n7   15\n3   10\n</code></pre>\n\n<p>same as we insert. </p>\n\n<p>Tree map stores the vales in Increasing Order Of Keys. \nExample.<br>\nIf you are inserting keys </p>\n\n<pre><code>1  3\n5  9\n4   6\n7   15\n3   10\n</code></pre>\n\n<p>It will store it as</p>\n\n<pre><code>1  3\n3  10\n4   6\n5   9\n7   15\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6638247,"reputation":352,"user_id":5124803,"display_name":"Vijay Barot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512638171,"creation_date":1512638171,"answer_id":47691485,"question_id":2889777,"body_markdown":"Following are major difference between HashMap and TreeMap&lt;br/&gt;\r\n\r\n1. HashMap does not maintain any order. In other words , HashMap does not provide any guarantee that the element inserted first will be printed first, where as Just like TreeSet , TreeMap  elements are also sorted according to the natural ordering of its elements\r\n\r\n2. Internal HashMap implementation use Hashing and TreeMap internally uses Red-Black tree implementation.\r\n\r\n3. HashMap can store one null key and many  null values.TreeMap can not contain null keys but may contain many null values.\r\n\r\n4. HashMap  take constant time performance for the basic operations like get and put i.e O(1).According to Oracle docs , TreeMap provides guaranteed log(n) time cost for the get and put method.\r\n\r\n5. HashMap is much faster than TreeMap, as performance time of HashMap is constant against the log time TreeMap for most operations.\r\n\r\n6. HashMap uses equals() method in comparison while TreeMap uses compareTo() method for maintaining ordering.\r\n\r\n7. HashMap implements Map interface while TreeMap implements NavigableMap interface.\r\n","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>Following are major difference between HashMap and TreeMap<br/></p>\n\n<ol>\n<li><p>HashMap does not maintain any order. In other words , HashMap does not provide any guarantee that the element inserted first will be printed first, where as Just like TreeSet , TreeMap  elements are also sorted according to the natural ordering of its elements</p></li>\n<li><p>Internal HashMap implementation use Hashing and TreeMap internally uses Red-Black tree implementation.</p></li>\n<li><p>HashMap can store one null key and many  null values.TreeMap can not contain null keys but may contain many null values.</p></li>\n<li><p>HashMap  take constant time performance for the basic operations like get and put i.e O(1).According to Oracle docs , TreeMap provides guaranteed log(n) time cost for the get and put method.</p></li>\n<li><p>HashMap is much faster than TreeMap, as performance time of HashMap is constant against the log time TreeMap for most operations.</p></li>\n<li><p>HashMap uses equals() method in comparison while TreeMap uses compareTo() method for maintaining ordering.</p></li>\n<li><p>HashMap implements Map interface while TreeMap implements NavigableMap interface.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538269746,"creation_date":1527419700,"answer_id":50551555,"question_id":2889777,"body_markdown":"- HashMap:\r\n - Order not maintains\r\n - Faster than LinkedHashMap\r\n - Used for store heap of objects \r\n\r\n- LinkedHashMap:\r\n - LinkedHashMap insertion order will be maintained\r\n - Slower than HashMap and faster than TreeMap\r\n - If you want to maintain an insertion order use this.\r\n\r\n- TreeMap:\r\n - TreeMap is a tree-based mapping\r\n - TreeMap will follow the natural ordering of key\r\n - Slower than HashMap and LinkedHashMap\r\n - Use TreeMap when you need to maintain natural(default) ordering\r\n","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<ul>\n<li><p>HashMap:</p>\n\n<ul>\n<li>Order not maintains</li>\n<li>Faster than LinkedHashMap</li>\n<li>Used for store heap of objects </li>\n</ul></li>\n<li><p>LinkedHashMap:</p>\n\n<ul>\n<li>LinkedHashMap insertion order will be maintained</li>\n<li>Slower than HashMap and faster than TreeMap</li>\n<li>If you want to maintain an insertion order use this.</li>\n</ul></li>\n<li><p>TreeMap:</p>\n\n<ul>\n<li>TreeMap is a tree-based mapping</li>\n<li>TreeMap will follow the natural ordering of key</li>\n<li>Slower than HashMap and LinkedHashMap</li>\n<li>Use TreeMap when you need to maintain natural(default) ordering</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13992532,"reputation":331,"user_id":10106201,"display_name":"Animesh Jaiswal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568539822,"creation_date":1568539822,"answer_id":57942814,"question_id":2889777,"body_markdown":"The most important among all the three is how they save the order of the entries.\r\n\r\n`HashMap` - Does not save the order of the entries.\r\neg. \r\n\r\n    public static void main(String[] args){\r\n            HashMap&lt;String,Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n            hashMap.put(&quot;First&quot;,1);// First ---&gt; 1 is put first in the map\r\n            hashMap.put(&quot;Second&quot;,2);//Second ---&gt; 2 is put second in the map\r\n            hashMap.put(&quot;Third&quot;,3); // Third---&gt;3 is put third in the map\r\n            for(Map.Entry&lt;String,Integer&gt; entry : hashMap.entrySet())\r\n            {\r\n                System.out.println(entry.getKey()+&quot;---&gt;&quot;+entry.getValue());\r\n            }\r\n        }\r\n    \r\n\r\n[![Output for HashMap][1]][1]\r\n\r\n\r\n`LinkedHashMap` : It save the order in which entries were made. eg:\r\n\r\n    public static void main(String[] args){\r\n            LinkedHashMap&lt;String,Integer&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n            linkedHashMap.put(&quot;First&quot;,1);// First ---&gt; 1 is put first in the map\r\n            linkedHashMap.put(&quot;Second&quot;,2);//Second ---&gt; 2 is put second in the map\r\n            linkedHashMap.put(&quot;Third&quot;,3); // Third---&gt;3 is put third in the map\r\n            for(Map.Entry&lt;String,Integer&gt; entry : linkedHashMap.entrySet())\r\n            {\r\n                System.out.println(entry.getKey()+&quot;---&gt;&quot;+entry.getValue());\r\n            }\r\n        }\r\n\r\n[![Output of LinkedHashMap][2]][2]\r\n\r\n\r\n`TreeMap` : It saves the entries in ascending order of the keys. eg:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n            TreeMap&lt;String,Integer&gt; treeMap = new TreeMap&lt;&gt;();\r\n            treeMap.put(&quot;A&quot;,1);// A---&gt; 1 is put first in the map\r\n            treeMap.put(&quot;C&quot;,2);//C---&gt; 2 is put second in the map\r\n            treeMap.put(&quot;B&quot;,3); //B---&gt;3 is put third in the map\r\n            for(Map.Entry&lt;String,Integer&gt; entry : treeMap.entrySet())\r\n            {\r\n                System.out.println(entry.getKey()+&quot;---&gt;&quot;+entry.getValue());\r\n            }\r\n        }\r\n\r\n[![Output of TreeMap][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7dhQ.png\r\n  [2]: https://i.stack.imgur.com/4sBoG.png\r\n  [3]: https://i.stack.imgur.com/QEkX1.png\r\n\r\n","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>The most important among all the three is how they save the order of the entries.</p>\n\n<p><code>HashMap</code> - Does not save the order of the entries.\neg. </p>\n\n<pre><code>public static void main(String[] args){\n        HashMap&lt;String,Integer&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(\"First\",1);// First ---&gt; 1 is put first in the map\n        hashMap.put(\"Second\",2);//Second ---&gt; 2 is put second in the map\n        hashMap.put(\"Third\",3); // Third---&gt;3 is put third in the map\n        for(Map.Entry&lt;String,Integer&gt; entry : hashMap.entrySet())\n        {\n            System.out.println(entry.getKey()+\"---&gt;\"+entry.getValue());\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/f7dhQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7dhQ.png\" alt=\"Output for HashMap\"></a></p>\n\n<p><code>LinkedHashMap</code> : It save the order in which entries were made. eg:</p>\n\n<pre><code>public static void main(String[] args){\n        LinkedHashMap&lt;String,Integer&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n        linkedHashMap.put(\"First\",1);// First ---&gt; 1 is put first in the map\n        linkedHashMap.put(\"Second\",2);//Second ---&gt; 2 is put second in the map\n        linkedHashMap.put(\"Third\",3); // Third---&gt;3 is put third in the map\n        for(Map.Entry&lt;String,Integer&gt; entry : linkedHashMap.entrySet())\n        {\n            System.out.println(entry.getKey()+\"---&gt;\"+entry.getValue());\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4sBoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4sBoG.png\" alt=\"Output of LinkedHashMap\"></a></p>\n\n<p><code>TreeMap</code> : It saves the entries in ascending order of the keys. eg:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n        TreeMap&lt;String,Integer&gt; treeMap = new TreeMap&lt;&gt;();\n        treeMap.put(\"A\",1);// A---&gt; 1 is put first in the map\n        treeMap.put(\"C\",2);//C---&gt; 2 is put second in the map\n        treeMap.put(\"B\",3); //B---&gt;3 is put third in the map\n        for(Map.Entry&lt;String,Integer&gt; entry : treeMap.entrySet())\n        {\n            System.out.println(entry.getKey()+\"---&gt;\"+entry.getValue());\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QEkX1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEkX1.png\" alt=\"Output of TreeMap\"></a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580963568,"creation_date":1576546597,"answer_id":59366447,"question_id":2889777,"body_markdown":"While there are plenty of excellent Answers here, I&#39;d like to present my own table describing the various `Map` implementations bundled with Java 11.\r\n\r\nWe can see these differences listed on the table graphic:\r\n\r\n - [`HashMap`][1] is the **general-purpose** [`Map`][2] commonly used when you have no special needs.\r\n - [`LinkedHashMap`][3] extends `HashMap`, adding this behavior: Maintains an order, the **order in which the entries were originally added**. Altering the value for key-value entry does not alter its place in the order.\r\n - [`TreeMap`][4] too maintains an order, but uses either (a) the **natural order**, meaning the value of the [`compareTo`][5] method on the key objects defined on the [`Comparable`][6] interface, or (b) invokes **a [`Comparator`][7] implementation** you provide. \r\n  - `TreeMap` implements both the [`SortedMap`][8] interface, and its successor, the [`NavigableMap`][9] interface.\r\n - [NULL][10]s: `TreeMap` does ***not* allow a NULL as the key**, while `HashMap` &amp; `LinkedHashMap` do. \r\n  - All three allow NULL as the value.\r\n - [`HashTable`][11] is **[legacy][12], from Java 1**. Supplanted by the [`ConcurrentHashMap`][13] class. Quoting the Javadoc: `ConcurrentHashMap` obeys the same functional specification as `Hashtable`, and includes versions of methods corresponding to each method of `Hashtable`.\r\n\r\n[![Table of map implementations in Java 11, comparing their features][15]][15]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [10]: https://en.wikipedia.org/wiki/Null_pointer\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html\r\n  [12]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [13]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\r\n  [14]: https://i.stack.imgur.com/NbWc8.png\r\n  [15]: https://i.stack.imgur.com/NAuTl.png","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>While there are plenty of excellent Answers here, I'd like to present my own table describing the various <code>Map</code> implementations bundled with Java 11.</p>\n\n<p>We can see these differences listed on the table graphic:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a> is the <strong>general-purpose</strong> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> commonly used when you have no special needs.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a> extends <code>HashMap</code>, adding this behavior: Maintains an order, the <strong>order in which the entries were originally added</strong>. Altering the value for key-value entry does not alter its place in the order.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> too maintains an order, but uses either (a) the <strong>natural order</strong>, meaning the value of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> method on the key objects defined on the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface, or (b) invokes <strong>a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> implementation</strong> you provide. \n\n<ul>\n<li><code>TreeMap</code> implements both the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a> interface, and its successor, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> interface.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Null_pointer\" rel=\"nofollow noreferrer\">NULL</a>s: <code>TreeMap</code> does <strong><em>not</em> allow a NULL as the key</strong>, while <code>HashMap</code> &amp; <code>LinkedHashMap</code> do. \n\n<ul>\n<li>All three allow NULL as the value.</li>\n</ul></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html\" rel=\"nofollow noreferrer\"><code>HashTable</code></a> is <strong><a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, from Java 1</strong>. Supplanted by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> class. Quoting the Javadoc: <code>ConcurrentHashMap</code> obeys the same functional specification as <code>Hashtable</code>, and includes versions of methods corresponding to each method of <code>Hashtable</code>.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NAuTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAuTl.png\" alt=\"Table of map implementations in Java 11, comparing their features\"></a></p>\n"}],"owner":{"account_id":34829,"reputation":23264,"user_id":98514,"accept_rate":76,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668345,"favorite_count":0,"down_vote_count":4,"up_vote_count":1070,"accepted_answer_id":2889800,"answer_count":17,"score":1066,"last_activity_date":1695476898,"creation_date":1274562615,"question_id":2889777,"body_markdown":"What is the difference between `HashMap`, `LinkedHashMap` and `TreeMap` in Java? \r\n\r\nI don&#39;t see any difference in the output as all the three has `keySet` and `values`.\r\n\r\nAlso, what are `Hashtable`s?\r\n\r\n    Map&lt;String, String&gt; m1 = new HashMap&lt;&gt;();\r\n    m1.put(&quot;map&quot;, &quot;HashMap&quot;);\r\n    m1.put(&quot;schildt&quot;, &quot;java2&quot;);\r\n    m1.put(&quot;mathew&quot;, &quot;Hyden&quot;);\r\n    m1.put(&quot;schildt&quot;, &quot;java2s&quot;);\r\n    print(m1.keySet()); \r\n    print(m1.values()); \r\n\r\n    SortedMap&lt;String, String&gt; sm = new TreeMap&lt;&gt;();\r\n    sm.put(&quot;map&quot;, &quot;TreeMap&quot;);\r\n    sm.put(&quot;schildt&quot;, &quot;java2&quot;);\r\n    sm.put(&quot;mathew&quot;, &quot;Hyden&quot;);\r\n    sm.put(&quot;schildt&quot;, &quot;java2s&quot;);\r\n    print(sm.keySet()); \r\n    print(sm.values());\r\n \r\n    LinkedHashMap&lt;String, String&gt; lm = new LinkedHashMap&lt;&gt;();\r\n    lm.put(&quot;map&quot;, &quot;LinkedHashMap&quot;);\r\n    lm.put(&quot;schildt&quot;, &quot;java2&quot;);\r\n    lm.put(&quot;mathew&quot;, &quot;Hyden&quot;);\r\n    lm.put(&quot;schildt&quot;, &quot;java2s&quot;);\r\n    print(lm.keySet()); \r\n    print(lm.values());","title":"Difference between HashMap, LinkedHashMap and TreeMap","body":"<p>What is the difference between <code>HashMap</code>, <code>LinkedHashMap</code> and <code>TreeMap</code> in Java?</p>\n<p>I don't see any difference in the output as all the three has <code>keySet</code> and <code>values</code>.</p>\n<p>Also, what are <code>Hashtable</code>s?</p>\n<pre><code>Map&lt;String, String&gt; m1 = new HashMap&lt;&gt;();\nm1.put(&quot;map&quot;, &quot;HashMap&quot;);\nm1.put(&quot;schildt&quot;, &quot;java2&quot;);\nm1.put(&quot;mathew&quot;, &quot;Hyden&quot;);\nm1.put(&quot;schildt&quot;, &quot;java2s&quot;);\nprint(m1.keySet()); \nprint(m1.values()); \n\nSortedMap&lt;String, String&gt; sm = new TreeMap&lt;&gt;();\nsm.put(&quot;map&quot;, &quot;TreeMap&quot;);\nsm.put(&quot;schildt&quot;, &quot;java2&quot;);\nsm.put(&quot;mathew&quot;, &quot;Hyden&quot;);\nsm.put(&quot;schildt&quot;, &quot;java2s&quot;);\nprint(sm.keySet()); \nprint(sm.values());\n\nLinkedHashMap&lt;String, String&gt; lm = new LinkedHashMap&lt;&gt;();\nlm.put(&quot;map&quot;, &quot;LinkedHashMap&quot;);\nlm.put(&quot;schildt&quot;, &quot;java2&quot;);\nlm.put(&quot;mathew&quot;, &quot;Hyden&quot;);\nlm.put(&quot;schildt&quot;, &quot;java2s&quot;);\nprint(lm.keySet()); \nprint(lm.values());\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":20164047,"reputation":161,"user_id":14788438,"display_name":"Mike"},"score":0,"creation_date":1695393811,"post_id":77158611,"comment_id":136022811,"body_markdown":"I&#39;m fixing the question, code snippet is not working properly apparently :/","body":"I&#39;m fixing the question, code snippet is not working properly apparently :/"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695476826,"creation_date":1695411708,"answer_id":77160286,"question_id":77158611,"body_markdown":"Spring searches for components: controllers, repos in the `basePackage`. By default, the base package is the package where main Application class is located and which has `@SpringBootApplication` annotation over it. You can specify another base package, if your components are located in the different location. But by default it is better to use same base package.\r\n\r\nSo as long as other components of your application are located in the same or child packages, you don&#39;t need to specify base package via @ComponentScan annotation. \r\n\r\n\r\nSince you specified base package, different from the one your Controller class is located, Spring did not find and did not register ProdottiController (and other repos), that is why you got 404.\r\n\r\nJust remove `@ComponentScan` annotation, and Spring will fall back to the defaults (basePackage = &quot;_main application class package_&quot;) and will find the controller.\r\n\r\nNote, please, you do not need an additional slash here, just leave `@GetMapping`\r\n\r\n        // Legge tutti i prodotti\r\n    @GetMapping\r\n    public java.util.List&lt;Prodotti&gt; getAllProdotti() {\r\n        return servizioProdotti.getAllProdotti();\r\n    }\r\n\r\nOverwise you have to call localhost:8080/prodotti/","title":"Java API creating table, but CRUD operations not working with MySQL DB","body":"<p>Spring searches for components: controllers, repos in the <code>basePackage</code>. By default, the base package is the package where main Application class is located and which has <code>@SpringBootApplication</code> annotation over it. You can specify another base package, if your components are located in the different location. But by default it is better to use same base package.</p>\n<p>So as long as other components of your application are located in the same or child packages, you don't need to specify base package via @ComponentScan annotation.</p>\n<p>Since you specified base package, different from the one your Controller class is located, Spring did not find and did not register ProdottiController (and other repos), that is why you got 404.</p>\n<p>Just remove <code>@ComponentScan</code> annotation, and Spring will fall back to the defaults (basePackage = &quot;<em>main application class package</em>&quot;) and will find the controller.</p>\n<p>Note, please, you do not need an additional slash here, just leave <code>@GetMapping</code></p>\n<pre><code>    // Legge tutti i prodotti\n@GetMapping\npublic java.util.List&lt;Prodotti&gt; getAllProdotti() {\n    return servizioProdotti.getAllProdotti();\n}\n</code></pre>\n<p>Overwise you have to call localhost:8080/prodotti/</p>\n"}],"owner":{"account_id":20164047,"reputation":161,"user_id":14788438,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77160286,"answer_count":1,"score":0,"last_activity_date":1695476826,"creation_date":1695393776,"question_id":77158611,"body_markdown":"I have created an API in Java, using Springboot and Maven.\r\n\r\nI did all of this following a [tutorial][1] and it&#39;s all working, it create a table and I see it from MySQL on terminal, but when I try doing some CRUD operations or access it on &quot;localhost:8080/prodotti&quot;, it&#39;s not working and giving me error &quot;404&quot;.\r\n\r\nHere are some code snippets:\r\n\r\n**Controller:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/prodotti&quot;)\r\n    public class ControllerProdotti {\r\n\r\n    ServizioProdotti servizioProdotti;\r\n\r\n    public ControllerProdotti(ServizioProdotti servizioProdotti) {\r\n        this.servizioProdotti = servizioProdotti;\r\n    }\r\n\r\n    // Legge prodotto con id specifico\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Prodotti getDettagliProdotti(@PathVariable(&quot;id&quot;) Integer idProdotti) {\r\n        return servizioProdotti.getProdotti(idProdotti);\r\n    }\r\n    \r\n    // Legge tutti i prodotti\r\n    @GetMapping(&quot;/&quot;)\r\n    public java.util.List&lt;Prodotti&gt; getAllProdotti() {\r\n        return servizioProdotti.getAllProdotti();\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String createDettagliProdotti(@RequestBody Prodotti prodotti) {\r\n\r\n        servizioProdotti.creaProdotto(prodotti);\r\n\r\n        return &quot;Prodotto creato con successo!&quot;;\r\n    }\r\n\r\n    @PutMapping(&quot;/&quot;)\r\n    public String updateDettagliProdotti(@RequestBody Prodotti prodotti) {\r\n        \r\n        servizioProdotti.aggiornaProdotto(prodotti);\r\n\r\n        return &quot;Prodotto aggiornato con successo!&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;{id}&quot;)\r\n    public String deleteDettagliProdotti(@PathVariable(&quot;id&quot;) Integer idProdotti) {\r\n        \r\n        servizioProdotti.cancellaProdotto(idProdotti);\r\n\r\n        return &quot;Prodotto cancellato con successo!&quot;;\r\n    }\r\n\r\n**Repository:**\r\n\r\n    public interface repositoryProdotti extends \r\n    JpaRepository&lt;Prodotti, Integer&gt; {}\r\n\r\n**Service:**\r\n\r\n    public interface ServizioProdotti {\r\n        public String creaProdotto(Prodotti prodotti);\r\n        public String aggiornaProdotto(Prodotti prodotti);\r\n        public String cancellaProdotto(Integer idProdotti);\r\n        public Prodotti getProdotti(Integer idProdotti);\r\n        public List&lt;Prodotti&gt; getAllProdotti();\r\n    }\r\n\r\n**Implementation:**\r\n\r\n    @Service\r\n    public class ImplementazioneProdotti implements ServizioProdotti{\r\n        repositoryProdotti RepositoryProdotti;\r\n        public ImplementazioneProdotti(repositoryProdotti RepositoryProdotti) {\r\n            this.RepositoryProdotti = RepositoryProdotti;\r\n        }\r\n        @Override\r\n        public String creaProdotto(Prodotti prodotti) {\r\n    \r\n            // Altre operazioni/logica qui\r\n    \r\n            RepositoryProdotti.save(prodotti);\r\n    \r\n            return &quot;Creato con successo!&quot;;\r\n        }\r\n        @Override\r\n        public String aggiornaProdotto(Prodotti prodotti) {\r\n            RepositoryProdotti.save(prodotti);\r\n            return &quot;Aggiornato con successo!&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String cancellaProdotto(Integer idProdotti) {\r\n            RepositoryProdotti.deleteById(idProdotti);\r\n            return &quot;Cancellato con successo!&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public Prodotti getProdotti(Integer idProdotti) {\r\n            return RepositoryProdotti.findById(idProdotti).get();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Prodotti&gt; getAllProdotti() {\r\n            return RepositoryProdotti.findAll();\r\n        }  \r\n    }\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n    # ===============================\r\n    # = DATA SOURCE\r\n    # ===============================\r\n    \r\n    # Set here configurations for the database connection\r\n    \r\n    # Connection url for the database &quot;supermarketpro&quot;\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/mercatoPro?useSSL=false\r\n    \r\n    # Username and password\r\n    spring.datasource.username = root\r\n    spring.datasource.password = password\r\n    \r\n    # Keep the connection alive if idle for a long time (needed in production)\r\n    spring.datasource.testWhileIdle = true\r\n    spring.datasource.validationQuery = SELECT 1\r\n    \r\n    # ===============================\r\n    # = JPA / HIBERNATE\r\n    # ===============================\r\n    \r\n    # Use spring.jpa.properties.* for Hibernate native properties (the prefix is\r\n    # stripped before adding them to the entity manager).\r\n    \r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n    \r\n    # Hibernate ddl auto (create, create-drop, update): with &quot;update&quot; the database\r\n    # schema will be automatically updated accordingly to java entities found in\r\n    # the project\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    # Naming strategy\r\n    spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    \r\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n    #spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\n**Logs**\r\n\r\n     :: Spring Boot ::                (v3.1.3)\r\n    \r\n    2023-09-23T14:14:34.933+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : Starting RestApiApplication using Java 20.0.2 with PID 45877 (/Users/michy/Downloads/restAPI/target/classes started by michy in /Users/michy/Downloads/restAPI)\r\n    2023-09-23T14:14:34.939+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-09-23T14:14:35.043+02:00  INFO 45877 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-09-23T14:14:35.044+02:00  INFO 45877 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-09-23T14:14:36.252+02:00  INFO 45877 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-09-23T14:14:36.308+02:00  INFO 45877 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 JPA repository interfaces.\r\n    2023-09-23T14:14:37.149+02:00  INFO 45877 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-09-23T14:14:37.162+02:00  INFO 45877 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-09-23T14:14:37.162+02:00  INFO 45877 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n    2023-09-23T14:14:37.263+02:00  INFO 45877 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-09-23T14:14:37.265+02:00  INFO 45877 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2219 ms\r\n    2023-09-23T14:14:37.445+02:00  INFO 45877 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-09-23T14:14:37.519+02:00  INFO 45877 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n    2023-09-23T14:14:37.521+02:00  INFO 45877 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n    2023-09-23T14:14:37.701+02:00  INFO 45877 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-09-23T14:14:37.851+02:00  INFO 45877 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n    2023-09-23T14:14:37.868+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-09-23T14:14:38.115+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5775c599\r\n    2023-09-23T14:14:38.117+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-09-23T14:14:38.385+02:00  INFO 45877 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-09-23T14:14:39.117+02:00  INFO 45877 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    Hibernate: alter table prodotti modify column prezzo  float(23) not null\r\n    2023-09-23T14:14:39.206+02:00  INFO 45877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-09-23T14:14:39.258+02:00  WARN 45877 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-09-23T14:14:39.670+02:00  INFO 45877 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2023-09-23T14:14:39.706+02:00  INFO 45877 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-09-23T14:14:39.718+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : Started RestApiApplication in 5.395 seconds (process running for 6.117)\r\n\r\n[![Postman GET request at &quot;localhost:8080/prodotti&quot;][2]][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=RfHBm5yRxuw&amp;list=PLcs1FElCmEu121gqGwlQt47d0SqNkzSTK&amp;index=2\r\n  [2]: https://i.stack.imgur.com/zgMRK.png","title":"Java API creating table, but CRUD operations not working with MySQL DB","body":"<p>I have created an API in Java, using Springboot and Maven.</p>\n<p>I did all of this following a <a href=\"https://www.youtube.com/watch?v=RfHBm5yRxuw&amp;list=PLcs1FElCmEu121gqGwlQt47d0SqNkzSTK&amp;index=2\" rel=\"nofollow noreferrer\">tutorial</a> and it's all working, it create a table and I see it from MySQL on terminal, but when I try doing some CRUD operations or access it on &quot;localhost:8080/prodotti&quot;, it's not working and giving me error &quot;404&quot;.</p>\n<p>Here are some code snippets:</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/prodotti&quot;)\npublic class ControllerProdotti {\n\nServizioProdotti servizioProdotti;\n\npublic ControllerProdotti(ServizioProdotti servizioProdotti) {\n    this.servizioProdotti = servizioProdotti;\n}\n\n// Legge prodotto con id specifico\n@GetMapping(&quot;/{id}&quot;)\npublic Prodotti getDettagliProdotti(@PathVariable(&quot;id&quot;) Integer idProdotti) {\n    return servizioProdotti.getProdotti(idProdotti);\n}\n\n// Legge tutti i prodotti\n@GetMapping(&quot;/&quot;)\npublic java.util.List&lt;Prodotti&gt; getAllProdotti() {\n    return servizioProdotti.getAllProdotti();\n}\n\n@PostMapping(&quot;/&quot;)\npublic String createDettagliProdotti(@RequestBody Prodotti prodotti) {\n\n    servizioProdotti.creaProdotto(prodotti);\n\n    return &quot;Prodotto creato con successo!&quot;;\n}\n\n@PutMapping(&quot;/&quot;)\npublic String updateDettagliProdotti(@RequestBody Prodotti prodotti) {\n    \n    servizioProdotti.aggiornaProdotto(prodotti);\n\n    return &quot;Prodotto aggiornato con successo!&quot;;\n}\n\n@DeleteMapping(&quot;{id}&quot;)\npublic String deleteDettagliProdotti(@PathVariable(&quot;id&quot;) Integer idProdotti) {\n    \n    servizioProdotti.cancellaProdotto(idProdotti);\n\n    return &quot;Prodotto cancellato con successo!&quot;;\n}\n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>public interface repositoryProdotti extends \nJpaRepository&lt;Prodotti, Integer&gt; {}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>public interface ServizioProdotti {\n    public String creaProdotto(Prodotti prodotti);\n    public String aggiornaProdotto(Prodotti prodotti);\n    public String cancellaProdotto(Integer idProdotti);\n    public Prodotti getProdotti(Integer idProdotti);\n    public List&lt;Prodotti&gt; getAllProdotti();\n}\n</code></pre>\n<p><strong>Implementation:</strong></p>\n<pre><code>@Service\npublic class ImplementazioneProdotti implements ServizioProdotti{\n    repositoryProdotti RepositoryProdotti;\n    public ImplementazioneProdotti(repositoryProdotti RepositoryProdotti) {\n        this.RepositoryProdotti = RepositoryProdotti;\n    }\n    @Override\n    public String creaProdotto(Prodotti prodotti) {\n\n        // Altre operazioni/logica qui\n\n        RepositoryProdotti.save(prodotti);\n\n        return &quot;Creato con successo!&quot;;\n    }\n    @Override\n    public String aggiornaProdotto(Prodotti prodotti) {\n        RepositoryProdotti.save(prodotti);\n        return &quot;Aggiornato con successo!&quot;;\n    }\n\n    @Override\n    public String cancellaProdotto(Integer idProdotti) {\n        RepositoryProdotti.deleteById(idProdotti);\n        return &quot;Cancellato con successo!&quot;;\n    }\n\n    @Override\n    public Prodotti getProdotti(Integer idProdotti) {\n        return RepositoryProdotti.findById(idProdotti).get();\n    }\n\n    @Override\n    public List&lt;Prodotti&gt; getAllProdotti() {\n        return RepositoryProdotti.findAll();\n    }  \n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># ===============================\n# = DATA SOURCE\n# ===============================\n\n# Set here configurations for the database connection\n\n# Connection url for the database &quot;supermarketpro&quot;\nspring.datasource.url = jdbc:mysql://localhost:3306/mercatoPro?useSSL=false\n\n# Username and password\nspring.datasource.username = root\nspring.datasource.password = password\n\n# Keep the connection alive if idle for a long time (needed in production)\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# ===============================\n# = JPA / HIBERNATE\n# ===============================\n\n# Use spring.jpa.properties.* for Hibernate native properties (the prefix is\n# stripped before adding them to the entity manager).\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate ddl auto (create, create-drop, update): with &quot;update&quot; the database\n# schema will be automatically updated accordingly to java entities found in\n# the project\nspring.jpa.hibernate.ddl-auto = update\n\n# Naming strategy\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\n\n# Allows Hibernate to generate SQL optimized for a particular DBMS\n#spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code> :: Spring Boot ::                (v3.1.3)\n\n2023-09-23T14:14:34.933+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : Starting RestApiApplication using Java 20.0.2 with PID 45877 (/Users/michy/Downloads/restAPI/target/classes started by michy in /Users/michy/Downloads/restAPI)\n2023-09-23T14:14:34.939+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-23T14:14:35.043+02:00  INFO 45877 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-09-23T14:14:35.044+02:00  INFO 45877 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-09-23T14:14:36.252+02:00  INFO 45877 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-09-23T14:14:36.308+02:00  INFO 45877 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 JPA repository interfaces.\n2023-09-23T14:14:37.149+02:00  INFO 45877 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-09-23T14:14:37.162+02:00  INFO 45877 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-23T14:14:37.162+02:00  INFO 45877 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n2023-09-23T14:14:37.263+02:00  INFO 45877 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-23T14:14:37.265+02:00  INFO 45877 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2219 ms\n2023-09-23T14:14:37.445+02:00  INFO 45877 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-23T14:14:37.519+02:00  INFO 45877 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n2023-09-23T14:14:37.521+02:00  INFO 45877 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-23T14:14:37.701+02:00  INFO 45877 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-23T14:14:37.851+02:00  INFO 45877 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-23T14:14:37.868+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-23T14:14:38.115+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5775c599\n2023-09-23T14:14:38.117+02:00  INFO 45877 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-23T14:14:38.385+02:00  INFO 45877 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-23T14:14:39.117+02:00  INFO 45877 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: alter table prodotti modify column prezzo  float(23) not null\n2023-09-23T14:14:39.206+02:00  INFO 45877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-09-23T14:14:39.258+02:00  WARN 45877 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-09-23T14:14:39.670+02:00  INFO 45877 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-09-23T14:14:39.706+02:00  INFO 45877 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-09-23T14:14:39.718+02:00  INFO 45877 --- [  restartedMain] c.mercatoPro.restAPI.RestApiApplication  : Started RestApiApplication in 5.395 seconds (process running for 6.117)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zgMRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgMRK.png\" alt=\"Postman GET request at &quot;localhost:8080/prodotti&quot;\" /></a></p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1695381994,"post_id":77155954,"comment_id":136020350,"body_markdown":"Here are the [157 times this question has been asked](https://stackoverflow.com/search?q=%22Runtime+components+are+missing%22), if you review them, you should find an answer.","body":"Here are the <a href=\"https://stackoverflow.com/search?q=%22Runtime+components+are+missing%22\">157 times this question has been asked</a>, if you review them, you should find an answer."}],"answers":[{"tags":[],"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695414738,"creation_date":1695414738,"answer_id":77160520,"question_id":77155954,"body_markdown":"To solve my problem I found out it was pretty simple. I followed this [guide][1] \r\n\r\n\r\n  [1]: https://gist.github.com/RyanKoech/15e2dd446f5424c2fe86249e5528289d \r\nand I was also able to use the same .jar file to create .exe file of my project using lauch4j. ","title":"Intellij: Runtime components are missing in JavaFX project","body":"<p>To solve my problem I found out it was pretty simple. I followed this <a href=\"https://gist.github.com/RyanKoech/15e2dd446f5424c2fe86249e5528289d\" rel=\"nofollow noreferrer\">guide</a></p>\n<p>and I was also able to use the same .jar file to create .exe file of my project using lauch4j.</p>\n"}],"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695476135,"answer_count":1,"score":0,"last_activity_date":1695476216,"creation_date":1695371042,"question_id":77155954,"body_markdown":"I&#39;m trying, on a windows machine, to create a .jar file from a project that I created. I can create the .jar file throght jlink and the use of a custom jar {} to compact all the jars in one .jar file. \r\n\r\nWhen I try to run the .jar file that I have obtained I get the error: the required runtime components of javaFX are missing for this application. I even tryied to include the directory of JavaFX directyly in the .jar file, but I wasn&#39;t able to resolve the error.\r\n\r\nOtherwise if I run the project from the main class I don&#39;t encounter this error. Is there a way to insert the Runtime components of JavaFX directly in the .jar file? \r\n\r\nHere you can see my build.gradle file: \r\n\r\n    plugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n    }\r\n    \r\n    group &#39;com.preventivoApp&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        junitVersion = &#39;5.9.1&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    application {\r\n        mainModule = &#39;com.preventivoapp.appproject_preventivo&#39;\r\n        mainClass = &#39;com.preventivoapp.appproject_preventivo.QuoteMainApplication&#39;\r\n    }\r\n    \r\n    javafx {\r\n        version = &#39;17.0.2&#39;\r\n        modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&#39;org.controlsfx:controlsfx:11.1.2&#39;)\r\n    \r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    \r\n        implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.15.0&#39;\r\n        implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.15.0&#39;\r\n        implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.15.0&#39;\r\n    \r\n        implementation group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;2.0.28&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    task copyJavaFXLibs(type: Copy) {\r\n        from &#39;C:\\\\Users\\\\dcfre\\\\Downloads\\\\javafx-sdk-17.0.8\\\\lib&#39;\r\n        into &#39;libs&#39;\r\n    }\r\n    \r\n    jar {\r\n        dependsOn copyJavaFXLibs\r\n        manifest {\r\n            attributes &#39;Main-Class&#39; : &#39;com.preventivoapp.appproject_preventivo.QuoteMainApplication&#39;\r\n        }\r\n        from {\r\n            duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n            configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}\r\n        }\r\n    }\r\n    \r\n    jlink {\r\n        imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n        launcher {\r\n            name = &#39;app&#39;\r\n        }\r\n    }\r\n    \r\n    jlinkZip {\r\n        group = &#39;distribution&#39;\r\n    }\r\n\r\nAny help would be very helpful. Thanks in advance.","title":"Intellij: Runtime components are missing in JavaFX project","body":"<p>I'm trying, on a windows machine, to create a .jar file from a project that I created. I can create the .jar file throght jlink and the use of a custom jar {} to compact all the jars in one .jar file.</p>\n<p>When I try to run the .jar file that I have obtained I get the error: the required runtime components of javaFX are missing for this application. I even tryied to include the directory of JavaFX directyly in the .jar file, but I wasn't able to resolve the error.</p>\n<p>Otherwise if I run the project from the main class I don't encounter this error. Is there a way to insert the Runtime components of JavaFX directly in the .jar file?</p>\n<p>Here you can see my build.gradle file:</p>\n<pre><code>plugins {\nid 'java'\nid 'application'\nid 'org.javamodularity.moduleplugin' version '1.8.12'\nid 'org.openjfx.javafxplugin' version '0.0.13'\nid 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com.preventivoApp'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.1'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.preventivoapp.appproject_preventivo'\n    mainClass = 'com.preventivoapp.appproject_preventivo.QuoteMainApplication'\n}\n\njavafx {\n    version = '17.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.2')\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.15.0'\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.15.0'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.15.0'\n\n    implementation group: 'org.apache.pdfbox', name: 'pdfbox', version: '2.0.28'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ntask copyJavaFXLibs(type: Copy) {\n    from 'C:\\\\Users\\\\dcfre\\\\Downloads\\\\javafx-sdk-17.0.8\\\\lib'\n    into 'libs'\n}\n\njar {\n    dependsOn copyJavaFXLibs\n    manifest {\n        attributes 'Main-Class' : 'com.preventivoapp.appproject_preventivo.QuoteMainApplication'\n    }\n    from {\n        duplicatesStrategy = DuplicatesStrategy.INCLUDE\n        configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}\n    }\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p>Any help would be very helpful. Thanks in advance.</p>\n"},{"tags":["java","google-colaboratory"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1695516664,"post_id":77163234,"comment_id":136034891,"body_markdown":"How are you starting the scala program? Also, are you running colab in the cloud and trying to reconfigure the the heap in that terminal?","body":"How are you starting the scala program? Also, are you running colab in the cloud and trying to reconfigure the the heap in that terminal?"},{"owner":{"account_id":15143735,"reputation":165,"user_id":10928303,"display_name":"Master Irfan Elahee"},"score":0,"creation_date":1695634430,"post_id":77163234,"comment_id":136045739,"body_markdown":"I am running the scala program through the Joern terminal with the `cpg.runScript` command. Yes I am running it in the cloud, and reconfiguring the heap in that terminal","body":"I am running the scala program through the Joern terminal with the <code>cpg.runScript</code> command. Yes I am running it in the cloud, and reconfiguring the heap in that terminal"}],"owner":{"account_id":15143735,"reputation":165,"user_id":10928303,"display_name":"Master Irfan Elahee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695475380,"creation_date":1695475380,"question_id":77163234,"body_markdown":"I am running a scala program in Google Colab, however I am running into the `java.lang.outofmemoryerror: java heap space` error.\r\n\r\nWhat I have tried, is to go into `$ sudo vim /etc/profile` and increase it by:\r\n\r\n    export _JAVA_OPTIONS=-Xmx8192m\r\n\r\nI tried running this too `!export JAVA_OPTS=&quot;-Xms8192m -Xmx8192m&quot;`\r\n\r\nHowever when running `$ java -XshowSettings:vm` to check, it shows:\r\n\r\n    VM settings:\r\n    Max. Heap Size (Estimated): 3.17G\r\n    Using VM: OpenJDK 64-Bit Server VM\r\n\r\nHow else can I overcome this issue, as my program breaks when it reaches the error.","title":"Can&#39;t Increase Java Heap Space Google Colab","body":"<p>I am running a scala program in Google Colab, however I am running into the <code>java.lang.outofmemoryerror: java heap space</code> error.</p>\n<p>What I have tried, is to go into <code>$ sudo vim /etc/profile</code> and increase it by:</p>\n<pre><code>export _JAVA_OPTIONS=-Xmx8192m\n</code></pre>\n<p>I tried running this too <code>!export JAVA_OPTS=&quot;-Xms8192m -Xmx8192m&quot;</code></p>\n<p>However when running <code>$ java -XshowSettings:vm</code> to check, it shows:</p>\n<pre><code>VM settings:\nMax. Heap Size (Estimated): 3.17G\nUsing VM: OpenJDK 64-Bit Server VM\n</code></pre>\n<p>How else can I overcome this issue, as my program breaks when it reaches the error.</p>\n"},{"tags":["java","kubernetes","ignite"],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695474886,"creation_date":1686596353,"question_id":76459554,"body_markdown":"We are running Ignite within Kubernetes and saw the following error client side.\r\n\r\nIt looks like at the time some other processes had some difficulty communicating over the network (high latency and time outs).  \r\n\r\nI think this is likely the root cause of the below Ignite exception but would still like to know if there is any documentation to give more information of what a Failed to wait for recovery descriptor reservation exactly is.  \r\n\r\n```\r\n12-Jun-2023 14:58:56.811 SEVERE [Timer-15] org.apache.ignite.logger.java.JavaLogger.error Failed to wait for recovery descriptor reservation [desc=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[******]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], ses=GridSelectorNioSessionImpl [worker=DirectNioClientWorker [super=AbstractNioClientWorker [idx=0, bytesRcvd=4187847680, bytesSent=3335905975, bytesRcvd0=0, bytesSent0=0, select=false, super=GridWorker [name=grid-nio-worker-tcp-comm-0, igniteInstanceName=TcpCommunicationSpi, finished=true, heartbeatTs=1686365362565, hashCode=2136585786, interrupted=false, runner=grid-nio-worker-tcp-comm-0-#23%TcpCommunicationSpi%]]], writeBuf=java.nio.DirectByteBuffer[pos=5560 lim=32768 cap=32768], readBuf=java.nio.DirectByteBuffer[pos=0 lim=32768 cap=32768], inRecovery=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*********.svc.cluster.local/[fd00:85:4001:5:9a2a:7c61:5749:de64]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], outRecovery=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.c6f362c5-5e67-5b2a-a72f-*******.svc.cluster.local/[*******]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], closeSocket=true, outboundMessagesQueueSizeMetric=org.apache.ignite.internal.processors.metric.impl.LongAdderMetric@69a257d1, super=GridNioSessionImpl [locAddr=/[******]:41956, rmtAddr=foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[******]:47100, createTime=1686364720981, closeTime=1686365447813, bytesSent=3335905975, bytesRcvd=4187847680, bytesSent0=0, bytesRcvd0=0, sndSchedTime=1686364720981, lastSndTime=1686365359902, lastRcvTime=1686365350069, readsPaused=false, filterChain=FilterChain[filters=[GridNioCodecFilter [parser=org.apache.ignite.internal.util.nio.GridDirectParser@747d999d, directMode=true], GridConnectionBytesVerifyFilter], accepted=false, markedForClose=true]]]\r\n\r\n12-Jun-2023 14:58:56.811 INFO [Timer-15] org.apache.ignite.logger.java.JavaLogger.info TCP client created [client=null, node addrs=[foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[*****]:47100, /[0:0:0:0:0:0:0:1%lo]:47100, /127.0.0.1:47100], duration=5001ms]```","title":"Ignite Failed to wait for recovery descriptor reservation","body":"<p>We are running Ignite within Kubernetes and saw the following error client side.</p>\n<p>It looks like at the time some other processes had some difficulty communicating over the network (high latency and time outs).</p>\n<p>I think this is likely the root cause of the below Ignite exception but would still like to know if there is any documentation to give more information of what a Failed to wait for recovery descriptor reservation exactly is.</p>\n<pre><code>12-Jun-2023 14:58:56.811 SEVERE [Timer-15] org.apache.ignite.logger.java.JavaLogger.error Failed to wait for recovery descriptor reservation [desc=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[******]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], ses=GridSelectorNioSessionImpl [worker=DirectNioClientWorker [super=AbstractNioClientWorker [idx=0, bytesRcvd=4187847680, bytesSent=3335905975, bytesRcvd0=0, bytesSent0=0, select=false, super=GridWorker [name=grid-nio-worker-tcp-comm-0, igniteInstanceName=TcpCommunicationSpi, finished=true, heartbeatTs=1686365362565, hashCode=2136585786, interrupted=false, runner=grid-nio-worker-tcp-comm-0-#23%TcpCommunicationSpi%]]], writeBuf=java.nio.DirectByteBuffer[pos=5560 lim=32768 cap=32768], readBuf=java.nio.DirectByteBuffer[pos=0 lim=32768 cap=32768], inRecovery=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*********.svc.cluster.local/[fd00:85:4001:5:9a2a:7c61:5749:de64]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], outRecovery=GridNioRecoveryDescriptor [acked=455168, resendCnt=0, rcvCnt=455198, sentCnt=455199, reserved=true, lastAck=455168, nodeLeft=false, node=TcpDiscoveryNode [id=************, consistentId=******, addrs=ArrayList [0:0:0:0:0:0:0:1%lo, 127.0.0.1, ******], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1%lo]:47500, /127.0.0.1:47500, foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.c6f362c5-5e67-5b2a-a72f-*******.svc.cluster.local/[*******]:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1686364720306, loc=false, ver=2.11.1#20211220-sha1:eae1147d, isClient=false], connected=false, connectCnt=1, queueLimit=4096, reserveCnt=1, pairedConnections=false], closeSocket=true, outboundMessagesQueueSizeMetric=org.apache.ignite.internal.processors.metric.impl.LongAdderMetric@69a257d1, super=GridNioSessionImpl [locAddr=/[******]:41956, rmtAddr=foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[******]:47100, createTime=1686364720981, closeTime=1686365447813, bytesSent=3335905975, bytesRcvd=4187847680, bytesSent0=0, bytesRcvd0=0, sndSchedTime=1686364720981, lastSndTime=1686365359902, lastRcvTime=1686365350069, readsPaused=false, filterChain=FilterChain[filters=[GridNioCodecFilter [parser=org.apache.ignite.internal.util.nio.GridDirectParser@747d999d, directMode=true], GridConnectionBytesVerifyFilter], accepted=false, markedForClose=true]]]\n\n12-Jun-2023 14:58:56.811 INFO [Timer-15] org.apache.ignite.logger.java.JavaLogger.info TCP client created [client=null, node addrs=[foo-bar-ignite-1-1-0.foo-bar-ignite-1-1.*****.svc.cluster.local/[*****]:47100, /[0:0:0:0:0:0:0:1%lo]:47100, /127.0.0.1:47100], duration=5001ms]```\n</code></pre>\n"},{"tags":["java","adoptopenjdk"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1695473610,"post_id":77163073,"comment_id":136030885,"body_markdown":"Where exactly do you see such a download file?","body":"Where exactly do you see such a download file?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1695473833,"post_id":77163073,"comment_id":136030899,"body_markdown":"[*Update*](https://www.java.com/releases/). And I think that&#39;s a [beta](https://github.com/adoptium/temurin21-binaries/releases).","body":"<a href=\"https://www.java.com/releases/\" rel=\"nofollow noreferrer\"><i>Update</i></a>. And I think that&#39;s a <a href=\"https://github.com/adoptium/temurin21-binaries/releases\" rel=\"nofollow noreferrer\">beta</a>."}],"answers":[{"tags":[],"owner":{"account_id":2873600,"reputation":3263,"user_id":2466342,"display_name":"terahertz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1695474245,"creation_date":1695474245,"answer_id":77163162,"question_id":77163073,"body_markdown":"It means &quot;update&quot;\r\n\r\nBased on the [release guide for OpenJDK](https://github.com/adoptium/temurin-build/blob/master/RELEASING.md):\r\n\r\n&gt; When the repository has been created, a few changes to the codebase will be necessary where the code references a jdk version but not it&#39;s new update version. I.e. jdk11 became jdk11u when it was moved to an update repository.\r\n\r\n","title":"what does the &quot;u&quot; mean in &quot;jdku&quot; in java development kit?","body":"<p>It means &quot;update&quot;</p>\n<p>Based on the <a href=\"https://github.com/adoptium/temurin-build/blob/master/RELEASING.md\" rel=\"noreferrer\">release guide for OpenJDK</a>:</p>\n<blockquote>\n<p>When the repository has been created, a few changes to the codebase will be necessary where the code references a jdk version but not it's new update version. I.e. jdk11 became jdk11u when it was moved to an update repository.</p>\n</blockquote>\n"}],"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77163162,"answer_count":1,"score":3,"last_activity_date":1695474790,"creation_date":1695472882,"question_id":77163073,"body_markdown":"I am seeing it in some download files e.g. `OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz`?\r\n\r\nSome of the github brances are also suffixed with &quot;U&quot;.","title":"what does the &quot;u&quot; mean in &quot;jdku&quot; in java development kit?","body":"<p>I am seeing it in some download files e.g. <code>OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz</code>?</p>\n<p>Some of the github brances are also suffixed with &quot;U&quot;.</p>\n"},{"tags":["java","maven","dependencies","repository"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695474379,"creation_date":1695474379,"answer_id":77163166,"question_id":77162793,"body_markdown":"You don&#39;t need any additional repositories, \r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.streams&lt;/groupId&gt;\r\n  &lt;artifactId&gt;apache-streams&lt;/artifactId&gt;\r\n  &lt;version&gt;0.6.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nis available in Maven central which is the default repositories so you don&#39;t have to configure it manually: https://mvnrepository.com/artifact/org.apache.streams/apache-streams/0.6.1\r\n\r\nhttps://repo1.maven.org/maven2/org/apache/streams/apache-streams/0.6.1/\r\n\r\nIf the network connection was bad the first time you tried to access this artifact Maven will cache it and will use the cached error for some days instead. You can force Maven to forget the cached error by deleting the artifact folder in the Maven cache in your user profile/home folder:\r\n\r\nGo to `~/.m2/repository/org/apache/streams/apache-streams/0.6.1/` and delete the contained files. Next time you execute Maven it will retry to download the artifact from al configured repositories.\r\n\r\nEven if you want to configure a repository manually you have to configure the root path of the repository without the artifact name. Therefore the correct URL would be \r\n\r\n    Correct path:\r\n    &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n\r\nInstead of what you used (which is the wrong path as it contains the artifact path):\r\n\r\n    wrong path:\r\n    &lt;url&gt;https://repo.maven.apache.org/maven2/org/apache/streams/&lt;/url&gt;","title":"I can&#39;t create a jar file. Error : Could not find artifact","body":"<p>You don't need any additional repositories,</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.streams&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-streams&lt;/artifactId&gt;\n  &lt;version&gt;0.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>is available in Maven central which is the default repositories so you don't have to configure it manually: <a href=\"https://mvnrepository.com/artifact/org.apache.streams/apache-streams/0.6.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.streams/apache-streams/0.6.1</a></p>\n<p><a href=\"https://repo1.maven.org/maven2/org/apache/streams/apache-streams/0.6.1/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/apache/streams/apache-streams/0.6.1/</a></p>\n<p>If the network connection was bad the first time you tried to access this artifact Maven will cache it and will use the cached error for some days instead. You can force Maven to forget the cached error by deleting the artifact folder in the Maven cache in your user profile/home folder:</p>\n<p>Go to <code>~/.m2/repository/org/apache/streams/apache-streams/0.6.1/</code> and delete the contained files. Next time you execute Maven it will retry to download the artifact from al configured repositories.</p>\n<p>Even if you want to configure a repository manually you have to configure the root path of the repository without the artifact name. Therefore the correct URL would be</p>\n<pre><code>Correct path:\n&lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n</code></pre>\n<p>Instead of what you used (which is the wrong path as it contains the artifact path):</p>\n<pre><code>wrong path:\n&lt;url&gt;https://repo.maven.apache.org/maven2/org/apache/streams/&lt;/url&gt;\n</code></pre>\n"}],"owner":{"account_id":29515649,"reputation":1,"user_id":22619664,"display_name":"Pietro Sanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695474379,"creation_date":1695467808,"question_id":77162793,"body_markdown":"I try to create a jar file with maven but the dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.streams&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-streams&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nmake the error : Could not find artifact\r\n\r\nI tried to insert a repositories\r\n```\r\n&lt;repository&gt;\r\n            &lt;id&gt;apache-streams&lt;/id&gt;\r\n            &lt;name&gt;Apache Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/org/apache/streams/&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n&lt;/repository&gt;\r\n```\r\nbut the problem is still there.","title":"I can&#39;t create a jar file. Error : Could not find artifact","body":"<p>I try to create a jar file with maven but the dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.streams&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-streams&lt;/artifactId&gt;\n            &lt;version&gt;0.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>make the error : Could not find artifact</p>\n<p>I tried to insert a repositories</p>\n<pre><code>&lt;repository&gt;\n            &lt;id&gt;apache-streams&lt;/id&gt;\n            &lt;name&gt;Apache Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/org/apache/streams/&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n&lt;/repository&gt;\n</code></pre>\n<p>but the problem is still there.</p>\n"},{"tags":["java","postgresql","spring-boot"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695473872,"creation_date":1695473872,"question_id":77163140,"body_markdown":"Can I put placeholders in an SQL script (that initializes data for my Spring Boot application which uses PostgreSQL)? Suppose I have this query:\r\n```\r\nINSERT INTO users (id, name, email) VALUES (1, &#39;John&#39;, ?);\r\n```\r\nNow, here&#39;s the way I initialize the data:\r\n```\r\n    @Bean\r\n    public DataSourceInitializer dataSourceInitializer(@Qualifier(&quot;dataSource&quot;) final DataSource dataSource) {\r\n        log.info(&quot;Executing SQL scripts from &#39;/resources/&#39; folder...&quot;);\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/delete.sql&quot;));\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/schema.sql&quot;));\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/data.sql&quot;));\r\n\r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(dataSource);\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }\r\n```\r\nFirst, I drop all tables (using `delete.sql`). Secondly, I create the tables anew (`schema.sql`). Finally, I populate tables with `data.sql`.\r\n\r\nNow, I also have a property in `application.properties`: `default.email=example@domain.com`. I&#39;d like the value of this property to be injected into the placeholder in SQL script.\r\n\r\nCan I somehow do that?","title":"Using a variable (from a property) in SQL script","body":"<p>Can I put placeholders in an SQL script (that initializes data for my Spring Boot application which uses PostgreSQL)? Suppose I have this query:</p>\n<pre><code>INSERT INTO users (id, name, email) VALUES (1, 'John', ?);\n</code></pre>\n<p>Now, here's the way I initialize the data:</p>\n<pre><code>    @Bean\n    public DataSourceInitializer dataSourceInitializer(@Qualifier(&quot;dataSource&quot;) final DataSource dataSource) {\n        log.info(&quot;Executing SQL scripts from '/resources/' folder...&quot;);\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/delete.sql&quot;));\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/schema.sql&quot;));\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/data.sql&quot;));\n\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n        dataSourceInitializer.setDataSource(dataSource);\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n        return dataSourceInitializer;\n    }\n</code></pre>\n<p>First, I drop all tables (using <code>delete.sql</code>). Secondly, I create the tables anew (<code>schema.sql</code>). Finally, I populate tables with <code>data.sql</code>.</p>\n<p>Now, I also have a property in <code>application.properties</code>: <code>default.email=example@domain.com</code>. I'd like the value of this property to be injected into the placeholder in SQL script.</p>\n<p>Can I somehow do that?</p>\n"},{"tags":["java","hashcode"],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1376613027,"creation_date":1334132731,"answer_id":10102382,"question_id":10102337,"body_markdown":"This wouldn&#39;t directly answer your question, but I hope it helps.\r\n\r\nThe below is from the source code of `java.lang.String`.\r\n\r\n    /**\r\n     * Returns a hash code for this string. The hash code for a\r\n     * &lt;code&gt;String&lt;/code&gt; object is computed as\r\n     * &lt;blockquote&gt;&lt;pre&gt;\r\n     * s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n     * &lt;/pre&gt;&lt;/blockquote&gt;\r\n     * using &lt;code&gt;int&lt;/code&gt; arithmetic, where &lt;code&gt;s[i]&lt;/code&gt; is the\r\n     * &lt;i&gt;i&lt;/i&gt;th character of the string, &lt;code&gt;n&lt;/code&gt; is the length of\r\n     * the string, and &lt;code&gt;^&lt;/code&gt; indicates exponentiation.\r\n     * (The hash value of the empty string is zero.)\r\n     *\r\n     * @return  a hash code value for this object.\r\n     */\r\n    public int hashCode() {\r\n        int h = hash;\r\n        int len = count;\r\n        if (h == 0 &amp;&amp; len &gt; 0) {\r\n\t    int off = offset;\r\n\t    char val[] = value;\r\n\r\n            for (int i = 0; i &lt; len; i++) {\r\n                h = 31*h + val[off++];\r\n            }\r\n            hash = h;\r\n        }\r\n        return h;\r\n    }","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>This wouldn't directly answer your question, but I hope it helps.</p>\n\n<p>The below is from the source code of <code>java.lang.String</code>.</p>\n\n<pre><code>/**\n * Returns a hash code for this string. The hash code for a\n * &lt;code&gt;String&lt;/code&gt; object is computed as\n * &lt;blockquote&gt;&lt;pre&gt;\n * s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n * &lt;/pre&gt;&lt;/blockquote&gt;\n * using &lt;code&gt;int&lt;/code&gt; arithmetic, where &lt;code&gt;s[i]&lt;/code&gt; is the\n * &lt;i&gt;i&lt;/i&gt;th character of the string, &lt;code&gt;n&lt;/code&gt; is the length of\n * the string, and &lt;code&gt;^&lt;/code&gt; indicates exponentiation.\n * (The hash value of the empty string is zero.)\n *\n * @return  a hash code value for this object.\n */\npublic int hashCode() {\n    int h = hash;\n    int len = count;\n    if (h == 0 &amp;&amp; len &gt; 0) {\n    int off = offset;\n    char val[] = value;\n\n        for (int i = 0; i &lt; len; i++) {\n            h = 31*h + val[off++];\n        }\n        hash = h;\n    }\n    return h;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1060224,"reputation":4167,"user_id":1062015,"accept_rate":81,"display_name":"Jaco Van Niekerk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334132740,"creation_date":1334132740,"answer_id":10102387,"question_id":10102337,"body_markdown":"Yes, by definition of the pigeon-hole concept, two different strings can produce the same hashcode and code should always be written to cater for such conditions (typically, by not breaking.)\r\n","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Yes, by definition of the pigeon-hole concept, two different strings can produce the same hashcode and code should always be written to cater for such conditions (typically, by not breaking.)</p>\n"},{"tags":[],"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1346482623,"creation_date":1334132769,"answer_id":10102397,"question_id":10102337,"body_markdown":"YES. A lot. \r\n\r\nLook at following pair\r\n\r\n - &quot;FB&quot; and &quot;Ea&quot; \r\n \r\ncan return same hash code even though the characters in it are not same.\r\n\r\nBasically it is the sum of characters in a string multiplied by an integer.\r\n","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>YES. A lot. </p>\n\n<p>Look at following pair</p>\n\n<ul>\n<li>\"FB\" and \"Ea\" </li>\n</ul>\n\n<p>can return same hash code even though the characters in it are not same.</p>\n\n<p>Basically it is the sum of characters in a string multiplied by an integer.</p>\n"},{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1334132773,"creation_date":1334132773,"answer_id":10102399,"question_id":10102337,"body_markdown":"A Java hash code is 32bits. The number of possible strings it hashes is infinite. \r\n\r\nSo yes, there will be collisions. The percentage is meaningless - there is an infinite number of items (strings) and a finite number of possible hashes.","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>A Java hash code is 32bits. The number of possible strings it hashes is infinite. </p>\n\n<p>So yes, there will be collisions. The percentage is meaningless - there is an infinite number of items (strings) and a finite number of possible hashes.</p>\n"},{"tags":[],"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1695449378,"creation_date":1334133021,"answer_id":10102462,"question_id":10102337,"body_markdown":"Yes, it is possible for two Strings to have the same hashcode. If you take a look at the now-deleted [Wikipedia article][2], you will see that both `&quot;FB&quot;` and `&quot;Ea&quot;` have the same hashcode. There is nothing in the method contract saying a `hashCode()` should be used to compare for equality, you want to use `equals()` for that.\r\n\r\nSince Java 1.2, String implements `hashCode()` by [using a product sum algorithm over the entire text of the string][1].\r\n\r\n  [1]: https://web.archive.org/web/20120411141840/http://www.cogs.susx.ac.uk/courses/dats/notes/html/node114.html\r\n  [2]: https://web.archive.org/web/20161018131808/https://en.wikipedia.org/wiki/Java_hashCode()#The_java.lang.String_hash_function","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Yes, it is possible for two Strings to have the same hashcode. If you take a look at the now-deleted <a href=\"https://web.archive.org/web/20161018131808/https://en.wikipedia.org/wiki/Java_hashCode()#The_java.lang.String_hash_function\" rel=\"nofollow noreferrer\">Wikipedia article</a>, you will see that both <code>&quot;FB&quot;</code> and <code>&quot;Ea&quot;</code> have the same hashcode. There is nothing in the method contract saying a <code>hashCode()</code> should be used to compare for equality, you want to use <code>equals()</code> for that.</p>\n<p>Since Java 1.2, String implements <code>hashCode()</code> by <a href=\"https://web.archive.org/web/20120411141840/http://www.cogs.susx.ac.uk/courses/dats/notes/html/node114.html\" rel=\"nofollow noreferrer\">using a product sum algorithm over the entire text of the string</a>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1695470889,"creation_date":1334133663,"answer_id":10102608,"question_id":10102337,"body_markdown":"&gt; if it is possible then what is the % of its possibility?\r\n\r\nThat is not a particularly meaningful question.\r\n\r\nHowever, unless there is some systemic bias in the `String::hashcode` function or the way that you are generating the `String` objects, the probability that any two randomly generated `String` objects will have the same hash code will be 1 in 2&lt;sup&gt;32&lt;/sup&gt;.\r\n\r\nThis assumes that the Strings are chosen randomly from the set of all possible String values.  If you restrict the set in various ways, the probability will vary from the above number.  \r\n\r\n&lt;sup&gt;(For instance, the existence of the &quot;FB&quot; / &quot;Ea&quot; collision means that the probability of a collision in the set of all 2 letter strings is higher than the norm.  And we could chose a set such that the probability for a hash collision for non-equal strings is zero.  Trivially the set &quot;A&quot; and &quot;B&quot;.)&lt;/sup&gt;\r\n\r\n--------\r\n\r\nAnother thing to note is that the chance of 2&lt;sup&gt;32&lt;/sup&gt; different strings chosen at random (from a much larger unbiased set of strings) having no hash collisions is *vanishingly* small.  To understand why, read the Wikipedia page on the [Birthday Paradox][1].  \r\n\r\nIn reality, the only way you are going to get no hash collisions in a set of 2&lt;sup&gt;32&lt;/sup&gt; different strings is if you select or generate the strings in a way that is designed to avoid this.  Even forming the set by selecting randomly generated strings and rejecting colliders is going to be computationally expensive.  To produce such a set efficiently, you would need to exploit the properties of the `String::hashCode` algorithm, which (fortunately) is specified.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Birthday_problem","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<blockquote>\n<p>if it is possible then what is the % of its possibility?</p>\n</blockquote>\n<p>That is not a particularly meaningful question.</p>\n<p>However, unless there is some systemic bias in the <code>String::hashcode</code> function or the way that you are generating the <code>String</code> objects, the probability that any two randomly generated <code>String</code> objects will have the same hash code will be 1 in 2<sup>32</sup>.</p>\n<p>This assumes that the Strings are chosen randomly from the set of all possible String values.  If you restrict the set in various ways, the probability will vary from the above number.</p>\n<p><sup>(For instance, the existence of the &quot;FB&quot; / &quot;Ea&quot; collision means that the probability of a collision in the set of all 2 letter strings is higher than the norm.  And we could chose a set such that the probability for a hash collision for non-equal strings is zero.  Trivially the set &quot;A&quot; and &quot;B&quot;.)</sup></p>\n<hr />\n<p>Another thing to note is that the chance of 2<sup>32</sup> different strings chosen at random (from a much larger unbiased set of strings) having no hash collisions is <em>vanishingly</em> small.  To understand why, read the Wikipedia page on the <a href=\"http://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">Birthday Paradox</a>.</p>\n<p>In reality, the only way you are going to get no hash collisions in a set of 2<sup>32</sup> different strings is if you select or generate the strings in a way that is designed to avoid this.  Even forming the set by selecting randomly generated strings and rejecting colliders is going to be computationally expensive.  To produce such a set efficiently, you would need to exploit the properties of the <code>String::hashCode</code> algorithm, which (fortunately) is specified.</p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334143700,"creation_date":1334143700,"answer_id":10105004,"question_id":10102337,"body_markdown":"The percentage of collisions for *random* strings should be minimal. However, if you hash strings from external sources, an attacker could easily create hundreds of thousands of strings having the same hashcode. In a java HashMap these would all map to the same bucket and effectively turn the map into a linked list. Access times to the map would then be proportional to the map size instead of constant, leading to a denial of service attack.\r\n\r\nSee this page on [Effective DoS attacks against Web Application Plattforms][1] for further information links to the presentation.\r\n\r\n [1]: http://cryptanalysis.eu/blog/2011/12/28/effective-dos-attacks-against-web-application-plattforms-hashdos/","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>The percentage of collisions for <em>random</em> strings should be minimal. However, if you hash strings from external sources, an attacker could easily create hundreds of thousands of strings having the same hashcode. In a java HashMap these would all map to the same bucket and effectively turn the map into a linked list. Access times to the map would then be proportional to the map size instead of constant, leading to a denial of service attack.</p>\n\n<p>See this page on <a href=\"http://cryptanalysis.eu/blog/2011/12/28/effective-dos-attacks-against-web-application-plattforms-hashdos/\" rel=\"nofollow\">Effective DoS attacks against Web Application Plattforms</a> for further information links to the presentation.</p>\n"},{"tags":[],"owner":{"account_id":4300640,"reputation":518,"user_id":3514416,"display_name":"NSV"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418719446,"creation_date":1403178450,"answer_id":24305840,"question_id":10102337,"body_markdown":"Yes, it is entirely possible. The probability of a string (or some other object type -- just assuming you&#39;ll be using strings in this example) having the same hashcode as some other string in a collection, depends on the size of that collection (assuming that all strings in that collection are unique). The probabilities are distributed as follows:\r\n\r\n - With a set of size ~9,000, you&#39;ll have a 1% chance of two strings colliding with a hash in the set\r\n - With a set of size ~30,000, you&#39;ll have a 10% chance of two strings colliding with a hash in the set\r\n - With a set of size ~77,000, you&#39;ll have a 50% chance of two strings colliding with a hash in the set\r\n\r\nThe assumptions made, are:\r\n\r\n - The hashCode function has no bias\r\n - Each string in the aforementioned set is unique\r\n\r\nThis site explains it clearly: http://eclipsesource.com/blogs/2012/09/04/the-3-things-you-should-know-about-hashcode/\r\n(Look at &quot;the second thing you should know&quot;)\r\n","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Yes, it is entirely possible. The probability of a string (or some other object type -- just assuming you'll be using strings in this example) having the same hashcode as some other string in a collection, depends on the size of that collection (assuming that all strings in that collection are unique). The probabilities are distributed as follows:</p>\n\n<ul>\n<li>With a set of size ~9,000, you'll have a 1% chance of two strings colliding with a hash in the set</li>\n<li>With a set of size ~30,000, you'll have a 10% chance of two strings colliding with a hash in the set</li>\n<li>With a set of size ~77,000, you'll have a 50% chance of two strings colliding with a hash in the set</li>\n</ul>\n\n<p>The assumptions made, are:</p>\n\n<ul>\n<li>The hashCode function has no bias</li>\n<li>Each string in the aforementioned set is unique</li>\n</ul>\n\n<p>This site explains it clearly: <a href=\"http://eclipsesource.com/blogs/2012/09/04/the-3-things-you-should-know-about-hashcode/\">http://eclipsesource.com/blogs/2012/09/04/the-3-things-you-should-know-about-hashcode/</a>\n(Look at \"the second thing you should know\")</p>\n"},{"tags":[],"owner":{"account_id":6579182,"reputation":227,"user_id":5083963,"accept_rate":50,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527844765,"creation_date":1527844765,"answer_id":50640081,"question_id":10102337,"body_markdown":"Yes this is possible, because one of the contract between equals() &amp; hashCode() method of Object class is..........\r\n***If two object are not equal according to equals() method then there is no guaranty that their hashCode will be same, the hashCode may/may not be equal.\r\ni.e, if obj1.equals(obj2) return false then obj1.hashCode()==obj2.hashCode() may/may not return true.***\r\nExample:\r\n    \r\n\r\n        String str1 = &quot;FB&quot;;\r\n        String str2 = &quot;Ea&quot;;\r\n        System.out.println(str1.equals(str2));// false\r\n        System.out.println(str1.hashCode() == str2.hashCode()); // true","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Yes this is possible, because one of the contract between equals() &amp; hashCode() method of Object class is..........\n<strong><em>If two object are not equal according to equals() method then there is no guaranty that their hashCode will be same, the hashCode may/may not be equal.\ni.e, if obj1.equals(obj2) return false then obj1.hashCode()==obj2.hashCode() may/may not return true.</em></strong>\nExample:</p>\n\n<pre><code>    String str1 = \"FB\";\n    String str2 = \"Ea\";\n    System.out.println(str1.equals(str2));// false\n    System.out.println(str1.hashCode() == str2.hashCode()); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7439229,"reputation":105,"user_id":5657520,"display_name":"Devashish Priyadarshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545347357,"creation_date":1545347357,"answer_id":53877260,"question_id":10102337,"body_markdown":"//You can run the below code with -Xmx2100m and can get multiple results, enough to fill your console\r\n\r\n`\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class TestHashCollision {\r\n            public static void main(String[] args) {\r\n    \t\tfinal String TEXT = &quot;was stored earlier had the same hash as&quot;;\r\n    \t\tHashMap&lt;Integer,String&gt; hs=new HashMap&lt;&gt;();\r\n    \t\tlong t1=System.currentTimeMillis();\r\n    \t\tlong t2=System.currentTimeMillis();\r\n    \t\tfor(long l=0;l&lt;Long.MAX_VALUE;l++) {\r\n    \t\t\tString key=&quot;d&quot;+l;\r\n    \t\t\tif(hs.containsKey(key.hashCode())) {\r\n    \t\t\t\tSystem.out.println(&quot;&#39;&quot;+hs.get(key.hashCode())+&quot;&#39; &quot;+TEXT+&quot; &#39;&quot;+key+&quot;&#39;&quot;);//System.exit(0);\r\n    \t\t\t} else {\r\n    \t\t\t\ths.put(key.hashCode(),key);\r\n    \t\t\t}\r\n    \t\t\tt2=System.currentTimeMillis();\r\n    \t\t\tif(t2-t1&gt;10000) {\r\n    \t\t\t\tt1=System.currentTimeMillis();\r\n    \t\t\t\tSystem.out.println(&quot;10 seconds gone! size is:&quot;+hs.size());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Done&quot;); \r\n    \t}\r\n    }\r\n\r\n`","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>//You can run the below code with -Xmx2100m and can get multiple results, enough to fill your console</p>\n\n<p>`</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class TestHashCollision {\n        public static void main(String[] args) {\n        final String TEXT = \"was stored earlier had the same hash as\";\n        HashMap&lt;Integer,String&gt; hs=new HashMap&lt;&gt;();\n        long t1=System.currentTimeMillis();\n        long t2=System.currentTimeMillis();\n        for(long l=0;l&lt;Long.MAX_VALUE;l++) {\n            String key=\"d\"+l;\n            if(hs.containsKey(key.hashCode())) {\n                System.out.println(\"'\"+hs.get(key.hashCode())+\"' \"+TEXT+\" '\"+key+\"'\");//System.exit(0);\n            } else {\n                hs.put(key.hashCode(),key);\n            }\n            t2=System.currentTimeMillis();\n            if(t2-t1&gt;10000) {\n                t1=System.currentTimeMillis();\n                System.out.println(\"10 seconds gone! size is:\"+hs.size());\n            }\n        }\n        System.out.println(\"Done\"); \n    }\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":2395860,"reputation":3604,"user_id":2094670,"accept_rate":87,"display_name":"ajayramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547496618,"creation_date":1547495912,"answer_id":54188325,"question_id":10102337,"body_markdown":"Yes(not just in Java, it applies to any language), it can produce the same hash-code for different strings. \r\nI am recalling a rule taught by my professor, it might be useful here - \r\n&gt; Two same strings/value must have the same hashcode, but the converse is not true. \r\n\r\nexample in python\r\n\r\n```python\r\n&gt;&gt;&gt; hash(&#39;same-string&#39;)\r\n-5833666992484370527\r\n&gt;&gt;&gt; hash(&#39;same-string&#39;)\r\n-5833666992484370527\r\n```\r\n\r\nThere might be another string which can match the same hash-code, so we can&#39;t derive the key using hash-code. \r\n\r\n&gt; The reason for two different string to have the same hash-code is due to the collision. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GEuOa.png","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Yes(not just in Java, it applies to any language), it can produce the same hash-code for different strings. \nI am recalling a rule taught by my professor, it might be useful here - </p>\n\n<blockquote>\n  <p>Two same strings/value must have the same hashcode, but the converse is not true. </p>\n</blockquote>\n\n<p>example in python</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; hash('same-string')\n-5833666992484370527\n&gt;&gt;&gt; hash('same-string')\n-5833666992484370527\n</code></pre>\n\n<p>There might be another string which can match the same hash-code, so we can't derive the key using hash-code. </p>\n\n<blockquote>\n  <p>The reason for two different string to have the same hash-code is due to the collision. \n  <a href=\"https://i.stack.imgur.com/GEuOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEuOa.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17306503,"reputation":31,"user_id":12535104,"display_name":"Jorge Alberto Medina Rosas"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1602601390,"creation_date":1602524755,"answer_id":64322836,"question_id":10102337,"body_markdown":"```\r\n&quot;tensada&quot;.hashCode()\r\n&quot;friabili&quot;.hashCode());\r\n```\r\n\r\nThe java hash function return equal values here.\r\n\r\n","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<pre><code>&quot;tensada&quot;.hashCode()\n&quot;friabili&quot;.hashCode());\n</code></pre>\n<p>The java hash function return equal values here.</p>\n"}],"owner":{"account_id":1200080,"reputation":8838,"user_id":1170920,"accept_rate":70,"display_name":"Xara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44131,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":10102399,"answer_count":12,"score":47,"last_activity_date":1695470889,"creation_date":1334132520,"question_id":10102337,"body_markdown":"Is it possible to have same hashcode for different strings using java&#39;s hashcode function?or if it is possible then what is the % of its possibility?","title":"Can Java&#39;s hashCode produce same value for different strings?","body":"<p>Is it possible to have same hashcode for different strings using java's hashcode function?or if it is possible then what is the % of its possibility?</p>\n"},{"tags":["java","spring","flux","reactor"],"answers":[{"tags":[],"owner":{"account_id":3291256,"reputation":1126,"user_id":2769527,"accept_rate":83,"display_name":"Amriteya"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1517075457,"creation_date":1517075457,"answer_id":48478721,"question_id":48478420,"body_markdown":"The essential difference between merge and concat is that in merge, both streams are live. In case of concat, first stream is terminated and then the other stream is concatenated to it.\r\n\r\n[**Concat**](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-java.lang.Iterable-)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\n[**Merge**](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#merge-java.lang.Iterable-)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uchcJ.png\r\n  [2]: https://i.stack.imgur.com/zTgLG.png","title":"Spring Reactor Merge vs Concat","body":"<p>The essential difference between merge and concat is that in merge, both streams are live. In case of concat, first stream is terminated and then the other stream is concatenated to it.</p>\n\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-java.lang.Iterable-\" rel=\"noreferrer\"><strong>Concat</strong></a>\n<a href=\"https://i.stack.imgur.com/uchcJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uchcJ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#merge-java.lang.Iterable-\" rel=\"noreferrer\"><strong>Merge</strong></a>\n<a href=\"https://i.stack.imgur.com/zTgLG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zTgLG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4857709,"reputation":1522,"user_id":3918250,"display_name":"Vikram Rawat"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1623766097,"creation_date":1534700729,"answer_id":51920294,"question_id":48478420,"body_markdown":"The difference is already mentioned in the API docs that while **concat** first reads one flux completely and then appends the second flux to that, **merge** operator doesn&#39;t guarantee the sequence between the two flux. \r\n\r\nIn order to see the difference, modify your merge() code as below.\r\n\r\ne.g. sample code below\r\n\r\n    //Flux with Delay\r\n\t@Test\r\n\tpublic void merge() {\r\n\t    Flux&lt;String&gt; flux1 = Flux.just(&quot;Hello&quot;, &quot;Vikram&quot;);\r\n\r\n\t    flux1 = Flux.interval(Duration.ofMillis(3000))\r\n\t    .zipWith(flux1, (i, msg) -&gt; msg);\r\n\t    \r\n\t    \r\n\t    Flux&lt;String&gt; flux2 = Flux.just(&quot;reactive&quot;);\r\n\t    flux2 = Flux.interval(Duration.ofMillis(2000))\r\n\t    \t\t.zipWith(flux2, (i, msg) -&gt; msg);\r\n\t    \r\n\t    Flux&lt;String&gt; flux3 = Flux.just(&quot;world&quot;);\r\n\t    Flux.merge(flux1, flux2, flux3)\r\n\t            .subscribe(System.out::println);\r\n\r\n\t    try {\r\n\t        Thread.sleep(8000);\r\n\t    } catch (InterruptedException e) {\r\n\t        // TODO Auto-generated catch block\r\n\t        e.printStackTrace();\r\n\t    }\r\n\t}\r\n\r\nAs you modify the Flux.interval duration, currently set as 3000 milliseconds you will see that the output with merge() keeps changing. But with concat(), the output will be always same. ","title":"Spring Reactor Merge vs Concat","body":"<p>The difference is already mentioned in the API docs that while <strong>concat</strong> first reads one flux completely and then appends the second flux to that, <strong>merge</strong> operator doesn't guarantee the sequence between the two flux.</p>\n<p>In order to see the difference, modify your merge() code as below.</p>\n<p>e.g. sample code below</p>\n<pre><code>//Flux with Delay\n@Test\npublic void merge() {\n    Flux&lt;String&gt; flux1 = Flux.just(&quot;Hello&quot;, &quot;Vikram&quot;);\n\n    flux1 = Flux.interval(Duration.ofMillis(3000))\n    .zipWith(flux1, (i, msg) -&gt; msg);\n    \n    \n    Flux&lt;String&gt; flux2 = Flux.just(&quot;reactive&quot;);\n    flux2 = Flux.interval(Duration.ofMillis(2000))\n            .zipWith(flux2, (i, msg) -&gt; msg);\n    \n    Flux&lt;String&gt; flux3 = Flux.just(&quot;world&quot;);\n    Flux.merge(flux1, flux2, flux3)\n            .subscribe(System.out::println);\n\n    try {\n        Thread.sleep(8000);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>As you modify the Flux.interval duration, currently set as 3000 milliseconds you will see that the output with merge() keeps changing. But with concat(), the output will be always same.</p>\n"},{"tags":[],"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625076589,"creation_date":1625076273,"answer_id":68199638,"question_id":48478420,"body_markdown":"Another noteworthy difference is that all variations of concat subscribe to the second stream **lazily**, only after the first stream has terminated.\r\n\r\nWhereas all variations of merge subscribe to the publishers **eagerly** (all publishers are subscribed together)\r\n\r\nRunning the below code highlights this aspect: \r\n\r\n    //Lazy subscription of conact\r\n    Flux.concat(Flux.just(1, 2, 3, 4).delayElements(Duration.ofMillis(500)),\r\n                    Flux.just(10, 20, 30, 40).delayElements(Duration.ofMillis(500)))\r\n                    .subscribe(System.out::println, System.out::println);\r\n\r\n    \r\n    \r\n    //Eager subscription of the merge. Also, try mergeSequential.\r\n    Flux.merge(Flux.range(500, 3).delayElements(Duration.ofMillis(500)),\r\n                    Flux.range(-500, 3).delayElements(Duration.ofMillis(300)))\r\n                    .subscribe(System.out::println, System.out::println);\r\n\r\n","title":"Spring Reactor Merge vs Concat","body":"<p>Another noteworthy difference is that all variations of concat subscribe to the second stream <strong>lazily</strong>, only after the first stream has terminated.</p>\n<p>Whereas all variations of merge subscribe to the publishers <strong>eagerly</strong> (all publishers are subscribed together)</p>\n<p>Running the below code highlights this aspect:</p>\n<pre><code>//Lazy subscription of conact\nFlux.concat(Flux.just(1, 2, 3, 4).delayElements(Duration.ofMillis(500)),\n                Flux.just(10, 20, 30, 40).delayElements(Duration.ofMillis(500)))\n                .subscribe(System.out::println, System.out::println);\n\n\n\n//Eager subscription of the merge. Also, try mergeSequential.\nFlux.merge(Flux.range(500, 3).delayElements(Duration.ofMillis(500)),\n                Flux.range(-500, 3).delayElements(Duration.ofMillis(300)))\n                .subscribe(System.out::println, System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21648769,"reputation":1,"user_id":15969702,"display_name":"jitender singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695470403,"creation_date":1694508037,"answer_id":77087392,"question_id":48478420,"body_markdown":"    1st example:  Flux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;).delayElements(Duration.ofMillis(200));\r\n            Flux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;).delayElements(Duration.ofMillis(300));\r\n            Flux&lt;String&gt; stringFlux2=Flux.merge(stringFlux,stringFlux1);\r\n                    stringFlux2.subscribe(System.out::println);\r\n                    Thread.sleep(4000);\r\n    output: a\r\n            c\r\n            b\r\n            d\r\n    2nd example: Flux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;);\r\n            Flux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;);\r\n            Flux&lt;String&gt; stringFlux2=Flux.merge(stringFlux,stringFlux1);\r\n                    stringFlux2.subscribe(System.out::println);\r\n                    Thread.sleep(4000);\r\n    output: a a c\r\n            c b a\r\n            b c d \r\n            d d b\r\n    conclusion: if you dont give delay to the elements then publishers are subscribed eagerly and output would be random as in 2nd example case.\r\n    If you specify delay to the elements then in which publisher you provide less amount of time will subscribed first and emit element and then other publisher emit elements as in 1st example.\r\n    It totally depends upon time for example output for below would be :\r\n    c,d,a,b because there is big diff between 2 seconds and 300 milliseconds. But in 1st example there is less diff between milliseconds so output would be in **interleaving fashion**.\r\n    3rd example :\r\n    Flux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;).delayElements(Duration.ofSeconds(2));\r\n    Flux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;).delayElements(Duration.ofMillis(300));\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Reactor Merge vs Concat","body":"<pre><code>1st example:  Flux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;).delayElements(Duration.ofMillis(200));\n        Flux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;).delayElements(Duration.ofMillis(300));\n        Flux&lt;String&gt; stringFlux2=Flux.merge(stringFlux,stringFlux1);\n                stringFlux2.subscribe(System.out::println);\n                Thread.sleep(4000);\noutput: a\n        c\n        b\n        d\n2nd example: Flux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;);\n        Flux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;);\n        Flux&lt;String&gt; stringFlux2=Flux.merge(stringFlux,stringFlux1);\n                stringFlux2.subscribe(System.out::println);\n                Thread.sleep(4000);\noutput: a a c\n        c b a\n        b c d \n        d d b\nconclusion: if you dont give delay to the elements then publishers are subscribed eagerly and output would be random as in 2nd example case.\nIf you specify delay to the elements then in which publisher you provide less amount of time will subscribed first and emit element and then other publisher emit elements as in 1st example.\nIt totally depends upon time for example output for below would be :\nc,d,a,b because there is big diff between 2 seconds and 300 milliseconds. But in 1st example there is less diff between milliseconds so output would be in **interleaving fashion**.\n3rd example :\nFlux&lt;String&gt; stringFlux= Flux.just(&quot;a&quot;,&quot;b&quot;).delayElements(Duration.ofSeconds(2));\nFlux&lt;String&gt; stringFlux1= Flux.just(&quot;c&quot;,&quot;d&quot;).delayElements(Duration.ofMillis(300));\n</code></pre>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15484,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1695470403,"creation_date":1517073787,"question_id":48478420,"body_markdown":"I&#180;m playing with Spring reactor, and I cannot see any differences between `concat` and `merge` operator\r\n\r\nHere&#39;s my example\r\n\r\n\r\n        @Test\r\n        public void merge() {\r\n            Flux&lt;String&gt; flux1 = Flux.just(&quot;hello&quot;).doOnNext(value -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            Flux&lt;String&gt; flux2 = Flux.just(&quot;reactive&quot;).doOnNext(value -&gt; {\r\n                try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            Flux&lt;String&gt; flux3 = Flux.just(&quot;world&quot;);\r\n            Flux.merge(flux1, flux2, flux3)\r\n                    .map(String::toUpperCase)\r\n                    .subscribe(System.out::println);\r\n        }\r\n    \r\n        @Test\r\n        public void concat() {\r\n            Flux&lt;String&gt; flux1 = Flux.just(&quot;hello&quot;).doOnNext(value -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            Flux&lt;String&gt; flux2 = Flux.just(&quot;reactive&quot;).doOnNext(value -&gt; {\r\n                try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            Flux&lt;String&gt; flux3 = Flux.just(&quot;world&quot;);\r\n            Flux.concat(flux1, flux2, flux3)\r\n                    .map(String::toUpperCase)\r\n                    .subscribe(System.out::println);    \r\n    }\r\n\r\nBoth behave exactly the same. Can someone explain the difference between the two operations? ","title":"Spring Reactor Merge vs Concat","body":"<p>Im playing with Spring reactor, and I cannot see any differences between <code>concat</code> and <code>merge</code> operator</p>\n\n<p>Here's my example</p>\n\n<pre><code>    @Test\n    public void merge() {\n        Flux&lt;String&gt; flux1 = Flux.just(\"hello\").doOnNext(value -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Flux&lt;String&gt; flux2 = Flux.just(\"reactive\").doOnNext(value -&gt; {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Flux&lt;String&gt; flux3 = Flux.just(\"world\");\n        Flux.merge(flux1, flux2, flux3)\n                .map(String::toUpperCase)\n                .subscribe(System.out::println);\n    }\n\n    @Test\n    public void concat() {\n        Flux&lt;String&gt; flux1 = Flux.just(\"hello\").doOnNext(value -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Flux&lt;String&gt; flux2 = Flux.just(\"reactive\").doOnNext(value -&gt; {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Flux&lt;String&gt; flux3 = Flux.just(\"world\");\n        Flux.concat(flux1, flux2, flux3)\n                .map(String::toUpperCase)\n                .subscribe(System.out::println);    \n}\n</code></pre>\n\n<p>Both behave exactly the same. Can someone explain the difference between the two operations? </p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695469677,"creation_date":1695469115,"answer_id":77162852,"question_id":77162794,"body_markdown":"It is currently [not possible](https://stackoverflow.com/questions/23761242/java-lombok-omitting-one-field-in-allargsconstructor), as you can check in [the documentation](https://projectlombok.org/features/constructor).\r\n\r\nYour issue is different: you should not perform field injection on a final field. A final field should be immutable after construction; field injection changes it after construction. While it is *possible* to change a final field, this changes the invariants of your Java program and [should be considered an sloppy hack](https://stackoverflow.com/questions/42186358/field-injection-with-final-field-in-guice).\r\n\r\nIf you want to use field injection, the following class is completely fine:\r\n\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class A {\r\n    \r\n        @Value(&quot;${a.category:RANDOM}&quot;)\r\n        private String CATEGORY;\r\n    \r\n        private final String name;\r\n        private final String mail;\r\n    }","title":"Omitting a parameter from @RequiredArgsConstructor that is set through @Value","body":"<p>It is currently <a href=\"https://stackoverflow.com/questions/23761242/java-lombok-omitting-one-field-in-allargsconstructor\">not possible</a>, as you can check in <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>Your issue is different: you should not perform field injection on a final field. A final field should be immutable after construction; field injection changes it after construction. While it is <em>possible</em> to change a final field, this changes the invariants of your Java program and <a href=\"https://stackoverflow.com/questions/42186358/field-injection-with-final-field-in-guice\">should be considered an sloppy hack</a>.</p>\n<p>If you want to use field injection, the following class is completely fine:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class A {\n\n    @Value(&quot;${a.category:RANDOM}&quot;)\n    private String CATEGORY;\n\n    private final String name;\n    private final String mail;\n}\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77162852,"answer_count":1,"score":0,"last_activity_date":1695469677,"creation_date":1695467833,"question_id":77162794,"body_markdown":"Suppose there&#39;s a class in a Spring Boot project:\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class A {\r\n\r\n    @Value(&quot;${a.category:RANDOM}&quot;)\r\n    private final String CATEGORY;\r\n\r\n    private final String name;\r\n    private final String mail;\r\n}\r\n```\r\nYou can see that there are 3 fields annotated with final, thus the `@RequiredArgsConstructor` will, by default, create a constructor with each of these parameters.\r\n\r\nHowever, there&#39;s one field - `CATEGORY` - that is set using `@Value` annotation. Because of that, I&#39;d like this field to be omitted while constructing an instance of this class.\r\n\r\nDoes Lombok support some elegant solution to this problem? Note that I don&#39;t want to change access modifiers.","title":"Omitting a parameter from @RequiredArgsConstructor that is set through @Value","body":"<p>Suppose there's a class in a Spring Boot project:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class A {\n\n    @Value(&quot;${a.category:RANDOM}&quot;)\n    private final String CATEGORY;\n\n    private final String name;\n    private final String mail;\n}\n</code></pre>\n<p>You can see that there are 3 fields annotated with final, thus the <code>@RequiredArgsConstructor</code> will, by default, create a constructor with each of these parameters.</p>\n<p>However, there's one field - <code>CATEGORY</code> - that is set using <code>@Value</code> annotation. Because of that, I'd like this field to be omitted while constructing an instance of this class.</p>\n<p>Does Lombok support some elegant solution to this problem? Note that I don't want to change access modifiers.</p>\n"},{"tags":["java","algorithm","data-structures","dutch-national-flag-problem"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695467844,"post_id":77162777,"comment_id":136030367,"body_markdown":"`while(m&lt;=h)` and `while(m!=h)` are not the same thing, by the way. I&#39;d start looking there.","body":"<code>while(m&lt;=h)</code> and <code>while(m!=h)</code> are not the same thing, by the way. I&#39;d start looking there."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1695467906,"post_id":77162777,"comment_id":136030374,"body_markdown":"*&quot;if-else based...&quot;*: There is no `else`, which is also a problem: multiple `if` blocks can potentially be executed in a single iteration without intermediate check of the while condition.","body":"<i>&quot;if-else based...&quot;</i>: There is no <code>else</code>, which is also a problem: multiple <code>if</code> blocks can potentially be executed in a single iteration without intermediate check of the while condition."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695467907,"post_id":77162777,"comment_id":136030375,"body_markdown":"Also, declaring `temp` inside the `while` is different than declaring it beforehand. I&#39;d check into that as well.","body":"Also, declaring <code>temp</code> inside the <code>while</code> is different than declaring it beforehand. I&#39;d check into that as well."},{"owner":{"account_id":8078281,"reputation":19,"user_id":6088467,"display_name":"A. Gautam"},"score":0,"creation_date":1695468816,"post_id":77162777,"comment_id":136030458,"body_markdown":"@FedericoklezCulloca I changed the condition to while(m&lt;=h), but still getting the same","body":"@FedericoklezCulloca I changed the condition to while(m&lt;=h), but still getting the same"},{"owner":{"account_id":8078281,"reputation":19,"user_id":6088467,"display_name":"A. Gautam"},"score":0,"creation_date":1695468874,"post_id":77162777,"comment_id":136030465,"body_markdown":"@trincot I think thats the correct reasoning you are giving.","body":"@trincot I think thats the correct reasoning you are giving."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695468947,"creation_date":1695468947,"answer_id":77162844,"question_id":77162777,"body_markdown":"The main problem in your second version is that you don&#39;t mimic the `switch` instruction and allow multiple `if` blocks to be executed within a single iteration of the loop, and that means the `while` condition is not guaranteed to hold before evaluating and entering an `if` block.\r\n\r\nAs a knock-on effect of this bug, the while condition is not as resilient as the one in the first version, so that there is even a risk that the loop will continue with `m &gt; h` leading to errors.\r\n\r\n### Alternative solution\r\n\r\nA more simple approach to this problem is to just count the number of occurrences of the three possible values: how many zeroes, how many ones, how many twos.\r\n\r\nThen iterate the array again and re-populate it based on those counters.\r\n\r\n```java\r\nclass Solution {\r\n    public static void sort012(int[] a, int n) {\r\n        int[] counter = {0, 0, 0};\r\n        for (var value : a) {\r\n            counter[value]++;\r\n        }\r\n        for (int i = 0, value = 0; i &lt; a.length; i++) {\r\n            while (counter[value]-- == 0) {\r\n                value++;\r\n            }\r\n            a[i] = value;\r\n        }\r\n    }\r\n}\r\n``` ","title":"Why the if-else based solution is inefficient in Dutch National Flag problem(Sort an array of 0&#39;s, 1&#39;s and 2&#39;s ) on geeksforgeeks platform","body":"<p>The main problem in your second version is that you don't mimic the <code>switch</code> instruction and allow multiple <code>if</code> blocks to be executed within a single iteration of the loop, and that means the <code>while</code> condition is not guaranteed to hold before evaluating and entering an <code>if</code> block.</p>\n<p>As a knock-on effect of this bug, the while condition is not as resilient as the one in the first version, so that there is even a risk that the loop will continue with <code>m &gt; h</code> leading to errors.</p>\n<h3>Alternative solution</h3>\n<p>A more simple approach to this problem is to just count the number of occurrences of the three possible values: how many zeroes, how many ones, how many twos.</p>\n<p>Then iterate the array again and re-populate it based on those counters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public static void sort012(int[] a, int n) {\n        int[] counter = {0, 0, 0};\n        for (var value : a) {\n            counter[value]++;\n        }\n        for (int i = 0, value = 0; i &lt; a.length; i++) {\n            while (counter[value]-- == 0) {\n                value++;\n            }\n            a[i] = value;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8078281,"reputation":19,"user_id":6088467,"display_name":"A. Gautam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77162844,"answer_count":1,"score":-2,"last_activity_date":1695468947,"creation_date":1695467577,"question_id":77162777,"body_markdown":"If-else based implementation of the Dutch National Flag problem is giving RunTime Error while submitting whereas switch-case based implementation got accepted successfully.\r\n\r\nTest case which was giving error having 65,754 number of elements.\r\n\r\n\r\n```java\r\nclass Solution\r\n{\r\n    public static void sort012(int a[], int n)\r\n    {\r\n        // code here \r\n        int l=0,m=0,h=n-1;\r\n        int temp=0;\r\n        while(m&lt;=h){\r\n            switch(a[m]){\r\n                case 0: \r\n                    temp = a[l];\r\n                    a[l] = a[m];\r\n                    a[m] = temp;\r\n                    l=l+1;\r\n                    m=m+1;\r\n                    break;\r\n                case 1:\r\n                    m=m+1;\r\n                    break;\r\n                    \r\n                case 2: \r\n                    temp = a[h];\r\n                    a[h] = a[m];\r\n                    a[m] = temp;\r\n                    h = h-1;\r\n                    break;\r\n                    \r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd the if-else based implementation: \r\n\r\n```java\r\nclass Solution\r\n{\r\n    public static void sort012(int a[], int n)\r\n    {\r\n        // code here \r\n        int l=0,m=0,h=n-1;\r\n        while(m!=h){\r\n            int temp;\r\n            if(a[m]==0){\r\n                temp = a[l];\r\n                a[l] = a[m];\r\n                a[m] = temp;\r\n                l=l+1;\r\n                m=m+1;\r\n            }\r\n            if(a[m]==2){\r\n                temp = a[h];\r\n                a[h] = a[m];\r\n                a[m] = temp;\r\n                h = h-1;\r\n            }\r\n            if(a[m]==1){\r\n                m=m+1;\r\n            }\r\n           \r\n        }\r\n        \r\n    }\r\n}\r\n```","title":"Why the if-else based solution is inefficient in Dutch National Flag problem(Sort an array of 0&#39;s, 1&#39;s and 2&#39;s ) on geeksforgeeks platform","body":"<p>If-else based implementation of the Dutch National Flag problem is giving RunTime Error while submitting whereas switch-case based implementation got accepted successfully.</p>\n<p>Test case which was giving error having 65,754 number of elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution\n{\n    public static void sort012(int a[], int n)\n    {\n        // code here \n        int l=0,m=0,h=n-1;\n        int temp=0;\n        while(m&lt;=h){\n            switch(a[m]){\n                case 0: \n                    temp = a[l];\n                    a[l] = a[m];\n                    a[m] = temp;\n                    l=l+1;\n                    m=m+1;\n                    break;\n                case 1:\n                    m=m+1;\n                    break;\n                    \n                case 2: \n                    temp = a[h];\n                    a[h] = a[m];\n                    a[m] = temp;\n                    h = h-1;\n                    break;\n                    \n            }\n        }\n        \n    }\n}\n</code></pre>\n<p>And the if-else based implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution\n{\n    public static void sort012(int a[], int n)\n    {\n        // code here \n        int l=0,m=0,h=n-1;\n        while(m!=h){\n            int temp;\n            if(a[m]==0){\n                temp = a[l];\n                a[l] = a[m];\n                a[m] = temp;\n                l=l+1;\n                m=m+1;\n            }\n            if(a[m]==2){\n                temp = a[h];\n                a[h] = a[m];\n                a[m] = temp;\n                h = h-1;\n            }\n            if(a[m]==1){\n                m=m+1;\n            }\n           \n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","rest","keycloak"],"comments":[{"owner":{"account_id":4777266,"reputation":2979,"user_id":3860046,"display_name":"S&#233;bastien Blanc"},"score":1,"creation_date":1498131139,"post_id":44675383,"comment_id":76379088,"body_markdown":"How would do it without the REST client ? It&#39;s not possible, or you use the console or the REST endpoints ...","body":"How would do it without the REST client ? It&#39;s not possible, or you use the console or the REST endpoints ..."},{"owner":{"account_id":4915671,"reputation":187,"user_id":3959675,"accept_rate":25,"display_name":"kunal"},"score":0,"creation_date":1498205966,"post_id":44675383,"comment_id":76415136,"body_markdown":"I was using the admin account to update user&#39;s email.i.e. keycloak admin client. and i was needed another way.","body":"I was using the admin account to update user&#39;s email.i.e. keycloak admin client. and i was needed another way."},{"owner":{"account_id":5186830,"reputation":173,"user_id":4150973,"accept_rate":86,"display_name":"Biel Simon"},"score":0,"creation_date":1585578301,"post_id":44675383,"comment_id":107802077,"body_markdown":"Did you find more information about what is the recommended way to let users update their info with the access token without using admin credentials? I&#39;ve been looking around and couldn&#39;t find it for now.","body":"Did you find more information about what is the recommended way to let users update their info with the access token without using admin credentials? I&#39;ve been looking around and couldn&#39;t find it for now."},{"owner":{"account_id":10207393,"reputation":95,"user_id":7535705,"display_name":"un-CharlieH"},"score":0,"creation_date":1637601446,"post_id":44675383,"comment_id":123864423,"body_markdown":"Two options are presented in this answer, [update-own-profile](https://stackoverflow.com/questions/46298170/allowing-a-user-to-update-their-own-profile-using-the-rest-api), user-service or account profile theme.","body":"Two options are presented in this answer, <a href=\"https://stackoverflow.com/questions/46298170/allowing-a-user-to-update-their-own-profile-using-the-rest-api\">update-own-profile</a>, user-service or account profile theme."}],"answers":[{"tags":[],"owner":{"account_id":4915671,"reputation":187,"user_id":3959675,"accept_rate":25,"display_name":"kunal"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1498200700,"creation_date":1498200700,"answer_id":44714878,"question_id":44675383,"body_markdown":"I did it Using Following approach.\r\n\r\n\t\tpublic void updateEmail(final String newEmailAddress)\r\n\t\t\tthrows ClientProtocolException, IOException, HttpFailure, VerificationException {\r\n\t\t\r\n\t\tList&lt;NameValuePair&gt; formparams = new ArrayList&lt;&gt;();\r\n\r\n\t\tformparams.add(new BasicNameValuePair(&quot;stateChecker&quot;, &quot;QW1iwts0YS8pC0JDosACq-2ZAJHtTW8HWN7KSgTV8rc&quot;));\r\n\t\tformparams.add(new BasicNameValuePair(&quot;email&quot;, &quot;5somebody@gmail.com&quot;));\r\n\t\tformparams.add(new BasicNameValuePair(&quot;firstName&quot;, &quot;1some&quot;));\r\n\t\tformparams.add(new BasicNameValuePair(&quot;lastName&quot;, &quot;1body&quot;));\r\n\r\n\t\tKeycloakDeployment deployment = this.getDeployment();\r\n\r\n\t\tHttpPost post = new HttpPost(&quot;http://localhost:8080/auth/realms/demo/account/&quot;);\r\n\t\tClientCredentialsProviderUtils.setClientCredentials(deployment, post, formparams);\r\n\t\tpost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\tpost.setHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;);\r\n\t\tpost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + this.getTokenString(10, TimeUnit.SECONDS));\r\n\r\n\t\tUrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, &quot;UTF-8&quot;);\r\n\t\tpost.setEntity(form);\r\n\r\n\t\tHttpResponse response = deployment.getClient().execute(post);\r\n\r\n\t\tif (response.getStatusLine().getStatusCode() == 200) {\r\n\t\t\tprint(response.getEntity().getContent());\r\n\t\t} else {\r\n\t\t\tprint(response.getEntity().getContent());\r\n\t\t\tSystem.out.println(response.getStatusLine().toString());\r\n\t\t}\r\n\t}\r\n\r\nTo get this above thing done I need to change my account.ftl(which is present at location  ***:\\***\\keycloak-demo-3.1.0.Final\\keycloak\\themes\\base\\account\\account.ftl) as follows\r\n\r\n\t\t&lt;#if stateChecker??&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; id=&quot;stateChecker&quot; name=&quot;stateChecker&quot; value=&quot;${stateChecker?html}&quot;&gt;\r\n\t\t&lt;#else&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; id=&quot;stateChecker&quot; name=&quot;stateChecker&quot; value=&quot; &quot;&gt;\r\n\t\t&lt;/#if&gt;\r\n\r\nThe reason behind change was ,I was getting error like:\r\n\r\nFailed to process template: org.keycloak.theme.FreeMarkerException: Failed to process template account.ftl\r\n","title":"How can I update keycloak&#39;s user details programmatically (java), without using rest admin api?","body":"<p>I did it Using Following approach.</p>\n\n<pre><code>    public void updateEmail(final String newEmailAddress)\n        throws ClientProtocolException, IOException, HttpFailure, VerificationException {\n\n    List&lt;NameValuePair&gt; formparams = new ArrayList&lt;&gt;();\n\n    formparams.add(new BasicNameValuePair(\"stateChecker\", \"QW1iwts0YS8pC0JDosACq-2ZAJHtTW8HWN7KSgTV8rc\"));\n    formparams.add(new BasicNameValuePair(\"email\", \"5somebody@gmail.com\"));\n    formparams.add(new BasicNameValuePair(\"firstName\", \"1some\"));\n    formparams.add(new BasicNameValuePair(\"lastName\", \"1body\"));\n\n    KeycloakDeployment deployment = this.getDeployment();\n\n    HttpPost post = new HttpPost(\"http://localhost:8080/auth/realms/demo/account/\");\n    ClientCredentialsProviderUtils.setClientCredentials(deployment, post, formparams);\n    post.setHeader(\"Accept\", \"application/json\");\n    post.setHeader(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\");\n    post.setHeader(\"Authorization\", \"Bearer \" + this.getTokenString(10, TimeUnit.SECONDS));\n\n    UrlEncodedFormEntity form = new UrlEncodedFormEntity(formparams, \"UTF-8\");\n    post.setEntity(form);\n\n    HttpResponse response = deployment.getClient().execute(post);\n\n    if (response.getStatusLine().getStatusCode() == 200) {\n        print(response.getEntity().getContent());\n    } else {\n        print(response.getEntity().getContent());\n        System.out.println(response.getStatusLine().toString());\n    }\n}\n</code></pre>\n\n<p>To get this above thing done I need to change my account.ftl(which is present at location  <strong>*:*</strong>\\keycloak-demo-3.1.0.Final\\keycloak\\themes\\base\\account\\account.ftl) as follows</p>\n\n<pre><code>    &lt;#if stateChecker??&gt;\n        &lt;input type=\"hidden\" id=\"stateChecker\" name=\"stateChecker\" value=\"${stateChecker?html}\"&gt;\n    &lt;#else&gt;\n        &lt;input type=\"hidden\" id=\"stateChecker\" name=\"stateChecker\" value=\" \"&gt;\n    &lt;/#if&gt;\n</code></pre>\n\n<p>The reason behind change was ,I was getting error like:</p>\n\n<p>Failed to process template: org.keycloak.theme.FreeMarkerException: Failed to process template account.ftl</p>\n"},{"tags":[],"owner":{"account_id":4915671,"reputation":187,"user_id":3959675,"accept_rate":25,"display_name":"kunal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510726709,"creation_date":1510726709,"answer_id":47300627,"question_id":44675383,"body_markdown":"you can use jsoup-1.6.0.jar for updating any user&#39;s detail as follow.\r\n\r\n    public boolean updateAccountDetails(String name, String value) \r\n    {\r\n    String url= getKeycloakAdapter().getDeployment().getAccountUrl();\r\n\r\n    Document document = Jsoup.connect(url).get();\r\n    if (document != null) {\r\n      String formQuery = String.format(&quot;form[action^=%s]&quot;, url);\r\n      Elements form = document.select(formQuery);\r\n      if (!form.isEmpty()) {\r\n        Elements inputs = form.select(&quot;input[value], input:not([disabled])&quot;);\r\n        Element saveAction = form.select(&quot;button[value=Save]&quot;).first();\r\n        inputs.add(saveAction);\r\n        Map&lt;String, String&gt; mandatoryArguments = new HashMap&lt;&gt;();\r\n        for (Element input : inputs) {\r\n          mandatoryArguments.put(input.attr(&quot;name&quot;), input.attr(&quot;value&quot;));\r\n        }\r\n        mandatoryArguments.put(attributeName, newValue);\r\n        Response response = Jsoup.connect(accountUrl)\r\n            .data(mandatoryArguments)\r\n            .method(Method.POST)\r\n            .execute();\r\n\r\n        Document finalDoc = response.parse();\r\n        if (finalDoc != null) {\r\n          Elements finalForm = finalDoc.select(formQuery);\r\n          if (finalForm != null) {\r\n            String newValueQuery = String.format(&quot;input[name=%s], input[value=%s]&quot;, name, value);\r\n            Elements finalInputs = finalForm.select(newValueQuery);\r\n            if (finalInputs != null) {\r\n              return !finalInputs.isEmpty();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    throw new IOException(&quot;Account page not found&quot;);\r\n  }","title":"How can I update keycloak&#39;s user details programmatically (java), without using rest admin api?","body":"<p>you can use jsoup-1.6.0.jar for updating any user's detail as follow.</p>\n\n<pre><code>public boolean updateAccountDetails(String name, String value) \n{\nString url= getKeycloakAdapter().getDeployment().getAccountUrl();\n\nDocument document = Jsoup.connect(url).get();\nif (document != null) {\n  String formQuery = String.format(\"form[action^=%s]\", url);\n  Elements form = document.select(formQuery);\n  if (!form.isEmpty()) {\n    Elements inputs = form.select(\"input[value], input:not([disabled])\");\n    Element saveAction = form.select(\"button[value=Save]\").first();\n    inputs.add(saveAction);\n    Map&lt;String, String&gt; mandatoryArguments = new HashMap&lt;&gt;();\n    for (Element input : inputs) {\n      mandatoryArguments.put(input.attr(\"name\"), input.attr(\"value\"));\n    }\n    mandatoryArguments.put(attributeName, newValue);\n    Response response = Jsoup.connect(accountUrl)\n        .data(mandatoryArguments)\n        .method(Method.POST)\n        .execute();\n\n    Document finalDoc = response.parse();\n    if (finalDoc != null) {\n      Elements finalForm = finalDoc.select(formQuery);\n      if (finalForm != null) {\n        String newValueQuery = String.format(\"input[name=%s], input[value=%s]\", name, value);\n        Elements finalInputs = finalForm.select(newValueQuery);\n        if (finalInputs != null) {\n          return !finalInputs.isEmpty();\n        }\n      }\n    }\n  }\n}\nthrow new IOException(\"Account page not found\");\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":4915671,"reputation":187,"user_id":3959675,"accept_rate":25,"display_name":"kunal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13241,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1695467075,"creation_date":1498046076,"question_id":44675383,"body_markdown":"I want to update the user detail. e.g. I created user(k1) in &quot;demo&quot; realm from keycloak admin console. I have one java client and I want to update the user(k1) details like. Change Email address of user k1.\r\n\r\nI did using Admin client(Rest API) as below.\r\n\r\n\tpublic void updateEmail(final String newEmailAddress) {\r\n\t\ttry {\r\n\t\t\tfinal AccessToken accessToken = getToken();\r\n\t\t\tKeycloak keycloak = KeycloakBuilder.builder().serverUrl(this.getDeployment().getAuthServerBaseUrl())\r\n\t\t\t\t\t.realm(this.getDeployment().getRealm()).username(&quot;k1&quot;).password(&quot;123&quot;).clientId(ADMIN_CLIENT)\r\n\t\t\t\t\t.resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build()).build();\r\n\r\n\t\t\tUserResource userResource = keycloak.realm(this.getDeployment().getRealm()).users()\r\n\t\t\t\t\t.get(accessToken.getSubject());\r\n\t\t\tUserRepresentation user = userResource.toRepresentation();\r\n\t\t\tuser.setEmail(newEmailAddress);\r\n\t\t\tuserResource.update(user);\r\n\r\n\t\t} catch (Exception exception) {\r\n\t\t\texception.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nBut I want do the same without using Admin client.","title":"How can I update keycloak&#39;s user details programmatically (java), without using rest admin api?","body":"<p>I want to update the user detail. e.g. I created user(k1) in \"demo\" realm from keycloak admin console. I have one java client and I want to update the user(k1) details like. Change Email address of user k1.</p>\n\n<p>I did using Admin client(Rest API) as below.</p>\n\n<pre><code>public void updateEmail(final String newEmailAddress) {\n    try {\n        final AccessToken accessToken = getToken();\n        Keycloak keycloak = KeycloakBuilder.builder().serverUrl(this.getDeployment().getAuthServerBaseUrl())\n                .realm(this.getDeployment().getRealm()).username(\"k1\").password(\"123\").clientId(ADMIN_CLIENT)\n                .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build()).build();\n\n        UserResource userResource = keycloak.realm(this.getDeployment().getRealm()).users()\n                .get(accessToken.getSubject());\n        UserRepresentation user = userResource.toRepresentation();\n        user.setEmail(newEmailAddress);\n        userResource.update(user);\n\n    } catch (Exception exception) {\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>But I want do the same without using Admin client.</p>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1489522330,"post_id":42795500,"comment_id":72705807,"body_markdown":"Remove `static`. You cannot intercept static methods calls with Spring AOP due the the proxy based nature of it.","body":"Remove <code>static</code>. You cannot intercept static methods calls with Spring AOP due the the proxy based nature of it."},{"owner":{"account_id":4157905,"reputation":189,"user_id":3408657,"accept_rate":8,"display_name":"user3408657"},"score":0,"creation_date":1489579587,"post_id":42795500,"comment_id":72730778,"body_markdown":"@M.Deinum I removed the static modifier, however the aspect is still not kicking in. Any other ideas?","body":"@M.Deinum I removed the static modifier, however the aspect is still not kicking in. Any other ideas?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1489605649,"post_id":42795500,"comment_id":72749478,"body_markdown":"It also needs to be a spring bean, spring AOP will only work on spring beans.","body":"It also needs to be a spring bean, spring AOP will only work on spring beans."}],"answers":[{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562317207,"creation_date":1562317207,"answer_id":56899850,"question_id":42795500,"body_markdown":"try to change you annotation with this \r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy(proxyTargetClass = true)\r\n    public class AppConfig {\r\n    \r\n    }","title":"Spring AOP not working","body":"<p>try to change you annotation with this </p>\n\n<pre><code>@Configuration\n@EnableAspectJAutoProxy(proxyTargetClass = true)\npublic class AppConfig {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695466913,"creation_date":1695464656,"answer_id":77162595,"question_id":42795500,"body_markdown":"In my case I can tell you that with Spring 3.X the annotation in the configuration is not necessary.\r\nIt&#39;s enough to have the dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThis way you can use the AspectJ annotations:\r\n \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n\r\nYou need to annotate the class with both @Aspect and @Component.+\r\n\r\nAlso make sure that your Pointcut is aiming at the right position in the package, otherwise you won&#39;t see anything in the logs, as the pointcut won&#39;t find the methods.\r\nFor example, it the method is found under &quot;com.demo.messaging.MyClass.myMethod&quot; you need something like\r\n\r\n\t@Pointcut(&quot;execution(* com.demo.messaging.*.*(..))&quot;)\r\n","title":"Spring AOP not working","body":"<p>In my case I can tell you that with Spring 3.X the annotation in the configuration is not necessary.\nIt's enough to have the dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This way you can use the AspectJ annotations:</p>\n<pre><code>import org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n</code></pre>\n<p>You need to annotate the class with both @Aspect and @Component.+</p>\n<p>Also make sure that your Pointcut is aiming at the right position in the package, otherwise you won't see anything in the logs, as the pointcut won't find the methods.\nFor example, it the method is found under &quot;com.demo.messaging.MyClass.myMethod&quot; you need something like</p>\n<pre><code>@Pointcut(&quot;execution(* com.demo.messaging.*.*(..))&quot;)\n</code></pre>\n"}],"owner":{"account_id":4157905,"reputation":189,"user_id":3408657,"accept_rate":8,"display_name":"user3408657"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695466913,"creation_date":1489521747,"question_id":42795500,"body_markdown":"I am trying to create some annotations which check permissions from the securitycontext before accessing some protected resources. I wrote a sample code very similar to what I would want to implement, however when I invoke SomethingProtected(), it seems like the @Before part of the aspect never actually gets triggered. Any help would be appreciated.\r\n\r\nI have:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface NeedsPermissions {\r\n        boolean read() default true;\r\n    }\r\n\r\nand \r\n\r\n\r\n    @Aspect\r\n    public class NeedsPermissionsAspect {\r\n        @Before(&quot;execution(* *.*(..)) &amp;&amp; @annotation(NeedsPermissions)&quot;)\r\n        public void CheckPermissions(JoinPoint pjp, NeedsPermissions needsPermissions) throws Throwable {\r\n            System.out.println(&quot;aspect&quot;);\r\n            if (needsPermissions.read() == true) {\r\n                SecurityContext securityContext = SecurityContext.getSecurityContext();\r\n                MyUser user = securityContext.getUser();\r\n                if (!user.read){\r\n                    throw new Exception(&quot;Not Allowed&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class NeedsPermissionsConfig {\r\n    }\r\n\r\nand\r\n\r\n    public class ProtectedResource {\r\n    \r\n        @NeedsPermissions\r\n        public void SomethingProtected(){\r\n            System.out.println(&quot;Something protected&quot;);\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n    \t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd&quot;&gt;\r\n    \r\n        &lt;aop:aspectj-autoproxy/&gt;\r\n    \r\n    \r\n    \r\n        &lt;!-- Aspect --&gt;\r\n        &lt;bean id=&quot;needsPermissionsAspect&quot; class=&quot;NeedsPermissionsAspect&quot;&gt;\r\n            &lt;!-- configure properties of aspect here as normal --&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n","title":"Spring AOP not working","body":"<p>I am trying to create some annotations which check permissions from the securitycontext before accessing some protected resources. I wrote a sample code very similar to what I would want to implement, however when I invoke SomethingProtected(), it seems like the @Before part of the aspect never actually gets triggered. Any help would be appreciated.</p>\n\n<p>I have:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface NeedsPermissions {\n    boolean read() default true;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Aspect\npublic class NeedsPermissionsAspect {\n    @Before(\"execution(* *.*(..)) &amp;&amp; @annotation(NeedsPermissions)\")\n    public void CheckPermissions(JoinPoint pjp, NeedsPermissions needsPermissions) throws Throwable {\n        System.out.println(\"aspect\");\n        if (needsPermissions.read() == true) {\n            SecurityContext securityContext = SecurityContext.getSecurityContext();\n            MyUser user = securityContext.getUser();\n            if (!user.read){\n                throw new Exception(\"Not Allowed\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class NeedsPermissionsConfig {\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class ProtectedResource {\n\n    @NeedsPermissions\n    public void SomethingProtected(){\n        System.out.println(\"Something protected\");\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\"&gt;\n\n    &lt;aop:aspectj-autoproxy/&gt;\n\n\n\n    &lt;!-- Aspect --&gt;\n    &lt;bean id=\"needsPermissionsAspect\" class=\"NeedsPermissionsAspect\"&gt;\n        &lt;!-- configure properties of aspect here as normal --&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695466647,"creation_date":1673296420,"question_id":75062648,"body_markdown":"I can&#39;t get pretty reports in Selenium Cucumber. JDK version: 11, Maven version: 3.8.7, Operating system: Windows 10 Pro. When I install the project, the console shows BUILD FAILED error.\r\nThis is console output:\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-11.0.16.1\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam -Djansi.passthrough=true &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\lib\\idea_rt.jar=64884:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.3.1 install\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] -----------------&lt; org.example:cucumberKendiCalismam &gt;------------------\r\n[INFO] Building cucumberKendiCalismam 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ cucumberKendiCalismam ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\src\\main\\resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ cucumberKendiCalismam ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\classes\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ cucumberKendiCalismam ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 6 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ cucumberKendiCalismam ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 14 source files to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ cucumberKendiCalismam ---\r\n[WARNING] The parameter forkMode is deprecated since version 2.14. Use forkCount and reuseForks instead.\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running runners.TestRunner2\r\n[INFO] Running runners.TestRunner\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[ERROR] There are test failures.\r\n\r\nPlease refer to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\surefire-reports for the individual test results.\r\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\nExecutionException There was an error in the forked process\r\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\r\nExecutionException There was an error in the forked process\r\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\r\norg.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException There was an error in the forked process\r\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\r\nExecutionException There was an error in the forked process\r\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.awaitResultsDone(ForkStarter.java:511)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkPerTestSet(ForkStarter.java:458)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:299)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:247)\r\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1149)\r\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:991)\r\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:837)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\nCaused by: org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.access$600(ForkStarter.java:116)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:445)\r\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:421)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n[INFO] \r\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ cucumberKendiCalismam ---\r\n[INFO] Building jar: C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\cucumberKendiCalismam-1.0-SNAPSHOT.jar\r\n[INFO] \r\n[INFO] --- maven-cucumber-reporting:5.0.0:generate (execution) @ cucumberKendiCalismam ---\r\n[INFO] About to generate Cucumber report.\r\nOca 09, 2023 11:11:01 &#214;S net.masterthought.cucumber.ReportBuilder generateErrorPage\r\nINFO: Unexpected error\r\nnet.masterthought.cucumber.ValidationException: None report file was added!\r\n\tat net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:62)\r\n\tat net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:88)\r\n\tat net.masterthought.cucumber.CucumberReportGeneratorMojo.execute(CucumberReportGeneratorMojo.java:209)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.325 s\r\n[INFO] Finished at: 2023-01-09T23:11:01+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal net.masterthought:maven-cucumber-reporting:5.0.0:generate (execution) on project cucumberKendiCalismam: Error Found:: BUILD FAILED - Check Report For Details -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nThis is Runner class:\r\n\r\n```\r\npackage runners;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        plugin = {\r\n                &quot;pretty&quot;,\r\n                &quot;html:target/cucumber-reports.html&quot;,\r\n                &quot;json:target/json-reports/cucumber.json&quot;,\r\n                &quot;junit:target/xml-report/cucumber.xml&quot;},\r\n        features = &quot;src/test/resources/features&quot;,\r\n        glue = &quot;stepDefinitions&quot;,\r\n        tags = &quot;&quot;, \r\n        dryRun = false\r\n\r\n)\r\npublic class Runner {\r\n\r\n}\r\n```\r\n\r\nThis is pom.xml file:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumberKendiCalismam&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                    &lt;forkMode&gt;perthread&lt;/forkMode&gt;\r\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                    &lt;argLine&gt;-Duser.language=en&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                    &lt;useFile&gt;false&lt;/useFile&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\r\n                            &lt;jsonFiles&gt;\r\n                                &lt;param&gt;**/json-reports/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;&lt;classificationFiles&gt;-&gt;\r\n                            &lt;param&gt;sample.properties&lt;/param&gt;\r\n                            &lt;param&gt;other.properties&lt;/param&gt;\r\n                        &lt;/classificationFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI changed the JDK version, I used different plugins, still the problem is not solved.","title":"Failed to execute goal net.masterthought:maven-cucumber-reporting:5.0.0:generate","body":"<p>I can't get pretty reports in Selenium Cucumber. JDK version: 11, Maven version: 3.8.7, Operating system: Windows 10 Pro. When I install the project, the console shows BUILD FAILED error.\nThis is console output:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-11.0.16.1\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam -Djansi.passthrough=true &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\lib\\idea_rt.jar=64884:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.3.1 install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------&lt; org.example:cucumberKendiCalismam &gt;------------------\n[INFO] Building cucumberKendiCalismam 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ cucumberKendiCalismam ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ cucumberKendiCalismam ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ cucumberKendiCalismam ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 6 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ cucumberKendiCalismam ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 14 source files to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ cucumberKendiCalismam ---\n[WARNING] The parameter forkMode is deprecated since version 2.14. Use forkCount and reuseForks instead.\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running runners.TestRunner2\n[INFO] Running runners.TestRunner\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[ERROR] There are test failures.\n\nPlease refer to C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\surefire-reports for the individual test results.\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\nExecutionException There was an error in the forked process\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\nExecutionException There was an error in the forked process\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\norg.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException There was an error in the forked process\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\nExecutionException There was an error in the forked process\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.awaitResultsDone(ForkStarter.java:511)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkPerTestSet(ForkStarter.java:458)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:299)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:247)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1149)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:991)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:837)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\norg.testng.xml.XmlSuite.setParallel(Ljava/lang/String;)V\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.access$600(ForkStarter.java:116)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:445)\n    at org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:421)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ cucumberKendiCalismam ---\n[INFO] Building jar: C:\\Users\\Tarik\\IdeaProjects\\cucumberKendiCalismam\\target\\cucumberKendiCalismam-1.0-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-cucumber-reporting:5.0.0:generate (execution) @ cucumberKendiCalismam ---\n[INFO] About to generate Cucumber report.\nOca 09, 2023 11:11:01 S net.masterthought.cucumber.ReportBuilder generateErrorPage\nINFO: Unexpected error\nnet.masterthought.cucumber.ValidationException: None report file was added!\n    at net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:62)\n    at net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:88)\n    at net.masterthought.cucumber.CucumberReportGeneratorMojo.execute(CucumberReportGeneratorMojo.java:209)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.325 s\n[INFO] Finished at: 2023-01-09T23:11:01+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal net.masterthought:maven-cucumber-reporting:5.0.0:generate (execution) on project cucumberKendiCalismam: Error Found:: BUILD FAILED - Check Report For Details -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>This is Runner class:</p>\n<pre><code>package runners;\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        plugin = {\n                &quot;pretty&quot;,\n                &quot;html:target/cucumber-reports.html&quot;,\n                &quot;json:target/json-reports/cucumber.json&quot;,\n                &quot;junit:target/xml-report/cucumber.xml&quot;},\n        features = &quot;src/test/resources/features&quot;,\n        glue = &quot;stepDefinitions&quot;,\n        tags = &quot;&quot;, \n        dryRun = false\n\n)\npublic class Runner {\n\n}\n</code></pre>\n<p>This is pom.xml file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumberKendiCalismam&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;forkMode&gt;perthread&lt;/forkMode&gt;\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;-Duser.language=en&lt;/argLine&gt;\n                    &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n                    &lt;useFile&gt;false&lt;/useFile&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;execution&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                            &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\n                            &lt;jsonFiles&gt;\n                                &lt;param&gt;**/json-reports/*.json&lt;/param&gt;\n                            &lt;/jsonFiles&gt;&lt;classificationFiles&gt;-&gt;\n                            &lt;param&gt;sample.properties&lt;/param&gt;\n                            &lt;param&gt;other.properties&lt;/param&gt;\n                        &lt;/classificationFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I changed the JDK version, I used different plugins, still the problem is not solved.</p>\n"},{"tags":["java","shapefile","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1695482784,"post_id":77162709,"comment_id":136031732,"body_markdown":"Which user is running GeoServer? How did you install it?","body":"Which user is running GeoServer? How did you install it?"},{"owner":{"account_id":28199618,"reputation":1,"user_id":21553633,"display_name":"Ekta Kalamkar"},"score":0,"creation_date":1695539420,"post_id":77162709,"comment_id":136036129,"body_markdown":"I had downloaded the Platform Independent Binary installation. After installing, I started GeoServer by running C:\\Program Files\\geoserver-2.22.2\\bin\\startup.bat and then opening http://localhost:8080/geoserver in a browser and am logged in as admin.","body":"I had downloaded the Platform Independent Binary installation. After installing, I started GeoServer by running C:\\Program Files\\geoserver-2.22.2\\bin\\startup.bat and then opening <a href=\"http://localhost:8080/geoserver\" rel=\"nofollow noreferrer\">localhost:8080/geoserver</a> in a browser and am logged in as admin."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1695542376,"post_id":77162709,"comment_id":136036330,"body_markdown":"Try with java 11","body":"Try with java 11"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695609987,"post_id":77162709,"comment_id":136042612,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28199618,"reputation":1,"user_id":21553633,"display_name":"Ekta Kalamkar"},"score":0,"creation_date":1695748675,"post_id":77162709,"comment_id":136064964,"body_markdown":"Yes. Now It is Working with JAVA 11","body":"Yes. Now It is Working with JAVA 11"}],"owner":{"account_id":28199618,"reputation":1,"user_id":21553633,"display_name":"Ekta Kalamkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695466343,"creation_date":1695466343,"question_id":77162709,"body_markdown":"I am using Geoserver version 2.22.2 with Java JDK 19.0.2\r\nTrying to create New work store for vector data source SHAPEFILE but unable to browse it.\r\nAfter Clicking on Browse it is not able to load my local folders.\r\n\r\nI have put both Geoserver and Java JDK folder in Programme Files also, I have set the Environmental Variable. Unable to get what is going Wrong. Why I am not able to Browse the shapefile.","title":"Unable to Browse Shapefiles(Creating store) from my local folder while using Geoserver 2.22.2","body":"<p>I am using Geoserver version 2.22.2 with Java JDK 19.0.2\nTrying to create New work store for vector data source SHAPEFILE but unable to browse it.\nAfter Clicking on Browse it is not able to load my local folders.</p>\n<p>I have put both Geoserver and Java JDK folder in Programme Files also, I have set the Environmental Variable. Unable to get what is going Wrong. Why I am not able to Browse the shapefile.</p>\n"},{"tags":["java","eclipse","maven","arguments"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1695465689,"post_id":77162527,"comment_id":136030166,"body_markdown":"Maven is to build your application. To run it use a _Java Application_ instead of a _Maven Build_ launch configuration. Otherwise, if you really want run it via Maven and not directly as a _Java Application_, show your `pom.xml`.","body":"Maven is to build your application. To run it use a <i>Java Application</i> instead of a <i>Maven Build</i> launch configuration. Otherwise, if you really want run it via Maven and not directly as a <i>Java Application</i>, show your <code>pom.xml</code>."}],"answers":[{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695465422,"creation_date":1695465422,"answer_id":77162640,"question_id":77162527,"body_markdown":"When running Maven, any parameters are passed to the Maven build. If, like in your case, you have a plugin which also executes the application, then you have to check the plugin&#39;s documentation to see how arguments have to be passed.\r\n\r\nThe [javafx-maven-plugin][1] has a `commandlineArgs` option which you can use to set application arguments, as shown in the example:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;org.openjfx.hellofx/org.openjfx.App&lt;/mainClass&gt;\r\n            &lt;commandlineArgs&gt;foo&lt;/commandlineArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nTo make the arguments configurable in the Eclipse launch configuration, you can use a Maven property here:\r\n\r\n    &lt;commandlineArgs&gt;${yourapp.commandlineArgs}&lt;/commandlineArgs&gt;\r\n\r\nand then define `yourapp.commandlineArgs` in the parameters table in the launch configuration&#39;s main tab.\r\n\r\n  [1]: https://github.com/openjfx/javafx-maven-plugin#javafxrun-options\r\n\r\n","title":"How to pass args to application from Eclipse Maven Run configurations","body":"<p>When running Maven, any parameters are passed to the Maven build. If, like in your case, you have a plugin which also executes the application, then you have to check the plugin's documentation to see how arguments have to be passed.</p>\n<p>The <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxrun-options\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a> has a <code>commandlineArgs</code> option which you can use to set application arguments, as shown in the example:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.8&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;org.openjfx.hellofx/org.openjfx.App&lt;/mainClass&gt;\n        &lt;commandlineArgs&gt;foo&lt;/commandlineArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>To make the arguments configurable in the Eclipse launch configuration, you can use a Maven property here:</p>\n<pre><code>&lt;commandlineArgs&gt;${yourapp.commandlineArgs}&lt;/commandlineArgs&gt;\n</code></pre>\n<p>and then define <code>yourapp.commandlineArgs</code> in the parameters table in the launch configuration's main tab.</p>\n"}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77162640,"answer_count":1,"score":0,"last_activity_date":1695465422,"creation_date":1695463477,"question_id":77162527,"body_markdown":"I have a Java / Maven project in Eclipse 2023-06. If I want to run the application, I am using a run configuration based on Maven, as depicted in below picture. I can&#39;t figure out how to pass an argument to the application - in other words, arguments passed to &quot;*public static void main(String[] args)*&quot; - without defining a environment variable in the Run Configurations dialog\r\n\r\n[![Eclipse Run Configurations][1]][1]\r\n\r\nlike it is possible to define it in the Java Application dialog\r\n\r\n[![Java Application Run Configuration][2]][2]\r\n\r\nIs there a way to do this directly without checking environment variables?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kMI39.png\r\n  [2]: https://i.stack.imgur.com/MyeAv.png","title":"How to pass args to application from Eclipse Maven Run configurations","body":"<p>I have a Java / Maven project in Eclipse 2023-06. If I want to run the application, I am using a run configuration based on Maven, as depicted in below picture. I can't figure out how to pass an argument to the application - in other words, arguments passed to &quot;<em>public static void main(String[] args)</em>&quot; - without defining a environment variable in the Run Configurations dialog</p>\n<p><a href=\"https://i.stack.imgur.com/kMI39.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMI39.png\" alt=\"Eclipse Run Configurations\" /></a></p>\n<p>like it is possible to define it in the Java Application dialog</p>\n<p><a href=\"https://i.stack.imgur.com/MyeAv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MyeAv.png\" alt=\"Java Application Run Configuration\" /></a></p>\n<p>Is there a way to do this directly without checking environment variables?</p>\n"},{"tags":["java","web-crawler","jsoup","google-crawlers"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1695743051,"post_id":77162619,"comment_id":136063922,"body_markdown":"Scrapping Google search results is a violation of its ToS. While you can hack your way around the checks that are in place to prevent that, the system will eventually lock you out. If you want to make use of Google search in your app, consider using their [JSON API](https://developers.google.com/custom-search/v1/overview) instead. You get 100 search results per day free of charge.","body":"Scrapping Google search results is a violation of its ToS. While you can hack your way around the checks that are in place to prevent that, the system will eventually lock you out. If you want to make use of Google search in your app, consider using their <a href=\"https://developers.google.com/custom-search/v1/overview\" rel=\"nofollow noreferrer\">JSON API</a> instead. You get 100 search results per day free of charge."}],"owner":{"account_id":2855314,"reputation":23,"user_id":2451695,"accept_rate":25,"display_name":"Peter Graf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695465095,"creation_date":1695465095,"question_id":77162619,"body_markdown":"It already worked a few weeks before, but now I am getting a page with the choice to accept or reject cookies.\r\n\r\nMy code:\r\n\r\n    String useragent = &quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36&quot;;\r\n        String urlbas = &quot;https://www.google.com/search&quot;;\r\n        String url = urlbas + &quot;?q=Vienna&amp;num=100&amp;start=1&quot;;\r\n        Map&lt;String, String&gt; cookies = null;\r\n        try {\r\n            // connect one time.                \r\n            Connection con = Jsoup.connect(urlbas);\r\n            Connection.Response res = con.execute();\r\n            cookies = res.cookies();\r\n            \r\n            String ckey = &quot;CONSENT&quot;;\r\n            String cval = &quot;YES+shp.gws-&quot; + LocalDate.now().toString().replace(&quot;-&quot;, &quot;&quot;) + &quot;-0-RC2.en+FX+374&quot;;\r\n            cookies.replace(ckey, cval);\r\n            Document doc = Jsoup\r\n                    .connect(url)\r\n                    .userAgent(useragent)\r\n                    .timeout(5000)\r\n                    .cookies(cookies)\r\n                    .ignoreHttpErrors(true)\r\n                    \r\n                    .get();\r\n            \r\n            String pattern1 = &quot;;url=&quot;;\r\n            String pattern2 = &quot;&amp;amp;ved=&quot;;\r\n            String txt = doc.body().html();\r\n            Pattern p = Pattern.compile(Pattern.quote(pattern1) + &quot;(.*?)&quot; + Pattern.quote(pattern2));\r\n            Matcher m = p.matcher(txt);\r\n            // arres will contain the result\r\n            arres = new ArrayList&lt;String&gt;();\r\n            while (m.find()) {\r\n                // adding to the result\r\n                arres.add (m.group(1));\r\n\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }     \r\n\r\nWhat the variable txt should contain is a list of the search results, but I get a request to accept cookies.\r\n\r\nThe solution does not need to include Jsoup, whatever works will be fine with me.\r\n\r\n","title":"How can I scrape, crawl, collect results from Google search with JSoup","body":"<p>It already worked a few weeks before, but now I am getting a page with the choice to accept or reject cookies.</p>\n<p>My code:</p>\n<pre><code>String useragent = &quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36&quot;;\n    String urlbas = &quot;https://www.google.com/search&quot;;\n    String url = urlbas + &quot;?q=Vienna&amp;num=100&amp;start=1&quot;;\n    Map&lt;String, String&gt; cookies = null;\n    try {\n        // connect one time.                \n        Connection con = Jsoup.connect(urlbas);\n        Connection.Response res = con.execute();\n        cookies = res.cookies();\n        \n        String ckey = &quot;CONSENT&quot;;\n        String cval = &quot;YES+shp.gws-&quot; + LocalDate.now().toString().replace(&quot;-&quot;, &quot;&quot;) + &quot;-0-RC2.en+FX+374&quot;;\n        cookies.replace(ckey, cval);\n        Document doc = Jsoup\n                .connect(url)\n                .userAgent(useragent)\n                .timeout(5000)\n                .cookies(cookies)\n                .ignoreHttpErrors(true)\n                \n                .get();\n        \n        String pattern1 = &quot;;url=&quot;;\n        String pattern2 = &quot;&amp;amp;ved=&quot;;\n        String txt = doc.body().html();\n        Pattern p = Pattern.compile(Pattern.quote(pattern1) + &quot;(.*?)&quot; + Pattern.quote(pattern2));\n        Matcher m = p.matcher(txt);\n        // arres will contain the result\n        arres = new ArrayList&lt;String&gt;();\n        while (m.find()) {\n            // adding to the result\n            arres.add (m.group(1));\n\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n\n    }\n}     \n</code></pre>\n<p>What the variable txt should contain is a list of the search results, but I get a request to accept cookies.</p>\n<p>The solution does not need to include Jsoup, whatever works will be fine with me.</p>\n"},{"tags":["java","spring-boot","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694258948,"creation_date":1694258032,"answer_id":77071946,"question_id":76956544,"body_markdown":"Your getRequest: \r\n\r\n    @GetMapping(&quot;/runTimeOut&quot;)\r\n    @TimeLimiter(name = &quot;ly-service-timelimiter&quot;, fallbackMethod = &quot;fallFn&quot;)\r\n    public CompletableFuture&lt;Void&gt; String executeSample() {\r\n    \r\n    \tlog.info(&quot;Execute TimeOut EndPoint&quot;);\r\n    \tRequest request = Request.builder().build(); //Any class\r\n    \r\n    \treturn myService.myMethod(request);\t\r\n    }\r\n\r\nYour myMethod: \r\n\r\n    public CompletableFuture&lt;Void&gt; myMethod(Request request) {        \r\n    \treturn CompletableFuture.runAsync(() -&gt; {            \r\n    \t\tlog.info(&quot;Processing request&quot;, request);\r\n    \t\tThreadUtil.fakeRandomSleep(10000); \r\n    \t}\r\n    }\r\n\r\n\r\n\r\nShould work.\r\n","title":"Resilience4j and @timeLimiter annotation for timing out and cancel Thread - CompletableFuture","body":"<p>Your getRequest:</p>\n<pre><code>@GetMapping(&quot;/runTimeOut&quot;)\n@TimeLimiter(name = &quot;ly-service-timelimiter&quot;, fallbackMethod = &quot;fallFn&quot;)\npublic CompletableFuture&lt;Void&gt; String executeSample() {\n\n    log.info(&quot;Execute TimeOut EndPoint&quot;);\n    Request request = Request.builder().build(); //Any class\n\n    return myService.myMethod(request); \n}\n</code></pre>\n<p>Your myMethod:</p>\n<pre><code>public CompletableFuture&lt;Void&gt; myMethod(Request request) {        \n    return CompletableFuture.runAsync(() -&gt; {            \n        log.info(&quot;Processing request&quot;, request);\n        ThreadUtil.fakeRandomSleep(10000); \n    }\n}\n</code></pre>\n<p>Should work.</p>\n"},{"tags":[],"owner":{"account_id":219141,"reputation":3265,"user_id":475861,"accept_rate":88,"display_name":"yosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694619091,"creation_date":1694619091,"answer_id":77098508,"question_id":76956544,"body_markdown":"You have `ly-service-bulkhead` in annotation and `ly-bulkhead` in config.\r\n\r\nYou may also want to add `@CircuitBreaker` there.","title":"Resilience4j and @timeLimiter annotation for timing out and cancel Thread - CompletableFuture","body":"<p>You have <code>ly-service-bulkhead</code> in annotation and <code>ly-bulkhead</code> in config.</p>\n<p>You may also want to add <code>@CircuitBreaker</code> there.</p>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695196846,"creation_date":1695109536,"answer_id":77132580,"question_id":76956544,"body_markdown":"Refer to this similar Github issue raised [here][1].\r\n\r\n**Summary:**\r\n\r\n- `@TimeLimiter`, `@Bulkhead` doesn&#39;t support `CompletableFuture` at all.\r\n- You can&#39;t cancel a `CompletableFuture` via `@TimeLimiter`.\r\n- You will get an `TimeoutException` from `@TimeLimiter` but `CompletableFuture` will be still running.\r\n\r\nSo, nothing is missing from your side. Just that you can&#39;t cancel a `Future` as resilience4j **annotations/aspects** doesn&#39;t support it.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/resilience4j/resilience4j/issues/905","title":"Resilience4j and @timeLimiter annotation for timing out and cancel Thread - CompletableFuture","body":"<p>Refer to this similar Github issue raised <a href=\"https://github.com/resilience4j/resilience4j/issues/905\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Summary:</strong></p>\n<ul>\n<li><code>@TimeLimiter</code>, <code>@Bulkhead</code> doesn't support <code>CompletableFuture</code> at all.</li>\n<li>You can't cancel a <code>CompletableFuture</code> via <code>@TimeLimiter</code>.</li>\n<li>You will get an <code>TimeoutException</code> from <code>@TimeLimiter</code> but <code>CompletableFuture</code> will be still running.</li>\n</ul>\n<p>So, nothing is missing from your side. Just that you can't cancel a <code>Future</code> as resilience4j <strong>annotations/aspects</strong> doesn't support it.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695464830,"creation_date":1695463603,"answer_id":77162531,"question_id":76956544,"body_markdown":"You cannot cancel the running task if using `CompletableFuture` provided by JDK as it is its [limitation][1]. You have to use `Future` to do it. \r\n\r\nBut `@TimeLimiter` does not support on `Future` right now. That means you cannot use the annotation approach if you want to cancel a task once it is timeout. It is also mentioned in the resilience4j Github [issue][2] as follows : \r\n\r\n&gt; You can use a TimeLimiter to decorate a method which returns a Future. A future can be canceled.\r\nBut unfortunately Futures are not yet supported via annotations/aspects, but only via the functional style.\r\nWe tried to implement it, but supporting Future for TimeLimiter, Retry, Bulkhead, CircuitBreaker via annotations caused us some headaches.\r\n\r\nSo the easiest way is to represent the result of the long running task using `Future` and timeout it programmatically using its decorators approach instead of the annotation approach.\r\n\r\n\r\nSo first make the client can execute a long running task which its result is returned as Future : \r\n\r\n\r\n``` java\r\n\r\npublic class Client {\r\n\r\n    private ExecutorService executors = Executors.newFixedThreadPool(5);\r\n\r\n    public Future&lt;Void&gt; myMethod() {\r\n        return (Future&lt;Void&gt;) executors.submit(() -&gt; runSomeLongRunningTask());\r\n    }\r\n\r\n    private void runSomeLongRunningTask() {\r\n      // logic of the task here \r\n\r\n      // check if the task is cancelled here and throw exception if yes.\r\n    }\r\n}\r\n```\r\n\r\nYou have to use the `Thread.currentThread().isInterrupted()` to check if the long running task is cancelled and throw the exception if yes. \r\n\r\n\r\nThen in the service , the equivalent decorators approach to call the client is likes : \r\n\r\n\r\n```\r\npublic class Service  {\r\n\r\n     private ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\r\n     @Bulkhead(name = &quot;ly-service-bulkhead&quot;, fallbackMethod = &quot;fallFn&quot;, type = Bulkhead.Type.THREADPOOL)\r\n     public Future&lt;Void&gt; myMethod() {\r\n\r\n            TimeLimiterConfig config = TimeLimiterConfig.custom()\r\n                    .cancelRunningFuture(true)\r\n                    .timeoutDuration(Duration.ofMillis(900))\r\n                    .build();\r\n\r\n            TimeLimiter timeLimiter = TimeLimiter.of(&quot;ly-service-timelimiter&quot;, config);\r\n\r\n            Callable&lt;Void&gt; taskDecorateWithTimeout = () -&gt; {\r\n                try {              \r\n                    return timeLimiter.decorateFutureSupplier(() -&gt; client.myMethod()).call();\r\n                } catch (TimeoutException ex) {\r\n                    //manually call the fallback method in case of TimeoutException\r\n                    fallFn(ex);\r\n                    throw ex;\r\n                }\r\n            };\r\n            return executor.submit(taskDecorateWithTimeout);\r\n     }\r\n}\r\n```\r\n\r\nAnd the controller should not require any changes.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://nurkiewicz.com/2015/03/completablefuture-cant-be-interrupted.html?m=1\r\n  [2]: https://github.com/resilience4j/resilience4j/issues/905","title":"Resilience4j and @timeLimiter annotation for timing out and cancel Thread - CompletableFuture","body":"<p>You cannot cancel the running task if using <code>CompletableFuture</code> provided by JDK as it is its <a href=\"https://nurkiewicz.com/2015/03/completablefuture-cant-be-interrupted.html?m=1\" rel=\"nofollow noreferrer\">limitation</a>. You have to use <code>Future</code> to do it.</p>\n<p>But <code>@TimeLimiter</code> does not support on <code>Future</code> right now. That means you cannot use the annotation approach if you want to cancel a task once it is timeout. It is also mentioned in the resilience4j Github <a href=\"https://github.com/resilience4j/resilience4j/issues/905\" rel=\"nofollow noreferrer\">issue</a> as follows :</p>\n<blockquote>\n<p>You can use a TimeLimiter to decorate a method which returns a Future. A future can be canceled.\nBut unfortunately Futures are not yet supported via annotations/aspects, but only via the functional style.\nWe tried to implement it, but supporting Future for TimeLimiter, Retry, Bulkhead, CircuitBreaker via annotations caused us some headaches.</p>\n</blockquote>\n<p>So the easiest way is to represent the result of the long running task using <code>Future</code> and timeout it programmatically using its decorators approach instead of the annotation approach.</p>\n<p>So first make the client can execute a long running task which its result is returned as Future :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Client {\n\n    private ExecutorService executors = Executors.newFixedThreadPool(5);\n\n    public Future&lt;Void&gt; myMethod() {\n        return (Future&lt;Void&gt;) executors.submit(() -&gt; runSomeLongRunningTask());\n    }\n\n    private void runSomeLongRunningTask() {\n      // logic of the task here \n\n      // check if the task is cancelled here and throw exception if yes.\n    }\n}\n</code></pre>\n<p>You have to use the <code>Thread.currentThread().isInterrupted()</code> to check if the long running task is cancelled and throw the exception if yes.</p>\n<p>Then in the service , the equivalent decorators approach to call the client is likes :</p>\n<pre><code>public class Service  {\n\n     private ExecutorService executor = Executors.newCachedThreadPool();\n\n\n     @Bulkhead(name = &quot;ly-service-bulkhead&quot;, fallbackMethod = &quot;fallFn&quot;, type = Bulkhead.Type.THREADPOOL)\n     public Future&lt;Void&gt; myMethod() {\n\n            TimeLimiterConfig config = TimeLimiterConfig.custom()\n                    .cancelRunningFuture(true)\n                    .timeoutDuration(Duration.ofMillis(900))\n                    .build();\n\n            TimeLimiter timeLimiter = TimeLimiter.of(&quot;ly-service-timelimiter&quot;, config);\n\n            Callable&lt;Void&gt; taskDecorateWithTimeout = () -&gt; {\n                try {              \n                    return timeLimiter.decorateFutureSupplier(() -&gt; client.myMethod()).call();\n                } catch (TimeoutException ex) {\n                    //manually call the fallback method in case of TimeoutException\n                    fallFn(ex);\n                    throw ex;\n                }\n            };\n            return executor.submit(taskDecorateWithTimeout);\n     }\n}\n</code></pre>\n<p>And the controller should not require any changes.</p>\n"}],"owner":{"account_id":3995956,"reputation":179,"user_id":3293515,"display_name":"JPRLCol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1695464830,"creation_date":1692734480,"question_id":76956544,"body_markdown":"I am having a hard time to cancel/interrupt a `CompletableFuture` task,  so it times out on the controller, but it doest stop the execution of the client even it takes more time\r\n\r\nWhat I am missing? to be able to cancel my client execution on timeout\r\n\r\nI have the next service:\r\n\r\n``` java\r\n    @TimeLimiter(name = &quot;ly-service-timelimiter&quot;, fallbackMethod = &quot;fallFn&quot;)\r\n    @Bulkhead(name = &quot;ly-service-bulkhead&quot;, fallbackMethod = &quot;fallFn&quot;, type = Bulkhead.Type.THREADPOOL)\r\n    @Override\r\n    public CompletableFuture&lt;Void&gt; myMethod(Request request) throws Exception {\r\n        try {\r\n            log.info(&quot;MyMethod Service: {}&quot;, request);\r\n            return client.myMethod(request);\r\n        } catch (RuntimeException e) {\r\n            log.info(&quot;Exception&quot;, request);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nThe client \r\n\r\n``` java\r\n    public CompletableFuture&lt;Void&gt; myMethod(Request request) {\r\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            if (future.isCancelled()) {\r\n                log.info(&quot;MyMethod was cancelled before execution.&quot;);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                log.info(&quot;Processing request&quot;, request);\r\n                ThreadUtil.fakeRandomSleep(10000); // Simulating work\r\n\r\n                if (future.isCancelled()) {\r\n                    log.info(&quot;Processing was cancelled during execution.&quot;);\r\n                } else {\r\n                    log.info(&quot;Completed routing with TimeOut&quot;);\r\n                    future.complete(null);\r\n                }\r\n            } catch (Exception e) {\r\n                log.info(&quot;completeExceptionally......&quot;);\r\n                future.completeExceptionally(e);\r\n            }\r\n        });\r\n\r\n        return future;\r\n    }\r\n```\r\nThe controller:\r\n\r\n```java\r\n\r\n    @GetMapping(&quot;/runTimeOut&quot;)\r\n    public @ResponseBody String executeSample() throws ExecutionException, InterruptedException {\r\n\r\n        log.info(&quot;Execute TimeOut EndPoint&quot;);\r\n        Request request = Request.builder().build(); //Any class\r\n        try {\r\n            myService.myMethod(request).get();\r\n        }catch (ExecutionException  ex){\r\n\r\n\r\n            if(ex.getCause() instanceof java.util.concurrent.TimeoutException){\r\n               \r\n                log.info(&quot;TimeoutException occurred&quot;);\r\n            }\r\n            return &quot;Failed&quot;;\r\n        }\r\n\r\n        return &quot;OK&quot;;\r\n    }\r\n```\r\n\r\nMy config is:\r\n\r\n```yml\r\nresilience4j:\r\n  bulkhead:\r\n    configs:\r\n      default:\r\n        max-concurrent-calls: 2\r\n        max-wait-duration: 0ms\r\n    instances:\r\n      ly-service-bulkhead:\r\n        base-config: default\r\n  timelimiter:\r\n    instances:\r\n      ly-service-timelimiter:\r\n        timeoutDuration: 900ms\r\n        cancel-running-future: true\r\n```\r\n\r\n\r\nMy libraries \r\n\r\n``` xml\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n...\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```","title":"Resilience4j and @timeLimiter annotation for timing out and cancel Thread - CompletableFuture","body":"<p>I am having a hard time to cancel/interrupt a <code>CompletableFuture</code> task,  so it times out on the controller, but it doest stop the execution of the client even it takes more time</p>\n<p>What I am missing? to be able to cancel my client execution on timeout</p>\n<p>I have the next service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @TimeLimiter(name = &quot;ly-service-timelimiter&quot;, fallbackMethod = &quot;fallFn&quot;)\n    @Bulkhead(name = &quot;ly-service-bulkhead&quot;, fallbackMethod = &quot;fallFn&quot;, type = Bulkhead.Type.THREADPOOL)\n    @Override\n    public CompletableFuture&lt;Void&gt; myMethod(Request request) throws Exception {\n        try {\n            log.info(&quot;MyMethod Service: {}&quot;, request);\n            return client.myMethod(request);\n        } catch (RuntimeException e) {\n            log.info(&quot;Exception&quot;, request);\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The client</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public CompletableFuture&lt;Void&gt; myMethod(Request request) {\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n\n        CompletableFuture.runAsync(() -&gt; {\n            if (future.isCancelled()) {\n                log.info(&quot;MyMethod was cancelled before execution.&quot;);\n                return;\n            }\n\n            try {\n                log.info(&quot;Processing request&quot;, request);\n                ThreadUtil.fakeRandomSleep(10000); // Simulating work\n\n                if (future.isCancelled()) {\n                    log.info(&quot;Processing was cancelled during execution.&quot;);\n                } else {\n                    log.info(&quot;Completed routing with TimeOut&quot;);\n                    future.complete(null);\n                }\n            } catch (Exception e) {\n                log.info(&quot;completeExceptionally......&quot;);\n                future.completeExceptionally(e);\n            }\n        });\n\n        return future;\n    }\n</code></pre>\n<p>The controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @GetMapping(&quot;/runTimeOut&quot;)\n    public @ResponseBody String executeSample() throws ExecutionException, InterruptedException {\n\n        log.info(&quot;Execute TimeOut EndPoint&quot;);\n        Request request = Request.builder().build(); //Any class\n        try {\n            myService.myMethod(request).get();\n        }catch (ExecutionException  ex){\n\n\n            if(ex.getCause() instanceof java.util.concurrent.TimeoutException){\n               \n                log.info(&quot;TimeoutException occurred&quot;);\n            }\n            return &quot;Failed&quot;;\n        }\n\n        return &quot;OK&quot;;\n    }\n</code></pre>\n<p>My config is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resilience4j:\n  bulkhead:\n    configs:\n      default:\n        max-concurrent-calls: 2\n        max-wait-duration: 0ms\n    instances:\n      ly-service-bulkhead:\n        base-config: default\n  timelimiter:\n    instances:\n      ly-service-timelimiter:\n        timeoutDuration: 900ms\n        cancel-running-future: true\n</code></pre>\n<p>My libraries</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n...\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","android","google-cloud-platform","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695463720,"creation_date":1695463720,"answer_id":77162542,"question_id":77162196,"body_markdown":"There is no operation to delete a folder in the Firebase SDK for Cloud Storage. You will have to [list the files](https://firebase.google.com/docs/storage/android/list-files) in the folder, and then delete each file individually. ","title":"How to delete a folder of the FirebaseStorage in Android","body":"<p>There is no operation to delete a folder in the Firebase SDK for Cloud Storage. You will have to <a href=\"https://firebase.google.com/docs/storage/android/list-files\" rel=\"nofollow noreferrer\">list the files</a> in the folder, and then delete each file individually.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695463720,"creation_date":1695457079,"question_id":77162196,"body_markdown":"I am using **FirebaseStorage** to store the pictures users upload in my application. But the user has the power to delete them too. And when they do that I want to remove the pictures of the FirebaseStorage as well. For this I have created a folder child in FirebaseStorage and the name of that child is the **authID** of that user. All the pictures he uploads will be stored in that folder specifically. And I want to remove the folder when it&#39;s necessary so that the pictures within the folder will be removed too. The picture might clear what I&#39;m trying to say-\r\n[![Storage Path][1]][1]\r\n\r\nBut seems like it&#39;s not possible. I saw another similar questions where they said it&#39;s not possible for **FirebaseStorage**. But those questions are pretty old. Is it still impossible to do? If so, is there any other ways to do this task? I tried doing this but it didn&#39;t work-\r\n\r\n    StorageReference sr = FirebaseStorage.getInstance().getReference();\r\n                        StorageReference sr2 = sr.child(&quot;status&quot;).child(FirebaseAuth.getInstance().getUid());\r\n                        sr2.delete().addOnSuccessListener(unused -&gt; {\r\n                            Toast.makeText(view.getContext(), &quot;Status Removed&quot;, Toast.LENGTH_SHORT).show();\r\n                        });\r\n\r\nIs there any way to delete a folder from FirebaseStorage? Thank You.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rtxY.png","title":"How to delete a folder of the FirebaseStorage in Android","body":"<p>I am using <strong>FirebaseStorage</strong> to store the pictures users upload in my application. But the user has the power to delete them too. And when they do that I want to remove the pictures of the FirebaseStorage as well. For this I have created a folder child in FirebaseStorage and the name of that child is the <strong>authID</strong> of that user. All the pictures he uploads will be stored in that folder specifically. And I want to remove the folder when it's necessary so that the pictures within the folder will be removed too. The picture might clear what I'm trying to say-\n<a href=\"https://i.stack.imgur.com/6rtxY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rtxY.png\" alt=\"Storage Path\" /></a></p>\n<p>But seems like it's not possible. I saw another similar questions where they said it's not possible for <strong>FirebaseStorage</strong>. But those questions are pretty old. Is it still impossible to do? If so, is there any other ways to do this task? I tried doing this but it didn't work-</p>\n<pre><code>StorageReference sr = FirebaseStorage.getInstance().getReference();\n                    StorageReference sr2 = sr.child(&quot;status&quot;).child(FirebaseAuth.getInstance().getUid());\n                    sr2.delete().addOnSuccessListener(unused -&gt; {\n                        Toast.makeText(view.getContext(), &quot;Status Removed&quot;, Toast.LENGTH_SHORT).show();\n                    });\n</code></pre>\n<p>Is there any way to delete a folder from FirebaseStorage? Thank You.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","entity"],"answers":[{"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695462922,"creation_date":1695462922,"answer_id":77162486,"question_id":72141785,"body_markdown":"I think you can implement AOP in this case, like using custom annotation. so configure the AOP when custom annotation used in a specific function. it will trigger the AOP to update the entity. or you can config to in package level, so every function in that package call will trigger AOP to update the entity.","title":"Is there a @LastAccessedTimestamp in JPA","body":"<p>I think you can implement AOP in this case, like using custom annotation. so configure the AOP when custom annotation used in a specific function. it will trigger the AOP to update the entity. or you can config to in package level, so every function in that package call will trigger AOP to update the entity.</p>\n"}],"owner":{"account_id":5071729,"reputation":157,"user_id":4070318,"display_name":"Niteesh Bhargava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695462922,"creation_date":1651841617,"question_id":72141785,"body_markdown":"I want to store the last read time in a Date column when ever someone tries to load or fetch(select query, findBy methods) a entity\r\n\r\nI had a look at `@PostLoad` as explained [in this site][1] . Have following questions :-\r\n\r\n(a)Just want to know if this is safe to Update entity in `@PostLoad`\r\n\r\n(b) Is there something like `@LastAcessedTime` in JPA similar to `@UpdateTimestamp` ?\r\n\r\n    import lombok.Data;\r\n    import org.hibernate.annotations.CreationTimestamp;\r\n    import org.hibernate.annotations.UpdateTimestamp;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    @Entity\r\n    public class SensitiveInfo {\r\n        @Id\r\n        private Long id; \r\n        \r\n        private String data;\r\n        \r\n        @CreationTimestamp\r\n        private LocalDate createdDate;\r\n    \r\n        @UpdateTimestamp\r\n        private LocalDate updationTimeStamp;\r\n\r\n        // Is there a JPA automatic way to Update this field any time hibernate loads this entity ?\r\n        private LocalDate updationTimeStamp;\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-entity-lifecycle-events","title":"Is there a @LastAccessedTimestamp in JPA","body":"<p>I want to store the last read time in a Date column when ever someone tries to load or fetch(select query, findBy methods) a entity</p>\n<p>I had a look at <code>@PostLoad</code> as explained <a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">in this site</a> . Have following questions :-</p>\n<p>(a)Just want to know if this is safe to Update entity in <code>@PostLoad</code></p>\n<p>(b) Is there something like <code>@LastAcessedTime</code> in JPA similar to <code>@UpdateTimestamp</code> ?</p>\n<pre><code>import lombok.Data;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.time.LocalDate;\n\n@Data\n@Entity\npublic class SensitiveInfo {\n    @Id\n    private Long id; \n    \n    private String data;\n    \n    @CreationTimestamp\n    private LocalDate createdDate;\n\n    @UpdateTimestamp\n    private LocalDate updationTimeStamp;\n\n    // Is there a JPA automatic way to Update this field any time hibernate loads this entity ?\n    private LocalDate updationTimeStamp;\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1695371997,"post_id":77155637,"comment_id":136018311,"body_markdown":"Well, I suggest you stop using `Date`, `Calendar` and `SimpleDateFormat`. Those are obsolete classes. Instead you could use classes from the `java.time` package.","body":"Well, I suggest you stop using <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. Those are obsolete classes. Instead you could use classes from the <code>java.time</code> package."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1695372138,"post_id":77155637,"comment_id":136018342,"body_markdown":"Also, you seem to be using `String`s where, IMHO, you shouldn&#39;t. For example, the variables `timestamp` and `expiryInDays` should be numeric.","body":"Also, you seem to be using <code>String</code>s where, IMHO, you shouldn&#39;t. For example, the variables <code>timestamp</code> and <code>expiryInDays</code> should be numeric."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695383845,"post_id":77155637,"comment_id":136020739,"body_markdown":"@MCEmperor Nothing I know, obviously, the numbers you mention *may* come in as strings, for example from a request from another system or from configuration. Otherwise you are correct, of course.","body":"@MCEmperor Nothing I know, obviously, the numbers you mention <i>may</i> come in as strings, for example from a request from another system or from configuration. Otherwise you are correct, of course."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695384520,"post_id":77155637,"comment_id":136020873,"body_markdown":"While your code is unnecessarily complicated and as others have said, its bad that it uses the troublesome and outdated date-time classes, I cant spot any bug in it. Theoretical (far-fetched?) reasons for your observed date include (1) Your `Calendar` object is not an instance of `GregorianCalendar` (though this ought not make any great difference) (2) The value of `expiryInDays` is not 90 as you think, but 2 or 3.","body":"While your code is unnecessarily complicated and as others have said, its bad that it uses the troublesome and outdated date-time classes, I cant spot any bug in it. Theoretical (far-fetched?) reasons for your observed date include (1) Your <code>Calendar</code> object is not an instance of <code>GregorianCalendar</code> (though this ought not make any great difference) (2) The value of <code>expiryInDays</code> is not 90 as you think, but 2 or 3."},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":1,"creation_date":1695549834,"post_id":77155637,"comment_id":136036995,"body_markdown":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated.","body":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695373347,"creation_date":1695373347,"answer_id":77156214,"question_id":77155637,"body_markdown":"You should be controlling the time zone / zone id this code uses, the server does not necessarily have the same one as your system.\r\n\r\nI would do that by using `java.time` and separating the validation from any debug / info output.\r\n\r\nJust use a method that tells you if the URL has expired or not, maybe like this:\r\n\r\n```Java\r\npublic static boolean hasExpired(Instant urlCreatedAt, Instant now) {\r\n\tInstant urlExpiresAt = urlCreatedAt.plus(90, ChronoUnit.DAYS);\r\n\treturn now.isAfter(urlExpiresAt);\r\n}\r\n```\r\n\r\nThen provide some timestamps, pass them to the method, output their values in date-time style in a specific `ZoneId`:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// provide some arbitrary url creation times\r\n\tList&lt;Long&gt; urlCreationTimes = List.of(\r\n\t\t\t\t1635364328794L,\r\n\t\t\t\t1655364328794L,\r\n\t\t\t\t1685364328794L,\r\n\t\t\t\t1695364328794L,\r\n\t\t\t\t1795364328794L\r\n\t\t\t);\r\n\t// get now\r\n\tInstant now = Instant.now();\r\n\t// define the zone you want to display the expiry date\r\n\tZoneId serverZone = ZoneId.of(&quot;Australia/Brisbane&quot;);\r\n\t// check for each creation time if it has expired\r\n\turlCreationTimes.forEach(creationTime -&gt; {\r\n\t\t// create an Instant from the creation timestamp\r\n\t\tInstant createdAt = Instant.ofEpochMilli(creationTime);\r\n\t\t// check if the URL has expired and print out some information\r\n\t\tif (hasExpired(createdAt, now)) {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\tString.format(\r\n\t\t\t\t\t&quot;The Activation URL has expired on %s&quot;,\r\n\t\t\t\t\tcreatedAt.plus(90, ChronoUnit.DAYS)\r\n\t\t\t\t\t\t\t .atZone(serverZone)\r\n\t\t\t\t   \t\t\t .format(dtfDate)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\tString.format(&quot;The Activation URL will expire on %s&quot;,\r\n\t\t   \t\t\t \tcreatedAt.plus(90, ChronoUnit.DAYS)\r\n\t\t\t\t\t\t\t\t .atZone(serverZone)\r\n\t\t\t\t\t   \t\t\t .format(dtfDate))\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n\r\nThis will output the *date plus offset from UTC* the URL either has expired or will expire\r\n\r\n```none\r\nThe Activation URL has expired on 26/01/22 (+10:00)\r\nThe Activation URL has expired on 14/09/22 (+10:00)\r\nThe Activation URL has expired on 27/08/23 (+10:00)\r\nThe Activation URL will expire on 21/12/23 (+10:00)\r\nThe Activation URL will expire on 21/02/27 (+10:00)\r\n```\r\n\r\nYou can also use the default zone id of the system by `ZoneId.systemDefault()` on the server and on your system. They are not necessarily the same and with an offset of ten hours from UTC, there&#39;s a good chance the expiry date will differ from zone id to zone id.","title":"URL expiry date calculated incorrectly on server","body":"<p>You should be controlling the time zone / zone id this code uses, the server does not necessarily have the same one as your system.</p>\n<p>I would do that by using <code>java.time</code> and separating the validation from any debug / info output.</p>\n<p>Just use a method that tells you if the URL has expired or not, maybe like this:</p>\n<pre><code>public static boolean hasExpired(Instant urlCreatedAt, Instant now) {\n    Instant urlExpiresAt = urlCreatedAt.plus(90, ChronoUnit.DAYS);\n    return now.isAfter(urlExpiresAt);\n}\n</code></pre>\n<p>Then provide some timestamps, pass them to the method, output their values in date-time style in a specific <code>ZoneId</code>:</p>\n<pre><code>public static void main(String[] args) {\n    // provide some arbitrary url creation times\n    List&lt;Long&gt; urlCreationTimes = List.of(\n                1635364328794L,\n                1655364328794L,\n                1685364328794L,\n                1695364328794L,\n                1795364328794L\n            );\n    // get now\n    Instant now = Instant.now();\n    // define the zone you want to display the expiry date\n    ZoneId serverZone = ZoneId.of(&quot;Australia/Brisbane&quot;);\n    // check for each creation time if it has expired\n    urlCreationTimes.forEach(creationTime -&gt; {\n        // create an Instant from the creation timestamp\n        Instant createdAt = Instant.ofEpochMilli(creationTime);\n        // check if the URL has expired and print out some information\n        if (hasExpired(createdAt, now)) {\n            System.out.println(\n                String.format(\n                    &quot;The Activation URL has expired on %s&quot;,\n                    createdAt.plus(90, ChronoUnit.DAYS)\n                             .atZone(serverZone)\n                             .format(dtfDate)\n                )\n            );\n        } else {\n            System.out.println(\n                String.format(&quot;The Activation URL will expire on %s&quot;,\n                        createdAt.plus(90, ChronoUnit.DAYS)\n                                 .atZone(serverZone)\n                                 .format(dtfDate))\n            );\n        }\n    });\n}\n</code></pre>\n<p>This will output the <em>date plus offset from UTC</em> the URL either has expired or will expire</p>\n<pre class=\"lang-none prettyprint-override\"><code>The Activation URL has expired on 26/01/22 (+10:00)\nThe Activation URL has expired on 14/09/22 (+10:00)\nThe Activation URL has expired on 27/08/23 (+10:00)\nThe Activation URL will expire on 21/12/23 (+10:00)\nThe Activation URL will expire on 21/02/27 (+10:00)\n</code></pre>\n<p>You can also use the default zone id of the system by <code>ZoneId.systemDefault()</code> on the server and on your system. They are not necessarily the same and with an offset of ten hours from UTC, there's a good chance the expiry date will differ from zone id to zone id.</p>\n"}],"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695461834,"creation_date":1695367944,"question_id":77155637,"body_markdown":"I am trying to solve an issue where an activation URL in an email to a user is getting expired within 3 days. The expiry date is set to 90 days. When a sample java code is executed, it shows the expiry date correctly, post 90 days. However, on the server where the application is deployed, the URL is expiring within 3 days of user receiving the email with the URL to activate.\r\n\r\nFrom the server log:\r\n```none\r\nPlain Text Output=webChannel=GMD_XXX;fundIdentifier=XXXX;email=XXX-X.XXX@XX.com;userName=Linkexpire.Xie;timestamp=1695364328794;\r\nData fom encryptedToken --&gt; fundIdentifier:XXXX -- userName:Linkexpire.Xie -- webChannel:GMD_XXX -- timeStamp:**1695364328794** -- email:XX-XX.XX@XX.com\r\nThe UID is : XXXX\r\nuserName to be searched is Linkexpire.Xie and fundName is van\r\nFilter is cn=Linkexpire.Xie\r\nisValidToken--&gt;true\r\neclaimsAccountStatusENABLED\r\nInside IN-ACTIVE\r\nThe Activation URL will expire on 24/09/23\r\n```\r\n\r\nAs seen from the above server log:\r\nThe date on which the URL in email was clicked on by the user was at: 1695364328794 ( which translates to Friday, September 22, 2023 4:32:08.794 PM GMT+10:00 )\r\n \r\nThe URL expiry date shows as: 24/09/23\r\n\r\ni,e within 2 days the URL is getting expired.\r\n\r\nNow the actual java code has the expiry date setting to 90 days from the date the email with the URL was generated.\r\n\r\nBelow is a sample code reproduced:\r\n\r\n```Java\r\npackage com;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.text.SimpleDateFormat;\r\n\r\npublic class TestApplication {\r\n    \r\n\tpublic static void main(String[] args) {\r\n\r\n\t  String timestamp = &quot;1695364328794&quot;; //Friday, September 22, 2023 4:32:08.794 PM\r\n\r\n      validateActivationURLExpiry(timestamp);\r\n\t}\r\n\r\n\tpublic static void validateActivationURLExpiry(String timestamp)  {\r\n\t    long timestampValue = Long.parseLong(timestamp);\r\n\t    System.out.println(&quot;timestampValue:&quot; + timestampValue);\r\n\t    Date now = new Date();\r\n\t    String expiryInDays = &quot;90&quot;;\r\n\t    int expiryInDay = Integer.parseInt(expiryInDays);\r\n\r\n\t    Calendar calendar = Calendar.getInstance();\r\n\t    calendar.setTimeInMillis(timestampValue);\r\n\t    calendar.add(Calendar.DAY_OF_YEAR, expiryInDay);\r\n\t    long timestampValueAfter90Days = calendar.getTime().getTime();\r\n\t    System.out.println(&quot;timestampValueAfter90Days:&quot; + timestampValueAfter90Days);\t    \r\n\r\n\t    // Code added to identify the date of URL expiry.\r\n\t    Date date = new Date(timestampValueAfter90Days);\r\n\t    SimpleDateFormat df2 = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n\t    String dateText = df2.format(date);\r\n\t    System.out.println(&quot;The Activation URL will expire on &quot; + dateText);\r\n\r\n\t    if (now.getTime() &gt; timestampValueAfter90Days) {\r\n\t    \tSystem.out.println(&quot;URL has expired already &quot;);\r\n\t        //throw new UserManagementException(new Exception(&quot;URL has expired already &quot;));\r\n\t    }\r\n\t}\t\r\n}\r\n```\r\n\r\n\r\nThe result of this program shows the URL expiry date correctly, i,e Post 90 days:\r\n```none\r\ntimestampValue:1695364328794\r\ntimestampValueAfter90Days:1703136728794\r\nThe Activation URL will expire on 21/12/23\r\n```\r\nThe exact code is deployed on the server, not sure on the server why it&#39;s expiring within 3 days?.\r\n\r\nAny help on this would be appreciated please..\r\n\r\nThanks\r\n\r\nRegards,\r\nR\r\n","title":"URL expiry date calculated incorrectly on server","body":"<p>I am trying to solve an issue where an activation URL in an email to a user is getting expired within 3 days. The expiry date is set to 90 days. When a sample java code is executed, it shows the expiry date correctly, post 90 days. However, on the server where the application is deployed, the URL is expiring within 3 days of user receiving the email with the URL to activate.</p>\n<p>From the server log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Plain Text Output=webChannel=GMD_XXX;fundIdentifier=XXXX;email=XXX-X.XXX@XX.com;userName=Linkexpire.Xie;timestamp=1695364328794;\nData fom encryptedToken --&gt; fundIdentifier:XXXX -- userName:Linkexpire.Xie -- webChannel:GMD_XXX -- timeStamp:**1695364328794** -- email:XX-XX.XX@XX.com\nThe UID is : XXXX\nuserName to be searched is Linkexpire.Xie and fundName is van\nFilter is cn=Linkexpire.Xie\nisValidToken--&gt;true\neclaimsAccountStatusENABLED\nInside IN-ACTIVE\nThe Activation URL will expire on 24/09/23\n</code></pre>\n<p>As seen from the above server log:\nThe date on which the URL in email was clicked on by the user was at: 1695364328794 ( which translates to Friday, September 22, 2023 4:32:08.794 PM GMT+10:00 )</p>\n<p>The URL expiry date shows as: 24/09/23</p>\n<p>i,e within 2 days the URL is getting expired.</p>\n<p>Now the actual java code has the expiry date setting to 90 days from the date the email with the URL was generated.</p>\n<p>Below is a sample code reproduced:</p>\n<pre><code>package com;\n\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.text.SimpleDateFormat;\n\npublic class TestApplication {\n    \n    public static void main(String[] args) {\n\n      String timestamp = &quot;1695364328794&quot;; //Friday, September 22, 2023 4:32:08.794 PM\n\n      validateActivationURLExpiry(timestamp);\n    }\n\n    public static void validateActivationURLExpiry(String timestamp)  {\n        long timestampValue = Long.parseLong(timestamp);\n        System.out.println(&quot;timestampValue:&quot; + timestampValue);\n        Date now = new Date();\n        String expiryInDays = &quot;90&quot;;\n        int expiryInDay = Integer.parseInt(expiryInDays);\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(timestampValue);\n        calendar.add(Calendar.DAY_OF_YEAR, expiryInDay);\n        long timestampValueAfter90Days = calendar.getTime().getTime();\n        System.out.println(&quot;timestampValueAfter90Days:&quot; + timestampValueAfter90Days);       \n\n        // Code added to identify the date of URL expiry.\n        Date date = new Date(timestampValueAfter90Days);\n        SimpleDateFormat df2 = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\n        String dateText = df2.format(date);\n        System.out.println(&quot;The Activation URL will expire on &quot; + dateText);\n\n        if (now.getTime() &gt; timestampValueAfter90Days) {\n            System.out.println(&quot;URL has expired already &quot;);\n            //throw new UserManagementException(new Exception(&quot;URL has expired already &quot;));\n        }\n    }   \n}\n</code></pre>\n<p>The result of this program shows the URL expiry date correctly, i,e Post 90 days:</p>\n<pre class=\"lang-none prettyprint-override\"><code>timestampValue:1695364328794\ntimestampValueAfter90Days:1703136728794\nThe Activation URL will expire on 21/12/23\n</code></pre>\n<p>The exact code is deployed on the server, not sure on the server why it's expiring within 3 days?.</p>\n<p>Any help on this would be appreciated please..</p>\n<p>Thanks</p>\n<p>Regards,\nR</p>\n"},{"tags":["java","android","xml","build","android-databinding"],"comments":[{"owner":{"account_id":29514668,"reputation":1,"user_id":22618889,"display_name":"Impossible guy"},"score":0,"creation_date":1695455001,"post_id":77162081,"comment_id":136029245,"body_markdown":"Here are some relevant images&lt;https://i.stack.imgur.com/wuv4N.png&gt;\n&lt;https://i.stack.imgur.com/vqJMq.png&gt;\n&lt;https://i.stack.imgur.com/HGVZo.png&gt;\n&lt;https://i.stack.imgur.com/NpYpv.png&gt;\n&lt;https://i.stack.imgur.com/Ceyki.png&gt;","body":"Here are some relevant images&lt;<a href=\"https://i.stack.imgur.com/wuv4N.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/wuv4N.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/vqJMq.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/vqJMq.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/HGVZo.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/HGVZo.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/NpYpv.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/NpYpv.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/Ceyki.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Ceyki.png</a>&gt;"},{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":0,"creation_date":1695482241,"post_id":77162081,"comment_id":136031683,"body_markdown":"Please post your code snippts, warning, errors in here.","body":"Please post your code snippts, warning, errors in here."}],"answers":[{"tags":[],"owner":{"account_id":26299353,"reputation":22,"user_id":19965051,"display_name":"Davit Badalyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461698,"creation_date":1695461698,"answer_id":77162429,"question_id":77162081,"body_markdown":"The build folder in Android Studio is a special folder that contains files that are generated automatically when you build your app. These files are essential for your app to run, so you should never edit them manually.\r\n\r\nIf you&#39;re getting errors in the build folder after renaming class files, methods, or variables, it&#39;s likely that some of the generated files are out of date. This can happen if you make changes to your code without rebuilding your app. An easy fix for this would be cleaning the project. If you still have the same error, try restarting AS.\r\n\r\nAlso, make sure you are updating the data binding expressions for the layout files, perhaps you renamed one and forgot to change the data binding.\r\n","title":"Android Studio: Build folder in app directory erroring out","body":"<p>The build folder in Android Studio is a special folder that contains files that are generated automatically when you build your app. These files are essential for your app to run, so you should never edit them manually.</p>\n<p>If you're getting errors in the build folder after renaming class files, methods, or variables, it's likely that some of the generated files are out of date. This can happen if you make changes to your code without rebuilding your app. An easy fix for this would be cleaning the project. If you still have the same error, try restarting AS.</p>\n<p>Also, make sure you are updating the data binding expressions for the layout files, perhaps you renamed one and forgot to change the data binding.</p>\n"}],"owner":{"account_id":29514668,"reputation":1,"user_id":22618889,"display_name":"Impossible guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695461698,"creation_date":1695454730,"question_id":77162081,"body_markdown":"I am getting multiple errors in various files in the build folder, which is labeled with &quot;Files under the &#39;build&#39; folder are generated and should not be edited.&quot; I have a hunch that this is happening because I renamed a bunch of class files, methods, and variables to organize the project into an MVVM structure. I am attempting to use data binding if that is relevant.\r\n\r\nIf these files are automatically generated, why are they causing me errors and not allowing my app to run? and how would I go about fixing this?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried searching google for my issues, editing the affected files in the build folder, looking through build.gradle for any errors (probably missed something), syncing project with gradle.","title":"Android Studio: Build folder in app directory erroring out","body":"<p>I am getting multiple errors in various files in the build folder, which is labeled with &quot;Files under the 'build' folder are generated and should not be edited.&quot; I have a hunch that this is happening because I renamed a bunch of class files, methods, and variables to organize the project into an MVVM structure. I am attempting to use data binding if that is relevant.</p>\n<p>If these files are automatically generated, why are they causing me errors and not allowing my app to run? and how would I go about fixing this?</p>\n<p>I've tried searching google for my issues, editing the affected files in the build folder, looking through build.gradle for any errors (probably missed something), syncing project with gradle.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":24150,"reputation":3059,"user_id":61248,"accept_rate":68,"display_name":"Grumblesaurus"},"score":1,"creation_date":1569950108,"post_id":58189462,"comment_id":102758620,"body_markdown":"Run two regexes.  The first to catch the common patterns, and the second to filter out ones that are all numbers.","body":"Run two regexes.  The first to catch the common patterns, and the second to filter out ones that are all numbers."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1569950463,"post_id":58189462,"comment_id":102758756,"body_markdown":"Why do you want to validate email addresses (with regex)? What is special about numbers before the &#39;@&#39; character? If you want to check if an email is valid you send an email for confirmation.","body":"Why do you want to validate email addresses (with regex)? What is special about numbers before the &#39;@&#39; character? If you want to check if an email is valid you send an email for confirmation."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1569950992,"post_id":58189462,"comment_id":102758974,"body_markdown":"Accept apostrophes too please!","body":"Accept apostrophes too please!"},{"owner":{"account_id":16721080,"reputation":398,"user_id":12085985,"display_name":"kulsin"},"score":0,"creation_date":1569951889,"post_id":58189462,"comment_id":102759314,"body_markdown":"Part of your question is answered here [enter link description here](https://stackoverflow.com/questions/36159017/regex-for-alphanumeric-characters-but-not-only-numeric)","body":"Part of your question is answered here <a href=\"https://stackoverflow.com/questions/36159017/regex-for-alphanumeric-characters-but-not-only-numeric\">enter link description here</a>"}],"answers":[{"tags":[],"owner":{"account_id":7953915,"reputation":597,"user_id":6003901,"display_name":"abby37"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569950755,"creation_date":1569950755,"answer_id":58189663,"question_id":58189462,"body_markdown":"You can use this regex to validate your condition\r\n\r\n```\r\n^\\w*?[a-zA-Z]\\w+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z\r\n```\r\n\r\n[regex][1] to validate above condition.\r\n\r\n\r\n  [1]: https://regex101.com/r/j8AlYE/1","title":"Email Regex validation","body":"<p>You can use this regex to validate your condition</p>\n\n<pre><code>^\\w*?[a-zA-Z]\\w+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/j8AlYE/1\" rel=\"nofollow noreferrer\">regex</a> to validate above condition.</p>\n"},{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569951323,"creation_date":1569951323,"answer_id":58189773,"question_id":58189462,"body_markdown":"I have modified regex the one provided in the question.\r\n\r\n    [a-zA-Z]+[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]*[(a-zA-Z0-9)]+@[(a-zA-Z)]+\\.[(a-zA-Z)]{2,3}\r\n\r\nI have added [a-zA-Z]+ at the beginning to ensure the email address doesn&#39;t start with numbers. If the email address can start with the special symbol, make sure you update it in the first block.","title":"Email Regex validation","body":"<p>I have modified regex the one provided in the question.</p>\n\n<pre><code>[a-zA-Z]+[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]*[(a-zA-Z0-9)]+@[(a-zA-Z)]+\\.[(a-zA-Z)]{2,3}\n</code></pre>\n\n<p>I have added [a-zA-Z]+ at the beginning to ensure the email address doesn't start with numbers. If the email address can start with the special symbol, make sure you update it in the first block.</p>\n"},{"tags":[],"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569952029,"creation_date":1569951565,"answer_id":58189815,"question_id":58189462,"body_markdown":"Using regex for email can be problematic. Emails are not as simple as you think - there are many valid characters. Ideally you should let the browser do it `input[type=&quot;email&quot;]` and send your users an activation email in order to prove that the email address is valid but I understand that there may be a legitimate need to validate the address on the server.\r\n\r\nThere&#39;s useful info here: https://stackoverflow.com/a/201378/1921385\r\n\r\n**Still need an rx?**\r\n\r\nAccording to https://emailregex.com/ the regex used by W3C to validate an `input[type=email]` is:\r\n\r\n    /^[a-zA-Z0-9.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nSo you could use this and just take out the number portion:\r\n\r\n    /^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nHave a play at [regex101.com](https://regex101.com/r/j8AlYE/2)\r\n\r\nHere&#39;s a demo:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    input {border:10px solid red;}\r\n    input:valid {border-color:green;}\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;text&quot; required=&quot;required&quot; pattern=&quot;^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$&quot; placeholder=&quot;type=text, using a pattern&quot; /&gt;\r\n    &lt;input type=&quot;email&quot; required=&quot;required&quot; placeholder=&quot;type=email, no pattern here&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Email Regex validation","body":"<p>Using regex for email can be problematic. Emails are not as simple as you think - there are many valid characters. Ideally you should let the browser do it <code>input[type=\"email\"]</code> and send your users an activation email in order to prove that the email address is valid but I understand that there may be a legitimate need to validate the address on the server.</p>\n\n<p>There's useful info here: <a href=\"https://stackoverflow.com/a/201378/1921385\">https://stackoverflow.com/a/201378/1921385</a></p>\n\n<p><strong>Still need an rx?</strong></p>\n\n<p>According to <a href=\"https://emailregex.com/\" rel=\"nofollow noreferrer\">https://emailregex.com/</a> the regex used by W3C to validate an <code>input[type=email]</code> is:</p>\n\n<pre><code>/^[a-zA-Z0-9.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n\n<p>So you could use this and just take out the number portion:</p>\n\n<pre><code>/^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n\n<p>Have a play at <a href=\"https://regex101.com/r/j8AlYE/2\" rel=\"nofollow noreferrer\">regex101.com</a></p>\n\n<p>Here's a demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input {border:10px solid red;}\r\ninput:valid {border-color:green;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" required=\"required\" pattern=\"^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\" placeholder=\"type=text, using a pattern\" /&gt;\r\n&lt;input type=\"email\" required=\"required\" placeholder=\"type=email, no pattern here\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461629,"creation_date":1569951987,"answer_id":58189898,"question_id":58189462,"body_markdown":"The regex below works for me every time for email verification. However, this might not solve all cases as emails accept a whole range of characters and more recently, different formats. **If you&#39;re using the email for authentication, I would advise you send a verification email to confirm or add an extra mode of authentication.**\r\n\r\n    /^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nBasically, the strength of a validation regex lies in the number of cases it can accurately capture while simultaneously checking for non-compliance (fakes). Each of these character sequences has a purpose in the overall validation process. You can learn more about regular expressions [here](https://www.tutorialspoint.com/java/java_regular_expressions.htm).\r\n","title":"Email Regex validation","body":"<p>The regex below works for me every time for email verification. However, this might not solve all cases as emails accept a whole range of characters and more recently, different formats. <strong>If you're using the email for authentication, I would advise you send a verification email to confirm or add an extra mode of authentication.</strong></p>\n<pre><code>/^[a-zA-Z.!#$%&amp;*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n<p>Basically, the strength of a validation regex lies in the number of cases it can accurately capture while simultaneously checking for non-compliance (fakes). Each of these character sequences has a purpose in the overall validation process. You can learn more about regular expressions <a href=\"https://www.tutorialspoint.com/java/java_regular_expressions.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16805527,"reputation":13,"user_id":12149824,"display_name":"seleguy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58189663,"answer_count":4,"score":1,"last_activity_date":1695461629,"creation_date":1569949822,"question_id":58189462,"body_markdown":"How can I restrict only **numerics** in the Email address. I tried below and it didn&#39;t work. My email should accept **Alpha-numerics, dot, hyphen and underscore followed by &quot;@AnyDomain.com&quot;**. But it should not accept only numerics like **&quot;112233@gmail.com&quot;**\r\n\r\n```java\r\nPattern regexPattern = Pattern.compile(&quot;^[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]+@[(a-zA-Z)]+\\\\.[(a-zA-Z)]{2,3}$&quot;);\r\nMatcher regmatcher = regexPattern.matcher(email);\r\n```\r\n\r\n - Don_123@gmail.com -&gt; Valid\r\n - 12345@gmail.com -&gt; Invalid","title":"Email Regex validation","body":"<p>How can I restrict only <strong>numerics</strong> in the Email address. I tried below and it didn't work. My email should accept <strong>Alpha-numerics, dot, hyphen and underscore followed by \"@AnyDomain.com\"</strong>. But it should not accept only numerics like <strong>\"112233@gmail.com\"</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Pattern regexPattern = Pattern.compile(\"^[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]+@[(a-zA-Z)]+\\\\.[(a-zA-Z)]{2,3}$\");\nMatcher regmatcher = regexPattern.matcher(email);\n</code></pre>\n\n<ul>\n<li>Don_123@gmail.com -> Valid</li>\n<li>12345@gmail.com -> Invalid</li>\n</ul>\n"},{"tags":["java","authentication","redirect","cookies","spring-security"],"comments":[{"owner":{"account_id":9689064,"reputation":96,"user_id":7187698,"display_name":"Procrastinator"},"score":0,"creation_date":1695387289,"post_id":77157448,"comment_id":136021408,"body_markdown":"I guess it&#39;s because of the way you&#39;re setting the cookie. Read [here](https://stackoverflow.com/questions/18492576/share-cookies-between-subdomain-and-domain).\n\nIn your screenshot, could you also show the request headers?","body":"I guess it&#39;s because of the way you&#39;re setting the cookie. Read <a href=\"https://stackoverflow.com/questions/18492576/share-cookies-between-subdomain-and-domain\">here</a>.  In your screenshot, could you also show the request headers?"},{"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"score":0,"creation_date":1695461235,"post_id":77157448,"comment_id":136029774,"body_markdown":"@Procrastinator I&#39;ve included request headers of both request, please take a look","body":"@Procrastinator I&#39;ve included request headers of both request, please take a look"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695461201,"creation_date":1695384106,"question_id":77157448,"body_markdown":"Our app uses 2 urls. One is **&quot;example.com&quot;** and another is **&quot;my.example.com&quot;**. The former is the public domain of our app, whereas the latter is intended to be used by logged in users only.\r\n\r\nThe problem seems to be with the following: when we&#39;re trying to send a request from just **&quot;example.com&quot;** to a part of our application that requires authentication we get 403.\r\n\r\nHere&#39;s how it works:\r\n\r\n 1. A user sends a request to **&quot;example.com&quot;** (for example makes a rest call)\r\n 2. The request is caught in a spring security filter and the user is redirected to **&quot;my.example.com&quot;**\r\n 3. The cookies on the **&quot;my.example.com&quot;** are missing in the request headers, hence, we get 403\r\n\r\nThe code of a filter that redirects a user is as follows:\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n    \r\n        // fixing CORS\r\n        if (httpServletRequest.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n            addCorsHeaders(httpServletResponse);\r\n            return;\r\n        }\r\n    \r\n        String contextPath = httpServletRequest.getContextPath();\r\n        String path = httpServletRequest.getRequestURI().substring(contextPath.length());\r\n        String method = httpServletRequest.getMethod();\r\n        ensureEvalSet(httpServletRequest);\r\n    \r\n    \r\n        String currentHost = httpServletRequest.getHeader(&quot;host&quot;); // &quot;example.com&quot;\r\n        String myUrl = cutProtocolPart(getSessionAttribute(httpServletRequest, MY_URL)); // &quot;my.example.com&quot;\r\n    \r\n        // Lots of uninformative business logic, can be just simplified to\r\n        // the following: &quot;my.example.com&quot; equals to &quot;my.example.com&quot;\r\n        if (cabinetHostEqualsRequestHost(currentHost, myUrl)) {\r\n            // we just filter down the chain...\r\n            chain.doFilter(request, response);\r\n        } else {\r\n            //here we redirect the user from &quot;example.com&quot; to &quot;my.example.com&quot;\r\n            String redirectUrl = getUrlToRedirect(myUrl, httpServletRequest); // &quot;my.example.com&quot;\r\n            // additionally add CORS headers\r\n            addCorsHeaders(httpServletResponse);\r\n    \r\n            httpServletResponse.setHeader(&quot;Location&quot;, redirectUrl);\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n        }\r\n    }\r\n    \r\n    \r\n    private void addCorsHeaders(HttpServletResponse httpServletResponse) {\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type&quot;);\r\n        // was supposed to make cookies pass between &quot;example.com&quot; and &quot;my.example.com&quot;\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    }\r\n\r\nHere&#39;s how it&#39;s reproduced in Chrome:\r\n\r\nHere&#39;s the request that redirects (from **&quot;example.com&quot;**, with auth cookies and headers)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here&#39;s the second request to **&quot;my.example.com&quot;** with missing request cookies \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere are request headers of a request to **&quot;example.com&quot;** (with all the auth cookies)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd finally the request headers of a request to **&quot;my.example.com&quot;** (with the missing cookies that I want to be included from my request to **&quot;example.com&quot;**) \r\n\r\n[![enter image description here][4]][4]\r\n\r\n**My question is how to copy request cookies to the second request from the first one, so that user is authenticated?**\r\n\r\nI tried to add the `Access-Control-Allow-Credentials` cookie but it didn&#39;t help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0Y9P.png\r\n  [2]: https://i.stack.imgur.com/GLJw0.png\r\n  [3]: https://i.stack.imgur.com/yMcOJ.png\r\n  [4]: https://i.stack.imgur.com/CVEJ3.png","title":"Setting cookies on subsequent request in Spring Security filter","body":"<p>Our app uses 2 urls. One is <strong>&quot;example.com&quot;</strong> and another is <strong>&quot;my.example.com&quot;</strong>. The former is the public domain of our app, whereas the latter is intended to be used by logged in users only.</p>\n<p>The problem seems to be with the following: when we're trying to send a request from just <strong>&quot;example.com&quot;</strong> to a part of our application that requires authentication we get 403.</p>\n<p>Here's how it works:</p>\n<ol>\n<li>A user sends a request to <strong>&quot;example.com&quot;</strong> (for example makes a rest call)</li>\n<li>The request is caught in a spring security filter and the user is redirected to <strong>&quot;my.example.com&quot;</strong></li>\n<li>The cookies on the <strong>&quot;my.example.com&quot;</strong> are missing in the request headers, hence, we get 403</li>\n</ol>\n<p>The code of a filter that redirects a user is as follows:</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n    HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n\n    // fixing CORS\n    if (httpServletRequest.getMethod().equals(&quot;OPTIONS&quot;)) {\n        addCorsHeaders(httpServletResponse);\n        return;\n    }\n\n    String contextPath = httpServletRequest.getContextPath();\n    String path = httpServletRequest.getRequestURI().substring(contextPath.length());\n    String method = httpServletRequest.getMethod();\n    ensureEvalSet(httpServletRequest);\n\n\n    String currentHost = httpServletRequest.getHeader(&quot;host&quot;); // &quot;example.com&quot;\n    String myUrl = cutProtocolPart(getSessionAttribute(httpServletRequest, MY_URL)); // &quot;my.example.com&quot;\n\n    // Lots of uninformative business logic, can be just simplified to\n    // the following: &quot;my.example.com&quot; equals to &quot;my.example.com&quot;\n    if (cabinetHostEqualsRequestHost(currentHost, myUrl)) {\n        // we just filter down the chain...\n        chain.doFilter(request, response);\n    } else {\n        //here we redirect the user from &quot;example.com&quot; to &quot;my.example.com&quot;\n        String redirectUrl = getUrlToRedirect(myUrl, httpServletRequest); // &quot;my.example.com&quot;\n        // additionally add CORS headers\n        addCorsHeaders(httpServletResponse);\n\n        httpServletResponse.setHeader(&quot;Location&quot;, redirectUrl);\n        httpServletResponse.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\n    }\n}\n\n\nprivate void addCorsHeaders(HttpServletResponse httpServletResponse) {\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type&quot;);\n    // was supposed to make cookies pass between &quot;example.com&quot; and &quot;my.example.com&quot;\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n}\n</code></pre>\n<p>Here's how it's reproduced in Chrome:</p>\n<p>Here's the request that redirects (from <strong>&quot;example.com&quot;</strong>, with auth cookies and headers)</p>\n<p><a href=\"https://i.stack.imgur.com/c0Y9P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0Y9P.png\" alt=\"enter image description here\" /></a></p>\n<p>And here's the second request to <strong>&quot;my.example.com&quot;</strong> with missing request cookies</p>\n<p><a href=\"https://i.stack.imgur.com/GLJw0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLJw0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are request headers of a request to <strong>&quot;example.com&quot;</strong> (with all the auth cookies)</p>\n<p><a href=\"https://i.stack.imgur.com/yMcOJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMcOJ.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally the request headers of a request to <strong>&quot;my.example.com&quot;</strong> (with the missing cookies that I want to be included from my request to <strong>&quot;example.com&quot;</strong>)</p>\n<p><a href=\"https://i.stack.imgur.com/CVEJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CVEJ3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My question is how to copy request cookies to the second request from the first one, so that user is authenticated?</strong></p>\n<p>I tried to add the <code>Access-Control-Allow-Credentials</code> cookie but it didn't help</p>\n"},{"tags":["java","spring-boot","keycloak","keycloak-admin-client"],"answers":[{"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461181,"creation_date":1695461024,"answer_id":77162387,"question_id":77150402,"body_markdown":"I think u can try creating a user in realm master and then assign a role for that user for a specific realm that u want control, and then when initialize a keycloak admin, you can use a admin-cli client and realm master for the configuration.this is example for initialize keycloak admin client\r\n\r\n    @Bean\r\n    public RealmResource keycloak() {\r\n\r\n        \r\n                final Keycloak keycloak = Keycloak.getInstance(\r\n                &quot;https://example.yourkeycloak.com/auth&quot;,\r\n                &quot;master&quot;,\r\n                keycloakUsername,\r\n                keycloakPassword,\r\n                &quot;admin-cli&quot;); \r\n\r\n\r\n        return keycloak.realm(&quot;nameOfRealmThatUWantToUsed&quot;);\r\n    }\r\n\r\nand then when u want to use that keycloak in service class. just use a dependency injection into service class.\r\n\r\n    @Service\r\n    public class testServiceClass {\r\n\r\n    @Autowired\r\n    RealmResource keycloak;\r\n\r\n    public List&lt;String&gt; getAllClientList(){\r\n        List&lt;ClientRepresentation&gt; clientRepresentationList= keycloak.clients().findAll();\r\n        \r\n        List&lt;String&gt; clientNameList=new ArrayList&lt;&gt;();\r\n        clientRepresentationList.stream().forEach(x-&gt;{\r\n            clientNameList.add(x.getName());\r\n        });\r\n        \r\n        return clientNameList;\r\n    }\r\n}","title":"Keycloak-admin-client JAVA API get 404 not-found","body":"<p>I think u can try creating a user in realm master and then assign a role for that user for a specific realm that u want control, and then when initialize a keycloak admin, you can use a admin-cli client and realm master for the configuration.this is example for initialize keycloak admin client</p>\n<pre><code>@Bean\npublic RealmResource keycloak() {\n\n    \n            final Keycloak keycloak = Keycloak.getInstance(\n            &quot;https://example.yourkeycloak.com/auth&quot;,\n            &quot;master&quot;,\n            keycloakUsername,\n            keycloakPassword,\n            &quot;admin-cli&quot;); \n\n\n    return keycloak.realm(&quot;nameOfRealmThatUWantToUsed&quot;);\n}\n</code></pre>\n<p>and then when u want to use that keycloak in service class. just use a dependency injection into service class.</p>\n<pre><code>@Service\npublic class testServiceClass {\n\n@Autowired\nRealmResource keycloak;\n\npublic List&lt;String&gt; getAllClientList(){\n    List&lt;ClientRepresentation&gt; clientRepresentationList= keycloak.clients().findAll();\n    \n    List&lt;String&gt; clientNameList=new ArrayList&lt;&gt;();\n    clientRepresentationList.stream().forEach(x-&gt;{\n        clientNameList.add(x.getName());\n    });\n    \n    return clientNameList;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29500598,"reputation":1,"user_id":22607692,"display_name":"Pio Antonio Perugini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695461181,"creation_date":1695300523,"question_id":77150402,"body_markdown":"I am trying to get all scope-permissions for a client using an admin client.\r\nI am using keycloak 12.0.4, spring-boot and keycloak-admin-client maven dependency.\r\n\r\nThe client i am using has realm-management role associated.\r\nI can get client list but i can&#39;t do nothing with them.\r\n\r\n\r\n```java\r\n        Keycloak keycloak = this.getAdminClient();\r\n        List&lt;ClientRepresentation&gt; clients = keycloak.realm(kcProperties.getRealm()).clients().findAll();\r\n        ClientResource clientResource = keycloak.realm(kcProperties.getRealm()).clients().get(clientId);\r\n//all these calls give 404 not found\r\n        clientResource.authorization().getSettings().getPolicies();\r\n        clientResource.authorization().getSettings().getScopes();\r\n        clientResource.authorization().getSettings().getResources();\r\n        clientResource.authorization().permissions();\r\n        clientResource.authorization().scopes();\r\n        clientResource.getPermissions();\r\n```\r\n\r\n\r\n```java\r\nprivate Keycloak getAdminClient() {\r\n        return KeycloakBuilder.builder()\r\n                .clientId(kcProperties.getResource())\r\n                .clientSecret(kcProperties.getCredentials().get(&quot;secret&quot;).toString())\r\n                .serverUrl(kcProperties.getAuthServerUrl())\r\n                .realm(kcProperties.getRealm())\r\n                .grantType(&quot;client_credentials&quot;)\r\n                .build();\r\n    }\r\n```\r\nall these call returns 404 not found\r\n\r\n```\r\n clientResource.authorization().getSettings().getPolicies();\r\n        clientResource.authorization().getSettings().getScopes();\r\n        clientResource.authorization().getSettings().getResources();\r\n        clientResource.authorization().permissions();\r\n        clientResource.authorization().scopes();\r\n        clientResource.getPermissions();\r\n```\r\n\r\n","title":"Keycloak-admin-client JAVA API get 404 not-found","body":"<p>I am trying to get all scope-permissions for a client using an admin client.\nI am using keycloak 12.0.4, spring-boot and keycloak-admin-client maven dependency.</p>\n<p>The client i am using has realm-management role associated.\nI can get client list but i can't do nothing with them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Keycloak keycloak = this.getAdminClient();\n        List&lt;ClientRepresentation&gt; clients = keycloak.realm(kcProperties.getRealm()).clients().findAll();\n        ClientResource clientResource = keycloak.realm(kcProperties.getRealm()).clients().get(clientId);\n//all these calls give 404 not found\n        clientResource.authorization().getSettings().getPolicies();\n        clientResource.authorization().getSettings().getScopes();\n        clientResource.authorization().getSettings().getResources();\n        clientResource.authorization().permissions();\n        clientResource.authorization().scopes();\n        clientResource.getPermissions();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private Keycloak getAdminClient() {\n        return KeycloakBuilder.builder()\n                .clientId(kcProperties.getResource())\n                .clientSecret(kcProperties.getCredentials().get(&quot;secret&quot;).toString())\n                .serverUrl(kcProperties.getAuthServerUrl())\n                .realm(kcProperties.getRealm())\n                .grantType(&quot;client_credentials&quot;)\n                .build();\n    }\n</code></pre>\n<p>all these call returns 404 not found</p>\n<pre><code> clientResource.authorization().getSettings().getPolicies();\n        clientResource.authorization().getSettings().getScopes();\n        clientResource.authorization().getSettings().getResources();\n        clientResource.authorization().permissions();\n        clientResource.authorization().scopes();\n        clientResource.getPermissions();\n</code></pre>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":11293128,"reputation":359,"user_id":8281441,"display_name":"Cliven"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1608181945,"creation_date":1608181945,"answer_id":65335037,"question_id":63170142,"body_markdown":"```xml\r\n\r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;32dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.slider.Slider\r\n                android:id=&quot;@+id/sldPenWidth&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:rotation=&quot;270&quot;\r\n                android:value=&quot;1&quot;\r\n                android:valueFrom=&quot;0.1&quot;\r\n                android:valueTo=&quot;10&quot; /&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n```\r\n\r\nset attr `android:rotation` value to `270`, then put it into a FrameLayout","title":"Vertical slider in android using google material library","body":"<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;FrameLayout\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;200dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.slider.Slider\n                android:id=&quot;@+id/sldPenWidth&quot;\n                android:layout_width=&quot;200dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:rotation=&quot;270&quot;\n                android:value=&quot;1&quot;\n                android:valueFrom=&quot;0.1&quot;\n                android:valueTo=&quot;10&quot; /&gt;\n\n        &lt;/FrameLayout&gt;\n</code></pre>\n<p>set attr <code>android:rotation</code> value to <code>270</code>, then put it into a FrameLayout</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640594083,"creation_date":1640594083,"answer_id":70493261,"question_id":63170142,"body_markdown":"For now I have something like this:\r\n\r\n    class VerticalSlider @JvmOverloads\r\n    constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\r\n        : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\r\n        init {\r\n            rotation = 270f\r\n        }\r\n    \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            super.onMeasure(heightMeasureSpec, widthMeasureSpec)\r\n        }\r\n    }\r\n\r\nStill I have to wrap it:\r\n\r\n \r\n\r\n       &lt;FrameLayout \r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n           &lt;....VerticalSlider\r\n                style=&quot;@style/InstSliderWhiteMatchWrap&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:value=&quot;100&quot;\r\n                app:haloRadius=&quot;15dp&quot;\r\n                app:thumbRadius=&quot;9dp&quot; /&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n\r\nI had issue with haloRadius thou, had to set it to lower value to not show hard lines, looks like layout margin is not take correctly into account and I tried milliard of things... Otherwise little more readable and reusable this way for me. ","title":"Vertical slider in android using google material library","body":"<p>For now I have something like this:</p>\n<pre><code>class VerticalSlider @JvmOverloads\nconstructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\n    : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\n    init {\n        rotation = 270f\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(heightMeasureSpec, widthMeasureSpec)\n    }\n}\n</code></pre>\n<p>Still I have to wrap it:</p>\n<pre><code>   &lt;FrameLayout \n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n       &lt;....VerticalSlider\n            style=&quot;@style/InstSliderWhiteMatchWrap&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:value=&quot;100&quot;\n            app:haloRadius=&quot;15dp&quot;\n            app:thumbRadius=&quot;9dp&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n</code></pre>\n<p>I had issue with haloRadius thou, had to set it to lower value to not show hard lines, looks like layout margin is not take correctly into account and I tried milliard of things... Otherwise little more readable and reusable this way for me.</p>\n"},{"tags":[],"owner":{"account_id":22263905,"reputation":1,"user_id":16494977,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695459991,"creation_date":1695459991,"answer_id":77162338,"question_id":63170142,"body_markdown":"I used the following code (kotlin)\r\nit works however the value above the slider is still shown in the horizontal position\r\n\r\nI just disabled it, but I think if I spend more time it can be fixed\r\n\r\n\r\n    class VerticalSlider @JvmOverloads\r\n    constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\r\n        : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\r\n        \r\n        \r\n        override fun onDraw(c: Canvas) {\r\n            c.rotate(270f)\r\n            c.translate(-height.toFloat(), 0f)\r\n            super.onDraw(c)\r\n        }\r\n        \r\n        \r\n        override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n            super.onSizeChanged(h, w, oldh, oldw)\r\n        }\r\n        \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            super.onMeasure(heightMeasureSpec, widthMeasureSpec)\r\n            setMeasuredDimension(measuredHeight, measuredWidth);\r\n        }\r\n        \r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        override fun onTouchEvent(event: MotionEvent): Boolean {\r\n            \r\n            if (!isEnabled) {\r\n                return false\r\n            }\r\n            when (event.action) {\r\n                MotionEvent.ACTION_DOWN, MotionEvent.ACTION_MOVE, MotionEvent.ACTION_UP -&gt; {\r\n                    onSizeChanged(width, height, 0, 0)\r\n                    super.onTouchEvent(MotionEvent.obtain(event.downTime, event.eventTime, event.action,\r\n                        height.toFloat() - event.y, event.x, event.pressure, event.size, event.metaState,event.yPrecision,event.xPrecision, event.deviceId, event.edgeFlags))\r\n                }\r\n    \r\n                MotionEvent.ACTION_CANCEL -&gt; {}\r\n            }\r\n            return true\r\n        }\r\n        \r\n    }\r\n    enter code here\r\n\r\nit can be used like this\r\n\r\n    &lt;yourPakage.VerticalSlider\r\n                    android:id=&quot;@+id/verticalSlider&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n\r\n                    app:labelBehavior=&quot;gone&quot;\r\n\r\n                    android:layout_marginTop=&quot;@dimen/dp_4&quot;\r\n                    android:layout_marginBottom=&quot;@dimen/dp_4&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/textSliderValue&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/sliderMark&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/sliderMark&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/sliderMark&quot; /&gt;","title":"Vertical slider in android using google material library","body":"<p>I used the following code (kotlin)\nit works however the value above the slider is still shown in the horizontal position</p>\n<p>I just disabled it, but I think if I spend more time it can be fixed</p>\n<pre><code>class VerticalSlider @JvmOverloads\nconstructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\n    : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\n    \n    \n    override fun onDraw(c: Canvas) {\n        c.rotate(270f)\n        c.translate(-height.toFloat(), 0f)\n        super.onDraw(c)\n    }\n    \n    \n    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        super.onSizeChanged(h, w, oldh, oldw)\n    }\n    \n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(heightMeasureSpec, widthMeasureSpec)\n        setMeasuredDimension(measuredHeight, measuredWidth);\n    }\n    \n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        \n        if (!isEnabled) {\n            return false\n        }\n        when (event.action) {\n            MotionEvent.ACTION_DOWN, MotionEvent.ACTION_MOVE, MotionEvent.ACTION_UP -&gt; {\n                onSizeChanged(width, height, 0, 0)\n                super.onTouchEvent(MotionEvent.obtain(event.downTime, event.eventTime, event.action,\n                    height.toFloat() - event.y, event.x, event.pressure, event.size, event.metaState,event.yPrecision,event.xPrecision, event.deviceId, event.edgeFlags))\n            }\n\n            MotionEvent.ACTION_CANCEL -&gt; {}\n        }\n        return true\n    }\n    \n}\nenter code here\n</code></pre>\n<p>it can be used like this</p>\n<pre><code>&lt;yourPakage.VerticalSlider\n                android:id=&quot;@+id/verticalSlider&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n\n                app:labelBehavior=&quot;gone&quot;\n\n                android:layout_marginTop=&quot;@dimen/dp_4&quot;\n                android:layout_marginBottom=&quot;@dimen/dp_4&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textSliderValue&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/sliderMark&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/sliderMark&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/sliderMark&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":13005004,"reputation":51,"user_id":9399811,"display_name":"Robin Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1695459991,"creation_date":1596101183,"question_id":63170142,"body_markdown":"I have this google material slider aligned in horizontal direction:\r\n\r\n    &lt;com.google.android.material.slider.Slider\r\n        android:id=&quot;@+id/slider_tilt&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/tilt_btn&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginHorizontal=&quot;65dp&quot;\r\n        android:valueFrom=&quot;-4&quot;\r\n        android:valueTo=&quot;4&quot;\r\n        android:stepSize=&quot;0.5&quot;/&gt;\r\n\r\n\r\nbut I want it to be in vertical direction and aligned to the left of the screen. I tried rotating it but then couldn&#39;t get left side alignment, please let me know if there is a way out.","title":"Vertical slider in android using google material library","body":"<p>I have this google material slider aligned in horizontal direction:</p>\n<pre><code>&lt;com.google.android.material.slider.Slider\n    android:id=&quot;@+id/slider_tilt&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_above=&quot;@+id/tilt_btn&quot;\n    android:layout_marginBottom=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginHorizontal=&quot;65dp&quot;\n    android:valueFrom=&quot;-4&quot;\n    android:valueTo=&quot;4&quot;\n    android:stepSize=&quot;0.5&quot;/&gt;\n</code></pre>\n<p>but I want it to be in vertical direction and aligned to the left of the screen. I tried rotating it but then couldn't get left side alignment, please let me know if there is a way out.</p>\n"},{"tags":["java","spring","jpa","design-patterns","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1405915106,"post_id":24857003,"comment_id":38601729,"body_markdown":"Why are you doing all of that manual delegation instead of using the repository interfaces directly?","body":"Why are you doing all of that manual delegation instead of using the repository interfaces directly?"},{"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"score":0,"creation_date":1405955822,"post_id":24857003,"comment_id":38622740,"body_markdown":"What do you mean by &#39;using the repository interfaces direclty&#39;? I was trying to do something like this [Spring and Autowiring of Generic Types](http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/)","body":"What do you mean by &#39;using the repository interfaces direclty&#39;? I was trying to do something like this <a href=\"http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/\" rel=\"nofollow noreferrer\">Spring and Autowiring of Generic Types</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1405962961,"post_id":24857003,"comment_id":38627015,"body_markdown":"I mean autowire your `CrudRepository` directly into the code that&#39;s manipulating the objects instead of having a separate service hierarchy that just replicates it.","body":"I mean autowire your <code>CrudRepository</code> directly into the code that&#39;s manipulating the objects instead of having a separate service hierarchy that just replicates it."},{"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"score":1,"creation_date":1405987804,"post_id":24857003,"comment_id":38638577,"body_markdown":"It is ok to access the UserDAO from the controller? I don&#39;t really need the service layer I just did this because I thought it would be the best practice.","body":"It is ok to access the UserDAO from the controller? I don&#39;t really need the service layer I just did this because I thought it would be the best practice."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1405989297,"post_id":24857003,"comment_id":38638940,"body_markdown":"Yes, if your service tier isn&#39;t adding further logic. You&#39;ll want separation for larger projects when the service tier does more than just data access.","body":"Yes, if your service tier isn&#39;t adding further logic. You&#39;ll want separation for larger projects when the service tier does more than just data access."},{"owner":{"account_id":1578242,"reputation":1360,"user_id":1464191,"accept_rate":45,"display_name":"StephanM"},"score":1,"creation_date":1457803363,"post_id":24857003,"comment_id":59576832,"body_markdown":"Is this really working? Was trying it but getting always a exception during the startup of my app: No qualifying bean of type [org.springframework.data.jpa.repository.JpaRepository] found for dependency (Using JpaRepository instead of CrudRepository)","body":"Is this really working? Was trying it but getting always a exception during the startup of my app: No qualifying bean of type [org.springframework.data.jpa.repository.JpaRepository] found for dependency (Using JpaRepository instead of CrudRepository)"},{"owner":{"account_id":4995515,"reputation":2030,"user_id":4016254,"accept_rate":80,"display_name":"Erlan"},"score":0,"creation_date":1513635525,"post_id":24857003,"comment_id":82720290,"body_markdown":"@chrylis what if half of the domains need business logic(service layer) and the other half not. I would definitely have service layer for business logic, but what is best for other domains. Using Repository directly from controller for **simplicity** vs generic service layer for **similar code structure**?","body":"@chrylis what if half of the domains need business logic(service layer) and the other half not. I would definitely have service layer for business logic, but what is best for other domains. Using Repository directly from controller for <b>simplicity</b> vs generic service layer for <b>similar code structure</b>?"},{"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"score":0,"creation_date":1558431299,"post_id":24857003,"comment_id":99089514,"body_markdown":"I am personally in favor of always adding a service layer between the Controller and the DAO. I don&#39;t see the point of the service interfaces though, I would just make a UserService class without an interface. Also, as mentioned by StephanM I don&#39;t think your GenericServiceImpl will actually work because it autowires a bean that doesn&#39;t exist.","body":"I am personally in favor of always adding a service layer between the Controller and the DAO. I don&#39;t see the point of the service interfaces though, I would just make a UserService class without an interface. Also, as mentioned by StephanM I don&#39;t think your GenericServiceImpl will actually work because it autowires a bean that doesn&#39;t exist."}],"answers":[{"tags":[],"owner":{"account_id":2562588,"reputation":576,"user_id":2223421,"accept_rate":55,"display_name":"Mustehssun Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630182010,"creation_date":1630182010,"answer_id":68967858,"question_id":24857003,"body_markdown":"Yes, you&#39;re providing your own impl that&#39;s may do custom things while still reusing the Derived queries from Spring JPA&#39;s CrudRepository. I&#39;ve seen that a lot. :) We need to do that if we want to do our own computation before calling the Derived methods. After all, that computation may very well be part of a repository, so it doesn&#39;t make sense to put that logic in the service. But in your scenario, if there are no such custom computations, then this indirection isn&#39;t needed. As a commenter mentioned, you should directly use the UserDao interface. :)","title":"Crud methods in service layer using Spring Data JPA","body":"<p>Yes, you're providing your own impl that's may do custom things while still reusing the Derived queries from Spring JPA's CrudRepository. I've seen that a lot. :) We need to do that if we want to do our own computation before calling the Derived methods. After all, that computation may very well be part of a repository, so it doesn't make sense to put that logic in the service. But in your scenario, if there are no such custom computations, then this indirection isn't needed. As a commenter mentioned, you should directly use the UserDao interface. :)</p>\n"}],"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18976,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1695459675,"creation_date":1405910433,"question_id":24857003,"body_markdown":"I&#39;m building a small application using Spring and Spring Data JPA and I need to use the CrudRepository methods in the service layer, so I made 2 classes: GenericService and GenericServiceImpl. But I don&#39;t know if this is the right or even the best approach.\r\n\r\nHere is an example:\r\n\r\nPOJO:\r\n\r\n    @Entity\r\n    public class User {\r\n\r\n      @Id\r\n      private Long id;\r\n      \r\n      private String username;\r\n    }\r\n\r\nDAO:\r\n\r\n    public interface UserDAO extends CrudRepository&lt;User, Long&gt; {\r\n      User findOneByUsername(String username);\r\n    }\r\n\r\nGeneric service\r\n\r\n    public interface GenericService&lt;T, ID extends Serializable&gt; {\r\n      &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\nService\r\n\r\n    public interface UserService extends GenericService&lt;User, Long&gt;  {\r\n      User findOneByUsername(String username);\r\n    }\r\n\r\nGeneric service impl.\r\n\r\n    public class GenericServiceImpl&lt;T, ID extends Serializable&gt; implements GenericService&lt;T, ID&gt; {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate CrudRepository&lt;T, ID&gt; repository;\r\n    \t\r\n    \t@Override\r\n    \tpublic &lt;S extends T&gt; S save(S entity) {\r\n    \t\treturn repository.save(entity);\r\n    \t}\r\n    }\r\n\r\nService Impl.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserServiceImpl extends GenericServiceImpl&lt;User, Long&gt; implements UserService {\r\n\r\n      @Autowired\r\n      private UserDAO userDAO;\r\n    \r\n      @Override\r\n      public User findOneByUsername(String username) {\r\n        userDAO.findOneByUsername(username);\r\n      }\r\n    }\r\n","title":"Crud methods in service layer using Spring Data JPA","body":"<p>I'm building a small application using Spring and Spring Data JPA and I need to use the CrudRepository methods in the service layer, so I made 2 classes: GenericService and GenericServiceImpl. But I don't know if this is the right or even the best approach.</p>\n\n<p>Here is an example:</p>\n\n<p>POJO:</p>\n\n<pre><code>@Entity\npublic class User {\n\n  @Id\n  private Long id;\n\n  private String username;\n}\n</code></pre>\n\n<p>DAO:</p>\n\n<pre><code>public interface UserDAO extends CrudRepository&lt;User, Long&gt; {\n  User findOneByUsername(String username);\n}\n</code></pre>\n\n<p>Generic service</p>\n\n<pre><code>public interface GenericService&lt;T, ID extends Serializable&gt; {\n  &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>public interface UserService extends GenericService&lt;User, Long&gt;  {\n  User findOneByUsername(String username);\n}\n</code></pre>\n\n<p>Generic service impl.</p>\n\n<pre><code>public class GenericServiceImpl&lt;T, ID extends Serializable&gt; implements GenericService&lt;T, ID&gt; {\n\n    @Autowired\n    private CrudRepository&lt;T, ID&gt; repository;\n\n    @Override\n    public &lt;S extends T&gt; S save(S entity) {\n        return repository.save(entity);\n    }\n}\n</code></pre>\n\n<p>Service Impl.</p>\n\n<pre><code>@Service\n@Transactional\npublic class UserServiceImpl extends GenericServiceImpl&lt;User, Long&gt; implements UserService {\n\n  @Autowired\n  private UserDAO userDAO;\n\n  @Override\n  public User findOneByUsername(String username) {\n    userDAO.findOneByUsername(username);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-resources","android-file"],"comments":[{"owner":{"account_id":150110,"reputation":1907,"user_id":363059,"accept_rate":83,"display_name":"Captain Blammo"},"score":0,"creation_date":1366774088,"post_id":6539715,"comment_id":23134068,"body_markdown":"I suspect that you can&#39;t reference a raw asset by URI. You may need to pass it as an AssetFileDescriptor object. Just call getResources().openRawResourceFd(resourceID);","body":"I suspect that you can&#39;t reference a raw asset by URI. You may need to pass it as an AssetFileDescriptor object. Just call getResources().openRawResourceFd(resourceID);"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309460485,"creation_date":1309460485,"answer_id":6539756,"question_id":6539715,"body_markdown":"&gt; I need the name (String) of all files in res/raw/\r\n\r\nThere are no files in `res/raw/` on the device. Those are resources. There is no good way to iterate over resources, other than by using reflection to iterate over the static data members of the `R.raw` class to get the various ID names and values.\r\n\r\n&gt;  but doesn&#39;t really help me find out where the raw folder exists.\r\n\r\nAs a folder, it only exists on your development machine. It is not a folder on the device.\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<blockquote>\n  <p>I need the name (String) of all files in res/raw/</p>\n</blockquote>\n\n<p>There are no files in <code>res/raw/</code> on the device. Those are resources. There is no good way to iterate over resources, other than by using reflection to iterate over the static data members of the <code>R.raw</code> class to get the various ID names and values.</p>\n\n<blockquote>\n  <p>but doesn't really help me find out where the raw folder exists.</p>\n</blockquote>\n\n<p>As a folder, it only exists on your development machine. It is not a folder on the device.</p>\n"},{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309460599,"creation_date":1309460599,"answer_id":6539778,"question_id":6539715,"body_markdown":"From a `Context`, you can call something like this:\r\n\r\n    getResources().getAssets().list(&quot;thePath&quot;);\r\n\r\n[link to documentation][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/AssetManager.html#list%28java.lang.String%29","title":"Android, how can I get a list of all files in a folder?","body":"<p>From a <code>Context</code>, you can call something like this:</p>\n\n<pre><code>getResources().getAssets().list(\"thePath\");\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html#list%28java.lang.String%29\" rel=\"nofollow\">link to documentation</a></p>\n"},{"tags":[],"owner":{"account_id":143427,"reputation":2731,"user_id":351747,"display_name":"Damian Koakowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309460812,"creation_date":1309460812,"answer_id":6539818,"question_id":6539715,"body_markdown":"You can use [AssetManager][1]: \r\n\r\nAs far as I can remember, you will have list with (just try different paths):\r\n\r\n\r\n    final String[] allFilesInPackage = getContext().getResources().getAssets().list(&quot;&quot;);\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/AssetManager.html","title":"Android, how can I get a list of all files in a folder?","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html\" rel=\"nofollow\">AssetManager</a>: </p>\n\n<p>As far as I can remember, you will have list with (just try different paths):</p>\n\n<pre><code>final String[] allFilesInPackage = getContext().getResources().getAssets().list(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275234,"reputation":2388,"user_id":567987,"accept_rate":83,"display_name":"abdolence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309460883,"creation_date":1309460883,"answer_id":6539832,"question_id":6539715,"body_markdown":"Look at http://developer.android.com/reference/android/content/res/Resources.html\r\nYou can generally acquire the Resources instance associated with your application with getResources().\r\n\r\nResources class provides access to http://developer.android.com/reference/android/content/res/AssetManager.html (see to getAssets() method).\r\nAnd finally obtain access to your packaged (apk) files with AssetManager.list() method.\r\nEnjoy!","title":"Android, how can I get a list of all files in a folder?","body":"<p>Look at <a href=\"http://developer.android.com/reference/android/content/res/Resources.html\" rel=\"nofollow\">http://developer.android.com/reference/android/content/res/Resources.html</a>\nYou can generally acquire the Resources instance associated with your application with getResources().</p>\n\n<p>Resources class provides access to <a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html\" rel=\"nofollow\">http://developer.android.com/reference/android/content/res/AssetManager.html</a> (see to getAssets() method).\nAnd finally obtain access to your packaged (apk) files with AssetManager.list() method.\nEnjoy!</p>\n"},{"tags":[],"owner":{"account_id":150110,"reputation":1907,"user_id":363059,"accept_rate":83,"display_name":"Captain Blammo"},"down_vote_count":1,"up_vote_count":71,"is_accepted":true,"score":70,"last_activity_date":1309463213,"creation_date":1309463213,"answer_id":6540269,"question_id":6539715,"body_markdown":"To list all the names of your raw assets, which are basically the filenames with the extensions stripped off, you can do this:\r\n\r\n    public void listRaw(){\r\n        Field[] fields=R.raw.class.getFields();\r\n        for(int count=0; count &lt; fields.length; count++){\r\n            Log.i(&quot;Raw Asset: &quot;, fields[count].getName());\r\n        }\r\n    }\r\n\r\nSince the actual files aren&#39;t just sitting on the filesystem once they&#39;re on the phone, the name is irrelevant, and you&#39;ll need to refer to them by the integer assigned to that resource name. In the above example, you could get this integer thus:\r\n\r\n    int resourceID=fields[count].getInt(fields[count]);\r\n\r\nThis is the same int which you&#39;d get by referring to R.raw.whateveryounamedtheresource","title":"Android, how can I get a list of all files in a folder?","body":"<p>To list all the names of your raw assets, which are basically the filenames with the extensions stripped off, you can do this:</p>\n\n<pre><code>public void listRaw(){\n    Field[] fields=R.raw.class.getFields();\n    for(int count=0; count &lt; fields.length; count++){\n        Log.i(\"Raw Asset: \", fields[count].getName());\n    }\n}\n</code></pre>\n\n<p>Since the actual files aren't just sitting on the filesystem once they're on the phone, the name is irrelevant, and you'll need to refer to them by the integer assigned to that resource name. In the above example, you could get this integer thus:</p>\n\n<pre><code>int resourceID=fields[count].getInt(fields[count]);\n</code></pre>\n\n<p>This is the same int which you'd get by referring to R.raw.whateveryounamedtheresource</p>\n"},{"tags":[],"owner":{"account_id":2922622,"reputation":1030,"user_id":2504569,"accept_rate":20,"display_name":"Lucky Rana"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1463813680,"creation_date":1388652957,"answer_id":20879359,"question_id":6539715,"body_markdown":"This code will retrieve all the files from &#39;New Foder&#39; of sdCard.\r\n\t\t\r\n\t\tFile sdCardRoot = Environment.getExternalStorageDirectory();\r\n\t\tFile yourDir = new File(sdCardRoot, &quot;New Folder&quot;);\r\n\t\tfor (File f : yourDir.listFiles()) {\r\n\t\t    if (f.isFile())\t\t\t\r\n\t\t    {\t\t        \r\n\t\t   \t   String name = f.getName();\t\t   \t\r\n\t           Log.i(&quot;file names&quot;, name);          \r\n\t\t        \r\n\t\t    }\r\n\t\t\r\n\t\t }\r\n\r\nand also make sure to add android sd card write permission in your manifest.xml file \r\n\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>This code will retrieve all the files from 'New Foder' of sdCard.</p>\n\n<pre><code>    File sdCardRoot = Environment.getExternalStorageDirectory();\n    File yourDir = new File(sdCardRoot, \"New Folder\");\n    for (File f : yourDir.listFiles()) {\n        if (f.isFile())         \n        {               \n           String name = f.getName();           \n           Log.i(\"file names\", name);          \n\n        }\n\n     }\n</code></pre>\n\n<p>and also make sure to add android sd card write permission in your manifest.xml file </p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695457963,"creation_date":1695457963,"answer_id":77162240,"question_id":6539715,"body_markdown":"Here are two solutions for Kotlin.\r\n\r\n#### Method 1\r\n```kotlin\r\n// Make sure to add this dependency in your build file\r\n// implementation(kotlin(&quot;reflect&quot;))\r\n\r\nfor (property in R.raw::class.staticProperties) {\r\n    val itsName = property.name\r\n    val itsValue = property.get() // Aka, the resource ID\r\n}\r\n```\r\n\r\nNote that, to get properties that are not static (instance members), instead of `staticProperties` above, use `memberProperties` and pass your object instance to the `get()` function call.\r\n\r\n#### Method 2\r\n```kotlin\r\nval fields = R.raw::class.java.getFields()\r\nfor (field in fields) {\r\n    val itsName = field.name\r\n    val itsValue = field.getInt(field) // Aka, the resource ID\r\n}\r\n```\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>Here are two solutions for Kotlin.</p>\n<h4>Method 1</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Make sure to add this dependency in your build file\n// implementation(kotlin(&quot;reflect&quot;))\n\nfor (property in R.raw::class.staticProperties) {\n    val itsName = property.name\n    val itsValue = property.get() // Aka, the resource ID\n}\n</code></pre>\n<p>Note that, to get properties that are not static (instance members), instead of <code>staticProperties</code> above, use <code>memberProperties</code> and pass your object instance to the <code>get()</code> function call.</p>\n<h4>Method 2</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val fields = R.raw::class.java.getFields()\nfor (field in fields) {\n    val itsName = field.name\n    val itsValue = field.getInt(field) // Aka, the resource ID\n}\n</code></pre>\n"}],"owner":{"account_id":372309,"reputation":743,"user_id":721292,"accept_rate":64,"display_name":"jasonsemko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56140,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6540269,"answer_count":7,"score":31,"last_activity_date":1695458046,"creation_date":1309460224,"question_id":6539715,"body_markdown":"I need the name (String) of all files in res/raw/ directory.\r\n\r\nI tried:\r\n\r\n```java\r\nFile f = new File(&quot;/&quot;);\t\r\nString[] someFiles = f.list();\r\n```\r\n\r\nIt looks like the root directory is the root of the android emulator...and not my computers root directory. That makes enough sense, but doesn&#39;t really help me find out where the raw folder exists. \r\n\r\n**Update: Thanks for all the great replies. It appears that some of these are working, but only getting me half way. Perhaps a more detailed description will aid**\r\n\r\nI want to get all the mp3 files in the raw folder so I can get all the names, then add them to a URI to play a random MP3 in the following way...\r\n\r\n    String uriStr = &quot;android.resource://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;raw/dennis&quot;;\r\n    Uri uri = Uri.parse(uriStr);\r\n    singletonMediaPlayer = MediaPlayer.create(c, uri);\r\n\r\nWhen I put &quot;dennis.mp3&quot; into the assets folder, it does show up as expected, however, using the above code, I can&#39;t access that MP3 anymore, unless there is something along the line of:\r\n\r\n    String uriStr = &quot;android.assets://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;dennis&quot;;\r\n    Uri uri = Uri.parse(uriStr);\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>I need the name (String) of all files in res/raw/ directory.</p>\n<p>I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File f = new File(&quot;/&quot;); \nString[] someFiles = f.list();\n</code></pre>\n<p>It looks like the root directory is the root of the android emulator...and not my computers root directory. That makes enough sense, but doesn't really help me find out where the raw folder exists.</p>\n<p><strong>Update: Thanks for all the great replies. It appears that some of these are working, but only getting me half way. Perhaps a more detailed description will aid</strong></p>\n<p>I want to get all the mp3 files in the raw folder so I can get all the names, then add them to a URI to play a random MP3 in the following way...</p>\n<pre><code>String uriStr = &quot;android.resource://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;raw/dennis&quot;;\nUri uri = Uri.parse(uriStr);\nsingletonMediaPlayer = MediaPlayer.create(c, uri);\n</code></pre>\n<p>When I put &quot;dennis.mp3&quot; into the assets folder, it does show up as expected, however, using the above code, I can't access that MP3 anymore, unless there is something along the line of:</p>\n<pre><code>String uriStr = &quot;android.assets://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;dennis&quot;;\nUri uri = Uri.parse(uriStr);\n</code></pre>\n"},{"tags":["python","java","groovy"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":2,"creation_date":1695216358,"post_id":77142905,"comment_id":135994630,"body_markdown":"What you tried so far?","body":"What you tried so far?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1695218343,"post_id":77142905,"comment_id":135995166,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695221603,"post_id":77142905,"comment_id":135995998,"body_markdown":"Easiest would probably be to just call the Python script via a `ProcessBuilder` and communicate via stdin/stdout","body":"Easiest would probably be to just call the Python script via a <code>ProcessBuilder</code> and communicate via stdin/stdout"},{"owner":{"account_id":20561888,"reputation":45,"user_id":15092219,"display_name":"Wilko"},"score":0,"creation_date":1695283041,"post_id":77142905,"comment_id":136004376,"body_markdown":"@aled Just edited original post.","body":"@aled Just edited original post."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695223205,"creation_date":1695222844,"answer_id":77143810,"question_id":77142905,"body_markdown":"So here are some ideas. Exec&#39;ing a separate python process.  With Groovy you can do this:\r\n\r\n```\r\nString output = &quot;python myPython.py ${arg1} ${arg2} ${arg3}&quot;.execute().text\r\n```\r\nIn Java 9+\r\n```\r\nProcess process = new ProcessBuilder(&quot;python&quot;, &quot;myPython.py&quot;, arg1, arg2, arg3).start();\r\nprocess.waitFor( 30, TimeUnit.SECONDS );\r\nInputStream stream = process.getInputStream();\r\nString output = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\r\n```\r\nA word of warning I provide no real error handling.  If the process tosses an exception or python can&#39;t be found, etc.  This will produce unexpected behavior.  If you use this code you&#39;ll want to harden it with better error handling.\r\n\r\nThe next idea is to run a python web application hosting your python script in something like Flask.  Then hit that web app from Java / Groovy using an HTTP client.  There are a couple of benefits I can see with this approach.  If you are running it as a web service it only consumes a single python process.  If you are exec&#39;ing commands from within a JVM process it might startup lots of python processes for each innovation of the script.  This centralizes the python process and allows multiple clients to invoke the script so a bit lower overhead.  It&#39;s also a bit easier to pass JSON input and output to the process, but you could do that with the CLI option as well.  You&#39;d just have to pass that through STDIN and STDOUT of the python process.\r\n\r\nYou could also invoke it as an AWS Lambda service if you&#39;re running on AWS, and the JVM side wouldn&#39;t care if it was a Flask app or Lambda.","title":"Call python function from within Java","body":"<p>So here are some ideas. Exec'ing a separate python process.  With Groovy you can do this:</p>\n<pre><code>String output = &quot;python myPython.py ${arg1} ${arg2} ${arg3}&quot;.execute().text\n</code></pre>\n<p>In Java 9+</p>\n<pre><code>Process process = new ProcessBuilder(&quot;python&quot;, &quot;myPython.py&quot;, arg1, arg2, arg3).start();\nprocess.waitFor( 30, TimeUnit.SECONDS );\nInputStream stream = process.getInputStream();\nString output = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\n</code></pre>\n<p>A word of warning I provide no real error handling.  If the process tosses an exception or python can't be found, etc.  This will produce unexpected behavior.  If you use this code you'll want to harden it with better error handling.</p>\n<p>The next idea is to run a python web application hosting your python script in something like Flask.  Then hit that web app from Java / Groovy using an HTTP client.  There are a couple of benefits I can see with this approach.  If you are running it as a web service it only consumes a single python process.  If you are exec'ing commands from within a JVM process it might startup lots of python processes for each innovation of the script.  This centralizes the python process and allows multiple clients to invoke the script so a bit lower overhead.  It's also a bit easier to pass JSON input and output to the process, but you could do that with the CLI option as well.  You'd just have to pass that through STDIN and STDOUT of the python process.</p>\n<p>You could also invoke it as an AWS Lambda service if you're running on AWS, and the JVM side wouldn't care if it was a Flask app or Lambda.</p>\n"}],"owner":{"account_id":20561888,"reputation":45,"user_id":15092219,"display_name":"Wilko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695457501,"creation_date":1695216274,"question_id":77142905,"body_markdown":"I am building a workflow in an online tool that uses script tasks (Java / Groovy). In this workflow, the user defines some string that has to be processed. Processing has to be done within a Python script.\r\n\r\nSo let&#39;s say the user defines the string: &quot;This is a test string.&quot;\r\nThen this string will be fed to the script task, which is in Java or Groovy. This script task will have to push the string to a python function, somewhere outside of the system. The python function will push back a result to the Java script task, like 50% or something. This will be used later in the code.\r\n\r\nI was thinking about API&#39;s, but I have no idea how to build this. Any other ideas or some help in building my first API?\r\n\r\nEdit:\r\nSo as an example lets say I built a python script, called wordCounter.py\r\nIt looks like this:\r\n```python\r\ndef getWordCount(string):\r\n    return len(string.split())\r\n```\r\nThe function counts the number of words present in the string. So for &quot;This is a string.&quot; the result would be 4.\r\nNow I want my java script to be able to call this function. So, in java I define the string, pass it to the python function and retrieve the answer. It looks something like this:\r\n\r\n```java\r\nString testing = &quot;This is a string.&quot;\r\nint count = getWordCount(testing)\r\n```\r\n\r\nThe second part is incorrect, since the function is unavailable within the java script.\r\n\r\nI know that for the example it can be done entirely in Java, but my real code is much more complex. (It contains a Neural Network among others.)","title":"Call python function from within Java","body":"<p>I am building a workflow in an online tool that uses script tasks (Java / Groovy). In this workflow, the user defines some string that has to be processed. Processing has to be done within a Python script.</p>\n<p>So let's say the user defines the string: &quot;This is a test string.&quot;\nThen this string will be fed to the script task, which is in Java or Groovy. This script task will have to push the string to a python function, somewhere outside of the system. The python function will push back a result to the Java script task, like 50% or something. This will be used later in the code.</p>\n<p>I was thinking about API's, but I have no idea how to build this. Any other ideas or some help in building my first API?</p>\n<p>Edit:\nSo as an example lets say I built a python script, called wordCounter.py\nIt looks like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def getWordCount(string):\n    return len(string.split())\n</code></pre>\n<p>The function counts the number of words present in the string. So for &quot;This is a string.&quot; the result would be 4.\nNow I want my java script to be able to call this function. So, in java I define the string, pass it to the python function and retrieve the answer. It looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String testing = &quot;This is a string.&quot;\nint count = getWordCount(testing)\n</code></pre>\n<p>The second part is incorrect, since the function is unavailable within the java script.</p>\n<p>I know that for the example it can be done entirely in Java, but my real code is much more complex. (It contains a Neural Network among others.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":2,"creation_date":1435056914,"post_id":31000831,"comment_id":50029543,"body_markdown":"what&#39;s not working? give example of actual and expected output","body":"what&#39;s not working? give example of actual and expected output"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1435057094,"post_id":31000831,"comment_id":50029674,"body_markdown":"Can you please isolate code causing troubles?","body":"Can you please isolate code causing troubles?"},{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1435057133,"post_id":31000831,"comment_id":50029706,"body_markdown":"I replaced &quot;brake&quot; with &quot;break&quot;. Please rollback if that wasn&#39;t your intent.","body":"I replaced &quot;brake&quot; with &quot;break&quot;. Please rollback if that wasn&#39;t your intent."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1435057258,"post_id":31000831,"comment_id":50029782,"body_markdown":"A wild guess --&gt; are you showing text_3 in  html?","body":"A wild guess --&gt; are you showing text_3 in  html?"},{"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"score":0,"creation_date":1435057320,"post_id":31000831,"comment_id":50029826,"body_markdown":"nop in jframe .\ntext_3 is jLabel","body":"nop in jframe . text_3 is jLabel"},{"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"score":0,"creation_date":1435057373,"post_id":31000831,"comment_id":50029854,"body_markdown":"please check edited question","body":"please check edited question"},{"owner":{"account_id":3007207,"reputation":3322,"user_id":2551482,"display_name":"Sudhansu Choudhary"},"score":0,"creation_date":1435057632,"post_id":31000831,"comment_id":50030015,"body_markdown":"which OS? Windows/linux/OS X??","body":"which OS? Windows/linux/OS X??"}],"answers":[{"tags":[],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435059098,"creation_date":1435059098,"answer_id":31001614,"question_id":31000831,"body_markdown":"Have you tried setting text as `&quot;&lt;html&gt; this is &lt;br&gt; test&lt;/html&gt;&quot;`?","title":"How to line break in java","body":"<p>Have you tried setting text as <code>\"&lt;html&gt; this is &lt;br&gt; test&lt;/html&gt;\"</code>?</p>\n"},{"tags":[],"owner":{"account_id":3007207,"reputation":3322,"user_id":2551482,"display_name":"Sudhansu Choudhary"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641629922,"creation_date":1435059319,"answer_id":31001699,"question_id":31000831,"body_markdown":"\r\nUse `System.getProperty(&quot;line.separator&quot;)` like this, \r\n    \r\n   \r\n\r\n     String newLine = System.getProperty(&quot;line.separator&quot;);\r\n\r\n     //then insert newLine variable as this :\r\n     text_3.setText(text_3.getText() + newLine+ &quot;2 &quot; + lock2Name +\r\n     &quot;acquired in thread &quot; + Thread.currentThread().getName());","title":"How to line break in java","body":"<p>Use <code>System.getProperty(&quot;line.separator&quot;)</code> like this,</p>\n<pre><code> String newLine = System.getProperty(&quot;line.separator&quot;);\n\n //then insert newLine variable as this :\n text_3.setText(text_3.getText() + newLine+ &quot;2 &quot; + lock2Name +\n &quot;acquired in thread &quot; + Thread.currentThread().getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29255413,"reputation":1,"user_id":22413738,"display_name":"Swapnanil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695456649,"creation_date":1695455998,"answer_id":77162141,"question_id":31000831,"body_markdown":"    import static java.lang.System.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            out.print(&quot;Hello and welcome!&quot;);\r\n    \r\n            String new_Line = System.getProperty(&quot;line.separator&quot;);\r\n            System.out.println(new_Line);\r\n            int i;\r\n    \r\n            for (i=10; i &lt;=15; i++ ) {\r\n                System.out.println(i);\r\n            }\r\n    \r\n    \r\n            }\r\n        }\r\n\r\n","title":"How to line break in java","body":"<pre><code>import static java.lang.System.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        out.print(&quot;Hello and welcome!&quot;);\n\n        String new_Line = System.getProperty(&quot;line.separator&quot;);\n        System.out.println(new_Line);\n        int i;\n\n        for (i=10; i &lt;=15; i++ ) {\n            System.out.println(i);\n        }\n\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2335,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31001699,"answer_count":3,"score":2,"last_activity_date":1695456649,"creation_date":1435056805,"question_id":31000831,"body_markdown":"I am using `&quot;\\n&quot;` as a line break in Thread but it&#39;s not working. I went through a lot of SO answers which suggest using \r\n`System.getProperty(&quot;line.separator&quot;);`\r\nbut that also does not work for me..\r\n\r\n \r\n   \r\n    public static void main(String args[]) {\r\n   \r\n    final ReentrantLock lock1 = new ReentrantLock();\r\n    final ReentrantLock lock2 = new ReentrantLock();\r\n   \r\n    Runnable try1_2 = getRunnable(lock1, &quot;lock 1&quot;, lock2, &quot;lock 2&quot;);\r\n    Runnable try2_1 = getRunnable(lock2, &quot;lock 2&quot;, lock1, &quot;lock 1&quot;);\r\n\r\n    new Thread(try1_2).start();\r\n    new Thread(try2_1).start();\r\n        \r\n    }\r\n\r\n    private Runnable getRunnable(final ReentrantLock lock1, final String lock1Name, final ReentrantLock lock2, final String lock2Name) {\r\n        return new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                 \r\n                    if (lock1.tryLock(1, TimeUnit.SECONDS)) {\r\n                        \r\n                        System.out.println(&quot;1&quot;+lock1Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                        text_3.setText(text_3.getText() +&quot;1&quot;+lock1Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                        \r\n                        if (lock2.tryLock(1, TimeUnit.SECONDS)) {\r\n                            \r\n                            System.out.println(&quot;2&quot;+lock2Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;2&quot;+lock2Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                            \r\n                            Thread.sleep(2000);\r\n                        } else {\r\n                           \r\n                            System.out.println(&quot;3&quot;+&quot;Could not acquire &quot;+lock2Name + &quot; in thread &quot; + Thread.currentThread().getName());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;3&quot;+&quot;Could not acquire &quot;+lock2Name + &quot; in thread &quot; + Thread.currentThread().getName());\r\n                            \r\n                            lock1.unlock();\r\n                            \r\n                            System.out.println(&quot;4&quot;+lock1Name + &quot; released in thread &quot; + Thread.currentThread());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;4&quot;+lock1Name + &quot; released in thread &quot; + Thread.currentThread());\r\n    \r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;5&quot;+&quot;Could not acquire &quot; + lock1Name + &quot; in thread &quot; + Thread.currentThread());\r\n                        text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;5&quot;+&quot;Could not acquire &quot; + lock1Name + &quot; in thread &quot; + Thread.currentThread());\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                  \r\n                } finally {\r\n        \r\n                    if (lock1.isHeldByCurrentThread()) lock1.unlock();\r\n                    if (lock2.isHeldByCurrentThread()) lock2.unlock();\r\n                }\r\n            }\r\n        };\r\n    }\r\n     \r\noutput is as follows:\r\n\r\n`1lock 2 acquired in thread thread-1 1lock 2 acquired in thread thread-0....`\r\n\r\nI would like it to be as follows:\r\n\r\n`1lock 2 acquired in thread thread-1 \r\n1lock 2 acquired in thread thread-0....`","title":"How to line break in java","body":"<p>I am using <code>\"\\n\"</code> as a line break in Thread but it's not working. I went through a lot of SO answers which suggest using \n<code>System.getProperty(\"line.separator\");</code>\nbut that also does not work for me..</p>\n\n<pre><code>public static void main(String args[]) {\n\nfinal ReentrantLock lock1 = new ReentrantLock();\nfinal ReentrantLock lock2 = new ReentrantLock();\n\nRunnable try1_2 = getRunnable(lock1, \"lock 1\", lock2, \"lock 2\");\nRunnable try2_1 = getRunnable(lock2, \"lock 2\", lock1, \"lock 1\");\n\nnew Thread(try1_2).start();\nnew Thread(try2_1).start();\n\n}\n\nprivate Runnable getRunnable(final ReentrantLock lock1, final String lock1Name, final ReentrantLock lock2, final String lock2Name) {\n    return new Runnable() {\n        @Override\n        public void run() {\n            try {\n\n                if (lock1.tryLock(1, TimeUnit.SECONDS)) {\n\n                    System.out.println(\"1\"+lock1Name + \" acquired in thread \" + Thread.currentThread().getName());\n                    text_3.setText(text_3.getText() +\"1\"+lock1Name + \" acquired in thread \" + Thread.currentThread().getName());\n\n                    if (lock2.tryLock(1, TimeUnit.SECONDS)) {\n\n                        System.out.println(\"2\"+lock2Name + \" acquired in thread \" + Thread.currentThread().getName());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"2\"+lock2Name + \" acquired in thread \" + Thread.currentThread().getName());\n\n                        Thread.sleep(2000);\n                    } else {\n\n                        System.out.println(\"3\"+\"Could not acquire \"+lock2Name + \" in thread \" + Thread.currentThread().getName());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"3\"+\"Could not acquire \"+lock2Name + \" in thread \" + Thread.currentThread().getName());\n\n                        lock1.unlock();\n\n                        System.out.println(\"4\"+lock1Name + \" released in thread \" + Thread.currentThread());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"4\"+lock1Name + \" released in thread \" + Thread.currentThread());\n\n                    }\n                } else {\n                    System.out.println(\"5\"+\"Could not acquire \" + lock1Name + \" in thread \" + Thread.currentThread());\n                    text_3.setText(text_3.getText() + \"\\n\"+\"5\"+\"Could not acquire \" + lock1Name + \" in thread \" + Thread.currentThread());\n                }\n            } catch (InterruptedException e) {\n\n            } finally {\n\n                if (lock1.isHeldByCurrentThread()) lock1.unlock();\n                if (lock2.isHeldByCurrentThread()) lock2.unlock();\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>output is as follows:</p>\n\n<p><code>1lock 2 acquired in thread thread-1 1lock 2 acquired in thread thread-0....</code></p>\n\n<p>I would like it to be as follows:</p>\n\n<p><code>1lock 2 acquired in thread thread-1 \n1lock 2 acquired in thread thread-0....</code></p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1695535461,"post_id":77158865,"comment_id":136035816,"body_markdown":"What is `logsCollectionRef` defined?","body":"What is <code>logsCollectionRef</code> defined?"}],"answers":[{"tags":[],"owner":{"account_id":20772013,"reputation":37,"user_id":15254470,"display_name":"Exitron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695456244,"creation_date":1695456244,"answer_id":77162152,"question_id":77158865,"body_markdown":"By reading the exception, this problem is possibly occuring due to FirebaseFirestore. \r\n\r\n&gt; FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object\r\n\r\nAlso check the code at this line since the exception is pointing out to here\r\n\r\n&gt; (FirebaseFirestore.java:267) at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\r\n\r\nWithout the full code it&#39;s difficult to trace out the issue. Please add more code especially which is pointed out by the exception. ","title":"firebase authentication after login app automatically recent Minimized","body":"<p>By reading the exception, this problem is possibly occuring due to FirebaseFirestore.</p>\n<blockquote>\n<p>FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object</p>\n</blockquote>\n<p>Also check the code at this line since the exception is pointing out to here</p>\n<blockquote>\n<p>(FirebaseFirestore.java:267) at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)</p>\n</blockquote>\n<p>Without the full code it's difficult to trace out the issue. Please add more code especially which is pointed out by the exception.</p>\n"}],"owner":{"account_id":24035429,"reputation":11,"user_id":18015765,"display_name":"XenLeaks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695456244,"creation_date":1695395685,"question_id":77158865,"body_markdown":"firebase authentication after login success app automatically minimize.\r\n\r\n**android studio error logcat here.**\r\n\r\n&gt; FATAL EXCEPTION: main\r\n      Process: com.myapp.myapp, PID: 15474\r\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.myapp/com.myapp.myapp.MainActivity}: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\r\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\r\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n      at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n      at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n      at android.os.Handler.dispatchMessage(Handler.java:106)\r\n      at android.os.Looper.loopOnce(Looper.java:201)\r\n      at android.os.Looper.loop(Looper.java:288)\r\n      at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n      at java.lang.reflect.Method.invoke(Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n      Caused by: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\r\n      at com.google.firebase.firestore.FirebaseFirestore.setFirestoreSettings(FirebaseFirestore.java:267)\r\n      at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\r\n      at android.app.Activity.performCreate(Activity.java:8305)\r\n      at android.app.Activity.performCreate(Activity.java:8284)\r\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)&#160;\r\n      at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n      at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)&#160;\r\n      at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n      at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n      at android.os.Looper.loop(Looper.java:288)&#160;\r\n      at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n      at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n\r\n\r\n         final String signInUsername = username.getText().toString().trim().concat(USER_EMAIL_SUFFIX);\r\n        String signInPassword = password.getText().toString().trim();\r\n        firebaseAuth.signInWithEmailAndPassword(signInUsername,signInPassword).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onSuccess(AuthResult authResult) {\r\n\r\n                SharedPreferences preferences = getSharedPreferences(&quot;extras&quot;,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n\r\n                DSLog log = new DSLog(System.currentTimeMillis(),signInUsername, LOGGED_IN);\r\n                editor.putLong(&quot;time&quot;,log.getTimestamp());\r\n                editor.apply();\r\n                logsCollectionRef.document(log.getTimestamp()+&quot;&quot;).set(log).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            Intent toEventList = new Intent(com.myapp.myapp.LoginActivity.this,MainActivity.class);\r\n                            startActivity(toEventList);\r\n                            unfadeLoginBox();\r\n                            finish();\r\n                        } else {\r\n                            Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Could not Log In&quot;, Toast.LENGTH_SHORT).show();\r\n                            firebaseAuth.signOut();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                unfadeLoginBox();\r\n                Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Invalid Username/Password&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }","title":"firebase authentication after login app automatically recent Minimized","body":"<p>firebase authentication after login success app automatically minimize.</p>\n<p><strong>android studio error logcat here.</strong></p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.myapp.myapp, PID: 15474\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.myapp/com.myapp.myapp.MainActivity}: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\nCaused by: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\nat com.google.firebase.firestore.FirebaseFirestore.setFirestoreSettings(FirebaseFirestore.java:267)\nat com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\nat android.app.Activity.performCreate(Activity.java:8305)\nat android.app.Activity.performCreate(Activity.java:8284)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n</blockquote>\n<pre><code>     final String signInUsername = username.getText().toString().trim().concat(USER_EMAIL_SUFFIX);\n    String signInPassword = password.getText().toString().trim();\n    firebaseAuth.signInWithEmailAndPassword(signInUsername,signInPassword).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n        @Override\n        public void onSuccess(AuthResult authResult) {\n\n            SharedPreferences preferences = getSharedPreferences(&quot;extras&quot;,MODE_PRIVATE);\n            SharedPreferences.Editor editor = preferences.edit();\n\n            DSLog log = new DSLog(System.currentTimeMillis(),signInUsername, LOGGED_IN);\n            editor.putLong(&quot;time&quot;,log.getTimestamp());\n            editor.apply();\n            logsCollectionRef.document(log.getTimestamp()+&quot;&quot;).set(log).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if(task.isSuccessful()){\n                        Intent toEventList = new Intent(com.myapp.myapp.LoginActivity.this,MainActivity.class);\n                        startActivity(toEventList);\n                        unfadeLoginBox();\n                        finish();\n                    } else {\n                        Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Could not Log In&quot;, Toast.LENGTH_SHORT).show();\n                        firebaseAuth.signOut();\n                    }\n                }\n            });\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            unfadeLoginBox();\n            Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Invalid Username/Password&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","swing","2d"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1695440233,"post_id":77161273,"comment_id":136028392,"body_markdown":"I would probably do something a little different, apart from not using the `JFrame` as your primary surface, I would generate a &quot;world&quot; model, which would maintain information about the type of biome is at what types of areas/chunks.  I would then, when the user moves to this area, look to see if a panel exists for that chunk, if it does, present it, if it doesn&#39;t create it.  This way you&#39;re loading components you don&#39;t need (and caching them as you use them)","body":"I would probably do something a little different, apart from not using the <code>JFrame</code> as your primary surface, I would generate a &quot;world&quot; model, which would maintain information about the type of biome is at what types of areas/chunks.  I would then, when the user moves to this area, look to see if a panel exists for that chunk, if it does, present it, if it doesn&#39;t create it.  This way you&#39;re loading components you don&#39;t need (and caching them as you use them)"},{"owner":{"account_id":23788448,"reputation":1,"user_id":17942336,"display_name":"LeninYT"},"score":0,"creation_date":1695440992,"post_id":77161273,"comment_id":136028417,"body_markdown":"@MadProgrammer Could you give an example of the type of code I would use?","body":"@MadProgrammer Could you give an example of the type of code I would use?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695456069,"creation_date":1695451645,"answer_id":77161939,"question_id":77161273,"body_markdown":"&gt; Could you give an example of the type of code I would use?\r\n\r\nYou may regret that.\r\n\r\nFirst, you should start by defining some models which describe your data. This allows you to decouple your UI from your data (this is the bases of the &quot;model-view-controller&quot; concept)...\r\n    \r\n    public enum Biome {\r\n        FOREST, PLAINS\r\n    }\r\n    \r\n    public interface Chunk {\r\n        public Biome getBiome();\r\n        public Point getLocation();\r\n    }\r\n    \r\n    public interface World {\r\n        public Chunk getChunkAt(int x, int y);\r\n    }\r\n\r\nThat&#39;s pretty basic, but we also need some way to be able to create random chunks, in this case we can use a concept of a factory...\r\n    \r\n    public interface ChunkFactory {\r\n        public Chunk createChunk(Point worldLocation);\r\n    }\r\n\r\n&gt; But why are we using `interface`s?\r\n\r\nInterfaces allow you to define the contracts of your code without been tied to individual implementations.  This also supports the &quot;dependency injection&quot; principle.\r\n\r\nNext, we need to define some kind of model to store our chunks in, one which can by randomly accessed and which can dynamically grow based on the data been placed in it.\r\n\r\nTo this end, I&#39;d consider some kind of &quot;matrix&quot;.  You could use a two dimensional array, but where&#39;s the fun in that &#128521;.\r\n\r\nThe follow is a concept of a &quot;matrix&quot; backed by `Map`...\r\n\r\n    // This basically acts a multi dimensional matrix of values, keyed by the\r\n    // x/y coordinates.\r\n    public interface Matrix&lt;Type&gt; {\r\n        public Type get(int x, int y);\r\n        public void put(Type value, int x, int y);\r\n    }\r\n    \r\n    public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \r\n        private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\r\n        \r\n        @Override\r\n        public Type get(int x, int y) {\r\n            Map&lt;Integer, Type&gt; rows = values.get(y);\r\n            if (rows == null) {\r\n                return null;\r\n            }\r\n            return rows.get(x);\r\n        }\r\n        \r\n        @Override\r\n        public void put(Type value, int x, int y) {\r\n            Map&lt;Integer, Type&gt; rows = values.get(y);\r\n            if (rows == null) {\r\n                rows = new HashMap&lt;Integer, Type&gt;(8);\r\n                values.put(y, rows);\r\n            }\r\n            rows.put(x, value);\r\n        }\r\n    }\r\n\r\nNow, we can get started with some initial implementations...\r\n    \r\n    public class DefaultChunkFactory implements ChunkFactory {\r\n        \r\n        private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\r\n        \r\n        protected List&lt;Biome&gt; getListOfBiomes() {\r\n            return listOfBiomes;\r\n        }\r\n        \r\n        @Override\r\n        public Chunk createChunk(Point worldLocation) {\r\n            List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\r\n            Collections.shuffle(biomes);\r\n            Biome biome = biomes.get(0);\r\n            return new DefaultChunk(biome, worldLocation);\r\n        }\r\n    }\r\n    \r\n    public class DefaultChunk implements Chunk {        \r\n        private Biome biome;\r\n        private Point location;\r\n\r\n        public DefaultChunk(Biome biome, Point location) {\r\n            this.biome = biome;\r\n            this.location = new Point(location);\r\n        }\r\n        \r\n        @Override\r\n        public Biome getBiome() {\r\n            return biome;\r\n        }        \r\n\r\n        @Override\r\n        public Point getLocation() {\r\n            return location;\r\n        }\r\n    }\r\n    \r\n    public class DefaultWorld implements World {\r\n        \r\n        private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\r\n        private ChunkFactory chunkFactory;\r\n\r\n        public DefaultWorld(ChunkFactory chunkFactory) {\r\n            this.chunkFactory = chunkFactory;\r\n        }\r\n\r\n        public ChunkFactory getChunkFactory() {\r\n            return chunkFactory;\r\n        }\r\n        \r\n        protected Matrix&lt;Chunk&gt; getChunks() {\r\n            return chunkMatrix;\r\n        }\r\n        \r\n        @Override\r\n        public Chunk getChunkAt(int x, int y) {\r\n            Chunk chunk = getChunks().get(x, y);\r\n            if (chunk == null) {\r\n                chunk = getChunkFactory().createChunk(new Point(x, y));\r\n                getChunks().put(chunk, x, y);\r\n            }\r\n            return chunk;\r\n        }\r\n    }\r\n\r\nthese are pretty basic, but they build the concept of the &quot;world&quot; and &quot;chunks&quot;.\r\n\r\nAnd finally, we can get start with the UI!\r\n\r\nFirst, a component which can represent a `Chunk`\r\n\r\n    public class ChunkPane extends JPanel {\r\n        private Chunk chunk;\r\n\r\n        public ChunkPane(Chunk chunk) {\r\n            this.chunk = chunk;\r\n            switch (chunk.getBiome()) {\r\n                case FOREST:\r\n                    setBackground(Color.GREEN);\r\n                    break;\r\n                case PLAINS:\r\n                    setBackground(Color.YELLOW);\r\n                    break;\r\n            }\r\n            \r\n            setLayout(new GridBagLayout());\r\n            Point location = chunk.getLocation();\r\n            JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\r\n            add(label);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(200, 200);\r\n        }\r\n    }\r\n\r\nThis is pretty basic, it sets it&#39;s background color based on the biome and displays the chunk location within the world.\r\n\r\nOkay, next, we need a &quot;world&quot; pane which can manage the display of the chunks based on the location of the player.\r\n    \r\n    public class SwingCraft extends JPanel {\r\n        protected enum Direction {\r\n            UP, DOWN, LEFT, RIGHT\r\n        }\r\n        \r\n        private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\r\n        \r\n        private World world;\r\n        private Point playerLocation = new Point(0, 0);\r\n        \r\n        public SwingCraft(World world) {\r\n            setLayout(new BorderLayout());\r\n            this.world = world;\r\n            setChunk(playerLocation);\r\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap actionMap = getActionMap();\r\n            \r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\r\n            \r\n            actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\r\n            actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\r\n            actionMap.put(Direction.UP, new MoveAction(0, -1));\r\n            actionMap.put(Direction.DOWN, new MoveAction(0, 1));\r\n        }\r\n        \r\n        public void setChunk(Point location) {\r\n            ChunkPane pane = chunkMatrix.get(location.x, location.y);\r\n            if (pane == null) {\r\n                Chunk chunk = world.getChunkAt(location.x, location.y);\r\n                pane = new ChunkPane(chunk);\r\n                chunkMatrix.put(pane, location.x, location.y);\r\n            }\r\n            \r\n            removeAll();\r\n            add(pane);\r\n            \r\n            revalidate();\r\n            repaint();\r\n        }\r\n        \r\n        protected void moveBy(int xDelta, int yDelta) {\r\n            int targetX = playerLocation.x + xDelta;\r\n            int targetY = playerLocation.y + yDelta;\r\n            \r\n            playerLocation.x = targetX;\r\n            playerLocation.y = targetY;\r\n            \r\n            setChunk(playerLocation);\r\n        }\r\n        \r\n        protected class MoveAction extends AbstractAction {\r\n            private int xDelta, yDelta;\r\n\r\n            public MoveAction(int xDelta, int yDelta) {\r\n                this.xDelta = xDelta;\r\n                this.yDelta = yDelta;\r\n            }\r\n            \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                moveBy(xDelta, yDelta);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is pretty basic.  It provides a simple navigation using key bindings which will either display the cached biome pane if available or create new chunk and pane and display that.\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new SwingCraft(new DefaultWorld(new DefaultChunkFactory())));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class SwingCraft extends JPanel {\r\n            protected enum Direction {\r\n                UP, DOWN, LEFT, RIGHT\r\n            }\r\n\r\n            private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\r\n\r\n            private World world;\r\n            private Point playerLocation = new Point(0, 0);\r\n\r\n            public SwingCraft(World world) {\r\n                setLayout(new BorderLayout());\r\n                this.world = world;\r\n                setChunk(playerLocation);\r\n                InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\r\n\r\n                actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\r\n                actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\r\n                actionMap.put(Direction.UP, new MoveAction(0, -1));\r\n                actionMap.put(Direction.DOWN, new MoveAction(0, 1));\r\n            }\r\n\r\n            public void setChunk(Point location) {\r\n                ChunkPane pane = chunkMatrix.get(location.x, location.y);\r\n                if (pane == null) {\r\n                    Chunk chunk = world.getChunkAt(location.x, location.y);\r\n                    pane = new ChunkPane(chunk);\r\n                    chunkMatrix.put(pane, location.x, location.y);\r\n                }\r\n\r\n                removeAll();\r\n                add(pane);\r\n\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            protected void moveBy(int xDelta, int yDelta) {\r\n                int targetX = playerLocation.x + xDelta;\r\n                int targetY = playerLocation.y + yDelta;\r\n\r\n                playerLocation.x = targetX;\r\n                playerLocation.y = targetY;\r\n\r\n                setChunk(playerLocation);\r\n            }\r\n\r\n            protected class MoveAction extends AbstractAction {\r\n                private int xDelta, yDelta;\r\n\r\n                public MoveAction(int xDelta, int yDelta) {\r\n                    this.xDelta = xDelta;\r\n                    this.yDelta = yDelta;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    moveBy(xDelta, yDelta);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class ChunkPane extends JPanel {\r\n            private Chunk chunk;\r\n\r\n            public ChunkPane(Chunk chunk) {\r\n                this.chunk = chunk;\r\n                switch (chunk.getBiome()) {\r\n                    case FOREST:\r\n                        setBackground(Color.GREEN);\r\n                        break;\r\n                    case PLAINS:\r\n                        setBackground(Color.YELLOW);\r\n                        break;\r\n                }\r\n\r\n                setLayout(new GridBagLayout());\r\n                Point location = chunk.getLocation();\r\n                JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\r\n                add(label);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n        }\r\n\r\n        // This basically acts a multi dimensional matrix of values, keyed by the\r\n        // x/y coordinates.\r\n        public interface Matrix&lt;Type&gt; {\r\n            public Type get(int x, int y);\r\n            public void put(Type value, int x, int y);\r\n        }\r\n\r\n        public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \r\n            private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\r\n\r\n            @Override\r\n            public Type get(int x, int y) {\r\n                Map&lt;Integer, Type&gt; rows = values.get(y);\r\n                if (rows == null) {\r\n                    return null;\r\n                }\r\n                return rows.get(x);\r\n            }\r\n\r\n            @Override\r\n            public void put(Type value, int x, int y) {\r\n                Map&lt;Integer, Type&gt; rows = values.get(y);\r\n                if (rows == null) {\r\n                    rows = new HashMap&lt;Integer, Type&gt;(8);\r\n                    values.put(y, rows);\r\n                }\r\n                rows.put(x, value);\r\n            }\r\n        }\r\n\r\n        public enum Biome {\r\n            FOREST, PLAINS\r\n        }\r\n\r\n        public interface Chunk {\r\n            public Biome getBiome();\r\n            public Point getLocation();\r\n        }\r\n\r\n        public interface World {\r\n            public Chunk getChunkAt(int x, int y);\r\n        }\r\n\r\n        public interface ChunkFactory {\r\n            public Chunk createChunk(Point worldLocation);\r\n        }\r\n\r\n        public class DefaultChunkFactory implements ChunkFactory {\r\n\r\n            private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\r\n\r\n            protected List&lt;Biome&gt; getListOfBiomes() {\r\n                return listOfBiomes;\r\n            }\r\n\r\n            @Override\r\n            public Chunk createChunk(Point worldLocation) {\r\n                List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\r\n                Collections.shuffle(biomes);\r\n                Biome biome = biomes.get(0);\r\n                return new DefaultChunk(biome, worldLocation);\r\n            }\r\n        }\r\n\r\n        public class DefaultChunk implements Chunk {        \r\n            private Biome biome;\r\n            private Point location;\r\n\r\n            public DefaultChunk(Biome biome, Point location) {\r\n                this.biome = biome;\r\n                this.location = new Point(location);\r\n            }\r\n\r\n            @Override\r\n            public Biome getBiome() {\r\n                return biome;\r\n            }        \r\n\r\n            @Override\r\n            public Point getLocation() {\r\n                return location;\r\n            }\r\n        }\r\n\r\n        public class DefaultWorld implements World {\r\n\r\n            private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\r\n            private ChunkFactory chunkFactory;\r\n\r\n            public DefaultWorld(ChunkFactory chunkFactory) {\r\n                this.chunkFactory = chunkFactory;\r\n            }\r\n\r\n            public ChunkFactory getChunkFactory() {\r\n                return chunkFactory;\r\n            }\r\n\r\n            protected Matrix&lt;Chunk&gt; getChunks() {\r\n                return chunkMatrix;\r\n            }\r\n\r\n            @Override\r\n            public Chunk getChunkAt(int x, int y) {\r\n                Chunk chunk = getChunks().get(x, y);\r\n                if (chunk == null) {\r\n                    chunk = getChunkFactory().createChunk(new Point(x, y));\r\n                    getChunks().put(chunk, x, y);\r\n                }\r\n                return chunk;\r\n            }\r\n        }\r\n    }\r\n","title":"Is there a way to make terrain generation with JPanels and Java Swing?","body":"<blockquote>\n<p>Could you give an example of the type of code I would use?</p>\n</blockquote>\n<p>You may regret that.</p>\n<p>First, you should start by defining some models which describe your data. This allows you to decouple your UI from your data (this is the bases of the &quot;model-view-controller&quot; concept)...</p>\n<pre><code>public enum Biome {\n    FOREST, PLAINS\n}\n\npublic interface Chunk {\n    public Biome getBiome();\n    public Point getLocation();\n}\n\npublic interface World {\n    public Chunk getChunkAt(int x, int y);\n}\n</code></pre>\n<p>That's pretty basic, but we also need some way to be able to create random chunks, in this case we can use a concept of a factory...</p>\n<pre><code>public interface ChunkFactory {\n    public Chunk createChunk(Point worldLocation);\n}\n</code></pre>\n<blockquote>\n<p>But why are we using <code>interface</code>s?</p>\n</blockquote>\n<p>Interfaces allow you to define the contracts of your code without been tied to individual implementations.  This also supports the &quot;dependency injection&quot; principle.</p>\n<p>Next, we need to define some kind of model to store our chunks in, one which can by randomly accessed and which can dynamically grow based on the data been placed in it.</p>\n<p>To this end, I'd consider some kind of &quot;matrix&quot;.  You could use a two dimensional array, but where's the fun in that .</p>\n<p>The follow is a concept of a &quot;matrix&quot; backed by <code>Map</code>...</p>\n<pre><code>// This basically acts a multi dimensional matrix of values, keyed by the\n// x/y coordinates.\npublic interface Matrix&lt;Type&gt; {\n    public Type get(int x, int y);\n    public void put(Type value, int x, int y);\n}\n\npublic class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \n    private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\n    \n    @Override\n    public Type get(int x, int y) {\n        Map&lt;Integer, Type&gt; rows = values.get(y);\n        if (rows == null) {\n            return null;\n        }\n        return rows.get(x);\n    }\n    \n    @Override\n    public void put(Type value, int x, int y) {\n        Map&lt;Integer, Type&gt; rows = values.get(y);\n        if (rows == null) {\n            rows = new HashMap&lt;Integer, Type&gt;(8);\n            values.put(y, rows);\n        }\n        rows.put(x, value);\n    }\n}\n</code></pre>\n<p>Now, we can get started with some initial implementations...</p>\n<pre><code>public class DefaultChunkFactory implements ChunkFactory {\n    \n    private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\n    \n    protected List&lt;Biome&gt; getListOfBiomes() {\n        return listOfBiomes;\n    }\n    \n    @Override\n    public Chunk createChunk(Point worldLocation) {\n        List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\n        Collections.shuffle(biomes);\n        Biome biome = biomes.get(0);\n        return new DefaultChunk(biome, worldLocation);\n    }\n}\n\npublic class DefaultChunk implements Chunk {        \n    private Biome biome;\n    private Point location;\n\n    public DefaultChunk(Biome biome, Point location) {\n        this.biome = biome;\n        this.location = new Point(location);\n    }\n    \n    @Override\n    public Biome getBiome() {\n        return biome;\n    }        \n\n    @Override\n    public Point getLocation() {\n        return location;\n    }\n}\n\npublic class DefaultWorld implements World {\n    \n    private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\n    private ChunkFactory chunkFactory;\n\n    public DefaultWorld(ChunkFactory chunkFactory) {\n        this.chunkFactory = chunkFactory;\n    }\n\n    public ChunkFactory getChunkFactory() {\n        return chunkFactory;\n    }\n    \n    protected Matrix&lt;Chunk&gt; getChunks() {\n        return chunkMatrix;\n    }\n    \n    @Override\n    public Chunk getChunkAt(int x, int y) {\n        Chunk chunk = getChunks().get(x, y);\n        if (chunk == null) {\n            chunk = getChunkFactory().createChunk(new Point(x, y));\n            getChunks().put(chunk, x, y);\n        }\n        return chunk;\n    }\n}\n</code></pre>\n<p>these are pretty basic, but they build the concept of the &quot;world&quot; and &quot;chunks&quot;.</p>\n<p>And finally, we can get start with the UI!</p>\n<p>First, a component which can represent a <code>Chunk</code></p>\n<pre><code>public class ChunkPane extends JPanel {\n    private Chunk chunk;\n\n    public ChunkPane(Chunk chunk) {\n        this.chunk = chunk;\n        switch (chunk.getBiome()) {\n            case FOREST:\n                setBackground(Color.GREEN);\n                break;\n            case PLAINS:\n                setBackground(Color.YELLOW);\n                break;\n        }\n        \n        setLayout(new GridBagLayout());\n        Point location = chunk.getLocation();\n        JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\n        add(label);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(200, 200);\n    }\n}\n</code></pre>\n<p>This is pretty basic, it sets it's background color based on the biome and displays the chunk location within the world.</p>\n<p>Okay, next, we need a &quot;world&quot; pane which can manage the display of the chunks based on the location of the player.</p>\n<pre><code>public class SwingCraft extends JPanel {\n    protected enum Direction {\n        UP, DOWN, LEFT, RIGHT\n    }\n    \n    private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\n    \n    private World world;\n    private Point playerLocation = new Point(0, 0);\n    \n    public SwingCraft(World world) {\n        setLayout(new BorderLayout());\n        this.world = world;\n        setChunk(playerLocation);\n        InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = getActionMap();\n        \n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\n        \n        actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\n        actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\n        actionMap.put(Direction.UP, new MoveAction(0, -1));\n        actionMap.put(Direction.DOWN, new MoveAction(0, 1));\n    }\n    \n    public void setChunk(Point location) {\n        ChunkPane pane = chunkMatrix.get(location.x, location.y);\n        if (pane == null) {\n            Chunk chunk = world.getChunkAt(location.x, location.y);\n            pane = new ChunkPane(chunk);\n            chunkMatrix.put(pane, location.x, location.y);\n        }\n        \n        removeAll();\n        add(pane);\n        \n        revalidate();\n        repaint();\n    }\n    \n    protected void moveBy(int xDelta, int yDelta) {\n        int targetX = playerLocation.x + xDelta;\n        int targetY = playerLocation.y + yDelta;\n        \n        playerLocation.x = targetX;\n        playerLocation.y = targetY;\n        \n        setChunk(playerLocation);\n    }\n    \n    protected class MoveAction extends AbstractAction {\n        private int xDelta, yDelta;\n\n        public MoveAction(int xDelta, int yDelta) {\n            this.xDelta = xDelta;\n            this.yDelta = yDelta;\n        }\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            moveBy(xDelta, yDelta);\n        }\n    }\n}\n</code></pre>\n<p>This is pretty basic.  It provides a simple navigation using key bindings which will either display the cached biome pane if available or create new chunk and pane and display that.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new SwingCraft(new DefaultWorld(new DefaultChunkFactory())));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class SwingCraft extends JPanel {\n        protected enum Direction {\n            UP, DOWN, LEFT, RIGHT\n        }\n\n        private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\n\n        private World world;\n        private Point playerLocation = new Point(0, 0);\n\n        public SwingCraft(World world) {\n            setLayout(new BorderLayout());\n            this.world = world;\n            setChunk(playerLocation);\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\n\n            actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\n            actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\n            actionMap.put(Direction.UP, new MoveAction(0, -1));\n            actionMap.put(Direction.DOWN, new MoveAction(0, 1));\n        }\n\n        public void setChunk(Point location) {\n            ChunkPane pane = chunkMatrix.get(location.x, location.y);\n            if (pane == null) {\n                Chunk chunk = world.getChunkAt(location.x, location.y);\n                pane = new ChunkPane(chunk);\n                chunkMatrix.put(pane, location.x, location.y);\n            }\n\n            removeAll();\n            add(pane);\n\n            revalidate();\n            repaint();\n        }\n\n        protected void moveBy(int xDelta, int yDelta) {\n            int targetX = playerLocation.x + xDelta;\n            int targetY = playerLocation.y + yDelta;\n\n            playerLocation.x = targetX;\n            playerLocation.y = targetY;\n\n            setChunk(playerLocation);\n        }\n\n        protected class MoveAction extends AbstractAction {\n            private int xDelta, yDelta;\n\n            public MoveAction(int xDelta, int yDelta) {\n                this.xDelta = xDelta;\n                this.yDelta = yDelta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                moveBy(xDelta, yDelta);\n            }\n        }\n    }\n\n    public class ChunkPane extends JPanel {\n        private Chunk chunk;\n\n        public ChunkPane(Chunk chunk) {\n            this.chunk = chunk;\n            switch (chunk.getBiome()) {\n                case FOREST:\n                    setBackground(Color.GREEN);\n                    break;\n                case PLAINS:\n                    setBackground(Color.YELLOW);\n                    break;\n            }\n\n            setLayout(new GridBagLayout());\n            Point location = chunk.getLocation();\n            JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\n            add(label);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n    }\n\n    // This basically acts a multi dimensional matrix of values, keyed by the\n    // x/y coordinates.\n    public interface Matrix&lt;Type&gt; {\n        public Type get(int x, int y);\n        public void put(Type value, int x, int y);\n    }\n\n    public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \n        private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\n\n        @Override\n        public Type get(int x, int y) {\n            Map&lt;Integer, Type&gt; rows = values.get(y);\n            if (rows == null) {\n                return null;\n            }\n            return rows.get(x);\n        }\n\n        @Override\n        public void put(Type value, int x, int y) {\n            Map&lt;Integer, Type&gt; rows = values.get(y);\n            if (rows == null) {\n                rows = new HashMap&lt;Integer, Type&gt;(8);\n                values.put(y, rows);\n            }\n            rows.put(x, value);\n        }\n    }\n\n    public enum Biome {\n        FOREST, PLAINS\n    }\n\n    public interface Chunk {\n        public Biome getBiome();\n        public Point getLocation();\n    }\n\n    public interface World {\n        public Chunk getChunkAt(int x, int y);\n    }\n\n    public interface ChunkFactory {\n        public Chunk createChunk(Point worldLocation);\n    }\n\n    public class DefaultChunkFactory implements ChunkFactory {\n\n        private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\n\n        protected List&lt;Biome&gt; getListOfBiomes() {\n            return listOfBiomes;\n        }\n\n        @Override\n        public Chunk createChunk(Point worldLocation) {\n            List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\n            Collections.shuffle(biomes);\n            Biome biome = biomes.get(0);\n            return new DefaultChunk(biome, worldLocation);\n        }\n    }\n\n    public class DefaultChunk implements Chunk {        \n        private Biome biome;\n        private Point location;\n\n        public DefaultChunk(Biome biome, Point location) {\n            this.biome = biome;\n            this.location = new Point(location);\n        }\n\n        @Override\n        public Biome getBiome() {\n            return biome;\n        }        \n\n        @Override\n        public Point getLocation() {\n            return location;\n        }\n    }\n\n    public class DefaultWorld implements World {\n\n        private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\n        private ChunkFactory chunkFactory;\n\n        public DefaultWorld(ChunkFactory chunkFactory) {\n            this.chunkFactory = chunkFactory;\n        }\n\n        public ChunkFactory getChunkFactory() {\n            return chunkFactory;\n        }\n\n        protected Matrix&lt;Chunk&gt; getChunks() {\n            return chunkMatrix;\n        }\n\n        @Override\n        public Chunk getChunkAt(int x, int y) {\n            Chunk chunk = getChunks().get(x, y);\n            if (chunk == null) {\n                chunk = getChunkFactory().createChunk(new Point(x, y));\n                getChunks().put(chunk, x, y);\n            }\n            return chunk;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23788448,"reputation":1,"user_id":17942336,"display_name":"LeninYT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695456069,"creation_date":1695430270,"question_id":77161273,"body_markdown":"I have been wanting to make an array of JPanels(a 3 by 3 array) with a randomly generated JPanel that is either a forest or plains, with the center one always being one called house. There will always be one visible, and I want it so when the x-position of a JLabel called character reaches x-position 0, it will check which JPanel in that array is being used as a ContentPane, and if this event happens in a JPanel that is in the first column, it will do a System.out.Println(&quot;Hello!&quot;) kind of thing but if this happens in the other two columns, the contentpane will be set to whatever row this happened on-1 column. This is the same with the y-position of this JLabel. Do I need this to be in a thread since it should constantly check if the x or y-position has reached 0? If needed, I could post the code, but I just need an example. The class that has the whole Swing window extends JFrame, if it is necessary and the main class calls the object Window where everything is, such as the window and JLabel.\r\n\r\nI expect it to be like Minecraft world generation, but if it was 2D, made in Java Swing, and only one chunk for the sake of detail. I have tried this: \r\n```\r\n\t\twhile(true){\r\n\t\t\tswitch(guineaXPosition) {\r\n\t\t\tcase 0:\r\n\t\t\t\tfor (int i = 0; i &lt; world.length; i++) {\r\n\t\t\t\t\tfor(int j=0;i&lt;world.length;j++) {\r\n\t\t\t\t      if (frame.getContentPane()==world[i][0]) {\r\n\t\t\t\t        // The guinea is in the JPanel at index [i][j].\r\n\t\t\t\t        // Perform the desired action.\r\n\t\t\t\t    \t  System.out.println(&quot;Edge of world, nothing you can do!&quot;);\r\n\t\t\t\t      }else {\r\n\t\t\t\t    \t  frame.setContentPane(world[i][j-1]);\r\n\t\t\t\t      }}\r\n\t\t\t\t    }\t\t\t\t\r\n\t\t\t\t    break;\r\n\t\t\tcase 1300:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n```\r\nin one thread and did this in another thread: \r\n```\r\n\t\tRandom random = new Random();\r\n\t\tint terrainTypeGen=random.nextInt(2)+1;\r\n\t\tfor(int i=0;i&lt;world.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;world[0].length;j++) {\r\n\t\t\t\tif(i==1&amp;&amp;j==1) {\r\n\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tString terrainType=null;\r\n\t\t\t\t\tif(terrainTypeGen==1) {\r\n\t\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t\t\tworld[i][j].setBackground(Color.GREEN);\r\n\t\t\t\t\t}else if(terrainTypeGen==2) {\r\n\t\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t\t\tworld[i][j].setBackground(Color.GREEN);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\nPlease don&#39;t judge me.\r\nAnd please tell me if any more detail is required.","title":"Is there a way to make terrain generation with JPanels and Java Swing?","body":"<p>I have been wanting to make an array of JPanels(a 3 by 3 array) with a randomly generated JPanel that is either a forest or plains, with the center one always being one called house. There will always be one visible, and I want it so when the x-position of a JLabel called character reaches x-position 0, it will check which JPanel in that array is being used as a ContentPane, and if this event happens in a JPanel that is in the first column, it will do a System.out.Println(&quot;Hello!&quot;) kind of thing but if this happens in the other two columns, the contentpane will be set to whatever row this happened on-1 column. This is the same with the y-position of this JLabel. Do I need this to be in a thread since it should constantly check if the x or y-position has reached 0? If needed, I could post the code, but I just need an example. The class that has the whole Swing window extends JFrame, if it is necessary and the main class calls the object Window where everything is, such as the window and JLabel.</p>\n<p>I expect it to be like Minecraft world generation, but if it was 2D, made in Java Swing, and only one chunk for the sake of detail. I have tried this:</p>\n<pre><code>        while(true){\n            switch(guineaXPosition) {\n            case 0:\n                for (int i = 0; i &lt; world.length; i++) {\n                    for(int j=0;i&lt;world.length;j++) {\n                      if (frame.getContentPane()==world[i][0]) {\n                        // The guinea is in the JPanel at index [i][j].\n                        // Perform the desired action.\n                          System.out.println(&quot;Edge of world, nothing you can do!&quot;);\n                      }else {\n                          frame.setContentPane(world[i][j-1]);\n                      }}\n                    }               \n                    break;\n            case 1300:\n                break;\n            default:\n                break;\n            }\n        }\n\n</code></pre>\n<p>in one thread and did this in another thread:</p>\n<pre><code>        Random random = new Random();\n        int terrainTypeGen=random.nextInt(2)+1;\n        for(int i=0;i&lt;world.length;i++) {\n            for(int j=0;j&lt;world[0].length;j++) {\n                if(i==1&amp;&amp;j==1) {\n                    world[i][j]=new JPanel();\n                }else {\n                    String terrainType=null;\n                    if(terrainTypeGen==1) {\n                        world[i][j]=new JPanel();\n                        world[i][j].setBackground(Color.GREEN);\n                    }else if(terrainTypeGen==2) {\n                        world[i][j]=new JPanel();\n                        world[i][j].setBackground(Color.GREEN);\n                    }\n                    \n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>Please don't judge me.\nAnd please tell me if any more detail is required.</p>\n"},{"tags":["java","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":1793708,"reputation":376,"user_id":1633598,"display_name":"Dhruv Murarka"},"score":1,"creation_date":1525191285,"post_id":50119941,"comment_id":87257334,"body_markdown":"Any of the answers here should probably fix it: https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies","body":"Any of the answers here should probably fix it: <a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\" title=\"force intellij idea to reread all maven dependencies\">stackoverflow.com/questions/9980869/&hellip;</a>"},{"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"score":0,"creation_date":1525194519,"post_id":50119941,"comment_id":87258982,"body_markdown":"I had tried reimporting before. I just went through each of those answers and tried all of them again with no luck :/","body":"I had tried reimporting before. I just went through each of those answers and tried all of them again with no luck :/"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1525250111,"post_id":50119941,"comment_id":87278360,"body_markdown":"Have you deleted .idea folder and .iml file before reimporting?","body":"Have you deleted .idea folder and .iml file before reimporting?"}],"answers":[{"tags":[],"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525280810,"creation_date":1525280810,"answer_id":50140035,"question_id":50119941,"body_markdown":"I&#39;m not sure what the actual fix is, but I can provide the steps that resolved the issue:\r\n\r\n- Backed up and deleted .idea folder and .iml file from project\r\n- Reimported, build (errored immediately)\r\n- Restored .idea folder, but deleted contents of library folder\r\n- Reimported, mvn clean package, build (failed immediately)\r\n- Restored library items\r\n- Build (failed immediately)\r\n- Mvn clean package, reimport, build (success)\r\n\r\nNone of the files or steps really changed, but this process somehow fixed things.","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I'm not sure what the actual fix is, but I can provide the steps that resolved the issue:</p>\n\n<ul>\n<li>Backed up and deleted .idea folder and .iml file from project</li>\n<li>Reimported, build (errored immediately)</li>\n<li>Restored .idea folder, but deleted contents of library folder</li>\n<li>Reimported, mvn clean package, build (failed immediately)</li>\n<li>Restored library items</li>\n<li>Build (failed immediately)</li>\n<li>Mvn clean package, reimport, build (success)</li>\n</ul>\n\n<p>None of the files or steps really changed, but this process somehow fixed things.</p>\n"},{"tags":[],"owner":{"account_id":15815390,"reputation":1,"user_id":11411297,"display_name":"Andry Fang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695455875,"creation_date":1695455827,"answer_id":77162133,"question_id":50119941,"body_markdown":"I&#39;va faced this issue when pom.xml of project contained incorrect versions in *~/.m2/repository* folder. Here is how I managed to resolve it:\r\n\r\n 1. [Only for multi-module project] Make sure that you have the same version in parent pom and in child poms in parent tag.\r\n 2. Run `mvn clean install` instead of `package`\r\n 3. Click `Reload All Maven Projects` in IntelliJ IDEA\r\n\r\nAlso you can try to remove this project manually from *~/.m2/repository* and rebuild project.","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I'va faced this issue when pom.xml of project contained incorrect versions in <em>~/.m2/repository</em> folder. Here is how I managed to resolve it:</p>\n<ol>\n<li>[Only for multi-module project] Make sure that you have the same version in parent pom and in child poms in parent tag.</li>\n<li>Run <code>mvn clean install</code> instead of <code>package</code></li>\n<li>Click <code>Reload All Maven Projects</code> in IntelliJ IDEA</li>\n</ol>\n<p>Also you can try to remove this project manually from <em>~/.m2/repository</em> and rebuild project.</p>\n"}],"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50140035,"answer_count":2,"score":0,"last_activity_date":1695455875,"creation_date":1525191099,"question_id":50119941,"body_markdown":"I am running version 2018.1.2 of IntelliJ. Whenever I run or debug my application from within IntelliJ, Springboot is running version 2.0.0.RELEASE (and erroring out). The pom.xml has the following set:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nWhen I run `mvn clean package`, I can see that it is running version 2.0.1.RELEASE and everything works as expected. I have also tried running `java -jar app.jar` and it is showing 2.0.1.RELEASE.\r\n\r\nI have looked all over IntelliJ to see if there are any additional settings or places to override the version and I have found nothing. Does anyone know how to ensure the version of Springboot within IntelliJ?","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I am running version 2018.1.2 of IntelliJ. Whenever I run or debug my application from within IntelliJ, Springboot is running version 2.0.0.RELEASE (and erroring out). The pom.xml has the following set:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>When I run <code>mvn clean package</code>, I can see that it is running version 2.0.1.RELEASE and everything works as expected. I have also tried running <code>java -jar app.jar</code> and it is showing 2.0.1.RELEASE.</p>\n\n<p>I have looked all over IntelliJ to see if there are any additional settings or places to override the version and I have found nothing. Does anyone know how to ensure the version of Springboot within IntelliJ?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1695455664,"post_id":77162083,"comment_id":136029299,"body_markdown":"&quot;the first&quot; you mean the first to terminate ? So you mean &quot;the last&quot; ? `the result is sometimes right and sometimes wrong`, define what is right, what is wrong.","body":"&quot;the first&quot; you mean the first to terminate ? So you mean &quot;the last&quot; ? <code>the result is sometimes right and sometimes wrong</code>, define what is right, what is wrong."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695456017,"post_id":77162083,"comment_id":136029329,"body_markdown":"*&quot;So is it possible at all to achieve 100% of the correct result using these tools?&quot;* - No.  (And I don&#39;t actually see the point of trying.)","body":"<i>&quot;So is it possible at all to achieve 100% of the correct result using these tools?&quot;</i> - No.  (And I don&#39;t actually see the point of trying.)"},{"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":""},"score":0,"creation_date":1695468219,"post_id":77162083,"comment_id":136030400,"body_markdown":"@PeterMmm the one who exclaimed last came first. so the first who terminate came later","body":"@PeterMmm the one who exclaimed last came first. so the first who terminate came later"},{"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":""},"score":0,"creation_date":1695468658,"post_id":77162083,"comment_id":136030435,"body_markdown":"@StephenC, i appreciate your perspective. This task was given to me by a university lecturer =)","body":"@StephenC, i appreciate your perspective. This task was given to me by a university lecturer =)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695470401,"post_id":77162083,"comment_id":136030567,"body_markdown":"Yea ... well ... I have no idea what your lecturer was trying to teach you by doing that.","body":"Yea ... well ... I have no idea what your lecturer was trying to teach you by doing that."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695455773,"creation_date":1695455443,"answer_id":77162113,"question_id":77162083,"body_markdown":"You cannot do it reliably without any means of synchronization. If it works, it does so by chance.\r\n\r\nIn your case, the following can happen:\r\n- `eggVoice` reaches `System.out.println(&quot;egg!&quot;);` but `eggThread` doesn&#39;t finish.\r\n- `chickenVoice()` reaches `System.out.println(&quot;chicken!&quot;);`\r\n- `chichickenThread` finishes.\r\n- `chickenThread.join();` returns\r\n- `eggThread.isAlive()` returns `true` even though `System.out.println(&quot;egg!&quot;);` has been executed.\r\n\r\nThreads might pause and continue at any point in time. I/O (e.g. `System.out.println`) and sleeping makes this more likely but it could also happen between two CPU instructions.\r\n\r\nAt the end, you need to relax your constraints (e.g. by allowing `synchronized`).\r\n\r\nNote that you might be able to write it in a way so that it always works while testing but it could break on other devices.","title":"What came first, the egg or the chicken?","body":"<p>You cannot do it reliably without any means of synchronization. If it works, it does so by chance.</p>\n<p>In your case, the following can happen:</p>\n<ul>\n<li><code>eggVoice</code> reaches <code>System.out.println(&quot;egg!&quot;);</code> but <code>eggThread</code> doesn't finish.</li>\n<li><code>chickenVoice()</code> reaches <code>System.out.println(&quot;chicken!&quot;);</code></li>\n<li><code>chichickenThread</code> finishes.</li>\n<li><code>chickenThread.join();</code> returns</li>\n<li><code>eggThread.isAlive()</code> returns <code>true</code> even though <code>System.out.println(&quot;egg!&quot;);</code> has been executed.</li>\n</ul>\n<p>Threads might pause and continue at any point in time. I/O (e.g. <code>System.out.println</code>) and sleeping makes this more likely but it could also happen between two CPU instructions.</p>\n<p>At the end, you need to relax your constraints (e.g. by allowing <code>synchronized</code>).</p>\n<p>Note that you might be able to write it in a way so that it always works while testing but it could break on other devices.</p>\n"}],"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":""},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1695459429,"accepted_answer_id":77162113,"answer_count":1,"score":-3,"last_activity_date":1695455773,"creation_date":1695454746,"question_id":77162083,"body_markdown":"The essence of the task is to determine the winner in their dispute, without using volatility variables, locks, synchronized blocks/methods, and so on, at the disposal of join, slip, and isAlive. In my next code, the result is sometimes right and sometimes wrong. And I understand why, because sometimes, even if the egg ends later than the chicken, it will end by the time it reaches the isAlive check. So is it possible at all to achieve 100% of the correct result using these tools?\r\n\r\n```\r\npublic class EggOrChicken {\r\n    static Thread eggThread = eggVoice();\r\n    static Thread chickenThread = chickenVoice();\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.out.println(&quot;the start of the dispute...&quot;);\r\n        eggThread.start();\r\n        chickenThread.start();\r\n        chickenThread.join();\r\n        \r\n        if (eggThread.isAlive()) {\r\n            eggThread.join();\r\n            System.out.println(&quot;the first was egg!&quot;);\r\n        } else {\r\n            System.out.println(&quot;the first was chicken!&quot;);\r\n        }\r\n        System.out.println(&quot;end of dispute!&quot;);\r\n    }\r\n    \r\n    public static Thread eggVoice() {\r\n        return new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                try {\r\n                    sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                System.out.println(&quot;egg!&quot;);\r\n            }\r\n        });\r\n    }\r\n    \r\n    public static Thread chickenVoice() {\r\n        return new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                try {\r\n                    sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                System.out.println(&quot;chicken!&quot;);\r\n            }\r\n        });\r\n    }\r\n}","title":"What came first, the egg or the chicken?","body":"<p>The essence of the task is to determine the winner in their dispute, without using volatility variables, locks, synchronized blocks/methods, and so on, at the disposal of join, slip, and isAlive. In my next code, the result is sometimes right and sometimes wrong. And I understand why, because sometimes, even if the egg ends later than the chicken, it will end by the time it reaches the isAlive check. So is it possible at all to achieve 100% of the correct result using these tools?</p>\n<pre><code>public class EggOrChicken {\n    static Thread eggThread = eggVoice();\n    static Thread chickenThread = chickenVoice();\n    \n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;the start of the dispute...&quot;);\n        eggThread.start();\n        chickenThread.start();\n        chickenThread.join();\n        \n        if (eggThread.isAlive()) {\n            eggThread.join();\n            System.out.println(&quot;the first was egg!&quot;);\n        } else {\n            System.out.println(&quot;the first was chicken!&quot;);\n        }\n        System.out.println(&quot;end of dispute!&quot;);\n    }\n    \n    public static Thread eggVoice() {\n        return new Thread(() -&gt; {\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    sleep(1000);\n                } catch (InterruptedException e) {\n                }\n                System.out.println(&quot;egg!&quot;);\n            }\n        });\n    }\n    \n    public static Thread chickenVoice() {\n        return new Thread(() -&gt; {\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    sleep(1000);\n                } catch (InterruptedException e) {\n                }\n                System.out.println(&quot;chicken!&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695370673,"creation_date":1695370673,"answer_id":77155912,"question_id":77155134,"body_markdown":"The effect you&#39;re experiencing is likely due to the fact that you&#39;re adding view2 to the frameLayout on every click in your onClick method. To avoid this and add the view only once, you can introduce a boolean flag to check if the view has already been added. Here&#39;s how you can modify your code.\r\n\r\n    // Declare a boolean flag to track if view2 is already added\r\n    boolean view2Added = false;\r\n    \r\n    multiTouchListener = getMultiTouchListener();\r\n    multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @Override\r\n        public void onClick() {\r\n            if (filter_layout.getVisibility() == View.VISIBLE)\r\n                filter_layout.setVisibility(View.GONE);\r\n            if (sticker_layout.getVisibility() == View.VISIBLE)\r\n                sticker_layout.setVisibility(View.GONE);\r\n    \r\n            text_layout.setVisibility(View.VISIBLE);\r\n    \r\n            Rect myRect = new Rect();\r\n            view1.getGlobalVisibleRect(myRect);\r\n            int newX = myRect.left;\r\n            int newY = myRect.top;\r\n    \r\n            if (!view2Added) {\r\n                frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\r\n                final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\r\n                final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\r\n                final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\r\n                view2.setElevation(20);\r\n                frameLayout.addView(view2);\r\n                view2Added = true; // Set the flag to true so that view2 is not added again\r\n            }\r\n    \r\n            Rect rectf = new Rect();\r\n            //For coordinates location relative to the parent\r\n            selected_View.getLocalVisibleRect(rectf);\r\n            //For coordinates location relative to the screen/display\r\n            selected_View.getGlobalVisibleRect(rectf);\r\n    \r\n            Rect myViewRect = new Rect();\r\n            selected_View.getGlobalVisibleRect(myViewRect);\r\n            float x = myViewRect.left;\r\n            float y = myViewRect.top;\r\n    \r\n            // ... Rest of your code\r\n    \r\n            Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\r\n            Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\r\n            Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\r\n            Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\r\n            Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\r\n            Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\r\n    \r\n            View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\r\n    \r\n            int[] viewLocation = new int[2];\r\n            selected_View.getLocationInWindow(viewLocation);\r\n    \r\n            int[] rootLocation = new int[2];\r\n            rootLayout.getLocationInWindow(rootLocation);\r\n    \r\n            int relativeLeft = viewLocation[0] - rootLocation[0];\r\n            int relativeTop = viewLocation[1] - rootLocation[1];\r\n    \r\n            float cx = rectf.exactCenterX();\r\n            float cy = rectf.exactCenterY();\r\n        }\r\n    });\r\n\r\nWith this modification, the view view2 will only be added once, and subsequent clicks will not add additional views, eliminating the blinking effect.","title":"Avoid adding view on every click in MultiTouchListener using java","body":"<p>The effect you're experiencing is likely due to the fact that you're adding view2 to the frameLayout on every click in your onClick method. To avoid this and add the view only once, you can introduce a boolean flag to check if the view has already been added. Here's how you can modify your code.</p>\n<pre><code>// Declare a boolean flag to track if view2 is already added\nboolean view2Added = false;\n\nmultiTouchListener = getMultiTouchListener();\nmultiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    public void onClick() {\n        if (filter_layout.getVisibility() == View.VISIBLE)\n            filter_layout.setVisibility(View.GONE);\n        if (sticker_layout.getVisibility() == View.VISIBLE)\n            sticker_layout.setVisibility(View.GONE);\n\n        text_layout.setVisibility(View.VISIBLE);\n\n        Rect myRect = new Rect();\n        view1.getGlobalVisibleRect(myRect);\n        int newX = myRect.left;\n        int newY = myRect.top;\n\n        if (!view2Added) {\n            frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\n            final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\n            final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\n            final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\n            view2.setElevation(20);\n            frameLayout.addView(view2);\n            view2Added = true; // Set the flag to true so that view2 is not added again\n        }\n\n        Rect rectf = new Rect();\n        //For coordinates location relative to the parent\n        selected_View.getLocalVisibleRect(rectf);\n        //For coordinates location relative to the screen/display\n        selected_View.getGlobalVisibleRect(rectf);\n\n        Rect myViewRect = new Rect();\n        selected_View.getGlobalVisibleRect(myViewRect);\n        float x = myViewRect.left;\n        float y = myViewRect.top;\n\n        // ... Rest of your code\n\n        Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\n        Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\n        Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\n        Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\n        Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\n        Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\n\n        View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\n\n        int[] viewLocation = new int[2];\n        selected_View.getLocationInWindow(viewLocation);\n\n        int[] rootLocation = new int[2];\n        rootLayout.getLocationInWindow(rootLocation);\n\n        int relativeLeft = viewLocation[0] - rootLocation[0];\n        int relativeTop = viewLocation[1] - rootLocation[1];\n\n        float cx = rectf.exactCenterX();\n        float cy = rectf.exactCenterY();\n    }\n});\n</code></pre>\n<p>With this modification, the view view2 will only be added once, and subsequent clicks will not add additional views, eliminating the blinking effect.</p>\n"}],"owner":{"account_id":27829894,"reputation":13,"user_id":21248507,"display_name":"Roushan Mehmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77155912,"answer_count":1,"score":1,"last_activity_date":1695452560,"creation_date":1695361999,"question_id":77155134,"body_markdown":"When I Click on a view then border around that view and view2 is adding on every click which create jerk like effect or blinking . \r\n\r\nI simply avoid blinking effect for this code any reference for this \r\n \r\nthis is the code that I&#39;m using right now.\r\n\r\n \r\n\r\n    multiTouchListener = getMultiTouchListener();\r\n                                multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\r\n                                    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n                                    @Override\r\n                                    public void onClick() {\r\n                                        if (filter_layout.getVisibility() == View.VISIBLE)\r\n                                            filter_layout.setVisibility(View.GONE);\r\n                                        if (sticker_layout.getVisibility() == View.VISIBLE)\r\n                                            sticker_layout.setVisibility(View.GONE);\r\n\r\n                                    text_layout.setVisibility(View.VISIBLE);\r\n\r\n                                    Rect myRect = new Rect();\r\n                                    view1.getGlobalVisibleRect(myRect);\r\n                                    int newX = myRect.left;\r\n                                    int newY = myRect.top;\r\n\r\n                                        new Handler().postDelayed(new Runnable() {\r\n                                            @Override\r\n                                            public void run() {\r\n                                                frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\r\n                                                final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\r\n                                                final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\r\n                                                final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\r\n                                                view2.setElevation(20);\r\n                                                frameLayout.addView(view2);   \r\n\r\n                                                Rect rectf = new Rect();\r\n                                                //For coordinates location relative to the parent\r\n                                                selected_View.getLocalVisibleRect(rectf);\r\n                                                //For coordinates location relative to the screen/display\r\n                                                selected_View.getGlobalVisibleRect(rectf);\r\n\r\n                                                Rect myViewRect = new Rect();\r\n                                                selected_View.getGlobalVisibleRect(myViewRect);\r\n                                                float x = myViewRect.left;\r\n                                                float y = myViewRect.top;\r\n\r\n                                                Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\r\n                                                Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\r\n                                                Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\r\n                                                Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\r\n                                                Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\r\n                                                Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\r\n\r\n                                                View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\r\n\r\n                                                int[] viewLocation = new int[2];\r\n                                                selected_View.getLocationInWindow(viewLocation);\r\n\r\n                                                int[] rootLocation = new int[2];\r\n                                                rootLayout.getLocationInWindow(rootLocation);\r\n\r\n                                                int relativeLeft = viewLocation[0] - rootLocation[0];\r\n                                                int relativeTop = viewLocation[1] - rootLocation[1];\r\n\r\n                                                float cx = rectf.exactCenterX();\r\n                                                float cy = rectf.exactCenterY();","title":"Avoid adding view on every click in MultiTouchListener using java","body":"<p>When I Click on a view then border around that view and view2 is adding on every click which create jerk like effect or blinking .</p>\n<p>I simply avoid blinking effect for this code any reference for this</p>\n<p>this is the code that I'm using right now.</p>\n<pre><code>multiTouchListener = getMultiTouchListener();\n                            multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\n                                @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n                                @Override\n                                public void onClick() {\n                                    if (filter_layout.getVisibility() == View.VISIBLE)\n                                        filter_layout.setVisibility(View.GONE);\n                                    if (sticker_layout.getVisibility() == View.VISIBLE)\n                                        sticker_layout.setVisibility(View.GONE);\n\n                                text_layout.setVisibility(View.VISIBLE);\n\n                                Rect myRect = new Rect();\n                                view1.getGlobalVisibleRect(myRect);\n                                int newX = myRect.left;\n                                int newY = myRect.top;\n\n                                    new Handler().postDelayed(new Runnable() {\n                                        @Override\n                                        public void run() {\n                                            frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\n                                            final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\n                                            final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\n                                            final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\n                                            view2.setElevation(20);\n                                            frameLayout.addView(view2);   \n\n                                            Rect rectf = new Rect();\n                                            //For coordinates location relative to the parent\n                                            selected_View.getLocalVisibleRect(rectf);\n                                            //For coordinates location relative to the screen/display\n                                            selected_View.getGlobalVisibleRect(rectf);\n\n                                            Rect myViewRect = new Rect();\n                                            selected_View.getGlobalVisibleRect(myViewRect);\n                                            float x = myViewRect.left;\n                                            float y = myViewRect.top;\n\n                                            Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\n                                            Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\n                                            Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\n                                            Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\n                                            Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\n                                            Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\n\n                                            View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\n\n                                            int[] viewLocation = new int[2];\n                                            selected_View.getLocationInWindow(viewLocation);\n\n                                            int[] rootLocation = new int[2];\n                                            rootLayout.getLocationInWindow(rootLocation);\n\n                                            int relativeLeft = viewLocation[0] - rootLocation[0];\n                                            int relativeTop = viewLocation[1] - rootLocation[1];\n\n                                            float cx = rectf.exactCenterX();\n                                            float cy = rectf.exactCenterY();\n</code></pre>\n"},{"tags":["java","eclipse","configuration"],"comments":[{"owner":{"account_id":117162,"reputation":727,"user_id":306938,"accept_rate":80,"display_name":"Andreas"},"score":0,"creation_date":1383743220,"post_id":19812604,"comment_id":29456592,"body_markdown":"How does the source folder structure look like?","body":"How does the source folder structure look like?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1383745858,"post_id":19812604,"comment_id":29458334,"body_markdown":"please read my update","body":"please read my update"}],"answers":[{"tags":[],"owner":{"account_id":3181437,"reputation":4549,"user_id":2688031,"accept_rate":68,"display_name":"Bensson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455062529,"creation_date":1383744434,"answer_id":19813343,"question_id":19812604,"body_markdown":"1. Make sure you select correct src path in eclipse. right click your project and go to Java Build Path to check the source folders on build path.\r\n2. Go to project menu, clear and rebuild you project.\r\n3. Restart you eclipse.\r\n4. Delete eclipse\r\n","title":"eclipse build path error","body":"<ol>\n<li>Make sure you select correct src path in eclipse. right click your project and go to Java Build Path to check the source folders on build path.</li>\n<li>Go to project menu, clear and rebuild you project.</li>\n<li>Restart you eclipse.</li>\n<li>Delete eclipse</li>\n</ol>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11540,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695452505,"creation_date":1383742310,"question_id":19812604,"body_markdown":"eclipse say me:\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\nI click to quick fix and make so:\r\n\r\n![enter image description here][3]\r\n\r\n\r\nafter it I see old error.\r\n\r\nHow to fix this problem?\r\n\r\n**UPDATE**\r\n\r\n\r\nproject structure:\r\n\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FO8nR.png\r\n  [2]: http://i.stack.imgur.com/jJfRF.png\r\n  [3]: http://i.stack.imgur.com/ainwv.png\r\n  [4]: http://i.stack.imgur.com/ox3NY.png","title":"eclipse build path error","body":"<p>eclipse say me:\n<img src=\"https://i.stack.imgur.com/FO8nR.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/jJfRF.png\" alt=\"enter image description here\"></p>\n\n<p>I click to quick fix and make so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ainwv.png\" alt=\"enter image description here\"></p>\n\n<p>after it I see old error.</p>\n\n<p>How to fix this problem?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>project structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ox3NY.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","kotlin","linked-list","mapped-types","mutablelist"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":5,"creation_date":1695328352,"post_id":77153458,"comment_id":136013569,"body_markdown":"MutableList is one of the [mapped types](https://kotlinlang.org/docs/java-interop.html#mapped-types). It maps to Java&#39;s List interface.","body":"MutableList is one of the <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a>. It maps to Java&#39;s List interface."},{"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"score":0,"creation_date":1695330835,"post_id":77153458,"comment_id":136013932,"body_markdown":"Can you write this as an answer? I still cannot get how LinkedList() gets inferred as a MutableList by the compiler by automatically understanding that a LinkedList has write operations.","body":"Can you write this as an answer? I still cannot get how LinkedList() gets inferred as a MutableList by the compiler by automatically understanding that a LinkedList has write operations."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695334089,"post_id":77153458,"comment_id":136014394,"body_markdown":"If I got the answer right, this question is not dealing with a Java problem, but with a Kotlin feature, right? So why the tag &quot;Java&quot;?","body":"If I got the answer right, this question is not dealing with a Java problem, but with a Kotlin feature, right? So why the tag &quot;Java&quot;?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695338190,"post_id":77153458,"comment_id":136014787,"body_markdown":"@Alanpatchi Basically, the Kotlin compiler has some built-in rules that says any `java.util.List` can be _either_ a `kotlin.collections.List` _or_ `kotlin.collections.MutableList`.","body":"@Alanpatchi Basically, the Kotlin compiler has some built-in rules that says any <code>java.util.List</code> can be <i>either</i> a <code>kotlin.collections.List</code> <i>or</i> <code>kotlin.collections.MutableList</code>."},{"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"score":0,"creation_date":1695409079,"post_id":77153458,"comment_id":136025622,"body_markdown":"@tquadrat I was not sure if the solution was from the Kotlin features or the Java features before knowing the answer. So I had to tag Java for possible Java reasons as well.","body":"@tquadrat I was not sure if the solution was from the Kotlin features or the Java features before knowing the answer. So I had to tag Java for possible Java reasons as well."}],"answers":[{"tags":[],"owner":{"account_id":13446245,"reputation":154,"user_id":9702105,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695368185,"creation_date":1695333622,"answer_id":77153871,"question_id":77153458,"body_markdown":"In your example, the compiler isn&#39;t inferring anything. *You* are telling the compiler that your `linkedList` variable is to be treated as a `MutableList&lt;Int&gt;`. The compiler allows this because `java.util.LinkedList` is an implementation of the Java `List` interface, which maps to the Kotlin `List` or `MutableList` interfaces.\r\n\r\nPer the [documentation][1] provided by Tenfour04, a `List&lt;T&gt;` in java is a mapped type which maps to the Kotlin `List&lt;T&gt;` or `MutableList&lt;T&gt;` - the choice is up to you.\r\n\r\nNotice that the word *type* is used here, not *class*. What you&#39;re doing is simply telling the compiler that you want this variable to be treated as a `MutableList&lt;Int&gt;` - that&#39;s it. This idea is reinforced by this sentence in the docs:\r\n&gt;The mapping only matters at compile time, the runtime representation remains unchanged.\r\n\r\nSo by declaring your variable as mutable or otherwise, you are simply masking the underlying class (java.util.LinkedLink) with a Kotlin mapped type. \r\n\r\nWe already know that `java.util.LinkedList` is mutable by default. So doing either of these\r\n```\r\nval immutableLinkedList: List&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\r\nval mutableLinkedList: MutableList&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\r\n```\r\n\r\nIs perfectly valid. In the former case, since you&#39;ve informed the compiler that `immutableLinkedList` is only type `List&lt;Int&gt;` (remember - you can only do this because this Kotlin type maps to a parent type of `LinkedList`), then you will not be able to add to or remove from it, *even though the actual runtime implementation technically allows that*.\r\n\r\nThese mechanisms are in place to help keep type safety and be explicit about what type of structure you&#39;re working with. If you are working in Kotlin, it is *good* to annotate your linkedList as a kotlin type `MutableList`, since it is very clear that this list is in fact mutable. \r\n\r\nOn there other hand, you could conceivably imagine some situation where the implementation of the list actually mattered, so you may choose to drop the type annotation completely and let the compiler treat it as a `java.util.LinkedList`.\r\n\r\n`val myLinkedList = java.util.LinkedList&lt;Int&gt;()`\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-interop.html#mapped-types","title":"How is java.util.LinkedList() an instance of MutableList?","body":"<p>In your example, the compiler isn't inferring anything. <em>You</em> are telling the compiler that your <code>linkedList</code> variable is to be treated as a <code>MutableList&lt;Int&gt;</code>. The compiler allows this because <code>java.util.LinkedList</code> is an implementation of the Java <code>List</code> interface, which maps to the Kotlin <code>List</code> or <code>MutableList</code> interfaces.</p>\n<p>Per the <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">documentation</a> provided by Tenfour04, a <code>List&lt;T&gt;</code> in java is a mapped type which maps to the Kotlin <code>List&lt;T&gt;</code> or <code>MutableList&lt;T&gt;</code> - the choice is up to you.</p>\n<p>Notice that the word <em>type</em> is used here, not <em>class</em>. What you're doing is simply telling the compiler that you want this variable to be treated as a <code>MutableList&lt;Int&gt;</code> - that's it. This idea is reinforced by this sentence in the docs:</p>\n<blockquote>\n<p>The mapping only matters at compile time, the runtime representation remains unchanged.</p>\n</blockquote>\n<p>So by declaring your variable as mutable or otherwise, you are simply masking the underlying class (java.util.LinkedLink) with a Kotlin mapped type.</p>\n<p>We already know that <code>java.util.LinkedList</code> is mutable by default. So doing either of these</p>\n<pre><code>val immutableLinkedList: List&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\nval mutableLinkedList: MutableList&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\n</code></pre>\n<p>Is perfectly valid. In the former case, since you've informed the compiler that <code>immutableLinkedList</code> is only type <code>List&lt;Int&gt;</code> (remember - you can only do this because this Kotlin type maps to a parent type of <code>LinkedList</code>), then you will not be able to add to or remove from it, <em>even though the actual runtime implementation technically allows that</em>.</p>\n<p>These mechanisms are in place to help keep type safety and be explicit about what type of structure you're working with. If you are working in Kotlin, it is <em>good</em> to annotate your linkedList as a kotlin type <code>MutableList</code>, since it is very clear that this list is in fact mutable.</p>\n<p>On there other hand, you could conceivably imagine some situation where the implementation of the list actually mattered, so you may choose to drop the type annotation completely and let the compiler treat it as a <code>java.util.LinkedList</code>.</p>\n<p><code>val myLinkedList = java.util.LinkedList&lt;Int&gt;()</code></p>\n"}],"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77153871,"answer_count":1,"score":1,"last_activity_date":1695452451,"creation_date":1695328128,"question_id":77153458,"body_markdown":"How does the following code compiles without any errors?\r\n\r\n    var linkedList: MutableList&lt;Int&gt; = java.util.LinkedList()\r\n    \r\nwhen `java.util.LinkedList` class contract clearly doesn&#39;t implement the Kotlin interface `MutableList`?","title":"How is java.util.LinkedList() an instance of MutableList?","body":"<p>How does the following code compiles without any errors?</p>\n<pre><code>var linkedList: MutableList&lt;Int&gt; = java.util.LinkedList()\n</code></pre>\n<p>when <code>java.util.LinkedList</code> class contract clearly doesn't implement the Kotlin interface <code>MutableList</code>?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1429597793,"post_id":29764438,"comment_id":47660587,"body_markdown":"It seems that you tried to fulfill the last requirement with your `printall` method. But the requirement is to _return_ all the integers and not to _print_ them. Additionally, you even did not correctly implement the first requirement.","body":"It seems that you tried to fulfill the last requirement with your <code>printall</code> method. But the requirement is to <i>return</i> all the integers and not to <i>print</i> them. Additionally, you even did not correctly implement the first requirement."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1429597831,"post_id":29764438,"comment_id":47660598,"body_markdown":"`add the value of x into the last element of the array` - you are supposed to add x to the array, so it won&#39;t be empty.","body":"<code>add the value of x into the last element of the array</code> - you are supposed to add x to the array, so it won&#39;t be empty."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1429597912,"post_id":29764438,"comment_id":47660637,"body_markdown":"I suggest you start with an empty array instead of null i.e. `int[] data = { };`","body":"I suggest you start with an empty array instead of null i.e. <code>int[] data = { };</code>"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1429598114,"post_id":29764438,"comment_id":47660734,"body_markdown":"`new example()` creates an object of the class `example`, and I don&#39;t see a class named `example`.","body":"<code>new example()</code> creates an object of the class <code>example</code>, and I don&#39;t see a class named <code>example</code>."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1429598342,"post_id":29764438,"comment_id":47660843,"body_markdown":"The assignment says &quot;Implement a class that takes an integer array and an int x as its size&quot;.  To me, this means that one of the constructor parameters is an integer array _that already has data in it_.  The method in the third sentence is supposed to copy this data into the new array.","body":"The assignment says &quot;Implement a class that takes an integer array and an int x as its size&quot;.  To me, this means that one of the constructor parameters is an integer array <i>that already has data in it</i>.  The method in the third sentence is supposed to copy this data into the new array."}],"answers":[{"tags":[],"owner":{"account_id":5514206,"reputation":164,"user_id":4379563,"display_name":"Ouz K"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1429598357,"creation_date":1429598357,"answer_id":29764706,"question_id":29764438,"body_markdown":"First of all, you can&#39;t create an object of a method. You can create objects of classes. And whenever you have a class, you should have at least one constructor. Also, it seems your methods should return some array and int values. Actually, I don&#39;t think this code will compile even. I suggest you to review your book.","title":"Printing an array with no elements?","body":"<p>First of all, you can't create an object of a method. You can create objects of classes. And whenever you have a class, you should have at least one constructor. Also, it seems your methods should return some array and int values. Actually, I don't think this code will compile even. I suggest you to review your book.</p>\n"},{"tags":[],"owner":{"account_id":3974723,"reputation":2691,"user_id":3278176,"accept_rate":74,"display_name":"Ian2thedv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429599135,"creation_date":1429599135,"answer_id":29764940,"question_id":29764438,"body_markdown":"&gt; Implement a class that takes an integer array and an int x as its size.\r\n\r\nYou can accomplish this by the use of a [constructor][1]. You can save the arguments passed to the constructor as [private][2] variables and reference by using the `this` notation. (See [this][3])\r\n\r\n    public class TaskOne {\r\n        private int [] array;\r\n        private int x;\r\n        public TaskOne(int [] array, int x) {\r\n            this.array = array;\r\n            this.x = x;\r\n        }\r\n    }\r\n\r\n&gt; Create a method inside the class that creates a new array whose length\r\n&gt; is one greater than datas length\r\n\r\nHere you need to simply create a new array. Be sure you set the length of the new array to that of `array`, plus 1 (to accommodate the extra element, `x`)\r\n\r\n    private int [] data = null;\r\n    \r\n    public void createNewArray() {\r\n        this.data = new int[this.array.length + 1];\r\n    }\r\n\r\n&gt; Then create a method to copy all datas elements into the new array\r\n&gt; and add the value of x into the last element of the array.\r\n\r\n    public void populateArray() {\r\n        for (int t = 0; t &lt; this.array.length; t++) {\r\n            data[t] = this.array[t];\r\n        }\r\n        data[array.length] = this.x;\r\n    }\r\n\r\n&gt; Create a method to return all the integers in the new array\r\n\r\nThis is know as a [getter][4] method. You \r\n\r\n    public int [] getClone() {\r\n        return this.data;\r\n    }\r\n\r\nYou may have noticed that I did not make use of the `Arrays.copyOf` method. This actually creates and populates the array in one step, so, I kept the two steps separate to conform to the question.  \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\r\n  [4]: http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html","title":"Printing an array with no elements?","body":"<blockquote>\n  <p>Implement a class that takes an integer array and an int x as its size.</p>\n</blockquote>\n\n<p>You can accomplish this by the use of a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow\">constructor</a>. You can save the arguments passed to the constructor as <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow\">private</a> variables and reference by using the <code>this</code> notation. (See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow\">this</a>)</p>\n\n<pre><code>public class TaskOne {\n    private int [] array;\n    private int x;\n    public TaskOne(int [] array, int x) {\n        this.array = array;\n        this.x = x;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Create a method inside the class that creates a new array whose length\n  is one greater than datas length</p>\n</blockquote>\n\n<p>Here you need to simply create a new array. Be sure you set the length of the new array to that of <code>array</code>, plus 1 (to accommodate the extra element, <code>x</code>)</p>\n\n<pre><code>private int [] data = null;\n\npublic void createNewArray() {\n    this.data = new int[this.array.length + 1];\n}\n</code></pre>\n\n<blockquote>\n  <p>Then create a method to copy all datas elements into the new array\n  and add the value of x into the last element of the array.</p>\n</blockquote>\n\n<pre><code>public void populateArray() {\n    for (int t = 0; t &lt; this.array.length; t++) {\n        data[t] = this.array[t];\n    }\n    data[array.length] = this.x;\n}\n</code></pre>\n\n<blockquote>\n  <p>Create a method to return all the integers in the new array</p>\n</blockquote>\n\n<p>This is know as a <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\" rel=\"nofollow\">getter</a> method. You </p>\n\n<pre><code>public int [] getClone() {\n    return this.data;\n}\n</code></pre>\n\n<p>You may have noticed that I did not make use of the <code>Arrays.copyOf</code> method. This actually creates and populates the array in one step, so, I kept the two steps separate to conform to the question.  </p>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695451136,"creation_date":1695451136,"answer_id":77161919,"question_id":29764438,"body_markdown":"You are making a simple mistake here:\r\n\r\nIn:\r\n```\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        example task = new example();\r\n        task.printall();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI take it that ```example task = new example();``` should be replaced with ```Arrayplus1 task = new Arrayplus1();```, but you are not giving an argument to the default constructor. So the data, ```int x``` and ```int data[]```, remain null. \r\n\r\nyour class code should look like this:\r\n```\r\nclass Arrayplus1 {\r\n\r\n    int x;\r\n    int data[];\r\n\r\n    // NEW DEFAULT CONSTRUCTOR ADDED\r\n    void example() {\r\n        this.x = 0;\r\n        this.data= new int[0];\r\n    }\r\n\r\n    void example(int x) {\r\n        this.x = x+1;\r\n        this.data= new int[x];\r\n    }\r\n\r\n    void increaseSizeOfArray(int incrementSize) {\r\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\r\n            data = copiedArray;\r\n\r\n    }\r\n\r\n    void printall() {\r\n        System.out.println(Arrays.toString(data));\r\n    }\r\n}\r\n```\r\n\r\nin the case that you never want your array to be null. \r\n\r\nalternatively, you could do this:\r\n```\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        // INITIALIZED WITH ARGUMENT 0 (rather than no argument)\r\n        example task = new example(0);\r\n        task.printall();\r\n    }\r\n\r\n}\r\n```\r\n\r\nonce an array is initialized, even when the size is zero, it will not be null, even if it is empty. but if you choose to declare an array reference, and then not initialize it, then it will be null.","title":"Printing an array with no elements?","body":"<p>You are making a simple mistake here:</p>\n<p>In:</p>\n<pre><code>public class TaskOne {\n\n    public static void main(String[] args) {\n        example task = new example();\n        task.printall();\n    }\n\n}\n</code></pre>\n<p>I take it that <code>example task = new example();</code> should be replaced with <code>Arrayplus1 task = new Arrayplus1();</code>, but you are not giving an argument to the default constructor. So the data, <code>int x</code> and <code>int data[]</code>, remain null.</p>\n<p>your class code should look like this:</p>\n<pre><code>class Arrayplus1 {\n\n    int x;\n    int data[];\n\n    // NEW DEFAULT CONSTRUCTOR ADDED\n    void example() {\n        this.x = 0;\n        this.data= new int[0];\n    }\n\n    void example(int x) {\n        this.x = x+1;\n        this.data= new int[x];\n    }\n\n    void increaseSizeOfArray(int incrementSize) {\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\n            data = copiedArray;\n\n    }\n\n    void printall() {\n        System.out.println(Arrays.toString(data));\n    }\n}\n</code></pre>\n<p>in the case that you never want your array to be null.</p>\n<p>alternatively, you could do this:</p>\n<pre><code>public class TaskOne {\n\n    public static void main(String[] args) {\n        // INITIALIZED WITH ARGUMENT 0 (rather than no argument)\n        example task = new example(0);\n        task.printall();\n    }\n\n}\n</code></pre>\n<p>once an array is initialized, even when the size is zero, it will not be null, even if it is empty. but if you choose to declare an array reference, and then not initialize it, then it will be null.</p>\n"}],"owner":{"account_id":6176438,"reputation":23,"user_id":4813170,"display_name":"Hatz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2827,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695451136,"creation_date":1429597453,"question_id":29764438,"body_markdown":"I have a few questions. I am working on a homework assignment but came across a few confusing things. (I am taking an introductory class, sorry for the mistakes.)\r\n\r\n&gt; Implement a class that takes an integer array and an  int x as its\r\n&gt; size. Create a method inside the class that creates a new array whose\r\n&gt; length is one greater than datas length. Then create a method to copy\r\n&gt; all datas elements into the new array and add the value of x into the\r\n&gt; last element of the array. Create a method to return all the integers\r\n&gt; in the new array.\r\n\r\nHere&#39;s what I have\r\n\r\n&lt;pre&gt;package taskone;\r\n\r\nimport java.util.*;\r\n\r\nclass Arrayplus1 {\r\n\r\n    int x;\r\n    int data[];\r\n    \r\n    void example(int x) {\r\n        this.x = x+1;\r\n        this.data= new int[x];\r\n    }\r\n\r\n    void increaseSizeOfArray(int incrementSize) {\r\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\r\n            data = copiedArray;\r\n        \r\n    }\r\n    \r\n    void printall() {\r\n        System.out.println(Arrays.toString(data));\r\n    }\r\n}\r\n\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        example task = new example();\r\n        task.printall();\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nThis simply returns null.\r\n\r\nMy question is the last bit of the task above. &quot;Create a method to return all the integers in the new array.&quot; \r\n\r\nHow is this possible when I did not include any elements in my array? I am trying to follow the assignment guidelines. Thanks.\r\n","title":"Printing an array with no elements?","body":"<p>I have a few questions. I am working on a homework assignment but came across a few confusing things. (I am taking an introductory class, sorry for the mistakes.)</p>\n\n<blockquote>\n  <p>Implement a class that takes an integer array and an  int x as its\n  size. Create a method inside the class that creates a new array whose\n  length is one greater than datas length. Then create a method to copy\n  all datas elements into the new array and add the value of x into the\n  last element of the array. Create a method to return all the integers\n  in the new array.</p>\n</blockquote>\n\n<p>Here's what I have</p>\n\n<pre>package taskone;\n\nimport java.util.*;\n\nclass Arrayplus1 {\n\n    int x;\n    int data[];\n\n    void example(int x) {\n        this.x = x+1;\n        this.data= new int[x];\n    }\n\n    void increaseSizeOfArray(int incrementSize) {\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\n            data = copiedArray;\n\n    }\n\n    void printall() {\n        System.out.println(Arrays.toString(data));\n    }\n}\n\npublic class TaskOne {\n\n    public static void main(String[] args) {\n        example task = new example();\n        task.printall();\n    }\n\n}\n</pre>\n\n<p>This simply returns null.</p>\n\n<p>My question is the last bit of the task above. \"Create a method to return all the integers in the new array.\" </p>\n\n<p>How is this possible when I did not include any elements in my array? I am trying to follow the assignment guidelines. Thanks.</p>\n"},{"tags":["java","gradle","javafx","module","dependencies"],"comments":[{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1695394113,"post_id":77156354,"comment_id":136022880,"body_markdown":"this solution worked for me. but isn&#39;t there any other method to solve this problem. I mean why this problem is actually happening and i want to know will be there any disadvantage to make a project non moduler? @jewelsea","body":"this solution worked for me. but isn&#39;t there any other method to solve this problem. I mean why this problem is actually happening and i want to know will be there any disadvantage to make a project non moduler? @jewelsea"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":1,"creation_date":1695408695,"post_id":77156354,"comment_id":136025551,"body_markdown":"did you add the &quot;requires commons.math3;&quot; to your module-info.java?","body":"did you add the &quot;requires commons.math3;&quot; to your module-info.java?"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":0,"creation_date":1695408866,"post_id":77156354,"comment_id":136025576,"body_markdown":"you may also have to export the commons packages explicitly in your gradle script: module(&#39;org.apache.commons:commons-math3&#39;, &#39;commons.math3&#39;) {\n        exportAllPackages()\n    }   example gradle script with apache math is here:  https://github.com/Birdasaur/Trinity/blob/main/build.gradle","body":"you may also have to export the commons packages explicitly in your gradle script: module(&#39;org.apache.commons:commons-math3&#39;, &#39;commons.math3&#39;) {         exportAllPackages()     }   example gradle script with apache math is here:  <a href=\"https://github.com/Birdasaur/Trinity/blob/main/build.gradle\" rel=\"nofollow noreferrer\">github.com/Birdasaur/Trinity/blob/main/build.gradle</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695450149,"creation_date":1695416954,"answer_id":77160687,"question_id":77156354,"body_markdown":"**Solution**\r\n\r\nMake your project non-modular (delete the `module-info.java`). \r\n\r\nIf you need more info on that, see the info on non-modular projects in the getting started instructions at [openjfx.io][1].  In particular, you will need to use VM options to place JavaFX modules on the module path as described in the openjfx.io instructions.\r\n\r\n**Related**\r\n\r\nYou are using POI and Java, so also refer to the question below, which describes issues using the automatic modules that POI depends on in a Gradle setup:\r\n\r\n * https://stackoverflow.com/questions/73984359/unable-to-launch-a-javafx-application-which-uses-apache-poi/73991163#73991163\r\n\r\nThis is in addition to the issue in your question title about commons.math3.  But the core of the issue is still pretty similar: commons math3 is also an automatic module.\r\n\r\n**FAQ**\r\n\r\nThis section is just explaining reasoning as requested in comments.  Some of the reasons are just opinions and are not core to the answer.\r\n\r\n&gt; why this problem is happening \r\n\r\n[Understand Java modules][2]. \r\n\r\nYou have modules (java modules, not maven or gradle modules) that are required by dependent modules in your system, but are not on the module path (probably they are only on the classpath). \r\n\r\nOne of those modules (SparseBitSet) is an [automatic module][3] (it doesn&#39;t have a module-info).  You don&#39;t directly have a dependency on SparseBitSet, but your error message indicates it is transitively required by one of your poi dependencies.\r\n\r\nSimilarly, the commons math libraries you are relying on are also automatic modules.\r\n\r\nI have limited experience with Gradle, but my experience is that Gradle places automatic modules on the classpath rather than the module path by default (you can override this through settings, but otherwise, as far as I know, that is how it works).\r\n\r\nRelying on automatic modules for a modular project to work is inadvisable IMO, hence the non-modular recommendation.\r\n\r\n&gt; will there be any disadvantage to making a project non-modular?\r\n\r\nYes.  \r\n\r\nHowever, in this case, I believe the advantages outweigh the disadvantages. Benefits will be few, and the disadvantages will be painful.\r\n\r\nDependencies that were not originally designed to be modular can usually be made to work in a modular environment, but not necessarily.  Numerous things can go wrong with them, including [split package issues][4].  \r\n\r\nIMO, it is more reliable to run software that wasn&#39;t built to be modular on the classpath rather than as modules.  Once you do that for some modules, you lose a lot of the benefits of using modules in the first place.  \r\n\r\nFor example:\r\n\r\n * you can&#39;t `jlink` automatic modules. `jlink` can only link modules with module-info.\r\n * jars loaded from the classpath lose some benefits of modular encapsulation.\r\n\r\nWhen you start to use automatic modules you have to suffer through the pain of using the module system (e.g. having to deal with the module accessibility issues you encountered in your question), while receiving few of the benefits.\r\n\r\nSome software is only designed to be used as a module.  That includes all of the modules in the base JDK system for recent JDK distributions as well as the JavaFX modules.  Getting the JDK modules on the module path is pretty simple as that happens automatically.  Getting the JavaFX modules on the module path is more complex (the process is documented at openjfx.io).  \r\n\r\nEven if your application may not be modular, it can still use modular software as modules, in the way they were intended to be used (you don&#39;t lose the ability to use modular software).\r\n\r\nIf you intend to write a library that is used by others and you want them to be able to use that as a module (e.g. to enforce hiding of private API from library users), then you should make your code modular (include a module-info.java).  But if you are writing an application for deployment, this is not a concern. \r\n\r\nThe ecosystem of Java software is large.  Unfortunately, many important libraries and frameworks are not fully modularized (do not have module-info.java defined for all jars).  That includes large influential frameworks like Spring 6.  Even the [most recent beta release of math commons 4][5] does not include a module-info.java. Often it is better to write non-modular applications when you rely on such non-modular software (IMO).\r\n\r\n\r\n  [1]: https://openjfx.io\r\n  [2]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [3]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [4]: https://stackoverflow.com/questions/51828014/how-split-packages-are-avoided-in-java-9\r\n  [5]: https://github.com/apache/commons-math/tree/4.0-beta1-release/commons-math-core/src","title":"How to resolve commons.math3 not found error in JavaFx project?","body":"<p><strong>Solution</strong></p>\n<p>Make your project non-modular (delete the <code>module-info.java</code>).</p>\n<p>If you need more info on that, see the info on non-modular projects in the getting started instructions at <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">openjfx.io</a>.  In particular, you will need to use VM options to place JavaFX modules on the module path as described in the openjfx.io instructions.</p>\n<p><strong>Related</strong></p>\n<p>You are using POI and Java, so also refer to the question below, which describes issues using the automatic modules that POI depends on in a Gradle setup:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73984359/unable-to-launch-a-javafx-application-which-uses-apache-poi/73991163#73991163\">Unable to launch a JavaFX application which uses Apache POI</a></li>\n</ul>\n<p>This is in addition to the issue in your question title about commons.math3.  But the core of the issue is still pretty similar: commons math3 is also an automatic module.</p>\n<p><strong>FAQ</strong></p>\n<p>This section is just explaining reasoning as requested in comments.  Some of the reasons are just opinions and are not core to the answer.</p>\n<blockquote>\n<p>why this problem is happening</p>\n</blockquote>\n<p><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understand Java modules</a>.</p>\n<p>You have modules (java modules, not maven or gradle modules) that are required by dependent modules in your system, but are not on the module path (probably they are only on the classpath).</p>\n<p>One of those modules (SparseBitSet) is an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a> (it doesn't have a module-info).  You don't directly have a dependency on SparseBitSet, but your error message indicates it is transitively required by one of your poi dependencies.</p>\n<p>Similarly, the commons math libraries you are relying on are also automatic modules.</p>\n<p>I have limited experience with Gradle, but my experience is that Gradle places automatic modules on the classpath rather than the module path by default (you can override this through settings, but otherwise, as far as I know, that is how it works).</p>\n<p>Relying on automatic modules for a modular project to work is inadvisable IMO, hence the non-modular recommendation.</p>\n<blockquote>\n<p>will there be any disadvantage to making a project non-modular?</p>\n</blockquote>\n<p>Yes.</p>\n<p>However, in this case, I believe the advantages outweigh the disadvantages. Benefits will be few, and the disadvantages will be painful.</p>\n<p>Dependencies that were not originally designed to be modular can usually be made to work in a modular environment, but not necessarily.  Numerous things can go wrong with them, including <a href=\"https://stackoverflow.com/questions/51828014/how-split-packages-are-avoided-in-java-9\">split package issues</a>.</p>\n<p>IMO, it is more reliable to run software that wasn't built to be modular on the classpath rather than as modules.  Once you do that for some modules, you lose a lot of the benefits of using modules in the first place.</p>\n<p>For example:</p>\n<ul>\n<li>you can't <code>jlink</code> automatic modules. <code>jlink</code> can only link modules with module-info.</li>\n<li>jars loaded from the classpath lose some benefits of modular encapsulation.</li>\n</ul>\n<p>When you start to use automatic modules you have to suffer through the pain of using the module system (e.g. having to deal with the module accessibility issues you encountered in your question), while receiving few of the benefits.</p>\n<p>Some software is only designed to be used as a module.  That includes all of the modules in the base JDK system for recent JDK distributions as well as the JavaFX modules.  Getting the JDK modules on the module path is pretty simple as that happens automatically.  Getting the JavaFX modules on the module path is more complex (the process is documented at openjfx.io).</p>\n<p>Even if your application may not be modular, it can still use modular software as modules, in the way they were intended to be used (you don't lose the ability to use modular software).</p>\n<p>If you intend to write a library that is used by others and you want them to be able to use that as a module (e.g. to enforce hiding of private API from library users), then you should make your code modular (include a module-info.java).  But if you are writing an application for deployment, this is not a concern.</p>\n<p>The ecosystem of Java software is large.  Unfortunately, many important libraries and frameworks are not fully modularized (do not have module-info.java defined for all jars).  That includes large influential frameworks like Spring 6.  Even the <a href=\"https://github.com/apache/commons-math/tree/4.0-beta1-release/commons-math-core/src\" rel=\"nofollow noreferrer\">most recent beta release of math commons 4</a> does not include a module-info.java. Often it is better to write non-modular applications when you rely on such non-modular software (IMO).</p>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695450149,"creation_date":1695374536,"question_id":77156354,"body_markdown":"I am trying to make a javafx program that reads the data from the excel file. I have added the `poi` dependency in my project. \r\n\r\nhere is my `build.gradle` file code.\r\n\r\n    plugins {\r\n      id &#39;java&#39;\r\n      id &#39;application&#39;\r\n      id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n      id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n      id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n    }\r\n    \r\n    group &#39;com&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n      junitVersion = &#39;5.9.2&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n      options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    application {\r\n      mainModule = &#39;com.al_makkah_traders_app&#39;\r\n      mainClass = &#39;com.al_makkah_traders_app.Main&#39;\r\n    }\r\n    \r\n    javafx {\r\n      version = &#39;17.0.6&#39;\r\n      modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n    \r\n    \r\n    \r\n    dependencies {\r\n      implementation &#39;org.controlsfx:controlsfx:11.1.2&#39;\r\n      implementation &#39;org.apache.logging.log4j:log4j-core:3.0.0-alpha1&#39;\r\n      implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n      implementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;\r\n      implementation &#39;mysql:mysql-connector-java:8.0.33&#39;\r\n      testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n      testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    }\r\n    \r\n    test {\r\n    useJUnitPlatform()}\r\n    \r\n    jlink {\r\n      imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n      options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n      launcher {\r\n        name = &#39;app&#39;\r\n      }\r\n    }\r\n    \r\n    jlinkZip {\r\n      group = &#39;distribution&#39;\r\n    }\r\n    \r\n    jar {\r\n      duplicatesStrategy = &#39;EXCLUDE&#39;\r\n      manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;com.al_makkah_traders_app.Main&#39;\r\n        )\r\n      }\r\n      from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n      }\r\n    }\r\n\r\nNow when i try to run my project it throws an error stating that\r\n\r\n    &gt; Task :Main.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.poi\r\n\r\nand sometimes it throws an error stating that \r\n\r\n    Error occurred during initialization of boot layer\r\n        java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.poi.ooxml\r\n\r\nI have been trying to solve this problem but i could not solve this problem. Although these modules exist in my project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LuXL5.png","title":"How to resolve commons.math3 not found error in JavaFx project?","body":"<p>I am trying to make a javafx program that reads the data from the excel file. I have added the <code>poi</code> dependency in my project.</p>\n<p>here is my <code>build.gradle</code> file code.</p>\n<pre><code>plugins {\n  id 'java'\n  id 'application'\n  id 'org.javamodularity.moduleplugin' version '1.8.12'\n  id 'org.openjfx.javafxplugin' version '0.0.13'\n  id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n  mavenCentral()\n}\n\next {\n  junitVersion = '5.9.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n  options.encoding = 'UTF-8'\n}\n\napplication {\n  mainModule = 'com.al_makkah_traders_app'\n  mainClass = 'com.al_makkah_traders_app.Main'\n}\n\njavafx {\n  version = '17.0.6'\n  modules = ['javafx.controls', 'javafx.fxml']\n}\n\n\n\ndependencies {\n  implementation 'org.controlsfx:controlsfx:11.1.2'\n  implementation 'org.apache.logging.log4j:log4j-core:3.0.0-alpha1'\n  implementation 'org.apache.poi:poi:5.2.2'\n  implementation 'org.apache.poi:poi-ooxml:5.2.2'\n  implementation 'mysql:mysql-connector-java:8.0.33'\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n  testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\nuseJUnitPlatform()}\n\njlink {\n  imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n  options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n  launcher {\n    name = 'app'\n  }\n}\n\njlinkZip {\n  group = 'distribution'\n}\n\njar {\n  duplicatesStrategy = 'EXCLUDE'\n  manifest {\n    attributes(\n            'Main-Class': 'com.al_makkah_traders_app.Main'\n    )\n  }\n  from {\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n  }\n}\n</code></pre>\n<p>Now when i try to run my project it throws an error stating that</p>\n<pre><code>&gt; Task :Main.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.poi\n</code></pre>\n<p>and sometimes it throws an error stating that</p>\n<pre><code>Error occurred during initialization of boot layer\n    java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.poi.ooxml\n</code></pre>\n<p>I have been trying to solve this problem but i could not solve this problem. Although these modules exist in my project.</p>\n<p><a href=\"https://i.stack.imgur.com/LuXL5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LuXL5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","service","process"],"owner":{"account_id":29042385,"reputation":1,"user_id":22246996,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695450028,"creation_date":1695420290,"question_id":77160884,"body_markdown":"I want to display a Toast message when the screen unlocks, saying &quot;screen is open.&quot; This functionality is currently working when the app is open, but I want it to run as a background service. This means that even when the app is closed or removed from recent tabs, it should still work when the screen unlocks, displaying the message that the screen is unlocked.\r\n\r\nPlease let me know if you need further assistance or if you have specific questions about implementing this functionality.\r\nHere is my MainActivity.java file\r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button unlockButton;\r\n    private ScreenUnlockReceiver screenUnlockReceiver;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        unlockButton = findViewById(R.id.unlockButton);\r\n        Intent ServiceIntent = new Intent(this, ScreenUnlockService.class);\r\n        startService(ServiceIntent);\r\n\r\n        unlockButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // This is an example of handling a button click in your MainActivity\r\n                showToast(&quot;Unlock button clicked!&quot;);\r\n            }\r\n        });\r\n        screenUnlockReceiver = new ScreenUnlockReceiver();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerScreenUnlockReceiver();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterScreenUnlockReceiver();\r\n    }\r\n\r\n    private void showToast(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n    class ScreenUnlockReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n                showToast(&quot;Screen is open!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void registerScreenUnlockReceiver() {\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_USER_PRESENT);\r\n        registerReceiver(screenUnlockReceiver, filter);\r\n    }\r\n\r\n    // Unregister the ScreenUnlockReceiver\r\n    private void unregisterScreenUnlockReceiver() {\r\n        unregisterReceiver(screenUnlockReceiver);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBelow is ScreenUnlockService.java\r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.Service;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.core.app.NotificationCompat;\r\n\r\npublic class ScreenUnlockService extends Service {\r\n    private static final int NOTIFICATION_ID = 1;\r\n    private static final String CHANNEL_ID = &quot;Channel&quot;;\r\n    private Handler handler;\r\n    private ScreenUnlockReceiver screenUnlockReceiver;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n\r\n        screenUnlockReceiver = new ScreenUnlockReceiver();\r\n        handler = new Handler();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            createNotificationChannel();\r\n        }\r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(&quot;Audio Service&quot;)\r\n                .setContentText(&quot;Playing audio in the background&quot;)\r\n                .setSmallIcon(R.drawable.ic_notification)\r\n                .build();\r\n\r\n        startForeground(NOTIFICATION_ID, notification);\r\n\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            CharSequence name = getString(R.string.channel_name);\r\n            String description = getString(R.string.channel_description);\r\n            int importance = NotificationManager.IMPORTANCE_LOW;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    private void showToast(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    class ScreenUnlockReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n                showToast(&quot;Screen is open here!&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nBelow is Receiver file \r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\n\r\npublic class ScreenUnlockReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n            // Screen unlock event detected\r\n            // You can perform actions here when the screen is unlocked.\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBelow is manifest file \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.ached.dalima&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;application\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.DaLima&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.ScreenUnlockReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.AudioService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;.ScreenUnlockService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n```\r\n\r\n***The issue is that I want the app to run in the background and display Toast messages even after it&#39;s removed from the recent apps list.***","title":"Run Services in Background Android New Versions?","body":"<p>I want to display a Toast message when the screen unlocks, saying &quot;screen is open.&quot; This functionality is currently working when the app is open, but I want it to run as a background service. This means that even when the app is closed or removed from recent tabs, it should still work when the screen unlocks, displaying the message that the screen is unlocked.</p>\n<p>Please let me know if you need further assistance or if you have specific questions about implementing this functionality.\nHere is my MainActivity.java file</p>\n<pre><code>package com.ached.dalima;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button unlockButton;\n    private ScreenUnlockReceiver screenUnlockReceiver;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        unlockButton = findViewById(R.id.unlockButton);\n        Intent ServiceIntent = new Intent(this, ScreenUnlockService.class);\n        startService(ServiceIntent);\n\n        unlockButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // This is an example of handling a button click in your MainActivity\n                showToast(&quot;Unlock button clicked!&quot;);\n            }\n        });\n        screenUnlockReceiver = new ScreenUnlockReceiver();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerScreenUnlockReceiver();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterScreenUnlockReceiver();\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n    class ScreenUnlockReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n                showToast(&quot;Screen is open!&quot;);\n            }\n        }\n    }\n\n    private void registerScreenUnlockReceiver() {\n        IntentFilter filter = new IntentFilter(Intent.ACTION_USER_PRESENT);\n        registerReceiver(screenUnlockReceiver, filter);\n    }\n\n    // Unregister the ScreenUnlockReceiver\n    private void unregisterScreenUnlockReceiver() {\n        unregisterReceiver(screenUnlockReceiver);\n    }\n}\n\n\n</code></pre>\n<p>Below is ScreenUnlockService.java</p>\n<pre><code>package com.ached.dalima;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.Service;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.widget.Toast;\n\nimport androidx.core.app.NotificationCompat;\n\npublic class ScreenUnlockService extends Service {\n    private static final int NOTIFICATION_ID = 1;\n    private static final String CHANNEL_ID = &quot;Channel&quot;;\n    private Handler handler;\n    private ScreenUnlockReceiver screenUnlockReceiver;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n\n        screenUnlockReceiver = new ScreenUnlockReceiver();\n        handler = new Handler();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            createNotificationChannel();\n        }\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;Audio Service&quot;)\n                .setContentText(&quot;Playing audio in the background&quot;)\n                .setSmallIcon(R.drawable.ic_notification)\n                .build();\n\n        startForeground(NOTIFICATION_ID, notification);\n\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private void createNotificationChannel() {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            CharSequence name = getString(R.string.channel_name);\n            String description = getString(R.string.channel_description);\n            int importance = NotificationManager.IMPORTANCE_LOW;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n            channel.setDescription(description);\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n\n    class ScreenUnlockReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n                showToast(&quot;Screen is open here!&quot;);\n\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>Below is Receiver file</p>\n<pre><code>package com.ached.dalima;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class ScreenUnlockReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n            // Screen unlock event detected\n            // You can perform actions here when the screen is unlocked.\n        }\n    }\n}\n\n</code></pre>\n<p>Below is manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.ached.dalima&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;application\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.DaLima&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;receiver\n            android:name=&quot;.ScreenUnlockReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;service\n            android:name=&quot;.AudioService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;service\n            android:name=&quot;.ScreenUnlockService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n\n</code></pre>\n<p><em><strong>The issue is that I want the app to run in the background and display Toast messages even after it's removed from the recent apps list.</strong></em></p>\n"},{"tags":["java","mysql","datetime","resultset"],"answers":[{"tags":[],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364982719,"creation_date":1364982719,"answer_id":15784134,"question_id":15784069,"body_markdown":"You can use [ResultSet.getTimeStamp()](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getTimestamp(int))","title":"getDateTime from ResultSet java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getTimestamp%28int%29\" rel=\"nofollow\">ResultSet.getTimeStamp()</a></p>\n"},{"tags":[],"owner":{"account_id":1616803,"reputation":1643,"user_id":1494265,"display_name":"tmwanik"},"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1364983091,"creation_date":1364983091,"answer_id":15784274,"question_id":15784069,"body_markdown":"Using `getDate()` only returns a `Date`, so in your case if you want both date and time use `getTimestamp(String columnLabel)` - That should work, also replace `String columnLabel` with the actual column name in the database.","title":"getDateTime from ResultSet java","body":"<p>Using <code>getDate()</code> only returns a <code>Date</code>, so in your case if you want both date and time use <code>getTimestamp(String columnLabel)</code> - That should work, also replace <code>String columnLabel</code> with the actual column name in the database.</p>\n"},{"tags":[],"owner":{"account_id":186596,"reputation":156,"user_id":424099,"display_name":"Silvan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392743721,"creation_date":1392743721,"answer_id":21860779,"question_id":15784069,"body_markdown":"Or with a typecast from date to string:\r\n\r\n`resultSet.getDate(1).toString());`\r\n\r\nwill return:\r\n\r\n`2014-02-18`\r\n\r\nDB field data: &quot;2014-02-18 00:00:00.000&quot;\r\n\r\n","title":"getDateTime from ResultSet java","body":"<p>Or with a typecast from date to string:</p>\n\n<p><code>resultSet.getDate(1).toString());</code></p>\n\n<p>will return:</p>\n\n<p><code>2014-02-18</code></p>\n\n<p>DB field data: \"2014-02-18 00:00:00.000\"</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695449774,"creation_date":1578996827,"answer_id":59731636,"question_id":15784069,"body_markdown":"\r\n\r\n&gt; Converting `java.sql.Timestamp` to `java.util.Date`.\r\n```lang-java\r\njava.util.Date date = rs.getDate(index_position); // O/P: DD:MM:YYYY\r\n\r\njava.sql.Timestamp timestamp = rs.getTimestamp(index_position); // O/P: DD:MM:YYYY HH:mm:ss\r\njava.util.Date date = new java.util.Date(timestamp.getTime());\r\n```\r\n\r\nIf you timestamp to date and convert it to `java.sql.Timestamp` then it results to `DD:MM:YYYY 00:00:00` as the date will not cover time. So, it picks default as `00:00:00`.\r\n\r\n```lang-none\r\nSQL TimeStamp  : 30.12.2020 13.40.50\r\nJava TimeStamp : 30.12.2020 13.40.50\r\n\r\nSQL TimeStamp  : 30.12.2020 13.40.50\r\nJava Date      : 30.12.2020 00.00.00\r\nJava TimeStamp : 30.12.2020 00.00.00\r\n```\r\n\r\nExample to get records based on [`ResultSetMetaData`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html) for CSV Report:\r\n```lang-java\r\npublic static void getTestTable(Connection con) throws SQLException {\r\n\tString sql = &quot;select ID, INSERTDATE, TO_CHAR(INSERTTIME,&#39;DD.MM.YYYY HH24:MI:SS&#39;) as String_Time, INSERTTIME, MSG from TEST_TABLE group by ID, INSERTDATE, INSERTTIME, MSG&quot;;\r\n\tStatement stmt = con.createStatement();\r\n\tResultSet rs = stmt.executeQuery(sql);\r\n\tif (rs != null) {\r\n\t\tResultSetMetaData resultSetMetaData = rs.getMetaData();\r\n\t\tint noOfColumns = resultSetMetaData.getColumnCount(); // For iteration\r\n\t\tSystem.out.println(&quot;No of Cloumns Query Returns: &quot;+ noOfColumns);\r\n\t\tHashMap&lt;String, ArrayList&lt;?&gt;&gt; matrixTable = getMatrixMetadata(resultSetMetaData);\r\n\t\tSystem.out.println(&quot;MatrixTable: &quot;+matrixTable);\r\n\t\tArrayList&lt;String&gt; dataTypeList = (ArrayList&lt;String&gt;) matrixTable.get(&quot;ColumnTypeName&quot;);\r\n\t\tint rowCount = 0;\r\n\t\twhile (rs.next()) { // CSV Report\r\n\t\t\tfor (int columnIndex = 1; columnIndex &lt;= noOfColumns; columnIndex++) {\r\n\t\t\t\t// int id = rs.getInt(&quot;ID&quot;);\r\n\t\t\t\tString value = getMatrixValue(rs, dataTypeList, columnIndex);\r\n\t\t\t\tSystem.out.print(value);\r\n\t\t\t\tif (columnIndex &lt; noOfColumns) {\r\n\t\t\t\t\tSystem.out.print(&quot;,&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\trowCount++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Result FetchSize(Total Columns):&quot;+rs.getFetchSize()+&quot; = Rows*Columns:[&quot;+rowCount+&quot;*&quot;+noOfColumns+&quot;]&quot;);\t\r\n\t}\r\n}\r\nstatic HashMap&lt;String, ArrayList&lt;?&gt;&gt; getMatrixMetadata(ResultSetMetaData meta) throws SQLException {\r\n\tint columnsCount = meta.getColumnCount();\r\n\tArrayList&lt;String&gt; columnList = new ArrayList&lt;String&gt;();\r\n\tArrayList&lt;String&gt; dataTypeNameList = new ArrayList&lt;String&gt;();\r\n\tArrayList&lt;Integer&gt; dataTypeIdList = new ArrayList&lt;Integer&gt;();\r\n\tHashMap&lt;String, ArrayList&lt;?&gt;&gt; returnHashMap = new HashMap&lt;String, ArrayList&lt;?&gt;&gt;();\r\n\tfor (int i = 1; i &lt;= columnsCount; i++) {\r\n\t\tcolumnList.add(meta.getColumnName(i));\r\n\t\tdataTypeIdList.add(Integer.valueOf(meta.getColumnType(i)));\r\n\t\tdataTypeNameList.add(meta.getColumnTypeName(i));\r\n\t}\r\n\treturnHashMap.put(&quot;ColumnName&quot;, columnList);\r\n\treturnHashMap.put(&quot;ColumnTypeId&quot;, dataTypeIdList);\r\n\treturnHashMap.put(&quot;ColumnTypeName&quot;, dataTypeNameList);\r\n\treturn returnHashMap;\r\n}\r\nstatic DecimalFormat DECIMAL_FORMAT = (DecimalFormat) NumberFormat.getInstance(Locale.ENGLISH);\r\nstatic { // https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\r\n\tDECIMAL_FORMAT.applyPattern(&quot;######.###&quot;); // &quot;#,#00.0#&quot;  1,234.56 \r\n}\r\npublic static String getMatrixValue(ResultSet rs, ArrayList&lt;String&gt; dataTypeNameList, int pos) throws SQLException {\r\n\tString retval;\r\n\tString columnTypeName = dataTypeNameList.get(pos - 1);\r\n\t//int type = dataTypeIdList.get(pos - 1);\r\n\t//if (type == Types.DECIMAL || type == Types.DOUBLE || type == Types.FLOAT || type == Types.NUMERIC || type == Types.REAL) {\r\n\tif (columnTypeName.equalsIgnoreCase(&quot;NUMBER&quot;)) {\r\n\t\tdouble doubleValue = rs.getDouble(pos);\r\n\t\tif (rs.wasNull()) {\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tretval = &quot;[N]&quot;+DECIMAL_FORMAT.format(doubleValue);\r\n\t\t}\r\n\t} else if (columnTypeName.equalsIgnoreCase(&quot;DATE&quot;)) {\r\n\t\tjava.util.Date date = rs.getDate(pos);\r\n\t\tif (rs.wasNull()) { // Checks last column read had a value of SQL NULL.\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tretval = &quot;[D]&quot;+formatDate(date, &quot;dd.MM.yy&quot;);\r\n\t\t}\r\n\t} else if (columnTypeName.equalsIgnoreCase(&quot;TIMESTAMP&quot;)) {\r\n\t\tjava.sql.Timestamp timestamp = rs.getTimestamp(pos);\r\n\t\tif (rs.wasNull()) {\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tjava.util.Date date = new java.util.Date(timestamp.getTime());\r\n\t\t\tretval = &quot;[T]&quot;+formatDate(date, &quot;dd.MM.yyyy HH:mm&quot;);\r\n\t\t}\r\n\t} else { // VARCHAR2\r\n\t\tretval = &quot;[S]&quot;+rs.getString(pos);\r\n\t}\r\n\treturn retval;\r\n}\r\npublic static String formatDate(Date aDate, String formatStr) {\r\n\tDateFormat dateFormat = new SimpleDateFormat( formatStr );\r\n\t//dateFormat.setCalendar(Calendar.getInstance(TimeZone.getTimeZone(&quot;IST&quot;)));\r\n\treturn dateFormat.format(aDate);\r\n}\r\n```\r\n\r\n```lang-none\r\nNo of Cloumns Query Returns: 5\r\nMatrixTable: {ColumnName=[ID, INSERTDATE, STRING_TIME, INSERTTIME, MSG], ColumnTypeId=[2, 93, 12, 93, 12], ColumnTypeName=[NUMBER, DATE, VARCHAR2, TIMESTAMP, VARCHAR2]}\r\n[N]1,[D]30.12.20,[S]30.12.2020 00:40:50,[T]30.12.2020 00:40,[S]Insert1\r\n[N]2,[D]30.12.20,[S]30.12.2020 13:40:50,[T]30.12.2020 13:40,[S]Insert2\r\nResult FetchSize(Total Columns):10 = Rows*Columns:[2*5]\r\n```\r\n\r\nSQL queries involved are for Table creation and multi record insertion: &lt;sup&gt;[Oracle Multi insert](https://stackoverflow.com/a/59580311/5081877)&lt;/sup&gt;\r\n\r\n```lang-sql\r\nCREATE TABLE SCHEMA7.TEST_TABLE \r\n(\r\n    &quot;ID&quot; NUMBER, \r\n    &quot;INSERTDATE&quot; DATE, \r\n    &quot;INSERTTIME&quot; TIMESTAMP (6), \r\n    &quot;MSG&quot; VARCHAR2(120 BYTE) \r\n);\r\n\r\nINSERT INTO SCHEMA7.TEST_TABLE (ID, INSERTDATE, INSERTTIME, MSG) VALUES (&#39;1&#39;, TO_DATE(&#39;30-DEC-2020&#39;, &#39;DD-MON-RR&#39;), TO_TIMESTAMP(&#39;30-DEC-2020 12.40.50.00 AM&#39;, &#39;DD-MON-RR HH.MI.SS.FF AM&#39;), &#39;Insert1&#39;);\r\nINSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES (&#39;2&#39;, TO_DATE(&#39;30.12.2020&#39;, &#39;DD.MM.YYYY&#39;), TO_TIMESTAMP(&#39;30.12.2020 13.40.50&#39;,&#39;dd.mm.yyyy hh24.mi.ss&#39;), &#39;Insert2&#39;);\r\n```","title":"getDateTime from ResultSet java","body":"<blockquote>\n<p>Converting <code>java.sql.Timestamp</code> to <code>java.util.Date</code>.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Date date = rs.getDate(index_position); // O/P: DD:MM:YYYY\n\njava.sql.Timestamp timestamp = rs.getTimestamp(index_position); // O/P: DD:MM:YYYY HH:mm:ss\njava.util.Date date = new java.util.Date(timestamp.getTime());\n</code></pre>\n<p>If you timestamp to date and convert it to <code>java.sql.Timestamp</code> then it results to <code>DD:MM:YYYY 00:00:00</code> as the date will not cover time. So, it picks default as <code>00:00:00</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>SQL TimeStamp  : 30.12.2020 13.40.50\nJava TimeStamp : 30.12.2020 13.40.50\n\nSQL TimeStamp  : 30.12.2020 13.40.50\nJava Date      : 30.12.2020 00.00.00\nJava TimeStamp : 30.12.2020 00.00.00\n</code></pre>\n<p>Example to get records based on <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html\" rel=\"nofollow noreferrer\"><code>ResultSetMetaData</code></a> for CSV Report:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getTestTable(Connection con) throws SQLException {\n    String sql = &quot;select ID, INSERTDATE, TO_CHAR(INSERTTIME,'DD.MM.YYYY HH24:MI:SS') as String_Time, INSERTTIME, MSG from TEST_TABLE group by ID, INSERTDATE, INSERTTIME, MSG&quot;;\n    Statement stmt = con.createStatement();\n    ResultSet rs = stmt.executeQuery(sql);\n    if (rs != null) {\n        ResultSetMetaData resultSetMetaData = rs.getMetaData();\n        int noOfColumns = resultSetMetaData.getColumnCount(); // For iteration\n        System.out.println(&quot;No of Cloumns Query Returns: &quot;+ noOfColumns);\n        HashMap&lt;String, ArrayList&lt;?&gt;&gt; matrixTable = getMatrixMetadata(resultSetMetaData);\n        System.out.println(&quot;MatrixTable: &quot;+matrixTable);\n        ArrayList&lt;String&gt; dataTypeList = (ArrayList&lt;String&gt;) matrixTable.get(&quot;ColumnTypeName&quot;);\n        int rowCount = 0;\n        while (rs.next()) { // CSV Report\n            for (int columnIndex = 1; columnIndex &lt;= noOfColumns; columnIndex++) {\n                // int id = rs.getInt(&quot;ID&quot;);\n                String value = getMatrixValue(rs, dataTypeList, columnIndex);\n                System.out.print(value);\n                if (columnIndex &lt; noOfColumns) {\n                    System.out.print(&quot;,&quot;);\n                }\n            }\n            System.out.println();\n            rowCount++;\n        }\n        System.out.println(&quot;Result FetchSize(Total Columns):&quot;+rs.getFetchSize()+&quot; = Rows*Columns:[&quot;+rowCount+&quot;*&quot;+noOfColumns+&quot;]&quot;);  \n    }\n}\nstatic HashMap&lt;String, ArrayList&lt;?&gt;&gt; getMatrixMetadata(ResultSetMetaData meta) throws SQLException {\n    int columnsCount = meta.getColumnCount();\n    ArrayList&lt;String&gt; columnList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; dataTypeNameList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;Integer&gt; dataTypeIdList = new ArrayList&lt;Integer&gt;();\n    HashMap&lt;String, ArrayList&lt;?&gt;&gt; returnHashMap = new HashMap&lt;String, ArrayList&lt;?&gt;&gt;();\n    for (int i = 1; i &lt;= columnsCount; i++) {\n        columnList.add(meta.getColumnName(i));\n        dataTypeIdList.add(Integer.valueOf(meta.getColumnType(i)));\n        dataTypeNameList.add(meta.getColumnTypeName(i));\n    }\n    returnHashMap.put(&quot;ColumnName&quot;, columnList);\n    returnHashMap.put(&quot;ColumnTypeId&quot;, dataTypeIdList);\n    returnHashMap.put(&quot;ColumnTypeName&quot;, dataTypeNameList);\n    return returnHashMap;\n}\nstatic DecimalFormat DECIMAL_FORMAT = (DecimalFormat) NumberFormat.getInstance(Locale.ENGLISH);\nstatic { // https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\n    DECIMAL_FORMAT.applyPattern(&quot;######.###&quot;); // &quot;#,#00.0#&quot;  1,234.56 \n}\npublic static String getMatrixValue(ResultSet rs, ArrayList&lt;String&gt; dataTypeNameList, int pos) throws SQLException {\n    String retval;\n    String columnTypeName = dataTypeNameList.get(pos - 1);\n    //int type = dataTypeIdList.get(pos - 1);\n    //if (type == Types.DECIMAL || type == Types.DOUBLE || type == Types.FLOAT || type == Types.NUMERIC || type == Types.REAL) {\n    if (columnTypeName.equalsIgnoreCase(&quot;NUMBER&quot;)) {\n        double doubleValue = rs.getDouble(pos);\n        if (rs.wasNull()) {\n            retval = null;\n        } else {\n            retval = &quot;[N]&quot;+DECIMAL_FORMAT.format(doubleValue);\n        }\n    } else if (columnTypeName.equalsIgnoreCase(&quot;DATE&quot;)) {\n        java.util.Date date = rs.getDate(pos);\n        if (rs.wasNull()) { // Checks last column read had a value of SQL NULL.\n            retval = null;\n        } else {\n            retval = &quot;[D]&quot;+formatDate(date, &quot;dd.MM.yy&quot;);\n        }\n    } else if (columnTypeName.equalsIgnoreCase(&quot;TIMESTAMP&quot;)) {\n        java.sql.Timestamp timestamp = rs.getTimestamp(pos);\n        if (rs.wasNull()) {\n            retval = null;\n        } else {\n            java.util.Date date = new java.util.Date(timestamp.getTime());\n            retval = &quot;[T]&quot;+formatDate(date, &quot;dd.MM.yyyy HH:mm&quot;);\n        }\n    } else { // VARCHAR2\n        retval = &quot;[S]&quot;+rs.getString(pos);\n    }\n    return retval;\n}\npublic static String formatDate(Date aDate, String formatStr) {\n    DateFormat dateFormat = new SimpleDateFormat( formatStr );\n    //dateFormat.setCalendar(Calendar.getInstance(TimeZone.getTimeZone(&quot;IST&quot;)));\n    return dateFormat.format(aDate);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>No of Cloumns Query Returns: 5\nMatrixTable: {ColumnName=[ID, INSERTDATE, STRING_TIME, INSERTTIME, MSG], ColumnTypeId=[2, 93, 12, 93, 12], ColumnTypeName=[NUMBER, DATE, VARCHAR2, TIMESTAMP, VARCHAR2]}\n[N]1,[D]30.12.20,[S]30.12.2020 00:40:50,[T]30.12.2020 00:40,[S]Insert1\n[N]2,[D]30.12.20,[S]30.12.2020 13:40:50,[T]30.12.2020 13:40,[S]Insert2\nResult FetchSize(Total Columns):10 = Rows*Columns:[2*5]\n</code></pre>\n<p>SQL queries involved are for Table creation and multi record insertion: <sup><a href=\"https://stackoverflow.com/a/59580311/5081877\">Oracle Multi insert</a></sup></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE SCHEMA7.TEST_TABLE \n(\n    &quot;ID&quot; NUMBER, \n    &quot;INSERTDATE&quot; DATE, \n    &quot;INSERTTIME&quot; TIMESTAMP (6), \n    &quot;MSG&quot; VARCHAR2(120 BYTE) \n);\n\nINSERT INTO SCHEMA7.TEST_TABLE (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('1', TO_DATE('30-DEC-2020', 'DD-MON-RR'), TO_TIMESTAMP('30-DEC-2020 12.40.50.00 AM', 'DD-MON-RR HH.MI.SS.FF AM'), 'Insert1');\nINSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('2', TO_DATE('30.12.2020', 'DD.MM.YYYY'), TO_TIMESTAMP('30.12.2020 13.40.50','dd.mm.yyyy hh24.mi.ss'), 'Insert2');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579071791,"creation_date":1579071113,"answer_id":59746376,"question_id":15784069,"body_markdown":"## Prefer timestamp over datetime in MySQL\r\n\r\nFirst, if the datetime in your database is to represent a point in time, use the `timestamp` datatype in MySQL for that, not `datetime`. A `datetime` is open for interpretation into any time zone the reader or the program reading it happens to use. This can lead to errors that are hard to debug. The `timestamp` datatype behaves differently in various RDBMSs. In MySQL it makes sure that dates and times are in UTC, thus excluding faulty interpretation into any other time zone. Its safer. If the dates and times are a little harder for users in your own time zone to read in the database, its worth it.\r\n\r\n## java.time\r\n\r\n\t\tPreparedStatement ps = yourDatabaseConnection.prepareStatement(&quot;select your_datetime_col from your_table;&quot;);\r\n\t\ttry (ResultSet rs = ps.executeQuery()) {\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tOffsetDateTime dateTime = rs.getObject(&quot;your_datetime_col&quot;, OffsetDateTime.class);\r\n\t\t\t\t// do something with dateTime\r\n\t\t\t}\r\n\t\t}\r\n\r\nUse `ResultSet.getObject()` for retrieving date and time from the database into a type from java.time, the modern Java date and time API. The classes `java.sql.Timestamp`, `java.sql.Date`and `java.util.Date` mentioned or implied in the question and the other answers are all poorly designed and long outdated, so I recommend the modern API instead. It requires a JDBC 4.2 compliant driver. Most of us have that, and one has been out for MySQL for very many years. SO I expect that you are fine.\r\n\r\nIf you cannot change the datatype in MySQL, use `LocalDateTime` in Java for retrieving values from your `datatime` column. It goes in the same way as in the code above.\r\n\r\n## To answer your concrete question\r\n\r\n&gt; Should I use `getDate()` or wouldn&#39;t that work?\r\n\r\nNo it would not. `getDate()` gives you a `java.sql.Date` holding only the date part from the database, the time of day part will be missing. As I said, `java.sql.Date` is also poorly designed  a true hack on top of the already poorly designed `java.util.Date`  so you shouldnt want that anyway.\r\n\r\n## Links\r\n\r\n - [Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users](https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user)\r\n - [My answer to Getting the date from a ResultSet for use with java.time classes](https://stackoverflow.com/a/54907501/5772882)\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n","title":"getDateTime from ResultSet java","body":"<h2>Prefer timestamp over datetime in MySQL</h2>\n\n<p>First, if the datetime in your database is to represent a point in time, use the <code>timestamp</code> datatype in MySQL for that, not <code>datetime</code>. A <code>datetime</code> is open for interpretation into any time zone the reader or the program reading it happens to use. This can lead to errors that are hard to debug. The <code>timestamp</code> datatype behaves differently in various RDBMSs. In MySQL it makes sure that dates and times are in UTC, thus excluding faulty interpretation into any other time zone. Its safer. If the dates and times are a little harder for users in your own time zone to read in the database, its worth it.</p>\n\n<h2>java.time</h2>\n\n<pre><code>    PreparedStatement ps = yourDatabaseConnection.prepareStatement(\"select your_datetime_col from your_table;\");\n    try (ResultSet rs = ps.executeQuery()) {\n        while (rs.next()) {\n            OffsetDateTime dateTime = rs.getObject(\"your_datetime_col\", OffsetDateTime.class);\n            // do something with dateTime\n        }\n    }\n</code></pre>\n\n<p>Use <code>ResultSet.getObject()</code> for retrieving date and time from the database into a type from java.time, the modern Java date and time API. The classes <code>java.sql.Timestamp</code>, <code>java.sql.Date</code>and <code>java.util.Date</code> mentioned or implied in the question and the other answers are all poorly designed and long outdated, so I recommend the modern API instead. It requires a JDBC 4.2 compliant driver. Most of us have that, and one has been out for MySQL for very many years. SO I expect that you are fine.</p>\n\n<p>If you cannot change the datatype in MySQL, use <code>LocalDateTime</code> in Java for retrieving values from your <code>datatime</code> column. It goes in the same way as in the code above.</p>\n\n<h2>To answer your concrete question</h2>\n\n<blockquote>\n  <p>Should I use <code>getDate()</code> or wouldn't that work?</p>\n</blockquote>\n\n<p>No it would not. <code>getDate()</code> gives you a <code>java.sql.Date</code> holding only the date part from the database, the time of day part will be missing. As I said, <code>java.sql.Date</code> is also poorly designed  a true hack on top of the already poorly designed <code>java.util.Date</code>  so you shouldnt want that anyway.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user\">Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a></li>\n<li><a href=\"https://stackoverflow.com/a/54907501/5772882\">My answer to Getting the date from a ResultSet for use with java.time classes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16671486,"reputation":53,"user_id":12048805,"display_name":"EverCpp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667830215,"creation_date":1667830215,"answer_id":74347942,"question_id":15784069,"body_markdown":"I am using this:\r\n\r\n    public static Date getDate(ResultSet rs, int col, Date def)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tTimestamp ts = rs.getTimestamp(col, Calendar.getInstance());\r\n\t\t\tif(!rs.wasNull())\r\n\t\t\t{\r\n\t\t\t\treturn  new Date(ts.toInstant().toEpochMilli());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn def;\r\n\t}","title":"getDateTime from ResultSet java","body":"<p>I am using this:</p>\n<pre><code>public static Date getDate(ResultSet rs, int col, Date def)\n{\n    try\n    {\n        Timestamp ts = rs.getTimestamp(col, Calendar.getInstance());\n        if(!rs.wasNull())\n        {\n            return  new Date(ts.toInstant().toEpochMilli());\n        }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    return def;\n}\n</code></pre>\n"}],"owner":{"account_id":246102,"reputation":617,"user_id":520020,"accept_rate":100,"display_name":"Luc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49067,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":15784274,"answer_count":6,"score":16,"last_activity_date":1695449774,"creation_date":1364982538,"question_id":15784069,"body_markdown":"I have two columns which store DateTime values in a MySql database,\r\n\r\nWhen I try to get them from a ResultSet in Java there is no option: \r\n`getDateTime()`\r\n\r\nShould I use `getDate()` or wouldn&#39;t that work?\r\n\r\nThanks in advance","title":"getDateTime from ResultSet java","body":"<p>I have two columns which store DateTime values in a MySql database,</p>\n\n<p>When I try to get them from a ResultSet in Java there is no option: \n<code>getDateTime()</code></p>\n\n<p>Should I use <code>getDate()</code> or wouldn't that work?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"score":0,"creation_date":1444840561,"post_id":33129634,"comment_id":54073456,"body_markdown":"Is dropped the body that goes to deleteToEe method or is it present for all cases (CURL, controller...)?","body":"Is dropped the body that goes to deleteToEe method or is it present for all cases (CURL, controller...)?"},{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":0,"creation_date":1518468270,"post_id":33129634,"comment_id":84511297,"body_markdown":"Passing Request Body in DELETE methods is support from version 3.0.5 https://jira.spring.io/browse/SPR-7867","body":"Passing Request Body in DELETE methods is support from version 3.0.5 <a href=\"https://jira.spring.io/browse/SPR-7867\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-7867</a>"},{"owner":{"account_id":8245772,"reputation":406,"user_id":6201912,"display_name":"Bustanil Arifin"},"score":0,"creation_date":1569899539,"post_id":33129634,"comment_id":102735646,"body_markdown":"Can you also post the exception stacktrace? as @Arashsoft says, this should&#39;ve already been supported since long ago.","body":"Can you also post the exception stacktrace? as @Arashsoft says, this should&#39;ve already been supported since long ago."},{"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"score":0,"creation_date":1601182297,"post_id":33129634,"comment_id":113323278,"body_markdown":"Go to postman top and open console and add console logs into question","body":"Go to postman top and open console and add console logs into question"},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1685042264,"post_id":33129634,"comment_id":134609842,"body_markdown":"Read this: https://stackoverflow.com/questions/25375046/passing-data-in-the-body-of-a-delete-request","body":"Read this: <a href=\"https://stackoverflow.com/questions/25375046/passing-data-in-the-body-of-a-delete-request\" title=\"passing data in the body of a delete request\">stackoverflow.com/questions/25375046/&hellip;</a>"},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1685042605,"post_id":33129634,"comment_id":134609909,"body_markdown":"Another link: https://stackoverflow.com/questions/36899641/resttemplate-delete-with-body\nThe second link notes that &quot;this is fixed after 4.0.x&quot;","body":"Another link: <a href=\"https://stackoverflow.com/questions/36899641/resttemplate-delete-with-body\" title=\"resttemplate delete with body\">stackoverflow.com/questions/36899641/&hellip;</a> The second link notes that &quot;this is fixed after 4.0.x&quot;"}],"answers":[{"tags":[],"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444838659,"creation_date":1444838305,"answer_id":33130137,"question_id":33129634,"body_markdown":"You should not have any body in the request when using HTTP DELETE method. Many frameworks discourage using it or warn you that the body may be dropped. The reason is that you want to DELETE some resource identified by your URI thus no body should be required.\r\n\r\nIt sounds like this may be your case. It would also explain why some tools do send the body and why others doesn&#39;t.\r\n\r\nI would strongly recommend you to re-design your API to something similar to\r\n\r\n    DELETE http://localhost:8080/api/provision/{id}\r\n\r\nor different URI dependent on how your data (resources) are designed\r\n","title":"RestTemplate.exchange() DELETE dropping request body","body":"<p>You should not have any body in the request when using HTTP DELETE method. Many frameworks discourage using it or warn you that the body may be dropped. The reason is that you want to DELETE some resource identified by your URI thus no body should be required.</p>\n\n<p>It sounds like this may be your case. It would also explain why some tools do send the body and why others doesn't.</p>\n\n<p>I would strongly recommend you to re-design your API to something similar to</p>\n\n<pre><code>DELETE http://localhost:8080/api/provision/{id}\n</code></pre>\n\n<p>or different URI dependent on how your data (resources) are designed</p>\n"}],"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14492,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695448970,"creation_date":1444836837,"question_id":33129634,"body_markdown":"I&#39;m experiencing a strange problem with the method below. \r\n\r\n    @Override\r\n\tpublic String deleteToEe(String body) {\t\t\r\n\t\tlogger.debug(&quot;Request body&quot;);\r\n\t\tlogger.debug(body);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.add(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\theaders.add(&quot;partner&quot;, &quot;test&quot;);\r\n\t\theaders.add(&quot;api_key&quot;, &quot;certxxxx&quot;);\r\n\t\tHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(body, headers);\r\n\t\tResponseEntity&lt;String&gt; result = null;\r\n\t\ttry {\r\n\t\t\tresult = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\r\n\t\t} catch (RestClientException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result.getBody();\r\n\t}\r\n\r\n\r\nWhen I trigger this method through hitting the controller request mapping through Postman, it works.  But when testers triggers this method through their integration tests, or when I trigger this method using curl\r\n\r\n    curl -X DELETE -H &quot;Accept: application/json&quot; -H &quot;Content-type: application/json&quot; -d &quot;{&quot;userName&quot;: &quot;21&quot;, &quot;courseId&quot;: &quot;104882_bfaculty3_1024&quot;, &quot;isbn&quot;: &quot;9780323055&quot;, &quot;schoolUserId&quot;: &quot;1234&quot; }&quot; http://localhost:8080//api/provision\r\n\r\nI get a null pointer exception at this point in the code\r\n\r\n    result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\r\n\r\nI&#39;ve breakpointed the code and looks like we have a request body but for some reason it&#39; being dropped at the restTemplate.exchange() call.  Anyone seen something like this before?","title":"RestTemplate.exchange() DELETE dropping request body","body":"<p>I'm experiencing a strange problem with the method below. </p>\n\n<pre><code>@Override\npublic String deleteToEe(String body) {     \n    logger.debug(\"Request body\");\n    logger.debug(body);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Content-Type\", MediaType.APPLICATION_JSON_VALUE);\n    headers.add(\"partner\", \"test\");\n    headers.add(\"api_key\", \"certxxxx\");\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(body, headers);\n    ResponseEntity&lt;String&gt; result = null;\n    try {\n        result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\n    } catch (RestClientException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return result.getBody();\n}\n</code></pre>\n\n<p>When I trigger this method through hitting the controller request mapping through Postman, it works.  But when testers triggers this method through their integration tests, or when I trigger this method using curl</p>\n\n<pre><code>curl -X DELETE -H \"Accept: application/json\" -H \"Content-type: application/json\" -d \"{\"userName\": \"21\", \"courseId\": \"104882_bfaculty3_1024\", \"isbn\": \"9780323055\", \"schoolUserId\": \"1234\" }\" http://localhost:8080//api/provision\n</code></pre>\n\n<p>I get a null pointer exception at this point in the code</p>\n\n<pre><code>result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\n</code></pre>\n\n<p>I've breakpointed the code and looks like we have a request body but for some reason it' being dropped at the restTemplate.exchange() call.  Anyone seen something like this before?</p>\n"},{"tags":["java","string","object","hashcode"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":8,"creation_date":1695443631,"post_id":77161639,"comment_id":136028520,"body_markdown":"`*[...] every object has unique hashcode*` - That is not true. It is not possible to map infinite number of possible objects to a finite set of hashcodes. Moreover, *equal* objects should have the same hashcode. Here, the hashcode of a string is based on the individual characters.","body":"<code>*[...] every object has unique hashcode*</code> - That is not true. It is not possible to map infinite number of possible objects to a finite set of hashcodes. Moreover, <i>equal</i> objects should have the same hashcode. Here, the hashcode of a string is based on the individual characters."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1695443883,"post_id":77161639,"comment_id":136028532,"body_markdown":"Nowhere in the specification of the `Object::hashCode` method does it say that hashcodes are unique.","body":"Nowhere in the specification of the <code>Object::hashCode</code> method does it say that hashcodes are unique."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1695444253,"post_id":77161639,"comment_id":136028546,"body_markdown":"`hashCode` has a relationship with `equals` in that any two objects which are `equal` should also have the same `hashCode` - [quick google for more details](https://www.google.com/search?q=java+hashcode+equals&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+hashcode+equals&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDY3ODFqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8)","body":"<code>hashCode</code> has a relationship with <code>equals</code> in that any two objects which are <code>equal</code> should also have the same <code>hashCode</code> - <a href=\"https://www.google.com/search?q=java+hashcode+equals&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+hashcode+equals&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDY3ODFqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">quick google for more details</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695445288,"creation_date":1695444642,"answer_id":77161697,"question_id":77161639,"body_markdown":"Your question is based on false assumptions:\r\n\r\n&gt; Since java creates a new object when new keyword is used,\r\n\r\nCorrect \r\n\r\n&gt; ... and every object has unique hashcode, \r\n\r\nIncorrect!  Nothing in any of the Java specifications states that hashcodes are unique.  In fact, the closest it comes to that is this line from the [javadocs][1] for `Object`.\r\n\r\n&gt; *&quot;Implementation Requirements:  As far as is reasonably practical, the `hashCode` method defined by class `Object` returns distinct integers for distinct objects.&quot;*\r\n\r\nThat says try to make them distinct if you can ... but it does not guarantee that they will be distinct.  Indeed, it is provably impossible to guarantee that in the context of Java.\r\n\r\n&gt; ... then why here it is giving same hashcode output?\r\n\r\nThat is nothing to do with `Object::hashCode`.  You code is actually calling the `String::hashCode`, and that is specified to return a value that is independent of the string&#39;s identity.  The `String` [javadoc][2] states:\r\n\r\n&gt; *&quot;Returns a hash code for this string. The hash code for a `String` object is computed as*\r\n&gt;\r\n&gt;     s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n&gt;\r\n&gt; *using `int` arithmetic, where `s[i]` is the `i`th character of the string, `n` is the length of the string, and `^` indicates exponentiation.&quot;*\r\n\r\nYour strings all have the same length and the same characters, so that means that `String::hashCode` will give the same result.\r\n\r\nWe can also infer that this should be the case from the properties of `hashCode` and `equals` as set out in the `Object` javadocs.  In concise terms:\r\n\r\n    s1.equals(s2) == true  implies  s1.hashCode() == s2.hashCode()\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#hashCode()","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>Your question is based on false assumptions:</p>\n<blockquote>\n<p>Since java creates a new object when new keyword is used,</p>\n</blockquote>\n<p>Correct</p>\n<blockquote>\n<p>... and every object has unique hashcode,</p>\n</blockquote>\n<p>Incorrect!  Nothing in any of the Java specifications states that hashcodes are unique.  In fact, the closest it comes to that is this line from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">javadocs</a> for <code>Object</code>.</p>\n<blockquote>\n<p><em>&quot;Implementation Requirements:  As far as is reasonably practical, the <code>hashCode</code> method defined by class <code>Object</code> returns distinct integers for distinct objects.&quot;</em></p>\n</blockquote>\n<p>That says try to make them distinct if you can ... but it does not guarantee that they will be distinct.  Indeed, it is provably impossible to guarantee that in the context of Java.</p>\n<blockquote>\n<p>... then why here it is giving same hashcode output?</p>\n</blockquote>\n<p>That is nothing to do with <code>Object::hashCode</code>.  You code is actually calling the <code>String::hashCode</code>, and that is specified to return a value that is independent of the string's identity.  The <code>String</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">javadoc</a> states:</p>\n<blockquote>\n<p><em>&quot;Returns a hash code for this string. The hash code for a <code>String</code> object is computed as</em></p>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n<p><em>using <code>int</code> arithmetic, where <code>s[i]</code> is the <code>i</code>th character of the string, <code>n</code> is the length of the string, and <code>^</code> indicates exponentiation.&quot;</em></p>\n</blockquote>\n<p>Your strings all have the same length and the same characters, so that means that <code>String::hashCode</code> will give the same result.</p>\n<p>We can also infer that this should be the case from the properties of <code>hashCode</code> and <code>equals</code> as set out in the <code>Object</code> javadocs.  In concise terms:</p>\n<pre><code>s1.equals(s2) == true  implies  s1.hashCode() == s2.hashCode()\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user22618554"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695447697,"creation_date":1695447697,"answer_id":77161803,"question_id":77161639,"body_markdown":"The Java programming language `equals` and `hashCode` contract states that two equal objects according to `equals(Object object)` method must have equal hash codes, while two objects with equal hash codes could be different  from one to another. \r\n\r\nThere are details about the `hashCode` method contract in Java documentation of `Object` class of the Java programming language version of your preference.","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>The Java programming language <code>equals</code> and <code>hashCode</code> contract states that two equal objects according to <code>equals(Object object)</code> method must have equal hash codes, while two objects with equal hash codes could be different  from one to another.</p>\n<p>There are details about the <code>hashCode</code> method contract in Java documentation of <code>Object</code> class of the Java programming language version of your preference.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695448651,"creation_date":1695448314,"answer_id":77161825,"question_id":77161639,"body_markdown":"Your assertion that &quot;every object has a unique hashcode&quot; is incorrect.  Rather, the rule is that equal objects must have the same hash code.  Unequal objects may or may not have different hash codes (though for performance reasons it is important most unequal objects do).\r\n\r\nPer the contract of [`hashCode`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()), objects which are equal according to [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) must have equal hash codes:\r\n\r\n&gt; If two objects are equal according to the [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method, then calling the `hashCode` method on each of the two objects must produce the same integer result.\r\n\r\nPer the `String` [Javadocs](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)), two `String` values are considered equal according to `equals` when they represent the same sequence of characters:\r\n\r\n&gt; The result is true if and only if the argument is not null and is a String object that represents the same sequence of characters as this object.\r\n\r\n`&quot;shrey&quot;` and `new String(&quot;shrey&quot;)` represent the same sequence of characters (namely, `{&#39;s&#39;, &#39;h&#39;, &#39;r&#39;, &#39;e&#39;, &#39;y&#39;}`).  Therefore, they are equal according to `equals` and must  have the same hash code.\r\n\r\nFinally, to add a little more context, the Javadocs for `hashCode` explain that two unequal objects may have the same hash code, though doing so comes with performance consequences:\r\n\r\n&gt; It is _not_ required that if two objects are unequal according to the [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables.","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>Your assertion that &quot;every object has a unique hashcode&quot; is incorrect.  Rather, the rule is that equal objects must have the same hash code.  Unequal objects may or may not have different hash codes (though for performance reasons it is important most unequal objects do).</p>\n<p>Per the contract of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode</code></a>, objects which are equal according to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> must have equal hash codes:</p>\n<blockquote>\n<p>If two objects are equal according to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method, then calling the <code>hashCode</code> method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p>Per the <code>String</code> <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadocs</a>, two <code>String</code> values are considered equal according to <code>equals</code> when they represent the same sequence of characters:</p>\n<blockquote>\n<p>The result is true if and only if the argument is not null and is a String object that represents the same sequence of characters as this object.</p>\n</blockquote>\n<p><code>&quot;shrey&quot;</code> and <code>new String(&quot;shrey&quot;)</code> represent the same sequence of characters (namely, <code>{'s', 'h', 'r', 'e', 'y'}</code>).  Therefore, they are equal according to <code>equals</code> and must  have the same hash code.</p>\n<p>Finally, to add a little more context, the Javadocs for <code>hashCode</code> explain that two unequal objects may have the same hash code, though doing so comes with performance consequences:</p>\n<blockquote>\n<p>It is <em>not</em> required that if two objects are unequal according to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695448670,"creation_date":1695448670,"answer_id":77161839,"question_id":77161639,"body_markdown":"`#hashcode` will give you the same hash value for all objects that are the same in terms of their literal value. So any string with the value &quot;eclips3&quot;, no matter how it is constructed, and whether or not `#intern` is applied, will have the same hashcode. \r\n\r\nWhat is more suited for your purposes is `System.identityHashCode(stringObj)`, which is basically the original implementation of `#hashcode` by Object before it gets overridden. As a result, we can use this method to distinguish references [stored in separate memory locations] even when they have the same literal value. \r\n\r\nHere a basic demo to help you get a better idea:\r\n```\r\n        String s1 = &quot;eclips3&quot;;\r\n\t\tString s2 = new String(&quot;eclips3&quot;);\r\n\t\tString s3 = new String(&quot;eclips3&quot;);\r\n\t\tString s4 = s2.intern();\r\n\t\tString s5 = new String(&quot;eclips3&quot;).intern();\r\n\r\n\t    System.out.println(System.identityHashCode(s1));\r\n        System.out.println(System.identityHashCode(s2));\r\n\t    System.out.println(System.identityHashCode(s3));\r\n        System.out.println(System.identityHashCode(s4));\r\n\t    System.out.println(System.identityHashCode(s5));\r\n\t\t\r\n\t\tSystem.out.println(&quot;s1 == s2? &quot; + String.valueOf(s1==s2));\r\n\t\tSystem.out.println(&quot;s1 == s3? &quot; + String.valueOf(s1==s3));\r\n\t\tSystem.out.println(&quot;s1 == s4? &quot; + String.valueOf(s1==s4));\r\n\t\tSystem.out.println(&quot;s1 == s5? &quot; + String.valueOf(s1==s5));\r\n\t\tSystem.out.println(&quot;s2 == s3? &quot; + String.valueOf(s2==s3));\r\n\t\tSystem.out.println(&quot;s2 == s4? &quot; + String.valueOf(s2==s4));\r\n\t\tSystem.out.println(&quot;s2 == s5? &quot; + String.valueOf(s2==s5));\r\n\t\tSystem.out.println(&quot;s3 == s4? &quot; + String.valueOf(s3==s4));\r\n\t\tSystem.out.println(&quot;s3 == s5? &quot; + String.valueOf(s3==s5));\r\n\t\tSystem.out.println(&quot;s4 == s5? &quot; + String.valueOf(s4==s5));\r\n```\r\n\r\nResults on my system:\r\n```\r\n95980430\r\n1478835287\r\n12006451\r\n95980430\r\n95980430\r\ns1 == s2? false\r\ns1 == s3? false\r\ns1 == s4? true\r\ns1 == s5? true\r\ns2 == s3? false\r\ns2 == s4? false\r\ns2 == s5? false\r\ns3 == s4? false\r\ns3 == s5? false\r\ns4 == s5? true\r\n```\r\n\r\n","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p><code>#hashcode</code> will give you the same hash value for all objects that are the same in terms of their literal value. So any string with the value &quot;eclips3&quot;, no matter how it is constructed, and whether or not <code>#intern</code> is applied, will have the same hashcode.</p>\n<p>What is more suited for your purposes is <code>System.identityHashCode(stringObj)</code>, which is basically the original implementation of <code>#hashcode</code> by Object before it gets overridden. As a result, we can use this method to distinguish references [stored in separate memory locations] even when they have the same literal value.</p>\n<p>Here a basic demo to help you get a better idea:</p>\n<pre><code>        String s1 = &quot;eclips3&quot;;\n        String s2 = new String(&quot;eclips3&quot;);\n        String s3 = new String(&quot;eclips3&quot;);\n        String s4 = s2.intern();\n        String s5 = new String(&quot;eclips3&quot;).intern();\n\n        System.out.println(System.identityHashCode(s1));\n        System.out.println(System.identityHashCode(s2));\n        System.out.println(System.identityHashCode(s3));\n        System.out.println(System.identityHashCode(s4));\n        System.out.println(System.identityHashCode(s5));\n        \n        System.out.println(&quot;s1 == s2? &quot; + String.valueOf(s1==s2));\n        System.out.println(&quot;s1 == s3? &quot; + String.valueOf(s1==s3));\n        System.out.println(&quot;s1 == s4? &quot; + String.valueOf(s1==s4));\n        System.out.println(&quot;s1 == s5? &quot; + String.valueOf(s1==s5));\n        System.out.println(&quot;s2 == s3? &quot; + String.valueOf(s2==s3));\n        System.out.println(&quot;s2 == s4? &quot; + String.valueOf(s2==s4));\n        System.out.println(&quot;s2 == s5? &quot; + String.valueOf(s2==s5));\n        System.out.println(&quot;s3 == s4? &quot; + String.valueOf(s3==s4));\n        System.out.println(&quot;s3 == s5? &quot; + String.valueOf(s3==s5));\n        System.out.println(&quot;s4 == s5? &quot; + String.valueOf(s4==s5));\n</code></pre>\n<p>Results on my system:</p>\n<pre><code>95980430\n1478835287\n12006451\n95980430\n95980430\ns1 == s2? false\ns1 == s3? false\ns1 == s4? true\ns1 == s5? true\ns2 == s3? false\ns2 == s4? false\ns2 == s5? false\ns3 == s4? false\ns3 == s5? false\ns4 == s5? true\n</code></pre>\n"}],"owner":{"account_id":28114672,"reputation":19,"user_id":21481954,"display_name":"Shrey Saxena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1695448670,"creation_date":1695442810,"question_id":77161639,"body_markdown":"```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String str1=&quot;shrey&quot;;\r\n        String str2=&quot;shrey&quot;;\r\n        String str3=new String(&quot;shrey&quot;);\r\n        System.out.println(str1.hashCode());\r\n        System.out.println(str2.hashCode());\r\n        System.out.println(str3.hashCode());\r\n    }\r\n}\r\n```\r\noutput = same hashcode of all str1, str2, str3\r\n\r\nJava uses string pool. I know it. `str1` and `str2` are created using string literal so they should refer to same object and hence will generate the same hashcode but, `str3` is created using `new` keyword, so I was expecting hashcode of `str3` to be different but it came out to be same. Why?\r\n","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        String str1=&quot;shrey&quot;;\n        String str2=&quot;shrey&quot;;\n        String str3=new String(&quot;shrey&quot;);\n        System.out.println(str1.hashCode());\n        System.out.println(str2.hashCode());\n        System.out.println(str3.hashCode());\n    }\n}\n</code></pre>\n<p>output = same hashcode of all str1, str2, str3</p>\n<p>Java uses string pool. I know it. <code>str1</code> and <code>str2</code> are created using string literal so they should refer to same object and hence will generate the same hashcode but, <code>str3</code> is created using <code>new</code> keyword, so I was expecting hashcode of <code>str3</code> to be different but it came out to be same. Why?</p>\n"},{"tags":["java","firebase","google-cloud-firestore","concurrency"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695447585,"creation_date":1695447585,"answer_id":77161798,"question_id":77160573,"body_markdown":"Each write operation to Firestore is executed atomically. So you can never end up with a partial write from one client, and a partial write from another client.\r\n\r\nBut if multiple clients write the same data, the last write will be the one that you end up with in the database. With the [default write operations](https://firebase.google.com/docs/firestore/manage-data/add-data) there is no coordination of those operations across the clients.\r\n\r\nIf you want to ensure that the write operations between clients are isolated or coordinated, use [batched writes or transactions](https://firebase.google.com/docs/firestore/manage-data/transactions) for them.","title":"android studio java firebase firestore concurrent data update","body":"<p>Each write operation to Firestore is executed atomically. So you can never end up with a partial write from one client, and a partial write from another client.</p>\n<p>But if multiple clients write the same data, the last write will be the one that you end up with in the database. With the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data\" rel=\"nofollow noreferrer\">default write operations</a> there is no coordination of those operations across the clients.</p>\n<p>If you want to ensure that the write operations between clients are isolated or coordinated, use <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">batched writes or transactions</a> for them.</p>\n"}],"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77161798,"answer_count":1,"score":0,"last_activity_date":1695447585,"creation_date":1695415574,"question_id":77160573,"body_markdown":"I am using the below code to update a firebase firestore database named &quot;Courses&quot;.\r\n\r\n    db.collection(&quot;Courses&quot;).get()\r\n            .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                    if (!queryDocumentSnapshots.isEmpty()) {\r\n                        loadingPB.setVisibility(View.GONE);\r\n                        List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                        for (DocumentSnapshot d : list) {\r\n                            Courses c = d.toObject(Courses.class);\r\n                            c.setId(d.getId());\r\n                            coursesArrayList.add(c);\r\n                        }\r\n                   \r\n                        courseRVAdapter.notifyDataSetChanged();\r\n                    } else {\r\n                    \r\n                        Toast.makeText(CourseDetails.this, &quot;No data found in Database&quot;,       Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Toast.makeText(CourseDetails.this, &quot;Fail to get the data.&quot;,     Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nAs far as I know firebase firestore upholds a serializable isolation model. This is what I would like to know. Let&#39;s say this single line command starts to get executed at the sime time on two different android devices. Does one of these two commands wait for the other command to finish to get executed? \r\n\r\nI did not try this yet since this is a multiuser problem.","title":"android studio java firebase firestore concurrent data update","body":"<p>I am using the below code to update a firebase firestore database named &quot;Courses&quot;.</p>\n<pre><code>db.collection(&quot;Courses&quot;).get()\n        .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                if (!queryDocumentSnapshots.isEmpty()) {\n                    loadingPB.setVisibility(View.GONE);\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot d : list) {\n                        Courses c = d.toObject(Courses.class);\n                        c.setId(d.getId());\n                        coursesArrayList.add(c);\n                    }\n               \n                    courseRVAdapter.notifyDataSetChanged();\n                } else {\n                \n                    Toast.makeText(CourseDetails.this, &quot;No data found in Database&quot;,       Toast.LENGTH_SHORT).show();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n        Toast.makeText(CourseDetails.this, &quot;Fail to get the data.&quot;,     Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>As far as I know firebase firestore upholds a serializable isolation model. This is what I would like to know. Let's say this single line command starts to get executed at the sime time on two different android devices. Does one of these two commands wait for the other command to finish to get executed?</p>\n<p>I did not try this yet since this is a multiuser problem.</p>\n"},{"tags":["java","netbeans","import","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1311616714,"post_id":6820137,"comment_id":8101956,"body_markdown":"Export an Eclipse project in IDEA, use the Eclipse import plugin in Netbeans.","body":"Export an Eclipse project in IDEA, use the Eclipse import plugin in Netbeans."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1311617099,"post_id":6820137,"comment_id":8102046,"body_markdown":"how large is the project? does it have many dependencies, artifacts? maybe you&#39;d better ask a question about creating a Netbens project from sources? and why would someone choose Netbeans over IDEA?","body":"how large is the project? does it have many dependencies, artifacts? maybe you&#39;d better ask a question about creating a Netbens project from sources? and why would someone choose Netbeans over IDEA?"},{"owner":{"account_id":1052450,"reputation":2880,"user_id":1056010,"accept_rate":75,"display_name":"ShaggyInjun"},"score":0,"creation_date":1363131283,"post_id":6820137,"comment_id":21726698,"body_markdown":"Netbeans is like a thin layer between your code and you. Where as eclipse is its morbidly obese cousin and Idea seems to be on the thicker side too.","body":"Netbeans is like a thin layer between your code and you. Where as eclipse is its morbidly obese cousin and Idea seems to be on the thicker side too."},{"owner":{"account_id":1185973,"reputation":611,"user_id":1159924,"accept_rate":100,"display_name":"Steve the Maker"},"score":0,"creation_date":1454038066,"post_id":6820137,"comment_id":57875281,"body_markdown":"@Thorbj&#248;rnRavnAndersen Does that method actually work, or was that just thinking out loud?  I&#39;d really like to know how to do this.","body":"@Thorbj&#248;rnRavnAndersen Does that method actually work, or was that just thinking out loud?  I&#39;d really like to know how to do this."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1454077643,"post_id":6820137,"comment_id":57895378,"body_markdown":"IntelliJ has &quot;File-&gt;Export to Eclipse&quot;.  Netbeans has File -&gt; Import Project -&gt; Eclipse project.  I have not tried this myself.  Today I would say &quot;redo as a maven project and open whereever you want&quot;.","body":"IntelliJ has &quot;File-&gt;Export to Eclipse&quot;.  Netbeans has File -&gt; Import Project -&gt; Eclipse project.  I have not tried this myself.  Today I would say &quot;redo as a maven project and open whereever you want&quot;."},{"owner":{"account_id":1033144,"reputation":3625,"user_id":1041046,"accept_rate":78,"display_name":"AaA"},"score":0,"creation_date":1467168967,"post_id":6820137,"comment_id":63614991,"body_markdown":"@Thorbj&#248;rnRavnAndersen, does maven works better with a dev computer not connected to Internet? just a side note, in most big finance companies no dev system is connected to Internet.","body":"@Thorbj&#248;rnRavnAndersen, does maven works better with a dev computer not connected to Internet? just a side note, in most big finance companies no dev system is connected to Internet."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1467181771,"post_id":6820137,"comment_id":63619115,"body_markdown":"@AaA Maven works the best with Internet access. If you don&#39;t have that you need to pull the needed artifacts in house and use them. A bit cumbersome but doable.","body":"@AaA Maven works the best with Internet access. If you don&#39;t have that you need to pull the needed artifacts in house and use them. A bit cumbersome but doable."}],"answers":[{"tags":[],"owner":{"account_id":119626,"reputation":2009,"user_id":311440,"display_name":"Will Iverson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1311616132,"creation_date":1311616132,"answer_id":6820202,"question_id":6820137,"body_markdown":"Short answer: I don&#39;t believe such a tool exists.\r\n\r\nLonger answer: You probably should not be relying on a proprietary format for your project.  Depending on the project, [Ant+Ivy][1] or [Maven][2] may be a better solution.\r\n\r\n  [1]: http://ant.apache.org/ivy/\r\n  [2]: http://maven.apache.org/","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>Short answer: I don't believe such a tool exists.</p>\n\n<p>Longer answer: You probably should not be relying on a proprietary format for your project.  Depending on the project, <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">Ant+Ivy</a> or <a href=\"http://maven.apache.org/\" rel=\"nofollow\">Maven</a> may be a better solution.</p>\n"},{"tags":[],"owner":{"account_id":11648621,"reputation":41,"user_id":8530578,"display_name":"Devansh Kaloti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544394085,"creation_date":1544394085,"answer_id":53697272,"question_id":6820137,"body_markdown":"The `nbproject` is a required folder by NetBeans, where it keeps its project settings. The only necessary project build files needed are the `project.xml` and `project.properties`.\r\n\r\nIn `project.xml`, line 5 is changed to reflect the accurate name of the user&#39;s project. Also for IntelliJ, `nbintellij.iml` is the required file.\r\n\r\nSo for a IntelliJ project, if you create the `nbproject` folder with the required files (`project.xml` and `project.properties`), you&#39;ll be able to open the folder in NetBeans\r\n\r\n\r\n----------\r\n\r\n\r\nYou can use the following tool I&#39;ve created to convert an IntelliJ project to NetBeans, and also convert a NetBeans project to IntelliJ. Please make sure you have python installed.\r\n\r\n\r\n\r\nh[ttps://github.com/devanshkaloti/IDEProjectConverter-Java][1]\r\n\r\n\r\n  [1]: https://github.com/devanshkaloti/IDEProjectConverter-Java","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>The <code>nbproject</code> is a required folder by NetBeans, where it keeps its project settings. The only necessary project build files needed are the <code>project.xml</code> and <code>project.properties</code>.</p>\n\n<p>In <code>project.xml</code>, line 5 is changed to reflect the accurate name of the user's project. Also for IntelliJ, <code>nbintellij.iml</code> is the required file.</p>\n\n<p>So for a IntelliJ project, if you create the <code>nbproject</code> folder with the required files (<code>project.xml</code> and <code>project.properties</code>), you'll be able to open the folder in NetBeans</p>\n\n<hr>\n\n<p>You can use the following tool I've created to convert an IntelliJ project to NetBeans, and also convert a NetBeans project to IntelliJ. Please make sure you have python installed.</p>\n\n<p>h<a href=\"https://github.com/devanshkaloti/IDEProjectConverter-Java\" rel=\"nofollow noreferrer\">ttps://github.com/devanshkaloti/IDEProjectConverter-Java</a></p>\n"},{"tags":[],"owner":{"account_id":17655883,"reputation":809,"user_id":17311782,"display_name":"David Salomon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695443838,"creation_date":1695441647,"answer_id":77161603,"question_id":6820137,"body_markdown":"Just install the [netbeans-exporter plugin][1] and it&#39;ll enable the `Export to NetBeans` option\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/14275-netbeans-exporter\r\n\r\nWhat it does is to generate the `nbproject` folder.","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>Just install the <a href=\"https://plugins.jetbrains.com/plugin/14275-netbeans-exporter\" rel=\"nofollow noreferrer\">netbeans-exporter plugin</a> and it'll enable the <code>Export to NetBeans</code> option</p>\n<p>What it does is to generate the <code>nbproject</code> folder.</p>\n"}],"owner":{"account_id":460779,"reputation":1525,"user_id":862090,"accept_rate":33,"display_name":"Jos&#233;"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32940,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":3,"score":25,"last_activity_date":1695443838,"creation_date":1311615784,"question_id":6820137,"body_markdown":"How can I import an IntelliJ IDEA project into Netbeans?\r\n\r\nI know I can just use IntelliJ but I prefer Netbeans...\r\n\r\nWith this particular project I can&#39;t just copy the source directory into a Netbeans project... That doesn&#39;t work?\r\n\r\nHow may I use this IntelliJ IDEA project within Netbeans?","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>How can I import an IntelliJ IDEA project into Netbeans?</p>\n\n<p>I know I can just use IntelliJ but I prefer Netbeans...</p>\n\n<p>With this particular project I can't just copy the source directory into a Netbeans project... That doesn't work?</p>\n\n<p>How may I use this IntelliJ IDEA project within Netbeans?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":2,"creation_date":1695347703,"post_id":77154469,"comment_id":136015611,"body_markdown":"Can&#39;t you just collapse all sequences of whitespaces into one single space first?","body":"Can&#39;t you just collapse all sequences of whitespaces into one single space first?"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1695410917,"post_id":77154469,"comment_id":136025905,"body_markdown":"Another idea is to match `\\s*` normally, find the next position left to `$` that is not preceded by a whitespace with use of another lookbehind `(?&lt;!\\s)` and put your current lookbehind there: [`(?&lt;!\\s)(?&lt;!\\bLOST)\\s*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)`](https://regex101.com/r/SoDbzs/2)","body":"Another idea is to match <code>\\s*</code> normally, find the next position left to <code>$</code> that is not preceded by a whitespace with use of another lookbehind <code>(?&lt;!\\s)</code> and put your current lookbehind there: <a href=\"https://regex101.com/r/SoDbzs/2\" rel=\"nofollow noreferrer\"><code>(?&lt;!\\s)(?&lt;!\\bLOST)\\s*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695349036,"creation_date":1695349036,"answer_id":77154540,"question_id":77154469,"body_markdown":"I wouldn&#39;t use a lookbehind here, but rather a capture group:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;;\r\n    String pattern = &quot;\\\\bLOST \\\\$?(\\\\d+(?:\\\\.\\\\d+)?)&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    if (m.find()) {\r\n        System.out.println(m.group(1));  // 11.34\r\n    }","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>I wouldn't use a lookbehind here, but rather a capture group:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;;\nString pattern = &quot;\\\\bLOST \\\\$?(\\\\d+(?:\\\\.\\\\d+)?)&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nif (m.find()) {\n    System.out.println(m.group(1));  // 11.34\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695443785,"creation_date":1695351671,"answer_id":77154640,"question_id":77154469,"body_markdown":"Let&#39;s say there could be between one and 99 whitespaces between `&quot;LOST&quot;` and the dollar sign. I&#39;ve also assumed the number has two decimal digits, and there are no commas that serve as thousands separators. Then one could attempt to match the string with the regular expression\r\n\r\n    (?&lt;!\\bLOST\\s{1,99})\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\r\n\r\nIf there were a match the capture group named `NUMBER` would contain the dollar amount of interest.\r\n\r\n[Demo](https://regex101.com/r/H8J0Ou/1)\r\n\r\nHover the cursor over the regular expression at the link to obtain explanations of each element of the expression.\r\n\r\n\r\n----------\r\n--------\r\n\r\nAnother way is to attempt to match the regular expression\r\n\r\n    \\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b|\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\r\n\r\n[Demo](https://regex101.com/r/5R6tKu/1)\r\n\r\nIn this case pay no attention to matches that do not capture; only to ones that do, in which case the capture group `NUMBER` will contain the monetary value of interest. Here\r\n\r\n    \\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b\r\n \r\nmatches, but does not capture, values preceded by &quot;LOST&quot; followed by one or more whitespaces followed by a dollar sign. One might say it gobbles up such substrings.\r\n","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Let's say there could be between one and 99 whitespaces between <code>&quot;LOST&quot;</code> and the dollar sign. I've also assumed the number has two decimal digits, and there are no commas that serve as thousands separators. Then one could attempt to match the string with the regular expression</p>\n<pre><code>(?&lt;!\\bLOST\\s{1,99})\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\n</code></pre>\n<p>If there were a match the capture group named <code>NUMBER</code> would contain the dollar amount of interest.</p>\n<p><a href=\"https://regex101.com/r/H8J0Ou/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>Hover the cursor over the regular expression at the link to obtain explanations of each element of the expression.</p>\n<hr />\n<hr />\n<p>Another way is to attempt to match the regular expression</p>\n<pre><code>\\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b|\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/5R6tKu/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>In this case pay no attention to matches that do not capture; only to ones that do, in which case the capture group <code>NUMBER</code> will contain the monetary value of interest. Here</p>\n<pre><code>\\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b\n</code></pre>\n<p>matches, but does not capture, values preceded by &quot;LOST&quot; followed by one or more whitespaces followed by a dollar sign. One might say it gobbles up such substrings.</p>\n"},{"tags":[],"owner":{"account_id":9279256,"reputation":95378,"user_id":6890912,"display_name":"blhsing"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1695353629,"creation_date":1695351680,"answer_id":77154641,"question_id":77154469,"body_markdown":"Since a lookbehind pattern has to be of fixed width in Java, you can allow a variable number of spaces by using a negative lookahead pattern instead to exclude the word `LOST`. Also include the beginning of a line with `^` in an alternation pattern in case a match occurs there:\r\n\r\n    (?:^|(?!LOST\\b)\\b\\w+\\s*)\\$\\s*(?&lt;NUMBER&gt;\\d+\\.\\d+)\r\n\r\nDemo: https://regex101.com/r/4pqyc0/7","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Since a lookbehind pattern has to be of fixed width in Java, you can allow a variable number of spaces by using a negative lookahead pattern instead to exclude the word <code>LOST</code>. Also include the beginning of a line with <code>^</code> in an alternation pattern in case a match occurs there:</p>\n<pre><code>(?:^|(?!LOST\\b)\\b\\w+\\s*)\\$\\s*(?&lt;NUMBER&gt;\\d+\\.\\d+)\n</code></pre>\n<p>Demo: <a href=\"https://regex101.com/r/4pqyc0/7\" rel=\"nofollow noreferrer\">https://regex101.com/r/4pqyc0/7</a></p>\n"},{"tags":[],"owner":{"account_id":14243549,"reputation":18079,"user_id":10289265,"display_name":"Hao Wu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695355376,"creation_date":1695355376,"answer_id":77154797,"question_id":77154469,"body_markdown":"Inspired by [blhsing&#39;s answer](https://stackoverflow.com/a/77154641/10289265), I propose this regex that may look cleaner and have wider edge case coverage:\r\n\r\n```\r\n(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\n\r\nBecause Java cannot have a non-fixed width lookbehind. The position where you put your lookbehind is crutial.\r\n\r\n\r\n1. Since you don&#39;t want the word before the currency is `LOST`, you may match a word boundary first:\r\n\r\n```\r\n\\b\r\n```\r\n\r\n2. Then you need to make sure that word is not `LOST`\r\n\r\n```\r\n(?&lt;!LOST)\\b\r\n```\r\n\r\n3. After that, put your currency match behind it preceded by optional non-word characters:\r\n\r\n```\r\n(?&lt;!LOST)\\b\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\n4. Then, add some edge cases such as the string starts with the currency:\r\n\r\n```\r\n(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\nSee the [test cases](https://regex101.com/r/tD7gWW/1)","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/77154641/10289265\">blhsing's answer</a>, I propose this regex that may look cleaner and have wider edge case coverage:</p>\n<pre><code>(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<p>Because Java cannot have a non-fixed width lookbehind. The position where you put your lookbehind is crutial.</p>\n<ol>\n<li>Since you don't want the word before the currency is <code>LOST</code>, you may match a word boundary first:</li>\n</ol>\n<pre><code>\\b\n</code></pre>\n<ol start=\"2\">\n<li>Then you need to make sure that word is not <code>LOST</code></li>\n</ol>\n<pre><code>(?&lt;!LOST)\\b\n</code></pre>\n<ol start=\"3\">\n<li>After that, put your currency match behind it preceded by optional non-word characters:</li>\n</ol>\n<pre><code>(?&lt;!LOST)\\b\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<ol start=\"4\">\n<li>Then, add some edge cases such as the string starts with the currency:</li>\n</ol>\n<pre><code>(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/tD7gWW/1\" rel=\"nofollow noreferrer\">test cases</a></p>\n"}],"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77154640,"answer_count":4,"score":3,"last_activity_date":1695443785,"creation_date":1695347111,"question_id":77154469,"body_markdown":"I am writing a regular expression (for use in Java, if that is important) that attempts to match the number (could be a float) after a $ (allows spaced between the $ and the number), but only if the word immediately preceding it is not the word &#39;LOST&#39;.\r\n\r\nIf there are multiple possible matches, the first number should be returned.\r\n\r\nFor simplicity, assume all are upper-case.\r\n\r\nFor example, in the following sentence: &quot;I PAID $10.12 FOR THE BEER&quot;, 10.12 will be matched. For the sentence &quot;I LOST $11.34 IN THE GAME&quot;, there will not be a match. For &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;, 10.12 will still be matched.\r\n\r\nThe regular expression I come up with is\r\n\r\n```\r\n.*?(?&lt;!LOST )[$]\\s*(?&lt;NUMBER&gt;[0-9]*[.]?[0-9]*).*\r\n```\r\n\r\nMy regular expression generally works fine, though I wonder if there is an easier way to write it/if I am missing any corner case. One slight issue is if there is more than 1 white-space between LOST and $, I still do not want to match but currently my regular expression will match. Unfortunately, negative look-behind have to have fixed width.\r\n\r\nClarification: To clarify, when I say &quot;the word immediately preceding it is not the word &#39;LOST&#39;&quot;, I meant that before &#39;$&#39; there cannot be &#39;LOST\\s*&#39;. This means that both &#39;LOST $123&#39; and &#39;LOST    $123&#39; should not match 123, but &#39;LOST! $123&#39; can match 123. The rationale is that the currency should not be directly &#39;acted on&#39; by LOST; if there is anything other than \\s between LOST and $, then there is a good chance the currency is not directly &#39;acted on&#39; by LOST.","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>I am writing a regular expression (for use in Java, if that is important) that attempts to match the number (could be a float) after a $ (allows spaced between the $ and the number), but only if the word immediately preceding it is not the word 'LOST'.</p>\n<p>If there are multiple possible matches, the first number should be returned.</p>\n<p>For simplicity, assume all are upper-case.</p>\n<p>For example, in the following sentence: &quot;I PAID $10.12 FOR THE BEER&quot;, 10.12 will be matched. For the sentence &quot;I LOST $11.34 IN THE GAME&quot;, there will not be a match. For &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;, 10.12 will still be matched.</p>\n<p>The regular expression I come up with is</p>\n<pre><code>.*?(?&lt;!LOST )[$]\\s*(?&lt;NUMBER&gt;[0-9]*[.]?[0-9]*).*\n</code></pre>\n<p>My regular expression generally works fine, though I wonder if there is an easier way to write it/if I am missing any corner case. One slight issue is if there is more than 1 white-space between LOST and $, I still do not want to match but currently my regular expression will match. Unfortunately, negative look-behind have to have fixed width.</p>\n<p>Clarification: To clarify, when I say &quot;the word immediately preceding it is not the word 'LOST'&quot;, I meant that before '$' there cannot be 'LOST\\s*'. This means that both 'LOST $123' and 'LOST    $123' should not match 123, but 'LOST! $123' can match 123. The rationale is that the currency should not be directly 'acted on' by LOST; if there is anything other than \\s between LOST and $, then there is a good chance the currency is not directly 'acted on' by LOST.</p>\n"},{"tags":["java","proxy","ioexception","tunneling"],"comments":[{"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"score":0,"creation_date":1538645986,"post_id":42904148,"comment_id":92219331,"body_markdown":"See https://stackoverflow.com/questions/44328077/unable-to-tunnel-through-proxy-proxy-returns-http-1-1-503-service-unavailable for a similar but somewhat different case.","body":"See <a href=\"https://stackoverflow.com/questions/44328077/unable-to-tunnel-through-proxy-proxy-returns-http-1-1-503-service-unavailable\" title=\"unable to tunnel through proxy proxy returns http 1 1 503 service unavailable\">stackoverflow.com/questions/44328077/&hellip;</a> for a similar but somewhat different case."}],"answers":[{"tags":[],"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538646023,"creation_date":1538646023,"answer_id":52643578,"question_id":42904148,"body_markdown":"What helped to me was to unset all proxy properties in the environment (`http_proxy` etc env variables; java properties such as `-Dhttp.proxyHost=..` had, surprisingly, no effect). My URL (https://mycompany.example.com/service) was accessible directly (because it was on the internal network) but not through the proxy.\r\n\r\nSo check where the service lives and check for proxy-related environment variables.","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>What helped to me was to unset all proxy properties in the environment (<code>http_proxy</code> etc env variables; java properties such as <code>-Dhttp.proxyHost=..</code> had, surprisingly, no effect). My URL (<a href=\"https://mycompany.example.com/service\" rel=\"nofollow noreferrer\">https://mycompany.example.com/service</a>) was accessible directly (because it was on the internal network) but not through the proxy.</p>\n\n<p>So check where the service lives and check for proxy-related environment variables.</p>\n"},{"tags":[],"owner":{"account_id":4451500,"reputation":772,"user_id":3623232,"display_name":"Guillermo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551019239,"creation_date":1551019239,"answer_id":54852982,"question_id":42904148,"body_markdown":"I hade a similar case. I&#39;m using the maven `jaxws-maven-plugin` plugin and trying to generate java code from a WSDL laying on another server.\r\nThe problem was that the plugin is picking up the environment variable `httpproxy`, but not the `noproxy` variable. I solved that by adding it manually as a JVM argument:\r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;wsdltoJava&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;wsdlUrls&gt;\r\n\t\t\t\t\t&lt;wsdlUrl&gt;https://someService.yourcompany.net/Service/Service?wsdl&lt;/wsdlUrl&gt;\r\n\t\t\t\t&lt;/wsdlUrls&gt;\r\n\t\t\t\t&lt;vmArgs&gt;\r\n\t\t\t\t\t&lt;vmArg&gt;-Dhttp.nonProxyHosts=*.yourcompany.net&lt;/vmArg&gt;\r\n\t\t\t\t&lt;/vmArgs&gt;\r\n\t\t\t\t&lt;keep&gt;true&lt;/keep&gt;\r\n\t\t\t\t&lt;packageName&gt;com.yourcompany.package&lt;/packageName&gt;\r\n\t\t\t\t&lt;sourceDestDir&gt;your/target/directory&lt;/sourceDestDir&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>I hade a similar case. I'm using the maven <code>jaxws-maven-plugin</code> plugin and trying to generate java code from a WSDL laying on another server.\nThe problem was that the plugin is picking up the environment variable <code>httpproxy</code>, but not the <code>noproxy</code> variable. I solved that by adding it manually as a JVM argument:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.4.1&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;wsdltoJava&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;https://someService.yourcompany.net/Service/Service?wsdl&lt;/wsdlUrl&gt;\n            &lt;/wsdlUrls&gt;\n            &lt;vmArgs&gt;\n                &lt;vmArg&gt;-Dhttp.nonProxyHosts=*.yourcompany.net&lt;/vmArg&gt;\n            &lt;/vmArgs&gt;\n            &lt;keep&gt;true&lt;/keep&gt;\n            &lt;packageName&gt;com.yourcompany.package&lt;/packageName&gt;\n            &lt;sourceDestDir&gt;your/target/directory&lt;/sourceDestDir&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":1052952,"reputation":543,"user_id":1056380,"accept_rate":72,"display_name":"ManKeer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26013,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1695442106,"creation_date":1490014390,"question_id":42904148,"body_markdown":"I want to connect to an intranet server, the url that I need to connect is:\r\n\r\n    URLConnection conn = new URL(&quot;https://mywebsite&quot;).openConnection();\r\n\r\nWhen I reach to the connect method call through:`\r\n\r\n    conn.connect();\r\n\r\nI&#39;m getting the following exception:\r\n\r\n    java.io.IOException: Unable to tunnel through proxy. Proxy rerurns HTTP/1.1 503 Service Unavailable&quot;\r\n    at sun.net.www.protocol.httpHttpURLConnection.doTunneling\r\n\r\nHow can I solve this exception, I have tried many solutions published on the net, but without any luck.","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>I want to connect to an intranet server, the url that I need to connect is:</p>\n\n<pre><code>URLConnection conn = new URL(\"https://mywebsite\").openConnection();\n</code></pre>\n\n<p>When I reach to the connect method call through:`</p>\n\n<pre><code>conn.connect();\n</code></pre>\n\n<p>I'm getting the following exception:</p>\n\n<pre><code>java.io.IOException: Unable to tunnel through proxy. Proxy rerurns HTTP/1.1 503 Service Unavailable\"\nat sun.net.www.protocol.httpHttpURLConnection.doTunneling\n</code></pre>\n\n<p>How can I solve this exception, I have tried many solutions published on the net, but without any luck.</p>\n"},{"tags":["java","spring","spring-mvc","java-8"],"answers":[{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695441594,"creation_date":1695441594,"answer_id":77161602,"question_id":70950905,"body_markdown":"If you get this error while using spring boot, try following:\r\n\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = { Exception.class })\r\n    private void deleteResult(LabResInvstResult dto, List&lt;Long&gt; relInvstid) {\r\n        try{\r\n            labResultRepo.deleteById(dto.getId());          \r\n            LabResInvstResult result = labResultRepo.save(dto);\r\n    \r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nOn delete it throws an exception &quot;Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread  cannot reliably process &#39;remove&#39; call&quot;","title":"No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call","body":"<p>If you get this error while using spring boot, try following:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = { Exception.class })\nprivate void deleteResult(LabResInvstResult dto, List&lt;Long&gt; relInvstid) {\n    try{\n        labResultRepo.deleteById(dto.getId());          \n        LabResInvstResult result = labResultRepo.save(dto);\n\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>On delete it throws an exception &quot;Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread  cannot reliably process 'remove' call&quot;</p>\n"}],"owner":{"account_id":17763021,"reputation":3757,"user_id":12898581,"display_name":"Dhanusha_Perera07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695441594,"creation_date":1643779972,"question_id":70950905,"body_markdown":"### API Requests using Postman\r\n\r\n- I tried to send HTTP requests to the java backend web server application and perform CRUD operations. `GET` operations are working fine and gave back the proper response but save, update and delete operations gave the following error. \r\n- Please note that there are three customer records in my database and I tried to send HTTP requests as follows;\r\n\r\n1. GET http://localhost:8080/tms/api/v1/customers   ---&gt; Successful \r\n2. GET http://localhost:8080/tms/api/v1/customers/3   ---&gt; Successful \r\n2. DELETE http://localhost:8080/tms/api/v1/customers/3   ---&gt; Unsuccessful \r\n\r\n### Error Log\r\n\r\n```console\r\nCustomer ID: 2\r\n02-Feb-2022 09:59:11.271 SEVERE [http-nio-8080-exec-2] com.myapp.web.api.exceptionhandler.AppWideExceptionHandler.globalExceptionHandler null\r\n\tjavax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\t\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295)\r\n\t\tat com.sun.proxy.$Proxy80.remove(Unknown Source)\r\n\t\tat com.myapp.web.dal.CrudDAOImpl.delete(CrudDAOImpl.java:67)\r\n\t\tat com.myapp.web.business.custom.impl.CustomerBOImpl.deleteCustomer(CustomerBOImpl.java:79)\r\n\t\tat com.myapp.web.api.CustomerController.deleteCustomer(CustomerController.java:116)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n### API Layer\r\n\r\n1. CustomerController.java\r\n\r\n```java\r\npackage com.myapp.web.api;\r\n\r\nimport com.myapp.web.api.util.ApiUtil;\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.exception.IdFormatException;\r\nimport com.myapp.web.exception.RecordNotFoundException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n@RequestMapping(&quot;/api/v1/customers&quot;)\r\n@RestController\r\npublic class CustomerController {\r\n\r\n    @Autowired\r\n    private CustomerBO customerBO;\r\n\r\n    /**\r\n     * Get all customers list.\r\n     *\r\n     * @return List&lt;CustomerDTO&gt; customersList.\r\n     */\r\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\r\n        return customerBO.getAllCustomers();\r\n    }\r\n\r\n    /**\r\n     * Get customer by customer ID.\r\n     *\r\n     * @return CustomerDTO customer object.\r\n     * @throws IdFormatException       if the ID is not an Integer.\r\n     * @throws RecordNotFoundException if matching customer record not found,\r\n     */\r\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE,\r\n            value = &quot;/{id:\\\\d}&quot;)\r\n    public CustomerDTO getCustomerByID(@PathVariable(name = &quot;id&quot;) String id) throws Exception {\r\n        System.out.println(&quot;CustomerID: &quot; + id);\r\n\r\n        Integer customerID = ApiUtil.getIntegerId(id);\r\n\r\n        CustomerDTO customer = customerBO.getCustomerByID(customerID);\r\n        System.out.println(&quot;Customer Result: &quot; + customer);\r\n\r\n        /* If customer not found. */\r\n        if (customer == null) throw new RecordNotFoundException();\r\n        return customer;\r\n    }\r\n\r\n    /**\r\n     * Delete customer by Customer ID.\r\n     */\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    @DeleteMapping(value = &quot;/{id:\\\\d}&quot;)\r\n    public void deleteCustomer(@PathVariable String id) throws Exception {\r\n        Integer customerID = ApiUtil.getIntegerId(id);\r\n        System.out.println(&quot;Customer ID: &quot; + customerID);\r\n        customerBO.deleteCustomer(customerID);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Business Layer\r\n\r\n1. SuperBO.java\r\n\r\n```java\r\npackage com.myapp.web.business;\r\n\r\npublic interface SuperBO {\r\n}\r\n```\r\n\r\n2. CustomerBOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.business.custom.impl;\r\n\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.business.custom.util.mapper.CustomerDTOMapper;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.Customer;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n\r\n@NoArgsConstructor\r\n@Transactional\r\n@Service\r\npublic class CustomerBOImpl implements CustomerBO {\r\n\r\n    @Autowired\r\n    private CustomerDAO customerDAO;\r\n\r\n    @Autowired\r\n    private CustomerDTOMapper mapper;\r\n\r\n    @Override\r\n    public void deleteCustomer(int customerID) throws Exception {\r\n        /* delete. */\r\n        this.customerDAO.delete(customerID);\r\n    }\r\n\r\n    @Transactional(readOnly = true)\r\n    @Override\r\n    public CustomerDTO getCustomerByID(int customerID) throws Exception {\r\n        /* get customer by customer ID. */\r\n        return this.mapper.getCustomerDTO(this.customerDAO.get(customerID));\r\n    }\r\n\r\n    @Transactional(readOnly = true)\r\n    @Override\r\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\r\n        /* get all customers. */\r\n        return this.mapper.getCustomerDTOs(this.customerDAO.getAll());\r\n    }\r\n}\r\n```\r\n\r\n3. CustomerDTOMapper.java\r\n\r\n```java\r\npackage com.myapp.web.business.custom.util.mapper;\r\n\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.Customer;\r\nimport org.mapstruct.Mapper;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic abstract class CustomerDTOMapper {\r\n\r\n    /*  -------------------- Customer  -------------------- */\r\n    public abstract Customer getCustomer(CustomerDTO customerDTO);\r\n\r\n    public abstract CustomerDTO getCustomerDTO(Customer customer);\r\n\r\n    public abstract List&lt;CustomerDTO&gt; getCustomerDTOs(List&lt;Customer&gt; customerList);\r\n}\r\n```\r\n\r\n### Data Access Layer\r\n\r\n1. SuperDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport javax.persistence.EntityManager;\r\n\r\npublic interface SuperDAO {\r\n    EntityManager getEntityManager();\r\n}\r\n\r\n```\r\n\r\n2. CrudDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport com.myapp.web.entity.SuperEntity;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic interface CrudDAO&lt;T extends SuperEntity&lt;Serializable&gt;, PK extends Serializable&gt; extends SuperDAO {\r\n\r\n    /**\r\n     * saving an entity and return the entity.\r\n     *\r\n     * @return T SuperEntity. */\r\n    T save(T entity) throws Exception;\r\n\r\n    void update(T entity) throws Exception;\r\n\r\n    void delete(PK key) throws Exception;\r\n\r\n    T get(PK key) throws Exception;\r\n\r\n    List&lt;T&gt; getAll() throws Exception;\r\n}\r\n```\r\n\r\n3. CrudDAOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport com.myapp.web.entity.SuperEntity;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.util.List;\r\n\r\npublic class CrudDAOImpl&lt;T extends SuperEntity&lt;Serializable&gt;, K extends Serializable&gt; implements CrudDAO&lt;T, K&gt; {\r\n\r\n    private final Class&lt;T&gt; entityClass;\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public CrudDAOImpl() {\r\n        this.entityClass =\r\n                (Class&lt;T&gt;) (((ParameterizedType) (this.getClass().getGenericSuperclass())).getActualTypeArguments()[0]);\r\n    }\r\n\r\n    /**\r\n     * This method is used to pass the EntityManager to the lower level classes that extend the CrudDAOImpl class.\r\n     */\r\n    public EntityManager getEntityManager() {\r\n        return this.entityManager;\r\n    }\r\n\r\n    @Override\r\n    public void delete(K key) throws Exception {\r\n        this.entityManager.remove(key);\r\n    }\r\n\r\n    @Override\r\n    public T get(K key) throws Exception {\r\n        return this.entityManager.find(this.entityClass, key);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; getAll() throws Exception {\r\n        List&lt;T&gt; resultList = (List&lt;T&gt;) this.entityManager.\r\n                createQuery(&quot;SELECT e FROM &quot; + this.entityClass.getName() + &quot; e&quot;).getResultList();\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\n4. CustomerDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal.custom;\r\n\r\nimport com.myapp.web.dal.CrudDAO;\r\nimport com.myapp.web.entity.Customer;\r\n\r\npublic interface CustomerDAO extends CrudDAO&lt;Customer, Integer&gt; {\r\n}\r\n```\r\n\r\n5. CustomerDAOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.dal.custom.impl;\r\n\r\nimport com.myapp.web.dal.CrudDAOImpl;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.entity.Customer;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic class CustomerDAOImpl extends CrudDAOImpl&lt;Customer, Integer&gt; implements CustomerDAO {\r\n}\r\n```\r\n\r\n### Here&#39;s what I have tried.\r\n\r\nI tried unit testing. BO layer and DAO layer unit test case worked as intended but when I check the API by sending HTTP request using Postman, save, update and delete cannot be performed using the API.\r\n\r\n1. CustomerDAOImplTest.java ----&gt; TEST PASSED ! \r\n\r\n```java\r\npackage com.myapp.web.dal.custom.impl;\r\n\r\nimport com.myapp.web.WebAppConfig;\r\nimport com.myapp.web.WebRootConfig;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.entity.Customer;\r\nimport com.myapp.web.entity.enumeration.GenderTypes;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\r\npublic class CustomerDAOImplTest {\r\n\r\n    @Autowired\r\n    private CustomerDAO customerDAO;\r\n\r\n    @Test\r\n    public void checkCustomerDAO() {\r\n        assertNotNull(customerDAO);\r\n    }\r\n\r\n    @Transactional\r\n    @Test\r\n    public void getCustomerByID() throws Exception {\r\n        assertNotNull(customerDAO);\r\n\r\n        Customer customer = this.customerDAO.get(10);\r\n        System.out.println(&quot;GET Customer Entity: &quot; + customer);\r\n        assertNotNull(customer);\r\n    }\r\n\r\n    @Test\r\n    public void getAllCustomers() throws Exception {\r\n        List&lt;Customer&gt; customersList = this.customerDAO.getAll();\r\n        assertEquals(2, customersList.size());\r\n    }\r\n\r\n\r\n    @Transactional\r\n    @Test\r\n    public void deleteCustomer() throws Exception {\r\n        assertNotNull(this.customerDAO);\r\n\r\n        /* delete */\r\n        this.customerDAO.delete(3);\r\n\r\n        Customer customerFromDB = this.customerDAO.get(10);\r\n        assertNull(customerFromDB);\r\n    }\r\n}\r\n```\r\n\r\n[![CustomerDAOImplTest-delete][1]][1]\r\n\r\n2. CustomerBOImpl.java ----&gt; TEST PASSED ! \r\n\r\n```java\r\npackage com.myapp.web.business.custom.impl;\r\n\r\nimport com.myapp.web.WebAppConfig;\r\nimport com.myapp.web.WebRootConfig;\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.enumeration.GenderTypes;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\n\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.assertNull;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\r\npublic class CustomerBOImplTest {\r\n\r\n    @Autowired\r\n    private CustomerBO customerBO;\r\n\r\n    @Test\r\n    public void checkCustomerBO() {\r\n        assertNotNull(customerBO);\r\n    }\r\n\r\n    //    @Transactional\r\n    @Test\r\n    public void deleteCustomer() throws Exception {\r\n        assertNotNull(this.customerBO);\r\n\r\n        /* delete */\r\n        this.customerBO.deleteCustomer(3);\r\n\r\n        CustomerDTO customerDTOFromDB = this.customerBO.getCustomerByID(10);\r\n        assertNull(customerDTOFromDB);\r\n    }\r\n\r\n}\r\n```\r\n[![CustomerBOImplTest-delete][2]][2]\r\n\r\n\r\n### pom.xml dependencies\r\n\r\n```xml\r\n\r\n&lt;dependencies&gt;\r\n\r\n    &lt;!-- Servlet-API --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- MySQL connector --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.27&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- SLF4J for logging--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Junit4 for unit testing --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Apache Commons Validator --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- mapstruct --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- lombok  --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Hibernate --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Apache Commons Codecs --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Spring Data Access ==================================================================== --&gt;\r\n\r\n    &lt;!--Spring ORM --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Apache Commons DBCP --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Data Access - Spring AOP - Aspectj ========================================== --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.7&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Web MVC =================================================================== --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- JACKSON DATABIND --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--Jackson Datatype--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!--Spring TestContext Framework--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n### Development Enviroment\r\n\r\n 1. Java 8\r\n 2. Tomcat 9\r\n\r\nI refer to these following questions and answers but, I could not fix the issue. I would appreciate some help to fix the\r\nerror and, understand the error.\r\n\r\n1. https://stackoverflow.com/a/32552558/12898581\r\n2. https://stackoverflow.com/q/43901381/12898581\r\n3. https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N6bbx.png\r\n  [2]: https://i.stack.imgur.com/7xL6v.png","title":"No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call","body":"<h3>API Requests using Postman</h3>\n<ul>\n<li>I tried to send HTTP requests to the java backend web server application and perform CRUD operations. <code>GET</code> operations are working fine and gave back the proper response but save, update and delete operations gave the following error.</li>\n<li>Please note that there are three customer records in my database and I tried to send HTTP requests as follows;</li>\n</ul>\n<ol>\n<li>GET http://localhost:8080/tms/api/v1/customers   ---&gt; Successful </li>\n<li>GET http://localhost:8080/tms/api/v1/customers/3   ---&gt; Successful </li>\n<li>DELETE http://localhost:8080/tms/api/v1/customers/3   ---&gt; Unsuccessful </li>\n</ol>\n<h3>Error Log</h3>\n<pre><code>Customer ID: 2\n02-Feb-2022 09:59:11.271 SEVERE [http-nio-8080-exec-2] com.myapp.web.api.exceptionhandler.AppWideExceptionHandler.globalExceptionHandler null\n    javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295)\n        at com.sun.proxy.$Proxy80.remove(Unknown Source)\n        at com.myapp.web.dal.CrudDAOImpl.delete(CrudDAOImpl.java:67)\n        at com.myapp.web.business.custom.impl.CustomerBOImpl.deleteCustomer(CustomerBOImpl.java:79)\n        at com.myapp.web.api.CustomerController.deleteCustomer(CustomerController.java:116)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<h3>API Layer</h3>\n<ol>\n<li>CustomerController.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.api;\n\nimport com.myapp.web.api.util.ApiUtil;\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.exception.IdFormatException;\nimport com.myapp.web.exception.RecordNotFoundException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RequestMapping(&quot;/api/v1/customers&quot;)\n@RestController\npublic class CustomerController {\n\n    @Autowired\n    private CustomerBO customerBO;\n\n    /**\n     * Get all customers list.\n     *\n     * @return List&lt;CustomerDTO&gt; customersList.\n     */\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\n        return customerBO.getAllCustomers();\n    }\n\n    /**\n     * Get customer by customer ID.\n     *\n     * @return CustomerDTO customer object.\n     * @throws IdFormatException       if the ID is not an Integer.\n     * @throws RecordNotFoundException if matching customer record not found,\n     */\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE,\n            value = &quot;/{id:\\\\d}&quot;)\n    public CustomerDTO getCustomerByID(@PathVariable(name = &quot;id&quot;) String id) throws Exception {\n        System.out.println(&quot;CustomerID: &quot; + id);\n\n        Integer customerID = ApiUtil.getIntegerId(id);\n\n        CustomerDTO customer = customerBO.getCustomerByID(customerID);\n        System.out.println(&quot;Customer Result: &quot; + customer);\n\n        /* If customer not found. */\n        if (customer == null) throw new RecordNotFoundException();\n        return customer;\n    }\n\n    /**\n     * Delete customer by Customer ID.\n     */\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    @DeleteMapping(value = &quot;/{id:\\\\d}&quot;)\n    public void deleteCustomer(@PathVariable String id) throws Exception {\n        Integer customerID = ApiUtil.getIntegerId(id);\n        System.out.println(&quot;Customer ID: &quot; + customerID);\n        customerBO.deleteCustomer(customerID);\n    }\n\n}\n</code></pre>\n<h3>Business Layer</h3>\n<ol>\n<li>SuperBO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business;\n\npublic interface SuperBO {\n}\n</code></pre>\n<ol start=\"2\">\n<li>CustomerBOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.impl;\n\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.business.custom.util.mapper.CustomerDTOMapper;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.Customer;\nimport lombok.NoArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\n@NoArgsConstructor\n@Transactional\n@Service\npublic class CustomerBOImpl implements CustomerBO {\n\n    @Autowired\n    private CustomerDAO customerDAO;\n\n    @Autowired\n    private CustomerDTOMapper mapper;\n\n    @Override\n    public void deleteCustomer(int customerID) throws Exception {\n        /* delete. */\n        this.customerDAO.delete(customerID);\n    }\n\n    @Transactional(readOnly = true)\n    @Override\n    public CustomerDTO getCustomerByID(int customerID) throws Exception {\n        /* get customer by customer ID. */\n        return this.mapper.getCustomerDTO(this.customerDAO.get(customerID));\n    }\n\n    @Transactional(readOnly = true)\n    @Override\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\n        /* get all customers. */\n        return this.mapper.getCustomerDTOs(this.customerDAO.getAll());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>CustomerDTOMapper.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.util.mapper;\n\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.Customer;\nimport org.mapstruct.Mapper;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CustomerDTOMapper {\n\n    /*  -------------------- Customer  -------------------- */\n    public abstract Customer getCustomer(CustomerDTO customerDTO);\n\n    public abstract CustomerDTO getCustomerDTO(Customer customer);\n\n    public abstract List&lt;CustomerDTO&gt; getCustomerDTOs(List&lt;Customer&gt; customerList);\n}\n</code></pre>\n<h3>Data Access Layer</h3>\n<ol>\n<li>SuperDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport javax.persistence.EntityManager;\n\npublic interface SuperDAO {\n    EntityManager getEntityManager();\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>CrudDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport com.myapp.web.entity.SuperEntity;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic interface CrudDAO&lt;T extends SuperEntity&lt;Serializable&gt;, PK extends Serializable&gt; extends SuperDAO {\n\n    /**\n     * saving an entity and return the entity.\n     *\n     * @return T SuperEntity. */\n    T save(T entity) throws Exception;\n\n    void update(T entity) throws Exception;\n\n    void delete(PK key) throws Exception;\n\n    T get(PK key) throws Exception;\n\n    List&lt;T&gt; getAll() throws Exception;\n}\n</code></pre>\n<ol start=\"3\">\n<li>CrudDAOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport com.myapp.web.entity.SuperEntity;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport java.io.Serializable;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.List;\n\npublic class CrudDAOImpl&lt;T extends SuperEntity&lt;Serializable&gt;, K extends Serializable&gt; implements CrudDAO&lt;T, K&gt; {\n\n    private final Class&lt;T&gt; entityClass;\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public CrudDAOImpl() {\n        this.entityClass =\n                (Class&lt;T&gt;) (((ParameterizedType) (this.getClass().getGenericSuperclass())).getActualTypeArguments()[0]);\n    }\n\n    /**\n     * This method is used to pass the EntityManager to the lower level classes that extend the CrudDAOImpl class.\n     */\n    public EntityManager getEntityManager() {\n        return this.entityManager;\n    }\n\n    @Override\n    public void delete(K key) throws Exception {\n        this.entityManager.remove(key);\n    }\n\n    @Override\n    public T get(K key) throws Exception {\n        return this.entityManager.find(this.entityClass, key);\n    }\n\n    @Override\n    public List&lt;T&gt; getAll() throws Exception {\n        List&lt;T&gt; resultList = (List&lt;T&gt;) this.entityManager.\n                createQuery(&quot;SELECT e FROM &quot; + this.entityClass.getName() + &quot; e&quot;).getResultList();\n        return resultList;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>CustomerDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom;\n\nimport com.myapp.web.dal.CrudDAO;\nimport com.myapp.web.entity.Customer;\n\npublic interface CustomerDAO extends CrudDAO&lt;Customer, Integer&gt; {\n}\n</code></pre>\n<ol start=\"5\">\n<li>CustomerDAOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom.impl;\n\nimport com.myapp.web.dal.CrudDAOImpl;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.entity.Customer;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class CustomerDAOImpl extends CrudDAOImpl&lt;Customer, Integer&gt; implements CustomerDAO {\n}\n</code></pre>\n<h3>Here's what I have tried.</h3>\n<p>I tried unit testing. BO layer and DAO layer unit test case worked as intended but when I check the API by sending HTTP request using Postman, save, update and delete cannot be performed using the API.</p>\n<ol>\n<li>CustomerDAOImplTest.java ----&gt; TEST PASSED ! </li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom.impl;\n\nimport com.myapp.web.WebAppConfig;\nimport com.myapp.web.WebRootConfig;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.entity.Customer;\nimport com.myapp.web.entity.enumeration.GenderTypes;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\nimport static org.junit.Assert.*;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\npublic class CustomerDAOImplTest {\n\n    @Autowired\n    private CustomerDAO customerDAO;\n\n    @Test\n    public void checkCustomerDAO() {\n        assertNotNull(customerDAO);\n    }\n\n    @Transactional\n    @Test\n    public void getCustomerByID() throws Exception {\n        assertNotNull(customerDAO);\n\n        Customer customer = this.customerDAO.get(10);\n        System.out.println(&quot;GET Customer Entity: &quot; + customer);\n        assertNotNull(customer);\n    }\n\n    @Test\n    public void getAllCustomers() throws Exception {\n        List&lt;Customer&gt; customersList = this.customerDAO.getAll();\n        assertEquals(2, customersList.size());\n    }\n\n\n    @Transactional\n    @Test\n    public void deleteCustomer() throws Exception {\n        assertNotNull(this.customerDAO);\n\n        /* delete */\n        this.customerDAO.delete(3);\n\n        Customer customerFromDB = this.customerDAO.get(10);\n        assertNull(customerFromDB);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N6bbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6bbx.png\" alt=\"CustomerDAOImplTest-delete\" /></a></p>\n<ol start=\"2\">\n<li>CustomerBOImpl.java ----&gt; TEST PASSED ! </li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.impl;\n\nimport com.myapp.web.WebAppConfig;\nimport com.myapp.web.WebRootConfig;\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.enumeration.GenderTypes;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertNull;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\npublic class CustomerBOImplTest {\n\n    @Autowired\n    private CustomerBO customerBO;\n\n    @Test\n    public void checkCustomerBO() {\n        assertNotNull(customerBO);\n    }\n\n    //    @Transactional\n    @Test\n    public void deleteCustomer() throws Exception {\n        assertNotNull(this.customerBO);\n\n        /* delete */\n        this.customerBO.deleteCustomer(3);\n\n        CustomerDTO customerDTOFromDB = this.customerBO.getCustomerByID(10);\n        assertNull(customerDTOFromDB);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7xL6v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xL6v.png\" alt=\"CustomerBOImplTest-delete\" /></a></p>\n<h3>pom.xml dependencies</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;dependencies&gt;\n\n    &lt;!-- Servlet-API --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- MySQL connector --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.27&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SLF4J for logging--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Junit4 for unit testing --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons Validator --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- mapstruct --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- lombok  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Apache Commons Codecs --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Spring Data Access ==================================================================== --&gt;\n\n    &lt;!--Spring ORM --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons DBCP --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Data Access - Spring AOP - Aspectj ========================================== --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Web MVC =================================================================== --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JACKSON DATABIND --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Jackson Datatype--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!--Spring TestContext Framework--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n</code></pre>\n<h3>Development Enviroment</h3>\n<ol>\n<li>Java 8</li>\n<li>Tomcat 9</li>\n</ol>\n<p>I refer to these following questions and answers but, I could not fix the issue. I would appreciate some help to fix the\nerror and, understand the error.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/32552558/12898581\">https://stackoverflow.com/a/32552558/12898581</a></li>\n<li><a href=\"https://stackoverflow.com/q/43901381/12898581\">javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread</a></li>\n<li><a href=\"https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/\" rel=\"nofollow noreferrer\">https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/</a></li>\n</ol>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1695438179,"post_id":77161491,"comment_id":136028299,"body_markdown":"If you define an instance variable `String myString`, it has a type of String, right? So, if you define an instance variable `Account myAccount`, what type would it have? (If you don&#39;t understand what `Account myAccount` means, I suggest you read a beginner-oriented tutorial first.)","body":"If you define an instance variable <code>String myString</code>, it has a type of String, right? So, if you define an instance variable <code>Account myAccount</code>, what type would it have? (If you don&#39;t understand what <code>Account myAccount</code> means, I suggest you read a beginner-oriented tutorial first.)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695438263,"post_id":77161491,"comment_id":136028305,"body_markdown":"Also note that Java is case-sensitive, `Account` is not the same as `account`.","body":"Also note that Java is case-sensitive, <code>Account</code> is not the same as <code>account</code>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":6,"creation_date":1695438320,"post_id":77161491,"comment_id":136028306,"body_markdown":"Besides that: please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Besides that: please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1695438393,"post_id":77161491,"comment_id":136028312,"body_markdown":"Thank you for linking to that, @Robert! I&#39;m on my phone, and was too lazy to look up the link. :)","body":"Thank you for linking to that, @Robert! I&#39;m on my phone, and was too lazy to look up the link. :)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1695438421,"post_id":77161491,"comment_id":136028314,"body_markdown":"https://softwareengineering.stackexchange.com/questions/442830/best-practice-avoid-naming-class-and-field-the-same may be helpful","body":"<a href=\"https://softwareengineering.stackexchange.com/questions/442830/best-practice-avoid-naming-class-and-field-the-same\" title=\"best practice avoid naming class and field the same\">softwareengineering.stackexchange.com/questions/442830/&hellip;</a> may be helpful"},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695439191,"post_id":77161491,"comment_id":136028344,"body_markdown":"@yshavit I understand that Account account has a type - Account but my question is aren&#39;t we supposed to use primitive types when defining class attributes like- int, string, double? Or can we use other types as well such as in this case where the type of account is &quot;Account&quot;? I am a bit unsure because I don&#39;t think I was taught this. Earlier I only knew that class attribute types can only be primitive.","body":"@yshavit I understand that Account account has a type - Account but my question is aren&#39;t we supposed to use primitive types when defining class attributes like- int, string, double? Or can we use other types as well such as in this case where the type of account is &quot;Account&quot;? I am a bit unsure because I don&#39;t think I was taught this. Earlier I only knew that class attribute types can only be primitive."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695439531,"post_id":77161491,"comment_id":136028360,"body_markdown":"*&quot;I quite did not understand the code.&quot;*  - What code?  There is no code!  One image shows some requirements.  The second one shows some type signatures.  But there is no `Account account` there.  OK, so you seem to be rather confused ... but the way that you&#39;ve written your question makes it really hard to understand what you are confused about and what you are actually asking.","body":"<i>&quot;I quite did not understand the code.&quot;</i>  - What code?  There is no code!  One image shows some requirements.  The second one shows some type signatures.  But there is no <code>Account account</code> there.  OK, so you seem to be rather confused ... but the way that you&#39;ve written your question makes it really hard to understand what you are confused about and what you are actually asking."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695440023,"post_id":77161491,"comment_id":136028383,"body_markdown":"*&quot;Earlier I only knew that class attribute types can only be primitive.&quot;* - Ah.  Finally we get to the source of your confusion.  That knowledge is **incorrect**.  A class attribute (or field as they are more normally called in Java) can have a primitive type OR a reference type.  The reference types are array types, classes, interfaces, enums (and records in Java 16 or later).   So there is absolutely nothing wrong with declaring a field as `Account account`.","body":"<i>&quot;Earlier I only knew that class attribute types can only be primitive.&quot;</i> - Ah.  Finally we get to the source of your confusion.  That knowledge is <b>incorrect</b>.  A class attribute (or field as they are more normally called in Java) can have a primitive type OR a reference type.  The reference types are array types, classes, interfaces, enums (and records in Java 16 or later).   So there is absolutely nothing wrong with declaring a field as <code>Account account</code>."},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695440132,"post_id":77161491,"comment_id":136028386,"body_markdown":"@StephenC I apologize as this is my first time posting a question. I have editted my question again. I have attached 2 images. The first one is the question specification and the second one is the plan to solve it. You will notice that in the Fields section of the customer, it&#39;s written Account savingsAccount. I did not understand how &quot;Account&quot; is a type here but I get that logically in real-life scenario.","body":"@StephenC I apologize as this is my first time posting a question. I have editted my question again. I have attached 2 images. The first one is the question specification and the second one is the plan to solve it. You will notice that in the Fields section of the customer, it&#39;s written Account savingsAccount. I did not understand how &quot;Account&quot; is a type here but I get that logically in real-life scenario."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1695440320,"post_id":77161491,"comment_id":136028395,"body_markdown":"`Account` is a type because it is a class and classes are types.  (In fact, they are reference types; see above.)  `Account savingsAccount` is declaring a field called `savingsAccount` whose type is `Account`.  I don&#39;t think we can explain it to you in simpler terms.  Maybe you should talk to your teacher?","body":"<code>Account</code> is a type because it is a class and classes are types.  (In fact, they are reference types; see above.)  <code>Account savingsAccount</code> is declaring a field called <code>savingsAccount</code> whose type is <code>Account</code>.  I don&#39;t think we can explain it to you in simpler terms.  Maybe you should talk to your teacher?"},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695440347,"post_id":77161491,"comment_id":136028397,"body_markdown":"@StephenC Thanks for the clarification. I understand now as this makes sense!","body":"@StephenC Thanks for the clarification. I understand now as this makes sense!"}],"answers":[{"tags":[],"owner":{"account_id":28785135,"reputation":98,"user_id":22045779,"display_name":"U Ang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695439045,"creation_date":1695439045,"answer_id":77161525,"question_id":77161491,"body_markdown":"Let&#39;s start from the business requirement, as described in the image you attached, an account should contain two properties including type and balance. \r\n\r\nThe object in java would look like\r\n```\r\nclass Account {\r\n  private string type;\r\n  private int balance;\r\n\r\n  // omit getter/setter\r\n}\r\n\r\nclass User {\r\n  private Account account;\r\n\r\n  // omit getter and setter\r\n\r\n  public Account getAccount() {\r\n    return this.account;\r\n  }\r\n}\r\n```\r\n\r\nThis a business scenario\r\n- you want to get a user&#39;s account&#39;s balance. You code looks like \r\n```\r\nUser user = new User();\r\nuser.getAccount().getBalance();\r\n```\r\n\r\n- you want to get a user&#39;s account&#39;s type. You code looks like \r\n```\r\nuser.getAccount().getType();\r\n```\r\n\r\nTo answer your question, if you define an Account as string, you cannot retrieve the balance and type flexiablely.\r\n\r\nThis is the thinking of object orientied design. Each object points to the real world should be considered as an object. Each object contains multiple attributes.\r\n","title":"Could anyone explain how Account account is a class attribute in this case? How is &quot;Account&quot; a type?","body":"<p>Let's start from the business requirement, as described in the image you attached, an account should contain two properties including type and balance.</p>\n<p>The object in java would look like</p>\n<pre><code>class Account {\n  private string type;\n  private int balance;\n\n  // omit getter/setter\n}\n\nclass User {\n  private Account account;\n\n  // omit getter and setter\n\n  public Account getAccount() {\n    return this.account;\n  }\n}\n</code></pre>\n<p>This a business scenario</p>\n<ul>\n<li>you want to get a user's account's balance. You code looks like</li>\n</ul>\n<pre><code>User user = new User();\nuser.getAccount().getBalance();\n</code></pre>\n<ul>\n<li>you want to get a user's account's type. You code looks like</li>\n</ul>\n<pre><code>user.getAccount().getType();\n</code></pre>\n<p>To answer your question, if you define an Account as string, you cannot retrieve the balance and type flexiablely.</p>\n<p>This is the thinking of object orientied design. Each object points to the real world should be considered as an object. Each object contains multiple attributes.</p>\n"}],"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1695457579,"accepted_answer_id":77161525,"answer_count":1,"score":-3,"last_activity_date":1695440164,"creation_date":1695437778,"question_id":77161491,"body_markdown":"[Question][1]This is a Java issue. I always knew that class attribute/fields could be type Int, String, Double but how is &quot;Account&quot; a type, such that Account savingsAccount is a class attribute? Can anyone explain me this. I do not know if there is a specific topic related to this in Java but I do not understand this. For example, the account class has attributes such as &quot;type&quot; like savings/loan that is type string. It also has balance which is type double. But how is the same account a class attribute in the Customer class? I mean logically I understand that a customer has an account but why is the type &quot;Account&quot; in this case? Shouldn&#39;t it be a string? Please kindly explain this to me. I have attached 2 images. [This image has the relevant class attributes and constructors](https://i.stack.imgur.com/hLe0h.png)\r\n\r\nI did not quite understand the class attributes section of the Customer Class. Could anyone explain this to me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6N4oS.png","title":"Could anyone explain how Account account is a class attribute in this case? How is &quot;Account&quot; a type?","body":"<p><a href=\"https://i.stack.imgur.com/6N4oS.png\" rel=\"nofollow noreferrer\">Question</a>This is a Java issue. I always knew that class attribute/fields could be type Int, String, Double but how is &quot;Account&quot; a type, such that Account savingsAccount is a class attribute? Can anyone explain me this. I do not know if there is a specific topic related to this in Java but I do not understand this. For example, the account class has attributes such as &quot;type&quot; like savings/loan that is type string. It also has balance which is type double. But how is the same account a class attribute in the Customer class? I mean logically I understand that a customer has an account but why is the type &quot;Account&quot; in this case? Shouldn't it be a string? Please kindly explain this to me. I have attached 2 images. <a href=\"https://i.stack.imgur.com/hLe0h.png\" rel=\"nofollow noreferrer\">This image has the relevant class attributes and constructors</a></p>\n<p>I did not quite understand the class attributes section of the Customer Class. Could anyone explain this to me?</p>\n"},{"tags":["java","performance","google-cloud-platform","g1gc"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1589461020,"post_id":61797907,"comment_id":109307376,"body_markdown":"If the Parallel GC works much better for your use case, I see no reason not to continue using it for now. Looking for ways to make G1GC match the performance is not a bad idea, but I see no urgent need to do that yet ...","body":"If the Parallel GC works much better for your use case, I see no reason not to continue using it for now. Looking for ways to make G1GC match the performance is not a bad idea, but I see no urgent need to do that yet ..."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589483894,"creation_date":1589483894,"answer_id":61805683,"question_id":61797907,"body_markdown":"1. Parallel GC is not deprecated even in JDK 15 (don&#39;t you confuse with CMS GC?) So, if you are satisfied with Parallel GC performance, it&#39;s OK to use it further.\r\n\r\n2. It&#39;s quite expected that CPU usage with G1 GC is higher. That&#39;s the price for shorter stop-the-world pauses.\r\n\r\n3. `-XX:MaxGCPauseMillis` is the main tuning option for G1 GC. The larger is target GC pause - the lower is overall GC overhead. The default pause time target is 200ms.\r\n\r\n4. It&#39;s not usual (and presumably not efficient) to have more GC threads than the number of available CPUs. To begin with, I&#39;d suggest to leave the default number of threads.\r\n\r\n5. From my experience, the manual choice of `-XX:InitiatingHeapOccupancyPercent` (IHOP) together with disabling adaptive IHOP (`-XX:-G1UseAdaptiveIHOP`) can make G1 GC run less often and use less resources. However, this requires careful selection of `-XX:InitiatingHeapOccupancyPercent` value - this highly depends on the particular application - usually, somewhere between 40 and 80 works.\r\n\r\n6. If not sure where JVM spends most CPU time, use a profiler. For example, [async-profiler](https://github.com/jvm-profiling-tools/async-profiler/), which measures not only the application code, but also the JVM internals and native code.","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<ol>\n<li><p>Parallel GC is not deprecated even in JDK 15 (don't you confuse with CMS GC?) So, if you are satisfied with Parallel GC performance, it's OK to use it further.</p></li>\n<li><p>It's quite expected that CPU usage with G1 GC is higher. That's the price for shorter stop-the-world pauses.</p></li>\n<li><p><code>-XX:MaxGCPauseMillis</code> is the main tuning option for G1 GC. The larger is target GC pause - the lower is overall GC overhead. The default pause time target is 200ms.</p></li>\n<li><p>It's not usual (and presumably not efficient) to have more GC threads than the number of available CPUs. To begin with, I'd suggest to leave the default number of threads.</p></li>\n<li><p>From my experience, the manual choice of <code>-XX:InitiatingHeapOccupancyPercent</code> (IHOP) together with disabling adaptive IHOP (<code>-XX:-G1UseAdaptiveIHOP</code>) can make G1 GC run less often and use less resources. However, this requires careful selection of <code>-XX:InitiatingHeapOccupancyPercent</code> value - this highly depends on the particular application - usually, somewhere between 40 and 80 works.</p></li>\n<li><p>If not sure where JVM spends most CPU time, use a profiler. For example, <a href=\"https://github.com/jvm-profiling-tools/async-profiler/\" rel=\"nofollow noreferrer\">async-profiler</a>, which measures not only the application code, but also the JVM internals and native code.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3161929,"reputation":137,"user_id":2672803,"display_name":"dchristle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695439990,"creation_date":1651975280,"answer_id":72157574,"question_id":61797907,"body_markdown":"To add to apangin&#39;s excellent answer:\r\n\r\nYou wrote that your machine has 12 cores, and you have `ParallelGCThreads=23`. I&#39;m assuming this was done because your processor has Simultaneous Multithreading (SMT) capabilities. Consider lowering ParallelGCThreads to `9` or `10`, which is in line with G1&#39;s recommended default of `(8 + 5/8*(#n_procs - 8))`, and measure again. \r\n\r\nGenerally, too many threads can hurt performance in garbage collector algorithms. The memory access pattern may trigger many cache misses. This is worse in SMT, since there&#39;s only one L1 cache per physical core. Copy operations are distributed via work-stealing, and the overhead of thief threads trying &amp; failing to steal will mean they waste CPU in a spin loop. In your case, with threads near ~2x the # of physical cores, other application/OS processes will need some CPU to do their own tasks, causing context switching.\r\n\r\nG1 is designed for situations that require a balance between throughput and latency. If latency is less of a concern and `ParallelGC` gives you superior performance on the metrics you care most about (throughput &amp; cpu usage), you should use it.\r\n\r\n","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<p>To add to apangin's excellent answer:</p>\n<p>You wrote that your machine has 12 cores, and you have <code>ParallelGCThreads=23</code>. I'm assuming this was done because your processor has Simultaneous Multithreading (SMT) capabilities. Consider lowering ParallelGCThreads to <code>9</code> or <code>10</code>, which is in line with G1's recommended default of <code>(8 + 5/8*(#n_procs - 8))</code>, and measure again.</p>\n<p>Generally, too many threads can hurt performance in garbage collector algorithms. The memory access pattern may trigger many cache misses. This is worse in SMT, since there's only one L1 cache per physical core. Copy operations are distributed via work-stealing, and the overhead of thief threads trying &amp; failing to steal will mean they waste CPU in a spin loop. In your case, with threads near ~2x the # of physical cores, other application/OS processes will need some CPU to do their own tasks, causing context switching.</p>\n<p>G1 is designed for situations that require a balance between throughput and latency. If latency is less of a concern and <code>ParallelGC</code> gives you superior performance on the metrics you care most about (throughput &amp; cpu usage), you should use it.</p>\n"}],"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695439990,"creation_date":1589460887,"question_id":61797907,"body_markdown":"I have:\n\n - the application multi thread, low latency\n - OpenJDK 64-Bit Server VM version 11.0.7+10\n - configuration is Xms=6g Xmx=12g\n - machine is 12CPU\n - started in GCP (Google Cloud Platform) in Kubernetes\n\nProblem is:\n\n - when I migrate from java8 to java11 I observe situation: the application consume much more CPU  and memory then the same application with java8. \nI suspect GC. because when i use ParallelGC (deprecated) everything looks better (more stable) \n\n```-XX:+UseParallelGC -Xmx12g -Xms6g -XX:ParallelGCThreads=23``` \n\n than when I use G1GC (recommended):\n\n```-XX:+UseG1GC -Xmx12g -Xms6g -XX:ParallelGCThreads=23 -XX:ConcGCThreads=4```\n\nas far as I see response time and number of processed messages are similar (or almost the same).\nJConsole say ParallelGC spend much more time in GC than G1GC.\n\n# The question is: **how to reduce CPU usage with G1GC(?) on GCP Kubernetes**\n\nMaybe it is not an issue with GC - maybe it is something else - any avdice?\n\nHere you can see stats from JConsole - on left site is ParallelGC on right site is G1GC\n(watch CPU usage - this is the same application - traffic is similar ParallelGC processed 22k messages vs 18k messages for G1GC)\n[![enter image description here][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/6AvbT.png","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<p>I have:</p>\n<ul>\n<li>the application multi thread, low latency</li>\n<li>OpenJDK 64-Bit Server VM version 11.0.7+10</li>\n<li>configuration is Xms=6g Xmx=12g</li>\n<li>machine is 12CPU</li>\n<li>started in GCP (Google Cloud Platform) in Kubernetes</li>\n</ul>\n<p>Problem is:</p>\n<ul>\n<li>when I migrate from java8 to java11 I observe situation: the application consume much more CPU  and memory then the same application with java8.\nI suspect GC. because when i use ParallelGC (deprecated) everything looks better (more stable)</li>\n</ul>\n<p><code>-XX:+UseParallelGC -Xmx12g -Xms6g -XX:ParallelGCThreads=23</code></p>\n<p>than when I use G1GC (recommended):</p>\n<p><code>-XX:+UseG1GC -Xmx12g -Xms6g -XX:ParallelGCThreads=23 -XX:ConcGCThreads=4</code></p>\n<p>as far as I see response time and number of processed messages are similar (or almost the same).\nJConsole say ParallelGC spend much more time in GC than G1GC.</p>\n<h1>The question is: <strong>how to reduce CPU usage with G1GC(?) on GCP Kubernetes</strong></h1>\n<p>Maybe it is not an issue with GC - maybe it is something else - any avdice?</p>\n<p>Here you can see stats from JConsole - on left site is ParallelGC on right site is G1GC\n(watch CPU usage - this is the same application - traffic is similar ParallelGC processed 22k messages vs 18k messages for G1GC)\n<a href=\"https://i.stack.imgur.com/6AvbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6AvbT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","apache-camel"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1695451267,"post_id":77161527,"comment_id":136028932,"body_markdown":"Are you using spring security?","body":"Are you using spring security?"}],"owner":{"account_id":1540581,"reputation":133,"user_id":1435362,"display_name":"R M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695439208,"creation_date":1695439208,"question_id":77161527,"body_markdown":"I am trying to use the Camel *file component* to write a file ...the Camel code is : \r\n\r\n    &lt;to uri=&quot;file:exports?fileName=customer.csv&amp;amp;fileExist=Append&amp;amp;jailStartingDirectory=false&quot;/&gt;\r\n\r\nThis results in the following error in the log : \r\n\r\n    org.springframework.security.access.AccessDeniedException: The access to D:\\development\\ie-projects\\pim-rod-class-091323-0051\\exports is denied.\r\n\r\nI have tried adjusting folder permissions for the ***exports*** folder  ...no help.\r\n\r\nAny thoughts ?","title":"Camel file component - access denied","body":"<p>I am trying to use the Camel <em>file component</em> to write a file ...the Camel code is :</p>\n<pre><code>&lt;to uri=&quot;file:exports?fileName=customer.csv&amp;amp;fileExist=Append&amp;amp;jailStartingDirectory=false&quot;/&gt;\n</code></pre>\n<p>This results in the following error in the log :</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: The access to D:\\development\\ie-projects\\pim-rod-class-091323-0051\\exports is denied.\n</code></pre>\n<p>I have tried adjusting folder permissions for the <em><strong>exports</strong></em> folder  ...no help.</p>\n<p>Any thoughts ?</p>\n"},{"tags":["java","netbeans-platform"],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634878312,"creation_date":1632457673,"answer_id":69309564,"question_id":69309296,"body_markdown":"NetBeans 12.5 runs using a JRE which should be either version 8, 11 or 17.0.1 or higher (NOT JDK 17). To run it, install JDK 17.0.1 (Recommended because it&#39;s the latest LTS)\r\n\r\nUpdate (Oct 13, 2021): I tried JDK 16.0.2 and it also works. JDK 17 still doesn&#39;t work.\r\n\r\nUpdate 2 (Oct 22, 2021): I realised that JDK 17.0.1 had come out, so I tried it with NetBeans 12.5 and it works now. Maybe JDK 17 was a bit bugged in terms of version numbers. Anyways, it officially works with JDK 17.0.1","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>NetBeans 12.5 runs using a JRE which should be either version 8, 11 or 17.0.1 or higher (NOT JDK 17). To run it, install JDK 17.0.1 (Recommended because it's the latest LTS)</p>\n<p>Update (Oct 13, 2021): I tried JDK 16.0.2 and it also works. JDK 17 still doesn't work.</p>\n<p>Update 2 (Oct 22, 2021): I realised that JDK 17.0.1 had come out, so I tried it with NetBeans 12.5 and it works now. Maybe JDK 17 was a bit bugged in terms of version numbers. Anyways, it officially works with JDK 17.0.1</p>\n"},{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634880375,"creation_date":1634880375,"answer_id":69671797,"question_id":69309296,"body_markdown":"I found another solution. Go to https://netbeans.apache.org/download/nb125/nb125.html \r\nand dwnload the zip file. then extract it and go to bin folder and open netbeans.exe(netbeans64.exe if 64 bit).","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>I found another solution. Go to <a href=\"https://netbeans.apache.org/download/nb125/nb125.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/download/nb125/nb125.html</a>\nand dwnload the zip file. then extract it and go to bin folder and open netbeans.exe(netbeans64.exe if 64 bit).</p>\n"},{"tags":[],"owner":{"account_id":3853010,"reputation":31,"user_id":3192627,"display_name":"chou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695435730,"creation_date":1695435730,"answer_id":77161439,"question_id":69309296,"body_markdown":"I encountered the same issue, and in my case, changing the JDK to OpenJDK resolved the problem. You can download OpenJDK from Microsoft&#39;s official website at https://www.microsoft.com/openjdk.\r\n\r\nAfter downloading, you can findit in the &quot;C:\\Program Files\\Microsoft\\jdk-17.x.x.x&quot; directory.","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>I encountered the same issue, and in my case, changing the JDK to OpenJDK resolved the problem. You can download OpenJDK from Microsoft's official website at <a href=\"https://www.microsoft.com/openjdk\" rel=\"nofollow noreferrer\">https://www.microsoft.com/openjdk</a>.</p>\n<p>After downloading, you can findit in the &quot;C:\\Program Files\\Microsoft\\jdk-17.x.x.x&quot; directory.</p>\n"}],"owner":{"account_id":337443,"reputation":326,"user_id":665717,"display_name":"Ramprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14260,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1695435730,"creation_date":1632455215,"question_id":69309296,"body_markdown":"While installing the Netbeans IDE latest version, i encountered the error\r\n\r\n&quot;The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot; &quot;\r\n\r\nNot sure on what is causing this issue. Class Path, Java Home all have been set correctly. Even the jdk path is given correctly in the Netbeans \r\n\r\n[![Error][1]][1]\r\n\r\nKindly help me in the same.\r\n\r\n  [1]: https://i.stack.imgur.com/EN6PA.png","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>While installing the Netbeans IDE latest version, i encountered the error</p>\n<p>&quot;The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot; &quot;</p>\n<p>Not sure on what is causing this issue. Class Path, Java Home all have been set correctly. Even the jdk path is given correctly in the Netbeans</p>\n<p><a href=\"https://i.stack.imgur.com/EN6PA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EN6PA.png\" alt=\"Error\" /></a></p>\n<p>Kindly help me in the same.</p>\n"},{"tags":["java","android","database","android-recyclerview"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662298554,"post_id":73599834,"comment_id":129969349,"body_markdown":"&quot;it just crashes&quot; -- [use Logcat to examine the stack trace associated with your crash](https://commonsware.com/Jetpack/pages/chap-debug-001.html). If you do not understand what the stack trace means, edit your question and provide the complete stack trace.","body":"&quot;it just crashes&quot; -- <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">use Logcat to examine the stack trace associated with your crash</a>. If you do not understand what the stack trace means, edit your question and provide the complete stack trace."},{"owner":{"account_id":25964870,"reputation":1,"user_id":19680939,"display_name":"Jasin Avdiu"},"score":0,"creation_date":1662298977,"post_id":73599834,"comment_id":129969426,"body_markdown":"Im sorry, crash may not be the correct word, the page just opened and closes my previous page as well","body":"Im sorry, crash may not be the correct word, the page just opened and closes my previous page as well"}],"owner":{"account_id":25964870,"reputation":1,"user_id":19680939,"display_name":"Jasin Avdiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695435140,"creation_date":1662298452,"question_id":73599834,"body_markdown":"Im trying to show my data in a RecyclerView, but my data wont show. Whenever I open the page for the data to show, it just crashes and goes two pages back.\r\n\r\nThis is the code for my ToolActivity (where the data should show).\r\n\r\n``` \r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ToolsActivity extends AppCompatActivity {\r\n\r\n    DBHelper myDB;\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;String&gt; toolId, toolName, toolModule, toolDescription;\r\n    CustomAdapter customAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tools);\r\n\r\n        myDB = new DBHelper(ToolsActivity.this);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        toolId = new ArrayList&lt;&gt;();\r\n        toolName = new ArrayList&lt;&gt;();\r\n        toolModule = new ArrayList&lt;&gt;();\r\n        toolDescription = new ArrayList&lt;&gt;();\r\n\r\n        storeDataInArrays();\r\n\r\n        customAdapter = new CustomAdapter(ToolsActivity.this, toolId, toolName, toolModule, toolDescription);\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(ToolsActivity.this));\r\n    }\r\n\r\n    void storeDataInArrays() {\r\n        Cursor cursor = myDB.readAllData();\r\n        if(cursor.getCount() == 0) {\r\n            Toast.makeText(this, &quot;No data.&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            while (cursor.moveToNext()) {\r\n                toolId.add(cursor.getString(0));\r\n                toolName.add(cursor.getString(1));\r\n                toolModule.add(cursor.getString(2));\r\n                toolDescription.add(cursor.getString(3));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the code for my CustomAdapter:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private ArrayList tool_id, tool_name, tool_module, tool_description;\r\n\r\n    CustomAdapter(Context context, ArrayList tool_id, ArrayList tool_name, ArrayList tool_module, ArrayList tool_description) {\r\n\r\n        this.context = context;\r\n        this.tool_id = tool_id;\r\n        this.tool_name = tool_name;\r\n        this.tool_module = tool_module;\r\n        this.tool_description = tool_description;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CustomAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.costum_item_list, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.tool_id_txt.setText(String.valueOf(tool_id.get(position)));\r\n        holder.tool_name_txt.setText(String.valueOf(tool_name.get(position)));\r\n        holder.tool_module_txt.setText(String.valueOf(tool_module.get(position)));\r\n        holder.tool_description_txt.setText(String.valueOf(tool_description.get(position)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tool_id.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView tool_id_txt, tool_name_txt, tool_module_txt, tool_description_txt;\r\n        LinearLayout\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tool_id_txt = itemView.findViewById(R.id.toolID);\r\n            tool_name_txt = itemView.findViewById(R.id.toolName);\r\n            tool_module_txt = itemView.findViewById(R.id.toolModule);\r\n            tool_description_txt = itemView.findViewById(R.id.toolDescription);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my DBHelper file:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {\r\n\r\n    private Context context;\r\n    private static final String DATABASE_NAME = &quot;ToolRegister.db&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n\r\n    private static final String TABLE_NAME = &quot;tool_register&quot;;\r\n    private static final String COLUMN_ID = &quot;toolsID&quot;;\r\n    private static final String COLUMN_NAME = &quot;tools_name&quot;;\r\n    private static final String COLUMN_MODULE = &quot;tools_module&quot;;\r\n    private static final String COLUMN_DESCRIPTION = &quot;tools_description&quot;;\r\n\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String query =\r\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n                             + COLUMN_NAME + &quot; TEXT, &quot;\r\n                             + COLUMN_MODULE + &quot; TEXT, &quot;\r\n                             + COLUMN_DESCRIPTION + &quot; TEXT);&quot;;\r\n        db.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n\r\n    void addTools(String name, String module, String description) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n\r\n        cv.put(COLUMN_NAME, name);\r\n        cv.put(COLUMN_MODULE, module);\r\n        cv.put(COLUMN_DESCRIPTION, description);\r\n\r\n        long result = db.insert(TABLE_NAME, null, cv);\r\n\r\n        if(result == -1) {\r\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(context, &quot;Added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    Cursor readAllData () {\r\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        Cursor cursor = null;\r\n        if(db != null) {\r\n            cursor = db.rawQuery(query, null);\r\n        }\r\n        return cursor;\r\n    }\r\n}\r\n```\r\n\r\nHow can I fix it?\r\n","title":"Data from the database wont show on RecyclerView. The page crashes and goes two pages back (HomeActivity)","body":"<p>Im trying to show my data in a RecyclerView, but my data wont show. Whenever I open the page for the data to show, it just crashes and goes two pages back.</p>\n<p>This is the code for my ToolActivity (where the data should show).</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class ToolsActivity extends AppCompatActivity {\n\n    DBHelper myDB;\n    RecyclerView recyclerView;\n    ArrayList&lt;String&gt; toolId, toolName, toolModule, toolDescription;\n    CustomAdapter customAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tools);\n\n        myDB = new DBHelper(ToolsActivity.this);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        toolId = new ArrayList&lt;&gt;();\n        toolName = new ArrayList&lt;&gt;();\n        toolModule = new ArrayList&lt;&gt;();\n        toolDescription = new ArrayList&lt;&gt;();\n\n        storeDataInArrays();\n\n        customAdapter = new CustomAdapter(ToolsActivity.this, toolId, toolName, toolModule, toolDescription);\n        recyclerView.setAdapter(customAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(ToolsActivity.this));\n    }\n\n    void storeDataInArrays() {\n        Cursor cursor = myDB.readAllData();\n        if(cursor.getCount() == 0) {\n            Toast.makeText(this, &quot;No data.&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            while (cursor.moveToNext()) {\n                toolId.add(cursor.getString(0));\n                toolName.add(cursor.getString(1));\n                toolModule.add(cursor.getString(2));\n                toolDescription.add(cursor.getString(3));\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the code for my CustomAdapter:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\n\n    private Context context;\n    private ArrayList tool_id, tool_name, tool_module, tool_description;\n\n    CustomAdapter(Context context, ArrayList tool_id, ArrayList tool_name, ArrayList tool_module, ArrayList tool_description) {\n\n        this.context = context;\n        this.tool_id = tool_id;\n        this.tool_name = tool_name;\n        this.tool_module = tool_module;\n        this.tool_description = tool_description;\n    }\n\n    @NonNull\n    @Override\n    public CustomAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.costum_item_list, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.tool_id_txt.setText(String.valueOf(tool_id.get(position)));\n        holder.tool_name_txt.setText(String.valueOf(tool_name.get(position)));\n        holder.tool_module_txt.setText(String.valueOf(tool_module.get(position)));\n        holder.tool_description_txt.setText(String.valueOf(tool_description.get(position)));\n    }\n\n    @Override\n    public int getItemCount() {\n        return tool_id.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView tool_id_txt, tool_name_txt, tool_module_txt, tool_description_txt;\n        LinearLayout\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            tool_id_txt = itemView.findViewById(R.id.toolID);\n            tool_name_txt = itemView.findViewById(R.id.toolName);\n            tool_module_txt = itemView.findViewById(R.id.toolModule);\n            tool_description_txt = itemView.findViewById(R.id.toolDescription);\n        }\n    }\n}\n</code></pre>\n<p>And this is my DBHelper file:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\n\npublic class DBHelper extends SQLiteOpenHelper {\n\n    private Context context;\n    private static final String DATABASE_NAME = &quot;ToolRegister.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String TABLE_NAME = &quot;tool_register&quot;;\n    private static final String COLUMN_ID = &quot;toolsID&quot;;\n    private static final String COLUMN_NAME = &quot;tools_name&quot;;\n    private static final String COLUMN_MODULE = &quot;tools_module&quot;;\n    private static final String COLUMN_DESCRIPTION = &quot;tools_description&quot;;\n\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\n                             + COLUMN_NAME + &quot; TEXT, &quot;\n                             + COLUMN_MODULE + &quot; TEXT, &quot;\n                             + COLUMN_DESCRIPTION + &quot; TEXT);&quot;;\n        db.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n    void addTools(String name, String module, String description) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_NAME, name);\n        cv.put(COLUMN_MODULE, module);\n        cv.put(COLUMN_DESCRIPTION, description);\n\n        long result = db.insert(TABLE_NAME, null, cv);\n\n        if(result == -1) {\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;Added successfully&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    Cursor readAllData () {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        Cursor cursor = null;\n        if(db != null) {\n            cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","io","system.out","jnativehook"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695251940,"post_id":77146229,"comment_id":136001119,"body_markdown":"Actually, I&#39;m surprised that you&#39;re surprised. You can&#39;t use standard core Java without some doorway to the operating system just to *listen* to key strokes in other applications, which is why you are using the jnativehook library. Why should sending keystrokes to a different process be any different? Now if your Java application *started* the process, then you&#39;ll have an easier time by perhaps using streams, but otherwise, you&#39;ll likely need to dive into JNI or JNA to solve this issue.","body":"Actually, I&#39;m surprised that you&#39;re surprised. You can&#39;t use standard core Java without some doorway to the operating system just to <i>listen</i> to key strokes in other applications, which is why you are using the jnativehook library. Why should sending keystrokes to a different process be any different? Now if your Java application <i>started</i> the process, then you&#39;ll have an easier time by perhaps using streams, but otherwise, you&#39;ll likely need to dive into JNI or JNA to solve this issue."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695251984,"post_id":77146229,"comment_id":136001122,"body_markdown":"The robot may sometimes be able to help, but you need to give the process and the correct process window the focus for this to possibly work.","body":"The robot may sometimes be able to help, but you need to give the process and the correct process window the focus for this to possibly work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695252330,"post_id":77146229,"comment_id":136001144,"body_markdown":"Is this a Windows system? If so, please look at [this answer](https://stackoverflow.com/a/46259366/) which uses JNA.","body":"Is this a Windows system? If so, please look at <a href=\"https://stackoverflow.com/a/46259366/\">this answer</a> which uses JNA."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695434138,"creation_date":1695252735,"answer_id":77146412,"question_id":77146229,"body_markdown":"Actually, opposed to what the commenters to your post say, there IS a Java way to send key events, using the Robot.\r\n\r\n1) `Robot bot = new Robot();` (`java.awt.Robot`)\r\n2) If you have `NativeKeyEvent pKeyEvent` as in `org.jnativehook.keyboard.NativeKeyEvent` then you can send that key back with \r\n\r\n\t\t\tbot.keyPress(pKeyEvent.getRawCode());\r\n\t\t\tactionSleep(); // sleep for as long as you need, normal is ~20-60 ms\r\n\t\t\tbot.keyRelease(pKeyEvent.getRawCode());\r\n\r\n3) If you have the Java Swing/AWT KeyEvent (`KeyEvent pKeyEvent` as in `java.awt.event.KeyEvent`), you can use it like this:\r\n\r\n\t\t\tbot.keyPress(pKeyEvent.getKeyCode());\r\n\t\t\tactionSleep(); // sleep\r\n\t\t\tbot.keyRelease(pKeyEvent.getKeyCode());\r\n\r\n4) If you want to send keys via code, you can use this (for pressing and releasing key &#39;a&#39;):\r\n\r\n\t\t\tbot.keyPress(KeyEvent.VK_A);\r\n\t\t\tactionSleep(); // sleep\r\n\t\t\tbot.keyRelease(KeyEvent.VK_A);\r\n\r\nThe Robot also has some additional functionality, like screen capture / screenshot, screen pixel reading, control mouse.\r\n\r\n\r\n\r\nExample app:\r\n-\r\n\r\n    package stackoverflow.keylistenercaesar;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import com.github.kwhat.jnativehook.GlobalScreen;\r\n    import com.github.kwhat.jnativehook.NativeHookException;\r\n    import com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\n    import com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\n    \r\n    import jc.lib.lang.thread.JcUThread;\r\n    \r\n    /**\r\n     * Written with jnativehook_2.2.0&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * &lt;b&gt;Important!&lt;/b&gt; jnativehook_2.1.0 does NOT work correctly under windows, because it does not generate addNativeKeyListener-&gt;nativeKeyTyped events!\r\n     *\r\n     * @author jc\r\n     * @since 2023-09-23\r\n     *\r\n     */\r\n    public class KeyListenerCaesarChiffre {\r\n    \r\n    \tstatic public final int KEY_PRESS_DURATION_MS = 1;\r\n    \r\n    \r\n    \r\n    \tstatic private StringBuilder\t\tsRecordedChars\t\t\t= new StringBuilder();\r\n    \tstatic private ArrayList&lt;Integer&gt;\tsRecordedRawKeyCodes\t= new ArrayList&lt;&gt;();\r\n    \r\n    \tstatic private Robot sRobot;\r\n    \r\n    \tstatic private volatile boolean sRecordKeys;\r\n    \r\n    \r\n    \r\n    \tstatic public void main(final String[] args) throws NativeHookException {\r\n    \t\t// disable the stupid logger\r\n    \t\tfinal Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\r\n    \t\tlogger.setLevel(Level.WARNING);\r\n    \t\tlogger.setUseParentHandlers(false);\r\n    \r\n    \t\t// set up key hook listening\r\n    \t\tGlobalScreen.registerNativeHook();\r\n    \t\tGlobalScreen.addNativeKeyListener(new NativeKeyListener() {\r\n    \t\t\t@Override public void nativeKeyPressed(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyPressed(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t}\r\n    \t\t\t@Override public void nativeKeyReleased(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyReleased(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tcontrolKeyReleased(pKeyEvent);\r\n    \t\t\t\t} catch (final Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t@Override public void nativeKeyTyped(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyTyped(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tinputKeyTyped(pKeyEvent);\r\n    \t\t\t\t} catch (final Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// print info\r\n    \t\tSystem.out.println(&quot;Key Bindings&quot;);\r\n    \t\tSystem.out.println(&quot;\\tKey\\tUse&quot;);\r\n    \t\tSystem.out.println(&quot;\\t------\\t------&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF2\\tStart Listening&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF3\\tEnd Listening&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF4\\tExit app&quot;);\r\n    \t\tSystem.out.println(&quot;\\tEnter\\tTrigger caesar conversion + output&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method will be called each time any key is released. So we have to filter carefully\r\n    \t */\r\n    \tstatic protected void controlKeyReleased(final NativeKeyEvent pKeyEvent) throws NativeHookException {\r\n    \t\tswitch (pKeyEvent.getKeyCode()) {\r\n    \t\t\tcase NativeKeyEvent.VC_F2: {\r\n    \t\t\t\tSystem.out.println(&quot;Start listening...&quot;);\r\n    \t\t\t\tsRecordKeys = true;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_F3: {\r\n    \t\t\t\tSystem.out.println(&quot;Stop listening...&quot;);\r\n    \t\t\t\tsRecordKeys = false;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_F4: {\r\n    \t\t\t\tSystem.out.println(&quot;Shutting down...&quot;);\r\n    \t\t\t\tGlobalScreen.unregisterNativeHook();\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_ENTER: {\r\n    \t\t\t\tif (sRecordKeys) runCasesarAndOutput();\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tdefault: // ignore the rest\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method will only get triggered for valid input chars. So no control codes like F1, F2 etc will arrive here\r\n    \t */\r\n    \tstatic protected void inputKeyTyped(final NativeKeyEvent pKeyEvent) {\r\n    \t\tif (!sRecordKeys) return;\r\n    \r\n    \t\t//\t\tSystem.out.println(&quot;KeyListenerCaesarChiffre.inputKeyTypedx(&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\tswitch (pKeyEvent.getKeyChar()) {\r\n    \t\t\tdefault: {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;Key:\\t&quot; + pKeyEvent.getKeyCode() + &quot; / &quot; + pKeyEvent.getRawCode() + &quot; =&gt; &quot; + pKeyEvent.getKeyChar());\r\n    \t\t\t\tsRecordedChars.append(pKeyEvent.getKeyChar());\r\n    \t\t\t\tsRecordedRawKeyCodes.add(Integer.valueOf(pKeyEvent.getRawCode()));\r\n    \t\t\t\tSystem.out.println(&quot;\\tlen:&quot; + sRecordedChars.length() + &quot;\\ttext:&quot; + sRecordedChars.toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * This will need to run in its own thread.\r\n    \t * If we do not, we would run in the key event listener thread, and all keys simulated here would only be processed AFTER this method is done,\r\n    \t * so it would record its own inputs.\r\n    \t */\r\n    \tstatic private void runCasesarAndOutput() {\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\trunCasesarAndOutput_();\r\n    \t\t\t} catch (final AWTException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    \tstatic private void runCasesarAndOutput_() throws AWTException {\r\n    \t\t// wait until enter key event is processed\r\n    \t\tsleep(50);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// suspend key listening temporaily or we will feed back into our own input\r\n    \t\t\tsRecordKeys = false;\r\n    \r\n    \t\t\t// send output. Do NOT process the enter key, thus size-1\r\n    \t\t\tfor (int i = 0; i &lt; sRecordedRawKeyCodes.size() - 1; i++) {\r\n    \t\t\t\tfinal int c = sRecordedRawKeyCodes.get(i).intValue();\r\n    \t\t\t\ttypeKey(c + 1); // this is a really bad implementation of caesar\r\n    \t\t\t\t// especially because this will fall out of the keymapping boundaries a lot!\r\n    \t\t\t\t// some normal chars might get converted into control chars, like the arrow keys, for example\r\n    \t\t\t\t// also, letters do not wrap back up (z does not wrap back up to a in case of +1)\r\n    \t\t\t\t// also, you need to take additional care of special control keys like backspace the handle the ensuing &quot;text&quot; properly!\r\n    \t\t\t}\r\n    \r\n    \t\t\t// send enter to finish line\r\n    \t\t\ttypeKey(KeyEvent.VK_ENTER);\r\n    \r\n    \t\t} finally {\r\n    \t\t\tsRecordKeys = true;\r\n    \t\t}\r\n    \r\n    \t\t// clear intercepted key chars\r\n    \t\tsRecordedChars.setLength(0);\r\n    \t\tsRecordedRawKeyCodes.clear();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic public void typeKey(final int pKeyCode) throws AWTException {\r\n    \t\tif (sRobot == null) sRobot = new Robot();\r\n    \t\ttry {\r\n    \t\t\tsRobot.keyPress(pKeyCode);\r\n    \t\t\tsleep(KEY_PRESS_DURATION_MS);\r\n    \t\t\tsRobot.keyRelease(pKeyCode);\r\n    \t\t\t//\t\t\tsleep(KEY_PRESS_DURATION_MS);\r\n    \r\n    \t\t} catch (final java.lang.IllegalArgumentException e) {\r\n    \t\t\tSystem.err.println(&quot;Key code [&quot; + pKeyCode + &quot;] is invalid!&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \tstatic public void beep(final int pCount) {\r\n    \t\tfinal Toolkit dtk = Toolkit.getDefaultToolkit();\r\n    \t\tfor (int i = 0; i &lt; pCount; i++) {\r\n    \t\t\tdtk.beep();\r\n    \t\t\tJcUThread.sleep(300);\r\n    \t\t}\r\n    \t}\r\n    \tstatic public void sleep(final int pMS) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(pMS);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nThere&#39;s lots of downsides to this implementation and the problem per se:\r\n-\r\n - Needs jnativehook_2.2.0 as earlier versions do NOT work reliably under Windows\r\n - Needs a lot of special care when handling control keys like backspace, arrows etc.\r\n - Caesar chiper will be a pain in the ass to implement properly\r\n - More details in the comments\r\n\r\n\r\nUsage:\r\n-\r\n - Run the app\r\n - Head into your text editor\r\n - Press F2 to start recording the keys\r\n - When you press Enter, the keys will be caesar-transformed and then sent to the doc as keystrokes\r\n - Press F3 to halt recording\r\n - Or press F4 to shut down the app","title":"How do I get Java to output to where my focus is? (example: open text document)","body":"<p>Actually, opposed to what the commenters to your post say, there IS a Java way to send key events, using the Robot.</p>\n<ol>\n<li><p><code>Robot bot = new Robot();</code> (<code>java.awt.Robot</code>)</p>\n</li>\n<li><p>If you have <code>NativeKeyEvent pKeyEvent</code> as in <code>org.jnativehook.keyboard.NativeKeyEvent</code> then you can send that key back with</p>\n<pre><code>     bot.keyPress(pKeyEvent.getRawCode());\n     actionSleep(); // sleep for as long as you need, normal is ~20-60 ms\n     bot.keyRelease(pKeyEvent.getRawCode());\n</code></pre>\n</li>\n<li><p>If you have the Java Swing/AWT KeyEvent (<code>KeyEvent pKeyEvent</code> as in <code>java.awt.event.KeyEvent</code>), you can use it like this:</p>\n<pre><code>     bot.keyPress(pKeyEvent.getKeyCode());\n     actionSleep(); // sleep\n     bot.keyRelease(pKeyEvent.getKeyCode());\n</code></pre>\n</li>\n<li><p>If you want to send keys via code, you can use this (for pressing and releasing key 'a'):</p>\n<pre><code>     bot.keyPress(KeyEvent.VK_A);\n     actionSleep(); // sleep\n     bot.keyRelease(KeyEvent.VK_A);\n</code></pre>\n</li>\n</ol>\n<p>The Robot also has some additional functionality, like screen capture / screenshot, screen pixel reading, control mouse.</p>\n<h2>Example app:</h2>\n<pre><code>package stackoverflow.keylistenercaesar;\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\n\nimport jc.lib.lang.thread.JcUThread;\n\n/**\n * Written with jnativehook_2.2.0&lt;br&gt;\n * &lt;br&gt;\n * &lt;b&gt;Important!&lt;/b&gt; jnativehook_2.1.0 does NOT work correctly under windows, because it does not generate addNativeKeyListener-&gt;nativeKeyTyped events!\n *\n * @author jc\n * @since 2023-09-23\n *\n */\npublic class KeyListenerCaesarChiffre {\n\n    static public final int KEY_PRESS_DURATION_MS = 1;\n\n\n\n    static private StringBuilder        sRecordedChars          = new StringBuilder();\n    static private ArrayList&lt;Integer&gt;   sRecordedRawKeyCodes    = new ArrayList&lt;&gt;();\n\n    static private Robot sRobot;\n\n    static private volatile boolean sRecordKeys;\n\n\n\n    static public void main(final String[] args) throws NativeHookException {\n        // disable the stupid logger\n        final Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\n        logger.setLevel(Level.WARNING);\n        logger.setUseParentHandlers(false);\n\n        // set up key hook listening\n        GlobalScreen.registerNativeHook();\n        GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\n            @Override public void nativeKeyPressed(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyPressed(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n            }\n            @Override public void nativeKeyReleased(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyReleased(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n                try {\n                    controlKeyReleased(pKeyEvent);\n                } catch (final Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            @Override public void nativeKeyTyped(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyTyped(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n                try {\n                    inputKeyTyped(pKeyEvent);\n                } catch (final Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // print info\n        System.out.println(&quot;Key Bindings&quot;);\n        System.out.println(&quot;\\tKey\\tUse&quot;);\n        System.out.println(&quot;\\t------\\t------&quot;);\n        System.out.println(&quot;\\tF2\\tStart Listening&quot;);\n        System.out.println(&quot;\\tF3\\tEnd Listening&quot;);\n        System.out.println(&quot;\\tF4\\tExit app&quot;);\n        System.out.println(&quot;\\tEnter\\tTrigger caesar conversion + output&quot;);\n    }\n\n    /**\n     * This method will be called each time any key is released. So we have to filter carefully\n     */\n    static protected void controlKeyReleased(final NativeKeyEvent pKeyEvent) throws NativeHookException {\n        switch (pKeyEvent.getKeyCode()) {\n            case NativeKeyEvent.VC_F2: {\n                System.out.println(&quot;Start listening...&quot;);\n                sRecordKeys = true;\n                break;\n            }\n            case NativeKeyEvent.VC_F3: {\n                System.out.println(&quot;Stop listening...&quot;);\n                sRecordKeys = false;\n                break;\n            }\n            case NativeKeyEvent.VC_F4: {\n                System.out.println(&quot;Shutting down...&quot;);\n                GlobalScreen.unregisterNativeHook();\n                break;\n            }\n            case NativeKeyEvent.VC_ENTER: {\n                if (sRecordKeys) runCasesarAndOutput();\n                break;\n            }\n            default: // ignore the rest\n        }\n    }\n\n    /**\n     * This method will only get triggered for valid input chars. So no control codes like F1, F2 etc will arrive here\n     */\n    static protected void inputKeyTyped(final NativeKeyEvent pKeyEvent) {\n        if (!sRecordKeys) return;\n\n        //      System.out.println(&quot;KeyListenerCaesarChiffre.inputKeyTypedx(&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n        switch (pKeyEvent.getKeyChar()) {\n            default: {\n                //              System.out.println(&quot;Key:\\t&quot; + pKeyEvent.getKeyCode() + &quot; / &quot; + pKeyEvent.getRawCode() + &quot; =&gt; &quot; + pKeyEvent.getKeyChar());\n                sRecordedChars.append(pKeyEvent.getKeyChar());\n                sRecordedRawKeyCodes.add(Integer.valueOf(pKeyEvent.getRawCode()));\n                System.out.println(&quot;\\tlen:&quot; + sRecordedChars.length() + &quot;\\ttext:&quot; + sRecordedChars.toString());\n            }\n        }\n    }\n\n\n\n    /**\n     * This will need to run in its own thread.\n     * If we do not, we would run in the key event listener thread, and all keys simulated here would only be processed AFTER this method is done,\n     * so it would record its own inputs.\n     */\n    static private void runCasesarAndOutput() {\n        new Thread(() -&gt; {\n            try {\n                runCasesarAndOutput_();\n            } catch (final AWTException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n    static private void runCasesarAndOutput_() throws AWTException {\n        // wait until enter key event is processed\n        sleep(50);\n\n        try {\n            // suspend key listening temporaily or we will feed back into our own input\n            sRecordKeys = false;\n\n            // send output. Do NOT process the enter key, thus size-1\n            for (int i = 0; i &lt; sRecordedRawKeyCodes.size() - 1; i++) {\n                final int c = sRecordedRawKeyCodes.get(i).intValue();\n                typeKey(c + 1); // this is a really bad implementation of caesar\n                // especially because this will fall out of the keymapping boundaries a lot!\n                // some normal chars might get converted into control chars, like the arrow keys, for example\n                // also, letters do not wrap back up (z does not wrap back up to a in case of +1)\n                // also, you need to take additional care of special control keys like backspace the handle the ensuing &quot;text&quot; properly!\n            }\n\n            // send enter to finish line\n            typeKey(KeyEvent.VK_ENTER);\n\n        } finally {\n            sRecordKeys = true;\n        }\n\n        // clear intercepted key chars\n        sRecordedChars.setLength(0);\n        sRecordedRawKeyCodes.clear();\n    }\n\n\n\n    static public void typeKey(final int pKeyCode) throws AWTException {\n        if (sRobot == null) sRobot = new Robot();\n        try {\n            sRobot.keyPress(pKeyCode);\n            sleep(KEY_PRESS_DURATION_MS);\n            sRobot.keyRelease(pKeyCode);\n            //          sleep(KEY_PRESS_DURATION_MS);\n\n        } catch (final java.lang.IllegalArgumentException e) {\n            System.err.println(&quot;Key code [&quot; + pKeyCode + &quot;] is invalid!&quot;);\n            e.printStackTrace();\n        }\n    }\n    static public void beep(final int pCount) {\n        final Toolkit dtk = Toolkit.getDefaultToolkit();\n        for (int i = 0; i &lt; pCount; i++) {\n            dtk.beep();\n            JcUThread.sleep(300);\n        }\n    }\n    static public void sleep(final int pMS) {\n        try {\n            Thread.sleep(pMS);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n\n\n}\n</code></pre>\n<h2>There's lots of downsides to this implementation and the problem per se:</h2>\n<ul>\n<li>Needs jnativehook_2.2.0 as earlier versions do NOT work reliably under Windows</li>\n<li>Needs a lot of special care when handling control keys like backspace, arrows etc.</li>\n<li>Caesar chiper will be a pain in the ass to implement properly</li>\n<li>More details in the comments</li>\n</ul>\n<h2>Usage:</h2>\n<ul>\n<li>Run the app</li>\n<li>Head into your text editor</li>\n<li>Press F2 to start recording the keys</li>\n<li>When you press Enter, the keys will be caesar-transformed and then sent to the doc as keystrokes</li>\n<li>Press F3 to halt recording</li>\n<li>Or press F4 to shut down the app</li>\n</ul>\n"}],"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695434138,"creation_date":1695248980,"question_id":77146229,"body_markdown":"I used jnativehook.keyboard.NativeKeyListener to *listen* to keys typed in an open text document. No problem here.\r\nAfter a short permutation (think Caesar cipher), I want to send the *output* back to that open text document.\r\nHow do I do this? This seems to be surprisingly complicated...","title":"How do I get Java to output to where my focus is? (example: open text document)","body":"<p>I used jnativehook.keyboard.NativeKeyListener to <em>listen</em> to keys typed in an open text document. No problem here.\nAfter a short permutation (think Caesar cipher), I want to send the <em>output</em> back to that open text document.\nHow do I do this? This seems to be surprisingly complicated...</p>\n"},{"tags":["java","spring","scala","maven","apache-spark"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1695439314,"post_id":77161384,"comment_id":136028350,"body_markdown":"BTW note that updating **Spark** apps to `2.13` is usually impossible since your runtime needs to support that and to my knowledge, no cloud provider supports `2.13` yet _(I could be wrong, or you could be running standalone)_. - Anyways, you don&#39;t need to update **Scala** to `2.13` to use it with **Java 17**-","body":"BTW note that updating <b>Spark</b> apps to <code>2.13</code> is usually impossible since your runtime needs to support that and to my knowledge, no cloud provider supports <code>2.13</code> yet <i>(I could be wrong, or you could be running standalone)</i>. - Anyways, you don&#39;t need to update <b>Scala</b> to <code>2.13</code> to use it with <b>Java 17</b>-"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1695439992,"post_id":77161384,"comment_id":136028382,"body_markdown":"[EMR on EKS now supports Apache Spark with Java 17](https://aws.amazon.com/about-aws/whats-new/2023/07/emr-eks-apache-spark-java-17/). [Spark runs on Java 8/11/17, Scala 2.12/2.13](https://spark.apache.org/docs/3.5.0). Not sure what you did to do the upgrade or how the environment is being setup. From the [spark download](https://spark.apache.org/downloads.html) there are a build for scala 2.12 and another one for 2.13.","body":"<a href=\"https://aws.amazon.com/about-aws/whats-new/2023/07/emr-eks-apache-spark-java-17/\" rel=\"nofollow noreferrer\">EMR on EKS now supports Apache Spark with Java 17</a>. <a href=\"https://spark.apache.org/docs/3.5.0\" rel=\"nofollow noreferrer\">Spark runs on Java 8/11/17, Scala 2.12/2.13</a>. Not sure what you did to do the upgrade or how the environment is being setup. From the <a href=\"https://spark.apache.org/downloads.html\" rel=\"nofollow noreferrer\">spark download</a> there are a build for scala 2.12 and another one for 2.13."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1695673122,"post_id":77161384,"comment_id":136053330,"body_markdown":"I&#39;m using the 17 2.13, but this issue has been in my local. I can probably try and make sure all the scala 2.12 downloads and do it that way but this was maven clean install on my local, not the container. I was hoping to upgrade, but maybe that&#39;s just not the right play.","body":"I&#39;m using the 17 2.13, but this issue has been in my local. I can probably try and make sure all the scala 2.12 downloads and do it that way but this was maven clean install on my local, not the container. I was hoping to upgrade, but maybe that&#39;s just not the right play."}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695433963,"creation_date":1695433963,"question_id":77161384,"body_markdown":"I&#39;ve come here from questions like: https://stackoverflow.com/questions/59535009/java-cannot-access-scala-serializable-class-file-for-scala-serializable-not-fou\r\n\r\nAnd other similar questions.\r\n\r\nRecently, I&#39;ve taken the initiative to move my from java 11 to java 17, including this EMR spark app I have. I&#39;m not very familiar with scala but the move seemed simple enough, moving everything from scala 2.12 to 2.13.\r\n\r\nHowever, I&#39;ve now run into this error:\r\n\r\n```\r\nSparkJobTest.java:[28,13] cannot find symbol\r\n[ERROR]   symbol:   class Serializable\r\n[ERROR]   location: package scala\r\n```\r\n\r\nEarly on, my inclination was I forgot a dependency somewhere, but looking at my tree, nothing is obvious:\r\n```\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ spark-ingester-spring-boot-starter ---\r\n[INFO] com.mycompany.mcp:spark-ingester-spring-boot-starter:jar:7.0.0-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.2:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot:jar:2.5.2:compile\r\n[INFO] |     +- org.springframework:spring-core:jar:5.3.8:compile\r\n[INFO] |     |  \\- org.springframework:spring-jcl:jar:5.3.8:compile\r\n[INFO] |     \\- org.springframework:spring-context:jar:5.3.8:compile\r\n[INFO] |        +- org.springframework:spring-aop:jar:5.3.8:compile\r\n[INFO] |        \\- org.springframework:spring-expression:jar:5.3.8:compile\r\n[INFO] +- org.apache.spark:spark-core_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.scala-lang.modules:scala-parallel-collections_2.13:jar:1.0.4:provided\r\n[INFO] |  +- org.apache.avro:avro:jar:1.11.1:provided\r\n[INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.1:provided\r\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.1:provided\r\n[INFO] |  |     \\- org.tukaani:xz:jar:1.9:provided\r\n[INFO] |  +- com.twitter:chill_2.13:jar:0.10.0:provided\r\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:provided\r\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:provided\r\n[INFO] |  +- com.twitter:chill-java:jar:0.10.0:provided\r\n[INFO] |  +- org.apache.xbean:xbean-asm9-shaded:jar:4.22:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-client-api:jar:3.3.4:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:provided\r\n[INFO] |  +- org.apache.spark:spark-launcher_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-kvstore_2.13:jar:3.4.1:provided\r\n[INFO] |  |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:provided\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |  +- org.apache.spark:spark-network-common_2.13:jar:3.4.1:provided\r\n[INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.7.0:provided\r\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-unsafe_2.13:jar:3.4.1:provided\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:provided\r\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:provided\r\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:provided\r\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.6.3:provided\r\n[INFO] |  |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.3:provided\r\n[INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.5.0:provided\r\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:4.0.3:provided\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.22:compile\r\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO] |  +- org.apache.commons:commons-text:jar:1.10.0:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:provided\r\n[INFO] |  +- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\r\n[INFO] |  +- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:provided\r\n[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.19.0:provided\r\n[INFO] |  +- com.ning:compress-lzf:jar:1.1.2:provided\r\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.1:provided\r\n[INFO] |  +- org.lz4:lz4-java:jar:1.8.0:provided\r\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.5.2-5:provided\r\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.38:provided\r\n[INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.38:provided\r\n[INFO] |  +- org.scala-lang.modules:scala-xml_2.13:jar:2.1.0:provided\r\n[INFO] |  +- org.scala-lang:scala-reflect:jar:2.13.8:provided\r\n[INFO] |  +- org.json4s:json4s-jackson_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |  \\- org.json4s:json4s-core_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |     +- org.json4s:json4s-ast_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |     \\- org.json4s:json4s-scalap_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.36:provided\r\n[INFO] |  |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6:provided\r\n[INFO] |  |  \\- org.glassfish.hk2.external:jakarta.inject:jar:2.6.1:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.36:provided\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.36:provided\r\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:provided\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.36:provided\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.36:provided\r\n[INFO] |  +- org.glassfish.jersey.inject:jersey-hk2:jar:2.36:provided\r\n[INFO] |  |  +- org.glassfish.hk2:hk2-locator:jar:2.6.1:provided\r\n[INFO] |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.6.1:provided\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:2.6.1:provided\r\n[INFO] |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:2.6.1:provided\r\n[INFO] |  |  \\- org.javassist:javassist:jar:3.25.0-GA:provided\r\n[INFO] |  +- io.netty:netty-all:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:runtime\r\n[INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:provided\r\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.15:provided\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.13:jar:2.14.2:provided\r\n[INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:provided\r\n[INFO] |  +- org.apache.ivy:ivy:jar:2.5.1:provided\r\n[INFO] |  +- oro:oro:jar:2.0.8:provided\r\n[INFO] |  +- net.razorvine:pickle:jar:1.3:provided\r\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:provided\r\n[INFO] |  +- org.apache.spark:spark-tags_2.13:jar:3.4.1:provided\r\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:provided\r\n[INFO] +- org.apache.spark:spark-sql_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.rocksdb:rocksdbjni:jar:7.9.2:provided\r\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:provided\r\n[INFO] |  +- org.apache.spark:spark-sketch_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-catalyst_2.13:jar:3.4.1:provided\r\n[INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.13:jar:2.1.1:provided\r\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:provided\r\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:provided\r\n[INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:provided\r\n[INFO] |  |  +- org.apache.arrow:arrow-vector:jar:11.0.0:provided\r\n[INFO] |  |  |  +- org.apache.arrow:arrow-format:jar:11.0.0:provided\r\n[INFO] |  |  |  +- org.apache.arrow:arrow-memory-core:jar:11.0.0:provided\r\n[INFO] |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:provided\r\n[INFO] |  |  \\- org.apache.arrow:arrow-memory-netty:jar:11.0.0:provided\r\n[INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.8.4:provided\r\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.8.4:provided\r\n[INFO] |  |  +- io.airlift:aircompressor:jar:0.21:provided\r\n[INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:provided\r\n[INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:provided\r\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.8.4:provided\r\n[INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:provided\r\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.12.3:provided\r\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.12.3:provided\r\n[INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.12.3:provided\r\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.12.3:provided\r\n[INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.12.3:provided\r\n[INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.12.3:provided\r\n[INFO] |  \\- com.google.protobuf:protobuf-java:jar:3.21.12:provided\r\n[INFO] +- org.scala-lang:scala-library:jar:2.13.12:provided\r\n[INFO] +- com.crealytics:spark-excel_2.13:jar:3.4.1_0.19.0:compile\r\n[INFO] |  +- org.apache.poi:poi:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:5.1.1:compile\r\n[INFO] |  +- com.norbitltd:spoiwo_2.13:jar:2.2.1:compile\r\n[INFO] |  |  \\- com.github.tototoshi:scala-csv_2.13:jar:1.3.10:compile\r\n[INFO] |  +- com.github.pjfanning:excel-streaming-reader:jar:4.0.5:compile\r\n[INFO] |  +- com.github.pjfanning:poi-shared-strings:jar:2.5.6:compile\r\n[INFO] |  |  \\- com.h2database:h2:jar:2.1.214:runtime\r\n[INFO] |  +- com.zaxxer:SparseBitSet:jar:1.2:compile\r\n[INFO] |  +- com.github.virtuald:curvesapi:jar:1.07:compile\r\n[INFO] |  \\- org.scala-lang.modules:scala-collection-compat_2.13:jar:2.10.0:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-sqs:jar:1.12.508:compile\r\n[INFO] |  +- com.amazonaws:aws-java-sdk-core:jar:1.12.508:compile\r\n[INFO] |  |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.12.6:compile\r\n[INFO] |  |  \\- joda-time:joda-time:jar:2.8.1:compile\r\n[INFO] |  \\- com.amazonaws:jmespath-java:jar:1.12.508:compile\r\n[INFO] +- com.mycompany.mcp.fhir:common-fhir:jar:9.0.0-SNAPSHOT:provided\r\n[INFO] |  +- io.swagger.core.v3:swagger-annotations:jar:2.2.16:provided\r\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.6.11:provided\r\n[INFO] |  +- org.reflections:reflections:jar:0.10.2:provided\r\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:provided\r\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:provided\r\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:provided\r\n[INFO] +- com.mycompany.mcp.fhir:common-utilities:jar:9.0.0-SNAPSHOT:provided\r\n[INFO] |  \\- org.springframework:spring-web:jar:5.3.22:compile\r\n[INFO] |     \\- org.springframework:spring-beans:jar:5.3.22:compile\r\n[INFO] +- com.mycompany.mcp.utilities:common-clients:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  +- com.mycompany.mcp.resources:singularity-models:jar:7.15.1-SNAPSHOT:compile\r\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-dynamodb:jar:1.12.398:compile\r\n[INFO] |  |  \\- com.amazonaws:aws-java-sdk-sts:jar:1.12.398:compile\r\n[INFO] |  +- com.mycompany.mcp.utilities:model-utilities:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.github.java-json-tools:msg-simple:jar:1.2:compile\r\n[INFO] |  |  |  \\- com.github.java-json-tools:btf:jar:1.3:compile\r\n[INFO] |  |  +- com.github.java-json-tools:jackson-coreutils:jar:2.0:compile\r\n[INFO] |  |  \\- com.contentful.java:java-sdk:jar:10.5.16:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:retrofit:jar:2.9.0:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:adapter-rxjava3:jar:2.9.0:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:converter-gson:jar:2.9.0:compile\r\n[INFO] |  |     +- io.reactivex.rxjava3:rxjava:jar:3.1.3:compile\r\n[INFO] |  |     +- com.squareup.okhttp3:okhttp:jar:3.12.12:compile\r\n[INFO] |  |     |  \\- com.squareup.okio:okio:jar:1.15.0:compile\r\n[INFO] |  |     \\- com.github.tony19:named-regexp:jar:0.2.5:compile\r\n[INFO] |  +- org.elasticsearch:elasticsearch:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-core:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-x-content:jar:6.8.21:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.8.11:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.8.11:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-core:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-analyzers-common:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-backward-codecs:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-grouping:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-highlighter:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-join:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-memory:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-misc:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-queries:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-queryparser:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-sandbox:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial-extras:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial3d:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-suggest:jar:7.7.3:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-cli:jar:6.8.21:compile\r\n[INFO] |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\r\n[INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.1:compile\r\n[INFO] |  |  +- com.tdunning:t-digest:jar:3.2:compile\r\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n[INFO] |  |  \\- org.elasticsearch:jna:jar:5.5.0:compile\r\n[INFO] |  +- com.google.guava:guava:jar:32.1.2-jre:compile\r\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |  |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\r\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\r\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n[INFO] |  +- com.github.java-json-tools:json-patch:jar:1.13:compile\r\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\r\n[INFO] +- software.amazon.awssdk:sqs:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.20.101:compile\r\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.20.101:compile\r\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.20.101:compile\r\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:json-utils:jar:2.20.101:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.20.101:runtime\r\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.101:runtime\r\n[INFO] +- software.amazon.awssdk:sns:jar:2.20.101:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-sns:jar:1.12.508:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-s3:jar:1.12.508:compile\r\n[INFO] |  \\- com.amazonaws:aws-java-sdk-kms:jar:1.12.508:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.12.1:compile\r\n[INFO] +- com.mycompany.mcp-common-eventbus:models:jar:5.0.2:compile\r\n[INFO] +- com.mycompany.mcp.metamorphosis:metamorphosis-models:jar:2.9.0:compile\r\n[INFO] +- com.mycompany:mcp-boot-starter-monitoring:pom:5.4.0:compile\r\n[INFO] |  +- com.mycompany:mcp-common-monitoring:jar:2.9.0:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-access:jar:1.2.3:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n[INFO] |  |  +- net.logstash.logback:logstash-logback-encoder:jar:6.2:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.4:compile\r\n[INFO] |  +- com.mycompany:mcp-boot-autoconfigure:jar:5.4.0:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot-starter:jar:2.5.2:compile\r\n[INFO] |     +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.2:compile\r\n[INFO] |     |  \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\r\n[INFO] |     \\- org.yaml:snakeyaml:jar:1.28:compile\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.28:compile\r\n[INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.6:provided\r\n[INFO] |  +- com.amazonaws:aws-java-sdk-bundle:jar:1.12.367:provided\r\n[INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.1.3.Final:provided\r\n[INFO] +- org.apache.hadoop:hadoop-common:jar:3.3.6:provided\r\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-annotations:jar:3.3.6:provided\r\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:provided\r\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:provided\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  +- commons-net:commons-net:jar:3.9.0:provided\r\n[INFO] |  +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\r\n[INFO] |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-server:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-servlet:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-security:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-core:jar:1.19.4:provided\r\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.19.4:provided\r\n[INFO] |  +- com.github.pjfanning:jersey-json:jar:1.20:provided\r\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.1:provided\r\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-server:jar:1.19.4:provided\r\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:compile\r\n[INFO] |  +- ch.qos.reload4j:reload4j:jar:1.2.22:provided\r\n[INFO] |  +- org.apache.commons:commons-configuration2:jar:2.8.0:provided\r\n[INFO] |  +- org.slf4j:slf4j-reload4j:jar:1.7.36:provided\r\n[INFO] |  +- com.google.re2j:re2j:jar:1.1:provided\r\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.0:compile\r\n[INFO] |  +- org.apache.hadoop:hadoop-auth:jar:3.3.6:provided\r\n[INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:provided\r\n[INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:provided\r\n[INFO] |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:provided\r\n[INFO] |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:provided\r\n[INFO] |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:provided\r\n[INFO] |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:provided\r\n[INFO] |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:provided\r\n[INFO] |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:provided\r\n[INFO] |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:provided\r\n[INFO] |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:provided\r\n[INFO] |  +- com.jcraft:jsch:jar:0.1.55:provided\r\n[INFO] |  +- org.apache.curator:curator-client:jar:5.2.0:provided\r\n[INFO] |  +- org.apache.kerby:kerb-core:jar:1.0.1:provided\r\n[INFO] |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:provided\r\n[INFO] |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:provided\r\n[INFO] |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:provided\r\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:provided\r\n[INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:5.4.0:provided\r\n[INFO] |  \\- dnsjava:dnsjava:jar:2.1.7:provided\r\n[INFO] +- org.mockito:mockito-core:jar:3.3.3:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.5:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.5:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:2.6:provided\r\n[INFO] +- com.holdenkarau:spark-testing-base_2.13:jar:3.4.1_1.4.4:test\r\n[INFO] |  +- org.apache.spark:spark-streaming_2.13:jar:3.4.1:test\r\n[INFO] |  +- org.apache.spark:spark-hive_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-common:jar:2.3.9:test\r\n[INFO] |  |  |  +- commons-lang:commons-lang:jar:2.6:test\r\n[INFO] |  |  |  +- jline:jline:jar:2.12:test\r\n[INFO] |  |  |  +- com.tdunning:json:jar:1.8:test\r\n[INFO] |  |  |  \\- com.github.joshelser:dropwizard-metrics-hadoop-metrics2-reporter:jar:0.1.2:test\r\n[INFO] |  |  +- org.apache.hive:hive-exec:jar:core:2.3.9:test\r\n[INFO] |  |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\r\n[INFO] |  |  |  +- org.antlr:ST4:jar:4.0.4:test\r\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-metastore:jar:2.3.9:test\r\n[INFO] |  |  |  +- javolution:javolution:jar:5.5.1:test\r\n[INFO] |  |  |  +- com.jolbox:bonecp:jar:0.8.0.RELEASE:test\r\n[INFO] |  |  |  +- com.zaxxer:HikariCP:jar:2.5.1:test\r\n[INFO] |  |  |  +- org.datanucleus:datanucleus-api-jdo:jar:4.2.4:test\r\n[INFO] |  |  |  +- org.datanucleus:datanucleus-rdbms:jar:4.1.19:test\r\n[INFO] |  |  |  +- commons-pool:commons-pool:jar:1.5.4:test\r\n[INFO] |  |  |  +- commons-dbcp:commons-dbcp:jar:1.4:test\r\n[INFO] |  |  |  +- javax.jdo:jdo-api:jar:3.0.1:test\r\n[INFO] |  |  |  |  \\- javax.transaction:jta:jar:1.1:test\r\n[INFO] |  |  |  \\- org.datanucleus:javax.jdo:jar:3.2.0-m3:test\r\n[INFO] |  |  |     \\- javax.transaction:transaction-api:jar:1.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-serde:jar:2.3.9:test\r\n[INFO] |  |  |  \\- net.sf.opencsv:opencsv:jar:2.3:test\r\n[INFO] |  |  +- org.apache.hive:hive-shims:jar:2.3.9:test\r\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-common:jar:2.3.9:test\r\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-0.23:jar:2.3.9:test\r\n[INFO] |  |  |  \\- org.apache.hive.shims:hive-shims-scheduler:jar:2.3.9:test\r\n[INFO] |  |  +- org.apache.hive:hive-llap-common:jar:2.3.9:test\r\n[INFO] |  |  +- org.apache.hive:hive-llap-client:jar:2.3.9:test\r\n[INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:test\r\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:test\r\n[INFO] |  |  +- org.jodd:jodd-core:jar:3.5.2:test\r\n[INFO] |  |  +- org.datanucleus:datanucleus-core:jar:4.1.17:test\r\n[INFO] |  |  +- org.apache.thrift:libthrift:jar:0.12.0:test\r\n[INFO] |  |  +- org.apache.thrift:libfb303:jar:0.9.3:test\r\n[INFO] |  |  \\- org.apache.derby:derby:jar:10.14.2.0:test\r\n[INFO] |  +- org.apache.spark:spark-yarn_2.13:jar:3.4.1:test\r\n[INFO] |  +- org.apache.spark:spark-mllib_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.apache.spark:spark-graphx_2.13:jar:3.4.1:test\r\n[INFO] |  |  |  \\- net.sourceforge.f2j:arpack_combined_all:jar:0.1:test\r\n[INFO] |  |  +- org.apache.spark:spark-mllib-local_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.scalanlp:breeze_2.13:jar:2.1.0:test\r\n[INFO] |  |  |  +- org.scalanlp:breeze-macros_2.13:jar:2.1.0:test\r\n[INFO] |  |  |  +- com.github.wendykierp:JTransforms:jar:3.1:test\r\n[INFO] |  |  |  |  \\- pl.edu.icm:JLargeArrays:jar:1.5:test\r\n[INFO] |  |  |  \\- org.typelevel:spire_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-macros_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-platform_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-util_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     \\- org.typelevel:algebra_2.13:jar:2.8.0:test\r\n[INFO] |  |  |        \\- org.typelevel:cats-kernel_2.13:jar:2.8.0:test\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:test\r\n[INFO] |  |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:test\r\n[INFO] |  |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.8:test\r\n[INFO] |  |  +- dev.ludovic.netlib:blas:jar:3.0.3:test\r\n[INFO] |  |  +- dev.ludovic.netlib:lapack:jar:3.0.3:test\r\n[INFO] |  |  \\- dev.ludovic.netlib:arpack:jar:3.0.3:test\r\n[INFO] |  +- org.scalatest:scalatest_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-core_2.13:jar:3.2.15:test\r\n[INFO] |  |  |  +- org.scalatest:scalatest-compatible:jar:3.2.15:test\r\n[INFO] |  |  |  \\- org.scalactic:scalactic_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-featurespec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-flatspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-freespec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-funsuite_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-funspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-propspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-refspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-wordspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-diagrams_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-matchers-core_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-shouldmatchers_2.13:jar:3.2.15:test\r\n[INFO] |  |  \\- org.scalatest:scalatest-mustmatchers_2.13:jar:3.2.15:test\r\n[INFO] |  +- org.scalatestplus:scalacheck-1-15_2.13:jar:3.2.3.0:test\r\n[INFO] |  +- org.scalatestplus:junit-4-13_2.13:jar:3.2.15.0:test\r\n[INFO] |  +- org.scalacheck:scalacheck_2.13:jar:1.15.2:test\r\n[INFO] |  |  \\- org.scala-sbt:test-interface:jar:1.0:test\r\n[INFO] |  \\- io.netty:netty-tcnative-classes:jar:2.0.52.Final:test\r\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\r\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\r\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\r\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\r\n[INFO] \\- org.powermock:powermock-api-mockito2:jar:2.0.9:test\r\n[INFO]    \\- org.powermock:powermock-api-support:jar:2.0.9:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.507 s\r\n[INFO] Finished at: 2023-09-22T18:34:11-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nFrom the other questions like the one linked above, it sounds like my inclination was correct and I missed a package somewhere, but I don&#39;t see any packages that provide scala 2.12 anywhere. Is there any other way to locate this nested scala package?","title":"import scala.Serializable not found in scala 2.13","body":"<p>I've come here from questions like: <a href=\"https://stackoverflow.com/questions/59535009/java-cannot-access-scala-serializable-class-file-for-scala-serializable-not-fou\">java: cannot access scala.Serializable class file for scala.Serializable not found</a></p>\n<p>And other similar questions.</p>\n<p>Recently, I've taken the initiative to move my from java 11 to java 17, including this EMR spark app I have. I'm not very familiar with scala but the move seemed simple enough, moving everything from scala 2.12 to 2.13.</p>\n<p>However, I've now run into this error:</p>\n<pre><code>SparkJobTest.java:[28,13] cannot find symbol\n[ERROR]   symbol:   class Serializable\n[ERROR]   location: package scala\n</code></pre>\n<p>Early on, my inclination was I forgot a dependency somewhere, but looking at my tree, nothing is obvious:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ spark-ingester-spring-boot-starter ---\n[INFO] com.mycompany.mcp:spark-ingester-spring-boot-starter:jar:7.0.0-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.2:compile\n[INFO] |  \\- org.springframework.boot:spring-boot:jar:2.5.2:compile\n[INFO] |     +- org.springframework:spring-core:jar:5.3.8:compile\n[INFO] |     |  \\- org.springframework:spring-jcl:jar:5.3.8:compile\n[INFO] |     \\- org.springframework:spring-context:jar:5.3.8:compile\n[INFO] |        +- org.springframework:spring-aop:jar:5.3.8:compile\n[INFO] |        \\- org.springframework:spring-expression:jar:5.3.8:compile\n[INFO] +- org.apache.spark:spark-core_2.13:jar:3.4.1:provided\n[INFO] |  +- org.scala-lang.modules:scala-parallel-collections_2.13:jar:1.0.4:provided\n[INFO] |  +- org.apache.avro:avro:jar:1.11.1:provided\n[INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.1:provided\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.1:provided\n[INFO] |  |     \\- org.tukaani:xz:jar:1.9:provided\n[INFO] |  +- com.twitter:chill_2.13:jar:0.10.0:provided\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:provided\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:provided\n[INFO] |  +- com.twitter:chill-java:jar:0.10.0:provided\n[INFO] |  +- org.apache.xbean:xbean-asm9-shaded:jar:4.22:provided\n[INFO] |  +- org.apache.hadoop:hadoop-client-api:jar:3.3.4:provided\n[INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:provided\n[INFO] |  +- org.apache.spark:spark-launcher_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-kvstore_2.13:jar:3.4.1:provided\n[INFO] |  |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:provided\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |  +- org.apache.spark:spark-network-common_2.13:jar:3.4.1:provided\n[INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.7.0:provided\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-unsafe_2.13:jar:3.4.1:provided\n[INFO] |  +- javax.activation:activation:jar:1.1.1:provided\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:provided\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:provided\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.6.3:provided\n[INFO] |  |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.3:provided\n[INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.5.0:provided\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:4.0.3:provided\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.22:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.10.0:compile\n[INFO] |  +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:provided\n[INFO] |  +- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:provided\n[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.19.0:provided\n[INFO] |  +- com.ning:compress-lzf:jar:1.1.2:provided\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.1:provided\n[INFO] |  +- org.lz4:lz4-java:jar:1.8.0:provided\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.5.2-5:provided\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.38:provided\n[INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.38:provided\n[INFO] |  +- org.scala-lang.modules:scala-xml_2.13:jar:2.1.0:provided\n[INFO] |  +- org.scala-lang:scala-reflect:jar:2.13.8:provided\n[INFO] |  +- org.json4s:json4s-jackson_2.13:jar:3.7.0-M11:provided\n[INFO] |  |  \\- org.json4s:json4s-core_2.13:jar:3.7.0-M11:provided\n[INFO] |  |     +- org.json4s:json4s-ast_2.13:jar:3.7.0-M11:provided\n[INFO] |  |     \\- org.json4s:json4s-scalap_2.13:jar:3.7.0-M11:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.36:provided\n[INFO] |  |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6:provided\n[INFO] |  |  \\- org.glassfish.hk2.external:jakarta.inject:jar:2.6.1:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.36:provided\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.36:provided\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:provided\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.36:provided\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.36:provided\n[INFO] |  +- org.glassfish.jersey.inject:jersey-hk2:jar:2.36:provided\n[INFO] |  |  +- org.glassfish.hk2:hk2-locator:jar:2.6.1:provided\n[INFO] |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.6.1:provided\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:2.6.1:provided\n[INFO] |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:2.6.1:provided\n[INFO] |  |  \\- org.javassist:javassist:jar:3.25.0-GA:provided\n[INFO] |  +- io.netty:netty-all:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:runtime\n[INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:provided\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.15:provided\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.13:jar:2.14.2:provided\n[INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:provided\n[INFO] |  +- org.apache.ivy:ivy:jar:2.5.1:provided\n[INFO] |  +- oro:oro:jar:2.0.8:provided\n[INFO] |  +- net.razorvine:pickle:jar:1.3:provided\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:provided\n[INFO] |  +- org.apache.spark:spark-tags_2.13:jar:3.4.1:provided\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:provided\n[INFO] +- org.apache.spark:spark-sql_2.13:jar:3.4.1:provided\n[INFO] |  +- org.rocksdb:rocksdbjni:jar:7.9.2:provided\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:provided\n[INFO] |  +- org.apache.spark:spark-sketch_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-catalyst_2.13:jar:3.4.1:provided\n[INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.13:jar:2.1.1:provided\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:provided\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:provided\n[INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:provided\n[INFO] |  |  +- org.apache.arrow:arrow-vector:jar:11.0.0:provided\n[INFO] |  |  |  +- org.apache.arrow:arrow-format:jar:11.0.0:provided\n[INFO] |  |  |  +- org.apache.arrow:arrow-memory-core:jar:11.0.0:provided\n[INFO] |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:provided\n[INFO] |  |  \\- org.apache.arrow:arrow-memory-netty:jar:11.0.0:provided\n[INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.8.4:provided\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.8.4:provided\n[INFO] |  |  +- io.airlift:aircompressor:jar:0.21:provided\n[INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:provided\n[INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:provided\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.8.4:provided\n[INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:provided\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.12.3:provided\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.12.3:provided\n[INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.12.3:provided\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.12.3:provided\n[INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.12.3:provided\n[INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.12.3:provided\n[INFO] |  \\- com.google.protobuf:protobuf-java:jar:3.21.12:provided\n[INFO] +- org.scala-lang:scala-library:jar:2.13.12:provided\n[INFO] +- com.crealytics:spark-excel_2.13:jar:3.4.1_0.19.0:compile\n[INFO] |  +- org.apache.poi:poi:jar:5.2.3:compile\n[INFO] |  +- org.apache.poi:poi-ooxml:jar:5.2.3:compile\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.2.3:compile\n[INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:5.1.1:compile\n[INFO] |  +- com.norbitltd:spoiwo_2.13:jar:2.2.1:compile\n[INFO] |  |  \\- com.github.tototoshi:scala-csv_2.13:jar:1.3.10:compile\n[INFO] |  +- com.github.pjfanning:excel-streaming-reader:jar:4.0.5:compile\n[INFO] |  +- com.github.pjfanning:poi-shared-strings:jar:2.5.6:compile\n[INFO] |  |  \\- com.h2database:h2:jar:2.1.214:runtime\n[INFO] |  +- com.zaxxer:SparseBitSet:jar:1.2:compile\n[INFO] |  +- com.github.virtuald:curvesapi:jar:1.07:compile\n[INFO] |  \\- org.scala-lang.modules:scala-collection-compat_2.13:jar:2.10.0:compile\n[INFO] +- com.amazonaws:aws-java-sdk-sqs:jar:1.12.508:compile\n[INFO] |  +- com.amazonaws:aws-java-sdk-core:jar:1.12.508:compile\n[INFO] |  |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.12.6:compile\n[INFO] |  |  \\- joda-time:joda-time:jar:2.8.1:compile\n[INFO] |  \\- com.amazonaws:jmespath-java:jar:1.12.508:compile\n[INFO] +- com.mycompany.mcp.fhir:common-fhir:jar:9.0.0-SNAPSHOT:provided\n[INFO] |  +- io.swagger.core.v3:swagger-annotations:jar:2.2.16:provided\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.6.11:provided\n[INFO] |  +- org.reflections:reflections:jar:0.10.2:provided\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:provided\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:provided\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:provided\n[INFO] +- com.mycompany.mcp.fhir:common-utilities:jar:9.0.0-SNAPSHOT:provided\n[INFO] |  \\- org.springframework:spring-web:jar:5.3.22:compile\n[INFO] |     \\- org.springframework:spring-beans:jar:5.3.22:compile\n[INFO] +- com.mycompany.mcp.utilities:common-clients:jar:8.0.0-SNAPSHOT:compile\n[INFO] |  +- com.mycompany.mcp.resources:singularity-models:jar:7.15.1-SNAPSHOT:compile\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-dynamodb:jar:1.12.398:compile\n[INFO] |  |  \\- com.amazonaws:aws-java-sdk-sts:jar:1.12.398:compile\n[INFO] |  +- com.mycompany.mcp.utilities:model-utilities:jar:8.0.0-SNAPSHOT:compile\n[INFO] |  |  +- com.github.java-json-tools:msg-simple:jar:1.2:compile\n[INFO] |  |  |  \\- com.github.java-json-tools:btf:jar:1.3:compile\n[INFO] |  |  +- com.github.java-json-tools:jackson-coreutils:jar:2.0:compile\n[INFO] |  |  \\- com.contentful.java:java-sdk:jar:10.5.16:compile\n[INFO] |  |     +- com.squareup.retrofit2:retrofit:jar:2.9.0:compile\n[INFO] |  |     +- com.squareup.retrofit2:adapter-rxjava3:jar:2.9.0:compile\n[INFO] |  |     +- com.squareup.retrofit2:converter-gson:jar:2.9.0:compile\n[INFO] |  |     +- io.reactivex.rxjava3:rxjava:jar:3.1.3:compile\n[INFO] |  |     +- com.squareup.okhttp3:okhttp:jar:3.12.12:compile\n[INFO] |  |     |  \\- com.squareup.okio:okio:jar:1.15.0:compile\n[INFO] |  |     \\- com.github.tony19:named-regexp:jar:0.2.5:compile\n[INFO] |  +- org.elasticsearch:elasticsearch:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-core:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-x-content:jar:6.8.21:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.8.11:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.8.11:compile\n[INFO] |  |  +- org.apache.lucene:lucene-core:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-analyzers-common:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-backward-codecs:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-grouping:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-highlighter:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-join:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-memory:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-misc:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-queries:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-queryparser:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-sandbox:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial-extras:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial3d:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-suggest:jar:7.7.3:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-cli:jar:6.8.21:compile\n[INFO] |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\n[INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.1:compile\n[INFO] |  |  +- com.tdunning:t-digest:jar:3.2:compile\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\n[INFO] |  |  \\- org.elasticsearch:jna:jar:5.5.0:compile\n[INFO] |  +- com.google.guava:guava:jar:32.1.2-jre:compile\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  +- com.github.java-json-tools:json-patch:jar:1.13:compile\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\n[INFO] +- software.amazon.awssdk:sqs:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.20.101:compile\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.20.101:compile\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.20.101:compile\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:json-utils:jar:2.20.101:compile\n[INFO] |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.20.101:runtime\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.101:runtime\n[INFO] +- software.amazon.awssdk:sns:jar:2.20.101:compile\n[INFO] +- com.amazonaws:aws-java-sdk-sns:jar:1.12.508:compile\n[INFO] +- com.amazonaws:aws-java-sdk-s3:jar:1.12.508:compile\n[INFO] |  \\- com.amazonaws:aws-java-sdk-kms:jar:1.12.508:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.12.1:compile\n[INFO] +- com.mycompany.mcp-common-eventbus:models:jar:5.0.2:compile\n[INFO] +- com.mycompany.mcp.metamorphosis:metamorphosis-models:jar:2.9.0:compile\n[INFO] +- com.mycompany:mcp-boot-starter-monitoring:pom:5.4.0:compile\n[INFO] |  +- com.mycompany:mcp-common-monitoring:jar:2.9.0:compile\n[INFO] |  |  +- ch.qos.logback:logback-access:jar:1.2.3:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |  |  +- net.logstash.logback:logstash-logback-encoder:jar:6.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.4:compile\n[INFO] |  +- com.mycompany:mcp-boot-autoconfigure:jar:5.4.0:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-starter:jar:2.5.2:compile\n[INFO] |     +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.2:compile\n[INFO] |     |  \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\n[INFO] |     \\- org.yaml:snakeyaml:jar:1.28:compile\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.projectlombok:lombok:jar:1.18.28:compile\n[INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.6:provided\n[INFO] |  +- com.amazonaws:aws-java-sdk-bundle:jar:1.12.367:provided\n[INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.1.3.Final:provided\n[INFO] +- org.apache.hadoop:hadoop-common:jar:3.3.6:provided\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:provided\n[INFO] |  +- org.apache.hadoop:hadoop-annotations:jar:3.3.6:provided\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:provided\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:provided\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  +- commons-net:commons-net:jar:3.9.0:provided\n[INFO] |  +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\n[INFO] |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:provided\n[INFO] |  +- org.eclipse.jetty:jetty-server:jar:9.4.51.v20230217:provided\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-servlet:jar:9.4.51.v20230217:provided\n[INFO] |  |  +- org.eclipse.jetty:jetty-security:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:9.4.51.v20230217:provided\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.1:provided\n[INFO] |  +- com.sun.jersey:jersey-core:jar:1.19.4:provided\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:provided\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.19.4:provided\n[INFO] |  +- com.github.pjfanning:jersey-json:jar:1.20:provided\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.1:provided\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:provided\n[INFO] |  +- com.sun.jersey:jersey-server:jar:1.19.4:provided\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] |  +- ch.qos.reload4j:reload4j:jar:1.2.22:provided\n[INFO] |  +- org.apache.commons:commons-configuration2:jar:2.8.0:provided\n[INFO] |  +- org.slf4j:slf4j-reload4j:jar:1.7.36:provided\n[INFO] |  +- com.google.re2j:re2j:jar:1.1:provided\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.0:compile\n[INFO] |  +- org.apache.hadoop:hadoop-auth:jar:3.3.6:provided\n[INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:provided\n[INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:provided\n[INFO] |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:provided\n[INFO] |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:provided\n[INFO] |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:provided\n[INFO] |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:provided\n[INFO] |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:provided\n[INFO] |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:provided\n[INFO] |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:provided\n[INFO] |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:provided\n[INFO] |  +- com.jcraft:jsch:jar:0.1.55:provided\n[INFO] |  +- org.apache.curator:curator-client:jar:5.2.0:provided\n[INFO] |  +- org.apache.kerby:kerb-core:jar:1.0.1:provided\n[INFO] |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:provided\n[INFO] |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:provided\n[INFO] |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:provided\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:provided\n[INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:5.4.0:provided\n[INFO] |  \\- dnsjava:dnsjava:jar:2.1.7:provided\n[INFO] +- org.mockito:mockito-core:jar:3.3.3:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.5:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.5:test\n[INFO] |  \\- org.objenesis:objenesis:jar:2.6:provided\n[INFO] +- com.holdenkarau:spark-testing-base_2.13:jar:3.4.1_1.4.4:test\n[INFO] |  +- org.apache.spark:spark-streaming_2.13:jar:3.4.1:test\n[INFO] |  +- org.apache.spark:spark-hive_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.apache.hive:hive-common:jar:2.3.9:test\n[INFO] |  |  |  +- commons-lang:commons-lang:jar:2.6:test\n[INFO] |  |  |  +- jline:jline:jar:2.12:test\n[INFO] |  |  |  +- com.tdunning:json:jar:1.8:test\n[INFO] |  |  |  \\- com.github.joshelser:dropwizard-metrics-hadoop-metrics2-reporter:jar:0.1.2:test\n[INFO] |  |  +- org.apache.hive:hive-exec:jar:core:2.3.9:test\n[INFO] |  |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\n[INFO] |  |  |  +- org.antlr:ST4:jar:4.0.4:test\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:test\n[INFO] |  |  +- org.apache.hive:hive-metastore:jar:2.3.9:test\n[INFO] |  |  |  +- javolution:javolution:jar:5.5.1:test\n[INFO] |  |  |  +- com.jolbox:bonecp:jar:0.8.0.RELEASE:test\n[INFO] |  |  |  +- com.zaxxer:HikariCP:jar:2.5.1:test\n[INFO] |  |  |  +- org.datanucleus:datanucleus-api-jdo:jar:4.2.4:test\n[INFO] |  |  |  +- org.datanucleus:datanucleus-rdbms:jar:4.1.19:test\n[INFO] |  |  |  +- commons-pool:commons-pool:jar:1.5.4:test\n[INFO] |  |  |  +- commons-dbcp:commons-dbcp:jar:1.4:test\n[INFO] |  |  |  +- javax.jdo:jdo-api:jar:3.0.1:test\n[INFO] |  |  |  |  \\- javax.transaction:jta:jar:1.1:test\n[INFO] |  |  |  \\- org.datanucleus:javax.jdo:jar:3.2.0-m3:test\n[INFO] |  |  |     \\- javax.transaction:transaction-api:jar:1.1:test\n[INFO] |  |  +- org.apache.hive:hive-serde:jar:2.3.9:test\n[INFO] |  |  |  \\- net.sf.opencsv:opencsv:jar:2.3:test\n[INFO] |  |  +- org.apache.hive:hive-shims:jar:2.3.9:test\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-common:jar:2.3.9:test\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-0.23:jar:2.3.9:test\n[INFO] |  |  |  \\- org.apache.hive.shims:hive-shims-scheduler:jar:2.3.9:test\n[INFO] |  |  +- org.apache.hive:hive-llap-common:jar:2.3.9:test\n[INFO] |  |  +- org.apache.hive:hive-llap-client:jar:2.3.9:test\n[INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:test\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:test\n[INFO] |  |  +- org.jodd:jodd-core:jar:3.5.2:test\n[INFO] |  |  +- org.datanucleus:datanucleus-core:jar:4.1.17:test\n[INFO] |  |  +- org.apache.thrift:libthrift:jar:0.12.0:test\n[INFO] |  |  +- org.apache.thrift:libfb303:jar:0.9.3:test\n[INFO] |  |  \\- org.apache.derby:derby:jar:10.14.2.0:test\n[INFO] |  +- org.apache.spark:spark-yarn_2.13:jar:3.4.1:test\n[INFO] |  +- org.apache.spark:spark-mllib_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.apache.spark:spark-graphx_2.13:jar:3.4.1:test\n[INFO] |  |  |  \\- net.sourceforge.f2j:arpack_combined_all:jar:0.1:test\n[INFO] |  |  +- org.apache.spark:spark-mllib-local_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.scalanlp:breeze_2.13:jar:2.1.0:test\n[INFO] |  |  |  +- org.scalanlp:breeze-macros_2.13:jar:2.1.0:test\n[INFO] |  |  |  +- com.github.wendykierp:JTransforms:jar:3.1:test\n[INFO] |  |  |  |  \\- pl.edu.icm:JLargeArrays:jar:1.5:test\n[INFO] |  |  |  \\- org.typelevel:spire_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-macros_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-platform_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-util_2.13:jar:0.18.0:test\n[INFO] |  |  |     \\- org.typelevel:algebra_2.13:jar:2.8.0:test\n[INFO] |  |  |        \\- org.typelevel:cats-kernel_2.13:jar:2.8.0:test\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:test\n[INFO] |  |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:test\n[INFO] |  |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.8:test\n[INFO] |  |  +- dev.ludovic.netlib:blas:jar:3.0.3:test\n[INFO] |  |  +- dev.ludovic.netlib:lapack:jar:3.0.3:test\n[INFO] |  |  \\- dev.ludovic.netlib:arpack:jar:3.0.3:test\n[INFO] |  +- org.scalatest:scalatest_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-core_2.13:jar:3.2.15:test\n[INFO] |  |  |  +- org.scalatest:scalatest-compatible:jar:3.2.15:test\n[INFO] |  |  |  \\- org.scalactic:scalactic_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-featurespec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-flatspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-freespec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-funsuite_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-funspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-propspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-refspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-wordspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-diagrams_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-matchers-core_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-shouldmatchers_2.13:jar:3.2.15:test\n[INFO] |  |  \\- org.scalatest:scalatest-mustmatchers_2.13:jar:3.2.15:test\n[INFO] |  +- org.scalatestplus:scalacheck-1-15_2.13:jar:3.2.3.0:test\n[INFO] |  +- org.scalatestplus:junit-4-13_2.13:jar:3.2.15.0:test\n[INFO] |  +- org.scalacheck:scalacheck_2.13:jar:1.15.2:test\n[INFO] |  |  \\- org.scala-sbt:test-interface:jar:1.0:test\n[INFO] |  \\- io.netty:netty-tcnative-classes:jar:2.0.52.Final:test\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\n[INFO] \\- org.powermock:powermock-api-mockito2:jar:2.0.9:test\n[INFO]    \\- org.powermock:powermock-api-support:jar:2.0.9:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.507 s\n[INFO] Finished at: 2023-09-22T18:34:11-07:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>From the other questions like the one linked above, it sounds like my inclination was correct and I missed a package somewhere, but I don't see any packages that provide scala 2.12 anywhere. Is there any other way to locate this nested scala package?</p>\n"},{"tags":["java","docker","cucumber","docker-container","wiremock"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1695486177,"post_id":77161274,"comment_id":136032123,"body_markdown":"Read the whole Stacktrace, then look at the logs of the container.","body":"Read the whole Stacktrace, then look at the logs of the container."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"score":0,"creation_date":1695494779,"post_id":77161274,"comment_id":136033155,"body_markdown":"I did, theres nothing in the container logs, no logs in the container.","body":"I did, theres nothing in the container logs, no logs in the container."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695505642,"post_id":77161274,"comment_id":136034120,"body_markdown":"If nothing happens, that probably explains why the container doesn&#39;t open the port.","body":"If nothing happens, that probably explains why the container doesn&#39;t open the port."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"score":0,"creation_date":1695543198,"post_id":77161274,"comment_id":136036391,"body_markdown":"Actually it starts, but since i am using it as a hook, there isnt much in the logs, the startup logs of witemock.","body":"Actually it starts, but since i am using it as a hook, there isnt much in the logs, the startup logs of witemock."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695552994,"post_id":77161274,"comment_id":136037272,"body_markdown":"Then you&#39;ll have to figure out next why the port didn&#39;t open.","body":"Then you&#39;ll have to figure out next why the port didn&#39;t open."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"score":0,"creation_date":1695630977,"post_id":77161274,"comment_id":136045033,"body_markdown":"Exactly the point of my question, what could be the possibilities.","body":"Exactly the point of my question, what could be the possibilities."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695664791,"post_id":77161274,"comment_id":136051952,"body_markdown":"Your code probably doesn&#39;t do what you think it does. Can you get the docker to work by manually executing docker commands? Have you compared those commands to your java code?","body":"Your code probably doesn&#39;t do what you think it does. Can you get the docker to work by manually executing docker commands? Have you compared those commands to your java code?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695664828,"post_id":77161274,"comment_id":136051958,"body_markdown":"Also what is the value of `WIREMOCK_INTERNAL_PORT`","body":"Also what is the value of <code>WIREMOCK_INTERNAL_PORT</code>"},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"score":0,"creation_date":1695722153,"post_id":77161274,"comment_id":136059301,"body_markdown":"A value an exposed port, which i  will supposedly call from an endpoint.","body":"A value an exposed port, which i  will supposedly call from an endpoint."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695724245,"post_id":77161274,"comment_id":136059670,"body_markdown":"And does the container actually serve anything on that port?","body":"And does the container actually serve anything on that port?"},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"score":0,"creation_date":1695827277,"post_id":77161274,"comment_id":136076678,"body_markdown":"It starts and closes abruptly after port issue.","body":"It starts and closes abruptly after port issue."}],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695431292,"creation_date":1695430291,"question_id":77161274,"body_markdown":"I am trying to initialize and start a docker container from cucumber hooks in order to write integration tests, uing wiremock.\r\n\r\nBut the issue, is that initialization fails miserably for some reason.\r\n\r\nHere the code snipped i have :\r\n\r\n```\r\n @BeforeAll(order = 50)\r\n    public static void prepareMockServer2() {\r\n        var mockServer= new GenericContainer(DockerImageName.parse(&quot;wiremock/wiremock&quot;))\r\n            .withExposedPorts(WIREMOCK_INTERNAL_PORT)\r\n            .withClasspathResourceMapping(&quot;wiremock/modules/custom-service&quot;, &quot;/home/wiremock&quot;, BindMode.READ_ONLY);\r\n        mockServer.start();\r\n        logger.info(&quot;server started&quot;);\r\n    }\r\n```\r\n\r\nThis folder `wiremock/modules/custom-service` is also in the `resources` folder.\r\n\r\nPrevious attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\\`\\`\\`\r\n\r\nI expect normally the mock server to start.\r\n\r\nBut i get the following exception :\r\n\r\n```\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed for image wiremock/wiremock:latest\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invokeStatic(Invoker.java:80)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:45)\r\n\tat io.cucumber.java.JavaStaticHookDefinition.execute(JavaStaticHookDefinition.java:49)\r\n\tat io.cucumber.core.runner.Runner.executeHook(Runner.java:112)\r\n\tat io.cucumber.core.runner.Runner.lambda$executeHooks$2(Runner.java:99)\r\n\tat io.cucumber.core.runner.ThrowableCollector.execute(ThrowableCollector.java:21)\r\n\tat io.cucumber.core.runner.Runner.executeHooks(Runner.java:99)\r\n\tat io.cucumber.core.runner.Runner.runBeforeAllHooks(Runner.java:89)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:94)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runBeforeAllHooks(CucumberEngineExecutionContext.java:101)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.ifChildren(CucumberEngineDescriptor.java:51)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:26)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:11)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:73)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:553)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 83 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [52290] should be listening)\r\n\tat org.testcontainers.containers.wait.strategy.HostPortWaitStrategy.waitUntilReady(HostPortWaitStrategy.java:101)\r\n\tat org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\r\n\tat org.testcontainers.containers.GenericContainer.waitUntilContainerStarted(GenericContainer.java:964)\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:490)\r\n\t... 85 more\r\ntestcontainers.containers.GenericContainer.start(GenericContainer.java:321)\r\n```\r\n\r\nAny thoughts please to how can i fix this ?","title":"Generic container initialization failed for cucumter tests","body":"<p>I am trying to initialize and start a docker container from cucumber hooks in order to write integration tests, uing wiremock.</p>\n<p>But the issue, is that initialization fails miserably for some reason.</p>\n<p>Here the code snipped i have :</p>\n<pre><code> @BeforeAll(order = 50)\n    public static void prepareMockServer2() {\n        var mockServer= new GenericContainer(DockerImageName.parse(&quot;wiremock/wiremock&quot;))\n            .withExposedPorts(WIREMOCK_INTERNAL_PORT)\n            .withClasspathResourceMapping(&quot;wiremock/modules/custom-service&quot;, &quot;/home/wiremock&quot;, BindMode.READ_ONLY);\n        mockServer.start();\n        logger.info(&quot;server started&quot;);\n    }\n</code></pre>\n<p>This folder <code>wiremock/modules/custom-service</code> is also in the <code>resources</code> folder.</p>\n<p>Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration```</p>\n<p>I expect normally the mock server to start.</p>\n<p>But i get the following exception :</p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed for image wiremock/wiremock:latest\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\n    at io.cucumber.java.Invoker.invokeStatic(Invoker.java:80)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:45)\n    at io.cucumber.java.JavaStaticHookDefinition.execute(JavaStaticHookDefinition.java:49)\n    at io.cucumber.core.runner.Runner.executeHook(Runner.java:112)\n    at io.cucumber.core.runner.Runner.lambda$executeHooks$2(Runner.java:99)\n    at io.cucumber.core.runner.ThrowableCollector.execute(ThrowableCollector.java:21)\n    at io.cucumber.core.runner.Runner.executeHooks(Runner.java:99)\n    at io.cucumber.core.runner.Runner.runBeforeAllHooks(Runner.java:89)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:94)\n    at io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runBeforeAllHooks(CucumberEngineExecutionContext.java:101)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.ifChildren(CucumberEngineDescriptor.java:51)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:26)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:11)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:73)\n    at org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\n    at org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\n    at org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:553)\n    at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 83 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [52290] should be listening)\n    at org.testcontainers.containers.wait.strategy.HostPortWaitStrategy.waitUntilReady(HostPortWaitStrategy.java:101)\n    at org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\n    at org.testcontainers.containers.GenericContainer.waitUntilContainerStarted(GenericContainer.java:964)\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:490)\n    ... 85 more\ntestcontainers.containers.GenericContainer.start(GenericContainer.java:321)\n</code></pre>\n<p>Any thoughts please to how can i fix this ?</p>\n"},{"tags":["java","redis","annotations","quarkus","custom-build-step"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1695365515,"post_id":77154145,"comment_id":136017167,"body_markdown":"Assuming things are done properly, this should work. Do you have a sample you can share?","body":"Assuming things are done properly, this should work. Do you have a sample you can share?"}],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695366249,"creation_date":1695366249,"answer_id":77155462,"question_id":77154145,"body_markdown":"So the `AnnotationsTransformerBuildItem` is used to modify the internal model of classes that the given Quarkus component uses. It doesn&#39;t modify bytecode or anything like that, so you can&#39;t observe the changes directly, only indirectly (through changed behavior).\r\n\r\nThere are 2 classes named `AnnotationsTransformerBuildItem`:\r\n\r\n- `io.quarkus.arc.deployment.AnnotationsTransformerBuildItem` for ArC, the CDI container in Quarkus\r\n- `io.quarkus.resteasy.reactive.server.spi.AnnotationsTransformerBuildItem` for RESTEasy Reactive, the JAX-RS implementation in Quarkus\r\n\r\nSince `@WithSpan` is treated as an interceptor binding in Quarkus, you need the ArC&#39;s `AnnotationsTransformerBuildItem`.\r\n\r\nAssuming you have the ArC&#39;s `AnnotationsTransformerBuildItem`, there are 3 problems:\r\n\r\n1. You&#39;re using the transformation API incorrectly. Adding an annotation to the set of annotations returned from `MethodInfo` is not supposed to work and it&#39;s not going to work. The transformation API is basically a callback. You&#39;re called with a `TransformationContext` for any given element, and you have to modify the annotations through the `TransformationContext`. Since you&#39;re trying to modify annotations on the methods of `io.quarkus.redis.datasource.value.ValueCommands`, your `appliesTo` method should be `return kind == AnnotationTarget.Kind.METHOD` and the `transform` method should check if the method it is given is declared on the class you need.\r\n\r\n2. But even if you used the transformation API correctly, it still wouldn&#39;t work. You&#39;re trying to modify annotations on `io.quarkus.redis.datasource.value.ValueCommands`, which is an interface. An interface is never a bean class, and CDI never inherits annotations from interfaces, so such transformation is useless.\r\n\r\n3. Even if you found the concrete implementation of `ValueCommands`, it still wouldn&#39;t work. Adding an interceptor binding to a class only makes sense if that class is a CDI _managed bean_ (also known as class-based bean). Most of the API exposed by the Redis client  are not CDI beans at all, and those that are (such as `RedisDataSource` that you can inject) are not managed beans (they are synthetic beans actually). So none of that can actually be intercepted.\r\n\r\nTo sum up, making sure that the Redis calls are properly traced is not possible using annotation transformations.\r\n\r\nThe good news is, the underlying Vert.x Redis client implementation has gained native support for tracing in version 4.4.5. This version is used in Quarkus since version 3.4 (which was released a few days ago), so it should either work out of the box once you upgrade, or it should be fairly simple to implement on the Quarkus side. If Redis command tracing doesn&#39;t work with Quarkus 3.4, please file a feature request.","title":"Quarkus BuildStep","body":"<p>So the <code>AnnotationsTransformerBuildItem</code> is used to modify the internal model of classes that the given Quarkus component uses. It doesn't modify bytecode or anything like that, so you can't observe the changes directly, only indirectly (through changed behavior).</p>\n<p>There are 2 classes named <code>AnnotationsTransformerBuildItem</code>:</p>\n<ul>\n<li><code>io.quarkus.arc.deployment.AnnotationsTransformerBuildItem</code> for ArC, the CDI container in Quarkus</li>\n<li><code>io.quarkus.resteasy.reactive.server.spi.AnnotationsTransformerBuildItem</code> for RESTEasy Reactive, the JAX-RS implementation in Quarkus</li>\n</ul>\n<p>Since <code>@WithSpan</code> is treated as an interceptor binding in Quarkus, you need the ArC's <code>AnnotationsTransformerBuildItem</code>.</p>\n<p>Assuming you have the ArC's <code>AnnotationsTransformerBuildItem</code>, there are 3 problems:</p>\n<ol>\n<li><p>You're using the transformation API incorrectly. Adding an annotation to the set of annotations returned from <code>MethodInfo</code> is not supposed to work and it's not going to work. The transformation API is basically a callback. You're called with a <code>TransformationContext</code> for any given element, and you have to modify the annotations through the <code>TransformationContext</code>. Since you're trying to modify annotations on the methods of <code>io.quarkus.redis.datasource.value.ValueCommands</code>, your <code>appliesTo</code> method should be <code>return kind == AnnotationTarget.Kind.METHOD</code> and the <code>transform</code> method should check if the method it is given is declared on the class you need.</p>\n</li>\n<li><p>But even if you used the transformation API correctly, it still wouldn't work. You're trying to modify annotations on <code>io.quarkus.redis.datasource.value.ValueCommands</code>, which is an interface. An interface is never a bean class, and CDI never inherits annotations from interfaces, so such transformation is useless.</p>\n</li>\n<li><p>Even if you found the concrete implementation of <code>ValueCommands</code>, it still wouldn't work. Adding an interceptor binding to a class only makes sense if that class is a CDI <em>managed bean</em> (also known as class-based bean). Most of the API exposed by the Redis client  are not CDI beans at all, and those that are (such as <code>RedisDataSource</code> that you can inject) are not managed beans (they are synthetic beans actually). So none of that can actually be intercepted.</p>\n</li>\n</ol>\n<p>To sum up, making sure that the Redis calls are properly traced is not possible using annotation transformations.</p>\n<p>The good news is, the underlying Vert.x Redis client implementation has gained native support for tracing in version 4.4.5. This version is used in Quarkus since version 3.4 (which was released a few days ago), so it should either work out of the box once you upgrade, or it should be fairly simple to implement on the Quarkus side. If Redis command tracing doesn't work with Quarkus 3.4, please file a feature request.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695429892,"creation_date":1695339013,"question_id":77154145,"body_markdown":"I am trying to transform annotation data using BuildStep as stated on the link below\r\n\r\nhttps://quarkus.io/guides/cdi-integration#annotations_transformer_build_item\r\n\r\nHowever, I am not seeing any indication this is working. I can&#39;t verify during build time what is wrong and there is no change at runtime. Below is the sample code:\r\n\r\n```java\r\n    public class TestTelemetryBuilder {\r\n    \r\n        @BuildStep\r\n        AnnotationsTransformerBuildItem transform() {\r\n            return new AnnotationsTransformerBuildItem(new AnnotationsTransformer() {\r\n    \r\n                @Override\r\n                public boolean appliesTo(final org.jboss.jandex.AnnotationTarget.Kind kind) {\r\n                    return kind == org.jboss.jandex.AnnotationTarget.Kind.CLASS;\r\n                }\r\n    \r\n                @Override\r\n                public void transform(final TransformationContext context) {\r\n                    if (&quot;io.quarkus.redis.datasource.value.ValueCommands&quot;\r\n                            .equals(context.getTarget().asClass().name().toString())) {\r\n                        List&lt;MethodInfo&gt; methods = context.getTarget().asClass().methods();\r\n                        AnnotationInstance annot = AnnotationInstance.builder(DotName.createSimple(\r\n                                &quot;io.opentelemetry.instrumentation.annotations.WithSpan&quot;)).build();\r\n                        methods.forEach(t -&gt; t.annotations()\r\n                                .add(annot));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\nI want to add the WithSpan annotation to all the methods on the Redis ValueCommands class whenever called. Does this work only when the class is injected? I tried with RedisDataSource which is injected but couldn&#39;t get it to work. Is there anything else I need to setup/configure?","title":"Quarkus BuildStep","body":"<p>I am trying to transform annotation data using BuildStep as stated on the link below</p>\n<p><a href=\"https://quarkus.io/guides/cdi-integration#annotations_transformer_build_item\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi-integration#annotations_transformer_build_item</a></p>\n<p>However, I am not seeing any indication this is working. I can't verify during build time what is wrong and there is no change at runtime. Below is the sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class TestTelemetryBuilder {\n    \n        @BuildStep\n        AnnotationsTransformerBuildItem transform() {\n            return new AnnotationsTransformerBuildItem(new AnnotationsTransformer() {\n    \n                @Override\n                public boolean appliesTo(final org.jboss.jandex.AnnotationTarget.Kind kind) {\n                    return kind == org.jboss.jandex.AnnotationTarget.Kind.CLASS;\n                }\n    \n                @Override\n                public void transform(final TransformationContext context) {\n                    if (&quot;io.quarkus.redis.datasource.value.ValueCommands&quot;\n                            .equals(context.getTarget().asClass().name().toString())) {\n                        List&lt;MethodInfo&gt; methods = context.getTarget().asClass().methods();\n                        AnnotationInstance annot = AnnotationInstance.builder(DotName.createSimple(\n                                &quot;io.opentelemetry.instrumentation.annotations.WithSpan&quot;)).build();\n                        methods.forEach(t -&gt; t.annotations()\n                                .add(annot));\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>I want to add the WithSpan annotation to all the methods on the Redis ValueCommands class whenever called. Does this work only when the class is injected? I tried with RedisDataSource which is injected but couldn't get it to work. Is there anything else I need to setup/configure?</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1695408270,"post_id":77158330,"comment_id":136025483,"body_markdown":"Try `java -p jar/b.jar C`. You should get an error.","body":"Try <code>java -p jar&#47;b.jar C</code>. You should get an error."},{"owner":{"account_id":20689060,"reputation":130,"user_id":15190838,"display_name":"Grzegorz Wilanowski"},"score":0,"creation_date":1695621825,"post_id":77158330,"comment_id":136043561,"body_markdown":"Yes, the error says &quot;package b is declared in module b, which is not in the module graph&quot;","body":"Yes, the error says &quot;package b is declared in module b, which is not in the module graph&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695429415,"creation_date":1695395395,"answer_id":77158825,"question_id":77158330,"body_markdown":"Firstly, as far as I can see, you didn&#39;t explicitly put `C` in a module. It is therefore in the &quot;[unnamed module][1]&quot;. The unnamed module can read every observable module.\r\n\r\n&gt; An unnamed module reads every observable module\r\n\r\nIt is designed this way so that old, non-modular code can still interact with new code.\r\n\r\nSecondly, `B` is also in the unnamed module when you run `C`. This is because you put b.jar into the classpath, not the module path (`--module-path`). In the modular world, you should use the module path to specify where the dependencies are, not the classpath.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5","title":"Java module encapsulation demo","body":"<p>Firstly, as far as I can see, you didn't explicitly put <code>C</code> in a module. It is therefore in the &quot;<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5\" rel=\"nofollow noreferrer\">unnamed module</a>&quot;. The unnamed module can read every observable module.</p>\n<blockquote>\n<p>An unnamed module reads every observable module</p>\n</blockquote>\n<p>It is designed this way so that old, non-modular code can still interact with new code.</p>\n<p>Secondly, <code>B</code> is also in the unnamed module when you run <code>C</code>. This is because you put b.jar into the classpath, not the module path (<code>--module-path</code>). In the modular world, you should use the module path to specify where the dependencies are, not the classpath.</p>\n"}],"owner":{"account_id":20689060,"reputation":130,"user_id":15190838,"display_name":"Grzegorz Wilanowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77158825,"answer_count":1,"score":0,"last_activity_date":1695429415,"creation_date":1695391502,"question_id":77158330,"body_markdown":"I try to create a demo to illustrate module encapsulation.\r\nI have 2 classes a.A and b.B in separate modules.\r\nmodule a requires b, and b is exported to a\r\n\r\n```\r\npackage a;\r\nimport b.B;\r\nclass A{\r\n\tpublic static void main(String[] args){\r\n\t\tB b = new B();\r\n\t}\r\n}\r\npackage b;\r\npublic class B{\r\n\tpublic B(){\r\n\t\tSystem.out.println(&quot;B created&quot;);\r\n\t}\r\n}\r\nmodule a {\r\n  requires b;\r\n}\r\nmodule b {\r\n  exports b to a;\r\n}\r\n```\r\n\r\n``` \r\nclass\r\njar\r\nsrc\r\n    a\r\n       module-info.java\r\n       a\r\n           A.java\r\n    b\r\n       module-info.java\r\n       b\r\n           B.java\r\n ```\r\nIt works\r\n```\r\n&gt;javac -d class --module-source-path src -m a\r\n&gt;jar -c -f jar/a.jar -e a.A -C class/a .\r\n&gt;jar -c -f jar/b.jar  -C class/b .\r\n&gt;java -p jar -m a\r\nB created\r\n ```\r\n\r\nHowever, why I am able to access b.B from some other class in package default\r\n``` \r\nimport b.B;\r\nclass C{\r\n\tpublic static void main(String[] a){\r\n\t\tB b = new B();\t\r\n\t}\r\n} \r\n```\r\n```\r\n&gt;javac -cp &quot;.;jar/b.jar&quot; C.java\r\n&gt;java -cp &quot;.;jar/b.jar&quot; C\r\nB created\r\n```\r\n\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\n\r\n\r\n","title":"Java module encapsulation demo","body":"<p>I try to create a demo to illustrate module encapsulation.\nI have 2 classes a.A and b.B in separate modules.\nmodule a requires b, and b is exported to a</p>\n<pre><code>package a;\nimport b.B;\nclass A{\n    public static void main(String[] args){\n        B b = new B();\n    }\n}\npackage b;\npublic class B{\n    public B(){\n        System.out.println(&quot;B created&quot;);\n    }\n}\nmodule a {\n  requires b;\n}\nmodule b {\n  exports b to a;\n}\n</code></pre>\n<pre><code>class\njar\nsrc\n    a\n       module-info.java\n       a\n           A.java\n    b\n       module-info.java\n       b\n           B.java\n</code></pre>\n<p>It works</p>\n<pre><code>&gt;javac -d class --module-source-path src -m a\n&gt;jar -c -f jar/a.jar -e a.A -C class/a .\n&gt;jar -c -f jar/b.jar  -C class/b .\n&gt;java -p jar -m a\nB created\n</code></pre>\n<p>However, why I am able to access b.B from some other class in package default</p>\n<pre><code>import b.B;\nclass C{\n    public static void main(String[] a){\n        B b = new B();  \n    }\n} \n</code></pre>\n<pre><code>&gt;javac -cp &quot;.;jar/b.jar&quot; C.java\n&gt;java -cp &quot;.;jar/b.jar&quot; C\nB created\n</code></pre>\n<p>openjdk version &quot;17.0.1&quot; 2021-10-19</p>\n"},{"tags":["java","parsing","javacc","javaparser","javac-compiler-plugin"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1695428480,"post_id":77160782,"comment_id":136027783,"body_markdown":"Your patterns, looking for blanks and carriage returns, appear to be mixing tokenization and parsing.  These should be two distinct steps, and should not be mixed... that way lies madness.","body":"Your patterns, looking for blanks and carriage returns, appear to be mixing tokenization and parsing.  These should be two distinct steps, and should not be mixed... that way lies madness."},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695467384,"post_id":77160782,"comment_id":136030321,"body_markdown":"I can imagine what you mean but could you be more precise? Are you referring to removing any quoted tokens, so. &quot;\\n&quot;, or &quot; &quot; should be removed? I agree and I am just learning that","body":"I can imagine what you mean but could you be more precise? Are you referring to removing any quoted tokens, so. &quot;\\n&quot;, or &quot; &quot; should be removed? I agree and I am just learning that"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1695495854,"post_id":77160782,"comment_id":136033266,"body_markdown":"No, what you are trying to accomplish requires a 2-step approach. The tokenizer splits up the input into meaningful bits called &quot;tokens&quot; ignoring anything that doesn&#39;t carry any syntactic information, like non-significant whitespace.  Then the parser can deal only with &quot;interesting&quot; stuff. You need to read up on parsing theory.","body":"No, what you are trying to accomplish requires a 2-step approach. The tokenizer splits up the input into meaningful bits called &quot;tokens&quot; ignoring anything that doesn&#39;t carry any syntactic information, like non-significant whitespace.  Then the parser can deal only with &quot;interesting&quot; stuff. You need to read up on parsing theory."},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695501534,"post_id":77160782,"comment_id":136033756,"body_markdown":"I have SKIP TOKENS defined and that is just a pattern that somehow requires me to add these tokens. Anyway, anything concrete regarding my question and I will high five with you","body":"I have SKIP TOKENS defined and that is just a pattern that somehow requires me to add these tokens. Anyway, anything concrete regarding my question and I will high five with you"},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695502360,"post_id":77160782,"comment_id":136033833,"body_markdown":"I think I got what you mean now... let me try something and let you know if I have solved this with your hint","body":"I think I got what you mean now... let me try something and let you know if I have solved this with your hint"},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695505578,"post_id":77160782,"comment_id":136034113,"body_markdown":"Alright, you pointed me into the right direction. That is perfect, thanks a lot","body":"Alright, you pointed me into the right direction. That is perfect, thanks a lot"}],"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695428339,"creation_date":1695418492,"question_id":77160782,"body_markdown":"I have defined the following pattern in JAVACC:\r\n\r\n```\r\n| &lt; CONFIGURATION_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\r\n| &lt; CONFIGURATION_SUB_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt; | &lt;BOOLEAN&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\r\n```\r\nThen, I have a file which gets parsed as expected but when it gets to the following lines it throws me an error:\r\n\r\n*The lines\r\n\r\n    CONFIGURATION (\r\n        INSERTVALUE = 200\r\n        PROPERTIES ( \r\n            MOVETABLE = false,\r\n            DOWRITE = true\r\n        )\r\n    )\r\n\r\nthrowing the error:\r\n\r\n```\r\nParse error: Encountered &quot; &quot;(&quot; &quot;( &quot;&quot; at line 25, column 29.\r\nWas expecting one of:\r\n    &quot;SOMETOKEN&quot; ...\r\n    &quot;SOMETOKEN2&quot; ...\r\n    &quot;SOMETOKEN3&quot; ...\r\n    &lt;SOME_PATTERN&gt; ...\r\n    &lt;SOME_PATTERN2&gt; ...\r\n```\r\n\r\nI have another file where the PROPERTIES part is not part of the file and the CONFIGURATION_PATTERN and CONFIGURATION_SUB_PATTERN are applied without errors.\r\n\r\nI tried to debug this but I do not get behind the error because I do not understand why it complains about the first &quot;(&quot; after CONFIGURATION.   \r\n\r\nI have tried removing the CONFIGURATION part and then the whole file gets parsed as expected. I tried to set the &quot;(&quot; and &quot;)&quot; explicitly but then it complains that it expected the pattern which is correct.\r\n\r\nI chatgpted the problem and ChatGPT tells me to apply a recursive pattern which I tried with the `CONFIGURATION_SUB_PATTERN`, so I put `(&lt;CONFIGURATION_PATTERN&gt; | &lt;CONFIGURATION_SUB_PATTERN&gt;)*`.\r\n\r\nBefore, I tried to set the pattern like below which looks ugly to me but should be correct:\r\n\r\n    &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ (&quot;(&quot; | &quot; = &quot;) ((&lt;LETTER&gt; | &lt;DIGIT&gt;)+ | ((&lt;LETTER&gt;)+ &quot;=&quot; (&lt;BOOLEAN&gt;)? (&quot;,&quot;)*)+ (&quot;)&quot;))* (&quot;\\n&quot;) (&quot; &quot;)*)+ (&quot; &quot;) &quot;)&quot;\r\n\r\nThanks and appreciate your help!\r\n        ","title":"JAVA CC Pattern Throws an Error on an Expected Token","body":"<p>I have defined the following pattern in JAVACC:</p>\n<pre><code>| &lt; CONFIGURATION_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\n| &lt; CONFIGURATION_SUB_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt; | &lt;BOOLEAN&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\n</code></pre>\n<p>Then, I have a file which gets parsed as expected but when it gets to the following lines it throws me an error:</p>\n<p>*The lines</p>\n<pre><code>CONFIGURATION (\n    INSERTVALUE = 200\n    PROPERTIES ( \n        MOVETABLE = false,\n        DOWRITE = true\n    )\n)\n</code></pre>\n<p>throwing the error:</p>\n<pre><code>Parse error: Encountered &quot; &quot;(&quot; &quot;( &quot;&quot; at line 25, column 29.\nWas expecting one of:\n    &quot;SOMETOKEN&quot; ...\n    &quot;SOMETOKEN2&quot; ...\n    &quot;SOMETOKEN3&quot; ...\n    &lt;SOME_PATTERN&gt; ...\n    &lt;SOME_PATTERN2&gt; ...\n</code></pre>\n<p>I have another file where the PROPERTIES part is not part of the file and the CONFIGURATION_PATTERN and CONFIGURATION_SUB_PATTERN are applied without errors.</p>\n<p>I tried to debug this but I do not get behind the error because I do not understand why it complains about the first &quot;(&quot; after CONFIGURATION.</p>\n<p>I have tried removing the CONFIGURATION part and then the whole file gets parsed as expected. I tried to set the &quot;(&quot; and &quot;)&quot; explicitly but then it complains that it expected the pattern which is correct.</p>\n<p>I chatgpted the problem and ChatGPT tells me to apply a recursive pattern which I tried with the <code>CONFIGURATION_SUB_PATTERN</code>, so I put <code>(&lt;CONFIGURATION_PATTERN&gt; | &lt;CONFIGURATION_SUB_PATTERN&gt;)*</code>.</p>\n<p>Before, I tried to set the pattern like below which looks ugly to me but should be correct:</p>\n<pre><code>&quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ (&quot;(&quot; | &quot; = &quot;) ((&lt;LETTER&gt; | &lt;DIGIT&gt;)+ | ((&lt;LETTER&gt;)+ &quot;=&quot; (&lt;BOOLEAN&gt;)? (&quot;,&quot;)*)+ (&quot;)&quot;))* (&quot;\\n&quot;) (&quot; &quot;)*)+ (&quot; &quot;) &quot;)&quot;\n</code></pre>\n<p>Thanks and appreciate your help!</p>\n"},{"tags":["java","asynchronous","reactive-programming","nio","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695426326,"creation_date":1695426326,"answer_id":77161137,"question_id":74734069,"body_markdown":"Upon starting, the asynchronous http client starts one or more threads. Some of them will be blocked waiting for data, but they are internal to the client, so none of the threads *created by the user* will be blocked.\r\n\r\nThe mechanism is less primitive than just starting a thread per request though: there is a way to multiplex many sockets onto one object (&quot;selector&quot;) and do a blocking wait for any of the sockets to become ready for reading or writing: this way, the (internal) thread is blocked, but since it is handling many sockets at once, it is not blocked by any one of them. Maybe this also contributes to the &quot;without blocking&quot; metaphor.","title":"How is Apache NIO HttpAsyncClient performing non-blocking HTTP Client","body":"<p>Upon starting, the asynchronous http client starts one or more threads. Some of them will be blocked waiting for data, but they are internal to the client, so none of the threads <em>created by the user</em> will be blocked.</p>\n<p>The mechanism is less primitive than just starting a thread per request though: there is a way to multiplex many sockets onto one object (&quot;selector&quot;) and do a blocking wait for any of the sockets to become ready for reading or writing: this way, the (internal) thread is blocked, but since it is handling many sockets at once, it is not blocked by any one of them. Maybe this also contributes to the &quot;without blocking&quot; metaphor.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695426326,"creation_date":1670520263,"question_id":74734069,"body_markdown":"How is Apache NIO HttpAsyncClient able to wait for a remote response **without blocking any thread**? Does it have a way to setup a callback with the OS (I doubt so?). Otherwise does it perform some sort of polling? ","title":"How is Apache NIO HttpAsyncClient performing non-blocking HTTP Client","body":"<p>How is Apache NIO HttpAsyncClient able to wait for a remote response <strong>without blocking any thread</strong>? Does it have a way to setup a callback with the OS (I doubt so?). Otherwise does it perform some sort of polling?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1695326674,"post_id":77150849,"comment_id":136013325,"body_markdown":"is there something hard to understand about the official migration docs in the official spring security documentation located on their webpage?","body":"is there something hard to understand about the official migration docs in the official spring security documentation located on their webpage?"},{"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"score":0,"creation_date":1695425568,"post_id":77150849,"comment_id":136027599,"body_markdown":"Hi, what I was not sure of was whether we had to chain calls such as:\n```\nrequest.requestMatchers(&quot;/pattern&quot;).permitAll();\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\n```\nor whether we had to make the calls separately","body":"Hi, what I was not sure of was whether we had to chain calls such as: ``` request.requestMatchers(&quot;/pattern&quot;).permitAll(); request.requestMatchers(&quot;/api/**&quot;).authenticated(); ``` or whether we had to make the calls separately"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695308951,"creation_date":1695308951,"answer_id":77151517,"question_id":77150849,"body_markdown":"Here on Stackoverflow are a lot of articles about this topic: **HOW TO**\r\n but I always suggest to check documentation:\r\nYou should read these resources first of all:\r\n[Migration Guide][1] , [Configuration Migrations][2]\r\n\r\nIn this case the `filterChain` will have next one body:\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(configuration -&gt; configuration.configurationSource(corsConfigurationSource()));\r\n    \r\n        http.authorizeHttpRequests(request -&gt; {\r\n              request.requestMatchers(&quot;/pattern&quot;).permitAll();\r\n              request.requestMatchers(&quot;/api/**&quot;).authenticated();\r\n              request.anyRequest().authenticated();\r\n            })\r\n        http.addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), \r\n            UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n      }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/index.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>Here on Stackoverflow are a lot of articles about this topic: <strong>HOW TO</strong>\nbut I always suggest to check documentation:\nYou should read these resources first of all:\n<a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/index.html\" rel=\"nofollow noreferrer\">Migration Guide</a> , <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Configuration Migrations</a></p>\n<p>In this case the <code>filterChain</code> will have next one body:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf(AbstractHttpConfigurer::disable);\n    http.cors(configuration -&gt; configuration.configurationSource(corsConfigurationSource()));\n\n    http.authorizeHttpRequests(request -&gt; {\n          request.requestMatchers(&quot;/pattern&quot;).permitAll();\n          request.requestMatchers(&quot;/api/**&quot;).authenticated();\n          request.anyRequest().authenticated();\n        })\n    http.addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), \n        UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695425609,"creation_date":1695425609,"answer_id":77161113,"question_id":77150849,"body_markdown":"As Andrei Lisa pointed out:\r\n```\r\nrequest.requestMatchers(&quot;/pattern&quot;).permitAll();\r\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\r\nrequest.anyRequest().authenticated();\r\n```\r\nIs the correct way to do this.","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>As Andrei Lisa pointed out:</p>\n<pre><code>request.requestMatchers(&quot;/pattern&quot;).permitAll();\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\nrequest.anyRequest().authenticated();\n</code></pre>\n<p>Is the correct way to do this.</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77151517,"answer_count":2,"score":-2,"last_activity_date":1695425609,"creation_date":1695303820,"question_id":77150849,"body_markdown":"I am moving to Spring framework 6 and I have the following spring framework 2 code:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                // Per https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints stateless\r\n                // should be fine. CSRF is not required for API-only services\r\n//                .csrf().disable() // this was in sprint 2.7\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n                .cors().configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .authorizeHttpRequests()\r\n//                .authorizeRequests()\r\n                .antMatchers(&quot;**/&quot;).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                //.anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\n\r\nI figured out how to move &#39;.csrf()&#39; but I am having trouble moving .cors() and &#39;.authorizeHttpRequests()&#39;. Does anyone know how to migrate those (or have an example)? I am trying to use https://www.baeldung.com/spring-cors but that is srping 5 not 6 and I have tried other research but most references are spring 5 or below ...","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>I am moving to Spring framework 6 and I have the following spring framework 2 code:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                // Per https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints stateless\n                // should be fine. CSRF is not required for API-only services\n//                .csrf().disable() // this was in sprint 2.7\n                .csrf((csrf) -&gt; csrf.disable())\n                .cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeHttpRequests()\n//                .authorizeRequests()\n                .antMatchers(&quot;**/&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n                //.anyRequest().authenticated()\n                .and()\n                .addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>I figured out how to move '.csrf()' but I am having trouble moving .cors() and '.authorizeHttpRequests()'. Does anyone know how to migrate those (or have an example)? I am trying to use <a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cors</a> but that is srping 5 not 6 and I have tried other research but most references are spring 5 or below ...</p>\n"},{"tags":["python","java","tabula","tabula-py"],"owner":{"account_id":15917882,"reputation":320,"user_id":11485896,"display_name":"Soren V. Raben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1695503635,"answer_count":0,"score":2,"last_activity_date":1695424004,"creation_date":1694526642,"question_id":77089769,"body_markdown":"I&#39;m unsuccessfully trying to read a PDF in Python using `tabula-py`. I installed Java (both `jre-1.8` and `jdk-20`), set up `JAVA_HOME` path (`C:\\Program Files\\Java\\jre-1.8\\bin` in my case; I also added it to `Path`) and still cannot run `read_pdf` method. Code:\r\n```python\r\nimport pandas as pd\r\n\r\nfrom tabula import read_pdf\r\nfrom tabulate import tabulate\r\n\r\nfile_name: str = &quot;to_tabulate.pdf&quot;\r\n\r\ndf = read_pdf(file_name)\r\n\r\nprint(tabulate(df))\r\n```\r\nOutput (shortened):\r\n```python\r\nException                                 Traceback (most recent call last)\r\nFile org.jpype.JPypeContext.java:-1, in org.jpype.JPypeContext.callMethod()\r\n\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\njava.lang.ClassNotFoundException          Traceback (most recent call last)\r\n```\r\n...\r\n```python\r\njava.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache\r\n\r\nThe above exception was the direct cause of the following exception:\r\n```\r\n...\r\n```python\r\nImportError: Failed to import &#39;org.apache&#39;\r\n```\r\n\r\nI can&#39;t find any solution for this particular problem and have absolutely no guess what causes this issue (I don&#39;t have any experience in Java and still considering myself as beginner in Python). The only interesting (let&#39;s say) thing I noticed is that in the traceback there&#39;s no mention of `org.apache` subclass (like e.g. `commons`) but just `apache` in general.\r\n\r\nHas anyone encountered such problem before? Are there any solutions? Any help would be highly appreciated.\r\n\r\nI use Windows 11 Pro 22H2 22621.2134, Python 3.11.1 and `tabula-py` 2.8.1.","title":"tabula-py: java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache","body":"<p>I'm unsuccessfully trying to read a PDF in Python using <code>tabula-py</code>. I installed Java (both <code>jre-1.8</code> and <code>jdk-20</code>), set up <code>JAVA_HOME</code> path (<code>C:\\Program Files\\Java\\jre-1.8\\bin</code> in my case; I also added it to <code>Path</code>) and still cannot run <code>read_pdf</code> method. Code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\nfrom tabula import read_pdf\nfrom tabulate import tabulate\n\nfile_name: str = &quot;to_tabulate.pdf&quot;\n\ndf = read_pdf(file_name)\n\nprint(tabulate(df))\n</code></pre>\n<p>Output (shortened):</p>\n<pre class=\"lang-py prettyprint-override\"><code>Exception                                 Traceback (most recent call last)\nFile org.jpype.JPypeContext.java:-1, in org.jpype.JPypeContext.callMethod()\n\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\njava.lang.ClassNotFoundException          Traceback (most recent call last)\n</code></pre>\n<p>...</p>\n<pre class=\"lang-py prettyprint-override\"><code>java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache\n\nThe above exception was the direct cause of the following exception:\n</code></pre>\n<p>...</p>\n<pre class=\"lang-py prettyprint-override\"><code>ImportError: Failed to import 'org.apache'\n</code></pre>\n<p>I can't find any solution for this particular problem and have absolutely no guess what causes this issue (I don't have any experience in Java and still considering myself as beginner in Python). The only interesting (let's say) thing I noticed is that in the traceback there's no mention of <code>org.apache</code> subclass (like e.g. <code>commons</code>) but just <code>apache</code> in general.</p>\n<p>Has anyone encountered such problem before? Are there any solutions? Any help would be highly appreciated.</p>\n<p>I use Windows 11 Pro 22H2 22621.2134, Python 3.11.1 and <code>tabula-py</code> 2.8.1.</p>\n"},{"tags":["java","shutdown"],"answers":[{"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695423657,"creation_date":1585934125,"answer_id":61017083,"question_id":61017025,"body_markdown":"You need to respond to the [`WM_QUERYENDSESSION`](https://learn.microsoft.com/en-us/windows/win32/shutdown/wm-queryendsession) message and return 0.\r\n\r\nYou can do it with [JNA](https://stackoverflow.com/questions/4901609/how-to-handle-wm-queryendsession-messages-with-jna).\r\n\r\nAnother example here: https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java\r\n\r\n```\r\npackage org.jdownloader.osevents.windows.jna;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport org.appwork.utils.swing.windowmanager.WindowManager;\r\nimport org.appwork.utils.swing.windowmanager.WindowManager.FrameState;\r\n\r\nimport com.sun.jna.Callback;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.platform.win32.User32;\r\nimport com.sun.jna.platform.win32.WinDef;\r\nimport com.sun.jna.platform.win32.WinDef.DWORD;\r\nimport com.sun.jna.platform.win32.WinDef.HWND;\r\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\r\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\r\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\r\nimport com.sun.jna.platform.win32.WinUser;\r\n\r\npublic class ShutdownDetect {\r\n    /**\r\n     * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa376889.aspx&quot;&gt;WM_ENDSESSION reference&lt;/a&gt;\r\n     */\r\n    public static final int WM_ENDSESSION      = 0x16;\r\n    public static final int WM_QUERYENDSESSION = 0x11;\r\n\r\n    public interface IShutdownListener {\r\n        void onShutdown();\r\n    }\r\n\r\n    public static class CWPSSTRUCT extends Structure {\r\n        public LPARAM lParam;\r\n        public WPARAM wParam;\r\n        public DWORD  message;\r\n        public HWND   hwnd;\r\n\r\n        @Override\r\n        protected List getFieldOrder() {\r\n            return Arrays.asList(new String[] { &quot;lParam&quot;, &quot;wParam&quot;, &quot;message&quot;, &quot;hwnd&quot; });\r\n        }\r\n    }\r\n\r\n    public interface WinHookProc extends WinUser.HOOKPROC {\r\n        /**\r\n         * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/windows/desktop/ms644975(v=vs.85).aspx&quot;&gt;CallWndProc callback function&lt;/a&gt;\r\n         * @param nCode\r\n         *            is an action parameter. anything less than zero indicates I should ignore this call.\r\n         * @param wParam\r\n         *            Specifies whether the message was sent by the current thread. If the message was sent by the current thread, it is\r\n         *            nonzero; otherwise, it is zero\r\n         * @param hookProcStruct\r\n         *            A pointer to a CWPSTRUCT structure that contains details about the message.\r\n         * @return If nCode is less than zero, the hook procedure must return the value returned by CallNextHookEx.\r\n         */\r\n        WinDef.LRESULT callback(int nCode, WinDef.WPARAM wParam, CWPSSTRUCT hookProcStruct);\r\n    }\r\n\r\n    public static final class MyHookProc implements WinHookProc {\r\n        public IShutdownListener listener;\r\n        public WinUser.HHOOK     hhook;\r\n\r\n        @Override\r\n        public LRESULT callback(int nCode, WPARAM wParam, CWPSSTRUCT hookProcStruct) {\r\n            if (nCode &gt;= 0) {\r\n                System.out.println(hookProcStruct.message);\r\n                // tell the OS it&#39;s OK to shut down\r\n                if (hookProcStruct.message.longValue() == WM_QUERYENDSESSION) {\r\n                    System.out.println(&quot;WM_QUERYENDSESSION&quot;);\r\n                    return new LRESULT(1);\r\n                }\r\n                // process the actual shutting down message\r\n                if (hookProcStruct.message.longValue() == WM_ENDSESSION) {\r\n                    System.out.println(&quot;WM_ENDSESSION&quot;);\r\n                    listener.onShutdown();\r\n                    return new LRESULT(0); // return success\r\n                }\r\n            }\r\n            // pass the callback on to the next hook in the chain\r\n            return User32.INSTANCE.CallNextHookEx(hhook, nCode, wParam, hookProcStruct.getPointer());\r\n        }\r\n    }\r\n\r\n    public static void register(JFrame frame, final IShutdownListener listener) {\r\n        Native.setCallbackExceptionHandler(new Callback.UncaughtExceptionHandler() {\r\n            @Override\r\n            public void uncaughtException(Callback arg0, Throwable arg1) {\r\n                arg1.printStackTrace();\r\n            }\r\n        });\r\n\r\n        // get the window handle for the main window/frame\r\n        final HWND hwnd = new HWND();\r\n        hwnd.setPointer(Native.getComponentPointer(frame));\r\n\r\n        // clear the error value\r\n        Native.setLastError(0);\r\n\r\n        // retrieve the threadID associated with the main window/frame\r\n        int windowThreadID = User32.INSTANCE.GetWindowThreadProcessId(hwnd, null);\r\n        if (windowThreadID == 0) {\r\n            int x = Native.getLastError();\r\n            throw new IllegalStateException(&quot;error calling GetWindowThreadProcessId when installing machine-shutdown handler &quot; + x);\r\n        }\r\n\r\n        // clear the error value\r\n        Native.setLastError(0);\r\n\r\n        final MyHookProc proc = new MyHookProc();\r\n        proc.listener = listener;\r\n        proc.hhook = User32.INSTANCE.SetWindowsHookEx(4/* WH_CALLWNDPROCRET */, new MyHookProc(), null, windowThreadID/* dwThreadID */);\r\n\r\n        // null indicates failure\r\n        if (proc.hhook == null) {\r\n            int x = Native.getLastError();\r\n            throw new IllegalStateException(&quot;error calling SetWindowsHookEx when installing machine-shutdown handler &quot; + x);\r\n        }\r\n        System.out.println(&quot;Installed shutdown-detect hook procedure&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        WindowManager.getInstance().setVisible(frame, true,FrameState.OS_DEFAULT);\r\n\r\n        // register(frame, new IShutdownListener() {\r\n        // @Override\r\n        // public void onShutdown() {\r\n        // try {\r\n        // File file;\r\n        // PrintStream out = new PrintStream(file = new File(&quot;C:/shutdownTest.txt&quot;));\r\n        // System.out.println(&quot;shutting down&quot;);\r\n        // out.println(&quot;shutting down&quot;);\r\n        // out.close();\r\n        // } catch (IOException ex) {\r\n        // }\r\n        // System.exit(1);\r\n        // }\r\n        // });\r\n    }\r\n}\r\n```","title":"Java Stop Windows Shutdown","body":"<p>You need to respond to the <a href=\"https://learn.microsoft.com/en-us/windows/win32/shutdown/wm-queryendsession\" rel=\"nofollow noreferrer\"><code>WM_QUERYENDSESSION</code></a> message and return 0.</p>\n<p>You can do it with <a href=\"https://stackoverflow.com/questions/4901609/how-to-handle-wm-queryendsession-messages-with-jna\">JNA</a>.</p>\n<p>Another example here: <a href=\"https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java\" rel=\"nofollow noreferrer\">https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java</a></p>\n<pre><code>package org.jdownloader.osevents.windows.jna;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.swing.JFrame;\n\nimport org.appwork.utils.swing.windowmanager.WindowManager;\nimport org.appwork.utils.swing.windowmanager.WindowManager.FrameState;\n\nimport com.sun.jna.Callback;\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinDef;\nimport com.sun.jna.platform.win32.WinDef.DWORD;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\nimport com.sun.jna.platform.win32.WinUser;\n\npublic class ShutdownDetect {\n    /**\n     * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa376889.aspx&quot;&gt;WM_ENDSESSION reference&lt;/a&gt;\n     */\n    public static final int WM_ENDSESSION      = 0x16;\n    public static final int WM_QUERYENDSESSION = 0x11;\n\n    public interface IShutdownListener {\n        void onShutdown();\n    }\n\n    public static class CWPSSTRUCT extends Structure {\n        public LPARAM lParam;\n        public WPARAM wParam;\n        public DWORD  message;\n        public HWND   hwnd;\n\n        @Override\n        protected List getFieldOrder() {\n            return Arrays.asList(new String[] { &quot;lParam&quot;, &quot;wParam&quot;, &quot;message&quot;, &quot;hwnd&quot; });\n        }\n    }\n\n    public interface WinHookProc extends WinUser.HOOKPROC {\n        /**\n         * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/windows/desktop/ms644975(v=vs.85).aspx&quot;&gt;CallWndProc callback function&lt;/a&gt;\n         * @param nCode\n         *            is an action parameter. anything less than zero indicates I should ignore this call.\n         * @param wParam\n         *            Specifies whether the message was sent by the current thread. If the message was sent by the current thread, it is\n         *            nonzero; otherwise, it is zero\n         * @param hookProcStruct\n         *            A pointer to a CWPSTRUCT structure that contains details about the message.\n         * @return If nCode is less than zero, the hook procedure must return the value returned by CallNextHookEx.\n         */\n        WinDef.LRESULT callback(int nCode, WinDef.WPARAM wParam, CWPSSTRUCT hookProcStruct);\n    }\n\n    public static final class MyHookProc implements WinHookProc {\n        public IShutdownListener listener;\n        public WinUser.HHOOK     hhook;\n\n        @Override\n        public LRESULT callback(int nCode, WPARAM wParam, CWPSSTRUCT hookProcStruct) {\n            if (nCode &gt;= 0) {\n                System.out.println(hookProcStruct.message);\n                // tell the OS it's OK to shut down\n                if (hookProcStruct.message.longValue() == WM_QUERYENDSESSION) {\n                    System.out.println(&quot;WM_QUERYENDSESSION&quot;);\n                    return new LRESULT(1);\n                }\n                // process the actual shutting down message\n                if (hookProcStruct.message.longValue() == WM_ENDSESSION) {\n                    System.out.println(&quot;WM_ENDSESSION&quot;);\n                    listener.onShutdown();\n                    return new LRESULT(0); // return success\n                }\n            }\n            // pass the callback on to the next hook in the chain\n            return User32.INSTANCE.CallNextHookEx(hhook, nCode, wParam, hookProcStruct.getPointer());\n        }\n    }\n\n    public static void register(JFrame frame, final IShutdownListener listener) {\n        Native.setCallbackExceptionHandler(new Callback.UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Callback arg0, Throwable arg1) {\n                arg1.printStackTrace();\n            }\n        });\n\n        // get the window handle for the main window/frame\n        final HWND hwnd = new HWND();\n        hwnd.setPointer(Native.getComponentPointer(frame));\n\n        // clear the error value\n        Native.setLastError(0);\n\n        // retrieve the threadID associated with the main window/frame\n        int windowThreadID = User32.INSTANCE.GetWindowThreadProcessId(hwnd, null);\n        if (windowThreadID == 0) {\n            int x = Native.getLastError();\n            throw new IllegalStateException(&quot;error calling GetWindowThreadProcessId when installing machine-shutdown handler &quot; + x);\n        }\n\n        // clear the error value\n        Native.setLastError(0);\n\n        final MyHookProc proc = new MyHookProc();\n        proc.listener = listener;\n        proc.hhook = User32.INSTANCE.SetWindowsHookEx(4/* WH_CALLWNDPROCRET */, new MyHookProc(), null, windowThreadID/* dwThreadID */);\n\n        // null indicates failure\n        if (proc.hhook == null) {\n            int x = Native.getLastError();\n            throw new IllegalStateException(&quot;error calling SetWindowsHookEx when installing machine-shutdown handler &quot; + x);\n        }\n        System.out.println(&quot;Installed shutdown-detect hook procedure&quot;);\n    }\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        WindowManager.getInstance().setVisible(frame, true,FrameState.OS_DEFAULT);\n\n        // register(frame, new IShutdownListener() {\n        // @Override\n        // public void onShutdown() {\n        // try {\n        // File file;\n        // PrintStream out = new PrintStream(file = new File(&quot;C:/shutdownTest.txt&quot;));\n        // System.out.println(&quot;shutting down&quot;);\n        // out.println(&quot;shutting down&quot;);\n        // out.close();\n        // } catch (IOException ex) {\n        // }\n        // System.exit(1);\n        // }\n        // });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7636331,"reputation":53,"user_id":5789789,"display_name":"Kajisensi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676974955,"creation_date":1676968192,"answer_id":75517931,"question_id":61017025,"body_markdown":"After battling with this problem few weeks and finally solving it i wanted to share the code here. Here is minimal example using java 1.8 and JNA 5.13.0 (also platform).\r\n\r\nTIP: I had problem using this code first (unsatisfied links). I discovered i had library (jar file) on my JDK which had older JNA in it. Make sure you only have 1 version of JNA in your project.\r\n\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.WinDef.*;\r\n    import com.sun.jna.platform.win32.WinUser;\r\n    import com.sun.jna.platform.win32.WinUser.*;\r\n    import com.sun.jna.win32.W32APIOptions;\r\n    import com.sun.jna.platform.win32.User32;\r\n\r\n    public class RealShutdownBlocker {\r\n\tprivate static final int WM_QUERYENDSESSION = 0x0011;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tUser32 user32 = Native.loadLibrary(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n\t\t\tWindowProc callback = new WindowProc() {\r\n\t\t\t\tpublic LRESULT callback(HWND hWnd, int message, WPARAM wParam, LPARAM lParam) {\r\n\t\t\t\t\tif (message == WM_QUERYENDSESSION) {\r\n\t\t\t\t\t\treturn new LRESULT(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user32.DefWindowProc(hWnd, message, wParam, lParam);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tWNDCLASSEX windowClass = new WNDCLASSEX();\r\n\t\t\twindowClass.hInstance = null;\r\n\t\t\twindowClass.lpszClassName = &quot;BlockShutdown&quot;;\r\n\t\t\twindowClass.lpfnWndProc = callback;\r\n\t\t\tuser32.RegisterClassEx(windowClass);\r\n\r\n\t\t\tHWND hwnd = user32.CreateWindowEx(0, &quot;BlockShutdown&quot;, &quot;This prevents windows shutdown&quot;, WinUser.WS_OVERLAPPEDWINDOW, 100, 100, 640,\r\n\t\t\t\t\t480, null, null, null, null);\r\n\r\n            // needs to be SW_SHOW for this to work\r\n\t\t\tuser32.ShowWindow(hwnd, WinUser.SW_SHOW);\r\n\r\n\t\t\tMSG msg = new MSG();\r\n\t\t\twhile (user32.GetMessage(msg, null, 0, 0) != 0) {\r\n\t\t\t\tuser32.TranslateMessage(msg);\r\n\t\t\t\tuser32.DispatchMessage(msg);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\r\nEDIT: No need for kernel32. Deleted it.","title":"Java Stop Windows Shutdown","body":"<p>After battling with this problem few weeks and finally solving it i wanted to share the code here. Here is minimal example using java 1.8 and JNA 5.13.0 (also platform).</p>\n<p>TIP: I had problem using this code first (unsatisfied links). I discovered i had library (jar file) on my JDK which had older JNA in it. Make sure you only have 1 version of JNA in your project.</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.*;\nimport com.sun.jna.platform.win32.WinUser;\nimport com.sun.jna.platform.win32.WinUser.*;\nimport com.sun.jna.win32.W32APIOptions;\nimport com.sun.jna.platform.win32.User32;\n\npublic class RealShutdownBlocker {\nprivate static final int WM_QUERYENDSESSION = 0x0011;\n\n    public static void main(String[] args) {\n        User32 user32 = Native.loadLibrary(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\n\n        WindowProc callback = new WindowProc() {\n            public LRESULT callback(HWND hWnd, int message, WPARAM wParam, LPARAM lParam) {\n                if (message == WM_QUERYENDSESSION) {\n                    return new LRESULT(0);\n                }\n                return user32.DefWindowProc(hWnd, message, wParam, lParam);\n            }\n        };\n        \n        WNDCLASSEX windowClass = new WNDCLASSEX();\n        windowClass.hInstance = null;\n        windowClass.lpszClassName = &quot;BlockShutdown&quot;;\n        windowClass.lpfnWndProc = callback;\n        user32.RegisterClassEx(windowClass);\n\n        HWND hwnd = user32.CreateWindowEx(0, &quot;BlockShutdown&quot;, &quot;This prevents windows shutdown&quot;, WinUser.WS_OVERLAPPEDWINDOW, 100, 100, 640,\n                480, null, null, null, null);\n\n        // needs to be SW_SHOW for this to work\n        user32.ShowWindow(hwnd, WinUser.SW_SHOW);\n\n        MSG msg = new MSG();\n        while (user32.GetMessage(msg, null, 0, 0) != 0) {\n            user32.TranslateMessage(msg);\n            user32.DispatchMessage(msg);\n        }\n    }\n}\n</code></pre>\n<p>EDIT: No need for kernel32. Deleted it.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695420394,"creation_date":1695420394,"answer_id":77160887,"question_id":61017025,"body_markdown":"In newer JDK versions you can now use [Desktop::disableSuddenTermination][1] from the AWT API to prevent Windows logout / shutdown / restart. That&#39;ll make it return `FALSE` in response to the `WM_QUERYENDSESSION` message. See [awt_Toolkit.cpp][2] for implementation details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#disableSuddenTermination()\r\n  [2]: https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1314","title":"Java Stop Windows Shutdown","body":"<p>In newer JDK versions you can now use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#disableSuddenTermination()\" rel=\"nofollow noreferrer\">Desktop::disableSuddenTermination</a> from the AWT API to prevent Windows logout / shutdown / restart. That'll make it return <code>FALSE</code> in response to the <code>WM_QUERYENDSESSION</code> message. See <a href=\"https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1314\" rel=\"nofollow noreferrer\">awt_Toolkit.cpp</a> for implementation details.</p>\n"}],"owner":{"account_id":15772332,"reputation":33,"user_id":11381015,"display_name":"Mitch McCollum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":61017083,"answer_count":3,"score":0,"last_activity_date":1695423657,"creation_date":1585933927,"question_id":61017025,"body_markdown":"I have a odd problem. I want to detect when windows wants to shutdown and stop it from shutting down using java. I thought about using a shutdown hook and just run a command shutdown /a however it doesnt seem to be working.","title":"Java Stop Windows Shutdown","body":"<p>I have a odd problem. I want to detect when windows wants to shutdown and stop it from shutting down using java. I thought about using a shutdown hook and just run a command shutdown /a however it doesnt seem to be working.</p>\n"},{"tags":["java","winapi","jna"],"answers":[{"tags":[],"owner":{"account_id":1230683,"reputation":21,"user_id":1195359,"display_name":"The Vanguardian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328638086,"creation_date":1328638086,"answer_id":9181446,"question_id":4901609,"body_markdown":"Make sure you have the jar files for JNA in your environment.  Both jna.jar and platform.jar must be there, otherwise the reference will fail.  The other thing is, the dll files you use thru JNA must be in your environment (such as user32.dll) if you plan to load them.","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>Make sure you have the jar files for JNA in your environment.  Both jna.jar and platform.jar must be there, otherwise the reference will fail.  The other thing is, the dll files you use thru JNA must be in your environment (such as user32.dll) if you plan to load them.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422612,"creation_date":1695422612,"answer_id":77160995,"question_id":4901609,"body_markdown":"Still no public API in 2023, but setting a custom handler for `SIGTERM` via `sun.misc.Signal` does allow you to handle `WM_QUERYENDSESSION` messages with recent JDK releases:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>Still no public API in 2023, but setting a custom handler for <code>SIGTERM</code> via <code>sun.misc.Signal</code> does allow you to handle <code>WM_QUERYENDSESSION</code> messages with recent JDK releases:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":37410,"reputation":193,"user_id":106968,"display_name":"Nicu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3269,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695422612,"creation_date":1296844297,"question_id":4901609,"body_markdown":"I want to catch WM_QUERYENDSESSION messages in Java with JNA so that I can execute a shutdown method because Runtime#addShutdownHook(Thread) doesn&#39;t work on Windows [1]. I know this can be done since I&#39;ve seen it implemented with JNIWrapper but I would like to have a JNA-based solution.\r\n\r\nJNIWrapper solution\r\n\r\n\timport java.io.File;\r\n\timport java.io.RandomAccessFile;\r\n\r\n\timport javax.swing.JFrame;\r\n\r\n\timport com.jniwrapper.win32.Msg;\r\n\timport com.jniwrapper.win32.ui.WindowMessage;\r\n\timport com.jniwrapper.win32.ui.WindowMessageListener;\r\n\timport com.jniwrapper.win32.ui.WindowProc;\r\n\timport com.jniwrapper.win32.ui.Wnd;\r\n\r\n\tpublic class ShutdownJNIWrapper {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfinal JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setVisible(true);\r\n\t\t\t\r\n\t\t\tWnd frameHandle = new Wnd(frame);\r\n\t\t\tWindowProc frameWindowProc = new WindowProc(frameHandle);\r\n\t\t\tframeWindowProc.addMessageListener(new WindowMessageListener() {\r\n\t\t\t\tpublic boolean canHandle(WindowMessage windowMessage, boolean beforeWindowProc) {\r\n\t\t\t\t\treturn windowMessage.getMsg() == Msg.WM_QUERYENDSESSION &amp;&amp; beforeWindowProc;\r\n\t\t\t\t}\r\n\t\t\t \r\n\t\t\t\tpublic int handle(WindowMessage windowMessage) {\r\n\t\t\t\t\tdoSomething();\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tprivate void doSomething() {\r\n\t\t\t\t\tfinal File file = new File(&quot;shutdown-jniwrapper.txt&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tRandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;);\r\n\t\t\t\t\t\traf.writeUTF(&quot;quit&quot;);\r\n\t\t\t\t\t\traf.close();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tframeWindowProc.substitute();\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried to create my own User32 class with a WindowProc callback and a SetWindowLong method that accepts it as a parameter but I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function &#39;SetWindowLong&#39;: The specified procedure could not be found.\r\n\r\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:179)\r\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:344)\r\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:324)\r\n    at com.sun.jna.Library$Handler.invoke(Library.java:203)\r\n    at $Proxy0.SetWindowLong(Unknown Source)\r\n    at ShutdownJNA.main(ShutdownJNA.java:34)\r\n\r\nHere&#39;s my User32 class:\r\n\r\n\timport com.sun.jna.platform.win32.WinDef.HWND;\r\n\timport com.sun.jna.platform.win32.WinDef.LPARAM;\r\n\timport com.sun.jna.platform.win32.WinDef.LRESULT;\r\n\timport com.sun.jna.platform.win32.WinDef.WPARAM;\r\n\timport com.sun.jna.win32.StdCallLibrary;\r\n\r\n\tpublic interface MyUser32 extends StdCallLibrary { \r\n\t\t\r\n\t\tpublic static final int WM_QUERYENDSESSION = 0x11;\r\n\t\t\r\n\t\tpublic static int GWL_WNDPROC = -4;\r\n\r\n\t\tinterface WindowProc extends StdCallCallback {\r\n\t\t\tLRESULT callback(HWND hWnd, int uMsg, WPARAM wParam, LPARAM lParam);\r\n\t\t}\r\n\r\n\t\tint SetWindowLong(HWND hWnd, int nIndex, int dwNewLong);\r\n\t\t\r\n\t\tint SetWindowLong(HWND hWnd, int nIndex, WindowProc dwNewLong);\r\n\t};\r\n\r\nand the class that tries to put everything together:\r\n\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\r\n\timport com.sun.jna.Native;\r\n\timport com.sun.jna.platform.win32.WinDef.HWND;\r\n\timport com.sun.jna.platform.win32.WinDef.LPARAM;\r\n\timport com.sun.jna.platform.win32.WinDef.LRESULT;\r\n\timport com.sun.jna.platform.win32.WinDef.WPARAM;\r\n\r\n\r\n\tpublic class ShutdownJNA extends JPanel {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfinal JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setVisible(true);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tHWND hwnd = new HWND();\r\n\t\t\t\thwnd.setPointer(Native.getComponentPointer(frame));\r\n\t\t\t\t\r\n\t\t\t\tMyUser32.WindowProc proc = new MyUser32.WindowProc() {\r\n\t\t\t\t\tpublic LRESULT callback(HWND wnd, int msg, WPARAM param, LPARAM param2) {\r\n\t\t\t\t\t\tif (msg == MyUser32.WM_QUERYENDSESSION) {}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn new LRESULT(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tMyUser32 user32 = (MyUser32)Native.loadLibrary(&quot;user32&quot;, MyUser32.class); //$NON-NLS-1$\r\n\t\t\t\tuser32.SetWindowLong(hwnd, MyUser32.GWL_WNDPROC, proc);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n[1] https://stackoverflow.com/questions/1148295/the-shutdown-hook-isnt-executed-when-the-application-is-launched-using-javaw-exe","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>I want to catch WM_QUERYENDSESSION messages in Java with JNA so that I can execute a shutdown method because Runtime#addShutdownHook(Thread) doesn't work on Windows [1]. I know this can be done since I've seen it implemented with JNIWrapper but I would like to have a JNA-based solution.</p>\n\n<p>JNIWrapper solution</p>\n\n<pre><code>import java.io.File;\nimport java.io.RandomAccessFile;\n\nimport javax.swing.JFrame;\n\nimport com.jniwrapper.win32.Msg;\nimport com.jniwrapper.win32.ui.WindowMessage;\nimport com.jniwrapper.win32.ui.WindowMessageListener;\nimport com.jniwrapper.win32.ui.WindowProc;\nimport com.jniwrapper.win32.ui.Wnd;\n\npublic class ShutdownJNIWrapper {\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(\"Shutdown Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        Wnd frameHandle = new Wnd(frame);\n        WindowProc frameWindowProc = new WindowProc(frameHandle);\n        frameWindowProc.addMessageListener(new WindowMessageListener() {\n            public boolean canHandle(WindowMessage windowMessage, boolean beforeWindowProc) {\n                return windowMessage.getMsg() == Msg.WM_QUERYENDSESSION &amp;&amp; beforeWindowProc;\n            }\n\n            public int handle(WindowMessage windowMessage) {\n                doSomething();\n\n                return 0;\n            }\n\n            private void doSomething() {\n                final File file = new File(\"shutdown-jniwrapper.txt\");\n\n                try {\n                    RandomAccessFile raf = new RandomAccessFile(file, \"rw\");\n                    raf.writeUTF(\"quit\");\n                    raf.close();\n                } catch (Exception e) {\n                }\n            }\n        });\n        frameWindowProc.substitute();\n    }\n}\n</code></pre>\n\n<p>I tried to create my own User32 class with a WindowProc callback and a SetWindowLong method that accepts it as a parameter but I get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: Error looking up function 'SetWindowLong': The specified procedure could not be found.\n\nat com.sun.jna.Function.&lt;init&gt;(Function.java:179)\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:344)\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:324)\nat com.sun.jna.Library$Handler.invoke(Library.java:203)\nat $Proxy0.SetWindowLong(Unknown Source)\nat ShutdownJNA.main(ShutdownJNA.java:34)\n</code></pre>\n\n<p>Here's my User32 class:</p>\n\n<pre><code>import com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic interface MyUser32 extends StdCallLibrary { \n\n    public static final int WM_QUERYENDSESSION = 0x11;\n\n    public static int GWL_WNDPROC = -4;\n\n    interface WindowProc extends StdCallCallback {\n        LRESULT callback(HWND hWnd, int uMsg, WPARAM wParam, LPARAM lParam);\n    }\n\n    int SetWindowLong(HWND hWnd, int nIndex, int dwNewLong);\n\n    int SetWindowLong(HWND hWnd, int nIndex, WindowProc dwNewLong);\n};\n</code></pre>\n\n<p>and the class that tries to put everything together:</p>\n\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\n\n\npublic class ShutdownJNA extends JPanel {\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(\"Shutdown Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        try {\n            HWND hwnd = new HWND();\n            hwnd.setPointer(Native.getComponentPointer(frame));\n\n            MyUser32.WindowProc proc = new MyUser32.WindowProc() {\n                public LRESULT callback(HWND wnd, int msg, WPARAM param, LPARAM param2) {\n                    if (msg == MyUser32.WM_QUERYENDSESSION) {}\n\n                    return new LRESULT(0);\n                }\n            };\n\n            MyUser32 user32 = (MyUser32)Native.loadLibrary(\"user32\", MyUser32.class); //$NON-NLS-1$\n            user32.SetWindowLong(hwnd, MyUser32.GWL_WNDPROC, proc);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>[1] <a href=\"https://stackoverflow.com/questions/1148295/the-shutdown-hook-isnt-executed-when-the-application-is-launched-using-javaw-exe\">The shutdown hook isn&#39;t executed when the application is launched using javaw.exe</a></p>\n"},{"tags":["java","swing","operating-system"],"comments":[{"owner":{"account_id":1234,"reputation":27332,"user_id":1638,"accept_rate":44,"display_name":"mmattax"},"score":0,"creation_date":1221569786,"post_id":71842,"comment_id":7351,"body_markdown":"Are you using the shutdown hook from java.lang.runtime ?","body":"Are you using the shutdown hook from java.lang.runtime ?"}],"answers":[{"tags":[],"owner":{"account_id":4309,"reputation":7967,"user_id":6414,"accept_rate":57,"display_name":"Henry B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221569855,"creation_date":1221569855,"answer_id":71907,"question_id":71842,"body_markdown":"&lt;a href=&quot;https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows&quot;&gt;how-do-i-get-my-java-application-to-shutdown-nicely-in-windows&lt;/a&gt;\r\n\r\nThat might be of help","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p><a href=\"https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows\">how-do-i-get-my-java-application-to-shutdown-nicely-in-windows</a></p>\n\n<p>That might be of help</p>\n"},{"tags":[],"owner":{"account_id":6961,"reputation":1291,"user_id":11870,"accept_rate":100,"display_name":"Cory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221569945,"creation_date":1221569945,"answer_id":71921,"question_id":71842,"body_markdown":"The above seems to be the better answer.\r\n\r\nI can&#39;t find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close, using a window closing event or the like then ask the question.\r\n\r\nhttp://www.javalobby.org/java/forums/t17933","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>The above seems to be the better answer.</p>\n\n<p>I can't find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close, using a window closing event or the like then ask the question.</p>\n\n<p><a href=\"http://www.javalobby.org/java/forums/t17933\" rel=\"nofollow noreferrer\">http://www.javalobby.org/java/forums/t17933</a></p>\n"},{"tags":[],"owner":{"account_id":5040,"reputation":21365,"user_id":7898,"accept_rate":92,"display_name":"Jean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221569956,"creation_date":1221569956,"answer_id":71924,"question_id":71842,"body_markdown":"Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm\r\n\r\nsee [here][1] for more about this (I am not the owner of the website)\r\n\r\n\r\n  [1]: http://twit88.com/blog/2008/02/06/java-signal-handling/","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm</p>\n\n<p>see <a href=\"http://twit88.com/blog/2008/02/06/java-signal-handling/\" rel=\"nofollow noreferrer\">here</a> for more about this (I am not the owner of the website)</p>\n"},{"tags":[],"owner":{"account_id":7047,"reputation":2753,"user_id":12040,"accept_rate":77,"display_name":"Aidos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357963904,"creation_date":1221570055,"answer_id":71939,"question_id":71842,"body_markdown":"Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it.\r\n\r\nIf you don&#39;t want to write too much C++ code to do this I can recommend the JNA library [click here](https://jna.dev.java.net/). Which gives you some nice Java abstractions for C code.","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it.</p>\n\n<p>If you don't want to write too much C++ code to do this I can recommend the JNA library <a href=\"https://jna.dev.java.net/\" rel=\"nofollow noreferrer\">click here</a>. Which gives you some nice Java abstractions for C code.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422521,"creation_date":1695422521,"answer_id":77160991,"question_id":71842,"body_markdown":"Still no public API in 2023, but setting a custom handler for `SIGTERM` via `sun.misc.Signal` does work with recent JDK releases:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Still no public API in 2023, but setting a custom handler for <code>SIGTERM</code> via <code>sun.misc.Signal</code> does work with recent JDK releases:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":5138,"reputation":375,"user_id":8118,"accept_rate":57,"display_name":"David Kerr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71939,"answer_count":5,"score":2,"last_activity_date":1695422521,"creation_date":1221569325,"question_id":71842,"body_markdown":"Well behaved windows programs need to allow users to save their work when they are shutting the PC down.\r\n\r\nHow can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects, say &quot;Cancel&quot;.\r\n\r\nThe normal Swing window closing hook doesn&#39;t work, nor does adding a shutdown hook.\r\n\r\nOn testing, the methods of WindowListener (windowClosing,windowClosed, etc) do not get called.\r\n\r\nThe answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn&#39;t this a bug on Swing?\r\n\r\nSee http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870\r\n","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Well behaved windows programs need to allow users to save their work when they are shutting the PC down.</p>\n\n<p>How can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects, say \"Cancel\".</p>\n\n<p>The normal Swing window closing hook doesn't work, nor does adding a shutdown hook.</p>\n\n<p>On testing, the methods of WindowListener (windowClosing,windowClosed, etc) do not get called.</p>\n\n<p>The answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn't this a bug on Swing?</p>\n\n<p>See <a href=\"http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870\" rel=\"nofollow noreferrer\">http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870</a></p>\n"},{"tags":["java","windows","events","shutdown-hook"],"answers":[{"tags":[],"owner":{"account_id":24529,"reputation":5253,"user_id":62459,"accept_rate":100,"display_name":"newgre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233772866,"creation_date":1233771687,"answer_id":512622,"question_id":512555,"body_markdown":"My best guess would be to use a [ShutdownHook][1]. You can register a thread which is invoked as soon as the JVM is beeing shut down.\r\n\r\n\r\n**Edit:**   \r\nIf you want to realize this under windows, you could create an invisible window and react on the [WM_QUERYENDSESSION][2] message which is sent by the OS upon user log off or system shutdown.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\r\n  [2]: http://msdn.microsoft.com/en-us/library/aa376890(VS.85).aspx","title":"Detect windows logout event in Java application","body":"<p>My best guess would be to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">ShutdownHook</a>. You can register a thread which is invoked as soon as the JVM is beeing shut down.</p>\n\n<p><strong>Edit:</strong><br>\nIf you want to realize this under windows, you could create an invisible window and react on the <a href=\"http://msdn.microsoft.com/en-us/library/aa376890(VS.85).aspx\" rel=\"nofollow noreferrer\">WM_QUERYENDSESSION</a> message which is sent by the OS upon user log off or system shutdown.</p>\n"},{"tags":[],"owner":{"account_id":18062,"reputation":2058,"user_id":41039,"display_name":"James"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1233772130,"creation_date":1233772130,"answer_id":512660,"question_id":512555,"body_markdown":"I think you want to look at [Runtime.addShutdownHook()][1].  This gives you the last-ditch opportunity to do things before the JVM shuts down.  This lets you detect an actual logout where all of the applications are shutdown, but not they just temporarily switch users, leaving their state ready to come back to.  However, as a warning, whatever you plan on doing during the shutdown process needs to be brief since the OS may SIGKILL (or the equivalent) on you at any time, which halts the JVM immediately.\r\n\r\nIf this isn&#39;t what you need, you&#39;re probably going to need to use JNI to register a native listener.  As for the other windows events, the AWT library provides a number of classes for implementing the listeners that most normal apps would be interested in.  In this case, you might be interested in a [FocusEvent][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/index.html?java/lang/Runtime.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/event/FocusEvent.html","title":"Detect windows logout event in Java application","body":"<p>I think you want to look at <a href=\"http://java.sun.com/javase/6/docs/api/index.html?java/lang/Runtime.html\" rel=\"noreferrer\">Runtime.addShutdownHook()</a>.  This gives you the last-ditch opportunity to do things before the JVM shuts down.  This lets you detect an actual logout where all of the applications are shutdown, but not they just temporarily switch users, leaving their state ready to come back to.  However, as a warning, whatever you plan on doing during the shutdown process needs to be brief since the OS may SIGKILL (or the equivalent) on you at any time, which halts the JVM immediately.</p>\n\n<p>If this isn't what you need, you're probably going to need to use JNI to register a native listener.  As for the other windows events, the AWT library provides a number of classes for implementing the listeners that most normal apps would be interested in.  In this case, you might be interested in a <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/FocusEvent.html\" rel=\"noreferrer\">FocusEvent</a>.</p>\n"},{"tags":[],"owner":{"account_id":81601,"reputation":21,"user_id":229981,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260566589,"creation_date":1260566589,"answer_id":1890960,"question_id":512555,"body_markdown":"There seems to be a lot of people that are running into this issue. Although, the people on the Java project obviously don&#39;t consider this much of a priority (The original ticket was opened almost 10 years ago).\r\n\r\nI have had some success with the work-around posted in bug 4486580 which uses the hidden JWindow. However, this work-around is considered unreliable. I also found this little bit of discussion started by cowwoc who posted the work-around: http://forums.java.net/jive/thread.jspa?threadID=46716. This work-around is better than nothing, but it would be nice to block a windows logout until the program has definitely finished cleanup. You don&#39;t want to be part-way through the process when the process is terminated.\r\n\r\nThe most recent bug opened surrounding this issue is 6798985. It seems to have gone mostly unnoticed.","title":"Detect windows logout event in Java application","body":"<p>There seems to be a lot of people that are running into this issue. Although, the people on the Java project obviously don't consider this much of a priority (The original ticket was opened almost 10 years ago).</p>\n\n<p>I have had some success with the work-around posted in bug 4486580 which uses the hidden JWindow. However, this work-around is considered unreliable. I also found this little bit of discussion started by cowwoc who posted the work-around: <a href=\"http://forums.java.net/jive/thread.jspa?threadID=46716\" rel=\"nofollow noreferrer\">http://forums.java.net/jive/thread.jspa?threadID=46716</a>. This work-around is better than nothing, but it would be nice to block a windows logout until the program has definitely finished cleanup. You don't want to be part-way through the process when the process is terminated.</p>\n\n<p>The most recent bug opened surrounding this issue is 6798985. It seems to have gone mostly unnoticed.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422016,"creation_date":1695422016,"answer_id":77160964,"question_id":512555,"body_markdown":"It&#39;s `2023` and there&#39;s still no standard API for this, but using a custom `sun.misc.SignalHandler` for `SIGTERM` will allow your application to run some code before logout or shutdown:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"Detect windows logout event in Java application","body":"<p>It's <code>2023</code> and there's still no standard API for this, but using a custom <code>sun.misc.SignalHandler</code> for <code>SIGTERM</code> will allow your application to run some code before logout or shutdown:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":512660,"answer_count":4,"score":2,"last_activity_date":1695422016,"creation_date":1233770524,"question_id":512555,"body_markdown":"Is there a library that I can use with Java to listen for user logout and possibly other Windows events?  (Even better if it supports multiple platforms!)\r\n\r\nI remember reading about a library of this sort a number of years ago, but can&#39;t seem to find it now.  I&#39;ve seen other threads to do essentially the same thing using Python with win32ts.\r\n\r\nAlso better if it&#39;s free and/or open source.\r\n\r\nThanks.\r\n\r\n\r\n**Note**:  The candidate solution of using `Runtime.getRuntime().addShutdownHook(Thread)` does not work correctly with `javaw`.  I am still looking for a solution that will work with javaw.  See java bug ids [4486580][1] and [4302814][2].  Thanks  --cam\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4486580\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4302814","title":"Detect windows logout event in Java application","body":"<p>Is there a library that I can use with Java to listen for user logout and possibly other Windows events?  (Even better if it supports multiple platforms!)</p>\n<p>I remember reading about a library of this sort a number of years ago, but can't seem to find it now.  I've seen other threads to do essentially the same thing using Python with win32ts.</p>\n<p>Also better if it's free and/or open source.</p>\n<p>Thanks.</p>\n<p><strong>Note</strong>:  The candidate solution of using <code>Runtime.getRuntime().addShutdownHook(Thread)</code> does not work correctly with <code>javaw</code>.  I am still looking for a solution that will work with javaw.  See java bug ids <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4486580\" rel=\"nofollow noreferrer\">4486580</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4302814\" rel=\"nofollow noreferrer\">4302814</a>.  Thanks  --cam</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695371115,"creation_date":1695371115,"answer_id":77155963,"question_id":77154201,"body_markdown":"Javas `new` operator doesn&#39;t know about or use annotations, so as soon as you use that, you will have to call any initialization methods on your own.\r\n\r\nBut I see a bigger problem here: you create an object with `new` that seems to be unusable without calling the `initialize` method. Why don&#39;t you call `initialize` directly in the constructor? As the method is public, it could be overridden by a subclass and then it&#39;s code will probably not be executed, which could lead to an inconsistent state.\r\n\r\nIf you must keep it that way, you could create a bean for the `ExampleEnvironmentClass`, probably multiple ones, with `@Qualifier` annotations, to resemble various environments.\r\nAnd remove the bean for `ExampleManager`.\r\n\r\nIf `ExampleManagerImpl` is the only class that implements `ExampleManager`, Spring will take care of instanciating it and then also should execute the `@PostConstruct` annotated method.","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Javas <code>new</code> operator doesn't know about or use annotations, so as soon as you use that, you will have to call any initialization methods on your own.</p>\n<p>But I see a bigger problem here: you create an object with <code>new</code> that seems to be unusable without calling the <code>initialize</code> method. Why don't you call <code>initialize</code> directly in the constructor? As the method is public, it could be overridden by a subclass and then it's code will probably not be executed, which could lead to an inconsistent state.</p>\n<p>If you must keep it that way, you could create a bean for the <code>ExampleEnvironmentClass</code>, probably multiple ones, with <code>@Qualifier</code> annotations, to resemble various environments.\nAnd remove the bean for <code>ExampleManager</code>.</p>\n<p>If <code>ExampleManagerImpl</code> is the only class that implements <code>ExampleManager</code>, Spring will take care of instanciating it and then also should execute the <code>@PostConstruct</code> annotated method.</p>\n"},{"tags":[],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695420517,"creation_date":1695373706,"answer_id":77156251,"question_id":77154201,"body_markdown":"Solution:\r\n\r\nInstead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nExplanation : Until Spring Boot 2.7.x were using javax.* but after Spring Boot 3.x Spring Boot that makes use of Jakarta EE 9 APIs (jakarta.*) instead of EE 8 (javax.*)\r\n\r\nThat means, when I upgrade my spring from 2.7 to 3.0, I have to replace javax with jakarta. \r\n\r\n\r\n","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Solution:</p>\n<p>Instead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n&lt;version&gt;1.3.2&lt;/version&gt;\n</code></pre>\n\n<p>Explanation : Until Spring Boot 2.7.x were using javax.* but after Spring Boot 3.x Spring Boot that makes use of Jakarta EE 9 APIs (jakarta.<em>) instead of EE 8 (javax.</em>)</p>\n<p>That means, when I upgrade my spring from 2.7 to 3.0, I have to replace javax with jakarta.</p>\n"}],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77156251,"answer_count":2,"score":1,"last_activity_date":1695420517,"creation_date":1695340214,"question_id":77154201,"body_markdown":"Spring Boot Version : 2.7.15\r\n\r\nAfter Upgrading from Java 8 to Java 17\r\nI added this into my pom.xml in order using @PostConstructor\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakarta.annotation-api.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have many different micro services and I manage my spring beans with spring annotations like (@Service etc..)\r\n\r\nI also  have another CommonManager library which is common for all micro services and it is isn&#39;t depend on spring. You can see how it looks like below\r\n\r\n\r\n```java\r\npublic class ExampleEnvironmentClass {\r\n\t\r\n\r\n\tprivate Class&lt;? extends ADao&gt; aDaoClass = ADaoImpl.class;\r\n\tprivate Class&lt;? extends AManager&gt; aManagerClass = AManagerImpl.class;\r\n\r\n\tprivate Class&lt;? extends BDao&gt; bDaoClass = BDaoImpl.class;\r\n\tprivate Class&lt;? extends BManager&gt; bManagerClass = BManagerImpl.class;\r\n\r\n}\r\n\r\npublic class ExampleManagerImpl implements ExampleManager {\r\n\r\n\tpublic ExampleManagerImpl (ExampleEnvironmentClass env) {\r\n\t\tthis(env, null);\r\n\t}\r\n\r\n        //Another Constuctor for direct call \r\n\tpublic ExampleManagerImpl (ExampleEnvironmentClass env, Dao dao) {\r\n\t\tenv.validate();\r\n\t\t//...\r\n\t\t//...\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tpublic void initialize () {\r\n\t\t//\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhile I&#39;m using CommonManager library in my microservices i&#39;m defining it with @Bean annotation.\r\n\r\n\r\n```java\r\n\r\n@SpringBootApplication (exclude = { DataSourceAutoConfiguration.class })\r\n@EnableScheduling\r\n@Import ({ DbConfiguration.class//\r\n\t\t, CacheClientConfiguration.class//\r\n\t\t, WebMvcConfiguration.class//\r\n})\r\n\r\npublic class MySpringMicroService {\r\n\r\n        @Bean\r\n\tpublic ExampleManager exampleManager () {\r\n\r\n\t\tExampleEnvironmentClass env = new ExampleEnvironmentClass();\r\n\r\n\t\tenv.aDaoClass(CustomADaoImpl.class);\r\n\t\tenv.aManagerClass(CustomAManagerImpl.class);\r\n\r\n\t\t//env.bDaoClass(CustomBDaoImpl.class);\r\n\t\tenv.bManagerClass(CustomAManagerImpl.class);\r\n\r\n\t\t\r\n\t\treturn new ExampleManagerImpl(env);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nFor example `env.bDaoClass(CustomBDaoImpl.class);` this is commented. So that means for this micro service it will continue to using BDaoImpl.class as defined in the CommonManager library.\r\n\r\n\r\nWith this way, my micro services can have different framework. A micro service can run on Micronaut and B services can run on Spring.\r\n\r\n\r\nUntil upgrading Java 17. It was working well with Spring Boot 2.7.15 as I expected. \r\nI&#39;m planning to switch Spring Boot 3.0  so I switch Java 17 from Java 8.\r\n\r\n**But now @PostConstructor in the ExampleManagerImpl isn&#39;t invoked. **\r\n\r\n\r\n\r\n\r\nI tried to adding `@ComponentScans` but it didn&#39;t work.\r\n\r\n\r\n```java\r\n@ComponentScans({\r\n\t\t@ComponentScan(&quot;CommonLibraryPackage&quot;),\r\n\t\t@ComponentScan(&quot;MyServicesOwnComponentPage&quot;) //It is actually unnecassary. Spring automatically find but i added for trying\r\n})\r\n```\r\n\r\n\r\nEdit: As an workaround solution. Manual call solved my problem. But it would be good to use @PostConstruct\r\n\r\n```\r\n \r\n//return new ExampleManagerImpl(env); //instead of this\r\nExampleManagerImpl obj = new ExampleManagerImpl(env);\r\nobj.initialize();\r\nreturn obj;\r\n```\r\n\r\n\r\nLast Edit and Solution:\r\n\r\nInstead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.\r\n```xml\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Spring Boot Version : 2.7.15</p>\n<p>After Upgrading from Java 8 to Java 17\nI added this into my pom.xml in order using @PostConstructor</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.annotation-api.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have many different micro services and I manage my spring beans with spring annotations like (@Service etc..)</p>\n<p>I also  have another CommonManager library which is common for all micro services and it is isn't depend on spring. You can see how it looks like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleEnvironmentClass {\n    \n\n    private Class&lt;? extends ADao&gt; aDaoClass = ADaoImpl.class;\n    private Class&lt;? extends AManager&gt; aManagerClass = AManagerImpl.class;\n\n    private Class&lt;? extends BDao&gt; bDaoClass = BDaoImpl.class;\n    private Class&lt;? extends BManager&gt; bManagerClass = BManagerImpl.class;\n\n}\n\npublic class ExampleManagerImpl implements ExampleManager {\n\n    public ExampleManagerImpl (ExampleEnvironmentClass env) {\n        this(env, null);\n    }\n\n        //Another Constuctor for direct call \n    public ExampleManagerImpl (ExampleEnvironmentClass env, Dao dao) {\n        env.validate();\n        //...\n        //...\n    }\n\n    @PostConstruct\n    public void initialize () {\n        //\n    }\n\n}\n\n</code></pre>\n<p>While I'm using CommonManager library in my microservices i'm defining it with @Bean annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootApplication (exclude = { DataSourceAutoConfiguration.class })\n@EnableScheduling\n@Import ({ DbConfiguration.class//\n        , CacheClientConfiguration.class//\n        , WebMvcConfiguration.class//\n})\n\npublic class MySpringMicroService {\n\n        @Bean\n    public ExampleManager exampleManager () {\n\n        ExampleEnvironmentClass env = new ExampleEnvironmentClass();\n\n        env.aDaoClass(CustomADaoImpl.class);\n        env.aManagerClass(CustomAManagerImpl.class);\n\n        //env.bDaoClass(CustomBDaoImpl.class);\n        env.bManagerClass(CustomAManagerImpl.class);\n\n        \n        return new ExampleManagerImpl(env);\n    }\n\n}\n\n</code></pre>\n<p>For example <code>env.bDaoClass(CustomBDaoImpl.class);</code> this is commented. So that means for this micro service it will continue to using BDaoImpl.class as defined in the CommonManager library.</p>\n<p>With this way, my micro services can have different framework. A micro service can run on Micronaut and B services can run on Spring.</p>\n<p>Until upgrading Java 17. It was working well with Spring Boot 2.7.15 as I expected.\nI'm planning to switch Spring Boot 3.0  so I switch Java 17 from Java 8.</p>\n<p>**But now @PostConstructor in the ExampleManagerImpl isn't invoked. **</p>\n<p>I tried to adding <code>@ComponentScans</code> but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScans({\n        @ComponentScan(&quot;CommonLibraryPackage&quot;),\n        @ComponentScan(&quot;MyServicesOwnComponentPage&quot;) //It is actually unnecassary. Spring automatically find but i added for trying\n})\n</code></pre>\n<p>Edit: As an workaround solution. Manual call solved my problem. But it would be good to use @PostConstruct</p>\n<pre><code> \n//return new ExampleManagerImpl(env); //instead of this\nExampleManagerImpl obj = new ExampleManagerImpl(env);\nobj.initialize();\nreturn obj;\n</code></pre>\n<p>Last Edit and Solution:</p>\n<p>Instead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","save","rest-assured","octetstring"],"answers":[{"tags":[],"owner":{"account_id":11715536,"reputation":4839,"user_id":8576169,"display_name":"Bedla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511475329,"creation_date":1511475329,"answer_id":47463883,"question_id":47463391,"body_markdown":"MIME type application/octet-stream consists of bytes encoded in Base64. Use [Base64][1] class for decoding.\r\n        \r\n    private void saveFile(String path, String octetStream) throws IOException{\r\n        byte[] bytes = Base64.getDecoder().decode(octetStream);\r\n\r\n        try(FileOutputStream fos = new FileOutputStream(path)){\r\n            fos.write(bytes);\r\n        }\r\n    }\r\n\r\n*I know nothing about RestAssured, so maybe there is any way provided by framework.*\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"[Java][RestAssured] How to save application/octet-stream response as jpg image?","body":"<p>MIME type application/octet-stream consists of bytes encoded in Base64. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> class for decoding.</p>\n\n<pre><code>private void saveFile(String path, String octetStream) throws IOException{\n    byte[] bytes = Base64.getDecoder().decode(octetStream);\n\n    try(FileOutputStream fos = new FileOutputStream(path)){\n        fos.write(bytes);\n    }\n}\n</code></pre>\n\n<p><em>I know nothing about RestAssured, so maybe there is any way provided by framework.</em></p>\n"}],"owner":{"account_id":7985289,"reputation":11,"user_id":6025036,"display_name":"Pawe Adamus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695420245,"creation_date":1511472021,"question_id":47463391,"body_markdown":"I want to download images from website using RestAssured. My code:\r\n\r\n    Response response = given()\r\n                .log().all()\r\n                .cookie(cookie)\r\n                .get(format(image_endpoint, &quot;46581657&quot;));\r\n\r\nEndpoint returns status code 200 and image in &quot;application/octet-stream&quot; type. How can I save it as jpg file?\r\n\r\nI have tried:\r\n\r\n    String bin = getImageResponse()\r\n                .prettyPrint();\r\n        saveFile(&quot;foto.jpg&quot;, bin); //this method only save string to file\r\n\r\nBut I cannot open jpg file. How can I save it?","title":"[Java][RestAssured] How to save application/octet-stream response as jpg image?","body":"<p>I want to download images from website using RestAssured. My code:</p>\n\n<pre><code>Response response = given()\n            .log().all()\n            .cookie(cookie)\n            .get(format(image_endpoint, \"46581657\"));\n</code></pre>\n\n<p>Endpoint returns status code 200 and image in \"application/octet-stream\" type. How can I save it as jpg file?</p>\n\n<p>I have tried:</p>\n\n<pre><code>String bin = getImageResponse()\n            .prettyPrint();\n    saveFile(\"foto.jpg\", bin); //this method only save string to file\n</code></pre>\n\n<p>But I cannot open jpg file. How can I save it?</p>\n"},{"tags":["java","apache-kafka","junit","mocking","project-reactor"],"owner":{"account_id":29512565,"reputation":11,"user_id":22617286,"display_name":"tripletk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695420021,"creation_date":1695420021,"question_id":77160864,"body_markdown":"I have been trying to increase code coverage on this particular piece of code for a while but can&#39;t seem to figure it out. This private method is invoked from within a public method. The public method is called as shown below. My understanding is that since subscription to the topics happens later, there are no partitions that are assigned, therefore when unit testing, that Consumer within `addAssignListener()` is never invoked.\r\n\r\n```\r\nclass someClass {\r\n    public ReactiveKafkaConsumerTemplate somePublicMethod(Set&lt;String&gt; topics) {\r\n      // ...\r\n      ReceiverOptions&lt;Object, Object&gt; receiverOptions = somePrivateMethod(customConsumerProperties);\r\n      receiverOptions = receiverOptions.subscription(topics);\r\n      return new ReactiveKafkaConsumerTemplate&lt;&gt;(receiverOptions);\r\n    }\r\n\r\n\r\n    private ReceiverOptions&lt;Object, Object&gt; somePrivateMethod(Map&lt;String, Object&gt; customConsumerProperties) {\r\n\r\n      boolean featureFlag = someConfig.isEnabled();\r\n\r\n      ReceiverOptions&lt;Object, Object&gt; basicReceiverOptions = ReceiverOptions.create(customConsumerProperties);\r\n\r\n      basicReceiverOptions = basicReceiverOptions.addAssignListener(partitions -&gt; {\r\n        partitions.forEach(receiverPartition -&gt; Mono.just(receiverPartition)\r\n            .doOnNext(receiverPartition1 -&gt; {\r\n              if (featureFlag) {\r\n                receiverPartition1.seekToTimestamp(someConfig.getStartTimestamp());\r\n              }\r\n            })\r\n            .subscribe());\r\n      });\r\n\r\n      return basicReceiverOptions;\r\n    }\r\n\r\n  }\r\n```\r\n\r\nThe Unit Test\r\n\r\n```\r\n@Test\r\n  void test() {\r\n    // ...\r\n    ReactiveKafkaConsumerTemplate&lt;String, String&gt; template = someClass.somePublicMethod(Set.of(&quot;sample-topic&quot;));\r\n    assertNotNull(template);\r\n  }\r\n```\r\n\r\nHow can I unit test those particular lines of code?\r\n\r\nI tried manually invoking the [assignment](https://projectreactor.io/docs/kafka/1.0.0.M3/api/reactor/kafka/receiver/ReceiverOptions.html#assignment-java.util.Collection-) and [mocking the Consumer](https://stackoverflow.com/questions/47224185/mock-method-with-consumer) but no luck.","title":"Unable to cover Consumer function in code coverage for ReceiverOptions.addAssignListener()","body":"<p>I have been trying to increase code coverage on this particular piece of code for a while but can't seem to figure it out. This private method is invoked from within a public method. The public method is called as shown below. My understanding is that since subscription to the topics happens later, there are no partitions that are assigned, therefore when unit testing, that Consumer within <code>addAssignListener()</code> is never invoked.</p>\n<pre><code>class someClass {\n    public ReactiveKafkaConsumerTemplate somePublicMethod(Set&lt;String&gt; topics) {\n      // ...\n      ReceiverOptions&lt;Object, Object&gt; receiverOptions = somePrivateMethod(customConsumerProperties);\n      receiverOptions = receiverOptions.subscription(topics);\n      return new ReactiveKafkaConsumerTemplate&lt;&gt;(receiverOptions);\n    }\n\n\n    private ReceiverOptions&lt;Object, Object&gt; somePrivateMethod(Map&lt;String, Object&gt; customConsumerProperties) {\n\n      boolean featureFlag = someConfig.isEnabled();\n\n      ReceiverOptions&lt;Object, Object&gt; basicReceiverOptions = ReceiverOptions.create(customConsumerProperties);\n\n      basicReceiverOptions = basicReceiverOptions.addAssignListener(partitions -&gt; {\n        partitions.forEach(receiverPartition -&gt; Mono.just(receiverPartition)\n            .doOnNext(receiverPartition1 -&gt; {\n              if (featureFlag) {\n                receiverPartition1.seekToTimestamp(someConfig.getStartTimestamp());\n              }\n            })\n            .subscribe());\n      });\n\n      return basicReceiverOptions;\n    }\n\n  }\n</code></pre>\n<p>The Unit Test</p>\n<pre><code>@Test\n  void test() {\n    // ...\n    ReactiveKafkaConsumerTemplate&lt;String, String&gt; template = someClass.somePublicMethod(Set.of(&quot;sample-topic&quot;));\n    assertNotNull(template);\n  }\n</code></pre>\n<p>How can I unit test those particular lines of code?</p>\n<p>I tried manually invoking the <a href=\"https://projectreactor.io/docs/kafka/1.0.0.M3/api/reactor/kafka/receiver/ReceiverOptions.html#assignment-java.util.Collection-\" rel=\"nofollow noreferrer\">assignment</a> and <a href=\"https://stackoverflow.com/questions/47224185/mock-method-with-consumer\">mocking the Consumer</a> but no luck.</p>\n"},{"tags":["java","appium-android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1546502587,"post_id":54018401,"comment_id":94873002,"body_markdown":"it seems that that method, for that class &quot;has not yet been implemented&quot;","body":"it seems that that method, for that class &quot;has not yet been implemented&quot;"},{"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"score":0,"creation_date":1546503153,"post_id":54018401,"comment_id":94873205,"body_markdown":"Thanks for the quick reply.\nI have imported below three packages in my code:\nimport io.appium.java_client.TouchAction;\nimport io.appium.java_client.android.AndroidElement;\nimport io.appium.java_client.clipboard.HasClipboard;","body":"Thanks for the quick reply. I have imported below three packages in my code: import io.appium.java_client.TouchAction; import io.appium.java_client.android.AndroidElement; import io.appium.java_client.clipboard.HasClipboard;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1546503224,"post_id":54018401,"comment_id":94873233,"body_markdown":"which doesn&#39;t change the answer. You cast your Object to type &#39;HasClipboard&#39;, then try to call &#39;setClipboardText(...)&#39;. The method itself exists, either in the class, or in it&#39;s parent, but hasn&#39;t been implemented yet","body":"which doesn&#39;t change the answer. You cast your Object to type &#39;HasClipboard&#39;, then try to call &#39;setClipboardText(...)&#39;. The method itself exists, either in the class, or in it&#39;s parent, but hasn&#39;t been implemented yet"},{"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"score":0,"creation_date":1546508684,"post_id":54018401,"comment_id":94875455,"body_markdown":"Is this what you mean?\n\n`String text = &quot;54321&quot;;\nHasClipboard clip = ((HasClipboard) BaseClass.driver);\nclip.setClipboardText(text);\nTouchAction t=new TouchAction(BaseClass.driver);`","body":"Is this what you mean?  <code>String text = &quot;54321&quot;; HasClipboard clip = ((HasClipboard) BaseClass.driver); clip.setClipboardText(text); TouchAction t=new TouchAction(BaseClass.driver);</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1546516322,"post_id":54018401,"comment_id":94879413,"body_markdown":"I don&#39;t know. all I can do is make assumptions based on the information you provided. Either way, what is happening is explained in my previous comment","body":"I don&#39;t know. all I can do is make assumptions based on the information you provided. Either way, what is happening is explained in my previous comment"}],"answers":[{"tags":[],"owner":{"account_id":5118808,"reputation":3538,"user_id":4103101,"display_name":"dmle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546693341,"creation_date":1546693341,"answer_id":54052273,"question_id":54018401,"body_markdown":"It means that Appium server version you are using is not supporting the API call for `POST /wd/hub/session/:session_id/appium/device/set_clipboard`\r\nfrom appium-java-client you are using.\r\n\r\nNotes:\r\n\r\n 1. Don&#39;t set `selenium-java` version explicitly, Appium will handle it on its own. When you import it, you may raise incompatibility issues.\r\n 2. Try to install the [latest appium server][1], and update client library to 7.0.0. There are lots of ongoing changes so `appium/device/set_clipboard` maybe affected\r\n\r\n\r\n  [1]: https://github.com/appium/appium/releases","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<p>It means that Appium server version you are using is not supporting the API call for <code>POST /wd/hub/session/:session_id/appium/device/set_clipboard</code>\nfrom appium-java-client you are using.</p>\n\n<p>Notes:</p>\n\n<ol>\n<li>Don't set <code>selenium-java</code> version explicitly, Appium will handle it on its own. When you import it, you may raise incompatibility issues.</li>\n<li>Try to install the <a href=\"https://github.com/appium/appium/releases\" rel=\"nofollow noreferrer\">latest appium server</a>, and update client library to 7.0.0. There are lots of ongoing changes so <code>appium/device/set_clipboard</code> maybe affected</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25328832,"reputation":1,"user_id":19148997,"display_name":"DevMukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695418510,"creation_date":1695418510,"answer_id":77160784,"question_id":54018401,"body_markdown":"    start_state = problem.getStartState()\r\n        fringe = util.Stack()\r\n        visited = set()\r\n    \r\n        # Each item in the fringe is a tuple containing the state and a list of actions\r\n        fringe.push((start_state, []))\r\n    \r\n        while not fringe.isEmpty():\r\n            current_state, actions = fringe.pop()\r\n            if problem.isGoalState(current_state):\r\n                return actions\r\n            visited.add(current_state)\r\n            successors = problem.getSuccessors(current_state)\r\n            for next_state, action, _ in successors:\r\n                       if next_state not in visited:\r\n                        next_actions = actions + [action]\r\n                        fringe.push((next_state, next_actions))\r\n        return []\r\n    USE THIS IT WORKS FOR ME FOR DEPTHFIRSTSEARCH IF ANYBODY WANTS TO DO SAME CODE FOR BREATHFIRSTSEARCH YOU JUST HAVE TO REPLACE STACK WITH QUEUES HAVING THE SAME CODE \r\n    I HOPE THIS WILL HELP YOU ","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<pre><code>start_state = problem.getStartState()\n    fringe = util.Stack()\n    visited = set()\n\n    # Each item in the fringe is a tuple containing the state and a list of actions\n    fringe.push((start_state, []))\n\n    while not fringe.isEmpty():\n        current_state, actions = fringe.pop()\n        if problem.isGoalState(current_state):\n            return actions\n        visited.add(current_state)\n        successors = problem.getSuccessors(current_state)\n        for next_state, action, _ in successors:\n                   if next_state not in visited:\n                    next_actions = actions + [action]\n                    fringe.push((next_state, next_actions))\n    return []\nUSE THIS IT WORKS FOR ME FOR DEPTHFIRSTSEARCH IF ANYBODY WANTS TO DO SAME CODE FOR BREATHFIRSTSEARCH YOU JUST HAVE TO REPLACE STACK WITH QUEUES HAVING THE SAME CODE \nI HOPE THIS WILL HELP YOU \n</code></pre>\n"}],"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695418510,"creation_date":1546502506,"question_id":54018401,"body_markdown":"Below is my code in Java\r\n\r\n    String text = &quot;54321&quot;;\r\n    ((HasClipboard) BaseClass.driver).setClipboardText(text);\r\n    TouchAction t=new TouchAction(BaseClass.driver);`\r\n\r\nGetting Exception for the above code. \r\n\r\nConfiguration: Selenium-java 3.13.0, Java-client 6.1.0, android-test 2.1.1\r\n\r\n","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<p>Below is my code in Java</p>\n\n<pre><code>String text = \"54321\";\n((HasClipboard) BaseClass.driver).setClipboardText(text);\nTouchAction t=new TouchAction(BaseClass.driver);`\n</code></pre>\n\n<p>Getting Exception for the above code. </p>\n\n<p>Configuration: Selenium-java 3.13.0, Java-client 6.1.0, android-test 2.1.1</p>\n"},{"tags":["java","xml","jsp","struts2","tiles2"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1695459138,"post_id":77159755,"comment_id":136029585,"body_markdown":"&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\n    &lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;.   I see the result of that should be &quot;System&quot;.    But IS blank.jsp a &quot;blank&quot; or does it have its basic parts e.g the page tags declaring jsp and a head and body?","body":"&lt;html&gt; &lt;head&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;     &lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;.   I see the result of that should be &quot;System&quot;.    But IS blank.jsp a &quot;blank&quot; or does it have its basic parts e.g the page tags declaring jsp and a head and body?"}],"answers":[{"tags":[],"owner":{"account_id":18923761,"reputation":1,"user_id":13807329,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695418075,"creation_date":1695416516,"answer_id":77160648,"question_id":77159755,"body_markdown":"There was an old tiles-defs.xml file left over from when the project was using Struts 1.3 instead of 2. Once I deleted that file and the associated tiles-config_1_3.dtd, the issue went away. Although I&#39;m curious as to why the old xml file would affect the Struts 2 code.","title":"&quot;org.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null&quot; in Struts 2 app","body":"<p>There was an old tiles-defs.xml file left over from when the project was using Struts 1.3 instead of 2. Once I deleted that file and the associated tiles-config_1_3.dtd, the issue went away. Although I'm curious as to why the old xml file would affect the Struts 2 code.</p>\n"}],"owner":{"account_id":18923761,"reputation":1,"user_id":13807329,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695460778,"accepted_answer_id":77160648,"answer_count":1,"score":0,"last_activity_date":1695418075,"creation_date":1695405166,"question_id":77159755,"body_markdown":"I am working on a Struts 2 application that is integrated with the Tiles plugin. It works fine on my local computer. But when I deploy it to a UNIX server and try to navigate past the login page to an action that uses Tiles, I get a CannotRenderException. I am using Tomcat v9.\r\n\r\nHere is the relevant code:\r\n\r\n**Tiles.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE tiles-definitions PUBLIC   \r\n\t&quot;-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN&quot;  \r\n \t&quot;tiles-config_2_0.dtd&quot;&gt; \r\n \r\n &lt;tiles-definitions&gt;  \r\n\r\n\t&lt;definition name=&quot;no.header.layout&quot; template=&quot;/tiles/layout/noHeader.jsp&quot;&gt;\r\n\t\t&lt;put-attribute name=&quot;title&quot;\t\t\tvalue=&quot;System&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;includes&quot;\t\t\tvalue=&quot;/tiles/global/includes.jsp&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;header&quot; \t\t\tvalue=&quot;/tiles/global/header.jsp&quot; /&gt;\t\r\n\t\t&lt;put-attribute name=&quot;body&quot;   \t\t\tvalue=&quot;/tiles/global/blank.jsp&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;footer&quot; \t\t\tvalue=&quot;/tiles/global/footer.jsp&quot; /&gt;\r\n\t&lt;/definition&gt;\r\n\r\n        &lt;definition name=&quot;home.page&quot; extends=&quot;no.header.layout&quot;&gt;&lt;!--THIS IS THE PAGE I&#39;M TRYING TO LOAD--&gt;\r\n   \t\t&lt;put-attribute name=&quot;title&quot; value=&quot;System Search&quot;/&gt;   \r\n   \t\t&lt;put-attribute name=&quot;body&quot; value=&quot;/tiles/pages/home.jsp&quot;/&gt; \r\n        &lt;/definition&gt;\r\n\r\n&lt;/tiles-definitions&gt;  \r\n```\r\n\r\n**Struts.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\r\n        &quot;struts-6.0.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\r\n\t&lt;include file=&quot;struts-default.xml&quot; /&gt;\r\n\t\r\n\t&lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\r\n\r\n\t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\r\n\t\r\n\t&lt;result-types&gt;\r\n        \t&lt;result-type name = &quot;tiles&quot; \r\n        \tclass=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\r\n      \t&lt;/result-types&gt;\r\n\r\n        &lt;action name=&quot;home&quot;&gt; &lt;!-- HERE IS THE ACTION I&#39;M TRYING TO GET TO --&gt;\r\n\t\t&lt;result type=&quot;tiles&quot;&gt;home.page&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\n        &lt;action name=&quot;login&quot; class=&quot;bcs.actions.LoginAction&quot;&gt;\r\n\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;home&lt;/result&gt;\r\n\t\t&lt;result name=&quot;failure&quot;&gt;/login.jsp?message=LOGIN_FAILURE&lt;/result&gt;\r\n\t\t&lt;result name=&quot;failure2&quot;&gt;/login.jsp?message=BC_LOGIN_FAILURE&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\n\t&lt;/package&gt;\r\n\r\n&lt;/struts&gt;\r\n```\r\n\r\n**noHeader.jsp**\r\n\r\n```\r\n&lt;%@ taglib uri = &quot;http://tiles.apache.org/tags-tiles&quot; prefix = &quot;tiles&quot;%&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\r\n\t&lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;\r\n \t\t\r\n\t&lt;tiles:insertAttribute name=&#39;includes&#39; flush=&#39;false&#39; /&gt;\r\n\t\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&#39;container&#39;&gt;\r\n\r\n\t\t&lt;div class=&#39;header_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;header&#39; flush=&#39;false&#39; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div class=&#39;noheader_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;body&#39; flush=&#39;false&#39; /&gt;\t\t\t\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div class=&#39;footer_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;footer&#39; flush=&#39;false&#39; /&gt;\t\t\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t&lt;/div&gt;\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere are the dependencies I&#39;m using:\r\n\r\n```\r\nantlr-2.7.2.jar\r\nbsf-2.3.0.jar\r\ncommons-beanutils-1.8.0.jar\r\ncommons-chain-1.2.jar\r\ncommons-codec-1.14.jar\r\ncommons-collections.jar\r\ncommons-dbutils-1.1.jar\r\ncommons-digester-2.0.jar\r\ncommons-fileupload-1.5.jar\r\ncommons-io-2.11.0.jar\r\ncommons-lang3-3.12.0.jar\r\ncommons-logging-1.0.4.jar\r\ncommons-text-1.10.0.jar\r\ncommons-validator-1.3.1.jar\r\nel-api-1.0.jar\r\nencoder-1.2.3.jar\r\nfiles.txt\r\nfreemarker-2.3.32.jar\r\nhttpclient-4.5.12.jar\r\nhttpcore-4.4.13.jar\r\niText-2.1.7.jar\r\njavassist-3.29.0-GA.jar\r\njavax.el-3.0.1-b12.jar\r\njcl-over-slf4j-1.7.6.jar\r\njson-simple-1.1.1.jar\r\njsp-api-2.1.jar\r\njstl-1.0.2.jar\r\nlog4j-1.2.15.jar\r\nlog4j-api-2.20.0.jar\r\nlog4j-core-2.20.0.jar\r\nognl-3.3.4.jar\r\nojdbc6.jar\r\noro-2.0.8.jar\r\npoi-3.2-FINAL-20081019.jar\r\npoi-contrib-3.2-FINAL-20081019.jar\r\npoi-scratchpad-3.2-FINAL-20081019.jar\r\nservlet-api-2.5.jar\r\nslf4j-api-2.0.7.jar\r\nstandard-1.0.6.jar\r\nstruts-el-1.3.10.jar\r\nstruts-extras-1.3.10.jar\r\nstruts-faces-1.3.10.jar\r\nstruts-mailreader-dao-1.3.10.jar\r\nstruts-scripting-1.3.10.jar\r\nstruts-taglib-1.3.10.jar\r\nstruts2-config-browser-plugin-6.2.0.jar\r\nstruts2-core-6.2.0.jar\r\nstruts2-tiles-plugin-6.2.0.jar\r\ntiles-api-3.0.8.jar\r\ntiles-autotag-core-runtime-1.2.jar\r\ntiles-compat-3.0.8.jar\r\ntiles-core-3.0.8.jar\r\ntiles-el-3.0.8.jar\r\ntiles-freemarker-3.0.8.jar\r\ntiles-jsp-3.0.8.jar\r\ntiles-ognl-3.0.8.jar\r\ntiles-request-api-1.0.7.jar\r\ntiles-request-freemarker-1.0.7.jar\r\ntiles-request-jsp-1.0.7.jar\r\ntiles-request-servlet-1.0.7.jar\r\ntiles-servlet-3.0.8.jar\r\ntiles-template-3.0.8.jar\r\nxercesImpl-2.12.2.jar\r\nxwork-2.1.2.jar\r\n```\r\n\r\nAnd here is the exception:\r\n\r\n```\r\n ERROR org.apache.struts2.dispatcher.DefaultDispatcherErrorHandler - Exception occurred during processing request: Cannot render an attribute that is not a string, toString returns: null\r\norg.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:255) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:397) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:238) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.TilesContainerWrapper.render(TilesContainerWrapper.java:103) ~[tiles-api-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.mgmt.CachingTilesContainer.render(CachingTilesContainer.java:126) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.struts2.views.tiles.TilesResult.doExecute(TilesResult.java:158) ~[struts2-tiles-plugin-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:206) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:377) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:284) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at bcs.actions.SessionPreProcessor.intercept(SessionPreProcessor.java:53) ~[classes/:?]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:179) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:49) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.FetchMetadataInterceptor.intercept(FetchMetadataInterceptor.java:78) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.CoopInterceptor.intercept(CoopInterceptor.java:57) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.CoepInterceptor.intercept(CoepInterceptor.java:55) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:143) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n```\r\n\r\nI have tried commenting out attributes in both tiles.xml and noHeader.jsp, omitting a custom interceptor that I have, using different tiles-config dtd files, and checking the spelling of the templates and values. I have also made sure the app server has the necessary permissions. Other than that, I&#39;m not sure what else to try.","title":"&quot;org.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null&quot; in Struts 2 app","body":"<p>I am working on a Struts 2 application that is integrated with the Tiles plugin. It works fine on my local computer. But when I deploy it to a UNIX server and try to navigate past the login page to an action that uses Tiles, I get a CannotRenderException. I am using Tomcat v9.</p>\n<p>Here is the relevant code:</p>\n<p><strong>Tiles.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE tiles-definitions PUBLIC   \n    &quot;-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN&quot;  \n    &quot;tiles-config_2_0.dtd&quot;&gt; \n \n &lt;tiles-definitions&gt;  \n\n    &lt;definition name=&quot;no.header.layout&quot; template=&quot;/tiles/layout/noHeader.jsp&quot;&gt;\n        &lt;put-attribute name=&quot;title&quot;         value=&quot;System&quot; /&gt;\n        &lt;put-attribute name=&quot;includes&quot;          value=&quot;/tiles/global/includes.jsp&quot; /&gt;\n        &lt;put-attribute name=&quot;header&quot;            value=&quot;/tiles/global/header.jsp&quot; /&gt; \n        &lt;put-attribute name=&quot;body&quot;              value=&quot;/tiles/global/blank.jsp&quot; /&gt;\n        &lt;put-attribute name=&quot;footer&quot;            value=&quot;/tiles/global/footer.jsp&quot; /&gt;\n    &lt;/definition&gt;\n\n        &lt;definition name=&quot;home.page&quot; extends=&quot;no.header.layout&quot;&gt;&lt;!--THIS IS THE PAGE I'M TRYING TO LOAD--&gt;\n        &lt;put-attribute name=&quot;title&quot; value=&quot;System Search&quot;/&gt;   \n        &lt;put-attribute name=&quot;body&quot; value=&quot;/tiles/pages/home.jsp&quot;/&gt; \n        &lt;/definition&gt;\n\n&lt;/tiles-definitions&gt;  \n</code></pre>\n<p><strong>Struts.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\n        &quot;struts-6.0.dtd&quot;&gt;\n\n&lt;struts&gt;\n\n    &lt;include file=&quot;struts-default.xml&quot; /&gt;\n    \n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\n\n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\n    \n    &lt;result-types&gt;\n            &lt;result-type name = &quot;tiles&quot; \n            class=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\n        &lt;/result-types&gt;\n\n        &lt;action name=&quot;home&quot;&gt; &lt;!-- HERE IS THE ACTION I'M TRYING TO GET TO --&gt;\n        &lt;result type=&quot;tiles&quot;&gt;home.page&lt;/result&gt;\n    &lt;/action&gt;\n\n        &lt;action name=&quot;login&quot; class=&quot;bcs.actions.LoginAction&quot;&gt;\n        &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;home&lt;/result&gt;\n        &lt;result name=&quot;failure&quot;&gt;/login.jsp?message=LOGIN_FAILURE&lt;/result&gt;\n        &lt;result name=&quot;failure2&quot;&gt;/login.jsp?message=BC_LOGIN_FAILURE&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;/package&gt;\n\n&lt;/struts&gt;\n</code></pre>\n<p><strong>noHeader.jsp</strong></p>\n<pre><code>&lt;%@ taglib uri = &quot;http://tiles.apache.org/tags-tiles&quot; prefix = &quot;tiles&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\n    &lt;title&gt;&lt;tiles:getAsString name='title' /&gt;&lt;/title&gt;\n        \n    &lt;tiles:insertAttribute name='includes' flush='false' /&gt;\n    \n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class='container'&gt;\n\n        &lt;div class='header_container'&gt;\n            &lt;tiles:insertAttribute name='header' flush='false' /&gt;\n        &lt;/div&gt;\n        \n        &lt;div class='noheader_container'&gt;\n            &lt;tiles:insertAttribute name='body' flush='false' /&gt;         \n        &lt;/div&gt;\n        \n        &lt;div class='footer_container'&gt;\n            &lt;tiles:insertAttribute name='footer' flush='false' /&gt;       \n        &lt;/div&gt;\n        \n    &lt;/div&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here are the dependencies I'm using:</p>\n<pre><code>antlr-2.7.2.jar\nbsf-2.3.0.jar\ncommons-beanutils-1.8.0.jar\ncommons-chain-1.2.jar\ncommons-codec-1.14.jar\ncommons-collections.jar\ncommons-dbutils-1.1.jar\ncommons-digester-2.0.jar\ncommons-fileupload-1.5.jar\ncommons-io-2.11.0.jar\ncommons-lang3-3.12.0.jar\ncommons-logging-1.0.4.jar\ncommons-text-1.10.0.jar\ncommons-validator-1.3.1.jar\nel-api-1.0.jar\nencoder-1.2.3.jar\nfiles.txt\nfreemarker-2.3.32.jar\nhttpclient-4.5.12.jar\nhttpcore-4.4.13.jar\niText-2.1.7.jar\njavassist-3.29.0-GA.jar\njavax.el-3.0.1-b12.jar\njcl-over-slf4j-1.7.6.jar\njson-simple-1.1.1.jar\njsp-api-2.1.jar\njstl-1.0.2.jar\nlog4j-1.2.15.jar\nlog4j-api-2.20.0.jar\nlog4j-core-2.20.0.jar\nognl-3.3.4.jar\nojdbc6.jar\noro-2.0.8.jar\npoi-3.2-FINAL-20081019.jar\npoi-contrib-3.2-FINAL-20081019.jar\npoi-scratchpad-3.2-FINAL-20081019.jar\nservlet-api-2.5.jar\nslf4j-api-2.0.7.jar\nstandard-1.0.6.jar\nstruts-el-1.3.10.jar\nstruts-extras-1.3.10.jar\nstruts-faces-1.3.10.jar\nstruts-mailreader-dao-1.3.10.jar\nstruts-scripting-1.3.10.jar\nstruts-taglib-1.3.10.jar\nstruts2-config-browser-plugin-6.2.0.jar\nstruts2-core-6.2.0.jar\nstruts2-tiles-plugin-6.2.0.jar\ntiles-api-3.0.8.jar\ntiles-autotag-core-runtime-1.2.jar\ntiles-compat-3.0.8.jar\ntiles-core-3.0.8.jar\ntiles-el-3.0.8.jar\ntiles-freemarker-3.0.8.jar\ntiles-jsp-3.0.8.jar\ntiles-ognl-3.0.8.jar\ntiles-request-api-1.0.7.jar\ntiles-request-freemarker-1.0.7.jar\ntiles-request-jsp-1.0.7.jar\ntiles-request-servlet-1.0.7.jar\ntiles-servlet-3.0.8.jar\ntiles-template-3.0.8.jar\nxercesImpl-2.12.2.jar\nxwork-2.1.2.jar\n</code></pre>\n<p>And here is the exception:</p>\n<pre><code> ERROR org.apache.struts2.dispatcher.DefaultDispatcherErrorHandler - Exception occurred during processing request: Cannot render an attribute that is not a string, toString returns: null\norg.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:255) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:397) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:238) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.TilesContainerWrapper.render(TilesContainerWrapper.java:103) ~[tiles-api-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.mgmt.CachingTilesContainer.render(CachingTilesContainer.java:126) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.struts2.views.tiles.TilesResult.doExecute(TilesResult.java:158) ~[struts2-tiles-plugin-6.2.0.jar:6.2.0]\n        at org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:206) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:377) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:284) ~[struts2-core-6.2.0.jar:6.2.0]\n        at bcs.actions.SessionPreProcessor.intercept(SessionPreProcessor.java:53) ~[classes/:?]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:179) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:49) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.FetchMetadataInterceptor.intercept(FetchMetadataInterceptor.java:78) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.CoopInterceptor.intercept(CoopInterceptor.java:57) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.CoepInterceptor.intercept(CoepInterceptor.java:55) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:143) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n</code></pre>\n<p>I have tried commenting out attributes in both tiles.xml and noHeader.jsp, omitting a custom interceptor that I have, using different tiles-config dtd files, and checking the spelling of the templates and values. I have also made sure the app server has the necessary permissions. Other than that, I'm not sure what else to try.</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26359927,"reputation":1,"user_id":20016286,"display_name":"Josep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695418035,"creation_date":1695418035,"answer_id":77160749,"question_id":77160580,"body_markdown":"I figured it out. I had a separate FormController class with my mapping in it,\r\nIn my main mapping for the &quot;/&quot; endpoint which the website was on I added: `model.addAttribute(&quot;form&quot;, new Form());` and exposed it as in the FormController it wasn&#39;t exposing it.","title":"Spring - Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute","body":"<p>I figured it out. I had a separate FormController class with my mapping in it,\nIn my main mapping for the &quot;/&quot; endpoint which the website was on I added: <code>model.addAttribute(&quot;form&quot;, new Form());</code> and exposed it as in the FormController it wasn't exposing it.</p>\n"}],"owner":{"account_id":26359927,"reputation":1,"user_id":20016286,"display_name":"Josep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695418035,"creation_date":1695415661,"question_id":77160580,"body_markdown":"I&#39;m using **Java** and **Spring** using **Thymeleaf**.\r\n\r\nI have created a form with a couple inputs, IntelliJ is moaning about it saying it cannot resolve the Thymeleaf object attribute. When I try to load the website it gives error code 500.\r\n\r\nI have tried a lot of the common issues online like missing the xmlns:th in the HTML tag, I&#39;ve played endlessly around with changing tiny little things from old versions. Not quite sure what to do anymore I&#39;ve been to the end of the internet and back but maybe I&#39;m being stupid.\r\nHere is the stack:\r\n\r\n```\r\n2023-09-22T21:20:01.188+01:00 ERROR 15828 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/index.html]&quot;)] with root cause\r\n\r\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.thymeleaf.spring6.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:232) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nAs I saw that it saying its struggling to link between the form and mapping in the controller.\r\nI have played around with the controller changing things like adding `model.addAttribute(&quot;form&quot;, new Form());` however this does not fix it. I have `@ModelAttribute(&quot;form&quot;)`.\r\n\r\nI have also tried looking for an annotation to add in Form.java which is my object it needs to bind too.\r\n\r\nThis is my HTML in my template, index.html. This is where IntelliJ has got orange moan lines under `${form}` and red ones under; `*{name}`, `*{email}`, `*{message}`. I have attempted a few things like having `&lt;form:form hidde..` and also that with `th:`, Not quite sure if the issue is here or not.\r\n\r\n```xml\r\n    &lt;div class=&quot;grid-item&quot; id=&quot;content-box&quot;&gt;\r\n        &lt;noscript&gt;&lt;p style=&quot;color: #ffffff; text-align: center&quot;&gt;You do not have Javascript enabled. It is required for this website to work correctly.&lt;/p&gt;&lt;/noscript&gt;\r\n        &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;\r\n        &lt;form hidden id=&quot;form&quot; th:action=&quot;@{/form}&quot; th:object=&quot;${form}&quot;&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Name: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;&lt;/p&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Email: &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;&gt;&lt;/p&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;&gt;&lt;/p&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n```\r\n\r\nAs said before with my FormController, I have changed some things, I tried switching from `PostMapping()` to `RequestMapping()` and then adding `modelAttribute=&quot;form&quot;` in there but that doesn&#39;t work either.\r\nI also added `model.addAttribute(&quot;form&quot;, new Form())` as someone said that fixes it, however it is still happening.\r\n\r\n\r\n```java\r\n@Controller\r\npublic class FormController {\r\n    @PostMapping(&quot;/form&quot;)\r\n    public void formReceived(@ModelAttribute(&quot;form&quot;) Form form, Model model) {\r\n        model.addAttribute(&quot;form&quot;, new Form());\r\n        System.out.println(form.getName());\r\n    }\r\n}\r\n```\r\n\r\nFinally the last link which I can think of is my form class however I don&#39;t see where it could of gone wrong, I have tried searching through the annotations too see if there is anything I can add, but I haven&#39;t found one.\r\n\r\n\r\n```java\r\npublic class Form {\r\n    private String name;\r\n    private String email;\r\n    private String message;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n}\r\n```\r\n\r\nSo yeah.. I&#39;m not sure where to go here, there are a lot of similar things on here but they are all from 2016 and have like 1 one response, which is where I got many of these little fixes but they haven&#39;t worked for what I suspect is them being really old.\r\n","title":"Spring - Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute","body":"<p>I'm using <strong>Java</strong> and <strong>Spring</strong> using <strong>Thymeleaf</strong>.</p>\n<p>I have created a form with a couple inputs, IntelliJ is moaning about it saying it cannot resolve the Thymeleaf object attribute. When I try to load the website it gives error code 500.</p>\n<p>I have tried a lot of the common issues online like missing the xmlns:th in the HTML tag, I've played endlessly around with changing tiny little things from old versions. Not quite sure what to do anymore I've been to the end of the internet and back but maybe I'm being stupid.\nHere is the stack:</p>\n<pre><code>2023-09-22T21:20:01.188+01:00 ERROR 15828 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/index.html]&quot;)] with root cause\n\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'form' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.thymeleaf.spring6.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:232) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>As I saw that it saying its struggling to link between the form and mapping in the controller.\nI have played around with the controller changing things like adding <code>model.addAttribute(&quot;form&quot;, new Form());</code> however this does not fix it. I have <code>@ModelAttribute(&quot;form&quot;)</code>.</p>\n<p>I have also tried looking for an annotation to add in Form.java which is my object it needs to bind too.</p>\n<p>This is my HTML in my template, index.html. This is where IntelliJ has got orange moan lines under <code>${form}</code> and red ones under; <code>*{name}</code>, <code>*{email}</code>, <code>*{message}</code>. I have attempted a few things like having <code>&lt;form:form hidde..</code> and also that with <code>th:</code>, Not quite sure if the issue is here or not.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;div class=&quot;grid-item&quot; id=&quot;content-box&quot;&gt;\n        &lt;noscript&gt;&lt;p style=&quot;color: #ffffff; text-align: center&quot;&gt;You do not have Javascript enabled. It is required for this website to work correctly.&lt;/p&gt;&lt;/noscript&gt;\n        &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;\n        &lt;form hidden id=&quot;form&quot; th:action=&quot;@{/form}&quot; th:object=&quot;${form}&quot;&gt;\n            &lt;p class=&quot;text&quot;&gt;Name: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;&lt;/p&gt;\n            &lt;p class=&quot;text&quot;&gt;Email: &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;&gt;&lt;/p&gt;\n            &lt;p class=&quot;text&quot;&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>As said before with my FormController, I have changed some things, I tried switching from <code>PostMapping()</code> to <code>RequestMapping()</code> and then adding <code>modelAttribute=&quot;form&quot;</code> in there but that doesn't work either.\nI also added <code>model.addAttribute(&quot;form&quot;, new Form())</code> as someone said that fixes it, however it is still happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class FormController {\n    @PostMapping(&quot;/form&quot;)\n    public void formReceived(@ModelAttribute(&quot;form&quot;) Form form, Model model) {\n        model.addAttribute(&quot;form&quot;, new Form());\n        System.out.println(form.getName());\n    }\n}\n</code></pre>\n<p>Finally the last link which I can think of is my form class however I don't see where it could of gone wrong, I have tried searching through the annotations too see if there is anything I can add, but I haven't found one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Form {\n    private String name;\n    private String email;\n    private String message;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n<p>So yeah.. I'm not sure where to go here, there are a lot of similar things on here but they are all from 2016 and have like 1 one response, which is where I got many of these little fixes but they haven't worked for what I suspect is them being really old.</p>\n"},{"tags":["java","swing","jbutton","keylistener"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695417577,"post_id":77160671,"comment_id":136026810,"body_markdown":"Use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\nto help you get around the focus issues which are undoubtably plaguing your code.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> to help you get around the focus issues which are undoubtably plaguing your code."},{"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"score":0,"creation_date":1695417677,"post_id":77160671,"comment_id":136026825,"body_markdown":"and your jp.requestFocusInWindow(); won&#39;t work unless the button is added to the JFrame first.  Your code was calling it before returning the panel, which wasn&#39;t added to the JFrame yet.","body":"and your jp.requestFocusInWindow(); won&#39;t work unless the button is added to the JFrame first.  Your code was calling it before returning the panel, which wasn&#39;t added to the JFrame yet."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1695417723,"post_id":77160671,"comment_id":136026830,"body_markdown":"But regardless of what @TrevorHarrison, setting focus is a kludge since if something else shifts the focus, the code won&#39;t work again. Again, use Key Bindings.","body":"But regardless of what @TrevorHarrison, setting focus is a kludge since if something else shifts the focus, the code won&#39;t work again. Again, use Key Bindings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695417901,"post_id":77160671,"comment_id":136026853,"body_markdown":"For an outline of reasons to use Key Bindings in place of a KeyListener, pelase check out Camickr&#39;s link here, [Key Bindings](http://tips4java.wordpress.com/2008/10/10/key-bindings/). Also, again, please check out the tutorial link which I&#39;ve given in my first comment.","body":"For an outline of reasons to use Key Bindings in place of a KeyListener, pelase check out Camickr&#39;s link here, <a href=\"http://tips4java.wordpress.com/2008/10/10/key-bindings/\" rel=\"nofollow noreferrer\">Key Bindings</a>. Also, again, please check out the tutorial link which I&#39;ve given in my first comment."},{"owner":{"account_id":9532198,"reputation":91,"user_id":7083453,"display_name":"ABC DEF"},"score":0,"creation_date":1695418645,"post_id":77160671,"comment_id":136026926,"body_markdown":"Do I have to make key bindings to every letter? The users will be entering words.","body":"Do I have to make key bindings to every letter? The users will be entering words."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695419279,"post_id":77160671,"comment_id":136026990,"body_markdown":"You could do this, creating a shared Action class, or you could use a global event listener, such as via the AWTListener, as per [Camicker&#39;s answer and link here](https://stackoverflow.com/a/16204011/)","body":"You could do this, creating a shared Action class, or you could use a global event listener, such as via the AWTListener, as per <a href=\"https://stackoverflow.com/a/16204011/\">Camicker&#39;s answer and link here</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695421168,"post_id":77160671,"comment_id":136027227,"body_markdown":"The &quot;problem&quot; with `KeyListener` is, if another focusable component takes focus, like `JButton`, it will no longer be triggered - the solution is dependent on your requirements, but you could just as easily use a `JTextField` as your primary input","body":"The &quot;problem&quot; with <code>KeyListener</code> is, if another focusable component takes focus, like <code>JButton</code>, it will no longer be triggered - the solution is dependent on your requirements, but you could just as easily use a <code>JTextField</code> as your primary input"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695421284,"post_id":77160671,"comment_id":136027244,"body_markdown":"1) *As soon as I remove the JButton from the code,* -why would you add the button to the panel? If you are doing custom painting don&#39;t add a Swing component to the same panel. Create a parent panel and add the button and the PanelGUI to the same panel. 2) Note class names start with an upper case character. 3) Why do you think you need a KeyListener? Why not add a JTextField for the user to type a character. If the character is valid you do your game logic or give an error message. Then you clear the text area for the next character.","body":"1) <i>As soon as I remove the JButton from the code,</i> -why would you add the button to the panel? If you are doing custom painting don&#39;t add a Swing component to the same panel. Create a parent panel and add the button and the PanelGUI to the same panel. 2) Note class names start with an upper case character. 3) Why do you think you need a KeyListener? Why not add a JTextField for the user to type a character. If the character is valid you do your game logic or give an error message. Then you clear the text area for the next character."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695421288,"post_id":77160671,"comment_id":136027246,"body_markdown":"4) Why are your listeners extending JFrame? The listener is NOT a frame. The listener class doesn&#39;t need to extend anything unless you want to extend `MouseAdapter&quot; then you only override the methods that have logic.","body":"4) Why are your listeners extending JFrame? The listener is NOT a frame. The listener class doesn&#39;t need to extend anything unless you want to extend `MouseAdapter&quot; then you only override the methods that have logic."}],"owner":{"account_id":9532198,"reputation":91,"user_id":7083453,"display_name":"ABC DEF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695417536,"answer_count":0,"score":0,"last_activity_date":1695417991,"creation_date":1695416698,"question_id":77160671,"body_markdown":"Please forgive my impatience and stress as this is my 7th day trying to figure this out. I have tried requestfocus everywhere to no avail. I&#39;ve tried System.out.print&#39;ing the keyPressed at the beginning and there is no response. As soon as I remove the JButton from the code, namely,\r\n    jp.add(submit);\r\nit sstarts working again. Any thoughts?\r\n\r\n    package scrabbleracks;\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Vector;\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableCellRenderer;\r\n    import javax.swing.table.TableColumn;\r\n    public class Scrabble extends JPanel {\r\n\t\r\n\t\tpublic JFrame jf;\r\n\t\tpublic JButton submit;\r\n\r\n\t\tpublic Scrabble() {\r\n\t\t\tinit();\r\n\t\t\tgui();\r\n\t\t}\r\n\t\t\r\n\tpublic void gui() {\r\n\t\tjf = new JFrame();\r\n\t\tjf.setBounds(0, 0, 1000, 1200);\r\n\t\tjf.getContentPane().add(panelGUI());\r\n\t\tjf.setVisible(true);\r\n\t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tKeyListenerTest kl = new KeyListenerTest();\r\n\t\tjf.addKeyListener(kl);\r\n\t\t\r\n\t\tMouseEvents me = new MouseEvents();\r\n\t\tjf.addMouseListener(me);\r\n\t\tjf.addMouseMotionListener(me);\r\n\t}\r\n\r\n\r\n\tpublic JPanel panelGUI() {\r\n\t\tJPanel jp = new JPanel() {\r\n\t\t\t@Override\r\n\t\t\tpublic void paintComponent(Graphics g) { \r\n\t\t\t\t...\r\n\t\t\t}\r\n\r\n\t\t}; \r\n\t\t\r\n\t\t\r\n\t \t\tsubmit = new JButton(&quot;Submit&quot;);\r\n\t\t\t\tjp.add(submit);\r\n\t\t\t\tjp.setFocusable(true);\r\n\t\t\t\tjp.requestFocusInWindow();\r\n\t\t\t\t\r\n\t    submit.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent d){\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tjp.setVisible(true);\r\n\t\tjp.setOpaque(true);\r\n\t\treturn jp;\r\n\r\n\t}\r\n\r\n       \r\n       \r\n\r\n    public class MouseEvents extends JFrame implements MouseListener, MouseMotionListener {\r\n\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent event) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseReleased(MouseEvent arg0) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseDragged(MouseEvent e) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseClicked(MouseEvent e) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n     public class KeyListenerTest extends JFrame implements KeyListener, ActionListener {\r\n\r\n\t\tpublic KeyListenerTest() {\r\n\t\t     this.setFocusable(true);\r\n\t             this.requestFocusInWindow();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void keyTyped(KeyEvent ke) {\r\n\r\n\t\t\tString f = &quot;&quot;;\r\n\t\t\tSystem.out.println(&quot;cantilena&quot;);\t\r\n\t\t\tif ((xxx &lt; 15 &amp;&amp; yyy &lt; 15) &amp;&amp; (xxx &gt;= 0 &amp;&amp; yyy &gt;= 0)) {\r\n\r\n\t\t\tchar cChar = ke.getKeyChar();\r\n\t\t\tString cStr = Character.toString(cChar).toUpperCase();\r\n\t\t\tSystem.out.println(&quot;bbb &quot; + cStr);\r\n\t\r\n\t\t\t\t\tif (isLetter(cStr)) {\r\n\t\t\tif (isOnRack(cStr)) {\r\n\t\t\t\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;LOL &quot; + cStr);\r\n\t\t\t\t\tboardLetters2DArray[xxx][yyy] = cStr;\r\n\t\t\t\t\tjf.validate();\r\n\t\t\t\t\tjf.repaint();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (downRightOrNothing == 1) {\r\n\t\t\t\t\t\t\tyyy += 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (downRightOrNothing == 2) {\r\n\t\t\t\t\t\t\txxx += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tjf.validate();\r\n\t\t\t\t\t\tjf.repaint();\r\n\t\t\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;vdvvdvdvdvdvdvdvdvdvdvd&quot;);\r\n\t\t\t\tif (isOnRack(&quot;_&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;ccc&quot;);\r\n\t\t\t\t\tboardLetters2DArray[xxx][yyy] = &quot;thisisablank&quot; + cStr;\r\n\t\t\t\t\tif (downRightOrNothing == 1) {\r\n\t\t\t\t\t\tyyy += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (downRightOrNothing == 2) {\r\n\t\t\t\t\t\txxx += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjf.validate();\r\n\t\t\t\t\tjf.repaint();\r\n\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent ke) {\r\n\t\t\tif (ke.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent ke) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n     \r\n     }\r\n\r\nI&#39;ve tried requestFocusw, rewriting the code from scratch, ","title":"Why isn&#39;t the keylistener working after adding a component to the main JPanel","body":"<p>Please forgive my impatience and stress as this is my 7th day trying to figure this out. I have tried requestfocus everywhere to no avail. I've tried System.out.print'ing the keyPressed at the beginning and there is no response. As soon as I remove the JButton from the code, namely,\njp.add(submit);\nit sstarts working again. Any thoughts?</p>\n<pre><code>package scrabbleracks;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Vector;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableColumn;\npublic class Scrabble extends JPanel {\n\n    public JFrame jf;\n    public JButton submit;\n\n    public Scrabble() {\n        init();\n        gui();\n    }\n    \npublic void gui() {\n    jf = new JFrame();\n    jf.setBounds(0, 0, 1000, 1200);\n    jf.getContentPane().add(panelGUI());\n    jf.setVisible(true);\n    jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    KeyListenerTest kl = new KeyListenerTest();\n    jf.addKeyListener(kl);\n    \n    MouseEvents me = new MouseEvents();\n    jf.addMouseListener(me);\n    jf.addMouseMotionListener(me);\n}\n\n\npublic JPanel panelGUI() {\n    JPanel jp = new JPanel() {\n        @Override\n        public void paintComponent(Graphics g) { \n            ...\n        }\n\n    }; \n    \n    \n        submit = new JButton(&quot;Submit&quot;);\n            jp.add(submit);\n            jp.setFocusable(true);\n            jp.requestFocusInWindow();\n            \n    submit.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent d){\n            ...\n        }\n    });\n\n    jp.setVisible(true);\n    jp.setOpaque(true);\n    return jp;\n\n}\n\n   \n   \n\npublic class MouseEvents extends JFrame implements MouseListener, MouseMotionListener {\n\n    @Override\n    public void mousePressed(MouseEvent event) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent arg0) {\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n\n\n public class KeyListenerTest extends JFrame implements KeyListener, ActionListener {\n\n    public KeyListenerTest() {\n         this.setFocusable(true);\n             this.requestFocusInWindow();\n    }\n    \n    @Override\n    public void keyTyped(KeyEvent ke) {\n\n        String f = &quot;&quot;;\n        System.out.println(&quot;cantilena&quot;);    \n        if ((xxx &lt; 15 &amp;&amp; yyy &lt; 15) &amp;&amp; (xxx &gt;= 0 &amp;&amp; yyy &gt;= 0)) {\n\n        char cChar = ke.getKeyChar();\n        String cStr = Character.toString(cChar).toUpperCase();\n        System.out.println(&quot;bbb &quot; + cStr);\n\n                if (isLetter(cStr)) {\n        if (isOnRack(cStr)) {\n        \n\n                System.out.println(&quot;LOL &quot; + cStr);\n                boardLetters2DArray[xxx][yyy] = cStr;\n                jf.validate();\n                jf.repaint();\n                \n                if (downRightOrNothing == 1) {\n                        yyy += 1;\n                    }\n\n                    if (downRightOrNothing == 2) {\n                        xxx += 1;\n                    }\n                    \n                    jf.validate();\n                    jf.repaint();\n                }else {\n            System.out.println(&quot;vdvvdvdvdvdvdvdvdvdvdvd&quot;);\n            if (isOnRack(&quot;_&quot;)) {\n                System.out.println(&quot;ccc&quot;);\n                boardLetters2DArray[xxx][yyy] = &quot;thisisablank&quot; + cStr;\n                if (downRightOrNothing == 1) {\n                    yyy += 1;\n                }\n                if (downRightOrNothing == 2) {\n                    xxx += 1;\n                }\n                jf.validate();\n                jf.repaint();\n\n            }\n            }\n            \n        } \n    }\n        \n    }\n    \n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n        if (ke.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\n\n\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n\n    }\n\n}\n \n }\n</code></pre>\n<p>I've tried requestFocusw, rewriting the code from scratch,</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1314052529,"creation_date":1314052529,"answer_id":7154407,"question_id":7141803,"body_markdown":"There is no automated way, but you could do it by creating custom JsonNodeFactory which creates custom ObjectNodes -- and then you can override method(s) used for adding and accessing entries.\r\n","title":"Case-insensitive JsonNode in Jackson","body":"<p>There is no automated way, but you could do it by creating custom JsonNodeFactory which creates custom ObjectNodes -- and then you can override method(s) used for adding and accessing entries.</p>\n"},{"tags":[],"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602555337,"creation_date":1602555337,"answer_id":64327536,"question_id":7141803,"body_markdown":"This feature is available as of 2.5 (Jan 2015):\r\n\r\n**ACCEPT_CASE_INSENSITIVE_PROPERTIES**\r\n\r\n&gt;Feature that will allow for more forgiving deserialization of incoming JSON. If enabled, the bean properties will be matched using their lower-case equivalents, meaning that any case-combination (incoming and matching names are canonicalized by lower-casing) should work.\r\nNote that there is additional performance overhead since incoming property names need to be lower-cased before comparison, for cases where there are upper-case letters. Overhead for names that are already lower-case should be negligible however.\r\n\r\nFeature is disabled by default.\r\n\r\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html","title":"Case-insensitive JsonNode in Jackson","body":"<p>This feature is available as of 2.5 (Jan 2015):</p>\n<p><strong>ACCEPT_CASE_INSENSITIVE_PROPERTIES</strong></p>\n<blockquote>\n<p>Feature that will allow for more forgiving deserialization of incoming JSON. If enabled, the bean properties will be matched using their lower-case equivalents, meaning that any case-combination (incoming and matching names are canonicalized by lower-casing) should work.\nNote that there is additional performance overhead since incoming property names need to be lower-cased before comparison, for cases where there are upper-case letters. Overhead for names that are already lower-case should be negligible however.</p>\n</blockquote>\n<p>Feature is disabled by default.</p>\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html</a></p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695417266,"creation_date":1695417266,"answer_id":77160707,"question_id":7141803,"body_markdown":"Unfortunately, as other&#39;s have noted, Jackson&#39;s `JsonNode` doesn&#39;t offer an internal feature for a case insensitive key lookup.  However, lucky for us, most `JsonNode`&#39;s can be easily converted to a map, and there are a few other `Map` implementations that do in fact offer a case insensitive lookup.  The easiest of these is [Spring&#39;s `LinkedCaseInsensitiveMap`][1], but [Java&#39;s `TreeMap`][2] will also work.  \r\n\r\nAll we have to do is convert the JsonNode to the map of choice and do the lookup there.  I&#39;ve listed a few examples below, and I&#39;m using the below method to create a JsonNode for use with these classes;\r\n\r\n```java\r\npublic JsonNode createNode()\r\n{\r\n  Map&lt;String, List&lt;String&gt;&gt; table = new HashMap&lt;&gt;();\r\n  table.put(&quot;first&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;firstprop1&quot;, &quot;firstprop2&quot;)));\r\n  table.put(&quot;second&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;secondprop1&quot;, &quot;secondprop2&quot;)));\r\n  table.put(&quot;third&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;thirdprop1&quot;, &quot;thirdprop2&quot;)));\r\n\r\n  return new ObjectMapper().valueToTree(table);\r\n}\r\n```\r\n\r\n\r\n# LinkedCaseInsensitiveMap\r\n\r\nIf you are using Spring, I recommend using the `LinkedCaseInsensitiveMap`.  You won&#39;t need to update your dependencies and it &quot;preserves the original order as well as the original casing of keys, while allowing for contains, get and remove calls with any case of key.&quot;\r\n\r\n## Example\r\n```java\r\npublic JsonNode getCaseInsensitiveKey(JsonNode node, String key)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  Map&lt;String, Object&gt; testing =\r\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, List.class));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n# TreeMap\r\n\r\n`TreeMap` is the vanilla java solution.  `TreeMap` takes a custom comparator as a constructor argument.  You can use String bundled comparator `CASE_INSENSITIVE_ORDER` to create a case insensitive comparator.\r\n\r\n## Example\r\n```java\r\npublic JsonNode getCaseInsensitiveKeyFromTreeMap(JsonNode node, String key)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  TreeMap&lt;String, Object&gt; testing = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n  testing.putAll(mapper.convertValue(node, mapper.getTypeFactory().constructMapType(Map.class, String.class, List.class)));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n# Testing\r\nThe above methods work for the following tests.\r\n```java\r\n@Test\r\npublic void testCaseInsensitivity()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;);\r\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;);\r\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n}\r\n\r\n@Test\r\npublic void testCaseInsensitivityFromTreeMap()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;first&quot;);\r\n  var result2 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FiRsT&quot;);\r\n  var result3 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FIRST&quot;);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n```\r\n\r\n# Limitations\r\n\r\nNote that the above examples will only work to create a `Map&lt;String, List&gt;`.  This means it will not work with OPs example, which maps an integer, and not a list.  However, we can modify this to dynamically assign the inner class using java generics.\r\n\r\n## Example\r\n```java\r\npublic &lt;T&gt; JsonNode getCaseInsensitiveKey(JsonNode node, String key, Class&lt;T&gt; clazz)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  Map&lt;String, T&gt; testing =\r\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, clazz));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n## Testing\r\nNow, with the above modification, we can test the OPs example and successfully get the correct result.\r\n```java\r\n@Test\r\npublic void useOfOpExample() throws JsonProcessingException\r\n{\r\n  String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  JsonNode node = mapper.readTree(s);\r\n  var fooNode1 = getCaseInsensitiveKey(node, &quot;foo&quot;, Integer.class);\r\n  var fooNode2 = getCaseInsensitiveKey(node, &quot;FOO&quot;, Integer.class);\r\n  assertEquals(fooNode1, fooNode2);\r\n}\r\n```\r\nWe are also able to still use our previous tests, with a slight modification, to also get the same result.\r\n```java\r\n@Test\r\npublic void testCaseInsensitivity()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;, List.class);\r\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;, List.class);\r\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;, List.class);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/LinkedCaseInsensitiveMap.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html","title":"Case-insensitive JsonNode in Jackson","body":"<p>Unfortunately, as other's have noted, Jackson's <code>JsonNode</code> doesn't offer an internal feature for a case insensitive key lookup.  However, lucky for us, most <code>JsonNode</code>'s can be easily converted to a map, and there are a few other <code>Map</code> implementations that do in fact offer a case insensitive lookup.  The easiest of these is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/LinkedCaseInsensitiveMap.html\" rel=\"nofollow noreferrer\">Spring's <code>LinkedCaseInsensitiveMap</code></a>, but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">Java's <code>TreeMap</code></a> will also work.</p>\n<p>All we have to do is convert the JsonNode to the map of choice and do the lookup there.  I've listed a few examples below, and I'm using the below method to create a JsonNode for use with these classes;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode createNode()\n{\n  Map&lt;String, List&lt;String&gt;&gt; table = new HashMap&lt;&gt;();\n  table.put(&quot;first&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;firstprop1&quot;, &quot;firstprop2&quot;)));\n  table.put(&quot;second&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;secondprop1&quot;, &quot;secondprop2&quot;)));\n  table.put(&quot;third&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;thirdprop1&quot;, &quot;thirdprop2&quot;)));\n\n  return new ObjectMapper().valueToTree(table);\n}\n</code></pre>\n<h1>LinkedCaseInsensitiveMap</h1>\n<p>If you are using Spring, I recommend using the <code>LinkedCaseInsensitiveMap</code>.  You won't need to update your dependencies and it &quot;preserves the original order as well as the original casing of keys, while allowing for contains, get and remove calls with any case of key.&quot;</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode getCaseInsensitiveKey(JsonNode node, String key)\n{\n  var mapper = new ObjectMapper();\n  Map&lt;String, Object&gt; testing =\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, List.class));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h1>TreeMap</h1>\n<p><code>TreeMap</code> is the vanilla java solution.  <code>TreeMap</code> takes a custom comparator as a constructor argument.  You can use String bundled comparator <code>CASE_INSENSITIVE_ORDER</code> to create a case insensitive comparator.</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode getCaseInsensitiveKeyFromTreeMap(JsonNode node, String key)\n{\n  var mapper = new ObjectMapper();\n  TreeMap&lt;String, Object&gt; testing = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n  testing.putAll(mapper.convertValue(node, mapper.getTypeFactory().constructMapType(Map.class, String.class, List.class)));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h1>Testing</h1>\n<p>The above methods work for the following tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testCaseInsensitivity()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;);\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;);\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n}\n\n@Test\npublic void testCaseInsensitivityFromTreeMap()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;first&quot;);\n  var result2 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FiRsT&quot;);\n  var result3 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FIRST&quot;);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n</code></pre>\n<h1>Limitations</h1>\n<p>Note that the above examples will only work to create a <code>Map&lt;String, List&gt;</code>.  This means it will not work with OPs example, which maps an integer, and not a list.  However, we can modify this to dynamically assign the inner class using java generics.</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; JsonNode getCaseInsensitiveKey(JsonNode node, String key, Class&lt;T&gt; clazz)\n{\n  var mapper = new ObjectMapper();\n  Map&lt;String, T&gt; testing =\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, clazz));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h2>Testing</h2>\n<p>Now, with the above modification, we can test the OPs example and successfully get the correct result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void useOfOpExample() throws JsonProcessingException\n{\n  String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\n  ObjectMapper mapper = new ObjectMapper();\n  JsonNode node = mapper.readTree(s);\n  var fooNode1 = getCaseInsensitiveKey(node, &quot;foo&quot;, Integer.class);\n  var fooNode2 = getCaseInsensitiveKey(node, &quot;FOO&quot;, Integer.class);\n  assertEquals(fooNode1, fooNode2);\n}\n</code></pre>\n<p>We are also able to still use our previous tests, with a slight modification, to also get the same result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testCaseInsensitivity()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;, List.class);\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;, List.class);\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;, List.class);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n}\n</code></pre>\n"}],"owner":{"account_id":9661,"reputation":10754,"user_id":17944,"accept_rate":100,"display_name":"David Phillips"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5411,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7154407,"answer_count":3,"score":5,"last_activity_date":1695417266,"creation_date":1313968662,"question_id":7141803,"body_markdown":"I need to deserialize JSON objects and access the fields in a case-insensitive manner.  Example:\r\n\r\n    String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(s);\r\n    node.get(&quot;foo&quot;); // this should return the &quot;FOO&quot; field\r\n\r\nThis needs to be performant, so calling `getFieldNames()` and lowercasing the results is not a good solution.","title":"Case-insensitive JsonNode in Jackson","body":"<p>I need to deserialize JSON objects and access the fields in a case-insensitive manner.  Example:</p>\n\n<pre><code>String s = \"{\\\"FOO\\\": 123}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(s);\nnode.get(\"foo\"); // this should return the \"FOO\" field\n</code></pre>\n\n<p>This needs to be performant, so calling <code>getFieldNames()</code> and lowercasing the results is not a good solution.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695412730,"post_id":77160341,"comment_id":136026122,"body_markdown":"Define the testcontainers-bom before the bom of projecta-bom...","body":"Define the testcontainers-bom before the bom of projecta-bom..."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695413750,"post_id":77160341,"comment_id":136026273,"body_markdown":"I know that i can change the order of my imports. i edited my post to ask the more specific question: why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?","body":"I know that i can change the order of my imports. i edited my post to ask the more specific question: why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695415073,"post_id":77160341,"comment_id":136026475,"body_markdown":"Also can you show the full poms for module1 and module2...","body":"Also can you show the full poms for module1 and module2..."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695416995,"post_id":77160341,"comment_id":136026737,"body_markdown":"Updated pom.xml for module1 and module2. Updated module2 to be more representative of what our real poms look like.","body":"Updated pom.xml for module1 and module2. Updated module2 to be more representative of what our real poms look like."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695542717,"post_id":77160341,"comment_id":136036351,"body_markdown":"@Wonger I understand that you need to &quot;shorten&quot; the BOMs/POMs, but I guess you missed something somewhere. The BOMs/POMs in the question seem fine.","body":"@Wonger I understand that you need to &quot;shorten&quot; the BOMs/POMs, but I guess you missed something somewhere. The BOMs/POMs in the question seem fine."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695652219,"post_id":77160341,"comment_id":136049487,"body_markdown":"@JFabianMeier, I&#39;m not sure what you mean by &quot;the boms / poms look fine&quot;. Are you saying that that, based on the poms i provided, the `projecta-bom` import is expected to bring the testcontainer dependencies from projectA as transitive dependencies? Even though they have `&lt;scope&gt;test&lt;/scope&gt;`?","body":"@JFabianMeier, I&#39;m not sure what you mean by &quot;the boms / poms look fine&quot;. Are you saying that that, based on the poms i provided, the <code>projecta-bom</code> import is expected to bring the testcontainer dependencies from projectA as transitive dependencies? Even though they have <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code>?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695655433,"post_id":77160341,"comment_id":136050254,"body_markdown":"@Wonger I mean that from the XML you provided, you should get version `1.18.3`","body":"@Wonger I mean that from the XML you provided, you should get version <code>1.18.3</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695917176,"post_id":77160341,"comment_id":136090769,"body_markdown":"Can you provide an example project on github or alike?","body":"Can you provide an example project on github or alike?"}],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695416909,"creation_date":1695412540,"question_id":77160341,"body_markdown":"I have 2 projects, project A and project B which each import the testcontainer-bom, but with different versions, in their parent pom.xml:\r\n\r\nproject A:\r\n```\r\n...\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module1&lt;/module&gt;\r\n        &lt;module&gt;module2&lt;/module&gt;\r\n        &lt;module&gt;projecta-bom&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        ...\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.16.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n...\r\n```\r\nand the modules are the following:\r\n\r\n\r\nmodule1:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- TESTS --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmodule2:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;module2&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n          &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Testing Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nand\r\n\r\nprojecta-bom:\r\n```\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module2&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependencyManagement&gt;\r\n```\r\n\r\n\r\nproject B:\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;projecta-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n```\r\n\r\nWhen I build projectB, i end up with testcontainers:jdbc and testcontainers:postgresql versions 1.16.3. I understand that if the same artifact is defined with different versions in 2 imported BOMs, then the version in the BOM file that was declared first will win, but its not clear to me why the testcontainer dependencies from projectA are being imported in the first place, given that they have a test scope. \r\n\r\nAm I doing something wrong? or am I misunderstanding how dependency scopes and BOMs work?\r\n\r\nedit: to be more specific, why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?\r\n\r\nmaven version: 3.8.4 \r\njava version: 17.0.7","title":"Why is the wrong dependency version imported when importing 2 BOMs with test dependencies","body":"<p>I have 2 projects, project A and project B which each import the testcontainer-bom, but with different versions, in their parent pom.xml:</p>\n<p>project A:</p>\n<pre><code>...\n    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n        &lt;module&gt;projecta-bom&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        ...\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.16.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n    &lt;dependencyManagement&gt;\n...\n</code></pre>\n<p>and the modules are the following:</p>\n<p>module1:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;module1&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>module2:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;module2&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;artifactId&gt;module1&lt;/artifactId&gt;\n          &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n          &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Testing Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and</p>\n<p>projecta-bom:</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;module1&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;module2&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;dependencyManagement&gt;\n</code></pre>\n<p>project B:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;projecta-bom&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.18.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n    &lt;dependencyManagement&gt;\n</code></pre>\n<p>When I build projectB, i end up with testcontainers:jdbc and testcontainers:postgresql versions 1.16.3. I understand that if the same artifact is defined with different versions in 2 imported BOMs, then the version in the BOM file that was declared first will win, but its not clear to me why the testcontainer dependencies from projectA are being imported in the first place, given that they have a test scope.</p>\n<p>Am I doing something wrong? or am I misunderstanding how dependency scopes and BOMs work?</p>\n<p>edit: to be more specific, why are dependencies with test from being pulled in from projecta-bom?</p>\n<p>maven version: 3.8.4\njava version: 17.0.7</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686049700,"post_id":76411398,"comment_id":134742914,"body_markdown":"Any reason for tweaking WebServerFactoryCustomizer Bean ? Also what do you mean by additional port ?","body":"Any reason for tweaking WebServerFactoryCustomizer Bean ? Also what do you mean by additional port ?"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686052113,"post_id":76411398,"comment_id":134743399,"body_markdown":"Actually my objective was to enable private and public api where public api will only be accessed over internet which will be enabled in firewall.","body":"Actually my objective was to enable private and public api where public api will only be accessed over internet which will be enabled in firewall."},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686128117,"post_id":76411398,"comment_id":134755267,"body_markdown":"it is something to do with SSL as I can see (1) port Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;] (2) port Starting ProtocolHandler [&quot;http-nio-19280&quot;] though it shows Tomcat started on port(s): 9280 (https) 19280 (https). Http nio is for http and not https. Any lead will be off great help","body":"it is something to do with SSL as I can see (1) port Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;] (2) port Starting ProtocolHandler [&quot;http-nio-19280&quot;] though it shows Tomcat started on port(s): 9280 (https) 19280 (https). Http nio is for http and not https. Any lead will be off great help"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686153782,"post_id":76411398,"comment_id":134761155,"body_markdown":"Let me give it a try &amp; see","body":"Let me give it a try &amp; see"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686159165,"post_id":76411398,"comment_id":134762217,"body_markdown":"I got the thing working, i will cleanup and post complete solution tomorrow.","body":"I got the thing working, i will cleanup and post complete solution tomorrow."},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686161382,"post_id":76411398,"comment_id":134762664,"body_markdown":"Excellent !! will wait for the answer","body":"Excellent !! will wait for the answer"}],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686049638,"creation_date":1686049638,"answer_id":76414028,"question_id":76411398,"body_markdown":"Couple of months back I enabled https for our REST API in Spring boot,used self signed certificate for local testing generated using Java keytool\r\n\r\n```\r\nkeytool -genkeypair -alias team_api -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore gaskit.p12 -storepass pwd -validity 3650\r\n```\r\n\r\nAnd then adding following properties in application.properties \r\n\r\n```\r\nserver.ssl.key-store-type=${ssl_key_store_type}\r\n# The path to the keystore containing the certificate\r\nserver.ssl.key-store=${ssl_key_store}\r\n# The password used to generate the certificate\r\nserver.ssl.key-store-password=${ssl_key_store_Password}\r\n# The alias mapped to the certificate\r\nserver.ssl.key-alias=${ssl_key_alias}\r\nserver.ssl.enabled=true\r\n\r\n```","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>Couple of months back I enabled https for our REST API in Spring boot,used self signed certificate for local testing generated using Java keytool</p>\n<pre><code>keytool -genkeypair -alias team_api -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore gaskit.p12 -storepass pwd -validity 3650\n</code></pre>\n<p>And then adding following properties in application.properties</p>\n<pre><code>server.ssl.key-store-type=${ssl_key_store_type}\n# The path to the keystore containing the certificate\nserver.ssl.key-store=${ssl_key_store}\n# The password used to generate the certificate\nserver.ssl.key-store-password=${ssl_key_store_Password}\n# The alias mapped to the certificate\nserver.ssl.key-alias=${ssl_key_alias}\nserver.ssl.enabled=true\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686333030,"creation_date":1686193145,"answer_id":76428329,"question_id":76411398,"body_markdown":"Finally, I am able to get Public / Private Api EndPoints by deep dive into Http11NioProtocol. Thanks to Spring Community Documents [Spring Docs][1] under Section: Enable Multiple Connectors with Tomcat for all explanations.\r\n\r\nPlease find complete solution below\r\n1) Create Configuration File for Public Api &lt;pre&gt;&lt;code&gt;\r\n@Configuration\r\n@PropertySource(&quot;classpath:public-api.properties&quot;)\r\n@ConfigurationProperties(prefix = &quot;public.ssl&quot;)\r\n@Data\r\npublic class PublicApiConfig {\r\n\tprivate int port;\r\n\tprivate String keyStoreType;\r\n\tprivate String keyStore;\r\n\tprivate String keyStorePassword;\r\n\tprivate String keyAlias;\r\n\tprivate List&lt;String&gt; pathsToMatch;\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n2) Configuration File public-api.properties &lt;pre&gt;&lt;code&gt;\r\npublic.ssl.port=19280\r\npublic.ssl.key-store-type=PKCS12\r\npublic.ssl.key-store=ssl/your_certificate.p12\r\npublic.ssl.key-store-password=your_password\r\npublic.ssl.key-alias=tomcat\r\npublic.ssl.paths-to-match=/api/public\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n3) Define `server.public.ssl.port.enabled` in your application.properties and value could be true (Public Access) or false.\r\n&lt;pre&gt;&lt;code&gt;# true for Public Api Access\r\nserver.public.ssl.port.enabled=true&lt;/code&gt;&lt;/pre&gt;\r\n4) Create PublicPortCustomizer class\r\n&lt;pre&gt;&lt;code&gt;@Component\r\n@ConditionalOnProperty(value = &quot;server.public.ssl.port.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class PublicPortCustomizer {\r\n\r\n\tprivate static final Logger logger = LogManager.getLogger(PublicPortCustomizer.class);\r\n\r\n\t@Autowired\r\n\tPublicApiConfig publicPortConfig;\r\n\r\n\t/**\r\n\t * Verify if KeyStore is Valid\r\n\t */\r\n\tprivate boolean isValidKeyStoreFile(String keyStoreFile, String keyStorePassword, String keyStoreType) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(keyStoreFile);\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(keyStoreType);\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tkeystore.load(fis, keyStorePassword.toCharArray());\r\n\t\t\treturn true;\r\n\t\t} catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\tif (isValidKeyStoreFile(publicPortConfig.getKeyStore(), publicPortConfig.getKeyStorePassword(),\r\n\t\t\t\tpublicPortConfig.getKeyStoreType())) {\r\n\t\t\tlogger.info(&quot;Configuring Ssl Public for KeyStore: {}&quot;, publicPortConfig.getKeyStore());\r\n\t\t\t/**\r\n\t\t\t * Create Connector\r\n\t\t\t */\r\n\t\t\tConnector connector = createSslConnector();\r\n\t\t\ttomcat.addAdditionalTomcatConnectors(connector);\r\n\t\t} else {\r\n\t\t\tlogger.fatal(&quot;KeyStore for Public: {} is INVALID&quot;, publicPortConfig.getKeyStore());\r\n\t\t}\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\t/**\r\n\t * Create Ssl Connector\r\n\t * @return\r\n\t */\r\n\tprivate Connector createSslConnector() {\r\n\t\tlogger.info(&quot;Configuring Additional Ssl Connector...&quot;);\r\n\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\r\n\t\tconnector.setScheme(&quot;https&quot;);\r\n\t\tconnector.setSecure(true);\r\n\t\tconnector.setPort(publicPortConfig.getPort());\r\n\r\n\t\tHttp11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n\r\n\t\tprotocol.setSSLEnabled(true);\r\n\t\tprotocol.setKeystoreFile(publicPortConfig.getKeyStore());\r\n\t\tprotocol.setKeystorePass(publicPortConfig.getKeyStorePassword());\r\n\t\tprotocol.setKeyAlias(publicPortConfig.getKeyAlias());\r\n\r\n\t\treturn connector;\r\n\t}\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/howto-embedded-web-servers.html\r\n\r\n5) Define SpringSecurity where Public Api will be accessed through JWT which is controlled in Controller\r\n&lt;pre&gt;&lt;code&gt;@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class SpringSecurityConfig {\r\n\r\n\t@Autowired\r\n\tCustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/api/public/**&quot;).permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authorizeRequests().anyRequest().fullyAuthenticated();\r\n\t\thttp.sessionManagement()\r\n\t\t\t\t .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\thttp.httpBasic()\r\n\t\t\t.and()\r\n\t\t\t.authenticationProvider(customAuthenticationProvider);\r\n\t\thttp.csrf().disable();\r\n\t\thttp.requiresChannel(channel -&gt; channel.anyRequest().requiresSecure());\r\n\t\treturn http.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Lazy\r\n    public FilterRegistrationBean&lt;PublicEndpointsFilter&gt; publicEndpointsFilter() {\r\n        return new FilterRegistrationBean&lt;&gt;(new PublicEndpointsFilter(publicPortConfig.getPort(),\r\n        \t\tpublicPortConfig.getPathsToMatch()));\r\n    }\r\n}\r\n &lt;/code&gt;&lt;/pre&gt;\r\n5a) Filters to handle public endpoints.\r\n&lt;pre&gt;&lt;code&gt;public class PublicEndpointsFilter implements Filter {\r\n\r\n\tprivate static final Logger logger = LogManager.getLogger(PublicEndpointsFilter.class);\r\n\r\n\tint publicPort;\r\n\tList&lt;String&gt; pathsToMatch;\r\n\r\n\t/**\r\n\t * Default Constructor\r\n\t * \r\n\t * @param publicPort\r\n\t * @param pathsToMatch\r\n\t */\r\n\tpublic PublicEndpointsFilter(int publicPort, List&lt;String&gt; pathsToMatch) {\r\n\t\tthis.publicPort = publicPort;\r\n\t\tthis.pathsToMatch = pathsToMatch;\r\n\t\tlogger.info(&quot;Configuring Filter for publicPort: {} pathsToMatch: {}&quot;, publicPort, pathsToMatch);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\tHttpServletRequest request = (HttpServletRequest) servletRequest;\r\n\t\tHttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n\t\tboolean trustedEndPoint = isRequestForTrustedEndpoint(servletRequest);\r\n\t\tint status = HttpServletResponse.SC_OK;\r\n\t\t///////////////////////\r\n\t\tif (servletRequest.getLocalPort() == publicPort &amp;&amp; !trustedEndPoint) {\r\n\t\t\tstatus = HttpServletResponse.SC_FORBIDDEN;\r\n\t\t}\r\n\t\tif (status != HttpServletResponse.SC_OK) {\r\n\t\t\tlogger.warn(&quot;Denying request on path: {} publicPort: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\t\tpublicPort, servletRequest.getLocalPort(), status);\r\n\t\t\tresponse.setStatus(status);\r\n\t\t\tservletResponse.getOutputStream().close();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t///////////////////////\r\n\t\tif (servletRequest.getLocalPort() != publicPort &amp;&amp; trustedEndPoint) {\r\n\t\t\tstatus = HttpServletResponse.SC_FORBIDDEN;\r\n\t\t}\r\n\t\tif (status != HttpServletResponse.SC_OK) {\r\n\t\t\tlogger.warn(&quot;Denying request on path: {} publicPort: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\t\tpublicPort, servletRequest.getLocalPort(), status);\r\n\t\t\tresponse.setStatus(status);\r\n\t\t\tservletResponse.getOutputStream().close();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlogger.debug(&quot;Filter Delegate on path: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\trequest.getLocalPort(), status);\r\n\t\tfilterChain.doFilter(servletRequest, response);\r\n\t}\r\n\r\n\t/**\r\n\t * Verify Path as required for Public Access\r\n\t * \r\n\t * @param servletRequest\r\n\t * @return\r\n\t */\r\n\tprivate boolean isRequestForTrustedEndpoint(ServletRequest servletRequest) {\r\n\t\tHttpServletRequest request = (HttpServletRequest) servletRequest;\r\n\t\tboolean ok = false;\r\n\t\t\r\n\t\tfor (String pathToMatch : pathsToMatch) {\r\n\t\t\tString requestPath = request.getContextPath() + pathToMatch;\r\n\t\t\tok = request.getRequestURI().startsWith(requestPath);\r\n\t\t\tlogger.debug(&quot;Verified path: {} localPort: {}&quot;, requestPath, servletRequest.getLocalPort());\r\n\t\t}\r\n\t\treturn ok;\r\n\t}&lt;/code&gt;&lt;/pre&gt;\r\n6) Sample Public / Private Rest Controller\r\n&lt;pre&gt;&lt;code&gt;@RestController\r\npublic class PublicApiHelloController {\r\n\t@GetMapping(&quot;/api/public&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; hello() {\r\n\t\treturn ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\r\n\t}\r\n}\r\n@RestController\r\npublic class PrivateApiHelloController {\r\n    // Requires Authentication\r\n\t@GetMapping(&quot;/api/private&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; hello() {\r\n\t\treturn ResponseEntity.ok(&quot;Hello Staff (private)&quot;);\r\n\t}\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n7) Start Application and you should see \r\n&lt;pre&gt;&lt;code&gt;INFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;]\r\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [&quot;https-jsse-nio-19280&quot;]\r\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39;\r\n&lt;/code&gt;&lt;/pre&gt;\r\nMake sure ProtocolHandler starts with https-jsse-nio for all https enabled.\r\n\r\n8) Public Api Request\r\n&lt;pre&gt;&lt;code&gt;curl --insecure -H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; -X GET https://localhost:19280/app/api/public&lt;/code&gt;&lt;/pre&gt;\r\nResponse:: Hello Customer (public)\r\n\r\n9)Private Api Request\r\n&lt;pre&gt;&lt;code&gt;curl --insecure -H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; -X GET https://localhost:9280/app/api/private&lt;/code&gt;&lt;/pre&gt;\r\nResponse:: {&quot;timestamp&quot;:1686133851868,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Unauthorized&quot;,&quot;path&quot;:&quot;/app/api/private&quot;}\r\n\r\nUnauthorized as private expects Authentication\r\n\r\n10) Public Ports are configured in firewall to allow traffic\r\n\r\nThanks\r\n","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>Finally, I am able to get Public / Private Api EndPoints by deep dive into Http11NioProtocol. Thanks to Spring Community Documents <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/howto-embedded-web-servers.html\" rel=\"nofollow noreferrer\">Spring Docs</a> under Section: Enable Multiple Connectors with Tomcat for all explanations.</p>\n<p>Please find complete solution below</p>\n<ol>\n<li><p>Create Configuration File for Public Api <pre><code>\n@Configuration\n@PropertySource(&quot;classpath:public-api.properties&quot;)\n@ConfigurationProperties(prefix = &quot;public.ssl&quot;)\n@Data\npublic class PublicApiConfig {\nprivate int port;\nprivate String keyStoreType;\nprivate String keyStore;\nprivate String keyStorePassword;\nprivate String keyAlias;\nprivate List pathsToMatch;\n}\n</code></pre></p>\n</li>\n<li><p>Configuration File public-api.properties <pre><code>\npublic.ssl.port=19280\npublic.ssl.key-store-type=PKCS12\npublic.ssl.key-store=ssl/your_certificate.p12\npublic.ssl.key-store-password=your_password\npublic.ssl.key-alias=tomcat\npublic.ssl.paths-to-match=/api/public\n</code></pre></p>\n</li>\n<li><p>Define <code>server.public.ssl.port.enabled</code> in your application.properties and value could be true (Public Access) or false.</p>\n</li>\n</ol>\n<pre><code># true for Public Api Access\nserver.public.ssl.port.enabled=true</code></pre>\n<ol start=\"4\">\n<li>Create PublicPortCustomizer class</li>\n</ol>\n<pre><code>@Component\n@ConditionalOnProperty(value = \"server.public.ssl.port.enabled\", havingValue = \"true\", matchIfMissing = false)\npublic class PublicPortCustomizer {\n\n    private static final Logger logger = LogManager.getLogger(PublicPortCustomizer.class);\n\n    @Autowired\n    PublicApiConfig publicPortConfig;\n\n    /**\n     * Verify if KeyStore is Valid\n     */\n    private boolean isValidKeyStoreFile(String keyStoreFile, String keyStorePassword, String keyStoreType) {\n        try {\n            File file = new File(keyStoreFile);\n            KeyStore keystore = KeyStore.getInstance(keyStoreType);\n            FileInputStream fis = new FileInputStream(file);\n            keystore.load(fis, keyStorePassword.toCharArray());\n            return true;\n        } catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        if (isValidKeyStoreFile(publicPortConfig.getKeyStore(), publicPortConfig.getKeyStorePassword(),\n                publicPortConfig.getKeyStoreType())) {\n            logger.info(\"Configuring Ssl Public for KeyStore: {}\", publicPortConfig.getKeyStore());\n            /**\n             * Create Connector\n             */\n            Connector connector = createSslConnector();\n            tomcat.addAdditionalTomcatConnectors(connector);\n        } else {\n            logger.fatal(\"KeyStore for Public: {} is INVALID\", publicPortConfig.getKeyStore());\n        }\n        return tomcat;\n    }\n\n    /**\n     * Create Ssl Connector\n     * @return\n     */\n    private Connector createSslConnector() {\n        logger.info(\"Configuring Additional Ssl Connector...\");\n\n        Connector connector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\");\n\n        connector.setScheme(\"https\");\n        connector.setSecure(true);\n        connector.setPort(publicPortConfig.getPort());\n\n        Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n\n        protocol.setSSLEnabled(true);\n        protocol.setKeystoreFile(publicPortConfig.getKeyStore());\n        protocol.setKeystorePass(publicPortConfig.getKeyStorePassword());\n        protocol.setKeyAlias(publicPortConfig.getKeyAlias());\n\n        return connector;\n    }\n}</code></pre>\n<ol start=\"5\">\n<li>Define SpringSecurity where Public Api will be accessed through JWT which is controlled in Controller</li>\n</ol>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SpringSecurityConfig {\n\n    @Autowired\n    CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(\"/api/public/**\").permitAll()\n                .and()\n                    .authorizeRequests().anyRequest().fullyAuthenticated();\n        http.sessionManagement()\n                 .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        http.httpBasic()\n            .and()\n            .authenticationProvider(customAuthenticationProvider);\n        http.csrf().disable();\n        http.requiresChannel(channel -> channel.anyRequest().requiresSecure());\n        return http.build();\n    }\n    \n    @Bean\n    @Lazy\n    public FilterRegistrationBean publicEndpointsFilter() {\n        return new FilterRegistrationBean(new PublicEndpointsFilter(publicPortConfig.getPort(),\n                publicPortConfig.getPathsToMatch()));\n    }\n}\n </code></pre>\n<p>5a) Filters to handle public endpoints.</p>\n<pre><code>public class PublicEndpointsFilter implements Filter {\n\n    private static final Logger logger = LogManager.getLogger(PublicEndpointsFilter.class);\n\n    int publicPort;\n    List pathsToMatch;\n\n    /**\n     * Default Constructor\n     * \n     * @param publicPort\n     * @param pathsToMatch\n     */\n    public PublicEndpointsFilter(int publicPort, List pathsToMatch) {\n        this.publicPort = publicPort;\n        this.pathsToMatch = pathsToMatch;\n        logger.info(\"Configuring Filter for publicPort: {} pathsToMatch: {}\", publicPort, pathsToMatch);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        boolean trustedEndPoint = isRequestForTrustedEndpoint(servletRequest);\n        int status = HttpServletResponse.SC_OK;\n        ///////////////////////\n        if (servletRequest.getLocalPort() == publicPort && !trustedEndPoint) {\n            status = HttpServletResponse.SC_FORBIDDEN;\n        }\n        if (status != HttpServletResponse.SC_OK) {\n            logger.warn(\"Denying request on path: {} publicPort: {} localPort: {} status: {}\", request.getRequestURI(),\n                    publicPort, servletRequest.getLocalPort(), status);\n            response.setStatus(status);\n            servletResponse.getOutputStream().close();\n            return;\n        }\n        ///////////////////////\n        if (servletRequest.getLocalPort() != publicPort && trustedEndPoint) {\n            status = HttpServletResponse.SC_FORBIDDEN;\n        }\n        if (status != HttpServletResponse.SC_OK) {\n            logger.warn(\"Denying request on path: {} publicPort: {} localPort: {} status: {}\", request.getRequestURI(),\n                    publicPort, servletRequest.getLocalPort(), status);\n            response.setStatus(status);\n            servletResponse.getOutputStream().close();\n            return;\n        }\n        logger.debug(\"Filter Delegate on path: {} localPort: {} status: {}\", request.getRequestURI(),\n                request.getLocalPort(), status);\n        filterChain.doFilter(servletRequest, response);\n    }\n\n    /**\n     * Verify Path as required for Public Access\n     * \n     * @param servletRequest\n     * @return\n     */\n    private boolean isRequestForTrustedEndpoint(ServletRequest servletRequest) {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        boolean ok = false;\n        \n        for (String pathToMatch : pathsToMatch) {\n            String requestPath = request.getContextPath() + pathToMatch;\n            ok = request.getRequestURI().startsWith(requestPath);\n            logger.debug(\"Verified path: {} localPort: {}\", requestPath, servletRequest.getLocalPort());\n        }\n        return ok;\n    }</code></pre>\n<ol start=\"6\">\n<li>Sample Public / Private Rest Controller</li>\n</ol>\n<pre><code>@RestController\npublic class PublicApiHelloController {\n    @GetMapping(\"/api/public\")\n    public ResponseEntity hello() {\n        return ResponseEntity.ok(\"Hello Customer (public)\");\n    }\n}\n@RestController\npublic class PrivateApiHelloController {\n    // Requires Authentication\n    @GetMapping(\"/api/private\")\n    public ResponseEntity hello() {\n        return ResponseEntity.ok(\"Hello Staff (private)\");\n    }\n}</code></pre>\n<ol start=\"7\">\n<li>Start Application and you should see</li>\n</ol>\n<pre><code>INFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [\"https-jsse-nio-9280\"]\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [\"https-jsse-nio-19280\"]\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path '/app'\n</code></pre>\n<p>Make sure ProtocolHandler starts with https-jsse-nio for all https enabled.</p>\n<ol start=\"8\">\n<li>Public Api Request</li>\n</ol>\n<pre><code>curl --insecure -H 'Accept: application/json' -H 'Content-Type: application/json' -X GET https://localhost:19280/app/api/public</code></pre>\n<p>Response:: Hello Customer (public)</p>\n<p>9)Private Api Request</p>\n<pre><code>curl --insecure -H 'Accept: application/json' -H 'Content-Type: application/json' -X GET https://localhost:9280/app/api/private</code></pre>\n<p>Response:: {&quot;timestamp&quot;:1686133851868,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Unauthorized&quot;,&quot;path&quot;:&quot;/app/api/private&quot;}</p>\n<p>Unauthorized as private expects Authentication</p>\n<ol start=\"10\">\n<li>Public Ports are configured in firewall to allow traffic</li>\n</ol>\n<p>Thanks</p>\n"}],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695416801,"creation_date":1686024507,"question_id":76411398,"body_markdown":"I have configured additional port to work on https for an REST endpoint. However, while sending request to this endpoint, application does not negotiate over https instead it uses only http. Framework is on Spring Boot 2.7.5.\r\n\r\n    @Configuration \r\n    public class PublicPortConfig {\r\n    private static final Logger logger = LogManager.getLogger(PublicPortConfig.class);\r\n    \r\n    @Value(&quot;${server.port.public:19280}&quot;)\r\n    private int port;\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(name = &quot;server.port.public&quot;)\r\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; publicServletContainerCustomizer (\r\n    \t\tServerProperties serverProperties) {\r\n    \tlogger.info(&quot;Configuring public port: {}&quot;, port);\r\n    \treturn tomcat -&gt; {\t\t\t\r\n    \t\tConnector connector = new Connector();\r\n    \r\n    \t\tconnector.setPort(port);\r\n    \t\tconnector.setScheme(&quot;https&quot;);\r\n    \t\t\t\t\t\r\n    \t\tSSLHostConfig sslHostConfig = new SSLHostConfig();\r\n    \t\t\r\n    \t\t       sslHostConfig.setCertificateKeystoreFile(serverProperties.getSsl().getKeyStore());\r\n    \t\tsslHostConfig.setCertificateKeyPassword(serverProperties.getSsl().getKeyStorePassword());\r\n    \t\tsslHostConfig.setCertificateKeystoreType(serverProperties.getSsl().getKeyStoreType());\r\n    \r\n    \t\tconnector.addSslHostConfig(sslHostConfig);\r\n            \r\n            tomcat.addAdditionalTomcatConnectors(connector);\r\n    \t};\r\n    }\r\n    }\r\n    @RestController\r\n    public class ExternalApiController {\r\n    \t@GetMapping(&quot;/api/public&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; hello() {\r\n    \t\treturn ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\r\n    \t}\r\n    }\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tlogger.info(&quot;Configuring HttpSecurity via SecurityFilterChain...&quot;);\r\n\t\t// @formatter:off\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(AUTH_PATH_WHITELIST).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/public/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/admin/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.antMatchers(&quot;/actuator/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;ACTUATOR&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authorizeRequests().anyRequest().fullyAuthenticated();\r\n\t\thttp.sessionManagement()\r\n\t\t\t\t .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t\t .maximumSessions(MAX_SESSION_ACTIVE);\r\n\t\thttp.httpBasic()\r\n\t\t\t.realmName(&quot;API Auth via DB or LDAP&quot;)\r\n\t\t\t.and()\r\n\t\t\t.authenticationProvider(customAuthenticationProvider);\r\n\t\thttp.csrf().csrfTokenRepository(cookieCsrfTokenRepository());\r\n\t\t/**\r\n\t\t * Force Disable for API\r\n\t\t */\r\n\t\thttp.csrf().disable();\r\n\t\t// http.cors().disable();\r\n\t\t// @formatter:on\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nExternalApiController sends response when request is sent on http and not on https. All fully authenticated endpoints works perfectly well on https. \r\n\r\ncURL gives following results\r\n\r\n    $ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;https://localhost:19280/app/api/public&quot;\r\n\r\nResponse: curl: (35) LibreSSL/3.3.6: error:1404B42E:SSL routines:ST_CONNECT:tlsv1 alert protocol version\r\nJava Backend Error: java.lang.IllegalArgumentException: Invalid character found in method name \r\n[0x160x030x010x01(0x010x000x01$0x030x030\\90xe9}0xef0x980x970x1b+0x820x0f0xc10xbc0xde0x8370xfceI0xdey0x100x1f0x99vJ0xa50x7f_0xd9Y ]. \r\nHTTP method names must be tokens\r\n\r\nWhere as http request using cURL\r\n\r\n    $ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;http://localhost:19280/app/api/public&quot;\r\n\r\nResponse: Hello Customer (public)\r\n\r\nApplication is started on 2 ports as per below log\r\nINFO 2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39; \r\n\r\nPort 9280 is ok. However, anything I access on 19280 throws error.\r\n","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>I have configured additional port to work on https for an REST endpoint. However, while sending request to this endpoint, application does not negotiate over https instead it uses only http. Framework is on Spring Boot 2.7.5.</p>\n<pre><code>@Configuration \npublic class PublicPortConfig {\nprivate static final Logger logger = LogManager.getLogger(PublicPortConfig.class);\n\n@Value(&quot;${server.port.public:19280}&quot;)\nprivate int port;\n\n@Bean\n@ConditionalOnProperty(name = &quot;server.port.public&quot;)\npublic WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; publicServletContainerCustomizer (\n        ServerProperties serverProperties) {\n    logger.info(&quot;Configuring public port: {}&quot;, port);\n    return tomcat -&gt; {          \n        Connector connector = new Connector();\n\n        connector.setPort(port);\n        connector.setScheme(&quot;https&quot;);\n                    \n        SSLHostConfig sslHostConfig = new SSLHostConfig();\n        \n               sslHostConfig.setCertificateKeystoreFile(serverProperties.getSsl().getKeyStore());\n        sslHostConfig.setCertificateKeyPassword(serverProperties.getSsl().getKeyStorePassword());\n        sslHostConfig.setCertificateKeystoreType(serverProperties.getSsl().getKeyStoreType());\n\n        connector.addSslHostConfig(sslHostConfig);\n        \n        tomcat.addAdditionalTomcatConnectors(connector);\n    };\n}\n}\n@RestController\npublic class ExternalApiController {\n    @GetMapping(&quot;/api/public&quot;)\n    public ResponseEntity&lt;String&gt; hello() {\n        return ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\n    }\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    logger.info(&quot;Configuring HttpSecurity via SecurityFilterChain...&quot;);\n    // @formatter:off\n    http.authorizeRequests()\n            .antMatchers(AUTH_PATH_WHITELIST).permitAll()\n            .antMatchers(&quot;/api/public/**&quot;).permitAll()\n            .antMatchers(&quot;/api/admin/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\n            .antMatchers(&quot;/actuator/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;ACTUATOR&quot;)\n            .and()\n                .authorizeRequests().anyRequest().fullyAuthenticated();\n    http.sessionManagement()\n             .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n             .maximumSessions(MAX_SESSION_ACTIVE);\n    http.httpBasic()\n        .realmName(&quot;API Auth via DB or LDAP&quot;)\n        .and()\n        .authenticationProvider(customAuthenticationProvider);\n    http.csrf().csrfTokenRepository(cookieCsrfTokenRepository());\n    /**\n     * Force Disable for API\n     */\n    http.csrf().disable();\n    // http.cors().disable();\n    // @formatter:on\n\n    return http.build();\n}\n</code></pre>\n<p>ExternalApiController sends response when request is sent on http and not on https. All fully authenticated endpoints works perfectly well on https.</p>\n<p>cURL gives following results</p>\n<pre><code>$ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;https://localhost:19280/app/api/public&quot;\n</code></pre>\n<p>Response: curl: (35) LibreSSL/3.3.6: error:1404B42E:SSL routines:ST_CONNECT:tlsv1 alert protocol version\nJava Backend Error: java.lang.IllegalArgumentException: Invalid character found in method name\n[0x160x030x010x01(0x010x000x01$0x030x030\\90xe9}0xef0x980x970x1b+0x820x0f0xc10xbc0xde0x8370xfceI0xdey0x100x1f0x99vJ0xa50x7f_0xd9Y ].\nHTTP method names must be tokens</p>\n<p>Where as http request using cURL</p>\n<pre><code>$ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;http://localhost:19280/app/api/public&quot;\n</code></pre>\n<p>Response: Hello Customer (public)</p>\n<p>Application is started on 2 ports as per below log\nINFO 2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path '/app'</p>\n<p>Port 9280 is ok. However, anything I access on 19280 throws error.</p>\n"},{"tags":["java","cucumber","gherkin","serenity"],"comments":[{"owner":{"account_id":29512370,"reputation":1,"user_id":22617123,"display_name":"michael Schreiber"},"score":0,"creation_date":1695661434,"post_id":77160625,"comment_id":136051399,"body_markdown":"I am not exactly sure what you&#39;re saying. This is my first post on SO and I am not allowed to embed images in my posts yet.","body":"I am not exactly sure what you&#39;re saying. This is my first post on SO and I am not allowed to embed images in my posts yet."}],"owner":{"account_id":29512370,"reputation":1,"user_id":22617123,"display_name":"michael Schreiber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695416244,"creation_date":1695416178,"question_id":77160625,"body_markdown":"I am trying to take an ID string value that is generated in the network response log after the webapp hits an API and generates an object. The object has an ID value that is present in the network &gt; response log and I need to copy it so I can use the value in other test steps. \r\n\r\n[the network response](https://i.stack.imgur.com/KI0Bb.png) \r\n\r\nEssentially, these are the steps I am automating \r\n```\r\nThen Click the submit button\r\nAnd Save the [object ID value] that is generated\r\nThen search for the [object ID value] in the home page search bar.\r\n```\r\n\r\nI have tried to search for ways to copy values from the network log but the responses I&#39;ve found seem to be too complex for what I need to do.","title":"Serenity method to save a network response value for use in next step of test","body":"<p>I am trying to take an ID string value that is generated in the network response log after the webapp hits an API and generates an object. The object has an ID value that is present in the network &gt; response log and I need to copy it so I can use the value in other test steps.</p>\n<p><a href=\"https://i.stack.imgur.com/KI0Bb.png\" rel=\"nofollow noreferrer\">the network response</a></p>\n<p>Essentially, these are the steps I am automating</p>\n<pre><code>Then Click the submit button\nAnd Save the [object ID value] that is generated\nThen search for the [object ID value] in the home page search bar.\n</code></pre>\n<p>I have tried to search for ways to copy values from the network log but the responses I've found seem to be too complex for what I need to do.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1274215244,"post_id":2860977,"comment_id":2905243,"body_markdown":"they have javadocs ;) look in `java.lang.` and `java.util.` packages.","body":"they have javadocs ;) look in <code>java.lang.</code> and <code>java.util.</code> packages."}],"answers":[{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274215501,"creation_date":1274215501,"answer_id":2861034,"question_id":2860977,"body_markdown":"[`Runnable`](http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html) is the one I use most.","title":"Standard Interfaces","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> is the one I use most.</p>\n"},{"tags":[],"owner":{"account_id":111464,"reputation":1359,"user_id":294435,"accept_rate":90,"display_name":"jamesbtate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274215506,"creation_date":1274215506,"answer_id":2861037,"question_id":2860977,"body_markdown":"Comparable is one I use all the time. There is a list: http://java.sun.com/j2se/1.5.0/docs/api/ but it is HUGE. (You have to scroll about 2/3 of the way down the page to get to the interface tree.","title":"Standard Interfaces","body":"<p>Comparable is one I use all the time. There is a list: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/</a> but it is HUGE. (You have to scroll about 2/3 of the way down the page to get to the interface tree.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274215639,"creation_date":1274215639,"answer_id":2861051,"question_id":2860977,"body_markdown":"You&#39;re correct re. `Cloneable` and to partly answer your question, I would *never* use it. For more info read [this interview][1] with Joshua Bloch.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/bloch13.html","title":"Standard Interfaces","body":"<p>You're correct re. <code>Cloneable</code> and to partly answer your question, I would <em>never</em> use it. For more info read <a href=\"http://www.artima.com/intv/bloch13.html\" rel=\"nofollow noreferrer\">this interview</a> with Joshua Bloch.</p>\n"},{"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1274215719,"creation_date":1274215719,"answer_id":2861067,"question_id":2860977,"body_markdown":"Here&#39;s a list of all of the *able classes and interfaces in java.  There&#39;s a only a few that are really widely used: I&#39;d add `Comparable` and `Runnable` to your list.\r\n\r\n    $ jar tf $JAVA_HOME/jre/lib/rt.jar | grep [a-z]able\\.class | grep -v ^com | grep -v ^sun | sort\r\n    java/awt/Adjustable.class\r\n    java/awt/Container$WakingRunnable.class\r\n    java/awt/datatransfer/Transferable.class\r\n    java/awt/Dialog$WakingRunnable.class\r\n    java/awt/ItemSelectable.class\r\n    java/awt/print/Pageable.class\r\n    java/awt/print/Printable.class\r\n    java/awt/ScrollPaneAdjustable.class\r\n    java/io/Closeable.class\r\n    java/io/Externalizable.class\r\n    java/io/Flushable.class\r\n    java/io/Serializable.class\r\n    java/lang/Appendable.class\r\n    java/lang/Cloneable.class\r\n    java/lang/Comparable.class\r\n    java/lang/Iterable.class\r\n    java/lang/ProcessEnvironment$Variable.class\r\n    java/lang/Readable.class\r\n    java/lang/reflect/TypeVariable.class\r\n    java/lang/Runnable.class\r\n    java/lang/Throwable.class\r\n    java/rmi/activation/Activatable.class\r\n    java/util/Collections$SelfComparable.class\r\n    java/util/concurrent/Callable.class\r\n    java/util/concurrent/Executors$PrivilegedCallable.class\r\n    java/util/Formattable.class\r\n    java/util/Hashtable.class\r\n    java/util/Observable.class\r\n    javax/accessibility/AccessibleStreamable.class\r\n    javax/lang/model/type/TypeVariable.class\r\n    javax/management/remote/JMXAddressable.class\r\n    javax/naming/Referenceable.class\r\n    javax/script/Compilable.class\r\n    javax/script/Invocable.class\r\n    javax/security/auth/Destroyable.class\r\n    javax/security/auth/Refreshable.class\r\n    javax/sql/rowset/Joinable.class\r\n    javax/swing/JSlider$1SmartHashtable.class\r\n    javax/swing/JTable$ThreadSafePrintable.class\r\n    javax/swing/plaf/basic/BasicFileChooserUI$FileTransferHandler$FileTransferable.class\r\n    javax/swing/plaf/basic/BasicTextUI$TextTransferHandler$TextTransferable.class\r\n    javax/swing/plaf/basic/BasicTransferable.class\r\n    javax/swing/RepaintManager$DisplayChangedRunnable.class\r\n    javax/swing/Scrollable.class\r\n    javax/swing/SwingWorker$DoSubmitAccumulativeRunnable.class\r\n    javax/swing/TablePrintable.class\r\n    javax/swing/text/DefaultStyledDocument$ChangeUpdateRunnable.class\r\n    javax/swing/TransferHandler$PropertyTransferable.class\r\n    javax/swing/undo/StateEditable.class\r\n    org/omg/CORBA/portable/Streamable.class\r\n\r\n","title":"Standard Interfaces","body":"<p>Here's a list of all of the *able classes and interfaces in java.  There's a only a few that are really widely used: I'd add <code>Comparable</code> and <code>Runnable</code> to your list.</p>\n\n<pre><code>$ jar tf $JAVA_HOME/jre/lib/rt.jar | grep [a-z]able\\.class | grep -v ^com | grep -v ^sun | sort\njava/awt/Adjustable.class\njava/awt/Container$WakingRunnable.class\njava/awt/datatransfer/Transferable.class\njava/awt/Dialog$WakingRunnable.class\njava/awt/ItemSelectable.class\njava/awt/print/Pageable.class\njava/awt/print/Printable.class\njava/awt/ScrollPaneAdjustable.class\njava/io/Closeable.class\njava/io/Externalizable.class\njava/io/Flushable.class\njava/io/Serializable.class\njava/lang/Appendable.class\njava/lang/Cloneable.class\njava/lang/Comparable.class\njava/lang/Iterable.class\njava/lang/ProcessEnvironment$Variable.class\njava/lang/Readable.class\njava/lang/reflect/TypeVariable.class\njava/lang/Runnable.class\njava/lang/Throwable.class\njava/rmi/activation/Activatable.class\njava/util/Collections$SelfComparable.class\njava/util/concurrent/Callable.class\njava/util/concurrent/Executors$PrivilegedCallable.class\njava/util/Formattable.class\njava/util/Hashtable.class\njava/util/Observable.class\njavax/accessibility/AccessibleStreamable.class\njavax/lang/model/type/TypeVariable.class\njavax/management/remote/JMXAddressable.class\njavax/naming/Referenceable.class\njavax/script/Compilable.class\njavax/script/Invocable.class\njavax/security/auth/Destroyable.class\njavax/security/auth/Refreshable.class\njavax/sql/rowset/Joinable.class\njavax/swing/JSlider$1SmartHashtable.class\njavax/swing/JTable$ThreadSafePrintable.class\njavax/swing/plaf/basic/BasicFileChooserUI$FileTransferHandler$FileTransferable.class\njavax/swing/plaf/basic/BasicTextUI$TextTransferHandler$TextTransferable.class\njavax/swing/plaf/basic/BasicTransferable.class\njavax/swing/RepaintManager$DisplayChangedRunnable.class\njavax/swing/Scrollable.class\njavax/swing/SwingWorker$DoSubmitAccumulativeRunnable.class\njavax/swing/TablePrintable.class\njavax/swing/text/DefaultStyledDocument$ChangeUpdateRunnable.class\njavax/swing/TransferHandler$PropertyTransferable.class\njavax/swing/undo/StateEditable.class\norg/omg/CORBA/portable/Streamable.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1274217679,"creation_date":1274215759,"answer_id":2861070,"question_id":2860977,"body_markdown":"From the API docs:\r\n\r\n    AccessibleStreamable\r\n    AdapterActivatorOperations\r\n    Callable\r\n    Cloneable\r\n    Closeable\r\n    Comparable\r\n    Compilable\r\n    Destroyable\r\n    Externalizable\r\n    Flushable\r\n    Formattable\r\n    Invocable\r\n    ItemSelectable\r\n    Iterable\r\n    JMXAddressable\r\n    Joinable\r\n    Pageable\r\n    Printable\r\n    Readable\r\n    Referenceable\r\n    Refreshable\r\n    Runnable\r\n    Scrollable\r\n    Serializable\r\n    StateEditable\r\n    Streamable\r\n    Transferable\r\n    TypeVariable\r\n    TypeVariable\r\n    VM_TRUNCATABLE\r\n\r\nI use Cloneable, Comparable, Iterable, Runnable and of course &lt;strike&gt;Throwable&lt;/strike&gt; :-)","title":"Standard Interfaces","body":"<p>From the API docs:</p>\n\n<pre><code>AccessibleStreamable\nAdapterActivatorOperations\nCallable\nCloneable\nCloseable\nComparable\nCompilable\nDestroyable\nExternalizable\nFlushable\nFormattable\nInvocable\nItemSelectable\nIterable\nJMXAddressable\nJoinable\nPageable\nPrintable\nReadable\nReferenceable\nRefreshable\nRunnable\nScrollable\nSerializable\nStateEditable\nStreamable\nTransferable\nTypeVariable\nTypeVariable\nVM_TRUNCATABLE\n</code></pre>\n\n<p>I use Cloneable, Comparable, Iterable, Runnable and of course <strike>Throwable</strike> :-)</p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274216290,"creation_date":1274215914,"answer_id":2861082,"question_id":2860977,"body_markdown":"There are lots of interfaces, just as there are lots of classes, enums, and exceptions. If you just look at interfaces in isolation you will not see the complete picture. Some interfaces are nouns made into adjectives (-able) others are not - and the division is as much about what&#39;s sensible in English than any technical distinction. \r\n\r\nIt&#39;s probably best to investigate in the area you are trying to solve rather than looking into what interfaces are available across the JRE - most won&#39;t make much sense until you have a specific problem scenario in mind, and look at them in context with their collaborators.\r\n\r\nAs you are starting out, begin with interfaces in the `java.lang` package, then `java.io`, `java.util`, and possibly `java.util.concurrent`, this will give you a good grounding, and then look into specific application areas. \r\n\r\nGood luck!","title":"Standard Interfaces","body":"<p>There are lots of interfaces, just as there are lots of classes, enums, and exceptions. If you just look at interfaces in isolation you will not see the complete picture. Some interfaces are nouns made into adjectives (-able) others are not - and the division is as much about what's sensible in English than any technical distinction. </p>\n\n<p>It's probably best to investigate in the area you are trying to solve rather than looking into what interfaces are available across the JRE - most won't make much sense until you have a specific problem scenario in mind, and look at them in context with their collaborators.</p>\n\n<p>As you are starting out, begin with interfaces in the <code>java.lang</code> package, then <code>java.io</code>, <code>java.util</code>, and possibly <code>java.util.concurrent</code>, this will give you a good grounding, and then look into specific application areas. </p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695414625,"creation_date":1274216121,"answer_id":2861108,"question_id":2860977,"body_markdown":"There&#39;s a list of all the interfaces in the Java API specification. For that, follow the link for the appropriate version then search for &quot;Interface Hierarchy&quot;:\r\n - [JAVA SE 6][1]\r\n - [JAVA SE 21][2]\r\n\r\nFor a more concise list, you could check the *Interfaces* tab in the main packages. For JDK 21:\r\n - [java.lang][3]\r\n - [java.util][4]\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/overview-tree.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/overview-tree.html\r\n\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/package-summary.html\r\n","title":"Standard Interfaces","body":"<p>There's a list of all the interfaces in the Java API specification. For that, follow the link for the appropriate version then search for &quot;Interface Hierarchy&quot;:</p>\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/overview-tree.html\" rel=\"nofollow noreferrer\">JAVA SE 6</a></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/overview-tree.html\" rel=\"nofollow noreferrer\">JAVA SE 21</a></li>\n</ul>\n<p>For a more concise list, you could check the <em>Interfaces</em> tab in the main packages. For JDK 21:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html\" rel=\"nofollow noreferrer\">java.lang</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/package-summary.html\" rel=\"nofollow noreferrer\">java.util</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274245304,"creation_date":1274216768,"answer_id":2861169,"question_id":2860977,"body_markdown":"The Interfaces you&#39;re most likely to implement are:  \r\n`java.lang.Comparable`  \r\n`java.lang.Runnable`  \r\n`java.io.Serializable`  \r\n\r\nInterfaces that you&#39;re most likely to call methods on but not implement yourself are:  \r\n`java.lang.Appendable` (StringBuffer / StringBuilder / Writers)  \r\n`java.lang.CharSequence` (String / StringBuffer / StringBuilder)  \r\n`java.lang.Iterable` (Collections, either explicitly or with `for Blah blah : List&lt;Blah&gt;`)  \r\n`java.lang.Readable` (Readers)  \r\n`java.io.Closeable` (Streams)  \r\n`java.io.Flushable` (Streams)  \r\n`java.util.Collection` (Collections)  \r\n`java.util.Deque` (Collections)  \r\n`java.util.List` (Collections)  \r\n`java.util.Map` (Collections)  \r\n`java.util.Set` (Collections)  \r\n\r\nInterfaces that are most likely to blow up in your face:  \r\n`java.lang.Cloneable`\r\n\r\nEdit: Whoops, Throwable&#39;s not an interface.\r\n\r\nUsually, it&#39;s better to write a Copy Constructor rather than use a `clone()` method.","title":"Standard Interfaces","body":"<p>The Interfaces you're most likely to implement are:<br>\n<code>java.lang.Comparable</code><br>\n<code>java.lang.Runnable</code><br>\n<code>java.io.Serializable</code>  </p>\n\n<p>Interfaces that you're most likely to call methods on but not implement yourself are:<br>\n<code>java.lang.Appendable</code> (StringBuffer / StringBuilder / Writers)<br>\n<code>java.lang.CharSequence</code> (String / StringBuffer / StringBuilder)<br>\n<code>java.lang.Iterable</code> (Collections, either explicitly or with <code>for Blah blah : List&lt;Blah&gt;</code>)<br>\n<code>java.lang.Readable</code> (Readers)<br>\n<code>java.io.Closeable</code> (Streams)<br>\n<code>java.io.Flushable</code> (Streams)<br>\n<code>java.util.Collection</code> (Collections)<br>\n<code>java.util.Deque</code> (Collections)<br>\n<code>java.util.List</code> (Collections)<br>\n<code>java.util.Map</code> (Collections)<br>\n<code>java.util.Set</code> (Collections)  </p>\n\n<p>Interfaces that are most likely to blow up in your face:<br>\n<code>java.lang.Cloneable</code></p>\n\n<p>Edit: Whoops, Throwable's not an interface.</p>\n\n<p>Usually, it's better to write a Copy Constructor rather than use a <code>clone()</code> method.</p>\n"}],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10440,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2861070,"answer_count":8,"score":11,"last_activity_date":1695414625,"creation_date":1274215106,"question_id":2860977,"body_markdown":"I&#39;ve used Java for some time and I keep hearing about interfaces such as `Cloneable`, `Iterable` and other X-`able`s. \r\n\r\nI was wondering if there is a list somewhere of all of these and more importantly - which ones do you regularly use day-to-day? \r\n\r\nFor example, I&#39;ve read that `Cloneable` is considered badly written and isn&#39;t widely used.","title":"Standard Interfaces","body":"<p>I've used Java for some time and I keep hearing about interfaces such as <code>Cloneable</code>, <code>Iterable</code> and other X-<code>able</code>s. </p>\n\n<p>I was wondering if there is a list somewhere of all of these and more importantly - which ones do you regularly use day-to-day? </p>\n\n<p>For example, I've read that <code>Cloneable</code> is considered badly written and isn't widely used.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9826,"page":166,"page_size":100}
