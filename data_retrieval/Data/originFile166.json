{"items":[{"tags":["java","design-patterns","model-view-controller","javafx"],"comments":[{"owner":{"account_id":6360938,"reputation":1153,"user_id":4936458,"accept_rate":75,"display_name":"Steven Van Impe"},"score":0,"creation_date":1433064160,"post_id":30554694,"comment_id":49183379,"body_markdown":"How are you loading MyView? Are you building it in code, or loading from FXML?","body":"How are you loading MyView? Are you building it in code, or loading from FXML?"},{"owner":{"display_name":"user2022068"},"score":0,"creation_date":1433065008,"post_id":30554694,"comment_id":49183579,"body_markdown":"@Steven Van Impe I build it from code","body":"@Steven Van Impe I build it from code"}],"answers":[{"comments":[{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":0,"creation_date":1522012303,"post_id":30556388,"comment_id":85964844,"body_markdown":",really i&#39;m confused between the time of using MVC or MVP for JavaFX projects,The problem here is how can controllers communicate between them in MVC model ?","body":",really i&#39;m confused between the time of using MVC or MVP for JavaFX projects,The problem here is how can controllers communicate between them in MVC model ?"}],"tags":[],"owner":{"account_id":6251497,"reputation":3397,"user_id":4861405,"display_name":"AlmasB"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1433239108,"creation_date":1433068311,"answer_id":30556388,"question_id":30554694,"body_markdown":"JavaFX has been designed to work with the MVC pattern. Hence it is much easier to use MVC than MVP. In MVP **Presenter** is responsible for formatting the data to be displayed. In JavaFX, it is done automatically by **View**. Here&#39;s a quick overview of JavaFX MVC:\r\n\r\n**Model** - the domain data / data structure that you work with in your application (e.g. Person, Employer, Coursework, etc)\r\n\r\n**View** - the UI definition of the application and its Model. The preferred way of creating a view is via an `FXML` file, which is essentially the **View** in JavaFX MVC.\r\n\r\n**Controller** - the bridge between **Model** and **View**. The code is typically isolated in `XController` class (where X is the name of the `FXML` **View**). The instance of **Controller** is automatically injected by `FXMLLoader` or can be done manually in case you require a custom **Controller**. The `Controller` class will have access to UI (**View**) elements in order to be able to manipulate different properties and also the **Model**, so that it can perform operations based on the UI (**View**) input.\r\n\r\nTo sum up, in JavaFX you don&#39;t need to have class `View`, the **View** definition should be entirely in the `FXML` file. All UI elements should be injected with `@FXML` into your `Controller` class. If you absolutely have to use MVP, then AWT/Swing or MVP4j - http://www.findbestopensource.com/product/mvp4j might be a better option.\r\n\r\nFor more detailed explanation please have a look at the official Oracle tutorial for JavaFX: http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm\r\n\r\nIf you require help building UI using `FXML`: http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html\r\n\r\nThis tutorial covers basics of MVC in JavaFX and how each component communicates with others: http://code.makery.ch/library/javafx-8-tutorial/part1/","title":"MVP, JavaFx and components references","body":"<p>JavaFX has been designed to work with the MVC pattern. Hence it is much easier to use MVC than MVP. In MVP <strong>Presenter</strong> is responsible for formatting the data to be displayed. In JavaFX, it is done automatically by <strong>View</strong>. Here's a quick overview of JavaFX MVC:</p>\n\n<p><strong>Model</strong> - the domain data / data structure that you work with in your application (e.g. Person, Employer, Coursework, etc)</p>\n\n<p><strong>View</strong> - the UI definition of the application and its Model. The preferred way of creating a view is via an <code>FXML</code> file, which is essentially the <strong>View</strong> in JavaFX MVC.</p>\n\n<p><strong>Controller</strong> - the bridge between <strong>Model</strong> and <strong>View</strong>. The code is typically isolated in <code>XController</code> class (where X is the name of the <code>FXML</code> <strong>View</strong>). The instance of <strong>Controller</strong> is automatically injected by <code>FXMLLoader</code> or can be done manually in case you require a custom <strong>Controller</strong>. The <code>Controller</code> class will have access to UI (<strong>View</strong>) elements in order to be able to manipulate different properties and also the <strong>Model</strong>, so that it can perform operations based on the UI (<strong>View</strong>) input.</p>\n\n<p>To sum up, in JavaFX you don't need to have class <code>View</code>, the <strong>View</strong> definition should be entirely in the <code>FXML</code> file. All UI elements should be injected with <code>@FXML</code> into your <code>Controller</code> class. If you absolutely have to use MVP, then AWT/Swing or MVP4j - <a href=\"http://www.findbestopensource.com/product/mvp4j\" rel=\"noreferrer\">http://www.findbestopensource.com/product/mvp4j</a> might be a better option.</p>\n\n<p>For more detailed explanation please have a look at the official Oracle tutorial for JavaFX: <a href=\"http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-overview.htm</a></p>\n\n<p>If you require help building UI using <code>FXML</code>: <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html</a></p>\n\n<p>This tutorial covers basics of MVC in JavaFX and how each component communicates with others: <a href=\"http://code.makery.ch/library/javafx-8-tutorial/part1/\" rel=\"noreferrer\">http://code.makery.ch/library/javafx-8-tutorial/part1/</a></p>\n"},{"comments":[{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":0,"creation_date":1522012509,"post_id":43156145,"comment_id":85964905,"body_markdown":"But the IDEs create a controllers for views,why we need to turn to MVP pattern ?","body":"But the IDEs create a controllers for views,why we need to turn to MVP pattern ?"}],"tags":[],"owner":{"account_id":1880818,"reputation":425,"user_id":1701070,"display_name":"Giuseppe Giacoppo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491045446,"creation_date":1491045446,"answer_id":43156145,"question_id":30554694,"body_markdown":"As an Android developer, I always use MVP pattern in my applications. MVC compared to MVP seems so old to me, so when I started working on a new Java app, I felt a little bit lost. &lt;br/&gt;\r\n##Here there is my solution:##\r\n\r\n###Initial steps###\r\n - In `fxml` files create the UI, **without** specifying a controller, because you don&#39;t need one.&lt;br&gt; \r\n - Create the Java interfaces (IView, IPresenter and so on..)\r\n \r\n - Implement the IPresenter `interface` in the Presenter `class`, as you would do normally (do http requests, query a DB..)\r\n\r\nNow the interesting part: \r\n###Adapting your view to MVP pattern###\r\nLet&#39;s see some code:\r\n\r\n - Create your GUI (for example a Main GUI) and implement your View `interface`\r\n\r\n          public class MainGUI extends Application implements MainContract.View {\r\n\r\n          public static void main(String... args) {\r\n              launch(args);\r\n          }\r\n\r\n          @Override\r\n          public void start(Stage primaryStage) throws IOException {\r\n              //here we will load fxml or create the ui programmatically\r\n          }\r\n\r\n          //method from view interface\r\n          @Override\r\n          public void onServerResponse(String message) throws IOException {\r\n              //update the view\r\n          }\r\n\r\nNow the last step:\r\n###Communicating with the presenter###\r\n\r\n - To do this, we first create an istance of our presenter:\r\n\r\n        private MainContract.Presenter presenter;\r\n    \r\n        public MainGUI() {\r\n            presenter = new MainPresenter(this);\r\n        }\r\n`this` is, of course, the `MainContract.View` implemented in the **MainGUI** `class`&lt;br/&gt;&lt;br/&gt;\r\n\r\n - Now we have to get a reference to the view components\r\n\r\n        private ComboBox&lt;Double&gt; mySimpleList;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;layout_main.fxml&quot;));\r\n            Parent root = loader.load();\r\n            mySimpleList= (ComboBox&lt;Double&gt;) loader.getNamespace().get(&quot;mysimplelist_id&quot;);\r\n    \r\n        ...\r\n    \r\n            primaryStage.setScene(new Scene(root, -1, -1));\r\n            primaryStage.show();\r\n\r\n\r\nI prefer using `fxml` files instead of creating the ui by code, but the logic behind is identical.&lt;br/&gt;\r\n\r\n - Set the items\r\n\r\n        ...\r\n        mySimpleList.setItems(ValuesFactory.getMyValues());\r\n\r\n - And the listener\r\n\r\n        ...\r\n        mySimpleList.valueProperty().addListener(simpleListListener);\r\n\r\n&lt;br&gt;\r\nWhat is `simpleListListener`?&lt;br&gt;\r\n\r\nA simple `ChangeListener`, **where we finally call a presenter method**\r\n\r\n        simpleListListener = (ChangeListener&lt;Double&gt;) \r\n        (observable, oldValue, newValue) -&gt; presenter.doTheLogic(newValue);\r\n\r\n\r\nThis is an easy scenario, but in principle this is how we can use MVP Pattern with JavaFX. I also understand that it isn&#39;t the definitive solution, so I hope that one day there will be more docs where I can learn more about this argument!\r\n&lt;br/&gt;Let me know if I wasn&#39;t clear in some part of the code","title":"MVP, JavaFx and components references","body":"<p>As an Android developer, I always use MVP pattern in my applications. MVC compared to MVP seems so old to me, so when I started working on a new Java app, I felt a little bit lost. <br/></p>\n\n<h2>Here there is my solution:</h2>\n\n<h3>Initial steps</h3>\n\n<ul>\n<li>In <code>fxml</code> files create the UI, <strong>without</strong> specifying a controller, because you don't need one.<br> </li>\n<li><p>Create the Java interfaces (IView, IPresenter and so on..)</p></li>\n<li><p>Implement the IPresenter <code>interface</code> in the Presenter <code>class</code>, as you would do normally (do http requests, query a DB..)</p></li>\n</ul>\n\n<p>Now the interesting part: </p>\n\n<h3>Adapting your view to MVP pattern</h3>\n\n<p>Let's see some code:</p>\n\n<ul>\n<li><p>Create your GUI (for example a Main GUI) and implement your View <code>interface</code></p>\n\n<pre><code>  public class MainGUI extends Application implements MainContract.View {\n\n  public static void main(String... args) {\n      launch(args);\n  }\n\n  @Override\n  public void start(Stage primaryStage) throws IOException {\n      //here we will load fxml or create the ui programmatically\n  }\n\n  //method from view interface\n  @Override\n  public void onServerResponse(String message) throws IOException {\n      //update the view\n  }\n</code></pre></li>\n</ul>\n\n<p>Now the last step:</p>\n\n<h3>Communicating with the presenter</h3>\n\n<ul>\n<li><p>To do this, we first create an istance of our presenter:</p>\n\n<pre><code>private MainContract.Presenter presenter;\n\npublic MainGUI() {\n    presenter = new MainPresenter(this);\n}\n</code></pre>\n\n<p><code>this</code> is, of course, the <code>MainContract.View</code> implemented in the <strong>MainGUI</strong> <code>class</code><br/><br/></p></li>\n<li><p>Now we have to get a reference to the view components</p>\n\n<pre><code>private ComboBox&lt;Double&gt; mySimpleList;\n\n@Override\npublic void start(Stage primaryStage) throws IOException {\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(\"layout_main.fxml\"));\n    Parent root = loader.load();\n    mySimpleList= (ComboBox&lt;Double&gt;) loader.getNamespace().get(\"mysimplelist_id\");\n\n...\n\n    primaryStage.setScene(new Scene(root, -1, -1));\n    primaryStage.show();\n</code></pre></li>\n</ul>\n\n<p>I prefer using <code>fxml</code> files instead of creating the ui by code, but the logic behind is identical.<br/></p>\n\n<ul>\n<li><p>Set the items</p>\n\n<pre><code>...\nmySimpleList.setItems(ValuesFactory.getMyValues());\n</code></pre></li>\n<li><p>And the listener</p>\n\n<pre><code>...\nmySimpleList.valueProperty().addListener(simpleListListener);\n</code></pre></li>\n</ul>\n\n<p><br>\nWhat is <code>simpleListListener</code>?<br></p>\n\n<p>A simple <code>ChangeListener</code>, <strong>where we finally call a presenter method</strong></p>\n\n<pre><code>    simpleListListener = (ChangeListener&lt;Double&gt;) \n    (observable, oldValue, newValue) -&gt; presenter.doTheLogic(newValue);\n</code></pre>\n\n<p>This is an easy scenario, but in principle this is how we can use MVP Pattern with JavaFX. I also understand that it isn't the definitive solution, so I hope that one day there will be more docs where I can learn more about this argument!\n<br/>Let me know if I wasn't clear in some part of the code</p>\n"},{"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1695556494,"post_id":77165027,"comment_id":136037608,"body_markdown":"It would require [another answer](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) to respond, but two of your three MVC points are wrong.  The model is the entry point through the view, and while the view reads from the model, the model is unaware of the view.  The pattern is MVC not CVM.","body":"It would require <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">another answer</a> to respond, but two of your three MVC points are wrong.  The model is the entry point through the view, and while the view reads from the model, the model is unaware of the view.  The pattern is MVC not CVM."},{"owner":{"account_id":29178657,"reputation":1,"user_id":22353401,"display_name":"Kostiantyn Perehuda"},"score":0,"creation_date":1695581469,"post_id":77165027,"comment_id":136040239,"body_markdown":"I disagree with you. First, the Wikipedia article you linked mentions in multiple places that the Controller drives the interaction, not the View. Of course, entry to the core is the model, because model is the core, but entry to the app is controller. Second, the same article explicilty says that in MVC &quot;View and Model are coupled&quot;. And I agree that &quot;the model is unaware of the view&quot;, and I never said in my reponse that model is aware of the view (my example demonstrated how to make the model expose data to the view, not use the view). Despite all this, one-way coupling is still coupling.","body":"I disagree with you. First, the Wikipedia article you linked mentions in multiple places that the Controller drives the interaction, not the View. Of course, entry to the core is the model, because model is the core, but entry to the app is controller. Second, the same article explicilty says that in MVC &quot;View and Model are coupled&quot;. And I agree that &quot;the model is unaware of the view&quot;, and I never said in my reponse that model is aware of the view (my example demonstrated how to make the model expose data to the view, not use the view). Despite all this, one-way coupling is still coupling."},{"owner":{"account_id":29178657,"reputation":1,"user_id":22353401,"display_name":"Kostiantyn Perehuda"},"score":1,"creation_date":1695583220,"post_id":77165027,"comment_id":136040421,"body_markdown":"In fact, wiki says: &quot;.. A View is a visual representation of a Model, retrieving data from the Model to display to the user and passing requests back and forth between the user and the Model. A Controller is an organizational part of the user interface that lays out and coordinates multiple Views on the screen, and which receives user input and sends the appropriate messages to its Views&quot; So the very first iteration of MVC in fact suggested bidirectional coupling between view and model. And this indeed suggests that the data flow is User-&gt;Controller-&gt;View&lt;-&gt;Model, so maybe it was indeed CVM?;)","body":"In fact, wiki says: &quot;.. A View is a visual representation of a Model, retrieving data from the Model to display to the user and passing requests back and forth between the user and the Model. A Controller is an organizational part of the user interface that lays out and coordinates multiple Views on the screen, and which receives user input and sends the appropriate messages to its Views&quot; So the very first iteration of MVC in fact suggested bidirectional coupling between view and model. And this indeed suggests that the data flow is User-&gt;Controller-&gt;View&lt;-&gt;Model, so maybe it was indeed CVM?;)"}],"tags":[],"owner":{"account_id":29178657,"reputation":1,"user_id":22353401,"display_name":"Kostiantyn Perehuda"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695585917,"creation_date":1695505541,"answer_id":77165027,"question_id":30554694,"body_markdown":"I know this question is very old, but I still decided to write my answer here.\r\n\r\nI will start by saying that despite being advertised as following MVC pattern, **JavaFX/FXML really follows MVP pattern by default**.\r\n\r\nThere are several good articles about MVC vs MVP ([Baeldung - MVC vs MVP][1], [GeeksForGeeks - MVC, MVP, MVVM][2]). Here I will point key main differences.\r\n\r\n**MVC pattern**\r\n - In MVC pattern the Controller is the entry point to the application. User Events are caught and handled by the controller. Take as an example a Spring MVC web app. The entry point to the application is the HTTP request handling performed by the controller. Sure, the user needs to click a button in the view in order for the HTTP request to be sent, but the button click isn&#39;t what triggers the backend server to act. It is the HTTP request sent by your browser as a result of your button click that triggers the web server to act. In fact, the user could&#39;ve sent the same request by curl command for example. The view isn&#39;t needed to drive the interaction, it&#39;s not the entry point.\r\n - There is a Many-to-Many relationship between Controllers and Views. Triggering one controller action may result in different views being shown to the user depending on the state of the system. The Controller has a power to decide what view to show to the user. Coming back to the web app example, the controller might decide to respond differently to the same request sent by users with different access rights, and show different views as a result. In addition, the same view can be shown as a response to different requests (e.g. redirect). \r\n - In traditional MVC pattern, the Model and the View are coupled and can talk directly to each other. The View uses the propetries of the model to display. We don&#39;t see this thing often in modern web apps nowadays, especially when we refer to the model as the business logic side of our application. We can see Spring MVC using the concept of the &#39;Model&#39; (which is really just a Map of key-value pairs) to pass the data between the Controller and the View. We can inject an instance of a Model (here I mean `org.springframework.ui.Model` to be extra clear, please don&#39;t consufe this with MVC Model) into the controller and use it to pass data returned by service/application layer (MVC Model) into the view. We can also pass the instance of the Model (`org.springframework.ui.Model`) object directly into service layer by the means of method arguments, or ThreadLocals, or by some other way, and achieve &#39;True MVC&#39;. But people don&#39;t usually do it, because it couples Application Logic (MVC Model) and the View (this is the drawback of MVC that MVP attempts to solve).\r\n\r\n**MVP pattern**\r\n - In MVP Pattern the View is the entry point to the application. User input is handled by the view, the view then forwards these user events to the presenter by calling its methods. This is what we see In JavaFX. When user clicks a button in the view, the click event is handled directly by the button in the view (scene graph). We can wire a callback and make the button node call some method of the Presenter (FxController) associated with the View.\r\n - There is a One-to-One mapping between the View and the Presenter. In JavaFX we can only set one controller for the specific Parent Node. \r\n - In MVP the View and the Model are decoupled and the data can only be passed between them through a mediator/presenter. This is what happens in JavaFX/FXML. FxController can access the view and update the scene graph, we can inject nodes from the scene graph generated by parsing fxml into the FxController. And we usually don&#39;t expose JavaFX scene graph to our core application directly, we do it via FxController.\r\n\r\nOverall, JavaFX/FXML is very flexible. It has poverful event handling and data binding functionalities, so you can go fully event driven and end up with MVVM (one might argue that JavaFX/FXML follows MVVM by default). Or you can be more traditional and end up with MVP, you can also start exposing your JavaFX data bindings into the core app and end up with a blend of MVC and MVP, but traditioanlly JavaFX/FXML follows MVP. Just because JavaFX uses the word &quot;Controller&quot; doesn&#39;t mean it follows MVC. The same is true for Angular framework, for example. Angular follows MVVM, but it uses the term &quot;Controller&quot; to refer to the ViewModel.\r\n\r\nAnd one last thing, it&#39;s not mandatory to have ViewInterface in your app for it to follow MVP;)\r\n\r\n\r\n  [1]: https://www.baeldung.com/mvc-vs-mvp-pattern\r\n  [2]: https://www.geeksforgeeks.org/difference-between-mvc-mvp-and-mvvm-architecture-pattern-in-android/","title":"MVP, JavaFx and components references","body":"<p>I know this question is very old, but I still decided to write my answer here.</p>\n<p>I will start by saying that despite being advertised as following MVC pattern, <strong>JavaFX/FXML really follows MVP pattern by default</strong>.</p>\n<p>There are several good articles about MVC vs MVP (<a href=\"https://www.baeldung.com/mvc-vs-mvp-pattern\" rel=\"nofollow noreferrer\">Baeldung - MVC vs MVP</a>, <a href=\"https://www.geeksforgeeks.org/difference-between-mvc-mvp-and-mvvm-architecture-pattern-in-android/\" rel=\"nofollow noreferrer\">GeeksForGeeks - MVC, MVP, MVVM</a>). Here I will point key main differences.</p>\n<p><strong>MVC pattern</strong></p>\n<ul>\n<li>In MVC pattern the Controller is the entry point to the application. User Events are caught and handled by the controller. Take as an example a Spring MVC web app. The entry point to the application is the HTTP request handling performed by the controller. Sure, the user needs to click a button in the view in order for the HTTP request to be sent, but the button click isn't what triggers the backend server to act. It is the HTTP request sent by your browser as a result of your button click that triggers the web server to act. In fact, the user could've sent the same request by curl command for example. The view isn't needed to drive the interaction, it's not the entry point.</li>\n<li>There is a Many-to-Many relationship between Controllers and Views. Triggering one controller action may result in different views being shown to the user depending on the state of the system. The Controller has a power to decide what view to show to the user. Coming back to the web app example, the controller might decide to respond differently to the same request sent by users with different access rights, and show different views as a result. In addition, the same view can be shown as a response to different requests (e.g. redirect).</li>\n<li>In traditional MVC pattern, the Model and the View are coupled and can talk directly to each other. The View uses the propetries of the model to display. We don't see this thing often in modern web apps nowadays, especially when we refer to the model as the business logic side of our application. We can see Spring MVC using the concept of the 'Model' (which is really just a Map of key-value pairs) to pass the data between the Controller and the View. We can inject an instance of a Model (here I mean <code>org.springframework.ui.Model</code> to be extra clear, please don't consufe this with MVC Model) into the controller and use it to pass data returned by service/application layer (MVC Model) into the view. We can also pass the instance of the Model (<code>org.springframework.ui.Model</code>) object directly into service layer by the means of method arguments, or ThreadLocals, or by some other way, and achieve 'True MVC'. But people don't usually do it, because it couples Application Logic (MVC Model) and the View (this is the drawback of MVC that MVP attempts to solve).</li>\n</ul>\n<p><strong>MVP pattern</strong></p>\n<ul>\n<li>In MVP Pattern the View is the entry point to the application. User input is handled by the view, the view then forwards these user events to the presenter by calling its methods. This is what we see In JavaFX. When user clicks a button in the view, the click event is handled directly by the button in the view (scene graph). We can wire a callback and make the button node call some method of the Presenter (FxController) associated with the View.</li>\n<li>There is a One-to-One mapping between the View and the Presenter. In JavaFX we can only set one controller for the specific Parent Node.</li>\n<li>In MVP the View and the Model are decoupled and the data can only be passed between them through a mediator/presenter. This is what happens in JavaFX/FXML. FxController can access the view and update the scene graph, we can inject nodes from the scene graph generated by parsing fxml into the FxController. And we usually don't expose JavaFX scene graph to our core application directly, we do it via FxController.</li>\n</ul>\n<p>Overall, JavaFX/FXML is very flexible. It has poverful event handling and data binding functionalities, so you can go fully event driven and end up with MVVM (one might argue that JavaFX/FXML follows MVVM by default). Or you can be more traditional and end up with MVP, you can also start exposing your JavaFX data bindings into the core app and end up with a blend of MVC and MVP, but traditioanlly JavaFX/FXML follows MVP. Just because JavaFX uses the word &quot;Controller&quot; doesn't mean it follows MVC. The same is true for Angular framework, for example. Angular follows MVVM, but it uses the term &quot;Controller&quot; to refer to the ViewModel.</p>\n<p>And one last thing, it's not mandatory to have ViewInterface in your app for it to follow MVP;)</p>\n"}],"owner":{"display_name":"user2022068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8698,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30556388,"answer_count":3,"score":4,"last_activity_date":1695585917,"creation_date":1433055186,"question_id":30554694,"body_markdown":"I&#39;ve studied all popular GUI patterns - MVP,MVC,MVVM and finally I decided to implement MVP (Supervising Controller). So I have the following OBJECTS(!). `Stage&lt;-View&lt;-&gt;Model`. It&#39;s important Stage!=View, it is another object. Between view and model data binding. Besides I have a presenter(controller) which handles all events and works with view and model, so `View&lt;-ViewInterface&lt;-Controller-&gt;Model`.\r\nThe problem is now how to get references to labels, textAreas etc in view. Javafx allows to use @FXML annotation to inject these components to controller. However, using MVP I need these components in View, as all logic for view is in View and I don&#39;t need them in controller. The only solution I know is:\r\n\r\n    public class MyView{\r\n     private Button button;\r\n     public MyView(){\r\n      ...\r\n      button=(Button) root.lookup(&quot;#myButton&quot;);\r\n     }\r\n    }\r\n\r\nThat is to get references by their ID. However I don&#39;t like it. Or I do something wrong or I understand something wrong but I think a better solution exist. Please, help me to find it.","title":"MVP, JavaFx and components references","body":"<p>I've studied all popular GUI patterns - MVP,MVC,MVVM and finally I decided to implement MVP (Supervising Controller). So I have the following OBJECTS(!). <code>Stage&lt;-View&lt;-&gt;Model</code>. It's important Stage!=View, it is another object. Between view and model data binding. Besides I have a presenter(controller) which handles all events and works with view and model, so <code>View&lt;-ViewInterface&lt;-Controller-&gt;Model</code>.\nThe problem is now how to get references to labels, textAreas etc in view. Javafx allows to use @FXML annotation to inject these components to controller. However, using MVP I need these components in View, as all logic for view is in View and I don't need them in controller. The only solution I know is:</p>\n\n<pre><code>public class MyView{\n private Button button;\n public MyView(){\n  ...\n  button=(Button) root.lookup(\"#myButton\");\n }\n}\n</code></pre>\n\n<p>That is to get references by their ID. However I don't like it. Or I do something wrong or I understand something wrong but I think a better solution exist. Please, help me to find it.</p>\n"},{"tags":["java","android","classcastexception"],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695642492,"post_id":77168719,"comment_id":136047318,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77168719/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27166627,"reputation":9,"user_id":20704049,"display_name":"Mst. Anjuara Begum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695585342,"creation_date":1695585342,"answer_id":77168719,"question_id":77168677,"body_markdown":"    import com.google.android.play.core.tasks.OnCompleteListener;\r\n    import com.google.android.play.core.tasks.Task;\r\n    import com.google.android.play.core.review.ReviewInfo;\r\n    import com.google.android.play.core.review.ReviewManager;\r\n    import com.google.android.play.core.review.ReviewManagerFactory;\r\n    import com.google.android.play.core.review.ReviewRequest;\r\n    import com.google.android.play.core.tasks.Task;\r\n    import com.google.android.play.core.tasks.TaskCompletionSource;\r\n    \r\n    public class InAppReviewExample {\r\n    \r\n        public void requestInAppReview() {\r\n            ReviewManager reviewManager = ReviewManagerFactory.create(context);\r\n    \r\n            // Create a ReviewRequest instance.\r\n            ReviewRequest reviewRequest = reviewManager.requestReviewFlow();\r\n    \r\n            // Use a TaskCompletionSource to handle the result.\r\n            TaskCompletionSource&lt;ReviewInfo&gt; taskCompletionSource = new TaskCompletionSource&lt;&gt;();\r\n    \r\n            // Handle the Task using an OnCompleteListener.\r\n            reviewRequest.addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\r\n                @Override\r\n                public void onComplete(Task&lt;ReviewInfo&gt; task) {\r\n                    try {\r\n                        if (task.isSuccessful()) {\r\n                            // Get the ReviewInfo object.\r\n                            ReviewInfo reviewInfo = task.getResult();\r\n                            \r\n                            // Use the ReviewInfo object to launch the in-app review flow.\r\n                            Task&lt;Void&gt; flowTask = reviewManager.launchReviewFlow(context, reviewInfo);\r\n                            flowTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        // In-app review flow launched successfully.\r\n                                    } else {\r\n                                        // In-app review flow failed to launch.\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // There was an error getting the ReviewInfo.\r\n                            Exception exception = task.getException();\r\n                            if (exception instanceof ClassCastException) {\r\n                                // Handle the ClassCastException here.\r\n                                // Example: Log an error message or perform necessary actions.\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // You can also handle the task using await() or continueWith() if needed.\r\n            // taskCompletionSource.setResult(reviewInfo); // Set the result when available.\r\n        }\r\n    }\r\n\r\n","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<pre><code>import com.google.android.play.core.tasks.OnCompleteListener;\nimport com.google.android.play.core.tasks.Task;\nimport com.google.android.play.core.review.ReviewInfo;\nimport com.google.android.play.core.review.ReviewManager;\nimport com.google.android.play.core.review.ReviewManagerFactory;\nimport com.google.android.play.core.review.ReviewRequest;\nimport com.google.android.play.core.tasks.Task;\nimport com.google.android.play.core.tasks.TaskCompletionSource;\n\npublic class InAppReviewExample {\n\n    public void requestInAppReview() {\n        ReviewManager reviewManager = ReviewManagerFactory.create(context);\n\n        // Create a ReviewRequest instance.\n        ReviewRequest reviewRequest = reviewManager.requestReviewFlow();\n\n        // Use a TaskCompletionSource to handle the result.\n        TaskCompletionSource&lt;ReviewInfo&gt; taskCompletionSource = new TaskCompletionSource&lt;&gt;();\n\n        // Handle the Task using an OnCompleteListener.\n        reviewRequest.addOnCompleteListener(new OnCompleteListener&lt;ReviewInfo&gt;() {\n            @Override\n            public void onComplete(Task&lt;ReviewInfo&gt; task) {\n                try {\n                    if (task.isSuccessful()) {\n                        // Get the ReviewInfo object.\n                        ReviewInfo reviewInfo = task.getResult();\n                        \n                        // Use the ReviewInfo object to launch the in-app review flow.\n                        Task&lt;Void&gt; flowTask = reviewManager.launchReviewFlow(context, reviewInfo);\n                        flowTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(Task&lt;Void&gt; task) {\n                                if (task.isSuccessful()) {\n                                    // In-app review flow launched successfully.\n                                } else {\n                                    // In-app review flow failed to launch.\n                                }\n                            }\n                        });\n                    } else {\n                        // There was an error getting the ReviewInfo.\n                        Exception exception = task.getException();\n                        if (exception instanceof ClassCastException) {\n                            // Handle the ClassCastException here.\n                            // Example: Log an error message or perform necessary actions.\n                        }\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // You can also handle the task using await() or continueWith() if needed.\n        // taskCompletionSource.setResult(reviewInfo); // Set the result when available.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695585719,"creation_date":1695585719,"answer_id":77168742,"question_id":77168677,"body_markdown":"It&#39;s a bad practice to perform downcasting without either checking type first or handling the cast error properly.\r\nThe exception in the case of failure in the completion Listener of the task can be caused by different reasons, not necessary some ReviewException problem. So, check it first:\r\n```\r\n if (task.isSuccessful()) {\r\n                // We can get the ReviewInfo object\r\n                ReviewInfo reviewInfo = task.getResult();\r\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n                flow.addOnCompleteListener(task1 -&gt; {\r\n                    // The flow has finished. The API does not indicate whether the user\r\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\r\n                    // matter the result, we continue our app flow.\r\n                });\r\n            } else {\r\n                // There was some problem, log or handle the error code.\r\n                Exception exception = task.getException();\r\n                if (exception instanceof ReviewException) {\r\n                    // It&#39;s safe to downcast now\r\n                    @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\r\n                } else {\r\n                     // some other error\r\n                }\r\n            }\r\n```\r\n","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<p>It's a bad practice to perform downcasting without either checking type first or handling the cast error properly.\nThe exception in the case of failure in the completion Listener of the task can be caused by different reasons, not necessary some ReviewException problem. So, check it first:</p>\n<pre><code> if (task.isSuccessful()) {\n                // We can get the ReviewInfo object\n                ReviewInfo reviewInfo = task.getResult();\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n                flow.addOnCompleteListener(task1 -&gt; {\n                    // The flow has finished. The API does not indicate whether the user\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\n                    // matter the result, we continue our app flow.\n                });\n            } else {\n                // There was some problem, log or handle the error code.\n                Exception exception = task.getException();\n                if (exception instanceof ReviewException) {\n                    // It's safe to downcast now\n                    @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\n                } else {\n                     // some other error\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":14068837,"reputation":23,"user_id":10162907,"display_name":"mohammed said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77168742,"answer_count":2,"score":2,"last_activity_date":1695585719,"creation_date":1695584531,"question_id":77168677,"body_markdown":"After implementing google play In-App reviews API in my app i keep getting ClassCastException crash in firebase.\r\n\r\n    Fatal Exception: java.lang.ClassCastException: android.os.RemoteException cannot be cast to y4.a\r\n       at .MainActivity.lambda$review_dialog$3(MainActivity.java:31)\r\n       at com.google.android.gms.tasks.zzi.run(zzi.java:21)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:201)\r\n       at android.os.Looper.loop(Looper.java:288)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7886)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\r\n\r\n```\r\npublic void review_dialog(){\r\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n        request.addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                // We can get the ReviewInfo object\r\n                ReviewInfo reviewInfo = task.getResult();\r\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n                flow.addOnCompleteListener(task1 -&gt; {\r\n                    // The flow has finished. The API does not indicate whether the user\r\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\r\n                    // matter the result, we continue our app flow.\r\n                });\r\n            } else {\r\n                // There was some problem, log or handle the error code.\r\n                @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nis the problem in (ReviewException) casting?","title":"Google Play In-App Reviews API java.lang.ClassCastException","body":"<p>After implementing google play In-App reviews API in my app i keep getting ClassCastException crash in firebase.</p>\n<pre><code>Fatal Exception: java.lang.ClassCastException: android.os.RemoteException cannot be cast to y4.a\n   at .MainActivity.lambda$review_dialog$3(MainActivity.java:31)\n   at com.google.android.gms.tasks.zzi.run(zzi.java:21)\n   at android.os.Handler.handleCallback(Handler.java:938)\n   at android.os.Handler.dispatchMessage(Handler.java:99)\n   at android.os.Looper.loopOnce(Looper.java:201)\n   at android.os.Looper.loop(Looper.java:288)\n   at android.app.ActivityThread.main(ActivityThread.java:7886)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\n</code></pre>\n<pre><code>public void review_dialog(){\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n        request.addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                // We can get the ReviewInfo object\n                ReviewInfo reviewInfo = task.getResult();\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n                flow.addOnCompleteListener(task1 -&gt; {\n                    // The flow has finished. The API does not indicate whether the user\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\n                    // matter the result, we continue our app flow.\n                });\n            } else {\n                // There was some problem, log or handle the error code.\n                @ReviewErrorCode int reviewErrorCode = ((ReviewException)    task.getException()).getErrorCode();\n            }\n        });\n\n\n\n    }\n</code></pre>\n<p>is the problem in (ReviewException) casting?</p>\n"},{"tags":["java","loops","java.util.scanner"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695586082,"post_id":77168725,"comment_id":136040749,"body_markdown":"Are you closing a Scanner instance somewhere else in your code, an instance that is based on System.in? If you do this, then the System.in stream is closed and cannot be re-opened and this exception will be thrown. The solution is to not close this type of Scanner, and also to not re-create an instance, but rather to share the same instance to where it is needed. Please see this question: [java.util.NoSuchElementException - Scanner reading user input](https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input), for more on this.","body":"Are you closing a Scanner instance somewhere else in your code, an instance that is based on System.in? If you do this, then the System.in stream is closed and cannot be re-opened and this exception will be thrown. The solution is to not close this type of Scanner, and also to not re-create an instance, but rather to share the same instance to where it is needed. Please see this question: <a href=\"https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input\">java.util.NoSuchElementException - Scanner reading user input</a>, for more on this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1695586426,"post_id":77168725,"comment_id":136040781,"body_markdown":"We&#39;ll need to see the code you haven&#39;t shown us, and also please show us what input you give the program, and its full output","body":"We&#39;ll need to see the code you haven&#39;t shown us, and also please show us what input you give the program, and its full output"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695586851,"post_id":77168725,"comment_id":136040832,"body_markdown":"Yes, that&#39;s got to be the problem as you&#39;re not seeing an IllegalStateException nor an InputMismatchException. You are closing a Scanner instance based on System.in before calling this method. The solution is: don&#39;t do this. Again, create a single Scanner instance based on System.in that is used throughout the program, and pass it to where it is needed, such as via a method argument.","body":"Yes, that&#39;s got to be the problem as you&#39;re not seeing an IllegalStateException nor an InputMismatchException. You are closing a Scanner instance based on System.in before calling this method. The solution is: don&#39;t do this. Again, create a single Scanner instance based on System.in that is used throughout the program, and pass it to where it is needed, such as via a method argument."},{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":1,"creation_date":1695586976,"post_id":77168725,"comment_id":136040843,"body_markdown":"@HovercraftFullOfEels This was the problem! I had created a new Scanner object in the addNewBike() method and closed it at the end, which was the method I was using to test the menu. Thank you, I had completely ignored that as a point of error!","body":"@HovercraftFullOfEels This was the problem! I had created a new Scanner object in the addNewBike() method and closed it at the end, which was the method I was using to test the menu. Thank you, I had completely ignored that as a point of error!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695587082,"post_id":77168725,"comment_id":136040852,"body_markdown":"You&#39;re welcome, but having said that, you will want to improve your Google search skills on this. You must have been searching on Scanner problems but seem to have left out the text &quot;NoSuchElementException&quot; from your searches, and that is the key. In the future, you will *always* want to search on the specific exception type.","body":"You&#39;re welcome, but having said that, you will want to improve your Google search skills on this. You must have been searching on Scanner problems but seem to have left out the text &quot;NoSuchElementException&quot; from your searches, and that is the key. In the future, you will <i>always</i> want to search on the specific exception type."},{"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"score":1,"creation_date":1695587455,"post_id":77168725,"comment_id":136040899,"body_markdown":"@HovercraftFullOfEels Definitely noted!","body":"@HovercraftFullOfEels Definitely noted!"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695586785,"answer_count":0,"score":0,"last_activity_date":1695585460,"creation_date":1695585460,"question_id":77168725,"body_markdown":"I&#39;m creating a simple main menu for my program which asks for users to input an integer between 1 and 6, does the corresponding option using a switch statement and then should loop back to the main menu (unless the user chose to exit). However, I keep getting a NoSuchElementException when the program loops back to the beginning after displaying the options, without letting me input another option. \r\n\r\nI&#39;ve searched online for answers and none of them have seemed to work for me. Most answers talk about the input stream needing to be cleared and using `input.nextLine()` after `input.nextInt`, which seemed to have fixed the problem for others. Or just using `input.nextLine()` and converting it into an integer. Both of these have not worked for me.\r\n\r\nHere&#39;s my code:\r\n```\r\npublic static void displayMainMenu() {\r\n        Scanner input = new Scanner(System.in);\r\n        int option = 0;\r\n\r\n        while(true) {\r\n            System.out.println(&quot;Bike Registry&quot;);\r\n            System.out.println(&quot;\\nMain Menu&quot;);\r\n            System.out.println(&quot;1. List All Bikes&quot;);\r\n            System.out.println(&quot;2. Add a New Bike&quot;);\r\n            System.out.println(&quot;3. Delete a Bike&quot;);\r\n            System.out.println(&quot;4. Change a Bike Attribute&quot;);\r\n            System.out.println(&quot;5. DEBUG: Dump objects (toString)&quot;);\r\n            System.out.println(&quot;6. Exit&quot;);\r\n            \r\n            option = input.nextInt();\r\n            input.nextLine(); \r\n\r\n            switch(option) {\r\n                case 1:\r\n                    displayAllBikes();\r\n                    break;\r\n                case 2:\r\n                    addNewBike();\r\n                    break;\r\n                case 3:\r\n                    deleteBike();\r\n                    break;\r\n                case 4:\r\n                    alterBike();\r\n                    break;\r\n                case 5:\r\n                    dumpBikes();\r\n                    break;\r\n                case 6:\r\n                    System.out.println(&quot;Have a nice day!&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;This is not a valid option! Please select from the menu!&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAnd this is the error I&#39;m getting:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at ca.sfu.cmpt213.Bike.BikeMethods.displayMainMenu(BikeMethods.java:21)\r\n        at ca.sfu.cmpt213.Main.main(Main.java:7)\r\n```","title":"Using a Scanner object in a while loop for a menu gives a NoSuchElementException","body":"<p>I'm creating a simple main menu for my program which asks for users to input an integer between 1 and 6, does the corresponding option using a switch statement and then should loop back to the main menu (unless the user chose to exit). However, I keep getting a NoSuchElementException when the program loops back to the beginning after displaying the options, without letting me input another option.</p>\n<p>I've searched online for answers and none of them have seemed to work for me. Most answers talk about the input stream needing to be cleared and using <code>input.nextLine()</code> after <code>input.nextInt</code>, which seemed to have fixed the problem for others. Or just using <code>input.nextLine()</code> and converting it into an integer. Both of these have not worked for me.</p>\n<p>Here's my code:</p>\n<pre><code>public static void displayMainMenu() {\n        Scanner input = new Scanner(System.in);\n        int option = 0;\n\n        while(true) {\n            System.out.println(&quot;Bike Registry&quot;);\n            System.out.println(&quot;\\nMain Menu&quot;);\n            System.out.println(&quot;1. List All Bikes&quot;);\n            System.out.println(&quot;2. Add a New Bike&quot;);\n            System.out.println(&quot;3. Delete a Bike&quot;);\n            System.out.println(&quot;4. Change a Bike Attribute&quot;);\n            System.out.println(&quot;5. DEBUG: Dump objects (toString)&quot;);\n            System.out.println(&quot;6. Exit&quot;);\n            \n            option = input.nextInt();\n            input.nextLine(); \n\n            switch(option) {\n                case 1:\n                    displayAllBikes();\n                    break;\n                case 2:\n                    addNewBike();\n                    break;\n                case 3:\n                    deleteBike();\n                    break;\n                case 4:\n                    alterBike();\n                    break;\n                case 5:\n                    dumpBikes();\n                    break;\n                case 6:\n                    System.out.println(&quot;Have a nice day!&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;This is not a valid option! Please select from the menu!&quot;);\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p>And this is the error I'm getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at ca.sfu.cmpt213.Bike.BikeMethods.displayMainMenu(BikeMethods.java:21)\n        at ca.sfu.cmpt213.Main.main(Main.java:7)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611319,"post_id":77168670,"comment_id":136042723,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29524442,"reputation":1,"user_id":22626453,"display_name":"Joshua Whittington"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695584425,"creation_date":1695584425,"question_id":77168670,"body_markdown":"I&#39;m currently working on a Spring project with my team for my bootcamp capstone and we&#39;ve been running into an issue with build paths differing between branches. I believe this has to do with the recent update to Spring Boot (3.1.4) when most of the project was written on 3.1.3. We can get around this using the Language supporter from Red Hat (It&#39;ll throw a message when we try to change branches, saying &#39;build path has changed, would you like to synchronize classpath?&#39; or something similar) but we&#39;re concerned that when we start to merge our branches back to main that everything will break.\r\n\r\nWhenever we tried to swap between 3.1.3 and 3.1.4 in the pom.xml, it didn&#39;t fix the issue.","title":"Spring Boot mismatch version/build path","body":"<p>I'm currently working on a Spring project with my team for my bootcamp capstone and we've been running into an issue with build paths differing between branches. I believe this has to do with the recent update to Spring Boot (3.1.4) when most of the project was written on 3.1.3. We can get around this using the Language supporter from Red Hat (It'll throw a message when we try to change branches, saying 'build path has changed, would you like to synchronize classpath?' or something similar) but we're concerned that when we start to merge our branches back to main that everything will break.</p>\n<p>Whenever we tried to swap between 3.1.3 and 3.1.4 in the pom.xml, it didn't fix the issue.</p>\n"},{"tags":["java","spring-boot","openapi","swagger-codegen"],"owner":{"account_id":14809303,"reputation":75,"user_id":10695430,"display_name":"Panicking Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695583780,"creation_date":1695583780,"question_id":77168622,"body_markdown":"A bit of context. In my system ServiceB calls ServiceA. The ServiceA provides a Swagger/OpenAPI definition, which ServiceB uses to generate its client code.   \r\n\r\nServiceA requires some custom header parameters that are added to GroupedOpenAPI by addOperationCustomizer method. \r\n\r\n\r\n```\r\n@Bean\r\npublic GroupedOpenApi opeApiDefinitionBuilder() {\r\n    return GroupedOpenApi.builder()\r\n        .addOperationCustomizer(zzzHeaderParameterAdder)\r\n        .addOperationCustomizer(yyyHeaderParameterAdder)\r\n        .addOperationCustomizer(xxxHeaderParameterAdder)\r\n        .build();\r\n\t\t}\r\n \r\n// where xxxHeaderParameterAdder and others are an instance of\r\n\r\n@Component\r\npublic class YYYHeaderParameterAdder implements OperationCustomizer {\r\n\r\n  @Override\r\n  public Operation customize(Operation operation, HandlerMethod handlerMethod) {\r\n\r\n    Parameter extraParam = new Parameter()\r\n        .in(ParameterIn.HEADER.toString())\r\n        .name(&quot;parameterXXX&quot;)\r\n        .schema(new Schema().type(&quot;string&quot;))\r\n        .required(Boolean.TRUE);\r\n\r\n    operation.addParametersItem(extraParam);\r\n\r\n    return operation;\r\n  }\r\n}\r\n```\r\n\r\nwhen Spring Boot 2 with springdoc-openapi-ui was used, then the genreated swagger definition contains defined parameter added in the revers order of operation registration (Query comes from endpoind definition). \r\n\r\n\r\n```\r\n        &quot;parameters&quot; : [\r\n          {\r\n            &quot;name&quot; : &quot;id&quot;,\r\n            &quot;in&quot; : &quot;query&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            },\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterXXX&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterYYY&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : false,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          }\r\n```\r\n\r\nso gernerated client code looks this way:\r\n\r\n\r\n```\r\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\r\n```\r\n\r\nafter upgrading to Spring Boot 3 and switching to springdoc-openapi-starter-webmvc-ui the order of parameters is reversed\r\n\r\n```\r\n        &quot;parameters&quot; : [\r\n          {\r\n            &quot;name&quot; : &quot;id&quot;,\r\n            &quot;in&quot; : &quot;query&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            },\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : false,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterYYY&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot; : &quot;parameterXXX&quot;,\r\n            &quot;in&quot; : &quot;header&quot;,\r\n            &quot;required&quot; : true,\r\n            &quot;schema&quot; : {\r\n              &quot;type&quot; : &quot;string&quot;\r\n            }\r\n          }\r\n```\r\n\r\nwhat results in different client code\r\n\r\n```\r\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\r\n\r\n```\r\n\r\nto summ up\r\n\r\n```\r\n// new client generated code\r\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\r\n// old client generated code\r\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\r\n\r\n```\r\n\r\ncompiler cannot detect this error because all parameters are strings.\r\n\r\n\r\nThe io.swagger.v3.oas.models.Operation class has no property that allows to manipulate the order of operations. How to deal with this problem? ","title":"Order of parameters in a method generated from Swagger/OpenAPI definition","body":"<p>A bit of context. In my system ServiceB calls ServiceA. The ServiceA provides a Swagger/OpenAPI definition, which ServiceB uses to generate its client code.</p>\n<p>ServiceA requires some custom header parameters that are added to GroupedOpenAPI by addOperationCustomizer method.</p>\n<pre><code>@Bean\npublic GroupedOpenApi opeApiDefinitionBuilder() {\n    return GroupedOpenApi.builder()\n        .addOperationCustomizer(zzzHeaderParameterAdder)\n        .addOperationCustomizer(yyyHeaderParameterAdder)\n        .addOperationCustomizer(xxxHeaderParameterAdder)\n        .build();\n        }\n \n// where xxxHeaderParameterAdder and others are an instance of\n\n@Component\npublic class YYYHeaderParameterAdder implements OperationCustomizer {\n\n  @Override\n  public Operation customize(Operation operation, HandlerMethod handlerMethod) {\n\n    Parameter extraParam = new Parameter()\n        .in(ParameterIn.HEADER.toString())\n        .name(&quot;parameterXXX&quot;)\n        .schema(new Schema().type(&quot;string&quot;))\n        .required(Boolean.TRUE);\n\n    operation.addParametersItem(extraParam);\n\n    return operation;\n  }\n}\n</code></pre>\n<p>when Spring Boot 2 with springdoc-openapi-ui was used, then the genreated swagger definition contains defined parameter added in the revers order of operation registration (Query comes from endpoind definition).</p>\n<pre><code>        &quot;parameters&quot; : [\n          {\n            &quot;name&quot; : &quot;id&quot;,\n            &quot;in&quot; : &quot;query&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            },\n          },\n          {\n            &quot;name&quot; : &quot;parameterXXX&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterYYY&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : false,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          }\n</code></pre>\n<p>so gernerated client code looks this way:</p>\n<pre><code>getWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\n</code></pre>\n<p>after upgrading to Spring Boot 3 and switching to springdoc-openapi-starter-webmvc-ui the order of parameters is reversed</p>\n<pre><code>        &quot;parameters&quot; : [\n          {\n            &quot;name&quot; : &quot;id&quot;,\n            &quot;in&quot; : &quot;query&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            },\n          },\n          {\n            &quot;name&quot; : &quot;parameterZZZ&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : false,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterYYY&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          },\n          {\n            &quot;name&quot; : &quot;parameterXXX&quot;,\n            &quot;in&quot; : &quot;header&quot;,\n            &quot;required&quot; : true,\n            &quot;schema&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          }\n</code></pre>\n<p>what results in different client code</p>\n<pre><code>getWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\n\n</code></pre>\n<p>to summ up</p>\n<pre><code>// new client generated code\ngetWhatever(String id, String parameterZZZ, String parameterYYY, String parameterXXX) { body here}\n// old client generated code\ngetWhatever(String id, String parameterXXX, String parameterYYY, String parameterZZZ) { body here}\n\n</code></pre>\n<p>compiler cannot detect this error because all parameters are strings.</p>\n<p>The io.swagger.v3.oas.models.Operation class has no property that allows to manipulate the order of operations. How to deal with this problem?</p>\n"},{"tags":["java","concurrency","vert.x"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695599793,"post_id":77168600,"comment_id":136041787,"body_markdown":"Shutdown hooks must execute quickly and not engage in blocking actions such as network I/IO. See the documentation. You can&#39;t do this.","body":"Shutdown hooks must execute quickly and not engage in blocking actions such as network I/IO. See the documentation. You can&#39;t do this."},{"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"score":0,"creation_date":1695620945,"post_id":77168600,"comment_id":136043461,"body_markdown":"is there any way to achieve this in vert.x aside from using shutdown hooks","body":"is there any way to achieve this in vert.x aside from using shutdown hooks"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1695629404,"post_id":77168600,"comment_id":136044752,"body_markdown":"Log as you go. Why do you have pending log messages at shutdown? Design error there.","body":"Log as you go. Why do you have pending log messages at shutdown? Design error there."}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695583303,"creation_date":1695583303,"question_id":77168600,"body_markdown":"We have a vert.x java application wherein we need to log some information when it is shutdown. However, when pressing CTRL+C or when java application is shut down, only &quot;Shutting down...&quot; is the only one printed. \r\n\r\n```\r\n  Runtime.getRuntime().addShutdownHook(new Thread(serviceStatusLogger::log));\r\n\r\n   final Vertx vertx = Vertx.vertx();\r\n        final HttpServer server = vertx.createHttpServer();\r\n\r\n        final Router router = Router.router(Vertx.vertx());\r\n        final Route route = router.route(HttpMethod.GET, &quot;/health&quot;);\r\n\r\n        route.handler(request -&gt; {\r\n            final HttpServerResponse response = request.response();\r\n            response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\r\n            response.end(makeResponse());\r\n        });\r\n\r\n        server.requestHandler(router).listen(8085);\r\n```\r\n\r\nThe ServiceStatusLogger class contains all data that needs to be logged. How do I ensure that all the loggers here printed when program is shut down?\r\n```\r\npublic class ServiceStatusLogger {\r\n    private static final Logger LOG = Logger.getLogger(ServiceStatusLogger.class.getName());\r\n\r\n    private final DefaultMessageResolver defaultMessageResolver;\r\n    private final WebhookResponseRepository webhookResponseRepository;\r\n\r\n    public ServiceStatusLogger(final DefaultMessageResolver defaultMessageResolver,\r\n                               final WebhookResponseRepository webhookResponseRepository) {\r\n        this.defaultMessageResolver = defaultMessageResolver;\r\n        this.webhookResponseRepository = webhookResponseRepository;\r\n    }\r\n\r\n\r\n    public void log(){\r\n\r\n        LOG.info(&quot;Shutting down...&quot;);\r\n        LOG.info(&quot;Last processed webhook response log id: &quot; + webhookResponseRepository\r\n                .getLastWebhookResponseLog()\r\n                .getId());\r\n        LOG.info(&quot;Total number of webhooks processed in this job execution: &quot;\r\n                + defaultMessageResolver.getWebhooksProcessed());\r\n    }\r\n}\r\n```","title":"Add shutdown hook does not log all data","body":"<p>We have a vert.x java application wherein we need to log some information when it is shutdown. However, when pressing CTRL+C or when java application is shut down, only &quot;Shutting down...&quot; is the only one printed.</p>\n<pre><code>  Runtime.getRuntime().addShutdownHook(new Thread(serviceStatusLogger::log));\n\n   final Vertx vertx = Vertx.vertx();\n        final HttpServer server = vertx.createHttpServer();\n\n        final Router router = Router.router(Vertx.vertx());\n        final Route route = router.route(HttpMethod.GET, &quot;/health&quot;);\n\n        route.handler(request -&gt; {\n            final HttpServerResponse response = request.response();\n            response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\n            response.end(makeResponse());\n        });\n\n        server.requestHandler(router).listen(8085);\n</code></pre>\n<p>The ServiceStatusLogger class contains all data that needs to be logged. How do I ensure that all the loggers here printed when program is shut down?</p>\n<pre><code>public class ServiceStatusLogger {\n    private static final Logger LOG = Logger.getLogger(ServiceStatusLogger.class.getName());\n\n    private final DefaultMessageResolver defaultMessageResolver;\n    private final WebhookResponseRepository webhookResponseRepository;\n\n    public ServiceStatusLogger(final DefaultMessageResolver defaultMessageResolver,\n                               final WebhookResponseRepository webhookResponseRepository) {\n        this.defaultMessageResolver = defaultMessageResolver;\n        this.webhookResponseRepository = webhookResponseRepository;\n    }\n\n\n    public void log(){\n\n        LOG.info(&quot;Shutting down...&quot;);\n        LOG.info(&quot;Last processed webhook response log id: &quot; + webhookResponseRepository\n                .getLastWebhookResponseLog()\n                .getId());\n        LOG.info(&quot;Total number of webhooks processed in this job execution: &quot;\n                + defaultMessageResolver.getWebhooksProcessed());\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","proxy"],"comments":[{"owner":{"account_id":2673698,"reputation":128,"user_id":2310536,"accept_rate":62,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1699885797,"post_id":77164193,"comment_id":136583506,"body_markdown":"I am facing same. @DimaTverdoy did you find any solution?","body":"I am facing same. @DimaTverdoy did you find any solution?"}],"owner":{"account_id":17905174,"reputation":11,"user_id":22621270,"display_name":"DimaTverdoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695582604,"creation_date":1695490084,"question_id":77164193,"body_markdown":"I need to use Selenium with http proxy with authorization\r\n\r\nI&#39;m trying to use the arguments:\r\n```java\r\n\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;proxy-server=&#39;http://user:pass@1.1.1.1:8989&#39;&quot;);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nBut I get an error in the browser `ERR_NO_SUPPORTED_PROXIES`.\r\n\r\nThen I tried to use the object `Proxy`:\r\n```java\r\nChromeOptions options = new ChromeOptions();\r\n\r\nProxy proxyOption = new Proxy();\r\nproxyOption.setHttpProxy(&quot;1.1.1.1:8989&quot;);\r\noptions.setProxy(proxyOption);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nThe browser worked without error but did not use a proxy","title":"How to use proxy in selenium chrome","body":"<p>I need to use Selenium with http proxy with authorization</p>\n<p>I'm trying to use the arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;proxy-server='http://user:pass@1.1.1.1:8989'&quot;);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>But I get an error in the browser <code>ERR_NO_SUPPORTED_PROXIES</code>.</p>\n<p>Then I tried to use the object <code>Proxy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChromeOptions options = new ChromeOptions();\n\nProxy proxyOption = new Proxy();\nproxyOption.setHttpProxy(&quot;1.1.1.1:8989&quot;);\noptions.setProxy(proxyOption);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>The browser worked without error but did not use a proxy</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1599130662,"post_id":63721080,"comment_id":112681519,"body_markdown":"Try to use `admin-cli` client and user with proper `realm-management` roles. Also check Keycloak server logs - you may find there more details about reason for `HTTP 400 Bad Request` error.","body":"Try to use <code>admin-cli</code> client and user with proper <code>realm-management</code> roles. Also check Keycloak server logs - you may find there more details about reason for <code>HTTP 400 Bad Request</code> error."}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1601359941,"creation_date":1599133015,"answer_id":63722834,"question_id":63721080,"body_markdown":"Although Keycloak automatically creates a `master` realm, with several client IDs, and you can automate setting up an admin user, its seems you can not use those with the Java admin client. You must instead create (or import) a realm and client ID, which you can then indicate when you create the `Keycloak` instance. Keycloak will not then complain about a *Bad Request*.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>Although Keycloak automatically creates a <code>master</code> realm, with several client IDs, and you can automate setting up an admin user, its seems you can not use those with the Java admin client. You must instead create (or import) a realm and client ID, which you can then indicate when you create the <code>Keycloak</code> instance. Keycloak will not then complain about a <em>Bad Request</em>.</p>\n"},{"comments":[{"owner":{"account_id":52611,"reputation":9001,"user_id":157229,"accept_rate":62,"display_name":"Ice09"},"score":1,"creation_date":1696515259,"post_id":77141369,"comment_id":136165433,"body_markdown":"Same problem here, accidentally used 22.0.3 client against 21.1.2 server, create user did not work.","body":"Same problem here, accidentally used 22.0.3 client against 21.1.2 server, create user did not work."},{"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"score":0,"creation_date":1697570753,"post_id":77141369,"comment_id":136295788,"body_markdown":"This was the problem for me as well. Different keycloak server and client versions in use. If anyone doesnt know where to check the keycloak server version the url should be similar to http://localhost:9990/auth/admin/master/console/#/server-info just replace the port with your keycloak server port","body":"This was the problem for me as well. Different keycloak server and client versions in use. If anyone doesnt know where to check the keycloak server version the url should be similar to <a href=\"http://localhost:9990/auth/admin/master/console/#/server-info\" rel=\"nofollow noreferrer\">localhost:9990/auth/admin/master/console/#/server-info</a> just replace the port with your keycloak server port"}],"tags":[],"owner":{"account_id":6716499,"reputation":21,"user_id":5178187,"display_name":"Prominence"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695582473,"creation_date":1695204393,"answer_id":77141369,"question_id":63721080,"body_markdown":"Also, it is important to have the same **keycloak-admin-client** and **keycloak** version.\r\n\r\nMy problem was that I had `Keycloak 22.0.0` and `org.keycloak:keycloak-admin-client:22.0.3`. That&#39;s why I&#39;ve got `400 Bad Request`.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>Also, it is important to have the same <strong>keycloak-admin-client</strong> and <strong>keycloak</strong> version.</p>\n<p>My problem was that I had <code>Keycloak 22.0.0</code> and <code>org.keycloak:keycloak-admin-client:22.0.3</code>. That's why I've got <code>400 Bad Request</code>.</p>\n"}],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11358,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63722834,"answer_count":2,"score":4,"last_activity_date":1695582473,"creation_date":1599126621,"question_id":63721080,"body_markdown":"I am attempting a simple test of the health of a fresh instance of Keycloak (running in a Docker container, it so happens), by trying to list the realms using the Java admin client as the admin user. But this repeatedly fails due to an *HTTP 400 Bad Request*, apparently when the client is attempting to get an access token. How must I configure Keycloak, or the admin client, to do this simple query?\r\n\r\nThe stack-trace of the failure is thus:\r\n```\r\njava.lang.AssertionError: Able to list realms\r\n\tat [MyClass].listRealms([MyClass].java:69)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t[junit stack-trace]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: javax.ws.rs.ProcessingException: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:603)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:440)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:149)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n\tat com.sun.proxy.$Proxy45.findAll(Unknown Source)\r\n\tat [MyClass].listRealms([MyClass].java:67)\r\n\t... 67 more\r\nCaused by: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.handleErrorStatus(ClientInvocation.java:219)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.extractResult(ClientInvocation.java:195)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.extractors.BodyEntityExtractor.extractEntity(BodyEntityExtractor.java:62)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:151)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n\tat com.sun.proxy.$Proxy43.grantToken(Unknown Source)\r\n\tat org.keycloak.admin.client.token.TokenManager.grantToken(TokenManager.java:90)\r\n\tat org.keycloak.admin.client.token.TokenManager.getAccessToken(TokenManager.java:70)\r\n\tat org.keycloak.admin.client.token.TokenManager.getAccessTokenString(TokenManager.java:65)\r\n\tat org.keycloak.admin.client.resource.BearerAuthFilter.filter(BearerAuthFilter.java:52)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:590)\r\n\t... 73 more\r\n```\r\n\r\nThe crucial code doing the query is this:\r\n\r\n```\r\n   public void listRealms() {\r\n      try (var keycloak = container.getKeycloakInstance()) {\r\n         final List&lt;RealmRepresentation&gt; realms;\r\n         try {\r\n            realms = keycloak.realms().findAll();\r\n         } catch (final Exception e) {// provide better diagnostics\r\n            throw new AssertionError(&quot;Able to list realms&quot;, e);\r\n         }\r\n         assertThat(realms, not(empty()));\r\n      }\r\n   }\r\n```\r\nwith the `Keycloak` instance created thus:\r\n```\r\n   private static final String ADMIN_USER = &quot;admin&quot;;\r\n   private static final String ADMIN_PASSWORD = &quot;letmein&quot;;\r\n   private static final String ADMIN_REALM = &quot;master&quot;;\r\n   private static final String ADMIN_CLIENT_ID = null;\r\n...\r\n   public Keycloak getKeycloakInstance() {\r\n      return Keycloak.getInstance(getUri().toASCIIString(), ADMIN_REALM,\r\n               ADMIN_USER, ADMIN_PASSWORD, ADMIN_CLIENT_ID);\r\n   }\r\n```\r\n---\r\nThat test failure happens to be when running the test in Eclipse. But the problem also occurs when I run the test using Maven (that is, using the `maven-failsafe-plugin`).\r\n\r\nThe same failure mode (*HTTP 400 Bad Request* ) also occurs if I\r\n* use a non existent client ID, rather than a null client ID (I would expect *HTTP 404 Not Found* in that case)\r\n* use the wrong password (I would expect *HTTP 401 Unauthorized* or *HTTP 403 Forbidden* in that case)\r\n\r\nThe URL I am using seems to be correct, because if I deliberately use an incorrect URL path I get the expected *HTTP 404 Not Found* failure mode, and if I deliberately use an incorrect host name I get the expected `UnknownHostException`.\r\n\r\nThis problem occurs with Key cloak version `11.0.2` (the current version at the time of writing) and also occurred with version `11.0.0`.","title":"Keycloak admin client responds with Bad Request to attempt to list realms","body":"<p>I am attempting a simple test of the health of a fresh instance of Keycloak (running in a Docker container, it so happens), by trying to list the realms using the Java admin client as the admin user. But this repeatedly fails due to an <em>HTTP 400 Bad Request</em>, apparently when the client is attempting to get an access token. How must I configure Keycloak, or the admin client, to do this simple query?</p>\n<p>The stack-trace of the failure is thus:</p>\n<pre><code>java.lang.AssertionError: Able to list realms\n    at [MyClass].listRealms([MyClass].java:69)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    [junit stack-trace]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: javax.ws.rs.ProcessingException: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:603)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:440)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:149)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n    at com.sun.proxy.$Proxy45.findAll(Unknown Source)\n    at [MyClass].listRealms([MyClass].java:67)\n    ... 67 more\nCaused by: javax.ws.rs.BadRequestException: HTTP 400 Bad Request\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.handleErrorStatus(ClientInvocation.java:219)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.extractResult(ClientInvocation.java:195)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.extractors.BodyEntityExtractor.extractEntity(BodyEntityExtractor.java:62)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:151)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n    at com.sun.proxy.$Proxy43.grantToken(Unknown Source)\n    at org.keycloak.admin.client.token.TokenManager.grantToken(TokenManager.java:90)\n    at org.keycloak.admin.client.token.TokenManager.getAccessToken(TokenManager.java:70)\n    at org.keycloak.admin.client.token.TokenManager.getAccessTokenString(TokenManager.java:65)\n    at org.keycloak.admin.client.resource.BearerAuthFilter.filter(BearerAuthFilter.java:52)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:590)\n    ... 73 more\n</code></pre>\n<p>The crucial code doing the query is this:</p>\n<pre><code>   public void listRealms() {\n      try (var keycloak = container.getKeycloakInstance()) {\n         final List&lt;RealmRepresentation&gt; realms;\n         try {\n            realms = keycloak.realms().findAll();\n         } catch (final Exception e) {// provide better diagnostics\n            throw new AssertionError(&quot;Able to list realms&quot;, e);\n         }\n         assertThat(realms, not(empty()));\n      }\n   }\n</code></pre>\n<p>with the <code>Keycloak</code> instance created thus:</p>\n<pre><code>   private static final String ADMIN_USER = &quot;admin&quot;;\n   private static final String ADMIN_PASSWORD = &quot;letmein&quot;;\n   private static final String ADMIN_REALM = &quot;master&quot;;\n   private static final String ADMIN_CLIENT_ID = null;\n...\n   public Keycloak getKeycloakInstance() {\n      return Keycloak.getInstance(getUri().toASCIIString(), ADMIN_REALM,\n               ADMIN_USER, ADMIN_PASSWORD, ADMIN_CLIENT_ID);\n   }\n</code></pre>\n<hr />\n<p>That test failure happens to be when running the test in Eclipse. But the problem also occurs when I run the test using Maven (that is, using the <code>maven-failsafe-plugin</code>).</p>\n<p>The same failure mode (<em>HTTP 400 Bad Request</em> ) also occurs if I</p>\n<ul>\n<li>use a non existent client ID, rather than a null client ID (I would expect <em>HTTP 404 Not Found</em> in that case)</li>\n<li>use the wrong password (I would expect <em>HTTP 401 Unauthorized</em> or <em>HTTP 403 Forbidden</em> in that case)</li>\n</ul>\n<p>The URL I am using seems to be correct, because if I deliberately use an incorrect URL path I get the expected <em>HTTP 404 Not Found</em> failure mode, and if I deliberately use an incorrect host name I get the expected <code>UnknownHostException</code>.</p>\n<p>This problem occurs with Key cloak version <code>11.0.2</code> (the current version at the time of writing) and also occurred with version <code>11.0.0</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":18161375,"reputation":21,"user_id":13212706,"display_name":"ezedin"},"score":0,"creation_date":1585928689,"post_id":61015361,"comment_id":107946102,"body_markdown":"it works, thank you Chris","body":"it works, thank you Chris"}],"answers":[{"tags":[],"owner":{"account_id":4940551,"reputation":499,"user_id":3977363,"display_name":"The.Laughing.Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585928555,"creation_date":1585928555,"answer_id":61015507,"question_id":61015361,"body_markdown":"You have your mapping set as a URL path variable\r\n\r\n    @GetMapping(&quot;/user/id/{id}&quot;)\r\n\r\nbut the URL you tried has a query parameter: ?id=13 \r\n\r\nTry using: http://localhost:8080/api/user/id/13\r\n\r\nHere is a good comparison of the two on [stackoverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>You have your mapping set as a URL path variable</p>\n\n<pre><code>@GetMapping(\"/user/id/{id}\")\n</code></pre>\n\n<p>but the URL you tried has a query parameter: ?id=13 </p>\n\n<p>Try using: <a href=\"http://localhost:8080/api/user/id/13\" rel=\"nofollow noreferrer\">http://localhost:8080/api/user/id/13</a></p>\n\n<p>Here is a good comparison of the two on <a href=\"https://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam\">stackoverflow</a></p>\n"},{"tags":[],"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585928558,"creation_date":1585928558,"answer_id":61015509,"question_id":61015361,"body_markdown":"The URL is incorrect. You have set it up as a path variable in your code. In which case, instead of hitting localhost:8080/api/user/id/?id=13 in postman, you should hit localhost:8080/api/user/id/3 instead,\r\n\r\n\r\nBut if you were following REST standards, a better URL would look like this (no need to have the &quot;id&quot; in the URL). localhost:8080/api/user/3","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>The URL is incorrect. You have set it up as a path variable in your code. In which case, instead of hitting localhost:8080/api/user/id/?id=13 in postman, you should hit localhost:8080/api/user/id/3 instead,</p>\n\n<p>But if you were following REST standards, a better URL would look like this (no need to have the \"id\" in the URL). localhost:8080/api/user/3</p>\n"}],"owner":{"account_id":18161375,"reputation":21,"user_id":13212706,"display_name":"ezedin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695582335,"creation_date":1585928106,"question_id":61015361,"body_markdown":"i&#39;m creating a simple crud with spring boot. All function well but I have a little problem with the method findOne(Long id)&lt;br&gt;\r\nin postman when i put this url : *http://localhost:8080/api/user/id/?id=13* , i get this exception : \r\n\r\n \r\n\r\n*&quot;**error**&quot;: &quot;Internal Server Error&quot;,&lt;br&gt;\r\n &quot;**exception**&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException&quot;,&lt;br&gt;\r\n &quot;**message**&quot;: &quot;The given id must not be null!; nested exception is* *java.lang.IllegalArgumentException: The given id must not be null!&quot;,*\r\n\r\nhere is my code :&lt;br&gt;\r\n**Repository**&lt;br&gt;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;Utilisateur, Long&gt; {\r\n    }\r\n\r\n&lt;br&gt;\r\n\r\n**Service**&lt;br&gt;\r\n\r\n    public interface UserService {\r\n    \r\n    \tUtilisateur save(Utilisateur utilisateur);\r\n    \tList&lt;Utilisateur&gt; findAll();\r\n    \tUtilisateur findOne(Long id);\r\n    }\r\n**ServiceImpl**\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService{\r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \t\r\n    \r\n    \tpublic UserServiceImpl() {\r\n    \t}\r\n    \t\r\n    \tpublic UserServiceImpl(UserRepository userRepository) {\r\n    \t\tthis.userRepository = userRepository;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Utilisateur save(Utilisateur utilisateur) {\r\n    \t\treturn userRepository.save(utilisateur);\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Utilisateur&gt; findAll() {\r\n    \t\treturn userRepository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Utilisateur findOne(Long id) {\r\n    \t\treturn userRepository.findOne(id);\r\n    \t}\r\n    }\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @CrossOrigin(origins=&quot;http://localhost:4200&quot;,allowedHeaders=&quot;*&quot;) \r\n    public class UserController {\r\n    \t@Autowired\r\n    \tprivate UserService userService; \r\n    \t\r\n    \tpublic UserController(UserService userService) {\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \t\r\n    \tpublic UserController() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/users&quot;)\r\n    \tpublic List&lt;Utilisateur&gt; getUsers() {\r\n    \t\treturn userService.findAll();\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/user/id/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; getUser(@PathVariable Long id) {\r\n    \t\tUtilisateur utilisateur = userService.findOne(id);\r\n    \t\treturn ResponseEntity.ok().body(utilisateur);\r\n    \t}\r\n    \t\r\n    \r\n    \t  \r\n    \t/*  \r\n    \t@DeleteMapping(&quot;/user/{id}&quot;)\r\n    \tpublic Boolean deleteUser(@PathVariable Long id) {\r\n    \t\t userRepository.delete(id);\r\n    \t\t return true;\r\n    \t} */\r\n    \t@PostMapping(&quot;/user&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; saveUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException {\r\n    \t\tUtilisateur result = userService.save(utilisateur);  \r\n    \t\treturn ResponseEntity.created(new URI(&quot;/api/user/&quot; + result.getId()))\r\n    \t\t        .body(result);\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \t@PutMapping(&quot;/user&quot;)\r\n    \tpublic ResponseEntity&lt;Utilisateur&gt; updateUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException  {\r\n    \t\tUtilisateur result = userService.save(utilisateur);\r\n    \t\treturn ResponseEntity.ok().body(result);\r\n    \t}\r\n    }\r\n\r\n","title":"The given id must not be null!; nested exception is java.lang.IllegalArgumentException","body":"<p>i'm creating a simple crud with spring boot. All function well but I have a little problem with the method findOne(Long id)<br>\nin postman when i put this url : <em><a href=\"http://localhost:8080/api/user/id/?id=13\" rel=\"nofollow noreferrer\">http://localhost:8080/api/user/id/?id=13</a></em> , i get this exception : </p>\n\n<p><em>\"<strong>error</strong>\": \"Internal Server Error\",<br>\n \"<strong>exception</strong>\": \"org.springframework.dao.InvalidDataAccessApiUsageException\",<br>\n \"<strong>message</strong>\": \"The given id must not be null!; nested exception is</em> <em>java.lang.IllegalArgumentException: The given id must not be null!\",</em></p>\n\n<p>here is my code :<br>\n<strong>Repository</strong><br></p>\n\n<pre><code>@SuppressWarnings(\"unused\")\n@Repository\npublic interface UserRepository extends JpaRepository&lt;Utilisateur, Long&gt; {\n}\n</code></pre>\n\n<p><br></p>\n\n<p><strong>Service</strong><br></p>\n\n<pre><code>public interface UserService {\n\n    Utilisateur save(Utilisateur utilisateur);\n    List&lt;Utilisateur&gt; findAll();\n    Utilisateur findOne(Long id);\n}\n</code></pre>\n\n<p><strong>ServiceImpl</strong></p>\n\n<pre><code>@Service\npublic class UserServiceImpl implements UserService{\n    @Autowired\n    UserRepository userRepository;\n\n\n    public UserServiceImpl() {\n    }\n\n    public UserServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public Utilisateur save(Utilisateur utilisateur) {\n        return userRepository.save(utilisateur);\n    }\n\n\n\n\n    @Override\n    public List&lt;Utilisateur&gt; findAll() {\n        return userRepository.findAll();\n    }\n\n    public Utilisateur findOne(Long id) {\n        return userRepository.findOne(id);\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\n@CrossOrigin(origins=\"http://localhost:4200\",allowedHeaders=\"*\") \npublic class UserController {\n    @Autowired\n    private UserService userService; \n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    public UserController() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @GetMapping(\"/users\")\n    public List&lt;Utilisateur&gt; getUsers() {\n        return userService.findAll();\n    }\n\n    @GetMapping(\"/user/id/{id}\")\n    public ResponseEntity&lt;Utilisateur&gt; getUser(@PathVariable Long id) {\n        Utilisateur utilisateur = userService.findOne(id);\n        return ResponseEntity.ok().body(utilisateur);\n    }\n\n\n\n    /*  \n    @DeleteMapping(\"/user/{id}\")\n    public Boolean deleteUser(@PathVariable Long id) {\n         userRepository.delete(id);\n         return true;\n    } */\n    @PostMapping(\"/user\")\n    public ResponseEntity&lt;Utilisateur&gt; saveUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException {\n        Utilisateur result = userService.save(utilisateur);  \n        return ResponseEntity.created(new URI(\"/api/user/\" + result.getId()))\n                .body(result);\n    }\n\n\n\n    @PutMapping(\"/user\")\n    public ResponseEntity&lt;Utilisateur&gt; updateUser(@RequestBody Utilisateur utilisateur) throws URISyntaxException  {\n        Utilisateur result = userService.save(utilisateur);\n        return ResponseEntity.ok().body(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","heap-size"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1491657411,"creation_date":1491657411,"answer_id":43294589,"question_id":43294333,"body_markdown":"Change your project JSDK to 64-bit version, you are building and running with 32-bit JDK right now which cannot allocate more than 2GB RAM on Windows. Because of the other JVM requirements, the real maximum heap size for the 32-bit JVM is usually between 512m and 1024m.\r\n\r\nYou can find more details in [IntelliJ IDEA FAQ](https://intellij-support.jetbrains.com/hc/articles/207241105) and in [this answer](https://stackoverflow.com/a/13489882/104891).","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>Change your project JSDK to 64-bit version, you are building and running with 32-bit JDK right now which cannot allocate more than 2GB RAM on Windows. Because of the other JVM requirements, the real maximum heap size for the 32-bit JVM is usually between 512m and 1024m.</p>\n\n<p>You can find more details in <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241105\" rel=\"noreferrer\">IntelliJ IDEA FAQ</a> and in <a href=\"https://stackoverflow.com/a/13489882/104891\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":3081999,"reputation":2709,"user_id":2610010,"accept_rate":76,"display_name":"Ameer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528865749,"creation_date":1528865749,"answer_id":50829310,"question_id":43294333,"body_markdown":"I was also having same problem. In my case Android Support was not enabled (File&gt;&gt; Settings&gt;&gt; Android Support). Once I enabled and restarted Android Studio everything worked well.\r\n","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I was also having same problem. In my case Android Support was not enabled (File>> Settings>> Android Support). Once I enabled and restarted Android Studio everything worked well.</p>\n"},{"tags":[],"owner":{"account_id":4910538,"reputation":552,"user_id":3955956,"display_name":"Roshan Halwai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589871120,"creation_date":1589871120,"answer_id":61884881,"question_id":43294333,"body_markdown":"I am using Windows x64 bit machine. I was facing similar kind of problem. What I would suggests is first create a simple java application and I try executing it, if you see that the problem persists then try uninstalling the existing JDK and reinstall from this [link][1].\r\n\r\nElse, if your test application seems to work fine, then there is some issue with your project JDK path or module settings. Try reimporting the project and check if the JDK path is provided correctly\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I am using Windows x64 bit machine. I was facing similar kind of problem. What I would suggests is first create a simple java application and I try executing it, if you see that the problem persists then try uninstalling the existing JDK and reinstall from this <a href=\"https://www.oracle.com/java/technologies/\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>Else, if your test application seems to work fine, then there is some issue with your project JDK path or module settings. Try reimporting the project and check if the JDK path is provided correctly</p>\n"},{"tags":[],"owner":{"account_id":29524271,"reputation":1,"user_id":22626318,"display_name":"Kamil Huseynov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695581661,"creation_date":1695581661,"answer_id":77168512,"question_id":43294333,"body_markdown":"File-&gt;Project structure-&gt;on SDK field change jdk version to higher","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>File-&gt;Project structure-&gt;on SDK field change jdk version to higher</p>\n"}],"owner":{"account_id":6445979,"reputation":171,"user_id":4994474,"display_name":"John Mellor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27422,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43294589,"answer_count":4,"score":5,"last_activity_date":1695581661,"creation_date":1491656008,"question_id":43294333,"body_markdown":"I&#39;ve been trying to allocate 256MB array, which produced Java heap space exception. I&#39;ve tried [this solution](https://stackoverflow.com/a/17221838) and it didn&#39;t help. So I&#39;ve been looking for another similar problems and found [this](https://stackoverflow.com/a/36518169). However, after raising the heap size above 1377MB i get this error:\r\n\r\n&gt; Error:Abnormal build process termination:  &quot;C:\\Program Files\r\n&gt; (x86)\\Java\\jdk1.8.0_91\\bin\\java&quot; -Xmx1377m -Djava.awt.headless=true\r\n&gt; -Djava.endorsed.dirs=\\&quot;\\&quot; -Djdt.compiler.useSingleThread=true -Dpreload.project.path=C:/Users/JohnDoe/Documents/CacheTest -Dpreload.config.path=C:/Users/JohnDoe/.IntelliJIdea2016.1/config/options\r\n&gt; -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=-2473188797876308560 -Dfile.encoding=windows-1250 -Djps.file.types.component.name=FileTypeManager -Duser.language=en -Duser.country=US -Didea.paths.selector=IntelliJIdea2016.1 &quot;-Didea.home.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n&gt; 2016.1.1&quot; -Didea.config.path=C:\\Users\\JohnDoe\\.IntelliJIdea2016.1\\config -Didea.plugins.path=C:\\Users\\JohnDoe\\.IntelliJIdea2016.1\\config\\plugins\r\n&gt; -Djps.log.dir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/log/build-log\r\n&gt; -Djava.io.tmpdir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server/_temp_\r\n&gt; -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\JOHNDO~1\\AppData\\Local\\Temp\\kotlin-idea-1150430122745838-is-running\\&quot;\r\n&gt; -classpath &quot;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-launcher.jar;C:/Program Files (x86)/Java/jdk1.8.0_91/lib/tools.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/optimizedFileManager.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/ecj-4.5.2.jar&quot;\r\n&gt; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/resources_en.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/oromatcher.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/protobuf-2.5.0.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jsr166e.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/asm-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/util.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/javac2.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/annotations.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna-platform.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/nanoxml-2.2.3.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-builders.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/trove4j.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/rt/jps-plugin-system.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-model.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/forms_rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna.jar;C:/Program Files (x86)/JetBrains/IntelliJ\r\n&gt; IDEA 2016.1.1/lib/idea_rt.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/netty-all-4.1.0.Beta8.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/jgoodies-forms.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jdom.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/log4j.jar;C:/Program Files\r\n&gt; (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/picocontainer.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/lib/snappy-in-java-0.3.1.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/openapi.jar;;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/commons-io-1.4.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-base-services-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-base-services-groovy-2.9.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-cli-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-messaging-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-model-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-model-groovy-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-native-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-resources-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-api-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-extension-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-tooling-extension-impl.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-wrapper-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/guava-jdk5-17.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/jna-3.2.7.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/jsr305-1.3.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/kryo-2.22.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/minlog-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-freebsd-amd64-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-freebsd-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-linux-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-linux-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-osx-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-osx-i386-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-windows-amd64-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/native-platform-windows-i386-0.10.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/objenesis-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/reflectasm-1.07.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/resources_en.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/gson-2.5.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/ant/lib/ant-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/devkit/lib/devkit-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/IntelliLang/lib/intellilang-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Groovy/lib/groovy-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Groovy/lib/groovy-rt-constants.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/eclipse/lib/eclipse-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/eclipse/lib/common-eclipse-util.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/maven/lib/maven-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/maven/lib/maven3/lib/plexus-utils-2.0.6.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/osmorc-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bndlib-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bndlib-plugins-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/plexus-utils-3.0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/osmorc/lib/bundlor-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/aspectj/lib/aspectj-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/flex/lib/flex-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/flex/lib/flex-shared.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/JavaEE/lib/jps/javaee-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/dmServer/lib/dmServer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GwtStudio/lib/gwt-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GoogleAppEngine/lib/google-app-engine-jps-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/GoogleAppEngine/lib/appEngine-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Grails/lib/grails-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Grails/lib/grails-compiler-patch.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jps/android-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jps/android-gradle-jps.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/android-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/android-rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/sdk-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/sdklib.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/jarutils.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/layoutlib-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/android/lib/manifest-merger.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-compiler-plugin.jar;C:/Program\r\n&gt; Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/javaFX/lib/javaFX-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\r\n&gt; 2016.1.1/plugins/javaFX/lib/common-javaFX-plugin.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60896\r\n&gt; 96c068b6-4d3b-4924-a696-9af1caab47b3\r\n&gt; C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server\r\n\r\nI&#39;ve found many answers to such problem, but all of them are telling me to downgrade my NVIDIA driver which I&#39;m not able to do and which doesn&#39;t make sense to me at all. What I&#39;m looking for is the some sort of explanation why this is happening and what could I do to solve it. \r\n\r\nNote: I&#39;m using x64 IDEA. ","title":"IntelliJ IDEA: Abnormal build process termination after heap size change","body":"<p>I've been trying to allocate 256MB array, which produced Java heap space exception. I've tried <a href=\"https://stackoverflow.com/a/17221838\">this solution</a> and it didn't help. So I've been looking for another similar problems and found <a href=\"https://stackoverflow.com/a/36518169\">this</a>. However, after raising the heap size above 1377MB i get this error:</p>\n\n<blockquote>\n  <p>Error:Abnormal build process termination:  \"C:\\Program Files\n  (x86)\\Java\\jdk1.8.0_91\\bin\\java\" -Xmx1377m -Djava.awt.headless=true\n  -Djava.endorsed.dirs=\\\"\\\" -Djdt.compiler.useSingleThread=true -Dpreload.project.path=C:/Users/JohnDoe/Documents/CacheTest -Dpreload.config.path=C:/Users/JohnDoe/.IntelliJIdea2016.1/config/options\n  -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=-2473188797876308560 -Dfile.encoding=windows-1250 -Djps.file.types.component.name=FileTypeManager -Duser.language=en -Duser.country=US -Didea.paths.selector=IntelliJIdea2016.1 \"-Didea.home.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n  2016.1.1\" -Didea.config.path=C:\\Users\\JohnDoe.IntelliJIdea2016.1\\config -Didea.plugins.path=C:\\Users\\JohnDoe.IntelliJIdea2016.1\\config\\plugins\n  -Djps.log.dir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/log/build-log\n  -Djava.io.tmpdir=C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server/<em>temp</em>\n  -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\\"C:\\Users\\JOHNDO~1\\AppData\\Local\\Temp\\kotlin-idea-1150430122745838-is-running\\\"\n  -classpath \"C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-launcher.jar;C:/Program Files (x86)/Java/jdk1.8.0_91/lib/tools.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/optimizedFileManager.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/ecj-4.5.2.jar\"\n  org.jetbrains.jps.cmdline.Launcher \"C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/resources_en.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/oromatcher.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/protobuf-2.5.0.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jsr166e.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/asm-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/util.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/javac2.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/annotations.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna-platform.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/nanoxml-2.2.3.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-builders.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/trove4j.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/rt/jps-plugin-system.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jps-model.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/forms_rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jna.jar;C:/Program Files (x86)/JetBrains/IntelliJ\n  IDEA 2016.1.1/lib/idea_rt.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/netty-all-4.1.0.Beta8.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/jgoodies-forms.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/jdom.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/log4j.jar;C:/Program Files\n  (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/picocontainer.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/lib/snappy-in-java-0.3.1.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/openapi.jar;;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/commons-io-1.4.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-base-services-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-base-services-groovy-2.9.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-cli-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-messaging-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-model-core-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-model-groovy-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-native-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-resources-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-api-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-extension-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-tooling-extension-impl.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-wrapper-2.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/guava-jdk5-17.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/jna-3.2.7.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/jsr305-1.3.9.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/kryo-2.22.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/minlog-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-freebsd-amd64-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-freebsd-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-linux-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-linux-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-osx-amd64-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-osx-i386-0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-windows-amd64-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/native-platform-windows-i386-0.10.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/objenesis-1.2.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/reflectasm-1.07.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/resources_en.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA 2016.1.1/lib/gson-2.5.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/ant/lib/ant-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/devkit/lib/devkit-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/IntelliLang/lib/intellilang-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Groovy/lib/groovy-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Groovy/lib/groovy-rt-constants.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/eclipse/lib/eclipse-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/eclipse/lib/common-eclipse-util.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/maven/lib/maven-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/maven/lib/maven3/lib/plexus-utils-2.0.6.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/osmorc-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bndlib-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bndlib-plugins-3.0.0.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/plexus-utils-3.0.10.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/osmorc/lib/bundlor-all.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/aspectj/lib/aspectj-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/flex/lib/flex-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/flex/lib/flex-shared.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/gradle/lib/gradle-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/JavaEE/lib/jps/javaee-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/dmServer/lib/dmServer-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GwtStudio/lib/gwt-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GoogleAppEngine/lib/google-app-engine-jps-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/GoogleAppEngine/lib/appEngine-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Grails/lib/grails-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Grails/lib/grails-compiler-patch.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jps/android-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jps/android-gradle-jps.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/android-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/android-rt.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/sdk-common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/sdklib.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/common.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/jarutils.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/layoutlib-api.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/android/lib/manifest-merger.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-runtime.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/Kotlin/lib/kotlin-android-extensions-compiler-plugin.jar;C:/Program\n  Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/javaFX/lib/javaFX-jps-plugin.jar;C:/Program Files (x86)/JetBrains/IntelliJ IDEA\n  2016.1.1/plugins/javaFX/lib/common-javaFX-plugin.jar\" org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60896\n  96c068b6-4d3b-4924-a696-9af1caab47b3\n  C:/Users/JohnDoe/.IntelliJIdea2016.1/system/compile-server</p>\n</blockquote>\n\n<p>I've found many answers to such problem, but all of them are telling me to downgrade my NVIDIA driver which I'm not able to do and which doesn't make sense to me at all. What I'm looking for is the some sort of explanation why this is happening and what could I do to solve it. </p>\n\n<p>Note: I'm using x64 IDEA. </p>\n"},{"tags":["java","list","oop","interface"],"comments":[{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":1,"creation_date":1466252431,"post_id":37896843,"comment_id":63247076,"body_markdown":"how often would you use it?","body":"how often would you use it?"},{"owner":{"account_id":1116463,"reputation":45739,"user_id":1272683,"accept_rate":81,"display_name":"Hanfei Sun"},"score":0,"creation_date":1466252654,"post_id":37896843,"comment_id":63247131,"body_markdown":"@wero not very often honestly..","body":"@wero not very often honestly.."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1466252654,"post_id":37896843,"comment_id":63247132,"body_markdown":"i guess the fact that it exists on Collections means that it wasn&#39;t forgotten. Probably the makers of the collection interfaces simply tried to keep those interfaces as &quot;light&quot; as possible.","body":"i guess the fact that it exists on Collections means that it wasn&#39;t forgotten. Probably the makers of the collection interfaces simply tried to keep those interfaces as &quot;light&quot; as possible."},{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":0,"creation_date":1466253441,"post_id":37896843,"comment_id":63247338,"body_markdown":"@hanfeisun since `Collection.reverse` was introduced at the same time than `List` itself (JDK 1.2) it was most likely intention of the designers to not include it in the `List` interface but rather provide a helper method only.","body":"@hanfeisun since <code>Collection.reverse</code> was introduced at the same time than <code>List</code> itself (JDK 1.2) it was most likely intention of the designers to not include it in the <code>List</code> interface but rather provide a helper method only."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1466257365,"post_id":37896843,"comment_id":63248474,"body_markdown":"This is a special case of the question http://stackoverflow.com/q/3089284/3182664 (one could instantiate the same question with `fill`, `shuffle` and other static methods...)","body":"This is a special case of the question <a href=\"http://stackoverflow.com/q/3089284/3182664\">stackoverflow.com/q/3089284/3182664</a> (one could instantiate the same question with <code>fill</code>, <code>shuffle</code> and other static methods...)"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1466538374,"post_id":37896956,"comment_id":63355150,"body_markdown":"I assume OP is asking why it wasn&#39;t added as a default method, as `List.sort()` was.","body":"I assume OP is asking why it wasn&#39;t added as a default method, as <code>List.sort()</code> was."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1617980090,"creation_date":1466252975,"answer_id":37896956,"question_id":37896843,"body_markdown":"&gt; Why is there no `List.reverse()` method in Java?\r\n\r\nBecause there is a `Collections.reverse(List)` method instead.  \r\n\r\nBecause the API designers figured it was a bad idea to force *every* `List` implementation&lt;sup&gt;1&lt;/sup&gt; to implement a method that wasn&#39;t used 99.9% of the time&lt;sup&gt;2&lt;/sup&gt;.  This could be addressed by making the method &quot;optional&quot;, but that has downsides too; e.g. runtime exceptions.\r\n\r\nBecause for some kinds of list (stream wrappers / adapters for example) implementing in-place reverse would be problematic.  It changes the memory usage characteristics of the list by requiring it to be reified.\r\n\r\nAlso note that the generic implementation ([source code][1]) of `reverse()` that is provided by `Collection` uses `set` to swap elements.  It is close to optimal for the standard list types.\r\n\r\n--------------\r\n\r\n@shmosel comments:\r\n\r\n&gt; I assume OP is asking why it wasn&#39;t added as a default method, as List.sort() was.\r\n\r\nGood point.  Possibly the 99.9% argument applies. Bear in mind that this would only help people with a codebase that is built using a Java 8 or later compilers, etc.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - This includes implementations in your codebase and 3rd-party libraries.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - 86% of statistics are made up for theatrical effect :-) &lt;/sup&gt;\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Collections.java#Collections.reverse%28java.util.List%29","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<blockquote>\n<p>Why is there no <code>List.reverse()</code> method in Java?</p>\n</blockquote>\n<p>Because there is a <code>Collections.reverse(List)</code> method instead.</p>\n<p>Because the API designers figured it was a bad idea to force <em>every</em> <code>List</code> implementation<sup>1</sup> to implement a method that wasn't used 99.9% of the time<sup>2</sup>.  This could be addressed by making the method &quot;optional&quot;, but that has downsides too; e.g. runtime exceptions.</p>\n<p>Because for some kinds of list (stream wrappers / adapters for example) implementing in-place reverse would be problematic.  It changes the memory usage characteristics of the list by requiring it to be reified.</p>\n<p>Also note that the generic implementation (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Collections.java#Collections.reverse%28java.util.List%29\" rel=\"nofollow noreferrer\">source code</a>) of <code>reverse()</code> that is provided by <code>Collection</code> uses <code>set</code> to swap elements.  It is close to optimal for the standard list types.</p>\n<hr />\n<p>@shmosel comments:</p>\n<blockquote>\n<p>I assume OP is asking why it wasn't added as a default method, as List.sort() was.</p>\n</blockquote>\n<p>Good point.  Possibly the 99.9% argument applies. Bear in mind that this would only help people with a codebase that is built using a Java 8 or later compilers, etc.</p>\n<hr />\n<p><sup>1 - This includes implementations in your codebase and 3rd-party libraries.</sup></p>\n<p><sup>2 - 86% of statistics are made up for theatrical effect :-) </sup></p>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58756,"user_id":4318868,"display_name":"Slava Vedenin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466253439,"creation_date":1466253057,"answer_id":37896973,"question_id":37896843,"body_markdown":"If you need `list.reverse()` you need to use [Eclipse Collections][1], when you can use just `list.reverseThis()`, see [this][2]. In JDK list, a lot of method (like sort, max, min) does not be added.  \r\n\r\nIt&#39;s two different ways of API design:\r\n\r\n 1. A lot of method in Collection -&gt; rich collection -&gt; Eclipse\r\n    Collections, **drawback**: a lot of rarely used method in List,\r\n 2. Only most used method and Utility class -&gt; JDK\r\n        collection, **drawback**: need to use Utility class like Collections, \r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/7.1.0/org/eclipse/collections/api/list/MutableList.html","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>If you need <code>list.reverse()</code> you need to use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a>, when you can use just <code>list.reverseThis()</code>, see <a href=\"https://www.eclipse.org/collections/javadoc/7.1.0/org/eclipse/collections/api/list/MutableList.html\" rel=\"nofollow\">this</a>. In JDK list, a lot of method (like sort, max, min) does not be added.  </p>\n\n<p>It's two different ways of API design:</p>\n\n<ol>\n<li>A lot of method in Collection -> rich collection -> Eclipse\nCollections, <strong>drawback</strong>: a lot of rarely used method in List,</li>\n<li>Only most used method and Utility class -> JDK\n    collection, <strong>drawback</strong>: need to use Utility class like Collections, </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466257351,"creation_date":1466253091,"answer_id":37896978,"question_id":37896843,"body_markdown":"Because `Collection` is an utilitarian class, that actually based on one of [SOLID][1] principle : &lt;br&gt;**S - Single Responsibility Principle**\r\n\r\n&gt; This principle states that if we have **2 reasons** to change for a class, we have to split the functionality in two classes.\r\n\r\n\r\n\r\nYou have a class that play a some role, and if you need to manipulate of inner data you need to create some subsidiary class, that will plays another role.\r\n\r\n  [1]: https://scotch.io/bar-talk/s-o-l-i-d-the-first-five-principles-of-object-oriented-design","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>Because <code>Collection</code> is an utilitarian class, that actually based on one of <a href=\"https://scotch.io/bar-talk/s-o-l-i-d-the-first-five-principles-of-object-oriented-design\" rel=\"nofollow\">SOLID</a> principle : <br><strong>S - Single Responsibility Principle</strong></p>\n\n<blockquote>\n  <p>This principle states that if we have <strong>2 reasons</strong> to change for a class, we have to split the functionality in two classes.</p>\n</blockquote>\n\n<p>You have a class that play a some role, and if you need to manipulate of inner data you need to create some subsidiary class, that will plays another role.</p>\n"},{"tags":[],"owner":{"account_id":6517130,"reputation":13016,"user_id":5044950,"accept_rate":83,"display_name":"Sam Estep"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1466253124,"creation_date":1466253124,"answer_id":37896986,"question_id":37896843,"body_markdown":"For the same reason that [`fill`][fill] and [`rotate`][rotate] and [`shuffle`][shuffle] and [`swap`][swap] and infinitely more possible list functions aren&#39;t declared in the `List` interface. They&#39;re not *part* of the &quot;list&quot; abstraction; rather, they can be implemented *on top of* that abstraction.\r\n\r\nOnce a `List` implements the methods already in the `List` interface, a `reverse` function can be written on top of the `List` abstraction without any knowledge of a particular `List` implementation. Therefore, it would be pointless to force every class implementing `List` to provide a custom implementation of `reverse` (and `fill`, `rotate`, `shuffle`, `swap`, etc.).\r\n\r\n[fill]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#fill-java.util.List-T-\r\n[rotate]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\r\n[shuffle]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\r\n[swap]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#swap-java.util.List-int-int-","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>For the same reason that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#fill-java.util.List-T-\"><code>fill</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\"><code>rotate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\"><code>shuffle</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#swap-java.util.List-int-int-\"><code>swap</code></a> and infinitely more possible list functions aren't declared in the <code>List</code> interface. They're not <em>part</em> of the \"list\" abstraction; rather, they can be implemented <em>on top of</em> that abstraction.</p>\n\n<p>Once a <code>List</code> implements the methods already in the <code>List</code> interface, a <code>reverse</code> function can be written on top of the <code>List</code> abstraction without any knowledge of a particular <code>List</code> implementation. Therefore, it would be pointless to force every class implementing <code>List</code> to provide a custom implementation of <code>reverse</code> (and <code>fill</code>, <code>rotate</code>, <code>shuffle</code>, <code>swap</code>, etc.).</p>\n"},{"tags":[],"owner":{"account_id":8143083,"reputation":680,"user_id":6132556,"display_name":"Rishi Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466254703,"creation_date":1466254703,"answer_id":37897228,"question_id":37896843,"body_markdown":"Reverse is defined in Collections (with an extra (s)). This is not a part of collection hierarchy, rather it has been given as a part of utility class which can be used for different Lists.  \r\n\r\nReversing a list is not a key part of defining a list , so its kept out of interface and given separately.  If defined in the interface, everyone will have to implement it, which may not be suitable for all. \r\n\r\nThe makers of collection could have build this in List hierarchy as well, ( Since most list derivations have an abstract class in between, they could have put it in any abstract class in between). However, to simplify everyone&#39;s life it makes sense to keep it in single utility class so that we don&#39;t have to figure out which class to look for all collection related utility functions.\r\n","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>Reverse is defined in Collections (with an extra (s)). This is not a part of collection hierarchy, rather it has been given as a part of utility class which can be used for different Lists.  </p>\n\n<p>Reversing a list is not a key part of defining a list , so its kept out of interface and given separately.  If defined in the interface, everyone will have to implement it, which may not be suitable for all. </p>\n\n<p>The makers of collection could have build this in List hierarchy as well, ( Since most list derivations have an abstract class in between, they could have put it in any abstract class in between). However, to simplify everyone's life it makes sense to keep it in single utility class so that we don't have to figure out which class to look for all collection related utility functions.</p>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1466258225,"post_id":37897638,"comment_id":63248685,"body_markdown":"Good answer. Regarding the last part, I doubt it will ever make it to the interface. sort() is very commonly called, whereas reverse() is quite rare. And introducing a new method in the interface, even as a default method, breaks things: subclasses already having a reverse() method with a different return type break. If the OP really wants that, kotlin extension functions provide an easy solution.","body":"Good answer. Regarding the last part, I doubt it will ever make it to the interface. sort() is very commonly called, whereas reverse() is quite rare. And introducing a new method in the interface, even as a default method, breaks things: subclasses already having a reverse() method with a different return type break. If the OP really wants that, kotlin extension functions provide an easy solution."}],"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466257304,"creation_date":1466257304,"answer_id":37897638,"question_id":37896843,"body_markdown":"&lt;sub&gt;Note: This question is a very specific case of [&quot;Why does the Collections class contain standalone (static) methods, instead of them being added to the List interface?&quot;][1] - one could even consider is as a duplicate. Beyond that, arguing about the reasoning behind the decision for each individual method is reading tea leaves, and nobody can tell &quot;*the* reason&quot; for the design decision for the particular case of the `reverse` method (until, maybe Josh Bloch posts an answer here). Interestingly, this is a point that is not covered in the [Java Collections API Design FAQ][2]...&lt;/sub&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSome of the other answers seem convincing at the first glance, but raise other questions. Particularly, some of them don&#39;t give a reason for the design decision at all. Even if there are other ways to emulate the behavior of a certain method, or when a method is not used &quot;99.9% of all time&quot;, it can still make sense to include it in the interface. \r\n\r\n\r\n----------\r\n\r\n\r\nLooking at the `List` interface, you will notice that you can basically implement **all** methods based on two others:\r\n\r\n* `T get(int index)`\r\n* `int size()` \r\n\r\n(For a mutable list, you also need `set`). These are exactly the ones that are still abstract in `AbstractList`. So all other methods are rather &quot;convenience&quot; methods that can be implemented canonically, based on these two methods. In this regard, I think that [the answer Sam Estep][3] contains an important point: One could argue to implement dozens of other methods. And there would certainly be **good** reasons to do so. Having a look at the actual implementation of `Collections#reverse(List)`:\r\n\r\n    public static void reverse(List&lt;?&gt; list) {\r\n        int size = list.size();\r\n        if (size &lt; REVERSE_THRESHOLD || list instanceof RandomAccess) {\r\n            for (int i=0, mid=size&gt;&gt;1, j=size-1; i&lt;mid; i++, j--)\r\n                swap(list, i, j);\r\n        } else {\r\n            ListIterator fwd = list.listIterator();\r\n            ListIterator rev = list.listIterator(size);\r\n            for (int i=0, mid=list.size()&gt;&gt;1; i&lt;mid; i++) {\r\n                Object tmp = fwd.next();\r\n                fwd.set(rev.previous());\r\n                rev.set(tmp);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat is this `REVERSE_THRESHOLD` and `RandomAccess` thing there? Seriously, if I felt the necessity to introduce a tagging interface like `RandomAccess`, I would **strongly** question my design. Whenever you have a method like\r\n\r\n    void doSomethingWith(Type x) {\r\n        if (x instanceof Special) doSomethingSpecial((Special)x);\r\n        else doSomethingNormal(x);\r\n    }\r\n\r\nthen this is a **strong** sign that this should actually be a polymorphic method, which should be implemented accordingly for the `Special` type. \r\n\r\n\r\n----------\r\n\r\nSo yes, it have been justified to pull the `reverse` method into the interface, to allow a polymorphic implementation. The same applies to `fill` `rotate`, `shuffle`, `swap`, `sort` and others. Similarly, one could have introduced a static method like \r\n\r\n    Collections.containsAll(containing, others);\r\n\r\nthat offers what is now done with the `Collection#containsAll` method. But in general: The designers chose a particular set of methods that they found suitable. One of the reasonings behind leaving out certain methods may be given by one of the bottom lines of [the talk about &quot;How to Design a Good API &amp; Why it Matters&quot; by Joshua Bloch][4], one of the core designers of the Java Collections API:\r\n\r\n## When in doubt, leave it out ##\r\n\r\nInterestingly, of all the methods for which a polymorphic implementation (via a method in the `List` interface) could have been reasonable, **one** actually found its way into the interface, using a Java 8 `default` method:[`List#sort()`][5]. Maybe others, like `reverse`, will be added later...\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3089284/why-does-the-collections-class-contain-standalone-static-methods-instead-of-t\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html\r\n  [3]: https://stackoverflow.com/a/37896986/3182664\r\n  [4]: https://www.infoq.com/presentations/effective-api-design\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p><sub>Note: This question is a very specific case of <a href=\"https://stackoverflow.com/questions/3089284/why-does-the-collections-class-contain-standalone-static-methods-instead-of-t\">\"Why does the Collections class contain standalone (static) methods, instead of them being added to the List interface?\"</a> - one could even consider is as a duplicate. Beyond that, arguing about the reasoning behind the decision for each individual method is reading tea leaves, and nobody can tell \"<em>the</em> reason\" for the design decision for the particular case of the <code>reverse</code> method (until, maybe Josh Bloch posts an answer here). Interestingly, this is a point that is not covered in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html\" rel=\"nofollow noreferrer\">Java Collections API Design FAQ</a>...</sub></p>\n\n<hr>\n\n<p>Some of the other answers seem convincing at the first glance, but raise other questions. Particularly, some of them don't give a reason for the design decision at all. Even if there are other ways to emulate the behavior of a certain method, or when a method is not used \"99.9% of all time\", it can still make sense to include it in the interface. </p>\n\n<hr>\n\n<p>Looking at the <code>List</code> interface, you will notice that you can basically implement <strong>all</strong> methods based on two others:</p>\n\n<ul>\n<li><code>T get(int index)</code></li>\n<li><code>int size()</code> </li>\n</ul>\n\n<p>(For a mutable list, you also need <code>set</code>). These are exactly the ones that are still abstract in <code>AbstractList</code>. So all other methods are rather \"convenience\" methods that can be implemented canonically, based on these two methods. In this regard, I think that <a href=\"https://stackoverflow.com/a/37896986/3182664\">the answer Sam Estep</a> contains an important point: One could argue to implement dozens of other methods. And there would certainly be <strong>good</strong> reasons to do so. Having a look at the actual implementation of <code>Collections#reverse(List)</code>:</p>\n\n<pre><code>public static void reverse(List&lt;?&gt; list) {\n    int size = list.size();\n    if (size &lt; REVERSE_THRESHOLD || list instanceof RandomAccess) {\n        for (int i=0, mid=size&gt;&gt;1, j=size-1; i&lt;mid; i++, j--)\n            swap(list, i, j);\n    } else {\n        ListIterator fwd = list.listIterator();\n        ListIterator rev = list.listIterator(size);\n        for (int i=0, mid=list.size()&gt;&gt;1; i&lt;mid; i++) {\n            Object tmp = fwd.next();\n            fwd.set(rev.previous());\n            rev.set(tmp);\n        }\n    }\n}\n</code></pre>\n\n<p>What is this <code>REVERSE_THRESHOLD</code> and <code>RandomAccess</code> thing there? Seriously, if I felt the necessity to introduce a tagging interface like <code>RandomAccess</code>, I would <strong>strongly</strong> question my design. Whenever you have a method like</p>\n\n<pre><code>void doSomethingWith(Type x) {\n    if (x instanceof Special) doSomethingSpecial((Special)x);\n    else doSomethingNormal(x);\n}\n</code></pre>\n\n<p>then this is a <strong>strong</strong> sign that this should actually be a polymorphic method, which should be implemented accordingly for the <code>Special</code> type. </p>\n\n<hr>\n\n<p>So yes, it have been justified to pull the <code>reverse</code> method into the interface, to allow a polymorphic implementation. The same applies to <code>fill</code> <code>rotate</code>, <code>shuffle</code>, <code>swap</code>, <code>sort</code> and others. Similarly, one could have introduced a static method like </p>\n\n<pre><code>Collections.containsAll(containing, others);\n</code></pre>\n\n<p>that offers what is now done with the <code>Collection#containsAll</code> method. But in general: The designers chose a particular set of methods that they found suitable. One of the reasonings behind leaving out certain methods may be given by one of the bottom lines of <a href=\"https://www.infoq.com/presentations/effective-api-design\" rel=\"nofollow noreferrer\">the talk about \"How to Design a Good API &amp; Why it Matters\" by Joshua Bloch</a>, one of the core designers of the Java Collections API:</p>\n\n<h2>When in doubt, leave it out</h2>\n\n<p>Interestingly, of all the methods for which a polymorphic implementation (via a method in the <code>List</code> interface) could have been reasonable, <strong>one</strong> actually found its way into the interface, using a Java 8 <code>default</code> method:<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>List#sort()</code></a>. Maybe others, like <code>reverse</code>, will be added later...</p>\n"},{"comments":[{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":1,"creation_date":1693178841,"post_id":76989272,"comment_id":135721876,"body_markdown":"So, the answer is: &quot;no reason!&quot;","body":"So, the answer is: &quot;no reason!&quot;"}],"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579793,"creation_date":1693177796,"answer_id":76989272,"question_id":37896843,"body_markdown":"I believe the `why` question has already been answered, but here is a catch - [`List.reversed`][1] is going to be available since Java 21 (release date 19th September 2023):\r\n```\r\nSystem.out.println(List.of(1, 2, 3).reversed()); // [3, 2, 1]\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>I believe the <code>why</code> question has already been answered, but here is a catch - <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\" rel=\"nofollow noreferrer\"><code>List.reversed</code></a> is going to be available since Java 21 (release date 19th September 2023):</p>\n<pre><code>System.out.println(List.of(1, 2, 3).reversed()); // [3, 2, 1]\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":1116463,"reputation":45739,"user_id":1272683,"accept_rate":81,"display_name":"Hanfei Sun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3228,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":37896956,"answer_count":7,"score":15,"last_activity_date":1695579793,"creation_date":1466252344,"question_id":37896843,"body_markdown":"In Java, to reverse elements in a List, I need to use:\r\n\r\n    Collections.reverse(list)\r\n\r\nI was just wondering why Java doesn&#39;t implement the reverse method within the `List` interface so that I could do the in-place reverse like this:\r\n\r\n    list.reverse()\r\n\r\nDoes anyone have any ideas about this?","title":"Why is there no &quot;List.reverse()&quot; method in Java?","body":"<p>In Java, to reverse elements in a List, I need to use:</p>\n\n<pre><code>Collections.reverse(list)\n</code></pre>\n\n<p>I was just wondering why Java doesn't implement the reverse method within the <code>List</code> interface so that I could do the in-place reverse like this:</p>\n\n<pre><code>list.reverse()\n</code></pre>\n\n<p>Does anyone have any ideas about this?</p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693610326,"post_id":2503363,"comment_id":135788307,"body_markdown":"Update: In Java 21+, use `getFirst` as shown in [this Answer](https://stackoverflow.com/a/76989307/642706).","body":"Update: In Java 21+, use <code>getFirst</code> as shown in <a href=\"https://stackoverflow.com/a/76989307/642706\">this Answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":0,"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1269376543,"creation_date":1269376231,"answer_id":2503368,"question_id":2503363,"body_markdown":"    playersList.get(0)\r\n\r\nJava has limited operator polymorphism.  So you use the `get()` method on `List` objects, not the array index operator (`[]`)","title":"How can I get a first element from a sorted list?","body":"<pre><code>playersList.get(0)\n</code></pre>\n\n<p>Java has limited operator polymorphism.  So you use the <code>get()</code> method on <code>List</code> objects, not the array index operator (<code>[]</code>)</p>\n"},{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":1,"creation_date":1269421105,"post_id":2503371,"comment_id":2501412,"body_markdown":"I wander why such a basic operation should be programed. Why Java does not provide a function which returns just a minimal value from array?","body":"I wander why such a basic operation should be programed. Why Java does not provide a function which returns just a minimal value from array?"},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":3,"creation_date":1269443459,"post_id":2503371,"comment_id":2504363,"body_markdown":"Roman, there is such a method, Collections.min (http://java.sun.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29).","body":"Roman, there is such a method, Collections.min (<a href=\"http://java.sun.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"nofollow noreferrer\">java.sun.com/javase/7/docs/api/java/util/&hellip;</a>)."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1269377220,"creation_date":1269376243,"answer_id":2503371,"question_id":2503363,"body_markdown":"You have to access lists a little differently than arrays in Java.  See the [javadocs][1] for the `List` interface for more information.\r\n\r\n    playersList.get(0)\r\n\r\n\r\nHowever if you want to find the smallest element in `playersList`, you shouldn&#39;t sort it and then get the first element.  This runs very slowly compared to just searching once through the list to find the smallest element.\r\n\r\nFor example:\r\n\r\n    int smallestIndex = 0;\r\n    for (int i = 1; i &lt; playersList.size(); i++) {\r\n        if (playersList.get(i) &lt; playersList.get(smallestIndex))\r\n            smallestIndex = i;\r\n    }\r\n    \r\n    playersList.get(smallestIndex);\r\n\r\nThe above code will find the smallest element in `O(n)` instead of `O(n log n)` time.\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/util/List.html","title":"How can I get a first element from a sorted list?","body":"<p>You have to access lists a little differently than arrays in Java.  See the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\">javadocs</a> for the <code>List</code> interface for more information.</p>\n\n<pre><code>playersList.get(0)\n</code></pre>\n\n<p>However if you want to find the smallest element in <code>playersList</code>, you shouldn't sort it and then get the first element.  This runs very slowly compared to just searching once through the list to find the smallest element.</p>\n\n<p>For example:</p>\n\n<pre><code>int smallestIndex = 0;\nfor (int i = 1; i &lt; playersList.size(); i++) {\n    if (playersList.get(i) &lt; playersList.get(smallestIndex))\n        smallestIndex = i;\n}\n\nplayersList.get(smallestIndex);\n</code></pre>\n\n<p>The above code will find the smallest element in <code>O(n)</code> instead of <code>O(n log n)</code> time.</p>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":2,"creation_date":1269377878,"post_id":2503420,"comment_id":2498343,"body_markdown":"bad advice. LinkedList implements the List interface, no need to use a special method (and I&#39;d be amazed of there was any performance difference between the two). And calling toArray() is wasteful--you might be allocating the list into a new array for no reason!","body":"bad advice. LinkedList implements the List interface, no need to use a special method (and I&#39;d be amazed of there was any performance difference between the two). And calling toArray() is wasteful--you might be allocating the list into a new array for no reason!"},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1269380679,"post_id":2503420,"comment_id":2498715,"body_markdown":"@Kip, strange remark; the LinkedList class does not implement the first and last methods out of spite. If you have a good reason to use a LinkedList, you should not refrain from using its methods just because they are not in the List interface. The array example can be usefull if the list itself is not needed after sorting, and closest to what OP asked. Without knowing the context of the source code in question you cannot determine the validity of the advice.","body":"@Kip, strange remark; the LinkedList class does not implement the first and last methods out of spite. If you have a good reason to use a LinkedList, you should not refrain from using its methods just because they are not in the List interface. The array example can be usefull if the list itself is not needed after sorting, and closest to what OP asked. Without knowing the context of the source code in question you cannot determine the validity of the advice."},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1269400718,"post_id":2503420,"comment_id":2500088,"body_markdown":"why would it matter whether or not you need the list after sorting? in either case (or even if the list is never sorted) calling toArray() just to get the first element (may) needlessly create an entire array.","body":"why would it matter whether or not you need the list after sorting? in either case (or even if the list is never sorted) calling toArray() just to get the first element (may) needlessly create an entire array."},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":1,"creation_date":1269420868,"post_id":2503420,"comment_id":2501391,"body_markdown":"@Kip, you are right in that retrieving an array just for the first element is ot a good idea if you don not plan to use the array. The question asked for how to get the first element from a list and mentioned an array context. I merely gave alternatives touching those concepts. It is up to the programmer who knows his source to make a choice from these alternatives.","body":"@Kip, you are right in that retrieving an array just for the first element is ot a good idea if you don not plan to use the array. The question asked for how to get the first element from a list and mentioned an array context. I merely gave alternatives touching those concepts. It is up to the programmer who knows his source to make a choice from these alternatives."}],"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1269376647,"creation_date":1269376647,"answer_id":2503420,"question_id":2503363,"body_markdown":"That depends on what type your list is, for `ArrayList` use:\r\n\r\n    list.get(0);\r\n\r\nfor `LinkedList` use:\r\n\r\n    list.getFirst();\r\n\r\nif you like the `array` approach:\r\n\r\n    list.toArray()[0];\r\n\r\n","title":"How can I get a first element from a sorted list?","body":"<p>That depends on what type your list is, for <code>ArrayList</code> use:</p>\n\n<pre><code>list.get(0);\n</code></pre>\n\n<p>for <code>LinkedList</code> use:</p>\n\n<pre><code>list.getFirst();\n</code></pre>\n\n<p>if you like the <code>array</code> approach:</p>\n\n<pre><code>list.toArray()[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":256949,"reputation":347,"user_id":538012,"display_name":"Gunner"},"score":1,"creation_date":1328905719,"post_id":2503558,"comment_id":11630661,"body_markdown":"This doesn&#39;t seem to have actually made it into java 7","body":"This doesn&#39;t seem to have actually made it into java 7"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343794892,"creation_date":1269377739,"answer_id":2503558,"question_id":2503363,"body_markdown":"[Matthew&#39;s answer][1] is correct:\r\n\r\n    list.get(0);\r\n\r\nTo do what you tried:\r\n\r\n    list[0];\r\n\r\n you&#39;ll have to wait until [Java 7 is released:][2]\r\n\r\n![devoxx conference][3]\r\n\r\nHere&#39;s an interesting [presentation][4] by Mark Reinhold about Java 7 \r\n\r\n&lt;sub&gt;It looks like parleys site is currently down, try later :( &lt;/sub&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/2503363/how-can-i-get-a-first-element-from-a-sorted-list/2503368#2503368\r\n  [2]: http://blogs.oracle.com/darcy/entry/project_coin_final_five\r\n  [3]: http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png\r\n  [4]: http://www.parleys.com/d/1568","title":"How can I get a first element from a sorted list?","body":"<p><a href=\"https://stackoverflow.com/questions/2503363/how-can-i-get-a-first-element-from-a-sorted-list/2503368#2503368\">Matthew's answer</a> is correct:</p>\n\n<pre><code>list.get(0);\n</code></pre>\n\n<p>To do what you tried:</p>\n\n<pre><code>list[0];\n</code></pre>\n\n<p>you'll have to wait until <a href=\"http://blogs.oracle.com/darcy/entry/project_coin_final_five\" rel=\"nofollow noreferrer\">Java 7 is released:</a></p>\n\n<p><a href=\"http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png\" rel=\"nofollow noreferrer\">devoxx conference http://img718.imageshack.us/img718/11/capturadepantalla201003cg.png</a></p>\n\n<p>Here's an interesting <a href=\"http://www.parleys.com/d/1568\" rel=\"nofollow noreferrer\">presentation</a> by Mark Reinhold about Java 7 </p>\n\n<p><sub>It looks like parleys site is currently down, try later :( </sub></p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269378365,"creation_date":1269378365,"answer_id":2503629,"question_id":2503363,"body_markdown":"If your collection is not a `List` (and thus you can&#39;t use `get(int index)`), then you can use the iterator:\r\n\r\n    Iterator iter = collection.iterator();\r\n    if (iter.hasNext()) {\r\n        Object first = iter.next();\r\n    }","title":"How can I get a first element from a sorted list?","body":"<p>If your collection is not a <code>List</code> (and thus you can't use <code>get(int index)</code>), then you can use the iterator:</p>\n\n<pre><code>Iterator iter = collection.iterator();\nif (iter.hasNext()) {\n    Object first = iter.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269379936,"creation_date":1269379936,"answer_id":2503784,"question_id":2503363,"body_markdown":"If you just want to get the minimum of a list, instead of sorting it and then getting the first element (`O(N log N)`), you can use do it in linear time using `min`:\r\n\r\n    &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T min(Collection&lt;? extends T&gt; coll)\r\n\r\nThat looks gnarly at first, but looking at your previous questions, you have a `List&lt;String&gt;`. In short: `min` works on it.\r\n\r\nFor the long answer: all that `super` and `extends` stuff in the generic type constraints is what Josh Bloch calls the PECS principle (usually presented next to a picture of Arnold -- I&#39;M NOT KIDDING!)\r\n\r\n&gt; Producer Extends, Consumer Super\r\n\r\nIt essentially makes generics more powerful, since the constraints are more flexible while still preserving type safety (see: [what is the difference between super and extends in Java Generics](https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics))","title":"How can I get a first element from a sorted list?","body":"<p>If you just want to get the minimum of a list, instead of sorting it and then getting the first element (<code>O(N log N)</code>), you can use do it in linear time using <code>min</code>:</p>\n\n<pre><code>&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T min(Collection&lt;? extends T&gt; coll)\n</code></pre>\n\n<p>That looks gnarly at first, but looking at your previous questions, you have a <code>List&lt;String&gt;</code>. In short: <code>min</code> works on it.</p>\n\n<p>For the long answer: all that <code>super</code> and <code>extends</code> stuff in the generic type constraints is what Josh Bloch calls the PECS principle (usually presented next to a picture of Arnold -- I'M NOT KIDDING!)</p>\n\n<blockquote>\n  <p>Producer Extends, Consumer Super</p>\n</blockquote>\n\n<p>It essentially makes generics more powerful, since the constraints are more flexible while still preserving type safety (see: <a href=\"https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics\">what is the difference between super and extends in Java Generics</a>)</p>\n"},{"tags":[],"owner":{"account_id":1507404,"reputation":9617,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470415402,"creation_date":1470415402,"answer_id":38794120,"question_id":2503363,"body_markdown":"Using Java 8 streams, you can turn your list into a stream and get the first item in a list using the `.findFirst()` method.\r\n\r\n    List&lt;String&gt; stringsList = Arrays.asList(&quot;zordon&quot;, &quot;alpha&quot;, &quot;tommy&quot;);\r\n    Optional&lt;String&gt; optional = stringsList.stream().findFirst();\r\n    optional.get(); // &quot;zordon&quot;\r\n\r\nThe `.findFirst()` method will return an [Optional][1] that may or may not contain a string value (it may not contain a value if the `stringsList` is empty).\r\n\r\nThen to unwrap the item from the Optional use the `.get()` method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"How can I get a first element from a sorted list?","body":"<p>Using Java 8 streams, you can turn your list into a stream and get the first item in a list using the <code>.findFirst()</code> method.</p>\n\n<pre><code>List&lt;String&gt; stringsList = Arrays.asList(\"zordon\", \"alpha\", \"tommy\");\nOptional&lt;String&gt; optional = stringsList.stream().findFirst();\noptional.get(); // \"zordon\"\n</code></pre>\n\n<p>The <code>.findFirst()</code> method will return an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\">Optional</a> that may or may not contain a string value (it may not contain a value if the <code>stringsList</code> is empty).</p>\n\n<p>Then to unwrap the item from the Optional use the <code>.get()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3352883,"reputation":1066,"user_id":2816548,"display_name":"Mikro Koder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525610384,"creation_date":1525610384,"answer_id":50199799,"question_id":2503363,"body_markdown":"        public class Main {\r\n    \t\r\n    \tpublic static List&lt;String&gt; list = new ArrayList();\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n  \t\t\r\n    \t\tList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tl.add(222);\r\n    \t\tl.add(100);\r\n    \t\tl.add(45);\r\n    \t\tl.add(415);\r\n    \t\tl.add(311);\r\n    \t\t\r\n    \t\tl.sort(null);\r\n    \t\tSystem.out.println(l.get(0));\r\n    \t}\r\n    }\r\n    \t\r\n\r\n\r\n\r\nwithout l.sort(null) returned 222\r\n\r\nwith l.sort(null) returned 45","title":"How can I get a first element from a sorted list?","body":"<pre><code>    public class Main {\n\n    public static List&lt;String&gt; list = new ArrayList();\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n\n        l.add(222);\n        l.add(100);\n        l.add(45);\n        l.add(415);\n        l.add(311);\n\n        l.sort(null);\n        System.out.println(l.get(0));\n    }\n}\n</code></pre>\n\n<p>without l.sort(null) returned 222</p>\n\n<p>with l.sort(null) returned 45</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579747,"creation_date":1693178618,"answer_id":76989307,"question_id":2503363,"body_markdown":"Since Java 21, simply using [`List.getFirst`][1]:\r\n```\r\nSystem.out.println(playersList.getFirst());\r\n```\r\n**Note:** Throws `NoSuchElementException` if the list is empty.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][2].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getFirst()\r\n  [2]: https://openjdk.org/jeps/431","title":"How can I get a first element from a sorted list?","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getFirst()\" rel=\"nofollow noreferrer\"><code>List.getFirst</code></a>:</p>\n<pre><code>System.out.println(playersList.getFirst());\n</code></pre>\n<p><strong>Note:</strong> Throws <code>NoSuchElementException</code> if the list is empty.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139183,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2503368,"answer_count":9,"score":32,"last_activity_date":1695579747,"creation_date":1269376183,"question_id":2503363,"body_markdown":"I used `Collections.sort(playersList);` to sort a `List`. So, I think `playersList` is sorted now. But how can I get the first element of the list? `playersList[0]` does not work.","title":"How can I get a first element from a sorted list?","body":"<p>I used <code>Collections.sort(playersList);</code> to sort a <code>List</code>. So, I think <code>playersList</code> is sorted now. But how can I get the first element of the list? <code>playersList[0]</code> does not work.</p>\n"},{"tags":["java","data-structures","arraylist"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1370618927,"post_id":16987727,"comment_id":24541013,"body_markdown":"There is also `remove(int)`...","body":"There is also <code>remove(int)</code>..."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":27,"creation_date":1370618942,"post_id":16987727,"comment_id":24541019,"body_markdown":"`list.remove(list.size()-1)` !!!","body":"<code>list.remove(list.size()-1)</code> !!!"},{"owner":{"account_id":948306,"reputation":2363,"user_id":975066,"display_name":"Justin Jasmann"},"score":2,"creation_date":1370619008,"post_id":16987727,"comment_id":24541062,"body_markdown":"Would a stack be a better solution here?","body":"Would a stack be a better solution here?"},{"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"score":6,"creation_date":1370619063,"post_id":16987727,"comment_id":24541101,"body_markdown":"Removing the last element is a constant time operation since no elements needed to be shifted to the left","body":"Removing the last element is a constant time operation since no elements needed to be shifted to the left"},{"owner":{"account_id":97652,"reputation":11676,"user_id":264775,"accept_rate":86,"display_name":"thegrinner"},"score":0,"creation_date":1370619350,"post_id":16987727,"comment_id":24541260,"body_markdown":"Continuing from @Zim-ZamO&#39;Pootertoot comment, remember that [big-O](http://en.wikipedia.org/wiki/Big_O_notation#Family_of_Bachmann.E2.80.93Landau_notations) represents the *upper* bound, better known as the worst case.","body":"Continuing from @Zim-ZamO&#39;Pootertoot comment, remember that <a href=\"http://en.wikipedia.org/wiki/Big_O_notation#Family_of_Bachmann.E2.80.93Landau_notations\" rel=\"nofollow noreferrer\">big-O</a> represents the <i>upper</i> bound, better known as the worst case."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1370619665,"post_id":16987727,"comment_id":24541465,"body_markdown":"First things first, if you are attempting to remove an element based on position (last) do not use the `remove` element that searches the list and might remove from any position.","body":"First things first, if you are attempting to remove an element based on position (last) do not use the <code>remove</code> element that searches the list and might remove from any position."},{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":2,"creation_date":1370620065,"post_id":16987727,"comment_id":24541710,"body_markdown":"@TheNewIdiot You should have posted that as an answer... D:","body":"@TheNewIdiot You should have posted that as an answer... D:"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1370620933,"post_id":16987727,"comment_id":24542177,"body_markdown":"@thegrinner: &quot;big-o&quot; != &quot;worst-case&quot;.","body":"@thegrinner: &quot;big-o&quot; != &quot;worst-case&quot;."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1370621021,"post_id":16987727,"comment_id":24542212,"body_markdown":"@TheNewIdiot I know how the syntax looks like , the question (Which is answered by Wchargin), is about the time complexity ! not the syntax","body":"@TheNewIdiot I know how the syntax looks like , the question (Which is answered by Wchargin), is about the time complexity ! not the syntax"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1370621141,"post_id":16987727,"comment_id":24542270,"body_markdown":"@Arian Hosseinzadeh , Ok if you knew the syntax then probably I assume that you would have gone through its implementation code-wise before asking this here , if not , then it is a bad question showing no effort on your part :)","body":"@Arian Hosseinzadeh , Ok if you knew the syntax then probably I assume that you would have gone through its implementation code-wise before asking this here , if not , then it is a bad question showing no effort on your part :)"},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1370622018,"post_id":16987727,"comment_id":24542675,"body_markdown":"@TheNewIdiot : if you look at the answer , you see that they say remove(int index) takes O(n) time , this was the effort I made :)\n\nhttp://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist","body":"@TheNewIdiot : if you look at the answer , you see that they say remove(int index) takes O(n) time , this was the effort I made :)  <a href=\"http://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist\" title=\"time complexity for java arraylist\">stackoverflow.com/questions/6540511/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693182475,"post_id":16987727,"comment_id":135722151,"body_markdown":"@thegrinner No it doesn&#39;t. It represents the average. Consider a hash lookup: *O(1)* on average, but worst case *O(N).* QuikSort: *O(N*log(N))* on average, worst case *O(N^2).*","body":"@thegrinner No it doesn&#39;t. It represents the average. Consider a hash lookup: <i>O(1)</i> on average, but worst case <i>O(N).</i> QuikSort: <i>O(N</i>log(N))* on average, worst case <i>O(N^2).</i>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693182559,"post_id":16987727,"comment_id":135722156,"body_markdown":"@JohnB He isn&#39;t using a searching `remove()`.","body":"@JohnB He isn&#39;t using a searching <code>remove()</code>."}],"answers":[{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":1,"creation_date":1600688395,"post_id":16987769,"comment_id":113156497,"body_markdown":"O1 for this? arraycopy entire up to, or just cutting the array loose from end ?","body":"O1 for this? arraycopy entire up to, or just cutting the array loose from end ?"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1370621315,"creation_date":1370618971,"answer_id":16987769,"question_id":16987727,"body_markdown":"See [the documentation for `ArrayList#remove(int)`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#remove%28int%29), as in the following syntax:\r\n\r\n    list.remove(list.size() - 1)\r\n\r\nHere is how it&#39;s implemented. `elementData` does a lookup on the backing array (so it can cut it loose from the array), which should be constant time (since the JVM knows the size of an object reference and the number of entries it can calculate the offset), and `numMoved` is `0` for this case:\r\n\r\n    public E remove(int index) {\r\n        rangeCheck(index); // throws an exception if out of bounds\r\n\r\n        modCount++;        // each time a structural change happens\r\n                           // used for ConcurrentModificationExceptions\r\n        \r\n        E oldValue = elementData(index);\r\n\r\n        int numMoved = size - index - 1;\r\n        if (numMoved &gt; 0)\r\n            System.arraycopy(elementData, index+1, elementData, index,\r\n                             numMoved);\r\n        elementData[--size] = null; // Let gc do its work\r\n\r\n        return oldValue;\r\n    }\r\n\r\n","title":"Removing last object of ArrayList in Java","body":"<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#remove%28int%29\" rel=\"noreferrer\">the documentation for <code>ArrayList#remove(int)</code></a>, as in the following syntax:</p>\n\n<pre><code>list.remove(list.size() - 1)\n</code></pre>\n\n<p>Here is how it's implemented. <code>elementData</code> does a lookup on the backing array (so it can cut it loose from the array), which should be constant time (since the JVM knows the size of an object reference and the number of entries it can calculate the offset), and <code>numMoved</code> is <code>0</code> for this case:</p>\n\n<pre><code>public E remove(int index) {\n    rangeCheck(index); // throws an exception if out of bounds\n\n    modCount++;        // each time a structural change happens\n                       // used for ConcurrentModificationExceptions\n\n    E oldValue = elementData(index);\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n        System.arraycopy(elementData, index+1, elementData, index,\n                         numMoved);\n    elementData[--size] = null; // Let gc do its work\n\n    return oldValue;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16224013,"reputation":1568,"user_id":11714860,"display_name":"Sapphire_Brick"},"score":4,"creation_date":1574298740,"post_id":54343205,"comment_id":104186499,"body_markdown":"that was answered already (I promise I wasn&#39;t  the one who downvoted you, but that&#39;s probably why somebody did).","body":"that was answered already (I promise I wasn&#39;t  the one who downvoted you, but that&#39;s probably why somebody did)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693185934,"post_id":54343205,"comment_id":135722442,"body_markdown":"The question is whether it is possible to do it in constant time, and you haven&#39;t answered that.","body":"The question is whether it is possible to do it in constant time, and you haven&#39;t answered that."}],"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"comment_count":2,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1548321920,"creation_date":1548321920,"answer_id":54343205,"question_id":16987727,"body_markdown":"Just simply use.\r\n\r\n    arraylist.remove(arraylist.size() - 1)\r\n\r\n","title":"Removing last object of ArrayList in Java","body":"<p>Just simply use.</p>\n\n<pre><code>arraylist.remove(arraylist.size() - 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695579685,"creation_date":1693209494,"answer_id":76990941,"question_id":16987727,"body_markdown":"Since Java 21, simply using [`List.removeLast`][1], for example:\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\r\n\r\nSystem.out.println(list.removeLast()); // 3 - removes and returns the last element\r\n```\r\n**Note:** if the list is not empty, the implementation of `List.removeLast` returns the result of calling `remove(size() - 1)`. Otherwise, it throws `NoSuchElementException`.\r\n\r\nThe time complexity of removing the last element from `ArrayList` is O(1) - it is just decrementing the size of the list by 1 under the hood.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()","title":"Removing last object of ArrayList in Java","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\"><code>List.removeLast</code></a>, for example:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\n\nSystem.out.println(list.removeLast()); // 3 - removes and returns the last element\n</code></pre>\n<p><strong>Note:</strong> if the list is not empty, the implementation of <code>List.removeLast</code> returns the result of calling <code>remove(size() - 1)</code>. Otherwise, it throws <code>NoSuchElementException</code>.</p>\n<p>The time complexity of removing the last element from <code>ArrayList</code> is O(1) - it is just decrementing the size of the list by 1 under the hood.</p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81665,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":16987769,"answer_count":3,"score":56,"last_activity_date":1695579685,"creation_date":1370618843,"question_id":16987727,"body_markdown":"I want to remove the last object from an `ArrayList` quickly.\r\n\r\nI know that `remove(Object O)` takes `O(n)` in an `ArrayList`, but I wonder if it is possible to do this in constant time since I just want to remove the **last** object?","title":"Removing last object of ArrayList in Java","body":"<p>I want to remove the last object from an <code>ArrayList</code> quickly.</p>\n\n<p>I know that <code>remove(Object O)</code> takes <code>O(n)</code> in an <code>ArrayList</code>, but I wonder if it is possible to do this in constant time since I just want to remove the <strong>last</strong> object?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":2,"creation_date":1452271088,"post_id":18760887,"comment_id":57109523,"body_markdown":"May want to use generics instead of raw types.","body":"May want to use generics instead of raw types."},{"owner":{"account_id":15997342,"reputation":493,"user_id":11544951,"display_name":"Sarah Multitasker"},"score":1,"creation_date":1654600987,"post_id":18760887,"comment_id":128124352,"body_markdown":"Doesn&#39;t work in Kotlin. Do you know the equivalent? Unable to find it.","body":"Doesn&#39;t work in Kotlin. Do you know the equivalent? Unable to find it."},{"owner":{"account_id":2786574,"reputation":416,"user_id":2397822,"display_name":"aruh"},"score":0,"creation_date":1685964771,"post_id":18760887,"comment_id":134729706,"body_markdown":"@SarahMultitasker: For `kotlin.collections.ArrayDeque`, [`asReversed()`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-reversed.html#asreversed) should do the trick. It doesn&#39;t create a new, reversed copy of the list. The original is wrapped with a Decorator/View, that points the index to the reversed position in the original list. See the [source](https://github.com/JetBrains/kotlin/blob/924c28507067cbfbf78a6509ea89eabe496e34ca/libraries/stdlib/src/kotlin/collections/ReversedViews.kt).","body":"@SarahMultitasker: For <code>kotlin.collections.ArrayDeque</code>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-reversed.html#asreversed\" rel=\"nofollow noreferrer\"><code>asReversed()</code></a> should do the trick. It doesn&#39;t create a new, reversed copy of the list. The original is wrapped with a Decorator/View, that points the index to the reversed position in the original list. See the <a href=\"https://github.com/JetBrains/kotlin/blob/924c28507067cbfbf78a6509ea89eabe496e34ca/libraries/stdlib/src/kotlin/collections/ReversedViews.kt\" rel=\"nofollow noreferrer\">source</a>."},{"owner":{"account_id":12030915,"reputation":647,"user_id":8801181,"display_name":"Shayne3000"},"score":0,"creation_date":1695950669,"post_id":18760887,"comment_id":136095150,"body_markdown":"@SarahMultitasker It seems to me that you might be doing addFirst() to add elements to the ArrayDeque. Why not just do addLast() and negate the need to reverse when you loop through?","body":"@SarahMultitasker It seems to me that you might be doing addFirst() to add elements to the ArrayDeque. Why not just do addLast() and negate the need to reverse when you loop through?"}],"tags":[],"owner":{"account_id":2560357,"reputation":1425,"user_id":2221461,"accept_rate":84,"display_name":"RaptorDotCpp"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1591040282,"creation_date":1378979273,"answer_id":18760887,"question_id":18760832,"body_markdown":"You can use the method `descendingIterator()` to get an iterator that iterates the `ArrayDeque&lt;T&gt;` in reverse.\r\n\r\n    Iterator&lt;T&gt; it = arrayDeque.descendingIterator();\r\n    while(it.hasNext()) {\r\n        // do something with it.next()\r\n    }","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>You can use the method <code>descendingIterator()</code> to get an iterator that iterates the <code>ArrayDeque&lt;T&gt;</code> in reverse.</p>\n\n<pre><code>Iterator&lt;T&gt; it = arrayDeque.descendingIterator();\nwhile(it.hasNext()) {\n    // do something with it.next()\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1612552429,"post_id":18761148,"comment_id":116811927,"body_markdown":"That&#39;s not an ArrayDeque.","body":"That&#39;s not an ArrayDeque."}],"tags":[],"owner":{"account_id":1598231,"reputation":712,"user_id":1479833,"accept_rate":50,"display_name":"Siddh"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1378979950,"creation_date":1378979950,"answer_id":18761148,"question_id":18760832,"body_markdown":"Try this out\r\n\r\nThe elements will be returned in reverse order from last to first.\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n\r\n    /* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\n\r\n    class List {\r\n       public static void main(String[] args) {\r\n          // creating a TreeSet \r\n          TreeSet &lt;Integer&gt;treeadd = new TreeSet&lt;Integer&gt;();\r\n     \r\n          // adding in the tree set\r\n          treeadd.add(1);\r\n          treeadd.add(13);\r\n          treeadd.add(17);\r\n          treeadd.add(2);\r\n     \r\n          // create descending iterator\r\n          Iterator iterator;\r\n          iterator = treeadd.descendingIterator();\r\n     \r\n          // displaying the Tree set data\r\n          System.out.println(&quot;Descending order: &quot;);     \r\n          while (iterator.hasNext()){\r\n              System.out.println(iterator.next() + &quot; &quot;);\r\n          }\r\n       }    \r\n    } ","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>Try this out</p>\n\n<p>The elements will be returned in reverse order from last to first.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be \"Main\" only if the class is public. */\n\nclass List {\n   public static void main(String[] args) {\n      // creating a TreeSet \n      TreeSet &lt;Integer&gt;treeadd = new TreeSet&lt;Integer&gt;();\n\n      // adding in the tree set\n      treeadd.add(1);\n      treeadd.add(13);\n      treeadd.add(17);\n      treeadd.add(2);\n\n      // create descending iterator\n      Iterator iterator;\n      iterator = treeadd.descendingIterator();\n\n      // displaying the Tree set data\n      System.out.println(\"Descending order: \");     \n      while (iterator.hasNext()){\n          System.out.println(iterator.next() + \" \");\n      }\n   }    \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695579636,"creation_date":1693251424,"answer_id":76995594,"question_id":18760832,"body_markdown":"Since Java 21, simply using [`Deque.reversed`][1]:\r\n```\r\nfor (int i : arrayDeque.reversed()) {}\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>Since Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html#reversed()\" rel=\"nofollow noreferrer\"><code>Deque.reversed</code></a>:</p>\n<pre><code>for (int i : arrayDeque.reversed()) {}\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":1047191,"reputation":2895,"user_id":1051956,"accept_rate":100,"display_name":"CodingHero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10733,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":18760887,"answer_count":3,"score":15,"last_activity_date":1695579636,"creation_date":1378979170,"question_id":18760832,"body_markdown":"How can i iterate a ArrayDeque in reverse?\r\n\r\nI would normally do this for an array but it&#39;s not indexable.\r\n\r\n    for (int i = delegate.size() - 1; i &gt;= 0; i--) {}\r\n\r\nthanks\r\n","title":"How can i iterate a ArrayDeque in reverse?","body":"<p>How can i iterate a ArrayDeque in reverse?</p>\n\n<p>I would normally do this for an array but it's not indexable.</p>\n\n<pre><code>for (int i = delegate.size() - 1; i &gt;= 0; i--) {}\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["java","collections","linked-list","iterator","listiterator"],"comments":[{"owner":{"account_id":1976031,"reputation":26059,"user_id":1773798,"accept_rate":75,"display_name":"Renaud Pacalet"},"score":0,"creation_date":1442124114,"post_id":32546617,"comment_id":52950042,"body_markdown":"Are you sure you start iterating from the last list element?","body":"Are you sure you start iterating from the last list element?"}],"answers":[{"comments":[{"owner":{"account_id":81500,"reputation":2113,"user_id":229751,"accept_rate":65,"display_name":"Sonny"},"score":0,"creation_date":1507052377,"post_id":32546768,"comment_id":80055089,"body_markdown":"This is a compile error (when the code is used as-is).","body":"This is a compile error (when the code is used as-is)."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1541669868,"post_id":32546768,"comment_id":93298049,"body_markdown":"`for (int i : (Iterable&lt;Integer&gt;) obj::descendingIterator) { ... }`","body":"<code>for (int i : (Iterable&lt;Integer&gt;) obj::descendingIterator) { ... }</code>"}],"tags":[],"owner":{"account_id":6944544,"reputation":336,"user_id":5329565,"display_name":"tph"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1541669064,"creation_date":1442123542,"answer_id":32546768,"question_id":32546617,"body_markdown":"I think you want a [`descendingIterator`](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#descendingIterator()).\r\n\r\n    Iterator lit = obj.descendingIterator();\r\n    System.out.println(&quot;Backward Iterations&quot;);\r\n    while(lit.hasNext()){\r\n      System.out.println(lit.next());\r\n    }\r\n\r\n","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>I think you want a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#descendingIterator()\" rel=\"noreferrer\"><code>descendingIterator</code></a>.</p>\n\n<pre><code>Iterator lit = obj.descendingIterator();\nSystem.out.println(\"Backward Iterations\");\nwhile(lit.hasNext()){\n  System.out.println(lit.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1442123550,"creation_date":1442123550,"answer_id":32546771,"question_id":32546617,"body_markdown":"You can do it, but you need to use the method `listIterator(int index)` to specify that you want to start at the end of the `List`.\r\n\r\n    LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\r\n\r\n    obj.add(&quot;vino&quot;);\r\n    obj.add(&quot;ajith&quot;);\r\n    obj.add(&quot;praveen&quot;);\r\n    obj.add(&quot;naveen&quot;);\r\n\r\n    ListIterator&lt;String&gt; it = obj.listIterator(obj.size());\r\n    while (it.hasPrevious())\r\n        System.out.println(it.previous());","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>You can do it, but you need to use the method <code>listIterator(int index)</code> to specify that you want to start at the end of the <code>List</code>.</p>\n\n<pre><code>LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\n\nobj.add(\"vino\");\nobj.add(\"ajith\");\nobj.add(\"praveen\");\nobj.add(\"naveen\");\n\nListIterator&lt;String&gt; it = obj.listIterator(obj.size());\nwhile (it.hasPrevious())\n    System.out.println(it.previous());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695579499,"creation_date":1693608809,"answer_id":77026307,"question_id":32546617,"body_markdown":"Starting from Java 21, simply using [`LinkedList.reversed`][1]:\r\n```\r\nLinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\nfor (String s : list.reversed()) {\r\n  System.out.println(s);\r\n}\r\n```\r\n**Note:** It returns a reverse-ordered [view][2] of this collection.\r\n\r\nAdditional details in [JEP 431: Sequenced Collections][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\r\n  [3]: https://openjdk.org/jeps/431","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>Starting from Java 21, simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html#reversed()\" rel=\"nofollow noreferrer\"><code>LinkedList.reversed</code></a>:</p>\n<pre><code>LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\nfor (String s : list.reversed()) {\n  System.out.println(s);\n}\n</code></pre>\n<p><strong>Note:</strong> It returns a reverse-ordered <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#view\" rel=\"nofollow noreferrer\">view</a> of this collection.</p>\n<p>Additional details in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>.</p>\n"}],"owner":{"account_id":5849135,"reputation":9316,"user_id":4608334,"accept_rate":100,"display_name":"Vinoth Vino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21922,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":32546768,"answer_count":3,"score":17,"last_activity_date":1695579499,"creation_date":1442121993,"question_id":32546617,"body_markdown":"I m new to Java Collections and my doubt is why can&#39;t i traverse a element in linkedlist in backward directions.Below I&#39;ll explain what i did and please clarify my doubts.\r\n\r\n1. I&#39;ve created interface **iterator** for forward iterations and **listiterator** for backward iterations. Why backward iterations are not working ?\r\n2. Can&#39;t i use **iterator** and **listiterator** interface in the same program to traverse a set of elements in forward and backward iterations ?\r\n\r\n Code Snippet :  \r\n\r\n        import java.util.*;\r\n        class NewClass{\r\n        public static void main(String args[]){\r\n          LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\r\n         \r\n           obj.add(&quot;vino&quot;);\r\n           obj.add(&quot;ajith&quot;);\r\n           obj.add(&quot;praveen&quot;);\r\n           obj.add(&quot;naveen&quot;);\r\n         \r\n           System.out.println(obj);\r\n         \r\n           System.out.println(&quot;For loop &quot;);\r\n           //using for loop\r\n           for(int count=0; count &lt; obj.size(); count++){\r\n             System.out.println(obj.get(count));\r\n           }\r\n          System.out.println(&quot;For each loop &quot;);\r\n\r\n          //using foreach loop\r\n          for(String s:obj){\r\n             System.out.println(s);\r\n          }\r\n          System.out.println(&quot;Whileloop &quot;);\r\n\r\n          //using whileloop\r\n          int count=0;\r\n          while(obj.size() &gt; count){\r\n              System.out.println(obj.get(count));\r\n            count++;\r\n          }\r\n          System.out.println(&quot;Forward Iterations &quot;);\r\n          //using iterator \r\n          Iterator it = obj.iterator();\r\n          while(it.hasNext()){\r\n             System.out.println(it.next());\r\n          }\r\n          ListIterator lit = obj.listIterator();\r\n          System.out.println(&quot;Backward Iterations&quot;);\r\n           while(lit.hasPrevious()){\r\n            System.out.println(lit.previous());\r\n              }\r\n            }\r\n         }\r\n**Output**\r\n  \r\n\r\n        [vino, ajith, praveen, naveen]\r\n         For loop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        For each loop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        Whileloop \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n        Forward Iterations \r\n         vino\r\n         ajith\r\n         praveen\r\n         naveen\r\n         Backward Iterations\r\n\r\n\r\nWhere is the output for Backward Iterations? Please anyone help me.Thanks in advance","title":"How to iterate a LinkedList elements in reverse order?","body":"<p>I m new to Java Collections and my doubt is why can't i traverse a element in linkedlist in backward directions.Below I'll explain what i did and please clarify my doubts.</p>\n\n<ol>\n<li>I've created interface <strong>iterator</strong> for forward iterations and <strong>listiterator</strong> for backward iterations. Why backward iterations are not working ?</li>\n<li><p>Can't i use <strong>iterator</strong> and <strong>listiterator</strong> interface in the same program to traverse a set of elements in forward and backward iterations ?</p>\n\n<p>Code Snippet :  </p>\n\n<pre><code>import java.util.*;\nclass NewClass{\npublic static void main(String args[]){\n  LinkedList&lt;String&gt; obj = new LinkedList&lt;String&gt;();\n\n   obj.add(\"vino\");\n   obj.add(\"ajith\");\n   obj.add(\"praveen\");\n   obj.add(\"naveen\");\n\n   System.out.println(obj);\n\n   System.out.println(\"For loop \");\n   //using for loop\n   for(int count=0; count &lt; obj.size(); count++){\n     System.out.println(obj.get(count));\n   }\n  System.out.println(\"For each loop \");\n\n  //using foreach loop\n  for(String s:obj){\n     System.out.println(s);\n  }\n  System.out.println(\"Whileloop \");\n\n  //using whileloop\n  int count=0;\n  while(obj.size() &gt; count){\n      System.out.println(obj.get(count));\n    count++;\n  }\n  System.out.println(\"Forward Iterations \");\n  //using iterator \n  Iterator it = obj.iterator();\n  while(it.hasNext()){\n     System.out.println(it.next());\n  }\n  ListIterator lit = obj.listIterator();\n  System.out.println(\"Backward Iterations\");\n   while(lit.hasPrevious()){\n    System.out.println(lit.previous());\n      }\n    }\n }\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[vino, ajith, praveen, naveen]\n For loop \n vino\n ajith\n praveen\n naveen\nFor each loop \n vino\n ajith\n praveen\n naveen\nWhileloop \n vino\n ajith\n praveen\n naveen\nForward Iterations \n vino\n ajith\n praveen\n naveen\n Backward Iterations\n</code></pre></li>\n</ol>\n\n<p>Where is the output for Backward Iterations? Please anyone help me.Thanks in advance</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":48,"creation_date":1249508358,"post_id":1235179,"comment_id":1061761,"body_markdown":"I understand that for loops can cause some real issues.  But you shouldn&#39;t try to avoid for loops &quot;at all costs&quot; because if it costs you readability, maintainability, and speed, you&#39;re being counterproductive.  This is one of those cases.","body":"I understand that for loops can cause some real issues.  But you shouldn&#39;t try to avoid for loops &quot;at all costs&quot; because if it costs you readability, maintainability, and speed, you&#39;re being counterproductive.  This is one of those cases."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1249513272,"post_id":1235179,"comment_id":1062127,"body_markdown":"With those concerns, consider having exhaustive unittests for your code.  This allows you to just show the unit test when documentation is needed.","body":"With those concerns, consider having exhaustive unittests for your code.  This allows you to just show the unit test when documentation is needed."},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":10,"creation_date":1249515633,"post_id":1235179,"comment_id":1062269,"body_markdown":"&quot;They add to the number of lines of code even if they are tucked away in another function&quot;...wow, just wow.  Big-O, not LoC","body":"&quot;They add to the number of lines of code even if they are tucked away in another function&quot;...wow, just wow.  Big-O, not LoC"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":8,"creation_date":1249518589,"post_id":1235179,"comment_id":1062381,"body_markdown":"@imagist I&#39;m avoiding for loops in situations where it costs me readability, and maintainability. I consider speed as the least important issue here (a non-issue in fact). I think for loops are overused and I am trying to learn to only use for loops when they are necessary and not as a default solution.","body":"@imagist I&#39;m avoiding for loops in situations where it costs me readability, and maintainability. I consider speed as the least important issue here (a non-issue in fact). I think for loops are overused and I am trying to learn to only use for loops when they are necessary and not as a default solution."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":4,"creation_date":1249519890,"post_id":1235179,"comment_id":1062445,"body_markdown":"@Pyrolistical I&#39;m not claiming performance or asymptotic benefits. Rather saying that by writing less code, and using library functions rather than reinventing the wheel I reduce the bug surface area(Lines of Code) while increasing readability. Both good things I&#39;m sure you&#39;ll agree.","body":"@Pyrolistical I&#39;m not claiming performance or asymptotic benefits. Rather saying that by writing less code, and using library functions rather than reinventing the wheel I reduce the bug surface area(Lines of Code) while increasing readability. Both good things I&#39;m sure you&#39;ll agree."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1249553035,"post_id":1235179,"comment_id":1063929,"body_markdown":"@e5: Those are good things, but they don&#39;t always follow from using library functions. What people are saying to you is that inappropriate use of library functions (e.g. &quot;avoiding loops at all costs&quot;) can decrease readability, increase bug surface area [*], and make your application catastrophically slower. [ Libraries can have bugs too!]","body":"@e5: Those are good things, but they don&#39;t always follow from using library functions. What people are saying to you is that inappropriate use of library functions (e.g. &quot;avoiding loops at all costs&quot;) can decrease readability, increase bug surface area [*], and make your application catastrophically slower. [ Libraries can have bugs too!]"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":1,"creation_date":1249568957,"post_id":1235179,"comment_id":1065229,"body_markdown":"@Stephen C , Oh certainly, I completely agree with thing you just said! When I say &quot;avoid loops at all costs&quot;, I&#39;m exaggerating my position a bit for dramatic effect. For loops are necessary and good, but I do see an overuse of them in my code and others. I am merely trying to improve my style.","body":"@Stephen C , Oh certainly, I completely agree with thing you just said! When I say &quot;avoid loops at all costs&quot;, I&#39;m exaggerating my position a bit for dramatic effect. For loops are necessary and good, but I do see an overuse of them in my code and others. I am merely trying to improve my style."},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":4,"creation_date":1316638911,"post_id":1235179,"comment_id":9089984,"body_markdown":"@e5;sorry for posting years later.I find this question so appropriate. If inserted in a method, arguments should be tested (times&gt;=0), errors thrown etc.This adds robustness but also lines of code to read. Repeating a string is something unambiguous.Who reads the code knows exactly what a string.repeat does, even without a line of comment or javadoc.If we use a stable library, is reasonable to think that a so-simple function has no bugs,YET introduces some form of &quot;robustness&quot; check that we even need to worry about.If i could ask 10 improvements, this (kind of) things would be one.","body":"@e5;sorry for posting years later.I find this question so appropriate. If inserted in a method, arguments should be tested (times&gt;=0), errors thrown etc.This adds robustness but also lines of code to read. Repeating a string is something unambiguous.Who reads the code knows exactly what a string.repeat does, even without a line of comment or javadoc.If we use a stable library, is reasonable to think that a so-simple function has no bugs,YET introduces some form of &quot;robustness&quot; check that we even need to worry about.If i could ask 10 improvements, this (kind of) things would be one."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":2,"creation_date":1316640664,"post_id":1235179,"comment_id":9090452,"body_markdown":"@AgostinoX Looking back at this question I realize one more problem with for loops. They specify the order in which actions must be performed when most of the time the engineer only wants to perform some action on every element in a list (regardless of order). This order dependency makes it much harder for compilers to parallelize code. I think the python map function has the right of it: http://docs.python.org/library/functions.html#map","body":"@AgostinoX Looking back at this question I realize one more problem with for loops. They specify the order in which actions must be performed when most of the time the engineer only wants to perform some action on every element in a list (regardless of order). This order dependency makes it much harder for compilers to parallelize code. I think the python map function has the right of it: <a href=\"http://docs.python.org/library/functions.html#map\" rel=\"nofollow noreferrer\">docs.python.org/library/functions.html#map</a>"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":0,"creation_date":1316640926,"post_id":1235179,"comment_id":9090518,"body_markdown":"@AgostinoX Raises pitchfork in total agreement. &quot;Death to the for loop, long live readability&quot;!","body":"@AgostinoX Raises pitchfork in total agreement. &quot;Death to the for loop, long live readability&quot;!"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316641486,"post_id":1235179,"comment_id":9090663,"body_markdown":"@e5:another good reason to avoid loops is that java has already introduced iterators with the sole scope of alleviate the loops declaration.There has been such an heavy effort to that purpose.Improving the String API a bit would allow for the complete elimination of &quot;obvious&quot; loops from code at a very low cost.And a much greater (yet understimated) benefit.The time it takes to understand the simplest loop is much greater than the time spent in reading &quot;repeat&quot; word. String[] x = {&quot;think?&quot;, &quot;you&quot;, &quot;dont&quot;};\n        for (int i=x.length-1;i&gt;=0;i--) {\n            System.out.println(x[i]);\n        }","body":"@e5:another good reason to avoid loops is that java has already introduced iterators with the sole scope of alleviate the loops declaration.There has been such an heavy effort to that purpose.Improving the String API a bit would allow for the complete elimination of &quot;obvious&quot; loops from code at a very low cost.And a much greater (yet understimated) benefit.The time it takes to understand the simplest loop is much greater than the time spent in reading &quot;repeat&quot; word. String[] x = {&quot;think?&quot;, &quot;you&quot;, &quot;dont&quot;};         for (int i=x.length-1;i&gt;=0;i--) {             System.out.println(x[i]);         }"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316641909,"post_id":1235179,"comment_id":9090766,"body_markdown":"@e5: the order question is correct but I think that you cannot turn a procedural language into a declarative one &quot;just in case&quot;. I don&#39;t know if you feel so relaxed when iterating collection items and deleting some of them because &quot;you only want to perform an action on each element&quot; leaving to the library implementation &quot;not to do a mess&quot;. Perhaps you would study the API more in deep. If you had not time, you probably choose a fail-proof procedural approach like a downto-removal :-)","body":"@e5: the order question is correct but I think that you cannot turn a procedural language into a declarative one &quot;just in case&quot;. I don&#39;t know if you feel so relaxed when iterating collection items and deleting some of them because &quot;you only want to perform an action on each element&quot; leaving to the library implementation &quot;not to do a mess&quot;. Perhaps you would study the API more in deep. If you had not time, you probably choose a fail-proof procedural approach like a downto-removal :-)"},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1316643044,"post_id":1235179,"comment_id":9091019,"body_markdown":"@e5: however, i think that several of these reasons are pretty &quot;strict&quot;. perhaps enough to start a JCP request. wouldn&#39;t it be wonderful?","body":"@e5: however, i think that several of these reasons are pretty &quot;strict&quot;. perhaps enough to start a JCP request. wouldn&#39;t it be wonderful?"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":1,"creation_date":1398312282,"post_id":1235179,"comment_id":35593781,"body_markdown":"&quot;Clever&quot; code should be avoided. `for` loops should not. Make the code do what it looks like, and use many lines if needed. Your compiler will make it all small and clever - out of sight.","body":"&quot;Clever&quot; code should be avoided. <code>for</code> loops should not. Make the code do what it looks like, and use many lines if needed. Your compiler will make it all small and clever - out of sight."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":3,"creation_date":1398350877,"post_id":1235179,"comment_id":35616956,"body_markdown":"@Floris &quot;Clever&quot; code __should__ be avoided, I agree. But for-loops are &quot;clever&quot; code you have just become used to them. Consider that the for-loop relies on a mathematical relationship between how we store strings in arrays (a fairly arbitrary, machine dependent choice) and a periodically increasing integer. Before you disagree try explaining how you would &#39;repeat a string using for-loops&#39; to a non-programmer.","body":"@Floris &quot;Clever&quot; code <b>should</b> be avoided, I agree. But for-loops are &quot;clever&quot; code you have just become used to them. Consider that the for-loop relies on a mathematical relationship between how we store strings in arrays (a fairly arbitrary, machine dependent choice) and a periodically increasing integer. Before you disagree try explaining how you would &#39;repeat a string using for-loops&#39; to a non-programmer."},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":2,"creation_date":1398353065,"post_id":1235179,"comment_id":35618650,"body_markdown":"@EthanHeilman here goes: &quot;we store the string as a list of characters, each in a numbered box. If I need a string that is 100 long, I first put a character in box 1, then box 2, all the way until I get to box 100. Then I stop adding characters. &quot; That seems to describe the for loop quite well. I decided not to explain the &quot;zero offset&quot; since that is irrelevant to the explanation to the non-programmer.","body":"@EthanHeilman here goes: &quot;we store the string as a list of characters, each in a numbered box. If I need a string that is 100 long, I first put a character in box 1, then box 2, all the way until I get to box 100. Then I stop adding characters. &quot; That seems to describe the for loop quite well. I decided not to explain the &quot;zero offset&quot; since that is irrelevant to the explanation to the non-programmer."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1519979524,"post_id":1235179,"comment_id":85135671,"body_markdown":"If you&#39;re on Java 11, you can use `String::repeat` - see [this answer](https://stackoverflow.com/a/49065337/2525313).","body":"If you&#39;re on Java 11, you can use <code>String::repeat</code> - see <a href=\"https://stackoverflow.com/a/49065337/2525313\">this answer</a>."},{"owner":{"account_id":4974350,"reputation":3936,"user_id":4001177,"display_name":"Golden Lion"},"score":1,"creation_date":1627398019,"post_id":1235179,"comment_id":121142808,"body_markdown":"repeats = &quot;abc&quot; * 3  Python is much more condensed than java","body":"repeats = &quot;abc&quot; * 3  Python is much more condensed than java"}],"answers":[{"comments":[{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":105,"creation_date":1249502600,"post_id":1235184,"comment_id":1061242,"body_markdown":"using a one-method-dependency for the simplicity&#39;s sake in the long run can resulting in a jar-hell","body":"using a one-method-dependency for the simplicity&#39;s sake in the long run can resulting in a jar-hell"},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":84,"creation_date":1249502738,"post_id":1235184,"comment_id":1061265,"body_markdown":"Sure, except it&#39;s commons lang. I don&#39;t think I&#39;ve ever seen a project over 5000 LOCS that didn&#39;t have commons lang.","body":"Sure, except it&#39;s commons lang. I don&#39;t think I&#39;ve ever seen a project over 5000 LOCS that didn&#39;t have commons lang."},{"owner":{"account_id":48094,"reputation":609,"user_id":142722,"display_name":"Markus Koivisto"},"score":3,"creation_date":1249502766,"post_id":1235184,"comment_id":1061270,"body_markdown":"The solution to jar-hell is a managed build depency system such as maven. Import away.","body":"The solution to jar-hell is a managed build depency system such as maven. Import away."},{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":0,"creation_date":1249508789,"post_id":1235184,"comment_id":1061796,"body_markdown":"What makes you think that this doesn&#39;t simply tuck the for loop away in another function?  (Criticism 1)","body":"What makes you think that this doesn&#39;t simply tuck the for loop away in another function?  (Criticism 1)"},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":11,"creation_date":1249509559,"post_id":1235184,"comment_id":1061856,"body_markdown":"Commons Lang is open source - download it and take a look. Of course it has a loop inside, but it&#39;s not quite as simple. A lot of effort went into profiling and optimizing that implementation.","body":"Commons Lang is open source - download it and take a look. Of course it has a loop inside, but it&#39;s not quite as simple. A lot of effort went into profiling and optimizing that implementation."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":31,"creation_date":1249511058,"post_id":1235184,"comment_id":1061980,"body_markdown":"I don&#39;t avoid loops for performance reason (read my reasons in the question). When someone sees StringUtils.repeat, they know what I am doing. They don&#39;t have to worry that I attempted to write my own version of repeat and made a mistake. It is an atomic cognitive unit!","body":"I don&#39;t avoid loops for performance reason (read my reasons in the question). When someone sees StringUtils.repeat, they know what I am doing. They don&#39;t have to worry that I attempted to write my own version of repeat and made a mistake. It is an atomic cognitive unit!"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1249512554,"post_id":1235184,"comment_id":1062072,"body_markdown":"Migrate to Maven to avoid a for-loop??  Interesting turn this is taking.","body":"Migrate to Maven to avoid a for-loop??  Interesting turn this is taking."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":7,"creation_date":1249513430,"post_id":1235184,"comment_id":1062142,"body_markdown":"@Thorbj&#248;rn Ravn Andersen - it can get a LOT more interesting if things keep being taken out of context","body":"@Thorbj&#248;rn Ravn Andersen - it can get a LOT more interesting if things keep being taken out of context"},{"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"score":7,"creation_date":1249520791,"post_id":1235184,"comment_id":1062488,"body_markdown":"@e5 - The use and reuse of the commons classes, StringUtils especially, reduces maintenence load in a number of ways. Simple, descriptive method names, sensible defaults and null handlings and a stable codebase all make it easier to identfy where bugs are more likely to reside. \n\nOne idiom I encourage is that loop control always uses &quot;i&quot;; this forces only one loop per method, which means the common problem of incrementing the wrong thing is removed.","body":"@e5 - The use and reuse of the commons classes, StringUtils especially, reduces maintenence load in a number of ways. Simple, descriptive method names, sensible defaults and null handlings and a stable codebase all make it easier to identfy where bugs are more likely to reside.   One idiom I encourage is that loop control always uses &quot;i&quot;; this forces only one loop per method, which means the common problem of incrementing the wrong thing is removed."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":2,"creation_date":1249522823,"post_id":1235184,"comment_id":1062563,"body_markdown":"@Michael Rutherfurd, those are rules to live by! I&#39;ve been following the &quot;one for loop per method rule&quot; for a few months now and it has improved the quality and readability of my code dramatically. Have trouble obeying &quot;one for loop per method&quot; when I&#39;m taking the Cartesian product of two arrays. I should post a question on how to do that better.\n Java should to add the warning &#39;consider using stringUtils&#39;.","body":"@Michael Rutherfurd, those are rules to live by! I&#39;ve been following the &quot;one for loop per method rule&quot; for a few months now and it has improved the quality and readability of my code dramatically. Have trouble obeying &quot;one for loop per method&quot; when I&#39;m taking the Cartesian product of two arrays. I should post a question on how to do that better.  Java should to add the warning &#39;consider using stringUtils&#39;."},{"owner":{"account_id":26360,"reputation":17149,"user_id":68524,"accept_rate":71,"display_name":"pjp"},"score":0,"creation_date":1249551240,"post_id":1235184,"comment_id":1063844,"body_markdown":"The Apache commons repeat uses StringBuffer internally. This will have some overhead in synchronization over your rolling your own implmementation that makes use of StringBuilder.","body":"The Apache commons repeat uses StringBuffer internally. This will have some overhead in synchronization over your rolling your own implmementation that makes use of StringBuilder."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":0,"creation_date":1249572561,"post_id":1235184,"comment_id":1065646,"body_markdown":"@pjp I hadn&#39;t heard that, can you provide a link to back this up?","body":"@pjp I hadn&#39;t heard that, can you provide a link to back this up?"},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1249581987,"post_id":1235184,"comment_id":1066658,"body_markdown":"Synchronization of what? StringUtils.repeat() is a static method using internal StringBuffer.","body":"Synchronization of what? StringUtils.repeat() is a static method using internal StringBuffer."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":1,"creation_date":1551860052,"post_id":1235184,"comment_id":96790325,"body_markdown":"As soon as you use a framework or tool the Apache Commons will be in your project. I bet we already have `StringUtils` in our projects.","body":"As soon as you use a framework or tool the Apache Commons will be in your project. I bet we already have <code>StringUtils</code> in our projects."}],"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":14,"down_vote_count":5,"up_vote_count":328,"is_accepted":false,"score":323,"last_activity_date":1377502442,"creation_date":1249499794,"answer_id":1235184,"question_id":1235179,"body_markdown":"[Commons Lang StringUtils.repeat()][1]\r\n\r\nUsage:\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = StringUtils.repeat(str, 3);\r\n    \r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\n [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#repeat(java.lang.String,%20int)","title":"Simple way to repeat a string","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#repeat(java.lang.String,%20int)\" rel=\"noreferrer\">Commons Lang StringUtils.repeat()</a></p>\n\n<p>Usage:</p>\n\n<pre><code>String str = \"abc\";\nString repeated = StringUtils.repeat(str, 3);\n\nrepeated.equals(\"abcabcabc\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1249500075,"creation_date":1249500075,"answer_id":1235204,"question_id":1235179,"body_markdown":"If you are worried about performance, just use a StringBuilder inside the loop and do a .toString() on exit of the Loop. Heck, write your own Util Class and reuse it. 5 Lines of code max.","title":"Simple way to repeat a string","body":"<p>If you are worried about performance, just use a StringBuilder inside the loop and do a .toString() on exit of the Loop. Heck, write your own Util Class and reuse it. 5 Lines of code max.</p>\n"},{"comments":[{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":7,"creation_date":1249500774,"post_id":1235213,"comment_id":1061099,"body_markdown":"It contains more characters than my answer StringUtils.repeat(str, n).","body":"It contains more characters than my answer StringUtils.repeat(str, n)."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":8,"creation_date":1249501444,"post_id":1235213,"comment_id":1061150,"body_markdown":"Unless you&#39;re already using Apache Commons, this answer is a lot less hassle - no downloading another library, including it in your classpath, making sure its license is compatible with yours, etc.","body":"Unless you&#39;re already using Apache Commons, this answer is a lot less hassle - no downloading another library, including it in your classpath, making sure its license is compatible with yours, etc."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":7,"creation_date":1249512753,"post_id":1235213,"comment_id":1062087,"body_markdown":"Please, never return null - in that case return an empty string, allowing you to always use the returned value unchecked.  Otherwise, what I would recommend the poster to use.","body":"Please, never return null - in that case return an empty string, allowing you to always use the returned value unchecked.  Otherwise, what I would recommend the poster to use."},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":7,"creation_date":1249515253,"post_id":1235213,"comment_id":1062241,"body_markdown":"Well, there are three ways to handle if s is null.  1. Pass the error (return null), 2. Hide the error (return &quot;&quot;), 3. Throw an NPE.  Hiding the error and throwing an NPE are not cool, so I passed the error.","body":"Well, there are three ways to handle if s is null.  1. Pass the error (return null), 2. Hide the error (return &quot;&quot;), 3. Throw an NPE.  Hiding the error and throwing an NPE are not cool, so I passed the error."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":2,"creation_date":1380830563,"post_id":1235213,"comment_id":28356813,"body_markdown":"@EthanHeilman add the 2MB worth of `commons-lang3.3.1-sources` and you&#39;re not that good anymore ;) But if someone already has `commons-lang`, I support your answer.","body":"@EthanHeilman add the 2MB worth of <code>commons-lang3.3.1-sources</code> and you&#39;re not that good anymore ;) But if someone already has <code>commons-lang</code>, I support your answer."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1414332094,"post_id":1235213,"comment_id":41765264,"body_markdown":"@Pyrolistical &quot;passing the error&quot; as you call it is not a good thing to do. It makes it harder to figure out where the error originally came from. You could reasonably do what TWiStErRob said and treat `null` as `&quot;null&quot;` (as the StringBuilder already does). Otherwise, the right thing to do is throw an NPE. If the caller passes garbage input, for which there is no sensible output, it&#39;s right that they should get garbage thrown back at them.","body":"@Pyrolistical &quot;passing the error&quot; as you call it is not a good thing to do. It makes it harder to figure out where the error originally came from. You could reasonably do what TWiStErRob said and treat <code>null</code> as <code>&quot;null&quot;</code> (as the StringBuilder already does). Otherwise, the right thing to do is throw an NPE. If the caller passes garbage input, for which there is no sensible output, it&#39;s right that they should get garbage thrown back at them."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":1,"creation_date":1499492025,"post_id":1235213,"comment_id":76940708,"body_markdown":"Is it `repeat`&#39;s task to forbid the use of null and crash your program if you do?  Returning `null` when given a `null` is the most neutral way to handle this particular input.","body":"Is it <code>repeat</code>&#39;s task to forbid the use of null and crash your program if you do?  Returning <code>null</code> when given a <code>null</code> is the most neutral way to handle this particular input."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1694978928,"post_id":1235213,"comment_id":135959399,"body_markdown":"[This](https://stackoverflow.com/a/77062890/2668232) code snippet contains even less characters while still using `StringBuilder` :D","body":"<a href=\"https://stackoverflow.com/a/77062890/2668232\">This</a> code snippet contains even less characters while still using <code>StringBuilder</code> :D"}],"tags":[],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"comment_count":8,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1415981429,"creation_date":1249500208,"answer_id":1235213,"question_id":1235179,"body_markdown":"This contains less characters than your question\r\n\r\n    public static String repeat(String s, int n) {\r\n        if(s == null) {\r\n            return null;\r\n        }\r\n        final StringBuilder sb = new StringBuilder(s.length() * n);\r\n        for(int i = 0; i &lt; n; i++) {\r\n            sb.append(s);\r\n        }\r\n        return sb.toString();\r\n    }","title":"Simple way to repeat a string","body":"<p>This contains less characters than your question</p>\n\n<pre><code>public static String repeat(String s, int n) {\n    if(s == null) {\n        return null;\n    }\n    final StringBuilder sb = new StringBuilder(s.length() * n);\n    for(int i = 0; i &lt; n; i++) {\n        sb.append(s);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1249514092,"post_id":1235384,"comment_id":1062173,"body_markdown":"-1: too clever by half. If your aim is to make you code readable or efficient, these &quot;solutions&quot; are not a good idea.  &#39;repeat&#39; could simply be rewritten using a StringBuilder (setting the initial capacity).  And &#39;repeat2&#39; / &#39;repeat3&#39; are really inefficient, and depend on the unspecified syntax of the String produced by String[].toString().","body":"-1: too clever by half. If your aim is to make you code readable or efficient, these &quot;solutions&quot; are not a good idea.  &#39;repeat&#39; could simply be rewritten using a StringBuilder (setting the initial capacity).  And &#39;repeat2&#39; / &#39;repeat3&#39; are really inefficient, and depend on the unspecified syntax of the String produced by String[].toString()."},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1249525354,"post_id":1235384,"comment_id":1062665,"body_markdown":"@Thorb: absolutely, with this code you cannot use &quot;metacharacter&quot;, [],","body":"@Thorb: absolutely, with this code you cannot use &quot;metacharacter&quot;, [],"},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1249525529,"post_id":1235384,"comment_id":1062675,"body_markdown":"@Stephen: the question was edited to request **explicitly** no loops. A StringBuilder based answer was already provided so I avoided to post a duplicate","body":"@Stephen: the question was edited to request <b>explicitly</b> no loops. A StringBuilder based answer was already provided so I avoided to post a duplicate"},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1249527054,"post_id":1235384,"comment_id":1062728,"body_markdown":"@Stephan: I cannot figure out the downvote. My edited answer is loop-free as requeted. There are no requests about efficiency. I think that this question is just an *intellectual effort* to produce a concatenation without a loop.","body":"@Stephan: I cannot figure out the downvote. My edited answer is loop-free as requeted. There are no requests about efficiency. I think that this question is just an <i>intellectual effort</i> to produce a concatenation without a loop."},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1249527885,"post_id":1235384,"comment_id":1062752,"body_markdown":"@Stephan: String produced via Collection.toString (and Arrays.toString) are **clearly specified** in AbstractCollection.toString: &quot; The string representation consists of a list of the collection&#39;s elements in the order they are returned by its iterator, enclosed in square brackets (&quot;[]&quot;). Adjacent elements are separated by the characters &quot;, &quot; (comma and space).&quot;","body":"@Stephan: String produced via Collection.toString (and Arrays.toString) are <b>clearly specified</b> in AbstractCollection.toString: &quot; The string representation consists of a list of the collection&#39;s elements in the order they are returned by its iterator, enclosed in square brackets (&quot;[]&quot;). Adjacent elements are separated by the characters &quot;, &quot; (comma and space).&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1249534131,"post_id":1235384,"comment_id":1062993,"body_markdown":"@dfa: I take back my point about toString() being unspecified. (I didn&#39;t know that ...).  But I don&#39;t read the OP as saying that this is merely an intellectual effort.  Rather I think he is serious ... and seriously misguided ... and might even copy-and-paste one of your &quot;too clever&quot; solutions into his code!","body":"@dfa: I take back my point about toString() being unspecified. (I didn&#39;t know that ...).  But I don&#39;t read the OP as saying that this is merely an intellectual effort.  Rather I think he is serious ... and seriously misguided ... and might even copy-and-paste one of your &quot;too clever&quot; solutions into his code!"},{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":0,"creation_date":1397168081,"post_id":1235384,"comment_id":35128537,"body_markdown":"IF you&#39;re only interested in repeating a single char, then Arrays.fill would be lovely. i.e. \n\t\tchar[] data = new char[count];\n\t\tArrays.fill(data, toRepeat);\n\t\treturn new String(data);","body":"IF you&#39;re only interested in repeating a single char, then Arrays.fill would be lovely. i.e.  \t\tchar[] data = new char[count]; \t\tArrays.fill(data, toRepeat); \t\treturn new String(data);"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1414324921,"post_id":1235384,"comment_id":41763345,"body_markdown":"Your versions using `replace` are catastrophically broken, because they remove all bracket characters and comma-space sequences in the inputs. Your basic loop version is alright, although the input value coercion is a bit dodgy, and you could avoid calling `toCharArray()` by using [`String.getChars`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getChars-int-int-char:A-int-).","body":"Your versions using <code>replace</code> are catastrophically broken, because they remove all bracket characters and comma-space sequences in the inputs. Your basic loop version is alright, although the input value coercion is a bit dodgy, and you could avoid calling <code>toCharArray()</code> by using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getChars-int-int-char:A-int-\" rel=\"nofollow noreferrer\"><code>String.getChars</code></a>."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":8,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1265041220,"creation_date":1249501990,"answer_id":1235384,"question_id":1235179,"body_markdown":"using only JRE classes ([System.arraycopy][1]) and **trying to minimize** the number of temp objects you can write something like:\r\n\r\n    public static String repeat(String toRepeat, int times) {\r\n        if (toRepeat == null) {\r\n            toRepeat = &quot;&quot;;\r\n        }\r\n\r\n        if (times &lt; 0) {\r\n            times = 0;\r\n        }\r\n\r\n        final int length = toRepeat.length();\r\n        final int total = length * times;\r\n        final char[] src = toRepeat.toCharArray();\r\n        char[] dst = new char[total];\r\n        \r\n        for (int i = 0; i &lt; total; i += length) {\r\n            System.arraycopy(src, 0, dst, i, length);\r\n        }\r\n\r\n        return String.copyValueOf(dst);\r\n    }\r\n\r\n**EDIT**\r\n\r\nand without loops you can try with:\r\n\r\n    public static String repeat2(String toRepeat, int times) {\r\n        if (toRepeat == null) {\r\n            toRepeat = &quot;&quot;;\r\n        }\r\n\r\n        if (times &lt; 0) {\r\n            times = 0;\r\n        }\r\n\r\n        String[] copies = new String[times];\r\n        Arrays.fill(copies, toRepeat);\r\n        return Arrays.toString(copies).\r\n                  replace(&quot;[&quot;, &quot;&quot;).\r\n                  replace(&quot;]&quot;, &quot;&quot;).\r\n                  replaceAll(&quot;, &quot;, &quot;&quot;);\r\n    }\r\n\r\n**EDIT 2**\r\n\r\nusing [Collections][2] is even shorter:\r\n\r\n    public static String repeat3(String toRepeat, int times) {\r\n        return Collections.nCopies(times, toRepeat).\r\n               toString().\r\n               replace(&quot;[&quot;, &quot;&quot;).\r\n               replace(&quot;]&quot;, &quot;&quot;).\r\n               replaceAll(&quot;, &quot;, &quot;&quot;);\r\n    }\r\n\r\nhowever I still like the first version.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#arraycopy\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html","title":"Simple way to repeat a string","body":"<p>using only JRE classes (<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#arraycopy\" rel=\"nofollow noreferrer\">System.arraycopy</a>) and <strong>trying to minimize</strong> the number of temp objects you can write something like:</p>\n\n<pre><code>public static String repeat(String toRepeat, int times) {\n    if (toRepeat == null) {\n        toRepeat = \"\";\n    }\n\n    if (times &lt; 0) {\n        times = 0;\n    }\n\n    final int length = toRepeat.length();\n    final int total = length * times;\n    final char[] src = toRepeat.toCharArray();\n    char[] dst = new char[total];\n\n    for (int i = 0; i &lt; total; i += length) {\n        System.arraycopy(src, 0, dst, i, length);\n    }\n\n    return String.copyValueOf(dst);\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>and without loops you can try with:</p>\n\n<pre><code>public static String repeat2(String toRepeat, int times) {\n    if (toRepeat == null) {\n        toRepeat = \"\";\n    }\n\n    if (times &lt; 0) {\n        times = 0;\n    }\n\n    String[] copies = new String[times];\n    Arrays.fill(copies, toRepeat);\n    return Arrays.toString(copies).\n              replace(\"[\", \"\").\n              replace(\"]\", \"\").\n              replaceAll(\", \", \"\");\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>using <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collections</a> is even shorter:</p>\n\n<pre><code>public static String repeat3(String toRepeat, int times) {\n    return Collections.nCopies(times, toRepeat).\n           toString().\n           replace(\"[\", \"\").\n           replace(\"]\", \"\").\n           replaceAll(\", \", \"\");\n}\n</code></pre>\n\n<p>however I still like the first version.</p>\n"},{"comments":[{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":3,"creation_date":1249509891,"post_id":1235877,"comment_id":1061881,"body_markdown":"-1. Here&#39;s two exercises for you: a) run your code with `repetitions = -5`. b) download Commons Lang and run `repeatString(&#39;a&#39;, 1000)` a million times in a loop; do the same with your code; compare the times. For extra credit do the same with `repeatString(&#39;ab&#39;, 1000)`.","body":"-1. Here&#39;s two exercises for you: a) run your code with <code>repetitions = -5</code>. b) download Commons Lang and run <code>repeatString(&#39;a&#39;, 1000)</code> a million times in a loop; do the same with your code; compare the times. For extra credit do the same with <code>repeatString(&#39;ab&#39;, 1000)</code>."},{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":0,"creation_date":1249510658,"post_id":1235877,"comment_id":1061946,"body_markdown":"Fixed the first issue.  As for the second issue, right, because speed is the ONLY concern.  Given that the OP considers for loops to be the bane of programming, he&#39;s more concerned about readability than micro-optimizations.","body":"Fixed the first issue.  As for the second issue, right, because speed is the ONLY concern.  Given that the OP considers for loops to be the bane of programming, he&#39;s more concerned about readability than micro-optimizations."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":2,"creation_date":1249510795,"post_id":1235877,"comment_id":1061956,"body_markdown":"Are you arguing that your code is more readable then `StringUtils.repeat(&quot;ab&quot;,1000)`? Because that was my answer that you&#39;ve downvoted. It also performs better and has no bugs.","body":"Are you arguing that your code is more readable then <code>StringUtils.repeat(&quot;ab&quot;,1000)</code>? Because that was my answer that you&#39;ve downvoted. It also performs better and has no bugs."},{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":0,"creation_date":1249511220,"post_id":1235877,"comment_id":1061992,"body_markdown":"So you&#39;re coming out and admitting that you downvoted my answer because I downvoted yours, not on the merits of my answer?  For your information, I downvoted your answer, not because of readability, but because as dfa said, &quot;using a one-method-dependency for the simplicity&#39;s sake in the long run can resulting in a jar-hell&quot; in addition to my own criticism, &quot;What makes you think that this doesn&#39;t simply tuck the for loop away in another function?&quot;.  Since the first is a concern and the second is obviously a concern to the OP, I thought my downvote was justified.","body":"So you&#39;re coming out and admitting that you downvoted my answer because I downvoted yours, not on the merits of my answer?  For your information, I downvoted your answer, not because of readability, but because as dfa said, &quot;using a one-method-dependency for the simplicity&#39;s sake in the long run can resulting in a jar-hell&quot; in addition to my own criticism, &quot;What makes you think that this doesn&#39;t simply tuck the for loop away in another function?&quot;.  Since the first is a concern and the second is obviously a concern to the OP, I thought my downvote was justified."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1249512000,"post_id":1235877,"comment_id":1062040,"body_markdown":"&quot;Admitting&quot;? I explicitly said &quot;-1&quot; and specified the reasons why. &quot;Jar hell&quot; is a non-issue; it&#39;s been addressed in comments above. OP was not trying to avoid loops at all costs; he did not want to write one if there was already a library function that would do this task for him. Your code (which uses the loop; is not as readable; had a bug; and doesn&#39;t perform well) is a perfect illustration why.","body":"&quot;Admitting&quot;? I explicitly said &quot;-1&quot; and specified the reasons why. &quot;Jar hell&quot; is a non-issue; it&#39;s been addressed in comments above. OP was not trying to avoid loops at all costs; he did not want to write one if there was already a library function that would do this task for him. Your code (which uses the loop; is not as readable; had a bug; and doesn&#39;t perform well) is a perfect illustration why."},{"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"score":0,"creation_date":1249512485,"post_id":1235877,"comment_id":1062068,"body_markdown":"&quot;Jar hell&quot; may be a non-issue with Maven, but one shouldn&#39;t have to install an entire dependency system and a library just to implement a few lines of code.  If he plans to use it elsewhere, fine, but I saw no indication of that in the original post.  As for avoiding loops at all costs: the OP said, &quot;I try to avoid for loops at all costs because:&quot; and listed a bunch of reasons.  So I think that he WAS trying to avoid loops at all costs.","body":"&quot;Jar hell&quot; may be a non-issue with Maven, but one shouldn&#39;t have to install an entire dependency system and a library just to implement a few lines of code.  If he plans to use it elsewhere, fine, but I saw no indication of that in the original post.  As for avoiding loops at all costs: the OP said, &quot;I try to avoid for loops at all costs because:&quot; and listed a bunch of reasons.  So I think that he WAS trying to avoid loops at all costs."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":2,"creation_date":1249513290,"post_id":1235877,"comment_id":1062129,"body_markdown":"Read the 2nd sentence in the question you&#39;re quoting. &quot;I  try to avoid for loops at all costs because&quot; was added to the question as a clarification in response to Andrew Hare&#39;s answer after my reply - not that it matters because if the position you&#39;re taking is &quot;answer is bad if loop is used _anywhere_&quot; there are no answers to the OP question. Even dfa&#39;s solutions - inventive as they are - use for loops inside. &quot;jar hell&quot; was replied to above; commons lang is used in every decent-sized application anyway and thus doesn&#39;t add a new dependency.","body":"Read the 2nd sentence in the question you&#39;re quoting. &quot;I  try to avoid for loops at all costs because&quot; was added to the question as a clarification in response to Andrew Hare&#39;s answer after my reply - not that it matters because if the position you&#39;re taking is &quot;answer is bad if loop is used <i>anywhere</i>&quot; there are no answers to the OP question. Even dfa&#39;s solutions - inventive as they are - use for loops inside. &quot;jar hell&quot; was replied to above; commons lang is used in every decent-sized application anyway and thus doesn&#39;t add a new dependency."},{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":2,"creation_date":1249519060,"post_id":1235877,"comment_id":1062404,"body_markdown":"@ChssPly76 at this point I&#39;m pretty sure imagist is trolling. I really have a hard time seeing how anyone could read what I wrote and seriously think the responses typed above.","body":"@ChssPly76 at this point I&#39;m pretty sure imagist is trolling. I really have a hard time seeing how anyone could read what I wrote and seriously think the responses typed above."},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":1,"creation_date":1249566866,"post_id":1235877,"comment_id":1064971,"body_markdown":"@ChssPly76 my answers don&#39;t have any loops at all :-p","body":"@ChssPly76 my answers don&#39;t have any loops at all :-p"}],"tags":[],"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"comment_count":9,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1249510906,"creation_date":1249507886,"answer_id":1235877,"question_id":1235179,"body_markdown":"Despite your desire not to use loops, I think you should use a loop.\r\n\r\n    String repeatString(String s, int repetitions)\r\n    {\r\n        if(repetitions &lt; 0) throw SomeException();\r\n\r\n        else if(s == null) return null;\r\n\r\n        StringBuilder stringBuilder = new StringBuilder(s.length() * repetitions);\r\n\r\n        for(int i = 0; i &lt; repetitions; i++)\r\n            stringBuilder.append(s);\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n\r\nYour reasons for not using a for loop are not good ones.  In response to your criticisms:\r\n\r\n 1. Whatever solution you use will almost certainly be longer than this.  Using a pre-built function only tucks it under more covers.\r\n 2. Someone reading your code will have to figure out what you&#39;re doing in that non-for-loop.  Given that a for-loop is the idiomatic way to do this, it would be much easier to figure out if you did it with a for loop. \r\n 3. Yes someone might add something clever, but by avoiding a for loop *you **are** doing something clever*.  That&#39;s like shooting yourself in the foot intentionally to avoid shooting yourself in the foot by accident.\r\n 4. Off-by-one errors are also mind-numbingly easy to catch with a single test.  Given that you should be testing your code, an off-by-one error should be easy to fix and catch.  And it&#39;s worth noting: the code above does not contain an off-by-one error.  For loops are equally easy to get right.\r\n 5. So don&#39;t reuse variables.  That&#39;s not the for-loop&#39;s fault.\r\n 6. Again, so does whatever solution you use.  And as I noted before; a bug hunter will probably be expecting you to do this with a for loop, so they&#39;ll have an easier time finding it if you use a for loop.","title":"Simple way to repeat a string","body":"<p>Despite your desire not to use loops, I think you should use a loop.</p>\n\n<pre><code>String repeatString(String s, int repetitions)\n{\n    if(repetitions &lt; 0) throw SomeException();\n\n    else if(s == null) return null;\n\n    StringBuilder stringBuilder = new StringBuilder(s.length() * repetitions);\n\n    for(int i = 0; i &lt; repetitions; i++)\n        stringBuilder.append(s);\n\n    return stringBuilder.toString();\n}\n</code></pre>\n\n<p>Your reasons for not using a for loop are not good ones.  In response to your criticisms:</p>\n\n<ol>\n<li>Whatever solution you use will almost certainly be longer than this.  Using a pre-built function only tucks it under more covers.</li>\n<li>Someone reading your code will have to figure out what you're doing in that non-for-loop.  Given that a for-loop is the idiomatic way to do this, it would be much easier to figure out if you did it with a for loop. </li>\n<li>Yes someone might add something clever, but by avoiding a for loop <em>you <strong>are</strong> doing something clever</em>.  That's like shooting yourself in the foot intentionally to avoid shooting yourself in the foot by accident.</li>\n<li>Off-by-one errors are also mind-numbingly easy to catch with a single test.  Given that you should be testing your code, an off-by-one error should be easy to fix and catch.  And it's worth noting: the code above does not contain an off-by-one error.  For loops are equally easy to get right.</li>\n<li>So don't reuse variables.  That's not the for-loop's fault.</li>\n<li>Again, so does whatever solution you use.  And as I noted before; a bug hunter will probably be expecting you to do this with a for loop, so they'll have an easier time finding it if you use a for loop.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":1,"creation_date":1249522297,"post_id":1236367,"comment_id":1062544,"body_markdown":"+1 for recursion and obviously being a lisp hacker. I don&#39;t think this is so inefficient either, string concatenation isn&#39;t the warcrime it once was, because + really is just a stringBuilder UTH. See\nhttp://stackoverflow.com/questions/47605/java-string-concatenation    \nand\nhttp://schneide.wordpress.com/2009/02/23/about-string-concatenation-in-java-or-dont-fear-the/  .\nI wonder how much all those stack pushes and pops from the recursion cost, or if hotspot takes care of them. Really wish I had the free time to benchmark it. Someone else maybe?","body":"+1 for recursion and obviously being a lisp hacker. I don&#39;t think this is so inefficient either, string concatenation isn&#39;t the warcrime it once was, because + really is just a stringBuilder UTH. See <a href=\"http://stackoverflow.com/questions/47605/java-string-concatenation\" title=\"java string concatenation\">stackoverflow.com/questions/47605/java-string-concatenation</a>     and <a href=\"http://schneide.wordpress.com/2009/02/23/about-string-concatenation-in-java-or-dont-fear-the/\" rel=\"nofollow noreferrer\">schneide.wordpress.com/2009/02/23/&hellip;</a>  . I wonder how much all those stack pushes and pops from the recursion cost, or if hotspot takes care of them. Really wish I had the free time to benchmark it. Someone else maybe?"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1249527755,"post_id":1236367,"comment_id":1062744,"body_markdown":"@e5: fortran is right; this solution could be made more efficient.  This implementation will unnecessarily create a new StringBuilder (and a new String) for each recursion.  Still a nice solution though.","body":"@e5: fortran is right; this solution could be made more efficient.  This implementation will unnecessarily create a new StringBuilder (and a new String) for each recursion.  Still a nice solution though."},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":3,"creation_date":1249548095,"post_id":1236367,"comment_id":1063644,"body_markdown":"@e5 I&#39;d wish I were a Lisp hacker xD... If I were, I would have used a tail recursive function :-p","body":"@e5 I&#39;d wish I were a Lisp hacker xD... If I were, I would have used a tail recursive function :-p"},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":1,"creation_date":1355015291,"post_id":1236367,"comment_id":18953995,"body_markdown":"Microbenchmarks don&#39;t work well in Java. Trying to measure the speed of your implementations like that is not good.","body":"Microbenchmarks don&#39;t work well in Java. Trying to measure the speed of your implementations like that is not good."},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":0,"creation_date":1355140513,"post_id":1236367,"comment_id":18982499,"body_markdown":"@tecnotron I know, but still they are better than nothing... And the only &#39;surprise&#39; was the slight difference between the naive loop concatenation and linear recursion.","body":"@tecnotron I know, but still they are better than nothing... And the only &#39;surprise&#39; was the slight difference between the naive loop concatenation and linear recursion."},{"owner":{"display_name":"user1804599"},"score":0,"creation_date":1406383548,"post_id":1236367,"comment_id":38817323,"body_markdown":"The recursion is a loop.","body":"The recursion is a loop."},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":0,"creation_date":1406648029,"post_id":1236367,"comment_id":38906716,"body_markdown":"The loop is a recursion.","body":"The loop is a recursion."}],"tags":[],"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"comment_count":7,"down_vote_count":3,"up_vote_count":36,"is_accepted":false,"score":33,"last_activity_date":1249561251,"creation_date":1249517249,"answer_id":1236367,"question_id":1235179,"body_markdown":"So you want to avoid loops?\r\n\r\nHere you have it:\r\n\r\n    public static String repeat(String s, int times) {\r\n        if (times &lt;= 0) return &quot;&quot;;\r\n        else return s + repeat(s, times-1);\r\n    }\r\n\r\n(of course I know this is ugly and inefficient, but it doesn&#39;t have loops :-p)\r\n\r\nYou want it simpler and prettier? use jython:\r\n\r\n    s * 3\r\n\r\n**Edit**: let&#39;s optimize it a little bit :-D\r\n\r\n    public static String repeat(String s, int times) {\r\n       if (times &lt;= 0) return &quot;&quot;;\r\n       else if (times % 2 == 0) return repeat(s+s, times/2);\r\n       else return s + repeat(s+s, times/2);\r\n    }\r\n\r\n**Edit2**: I&#39;ve done a quick and dirty benchmark for the 4 main alternatives, but I don&#39;t have time to run it several times to get the means and plot the times for several inputs... So here&#39;s the code if anybody wants to try it:\r\n\r\n    public class Repeat {\r\n        public static void main(String[] args)  {\r\n            int n = Integer.parseInt(args[0]);\r\n            String s = args[1];\r\n            int l = s.length();\r\n            long start, end;\r\n    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatLog2(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;RecLog2Concat: &quot; + (end-start) + &quot;ms&quot;);\r\n                    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatR(s,i).length()!=i*l) throw new RuntimeException();\r\n            }               \r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;RecLinConcat: &quot; + (end-start) + &quot;ms&quot;);\r\n                    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatIc(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;IterConcat: &quot; + (end-start) + &quot;ms&quot;);\r\n    \r\n            start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if(repeatSb(s,i).length()!=i*l) throw new RuntimeException();\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;IterStrB: &quot; + (end-start) + &quot;ms&quot;);\r\n        }\r\n    \r\n        public static String repeatLog2(String s, int times) {\r\n            if (times &lt;= 0) {\r\n                return &quot;&quot;;\r\n            }\r\n            else if (times % 2 == 0) {\r\n                return repeatLog2(s+s, times/2);\r\n            }\r\n            else {\r\n               return s + repeatLog2(s+s, times/2);\r\n            }\r\n        }\r\n    \r\n        public static String repeatR(String s, int times) {\r\n            if (times &lt;= 0) {\r\n                return &quot;&quot;;\r\n            }\r\n            else {\r\n                return s + repeatR(s, times-1);\r\n            }\r\n        }\r\n    \r\n        public static String repeatIc(String s, int times) {\r\n            String tmp = &quot;&quot;;\r\n            for (int i = 0; i &lt; times; i++) {\r\n                tmp += s;\r\n            }\r\n            return tmp;\r\n        }\r\n    \r\n        public static String repeatSb(String s, int n) {\r\n            final StringBuilder sb = new StringBuilder();\r\n            for(int i = 0; i &lt; n; i++) {\r\n                sb.append(s);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nIt takes 2 arguments, the first is the number of iterations (each function run with repeat times arg from 1..n) and the second is the string to repeat.\r\n\r\nSo far, a quick inspection of the times running with different inputs leaves the ranking something like this (better to worse):\r\n\r\n 1. Iterative StringBuilder append (1x).\r\n 2. Recursive concatenation log2 invocations (~3x).\r\n 3. Recursive concatenation linear invocations (~30x).\r\n 4. Iterative concatenation linear (~45x).\r\n\r\nI wouldn&#39;t ever guessed that the recursive function was faster than the `for` loop :-o\r\n\r\nHave fun(ctional xD).","title":"Simple way to repeat a string","body":"<p>So you want to avoid loops?</p>\n\n<p>Here you have it:</p>\n\n<pre><code>public static String repeat(String s, int times) {\n    if (times &lt;= 0) return \"\";\n    else return s + repeat(s, times-1);\n}\n</code></pre>\n\n<p>(of course I know this is ugly and inefficient, but it doesn't have loops :-p)</p>\n\n<p>You want it simpler and prettier? use jython:</p>\n\n<pre><code>s * 3\n</code></pre>\n\n<p><strong>Edit</strong>: let's optimize it a little bit :-D</p>\n\n<pre><code>public static String repeat(String s, int times) {\n   if (times &lt;= 0) return \"\";\n   else if (times % 2 == 0) return repeat(s+s, times/2);\n   else return s + repeat(s+s, times/2);\n}\n</code></pre>\n\n<p><strong>Edit2</strong>: I've done a quick and dirty benchmark for the 4 main alternatives, but I don't have time to run it several times to get the means and plot the times for several inputs... So here's the code if anybody wants to try it:</p>\n\n<pre><code>public class Repeat {\n    public static void main(String[] args)  {\n        int n = Integer.parseInt(args[0]);\n        String s = args[1];\n        int l = s.length();\n        long start, end;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatLog2(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"RecLog2Concat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatR(s,i).length()!=i*l) throw new RuntimeException();\n        }               \n        end = System.currentTimeMillis();\n        System.out.println(\"RecLinConcat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatIc(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"IterConcat: \" + (end-start) + \"ms\");\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; n; i++) {\n            if(repeatSb(s,i).length()!=i*l) throw new RuntimeException();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"IterStrB: \" + (end-start) + \"ms\");\n    }\n\n    public static String repeatLog2(String s, int times) {\n        if (times &lt;= 0) {\n            return \"\";\n        }\n        else if (times % 2 == 0) {\n            return repeatLog2(s+s, times/2);\n        }\n        else {\n           return s + repeatLog2(s+s, times/2);\n        }\n    }\n\n    public static String repeatR(String s, int times) {\n        if (times &lt;= 0) {\n            return \"\";\n        }\n        else {\n            return s + repeatR(s, times-1);\n        }\n    }\n\n    public static String repeatIc(String s, int times) {\n        String tmp = \"\";\n        for (int i = 0; i &lt; times; i++) {\n            tmp += s;\n        }\n        return tmp;\n    }\n\n    public static String repeatSb(String s, int n) {\n        final StringBuilder sb = new StringBuilder();\n        for(int i = 0; i &lt; n; i++) {\n            sb.append(s);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>It takes 2 arguments, the first is the number of iterations (each function run with repeat times arg from 1..n) and the second is the string to repeat.</p>\n\n<p>So far, a quick inspection of the times running with different inputs leaves the ranking something like this (better to worse):</p>\n\n<ol>\n<li>Iterative StringBuilder append (1x).</li>\n<li>Recursive concatenation log2 invocations (~3x).</li>\n<li>Recursive concatenation linear invocations (~30x).</li>\n<li>Iterative concatenation linear (~45x).</li>\n</ol>\n\n<p>I wouldn't ever guessed that the recursive function was faster than the <code>for</code> loop :-o</p>\n\n<p>Have fun(ctional xD).</p>\n"},{"comments":[{"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"score":2,"creation_date":1404010560,"post_id":1236887,"comment_id":37877246,"body_markdown":"looping rather than recursion would reduce the # of stack frames for large numbers of repeats.","body":"looping rather than recursion would reduce the # of stack frames for large numbers of repeats."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1249531048,"creation_date":1249531048,"answer_id":1236887,"question_id":1235179,"body_markdown":"based on [fortran&#39;s answer][1], this is a recusive version that uses a StringBuilder:\r\n\r\n    public static void repeat(StringBuilder stringBuilder, String s, int times) {\r\n        if (times &gt; 0) {\r\n            repeat(stringBuilder.append(s), s, times - 1);\r\n        }\r\n    }\r\n\r\n    public static String repeat(String s, int times) {\r\n        StringBuilder stringBuilder = new StringBuilder(s.length() * times);\r\n        repeat(stringBuilder, s, times);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java/1236367#1236367","title":"Simple way to repeat a string","body":"<p>based on <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string-in-java/1236367#1236367\">fortran's answer</a>, this is a recusive version that uses a StringBuilder:</p>\n\n<pre><code>public static void repeat(StringBuilder stringBuilder, String s, int times) {\n    if (times &gt; 0) {\n        repeat(stringBuilder.append(s), s, times - 1);\n    }\n}\n\npublic static String repeat(String s, int times) {\n    StringBuilder stringBuilder = new StringBuilder(s.length() * times);\n    repeat(stringBuilder, s, times);\n    return stringBuilder.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19267,"reputation":5479,"user_id":45018,"accept_rate":73,"display_name":"Yang Meyer"},"score":5,"creation_date":1263305695,"post_id":1316608,"comment_id":1976436,"body_markdown":"Amazing :-) Although beware of n becoming zero!","body":"Amazing :-) Although beware of n becoming zero!"},{"owner":{"account_id":13612,"reputation":27056,"user_id":27474,"accept_rate":68,"display_name":"Vijay Dev"},"score":0,"creation_date":1266590256,"post_id":1316608,"comment_id":2261772,"body_markdown":"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29 - replace() accepts two char parameters. Not Strings!","body":"<a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/lang/&hellip;</a> - replace() accepts two char parameters. Not Strings!"},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":1,"creation_date":1268302550,"post_id":1316608,"comment_id":2406924,"body_markdown":"I think he meant `replaceAll`","body":"I think he meant <code>replaceAll</code>"},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":4,"creation_date":1296858747,"post_id":1316608,"comment_id":5458736,"body_markdown":"@Vijay Dev &amp; fortran: No, he meant `replace()`. In Java 1.5+, there is an overloaded version of `replace()` that takes two `CharSequence`s (which include `String`s): http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29","body":"@Vijay Dev &amp; fortran: No, he meant <code>replace()</code>. In Java 1.5+, there is an overloaded version of <code>replace()</code> that takes two <code>CharSequence</code>s (which include <code>String</code>s): <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"score":8,"creation_date":1373899774,"post_id":1316608,"comment_id":25715564,"body_markdown":"@mzuba let&#39;s say `n=3`: it first formats a string to look something like `%03d` (`%%` is to escape the percentage sign), which is the formatting code to add 3 padding zeroes, then formats `0` with that, leading to `000`, and finally replaces each `0` with the strings","body":"@mzuba let&#39;s say <code>n=3</code>: it first formats a string to look something like <code>%03d</code> (<code>%%</code> is to escape the percentage sign), which is the formatting code to add 3 padding zeroes, then formats <code>0</code> with that, leading to <code>000</code>, and finally replaces each <code>0</code> with the strings"},{"owner":{"account_id":227192,"reputation":7066,"user_id":488700,"accept_rate":75,"display_name":"Artur"},"score":17,"creation_date":1385456310,"post_id":1316608,"comment_id":30139031,"body_markdown":"You can make the solution less ugly and easier to understand: **String.format(&quot;%0&quot;+n+&quot;d&quot;, 0).replace(&quot;0&quot;, s)**","body":"You can make the solution less ugly and easier to understand: <b>String.format(&quot;%0&quot;+n+&quot;d&quot;, 0).replace(&quot;0&quot;, s)</b>"}],"tags":[],"owner":{"account_id":5401,"reputation":25013,"user_id":8677,"accept_rate":78,"display_name":"I. J. Kennedy"},"comment_count":6,"down_vote_count":8,"up_vote_count":112,"is_accepted":false,"score":104,"last_activity_date":1446226450,"creation_date":1250964306,"answer_id":1316608,"question_id":1235179,"body_markdown":"Here&#39;s a way to do it using only standard String functions and no explicit loops:\r\n\r\n    // create a string made up of  n  copies of  s\r\n    repeated = String.format(String.format(&quot;%%%ds&quot;, n), &quot; &quot;).replace(&quot; &quot;,s);\r\n\r\n","title":"Simple way to repeat a string","body":"<p>Here's a way to do it using only standard String functions and no explicit loops:</p>\n\n<pre><code>// create a string made up of  n  copies of  s\nrepeated = String.format(String.format(\"%%%ds\", n), \" \").replace(\" \",s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":3,"creation_date":1355700904,"post_id":2178032,"comment_id":19164958,"body_markdown":"is the assertThat() method really needed?","body":"is the assertThat() method really needed?"},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1692839925,"post_id":2178032,"comment_id":135679913,"body_markdown":"Link in answer gives *&quot;404 | Repository not found&quot;*.","body":"Link in answer gives <i>&quot;404 | Repository not found&quot;</i>."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265040088,"creation_date":1265040088,"answer_id":2178032,"question_id":1235179,"body_markdown":"using [Dollar][1] is simple as typing:\r\n\r\n    @Test\r\n    public void repeatString() {\r\n        String string = &quot;abc&quot;;\r\n        assertThat($(string).repeat(3).toString(), is(&quot;abcabcabc&quot;));\r\n    }\r\n\r\nPS: **repeat** works also for array, List, Set, etc\r\n\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar/","title":"Simple way to repeat a string","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar/\" rel=\"noreferrer\">Dollar</a> is simple as typing:</p>\n\n<pre><code>@Test\npublic void repeatString() {\n    String string = \"abc\";\n    assertThat($(string).repeat(3).toString(), is(\"abcabcabc\"));\n}\n</code></pre>\n\n<p>PS: <strong>repeat</strong> works also for array, List, Set, etc</p>\n"},{"comments":[{"owner":{"account_id":41675,"reputation":900,"user_id":121201,"display_name":"Amarok"},"score":26,"creation_date":1355422252,"post_id":4903603,"comment_id":19093306,"body_markdown":"I don&#39;t think it&#39;s obfuscated at all.  Primitive types (`char[]`, in this case) are instantiated with nulls, then a `String` is created from the `char[]`, and the nulls are `replaced()` with the character you want in `s`","body":"I don&#39;t think it&#39;s obfuscated at all.  Primitive types (<code>char[]</code>, in this case) are instantiated with nulls, then a <code>String</code> is created from the <code>char[]</code>, and the nulls are <code>replaced()</code> with the character you want in <code>s</code>"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":44,"creation_date":1372161187,"post_id":4903603,"comment_id":25080334,"body_markdown":"While this is very clever (+1) I think it pretty much proves the point that for loops often make for clearer code","body":"While this is very clever (+1) I think it pretty much proves the point that for loops often make for clearer code"},{"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"score":94,"creation_date":1389284123,"post_id":4903603,"comment_id":31605019,"body_markdown":"To those who complain about obfuscation, readability depends on literacy.  This is perfectly clear in what it does and educational for those who may not see it right away.  This is what you get with Java by the way.","body":"To those who complain about obfuscation, readability depends on literacy.  This is perfectly clear in what it does and educational for those who may not see it right away.  This is what you get with Java by the way."},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":11,"creation_date":1392890846,"post_id":4903603,"comment_id":33172726,"body_markdown":"This should really be marked as the answer. When your looking for a &#39;simple&#39; solution, including external libraries should really be a last resort if a better alternative exists. And this is a very very good alternative.","body":"This should really be marked as the answer. When your looking for a &#39;simple&#39; solution, including external libraries should really be a last resort if a better alternative exists. And this is a very very good alternative."},{"owner":{"account_id":350405,"reputation":669,"user_id":686249,"display_name":"user686249"},"score":11,"creation_date":1412614288,"post_id":4903603,"comment_id":41123487,"body_markdown":"For better performance `...replace(&#39;\\0&#39;, str)` should be used instead of the String version.","body":"For better performance <code>...replace(&#39;\\0&#39;, str)</code> should be used instead of the String version."},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":12,"creation_date":1412619521,"post_id":4903603,"comment_id":41126051,"body_markdown":"@user686249: There are only `replace(char oldChar, char newChar)` and `replace(CharSequence target, CharSequence replacement)` so I don&#39;t see how that could work","body":"@user686249: There are only <code>replace(char oldChar, char newChar)</code> and <code>replace(CharSequence target, CharSequence replacement)</code> so I don&#39;t see how that could work"},{"owner":{"account_id":3783492,"reputation":1713,"user_id":3142238,"display_name":"Valen"},"score":0,"creation_date":1428167190,"post_id":4903603,"comment_id":47064460,"body_markdown":"@fortran I&#39;m sorry for that mistake..... this should work `Integer.toString(Math.pow(10, n)).replace(&quot;1&quot;, &quot;&quot;).replace(&quot;0&quot;, str);` or this `Integer.toBinaryString(Math.pow(2, n)).replace(&quot;1&quot;, &quot;&quot;).replace(&quot;0&quot;, str);` DON&#39;T use this for large number lol","body":"@fortran I&#39;m sorry for that mistake..... this should work <code>Integer.toString(Math.pow(10, n)).replace(&quot;1&quot;, &quot;&quot;).replace(&quot;0&quot;, str);</code> or this <code>Integer.toBinaryString(Math.pow(2, n)).replace(&quot;1&quot;, &quot;&quot;).replace(&quot;0&quot;, str);</code> DON&#39;T use this for large number lol"},{"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"score":3,"creation_date":1428431542,"post_id":4903603,"comment_id":47156035,"body_markdown":"I needed to use replaceAll() to make it work, and it&#39;s 10 times slower than a new StringBuilder(length) and a `while(repeat-- &gt; 0) { sb.apend(word)}`","body":"I needed to use replaceAll() to make it work, and it&#39;s 10 times slower than a new StringBuilder(length) and a <code>while(repeat-- &gt; 0) { sb.apend(word)}</code>"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1532206041,"post_id":4903603,"comment_id":89889206,"body_markdown":"So the `\\0` end of string delimiter was  resurrected from `C` ?  What are other useful applications of it in `java` ?","body":"So the <code>\\0</code> end of string delimiter was  resurrected from <code>C</code> ?  What are other useful applications of it in <code>java</code> ?"},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":6,"creation_date":1532232806,"post_id":4903603,"comment_id":89893021,"body_markdown":"@javadba: No, this has nothing to do with &quot;end of string delimiters&quot; (which don&#39;t exist here anyway). Rather, when you create a new array, all elements are initialized to the zero value of the type; in the case of `char`, that&#39;s the 0 character. We simply do a replacement on each occurrence of that character.","body":"@javadba: No, this has nothing to do with &quot;end of string delimiters&quot; (which don&#39;t exist here anyway). Rather, when you create a new array, all elements are initialized to the zero value of the type; in the case of <code>char</code>, that&#39;s the 0 character. We simply do a replacement on each occurrence of that character."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":4,"creation_date":1548059616,"post_id":4903603,"comment_id":95393021,"body_markdown":"@user102008 To be precise: it&#39;s the [_null_ character](https://en.wikipedia.org/wiki/Null_character), not &quot;the 0 [zero] character&quot;.","body":"@user102008 To be precise: it&#39;s the <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow noreferrer\"><i>null</i> character</a>, not &quot;the 0 [zero] character&quot;."},{"owner":{"account_id":1933692,"reputation":260,"user_id":1742529,"display_name":"user1742529"},"score":0,"creation_date":1641467298,"post_id":4903603,"comment_id":124813858,"body_markdown":"@Caner answer is readable: `String.join(&quot;&quot;, Collections.nCopies(n, s));`  https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string/6857936#6857936","body":"@Caner answer is readable: <code>String.join(&quot;&quot;, Collections.nCopies(n, s));</code>  <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string/6857936#6857936\" title=\"simple way to repeat a string\">stackoverflow.com/questions/1235179/&hellip;</a>"}],"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"comment_count":12,"down_vote_count":6,"up_vote_count":1015,"is_accepted":false,"score":1009,"last_activity_date":1448042102,"creation_date":1296858849,"answer_id":4903603,"question_id":1235179,"body_markdown":"Here is the shortest version (Java 1.5+ required):\r\n\r\n    repeated = new String(new char[n]).replace(&quot;\\0&quot;, s);\r\n\r\nWhere `n` is the number of times you want to repeat the string and `s` is the string to repeat.\r\n\r\nNo imports or libraries needed.","title":"Simple way to repeat a string","body":"<p>Here is the shortest version (Java 1.5+ required):</p>\n\n<pre><code>repeated = new String(new char[n]).replace(\"\\0\", s);\n</code></pre>\n\n<p>Where <code>n</code> is the number of times you want to repeat the string and <code>s</code> is the string to repeat.</p>\n\n<p>No imports or libraries needed.</p>\n"},{"comments":[{"owner":{"display_name":"user4910279"},"score":5,"creation_date":1496575177,"post_id":6857936,"comment_id":75708887,"body_markdown":"The former causes an exception when `n` is zero.","body":"The former causes an exception when <code>n</code> is zero."},{"owner":{"account_id":2061884,"reputation":3338,"user_id":1838233,"display_name":"Arigion"},"score":0,"creation_date":1502191122,"post_id":6857936,"comment_id":78092607,"body_markdown":"The java 8 example does not compile -&gt; Type mismatch: cannot convert from List&lt;Character&gt; to CharSequence","body":"The java 8 example does not compile -&gt; Type mismatch: cannot convert from List&lt;Character&gt; to CharSequence"},{"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"score":8,"creation_date":1502271477,"post_id":6857936,"comment_id":78132607,"body_markdown":"@Arigion `s` has to be String, not a `Char`","body":"@Arigion <code>s</code> has to be String, not a <code>Char</code>"},{"owner":{"account_id":2061884,"reputation":3338,"user_id":1838233,"display_name":"Arigion"},"score":0,"creation_date":1502345068,"post_id":6857936,"comment_id":78170022,"body_markdown":"@Caner Thanks. My bad, I apologize. Apparently I was too tired yesterday. Sorry about downvoting. I&#39;ll remove the downvote as soon as I could (it&#39;s blocked until question is edited)","body":"@Caner Thanks. My bad, I apologize. Apparently I was too tired yesterday. Sorry about downvoting. I&#39;ll remove the downvote as soon as I could (it&#39;s blocked until question is edited)"},{"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"score":0,"creation_date":1502354542,"post_id":6857936,"comment_id":78175815,"body_markdown":"@Arigion no problem, made it clear now that s is a string","body":"@Arigion no problem, made it clear now that s is a string"},{"owner":{"account_id":7165027,"reputation":2330,"user_id":5937230,"accept_rate":90,"display_name":"rococo"},"score":4,"creation_date":1629572847,"post_id":6857936,"comment_id":121723786,"body_markdown":"For anyone curious, the new `&quot;blah&quot;.repeat(10)` in &gt;=Java 11 appears to be very efficient, allocating byte arrays directly much like `StringBuilder`. Probably the best way to repeat strings from here on out!","body":"For anyone curious, the new <code>&quot;blah&quot;.repeat(10)</code> in &gt;=Java 11 appears to be very efficient, allocating byte arrays directly much like <code>StringBuilder</code>. Probably the best way to repeat strings from here on out!"}],"tags":[],"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"comment_count":6,"down_vote_count":1,"up_vote_count":557,"is_accepted":false,"score":556,"last_activity_date":1677120446,"creation_date":1311851156,"answer_id":6857936,"question_id":1235179,"body_markdown":"If you are using **Java &lt;= 7**, this is as &quot;concise&quot; as it gets:\r\n\r\n    // create a string made up of n copies of string s\r\n    String.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, s);\r\n\r\n\r\nIn **Java 8** and above there is a more readable way:\r\n\r\n    // create a string made up of n copies of string s\r\n    String.join(&quot;&quot;, Collections.nCopies(n, s));\r\n\r\n\r\nFinally, for **Java 11** and above, there is a new `repeat(int count)` method specifically for this purpose([link][1])\r\n\r\n\r\n    &quot;abc&quot;.repeat(12);\r\n\r\nAlternatively, if your project uses java libraries there are more options.\r\n\r\nFor **[Apache Commons][2]**:\r\n\r\n    StringUtils.repeat(&quot;abc&quot;, 12);\r\n\r\nFor **[Google Guava][3]**:\r\n\r\n    Strings.repeat(&quot;abc&quot;, 12);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n  [3]: https://guava.dev/releases/20.0/api/docs/com/google/common/base/Strings.html#repeat-java.lang.String-int-","title":"Simple way to repeat a string","body":"<p>If you are using <strong>Java &lt;= 7</strong>, this is as &quot;concise&quot; as it gets:</p>\n<pre><code>// create a string made up of n copies of string s\nString.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, s);\n</code></pre>\n<p>In <strong>Java 8</strong> and above there is a more readable way:</p>\n<pre><code>// create a string made up of n copies of string s\nString.join(&quot;&quot;, Collections.nCopies(n, s));\n</code></pre>\n<p>Finally, for <strong>Java 11</strong> and above, there is a new <code>repeat(int count)</code> method specifically for this purpose(<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\">link</a>)</p>\n<pre><code>&quot;abc&quot;.repeat(12);\n</code></pre>\n<p>Alternatively, if your project uses java libraries there are more options.</p>\n<p>For <strong><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">Apache Commons</a></strong>:</p>\n<pre><code>StringUtils.repeat(&quot;abc&quot;, 12);\n</code></pre>\n<p>For <strong><a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/base/Strings.html#repeat-java.lang.String-int-\" rel=\"noreferrer\">Google Guava</a></strong>:</p>\n<pre><code>Strings.repeat(&quot;abc&quot;, 12);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":477449,"reputation":1055,"user_id":888958,"accept_rate":93,"display_name":"alexmherrmann"},"score":0,"creation_date":1313038904,"post_id":7019357,"comment_id":8385821,"body_markdown":"I don&#39;t think there is much else you can do... excet maybe an AOT!!","body":"I don&#39;t think there is much else you can do... excet maybe an AOT!!"}],"tags":[],"owner":{"account_id":477449,"reputation":1055,"user_id":888958,"accept_rate":93,"display_name":"alexmherrmann"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1313038704,"creation_date":1313020505,"answer_id":7019357,"question_id":1235179,"body_markdown":"here is the latest Stringutils.java [StringUtils.java][1]\r\n\r\n\t    public static String repeat(String str, int repeat) {\r\n\t\t// Performance tuned for 2.0 (JDK1.4)\r\n\r\n\t\tif (str == null) {\r\n\t\t    return null;\r\n\t\t}\r\n\t\tif (repeat &lt;= 0) {\r\n\t\t    return EMPTY;\r\n\t\t}\r\n\t\tint inputLength = str.length();\r\n\t\tif (repeat == 1 || inputLength == 0) {\r\n\t\t    return str;\r\n\t\t}\r\n\t\tif (inputLength == 1 &amp;&amp; repeat &lt;= PAD_LIMIT) {\r\n\t\t    return repeat(str.charAt(0), repeat);\r\n\t\t}\r\n\r\n\t\tint outputLength = inputLength * repeat;\r\n\t\tswitch (inputLength) {\r\n\t\t    case 1 :\r\n\t\t        return repeat(str.charAt(0), repeat);\r\n\t\t    case 2 :\r\n\t\t        char ch0 = str.charAt(0);\r\n\t\t        char ch1 = str.charAt(1);\r\n\t\t        char[] output2 = new char[outputLength];\r\n\t\t        for (int i = repeat * 2 - 2; i &gt;= 0; i--, i--) {\r\n\t\t            output2[i] = ch0;\r\n\t\t            output2[i + 1] = ch1;\r\n\t\t        }\r\n\t\t        return new String(output2);\r\n\t\t    default :\r\n\t\t        StringBuilder buf = new StringBuilder(outputLength);\r\n\t\t        for (int i = 0; i &lt; repeat; i++) {\r\n\t\t            buf.append(str);\r\n\t\t        }\r\n\t\t        return buf.toString();\r\n\t\t}\r\n\t    }\r\n\r\n\r\nit doesn&#39;t even need to be this big, can be made into this, and can be copied and pasted \r\ninto a utility class in your project.\r\n\r\n\t    public static String repeat(String str, int num) {\r\n\t\tint len = num * str.length();\r\n\t\tStringBuilder sb = new StringBuilder(len);\r\n\t\tfor (int i = 0; i &lt; times; i++) {\r\n\t\t    sb.append(str);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t    }\r\n\r\nSo e5, I think the best way to do this would be to simply use the above mentioned code,or any of the answers here. but commons lang is just too big if it&#39;s a small project\r\n\r\n\r\n[1]: http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/StringUtils.java\r\n","title":"Simple way to repeat a string","body":"<p>here is the latest Stringutils.java <a href=\"http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/StringUtils.java\" rel=\"nofollow\">StringUtils.java</a></p>\n\n<pre><code>    public static String repeat(String str, int repeat) {\n    // Performance tuned for 2.0 (JDK1.4)\n\n    if (str == null) {\n        return null;\n    }\n    if (repeat &lt;= 0) {\n        return EMPTY;\n    }\n    int inputLength = str.length();\n    if (repeat == 1 || inputLength == 0) {\n        return str;\n    }\n    if (inputLength == 1 &amp;&amp; repeat &lt;= PAD_LIMIT) {\n        return repeat(str.charAt(0), repeat);\n    }\n\n    int outputLength = inputLength * repeat;\n    switch (inputLength) {\n        case 1 :\n            return repeat(str.charAt(0), repeat);\n        case 2 :\n            char ch0 = str.charAt(0);\n            char ch1 = str.charAt(1);\n            char[] output2 = new char[outputLength];\n            for (int i = repeat * 2 - 2; i &gt;= 0; i--, i--) {\n                output2[i] = ch0;\n                output2[i + 1] = ch1;\n            }\n            return new String(output2);\n        default :\n            StringBuilder buf = new StringBuilder(outputLength);\n            for (int i = 0; i &lt; repeat; i++) {\n                buf.append(str);\n            }\n            return buf.toString();\n    }\n    }\n</code></pre>\n\n<p>it doesn't even need to be this big, can be made into this, and can be copied and pasted \ninto a utility class in your project.</p>\n\n<pre><code>    public static String repeat(String str, int num) {\n    int len = num * str.length();\n    StringBuilder sb = new StringBuilder(len);\n    for (int i = 0; i &lt; times; i++) {\n        sb.append(str);\n    }\n    return sb.toString();\n    }\n</code></pre>\n\n<p>So e5, I think the best way to do this would be to simply use the above mentioned code,or any of the answers here. but commons lang is just too big if it's a small project</p>\n"},{"comments":[{"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"score":4,"creation_date":1527281863,"post_id":10678095,"comment_id":88085568,"body_markdown":"... and get 3Mb of new dependencies.","body":"... and get 3Mb of new dependencies."},{"owner":{"account_id":12634,"reputation":20863,"user_id":24998,"accept_rate":100,"display_name":"Jack"},"score":6,"creation_date":1527292399,"post_id":10678095,"comment_id":88088129,"body_markdown":"@MonoThreaded I thought it would go without saying, but don&#39;t include guava just to do a string repeat. My answer was about if you&#39;re already using guava anyway then this is how you&#39;d do it.","body":"@MonoThreaded I thought it would go without saying, but don&#39;t include guava just to do a string repeat. My answer was about if you&#39;re already using guava anyway then this is how you&#39;d do it."}],"tags":[],"owner":{"account_id":12634,"reputation":20863,"user_id":24998,"accept_rate":100,"display_name":"Jack"},"comment_count":2,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1337556809,"creation_date":1337556809,"answer_id":10678095,"question_id":1235179,"body_markdown":"If you&#39;re like me and want to use Google Guava and not Apache Commons. You can use the [repeat][1] method in the Guava Strings class.\r\n\r\n    Strings.repeat(&quot;-&quot;, 60);\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Strings.html#repeat%28java.lang.String,%20int%29","title":"Simple way to repeat a string","body":"<p>If you're like me and want to use Google Guava and not Apache Commons. You can use the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Strings.html#repeat%28java.lang.String,%20int%29\">repeat</a> method in the Guava Strings class.</p>\n\n<pre><code>Strings.repeat(\"-\", 60);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"score":3,"creation_date":1354810479,"post_id":13745970,"comment_id":18892450,"body_markdown":"I makes sense that the second one would take much longer. It is performing a string search and then modifying the string character by character.","body":"I makes sense that the second one would take much longer. It is performing a string search and then modifying the string character by character."}],"tags":[],"owner":{"account_id":2119000,"reputation":71,"user_id":1882685,"display_name":"Bob"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1354804924,"creation_date":1354804924,"answer_id":13745970,"question_id":1235179,"body_markdown":"I wanted a function to create a comma-delimited list of question marks for JDBC purposes, and found this post. So, I decided to take two variants and see which one performed better. After 1 million iterations, the garden-variety StringBuilder took 2 seconds (fun1), and the cryptic supposedly more optimal version (fun2) took 30 seconds. What&#39;s the point of being cryptic again?\r\n\r\n    private static String fun1(int size) {\r\n        StringBuilder sb = new StringBuilder(size * 2);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            sb.append(&quot;,?&quot;);\r\n        }\r\n        return sb.substring(1);\r\n    }\r\n    \r\n    private static String fun2(int size) {\r\n        return new String(new char[size]).replaceAll(&quot;\\0&quot;, &quot;,?&quot;).substring(1);\r\n    }\r\n    ","title":"Simple way to repeat a string","body":"<p>I wanted a function to create a comma-delimited list of question marks for JDBC purposes, and found this post. So, I decided to take two variants and see which one performed better. After 1 million iterations, the garden-variety StringBuilder took 2 seconds (fun1), and the cryptic supposedly more optimal version (fun2) took 30 seconds. What's the point of being cryptic again?</p>\n\n<pre><code>private static String fun1(int size) {\n    StringBuilder sb = new StringBuilder(size * 2);\n    for (int i = 0; i &lt; size; i++) {\n        sb.append(\",?\");\n    }\n    return sb.substring(1);\n}\n\nprivate static String fun2(int size) {\n    return new String(new char[size]).replaceAll(\"\\0\", \",?\").substring(1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"score":1,"creation_date":1364951900,"post_id":15774621,"comment_id":22428970,"body_markdown":"In my more extreme test, I produce a 1,700,000,000 (1.7 gigas) string repeat length,, using -Xms4937m","body":"In my more extreme test, I produce a 1,700,000,000 (1.7 gigas) string repeat length,, using -Xms4937m"}],"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364950580,"creation_date":1364937659,"answer_id":15774621,"question_id":1235179,"body_markdown":"I really enjoy this question. There is a lot of knowledge and styles. So I can&#39;t leave it without show my rock and roll  ;)\r\n\r\n    {\r\n        String string = repeat(&quot;1234567890&quot;, 4);\r\n        System.out.println(string);\r\n        System.out.println(&quot;=======&quot;);\r\n        repeatWithoutCopySample(string, 100000);\r\n        System.out.println(string);// This take time, try it without printing\r\n        System.out.println(string.length());\r\n    }\r\n\r\n    /**\r\n     * The core of the task.\r\n     */\r\n    @SuppressWarnings(&quot;AssignmentToMethodParameter&quot;)\r\n    public static char[] repeat(char[] sample, int times) {\r\n        char[] r = new char[sample.length * times];\r\n        while (--times &gt; -1) {\r\n            System.arraycopy(sample, 0, r, times * sample.length, sample.length);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * Java classic style.\r\n     */\r\n    public static String repeat(String sample, int times) {\r\n        return new String(repeat(sample.toCharArray(), times));\r\n    }\r\n\r\n    /**\r\n     * Java extreme memory style.\r\n     */\r\n    @SuppressWarnings(&quot;UseSpecificCatch&quot;)\r\n    public static void repeatWithoutCopySample(String sample, int times) {\r\n        try {\r\n            Field valueStringField = String.class.getDeclaredField(&quot;value&quot;);\r\n            valueStringField.setAccessible(true);\r\n            valueStringField.set(sample, repeat((char[]) valueStringField.get(sample), times));\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nDo you like it?","title":"Simple way to repeat a string","body":"<p>I really enjoy this question. There is a lot of knowledge and styles. So I can't leave it without show my rock and roll  ;)</p>\n\n<pre><code>{\n    String string = repeat(\"1234567890\", 4);\n    System.out.println(string);\n    System.out.println(\"=======\");\n    repeatWithoutCopySample(string, 100000);\n    System.out.println(string);// This take time, try it without printing\n    System.out.println(string.length());\n}\n\n/**\n * The core of the task.\n */\n@SuppressWarnings(\"AssignmentToMethodParameter\")\npublic static char[] repeat(char[] sample, int times) {\n    char[] r = new char[sample.length * times];\n    while (--times &gt; -1) {\n        System.arraycopy(sample, 0, r, times * sample.length, sample.length);\n    }\n    return r;\n}\n\n/**\n * Java classic style.\n */\npublic static String repeat(String sample, int times) {\n    return new String(repeat(sample.toCharArray(), times));\n}\n\n/**\n * Java extreme memory style.\n */\n@SuppressWarnings(\"UseSpecificCatch\")\npublic static void repeatWithoutCopySample(String sample, int times) {\n    try {\n        Field valueStringField = String.class.getDeclaredField(\"value\");\n        valueStringField.setAccessible(true);\n        valueStringField.set(sample, repeat((char[]) valueStringField.get(sample), times));\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n\n<p>Do you like it?</p>\n"},{"tags":[],"owner":{"account_id":1077683,"reputation":362,"user_id":1326308,"accept_rate":100,"display_name":"falcon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370005502,"creation_date":1370003871,"answer_id":16857487,"question_id":1235179,"body_markdown":"    public static String repeat(String str, int times) {\r\n        int length = str.length();\r\n        int size = length * times;\r\n        char[] c = new char[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            c[i] = str.charAt(i % length);\r\n        }\r\n        return new String(c);\r\n    }\r\n","title":"Simple way to repeat a string","body":"<pre><code>public static String repeat(String str, int times) {\n    int length = str.length();\n    int size = length * times;\n    char[] c = new char[size];\n    for (int i = 0; i &lt; size; i++) {\n        c[i] = str.charAt(i % length);\n    }\n    return new String(c);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":151391,"reputation":3473,"user_id":365229,"accept_rate":77,"display_name":"Behrouz.M"},"score":2,"creation_date":1426786227,"post_id":17296521,"comment_id":46524138,"body_markdown":"pass ``times`` to StringBuilder constructor.","body":"pass <code>times</code> to StringBuilder constructor."}],"tags":[],"owner":{"account_id":116244,"reputation":11051,"user_id":304894,"accept_rate":71,"display_name":"Codler"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372160966,"creation_date":1372160966,"answer_id":17296521,"question_id":1235179,"body_markdown":"Simple loop\r\n\r\n    public static String repeat(String string, int times) {\r\n    \tStringBuilder out = new StringBuilder();\r\n    \twhile (times-- &gt; 0) {\r\n    \t\tout.append(string);\r\n    \t}\r\n    \treturn out.toString();\r\n    }","title":"Simple way to repeat a string","body":"<p>Simple loop</p>\n\n<pre><code>public static String repeat(String string, int times) {\n    StringBuilder out = new StringBuilder();\n    while (times-- &gt; 0) {\n        out.append(string);\n    }\n    return out.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2591957"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384352722,"creation_date":1384352722,"answer_id":19956236,"question_id":1235179,"body_markdown":"Try this out:    \r\n\r\n    public static char[] myABCs = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n    public static int numInput;\r\n    static Scanner in = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(&quot;Enter Number of Times to repeat: &quot;);\r\n        numInput = in.nextInt();\r\n        repeatArray(numInput);\r\n    }\r\n\r\n    public static int repeatArray(int y) {\r\n        for (int a = 0; a &lt; y; a++) {\r\n            for (int b = 0; b &lt; myABCs.length; b++) {\r\n                System.out.print(myABCs[b]);                \r\n            }\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        return y;\r\n    }","title":"Simple way to repeat a string","body":"<p>Try this out:    </p>\n\n<pre><code>public static char[] myABCs = {'a', 'b', 'c'};\npublic static int numInput;\nstatic Scanner in = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    System.out.print(\"Enter Number of Times to repeat: \");\n    numInput = in.nextInt();\n    repeatArray(numInput);\n}\n\npublic static int repeatArray(int y) {\n    for (int a = 0; a &lt; y; a++) {\n        for (int b = 0; b &lt; myABCs.length; b++) {\n            System.out.print(myABCs[b]);                \n        }\n        System.out.print(\" \");\n    }\n    return y;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1299525,"reputation":1025,"user_id":1249740,"accept_rate":89,"display_name":"MinaHany"},"score":7,"creation_date":1481441652,"post_id":24946101,"comment_id":69373604,"body_markdown":"thank you! For android TextUtils.join() can be used instead of String.join()","body":"thank you! For android TextUtils.join() can be used instead of String.join()"},{"owner":{"account_id":6004916,"reputation":873,"user_id":4717152,"display_name":"Andreas M. Oberheim"},"score":2,"creation_date":1483697233,"post_id":24946101,"comment_id":70211810,"body_markdown":"Thank you for this answer. It&#39;s seems to be the cleanest way without using any external API oder utility method! very good!!","body":"Thank you for this answer. It&#39;s seems to be the cleanest way without using any external API oder utility method! very good!!"},{"owner":{"account_id":1080323,"reputation":8620,"user_id":1077485,"accept_rate":84,"display_name":"DroidOS"},"score":2,"creation_date":1539591028,"post_id":24946101,"comment_id":92542437,"body_markdown":"The nice thing about this method is that with join you can provide a separator character which works out to be very handy if you are, say, building up a CSV list. With all the other methods you have a terminating joining character that needs to be stripped out in a separate operation.","body":"The nice thing about this method is that with join you can provide a separator character which works out to be very handy if you are, say, building up a CSV list. With all the other methods you have a terminating joining character that needs to be stripped out in a separate operation."},{"owner":{"account_id":12173438,"reputation":1361,"user_id":8887313,"display_name":"ATOMP"},"score":0,"creation_date":1650831030,"post_id":24946101,"comment_id":127210061,"body_markdown":"this is a nice readable answer, but just for context (from a naive benchmark) it&#39;s 3-4x slower than just a for loop over a StringBuilder, i.e., `StringBuilder sb = new StringBuilder(); for (int i = 0; i &lt; 100; i++) { sb.append(&quot;hello&quot;); } return sb.toString();`","body":"this is a nice readable answer, but just for context (from a naive benchmark) it&#39;s 3-4x slower than just a for loop over a StringBuilder, i.e., <code>StringBuilder sb = new StringBuilder(); for (int i = 0; i &lt; 100; i++) { sb.append(&quot;hello&quot;); } return sb.toString();</code>"}],"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":4,"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1432230804,"creation_date":1406247473,"answer_id":24946101,"question_id":1235179,"body_markdown":"Java 8&#39;s [`String.join`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-) provides a tidy way to do this in conjunction with [`Collections.nCopies`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-):\r\n\r\n\t// say hello 100 times\r\n\tSystem.out.println(String.join(&quot;&quot;, Collections.nCopies(100, &quot;hello&quot;)));\r\n","title":"Simple way to repeat a string","body":"<p>Java 8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\"><code>String.join</code></a> provides a tidy way to do this in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-\"><code>Collections.nCopies</code></a>:</p>\n\n<pre><code>// say hello 100 times\nSystem.out.println(String.join(\"\", Collections.nCopies(100, \"hello\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2761067,"reputation":4435,"user_id":2377961,"accept_rate":25,"display_name":"Radon8472"},"score":2,"creation_date":1460020519,"post_id":26279577,"comment_id":60553895,"body_markdown":"Thats stupid for many repeats. I think nobody wants write &quot;str +&quot; hundred times.\nAnd the question asks for a function/method to repeat string automatically.","body":"Thats stupid for many repeats. I think nobody wants write &quot;str +&quot; hundred times. And the question asks for a function/method to repeat string automatically."},{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":1,"creation_date":1500563399,"post_id":26279577,"comment_id":77403617,"body_markdown":"That only works when *n* is an author-time constant.","body":"That only works when <i>n</i> is an author-time constant."}],"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"comment_count":2,"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1412861029,"creation_date":1412861029,"answer_id":26279577,"question_id":1235179,"body_markdown":"    repeated = str + str + str;\r\n\r\nSometimes simple is best.  Everyone reading the code can see what&#39;s happening.\r\n\r\nAnd the compiler will do the fancy stuff with [`StringBuilder`][1] behind the scenes for you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html","title":"Simple way to repeat a string","body":"<pre><code>repeated = str + str + str;\n</code></pre>\n\n<p>Sometimes simple is best.  Everyone reading the code can see what's happening.</p>\n\n<p>And the compiler will do the fancy stuff with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\"><code>StringBuilder</code></a> behind the scenes for you.</p>\n"},{"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":7,"creation_date":1444848803,"post_id":27690536,"comment_id":54078246,"body_markdown":"... or `return IntStream.range(0, times).mapToObj(i -&gt; str).collect(joining());` which parallelizes better","body":"... or <code>return IntStream.range(0, times).mapToObj(i -&gt; str).collect(joining());</code> which parallelizes better"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":1,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1423501801,"creation_date":1419862561,"answer_id":27690536,"question_id":1235179,"body_markdown":"With [tag:java-8], you can also use `Stream.generate`.\r\n\r\n    import static java.util.stream.Collectors.joining;\r\n    ...\r\n    String repeated = Stream.generate(() -&gt; &quot;abc&quot;).limit(3).collect(joining()); //&quot;abcabcabc&quot;\r\n\r\nand you can wrap it in a simple utility method if needed:\r\n\r\n    public static String repeat(String str, int times) {\r\n       return Stream.generate(() -&gt; str).limit(times).collect(joining());\r\n    }","title":"Simple way to repeat a string","body":"<p>With <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged 'java-8'\" rel=\"tag\">java-8</a>, you can also use <code>Stream.generate</code>.</p>\n\n<pre><code>import static java.util.stream.Collectors.joining;\n...\nString repeated = Stream.generate(() -&gt; \"abc\").limit(3).collect(joining()); //\"abcabcabc\"\n</code></pre>\n\n<p>and you can wrap it in a simple utility method if needed:</p>\n\n<pre><code>public static String repeat(String str, int times) {\n   return Stream.generate(() -&gt; str).limit(times).collect(joining());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6362904,"reputation":322,"user_id":6891471,"display_name":"Fering"},"score":0,"creation_date":1544190610,"post_id":30699840,"comment_id":94199032,"body_markdown":"This is the approach I would take but why do more checks than is needed? return number &gt; 0 ? string + repeat(string, number-1) : &quot;&quot;;","body":"This is the approach I would take but why do more checks than is needed? return number &gt; 0 ? string + repeat(string, number-1) : &quot;&quot;;"},{"owner":{"account_id":6362904,"reputation":322,"user_id":6891471,"display_name":"Fering"},"score":0,"creation_date":1544190750,"post_id":30699840,"comment_id":94199098,"body_markdown":"Oh, seems niczm25 answered with it below","body":"Oh, seems niczm25 answered with it below"},{"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"score":0,"creation_date":1544208561,"post_id":30699840,"comment_id":94208139,"body_markdown":"@Fering main reason so that this way is O(log N) average rather than O(N) always. Slightly more optimization than the other one, though still bad nevertheless.","body":"@Fering main reason so that this way is O(log N) average rather than O(N) always. Slightly more optimization than the other one, though still bad nevertheless."}],"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433723505,"creation_date":1433723505,"answer_id":30699840,"question_id":1235179,"body_markdown":"Using recursion, you can do the following (using ternary operators, one line max):\r\n\r\n    public static final String repeat(String string, long number) {\r\n        return number == 1 ? string : (number % 2 == 0 ? repeat(string + string, number / 2) : string + repeat(string + string, (number - 1) / 2));\r\n    }\r\n\r\nI know, it&#39;s ugly and probably not efficient, but it&#39;s one line!","title":"Simple way to repeat a string","body":"<p>Using recursion, you can do the following (using ternary operators, one line max):</p>\n\n<pre><code>public static final String repeat(String string, long number) {\n    return number == 1 ? string : (number % 2 == 0 ? repeat(string + string, number / 2) : string + repeat(string + string, (number - 1) / 2));\n}\n</code></pre>\n\n<p>I know, it's ugly and probably not efficient, but it's one line!</p>\n"},{"tags":[],"owner":{"account_id":2412824,"reputation":79,"user_id":2107549,"display_name":"Maciej Schuttkowski"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1438879701,"creation_date":1438879701,"answer_id":31861436,"question_id":1235179,"body_markdown":"&lt;h1&gt;OOP Solution&lt;/h1&gt;\r\nNearly every answer proposes a static function as a solution, but thinking Object-Oriented (for reusability-purposes and clarity) I came up with a Solution via Delegation through the CharSequence-Interface (which also opens up usability on mutable CharSequence-Classes).\r\n\r\nThe following Class can be used either with or without Separator-String/CharSequence and each call to &quot;toString()&quot; builds the final repeated String.\r\nThe Input/Separator are not only limited to String-Class, but can be every Class which implements CharSequence (e.g. StringBuilder, StringBuffer, etc)!\r\n\r\n&lt;h1&gt;Source-Code:&lt;/h1&gt;\r\n    /**\r\n     * Helper-Class for Repeating Strings and other CharSequence-Implementations\r\n     * @author Maciej Schuttkowski\r\n     */\r\n    public class RepeatingCharSequence implements CharSequence {\r\n\t    final int count;\r\n    \tCharSequence internalCharSeq = &quot;&quot;;\r\n\t    CharSequence separator = &quot;&quot;;\r\n    \t/**\r\n\t     * CONSTRUCTOR - RepeatingCharSequence\r\n    \t * @param input CharSequence to repeat\r\n\t     * @param count Repeat-Count\r\n\t     */\r\n    \tpublic RepeatingCharSequence(CharSequence input, int count) {\r\n\t    \tif(count &lt; 0)\r\n\t\t    \tthrow new IllegalArgumentException(&quot;Can not repeat String \\&quot;&quot;+input+&quot;\\&quot; less than 0 times! count=&quot;+count);\r\n    \t\tif(count &gt; 0)\r\n\t\t\t    internalCharSeq = input;\r\n\t\t    this.count = count;\r\n\t    }\r\n    \t/**\r\n    \t * CONSTRUCTOR - Strings.RepeatingCharSequence\r\n    \t * @param input CharSequence to repeat\r\n    \t * @param count Repeat-Count\r\n    \t * @param separator Separator-Sequence to use\r\n\t     */\r\n    \tpublic RepeatingCharSequence(CharSequence input, int count, CharSequence separator) {\r\n\t\t    this(input, count);\r\n\t    \tthis.separator = separator;\r\n    \t}\r\n\t\r\n\t    @Override\r\n    \tpublic CharSequence subSequence(int start, int end) {\r\n\t\t    checkBounds(start);\r\n\t    \tcheckBounds(end);\r\n    \t\tint subLen = end - start;\r\n\t\t    if (subLen &lt; 0) {\r\n\t    \t\tthrow new IndexOutOfBoundsException(&quot;Illegal subSequence-Length: &quot;+subLen);\r\n    \t\t}\r\n\t\t\treturn (start == 0 &amp;&amp; end == length()) ? this\r\n\t\t\t\t\t\t: toString().substring(start, subLen);\r\n\t    }\r\n    \t@Override\r\n\t    public int length() {\r\n\t\t\t//We return the total length of our CharSequences with the separator 1 time less than amount of repeats:\r\n\t\t\treturn count &lt; 1 ? 0\r\n\t\t\t\t\t: ( (internalCharSeq.length()*count) + (separator.length()*(count-1)));\r\n\t    }\r\n    \t@Override\r\n\t    public char charAt(int index) {\r\n    \t\tfinal int internalIndex = internalIndex(index);\r\n    \t\t//Delegate to Separator-CharSequence or Input-CharSequence depending on internal index:\r\n    \t\tif(internalIndex &gt; internalCharSeq.length()-1) {\r\n\t\t\t    return separator.charAt(internalIndex-internalCharSeq.length());\r\n\t\t    }\r\n\t    \treturn internalCharSeq.charAt(internalIndex);\r\n    \t}\r\n\t    @Override\r\n    \tpublic String toString() {\r\n\t\t\treturn count &lt; 1 ? &quot;&quot;\r\n\t\t\t\t\t: new StringBuilder(this).toString();\r\n\t    }\r\n\t\r\n    \tprivate void checkBounds(int index) {\r\n\t    \tif(index &lt; 0 || index &gt;= length())\r\n    \t\t\tthrow new IndexOutOfBoundsException(&quot;Index out of Bounds: &quot;+index);\r\n    \t}\r\n\t    private int internalIndex(int index) {\r\n    \t\t// We need to add 1 Separator-Length to total length before dividing,\r\n\t\t\t// as we subtracted one Separator-Length in &quot;length()&quot;\r\n\t\t    return index % ((length()+separator.length())/count);\r\n\t    }\r\n    }\r\n\r\n\r\n&lt;h1&gt;Usage-Example:&lt;/h1&gt;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//String input = &quot;12345&quot;;\r\n\t\t//StringBuffer input = new StringBuffer(&quot;12345&quot;);\r\n\t\tStringBuilder input = new StringBuilder(&quot;123&quot;);\r\n\t\t//String separator = &quot;&lt;=&gt;&quot;;\r\n\t\tStringBuilder separator = new StringBuilder(&quot;&lt;=&quot;);//.append(&#39;&gt;&#39;);\r\n\t\tint repeatCount = 2;\r\n\t\t\r\n\t\tCharSequence repSeq = new RepeatingCharSequence(input, repeatCount, separator);\r\n\t\tString repStr = repSeq.toString();\r\n\r\n\t\tSystem.out.println(&quot;Repeat=&quot;+repeatCount+&quot;\\tSeparator=&quot;+separator+&quot;\\tInput=&quot;+input+&quot;\\tLength=&quot;+input.length());\r\n\t\tSystem.out.println(&quot;CharSeq:\\tLength=&quot;+repSeq.length()+&quot;\\tVal=&quot;+repSeq);\r\n\t\tSystem.out.println(&quot;String :\\tLength=&quot;+repStr.length()+&quot;\\tVal=&quot;+repStr);\r\n\t\t\r\n\t\t//Here comes the Magic with a StringBuilder as Input, as you can append to the String-Builder\r\n\t\t//and at the same Time your Repeating-Sequence&#39;s toString()-Method returns the updated String :)\r\n\t\tinput.append(&quot;ff&quot;);\r\n\t\tSystem.out.println(repSeq);\r\n\t\t//Same can be done with the Separator:\r\n\t\tseparator.append(&quot;===&quot;).append(&#39;&gt;&#39;);\r\n\t\tSystem.out.println(repSeq);\r\n\t}\r\n\r\n&lt;h1&gt;Example-Output:&lt;/h1&gt;\r\n\r\n\tRepeat=2\tSeparator=&lt;=\tInput=123\tLength=3\r\n\tCharSeq:\tLength=8\tVal=123&lt;=123\r\n\tString :\tLength=8\tVal=123&lt;=123\r\n\t123ff&lt;=123ff\r\n\t123ff&lt;====&gt;123ff","title":"Simple way to repeat a string","body":"<h1>OOP Solution</h1>\n\n<p>Nearly every answer proposes a static function as a solution, but thinking Object-Oriented (for reusability-purposes and clarity) I came up with a Solution via Delegation through the CharSequence-Interface (which also opens up usability on mutable CharSequence-Classes).</p>\n\n<p>The following Class can be used either with or without Separator-String/CharSequence and each call to \"toString()\" builds the final repeated String.\nThe Input/Separator are not only limited to String-Class, but can be every Class which implements CharSequence (e.g. StringBuilder, StringBuffer, etc)!</p>\n\n<h1>Source-Code:</h1>\n\n<pre><code>/**\n * Helper-Class for Repeating Strings and other CharSequence-Implementations\n * @author Maciej Schuttkowski\n */\npublic class RepeatingCharSequence implements CharSequence {\n    final int count;\n    CharSequence internalCharSeq = \"\";\n    CharSequence separator = \"\";\n    /**\n     * CONSTRUCTOR - RepeatingCharSequence\n     * @param input CharSequence to repeat\n     * @param count Repeat-Count\n     */\n    public RepeatingCharSequence(CharSequence input, int count) {\n        if(count &lt; 0)\n            throw new IllegalArgumentException(\"Can not repeat String \\\"\"+input+\"\\\" less than 0 times! count=\"+count);\n        if(count &gt; 0)\n            internalCharSeq = input;\n        this.count = count;\n    }\n    /**\n     * CONSTRUCTOR - Strings.RepeatingCharSequence\n     * @param input CharSequence to repeat\n     * @param count Repeat-Count\n     * @param separator Separator-Sequence to use\n     */\n    public RepeatingCharSequence(CharSequence input, int count, CharSequence separator) {\n        this(input, count);\n        this.separator = separator;\n    }\n\n    @Override\n    public CharSequence subSequence(int start, int end) {\n        checkBounds(start);\n        checkBounds(end);\n        int subLen = end - start;\n        if (subLen &lt; 0) {\n            throw new IndexOutOfBoundsException(\"Illegal subSequence-Length: \"+subLen);\n        }\n        return (start == 0 &amp;&amp; end == length()) ? this\n                    : toString().substring(start, subLen);\n    }\n    @Override\n    public int length() {\n        //We return the total length of our CharSequences with the separator 1 time less than amount of repeats:\n        return count &lt; 1 ? 0\n                : ( (internalCharSeq.length()*count) + (separator.length()*(count-1)));\n    }\n    @Override\n    public char charAt(int index) {\n        final int internalIndex = internalIndex(index);\n        //Delegate to Separator-CharSequence or Input-CharSequence depending on internal index:\n        if(internalIndex &gt; internalCharSeq.length()-1) {\n            return separator.charAt(internalIndex-internalCharSeq.length());\n        }\n        return internalCharSeq.charAt(internalIndex);\n    }\n    @Override\n    public String toString() {\n        return count &lt; 1 ? \"\"\n                : new StringBuilder(this).toString();\n    }\n\n    private void checkBounds(int index) {\n        if(index &lt; 0 || index &gt;= length())\n            throw new IndexOutOfBoundsException(\"Index out of Bounds: \"+index);\n    }\n    private int internalIndex(int index) {\n        // We need to add 1 Separator-Length to total length before dividing,\n        // as we subtracted one Separator-Length in \"length()\"\n        return index % ((length()+separator.length())/count);\n    }\n}\n</code></pre>\n\n<h1>Usage-Example:</h1>\n\n<pre><code>public static void main(String[] args) {\n    //String input = \"12345\";\n    //StringBuffer input = new StringBuffer(\"12345\");\n    StringBuilder input = new StringBuilder(\"123\");\n    //String separator = \"&lt;=&gt;\";\n    StringBuilder separator = new StringBuilder(\"&lt;=\");//.append('&gt;');\n    int repeatCount = 2;\n\n    CharSequence repSeq = new RepeatingCharSequence(input, repeatCount, separator);\n    String repStr = repSeq.toString();\n\n    System.out.println(\"Repeat=\"+repeatCount+\"\\tSeparator=\"+separator+\"\\tInput=\"+input+\"\\tLength=\"+input.length());\n    System.out.println(\"CharSeq:\\tLength=\"+repSeq.length()+\"\\tVal=\"+repSeq);\n    System.out.println(\"String :\\tLength=\"+repStr.length()+\"\\tVal=\"+repStr);\n\n    //Here comes the Magic with a StringBuilder as Input, as you can append to the String-Builder\n    //and at the same Time your Repeating-Sequence's toString()-Method returns the updated String :)\n    input.append(\"ff\");\n    System.out.println(repSeq);\n    //Same can be done with the Separator:\n    separator.append(\"===\").append('&gt;');\n    System.out.println(repSeq);\n}\n</code></pre>\n\n<h1>Example-Output:</h1>\n\n<pre><code>Repeat=2    Separator=&lt;=    Input=123   Length=3\nCharSeq:    Length=8    Val=123&lt;=123\nString :    Length=8    Val=123&lt;=123\n123ff&lt;=123ff\n123ff&lt;====&gt;123ff\n</code></pre>\n"},{"comments":[{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1480550219,"post_id":34651237,"comment_id":69014561,"body_markdown":"Needless string reallocation, and recursion overhead... bad, bad, not good.","body":"Needless string reallocation, and recursion overhead... bad, bad, not good."},{"owner":{"account_id":1060062,"reputation":1639,"user_id":1061882,"display_name":"Svetlin Nakov"},"score":1,"creation_date":1509349855,"post_id":34651237,"comment_id":80966847,"body_markdown":"This will be slow. Not recommended! Use `StringBuilder` instead.","body":"This will be slow. Not recommended! Use <code>StringBuilder</code> instead."}],"tags":[],"owner":{"account_id":4006168,"reputation":179,"user_id":3300768,"display_name":"niczm25"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452158131,"creation_date":1452158131,"answer_id":34651237,"question_id":1235179,"body_markdown":"I created a recursive method that do the same thing you want.. feel free to use this...\r\n \r\n    \r\n    public String repeat(String str, int count) {\r\n    \treturn count &gt; 0 ?  repeat(str, count -1) + str: &quot;&quot;;\r\n    }\r\n\r\ni have the same answer on [Can I multiply strings in java to repeat sequences?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2255500/can-i-multiply-strings-in-java-to-repeat-sequences","title":"Simple way to repeat a string","body":"<p>I created a recursive method that do the same thing you want.. feel free to use this...</p>\n\n<pre><code>public String repeat(String str, int count) {\n    return count &gt; 0 ?  repeat(str, count -1) + str: \"\";\n}\n</code></pre>\n\n<p>i have the same answer on <a href=\"https://stackoverflow.com/questions/2255500/can-i-multiply-strings-in-java-to-repeat-sequences\">Can I multiply strings in java to repeat sequences?</a></p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474447214,"creation_date":1460927103,"answer_id":36682223,"question_id":1235179,"body_markdown":"for the sake of readability and portability:\r\n\r\n    public String repeat(String str, int count){\r\n        if(count &lt;= 0) {return &quot;&quot;;}\r\n\t\treturn new String(new char[count]).replace(&quot;\\0&quot;, str);\r\n\t}","title":"Simple way to repeat a string","body":"<p>for the sake of readability and portability:</p>\n\n<pre><code>public String repeat(String str, int count){\n    if(count &lt;= 0) {return \"\";}\n    return new String(new char[count]).replace(\"\\0\", str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1495150135,"creation_date":1495150135,"answer_id":44059249,"question_id":1235179,"body_markdown":"If speed is your concern, then you should use as less memory copying as possible. Thus it is required to work with arrays of chars.\r\n\r\n    public static String repeatString(String what, int howmany) {\r\n        char[] pattern = what.toCharArray();\r\n        char[] res = new char[howmany * pattern.length];\r\n        int length = pattern.length;\r\n        for (int i = 0; i &lt; howmany; i++)\r\n            System.arraycopy(pattern, 0, res, i * length, length);\r\n        return new String(res);\r\n    }\r\n\r\nTo test speed, a similar optimal method using StirngBuilder is like this:\r\n\r\n    public static String repeatStringSB(String what, int howmany) {\r\n        StringBuilder out = new StringBuilder(what.length() * howmany);\r\n        for (int i = 0; i &lt; howmany; i++)\r\n            out.append(what);\r\n        return out.toString();\r\n    }\r\n\r\nand the code to test it:\r\n\r\n    public static void main(String... args) {\r\n        String res;\r\n        long time;\r\n\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            res = repeatString(&quot;123&quot;, 100000);\r\n            res = repeatStringSB(&quot;123&quot;, 100000);\r\n        }\r\n\r\n        time = System.nanoTime();\r\n        res = repeatString(&quot;123&quot;, 1000000);\r\n        time = System.nanoTime() - time;\r\n        System.out.println(&quot;elapsed repeatString: &quot; + time);\r\n\r\n        time = System.nanoTime();\r\n        res = repeatStringSB(&quot;123&quot;, 1000000);\r\n        time = System.nanoTime() - time;\r\n        System.out.println(&quot;elapsed repeatStringSB: &quot; + time);\r\n\r\n    }\r\n\r\nAnd here the run results from my system:\r\n\r\n    elapsed repeatString: 6006571\r\n    elapsed repeatStringSB: 9064937\r\n\r\nNote that the test for loop is to kick in JIT and have optimal results.","title":"Simple way to repeat a string","body":"<p>If speed is your concern, then you should use as less memory copying as possible. Thus it is required to work with arrays of chars.</p>\n\n<pre><code>public static String repeatString(String what, int howmany) {\n    char[] pattern = what.toCharArray();\n    char[] res = new char[howmany * pattern.length];\n    int length = pattern.length;\n    for (int i = 0; i &lt; howmany; i++)\n        System.arraycopy(pattern, 0, res, i * length, length);\n    return new String(res);\n}\n</code></pre>\n\n<p>To test speed, a similar optimal method using StirngBuilder is like this:</p>\n\n<pre><code>public static String repeatStringSB(String what, int howmany) {\n    StringBuilder out = new StringBuilder(what.length() * howmany);\n    for (int i = 0; i &lt; howmany; i++)\n        out.append(what);\n    return out.toString();\n}\n</code></pre>\n\n<p>and the code to test it:</p>\n\n<pre><code>public static void main(String... args) {\n    String res;\n    long time;\n\n    for (int j = 0; j &lt; 1000; j++) {\n        res = repeatString(\"123\", 100000);\n        res = repeatStringSB(\"123\", 100000);\n    }\n\n    time = System.nanoTime();\n    res = repeatString(\"123\", 1000000);\n    time = System.nanoTime() - time;\n    System.out.println(\"elapsed repeatString: \" + time);\n\n    time = System.nanoTime();\n    res = repeatStringSB(\"123\", 1000000);\n    time = System.nanoTime() - time;\n    System.out.println(\"elapsed repeatStringSB: \" + time);\n\n}\n</code></pre>\n\n<p>And here the run results from my system:</p>\n\n<pre><code>elapsed repeatString: 6006571\nelapsed repeatStringSB: 9064937\n</code></pre>\n\n<p>Note that the test for loop is to kick in JIT and have optimal results.</p>\n"},{"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1507813127,"creation_date":1507813127,"answer_id":46710252,"question_id":1235179,"body_markdown":"Not the shortest, but *(i think)* the fastest way is to use the StringBuilder:\r\n\r\n     /**\r\n       * Repeat a String as many times you need.\r\n       *\r\n       * @param i - Number of Repeating the String.\r\n       * @param s - The String wich you want repeated.\r\n       * @return The string n - times.\r\n       */\r\n      public static String repeate(int i, String s) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int j = 0; j &lt; i; j++)\r\n          sb.append(s);\r\n        return sb.toString();\r\n      }","title":"Simple way to repeat a string","body":"<p>Not the shortest, but <em>(i think)</em> the fastest way is to use the StringBuilder:</p>\n\n<pre><code> /**\n   * Repeat a String as many times you need.\n   *\n   * @param i - Number of Repeating the String.\n   * @param s - The String wich you want repeated.\n   * @return The string n - times.\n   */\n  public static String repeate(int i, String s) {\n    StringBuilder sb = new StringBuilder();\n    for (int j = 0; j &lt; i; j++)\n      sb.append(s);\n    return sb.toString();\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":8,"creation_date":1525436860,"post_id":49065337,"comment_id":87366838,"body_markdown":"@Nicolai source code for it, just in case someone cares http://hg.openjdk.java.net/jdk/jdk/file/fc16b5f193c7/src/java.base/share/classes/java/lang/String.java#l2984","body":"@Nicolai source code for it, just in case someone cares <a href=\"http://hg.openjdk.java.net/jdk/jdk/file/fc16b5f193c7/src/java.base/share/classes/java/lang/String.java#l2984\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk/jdk/file/fc16b5f193c7/src/java.base/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":12,"creation_date":1532205537,"post_id":49065337,"comment_id":89889089,"body_markdown":"i have not even seen java *9* yet on the street (and will not for a *long* time..)  - and *11* is apparently set to ship..","body":"i have not even seen java <i>9</i> yet on the street (and will not for a <i>long</i> time..)  - and <i>11</i> is apparently set to ship.."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":5,"creation_date":1560995761,"post_id":49065337,"comment_id":99922617,"body_markdown":"Probably obvious, but you can call this method on a string literal too: `&quot;abc&quot;.repeat(3)`","body":"Probably obvious, but you can call this method on a string literal too: <code>&quot;abc&quot;.repeat(3)</code>"}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":3,"down_vote_count":2,"up_vote_count":397,"is_accepted":true,"score":395,"last_activity_date":1615287429,"creation_date":1519979461,"answer_id":49065337,"question_id":1235179,"body_markdown":"# `String::repeat`\r\n\r\n    &quot;. &quot;.repeat(7)  // Seven period-with-space pairs: . . . . . . . \r\n\r\n[New in Java 11](https://bugs.openjdk.java.net/browse/JDK-8197594) is the method [`String::repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)) that does exactly what you asked for:\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = str.repeat(3);\r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\nIts [Javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)) says:\r\n\r\n\r\n    /**\r\n     * Returns a string whose value is the concatenation of this\r\n     * string repeated {@code count} times.\r\n     * &lt;p&gt;\r\n     * If this string is empty or count is zero then the empty\r\n     * string is returned.\r\n     *\r\n     * @param count number of times to repeat\r\n     *\r\n     * @return A string composed of this string repeated\r\n     * {@code count} times or the empty string if this\r\n     * string is empty or count is zero\r\n     *\r\n     * @throws IllegalArgumentException if the {@code count} is\r\n     * negative.\r\n     *\r\n     * @since 11\r\n     */ ","title":"Simple way to repeat a string","body":"<h1><code>String::repeat</code></h1>\n<pre><code>&quot;. &quot;.repeat(7)  // Seven period-with-space pairs: . . . . . . . \n</code></pre>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8197594\" rel=\"noreferrer\">New in Java 11</a> is the method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\"><code>String::repeat</code></a> that does exactly what you asked for:</p>\n<pre><code>String str = &quot;abc&quot;;\nString repeated = str.repeat(3);\nrepeated.equals(&quot;abcabcabc&quot;);\n</code></pre>\n<p>Its <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"noreferrer\">Javadoc</a> says:</p>\n<pre><code>/**\n * Returns a string whose value is the concatenation of this\n * string repeated {@code count} times.\n * &lt;p&gt;\n * If this string is empty or count is zero then the empty\n * string is returned.\n *\n * @param count number of times to repeat\n *\n * @return A string composed of this string repeated\n * {@code count} times or the empty string if this\n * string is empty or count is zero\n *\n * @throws IllegalArgumentException if the {@code count} is\n * negative.\n *\n * @since 11\n */ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565366616,"creation_date":1565366616,"answer_id":57433699,"question_id":1235179,"body_markdown":" \r\n\r\n    public static String rep(int a,String k)\r\n    \r\n           {\r\n               if(a&lt;=0)\r\n                    return &quot;&quot;;\r\n               else \r\n               {a--;\r\n                   return k+rep(a,k);\r\n           }\r\n\r\nYou can use this recursive method for you desired goal.","title":"Simple way to repeat a string","body":"<pre><code>public static String rep(int a,String k)\n\n       {\n           if(a&lt;=0)\n                return \"\";\n           else \n           {a--;\n               return k+rep(a,k);\n       }\n</code></pre>\n\n<p>You can use this recursive method for you desired goal.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571939454,"creation_date":1571939454,"answer_id":58546732,"question_id":1235179,"body_markdown":"_a straightforward one-line solution:_&lt;br /&gt;\r\nrequires Java&amp;nbsp;8\r\n\r\n    Collections.nCopies( 3, &quot;abc&quot; ).stream().collect( Collectors.joining() );","title":"Simple way to repeat a string","body":"<p><em>a straightforward one-line solution:</em><br />\nrequires Java&nbsp;8</p>\n\n<pre><code>Collections.nCopies( 3, \"abc\" ).stream().collect( Collectors.joining() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1841986,"reputation":580,"user_id":1671221,"display_name":"Manikandan Periyasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587209967,"creation_date":1587209967,"answer_id":61288489,"question_id":1235179,"body_markdown":"Consolidated for quick reference:\r\n\r\n    public class StringRepeat {\r\n\r\n\t// Java 11 has built-in method - str.repeat(3);\r\n\t// Apache - StringUtils.repeat(3);\r\n\t// Google - Strings.repeat(&quot;&quot;,n);\r\n\t// System.arraycopy\r\n\r\n\tstatic String repeat_StringBuilderAppend(String str, int n) {\r\n\r\n\t\tif (str == null || str.isEmpty())\r\n\t\t\treturn str;\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tsb.append(str);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tstatic String repeat_ArraysFill(String str, int n) {\r\n\t\tString[] strs = new String[n];\r\n\t\tArrays.fill(strs, str);\r\n\t\treturn Arrays.toString(strs).replaceAll(&quot;\\\\[|\\\\]|,| &quot;, &quot;&quot;);\r\n\t}\r\n\r\n\tstatic String repeat_Recursion(String str, int n) {\r\n\t\tif (n &lt;= 0)\r\n\t\t\treturn &quot;&quot;;\r\n\t\telse\r\n\t\t\treturn str + repeat_Recursion(str, n - 1);\r\n\t}\r\n\r\n\tstatic String repeat_format1(String str, int n) {\r\n\t\treturn String.format(String.format(&quot;%%%ds&quot;, n), &quot; &quot;).replace(&quot; &quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_format2(String str, int n) {\r\n\t\treturn new String(new char[n]).replace(&quot;\\0&quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_format3(String str, int n) {\r\n\t\treturn String.format(&quot;%0&quot; + n + &quot;d&quot;, 0).replace(&quot;0&quot;, str);\r\n\t}\r\n\r\n\tstatic String repeat_join(String str, int n) {\r\n\t\treturn String.join(&quot;&quot;, Collections.nCopies(n, str));\r\n\t}\r\n\r\n\tstatic String repeat_stream(String str, int n) {\r\n\t\treturn Stream.generate(() -&gt; str).limit(n).collect(Collectors.joining());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(repeat_StringBuilderAppend(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_ArraysFill(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_Recursion(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format1(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format2(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_format3(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_join(&quot;Mani&quot;, 3));\r\n\t\tSystem.out.println(repeat_stream(&quot;Mani&quot;, 3));\r\n\r\n\t}\r\n}","title":"Simple way to repeat a string","body":"<p>Consolidated for quick reference:</p>\n\n<pre><code>public class StringRepeat {\n\n// Java 11 has built-in method - str.repeat(3);\n// Apache - StringUtils.repeat(3);\n// Google - Strings.repeat(\"\",n);\n// System.arraycopy\n\nstatic String repeat_StringBuilderAppend(String str, int n) {\n\n    if (str == null || str.isEmpty())\n        return str;\n\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; n; i++) {\n        sb.append(str);\n    }\n    return sb.toString();\n}\n\nstatic String repeat_ArraysFill(String str, int n) {\n    String[] strs = new String[n];\n    Arrays.fill(strs, str);\n    return Arrays.toString(strs).replaceAll(\"\\\\[|\\\\]|,| \", \"\");\n}\n\nstatic String repeat_Recursion(String str, int n) {\n    if (n &lt;= 0)\n        return \"\";\n    else\n        return str + repeat_Recursion(str, n - 1);\n}\n\nstatic String repeat_format1(String str, int n) {\n    return String.format(String.format(\"%%%ds\", n), \" \").replace(\" \", str);\n}\n\nstatic String repeat_format2(String str, int n) {\n    return new String(new char[n]).replace(\"\\0\", str);\n}\n\nstatic String repeat_format3(String str, int n) {\n    return String.format(\"%0\" + n + \"d\", 0).replace(\"0\", str);\n}\n\nstatic String repeat_join(String str, int n) {\n    return String.join(\"\", Collections.nCopies(n, str));\n}\n\nstatic String repeat_stream(String str, int n) {\n    return Stream.generate(() -&gt; str).limit(n).collect(Collectors.joining());\n}\n\npublic static void main(String[] args) {\n    System.out.println(repeat_StringBuilderAppend(\"Mani\", 3));\n    System.out.println(repeat_ArraysFill(\"Mani\", 3));\n    System.out.println(repeat_Recursion(\"Mani\", 3));\n    System.out.println(repeat_format1(\"Mani\", 3));\n    System.out.println(repeat_format2(\"Mani\", 3));\n    System.out.println(repeat_format3(\"Mani\", 3));\n    System.out.println(repeat_join(\"Mani\", 3));\n    System.out.println(repeat_stream(\"Mani\", 3));\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589829931,"creation_date":1589829414,"answer_id":61877322,"question_id":1235179,"body_markdown":"If you only know the **length** of the output string (and it may be not divisible by the length of the input string), then use this method:\r\n\r\n\tstatic String repeat(String s, int length) {\r\n\t\treturn s.length() &gt;= length ? s.substring(0, length) : repeat(s + s, length);\r\n\t}\r\n\r\nUsage demo:\r\n\r\n\tfor (int i = 0; i &lt; 50; i++)\r\n\t\tSystem.out.println(repeat(&quot;_/\\\\&quot;, i));\r\n\r\nDon&#39;t use with empty `s` and `length` &gt; 0, since it&#39;s impossible to get the desired result in this case.\r\n","title":"Simple way to repeat a string","body":"<p>If you only know the <strong>length</strong> of the output string (and it may be not divisible by the length of the input string), then use this method:</p>\n\n<pre><code>static String repeat(String s, int length) {\n    return s.length() &gt;= length ? s.substring(0, length) : repeat(s + s, length);\n}\n</code></pre>\n\n<p>Usage demo:</p>\n\n<pre><code>for (int i = 0; i &lt; 50; i++)\n    System.out.println(repeat(\"_/\\\\\", i));\n</code></pre>\n\n<p>Don't use with empty <code>s</code> and <code>length</code> > 0, since it's impossible to get the desired result in this case.</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695579393,"creation_date":1694121325,"answer_id":77062890,"question_id":1235179,"body_markdown":"Seeing a number of StringBuilder related answers, I believe it&#39;s also worth mentioning that there are new [`StringBuilder.repeat`][1] and [`StringBuffer.repeat`][2] methods added in Java 21 to simplify the appending of multiple copies of *characters* or *strings*:\r\n```\r\nSystem.out.println(new StringBuilder().repeat(&#39;A&#39;, 10)); // AAAAAAAAAA\r\n\r\nSystem.out.println(new StringBuilder().repeat(&quot;A1&quot;, 2)); // A1A1\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#repeat(java.lang.CharSequence,int)\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuffer.html#repeat(java.lang.CharSequence,int)","title":"Simple way to repeat a string","body":"<p>Seeing a number of StringBuilder related answers, I believe it's also worth mentioning that there are new <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#repeat(java.lang.CharSequence,int)\" rel=\"nofollow noreferrer\"><code>StringBuilder.repeat</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuffer.html#repeat(java.lang.CharSequence,int)\" rel=\"nofollow noreferrer\"><code>StringBuffer.repeat</code></a> methods added in Java 21 to simplify the appending of multiple copies of <em>characters</em> or <em>strings</em>:</p>\n<pre><code>System.out.println(new StringBuilder().repeat('A', 10)); // AAAAAAAAAA\n\nSystem.out.println(new StringBuilder().repeat(&quot;A1&quot;, 2)); // A1A1\n</code></pre>\n"}],"owner":{"account_id":28001,"reputation":16459,"user_id":74359,"accept_rate":100,"display_name":"Ethan Heilman"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790167,"favorite_count":0,"down_vote_count":6,"up_vote_count":789,"accepted_answer_id":49065337,"answer_count":33,"score":783,"last_activity_date":1695579393,"creation_date":1249499678,"question_id":1235179,"body_markdown":"I&#39;m looking for a simple commons method or operator that allows me to repeat some string *n* times. I know I could write this using a for loop, but I wish to avoid for loops whenever necessary and a simple direct method should exist somewhere.\r\n\r\n    String str = &quot;abc&quot;;\r\n    String repeated = str.repeat(3);\r\n    \r\n    repeated.equals(&quot;abcabcabc&quot;);\r\n\r\n**Related to:**\r\n\r\n[repeat string javascript][1] \r\n[Create NSString by repeating another string a given number of times][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/202605/repeat-string-javascript\r\n  [2]: https://stackoverflow.com/questions/260945/create-nsstring-by-repeating-another-string-a-given-number-of-times\r\n\r\n**Edited**\r\n\r\nI try to avoid for loops when they are not completely necessary because:\r\n\r\n1. They add to the number of lines of code even if they are tucked away in another function.\r\n\r\n2. Someone reading my code has to figure out what I am doing in that for loop. Even if it is commented and has meaningful variables names, they still have to make sure it is not doing anything &quot;clever&quot;.\r\n\r\n3. Programmers love to put clever things in for loops, even if I write it to &quot;only do what it is intended to do&quot;, that does not preclude someone coming along and adding some additional clever &quot;fix&quot;.\r\n\r\n3. They are very often easy to get wrong. For loops involving indexes tend to generate off by one bugs.\r\n\r\n4. For loops often reuse the same variables, increasing the chance of really hard to find scoping bugs.\r\n\r\n5. For loops increase the number of places a bug hunter has to look.\r\n","title":"Simple way to repeat a string","body":"<p>I'm looking for a simple commons method or operator that allows me to repeat some string <em>n</em> times. I know I could write this using a for loop, but I wish to avoid for loops whenever necessary and a simple direct method should exist somewhere.</p>\n<pre><code>String str = &quot;abc&quot;;\nString repeated = str.repeat(3);\n\nrepeated.equals(&quot;abcabcabc&quot;);\n</code></pre>\n<p><strong>Related to:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/202605/repeat-string-javascript\">repeat string javascript</a>\n<a href=\"https://stackoverflow.com/questions/260945/create-nsstring-by-repeating-another-string-a-given-number-of-times\">Create NSString by repeating another string a given number of times</a></p>\n<p><strong>Edited</strong></p>\n<p>I try to avoid for loops when they are not completely necessary because:</p>\n<ol>\n<li><p>They add to the number of lines of code even if they are tucked away in another function.</p>\n</li>\n<li><p>Someone reading my code has to figure out what I am doing in that for loop. Even if it is commented and has meaningful variables names, they still have to make sure it is not doing anything &quot;clever&quot;.</p>\n</li>\n<li><p>Programmers love to put clever things in for loops, even if I write it to &quot;only do what it is intended to do&quot;, that does not preclude someone coming along and adding some additional clever &quot;fix&quot;.</p>\n</li>\n<li><p>They are very often easy to get wrong. For loops involving indexes tend to generate off by one bugs.</p>\n</li>\n<li><p>For loops often reuse the same variables, increasing the chance of really hard to find scoping bugs.</p>\n</li>\n<li><p>For loops increase the number of places a bug hunter has to look.</p>\n</li>\n</ol>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":2,"creation_date":1299100910,"post_id":5173614,"comment_id":5811360,"body_markdown":"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html","body":"<a href=\"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\" rel=\"nofollow noreferrer\">jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.ht&zwnj;&#8203;ml</a>"}],"answers":[{"comments":[{"owner":{"account_id":37982,"reputation":65378,"user_id":108796,"accept_rate":64,"display_name":"Blindy"},"score":2,"creation_date":1299101175,"post_id":5173642,"comment_id":5811441,"body_markdown":"I don&#39;t think that the elements being volatile is the same as the elements&#39; access being atomic.","body":"I don&#39;t think that the elements being volatile is the same as the elements&#39; access being atomic."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":1,"creation_date":1376045751,"post_id":5173642,"comment_id":26575118,"body_markdown":"You&#39;re right, `volatile` is about guaranteeing the happens-before relationship.","body":"You&#39;re right, <code>volatile</code> is about guaranteeing the happens-before relationship."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":3,"creation_date":1572144413,"post_id":5173642,"comment_id":103468272,"body_markdown":"I really don&#39;t think this is a solution to the problem. The issue is (in part, as far as I understand) cache coherency, as well as the almost total lack of strong memory ordering semantics in the definition of the bytecode system and the JVM itself. Rewriting the array reference will not guarantee you are coherently flushing whichever array elements you wrote to cache or memory, so that all threads have the same view of the elements.","body":"I really don&#39;t think this is a solution to the problem. The issue is (in part, as far as I understand) cache coherency, as well as the almost total lack of strong memory ordering semantics in the definition of the bytecode system and the JVM itself. Rewriting the array reference will not guarantee you are coherently flushing whichever array elements you wrote to cache or memory, so that all threads have the same view of the elements."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1655413888,"post_id":5173642,"comment_id":128333390,"body_markdown":"@LukeHutchison Actually I think it is possibly correct to do this (though really unelegant). I would rather cioy the volatile array field to a private variable every time though  (privArr = volatileArr; then do something with privArr).  Any volatile access ensures happens-before ordering of all other accesses. Howevr, what you will not get with this hack is atomic updates.","body":"@LukeHutchison Actually I think it is possibly correct to do this (though really unelegant). I would rather cioy the volatile array field to a private variable every time though  (privArr = volatileArr; then do something with privArr).  Any volatile access ensures happens-before ordering of all other accesses. Howevr, what you will not get with this hack is atomic updates."}],"tags":[],"owner":{"account_id":316400,"reputation":1793,"user_id":632568,"accept_rate":86,"display_name":"nicolaas"},"comment_count":4,"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1563869936,"creation_date":1299100889,"answer_id":5173642,"question_id":5173614,"body_markdown":"Declaring an array volatile does **not** give volatile access to its fields. You&#39;re declaring the reference itself volatile, not its elements.  \r\nIn other words, you&#39;re declaring a **volatile set** of elements, not a **set of volatile elements**.\r\n\r\nThe solution here is to use `AtomicIntegerArray` in case you want to use integers. Another way (but kinda ugly) is to rewrite the reference to the array every time you edit a field. \r\n\r\nYou do that by:\r\n\r\n    arr = arr; \r\n\r\n(as I said... ugly)","title":"Java volatile array?","body":"<p>Declaring an array volatile does <strong>not</strong> give volatile access to its fields. You're declaring the reference itself volatile, not its elements.<br>\nIn other words, you're declaring a <strong>volatile set</strong> of elements, not a <strong>set of volatile elements</strong>.</p>\n\n<p>The solution here is to use <code>AtomicIntegerArray</code> in case you want to use integers. Another way (but kinda ugly) is to rewrite the reference to the array every time you edit a field. </p>\n\n<p>You do that by:</p>\n\n<pre><code>arr = arr; \n</code></pre>\n\n<p>(as I said... ugly)</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1299101736,"creation_date":1299101736,"answer_id":5173805,"question_id":5173614,"body_markdown":"AtomicLongArray, AtomicIntegerArray, AtomicReferenceArray (java.util.concurrent.atomic).","title":"Java volatile array?","body":"<p>AtomicLongArray, AtomicIntegerArray, AtomicReferenceArray (java.util.concurrent.atomic).</p>\n"},{"tags":[],"owner":{"account_id":5621250,"reputation":521,"user_id":4451012,"display_name":"markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1616944703,"creation_date":1503499684,"answer_id":45842998,"question_id":5173614,"body_markdown":"EDIT:\r\nArrays are objects in java. If you make the reference to that object volatile, makes it visible to other threads if you exchange the reference to the array.\r\nHowever this does not hold for the array values themselves.\r\n\r\nGetting a better understanding of the java memory model, there is actually a possibility to get around it without an Atomic*Array. Using the happened-before relationship for volatile reads and normal writes makes it possible:\r\n\r\nIf thread A writes some non-volatile stuff and a volatile variable *after* that, thread B is guaranteed to see the changes of the non-volatile stuff as well, but only if thread B reads the volatile variable first.\r\nsee also:\r\nhttps://stackoverflow.com/questions/17108541/happens-before-relationships-with-volatile-fields-and-synchronized-blocks-in-jav\r\n\r\nFor arrays, this means:\r\nAfter you write to the array, write to some volatile status variable (make sure the write actually changes the volatile status variable!)\r\nWhen you read from the array, read the volatile status variable first, and then access the array. \r\nThe volatile read should make all other writes visible as well, as long as they happened before.\r\n\r\n\r\nOLD:\r\nwriting the self reference &lt;code&gt;arr=arr&lt;/code&gt; wouldn&#39;t actually help.\r\n\r\nYou write the address of the array &lt;code&gt;arr&lt;/code&gt;, not the value of the field &lt;code&gt;arr[i]&lt;/code&gt;. So you still gain no volatile properties for &lt;code&gt;arr[i]&lt;/code&gt; (which you want), but only for the storage address &lt;code&gt;arr&lt;/code&gt;. \r\n\r\nThe previously mentioned blogpost of Jeremy Manson explains it in detail:\r\nhttp://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\r\n\r\nHis best solution is to use Atomic*Arrays, namely the AtomicReferenceArray for generic types (there also exist special forms for basic types). I can&#39;t imagine that this is particularly efficient, especially as it gains you more properties that you need (atomicity &gt;&gt; volatile).\r\n\r\nAn alternative may be pointered structures where the containers use volatile pointer fields. Also not that efficient ...\r\n","title":"Java volatile array?","body":"<p>EDIT:\nArrays are objects in java. If you make the reference to that object volatile, makes it visible to other threads if you exchange the reference to the array.\nHowever this does not hold for the array values themselves.</p>\n<p>Getting a better understanding of the java memory model, there is actually a possibility to get around it without an Atomic*Array. Using the happened-before relationship for volatile reads and normal writes makes it possible:</p>\n<p>If thread A writes some non-volatile stuff and a volatile variable <em>after</em> that, thread B is guaranteed to see the changes of the non-volatile stuff as well, but only if thread B reads the volatile variable first.\nsee also:\n<a href=\"https://stackoverflow.com/questions/17108541/happens-before-relationships-with-volatile-fields-and-synchronized-blocks-in-jav\">Happens-before relationships with volatile fields and synchronized blocks in Java - and their impact on non-volatile variables?</a></p>\n<p>For arrays, this means:\nAfter you write to the array, write to some volatile status variable (make sure the write actually changes the volatile status variable!)\nWhen you read from the array, read the volatile status variable first, and then access the array.\nThe volatile read should make all other writes visible as well, as long as they happened before.</p>\n<p>OLD:\nwriting the self reference <code>arr=arr</code> wouldn't actually help.</p>\n<p>You write the address of the array <code>arr</code>, not the value of the field <code>arr[i]</code>. So you still gain no volatile properties for <code>arr[i]</code> (which you want), but only for the storage address <code>arr</code>.</p>\n<p>The previously mentioned blogpost of Jeremy Manson explains it in detail:\n<a href=\"http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html\" rel=\"noreferrer\">http://jeremymanson.blogspot.com/2009/06/volatile-arrays-in-java.html</a></p>\n<p>His best solution is to use Atomic*Arrays, namely the AtomicReferenceArray for generic types (there also exist special forms for basic types). I can't imagine that this is particularly efficient, especially as it gains you more properties that you need (atomicity &gt;&gt; volatile).</p>\n<p>An alternative may be pointered structures where the containers use volatile pointer fields. Also not that efficient ...</p>\n"},{"comments":[{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1573482328,"post_id":55019734,"comment_id":103886319,"body_markdown":"Interesting idea.","body":"Interesting idea."}],"tags":[],"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551864836,"creation_date":1551864836,"answer_id":55019734,"question_id":5173614,"body_markdown":"How about this:\r\n\r\n    static class Cell&lt;T&gt; {\r\n            volatile T elem;\r\n        }\r\n    \r\n    private Cell&lt;T&gt;[] alloc(int size){\r\n            Cell&lt;T&gt;[] cells = (Cell&lt;T&gt;[]) (new Cell[size]);\r\n            return cells;\r\n        }\r\n    \r\n     volatile Cell&lt;T&gt;[] arr;\r\n     Cell&lt;T&gt;[] newarr = alloc(16);\r\n     for (int i = 0; i &lt; newarr.length; i++) {\r\n          newarr[i] = new Cell&lt;&gt;();\r\n     }\r\n     arr = newarr;\r\n        \r\n\r\nthe cells make the content volatile too. also I assign the new array to the volatile one only after pre allocating the cells... there&#39;s the trade off of the Cell extra memory, but it&#39;s manageable","title":"Java volatile array?","body":"<p>How about this:</p>\n\n<pre><code>static class Cell&lt;T&gt; {\n        volatile T elem;\n    }\n\nprivate Cell&lt;T&gt;[] alloc(int size){\n        Cell&lt;T&gt;[] cells = (Cell&lt;T&gt;[]) (new Cell[size]);\n        return cells;\n    }\n\n volatile Cell&lt;T&gt;[] arr;\n Cell&lt;T&gt;[] newarr = alloc(16);\n for (int i = 0; i &lt; newarr.length; i++) {\n      newarr[i] = new Cell&lt;&gt;();\n }\n arr = newarr;\n</code></pre>\n\n<p>the cells make the content volatile too. also I assign the new array to the volatile one only after pre allocating the cells... there's the trade off of the Cell extra memory, but it's manageable</p>\n"},{"tags":[],"owner":{"account_id":4576229,"reputation":1231,"user_id":3714601,"accept_rate":43,"display_name":"user3714601"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695579185,"creation_date":1695579185,"answer_id":77168373,"question_id":5173614,"body_markdown":"Java9 introduced a generic approach to deal with volatile arrays: [VarHandle][1], allowing atomic operations on any type of array.\r\n\r\nHere is a self-descriptive example from the doc:\r\n\r\n    String[] sa = ...\r\n    VarHandle avh = MethodHandles.arrayElementVarHandle(String[].class);\r\n    boolean r = avh.compareAndSet(sa, 10, &quot;expected&quot;, &quot;new&quot;);\r\n\r\nMight worth to note as well, that atomic types from &quot;concurrent&quot; package (like AtomicInteger, AtomicIntegerArray, AtomicReference, etc.) since Java9 are using VarHandle instead of Unsafe to implement platform-dependent operations like &quot;CompareAndSet&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html","title":"Java volatile array?","body":"<p>Java9 introduced a generic approach to deal with volatile arrays: <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html\" rel=\"nofollow noreferrer\">VarHandle</a>, allowing atomic operations on any type of array.</p>\n<p>Here is a self-descriptive example from the doc:</p>\n<pre><code>String[] sa = ...\nVarHandle avh = MethodHandles.arrayElementVarHandle(String[].class);\nboolean r = avh.compareAndSet(sa, 10, &quot;expected&quot;, &quot;new&quot;);\n</code></pre>\n<p>Might worth to note as well, that atomic types from &quot;concurrent&quot; package (like AtomicInteger, AtomicIntegerArray, AtomicReference, etc.) since Java9 are using VarHandle instead of Unsafe to implement platform-dependent operations like &quot;CompareAndSet&quot;.</p>\n"}],"owner":{"account_id":716297,"reputation":535,"user_id":641975,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12365,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":5173642,"answer_count":5,"score":26,"last_activity_date":1695579185,"creation_date":1299100744,"question_id":5173614,"body_markdown":"How do I make an array volatile? Because as I&#39;ve come to understand, it&#39;s unsafe to make an array volatile?","title":"Java volatile array?","body":"<p>How do I make an array volatile? Because as I've come to understand, it's unsafe to make an array volatile?</p>\n"},{"tags":["java","spring-boot","spring-cache","ehcache-3","spring-boot-3"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695578587,"creation_date":1695578587,"answer_id":77168332,"question_id":77163129,"body_markdown":"Spring integrates with the EHCache3 through the JSR-107 JCache API which I quote from [this][1] :\r\n\r\n&gt; Ehcache 3.x is fully JSR-107 compliant and no dedicated support is required for it. See JSR-107 Cache for details.\r\n\r\nIn term of springboot , you can customize the underlying \r\n `javax.cache.CacheManager` by defining a `JCacheManagerCustomizer` bean. In this customiser , you can then refer to this Ehcache3 [documentation][2] for how to configure `javax.cache.cacheManager` using Ehcache configuration. \r\n\r\n\r\nSo for your the cache configuration you shown , you should define the following `JCacheManagerCustomizer` bean instead : \r\n\r\n``` java\r\n@Bean\r\npublic JCacheManagerCustomizer jCacheManagerCustomizer() {\r\n    return jcacheManager -&gt; {\r\n        CacheConfiguration&lt;Integer, Double&gt; ehCacheConfig = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\r\n                        .heap(100)\r\n                        .offheap(10, MemoryUnit.MB))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\r\n                .build();\r\n\r\n       jcacheManager.createCache(&quot;demoCache&quot;,\r\n                Eh107Configuration.fromEhcacheCacheConfiguration(ehCacheConfig));\r\n    };\r\n}\r\n```\r\n\r\nwhich cache the result of the following method :\r\n\r\n``` java\r\n@Cacheable(value = &quot;demoCache&quot;)\r\npublic double demo(Integer int) {\r\n       return 52;\r\n }\r\n```\r\n\r\n*Note: I modify your demo function argument type a bit for better demonstrate my solution &#39;s idea.* \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/integration/cache/store-configuration.html#cache-store-configuration-eviction\r\n  [2]: https://www.ehcache.org/documentation/3.3/107.html#cache-level-configuration","title":"EHCache 3 not able to enable caching. Getting exception if I used configuration without xml","body":"<p>Spring integrates with the EHCache3 through the JSR-107 JCache API which I quote from <a href=\"https://docs.spring.io/spring-framework/reference/integration/cache/store-configuration.html#cache-store-configuration-eviction\" rel=\"nofollow noreferrer\">this</a> :</p>\n<blockquote>\n<p>Ehcache 3.x is fully JSR-107 compliant and no dedicated support is required for it. See JSR-107 Cache for details.</p>\n</blockquote>\n<p>In term of springboot , you can customize the underlying\n<code>javax.cache.CacheManager</code> by defining a <code>JCacheManagerCustomizer</code> bean. In this customiser , you can then refer to this Ehcache3 <a href=\"https://www.ehcache.org/documentation/3.3/107.html#cache-level-configuration\" rel=\"nofollow noreferrer\">documentation</a> for how to configure <code>javax.cache.cacheManager</code> using Ehcache configuration.</p>\n<p>So for your the cache configuration you shown , you should define the following <code>JCacheManagerCustomizer</code> bean instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JCacheManagerCustomizer jCacheManagerCustomizer() {\n    return jcacheManager -&gt; {\n        CacheConfiguration&lt;Integer, Double&gt; ehCacheConfig = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\n                        .heap(100)\n                        .offheap(10, MemoryUnit.MB))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\n                .build();\n\n       jcacheManager.createCache(&quot;demoCache&quot;,\n                Eh107Configuration.fromEhcacheCacheConfiguration(ehCacheConfig));\n    };\n}\n</code></pre>\n<p>which cache the result of the following method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = &quot;demoCache&quot;)\npublic double demo(Integer int) {\n       return 52;\n }\n</code></pre>\n<p><em>Note: I modify your demo function argument type a bit for better demonstrate my solution 's idea.</em></p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695578786,"creation_date":1695473674,"question_id":77163129,"body_markdown":"I am trying to implement EHCache 3 with spring boot 3 without xml configuration. I did below configuration for EHCache 3\r\n\r\n        @Bean\r\n    \tpublic CacheManager getCacheManager() {\r\n    \t\tCacheManager cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build(true);\r\n    \t\tCacheConfiguration&lt;Integer, Double&gt; configuration = CacheConfigurationBuilder\r\n    \t\t\t\t.newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\r\n    \t\t\t\t\t\t.heap(100)\r\n    \t\t\t\t\t\t.offheap(10, MemoryUnit.MB))\r\n    \t\t\t\t.withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\t Cache&lt;Integer, Double&gt; cache = cacheManager.createCache(&quot;demoCache&quot;, configuration);\r\n    \t\t \r\n    \t\t cache.put(1, 7d);\r\n    \t      Double value = cache.get(1);\r\n    \t      \r\n    \t      System.out.println(&quot;Cachce value::&quot;+value);\r\n    \r\n    //\t\t String vaule = cache.get(&quot;pow_cache&quot;);\r\n    \r\n    \t\t return cacheManager;\r\n    \t}\r\n\r\nFrom service side method call is below\r\n\r\n   \r\n\r\n    @Cacheable(value = &quot;demoCache&quot;)\r\n    \tpublic double demo() {\r\n    \t\treturn 52;\r\n    \t}\r\n\r\nIf try to call this service getting below exception\r\n\r\n\r\n    java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public double com.jts.ehcach.service.CalculationService.demo()] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n    \tat org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:270) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.&lt;init&gt;(CacheAspectSupport.java:775) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:283) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.&lt;init&gt;(CacheAspectSupport.java:666) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:363) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat com.jts.ehcach.service.CalculationService$$SpringCGLIB$$0.demo(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.jts.ehcach.controller.CalculationRestController.areaOfCircle(CalculationRestController.java:26) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:918) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\r\n    \tat jakarta.servlet.http.HttpServlet\r\n\r\n\r\nNot able to understand why I am getting this not found caching name. Can someone please help me on this? \r\n\r\n","title":"EHCache 3 not able to enable caching. Getting exception if I used configuration without xml","body":"<p>I am trying to implement EHCache 3 with spring boot 3 without xml configuration. I did below configuration for EHCache 3</p>\n<pre><code>    @Bean\n    public CacheManager getCacheManager() {\n        CacheManager cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build(true);\n        CacheConfiguration&lt;Integer, Double&gt; configuration = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(Integer.class, Double.class, ResourcePoolsBuilder\n                        .heap(100)\n                        .offheap(10, MemoryUnit.MB))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(10)))\n                .build();\n        \n         Cache&lt;Integer, Double&gt; cache = cacheManager.createCache(&quot;demoCache&quot;, configuration);\n         \n         cache.put(1, 7d);\n          Double value = cache.get(1);\n          \n          System.out.println(&quot;Cachce value::&quot;+value);\n\n//       String vaule = cache.get(&quot;pow_cache&quot;);\n\n         return cacheManager;\n    }\n</code></pre>\n<p>From service side method call is below</p>\n<pre><code>@Cacheable(value = &quot;demoCache&quot;)\n    public double demo() {\n        return 52;\n    }\n</code></pre>\n<p>If try to call this service getting below exception</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot find cache named 'demoCache' for Builder[public double com.jts.ehcach.service.CalculationService.demo()] caches=[demoCache] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n    at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:270) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.&lt;init&gt;(CacheAspectSupport.java:775) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:283) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.&lt;init&gt;(CacheAspectSupport.java:666) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:363) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.0-M5.jar:6.1.0-M5]\n    at com.jts.ehcach.service.CalculationService$$SpringCGLIB$$0.demo(&lt;generated&gt;) ~[classes/:na]\n    at com.jts.ehcach.controller.CalculationRestController.areaOfCircle(CalculationRestController.java:26) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:918) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M5.jar:6.1.0-M5]\n    at jakarta.servlet.http.HttpServlet\n</code></pre>\n<p>Not able to understand why I am getting this not found caching name. Can someone please help me on this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":6,"creation_date":1531257233,"post_id":51273951,"comment_id":89526127,"body_markdown":"Regardless of operator precedence, expressions are evaluated from left to right.","body":"Regardless of operator precedence, expressions are evaluated from left to right."},{"owner":{"account_id":2510288,"reputation":413,"user_id":2182934,"accept_rate":90,"display_name":"krishna"},"score":0,"creation_date":1531257547,"post_id":51273951,"comment_id":89526258,"body_markdown":"@BoristheSpider Okay. How I should demonstrate associativity of ++ and -- is right to left.","body":"@BoristheSpider Okay. How I should demonstrate associativity of ++ and -- is right to left."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1531257676,"post_id":51273951,"comment_id":89526315,"body_markdown":"@krishna they are unary operators; they don&#39;t have left or right associativity.","body":"@krishna they are unary operators; they don&#39;t have left or right associativity."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1531257911,"post_id":51273951,"comment_id":89526398,"body_markdown":"Can you clarify what you mean by &quot;has associativity right to left&quot; in your question?  I can&#39;t tell what this would mean for `++` and `--`.  In this example, you get the results that you do because the addends are evaluated left to right - that is, `++i` is evaluated _before_ `--i` on the `x` line, and `i++` is evaluated _before_ `i--` on the `y` line.","body":"Can you clarify what you mean by &quot;has associativity right to left&quot; in your question?  I can&#39;t tell what this would mean for <code>++</code> and <code>--</code>.  In this example, you get the results that you do because the addends are evaluated left to right - that is, <code>++i</code> is evaluated <i>before</i> <code>--i</code> on the <code>x</code> line, and <code>i++</code> is evaluated <i>before</i> <code>i--</code> on the <code>y</code> line."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1531257992,"post_id":51273951,"comment_id":89526432,"body_markdown":"Note that `++i + i--` would be 12, and `i++ + --i` would be 10.","body":"Note that <code>++i + i--</code> would be 12, and <code>i++ + --i</code> would be 10."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1531258220,"post_id":51273951,"comment_id":89526514,"body_markdown":"And `i+++++i` will result in a compilation error, while [`int i = 4; System.out.println(i++ + ++i);` will print `10`](https://ideone.com/EiSor5).","body":"And <code>i+++++i</code> will result in a compilation error, while <a href=\"https://ideone.com/EiSor5\" rel=\"nofollow noreferrer\"><code>int i = 4; System.out.println(i++ + ++i);</code> will print <code>10</code></a>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1531258509,"post_id":51273951,"comment_id":89526621,"body_markdown":"The fundamental issue is that the statement _&quot;Operator precedence of ++ and -- is higher ...&quot;_ ignores the fact that there are TWO `++` and TWO `--` operators with very different semantics.  In addition, the postfix versions have higher precedence than the unary versions.","body":"The fundamental issue is that the statement <i>&quot;Operator precedence of ++ and -- is higher ...&quot;</i> ignores the fact that there are TWO <code>++</code> and TWO <code>--</code> operators with very different semantics.  In addition, the postfix versions have higher precedence than the unary versions."}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1531258594,"post_id":51274206,"comment_id":89526661,"body_markdown":"`java` != `javascript`","body":"<code>java</code> != <code>javascript</code>"},{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1531260347,"post_id":51274206,"comment_id":89527267,"body_markdown":"Yup :-). Corrected to Java version of answer.","body":"Yup :-). Corrected to Java version of answer."}],"tags":[],"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531260306,"creation_date":1531258450,"answer_id":51274206,"question_id":51273951,"body_markdown":"Associativity dictates how operators with the [same precedence](https://introcs.cs.princeton.edu/java/11precedence/) are parsed.\r\n\r\nFor example, the Unary Minus (`- ...`) and Unary Bitwise NOT (`~ ...`) operators have the same precedence and have `right-to-left` associativity. Therefore:\r\n\r\n    int i = ~-1; // == 0\r\n    int j = -~1; // == 2","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Associativity dictates how operators with the <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">same precedence</a> are parsed.</p>\n\n<p>For example, the Unary Minus (<code>- ...</code>) and Unary Bitwise NOT (<code>~ ...</code>) operators have the same precedence and have <code>right-to-left</code> associativity. Therefore:</p>\n\n<pre><code>int i = ~-1; // == 0\nint j = -~1; // == 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531258583,"creation_date":1531258583,"answer_id":51274243,"question_id":51273951,"body_markdown":"[Section 15.7 of the JLS][1] is clear on this:\n\n&gt; The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.\n&gt;\n&gt; _It is recommended that code not rely crucially on this specification. Code is usually clearer when each expression contains at most one side effect, as its outermost operation, and when code does not depend on exactly which exception arises as a consequence of the left-to-right evaluation of expressions._\n\nWhenever assignment operators and other binary operators are mixed in with increment or decrement operators, evaluating the expression is _not_ intuitive, and one should never write such confusing code.\n\nEven if the increment and decrement unary operators are right-to-left associative, the values of an expression are evaluated left-to-right.\n\n    int x = ++i + --i;\n\nHere, `++i` increments `i` to `6` and returns `6`, then `--i` decrements `i` to `5` and returns `5`, and the sum of 6 and 5 is 11.\n\n    int y = i++ + i--;\n\nHere, `i++` returns `5` and increments `i` to `6`, then `i--` returns `6` and decrements `i` to `5`, and the sum of 5 and 6 is 11.\n\nWith these expressions, the right-to-left associativity does not figure into the order of operations, because associativity only controls which operations are executed first among operators of the _same_ precedence.  You have a `+` operator of lower precedence between them, so the associativity doesn&#39;t matter here.\n\n[1]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.7\n\n","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">Section 15.7 of the JLS</a> is clear on this:</p>\n<blockquote>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n<p><em>It is recommended that code not rely crucially on this specification. Code is usually clearer when each expression contains at most one side effect, as its outermost operation, and when code does not depend on exactly which exception arises as a consequence of the left-to-right evaluation of expressions.</em></p>\n</blockquote>\n<p>Whenever assignment operators and other binary operators are mixed in with increment or decrement operators, evaluating the expression is <em>not</em> intuitive, and one should never write such confusing code.</p>\n<p>Even if the increment and decrement unary operators are right-to-left associative, the values of an expression are evaluated left-to-right.</p>\n<pre><code>int x = ++i + --i;\n</code></pre>\n<p>Here, <code>++i</code> increments <code>i</code> to <code>6</code> and returns <code>6</code>, then <code>--i</code> decrements <code>i</code> to <code>5</code> and returns <code>5</code>, and the sum of 6 and 5 is 11.</p>\n<pre><code>int y = i++ + i--;\n</code></pre>\n<p>Here, <code>i++</code> returns <code>5</code> and increments <code>i</code> to <code>6</code>, then <code>i--</code> returns <code>6</code> and decrements <code>i</code> to <code>5</code>, and the sum of 5 and 6 is 11.</p>\n<p>With these expressions, the right-to-left associativity does not figure into the order of operations, because associativity only controls which operations are executed first among operators of the <em>same</em> precedence.  You have a <code>+</code> operator of lower precedence between them, so the associativity doesn't matter here.</p>\n"},{"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":1,"creation_date":1531261439,"post_id":51274300,"comment_id":89527570,"body_markdown":"Accepted...! :)","body":"Accepted...! :)"}],"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1531258942,"creation_date":1531258942,"answer_id":51274300,"question_id":51273951,"body_markdown":"Let&#39;s translate this:\r\n\r\n    int i = 5;\r\n    int x = ++i + --i;\r\n    int y = i++ + i--;\r\n    System.out.println(&quot;x=&quot; + x);\r\n    System.out.println(&quot;y=&quot; + y);\r\n\r\nInto (step by step):\r\n\r\n    int i = 5;\r\n    int x = ++i + --i;\r\n    //       ^\r\n    //   (i = i + 1) + --i\r\n    //   (i = 5 + 1) + --i  \r\n    //   (i = 6)     + --i\r\n    //                   ^\r\n    //        6      + (i = i - 1)\r\n    //        6      + (i = 6 - 1)\r\n    //        6      + (i = 5)\r\n    //        6      + 5\r\n    // x = 11\r\n    int y = i++ + i--;\r\n    //       ^\r\n    //    (i = 5) + i--\r\n    //         5  + i--\r\n    //     i = i + 1 // post evaluation, after i was evaluated to 5, now i increments its value and it is 6\r\n    //         5 + (i = 6)\r\n    //         5 + 6\r\n    // y = 11\r\n    //     i = i - 1 // post evaluation, after i was evaluated to 6, now i decrements its value and it is 5\r\n    System.out.println(&quot;x=&quot; + x); // x=11\r\n    System.out.println(&quot;y=&quot; + y); // y=11","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Let's translate this:</p>\n\n<pre><code>int i = 5;\nint x = ++i + --i;\nint y = i++ + i--;\nSystem.out.println(\"x=\" + x);\nSystem.out.println(\"y=\" + y);\n</code></pre>\n\n<p>Into (step by step):</p>\n\n<pre><code>int i = 5;\nint x = ++i + --i;\n//       ^\n//   (i = i + 1) + --i\n//   (i = 5 + 1) + --i  \n//   (i = 6)     + --i\n//                   ^\n//        6      + (i = i - 1)\n//        6      + (i = 6 - 1)\n//        6      + (i = 5)\n//        6      + 5\n// x = 11\nint y = i++ + i--;\n//       ^\n//    (i = 5) + i--\n//         5  + i--\n//     i = i + 1 // post evaluation, after i was evaluated to 5, now i increments its value and it is 6\n//         5 + (i = 6)\n//         5 + 6\n// y = 11\n//     i = i - 1 // post evaluation, after i was evaluated to 6, now i decrements its value and it is 5\nSystem.out.println(\"x=\" + x); // x=11\nSystem.out.println(\"y=\" + y); // y=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22780815,"reputation":23,"user_id":16936777,"display_name":"Bogdan Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695578309,"creation_date":1695578309,"answer_id":77168308,"question_id":51273951,"body_markdown":"Coming back to this quite old question just for clarification regarding the associativity as it follows:\r\n\r\n    int x = 1;\r\n    int z = -++x; // z will end up being -2\r\n\r\nThis happens due to the &quot;Right to Left&quot; associativity of Unary Operators. Also, if the precedence is the same, the result will rely on their associativity. \r\nBy the book, if two operators have the same precedence indeed they will have the same kind of associativity.\r\n\r\n\r\n\r\n","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Coming back to this quite old question just for clarification regarding the associativity as it follows:</p>\n<pre><code>int x = 1;\nint z = -++x; // z will end up being -2\n</code></pre>\n<p>This happens due to the &quot;Right to Left&quot; associativity of Unary Operators. Also, if the precedence is the same, the result will rely on their associativity.\nBy the book, if two operators have the same precedence indeed they will have the same kind of associativity.</p>\n"}],"owner":{"account_id":2510288,"reputation":413,"user_id":2182934,"accept_rate":90,"display_name":"krishna"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51274300,"answer_count":4,"score":1,"last_activity_date":1695578309,"creation_date":1531257118,"question_id":51273951,"body_markdown":"Operator precedence of ++ and -- is higher than + and has associativity right to left. So I think output of x should be (++i+4 then 5+4) 9 and output of y should be (i+++5 then 5+5) 10. For both it print 11 as output.\r\n    \r\n    class First {\r\n        public static void main(String[] args) {\r\n    \t    int i = 5;\r\n    \t    int x = ++i + --i;\r\n    \t    int y = i++ + i--;\r\n    \t    System.out.println(&quot;x=&quot;+x);\r\n    \t    System.out.println(&quot;y=&quot;+y);\r\n        }\r\n    } ","title":"Why operator precedence and associativity for increment and decrement in java not working properly?","body":"<p>Operator precedence of ++ and -- is higher than + and has associativity right to left. So I think output of x should be (++i+4 then 5+4) 9 and output of y should be (i+++5 then 5+5) 10. For both it print 11 as output.</p>\n\n<pre><code>class First {\n    public static void main(String[] args) {\n        int i = 5;\n        int x = ++i + --i;\n        int y = i++ + i--;\n        System.out.println(\"x=\"+x);\n        System.out.println(\"y=\"+y);\n    }\n} \n</code></pre>\n"},{"tags":["java","object","vector","casting","integer"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695577875,"creation_date":1695441775,"answer_id":77161606,"question_id":77161581,"body_markdown":"# tl;dr\r\n\r\nCast `Object` object to `Integer` object. Then let auto-boxing implicitly change `Integer` object to `int` primitive. \r\n\r\n    int d = ( Integer ) vector.get(i);  // Cast `Object` to `Integer`, then implicit auto-boxing to `int`. \r\n\r\nEven better, revise your code:\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\nfor ( Integer input : inputs )\r\n{\r\n    if ( input % 2 != 0 )\r\n    {\r\n        System.out.println ( input );  // Print odd numbers.\r\n    }\r\n}\r\n```\r\n\r\n## Auto-boxing\r\n\r\nYou said:\r\n\r\n&gt;I tried using cast e.i. (int)\r\n\r\nCollections such as `Vector` hold objects, not primitives. When you add a primitive literal such as `1` or `5` to such a collection, Java automatically converts these `int` values into objects of the wrapper class `Integer`. This conversion is known as [auto-boxing][1]. \r\n\r\nIn other words, your code:\r\n\r\n    vector.add(2);\r\n\r\n is equivalent to a call to [`Integer.valueOf`][2], returning a `Integer` object:\r\n\r\n    vector.add( Integer.valueOf( 1 ) );  // Making an `Integer` object from a primitive `int`. \r\n\r\nYour call `vector.get(i)` returns an object, not a primitive. So your cast `(int)` makes no sense. Casting does not work across the chasm between primitives and objects. Crossing that chasm is the work of boxing. \r\n\r\n## Cast\r\n\r\nAs discussed above, you actually put `Integer` objects into your `Vector`. But you declared the `Vector` as holding objects of the superclass [`Object`][3]. When retrieving, you get `Object` objects rather than `Integer` objects. \r\n\r\nYou must cast from `Object` to the concrete class `Integer`. \r\n\r\n    Integer d = (Integer) vector.get(i) ;\r\n\r\nAs discussed above, this cast `(Integer)` is *not* the same as your cast attempt `(int)`. \r\n\r\n## Declare specific type\r\n\r\nBut this is a fix to your less than optimal code. If your collection holds `Integer` objects, say so. \r\n\r\nYou need not repeat the `Integer` type on the right side of the assignment; the compiler can infer that fact from the left side.\r\n\r\n    Vector &lt; Integer &gt; vector = new Vector &lt;&gt; ( );\r\n\r\nAfter specifying the more concrete type, we no longer need that cast.\r\n\r\n    Integer d = inputs.get ( i );  // Retrieving an `Integer` object from a known list of `Integer` objects. So no cast needed.\r\n\r\n## Avoid `Vector` class\r\n\r\nAnother problem: [`Vector`][4] is an old class from the earliest versions of Java, before the [Java Collections Framework][5] was built. That class is now legacy, as noted in its Javadoc. \r\n\r\n## `SequencedCollection` &amp; `ArrayList`\r\n\r\nInstead, use a [`SequencedCollection`][6] implementation such as [`ArrayList`][7].\r\n\r\nBy the way, use more descriptive names for your variables. Good names makes your code easier to read and more [self-documenting][8]. So something like `inputs` rather than `vector`. \r\n\r\n    SequencedCollection &lt; Integer &gt; inputs = new ArrayList&lt;&gt;() ;\r\n\r\n## `List.of` \r\n\r\nRather than call `add` multiple times, use the [`List.of`][9] feature for more compact code.\r\n\r\n    SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\n\r\nThe `List` object returned by `List.of` is [unmodifiable][10], not allowing additions or deletions. That works in your situation. \r\n\r\n## Enhanced `for` loop\r\n\r\nTo simply loop through a collection, you can use the enhanced `for` loop.\r\n\r\n    for ( Integer input : inputs )\r\n\r\nSo now our code looks like this:\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.util.List;\r\nimport java.util.SequencedCollection;\r\n\r\npublic class Nums\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\r\n        System.out.println ( &quot;Inputs: &quot; + inputs );\r\n        for ( Integer input : inputs )\r\n        {\r\n            if ( input % 2 == 0 )\r\n            {\r\n                System.out.println ( input );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n&gt;Inputs: [1, 2, 5, 6]\r\n&gt;\r\n&gt;2\r\n&gt;\r\n&gt;6\r\n\r\n\r\n## `!` means *not*\r\n\r\nYou said:\r\n\r\n&gt;I want is to print out only the odd number \r\n\r\nFlip the logic of your `if` test by applying `!`.\r\n\r\n\r\n    if ( ! ( input % 2 == 0 ) ) {  odd number  }\r\n\r\nOr, more simply, use `!=` for &quot;not equals&quot;:\r\n\r\n    if ( input % 2 != 0 )\r\n\r\n\r\n----------\r\n\r\nYou seem to be working from a *very* old tutorial. I strongly recommend using more recent learning materials. \r\n\r\nYou might start with the free-of-cost [*Java Tutorials*][11] by Oracle.com. These are from the Java 8 era, so a bit out-of-date but still valid overall.\r\n\r\nAlso, I highly recommend [*Head First Java, 3rd Edition*][12] by Kathy Sierra, Bert Bates, Trisha Gee.\r\n\r\n\r\n----------\r\n\r\n\r\n## Streams\r\n\r\nEventually you may learn to use streams.\r\n\r\nLike this:\r\n\r\n```java\r\nList\r\n        .of ( 1 , 2 , 5 , 6 )\r\n        .stream ( )\r\n        .filter ( input -&gt; input % 2 == 0 )\r\n        .forEach ( System.out :: println );\r\n``` \r\n\r\nOr, this:\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs =\r\n        Stream\r\n                .of ( 1 , 2 , 5 , 6 )\r\n                .filter (\r\n                        ( Integer integer ) -&gt; integer % 2 == 0\r\n                )\r\n                .toList ( );\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#valueOf(int)\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html\r\n  [5]: https://en.wikipedia.org/wiki/Java_collections_framework\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\r\n  [8]: https://en.wikipedia.org/wiki/Self-documenting_code\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E,E)\r\n  [10]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [11]: https://docs.oracle.com/javase/tutorial/\r\n  [12]: https://www.oreilly.com/library/view/head-first-java/9781492091646/","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<h1>tl;dr</h1>\n<p>Cast <code>Object</code> object to <code>Integer</code> object. Then let auto-boxing implicitly change <code>Integer</code> object to <code>int</code> primitive.</p>\n<pre><code>int d = ( Integer ) vector.get(i);  // Cast `Object` to `Integer`, then implicit auto-boxing to `int`. \n</code></pre>\n<p>Even better, revise your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\nfor ( Integer input : inputs )\n{\n    if ( input % 2 != 0 )\n    {\n        System.out.println ( input );  // Print odd numbers.\n    }\n}\n</code></pre>\n<h2>Auto-boxing</h2>\n<p>You said:</p>\n<blockquote>\n<p>I tried using cast e.i. (int)</p>\n</blockquote>\n<p>Collections such as <code>Vector</code> hold objects, not primitives. When you add a primitive literal such as <code>1</code> or <code>5</code> to such a collection, Java automatically converts these <code>int</code> values into objects of the wrapper class <code>Integer</code>. This conversion is known as <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a>.</p>\n<p>In other words, your code:</p>\n<pre><code>vector.add(2);\n</code></pre>\n<p> is equivalent to a call to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\"><code>Integer.valueOf</code></a>, returning a <code>Integer</code> object:</p>\n<pre><code>vector.add( Integer.valueOf( 1 ) );  // Making an `Integer` object from a primitive `int`. \n</code></pre>\n<p>Your call <code>vector.get(i)</code> returns an object, not a primitive. So your cast <code>(int)</code> makes no sense. Casting does not work across the chasm between primitives and objects. Crossing that chasm is the work of boxing.</p>\n<h2>Cast</h2>\n<p>As discussed above, you actually put <code>Integer</code> objects into your <code>Vector</code>. But you declared the <code>Vector</code> as holding objects of the superclass <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\"><code>Object</code></a>. When retrieving, you get <code>Object</code> objects rather than <code>Integer</code> objects.</p>\n<p>You must cast from <code>Object</code> to the concrete class <code>Integer</code>.</p>\n<pre><code>Integer d = (Integer) vector.get(i) ;\n</code></pre>\n<p>As discussed above, this cast <code>(Integer)</code> is <em>not</em> the same as your cast attempt <code>(int)</code>.</p>\n<h2>Declare specific type</h2>\n<p>But this is a fix to your less than optimal code. If your collection holds <code>Integer</code> objects, say so.</p>\n<p>You need not repeat the <code>Integer</code> type on the right side of the assignment; the compiler can infer that fact from the left side.</p>\n<pre><code>Vector &lt; Integer &gt; vector = new Vector &lt;&gt; ( );\n</code></pre>\n<p>After specifying the more concrete type, we no longer need that cast.</p>\n<pre><code>Integer d = inputs.get ( i );  // Retrieving an `Integer` object from a known list of `Integer` objects. So no cast needed.\n</code></pre>\n<h2>Avoid <code>Vector</code> class</h2>\n<p>Another problem: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html\" rel=\"nofollow noreferrer\"><code>Vector</code></a> is an old class from the earliest versions of Java, before the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections Framework</a> was built. That class is now legacy, as noted in its Javadoc.</p>\n<h2><code>SequencedCollection</code> &amp; <code>ArrayList</code></h2>\n<p>Instead, use a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> implementation such as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>.</p>\n<p>By the way, use more descriptive names for your variables. Good names makes your code easier to read and more <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">self-documenting</a>. So something like <code>inputs</code> rather than <code>vector</code>.</p>\n<pre><code>SequencedCollection &lt; Integer &gt; inputs = new ArrayList&lt;&gt;() ;\n</code></pre>\n<h2><code>List.of</code></h2>\n<p>Rather than call <code>add</code> multiple times, use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> feature for more compact code.</p>\n<pre><code>SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\n</code></pre>\n<p>The <code>List</code> object returned by <code>List.of</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a>, not allowing additions or deletions. That works in your situation.</p>\n<h2>Enhanced <code>for</code> loop</h2>\n<p>To simply loop through a collection, you can use the enhanced <code>for</code> loop.</p>\n<pre><code>for ( Integer input : inputs )\n</code></pre>\n<p>So now our code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.util.List;\nimport java.util.SequencedCollection;\n\npublic class Nums\n{\n    public static void main ( String[] args )\n    {\n        SequencedCollection &lt; Integer &gt; inputs = List.of ( 1 , 2 , 5 , 6 );\n        System.out.println ( &quot;Inputs: &quot; + inputs );\n        for ( Integer input : inputs )\n        {\n            if ( input % 2 == 0 )\n            {\n                System.out.println ( input );\n            }\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<blockquote>\n<p>Inputs: [1, 2, 5, 6]</p>\n<p>2</p>\n<p>6</p>\n</blockquote>\n<h2><code>!</code> means <em>not</em></h2>\n<p>You said:</p>\n<blockquote>\n<p>I want is to print out only the odd number</p>\n</blockquote>\n<p>Flip the logic of your <code>if</code> test by applying <code>!</code>.</p>\n<pre><code>if ( ! ( input % 2 == 0 ) ) {  odd number  }\n</code></pre>\n<p>Or, more simply, use <code>!=</code> for &quot;not equals&quot;:</p>\n<pre><code>if ( input % 2 != 0 )\n</code></pre>\n<hr />\n<p>You seem to be working from a <em>very</em> old tutorial. I strongly recommend using more recent learning materials.</p>\n<p>You might start with the free-of-cost <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\"><em>Java Tutorials</em></a> by Oracle.com. These are from the Java 8 era, so a bit out-of-date but still valid overall.</p>\n<p>Also, I highly recommend <a href=\"https://www.oreilly.com/library/view/head-first-java/9781492091646/\" rel=\"nofollow noreferrer\"><em>Head First Java, 3rd Edition</em></a> by Kathy Sierra, Bert Bates, Trisha Gee.</p>\n<hr />\n<h2>Streams</h2>\n<p>Eventually you may learn to use streams.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List\n        .of ( 1 , 2 , 5 , 6 )\n        .stream ( )\n        .filter ( input -&gt; input % 2 == 0 )\n        .forEach ( System.out :: println );\n</code></pre>\n<p>Or, this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs =\n        Stream\n                .of ( 1 , 2 , 5 , 6 )\n                .filter (\n                        ( Integer integer ) -&gt; integer % 2 == 0\n                )\n                .toList ( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29514035,"reputation":34,"user_id":22618406,"display_name":"MH BIPUL"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695445010,"creation_date":1695445010,"answer_id":77161710,"question_id":77161581,"body_markdown":"In Java, you are trying to cast `Object` elements directly to `int`, which will result in a compilation error. To achieve your goal of printing only the odd numbers in the vector, you need to perform the following steps:\r\n\r\n1. Iterate through the `Vector&lt;Object&gt;`.\r\n2. Check if each element is an instance of `Integer`.\r\n3. If it&#39;s an `Integer`, cast it to `int` and then check if it&#39;s odd.\r\n\r\nHere&#39;s a modified version of your code that accomplishes this:\r\n\r\n```java\r\nimport java.util.Vector;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\r\n        vector.add(1);\r\n        vector.add(2);\r\n        vector.add(5);\r\n        vector.add(6);\r\n        \r\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\r\n        \r\n        for (int i = 0; i &lt; vector.size(); i++) {\r\n            Object obj = vector.get(i);\r\n            if (obj instanceof Integer) {\r\n                int d = (int) obj;\r\n                if (d % 2 != 0) {\r\n                    System.out.println(d);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this code, we use the `instanceof` operator to check if an element is an instance of `Integer`. If it is, we cast it to `int` and then check if it&#39;s an odd number before printing it. This way, you will only print the odd numbers from your vector.","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<p>In Java, you are trying to cast <code>Object</code> elements directly to <code>int</code>, which will result in a compilation error. To achieve your goal of printing only the odd numbers in the vector, you need to perform the following steps:</p>\n<ol>\n<li>Iterate through the <code>Vector&lt;Object&gt;</code>.</li>\n<li>Check if each element is an instance of <code>Integer</code>.</li>\n<li>If it's an <code>Integer</code>, cast it to <code>int</code> and then check if it's odd.</li>\n</ol>\n<p>Here's a modified version of your code that accomplishes this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Vector;\n\npublic class Main {\n    public static void main(String[] args) {\n        Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\n        vector.add(1);\n        vector.add(2);\n        vector.add(5);\n        vector.add(6);\n        \n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\n        \n        for (int i = 0; i &lt; vector.size(); i++) {\n            Object obj = vector.get(i);\n            if (obj instanceof Integer) {\n                int d = (int) obj;\n                if (d % 2 != 0) {\n                    System.out.println(d);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>In this code, we use the <code>instanceof</code> operator to check if an element is an instance of <code>Integer</code>. If it is, we cast it to <code>int</code> and then check if it's an odd number before printing it. This way, you will only print the odd numbers from your vector.</p>\n"}],"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77161710,"answer_count":2,"score":3,"last_activity_date":1695577875,"creation_date":1695441034,"question_id":77161581,"body_markdown":"How do I convert the numbers in my vector&lt;Object&gt; into int? I&#39;m trying the numbers in my object array into int values for my if statenebt, but I can&#39;t find a way to do so. Can anyone help tell me what I would need to do?\r\n\r\n```\r\nprivate static void test() {\r\n\tVector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\r\n\tvector.add(1);\r\n        vector.add(2);\r\n        vector.add(5);\r\n        vector.add(6);\r\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\r\n        for (int i = 0; i &lt; vector.size(); i++)\r\n        {      \r\n          int d = vector.get(i);\r\n          if(d%2 == 0) \r\n          {\r\n        \t  System.out.println(d);\r\n             \r\n          }\r\n}\r\n```\r\n\r\nI tried using cast, i.e., `(int)`, but it didn&#39;t work. The result I want is to print out only the odd numbers in the vector.","title":"How do I convert the numbers in my Vector&lt;Object&gt; into int?","body":"<p>How do I convert the numbers in my vector into int? I'm trying the numbers in my object array into int values for my if statenebt, but I can't find a way to do so. Can anyone help tell me what I would need to do?</p>\n<pre><code>private static void test() {\n    Vector&lt;Object&gt; vector = new Vector&lt;Object&gt;();\n    vector.add(1);\n        vector.add(2);\n        vector.add(5);\n        vector.add(6);\n        System.out.println(&quot;\\nThe Vector is: &quot; + vector);\n        for (int i = 0; i &lt; vector.size(); i++)\n        {      \n          int d = vector.get(i);\n          if(d%2 == 0) \n          {\n              System.out.println(d);\n             \n          }\n}\n</code></pre>\n<p>I tried using cast, i.e., <code>(int)</code>, but it didn't work. The result I want is to print out only the odd numbers in the vector.</p>\n"},{"tags":["javascript","java","android","react-native"],"owner":{"account_id":6334872,"reputation":798,"user_id":4918598,"accept_rate":79,"display_name":"0x01Brain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695577605,"creation_date":1695577160,"question_id":77168233,"body_markdown":"I am trying to add device admin features in React Native app. I created a simple native module which have the following react method which is called from JS stack:\r\n\r\n    @ReactMethod\r\n    public void requestAdmin(Promise promise) {\r\n        ComponentName deviceAdminComponentName = new ComponentName(context, SecureDeviceAdminReciever.class);\r\n        if(!isDeviceAdmin(context, deviceAdminComponentName)) {\r\n            context.runOnUiQueueThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    requestAdminIntent();\r\n                    promise.resolve(true);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n    \r\n    public void requestAdminIntent() {\r\n        ReactApplicationContext context = getReactApplicationContext();\r\n        Intent intent = new Intent(context.getCurrentActivity().getApplicationContext(), DeviceAdminRequestActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.runOnUiQueueThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                context.startActivityForResult(intent, DeviceAdminRequestActivity.REQUEST_DEVICE_ADMIN_PERMISSIONS,null);\r\n            }\r\n        });\r\n    \r\n    }\r\n\r\nIn the above code I am calling a custom activity which I had to create since `DeviceAdminAdd` activity will not work with with flag `Intent.FLAG_ACTIVITY_NEW_TASK` after revising code here and react-native requires it:\r\n\r\nhttps://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java\r\n\r\nSo inside the custom activity inside `onCreate`, I have the following implementation to execute `DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN` intent:\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        DevicePolicyManager devicePolicyManager = (android.app.admin.DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n        ComponentName deviceAdminComponentName = null;\r\n        deviceAdminComponentName = new ComponentName(getApplicationContext(), SecureDeviceAdminReciever.class);\r\n        Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\r\n        intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, deviceAdminComponentName);\r\n        intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Note: The permissions granted by you is used for applying the anti-theft features.&quot;);\r\n        startActivity(intent);\r\n        Log.d(&quot;Device Admin Request&quot;, &quot;Requested to start action add device admin ... &quot;);\r\n    }\r\n\r\nMy policies xml file `@xml/device_admin_policies.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;device-admin&gt;\r\n        &lt;uses-policies&gt;\r\n            &lt;disable-camera /&gt;\r\n            &lt;limit-password /&gt;\r\n            &lt;watch-login /&gt;\r\n            &lt;reset-password /&gt;\r\n            &lt;force-lock /&gt;\r\n            &lt;wipe-data /&gt;\r\n            &lt;expire-password /&gt;\r\n            &lt;encrypted-storage /&gt;\r\n        &lt;/uses-policies&gt;\r\n    &lt;/device-admin&gt;\r\n\r\nAnd manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_DEVICE_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.MainApplication&quot;\r\n            android:allowBackup=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.activities.DeviceAdminRequestActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:launchMode=&quot;singleTask&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.PowerStateReceiver&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;receiver\r\n                android:name=&quot;.SecureAdminReciever&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.app.device_admin&quot;\r\n                    android:resource=&quot;@xml/device_admin_policies&quot; /&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_DISABLED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nNow the issue I am having is that I am getting a blank activity to show up but its not showing up the device admin dialog to activate device admin for app. I set a breakpoint at `startActivity(intent)` line inside `onCreate()` for debugging it turns out that it executes `startActivity(intent)` and right after that it shows a blank activity but not device admin dialog. I will appreciate anyone who can help or have idea why this is happening.","title":"Request device admin permissions from user via React Native app native module?","body":"<p>I am trying to add device admin features in React Native app. I created a simple native module which have the following react method which is called from JS stack:</p>\n<pre><code>@ReactMethod\npublic void requestAdmin(Promise promise) {\n    ComponentName deviceAdminComponentName = new ComponentName(context, SecureDeviceAdminReciever.class);\n    if(!isDeviceAdmin(context, deviceAdminComponentName)) {\n        context.runOnUiQueueThread(new Runnable() {\n            @Override\n            public void run() {\n                requestAdminIntent();\n                promise.resolve(true);\n            }\n        });\n\n    }\n}\n\npublic void requestAdminIntent() {\n    ReactApplicationContext context = getReactApplicationContext();\n    Intent intent = new Intent(context.getCurrentActivity().getApplicationContext(), DeviceAdminRequestActivity.class);\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    context.runOnUiQueueThread(new Runnable() {\n        @Override\n        public void run() {\n            context.startActivityForResult(intent, DeviceAdminRequestActivity.REQUEST_DEVICE_ADMIN_PERMISSIONS,null);\n        }\n    });\n\n}\n</code></pre>\n<p>In the above code I am calling a custom activity which I had to create since <code>DeviceAdminAdd</code> activity will not work with with flag <code>Intent.FLAG_ACTIVITY_NEW_TASK</code> after revising code here and react-native requires it:</p>\n<p><a href=\"https://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/packages/apps/Settings/+/marshmallow-dev/src/com/android/settings/DeviceAdminAdd.java</a></p>\n<p>So inside the custom activity inside <code>onCreate</code>, I have the following implementation to execute <code>DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN</code> intent:</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    DevicePolicyManager devicePolicyManager = (android.app.admin.DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n    ComponentName deviceAdminComponentName = null;\n    deviceAdminComponentName = new ComponentName(getApplicationContext(), SecureDeviceAdminReciever.class);\n    Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\n    intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, deviceAdminComponentName);\n    intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Note: The permissions granted by you is used for applying the anti-theft features.&quot;);\n    startActivity(intent);\n    Log.d(&quot;Device Admin Request&quot;, &quot;Requested to start action add device admin ... &quot;);\n}\n</code></pre>\n<p>My policies xml file <code>@xml/device_admin_policies.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;device-admin&gt;\n    &lt;uses-policies&gt;\n        &lt;disable-camera /&gt;\n        &lt;limit-password /&gt;\n        &lt;watch-login /&gt;\n        &lt;reset-password /&gt;\n        &lt;force-lock /&gt;\n        &lt;wipe-data /&gt;\n        &lt;expire-password /&gt;\n        &lt;encrypted-storage /&gt;\n    &lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n<p>And manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_DEVICE_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.MainApplication&quot;\n        android:allowBackup=&quot;false&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activities.DeviceAdminRequestActivity&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.PowerStateReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;receiver\n            android:name=&quot;.SecureAdminReciever&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.device_admin&quot;\n                android:resource=&quot;@xml/device_admin_policies&quot; /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_ENABLED&quot; /&gt;\n                &lt;action android:name=&quot;android.app.admin.DEVICE_ADMIN_DISABLED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Now the issue I am having is that I am getting a blank activity to show up but its not showing up the device admin dialog to activate device admin for app. I set a breakpoint at <code>startActivity(intent)</code> line inside <code>onCreate()</code> for debugging it turns out that it executes <code>startActivity(intent)</code> and right after that it shows a blank activity but not device admin dialog. I will appreciate anyone who can help or have idea why this is happening.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":1,"creation_date":1433951769,"post_id":30761253,"comment_id":49575541,"body_markdown":"Is this class in the correct package and thus can be found ? I made this mistake some months ago ... Would it be sufficient to set the password to a known value (I assume not ...) ?","body":"Is this class in the correct package and thus can be found ? I made this mistake some months ago ... Would it be sufficient to set the password to a known value (I assume not ...) ?"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1433951845,"post_id":30761253,"comment_id":49575602,"body_markdown":"Perhaps you have a similar problem like I had. I was lucky and Mr. Syer gave me the answer ;-) http://stackoverflow.com/questions/27981681/which-annotation-shall-i-use-to-keep-spring-boot-from-securing-my-controller-whe","body":"Perhaps you have a similar problem like I had. I was lucky and Mr. Syer gave me the answer ;-) <a href=\"http://stackoverflow.com/questions/27981681/which-annotation-shall-i-use-to-keep-spring-boot-from-securing-my-controller-whe\" title=\"which annotation shall i use to keep spring boot from securing my controller whe\">stackoverflow.com/questions/27981681/&hellip;</a>"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":0,"creation_date":1433955868,"post_id":30761253,"comment_id":49578173,"body_markdown":"There&#39;s another config class which import this security config @Import({  CustomSecurityConfig .class }). This class is scanned by Spring Boot, what I noticed in another case related to CAS security, Spring Boot only removed this message when I did   @Inject\n    public void configureGlobal(final AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {","body":"There&#39;s another config class which import this security config @Import({  CustomSecurityConfig .class }). This class is scanned by Spring Boot, what I noticed in another case related to CAS security, Spring Boot only removed this message when I did   @Inject     public void configureGlobal(final AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":3,"creation_date":1433956029,"post_id":30761253,"comment_id":49578276,"body_markdown":"I tried adding security.basic.enabled=false and nothing has changed.","body":"I tried adding security.basic.enabled=false and nothing has changed."},{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":0,"creation_date":1433958474,"post_id":30761253,"comment_id":49579782,"body_markdown":"Did you check- http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html","body":"Did you check- <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":0,"creation_date":1433959145,"post_id":30761253,"comment_id":49580221,"body_markdown":"Yes, read but I did not found a solution for my issue.. do you have any idea what I missing?","body":"Yes, read but I did not found a solution for my issue.. do you have any idea what I missing?"},{"owner":{"account_id":14192811,"reputation":348,"user_id":10252907,"display_name":"Nguy&#234;n Ng&#244; Duy"},"score":1,"creation_date":1606356761,"post_id":30761253,"comment_id":114942520,"body_markdown":"Right answer is: wrong package. This bug raise when you copy folder and paste to you project. You can refactor folder to right package and done.","body":"Right answer is: wrong package. This bug raise when you copy folder and paste to you project. You can refactor folder to right package and done."}],"answers":[{"comments":[{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":0,"creation_date":1433971471,"post_id":30763890,"comment_id":49587297,"body_markdown":"I have overwritten my configure method as you said, and Spring message stills shows. What&#39;s funny in one simple Spring MVC application not using Boot it works fine. The problem is related to Spring Boot, take a look at code added to my CustomSecurityConfig  to override the method: @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {}","body":"I have overwritten my configure method as you said, and Spring message stills shows. What&#39;s funny in one simple Spring MVC application not using Boot it works fine. The problem is related to Spring Boot, take a look at code added to my CustomSecurityConfig  to override the method: @Override     public void configure(AuthenticationManagerBuilder auth) throws Exception {}"}],"tags":[],"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433959734,"creation_date":1433959199,"answer_id":30763890,"question_id":30761253,"body_markdown":"Look up: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\r\n \r\nFrom [AuthenticationManagerConfiguration.java][1] looking at code, I see below. Also the in-memory configuration is a fallback if no authentication manager is provided as per [Javadoc][2]. Your earlier attempt of Injecting the Authentication Manager would work because you will no longer be using the In-memory authentication and this class will be out of picture.\r\n\r\n    @Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tif (auth.isConfigured()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tUser user = this.securityProperties.getUser();\r\n\t\t\tif (user.isDefaultPassword()) {\r\n\t\t\t\tlogger.info(&quot;\\n\\nUsing default security password: &quot; + user.getPassword()\r\n\t\t\t\t\t\t+ &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t\tSet&lt;String&gt; roles = new LinkedHashSet&lt;String&gt;(user.getRole());\r\n\t\t\twithUser(user.getName()).password(user.getPassword()).roles(\r\n\t\t\t\t\troles.toArray(new String[roles.size()]));\r\n\t\t\tsetField(auth, &quot;defaultUserDetailsService&quot;, getUserDetailsService());\r\n\t\t\tsuper.configure(auth);\r\n\t\t}\r\n\r\nIf you use inmemory authentication which is default, customize your logger configuration for org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration and remove this message.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.java \r\n  [2]: http://docs.spring.io/autorepo/docs/spring-boot/1.3.0.BUILD-SNAPSHOT/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Look up: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html</a></p>\n\n<p>From <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.java\" rel=\"nofollow\">AuthenticationManagerConfiguration.java</a> looking at code, I see below. Also the in-memory configuration is a fallback if no authentication manager is provided as per <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/1.3.0.BUILD-SNAPSHOT/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"nofollow\">Javadoc</a>. Your earlier attempt of Injecting the Authentication Manager would work because you will no longer be using the In-memory authentication and this class will be out of picture.</p>\n\n<pre><code>@Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        if (auth.isConfigured()) {\n            return;\n        }\n        User user = this.securityProperties.getUser();\n        if (user.isDefaultPassword()) {\n            logger.info(\"\\n\\nUsing default security password: \" + user.getPassword()\n                    + \"\\n\");\n        }\n        Set&lt;String&gt; roles = new LinkedHashSet&lt;String&gt;(user.getRole());\n        withUser(user.getName()).password(user.getPassword()).roles(\n                roles.toArray(new String[roles.size()]));\n        setField(auth, \"defaultUserDetailsService\", getUserDetailsService());\n        super.configure(auth);\n    }\n</code></pre>\n\n<p>If you use inmemory authentication which is default, customize your logger configuration for org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration and remove this message.</p>\n"},{"comments":[{"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"score":1,"creation_date":1433991903,"post_id":30768011,"comment_id":49593228,"body_markdown":"The only inconvenient with this solution it disables the ability to read security properties from application.properties, so you must control yourself after it.","body":"The only inconvenient with this solution it disables the ability to read security properties from application.properties, so you must control yourself after it."},{"owner":{"account_id":1684429,"reputation":4685,"user_id":1547989,"display_name":"Michael Simons"},"score":47,"creation_date":1460306635,"post_id":30768011,"comment_id":60668802,"body_markdown":"I wonder: What&#39;s the point of adding Spring Security to Boot which actually has a good auto configuration and than disabling everything? Even considering just turning off logging?\nDo you want security? I think so.\nDo you want a default generated password? Maybe no\nSo why don&#39;t you specify one? Just use those properties:\n\nsecurity.user.name=user # Default user name.\nsecurity.user.password= # Password for the default user name. A random password is logged on startup by default.\n\nOr run your own UserDetailsService","body":"I wonder: What&#39;s the point of adding Spring Security to Boot which actually has a good auto configuration and than disabling everything? Even considering just turning off logging? Do you want security? I think so. Do you want a default generated password? Maybe no So why don&#39;t you specify one? Just use those properties:  security.user.name=user # Default user name. security.user.password= # Password for the default user name. A random password is logged on startup by default.  Or run your own UserDetailsService"},{"owner":{"account_id":3056739,"reputation":435,"user_id":2590174,"display_name":"alexkov"},"score":5,"creation_date":1565094842,"post_id":30768011,"comment_id":101236758,"body_markdown":"@MichaelSimons  For example in my ongoing project we only use 3rd party user pool - AWS Cognito. So we don&#39;t need Spring&#39;s autoconfigured user service at all. We only use tokens provided by Cognito. \nSo I just excluded the ReactiveUserDetailsServiceAutoConfiguration.class from Application (as we use webflux)","body":"@MichaelSimons  For example in my ongoing project we only use 3rd party user pool - AWS Cognito. So we don&#39;t need Spring&#39;s autoconfigured user service at all. We only use tokens provided by Cognito.  So I just excluded the ReactiveUserDetailsServiceAutoConfiguration.class from Application (as we use webflux)"},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":9,"creation_date":1606483642,"post_id":30768011,"comment_id":114981598,"body_markdown":"A great example of a completely wrong answer which has millions of score points","body":"A great example of a completely wrong answer which has millions of score points"},{"owner":{"account_id":6024900,"reputation":1045,"user_id":4730920,"accept_rate":9,"display_name":"Ken Krueger"},"score":1,"creation_date":1645819887,"post_id":30768011,"comment_id":125980258,"body_markdown":"This is opening a peanut with a hammer.  Removing SecurityAutoConfig eliminates ALL security auto configuration, more than what was requested in the original question.  See the other responses about providing your own InMemoryAuthentication provider, adding properties for user/password, or explicitly creating the AuthenticationManager  bean, all of which focus on the default user.","body":"This is opening a peanut with a hammer.  Removing SecurityAutoConfig eliminates ALL security auto configuration, more than what was requested in the original question.  See the other responses about providing your own InMemoryAuthentication provider, adding properties for user/password, or explicitly creating the AuthenticationManager  bean, all of which focus on the default user."}],"tags":[],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"comment_count":5,"down_vote_count":13,"up_vote_count":97,"is_accepted":true,"score":84,"last_activity_date":1433973410,"creation_date":1433973410,"answer_id":30768011,"question_id":30761253,"body_markdown":"I found out a solution about excluding **SecurityAutoConfiguration** class.\r\n\r\nExample:\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    public class ReportApplication {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I found out a solution about excluding <strong>SecurityAutoConfiguration</strong> class.</p>\n\n<p>Example:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\npublic class ReportApplication {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"score":1,"creation_date":1500994323,"post_id":39424761,"comment_id":77575420,"body_markdown":"just share my workaround here, `management.security.enabled=false`, and i am using spring 1.5.4 RELEASE.","body":"just share my workaround here, <code>management.security.enabled=false</code>, and i am using spring 1.5.4 RELEASE."},{"owner":{"account_id":317530,"reputation":2420,"user_id":634265,"display_name":"Tobias"},"score":22,"creation_date":1521625028,"post_id":39424761,"comment_id":85806458,"body_markdown":"As of (at least) Spring Boot 2, this no longer works.","body":"As of (at least) Spring Boot 2, this no longer works."},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":0,"creation_date":1531975611,"post_id":39424761,"comment_id":89800219,"body_markdown":"@mor222 I added another option that worked for me in the answers. https://stackoverflow.com/a/51414492/1195507 I&#39;m using Spring Boot 2.0","body":"@mor222 I added another option that worked for me in the answers. <a href=\"https://stackoverflow.com/a/51414492/1195507\">stackoverflow.com/a/51414492/1195507</a> I&#39;m using Spring Boot 2.0"},{"owner":{"account_id":4485664,"reputation":434,"user_id":3648390,"accept_rate":25,"display_name":"Hossein Badrnezhad"},"score":0,"creation_date":1582978339,"post_id":39424761,"comment_id":106966948,"body_markdown":"but deprecated :(","body":"but deprecated :("}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":4,"down_vote_count":8,"up_vote_count":46,"is_accepted":false,"score":38,"last_activity_date":1473500554,"creation_date":1473500554,"answer_id":39424761,"question_id":30761253,"body_markdown":"Adding following in `application.properties` worked for me,\r\n\r\n\r\n    security.basic.enabled=false\r\n\r\nRemember to restart the application and check in the console.","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Adding following in <code>application.properties</code> worked for me,</p>\n\n<pre><code>security.basic.enabled=false\n</code></pre>\n\n<p>Remember to restart the application and check in the console.</p>\n"},{"comments":[{"owner":{"account_id":401324,"reputation":1590,"user_id":767823,"accept_rate":48,"display_name":"pierrefevrier"},"score":0,"creation_date":1516271116,"post_id":41856630,"comment_id":83623332,"body_markdown":"`@EnableWebSecurity` is not required to make it work","body":"<code>@EnableWebSecurity</code> is not required to make it work"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1626701227,"post_id":41856630,"comment_id":120956512,"body_markdown":"Works for me using Spring Boot 2.5.2 by adding that `authenticationManagerBean()` method override. There was no need to use `@EnableWebSecurity`.","body":"Works for me using Spring Boot 2.5.2 by adding that <code>authenticationManagerBean()</code> method override. There was no need to use <code>@EnableWebSecurity</code>."},{"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"score":0,"creation_date":1668439364,"post_id":41856630,"comment_id":131398993,"body_markdown":"In current versions of spring `WebSecurityConfigurerAdapter` is deprecated. Could you please suggest solution having that in mind? :)","body":"In current versions of spring <code>WebSecurityConfigurerAdapter</code> is deprecated. Could you please suggest solution having that in mind? :)"},{"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"score":0,"creation_date":1673040084,"post_id":41856630,"comment_id":132416075,"body_markdown":"You could just setup the bean in any configuration class (without the need to extend the adapter) and return the authenticationManager from the authenticationConfiguration or any other authentificationManager\n\n`@Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }`","body":"You could just setup the bean in any configuration class (without the need to extend the adapter) and return the authenticationManager from the authenticationConfiguration or any other authentificationManager  <code>@Bean     public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {         return authenticationConfiguration.getAuthenticationManager();     }</code>"}],"tags":[],"owner":{"account_id":483757,"reputation":505,"user_id":899009,"display_name":"Stefan"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1539524147,"creation_date":1485361487,"answer_id":41856630,"question_id":30761253,"body_markdown":"Although it works, the current solution is a little overkill as noted in some comments. So here is an alternative that works for me, using the latest Spring Boot (1.4.3).\r\n\r\nThe default security password is configured inside Spring Boot&#39;s [AuthenticationManagerConfiguration][1] class. This class has a conditional annotation to prevent from loading if a AuthenticationManager Bean is already defined.\r\n\r\nThe folllowing code works to prevent execution of the code inside AuthenticationManagerConfiguration because we define our current  AuthenticationManager as a bean.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MyCustomSecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n    [...]\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder authManager) throws Exception {\r\n        // This is the code you usually have to configure your authentication manager.\r\n        // This configuration will be used by authenticationManagerBean() below.\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\r\n        // IT&#39;S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.x/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Although it works, the current solution is a little overkill as noted in some comments. So here is an alternative that works for me, using the latest Spring Boot (1.4.3).</p>\n\n<p>The default security password is configured inside Spring Boot's <a href=\"https://docs.spring.io/spring-boot/docs/1.5.x/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"noreferrer\">AuthenticationManagerConfiguration</a> class. This class has a conditional annotation to prevent from loading if a AuthenticationManager Bean is already defined.</p>\n\n<p>The folllowing code works to prevent execution of the code inside AuthenticationManagerConfiguration because we define our current  AuthenticationManager as a bean.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyCustomSecurityConfig extends WebSecurityConfigurerAdapter{\n\n[...]\n\n@Override\nprotected void configure(AuthenticationManagerBuilder authManager) throws Exception {\n    // This is the code you usually have to configure your authentication manager.\n    // This configuration will be used by authenticationManagerBean() below.\n}\n\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\n    // IT'S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\n    return super.authenticationManagerBean();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8832743,"reputation":109,"user_id":6598390,"display_name":"Sasidhar"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1496153338,"creation_date":1496153338,"answer_id":44264584,"question_id":30761253,"body_markdown":"When spring boot is used we should exclude the SecurityAutoConfiguration.class both in application class and  where exactly you are configuring the security like below.\r\n\r\nThen only we can avoid the default security password.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    \r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    @EnableJpaRepositories\r\n    @EnableResourceServer\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n---------------------------------------------------------------\r\n\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n        @Configuration\r\n        @EnableWebSecurity\r\n        @EnableAutoConfiguration(exclude = { \r\n                org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class \r\n            })\r\n        public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        \r\n        \t@Override\r\n        \tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        \t\thttpSecurity.authorizeRequests().anyRequest().authenticated();\r\n        \t\thttpSecurity.headers().cacheControl();\r\n        \t}\r\n        }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>When spring boot is used we should exclude the SecurityAutoConfiguration.class both in application class and  where exactly you are configuring the security like below.</p>\n\n<p>Then only we can avoid the default security password.</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n@EnableJpaRepositories\n@EnableResourceServer\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n    @Configuration\n    @EnableWebSecurity\n    @EnableAutoConfiguration(exclude = { \n            org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class \n        })\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests().anyRequest().authenticated();\n            httpSecurity.headers().cacheControl();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3918707,"reputation":707,"user_id":3241877,"display_name":"Volodymyr Perebykivskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522139349,"creation_date":1522139349,"answer_id":49507924,"question_id":30761253,"body_markdown":"Check documentation for *org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration* there are conditions when autoconfig will be halt.\r\n\r\nIn my case I forgot to define my custom *AuthenticationProvider* as **bean**.\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(getAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        AuthenticationProvider getAuthenticationProvider() {\r\n            return new CustomAuthenticationProvider(adminService, onlyCorporateEmail);\r\n        }\r\n    }","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Check documentation for <em>org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration</em> there are conditions when autoconfig will be halt.</p>\n\n<p>In my case I forgot to define my custom <em>AuthenticationProvider</em> as <strong>bean</strong>.</p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(getAuthenticationProvider());\n    }\n\n    @Bean\n    AuthenticationProvider getAuthenticationProvider() {\n        return new CustomAuthenticationProvider(adminService, onlyCorporateEmail);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":989969,"reputation":107,"user_id":1007549,"accept_rate":0,"display_name":"Somnath Guha"},"score":0,"creation_date":1645814976,"post_id":49695759,"comment_id":125978742,"body_markdown":"worked for me with Spring Boot 1.5.2 version","body":"worked for me with Spring Boot 1.5.2 version"}],"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523027111,"creation_date":1523027111,"answer_id":49695759,"question_id":30761253,"body_markdown":"It didn&#39;t work for me when I excluded SecurityAutoConfiguration using @SpringBootApplication annotation, but did work when I excluded it in @EnableAutoConfiguration:\r\n\r\n    @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>It didn't work for me when I excluded SecurityAutoConfiguration using @SpringBootApplication annotation, but did work when I excluded it in @EnableAutoConfiguration:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531975369,"creation_date":1531975369,"answer_id":51414492,"question_id":30761253,"body_markdown":"If you are using Spring Boot version &gt;= 2.0 try setting this bean in your configuration:\r\n\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        http.authorizeExchange().anyExchange().permitAll();\r\n        return http.build();\r\n    }\r\n\r\n\r\nReference: https://stackoverflow.com/a/47292134/1195507","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you are using Spring Boot version >= 2.0 try setting this bean in your configuration:</p>\n\n<pre><code>@Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http.authorizeExchange().anyExchange().permitAll();\n    return http.build();\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/a/47292134/1195507\">https://stackoverflow.com/a/47292134/1195507</a></p>\n"},{"comments":[{"owner":{"account_id":11460748,"reputation":2906,"user_id":8400475,"accept_rate":64,"display_name":"Gel"},"score":2,"creation_date":1559838674,"post_id":51948296,"comment_id":99553728,"body_markdown":"Can you explain where to write this code please? and what you mean by &quot;works fine with @EnableResourceServer and JWT&quot; (Im new to spring boot and jwt) Thanks!","body":"Can you explain where to write this code please? and what you mean by &quot;works fine with @EnableResourceServer and JWT&quot; (Im new to spring boot and jwt) Thanks!"},{"owner":{"account_id":7863029,"reputation":146,"user_id":5942768,"display_name":"Felipe de Alvarenga Leite"},"score":1,"creation_date":1596038526,"post_id":51948296,"comment_id":111683664,"body_markdown":"To me it worked with this exclusion in @EnableAutoConfiguration instead of @SpringBootApplication (SpringBoot 2.3.0):\n\n`@SpringBootApplication\n@EnableAutoConfiguration(exclude={UserDetailsServiceAutoConfiguration.class})\npublic class MainAppClassName {\n...\n}`","body":"To me it worked with this exclusion in @EnableAutoConfiguration instead of @SpringBootApplication (SpringBoot 2.3.0):  <code>@SpringBootApplication @EnableAutoConfiguration(exclude={UserDetailsServiceAutoConf&zwnj;&#8203;iguration.class}) public class MainAppClassName { ... }</code>"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1597999986,"post_id":51948296,"comment_id":112321319,"body_markdown":"`@EnableAutoConfiguration` is part of `@SpringBootApplication`.","body":"<code>@EnableAutoConfiguration</code> is part of <code>@SpringBootApplication</code>."},{"owner":{"account_id":3181086,"reputation":181,"user_id":4157541,"display_name":"ahmed"},"score":0,"creation_date":1675599724,"post_id":51948296,"comment_id":132960115,"body_markdown":"solve the problem","body":"solve the problem"}],"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":4,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1534853143,"creation_date":1534853143,"answer_id":51948296,"question_id":30761253,"body_markdown":"Using Spring Boot 2.0.4 I came across the same issue.\r\n\r\nExcluding `SecurityAutoConfiguration.class` did destroy my application.\r\n\r\nNow I&#39;m using `@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})`\r\n\r\nWorks fine with `@EnableResourceServer` and JWT `:)` ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Using Spring Boot 2.0.4 I came across the same issue.</p>\n\n<p>Excluding <code>SecurityAutoConfiguration.class</code> did destroy my application.</p>\n\n<p>Now I'm using <code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})</code></p>\n\n<p>Works fine with <code>@EnableResourceServer</code> and JWT <code>:)</code> </p>\n"},{"tags":[],"owner":{"account_id":8669829,"reputation":105,"user_id":6489113,"display_name":"KHAN"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549104463,"creation_date":1549067182,"answer_id":54488801,"question_id":30761253,"body_markdown":"If you are declaring your configs in a separate package,\r\nmake sure you add component scan like this :      \r\n\r\n   \r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.mycompany.MY_OTHER_PACKAGE.account.config&quot;)\r\n    \r\n        public class MyApplication {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(MyApplication.class, args);\r\n        \t}\r\n        \t\r\n        \t\r\n        \r\n        }\r\n\r\nYou may also need to add  @component annotation in the config class like so :\r\n\r\n      @Component\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n    \t@Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeRequests()\r\n\r\n    .....\r\n      \r\n\r\n\r\n2. Also clear browser cache and run spring boot app in incognito mode\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you are declaring your configs in a separate package,\nmake sure you add component scan like this :      </p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.mycompany.MY_OTHER_PACKAGE.account.config\")\n\n    public class MyApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(MyApplication.class, args);\n        }\n\n\n\n    }\n</code></pre>\n\n<p>You may also need to add  @component annotation in the config class like so :</p>\n\n<pre><code>  @Component\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n\n.....\n</code></pre>\n\n<ol start=\"2\">\n<li>Also clear browser cache and run spring boot app in incognito mode</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550575103,"creation_date":1550575103,"answer_id":54765062,"question_id":30761253,"body_markdown":"On spring boot 2 with webflux you need to define a ***ReactiveAuthenticationManager***","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>On spring boot 2 with webflux you need to define a <strong><em>ReactiveAuthenticationManager</em></strong></p>\n"},{"tags":[],"owner":{"account_id":6906319,"reputation":199,"user_id":5304063,"display_name":"WaBayang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559749657,"creation_date":1559749657,"answer_id":56463921,"question_id":30761253,"body_markdown":"It is also possible to just turn off logging for that specific class in properties : \r\n\r\n`logging.level.org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration=WARN`\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>It is also possible to just turn off logging for that specific class in properties : </p>\n\n<p><code>logging.level.org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration=WARN</code></p>\n"},{"comments":[{"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"score":0,"creation_date":1691498906,"post_id":57199686,"comment_id":135497456,"body_markdown":"```spring.security.user.name=XXX```\n```spring.security.user.password=XXX``` This is no longer working","body":"<code>spring.security.user.name=XXX</code> <code>spring.security.user.password=XXX</code> This is no longer working"}],"tags":[],"owner":{"display_name":"user11814208"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1564050077,"creation_date":1564050077,"answer_id":57199686,"question_id":30761253,"body_markdown":"Just use the rows below:\r\n\r\n    spring.security.user.name=XXX\r\n    spring.security.user.password=XXX\r\n\r\nto set the default security user name and password\r\nat your `application.properties` (name might differ) within the context of the Spring Application.\r\n\r\nTo avoid default configuration (as a part of autoconfiguration of the SpringBoot) at all - use the approach mentioned in Answers earlier:\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n\r\nor\r\n\r\n    @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Just use the rows below:</p>\n\n<pre><code>spring.security.user.name=XXX\nspring.security.user.password=XXX\n</code></pre>\n\n<p>to set the default security user name and password\nat your <code>application.properties</code> (name might differ) within the context of the Spring Application.</p>\n\n<p>To avoid default configuration (as a part of autoconfiguration of the SpringBoot) at all - use the approach mentioned in Answers earlier:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3056739,"reputation":435,"user_id":2590174,"display_name":"alexkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1565036382,"creation_date":1565036382,"answer_id":57365595,"question_id":30761253,"body_markdown":"For Reactive Stack (Spring Webflux, Netty) you either need to exclude ReactiveUserDetailsServiceAutoConfiguration.class\r\n\r\n    @SpringBootApplication(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class})\r\n\r\n\r\nOr define ReactiveAuthenticationManager bean (there are different implementations, here is the JWT one example)\r\n\r\n    @Bean\r\n    public ReactiveJwtDecoder jwtDecoder() {\r\n        return new NimbusReactiveJwtDecoder(keySourceUrl);\r\n    }\r\n    @Bean\r\n    public ReactiveAuthenticationManager authenticationManager() {\r\n        return new JwtReactiveAuthenticationManager(jwtDecoder());\r\n    }\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>For Reactive Stack (Spring Webflux, Netty) you either need to exclude ReactiveUserDetailsServiceAutoConfiguration.class</p>\n\n<pre><code>@SpringBootApplication(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class})\n</code></pre>\n\n<p>Or define ReactiveAuthenticationManager bean (there are different implementations, here is the JWT one example)</p>\n\n<pre><code>@Bean\npublic ReactiveJwtDecoder jwtDecoder() {\n    return new NimbusReactiveJwtDecoder(keySourceUrl);\n}\n@Bean\npublic ReactiveAuthenticationManager authenticationManager() {\n    return new JwtReactiveAuthenticationManager(jwtDecoder());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5721327,"reputation":470,"user_id":4519671,"accept_rate":50,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580972303,"creation_date":1580972303,"answer_id":60089310,"question_id":30761253,"body_markdown":"I came across the same problem and adding this line to my application.properties solved the issue.\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\r\n\r\nIt&#39;s one of the Spring&#39;s Automatic stuffs which you exclude it like excluding other stuffs such as actuators. I recommend looking at this [link][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I came across the same problem and adding this line to my application.properties solved the issue.</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n\n<p>It's one of the Spring's Automatic stuffs which you exclude it like excluding other stuffs such as actuators. I recommend looking at this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1664501476,"post_id":60316114,"comment_id":130491975,"body_markdown":"It will work for in-memory auth, as it *overwrites* the `InMemoryUserDetailsManager`, but for other auth, such as ldap, that does not work.","body":"It will work for in-memory auth, as it <i>overwrites</i> the <code>InMemoryUserDetailsManager</code>, but for other auth, such as ldap, that does not work."}],"tags":[],"owner":{"account_id":5702783,"reputation":686,"user_id":4507281,"display_name":"Dawid wito-Maniakowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1654418856,"creation_date":1582189092,"answer_id":60316114,"question_id":30761253,"body_markdown":"To remove the default user you need to configure authentication manager with no users for example:\r\n\r\n\r\n    @configuration\r\n    class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication();\r\n        }\r\n    }\r\n\r\nthis will remove default password message and default user because in that case you are configuring InMemoryAuthentication and you will not specify any user in next steps\r\n\r\n ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>To remove the default user you need to configure authentication manager with no users for example:</p>\n<pre><code>@configuration\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication();\n    }\n}\n</code></pre>\n<p>this will remove default password message and default user because in that case you are configuring InMemoryAuthentication and you will not specify any user in next steps</p>\n"},{"tags":[],"owner":{"account_id":17998803,"reputation":59,"user_id":13081179,"display_name":"mguser"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1597837661,"creation_date":1597837661,"answer_id":63486321,"question_id":30761253,"body_markdown":"In a Spring Boot 2 application you can either exclude the service configuration from autoconfiguration:\r\n\r\n```\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\r\n```\r\n\r\nor if you just want to hide the message in the logs you can simply change the log level:\r\n\r\n```\r\nlogging.level.org.springframework.boot.autoconfigure.security=WARN\r\n```\r\n\r\nFurther information can be found here: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html\r\n\r\n\r\n ","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>In a Spring Boot 2 application you can either exclude the service configuration from autoconfiguration:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n<p>or if you just want to hide the message in the logs you can simply change the log level:</p>\n<pre><code>logging.level.org.springframework.boot.autoconfigure.security=WARN\n</code></pre>\n<p>Further information can be found here: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html</a></p>\n"},{"tags":[],"owner":{"account_id":3679486,"reputation":27,"user_id":3064731,"display_name":"Jerry Shang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601204341,"creation_date":1601204341,"answer_id":64087688,"question_id":30761253,"body_markdown":"If you have enabled **actuator** feature (spring-boot-starter-actuator), additional exclude should be added in application.yml:\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration\r\n\r\n\r\nTested in Spring Boot version 2.3.4.RELEASE.","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you have enabled <strong>actuator</strong> feature (spring-boot-starter-actuator), additional exclude should be added in application.yml:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration\n</code></pre>\n<p>Tested in Spring Boot version 2.3.4.RELEASE.</p>\n"},{"tags":[],"owner":{"account_id":12669307,"reputation":245,"user_id":9207380,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1612834487,"creation_date":1612834487,"answer_id":66111770,"question_id":30761253,"body_markdown":"You only need to exclude UserDetailsServiceAutoConfiguration.\r\n\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>You only need to exclude UserDetailsServiceAutoConfiguration.</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8405935,"reputation":11,"user_id":6309431,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614500810,"creation_date":1614488289,"answer_id":66405965,"question_id":30761253,"body_markdown":"Just Adding below property to application.properties\r\n\r\n```\r\nspring.security.user.name=xyz\r\nspring.security.user.password=xxxxxxx\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Just Adding below property to application.properties</p>\n<pre><code>spring.security.user.name=xyz\nspring.security.user.password=xxxxxxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883660,"reputation":1271,"user_id":11460723,"display_name":"Amrut Prabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629220523,"creation_date":1629220523,"answer_id":68821510,"question_id":30761253,"body_markdown":"If you use Spring Security with spring cloud gateway, you can exclude the `ReactiveUserDetailsServiceAutoConfiguration.class`.\r\n\r\nLike this \r\n```java\r\n@SpringBootApplication(exclude = ReactiveUserDetailsServiceAutoConfiguration.class)\r\npublic class SpringClientApplication {\r\n\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you use Spring Security with spring cloud gateway, you can exclude the <code>ReactiveUserDetailsServiceAutoConfiguration.class</code>.</p>\n<p>Like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = ReactiveUserDetailsServiceAutoConfiguration.class)\npublic class SpringClientApplication {\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648717620,"creation_date":1648709742,"answer_id":71688133,"question_id":30761253,"body_markdown":"Password generation is done by \r\n\r\n\r\n    @Configuration(\r\n        proxyBeanMethods = false\r\n    )\r\n    @ConditionalOnClass({AuthenticationManager.class})\r\n    @ConditionalOnBean({ObjectPostProcessor.class})\r\n    @ConditionalOnMissingBean(\r\n        value = {AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class},\r\n        type = {&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;, &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;, &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot;}\r\n    )\r\n    public class UserDetailsServiceAutoConfiguration {\r\n\r\n\r\nif following beans are missing(JwtDecoder,OpaqueTokenIntrospector,ClientRegistrationRepository) - then we see password generation been invoked\r\n\r\n\r\nso in our case also we came across this issue then we \r\n\r\n    @SpringBootApplication(exclude = {FlywayAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class})\r\n\r\n \r\n\r\nAdded UserDetailsServiceAutoConfiguration.class to exclusion then we did not see the password generation in logs","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>Password generation is done by</p>\n<pre><code>@Configuration(\n    proxyBeanMethods = false\n)\n@ConditionalOnClass({AuthenticationManager.class})\n@ConditionalOnBean({ObjectPostProcessor.class})\n@ConditionalOnMissingBean(\n    value = {AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class},\n    type = {&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;, &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;, &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot;}\n)\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>if following beans are missing(JwtDecoder,OpaqueTokenIntrospector,ClientRegistrationRepository) - then we see password generation been invoked</p>\n<p>so in our case also we came across this issue then we</p>\n<pre><code>@SpringBootApplication(exclude = {FlywayAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class})\n</code></pre>\n<p>Added UserDetailsServiceAutoConfiguration.class to exclusion then we did not see the password generation in logs</p>\n"},{"tags":[],"owner":{"account_id":13657476,"reputation":890,"user_id":9853555,"display_name":"Nikhil Kamani"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1652965136,"creation_date":1652965136,"answer_id":72305018,"question_id":30761253,"body_markdown":"We should exclude UserDetailsServiceAutoConfiguration.class from spring boot autoconfiguration to fix this \r\n\r\nexample:\r\n\r\n    @SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class })\r\n    public class MyClass {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyClass.class, args);\r\n    }\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>We should exclude UserDetailsServiceAutoConfiguration.class from spring boot autoconfiguration to fix this</p>\n<p>example:</p>\n<pre><code>@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class })\npublic class MyClass {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyClass.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1654081185,"creation_date":1654081185,"answer_id":72460696,"question_id":30761253,"body_markdown":"So most of the answers to this question recommend either:\r\n\r\n - excluding some auto-configuration\r\n - setting up a user and/or password\r\n\r\nHowever excluding auto-configuration is hardly ever the answer. And if your application does not have any users the second solution is not great either.\r\n\r\nInstead we should work with Spring Boot.\r\n\r\nThe log message is generated by `UserDetailsServiceAutoConfiguration` to let us know Spring Boot put in a sensible default. And looking at the source and documentation for `UserDetailsServiceAutoConfiguration` we see:\r\n\r\n```java\r\n/**\r\n * {@link EnableAutoConfiguration Auto-configuration} for a Spring Security in-memory\r\n * {@link AuthenticationManager}. Adds an {@link InMemoryUserDetailsManager} with a\r\n * default user and generated password. This can be disabled by providing a bean of type\r\n * {@link AuthenticationManager}, {@link AuthenticationProvider} or\r\n * {@link UserDetailsService}.\r\n *\r\n * @author Dave Syer\r\n * @author Rob Winch\r\n * @author Madhura Bhave\r\n * @since 2.0.0\r\n */\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnClass(AuthenticationManager.class)\r\n@ConditionalOnBean(ObjectPostProcessor.class)\r\n@ConditionalOnMissingBean(\r\n\t\tvalue = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\r\n\t\t\t\tAuthenticationManagerResolver.class },\r\n\t\ttype = { &quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;,\r\n\t\t\t\t&quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;,\r\n\t\t\t\t&quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot; })\r\npublic class UserDetailsServiceAutoConfiguration {\r\n```\r\n\r\nWe can see that the `UserDetailsServiceAutoConfiguration` is disabled when any of these beans are provided: `AuthenticationManager`, `AuthenticationProvider`, `UserDetailsService`, or ` AuthenticationManagerResolver`. \r\n\r\nThis means that when tell Spring Boot how we want to authenticate our users, Spring Boot will not auto-configure a sensible default. Since we don&#39;t want to authenticate any users we can provide:\r\n\r\n```java\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n    @Bean\r\n    public AuthenticationManager noopAuthenticationManager() {\r\n        return authentication -&gt; {\r\n            throw new AuthenticationServiceException(&quot;Authentication is disabled&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>So most of the answers to this question recommend either:</p>\n<ul>\n<li>excluding some auto-configuration</li>\n<li>setting up a user and/or password</li>\n</ul>\n<p>However excluding auto-configuration is hardly ever the answer. And if your application does not have any users the second solution is not great either.</p>\n<p>Instead we should work with Spring Boot.</p>\n<p>The log message is generated by <code>UserDetailsServiceAutoConfiguration</code> to let us know Spring Boot put in a sensible default. And looking at the source and documentation for <code>UserDetailsServiceAutoConfiguration</code> we see:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * {@link EnableAutoConfiguration Auto-configuration} for a Spring Security in-memory\n * {@link AuthenticationManager}. Adds an {@link InMemoryUserDetailsManager} with a\n * default user and generated password. This can be disabled by providing a bean of type\n * {@link AuthenticationManager}, {@link AuthenticationProvider} or\n * {@link UserDetailsService}.\n *\n * @author Dave Syer\n * @author Rob Winch\n * @author Madhura Bhave\n * @since 2.0.0\n */\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(AuthenticationManager.class)\n@ConditionalOnBean(ObjectPostProcessor.class)\n@ConditionalOnMissingBean(\n        value = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\n                AuthenticationManagerResolver.class },\n        type = { &quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;,\n                &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;,\n                &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot; })\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>We can see that the <code>UserDetailsServiceAutoConfiguration</code> is disabled when any of these beans are provided: <code>AuthenticationManager</code>, <code>AuthenticationProvider</code>, <code>UserDetailsService</code>, or <code> AuthenticationManagerResolver</code>.</p>\n<p>This means that when tell Spring Boot how we want to authenticate our users, Spring Boot will not auto-configure a sensible default. Since we don't want to authenticate any users we can provide:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    public AuthenticationManager noopAuthenticationManager() {\n        return authentication -&gt; {\n            throw new AuthenticationServiceException(&quot;Authentication is disabled&quot;);\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680859321,"creation_date":1680859321,"answer_id":75957153,"question_id":30761253,"body_markdown":"A lot of answers here are actually trying to work against Spring Boot instead of working *with* the framework.\r\n\r\nIf you don&#39;t have any local users - because for example authentication is managed exclusively with JWT tokens - just tell Spring Boot so.\r\n\r\nDeclare an empty `UserDetailsService` as part of your `SecurityConfiguration` instead of trying to exclude parts of the auto configuration, or setting an unnecessary default user/password in `application.properties`:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\nclass SecurityConfiguration {\r\n\r\n   @Bean\r\n   UserDetailsService emptyDetailsService() {\r\n       return username -&gt; { throw new UsernameNotFoundException(&quot;no local users, only JWT tokens allowed&quot;); };\r\n   }\r\n\r\n   // rest of your security config\r\n\r\n}\r\n```","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>A lot of answers here are actually trying to work against Spring Boot instead of working <em>with</em> the framework.</p>\n<p>If you don't have any local users - because for example authentication is managed exclusively with JWT tokens - just tell Spring Boot so.</p>\n<p>Declare an empty <code>UserDetailsService</code> as part of your <code>SecurityConfiguration</code> instead of trying to exclude parts of the auto configuration, or setting an unnecessary default user/password in <code>application.properties</code>:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\nclass SecurityConfiguration {\n\n   @Bean\n   UserDetailsService emptyDetailsService() {\n       return username -&gt; { throw new UsernameNotFoundException(&quot;no local users, only JWT tokens allowed&quot;); };\n   }\n\n   // rest of your security config\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277860,"reputation":1575,"user_id":3498071,"accept_rate":36,"display_name":"Ali-Alrabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684832233,"creation_date":1684832233,"answer_id":76312935,"question_id":30761253,"body_markdown":"If you did not implement UserDetailsService interface, you need to exclude SecurityAutoConfiguration\r\n\r\n\r\nImplement UserDetailsService interface\r\n\r\n    @Component\r\n    public class UserDetailsServiceImpl implements UserDetailsService{\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\nExclude SecurityAutoConfiguration\r\n\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>If you did not implement UserDetailsService interface, you need to exclude SecurityAutoConfiguration</p>\n<p>Implement UserDetailsService interface</p>\n<pre><code>@Component\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>Exclude SecurityAutoConfiguration</p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7953735,"reputation":828,"user_id":6003769,"display_name":"Roger Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695577081,"creation_date":1695577081,"answer_id":77168225,"question_id":30761253,"body_markdown":"This thread covers historic versions of Spring Boot, but sadly is the first place that Google wants to take anyone if they want to try and disable the default user/password screen as they develop code. Ideas posted so far may work in part, but are also likely to be tripped up by the fact that more people are likely to be using spring-boot-starter-actuator that also expected the security sub-system to be working.\r\n\r\nBelow is a simple code example that enables permitAll access on any URL requested, with a link to the published blog post that covers the new interface. I hope this saves someone just half the time I have wasted today just trying to view the output of an endpoint.\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n\r\n    // Using Spring Security to disable the default user/password request screen\r\n    //\r\n    // based on the info posted here for code using spring security 5.7 or  higher\r\n    //\r\n    // https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n    //\r\n\r\n    @Configuration\r\n    public class DisableDefaultAuthenticationManager\r\n    {\r\n       @Bean\r\n       public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n       {\r\n          http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll()); \r\n          return http.build();\r\n       }\r\n}","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>This thread covers historic versions of Spring Boot, but sadly is the first place that Google wants to take anyone if they want to try and disable the default user/password screen as they develop code. Ideas posted so far may work in part, but are also likely to be tripped up by the fact that more people are likely to be using spring-boot-starter-actuator that also expected the security sub-system to be working.</p>\n<p>Below is a simple code example that enables permitAll access on any URL requested, with a link to the published blog post that covers the new interface. I hope this saves someone just half the time I have wasted today just trying to view the output of an endpoint.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n// Using Spring Security to disable the default user/password request screen\n//\n// based on the info posted here for code using spring security 5.7 or  higher\n//\n// https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\n//\n\n@Configuration\npublic class DisableDefaultAuthenticationManager\n{\n   @Bean\n   public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n   {\n      http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll()); \n      return http.build();\n   }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221178,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":30768011,"answer_count":27,"score":126,"last_activity_date":1695577081,"creation_date":1433951333,"question_id":30761253,"body_markdown":"I added one custom Security Config in my application on Spring Boot, but the message about &quot;Using default security password&quot; is still there in LOG file.\r\n\r\nIs there any to remove it? I do not need this default password. It seems Spring Boot is not recognizing my security policy.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class CustomSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final String uri = &quot;/custom/*&quot;;\r\n    \r\n        @Override\r\n        public void configure(final HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.headers().httpStrictTransportSecurity().disable();\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            // Authorize sub-folders permissions\r\n            http.antMatcher(uri).authorizeRequests().anyRequest().permitAll();\r\n        }\r\n    }\r\n\r\n","title":"Remove &quot;Using default security password&quot; on Spring Boot","body":"<p>I added one custom Security Config in my application on Spring Boot, but the message about \"Using default security password\" is still there in LOG file.</p>\n\n<p>Is there any to remove it? I do not need this default password. It seems Spring Boot is not recognizing my security policy.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class CustomSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String uri = \"/custom/*\";\n\n    @Override\n    public void configure(final HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.headers().httpStrictTransportSecurity().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Authorize sub-folders permissions\n        http.antMatcher(uri).authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":22414770,"reputation":668,"user_id":16622985,"display_name":"CaptainNabla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695576172,"creation_date":1695576172,"answer_id":77168178,"question_id":77164430,"body_markdown":"You are trying to use a [schema transform][1]. Such a built-in transform can only be used if all PCollections involved have an associated schema.\r\n\r\nSince I have only worked with the Python SDK I cannot tell you how to define a Beam schema in Java, but you can check the [programming guide][2] for the syntax/definition.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#schemas","title":"Cannot call getSchema when there is no schema when join two Pcollections","body":"<p>You are trying to use a <a href=\"https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\" rel=\"nofollow noreferrer\">schema transform</a>. Such a built-in transform can only be used if all PCollections involved have an associated schema.</p>\n<p>Since I have only worked with the Python SDK I cannot tell you how to define a Beam schema in Java, but you can check the <a href=\"https://beam.apache.org/documentation/programming-guide/#schemas\" rel=\"nofollow noreferrer\">programming guide</a> for the syntax/definition.</p>\n"}],"owner":{"account_id":7555053,"reputation":49,"user_id":5735042,"accept_rate":0,"display_name":"DiR95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695576172,"creation_date":1695493986,"question_id":77164430,"body_markdown":"I hope all is good for you.\r\n\r\nI have two PCollection and I want to apply a leftOuterJoin but when I do this apply, I have this error and I don&#39;t understand why : **java.lang.IllegalStateException: Cannot call getSchema when there is no schema**\r\n\r\n\r\n```\r\nfinal PCollection&lt;ClassA&gt; classA = BigQueryReader.getClassA(pipeline, configuration.getBigQueryOptions());\r\nfinal PCollection&lt;ClassB&gt; classB = BigQueryReader.getClassB(pipeline, configuration.getBigQueryOptions());\r\n\r\nfinal PCollection&lt;Row&gt; join = classA\r\n                .apply(&quot;Apply Join&quot;,\r\n                        Join.&lt;ClassA, ClassB&gt;leftOuterJoin(classB).using(&quot;id1&quot;, &quot;id2&quot;));\r\n\r\n```\r\n\r\nSomeone can help to understand why this error happens.\r\n\r\nThanks a lot.","title":"Cannot call getSchema when there is no schema when join two Pcollections","body":"<p>I hope all is good for you.</p>\n<p>I have two PCollection and I want to apply a leftOuterJoin but when I do this apply, I have this error and I don't understand why : <strong>java.lang.IllegalStateException: Cannot call getSchema when there is no schema</strong></p>\n<pre><code>final PCollection&lt;ClassA&gt; classA = BigQueryReader.getClassA(pipeline, configuration.getBigQueryOptions());\nfinal PCollection&lt;ClassB&gt; classB = BigQueryReader.getClassB(pipeline, configuration.getBigQueryOptions());\n\nfinal PCollection&lt;Row&gt; join = classA\n                .apply(&quot;Apply Join&quot;,\n                        Join.&lt;ClassA, ClassB&gt;leftOuterJoin(classB).using(&quot;id1&quot;, &quot;id2&quot;));\n\n</code></pre>\n<p>Someone can help to understand why this error happens.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","eclipse","facebook","facebook-graph-api","facebook-access-token"],"answers":[{"comments":[{"owner":{"account_id":4371356,"reputation":31,"user_id":3565671,"accept_rate":25,"display_name":"user3565671"},"score":0,"creation_date":1416230029,"post_id":26973013,"comment_id":42482190,"body_markdown":"i have tried it but got nothing. do you have a code example?","body":"i have tried it but got nothing. do you have a code example?"},{"owner":{"account_id":394854,"reputation":73205,"user_id":757508,"display_name":"andyrandy"},"score":0,"creation_date":1416231241,"post_id":26973013,"comment_id":42482894,"body_markdown":"&quot;got nothing&quot; is not really a sufficient error description. sorry, but stackoverflow is not a platform where you get code, we help with specific problems, but you are the one who needs to do the work ;)","body":"&quot;got nothing&quot; is not really a sufficient error description. sorry, but stackoverflow is not a platform where you get code, we help with specific problems, but you are the one who needs to do the work ;)"},{"owner":{"account_id":4371356,"reputation":31,"user_id":3565671,"accept_rate":25,"display_name":"user3565671"},"score":0,"creation_date":1416235998,"post_id":26973013,"comment_id":42485619,"body_markdown":"I dont know how to do this by code, What&#39;s described in the website is url requests. I work with eclipse java and dont know how do do it. thurthermore even when i did get the token by entering the correct url for extending the token - the token didnt work propertly","body":"I dont know how to do this by code, What&#39;s described in the website is url requests. I work with eclipse java and dont know how do do it. thurthermore even when i did get the token by entering the correct url for extending the token - the token didnt work propertly"},{"owner":{"account_id":394854,"reputation":73205,"user_id":757508,"display_name":"andyrandy"},"score":0,"creation_date":1483690042,"post_id":26973013,"comment_id":70208129,"body_markdown":"what do you mean by &quot;didn&#180;t work properly&quot;? did you debug it in the acces token debugger? &gt; https://developers.facebook.com/tools/debug/accesstoken/","body":"what do you mean by &quot;didn&#180;t work properly&quot;? did you debug it in the acces token debugger? &gt; <a href=\"https://developers.facebook.com/tools/debug/accesstoken/\" rel=\"nofollow noreferrer\">developers.facebook.com/tools/debug/accesstoken</a>"}],"tags":[],"owner":{"account_id":394854,"reputation":73205,"user_id":757508,"display_name":"andyrandy"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416228193,"creation_date":1416228193,"answer_id":26973013,"question_id":26972729,"body_markdown":"This article in the Facebook docs explains everything you need to know about Access Tokens: https://developers.facebook.com/docs/facebook-login/access-tokens/\r\n\r\nAn App Access Token can be used without User authorization, for every other Token you need authorization: https://developers.facebook.com/docs/facebook-login/v2.2\r\n\r\nI suggest trying one of the third party SDKs for Java: https://developers.facebook.com/docs/other-sdks\r\n\r\nApp Access Tokens are valid forever, Extended Page Tokens too. User Tokens can only be extended to 60 days max, by default they are valid for only 2 hours.","title":"Get facebook access token with java code","body":"<p>This article in the Facebook docs explains everything you need to know about Access Tokens: <a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens/\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/access-tokens/</a></p>\n\n<p>An App Access Token can be used without User authorization, for every other Token you need authorization: <a href=\"https://developers.facebook.com/docs/facebook-login/v2.2\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/v2.2</a></p>\n\n<p>I suggest trying one of the third party SDKs for Java: <a href=\"https://developers.facebook.com/docs/other-sdks\" rel=\"nofollow\">https://developers.facebook.com/docs/other-sdks</a></p>\n\n<p>App Access Tokens are valid forever, Extended Page Tokens too. User Tokens can only be extended to 60 days max, by default they are valid for only 2 hours.</p>\n"}],"owner":{"account_id":4371356,"reputation":31,"user_id":3565671,"accept_rate":25,"display_name":"user3565671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695575220,"creation_date":1416227264,"question_id":26972729,"body_markdown":"I have 2 questions:  \r\n\r\n- 1. I am trying to get access token through java code and not through Facebook developers site.\r\nDoes anyone have idea how can I do it?  \r\n\r\n- 2. is it possible to get longer access token that expires after more than 1 hour ?\r\n\r\nI read about some options but not something that is possible to me as simple user in Facebook.\r\n","title":"Get facebook access token with java code","body":"<p>I have 2 questions:  </p>\n\n<ul>\n<li><ol>\n<li>I am trying to get access token through java code and not through Facebook developers site.\nDoes anyone have idea how can I do it?  </li>\n</ol></li>\n<li><ol start=\"2\">\n<li>is it possible to get longer access token that expires after more than 1 hour ?</li>\n</ol></li>\n</ul>\n\n<p>I read about some options but not something that is possible to me as simple user in Facebook.</p>\n"},{"tags":["java","swing","oop","jdbc","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695574663,"post_id":77168067,"comment_id":136039544,"body_markdown":"That&#39;s a lot of code to go through. Consider working on isolating the code that causes the bug by creating a [mre] and then posting it here. This is not your entire program, but rather a small representative program that compiles for us, runs for us, and demonstrates the problem for us. The link will explain the details and how and why it is useful for both you and us. Best of luck.","body":"That&#39;s a lot of code to go through. Consider working on isolating the code that causes the bug by creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and then posting it here. This is not your entire program, but rather a small representative program that compiles for us, runs for us, and demonstrates the problem for us. The link will explain the details and how and why it is useful for both you and us. Best of luck."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695590948,"post_id":77168067,"comment_id":136041191,"body_markdown":"You do `DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);` and then you do `new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);` which if I&#39;m be honest, doesn&#39;t make any sense, why do you need a new instance of `DatabaseConnector` to do both those calls.  `if (DatabaseConnector.loginChecker(loginTextField.getText())) {` seems like an anti pattern to me, an instance of `DatabaseConnector` should have been passed to your `StaffLibraryTable` class - AKA dependency injection","body":"You do <code>DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);</code> and then you do <code>new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);</code> which if I&#39;m be honest, doesn&#39;t make any sense, why do you need a new instance of <code>DatabaseConnector</code> to do both those calls.  <code>if (DatabaseConnector.loginChecker(loginTextField.getText())) {</code> seems like an anti pattern to me, an instance of <code>DatabaseConnector</code> should have been passed to your <code>StaffLibraryTable</code> class - AKA dependency injection"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591204,"post_id":77168067,"comment_id":136041217,"body_markdown":"Your `DatabaseConnector` class is badly implemented.  First, it should be self contained.  That is, you should pass the credentials via the constructor and the `Connection` should be created or an exception thrown.  If it&#39;s created successfully, then it should be assumed to be in a valid state.  I might also consider using a shutdown hook to close it. You should not be passing in the `JTable` or `TableModel`, instead the instance of `DatabaseConnector` should be passing back an appropriate DTO (ie an object representation of the data), which the caller would then decide what to do with.","body":"Your <code>DatabaseConnector</code> class is badly implemented.  First, it should be self contained.  That is, you should pass the credentials via the constructor and the <code>Connection</code> should be created or an exception thrown.  If it&#39;s created successfully, then it should be assumed to be in a valid state.  I might also consider using a shutdown hook to close it. You should not be passing in the <code>JTable</code> or <code>TableModel</code>, instead the instance of <code>DatabaseConnector</code> should be passing back an appropriate DTO (ie an object representation of the data), which the caller would then decide what to do with."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591231,"post_id":77168067,"comment_id":136041219,"body_markdown":"And don&#39;t consume the exceptions, re-throw them - it&#39;s the responsibility of the caller to determine what to do with the errors","body":"And don&#39;t consume the exceptions, re-throw them - it&#39;s the responsibility of the caller to determine what to do with the errors"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695591341,"post_id":77168067,"comment_id":136041222,"body_markdown":"I would check to see if &quot;auto commit&quot; is enabled or not.  Also, your current workflow will ruin your `TableSorter` once the table model is updated","body":"I would check to see if &quot;auto commit&quot; is enabled or not.  Also, your current workflow will ruin your <code>TableSorter</code> once the table model is updated"}],"answers":[{"comments":[{"owner":{"account_id":29522941,"reputation":1,"user_id":22625271,"display_name":"Przemysaw Poskrobko"},"score":0,"creation_date":1695577273,"post_id":77168105,"comment_id":136039836,"body_markdown":"I exppected table to fetch in this line:","body":"I exppected table to fetch in this line:"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695580300,"post_id":77168105,"comment_id":136040130,"body_markdown":"@PrzemysawPoskrobko with *what* line?","body":"@PrzemysawPoskrobko with <i>what</i> line?"}],"tags":[],"owner":{"account_id":2609531,"reputation":1,"user_id":4520292,"display_name":"Arist&#243;teles Machado"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695575037,"creation_date":1695575037,"answer_id":77168105,"question_id":77168067,"body_markdown":"In a method actionPerformed, maybe you forget to fetch results on the database, or nothing change when the session closed.\r\n\r\n\r\n    public DatabaseConnector(String sqlQuery) {\r\n            this();\r\n            try {\r\n                this.preparedStatement = connection.prepareStatement(sqlQuery);\r\n                this.preparedStatement.executeUpdate();\r\n\r\nMaybe you need a line with:\r\n\r\n    this.preparedStatement.commit();\r\n\r\nSee also:\r\nhttps://stackoverflow.com/questions/40785714/what-is-the-best-way-to-rollback-a-statement-execution-failure-in-java-8\r\n","title":"Table is not fetched from mysql database to JTable in Java Swing","body":"<p>In a method actionPerformed, maybe you forget to fetch results on the database, or nothing change when the session closed.</p>\n<pre><code>public DatabaseConnector(String sqlQuery) {\n        this();\n        try {\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\n            this.preparedStatement.executeUpdate();\n</code></pre>\n<p>Maybe you need a line with:</p>\n<pre><code>this.preparedStatement.commit();\n</code></pre>\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/40785714/what-is-the-best-way-to-rollback-a-statement-execution-failure-in-java-8\">What is the best way to rollback() a statement execution failure in Java 8?</a></p>\n"}],"owner":{"account_id":29522941,"reputation":1,"user_id":22625271,"display_name":"Przemysaw Poskrobko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695575037,"creation_date":1695574451,"question_id":77168067,"body_markdown":"I created a DataConnector Class which connect my program to database. Then I created default constructor DataConnector(), which would be a common part for other parametrized constructor. So I used parametrized constructor databaseConnector(String sqlQuery, JTable table) to fetch a table from mysql database to my program (to class StaffLibraryTable). The problem is when I run program the database is fetched but the second time after adding sth to table a new row doesn&#39;t apear on the screen but there is a new one in database. This is my Class DatabaseConnector:\r\n\r\n```\r\npackage LibraryFiles;\r\n\r\n\r\nimport net.proteanit.sql.DbUtils;\r\nimport javax.swing.*;\r\nimport javax.swing.table.TableModel;\r\nimport java.sql.*;\r\npublic class DatabaseConnector {\r\n    String url = &quot;jdbc:mysql://localhost:3306/librarytest&quot;;\r\n    String uname = &quot;root&quot;;\r\n    String password = &quot;&quot;;\r\n    Connection connection;\r\n    Statement statement;\r\n    PreparedStatement preparedStatement;\r\n    ResultSet resultSet;\r\n    TableModel tableModel;\r\n\r\n    public DatabaseConnector(){\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            this.connection = DriverManager.getConnection(url, uname, password);\r\n            this.statement = connection.createStatement();\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector()- first part&quot;);\r\n            System.out.println(e.getMessage());\r\n\r\n        }\r\n    }\r\n    public DatabaseConnector(String sqlQuery) {\r\n        this();\r\n        try {\r\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\r\n            this.preparedStatement.executeUpdate();\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery)-first part&quot;);\r\n            System.out.println(e.getMessage());\r\n            System.out.println(e.getErrorCode());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery)- second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n    }\r\n    public DatabaseConnector(String sqlQuery, TableModel tableModel) {\r\n        this();\r\n        try{\r\n            resultSet = statement.executeQuery(sqlQuery);\r\n            this.tableModel = tableModel;\r\n        } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel      tableModel)- first part&quot;);\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel tableModel)- second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public static  TableModel generateTableModelStaffTable(){\r\n        TableModel tableModel1 = null;\r\n        DatabaseConnector databaseConnector = new DatabaseConnector(&quot;select * from stafflist&quot;, tableModel1);\r\n        return tableModel1;\r\n    }\r\n\r\n\r\n    public DatabaseConnector(String sqlQuery, JTable table) {\r\n        try{\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(url, uname, password);\r\n            statement = connection.createStatement();\r\n            resultSet = statement.executeQuery(sqlQuery);\r\n            if (!resultSet.next()) System.out.println(&quot;result set is empty&quot;);\r\n            tableModel = DbUtils.resultSetToTableModel(resultSet);\r\n            table.setModel(tableModel);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - first part&quot;);\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (this.connection != null) {\r\n                    this.connection.close();\r\n                    this.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    static boolean loginChecker (String providedLoggin){\r\n        boolean wynik = true;\r\n        try {\r\n            DatabaseConnector databaseConnector = new DatabaseConnector();\r\n            String sqlQuery = String.format(&quot;select * from loggintable where login = &#39;%s&#39;&quot;, providedLoggin);\r\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\r\n            if(databaseConnector.resultSet.next()) wynik = false;\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in LoginChecker&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return wynik;\r\n    }\r\n    static boolean logginService(String providedLoggin,String providedPassword){\r\n        boolean isValidPassword = false;\r\n        DatabaseConnector databaseConnector = new DatabaseConnector();\r\n        try {\r\n            String sqlQuery = String.format(&quot;select * from loggintable where login = &#39;%s&#39; AND password = &#39;%s&#39;&quot;, providedLoggin, providedPassword);\r\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\r\n            if(databaseConnector.resultSet.next()) {\r\n                isValidPassword = true;\r\n            }\r\n            else{\r\n                JOptionPane.showMessageDialog(null, &quot;Zy login lub haso&quot;);\r\n                isValidPassword = false;\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;error in LoginService&quot;);\r\n            System.out.println(e.getMessage());\r\n        }finally {\r\n            try {\r\n                if (databaseConnector.connection != null) {\r\n                    databaseConnector.connection.close();\r\n                    databaseConnector.statement.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n        return isValidPassword;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is a class where I create a DatabaseConnector object to update myJTable :\r\n\r\n```\r\nPackage LibraryFiles;\r\n\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.table.TableModel;\r\nimport javax.swing.table.TableRowSorter;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class StaffLibraryTable {\r\n    private JPanel mainPanel, leftBottomPanel, rightPanel, leftPanel;\r\n    private JTable staffTable;\r\n    private JTextField idWorkerTextField, nameTextField, surnameTextField, addressTextField, postcodeTextField, cityTextField, searchTextField, loginTextField;\r\n    private JButton addButton, updateButton, deleteButton, clearButton;\r\n    private JPasswordField passwordTextField;\r\n\r\n    private JScrollPane scrolPane;\r\n    private JComboBox statusComboBox;\r\n    private JLabel searchLabel,loginLabel, passwordLabel;\r\n\r\n    public StaffLibraryTable() {\r\n        JFrame frame = new JFrame(&quot;Staff&quot;);\r\n        frame.setContentPane(mainPanel);\r\n        frame.setVisible(true);\r\n        frame.setSize(900,800);\r\n        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\r\n        frame.pack();\r\n        TableRowSorter rowSorter = new TableRowSorter(staffTable.getModel());\r\n        staffTable.setRowSorter(rowSorter);\r\n\r\n        searchTextField.getDocument().addDocumentListener(new DocumentListener() {\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                String text = searchTextField.getText();\r\n                if(!text.trim().equals(0)){\r\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\r\n                }\r\n            }\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                String text = searchTextField.getText();\r\n                if(!text.trim().equals(0)){\r\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\r\n                }\r\n            }\r\n            @Override\r\n            public void changedUpdate(DocumentEvent e) {\r\n            }\r\n        });\r\n        staffTable.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                int selectedRow = staffTable.getSelectedRow();\r\n                TableModel tableModel = staffTable.getModel();\r\n                nameTextField.setText((String) tableModel.getValueAt(selectedRow,1));\r\n                surnameTextField.setText((String) tableModel.getValueAt(selectedRow,2));\r\n                addressTextField.setText((String) tableModel.getValueAt(selectedRow,3));\r\n                postcodeTextField.setText((String) tableModel.getValueAt(selectedRow,4));\r\n                cityTextField.setText((String) tableModel.getValueAt(selectedRow,5));\r\n                loginTextField.setText((String) tableModel.getValueAt(selectedRow,6));\r\n            }\r\n        });\r\n\r\n        addButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                if (DatabaseConnector.loginChecker(loginTextField.getText())) {\r\n                    if (idWorkerTextField.getText().equals(null) | idWorkerTextField.getText().equals(&quot;&quot;)){\r\n                        String name = nameTextField.getText();\r\n                        String surname = surnameTextField.getText();\r\n                        String address = addressTextField.getText();\r\n                        String postcode = postcodeTextField.getText();\r\n                        String city = cityTextField.getText();\r\n                        String login = loginTextField.getText();\r\n                        String status = statusComboBox.getSelectedItem().toString();\r\n\r\n                        String sqlQuery = String.format(&quot;insert into stafflist&quot; +\r\n                                &quot;(`name`, `surname`, `address`, `postcode`, `city`,`login`) VALUES (&#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;)&quot;, name, surname, address, postcode,\r\n                                city, login);\r\n                        DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);\r\n                        JOptionPane.showMessageDialog(null, &quot;Dodano pracownika&quot;);\r\n                        idWorkerTextField.setText(&quot;&quot;);\r\n                        nameTextField.setText(&quot;&quot;);\r\n                        surnameTextField.setText(&quot;&quot;);\r\n                        addressTextField.setText(&quot;&quot;);\r\n                        postcodeTextField.setText(&quot;&quot;);\r\n                        cityTextField.setText(&quot;&quot;);\r\n                        loginTextField.setText(&quot;&quot;);\r\n                        nameTextField.requestFocus();\r\n                        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\r\n                    }\r\n                    else{\r\n                        JOptionPane.showMessageDialog(null, &quot;Wcinij przycisk Clear  przygotowa miejsce na nowy wpis&quot;);\r\n                    }\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null, &quot;Podany login jest ju zajty&quot;);\r\n\r\n                }\r\n            }\r\n        });\r\n        clearButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                idWorkerTextField.setText(&quot;&quot;);\r\n                nameTextField.setText(&quot;&quot;);\r\n                surnameTextField.setText(&quot;&quot;);\r\n                addressTextField.setText(&quot;&quot;);\r\n                postcodeTextField.setText(&quot;&quot;);\r\n                cityTextField.setText(&quot;&quot;);\r\n                loginTextField.setText(&quot;&quot;);\r\n                nameTextField.requestFocus();\r\n            }\r\n        });\r\n        addButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n\r\n            }\r\n        });\r\n    }\r\n        public static void main (String[]args){\r\n            new StaffLibraryTable();\r\n        }\r\n```\r\n\r\nI expected my program to add new row to JTable directly after hitting a button &quot;add&quot;, so I can see a change in JTable which is on the screen. I used Intelij to do this program. Any ideas to solve this? thank You in advance","title":"Table is not fetched from mysql database to JTable in Java Swing","body":"<p>I created a DataConnector Class which connect my program to database. Then I created default constructor DataConnector(), which would be a common part for other parametrized constructor. So I used parametrized constructor databaseConnector(String sqlQuery, JTable table) to fetch a table from mysql database to my program (to class StaffLibraryTable). The problem is when I run program the database is fetched but the second time after adding sth to table a new row doesn't apear on the screen but there is a new one in database. This is my Class DatabaseConnector:</p>\n<pre><code>package LibraryFiles;\n\n\nimport net.proteanit.sql.DbUtils;\nimport javax.swing.*;\nimport javax.swing.table.TableModel;\nimport java.sql.*;\npublic class DatabaseConnector {\n    String url = &quot;jdbc:mysql://localhost:3306/librarytest&quot;;\n    String uname = &quot;root&quot;;\n    String password = &quot;&quot;;\n    Connection connection;\n    Statement statement;\n    PreparedStatement preparedStatement;\n    ResultSet resultSet;\n    TableModel tableModel;\n\n    public DatabaseConnector(){\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            this.connection = DriverManager.getConnection(url, uname, password);\n            this.statement = connection.createStatement();\n        } catch (ClassNotFoundException | SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector()- first part&quot;);\n            System.out.println(e.getMessage());\n\n        }\n    }\n    public DatabaseConnector(String sqlQuery) {\n        this();\n        try {\n            this.preparedStatement = connection.prepareStatement(sqlQuery);\n            this.preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery)-first part&quot;);\n            System.out.println(e.getMessage());\n            System.out.println(e.getErrorCode());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery)- second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n\n    }\n    public DatabaseConnector(String sqlQuery, TableModel tableModel) {\n        this();\n        try{\n            resultSet = statement.executeQuery(sqlQuery);\n            this.tableModel = tableModel;\n        } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel      tableModel)- first part&quot;);\n            System.out.println(e.getMessage());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, TableModel tableModel)- second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n    public static  TableModel generateTableModelStaffTable(){\n        TableModel tableModel1 = null;\n        DatabaseConnector databaseConnector = new DatabaseConnector(&quot;select * from stafflist&quot;, tableModel1);\n        return tableModel1;\n    }\n\n\n    public DatabaseConnector(String sqlQuery, JTable table) {\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(url, uname, password);\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(sqlQuery);\n            if (!resultSet.next()) System.out.println(&quot;result set is empty&quot;);\n            tableModel = DbUtils.resultSetToTableModel(resultSet);\n            table.setModel(tableModel);\n        } catch (ClassNotFoundException | SQLException e) {\n            System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - first part&quot;);\n            System.out.println(e.getMessage());\n        } finally {\n            try {\n                if (this.connection != null) {\n                    this.connection.close();\n                    this.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n    static boolean loginChecker (String providedLoggin){\n        boolean wynik = true;\n        try {\n            DatabaseConnector databaseConnector = new DatabaseConnector();\n            String sqlQuery = String.format(&quot;select * from loggintable where login = '%s'&quot;, providedLoggin);\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\n            if(databaseConnector.resultSet.next()) wynik = false;\n        } catch (SQLException e) {\n            System.out.println(&quot;error in LoginChecker&quot;);\n            System.out.println(e.getMessage());\n        }\n        return wynik;\n    }\n    static boolean logginService(String providedLoggin,String providedPassword){\n        boolean isValidPassword = false;\n        DatabaseConnector databaseConnector = new DatabaseConnector();\n        try {\n            String sqlQuery = String.format(&quot;select * from loggintable where login = '%s' AND password = '%s'&quot;, providedLoggin, providedPassword);\n            databaseConnector.resultSet = databaseConnector.statement.executeQuery(sqlQuery);\n            if(databaseConnector.resultSet.next()) {\n                isValidPassword = true;\n            }\n            else{\n                JOptionPane.showMessageDialog(null, &quot;Zy login lub haso&quot;);\n                isValidPassword = false;\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;error in LoginService&quot;);\n            System.out.println(e.getMessage());\n        }finally {\n            try {\n                if (databaseConnector.connection != null) {\n                    databaseConnector.connection.close();\n                    databaseConnector.statement.close();\n                }\n            } catch (SQLException e) {\n                System.out.println(&quot;error in DatabaseConnector(String sqlQuery, JTable table) - second part&quot;);\n                System.out.println(e.getMessage());\n            }\n        }\n        return isValidPassword;\n    }\n\n}\n</code></pre>\n<p>And this is a class where I create a DatabaseConnector object to update myJTable :</p>\n<pre><code>Package LibraryFiles;\n\n\nimport javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.table.TableModel;\nimport javax.swing.table.TableRowSorter;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class StaffLibraryTable {\n    private JPanel mainPanel, leftBottomPanel, rightPanel, leftPanel;\n    private JTable staffTable;\n    private JTextField idWorkerTextField, nameTextField, surnameTextField, addressTextField, postcodeTextField, cityTextField, searchTextField, loginTextField;\n    private JButton addButton, updateButton, deleteButton, clearButton;\n    private JPasswordField passwordTextField;\n\n    private JScrollPane scrolPane;\n    private JComboBox statusComboBox;\n    private JLabel searchLabel,loginLabel, passwordLabel;\n\n    public StaffLibraryTable() {\n        JFrame frame = new JFrame(&quot;Staff&quot;);\n        frame.setContentPane(mainPanel);\n        frame.setVisible(true);\n        frame.setSize(900,800);\n        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\n        frame.pack();\n        TableRowSorter rowSorter = new TableRowSorter(staffTable.getModel());\n        staffTable.setRowSorter(rowSorter);\n\n        searchTextField.getDocument().addDocumentListener(new DocumentListener() {\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                String text = searchTextField.getText();\n                if(!text.trim().equals(0)){\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\n                }\n            }\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                String text = searchTextField.getText();\n                if(!text.trim().equals(0)){\n                    rowSorter.setRowFilter(RowFilter.regexFilter(String.format(&quot;.*^%s.*$&quot;,text)));\n                }\n            }\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n            }\n        });\n        staffTable.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                int selectedRow = staffTable.getSelectedRow();\n                TableModel tableModel = staffTable.getModel();\n                nameTextField.setText((String) tableModel.getValueAt(selectedRow,1));\n                surnameTextField.setText((String) tableModel.getValueAt(selectedRow,2));\n                addressTextField.setText((String) tableModel.getValueAt(selectedRow,3));\n                postcodeTextField.setText((String) tableModel.getValueAt(selectedRow,4));\n                cityTextField.setText((String) tableModel.getValueAt(selectedRow,5));\n                loginTextField.setText((String) tableModel.getValueAt(selectedRow,6));\n            }\n        });\n\n        addButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                if (DatabaseConnector.loginChecker(loginTextField.getText())) {\n                    if (idWorkerTextField.getText().equals(null) | idWorkerTextField.getText().equals(&quot;&quot;)){\n                        String name = nameTextField.getText();\n                        String surname = surnameTextField.getText();\n                        String address = addressTextField.getText();\n                        String postcode = postcodeTextField.getText();\n                        String city = cityTextField.getText();\n                        String login = loginTextField.getText();\n                        String status = statusComboBox.getSelectedItem().toString();\n\n                        String sqlQuery = String.format(&quot;insert into stafflist&quot; +\n                                &quot;(`name`, `surname`, `address`, `postcode`, `city`,`login`) VALUES ('%s', '%s', '%s', '%s', '%s', '%s')&quot;, name, surname, address, postcode,\n                                city, login);\n                        DatabaseConnector databaseConnector = new DatabaseConnector(sqlQuery);\n                        JOptionPane.showMessageDialog(null, &quot;Dodano pracownika&quot;);\n                        idWorkerTextField.setText(&quot;&quot;);\n                        nameTextField.setText(&quot;&quot;);\n                        surnameTextField.setText(&quot;&quot;);\n                        addressTextField.setText(&quot;&quot;);\n                        postcodeTextField.setText(&quot;&quot;);\n                        cityTextField.setText(&quot;&quot;);\n                        loginTextField.setText(&quot;&quot;);\n                        nameTextField.requestFocus();\n                        new DatabaseConnector(&quot;select * from stafflist&quot;, staffTable);\n                    }\n                    else{\n                        JOptionPane.showMessageDialog(null, &quot;Wcinij przycisk Clear  przygotowa miejsce na nowy wpis&quot;);\n                    }\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Podany login jest ju zajty&quot;);\n\n                }\n            }\n        });\n        clearButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                idWorkerTextField.setText(&quot;&quot;);\n                nameTextField.setText(&quot;&quot;);\n                surnameTextField.setText(&quot;&quot;);\n                addressTextField.setText(&quot;&quot;);\n                postcodeTextField.setText(&quot;&quot;);\n                cityTextField.setText(&quot;&quot;);\n                loginTextField.setText(&quot;&quot;);\n                nameTextField.requestFocus();\n            }\n        });\n        addButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n\n            }\n        });\n    }\n        public static void main (String[]args){\n            new StaffLibraryTable();\n        }\n</code></pre>\n<p>I expected my program to add new row to JTable directly after hitting a button &quot;add&quot;, so I can see a change in JTable which is on the screen. I used Intelij to do this program. Any ideas to solve this? thank You in advance</p>\n"},{"tags":["java","spring","spring-boot","yaml","config"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1688958234,"post_id":76648307,"comment_id":135139637,"body_markdown":"Just a design advice (if possible in your case): use keys without special chars, maybe something like `fruits-and-vegetables`. And although string literals may be better supported in yml than in properties, often it&#39;s better to enquote them as well.","body":"Just a design advice (if possible in your case): use keys without special chars, maybe something like <code>fruits-and-vegetables</code>. And although string literals may be better supported in yml than in properties, often it&#39;s better to enquote them as well."},{"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"score":0,"creation_date":1689000043,"post_id":76648307,"comment_id":135147421,"body_markdown":"@Slevin i know this, but unfortunately i need this exact naming conventions so i was looking around to know if there is any encoding for application.yml files or any conventions","body":"@Slevin i know this, but unfortunately i need this exact naming conventions so i was looking around to know if there is any encoding for application.yml files or any conventions"}],"answers":[{"tags":[],"owner":{"account_id":4417671,"reputation":89,"user_id":3598740,"accept_rate":83,"display_name":"Axtract"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695574759,"creation_date":1695574759,"answer_id":77168088,"question_id":76648307,"body_markdown":"I&#39;ve done some research on this for you. There is a variety of solutions to your question. \r\n\r\nYou can quote the entier key, by enclosing it in single or double quotes: \r\n\r\n`&#39;citrus: fruits &amp; vegetables&#39;: something&#39;`\r\n\r\nOr you can use square brackets, as you have said in your question: \r\n\r\n`[citrus: fruits &amp; vegetables]: something`\r\n\r\nUsing quotes is more common, and widely recognised. It ensures the entire string is treated as the key without any special processing of the characters within it. ","title":"Is there any need of encoding for the keys in application.yml","body":"<p>I've done some research on this for you. There is a variety of solutions to your question.</p>\n<p>You can quote the entier key, by enclosing it in single or double quotes:</p>\n<p><code>'citrus: fruits &amp; vegetables': something'</code></p>\n<p>Or you can use square brackets, as you have said in your question:</p>\n<p><code>[citrus: fruits &amp; vegetables]: something</code></p>\n<p>Using quotes is more common, and widely recognised. It ensures the entire string is treated as the key without any special processing of the characters within it.</p>\n"}],"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1695574759,"creation_date":1688917951,"question_id":76648307,"body_markdown":"I need to have a compound name as a key in my application.yml. For example: \r\n\r\ncitrus:\r\n   fruits &amp; vegetables: something\r\n\r\nAnd I need to know if it needs any specific encoding or it will work by simply &#39;fruits &amp; vegetables&#39; or I need to escaped the &amp; because fruits &amp; vegetables does not work. \r\n\r\nI found the solution, you must see what spring boot version you use for me it worked to use &quot;[fruits &amp; vegetables]&quot;\r\n","title":"Is there any need of encoding for the keys in application.yml","body":"<p>I need to have a compound name as a key in my application.yml. For example:</p>\n<p>citrus:\nfruits &amp; vegetables: something</p>\n<p>And I need to know if it needs any specific encoding or it will work by simply 'fruits &amp; vegetables' or I need to escaped the &amp; because fruits &amp; vegetables does not work.</p>\n<p>I found the solution, you must see what spring boot version you use for me it worked to use &quot;[fruits &amp; vegetables]&quot;</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","aop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1695574722,"post_id":77168061,"comment_id":136039552,"body_markdown":"u haven&#39;t said what exactly is lacking in the AOP approach? What criteria would allow for &quot;genericity&quot; that you are looking for? Every single possible mutation point in the whole application is a tall order, perhaps start with satisfying a specific use case and add as your requirements grow?","body":"u haven&#39;t said what exactly is lacking in the AOP approach? What criteria would allow for &quot;genericity&quot; that you are looking for? Every single possible mutation point in the whole application is a tall order, perhaps start with satisfying a specific use case and add as your requirements grow?"},{"owner":{"account_id":11297354,"reputation":173,"user_id":8284457,"display_name":"Sangeetharaj"},"score":0,"creation_date":1695796213,"post_id":77168061,"comment_id":136070352,"body_markdown":"If you are looking for JPA to update only modified field of an entity, try @DynamicUpdate(true). This will generate update query for only modified fields","body":"If you are looking for JPA to update only modified field of an entity, try @DynamicUpdate(true). This will generate update query for only modified fields"}],"owner":{"account_id":19936439,"reputation":19,"user_id":14609002,"display_name":"Trex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695574615,"creation_date":1695574289,"question_id":77168061,"body_markdown":"I was looking around to find what it is the best solution regarding observing changes of the fields of an entity. I want something generic and maybe to be used in other application in the future ( i was thinking of building a lib).\r\nSome of the solution i found were:\r\n\r\n- AOP:\r\n```java\r\n@Aspect\r\npublic class AuditAnnotationAspect {\r\n\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n    \r\n        @Before(&quot;execution(* com.publicis.sapient.engagement.app.repository.RoleRepository.save(..)) &amp;&amp; args(newRole)&quot;)\r\n        public void before(Role newRole) {\r\n            Role currentRole = entityManager.find(Role.class, newRole.getId());\r\n        }\r\n\r\n}\r\n```\r\n- Field Listener:\r\n  https://stackoverflow.com/questions/16955588/java-object-changed-fields-listener-design-pattern\r\n\r\n- Hibernate Envers\r\n\r\n- Hibernate Interceptors\r\n\r\nBut none of them seem to give me the genericity i am looking for, maybe there are still ideas that i have not found.","title":"What is the most generic solution to look after changes of the fields of an entity in Java?","body":"<p>I was looking around to find what it is the best solution regarding observing changes of the fields of an entity. I want something generic and maybe to be used in other application in the future ( i was thinking of building a lib).\nSome of the solution i found were:</p>\n<ul>\n<li>AOP:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class AuditAnnotationAspect {\n\n        @Autowired\n        private EntityManager entityManager;\n    \n        @Before(&quot;execution(* com.publicis.sapient.engagement.app.repository.RoleRepository.save(..)) &amp;&amp; args(newRole)&quot;)\n        public void before(Role newRole) {\n            Role currentRole = entityManager.find(Role.class, newRole.getId());\n        }\n\n}\n</code></pre>\n<ul>\n<li><p>Field Listener:\n<a href=\"https://stackoverflow.com/questions/16955588/java-object-changed-fields-listener-design-pattern\">Java object, changed fields listener, design-pattern</a></p>\n</li>\n<li><p>Hibernate Envers</p>\n</li>\n<li><p>Hibernate Interceptors</p>\n</li>\n</ul>\n<p>But none of them seem to give me the genericity i am looking for, maybe there are still ideas that i have not found.</p>\n"},{"tags":["java","windows","command"],"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":1,"creation_date":1351994384,"post_id":13215348,"comment_id":17996655,"body_markdown":"http://support.microsoft.com/kb/110930","body":"<a href=\"http://support.microsoft.com/kb/110930\" rel=\"nofollow noreferrer\">support.microsoft.com/kb/110930</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1351994564,"post_id":13215348,"comment_id":17996693,"body_markdown":"*&quot;i have googled my heart out!&quot;* Better to mention 1) What search terms were used. 2) Some of the top links found on those terms. 3) Why they did not suit the need.","body":"<i>&quot;i have googled my heart out!&quot;</i> Better to mention 1) What search terms were used. 2) Some of the top links found on those terms. 3) Why they did not suit the need."}],"answers":[{"comments":[{"owner":{"account_id":1310284,"reputation":1766,"user_id":1258407,"accept_rate":59,"display_name":"Seth"},"score":1,"creation_date":1351996601,"post_id":13215395,"comment_id":17996918,"body_markdown":"I thank you greatly! Never knew that after all the batch files i wrote :(\n\nAnd the search terms i used were &quot;Output java -jar errors&quot; and they didnt hold my answer. Nothing even close. Would have never thought to use redirect error stream. Thank you so much @thedayofcondor!","body":"I thank you greatly! Never knew that after all the batch files i wrote :(  And the search terms i used were &quot;Output java -jar errors&quot; and they didnt hold my answer. Nothing even close. Would have never thought to use redirect error stream. Thank you so much @thedayofcondor!"},{"owner":{"account_id":3790359,"reputation":2316,"user_id":3147100,"display_name":"Kevin"},"score":0,"creation_date":1649010942,"post_id":13215395,"comment_id":126762415,"body_markdown":"This answer was very useful. In testing however, I found the &quot;2&quot; outputs EVERYTHING, not just errors.","body":"This answer was very useful. In testing however, I found the &quot;2&quot; outputs EVERYTHING, not just errors."},{"owner":{"account_id":1968345,"reputation":3866,"user_id":1767992,"display_name":"thedayofcondor"},"score":0,"creation_date":1649024355,"post_id":13215395,"comment_id":126764964,"body_markdown":"The `2&gt;&gt;` only logs `stderr` to the file, `stdout` should be visible on the console. It may be your jar prints its output as well to `stderr`?","body":"The <code>2&gt;&gt;</code> only logs <code>stderr</code> to the file, <code>stdout</code> should be visible on the console. It may be your jar prints its output as well to <code>stderr</code>?"}],"tags":[],"owner":{"account_id":1968345,"reputation":3866,"user_id":1767992,"display_name":"thedayofcondor"},"comment_count":3,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1351994816,"creation_date":1351994816,"answer_id":13215395,"question_id":13215348,"body_markdown":"Use:\r\n\r\n    java -jar class.jar &lt;someFile.file&gt; 2&gt;&gt; log.txt\r\n\r\nThe 2 redirects the error stream.","title":"How to output java -jar errors to a text/log file?","body":"<p>Use:</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt; 2&gt;&gt; log.txt\n</code></pre>\n\n<p>The 2 redirects the error stream.</p>\n"},{"comments":[{"owner":{"account_id":3790359,"reputation":2316,"user_id":3147100,"display_name":"Kevin"},"score":0,"creation_date":1649008594,"post_id":20369518,"comment_id":126761888,"body_markdown":"I tested this. For some reason this doesnt output/log ANY of the java.","body":"I tested this. For some reason this doesnt output/log ANY of the java."}],"tags":[],"owner":{"account_id":1202807,"reputation":1243,"user_id":1173113,"accept_rate":71,"display_name":"Waqas Memon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386142118,"creation_date":1386142118,"answer_id":20369518,"question_id":13215348,"body_markdown":"or you can use bat file to easily direct all output to a text file \r\nin command prompt \r\n\r\nC:\\&gt; something.bat &gt; console_output.txt","title":"How to output java -jar errors to a text/log file?","body":"<p>or you can use bat file to easily direct all output to a text file \nin command prompt </p>\n\n<p>C:> something.bat > console_output.txt</p>\n"},{"tags":[],"owner":{"account_id":5566746,"reputation":149,"user_id":4413747,"accept_rate":0,"display_name":"Yasin Fatullayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695574573,"creation_date":1695574573,"answer_id":77168075,"question_id":13215348,"body_markdown":"Try to do it like this to running it background   \r\n\r\n    javaw -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\r\n\r\nTry the one below if you want to run it on cmd session. \r\n\r\n    java -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\r\n\r\n","title":"How to output java -jar errors to a text/log file?","body":"<p>Try to do it like this to running it background</p>\n<pre><code>javaw -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\n</code></pre>\n<p>Try the one below if you want to run it on cmd session.</p>\n<pre><code>java -jar yourjarfile.jar &gt;&gt;yourlogfile.txt 2&gt;&amp;1\n</code></pre>\n"}],"owner":{"account_id":1310284,"reputation":1766,"user_id":1258407,"accept_rate":59,"display_name":"Seth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44272,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":13215395,"answer_count":3,"score":14,"last_activity_date":1695574573,"creation_date":1351994275,"question_id":13215348,"body_markdown":"i have googled my heart out! I am trying to figure out how to output any errors a java class might give when executing java from the Windows command line. \r\n\r\nFor instance\r\n\r\n    java -jar class.jar &lt;someFile.file&gt;\r\n\r\nif that line throws any errors, i want them to be stored into a text file for later reviewing. \r\n\r\nI tried\r\n\r\n    java -jar class.jar &lt;someFile.file&gt; &gt;&gt; log.txt\r\n\r\nBut despite throwing errors the log.txt file is empty.\r\n\r\nThanks all!","title":"How to output java -jar errors to a text/log file?","body":"<p>i have googled my heart out! I am trying to figure out how to output any errors a java class might give when executing java from the Windows command line. </p>\n\n<p>For instance</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt;\n</code></pre>\n\n<p>if that line throws any errors, i want them to be stored into a text file for later reviewing. </p>\n\n<p>I tried</p>\n\n<pre><code>java -jar class.jar &lt;someFile.file&gt; &gt;&gt; log.txt\n</code></pre>\n\n<p>But despite throwing errors the log.txt file is empty.</p>\n\n<p>Thanks all!</p>\n"},{"tags":["java","spring-boot","docker","microservices","netflix-eureka"],"owner":{"account_id":24477341,"reputation":1,"user_id":18396236,"display_name":"Abhay Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695574125,"creation_date":1695574009,"question_id":77168036,"body_markdown":"I have a sales-order-service which makes call to item-service, I am using resttemplate to make the call and the url is `http://item-service/item?name=` but i am getting the following error: \r\n\r\n```\r\n2023-09-23 18:47:31 2023-09-23 13:17:31.244  WARN 1 --- [io-9003-exec-10] .c.RetryAwareServiceInstanceListSupplier : No instances found after removing previously used service instance from the search ([EurekaServiceInstance@46d0eb66 instance = InstanceInfo [instanceId = 8425295e5cad:item-service:9001, appName = ITEM-SERVICE, hostName = localhost, status = UP, ipAddr = 172.18.0.5, port = 9001, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@258b098e]). Returning all found instances.\r\n2023-09-23 18:47:31 2023-09-23 13:17:31.259 ERROR 1 --- [io-9003-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://item-service/item&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused] with root cause\r\n2023-09-23 18:47:31 \r\n2023-09-23 18:47:31 java.net.ConnectException: Connection refused\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:281) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\r\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\r\n```\r\n\r\nFYI I am only getting this error when running services on docker, but when i am running them without it this error does not occur. sales order and item service instances both are registered with eureka \r\n\r\nI have tried changing the name of docker container as it was same as the application name to which i am making the call thinking it might be causing some conflict but that also didn&#39;t work.","title":"Eureka error: No instances found after removing previously used service instance from the search","body":"<p>I have a sales-order-service which makes call to item-service, I am using resttemplate to make the call and the url is <code>http://item-service/item?name=</code> but i am getting the following error:</p>\n<pre><code>2023-09-23 18:47:31 2023-09-23 13:17:31.244  WARN 1 --- [io-9003-exec-10] .c.RetryAwareServiceInstanceListSupplier : No instances found after removing previously used service instance from the search ([EurekaServiceInstance@46d0eb66 instance = InstanceInfo [instanceId = 8425295e5cad:item-service:9001, appName = ITEM-SERVICE, hostName = localhost, status = UP, ipAddr = 172.18.0.5, port = 9001, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@258b098e]). Returning all found instances.\n2023-09-23 18:47:31 2023-09-23 13:17:31.259 ERROR 1 --- [io-9003-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://item-service/item&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused] with root cause\n2023-09-23 18:47:31 \n2023-09-23 18:47:31 java.net.ConnectException: Connection refused\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593) ~[na:na]\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n2023-09-23 18:47:31     at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:281) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\n2023-09-23 18:47:31     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\n</code></pre>\n<p>FYI I am only getting this error when running services on docker, but when i am running them without it this error does not occur. sales order and item service instances both are registered with eureka</p>\n<p>I have tried changing the name of docker container as it was same as the application name to which i am making the call thinking it might be causing some conflict but that also didn't work.</p>\n"},{"tags":["java","mysql","multithreading","jdbc","locking"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1695426203,"post_id":77161101,"comment_id":136027643,"body_markdown":"It&#39;s in the question&#39;s code, @JimGarrison (though you have to scroll right to see it).","body":"It&#39;s in the question&#39;s code, @JimGarrison (though you have to scroll right to see it)."}],"answers":[{"comments":[{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695436420,"post_id":77161226,"comment_id":136028205,"body_markdown":"Hey, actually this structure is only for test purposes. In production, it acts like a message queue, apps are inserting records on one side, and on the other side there are readers which processes those records. Internal in multithread is done with java locking and is ok. But within few days we need to migrate all apps to cluster due the policy, so I thought mysql row locking will solve the issue. In the future of course it will be replaced with MQ (I build my own, just don&#39;t have time to make such changes currently). I am using InnoDb, but will try also MyIsam if its any better.\nBR","body":"Hey, actually this structure is only for test purposes. In production, it acts like a message queue, apps are inserting records on one side, and on the other side there are readers which processes those records. Internal in multithread is done with java locking and is ok. But within few days we need to migrate all apps to cluster due the policy, so I thought mysql row locking will solve the issue. In the future of course it will be replaced with MQ (I build my own, just don&#39;t have time to make such changes currently). I am using InnoDb, but will try also MyIsam if its any better. BR"},{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695436685,"post_id":77161226,"comment_id":136028217,"body_markdown":"And for the Id, its actually auto generated upon inserting. The read of the next avail record is further based on a time interval, number of retries to process etc. so its quite complex to change arch right now, but performance is not an issue (few 100s/sec), as the process is also another threads, just the mysql transactions is what makes me desperate to read only one-unread record :)","body":"And for the Id, its actually auto generated upon inserting. The read of the next avail record is further based on a time interval, number of retries to process etc. so its quite complex to change arch right now, but performance is not an issue (few 100s/sec), as the process is also another threads, just the mysql transactions is what makes me desperate to read only one-unread record :)"},{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695445079,"post_id":77161226,"comment_id":136028590,"body_markdown":"I just reread your answer and have a feeling you didn&#39;t quite understand. &#39;flag&#39; is just a field updated, that this record will never be read again. While transaction with select+lock is, that at this time, no other sql can intervene this record. As from documentation, next read will read next record as the first one is still locked by a transaction (skip locked).","body":"I just reread your answer and have a feeling you didn&#39;t quite understand. &#39;flag&#39; is just a field updated, that this record will never be read again. While transaction with select+lock is, that at this time, no other sql can intervene this record. As from documentation, next read will read next record as the first one is still locked by a transaction (skip locked)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695502628,"post_id":77161226,"comment_id":136033860,"body_markdown":"@WonderMouse If you already have a flag variable, just set it to &#39;true&#39; then. Don&#39;t use locks to manage which row is selected. add a `WHERE NOT flag` condition. Now all you have to do, is ensure that the flag variable is set at the proper atomic level. (Which is &#39;serializable&#39;).","body":"@WonderMouse If you already have a flag variable, just set it to &#39;true&#39; then. Don&#39;t use locks to manage which row is selected. add a <code>WHERE NOT flag</code> condition. Now all you have to do, is ensure that the flag variable is set at the proper atomic level. (Which is &#39;serializable&#39;)."},{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695510210,"post_id":77161226,"comment_id":136034490,"body_markdown":"No, it must have use locks, as other app can read the same record a the same time (as seen from the example output) if not locked on a table/row level. Flag comes only after, when row is released of lock, so then even the same app will not re-read same record again. If only app would be processing (as currently), then no row lock is needed, yes, but now within the clusters many same apps will be accessing this table the same way.","body":"No, it must have use locks, as other app can read the same record a the same time (as seen from the example output) if not locked on a table/row level. Flag comes only after, when row is released of lock, so then even the same app will not re-read same record again. If only app would be processing (as currently), then no row lock is needed, yes, but now within the clusters many same apps will be accessing this table the same way."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695517407,"post_id":77161226,"comment_id":136034933,"body_markdown":"I didn&#39;t say &#39;do not have locks&#39;. I said &#39;do not use locks as a messaging system. Use a column. Like this answer explains&#39;.","body":"I didn&#39;t say &#39;do not have locks&#39;. I said &#39;do not use locks as a messaging system. Use a column. Like this answer explains&#39;."},{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695518871,"post_id":77161226,"comment_id":136035014,"body_markdown":"I think whats not working is how java makes jdbc transactions, if i create stored function the same way as my question (select..for update and update), each thread reads unique record.","body":"I think whats not working is how java makes jdbc transactions, if i create stored function the same way as my question (select..for update and update), each thread reads unique record."},{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695572440,"post_id":77161226,"comment_id":136039264,"body_markdown":"I am already using a column as in my example. What here doesnt work in java is that select..for update should lock that record for reading from other threads until commit (based on isolation level set), but its not (and SKIP LOCKED) should not throw exception on other read but rather return next non-locked record","body":"I am already using a column as in my example. What here doesnt work in java is that select..for update should lock that record for reading from other threads until commit (based on isolation level set), but its not (and SKIP LOCKED) should not throw exception on other read but rather return next non-locked record"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695428573,"creation_date":1695428573,"answer_id":77161226,"question_id":77161101,"body_markdown":"Fundamentally your idea just will not work. You&#39;re using &#39;it is locked&#39; as a flag to communicate between threads. The message you are sending with it, is &quot;this one is taken. Skip it; find something that isn&#39;t taken yet&quot;.\r\n\r\nGenerally locks are not so well defined unless you &#39;lock in&#39; (heh) which database engine you&#39;re using, which transaction level you pick, and for some DB engines, which table engine is used. In other words, any attempt to use locks as a message bus like this requires a ton of comments stating that it flat out will just do bizarre things and not work properly unless you use just the right DB engine in the exact right configuration. That&#39;s &quot;fragile code&quot; and pretty much never worth doing.\r\n\r\nMore specifically, __locks aren&#39;t forever__. What if one thread locks a row, processes it, __and unlocks it__ because it&#39;s done, and then the next thread grabs the first unlocked row and re-processes one that is already processed? Surely that&#39;s not your intent.\r\n\r\nPerhaps you think this doesn&#39;t matter: Your intent is that any thread that &#39;grabs hold of a row&#39; acquires a lock on it and will not relinquish it for a very long time indeed. It&#39;ll be processing that row this side of forever.\r\n\r\nBut then this is also a very very bad idea: This is simply not what locks are for. As developers we make it a habit to at least consider using things for purposes they weren&#39;t designed for, but you shouldn&#39;t resort to such acts unless there&#39;s a pressing reason to resort to hackery (which is generally what that term is taken to mean for developers: Using things in ways they were never designed for. Not malicious intent to do stuff that you aren&#39;t authorized to do; it&#39;s simply that pretty much by definition if you&#39;re granting yourself access to places you shouldn&#39;t, you&#39;re hacking by definition. But the term is broader than that).\r\n\r\nThere are good reasons for that. For example, in this case, DBs are not designed with the thought that locks are used as flags and therefore are held for excessively long swaths of time. It means by definition that the transaction is open for ages (once you shut down a transaction all locks it holds are auto-closed). Both &#39;really long lived transactions&#39; and &#39;really long lived locks&#39; tend to play havoc on DB performance. You&#39;re __far__ better off using an actual flag, or a counter, or creative solutions such as hash bucketing.\r\n\r\n## An actual flag\r\n\r\nInstead of using locks as a flag to indicate a row is &#39;taken&#39; use... an actual flag. Make a db column of type BOOLEAN (if your DB engine supports it. Enum, or if you have to, the smallest numeric value, otherwise). Use the usual transactional safety mechanisms (preferably, serializable transaction isolation level and retry mechanics. Proper DB abstractions such as JDBI and JOOQ make this easy), so that any given thread attempts to set the flag from false to true, and such a thread continues only if it has ascertained that it was the one that actually performed the modification. This thread is now free to relinquish the transaction, there is no further lock, and this thread can return without that inherently implying the row is &#39;open for processing again&#39; - because that boolean column is still `true`. If you want that row to be re-available for other threads to work on, set it to false - make it explicit.\r\n\r\n## Via separate table\r\n\r\nPerhaps you are not in the position to modify the table. No problem - tables always have a unique identifier (and if somehow they don&#39;t, there&#39;s the DB engine&#39;s unique identifier, such as OID in postgres as an example, there&#39;s always a way) - so make a new table with just 2 columns: That identifier, and that boolean flag. You can even `DROP` the table once processing is complete if you don&#39;t want it to stick around.\r\n\r\n## Using DB intrinsics\r\n\r\nVarious DBs have separate lock or sequencing primitives. I doubt they are a good fit here but they might be. Check your DB engine&#39;s documentation - this tends to be well off the beaten path as far as standardized SQL syntax is concerned\r\n\r\n## hash bucketing\r\n\r\nYet another option is to find some unique property amongst all potential rows (for example, the unique ID column) and then design the following algorithm:\r\n\r\nI launch X threads; each thread gets a &#39;mod&#39; field, which is 0...X (if I launch 5 threads, the first one has `mod = 0`, the second has `mod = 1`,.., the 5th has `mod = 4`. They also all know X (each thread has `procLen = 5`).\r\n\r\nEach thread instantly, without establishing any locks or even establishing a DB connection in the first place, inherently claims rows: It does that by stating that any given thread only processes those rows whose unique modifier, possibly hashed if needed (it&#39;d be needed if the unique input isn&#39;t uniformly distributed, or isn&#39;t a simple number) for which the following is true:\r\n\r\n```\r\nuniqueId % procLen = mod\r\n```\r\n\r\nIn other words, if you have 5 threads and are using the UNID as unique source, the first thread only takes rows with UNID 0, 5, 10, 15, 20, etc. The second one only 1,6,11,16,21, the third only 2,7,12,17,22, and so forth. DBs can generally give you the proper rows fairly quickly (UNID columns get indices by default for example). And there is no need to lock anything: Once all threads have processed their domains, you know every row has been processed. And if the size of the work to be done is generally equal (it takes about as long to process any row; contrast to a system where processing a row might take 5 seconds, or it might take 5 hours, depending on what&#39;s in it - then this is potentially problematic), you are unlikely to need a rebalancing function. Rebalancing is what you need to do when 4 of the 5 threads have processed all their rows but the 5th thread still has, say, 20 to go through: It would want to assign some of the work to the threads that are twiddling their thumbs. You don&#39;t need it, if the unique ID is uniformly distributed and time taken per row is essentially equal.\r\n","title":"Java multiple reads on same SQL table","body":"<p>Fundamentally your idea just will not work. You're using 'it is locked' as a flag to communicate between threads. The message you are sending with it, is &quot;this one is taken. Skip it; find something that isn't taken yet&quot;.</p>\n<p>Generally locks are not so well defined unless you 'lock in' (heh) which database engine you're using, which transaction level you pick, and for some DB engines, which table engine is used. In other words, any attempt to use locks as a message bus like this requires a ton of comments stating that it flat out will just do bizarre things and not work properly unless you use just the right DB engine in the exact right configuration. That's &quot;fragile code&quot; and pretty much never worth doing.</p>\n<p>More specifically, <strong>locks aren't forever</strong>. What if one thread locks a row, processes it, <strong>and unlocks it</strong> because it's done, and then the next thread grabs the first unlocked row and re-processes one that is already processed? Surely that's not your intent.</p>\n<p>Perhaps you think this doesn't matter: Your intent is that any thread that 'grabs hold of a row' acquires a lock on it and will not relinquish it for a very long time indeed. It'll be processing that row this side of forever.</p>\n<p>But then this is also a very very bad idea: This is simply not what locks are for. As developers we make it a habit to at least consider using things for purposes they weren't designed for, but you shouldn't resort to such acts unless there's a pressing reason to resort to hackery (which is generally what that term is taken to mean for developers: Using things in ways they were never designed for. Not malicious intent to do stuff that you aren't authorized to do; it's simply that pretty much by definition if you're granting yourself access to places you shouldn't, you're hacking by definition. But the term is broader than that).</p>\n<p>There are good reasons for that. For example, in this case, DBs are not designed with the thought that locks are used as flags and therefore are held for excessively long swaths of time. It means by definition that the transaction is open for ages (once you shut down a transaction all locks it holds are auto-closed). Both 'really long lived transactions' and 'really long lived locks' tend to play havoc on DB performance. You're <strong>far</strong> better off using an actual flag, or a counter, or creative solutions such as hash bucketing.</p>\n<h2>An actual flag</h2>\n<p>Instead of using locks as a flag to indicate a row is 'taken' use... an actual flag. Make a db column of type BOOLEAN (if your DB engine supports it. Enum, or if you have to, the smallest numeric value, otherwise). Use the usual transactional safety mechanisms (preferably, serializable transaction isolation level and retry mechanics. Proper DB abstractions such as JDBI and JOOQ make this easy), so that any given thread attempts to set the flag from false to true, and such a thread continues only if it has ascertained that it was the one that actually performed the modification. This thread is now free to relinquish the transaction, there is no further lock, and this thread can return without that inherently implying the row is 'open for processing again' - because that boolean column is still <code>true</code>. If you want that row to be re-available for other threads to work on, set it to false - make it explicit.</p>\n<h2>Via separate table</h2>\n<p>Perhaps you are not in the position to modify the table. No problem - tables always have a unique identifier (and if somehow they don't, there's the DB engine's unique identifier, such as OID in postgres as an example, there's always a way) - so make a new table with just 2 columns: That identifier, and that boolean flag. You can even <code>DROP</code> the table once processing is complete if you don't want it to stick around.</p>\n<h2>Using DB intrinsics</h2>\n<p>Various DBs have separate lock or sequencing primitives. I doubt they are a good fit here but they might be. Check your DB engine's documentation - this tends to be well off the beaten path as far as standardized SQL syntax is concerned</p>\n<h2>hash bucketing</h2>\n<p>Yet another option is to find some unique property amongst all potential rows (for example, the unique ID column) and then design the following algorithm:</p>\n<p>I launch X threads; each thread gets a 'mod' field, which is 0...X (if I launch 5 threads, the first one has <code>mod = 0</code>, the second has <code>mod = 1</code>,.., the 5th has <code>mod = 4</code>. They also all know X (each thread has <code>procLen = 5</code>).</p>\n<p>Each thread instantly, without establishing any locks or even establishing a DB connection in the first place, inherently claims rows: It does that by stating that any given thread only processes those rows whose unique modifier, possibly hashed if needed (it'd be needed if the unique input isn't uniformly distributed, or isn't a simple number) for which the following is true:</p>\n<pre><code>uniqueId % procLen = mod\n</code></pre>\n<p>In other words, if you have 5 threads and are using the UNID as unique source, the first thread only takes rows with UNID 0, 5, 10, 15, 20, etc. The second one only 1,6,11,16,21, the third only 2,7,12,17,22, and so forth. DBs can generally give you the proper rows fairly quickly (UNID columns get indices by default for example). And there is no need to lock anything: Once all threads have processed their domains, you know every row has been processed. And if the size of the work to be done is generally equal (it takes about as long to process any row; contrast to a system where processing a row might take 5 seconds, or it might take 5 hours, depending on what's in it - then this is potentially problematic), you are unlikely to need a rebalancing function. Rebalancing is what you need to do when 4 of the 5 threads have processed all their rows but the 5th thread still has, say, 20 to go through: It would want to assign some of the work to the threads that are twiddling their thumbs. You don't need it, if the unique ID is uniformly distributed and time taken per row is essentially equal.</p>\n"},{"comments":[{"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"score":0,"creation_date":1695573958,"post_id":77168027,"comment_id":136039442,"body_markdown":"Yess, it works this way :) Thx","body":"Yess, it works this way :) Thx"}],"tags":[],"owner":{"account_id":3042393,"reputation":643,"user_id":2579066,"accept_rate":50,"display_name":"Marvin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695573893,"creation_date":1695573893,"answer_id":77168027,"question_id":77161101,"body_markdown":"You should try with manual transaction like:\r\n\r\n\tc.setAutoCommit(false);\r\n\tc.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\r\n\tStatement sth = c.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_UPDATABLE) ;\r\n\tsth.execute(&quot;BEGIN&quot;);\r\n\tResultSet rst = sth.executeQuery(&quot;SELECT * FROM test WHERE flag!=&#39;Y&#39; LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\r\n\tLong id = null ;\r\n\tif (rst.next()) {\r\n\t\tid = rst.getLong(&quot;id&quot;) ;\r\n\t\trst.updateString(&quot;flag&quot;, &quot;Y&quot;);\r\n\t\trst.updateRow();\r\n\t}\r\n\tsth.execute(&quot;COMMIT&quot;);\r\n\treturn id ;","title":"Java multiple reads on same SQL table","body":"<p>You should try with manual transaction like:</p>\n<pre><code>c.setAutoCommit(false);\nc.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\nStatement sth = c.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_UPDATABLE) ;\nsth.execute(&quot;BEGIN&quot;);\nResultSet rst = sth.executeQuery(&quot;SELECT * FROM test WHERE flag!='Y' LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\nLong id = null ;\nif (rst.next()) {\n    id = rst.getLong(&quot;id&quot;) ;\n    rst.updateString(&quot;flag&quot;, &quot;Y&quot;);\n    rst.updateRow();\n}\nsth.execute(&quot;COMMIT&quot;);\nreturn id ;\n</code></pre>\n"}],"owner":{"account_id":1899102,"reputation":45,"user_id":1715364,"accept_rate":50,"display_name":"WonderMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77168027,"answer_count":2,"score":0,"last_activity_date":1695573893,"creation_date":1695425214,"question_id":77161101,"body_markdown":"I want to migrate my app to clusters so I have to \r\ndeal with mysql locking.\r\nFor this post, I have simple table with &#39;id&#39; and &#39;flag&#39; whether is \r\nrecord updated or not. \r\nThere are 3 threads reading table of 5 records. What I want to achieve is\r\nthat each thread reads only record not being read by other thread.\r\n(Note that threads are only for testing as in real life, there will be separate\r\nprocess/apps to doing this).\r\n\r\nWhat I&#39;ve read about Mysql locking is that is should disable autoCommit\r\nand SELECT record with LOCK.\r\n\r\nHere is my example code for thread read:\r\n\r\n    public Long read(Connection c) throws Exception {\r\n        c.setAutoCommit(false);\r\n        c.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\r\n        PreparedStatement sth = c.prepareStatement(&quot;SELECT * FROM test WHERE flag!=&#39;Y&#39; LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\r\n        ResultSet rst = sth.executeQuery() ;\r\n        Long id = null ;\r\n        if (rst.next()) {\r\n            id = rst.getLong(&quot;id&quot;);\r\n            sth = c.prepareStatement(&quot;UPDATE test SET FLAG=&#39;Y&#39; WHERE id=&quot; + id) ;\r\n            sth.executeUpdate();\r\n            System.out.println(getName() + &quot;: Commited id &quot; + id);\r\n        }\r\n        c.commit();\r\n        sth.close();\r\n        return id ;\r\n    }\r\n\r\nWhen running test with 3 threads the output is:\r\n\r\n    LockThread#2: Commited id 1\r\n    LockThread#2: Commited id 2\r\n    LockThread#3: Commited id 1\r\n    LockThread#2: Commited id 3\r\n    LockThread#1: Commited id 1\r\n    LockThread#1: Commited id 4\r\n    LockThread#3: Commited id 4\r\n    LockThread#2: Commited id 4\r\n    LockThread#3: Commited id 5\r\n    LockThread#2: Commited id 5\r\n    LockThread#1: Commited id 5\r\n\r\nSo the same record is not read only by one thread.\r\nIs there any other trick to make an SQL transaction in Java.\r\nHow can I lock record upon retrieval, so next thread will read next non-locked record.\r\n\r\n","title":"Java multiple reads on same SQL table","body":"<p>I want to migrate my app to clusters so I have to\ndeal with mysql locking.\nFor this post, I have simple table with 'id' and 'flag' whether is\nrecord updated or not.\nThere are 3 threads reading table of 5 records. What I want to achieve is\nthat each thread reads only record not being read by other thread.\n(Note that threads are only for testing as in real life, there will be separate\nprocess/apps to doing this).</p>\n<p>What I've read about Mysql locking is that is should disable autoCommit\nand SELECT record with LOCK.</p>\n<p>Here is my example code for thread read:</p>\n<pre><code>public Long read(Connection c) throws Exception {\n    c.setAutoCommit(false);\n    c.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\n    PreparedStatement sth = c.prepareStatement(&quot;SELECT * FROM test WHERE flag!='Y' LIMIT 1 FOR UPDATE SKIP LOCKED&quot;) ;\n    ResultSet rst = sth.executeQuery() ;\n    Long id = null ;\n    if (rst.next()) {\n        id = rst.getLong(&quot;id&quot;);\n        sth = c.prepareStatement(&quot;UPDATE test SET FLAG='Y' WHERE id=&quot; + id) ;\n        sth.executeUpdate();\n        System.out.println(getName() + &quot;: Commited id &quot; + id);\n    }\n    c.commit();\n    sth.close();\n    return id ;\n}\n</code></pre>\n<p>When running test with 3 threads the output is:</p>\n<pre><code>LockThread#2: Commited id 1\nLockThread#2: Commited id 2\nLockThread#3: Commited id 1\nLockThread#2: Commited id 3\nLockThread#1: Commited id 1\nLockThread#1: Commited id 4\nLockThread#3: Commited id 4\nLockThread#2: Commited id 4\nLockThread#3: Commited id 5\nLockThread#2: Commited id 5\nLockThread#1: Commited id 5\n</code></pre>\n<p>So the same record is not read only by one thread.\nIs there any other trick to make an SQL transaction in Java.\nHow can I lock record upon retrieval, so next thread will read next non-locked record.</p>\n"},{"tags":["java","kotlin","android-layout","inheritance","android-viewbinding"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1695526846,"post_id":77165161,"comment_id":136035399,"body_markdown":"After inflating the binding, you can add `binding.root` to a ViewGroup from the superclasss layout. But I think BaseActivities should be avoided. Composition over inheritance! You can do basically the same thing with a utility function and maybe `&lt;include&gt;` layouts.","body":"After inflating the binding, you can add <code>binding.root</code> to a ViewGroup from the superclasss layout. But I think BaseActivities should be avoided. Composition over inheritance! You can do basically the same thing with a utility function and maybe <code>&lt;include&gt;</code> layouts."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695572250,"creation_date":1695572250,"answer_id":77167932,"question_id":77165161,"body_markdown":"You can inflate the binding object in the `BaseActivity` and expose methods to child activities to get the binding object.\r\n\r\n    public abstract class BaseActivity extends AppCompatActivity {\r\n    \r\n        //base binding\r\n        private BaseScreenBinding baseBinding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState); // always call base methods, your code didnt have those calls.\r\n    \r\n            baseBinding = BaseScreenBinding.inflate(getLayoutInflater());\r\n            setContentView(baseBinding.getRoot());\r\n    \r\n            //your existing code to inflate child content\r\n            View mFormView = baseBinding.pnContent;\r\n            if (getContentAreaLayoutId() != 0) {\r\n                LayoutInflater inflater = LayoutInflater.from(this);\r\n                View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\r\n                ((ViewGroup) mFormView).addView(contentLayout, 0);\r\n            }\r\n        }\r\n        \r\n        protected BaseScreenBinding getBaseBinding() {\r\n            return baseBinding;\r\n        }\r\n    \r\n        protected abstract int getContentAreaLayoutId();\r\n    }\r\n\r\nyou can now use ViewBinding in your child activity, your layout was inflated  by BaseActivity, in child you will bind to it.\r\n\r\n    class ChildActivity : BaseActivity() {\r\n    \r\n        private lateinit var binding: StandardContentSettingsBinding\r\n    \r\n        override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n    \r\n            // Layout was inflated in BaseActivity, so now only bind to it.\r\n            binding = StandardContentSettingsBinding.bind(getBaseBinding().pnContent)\r\n    \r\n            //This should work now\r\n            binding.edURL.setText(&quot;test&quot;)\r\n        }\r\n    }\r\n\r\nIn the child activity, calling `StandardContentSettingsBinding.bind(View)`, is different from `inflate()`, as it doesn&#39;t create a new view hierarchy but instead uses the existing one, which is what you want in this case.\r\n\r\nsome references:\r\nhttps://developer.android.com/topic/libraries/data-binding/generated-binding\r\n\r\n\r\n\r\n","title":"ViewBinding with dynamically added content","body":"<p>You can inflate the binding object in the <code>BaseActivity</code> and expose methods to child activities to get the binding object.</p>\n<pre><code>public abstract class BaseActivity extends AppCompatActivity {\n\n    //base binding\n    private BaseScreenBinding baseBinding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState); // always call base methods, your code didnt have those calls.\n\n        baseBinding = BaseScreenBinding.inflate(getLayoutInflater());\n        setContentView(baseBinding.getRoot());\n\n        //your existing code to inflate child content\n        View mFormView = baseBinding.pnContent;\n        if (getContentAreaLayoutId() != 0) {\n            LayoutInflater inflater = LayoutInflater.from(this);\n            View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\n            ((ViewGroup) mFormView).addView(contentLayout, 0);\n        }\n    }\n    \n    protected BaseScreenBinding getBaseBinding() {\n        return baseBinding;\n    }\n\n    protected abstract int getContentAreaLayoutId();\n}\n</code></pre>\n<p>you can now use ViewBinding in your child activity, your layout was inflated  by BaseActivity, in child you will bind to it.</p>\n<pre><code>class ChildActivity : BaseActivity() {\n\n    private lateinit var binding: StandardContentSettingsBinding\n\n    override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        // Layout was inflated in BaseActivity, so now only bind to it.\n        binding = StandardContentSettingsBinding.bind(getBaseBinding().pnContent)\n\n        //This should work now\n        binding.edURL.setText(&quot;test&quot;)\n    }\n}\n</code></pre>\n<p>In the child activity, calling <code>StandardContentSettingsBinding.bind(View)</code>, is different from <code>inflate()</code>, as it doesn't create a new view hierarchy but instead uses the existing one, which is what you want in this case.</p>\n<p>some references:\n<a href=\"https://developer.android.com/topic/libraries/data-binding/generated-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding/generated-binding</a></p>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167932,"answer_count":1,"score":0,"last_activity_date":1695572250,"creation_date":1695508817,"question_id":77165161,"body_markdown":"I have base activity implementing some features for every screen of my app. Every child activity then overrides method with its XML layout.\r\n\r\n**BaseActivity**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        setContentView(R.layout.base_screen);\r\n        View mFormView = findViewById(R.id.pnContent);\r\n        if (getContentAreaLayoutId() != 0) {\r\n            LayoutInflater inflater = LayoutInflater.from(this);\r\n            View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\r\n            ((ViewGroup) mFormView).addView(contentLayout, 0);\r\n        }\r\n    }\r\n\r\n**ChildActivity**\r\n\r\n    override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\r\n\r\nNow I would like to use view binding in my child activities. I was thinking about something like this:\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        val binding = StandardContentSettingsBinding.inflate(layoutInflater)\r\n    }\r\n\r\nBut when I used binding (`binding.edURL.setText(&quot;test&quot;)`), view does not change and stays empty. I guess I&#39;m using view binding wrong and have to inflate it with another way?","title":"ViewBinding with dynamically added content","body":"<p>I have base activity implementing some features for every screen of my app. Every child activity then overrides method with its XML layout.</p>\n<p><strong>BaseActivity</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    setContentView(R.layout.base_screen);\n    View mFormView = findViewById(R.id.pnContent);\n    if (getContentAreaLayoutId() != 0) {\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View contentLayout = inflater.inflate(getContentAreaLayoutId(), (ViewGroup) mFormView, false);\n        ((ViewGroup) mFormView).addView(contentLayout, 0);\n    }\n}\n</code></pre>\n<p><strong>ChildActivity</strong></p>\n<pre><code>override fun getContentAreaLayoutId(): Int = R.layout.standard_content_settings\n</code></pre>\n<p>Now I would like to use view binding in my child activities. I was thinking about something like this:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    val binding = StandardContentSettingsBinding.inflate(layoutInflater)\n}\n</code></pre>\n<p>But when I used binding (<code>binding.edURL.setText(&quot;test&quot;)</code>), view does not change and stays empty. I guess I'm using view binding wrong and have to inflate it with another way?</p>\n"},{"tags":["java","eclipse","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682442139,"post_id":76103721,"comment_id":134215277,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1682443100,"post_id":76103721,"comment_id":134215475,"body_markdown":"ChatGPT is not a programming tool and cannot be relied on to give accurate information.","body":"ChatGPT is not a programming tool and cannot be relied on to give accurate information."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682443238,"post_id":76103721,"comment_id":134215513,"body_markdown":"The log clearly shows you are using Java 17.0.6 which does not allow the change the modlauncher is trying to make","body":"The log clearly shows you are using Java 17.0.6 which does not allow the change the modlauncher is trying to make"}],"answers":[{"comments":[{"owner":{"account_id":28414303,"reputation":3,"user_id":21737282,"display_name":"Fenl"},"score":0,"creation_date":1682807883,"post_id":76116611,"comment_id":134274008,"body_markdown":"Thank you a lot @Joseph Sible-Reinstate Monica it solves my errors !","body":"Thank you a lot @Joseph Sible-Reinstate Monica it solves my errors !"}],"tags":[],"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682567492,"creation_date":1682567492,"answer_id":76116611,"question_id":76103721,"body_markdown":"&gt; `java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf`\r\n\r\n&gt; the version is right, JRE 1.8.\r\n\r\nThat line of your error implies that you&#39;re not actually on JRE 1.8. Modules and opens didn&#39;t even exist as concepts then. If you actually switch to JRE 1.8, then that error will go away.","title":"Error Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError while doing a Minecraft mod","body":"<blockquote>\n<p><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf</code></p>\n</blockquote>\n<blockquote>\n<p>the version is right, JRE 1.8.</p>\n</blockquote>\n<p>That line of your error implies that you're not actually on JRE 1.8. Modules and opens didn't even exist as concepts then. If you actually switch to JRE 1.8, then that error will go away.</p>\n"}],"owner":{"account_id":28414303,"reputation":3,"user_id":21737282,"display_name":"Fenl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76116611,"answer_count":1,"score":-2,"last_activity_date":1695571518,"creation_date":1682442103,"question_id":76103721,"body_markdown":"so, I am following a Minecraft modding tutorial in 1.16, I use Eclipse and 1.16.4 mdk, everything was going great until I try to launch the game, it keeps getting an error, here is the console : \r\n```none\r\n2023-04-25 18:39:51,378 main WARN Advanced terminal features are not available in this environment\r\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher running: args [--gameDir, ., --launchTarget, fmluserdevclient, --fml.mcpVersion, 20201102.104115, --fml.mcVersion, 1.16.4, --fml.forgeGroup, net.minecraftforge, --fml.forgeVersion, 35.1.4, --version, MOD_DEV, --assetIndex, 1.16, --assetsDir, C:\\Users\\codic\\.gradle\\caches\\forge_gradle\\assets, --username, Dev, --accessToken, , --userProperties, {}]\r\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher 8.0.6+85+master.325de55 starting: java version 17.0.6 by Eclipse Adoptium\r\n[18:39:51] [main/DEBUG] [cp.mo.mo.LaunchServiceHandler/MODLAUNCHER]: Found launch services [minecraft,fmldevdata,fmldevclient,fmldevserver,fmluserdevserver,fmluserdevdata,testharness,fmlclient,fmluserdevclient,fmlserver]\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat cpw.mods.modlauncher.Launcher.lambda$new$6(Launcher.java:55)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:52)\r\n\tat cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:47)\r\n\tat cpw.mods.modlauncher.Environment.computePropertyIfAbsent(Environment.java:62)\r\n\tat cpw.mods.modlauncher.Launcher.&lt;init&gt;(Launcher.java:55)\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\r\n\tat net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat cpw.mods.modlauncher.SecureJarHandler.&lt;clinit&gt;(SecureJarHandler.java:48)\r\n\t... 8 more\r\n```\r\n\r\n\r\nI tried using ChatGPT to fix that but it says that it is a Java compatibility issue, which after I checked several times is not, the version is right, JRE 1.8.","title":"Error Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError while doing a Minecraft mod","body":"<p>so, I am following a Minecraft modding tutorial in 1.16, I use Eclipse and 1.16.4 mdk, everything was going great until I try to launch the game, it keeps getting an error, here is the console :</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-04-25 18:39:51,378 main WARN Advanced terminal features are not available in this environment\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher running: args [--gameDir, ., --launchTarget, fmluserdevclient, --fml.mcpVersion, 20201102.104115, --fml.mcVersion, 1.16.4, --fml.forgeGroup, net.minecraftforge, --fml.forgeVersion, 35.1.4, --version, MOD_DEV, --assetIndex, 1.16, --assetsDir, C:\\Users\\codic\\.gradle\\caches\\forge_gradle\\assets, --username, Dev, --accessToken, , --userProperties, {}]\n[18:39:51] [main/INFO] [cp.mo.mo.Launcher/MODLAUNCHER]: ModLauncher 8.0.6+85+master.325de55 starting: java version 17.0.6 by Eclipse Adoptium\n[18:39:51] [main/DEBUG] [cp.mo.mo.LaunchServiceHandler/MODLAUNCHER]: Found launch services [minecraft,fmldevdata,fmldevclient,fmldevserver,fmluserdevserver,fmluserdevdata,testharness,fmlclient,fmluserdevclient,fmlserver]\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at cpw.mods.modlauncher.Launcher.lambda$new$6(Launcher.java:55)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:52)\n    at cpw.mods.modlauncher.api.TypesafeMap.computeIfAbsent(TypesafeMap.java:47)\n    at cpw.mods.modlauncher.Environment.computePropertyIfAbsent(Environment.java:62)\n    at cpw.mods.modlauncher.Launcher.&lt;init&gt;(Launcher.java:55)\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\n    at net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.jar.JarVerifier java.util.jar.Manifest.jv accessible: module java.base does not &quot;opens java.util.jar&quot; to unnamed module @5f683daf\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at cpw.mods.modlauncher.SecureJarHandler.&lt;clinit&gt;(SecureJarHandler.java:48)\n    ... 8 more\n</code></pre>\n<p>I tried using ChatGPT to fix that but it says that it is a Java compatibility issue, which after I checked several times is not, the version is right, JRE 1.8.</p>\n"},{"tags":["java","xml","kotlin","jackson"],"answers":[{"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1598192406,"post_id":63545168,"comment_id":112371291,"body_markdown":"Thanks, by the way it is not I who is &quot;trying to do is use XML tree structure in JsonNode data model &quot; - it is Jackson.","body":"Thanks, by the way it is not I who is &quot;trying to do is use XML tree structure in JsonNode data model &quot; - it is Jackson."},{"owner":{"account_id":53930,"reputation":513,"user_id":161281,"display_name":"galuszkak"},"score":0,"creation_date":1598193815,"post_id":63545168,"comment_id":112371718,"body_markdown":"@DavidSoroko I understand how this could sound, apologize if this wasn&#39;t well explained/received. Actually you can use Jackson in many ways, the way it was used indicated translating it into JsonNode. I edited my answer to reflect better what is asked.","body":"@DavidSoroko I understand how this could sound, apologize if this wasn&#39;t well explained/received. Actually you can use Jackson in many ways, the way it was used indicated translating it into JsonNode. I edited my answer to reflect better what is asked."},{"owner":{"account_id":233472,"reputation":979,"user_id":498976,"accept_rate":55,"display_name":"Alex"},"score":0,"creation_date":1693494417,"post_id":63545168,"comment_id":135771386,"body_markdown":"works fine in 2.13.2","body":"works fine in 2.13.2"}],"tags":[],"owner":{"account_id":53930,"reputation":513,"user_id":161281,"display_name":"galuszkak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598193766,"creation_date":1598173249,"answer_id":63545168,"question_id":63539315,"body_markdown":"The problem mentioned here is described in this Github issue:\r\nhttps://github.com/FasterXML/jackson-dataformat-xml/issues/187\r\n\r\nBasically what is happening is that Jackson is translating XML tree structure in JsonNode data model and this will not work as it&#39;s not supported.\r\n\r\nThere is 2 options described in that Github issue:\r\n * Fully transform this XML to JSON (answer from @cawena on Github)\r\n * Or if you know your data structure to just use answer from p0sitron which is:\r\n\r\nCode:\r\n\r\n    List&lt;List&lt;JsonNode&gt;&gt; elA = xmlMapper.readValue(xml, new TypeReference&lt;List&lt;List&lt;JsonNode&gt;&gt;&gt;() { });\r\n    assertEquals(3, elA.get(0).size());","title":"Using Jackson to parse XML with repeated element","body":"<p>The problem mentioned here is described in this Github issue:\n<a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/187\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml/issues/187</a></p>\n<p>Basically what is happening is that Jackson is translating XML tree structure in JsonNode data model and this will not work as it's not supported.</p>\n<p>There is 2 options described in that Github issue:</p>\n<ul>\n<li>Fully transform this XML to JSON (answer from @cawena on Github)</li>\n<li>Or if you know your data structure to just use answer from p0sitron which is:</li>\n</ul>\n<p>Code:</p>\n<pre><code>List&lt;List&lt;JsonNode&gt;&gt; elA = xmlMapper.readValue(xml, new TypeReference&lt;List&lt;List&lt;JsonNode&gt;&gt;&gt;() { });\nassertEquals(3, elA.get(0).size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1117052,"reputation":1,"user_id":1106159,"display_name":"Ashish Sadhwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695570858,"creation_date":1695570858,"answer_id":77167843,"question_id":63539315,"body_markdown":"After a lot of research, I finally figured a solution.\r\n\r\nI was using `jackson-dataformat-xml:2.15.2` library.\r\n\r\nHere is a piece of XML I tried to parse (a PersonList XML),\r\n```XML\r\n...\r\n   &lt;DESIGNATION&gt;\r\n      &lt;VALUE&gt;General Manager&lt;/VALUE&gt;\r\n      &lt;VALUE&gt;Regional Office&lt;/VALUE&gt;\r\n      &lt;VALUE&gt;Interior Monastery&lt;/VALUE&gt;\r\n   &lt;/DESIGNATION&gt;\r\n...\r\n```\r\n\r\nHere is the corresponding data class in Kotlin (for `Designation` &amp; `Value`),\r\n```Kotlin\r\n//Inside PersonList data class constructor\r\n...\r\n   @JacksonXmlElementWrapper(localName = &quot;DESIGNATION&quot;)\r\n   @JacksonXmlProperty(localName = &quot;DESIGNATION&quot;)\r\n   val designation: List&lt;Value&gt;,\r\n...\r\n...) {  //Inside PersonList data class body\r\n      ...\r\n         @JacksonXmlRootElement(localName = &quot;VALUE&quot;)\r\n         data class Value (\r\n            val value: String?\r\n         )\r\n      ...\r\n     }\r\n...\r\n```\r\n\r\nHere is the corresponding Kotlin code for parsing (the PersonList XML),\r\n```Kotlin\r\n...\r\n   val xmlString = response.body!!.string()\r\n   //Parse XML String\r\n   val xmlMapper: ObjectMapper = XmlMapper.builder()\r\n      .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n      .build()\r\n   val personList = xmlMapper.readValue(xmlString, PersonList::class.java)\r\n...\r\n```\r\nVoil&#224;, it works!!","title":"Using Jackson to parse XML with repeated element","body":"<p>After a lot of research, I finally figured a solution.</p>\n<p>I was using <code>jackson-dataformat-xml:2.15.2</code> library.</p>\n<p>Here is a piece of XML I tried to parse (a PersonList XML),</p>\n<pre><code>...\n   &lt;DESIGNATION&gt;\n      &lt;VALUE&gt;General Manager&lt;/VALUE&gt;\n      &lt;VALUE&gt;Regional Office&lt;/VALUE&gt;\n      &lt;VALUE&gt;Interior Monastery&lt;/VALUE&gt;\n   &lt;/DESIGNATION&gt;\n...\n</code></pre>\n<p>Here is the corresponding data class in Kotlin (for <code>Designation</code> &amp; <code>Value</code>),</p>\n<pre><code>//Inside PersonList data class constructor\n...\n   @JacksonXmlElementWrapper(localName = &quot;DESIGNATION&quot;)\n   @JacksonXmlProperty(localName = &quot;DESIGNATION&quot;)\n   val designation: List&lt;Value&gt;,\n...\n...) {  //Inside PersonList data class body\n      ...\n         @JacksonXmlRootElement(localName = &quot;VALUE&quot;)\n         data class Value (\n            val value: String?\n         )\n      ...\n     }\n...\n</code></pre>\n<p>Here is the corresponding Kotlin code for parsing (the PersonList XML),</p>\n<pre><code>...\n   val xmlString = response.body!!.string()\n   //Parse XML String\n   val xmlMapper: ObjectMapper = XmlMapper.builder()\n      .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n      .build()\n   val personList = xmlMapper.readValue(xmlString, PersonList::class.java)\n...\n</code></pre>\n<p>Voil, it works!!</p>\n"}],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63545168,"answer_count":2,"score":1,"last_activity_date":1695570858,"creation_date":1598118558,"question_id":63539315,"body_markdown":" I am looking for a simple way to parse an XML structure with a repeated element using Jackson. Here is a simplified example:\r\n\r\n ```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;    \r\n        ...\r\n        &lt;x&gt;\r\n            &lt;b&gt;some content&lt;/b&gt;\r\n            &lt;c&gt;some content&lt;/c&gt;\r\n        &lt;/x&gt;\r\n    &lt;/a&gt;\r\n\r\n    ... some other content ...\r\n &lt;/root&gt;\r\n ```\r\n\r\n I would like to collect all the `x` elements in a list or array The problem is that when using something like:\r\n ```\r\n XmlMapper().readTree(xml).get(&quot;a&quot;).fields()\r\n ```\r\n the result contains only the last instance of `x` so it looks like some map key gets overwritten. There is a solution using `JsonParser` \r\n e.g.: `XmlMapper().createParser(xml)` but it&#39;s a bit icky.\r\n\r\n Is there a better way?\r\n\r\n**Edit**\r\n\r\nThe way I read the &quot;Known Limitations&quot; section in the [README][1] , XML seems to be a second class citizen in Jackson. I accept @galuszkak &#39;s answer as it is what it is , but to my mind when a developer invokes `XmlMapper().readTree(xml)` they do not expect XML processing to be shoehorned into JSON processing model with the limitations that come with that approach.  \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-xml/blob/master/README.md#known-limitations","title":"Using Jackson to parse XML with repeated element","body":"<p>I am looking for a simple way to parse an XML structure with a repeated element using Jackson. Here is a simplified example:</p>\n<pre><code>&lt;root&gt;\n   &lt;a&gt;\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;    \n       ...\n       &lt;x&gt;\n           &lt;b&gt;some content&lt;/b&gt;\n           &lt;c&gt;some content&lt;/c&gt;\n       &lt;/x&gt;\n   &lt;/a&gt;\n\n   ... some other content ...\n&lt;/root&gt;\n</code></pre>\n<p>I would like to collect all the <code>x</code> elements in a list or array The problem is that when using something like:</p>\n<pre><code>XmlMapper().readTree(xml).get(&quot;a&quot;).fields()\n</code></pre>\n<p>the result contains only the last instance of <code>x</code> so it looks like some map key gets overwritten. There is a solution using <code>JsonParser</code>\ne.g.: <code>XmlMapper().createParser(xml)</code> but it's a bit icky.</p>\n<p>Is there a better way?</p>\n<p><strong>Edit</strong></p>\n<p>The way I read the &quot;Known Limitations&quot; section in the <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/blob/master/README.md#known-limitations\" rel=\"nofollow noreferrer\">README</a> , XML seems to be a second class citizen in Jackson. I accept @galuszkak 's answer as it is what it is , but to my mind when a developer invokes <code>XmlMapper().readTree(xml)</code> they do not expect XML processing to be shoehorned into JSON processing model with the limitations that come with that approach.</p>\n"},{"tags":["java","heapsort"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694970547,"post_id":77122861,"comment_id":135958395,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1694970817,"post_id":77122861,"comment_id":135958434,"body_markdown":"Are you aware that creating a max heap and sorting an array are two different things? Your heaps look correct, at least from the sample output you have provided.","body":"Are you aware that creating a max heap and sorting an array are two different things? Your heaps look correct, at least from the sample output you have provided."},{"owner":{"account_id":27939097,"reputation":25,"user_id":21335467,"display_name":"Anuj Garg"},"score":0,"creation_date":1695449433,"post_id":77122861,"comment_id":136028832,"body_markdown":"i am but i am still trying to do both at once, still thank u for pointing it out","body":"i am but i am still trying to do both at once, still thank u for pointing it out"}],"answers":[{"comments":[{"owner":{"account_id":27939097,"reputation":25,"user_id":21335467,"display_name":"Anuj Garg"},"score":1,"creation_date":1695449370,"post_id":77123614,"comment_id":136028827,"body_markdown":"thank you very much for the answer and clearing my doubt","body":"thank you very much for the answer and clearing my doubt"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694984763,"creation_date":1694984763,"answer_id":77123614,"question_id":77122861,"body_markdown":"&gt; Now, the array is still not sorted correctly.\r\n\r\nA heap is *not* a sorted array, nor is heapsort a matter of just building a heap.\r\n\r\nThis also means you cannot have both `getMin` and `getMax` functions. You can only get the &quot;top&quot; of the heap as a reliable value. The last value in the array is not guaranteed to be the other extreme. For the same reason you cannot have both `delMin` and `delMax` functions, only a `delTop` function, like this:\r\n\r\n```\r\n    public void delTop() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        swap(0, --size);\r\n        sink(0);\r\n    }\r\n```\r\n\r\nHeapsort consists of building a heap, **and then** repeatedly deleting the top from a heap that reduces in size and putting the extracted values in a sorted partition (at the end).\r\n\r\n### Bugs\r\n\r\nAside from the above remarks, there is one mistake in this part of the `sink` function:\r\n\r\n```\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n```\r\n\r\nThe second `if` condition compares the entry at `position` with the one at `right`, but it should compare the entry at `largest`. So correct to:\r\n\r\n```\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[largest], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n```\r\n\r\nThere is also an issue in the functions `size()` and `isFull()` as they work with `size - 1`, while they should use `size` instead. Here is the correction to both functions:\r\n\r\n```\r\n    public int size() {\r\n        return size;\r\n    }\r\n    \r\n    public boolean isFull() {\r\n        return size == capacity;\r\n    }\r\n```\r\n\r\n### Implement Heapsort\r\n\r\nTo implement heapsort, you could add this method:\r\n\r\n```\r\n    public void sort() {\r\n        // HeapSort algorithm:\r\n        int origSize = size;\r\n        while (size &gt; 1) {\r\n            delTop();\r\n        }\r\n        size = origSize;\r\n        // Reverse, so it also is in line with heap property\r\n        for (int i = 0, j = size - 1; i &lt; j; i++, j--) {\r\n            swap(i, j);\r\n        }            \r\n    }\r\n```\r\n\r\nCall this  `sort` method in your main function:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        MyHeap minHeap = new MyHeap(10, true);\r\n        minHeap.insert(70);\r\n        minHeap.insert(20);\r\n        minHeap.insert(90);\r\n        minHeap.insert(60);\r\n        minHeap.insert(40);\r\n        minHeap.insert(10);\r\n        minHeap.insert(50);\r\n        minHeap.insert(30);\r\n        minHeap.insert(80);\r\n        minHeap.insert(100);\r\n        minHeap.sort();\r\n        System.out.println(&quot;Min Heap: &quot; + minHeap);\r\n    \r\n        MyHeap maxHeap = new MyHeap(10, false);\r\n        maxHeap.insert(70);\r\n        maxHeap.insert(20);\r\n        maxHeap.insert(90);\r\n        maxHeap.insert(60);\r\n        maxHeap.insert(40);\r\n        maxHeap.insert(10);\r\n        maxHeap.insert(50);\r\n        maxHeap.insert(30);\r\n        maxHeap.insert(80);\r\n        maxHeap.insert(100);\r\n        minHeap.sort();\r\n        System.out.println(&quot;Max Heap: &quot; + maxHeap);\r\n    }\r\n```\r\n\r\nNow it will print out the values in their sorted order.","title":"Implementing Heap Sort from Scratch","body":"<blockquote>\n<p>Now, the array is still not sorted correctly.</p>\n</blockquote>\n<p>A heap is <em>not</em> a sorted array, nor is heapsort a matter of just building a heap.</p>\n<p>This also means you cannot have both <code>getMin</code> and <code>getMax</code> functions. You can only get the &quot;top&quot; of the heap as a reliable value. The last value in the array is not guaranteed to be the other extreme. For the same reason you cannot have both <code>delMin</code> and <code>delMax</code> functions, only a <code>delTop</code> function, like this:</p>\n<pre><code>    public void delTop() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        swap(0, --size);\n        sink(0);\n    }\n</code></pre>\n<p>Heapsort consists of building a heap, <strong>and then</strong> repeatedly deleting the top from a heap that reduces in size and putting the extracted values in a sorted partition (at the end).</p>\n<h3>Bugs</h3>\n<p>Aside from the above remarks, there is one mistake in this part of the <code>sink</code> function:</p>\n<pre><code>        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\n            largest = right;\n        }\n</code></pre>\n<p>The second <code>if</code> condition compares the entry at <code>position</code> with the one at <code>right</code>, but it should compare the entry at <code>largest</code>. So correct to:</p>\n<pre><code>        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[largest], heap[right]) &lt; 0) {\n            largest = right;\n        }\n</code></pre>\n<p>There is also an issue in the functions <code>size()</code> and <code>isFull()</code> as they work with <code>size - 1</code>, while they should use <code>size</code> instead. Here is the correction to both functions:</p>\n<pre><code>    public int size() {\n        return size;\n    }\n    \n    public boolean isFull() {\n        return size == capacity;\n    }\n</code></pre>\n<h3>Implement Heapsort</h3>\n<p>To implement heapsort, you could add this method:</p>\n<pre><code>    public void sort() {\n        // HeapSort algorithm:\n        int origSize = size;\n        while (size &gt; 1) {\n            delTop();\n        }\n        size = origSize;\n        // Reverse, so it also is in line with heap property\n        for (int i = 0, j = size - 1; i &lt; j; i++, j--) {\n            swap(i, j);\n        }            \n    }\n</code></pre>\n<p>Call this  <code>sort</code> method in your main function:</p>\n<pre><code>    public static void main(String[] args) {\n        MyHeap minHeap = new MyHeap(10, true);\n        minHeap.insert(70);\n        minHeap.insert(20);\n        minHeap.insert(90);\n        minHeap.insert(60);\n        minHeap.insert(40);\n        minHeap.insert(10);\n        minHeap.insert(50);\n        minHeap.insert(30);\n        minHeap.insert(80);\n        minHeap.insert(100);\n        minHeap.sort();\n        System.out.println(&quot;Min Heap: &quot; + minHeap);\n    \n        MyHeap maxHeap = new MyHeap(10, false);\n        maxHeap.insert(70);\n        maxHeap.insert(20);\n        maxHeap.insert(90);\n        maxHeap.insert(60);\n        maxHeap.insert(40);\n        maxHeap.insert(10);\n        maxHeap.insert(50);\n        maxHeap.insert(30);\n        maxHeap.insert(80);\n        maxHeap.insert(100);\n        minHeap.sort();\n        System.out.println(&quot;Max Heap: &quot; + maxHeap);\n    }\n</code></pre>\n<p>Now it will print out the values in their sorted order.</p>\n"}],"owner":{"account_id":27939097,"reputation":25,"user_id":21335467,"display_name":"Anuj Garg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77123614,"answer_count":1,"score":-1,"last_activity_date":1695570658,"creation_date":1694970483,"question_id":77122861,"body_markdown":"```\r\nimport java.util.Arrays;\r\n\r\nimport javax.management.RuntimeErrorException;\r\n\r\npublic class MyHeap {\r\n\r\npublic static void main(String args) {\r\n        MyHeap minHeap = new MyHeap(10, true);\r\n        minHeap.insert(70);\r\n        minHeap.insert(20);\r\n        minHeap.insert(90);\r\n        minHeap.insert(60);\r\n        minHeap.insert(40);\r\n        minHeap.insert(10);\r\n        minHeap.insert(50);\r\n        minHeap.insert(30);\r\n        minHeap.insert(80);\r\n        minHeap.insert(100);\r\n\r\n        System.out.println(&quot;Min Heap: &quot; + Arrays.toString(minHeap.heap));\r\n    \r\n        MyHeap maxHeap = new MyHeap(10, false);\r\n        maxHeap.insert(70);\r\n        maxHeap.insert(20);\r\n        maxHeap.insert(90);\r\n        maxHeap.insert(60);\r\n        maxHeap.insert(40);\r\n        maxHeap.insert(10);\r\n        maxHeap.insert(50);\r\n        maxHeap.insert(30);\r\n        maxHeap.insert(80);\r\n        maxHeap.insert(100);\r\n    \r\n        System.out.println(&quot;Max Heap: &quot; + Arrays.toString(maxHeap.heap));\r\n    }\r\n    \r\n    private int[] heap;\r\n    private int size = 0;\r\n    private int capacity;\r\n    private boolean reverse;// true if min heap\r\n    \r\n    public MyHeap(int capacity) {\r\n        this.capacity = capacity;\r\n        heap = new int[capacity];\r\n        // max heap by default\r\n        this.reverse = false;\r\n    }\r\n    \r\n    public MyHeap(int capacity, boolean reverse) {\r\n        this.capacity = capacity;\r\n        heap = new int[capacity];\r\n        this.reverse = reverse;\r\n    }\r\n    \r\n    private int compare(int a, int b) {\r\n        if (reverse)\r\n            return b - a;\r\n        return a - b;\r\n    }\r\n    \r\n    public void insert(int key) {\r\n        if (isFull()) {\r\n            throw new IndexOutOfBoundsException(&quot;Out of given capacity&quot;);\r\n        }\r\n        heap[size] = key;\r\n        swim(size++);\r\n    }\r\n    \r\n    // private void rightshift(int parent, int position) {\r\n    // for (int i = position; i &gt; parent; i--) {\r\n    // if (compare(heap[i], heap[i - 1]) &gt; 0)\r\n    // swap(i, i - 1);\r\n    // }\r\n    // }\r\n    \r\n    private void swim(int position) {\r\n        int parent = (position) / 2;\r\n        if (position &gt; 0 &amp;&amp; compare(heap[parent], heap[position]) &lt; 0) {\r\n            swap(parent, position);\r\n            // rightshift(parent, position);\r\n            swim(parent);\r\n        }\r\n    }\r\n    \r\n    private void sink(int position) {\r\n        int left = position * 2 + 1;\r\n        int right = position * 2 + 2;\r\n        int largest = position;\r\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\r\n            largest = left;\r\n        }\r\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\r\n            largest = right;\r\n        }\r\n        if (largest != position) {\r\n            swap(largest, position);\r\n            sink(largest);\r\n        }\r\n    \r\n    }\r\n    \r\n    public int getMin() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data available&quot;);\r\n        }\r\n        if (reverse) {\r\n            return heap[size - 1];\r\n        }\r\n        return heap[0];\r\n    }\r\n    \r\n    public int getMax() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data available&quot;);\r\n        }\r\n        if (reverse) {\r\n            return heap[0];\r\n        }\r\n        return heap[size - 1];\r\n    }\r\n    \r\n    public void delTop() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        swap(0, size - 1);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public void delMin() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        if (reverse) {\r\n            throw new RuntimeErrorException(null, &quot;You Initialized a Min heap&quot;);\r\n        }\r\n        swap(getMin(), 0);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public void delMax() {\r\n        if (isEmpty()) {\r\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\r\n        }\r\n        if (!reverse) {\r\n            throw new RuntimeErrorException(null, &quot;You Initialized a Max heap&quot;);\r\n        }\r\n        swap(getMax(), 0);\r\n        size--;\r\n        sink(0);\r\n    }\r\n    \r\n    public int size() {\r\n        return size - 1;\r\n    }\r\n    \r\n    public boolean isFull() {\r\n        return size - 1 == capacity;\r\n    }\r\n    \r\n    public boolean isEmpty() {\r\n        return size == 0;\r\n    }\r\n    \r\n    private void swap(int i, int j) {\r\n        int temp = heap[i];\r\n        heap[i] = heap[j];\r\n        heap[j] = temp;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        int[] items = Arrays.copyOf(heap, size);\r\n        return Arrays.toString(items);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nOutput:\r\n\r\nMin Heap: 10, 20, 40, 30, 80, 60, 70, 50, 90, 100\r\n\r\nMax Heap: 100, 90, 80, 60, 70, 10, 50, 30, 20, 40\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nProblem Description:\r\n\r\nI&#39;m working on implementing a min-heap and max-heap in Java, but I&#39;m encountering issues with sorting the array correctly. Let me explain the problem through an example:\r\n\r\nLet&#39;s say we have an array arr initialized as follows: {0, 0, 0} (max heap).\r\n\r\nWe insert 70, and arr becomes {70, 0, 0}. No further changes will be done.\r\nWe insert 50, and arr becomes {70, 50, 0}. No further changes will be done.\r\nWe insert 80, and arr becomes {70, 50, 80}. Here, 80 is greater than its parent (70), so we swap them. After this swap, arr becomes {80, 50, 70}.\r\nNow, the array is still not sorted correctly. I attempted to solve this issue by introducing a rightshift function, but it didn&#39;t work as expected.\r\n\r\nWhat I&#39;ve Tried:\r\n\r\nI have already implemented the basic structure of the min-heap and max-heap, but I believe the issues are primarily related to the swim, sink, and rightshift functions.\r\n\r\nI have made changes to the code, including adjusting the compare function and modifying the swim and sink functions. However, the array is still not sorted as expected.\r\n\r\nQuestion:\r\n\r\nI need help fixing the sink, swim, and rightshift functions or any other necessary changes to ensure that the array is correctly sorted for both min-heap and max-heap implementations. Can you please review my code and provide guidance on what needs to be changed to achieve this?","title":"Implementing Heap Sort from Scratch","body":"<pre><code>import java.util.Arrays;\n\nimport javax.management.RuntimeErrorException;\n\npublic class MyHeap {\n\npublic static void main(String args) {\n        MyHeap minHeap = new MyHeap(10, true);\n        minHeap.insert(70);\n        minHeap.insert(20);\n        minHeap.insert(90);\n        minHeap.insert(60);\n        minHeap.insert(40);\n        minHeap.insert(10);\n        minHeap.insert(50);\n        minHeap.insert(30);\n        minHeap.insert(80);\n        minHeap.insert(100);\n\n        System.out.println(&quot;Min Heap: &quot; + Arrays.toString(minHeap.heap));\n    \n        MyHeap maxHeap = new MyHeap(10, false);\n        maxHeap.insert(70);\n        maxHeap.insert(20);\n        maxHeap.insert(90);\n        maxHeap.insert(60);\n        maxHeap.insert(40);\n        maxHeap.insert(10);\n        maxHeap.insert(50);\n        maxHeap.insert(30);\n        maxHeap.insert(80);\n        maxHeap.insert(100);\n    \n        System.out.println(&quot;Max Heap: &quot; + Arrays.toString(maxHeap.heap));\n    }\n    \n    private int[] heap;\n    private int size = 0;\n    private int capacity;\n    private boolean reverse;// true if min heap\n    \n    public MyHeap(int capacity) {\n        this.capacity = capacity;\n        heap = new int[capacity];\n        // max heap by default\n        this.reverse = false;\n    }\n    \n    public MyHeap(int capacity, boolean reverse) {\n        this.capacity = capacity;\n        heap = new int[capacity];\n        this.reverse = reverse;\n    }\n    \n    private int compare(int a, int b) {\n        if (reverse)\n            return b - a;\n        return a - b;\n    }\n    \n    public void insert(int key) {\n        if (isFull()) {\n            throw new IndexOutOfBoundsException(&quot;Out of given capacity&quot;);\n        }\n        heap[size] = key;\n        swim(size++);\n    }\n    \n    // private void rightshift(int parent, int position) {\n    // for (int i = position; i &gt; parent; i--) {\n    // if (compare(heap[i], heap[i - 1]) &gt; 0)\n    // swap(i, i - 1);\n    // }\n    // }\n    \n    private void swim(int position) {\n        int parent = (position) / 2;\n        if (position &gt; 0 &amp;&amp; compare(heap[parent], heap[position]) &lt; 0) {\n            swap(parent, position);\n            // rightshift(parent, position);\n            swim(parent);\n        }\n    }\n    \n    private void sink(int position) {\n        int left = position * 2 + 1;\n        int right = position * 2 + 2;\n        int largest = position;\n        if (left &lt; size &amp;&amp; compare(heap[position], heap[left]) &lt; 0) {\n            largest = left;\n        }\n        if (right &lt; size &amp;&amp; compare(heap[position], heap[right]) &lt; 0) {\n            largest = right;\n        }\n        if (largest != position) {\n            swap(largest, position);\n            sink(largest);\n        }\n    \n    }\n    \n    public int getMin() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data available&quot;);\n        }\n        if (reverse) {\n            return heap[size - 1];\n        }\n        return heap[0];\n    }\n    \n    public int getMax() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data available&quot;);\n        }\n        if (reverse) {\n            return heap[0];\n        }\n        return heap[size - 1];\n    }\n    \n    public void delTop() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        swap(0, size - 1);\n        size--;\n        sink(0);\n    }\n    \n    public void delMin() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        if (reverse) {\n            throw new RuntimeErrorException(null, &quot;You Initialized a Min heap&quot;);\n        }\n        swap(getMin(), 0);\n        size--;\n        sink(0);\n    }\n    \n    public void delMax() {\n        if (isEmpty()) {\n            throw new IllegalStateException(&quot;No Data Available to delete&quot;);\n        }\n        if (!reverse) {\n            throw new RuntimeErrorException(null, &quot;You Initialized a Max heap&quot;);\n        }\n        swap(getMax(), 0);\n        size--;\n        sink(0);\n    }\n    \n    public int size() {\n        return size - 1;\n    }\n    \n    public boolean isFull() {\n        return size - 1 == capacity;\n    }\n    \n    public boolean isEmpty() {\n        return size == 0;\n    }\n    \n    private void swap(int i, int j) {\n        int temp = heap[i];\n        heap[i] = heap[j];\n        heap[j] = temp;\n    }\n    \n    @Override\n    public String toString() {\n        int[] items = Arrays.copyOf(heap, size);\n        return Arrays.toString(items);\n    }\n\n}\n\n\n</code></pre>\n<p>Output:</p>\n<p>Min Heap: 10, 20, 40, 30, 80, 60, 70, 50, 90, 100</p>\n<p>Max Heap: 100, 90, 80, 60, 70, 10, 50, 30, 20, 40</p>\n<p>Problem Description:</p>\n<p>I'm working on implementing a min-heap and max-heap in Java, but I'm encountering issues with sorting the array correctly. Let me explain the problem through an example:</p>\n<p>Let's say we have an array arr initialized as follows: {0, 0, 0} (max heap).</p>\n<p>We insert 70, and arr becomes {70, 0, 0}. No further changes will be done.\nWe insert 50, and arr becomes {70, 50, 0}. No further changes will be done.\nWe insert 80, and arr becomes {70, 50, 80}. Here, 80 is greater than its parent (70), so we swap them. After this swap, arr becomes {80, 50, 70}.\nNow, the array is still not sorted correctly. I attempted to solve this issue by introducing a rightshift function, but it didn't work as expected.</p>\n<p>What I've Tried:</p>\n<p>I have already implemented the basic structure of the min-heap and max-heap, but I believe the issues are primarily related to the swim, sink, and rightshift functions.</p>\n<p>I have made changes to the code, including adjusting the compare function and modifying the swim and sink functions. However, the array is still not sorted as expected.</p>\n<p>Question:</p>\n<p>I need help fixing the sink, swim, and rightshift functions or any other necessary changes to ensure that the array is correctly sorted for both min-heap and max-heap implementations. Can you please review my code and provide guidance on what needs to be changed to achieve this?</p>\n"},{"tags":["java","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695570444,"creation_date":1695570444,"answer_id":77167818,"question_id":77167790,"body_markdown":"I have zero experience with bukkit or spigot from a developer point of view, but given my Java experience: You&#39;re defining your `ArrayList` non-`static`, that means that it most likely isn&#39;t unique throughout the server and means that every instance of your class might have its own `ArrayList`. Your approach would only work if your `Game` class is a singleton. \r\n\r\nYou can circumvent this by making the reference to the List `static` and also use a thread-safe list, like the [CopyOnWriteArrayList][1]. \r\n\r\nSo something like:\r\n\r\n    private static List&lt;Player&gt; gammaList = new CopyOnWriteArrayList&lt;&gt;();\r\n\r\nshould work.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html","title":"Bukkit Java - ArrayList is not working in Event","body":"<p>I have zero experience with bukkit or spigot from a developer point of view, but given my Java experience: You're defining your <code>ArrayList</code> non-<code>static</code>, that means that it most likely isn't unique throughout the server and means that every instance of your class might have its own <code>ArrayList</code>. Your approach would only work if your <code>Game</code> class is a singleton.</p>\n<p>You can circumvent this by making the reference to the List <code>static</code> and also use a thread-safe list, like the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>.</p>\n<p>So something like:</p>\n<pre><code>private static List&lt;Player&gt; gammaList = new CopyOnWriteArrayList&lt;&gt;();\n</code></pre>\n<p>should work.</p>\n"}],"owner":{"account_id":29523220,"reputation":3,"user_id":22625487,"display_name":"KrzychuVelde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167818,"answer_count":1,"score":0,"last_activity_date":1695570444,"creation_date":1695570026,"question_id":77167790,"body_markdown":"I want to make a plugin which gives a player night vision efect after typing a command and it is working but i also want to add if player is on this arraylist its giving an efect after dying, but it looks like after EventHandler its not loading players from arraylist.\r\n\r\n```\r\npublic class Gamma implements CommandExecutor, Listener {\r\n\r\n    private ArrayList&lt;Player&gt; gammaList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        Player player = (Player) sender;\r\n        PotionEffect potionEffect = player.getPotionEffect(PotionEffectType.NIGHT_VISION);\r\n        if (gammaList.contains(player)) {\r\n            gammaList.remove(player);\r\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.RED + &quot; usunieto&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\r\n            player.removePotionEffect(PotionEffectType.NIGHT_VISION);\r\n        } else if (!gammaList.contains(player)) {\r\n            gammaList.add(player);\r\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.DARK_GREEN + &quot; nadano&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\r\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\r\n        }\r\n        return true;\r\n    }\r\n    @EventHandler\r\n    public void onPlayerDie(EntityResurrectEvent event) {\r\n        \r\n        Player player = (Player) event.getEntity();\r\n        if (gammaList.contains(player)) {\r\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSb know what should I change in this code?","title":"Bukkit Java - ArrayList is not working in Event","body":"<p>I want to make a plugin which gives a player night vision efect after typing a command and it is working but i also want to add if player is on this arraylist its giving an efect after dying, but it looks like after EventHandler its not loading players from arraylist.</p>\n<pre><code>public class Gamma implements CommandExecutor, Listener {\n\n    private ArrayList&lt;Player&gt; gammaList = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        Player player = (Player) sender;\n        PotionEffect potionEffect = player.getPotionEffect(PotionEffectType.NIGHT_VISION);\n        if (gammaList.contains(player)) {\n            gammaList.remove(player);\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.RED + &quot; usunieto&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\n            player.removePotionEffect(PotionEffectType.NIGHT_VISION);\n        } else if (!gammaList.contains(player)) {\n            gammaList.add(player);\n            player.sendMessage(ChatColor.GREEN + &quot;Pomyslnie&quot; + ChatColor.DARK_GREEN + &quot; nadano&quot; + ChatColor.GREEN + &quot; efekt gammy!&quot;);\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\n        }\n        return true;\n    }\n    @EventHandler\n    public void onPlayerDie(EntityResurrectEvent event) {\n        \n        Player player = (Player) event.getEntity();\n        if (gammaList.contains(player)) {\n            player.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1));\n        }\n    }\n}\n</code></pre>\n<p>Sb know what should I change in this code?</p>\n"},{"tags":["java","spring","jpa","spring-transactions","spring-orm"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695374368,"post_id":77156325,"comment_id":136018780,"body_markdown":"Maybe don&#39;t close the `EntityManager` before the transaction can be committed","body":"Maybe don&#39;t close the <code>EntityManager</code> before the transaction can be committed"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1695374829,"post_id":77156325,"comment_id":136018885,"body_markdown":"How are you calling the save() method? (And btw, don&#39;t do `em.close` in your method; you even don&#39;t always need `em.persist`, entities instantiated in an active transaction are persisted automatically when the transaction ends)","body":"How are you calling the save() method? (And btw, don&#39;t do <code>em.close</code> in your method; you even don&#39;t always need <code>em.persist</code>, entities instantiated in an active transaction are persisted automatically when the transaction ends)"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695375106,"post_id":77156325,"comment_id":136018968,"body_markdown":"@Jorn sorry, I copy pasted before I removed the .close() but I did and it still doesn&#39;t work.","body":"@Jorn sorry, I copy pasted before I removed the .close() but I did and it still doesn&#39;t work."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695375975,"post_id":77156325,"comment_id":136019179,"body_markdown":"@wi2ard I added the Main class from which I call save. Yes I removed the .close(). Should I use something else instead of persist() ?","body":"@wi2ard I added the Main class from which I call save. Yes I removed the .close(). Should I use something else instead of persist() ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695395439,"post_id":77156325,"comment_id":136023198,"body_markdown":"This ONLY works when you manage transactions yourself because you are using a local EntityManager context. By calling pu.getEntityManager();, it is not managed by the container - you can check this out by using the isJoinedToTransaction() to see if it is within an active JTA transaction. If it is hooked into Spring&#39;s config correctly, you can also call joinTransaction() to have it register with the active JTA transaction, but you are likely better off letting Spring inject your EntityManager context directly.","body":"This ONLY works when you manage transactions yourself because you are using a local EntityManager context. By calling pu.getEntityManager();, it is not managed by the container - you can check this out by using the isJoinedToTransaction() to see if it is within an active JTA transaction. If it is hooked into Spring&#39;s config correctly, you can also call joinTransaction() to have it register with the active JTA transaction, but you are likely better off letting Spring inject your EntityManager context directly."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695556372,"post_id":77156325,"comment_id":136037594,"body_markdown":"@Chris I removed my PersistenceUtil entirely, and added an Autowired private EntityManager em; in my repository, but still nothing gets saved in the db if I don&#39;t use begin/commit.","body":"@Chris I removed my PersistenceUtil entirely, and added an Autowired private EntityManager em; in my repository, but still nothing gets saved in the db if I don&#39;t use begin/commit."}],"answers":[{"comments":[{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695382638,"post_id":77156952,"comment_id":136020508,"body_markdown":"I added the logs to my post but I get no errors, from what I read everything happens correctly, there&#39;s just nothing in the db when I use getAll/printAllMessages. (and there is when I don&#39;t use @Transactional)","body":"I added the logs to my post but I get no errors, from what I read everything happens correctly, there&#39;s just nothing in the db when I use getAll/printAllMessages. (and there is when I don&#39;t use @Transactional)"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1695384540,"post_id":77156952,"comment_id":136020877,"body_markdown":"Must be something wrong with you service method printAllMessages, the logs show that your entities are persisted to the db","body":"Must be something wrong with you service method printAllMessages, the logs show that your entities are persisted to the db"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695384687,"post_id":77156952,"comment_id":136020906,"body_markdown":"When I use my other save method with begin and commit instead of Transactional it logs them properly","body":"When I use my other save method with begin and commit instead of Transactional it logs them properly"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695385442,"post_id":77156952,"comment_id":136021030,"body_markdown":"And btw I&#39;m instantiating the JpaTransactionManager with my emf.","body":"And btw I&#39;m instantiating the JpaTransactionManager with my emf."}],"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695387562,"creation_date":1695379743,"answer_id":77156952,"question_id":77156325,"body_markdown":"Check [this guide][1] for an in-depth and clear explanation about Spring transactionality:\r\n\r\n&gt; Your UserService *(ne. in your example using main it is CrudRepository)* gets proxied on the fly, and the proxy manages transactions for you. But it is not the proxy itself handling all this transactional state (open, commit, close), the proxy delegates that work to a transaction manager.\r\n\r\n  You should instantiate the transaction manager bean, use for eg. JpaTransactionManager to reuse your entityManagerFactory.\r\n\r\nI see you have some logging framework put in place so you can [enable logging of the transaction handling][2] to better understand what&#39;s going on.\r\n\r\n*Edit after comment*: \r\n\r\n&gt; When I use my other save method with begin and commit instead of Transactional it logs them properly\r\n\r\nYou could look at your flushing. Because you&#39;re using the default flushing strategy, [Jpa will only flush when needed][3] - that is when a new query is made that needs up to date records\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\r\n  [2]: https://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log\r\n  [3]: https://www.baeldung.com/spring-jpa-flush","title":"EntityManager.persist() not working with @Transactional","body":"<p>Check <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">this guide</a> for an in-depth and clear explanation about Spring transactionality:</p>\n<blockquote>\n<p>Your UserService <em>(ne. in your example using main it is CrudRepository)</em> gets proxied on the fly, and the proxy manages transactions for you. But it is not the proxy itself handling all this transactional state (open, commit, close), the proxy delegates that work to a transaction manager.</p>\n</blockquote>\n<p>You should instantiate the transaction manager bean, use for eg. JpaTransactionManager to reuse your entityManagerFactory.</p>\n<p>I see you have some logging framework put in place so you can <a href=\"https://stackoverflow.com/questions/1965454/showing-a-spring-transaction-in-log\">enable logging of the transaction handling</a> to better understand what's going on.</p>\n<p><em>Edit after comment</em>:</p>\n<blockquote>\n<p>When I use my other save method with begin and commit instead of Transactional it logs them properly</p>\n</blockquote>\n<p>You could look at your flushing. Because you're using the default flushing strategy, <a href=\"https://www.baeldung.com/spring-jpa-flush\" rel=\"nofollow noreferrer\">Jpa will only flush when needed</a> - that is when a new query is made that needs up to date records</p>\n"},{"comments":[{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695561541,"post_id":77167247,"comment_id":136038097,"body_markdown":"When I do that I get the following error : Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageRepository&#39;: Injection of persistence dependencies failed","body":"When I do that I get the following error : Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageRepository&#39;: Injection of persistence dependencies failed"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695563495,"post_id":77167247,"comment_id":136038300,"body_markdown":"okay. see my update please. You need to setup the integration between hibernate and spring correctly first. The key is to use `LocalContainerEntityManagerFactoryBean`. If you are using spring-boot, these kind of the stuff will be automatically configured for by . But since you are not using spring-boot right now , you need to manually configure it first.","body":"okay. see my update please. You need to setup the integration between hibernate and spring correctly first. The key is to use <code>LocalContainerEntityManagerFactoryBean</code>. If you are using spring-boot, these kind of the stuff will be automatically configured for by . But since you are not using spring-boot right now , you need to manually configure it first."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695564026,"post_id":77167247,"comment_id":136038358,"body_markdown":"Can you tell me where does the DataSource class come from (what dependency do I need?)","body":"Can you tell me where does the DataSource class come from (what dependency do I need?)"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695564283,"post_id":77167247,"comment_id":136038386,"body_markdown":"the datasource question seems that is related to this [question] (https://stackoverflow.com/questions/77167096/how-do-i-configure-datasource-and-transaction-manager-programmatically) ? would you consider to provide bounty  for that question too ? i am happy to answer in that questions if it has . cheers","body":"the datasource question seems that is related to this [question] (<a href=\"https://stackoverflow.com/questions/77167096/how-do-i-configure-datasource-and-transaction-manager-programmatically\" title=\"how do i configure datasource and transaction manager programmatically\">stackoverflow.com/questions/77167096/&hellip;</a>) ? would you consider to provide bounty  for that question too ? i am happy to answer in that questions if it has . cheers"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695564715,"post_id":77167247,"comment_id":136038422,"body_markdown":"It&#39;s not eligible yet unfortunately, I have to wait 2 days.","body":"It&#39;s not eligible yet unfortunately, I have to wait 2 days."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695564751,"post_id":77167247,"comment_id":136038425,"body_markdown":": (  no worries. i can wait","body":": (  no worries. i can wait"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695565757,"creation_date":1695561245,"answer_id":77167247,"question_id":77156325,"body_markdown":"It is because in your not working example,  the `entityManager` that you used to persist the entity is not the same `entityManager` instance that is used to begin the transaction.\r\n\r\nThe aspect that is backing the `@Transactional` will automatically create an `entityManager` and start the transaction on it before it actually executing the `@Transactional` method . You can think that the following codes actually executes behind the scene in this transactional aspect before it really executes the `@Transactional` method : \r\n\r\n``` java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nem.getTransaction().begin();\r\n```\r\n\r\nIn your `@Transactional` method , you need to use the `@PersistenceContext` to access the `entityManager` instance that is created in the transactional aspect , but not creating another new `entityManager` by yourself which you never start any transaction on it and hence the entity your persist with it will never get commit. \r\n\r\nCodewise , you have to do something likes : \r\n\r\n``` java\r\n@Repository\r\npublic class SomeRepository {\r\n\r\n    @PersistenceContext\r\n\tprivate EntityManager em;\r\n\t\r\n\t@Transactional\r\n\tpublic &lt;S extends Message&gt; S save(S entity) {;\r\n\t    em.persist(entity);\r\n\t    return entity;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\nBut before making `@PersistenceContext` can correctly inject the `entityManager` , you have to first integrate spring with hibernate correctly first by defining `EntityManagerFactory` as a spring bean. The recommend option is use `LocalContainerEntityManagerFactoryBean`   (See [this][1] for details). \r\n\r\nA quick getting started example for you is :\r\n\r\n``` java\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(DataSource ds) {\r\n\t  LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t  factory.setDataSource(ds);\r\n\t  factory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n\r\n      // configure your factory here ..\r\n\t  return factory;\r\n}\r\n\r\n```\r\n\r\nAnd your `JpaTransactionManager` just need to be defined as :\r\n\r\n\r\n``` java\r\n@Bean\r\npublic PlatformTransactionManager txManager() {\r\n        return new JpaTransactionManager();\r\n}\r\n```\r\n\r\nIt will retrieve `EntityManagerFactory` from the spring context (i.e the one that is created by the `LocalContainerEntityManagerFactoryBean`) and to use it. But not using the one that is not managed by Spring. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/data-access/orm/jpa.html#orm-jpa-setup-lcemfb","title":"EntityManager.persist() not working with @Transactional","body":"<p>It is because in your not working example,  the <code>entityManager</code> that you used to persist the entity is not the same <code>entityManager</code> instance that is used to begin the transaction.</p>\n<p>The aspect that is backing the <code>@Transactional</code> will automatically create an <code>entityManager</code> and start the transaction on it before it actually executing the <code>@Transactional</code> method . You can think that the following codes actually executes behind the scene in this transactional aspect before it really executes the <code>@Transactional</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nem.getTransaction().begin();\n</code></pre>\n<p>In your <code>@Transactional</code> method , you need to use the <code>@PersistenceContext</code> to access the <code>entityManager</code> instance that is created in the transactional aspect , but not creating another new <code>entityManager</code> by yourself which you never start any transaction on it and hence the entity your persist with it will never get commit.</p>\n<p>Codewise , you have to do something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class SomeRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n    \n    @Transactional\n    public &lt;S extends Message&gt; S save(S entity) {;\n        em.persist(entity);\n        return entity;\n    }\n}\n</code></pre>\n<hr />\n<p>But before making <code>@PersistenceContext</code> can correctly inject the <code>entityManager</code> , you have to first integrate spring with hibernate correctly first by defining <code>EntityManagerFactory</code> as a spring bean. The recommend option is use <code>LocalContainerEntityManagerFactoryBean</code>   (See <a href=\"https://docs.spring.io/spring-framework/reference/data-access/orm/jpa.html#orm-jpa-setup-lcemfb\" rel=\"nofollow noreferrer\">this</a> for details).</p>\n<p>A quick getting started example for you is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(DataSource ds) {\n      LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n      factory.setDataSource(ds);\n      factory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n\n      // configure your factory here ..\n      return factory;\n}\n\n</code></pre>\n<p>And your <code>JpaTransactionManager</code> just need to be defined as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PlatformTransactionManager txManager() {\n        return new JpaTransactionManager();\n}\n</code></pre>\n<p>It will retrieve <code>EntityManagerFactory</code> from the spring context (i.e the one that is created by the <code>LocalContainerEntityManagerFactoryBean</code>) and to use it. But not using the one that is not managed by Spring.</p>\n"},{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695568979,"post_id":77167713,"comment_id":136038872,"body_markdown":"@GaetanL. Can you verify now?","body":"@GaetanL. Can you verify now?"},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":1,"creation_date":1695570891,"post_id":77167713,"comment_id":136039083,"body_markdown":"very nice thank you for all your efforts. Can&#39;t say I understood everything, but it works !","body":"very nice thank you for all your efforts. Can&#39;t say I understood everything, but it works !"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695570941,"post_id":77167713,"comment_id":136039089,"body_markdown":"@GaetanL. Please upvote as well. :)","body":"@GaetanL. Please upvote as well. :)"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695571086,"post_id":77167713,"comment_id":136039102,"body_markdown":"@GaetanL. Kindly add the bounty :).","body":"@GaetanL. Kindly add the bounty :)."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":1,"creation_date":1695571488,"post_id":77167713,"comment_id":136039138,"body_markdown":"Sorry it&#39;s the first time I put a bounty. It says &quot;You may award your bounty worth 50 reputation in 20 hours&quot;. Can you remind me then?","body":"Sorry it&#39;s the first time I put a bounty. It says &quot;You may award your bounty worth 50 reputation in 20 hours&quot;. Can you remind me then?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695571544,"post_id":77167713,"comment_id":136039148,"body_markdown":"@GaetanL. Ok. I will remind you tommorrow then.","body":"@GaetanL. Ok. I will remind you tommorrow then."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695571636,"post_id":77167713,"comment_id":136039155,"body_markdown":"@GaetanL. Take courses from Udemy on Spring and Hibernate from Chad Darby. He is the best guru in explaining Spring in details from scratch.","body":"@GaetanL. Take courses from Udemy on Spring and Hibernate from Chad Darby. He is the best guru in explaining Spring in details from scratch."},{"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"score":0,"creation_date":1695571699,"post_id":77167713,"comment_id":136039163,"body_markdown":"I&#39;m looking for beginner courses on pure Spring, but everything is with Boot.","body":"I&#39;m looking for beginner courses on pure Spring, but everything is with Boot."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695571717,"post_id":77167713,"comment_id":136039165,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255399/discussion-between-anish-b-and-gaetan-l).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255399/discussion-between-anish-b-and-gaetan-l\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695570420,"creation_date":1695568895,"answer_id":77167713,"question_id":77156325,"body_markdown":"I finally made your code working on my local by fixing your code. :)\r\n\r\n Now, it&#39;s persisting the data in the database. I have used mysql database for testing.\r\n\r\nFor testing, **hibernate.cfg.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;Anish@123&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;mapping class=&quot;com.example.demo.Message&quot;/&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nRemove `@EnableTransactionManagement` from the **MessageRepository** class, put `@Transactional(transactionManager=&quot;txManager&quot;)` on the `save` method and put `@PersistenceContext` on the entityManager instead of `@Autowired`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.NoResultException;\r\n    import jakarta.persistence.PersistenceContext;\r\n    import jakarta.persistence.criteria.CriteriaBuilder;\r\n    import jakarta.persistence.criteria.CriteriaQuery;\r\n    import jakarta.persistence.criteria.Root;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.lang.NonNull;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Repository\r\n    public class MessageRepository implements CrudRepository&lt;Message, Long&gt; {\r\n    \r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n    \r\n    \tprivate final static Logger logger = LoggerFactory.getLogger(MessageRepository.class);\r\n    \r\n    \t@Transactional(transactionManager = &quot;txManager&quot;)\r\n    \t@Override\r\n    \tpublic @NonNull &lt;S extends Message&gt; S save(@NonNull S message) {\r\n    \t\t//em.getTransaction().begin();\r\n    \t\tem.persist(message);\r\n    \t\t//em.getTransaction().commit();\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n         ....\r\n    }\r\n\r\nAdd `@EnableTransactionManagement` on the **PersistenceUtil** and `@Bean` over the **EntityManagerFactory** so that Spring is able to find the bean and inject in **EntityManager** via `@PersistenceContext`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import jakarta.annotation.PreDestroy;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @Service\r\n    public class PersistenceUtil {\r\n        final static Logger logger = LoggerFactory.getLogger(PersistenceUtil.class);\r\n    \r\n    \tprivate static EntityManagerFactory emf = null;\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager txManager() {\r\n            return new JpaTransactionManager(getEntityManagerFactory());\r\n        }\r\n    \r\n        @Bean\r\n        public EntityManagerFactory getEntityManagerFactory() {\r\n            if (emf == null) {\r\n                synchronized (EntityManagerFactory.class) {\r\n                    if (emf == null) {\r\n                \t\tfinal StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\r\n                \t\t\t\t.configure() // Configures setting from hibernate.cfg.xml\r\n                \t\t\t\t.build();\r\n                \t\ttry {\r\n                \t\t\temf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\r\n                \t\t}\r\n                \t\tcatch (Exception e) {\r\n                \t\t\tStandardServiceRegistryBuilder.destroy(sr);\r\n                \t\t\tthrow e;\r\n                \t\t}\r\n                    }\r\n                }\r\n            }\r\n            return emf;\r\n        }\r\n    \r\n        @PreDestroy\r\n        public static void closeEntityManagerFactory() {\r\n        \tSystem.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\r\n            if (emf != null) {\r\n                emf.close();\r\n            }\r\n        }\r\n    \r\n        @Bean\r\n        public EntityManager getEntityManager() {\r\n            return getEntityManagerFactory().createEntityManager();\r\n        }\r\n    }\r\n\r\n**TestSpringApplication**:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    public class TestSpringApplication {\r\n    \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \t@Autowired\r\n    \tprivate CrudRepository&lt;Message, Long&gt; messageRepository;\r\n    \r\n    \tfinal static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\r\n    \t\tTestSpringApplication app = ctx.getBean(TestSpringApplication.class);\r\n    \t\tapp.run(args);\r\n    \t}\r\n    \r\n    \tpublic void run(String... args) {\r\n    \t\t// SAVE\r\n    \t\tlogger.debug(&quot;saving message 1/one...&quot;);\r\n    \t\tMessage messageOne = messageRepository.save(new Message(&quot;Message one&quot;));\r\n    \r\n    \t\tlogger.debug(&quot;saving message 2/two...&quot;);\r\n    \t\tMessage messageTwo = messageRepository.save(new Message(&quot;Message two&quot;));\r\n    \t\tprintAllMessages();\r\n    \r\n    \r\n    \t\t// SAVE ALL\r\n    \t\tlogger.debug(&quot;saving message 2/two...&quot;);\r\n    \t\tMessage messageThree = new Message(&quot;Message three&quot;);\r\n    \t\tMessage messageFour = new Message(&quot;Message four&quot;);\r\n    \t\tMessage messageFive = new Message(&quot;Message five&quot;);\r\n    \t\tMessage messageSix = new Message(&quot;Message six&quot;);\r\n    \t\tMessage messageSeven = new Message(&quot;Message seven&quot;);\r\n    \t\tMessage messageEight = new Message(&quot;Message eight&quot;);\r\n    \t\tList&lt;Message&gt; messages = Arrays.asList(messageThree, messageFour, messageFive, messageSix, messageSeven, messageEight);\r\n    \t\tmessageRepository.saveAll(messages);\r\n    \r\n    \t\t// FIND ALL\r\n    \t\tprintAllMessages();\r\n    \t}\r\n    \r\n    \tprivate void printAllMessages() {\r\n    \t\tlogger.debug(&quot;finding all messages...&quot;);\r\n    \t\tmessageRepository.findAll().forEach(m -&gt; {\r\n    \t\t\tlogger.debug(&quot;Message: &quot; + m.toString());\r\n    \t\t});\r\n    \t}\r\n    }\r\n     \r\n\r\nSuccessful data persistence with the screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rppA.png","title":"EntityManager.persist() not working with @Transactional","body":"<p>I finally made your code working on my local by fixing your code. :)</p>\n<p>Now, it's persisting the data in the database. I have used mysql database for testing.</p>\n<p>For testing, <strong>hibernate.cfg.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;Anish@123&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;mapping class=&quot;com.example.demo.Message&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Remove <code>@EnableTransactionManagement</code> from the <strong>MessageRepository</strong> class, put <code>@Transactional(transactionManager=&quot;txManager&quot;)</code> on the <code>save</code> method and put <code>@PersistenceContext</code> on the entityManager instead of <code>@Autowired</code>:</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.NoResultException;\nimport jakarta.persistence.PersistenceContext;\nimport jakarta.persistence.criteria.CriteriaBuilder;\nimport jakarta.persistence.criteria.CriteriaQuery;\nimport jakarta.persistence.criteria.Root;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.lang.NonNull;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Repository\npublic class MessageRepository implements CrudRepository&lt;Message, Long&gt; {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    private final static Logger logger = LoggerFactory.getLogger(MessageRepository.class);\n\n    @Transactional(transactionManager = &quot;txManager&quot;)\n    @Override\n    public @NonNull &lt;S extends Message&gt; S save(@NonNull S message) {\n        //em.getTransaction().begin();\n        em.persist(message);\n        //em.getTransaction().commit();\n        return message;\n    }\n\n     ....\n}\n</code></pre>\n<p>Add <code>@EnableTransactionManagement</code> on the <strong>PersistenceUtil</strong> and <code>@Bean</code> over the <strong>EntityManagerFactory</strong> so that Spring is able to find the bean and inject in <strong>EntityManager</strong> via <code>@PersistenceContext</code>:</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.annotation.PreDestroy;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@Service\npublic class PersistenceUtil {\n    final static Logger logger = LoggerFactory.getLogger(PersistenceUtil.class);\n\n    private static EntityManagerFactory emf = null;\n\n    @Bean\n    public PlatformTransactionManager txManager() {\n        return new JpaTransactionManager(getEntityManagerFactory());\n    }\n\n    @Bean\n    public EntityManagerFactory getEntityManagerFactory() {\n        if (emf == null) {\n            synchronized (EntityManagerFactory.class) {\n                if (emf == null) {\n                    final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\n                            .configure() // Configures setting from hibernate.cfg.xml\n                            .build();\n                    try {\n                        emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\n                    }\n                    catch (Exception e) {\n                        StandardServiceRegistryBuilder.destroy(sr);\n                        throw e;\n                    }\n                }\n            }\n        }\n        return emf;\n    }\n\n    @PreDestroy\n    public static void closeEntityManagerFactory() {\n        System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\n        if (emf != null) {\n            emf.close();\n        }\n    }\n\n    @Bean\n    public EntityManager getEntityManager() {\n        return getEntityManagerFactory().createEntityManager();\n    }\n}\n</code></pre>\n<p><strong>TestSpringApplication</strong>:</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class TestSpringApplication {\n    @Autowired\n    private ApplicationContext context;\n\n    @Autowired\n    private CrudRepository&lt;Message, Long&gt; messageRepository;\n\n    final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\n        TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\n        app.run(args);\n    }\n\n    public void run(String... args) {\n        // SAVE\n        logger.debug(&quot;saving message 1/one...&quot;);\n        Message messageOne = messageRepository.save(new Message(&quot;Message one&quot;));\n\n        logger.debug(&quot;saving message 2/two...&quot;);\n        Message messageTwo = messageRepository.save(new Message(&quot;Message two&quot;));\n        printAllMessages();\n\n\n        // SAVE ALL\n        logger.debug(&quot;saving message 2/two...&quot;);\n        Message messageThree = new Message(&quot;Message three&quot;);\n        Message messageFour = new Message(&quot;Message four&quot;);\n        Message messageFive = new Message(&quot;Message five&quot;);\n        Message messageSix = new Message(&quot;Message six&quot;);\n        Message messageSeven = new Message(&quot;Message seven&quot;);\n        Message messageEight = new Message(&quot;Message eight&quot;);\n        List&lt;Message&gt; messages = Arrays.asList(messageThree, messageFour, messageFive, messageSix, messageSeven, messageEight);\n        messageRepository.saveAll(messages);\n\n        // FIND ALL\n        printAllMessages();\n    }\n\n    private void printAllMessages() {\n        logger.debug(&quot;finding all messages...&quot;);\n        messageRepository.findAll().forEach(m -&gt; {\n            logger.debug(&quot;Message: &quot; + m.toString());\n        });\n    }\n}\n \n</code></pre>\n<p>Successful data persistence with the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/2rppA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rppA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77167713,"answer_count":3,"score":0,"last_activity_date":1695570420,"creation_date":1695374282,"question_id":77156325,"body_markdown":"I&#39;m trying to learn how to use the @Transactional annotation in Spring (I&#39;m not using Spring Boot). But when I swich from my - working - method using begin() and commit() ton the one with @Transactional, my entities aren&#39;t persisted. Can you help me understand what I&#39;m doing wrong?\r\n\r\nWithout transactional/working method:\r\n\r\n    public &lt;S extends Message&gt; S save(S entity) {\r\n        EntityManager em = pu.getEntityManager();\r\n        try {\r\n            logger.debug(&quot;Trying to save &quot; + ((Message) entity).toString());\r\n            em.getTransaction().begin();\r\n            em.persist(entity);\r\n            em.getTransaction().commit();\r\n            logger.debug(&quot;MessageRepository.save() - after .commit()&quot;);\r\n        }\r\n        catch (PersistenceException e) {\r\n            logger.error(&quot;Entity already exists&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            System.out.println();\r\n            em.close();\r\n        }\r\n\r\n        return entity;\r\n    }\r\n\r\nWith @Transactional/not working:\r\n\r\n    @Transactional\r\n    @Override\r\n    public &lt;S extends Message&gt; S save(S entity) {\r\n        EntityManager em = pu.getEntityManager();\r\n        em.persist(entity);\r\n\t\treturn entity;\r\n    }\r\n\r\nAnd here is my PersustanceUtil (pu) class:\r\n\r\n    package com.cypherf.repository;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import jakarta.annotation.PreDestroy;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n\r\n    import javax.sql.DataSource;\r\n\r\n    @Configuration\r\n    @Service\r\n    public class PersistenceUtil {\r\n        private static EntityManagerFactory emf = null;\r\n\r\n        @Bean\r\n        public PlatformTransactionManager txManager() {\r\n            return new JpaTransactionManager(getEntityManagerFactory());\r\n        }\r\n\r\n        /**\r\n         * Creates entity manager factory as singleton instance and returns it\r\n         *\r\n         * @return the EntityManagerFactory\r\n         */\r\n        public EntityManagerFactory getEntityManagerFactory() {\r\n            if (emf == null) {\r\n                synchronized (EntityManagerFactory.class) {\r\n                    if (emf == null) {\r\n                        final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\r\n                                .configure() // Configures setting from hibernate.cfg.xml\r\n                                .build();\r\n                        try {\r\n                            emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\r\n                        }\r\n                        catch (Exception e) {\r\n                            StandardServiceRegistryBuilder.destroy(sr);\r\n                            throw e;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return emf;\r\n        }\r\n\r\n        /**\r\n         * Closes the entity manager factory\r\n         */\r\n        @PreDestroy\r\n        public static void closeEntityManagerFactory() {\r\n            System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\r\n            if (emf != null) {\r\n                System.out.println(&quot;Closing emf&quot;);\r\n                emf.close();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns a new EntityManager instance\r\n         *\r\n         * @return the new EntityManager instance\r\n         */\r\n        public EntityManager getEntityManager() {\r\n            return getEntityManagerFactory().createEntityManager();\r\n        }\r\n    }\r\n\r\nMain class:\r\n\r\n    package com.cypherf;\r\n    import com.cypherf.model.Message;\r\n    import com.cypherf.repository.MessageRepository;\r\n    import com.cypherf.service.MessageService;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableTransactionManagement\r\n    public class TestSpringApplication {\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        @Autowired\r\n        private CrudRepository&lt;Message, Long&gt; messageRepository;\r\n\r\n        @Autowired\r\n        private MessageService messageService;\r\n\r\n        final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\r\n\r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\r\n            TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\r\n            logger.info(&quot;Running app...&quot;);\r\n            app.run(args);\r\n            //TestSpringApplication app = context.getBean(TestSpringApplication.class);\r\n            //TestSpringApplication app = new TestSpringApplication();\r\n            //app.run(args);\r\n\r\n        }\r\n\r\n        public void run(String... args) {\r\n            messageRepository.save(new Message(&quot;Message one&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageService.printAllMessages();\r\n\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageService.printAllMessages();\r\n\r\n    //        System.out.println(&quot;BEANS:&quot;);\r\n    //        List&lt;String&gt; beans = Arrays.asList(context.getBeanDefinitionNames());\r\n    //        beans.forEach(bean -&gt; System.out.println(bean));\r\n        }\r\n    }\r\n\r\nHere is the output:\r\n\r\n    [...]\r\n    2419 [main] DEBUG org.hibernate.event.internal.EntityCopyObserverFactoryInitiator  - Configured EntityCopyObserver strategy: disallow\r\n    2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - Not known whether passed class name [com.cypherf.model.Message] is safe\r\n    2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : com.cypherf.model.Message\r\n    2790 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl  - HHH000513: Unable to create the ReflectionOptimizer for [com.cypherf.model.Message]: private accessor [text]\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting post-init callbacks\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `staticFetchableList` generator\r\n    2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `sqmMultiTableInsertStrategy` interpretation\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  - Static SQL for entity: com.cypherf.model.Message\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Version select: select id from Message where id=?\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Insert (0): insert into Message (text,id) values (?,?)\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Update (0): update Message set text=? where id=?\r\n    2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Delete (0): delete from Message where id=?\r\n    2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\r\n    2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message)] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \r\n    2993 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\r\n     \\-EntityResultImpl [com.cypherf.model.Message]\r\n     |  \\-BasicFetch [com.cypherf.model.Message.text]\r\n\r\n    2993 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\r\n        SelectStatement {\r\n          FromClause {\r\n            StandardTableGroup (m1 : com.cypherf.model.Message) {\r\n              primaryTableReference : Message as m1_0\r\n            }\r\n          }\r\n        }\r\n\r\n    3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - No JtaPlatform was specified, checking resolver\r\n    3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformResolverInitiator  - No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\r\n    3056 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver  - Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    3056 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n    3056 [main] DEBUG org.hibernate.type.spi.TypeConfiguration$Scope  - Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@4d27d9d] to SessionFactoryImplementor [org.hibernate.internal.SessionFactoryImpl@3a209918]\r\n    3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named HQL queries\r\n    3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named SQL queries\r\n    3071 [main] DEBUG org.hibernate.SQL  - \r\n        drop table if exists Message cascade \r\n    Hibernate: \r\n        drop table if exists Message cascade \r\n    3087 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5170bc02] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3088 [main] DEBUG org.hibernate.SQL  - \r\n        drop sequence if exists Message_SEQ\r\n    Hibernate: \r\n        drop sequence if exists Message_SEQ\r\n    3088 [main] DEBUG org.hibernate.SQL  - \r\n        create sequence Message_SEQ start with 1 increment by 50\r\n    Hibernate: \r\n        create sequence Message_SEQ start with 1 increment by 50\r\n    3088 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4601047] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3103 [main] DEBUG org.hibernate.SQL  - \r\n        create table Message (\r\n            id bigint not null,\r\n            text varchar(255) unique,\r\n            primary key (id)\r\n        )\r\n    Hibernate: \r\n        create table Message (\r\n            id bigint not null,\r\n            text varchar(255) unique,\r\n            primary key (id)\r\n        )\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@40dd552c\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Registering SessionFactory: 0c3c67af-87cc-4b0a-bfd9-a5e6498e66fc (&lt;unnamed&gt;)\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Not binding SessionFactory to JNDI, no JNDI name configured\r\n    3119 [main] DEBUG org.hibernate.internal.SessionFactoryImpl  - Instantiated SessionFactory\r\n    3176 [main] DEBUG org.hibernate.stat.internal.StatisticsInitiator  - Statistics initialized [enabled=false]\r\n    3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean &#39;messageService&#39;\r\n    3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean &#39;txManager&#39;\r\n    3402 [main] INFO  com.cypherf.TestSpringApplication  - Running app...\r\n    3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1809269661&lt;open&gt;)] for JPA transaction\r\n    3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3409 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message one&quot;]\r\n    3425 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            next value for Message_SEQ\r\n    Hibernate: \r\n        select\r\n            next value for Message_SEQ\r\n    3425 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 1\r\n    3440 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1809269661&lt;open&gt;)]\r\n    3440 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1809269661&lt;open&gt;)] after transaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1553616699&lt;open&gt;)] for JPA transaction\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3456 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\r\n    3456 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            next value for Message_SEQ\r\n    Hibernate: \r\n        select\r\n            next value for Message_SEQ\r\n    3456 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 51\r\n    3456 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 2, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1553616699&lt;open&gt;)]\r\n    3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1553616699&lt;open&gt;)] after transaction\r\n    3456 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\r\n    3456 [main] DEBUG org.hibernate.orm.query.hql  - HQL : from Message\r\n    3724 [main] DEBUG org.hibernate.orm.query.sqm.ast  - SqmStatement Tree :\r\n        -&gt; [select]\r\n          -&gt; [query-spec]\r\n            -&gt; [select]\r\n              -&gt; [selection]\r\n                -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\r\n                &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\r\n              &lt;- [selection]\r\n            &lt;- [select]\r\n            -&gt; [from]\r\n              -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\r\n              &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\r\n            &lt;- [from]\r\n          &lt;- [query-spec]\r\n        &lt;- [select]\r\n\r\n    3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\r\n    3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message(136820536837300))] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \r\n    3787 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\r\n     \\-EntityResultImpl [com.cypherf.model.Message(136820536837300)]\r\n     |  \\-BasicFetch [com.cypherf.model.Message(136820536837300).text]\r\n\r\n    3787 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\r\n        SelectStatement {\r\n          FromClause {\r\n            StandardTableGroup (m1 : com.cypherf.model.Message(136820536837300)) {\r\n              primaryTableReference : Message as m1_0\r\n            }\r\n          }\r\n        }\r\n\r\n    3803 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\r\n    3819 [main] DEBUG org.hibernate.orm.results  - Initializer list\r\n    3819 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@107577149 (SingleTableEntityPersister(com.cypherf.model.Message))\r\n    3819 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    Hibernate: \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n    3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(225465790&lt;open&gt;)] for JPA transaction\r\n    3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\r\n    3819 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\r\n    3834 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 3, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(225465790&lt;open&gt;)]\r\n    3834 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(225465790&lt;open&gt;)] after transaction\r\n    3834 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\r\n    3834 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\r\n    3834 [main] DEBUG org.hibernate.orm.results  - Initializer list\r\n    3834 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@1174086484 (SingleTableEntityPersister(com.cypherf.model.Message))\r\n    3834 [main] DEBUG org.hibernate.SQL  - \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    Hibernate: \r\n        select\r\n            m1_0.id,\r\n            m1_0.text \r\n        from\r\n            Message m1_0\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n    3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\r\n\r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\n    For more on this, please refer to https://docs.gradle.org/8.3/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n\r\n    BUILD SUCCESSFUL in 5s\r\n    3 actionable tasks: 2 executed, 1 up-to-date\r\n    13:29:27: Execution finished &#39;:TestSpringApplication.main()&#39;.\r\n","title":"EntityManager.persist() not working with @Transactional","body":"<p>I'm trying to learn how to use the @Transactional annotation in Spring (I'm not using Spring Boot). But when I swich from my - working - method using begin() and commit() ton the one with @Transactional, my entities aren't persisted. Can you help me understand what I'm doing wrong?</p>\n<p>Without transactional/working method:</p>\n<pre><code>public &lt;S extends Message&gt; S save(S entity) {\n    EntityManager em = pu.getEntityManager();\n    try {\n        logger.debug(&quot;Trying to save &quot; + ((Message) entity).toString());\n        em.getTransaction().begin();\n        em.persist(entity);\n        em.getTransaction().commit();\n        logger.debug(&quot;MessageRepository.save() - after .commit()&quot;);\n    }\n    catch (PersistenceException e) {\n        logger.error(&quot;Entity already exists&quot;);\n        e.printStackTrace();\n    }\n    finally {\n        System.out.println();\n        em.close();\n    }\n\n    return entity;\n}\n</code></pre>\n<p>With @Transactional/not working:</p>\n<pre><code>@Transactional\n@Override\npublic &lt;S extends Message&gt; S save(S entity) {\n    EntityManager em = pu.getEntityManager();\n    em.persist(entity);\n    return entity;\n}\n</code></pre>\n<p>And here is my PersustanceUtil (pu) class:</p>\n<pre><code>package com.cypherf.repository;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.annotation.PreDestroy;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@Service\npublic class PersistenceUtil {\n    private static EntityManagerFactory emf = null;\n\n    @Bean\n    public PlatformTransactionManager txManager() {\n        return new JpaTransactionManager(getEntityManagerFactory());\n    }\n\n    /**\n     * Creates entity manager factory as singleton instance and returns it\n     *\n     * @return the EntityManagerFactory\n     */\n    public EntityManagerFactory getEntityManagerFactory() {\n        if (emf == null) {\n            synchronized (EntityManagerFactory.class) {\n                if (emf == null) {\n                    final StandardServiceRegistry sr = new StandardServiceRegistryBuilder()\n                            .configure() // Configures setting from hibernate.cfg.xml\n                            .build();\n                    try {\n                        emf = new MetadataSources(sr).buildMetadata().buildSessionFactory();\n                    }\n                    catch (Exception e) {\n                        StandardServiceRegistryBuilder.destroy(sr);\n                        throw e;\n                    }\n                }\n            }\n        }\n        return emf;\n    }\n\n    /**\n     * Closes the entity manager factory\n     */\n    @PreDestroy\n    public static void closeEntityManagerFactory() {\n        System.out.println(&quot;PersistenceUtil.closeEntityManagerFactory()&quot;);\n        if (emf != null) {\n            System.out.println(&quot;Closing emf&quot;);\n            emf.close();\n        }\n    }\n\n    /**\n     * Returns a new EntityManager instance\n     *\n     * @return the new EntityManager instance\n     */\n    public EntityManager getEntityManager() {\n        return getEntityManagerFactory().createEntityManager();\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>package com.cypherf;\nimport com.cypherf.model.Message;\nimport com.cypherf.repository.MessageRepository;\nimport com.cypherf.service.MessageService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@ComponentScan\n@EnableTransactionManagement\npublic class TestSpringApplication {\n    @Autowired\n    private ApplicationContext context;\n\n    @Autowired\n    private CrudRepository&lt;Message, Long&gt; messageRepository;\n\n    @Autowired\n    private MessageService messageService;\n\n    final static Logger logger = LoggerFactory.getLogger(TestSpringApplication.class);\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(TestSpringApplication.class);\n        TestSpringApplication app = ctx.getBean(TestSpringApplication.class);\n        logger.info(&quot;Running app...&quot;);\n        app.run(args);\n        //TestSpringApplication app = context.getBean(TestSpringApplication.class);\n        //TestSpringApplication app = new TestSpringApplication();\n        //app.run(args);\n\n    }\n\n    public void run(String... args) {\n        messageRepository.save(new Message(&quot;Message one&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageService.printAllMessages();\n\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageService.printAllMessages();\n\n//        System.out.println(&quot;BEANS:&quot;);\n//        List&lt;String&gt; beans = Arrays.asList(context.getBeanDefinitionNames());\n//        beans.forEach(bean -&gt; System.out.println(bean));\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>[...]\n2419 [main] DEBUG org.hibernate.event.internal.EntityCopyObserverFactoryInitiator  - Configured EntityCopyObserver strategy: disallow\n2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - Not known whether passed class name [com.cypherf.model.Message] is safe\n2518 [main] DEBUG org.hibernate.boot.internal.ClassLoaderAccessImpl  - No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : com.cypherf.model.Message\n2790 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl  - HHH000513: Unable to create the ReflectionOptimizer for [com.cypherf.model.Message]: private accessor [text]\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting post-init callbacks\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `staticFetchableList` generator\n2853 [main] DEBUG org.hibernate.orm.model.mapping.creation  - Starting PostInitCallbackEntry : Entity(com.cypherf.model.Message) `sqmMultiTableInsertStrategy` interpretation\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  - Static SQL for entity: com.cypherf.model.Message\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Version select: select id from Message where id=?\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Insert (0): insert into Message (text,id) values (?,?)\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Update (0): update Message set text=? where id=?\n2946 [main] DEBUG org.hibernate.persister.entity.AbstractEntityPersister  -  Delete (0): delete from Message where id=?\n2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\n2962 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message)] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \n2993 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\n \\-EntityResultImpl [com.cypherf.model.Message]\n |  \\-BasicFetch [com.cypherf.model.Message.text]\n\n2993 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\n    SelectStatement {\n      FromClause {\n        StandardTableGroup (m1 : com.cypherf.model.Message) {\n          primaryTableReference : Message as m1_0\n        }\n      }\n    }\n\n3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - No JtaPlatform was specified, checking resolver\n3040 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformResolverInitiator  - No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\n3056 [main] DEBUG org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver  - Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n3056 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n3056 [main] DEBUG org.hibernate.type.spi.TypeConfiguration$Scope  - Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@4d27d9d] to SessionFactoryImplementor [org.hibernate.internal.SessionFactoryImpl@3a209918]\n3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named HQL queries\n3056 [main] DEBUG org.hibernate.query.named.NamedObjectRepository  - Checking 0 named SQL queries\n3071 [main] DEBUG org.hibernate.SQL  - \n    drop table if exists Message cascade \nHibernate: \n    drop table if exists Message cascade \n3087 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5170bc02] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3088 [main] DEBUG org.hibernate.SQL  - \n    drop sequence if exists Message_SEQ\nHibernate: \n    drop sequence if exists Message_SEQ\n3088 [main] DEBUG org.hibernate.SQL  - \n    create sequence Message_SEQ start with 1 increment by 50\nHibernate: \n    create sequence Message_SEQ start with 1 increment by 50\n3088 [main] INFO  org.hibernate.orm.connections.access  - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4601047] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3103 [main] DEBUG org.hibernate.SQL  - \n    create table Message (\n        id bigint not null,\n        text varchar(255) unique,\n        primary key (id)\n    )\nHibernate: \n    create table Message (\n        id bigint not null,\n        text varchar(255) unique,\n        primary key (id)\n    )\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@40dd552c\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Registering SessionFactory: 0c3c67af-87cc-4b0a-bfd9-a5e6498e66fc (&lt;unnamed&gt;)\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryRegistry  - Not binding SessionFactory to JNDI, no JNDI name configured\n3119 [main] DEBUG org.hibernate.internal.SessionFactoryImpl  - Instantiated SessionFactory\n3176 [main] DEBUG org.hibernate.stat.internal.StatisticsInitiator  - Statistics initialized [enabled=false]\n3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean 'messageService'\n3333 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Creating shared instance of singleton bean 'txManager'\n3402 [main] INFO  com.cypherf.TestSpringApplication  - Running app...\n3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3409 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1809269661&lt;open&gt;)] for JPA transaction\n3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3409 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3409 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message one&quot;]\n3425 [main] DEBUG org.hibernate.SQL  - \n    select\n        next value for Message_SEQ\nHibernate: \n    select\n        next value for Message_SEQ\n3425 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 1\n3440 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3440 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1809269661&lt;open&gt;)]\n3440 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1809269661&lt;open&gt;)] after transaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(1553616699&lt;open&gt;)] for JPA transaction\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3456 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\n3456 [main] DEBUG org.hibernate.SQL  - \n    select\n        next value for Message_SEQ\nHibernate: \n    select\n        next value for Message_SEQ\n3456 [main] DEBUG org.hibernate.id.enhanced.SequenceStructure  - Sequence value obtained: 51\n3456 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 2, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(1553616699&lt;open&gt;)]\n3456 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3456 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(1553616699&lt;open&gt;)] after transaction\n3456 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\n3456 [main] DEBUG org.hibernate.orm.query.hql  - HQL : from Message\n3724 [main] DEBUG org.hibernate.orm.query.sqm.ast  - SqmStatement Tree :\n    -&gt; [select]\n      -&gt; [query-spec]\n        -&gt; [select]\n          -&gt; [selection]\n            -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\n            &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\n          &lt;- [selection]\n        &lt;- [select]\n        -&gt; [from]\n          -&gt; [root] - `com.cypherf.model.Message(136820536837300)`\n          &lt;- [root] - `com.cypherf.model.Message(136820536837300)`\n        &lt;- [from]\n      &lt;- [query-spec]\n    &lt;- [select]\n\n3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Created new SQL alias : m1_0\n3771 [main] DEBUG org.hibernate.orm.sql.ast.create  - Registration of TableGroup [StandardTableGroup(com.cypherf.model.Message(136820536837300))] with identifierForTableGroup [com.cypherf.model.Message] for NavigablePath [com.cypherf.model.Message] \n3787 [main] DEBUG org.hibernate.orm.results.graph.AST  - DomainResult Graph:\n \\-EntityResultImpl [com.cypherf.model.Message(136820536837300)]\n |  \\-BasicFetch [com.cypherf.model.Message(136820536837300).text]\n\n3787 [main] DEBUG org.hibernate.orm.sql.ast.tree  - SQL AST Tree:\n    SelectStatement {\n      FromClause {\n        StandardTableGroup (m1 : com.cypherf.model.Message(136820536837300)) {\n          primaryTableReference : Message as m1_0\n        }\n      }\n    }\n\n3803 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\n3819 [main] DEBUG org.hibernate.orm.results  - Initializer list\n3819 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@107577149 (SingleTableEntityPersister(com.cypherf.model.Message))\n3819 [main] DEBUG org.hibernate.SQL  - \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\nHibernate: \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\n3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3819 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Creating new transaction with name [com.cypherf.repository.MessageRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n3819 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Opened new EntityManager [SessionImpl(225465790&lt;open&gt;)] for JPA transaction\n3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n3819 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - begin\n3819 [main] DEBUG com.cypherf.repository.MessageRepository  - Trying to save Message [id: 0; text:&quot;Message two&quot;]\n3834 [main] DEBUG org.hibernate.event.internal.AbstractSaveEventListener  - Generated identifier: 3, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Initiating transaction commit\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Committing JPA transaction on EntityManager [SessionImpl(225465790&lt;open&gt;)]\n3834 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl  - committing\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager  - Closing JPA EntityManager [SessionImpl(225465790&lt;open&gt;)] after transaction\n3834 [main] INFO  com.cypherf.service.MessageService  - MessageService.printAllMessages()\n3834 [main] DEBUG org.hibernate.orm.sql.exec  - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL\n3834 [main] DEBUG org.hibernate.orm.results  - Initializer list\n3834 [main] DEBUG org.hibernate.orm.results  -     com.cypherf.model.Message(136820536837300) -&gt; EntityResultInitializer(com.cypherf.model.Message(136820536837300))@1174086484 (SingleTableEntityPersister(com.cypherf.model.Message))\n3834 [main] DEBUG org.hibernate.SQL  - \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\nHibernate: \n    select\n        m1_0.id,\n        m1_0.text \n    from\n        Message m1_0\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n3834 [main] DEBUG org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl  - Initiating JDBC connection release from afterTransaction\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.3/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD SUCCESSFUL in 5s\n3 actionable tasks: 2 executed, 1 up-to-date\n13:29:27: Execution finished ':TestSpringApplication.main()'.\n</code></pre>\n"},{"tags":["java","telegram","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":102531,"reputation":126,"user_id":275173,"accept_rate":17,"display_name":"Jamon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695570336,"creation_date":1695570336,"answer_id":77167813,"question_id":77167326,"body_markdown":"In the end, I solved the problem myself)\r\n\r\nSolution:\r\n\r\n        String botTokenData = &quot;WebAppData&quot;;\r\n        byte[] hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botTokenData).hmac(botToken);\r\n\r\n        String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\r\n    \r\n","title":"Auth data validation for Telegram WebApp HMAC-SHA256 in Java","body":"<p>In the end, I solved the problem myself)</p>\n<p>Solution:</p>\n<pre><code>    String botTokenData = &quot;WebAppData&quot;;\n    byte[] hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botTokenData).hmac(botToken);\n\n    String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\n</code></pre>\n"}],"owner":{"account_id":102531,"reputation":126,"user_id":275173,"accept_rate":17,"display_name":"Jamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167813,"answer_count":1,"score":0,"last_activity_date":1695570336,"creation_date":1695562755,"question_id":77167326,"body_markdown":"I&#39;m trying to write auth data validation for the Telegram web app (HMAC-SHA256), according to this question:\r\n[https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs][1]\r\n\r\nI wrote the code in Java:\r\n\r\n     @Test\r\n    public void hmacTest() {\r\n        String initData = &quot;[initData]&quot;;\r\n        List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(initData, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n        List&lt;NameValuePair&gt; preparedData = new java.util.ArrayList&lt;&gt;(params\r\n                .stream()\r\n                .filter(e -&gt; !e.getName().equals(&quot;hash&quot;))\r\n                .toList());\r\n\r\n        preparedData\r\n                .sort(Comparator.comparing(NameValuePair::getName));\r\n\r\n        String dataCheckString = String.join(&quot;\\n&quot;, preparedData\r\n                .stream()\r\n                .map(e -&gt; e.getName() + &quot;=&quot; + e.getValue())\r\n                .toList());\r\n        \r\n        String botToken = &quot;[botToken]&quot;;\r\n        String botTokenData = &quot;WebAppData&quot;;\r\n        String hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botToken).hmacHex(botTokenData);\r\n\r\n        String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\r\n        String presentedHash = params.get(3).getValue();\r\n        \r\n        boolean result = calculatedHash.equals(presentedHash);\r\n    }\r\n\r\nHowever, hash matching fails. Could you please help with the code - what am I doing wrong?\r\n\r\nThanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs","title":"Auth data validation for Telegram WebApp HMAC-SHA256 in Java","body":"<p>I'm trying to write auth data validation for the Telegram web app (HMAC-SHA256), according to this question:\n<a href=\"https://stackoverflow.com/questions/72879544/data-validating-from-telegram-web-app-and-cryptojs\">Data validating from Telegram Web App and CryptoJS</a></p>\n<p>I wrote the code in Java:</p>\n<pre><code> @Test\npublic void hmacTest() {\n    String initData = &quot;[initData]&quot;;\n    List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(initData, Charset.forName(&quot;UTF-8&quot;));\n\n    List&lt;NameValuePair&gt; preparedData = new java.util.ArrayList&lt;&gt;(params\n            .stream()\n            .filter(e -&gt; !e.getName().equals(&quot;hash&quot;))\n            .toList());\n\n    preparedData\n            .sort(Comparator.comparing(NameValuePair::getName));\n\n    String dataCheckString = String.join(&quot;\\n&quot;, preparedData\n            .stream()\n            .map(e -&gt; e.getName() + &quot;=&quot; + e.getValue())\n            .toList());\n    \n    String botToken = &quot;[botToken]&quot;;\n    String botTokenData = &quot;WebAppData&quot;;\n    String hmacSecret = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, botToken).hmacHex(botTokenData);\n\n    String calculatedHash = new HmacUtils(HmacAlgorithms.HMAC_SHA_256, hmacSecret).hmacHex(dataCheckString);\n    String presentedHash = params.get(3).getValue();\n    \n    boolean result = calculatedHash.equals(presentedHash);\n}\n</code></pre>\n<p>However, hash matching fails. Could you please help with the code - what am I doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611254,"post_id":77167806,"comment_id":136042716,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29523192,"reputation":1,"user_id":22625465,"display_name":"Anders Anderson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695570204,"creation_date":1695570204,"question_id":77167806,"body_markdown":"I made an android app a while back which is being used at work for reporting potential hazards.\r\nIt just takes text and an optional image and mails it with JavaMail API to a number of recipients.\r\nWe basically only use two phones right now since private phones are not allowed, so the app has been installed and updated by manually download the .apk file and install it.\r\n\r\nBut now to the question, is there some way I could send updates to an app that has not been published in the play store? It would make things easier to not have to do it manually.\r\n\r\nI tried using firebase but this meant that the user had to check for updates. I would rather have a prompt.","title":"Can I send updates to an unpublished app?","body":"<p>I made an android app a while back which is being used at work for reporting potential hazards.\nIt just takes text and an optional image and mails it with JavaMail API to a number of recipients.\nWe basically only use two phones right now since private phones are not allowed, so the app has been installed and updated by manually download the .apk file and install it.</p>\n<p>But now to the question, is there some way I could send updates to an app that has not been published in the play store? It would make things easier to not have to do it manually.</p>\n<p>I tried using firebase but this meant that the user had to check for updates. I would rather have a prompt.</p>\n"},{"tags":["java","android","kotlin","retrofit","retrofit2"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1695026961,"post_id":77123697,"comment_id":135964089,"body_markdown":"Annotations generates code for you. We programmers are lazy by default and always find way to create thing quickly. You annotate your method with predefined  annotations which compiler can understand and generate code for us. Try learning before retrofit how Android api call was made using http client.","body":"Annotations generates code for you. We programmers are lazy by default and always find way to create thing quickly. You annotate your method with predefined  annotations which compiler can understand and generate code for us. Try learning before retrofit how Android api call was made using http client."},{"owner":{"account_id":26052081,"reputation":3,"user_id":19755094,"display_name":"1Sayd"},"score":0,"creation_date":1695030079,"post_id":77123697,"comment_id":135964716,"body_markdown":"I understand it at a high level of abstract but I want to go deeper. I tried to find where is actually programmed &quot;code generation&quot; for us.\n\nThanks I will try to google how how Android api calls was made using http client","body":"I understand it at a high level of abstract but I want to go deeper. I tried to find where is actually programmed &quot;code generation&quot; for us.  Thanks I will try to google how how Android api calls was made using http client"}],"answers":[{"tags":[],"owner":{"account_id":24303543,"reputation":876,"user_id":21163959,"display_name":"ObscureCookie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695569963,"creation_date":1695569963,"answer_id":77167784,"question_id":77123697,"body_markdown":"Retrofit2 uses a [dynamic proxy][1] to make an interface implementation instead of the code generation.\r\nIt parses your methods with the refletion, makes `SeriveMethod` of methods and caches them into `serviceMethodCache`.\r\n\r\nWhen you invoke a method of your interface, a created `ServiceMethod` will be invoked instead.\r\n\r\n  [1]: https://www.baeldung.com/java-dynamic-proxies","title":"How is Retrofit 2 processing the functions annotations from the API service interface passed to retrofit.create()?","body":"<p>Retrofit2 uses a <a href=\"https://www.baeldung.com/java-dynamic-proxies\" rel=\"nofollow noreferrer\">dynamic proxy</a> to make an interface implementation instead of the code generation.\nIt parses your methods with the refletion, makes <code>SeriveMethod</code> of methods and caches them into <code>serviceMethodCache</code>.</p>\n<p>When you invoke a method of your interface, a created <code>ServiceMethod</code> will be invoked instead.</p>\n"}],"owner":{"account_id":26052081,"reputation":3,"user_id":19755094,"display_name":"1Sayd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167784,"answer_count":1,"score":0,"last_activity_date":1695569963,"creation_date":1694986630,"question_id":77123697,"body_markdown":"I&#39;m new to programming in Java and try to understand how annotations works in big libraries.\r\n\r\nCan someone show me code snippet in which retrofit is actually processing the functions annotations from the API service interface that I pass as the argument to retrofit.create method and change its behavior based on this? I mean: @GET, @POST etc\r\n\r\nI created the interface Giphy Api Service with next function:\r\n\r\n``` kotlin\r\n@GET(&quot;gifs/search&quot;)\r\n    fun getSearchedGifs(\r\n        @Query(&quot;q&quot;) searchTerm: String,\r\n        @Query(&quot;limit&quot;) limit: Int = 50,\r\n        @Query(&quot;offset&quot;) offset: Int = 0,\r\n        @Query(&quot;rating&quot;) rating: String = &quot;g&quot;,\r\n        @Query(&quot;lang&quot;) lang: String = &quot;en&quot;,\r\n        @Query(&quot;bundle&quot;) bundle: String = &quot;messaging_non_clips&quot;,\r\n        @Query(&quot;api_key&quot;) apiKey: String = &quot;my api key&quot;\r\n    ): Call&lt;DataResult&gt;\r\n```\r\n\r\nthis function have @GET(&quot;gifs/search&quot;) which represent the HTTP GET request.\r\n\r\nThen I use this interface to create instance of retrofit object in the next code:\r\n\r\n``` kotlin\r\nval retroService = retrofit.create(GiphyApiService::class.java)\r\n```\r\n\r\nI checked retrofit.create() method and all file, but do not find answer to my question","title":"How is Retrofit 2 processing the functions annotations from the API service interface passed to retrofit.create()?","body":"<p>I'm new to programming in Java and try to understand how annotations works in big libraries.</p>\n<p>Can someone show me code snippet in which retrofit is actually processing the functions annotations from the API service interface that I pass as the argument to retrofit.create method and change its behavior based on this? I mean: @GET, @POST etc</p>\n<p>I created the interface Giphy Api Service with next function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@GET(&quot;gifs/search&quot;)\n    fun getSearchedGifs(\n        @Query(&quot;q&quot;) searchTerm: String,\n        @Query(&quot;limit&quot;) limit: Int = 50,\n        @Query(&quot;offset&quot;) offset: Int = 0,\n        @Query(&quot;rating&quot;) rating: String = &quot;g&quot;,\n        @Query(&quot;lang&quot;) lang: String = &quot;en&quot;,\n        @Query(&quot;bundle&quot;) bundle: String = &quot;messaging_non_clips&quot;,\n        @Query(&quot;api_key&quot;) apiKey: String = &quot;my api key&quot;\n    ): Call&lt;DataResult&gt;\n</code></pre>\n<p>this function have @GET(&quot;gifs/search&quot;) which represent the HTTP GET request.</p>\n<p>Then I use this interface to create instance of retrofit object in the next code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val retroService = retrofit.create(GiphyApiService::class.java)\n</code></pre>\n<p>I checked retrofit.create() method and all file, but do not find answer to my question</p>\n"},{"tags":["java","scala","rdf","jena","owl"],"comments":[{"owner":{"account_id":7263460,"reputation":61,"user_id":5539191,"display_name":"dilo00o"},"score":1,"creation_date":1464376551,"post_id":34415334,"comment_id":62477959,"body_markdown":"I managed to solve this problem by separating the RDF/XML parser and the rest of the code.\n**Step 1** parse rdf/xml to n-triple/n-quad\n**Step 2** parse n-triple with Spark and dump result as vertex&amp;edge object files","body":"I managed to solve this problem by separating the RDF/XML parser and the rest of the code. <b>Step 1</b> parse rdf/xml to n-triple/n-quad <b>Step 2</b> parse n-triple with Spark and dump result as vertex&amp;edge object files"}],"owner":{"account_id":7263460,"reputation":61,"user_id":5539191,"display_name":"dilo00o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1695569650,"creation_date":1450785153,"question_id":34415334,"body_markdown":"i am trying to build a graph based view of uniprot data using Spark (GraphX) by leveraging the owl/RDF format. I am trying to parse the data  using apache jena, but I can&#39;t wrap my head around the structure of the rdf file. To better illustrate, here&#39;s an example of the type of file I&#39;m trying to process.\r\nhttp://pastebin.com/iSeGs0RZ\r\n\r\n\r\nFor my needs, i have to store/manipulate for instance        \r\n    &lt;rdfs:seeAlso rdf:resource=&quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;/&gt;\r\nBy that I need to save the token &quot;seeAlso&quot; and the ?predicate? &quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;\r\nwhile trying to load a model in java/scala print(model) displays most of the information but I can&#39;t find a way to extract everything from the file. \r\n\r\nThis is what i&#39;m using to read in the model:\r\n\r\n    object runner {\r\n      val inputFileName = &quot;dataset/test2.xml&quot;\r\n  \r\n      def main(args: Array[String]) {\r\n        val model = ModelFactory.createDefaultModel()\r\n  \r\n        // use the FileManager to find the input file\r\n        val in = FileManager.get().open(inputFileName)\r\n        if (in == null) {\r\n          throw new IllegalArgumentException(\r\n            &quot;File: &quot; + inputFileName + &quot; not found&quot;)\r\n        }\r\n        model.read(in, &quot;RDF/XML&quot;)\r\n        val items = model.listObjects()\r\n        var count = 0\r\n        while (items.hasNext) {\r\n          count += 1\r\n          val node = items.next()\r\n          println(node)\r\n          println(&quot;\\n\\n&quot;)\r\n        }\r\n        println(count)\r\n      }\r\n    }\r\n\r\n","title":"Read ontology into GraphX from rdf model","body":"<p>i am trying to build a graph based view of uniprot data using Spark (GraphX) by leveraging the owl/RDF format. I am trying to parse the data  using apache jena, but I can't wrap my head around the structure of the rdf file. To better illustrate, here's an example of the type of file I'm trying to process.\n<a href=\"http://pastebin.com/iSeGs0RZ\" rel=\"nofollow noreferrer\">http://pastebin.com/iSeGs0RZ</a></p>\n<p>For my needs, i have to store/manipulate for instance<br />\n&lt;rdfs:seeAlso rdf:resource=&quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;/&gt;\nBy that I need to save the token &quot;seeAlso&quot; and the ?predicate? &quot;http://purl.uniprot.org/string/9606.ENSP00000418960&quot;\nwhile trying to load a model in java/scala print(model) displays most of the information but I can't find a way to extract everything from the file.</p>\n<p>This is what i'm using to read in the model:</p>\n<pre><code>object runner {\n  val inputFileName = &quot;dataset/test2.xml&quot;\n\n  def main(args: Array[String]) {\n    val model = ModelFactory.createDefaultModel()\n\n    // use the FileManager to find the input file\n    val in = FileManager.get().open(inputFileName)\n    if (in == null) {\n      throw new IllegalArgumentException(\n        &quot;File: &quot; + inputFileName + &quot; not found&quot;)\n    }\n    model.read(in, &quot;RDF/XML&quot;)\n    val items = model.listObjects()\n    var count = 0\n    while (items.hasNext) {\n      count += 1\n      val node = items.next()\n      println(node)\n      println(&quot;\\n\\n&quot;)\n    }\n    println(count)\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":1,"creation_date":1695590701,"post_id":77167718,"comment_id":136041164,"body_markdown":"I&#39;m not familiar with the unirest library, so I took a look at [its GitHub repo](https://github.com/Kong/unirest-java). From looking at unirest&#39;s source code, it doesn&#39;t look like it defines a JPMS module. So you can use the unirest library only from the classpath and not from the modulepath. That `requires` statement you have in your `module-info.java` won&#39;t work.","body":"I&#39;m not familiar with the unirest library, so I took a look at <a href=\"https://github.com/Kong/unirest-java\" rel=\"nofollow noreferrer\">its GitHub repo</a>. From looking at unirest&#39;s source code, it doesn&#39;t look like it defines a JPMS module. So you can use the unirest library only from the classpath and not from the modulepath. That <code>requires</code> statement you have in your <code>module-info.java</code> won&#39;t work."},{"owner":{"account_id":17199885,"reputation":1,"user_id":12451856,"display_name":"Francesco Marzo"},"score":0,"creation_date":1695667308,"post_id":77167718,"comment_id":136052414,"body_markdown":"Okay I got it. But issue now is, if I don&#39;t add that requirement, i&#39;ll not be able to import function in application side.","body":"Okay I got it. But issue now is, if I don&#39;t add that requirement, i&#39;ll not be able to import function in application side."},{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":0,"creation_date":1695833878,"post_id":77167718,"comment_id":136077994,"body_markdown":"Perhaps [this stackoverflow question](https://stackoverflow.com/questions/38269630/is-it-possible-to-use-dependencies-without-module-info-class-in-a-java-9-module) and its [associated answer](https://stackoverflow.com/a/38274483/16644458) might help. That question and answer doesn&#39;t involve Gradle specifically, but otherwise deals with how to depend upon a library that doesn&#39;t have a `module-info.java`.  You can do so with [automatic modules](http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules). There should be a way to handle that in Gradle.","body":"Perhaps <a href=\"https://stackoverflow.com/questions/38269630/is-it-possible-to-use-dependencies-without-module-info-class-in-a-java-9-module\">this stackoverflow question</a> and its <a href=\"https://stackoverflow.com/a/38274483/16644458\">associated answer</a> might help. That question and answer doesn&#39;t involve Gradle specifically, but otherwise deals with how to depend upon a library that doesn&#39;t have a <code>module-info.java</code>.  You can do so with <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules\" rel=\"nofollow noreferrer\">automatic modules</a>. There should be a way to handle that in Gradle."},{"owner":{"account_id":22439733,"reputation":53,"user_id":16644458,"display_name":"Vincent A. Cicirello"},"score":0,"creation_date":1695834134,"post_id":77167718,"comment_id":136078040,"body_markdown":"After my previous comment, I found an example on gradle.org with an example of [Building Java Modules with Legacy Libraries](https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html) that might help you.","body":"After my previous comment, I found an example on gradle.org with an example of <a href=\"https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html\" rel=\"nofollow noreferrer\">Building Java Modules with Legacy Libraries</a> that might help you."}],"owner":{"account_id":17199885,"reputation":1,"user_id":12451856,"display_name":"Francesco Marzo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695569360,"creation_date":1695569027,"question_id":77167718,"body_markdown":"To explain the problem which I&#39;m facing, I&#39;ll explain it with a new project.\r\n\r\nTools and setup:\r\n\r\n- IntelliJ 2022.2.1\r\n- JavaFX project \r\n- Gradle based\r\n- &quot;Unirest&quot; as external library\r\n\r\nCreated a new project and added the following dependency:\r\n\r\n    dependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    \r\n    // https://mvnrepository.com/artifact/com.konghq/unirest-java\r\n    implementation group: &#39;com.konghq&#39;, name: &#39;unirest-java&#39;, version: &#39;3.14.5&#39;}\r\n\r\nAfter the Gradle&#39;s sync, I can see the library which has been added to this list:\r\n\r\n[External libraries][1]\r\n\r\nNow, in order to use the API, I need to update `module-info.java` as it follows:\r\n\r\n    module com.example.restfx {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires unirest.java;\r\n\r\n    opens com.example.restfx to javafx.fxml, unirest.java;\r\n    exports com.example.restfx;}\r\n\r\nNow, I actually call whatever function of this library in my application.\r\n\r\n    public class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        Unirest.get(&quot;...&quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\n\r\nAfter launching the app this error appears.\r\n\r\n&gt; Task :HelloApplication.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module unirest.java not found, required by com.example.restfx\r\nExecution failed for task &#39;:HelloApplication.main()&#39;.\r\nProcess &#39;command &#39;C:/Program Files/Java/jdk-17/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n\r\nI want to highlight the fact that this error will show up only if the project is created with JavaFX option. That means, a `module.info.java` file will be created, leading to this issue.\r\n\r\nActually if I create the same project, without using JavaFX, every external library works correctly.\r\nSeems something related to that file, but I cannot figure it out what it is.\r\nHope you can help me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SIrgJ.png","title":"Issue with module-info.java and each external library","body":"<p>To explain the problem which I'm facing, I'll explain it with a new project.</p>\n<p>Tools and setup:</p>\n<ul>\n<li>IntelliJ 2022.2.1</li>\n<li>JavaFX project</li>\n<li>Gradle based</li>\n<li>&quot;Unirest&quot; as external library</li>\n</ul>\n<p>Created a new project and added the following dependency:</p>\n<pre><code>dependencies {\n\ntestImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\ntestRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n\n// https://mvnrepository.com/artifact/com.konghq/unirest-java\nimplementation group: 'com.konghq', name: 'unirest-java', version: '3.14.5'}\n</code></pre>\n<p>After the Gradle's sync, I can see the library which has been added to this list:</p>\n<p><a href=\"https://i.stack.imgur.com/SIrgJ.png\" rel=\"nofollow noreferrer\">External libraries</a></p>\n<p>Now, in order to use the API, I need to update <code>module-info.java</code> as it follows:</p>\n<pre><code>module com.example.restfx {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires unirest.java;\n\nopens com.example.restfx to javafx.fxml, unirest.java;\nexports com.example.restfx;}\n</code></pre>\n<p>Now, I actually call whatever function of this library in my application.</p>\n<pre><code>public class HelloApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n\n    Unirest.get(&quot;...&quot;);\n\n\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n<p>After launching the app this error appears.</p>\n<blockquote>\n<p>Task :HelloApplication.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module unirest.java not found, required by com.example.restfx\nExecution failed for task ':HelloApplication.main()'.\nProcess 'command 'C:/Program Files/Java/jdk-17/bin/java.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>I want to highlight the fact that this error will show up only if the project is created with JavaFX option. That means, a <code>module.info.java</code> file will be created, leading to this issue.</p>\n<p>Actually if I create the same project, without using JavaFX, every external library works correctly.\nSeems something related to that file, but I cannot figure it out what it is.\nHope you can help me.</p>\n"},{"tags":["java","arrays","xslt","saxon"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695564970,"post_id":77167409,"comment_id":136038440,"body_markdown":"This is somewhat confusing because the input array is already an array of strings - so what&#39;s the point of this exercise? The term &quot;objects&quot; is also too vague.","body":"This is somewhat confusing because the input array is already an array of strings - so what&#39;s the point of this exercise? The term &quot;objects&quot; is also too vague."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1695566522,"post_id":77167409,"comment_id":136038573,"body_markdown":"I have updated the question with kind of array I&#39;m passing as input to iterate and create myArray of specific values i.e. names in this case. Thanks","body":"I have updated the question with kind of array I&#39;m passing as input to iterate and create myArray of specific values i.e. names in this case. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1695566457,"post_id":77167452,"comment_id":136038567,"body_markdown":"Thanks @Martin. Its not an apple to apple copy but I would be picking specific values from the object which I have updated in question. I need to iterate over this objects and store the names in new array.","body":"Thanks @Martin. Its not an apple to apple copy but I would be picking specific values from the object which I have updated in question. I need to iterate over this objects and store the names in new array."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1695568527,"post_id":77167452,"comment_id":136038821,"body_markdown":"@technocrat, there is no need for &quot;iteration&quot; to select values from an XDM/XPath 3.1/XSLT 3.0 map/array.","body":"@technocrat, there is no need for &quot;iteration&quot; to select values from an XDM/XPath 3.1/XSLT 3.0 map/array."}],"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695568464,"creation_date":1695564694,"answer_id":77167452,"question_id":77167409,"body_markdown":"Use XPath 3.1, don&#39;t think in procedural terms like iteration, then you can just do e.g.\r\n\r\n    &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\r\n\r\nWe could also spell that out with `fold-left`, or, if you really wanted to &quot;iterate&quot;, `xsl:iterate`, but I don&#39;t see any need for this.\r\n\r\nThe [whole stylesheet][1] could be e.g.\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      \r\n        &lt;xsl:output method=&quot;text&quot;/&gt;\r\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n            \r\n          &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\r\n          \r\n          &lt;xsl:value-of select=&quot;$myArray?* ! (&#39;Person name is: &#39; || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n          \r\n        &lt;/xsl:template&gt;\r\n        \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\nFor processing the map, you still can use XPath 3.1 to construct the array based on the properties:\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      \r\n        &lt;xsl:output method=&quot;text&quot;/&gt;\r\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n            \r\n          &lt;xsl:variable name=&quot;inputObject&quot; select=&#39;map {&quot;persons&quot;: [map {\r\n                        &quot;name&quot;: &quot;John&quot;,\r\n                        &quot;age&quot;: 33,\r\n                        &quot;residence&quot;:&quot;Permanent&quot; \r\n                        }, map {\r\n                        \r\n                        &quot;name&quot;: &quot;Peter&quot;,\r\n                        &quot;age&quot;: 36,\r\n                        &quot;residence&quot;:&quot;Temporary&quot;\r\n                            }\r\n                ]\r\n        }&#39;/&gt;\r\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputObject?persons?*?name }&quot;/&gt;\r\n          \r\n          &lt;xsl:value-of select=&quot;$myArray?* ! (&#39;Person name is: &#39; || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n          \r\n        &lt;/xsl:template&gt;\r\n        \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/xslt3fiddle/?xslt=%3Cxsl%3Astylesheet%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20version%3D%223.0%22%3E%0D%0A%20%20%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22text%22%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22test%22%20match%3D%22%2F%22%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22inputArray%22%20select%3D%22array%7B%27John%27%2C%20%27Peter%27%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22myArray%22%20select%3D%22array%7B%20%24inputArray%3F*%20%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avalue-of%20select%3D%22%24myArray%3F*%20%21%20%28%27Person%20name%20is%3A%20%27%20%7C%7C%20.%29%22%20separator%3D%22%26%2310%3B%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=%3Ctest%2F%3E&amp;input-type=XML","title":"XSLT create new array iterating over an existing array","body":"<p>Use XPath 3.1, don't think in procedural terms like iteration, then you can just do e.g.</p>\n<pre><code>&lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n&lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\n</code></pre>\n<p>We could also spell that out with <code>fold-left</code>, or, if you really wanted to &quot;iterate&quot;, <code>xsl:iterate</code>, but I don't see any need for this.</p>\n<p>The <a href=\"https://martin-honnen.github.io/xslt3fiddle/?xslt=%3Cxsl%3Astylesheet%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20version%3D%223.0%22%3E%0D%0A%20%20%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22text%22%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22test%22%20match%3D%22%2F%22%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22inputArray%22%20select%3D%22array%7B%27John%27%2C%20%27Peter%27%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Avariable%20name%3D%22myArray%22%20select%3D%22array%7B%20%24inputArray%3F*%20%7D%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%3Cxsl%3Avalue-of%20select%3D%22%24myArray%3F*%20%21%20%28%27Person%20name%20is%3A%20%27%20%7C%7C%20.%29%22%20separator%3D%22%26%2310%3B%22%2F%3E%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=%3Ctest%2F%3E&amp;input-type=XML\" rel=\"nofollow noreferrer\">whole stylesheet</a> could be e.g.</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  \n    &lt;xsl:output method=&quot;text&quot;/&gt;\n    &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n        \n      &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n      &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputArray?* }&quot;/&gt;\n      \n      &lt;xsl:value-of select=&quot;$myArray?* ! ('Person name is: ' || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n      \n    &lt;/xsl:template&gt;\n    \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>For processing the map, you still can use XPath 3.1 to construct the array based on the properties:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  \n    &lt;xsl:output method=&quot;text&quot;/&gt;\n    &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n        \n      &lt;xsl:variable name=&quot;inputObject&quot; select='map {&quot;persons&quot;: [map {\n                    &quot;name&quot;: &quot;John&quot;,\n                    &quot;age&quot;: 33,\n                    &quot;residence&quot;:&quot;Permanent&quot; \n                    }, map {\n                    \n                    &quot;name&quot;: &quot;Peter&quot;,\n                    &quot;age&quot;: 36,\n                    &quot;residence&quot;:&quot;Temporary&quot;\n                        }\n            ]\n    }'/&gt;\n      &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{ $inputObject?persons?*?name }&quot;/&gt;\n      \n      &lt;xsl:value-of select=&quot;$myArray?* ! ('Person name is: ' || .)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n      \n    &lt;/xsl:template&gt;\n    \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695569139,"post_id":77167670,"comment_id":136038891,"body_markdown":"Do note that the result of querying the map is already a *sequence*, i.e. &quot;an ordered collection of zero or more items&quot;. I am not sure what advantage is there to be gained by converting it to an array.","body":"Do note that the result of querying the map is already a <i>sequence</i>, i.e. &quot;an ordered collection of zero or more items&quot;. I am not sure what advantage is there to be gained by converting it to an array."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1695571616,"post_id":77167670,"comment_id":136039153,"body_markdown":"Thanks Michael. I accept this approach and this serves the purpose . I was just curious, instead of selecting all the names, what if I were to create an array of names whose residence type is &#39;Temporary&#39;.","body":"Thanks Michael. I accept this approach and this serves the purpose . I was just curious, instead of selecting all the names, what if I were to create an array of names whose residence type is &#39;Temporary&#39;."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695572364,"post_id":77167670,"comment_id":136039256,"body_markdown":"In such case you would get a sequence of `$input-map?persons?*[?residence=&#39;Temporary&#39;]?name`.","body":"In such case you would get a sequence of <code>$input-map?persons?*[?residence=&#39;Temporary&#39;]?name</code>."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1695574228,"post_id":77167670,"comment_id":136039489,"body_markdown":"Is it an XPath expression? I&#39;m aware of navigating inside a tree using &quot;/&quot; but not &quot;?&quot; can you please point me to further tutorials or references. Thank you","body":"Is it an XPath expression? I&#39;m aware of navigating inside a tree using &quot;/&quot; but not &quot;?&quot; can you please point me to further tutorials or references. Thank you"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695575946,"post_id":77167670,"comment_id":136039679,"body_markdown":"The specifications provide several alternative syntaxes for map lookup. Here is one:  https://www.w3.org/TR/xpath-3/#id-map-lookup. The one I used above is described here: https://www.w3.org/TR/xpath-3/#id-lookup. And then there is the `map:get()` function described here: https://www.w3.org/TR/xpath-functions-31/#func-map-get. Note that both maps and arrays are a late addition to XPath/XSLT and their handling is a departure from the orthodox methods.","body":"The specifications provide several alternative syntaxes for map lookup. Here is one:  <a href=\"https://www.w3.org/TR/xpath-3/#id-map-lookup\" rel=\"nofollow noreferrer\">w3.org/TR/xpath-3/#id-map-lookup</a>. The one I used above is described here: <a href=\"https://www.w3.org/TR/xpath-3/#id-lookup\" rel=\"nofollow noreferrer\">w3.org/TR/xpath-3/#id-lookup</a>. And then there is the <code>map:get()</code> function described here: <a href=\"https://www.w3.org/TR/xpath-functions-31/#func-map-get\" rel=\"nofollow noreferrer\">w3.org/TR/xpath-functions-31/#func-map-get</a>. Note that both maps and arrays are a late addition to XPath/XSLT and their handling is a departure from the orthodox methods."}],"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695568238,"creation_date":1695568238,"answer_id":77167670,"question_id":77167409,"body_markdown":"Given this input variable:\r\n\r\n    &lt;xsl:variable name=&quot;input-map&quot; select=&quot;\r\n    \tmap {&#39;persons&#39;: \r\n    \t\t[ \r\n    \t\tmap {\r\n    \t\t\t&#39;name&#39;: &#39;John&#39;,\r\n    \t\t\t&#39;age&#39;: 33,\r\n    \t\t\t&#39;residence&#39;:&#39;Permanent&#39; \r\n    \t\t\t}, \r\n    \t\tmap {\r\n    \t\t\t&#39;name&#39;: &#39;Peter&#39;,\r\n    \t\t\t&#39;age&#39;: 36,\r\n    \t\t\t&#39;residence&#39;:&#39;Temporary&#39;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}&quot;/&gt;\r\n\r\nyou can create an array of names using:\r\n\r\n    &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{$input-map?persons?*?name}&quot;/&gt;\r\n","title":"XSLT create new array iterating over an existing array","body":"<p>Given this input variable:</p>\n<pre><code>&lt;xsl:variable name=&quot;input-map&quot; select=&quot;\n    map {'persons': \n        [ \n        map {\n            'name': 'John',\n            'age': 33,\n            'residence':'Permanent' \n            }, \n        map {\n            'name': 'Peter',\n            'age': 36,\n            'residence':'Temporary'\n            }\n        ]\n    }&quot;/&gt;\n</code></pre>\n<p>you can create an array of names using:</p>\n<pre><code>&lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{$input-map?persons?*?name}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77167670,"answer_count":2,"score":0,"last_activity_date":1695568464,"creation_date":1695563974,"question_id":77167409,"body_markdown":"I am trying to collect strings of my interest by iterating over an array of objects and create a new array. I would use this new array later in my transformation to generate the output.\r\n\r\nBelow is my code: \r\n\r\n        &lt;xsl:stylesheet\r\n        \txmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        \txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        \txmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;\r\n        \txmlns:map=&quot;http://www.w3.org/2005/xpath-functions/map&quot;\r\n        \txmlns:array=&quot;http://www.w3.org/2005/xpath-functions/array&quot;\r\n        \tversion=&quot;3.0&quot;&gt;\r\n        \t&lt;xsl:output method=&quot;text&quot;/&gt;\r\n        \t&lt;xsl:strip-space elements=&quot;*&quot; /&gt;\r\n        \t&lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\r\n        \t\t&lt;xsl:param name=&quot;data&quot; select=&quot;data&quot;&gt;&lt;/xsl:param&gt;\r\n        \t\t&lt;xsl:variable name=&quot;myData&quot; select=&quot;$data&quot; /&gt;\r\n        \r\n              &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{&#39;John&#39;, &#39;Peter&#39;}&quot;/&gt;\r\n               &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{}&quot;/&gt;\r\n              \r\n                &lt;xsl:for-each select=&quot;1 to array:size($inputArray)&quot;&gt;\r\n                &lt;xsl:variable name=&quot;personName&quot; select=&quot;array:get($inputArray, .)&quot; /&gt;\r\n                &lt;xsl:value-of select=&quot;$personName&quot; /&gt;\r\n                 &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, personName)&quot; /&gt;\r\n                &lt;/xsl:for-each&gt;\r\n        &lt;!--       &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, &#39;John&#39;)&quot; /&gt;\r\n              &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, &#39;Peter&#39;)&quot; /&gt; --&gt;\r\n              \r\n              &lt;xsl:for-each select=&quot;1 to array:size($myArray)&quot;&gt;\r\n              &lt;xsl:value-of select=&quot;test&quot; /&gt;\r\n        \t\t&lt;xsl:text&gt;Person name is : &lt;/xsl:text&gt;\r\n        \t\t&lt;xsl:value-of select=&quot;array:get($myArray,.)&quot; /&gt;\r\n        \t&lt;/xsl:for-each&gt;\r\n        \t&lt;/xsl:template&gt;\r\n        &lt;/xsl:stylesheet&gt;\r\n\r\nThis doesn&#39;t append the values into myArray and doesn&#39;t even enter the for-each block to output the &quot;test&quot; string.\r\n\r\nThe source for input array is the array of objects as below:\r\n\r\n      map {&quot;persons&quot;: [map {\r\n                        &quot;name&quot;: &quot;John&quot;,\r\n                        &quot;age&quot;: 33,\r\n                        &quot;residence&quot;:&quot;Permanent&quot; \r\n    \t\t\t\t\t}, map {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Peter&quot;,\r\n                        &quot;age&quot;: 36,\r\n                        &quot;residence&quot;:&quot;Temporary&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t]\r\n    \t}\r\n\r\nI would be reading this array using map:get($persons) iterate and collect the names into myArray. ","title":"XSLT create new array iterating over an existing array","body":"<p>I am trying to collect strings of my interest by iterating over an array of objects and create a new array. I would use this new array later in my transformation to generate the output.</p>\n<p>Below is my code:</p>\n<pre><code>    &lt;xsl:stylesheet\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;\n        xmlns:map=&quot;http://www.w3.org/2005/xpath-functions/map&quot;\n        xmlns:array=&quot;http://www.w3.org/2005/xpath-functions/array&quot;\n        version=&quot;3.0&quot;&gt;\n        &lt;xsl:output method=&quot;text&quot;/&gt;\n        &lt;xsl:strip-space elements=&quot;*&quot; /&gt;\n        &lt;xsl:template name=&quot;test&quot; match=&quot;/&quot;&gt;\n            &lt;xsl:param name=&quot;data&quot; select=&quot;data&quot;&gt;&lt;/xsl:param&gt;\n            &lt;xsl:variable name=&quot;myData&quot; select=&quot;$data&quot; /&gt;\n    \n          &lt;xsl:variable name=&quot;inputArray&quot; select=&quot;array{'John', 'Peter'}&quot;/&gt;\n           &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array{}&quot;/&gt;\n          \n            &lt;xsl:for-each select=&quot;1 to array:size($inputArray)&quot;&gt;\n            &lt;xsl:variable name=&quot;personName&quot; select=&quot;array:get($inputArray, .)&quot; /&gt;\n            &lt;xsl:value-of select=&quot;$personName&quot; /&gt;\n             &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, personName)&quot; /&gt;\n            &lt;/xsl:for-each&gt;\n    &lt;!--       &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, 'John')&quot; /&gt;\n          &lt;xsl:variable name=&quot;myArray&quot; select=&quot;array:append($myArray, 'Peter')&quot; /&gt; --&gt;\n          \n          &lt;xsl:for-each select=&quot;1 to array:size($myArray)&quot;&gt;\n          &lt;xsl:value-of select=&quot;test&quot; /&gt;\n            &lt;xsl:text&gt;Person name is : &lt;/xsl:text&gt;\n            &lt;xsl:value-of select=&quot;array:get($myArray,.)&quot; /&gt;\n        &lt;/xsl:for-each&gt;\n        &lt;/xsl:template&gt;\n    &lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>This doesn't append the values into myArray and doesn't even enter the for-each block to output the &quot;test&quot; string.</p>\n<p>The source for input array is the array of objects as below:</p>\n<pre><code>  map {&quot;persons&quot;: [map {\n                    &quot;name&quot;: &quot;John&quot;,\n                    &quot;age&quot;: 33,\n                    &quot;residence&quot;:&quot;Permanent&quot; \n                    }, map {\n                    \n                    &quot;name&quot;: &quot;Peter&quot;,\n                    &quot;age&quot;: 36,\n                    &quot;residence&quot;:&quot;Temporary&quot;\n                        }\n            ]\n    }\n</code></pre>\n<p>I would be reading this array using map:get($persons) iterate and collect the names into myArray.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6951263,"reputation":1203,"user_id":5333814,"accept_rate":64,"display_name":"Ricardo Silveira"},"score":0,"creation_date":1470910896,"post_id":38893486,"comment_id":65146647,"body_markdown":"driver.findElement() will return another webelement, from that element you could simply make another query to find by tag name (in this case, span).","body":"driver.findElement() will return another webelement, from that element you could simply make another query to find by tag name (in this case, span)."},{"owner":{"account_id":8505572,"reputation":4153,"user_id":6377281,"display_name":"lauda"},"score":1,"creation_date":1470912873,"post_id":38893486,"comment_id":65147895,"body_markdown":"remove /span from your xpath","body":"remove /span from your xpath"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470910755,"creation_date":1470910755,"answer_id":38893593,"question_id":38893486,"body_markdown":"The text is in the `&lt;h2&gt;` tag, not the `&lt;span&gt;` tag. Try\r\n\r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();","title":"How to get text from span in selenium","body":"<p>The text is in the <code>&lt;h2&gt;</code> tag, not the <code>&lt;span&gt;</code> tag. Try</p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3749744,"reputation":1447,"user_id":3117513,"display_name":"Satish Gupta"},"score":0,"creation_date":1470935730,"post_id":38898150,"comment_id":65163553,"body_markdown":"driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getText(); This snippet will do the same thing, it will retrieve the text from span. Looks like you wanted to say driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();","body":"driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;&zwnj;&#8203;]/h2/span&quot;)).getText&zwnj;&#8203;(); This snippet will do the same thing, it will retrieve the text from span. Looks like you wanted to say driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;&zwnj;&#8203;]/h2&quot;)).getText();"},{"owner":{"account_id":7758676,"reputation":287,"user_id":5872115,"display_name":"Moser"},"score":0,"creation_date":1470992709,"post_id":38898150,"comment_id":65185214,"body_markdown":"Correct, apologies and thanks for the correction! Updated.","body":"Correct, apologies and thanks for the correction! Updated."}],"tags":[],"owner":{"account_id":7758676,"reputation":287,"user_id":5872115,"display_name":"Moser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470992694,"creation_date":1470923116,"answer_id":38898150,"question_id":38893486,"body_markdown":"Look at the HTML tags \r\n\r\n    &lt;span&gt;Folder:&lt;/span&gt;\r\n\r\nThe /span indicates that this is the end of the span, so if you&#39;re using the span as the identifier then it will only return folder. \r\n\r\nThe parent element of the span is the h2 tag. So to get everything between h2 and /h2 tags you need to do this - \r\n\r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();","title":"How to get text from span in selenium","body":"<p>Look at the HTML tags </p>\n\n<pre><code>&lt;span&gt;Folder:&lt;/span&gt;\n</code></pre>\n\n<p>The /span indicates that this is the end of the span, so if you're using the span as the identifier then it will only return folder. </p>\n\n<p>The parent element of the span is the h2 tag. So to get everything between h2 and /h2 tags you need to do this - </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1657972,"reputation":106,"user_id":1526958,"accept_rate":0,"display_name":"ahly212"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470967042,"creation_date":1470967042,"answer_id":38908689,"question_id":38893486,"body_markdown":"Two ways to do this,\r\n\r\n1) `driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();`\r\n\r\n2) Get the text from both and then concatenate it, something like\r\n\r\n    String firstblock = driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2&quot;)).getText();\r\n    String secondblock = driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getText(); \r\n    String finaltext= firstblock+secondblock;\r\n\r\n","title":"How to get text from span in selenium","body":"<p>Two ways to do this,</p>\n\n<p>1) <code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();</code></p>\n\n<p>2) Get the text from both and then concatenate it, something like</p>\n\n<pre><code>String firstblock = driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2\")).getText();\nString secondblock = driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2/span\")).getText(); \nString finaltext= firstblock+secondblock;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20334652,"reputation":1,"user_id":14915703,"display_name":"Nadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640194353,"creation_date":1640183934,"answer_id":70450741,"question_id":38893486,"body_markdown":"I had quite similar issue when getting the text from `span` attribute. The solution was to use `.getAttribute(&quot;value&quot;)` like this:\r\n```js\r\ndriver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getAttribute(&quot;value&quot;);\r\n\r\n**String org.openqa.selenium.WebElement.getAttribute(String name)**\r\n```","title":"How to get text from span in selenium","body":"<p>I had quite similar issue when getting the text from <code>span</code> attribute. The solution was to use <code>.getAttribute(&quot;value&quot;)</code> like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>driver.findElement(By.xpath(&quot;.//*[@id='iselmf-folder-detail']/h2/span&quot;)).getAttribute(&quot;value&quot;);\n\n**String org.openqa.selenium.WebElement.getAttribute(String name)**\n</code></pre>\n"}],"owner":{"account_id":8993039,"reputation":1,"user_id":6704337,"display_name":"MaheshG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695567860,"creation_date":1470910470,"question_id":38893486,"body_markdown":"i want to get text All New Products and Launches i am trying this \r\n    \r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;iselmf-folder-detail&#39;]/h2/span&quot;)).getText();\r\nbut it is printing Folder\r\n\t\r\n    &lt;h2 class=&quot;iselmf-h2-icon&quot;&gt;\r\n    &lt;span&gt;Folder:&lt;/span&gt;\r\n    All New Products and Launches\r\n    &lt;/h2&gt;\r\n\r\n","title":"How to get text from span in selenium","body":"<p>i want to get text All New Products and Launches i am trying this </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='iselmf-folder-detail']/h2/span\")).getText();\n</code></pre>\n\n<p>but it is printing Folder</p>\n\n<pre><code>&lt;h2 class=\"iselmf-h2-icon\"&gt;\n&lt;span&gt;Folder:&lt;/span&gt;\nAll New Products and Launches\n&lt;/h2&gt;\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627039497,"post_id":68498343,"comment_id":121056940,"body_markdown":"The word &#39;between&#39; makes no sense here. Do you mean &quot;how can I get all files under /opt?&quot;?","body":"The word &#39;between&#39; makes no sense here. Do you mean &quot;how can I get all files under /opt?&quot;?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1627039631,"post_id":68498343,"comment_id":121056975,"body_markdown":"or get all parent folders of a given file?","body":"or get all parent folders of a given file?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1627039828,"post_id":68498343,"comment_id":121057038,"body_markdown":"@G00SE \n\n I need all parent files of first file until i reach the second file","body":"@G00SE    I need all parent files of first file until i reach the second file"}],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627042463,"creation_date":1627042063,"answer_id":68498943,"question_id":68498343,"body_markdown":"Try below solution:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String strPath1 = &quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;;\r\n        String strPath2 = &quot;/opt&quot;;\r\n\r\n        Path path1 = Paths.get(strPath1);\r\n        Path path2 = Paths.get(strPath2);\r\n\r\n        List&lt;String&gt; inbetweenPaths = new ArrayList&lt;&gt;();\r\n        List&lt;File&gt; inbetweenFiles = new ArrayList&lt;&gt;();\r\n\r\n        if(path1.toFile().exists() &amp;&amp; path1.startsWith(path2)) {\r\n        \tPath tempPath = path1;\r\n        \twhile(!tempPath.getParent().equals(path2)) {\r\n        \t\ttempPath = tempPath.getParent();\r\n        \t\tinbetweenPaths.add(tempPath.toString());\r\n        \t\tinbetweenFiles.add(tempPath.toFile());\r\n        \t}\r\n        }\r\n\r\n\r\n        System.out.println(inbetweenPaths);\r\n        System.out.println(inbetweenFiles);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n```\r\n\r\n\r\n","title":"How to get file sequence between two file paths","body":"<p>Try below solution:</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Solution {\n\n    public static void main(String[] args)\n    {\n        String strPath1 = &quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;;\n        String strPath2 = &quot;/opt&quot;;\n\n        Path path1 = Paths.get(strPath1);\n        Path path2 = Paths.get(strPath2);\n\n        List&lt;String&gt; inbetweenPaths = new ArrayList&lt;&gt;();\n        List&lt;File&gt; inbetweenFiles = new ArrayList&lt;&gt;();\n\n        if(path1.toFile().exists() &amp;&amp; path1.startsWith(path2)) {\n            Path tempPath = path1;\n            while(!tempPath.getParent().equals(path2)) {\n                tempPath = tempPath.getParent();\n                inbetweenPaths.add(tempPath.toString());\n                inbetweenFiles.add(tempPath.toFile());\n            }\n        }\n\n\n        System.out.println(inbetweenPaths);\n        System.out.println(inbetweenFiles);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627042122,"creation_date":1627042122,"answer_id":68498961,"question_id":68498343,"body_markdown":"This is classic looping style\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n    Path path1 = Path.of(&quot;/home/test/folder&quot;);\r\n    Path path2 = Path.of(&quot;/home&quot;);\r\n    if(!path1.startsWith(path2)){\r\n        System.err.println(&quot;Path2 has to be a parent of path1&quot;);\r\n        System.exit(-1);\r\n    }\r\n    while(!path1.equals(path2)){\r\n        files.add(path1.toFile());\r\n        path1 = path1.getParent();\r\n    }\r\n    System.out.println(files);\r\n}\r\n```","title":"How to get file sequence between two file paths","body":"<p>This is classic looping style</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\n    Path path1 = Path.of(&quot;/home/test/folder&quot;);\n    Path path2 = Path.of(&quot;/home&quot;);\n    if(!path1.startsWith(path2)){\n        System.err.println(&quot;Path2 has to be a parent of path1&quot;);\n        System.exit(-1);\n    }\n    while(!path1.equals(path2)){\n        files.add(path1.toFile());\n        path1 = path1.getParent();\n    }\n    System.out.println(files);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13935919,"reputation":721,"user_id":16496244,"display_name":"Harsh Kasodariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627044898,"creation_date":1627044898,"answer_id":68499544,"question_id":68498343,"body_markdown":"Use absolute path to avoid null value from ```getParent``` in case the path provided is not absolute and has no parents **e.g.** ```/some_dir_1```.\r\n```java\r\npublic static void main(String args[]) {\r\n\r\n        Path childPath = Paths.get(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;).toAbsolutePath();\r\n        Path parentPath = Paths.get(&quot;/opt&quot;).toAbsolutePath();\r\n        List&lt;String&gt; parents = new ArrayList&lt;String&gt;();\r\n\r\n        // Checks if parentPath is indeed a parent of childPath\r\n        if(childPath.startsWith(parentPath)){\r\n\r\n            // Loop until parent of childPath and parentPath are equal\r\n            while(!childPath.getParent().equals(parentPath)) {\r\n                parents.add(childPath.getParent().toString());\r\n                childPath = childPath.getParent();\r\n            }\r\n        }\r\n        else {\r\n            // throw Exception or set parent to empty array here\r\n            System.out.println(&quot;ERR: parentPath must be a parent of childPath&quot;);\r\n            return;\r\n        }\r\n        \r\n        // Prints the output\r\n        for(String p : parents) {\r\n            System.out.println(p);\r\n        }\r\n    }\r\n```\r\n\r\n**Output:**\r\n```\r\n/opt/tmp/some_dir_1/some_dir_2\r\n/opt/tmp/some_dir_1\r\n/opt/tmp\r\n```","title":"How to get file sequence between two file paths","body":"<p>Use absolute path to avoid null value from <code>getParent</code> in case the path provided is not absolute and has no parents <strong>e.g.</strong> <code>/some_dir_1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]) {\n\n        Path childPath = Paths.get(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;).toAbsolutePath();\n        Path parentPath = Paths.get(&quot;/opt&quot;).toAbsolutePath();\n        List&lt;String&gt; parents = new ArrayList&lt;String&gt;();\n\n        // Checks if parentPath is indeed a parent of childPath\n        if(childPath.startsWith(parentPath)){\n\n            // Loop until parent of childPath and parentPath are equal\n            while(!childPath.getParent().equals(parentPath)) {\n                parents.add(childPath.getParent().toString());\n                childPath = childPath.getParent();\n            }\n        }\n        else {\n            // throw Exception or set parent to empty array here\n            System.out.println(&quot;ERR: parentPath must be a parent of childPath&quot;);\n            return;\n        }\n        \n        // Prints the output\n        for(String p : parents) {\n            System.out.println(p);\n        }\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>/opt/tmp/some_dir_1/some_dir_2\n/opt/tmp/some_dir_1\n/opt/tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695567431,"creation_date":1695567431,"answer_id":77167619,"question_id":68498343,"body_markdown":"Reading the details of paths between directories is easily done by iterating from the parents of the path in a stream: \r\n\r\n    Path from = Path.of(&quot;/opt&quot;);\r\n    Path   to = Path.of(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;);\r\n    List&lt;Path&gt; items = Stream.iterate(to.getParent(), Objects::nonNull, Path::getParent)\r\n                             .takeWhile(Predicate.not(from::equals)).toList();\r\n    System.out.println(items);\r\n\r\n    // Prints:\r\n    [/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\r\n\r\nYou can map back the items as String (with `.map(Path::toString)`) or reverse the list as needed.","title":"How to get file sequence between two file paths","body":"<p>Reading the details of paths between directories is easily done by iterating from the parents of the path in a stream:</p>\n<pre><code>Path from = Path.of(&quot;/opt&quot;);\nPath   to = Path.of(&quot;/opt/tmp/some_dir_1/some_dir_2/file_1.txt&quot;);\nList&lt;Path&gt; items = Stream.iterate(to.getParent(), Objects::nonNull, Path::getParent)\n                         .takeWhile(Predicate.not(from::equals)).toList();\nSystem.out.println(items);\n\n// Prints:\n[/opt/tmp/some_dir_1/some_dir_2, /opt/tmp/some_dir_1, /opt/tmp]\n</code></pre>\n<p>You can map back the items as String (with <code>.map(Path::toString)</code>) or reverse the list as needed.</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1695567431,"creation_date":1627039133,"question_id":68498343,"body_markdown":"I got two files:\r\n\r\nThe first:\r\n\r\n    /opt/tmp/some_dir_1/some_dir_2/file_1.txt\r\n\r\nand the second:\r\n\r\n    /opt/\r\n\r\nIs there a pretty way in java to get files between them?\r\n\r\nIn result i need such a `List&lt;File&gt;`:\r\n\r\n    /opt/tmp/\r\n    /opt/tmp/some_dir_1/\r\n    /opt/tmp/some_dir_1/some_dir_2/\r\n\r\nor a `List&lt;String&gt;`:\r\n\r\n    /tmp/\r\n    /some_dir_1/\r\n    /some_dir_2/\r\n\r\nif files not inside each other, there can be some exception or `Collection.emptyList()` in result\r\n\r\nThanks!","title":"How to get file sequence between two file paths","body":"<p>I got two files:</p>\n<p>The first:</p>\n<pre><code>/opt/tmp/some_dir_1/some_dir_2/file_1.txt\n</code></pre>\n<p>and the second:</p>\n<pre><code>/opt/\n</code></pre>\n<p>Is there a pretty way in java to get files between them?</p>\n<p>In result i need such a <code>List&lt;File&gt;</code>:</p>\n<pre><code>/opt/tmp/\n/opt/tmp/some_dir_1/\n/opt/tmp/some_dir_1/some_dir_2/\n</code></pre>\n<p>or a <code>List&lt;String&gt;</code>:</p>\n<pre><code>/tmp/\n/some_dir_1/\n/some_dir_2/\n</code></pre>\n<p>if files not inside each other, there can be some exception or <code>Collection.emptyList()</code> in result</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-mvc","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":4,"creation_date":1471603555,"post_id":39036771,"comment_id":65423644,"body_markdown":"I&#39;m not sure but I guess you can use `Page.map` without lambda expressions. Just pass an instance of `Converter&lt;? super T, ? extends S&gt;`","body":"I&#39;m not sure but I guess you can use <code>Page.map</code> without lambda expressions. Just pass an instance of <code>Converter&lt;? super T, ? extends S&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1547574187,"post_id":39037297,"comment_id":95235165,"body_markdown":"Wow, this was line saver with Dozer mapper and lambda.","body":"Wow, this was line saver with Dozer mapper and lambda."},{"owner":{"account_id":8758111,"reputation":721,"user_id":6548978,"accept_rate":100,"display_name":"Martin Larizzate"},"score":4,"creation_date":1583161880,"post_id":39037297,"comment_id":107013424,"body_markdown":"Hi @Ali I&#39;m not sure which Covnerter class should I import. Can you cleear this doubt please?","body":"Hi @Ali I&#39;m not sure which Covnerter class should I import. Can you cleear this doubt please?"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":2,"creation_date":1583162646,"post_id":39037297,"comment_id":107013830,"body_markdown":"@MartinLarizzate Apparently new Spring Data versions are using simple Java 8 `Function`s. So take a look at here https://github.com/spring-projects/spring-data-commons/blob/3831332f267c320ed526b4b3711435b2f28db7b0/src/main/java/org/springframework/data/domain/Page.java#L72","body":"@MartinLarizzate Apparently new Spring Data versions are using simple Java 8 <code>Function</code>s. So take a look at here <a href=\"https://github.com/spring-projects/spring-data-commons/blob/3831332f267c320ed526b4b3711435b2f28db7b0/src/main/java/org/springframework/data/domain/Page.java#L72\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-commons/blob/&hellip;</a>"},{"owner":{"account_id":8758111,"reputation":721,"user_id":6548978,"accept_rate":100,"display_name":"Martin Larizzate"},"score":1,"creation_date":1583162769,"post_id":39037297,"comment_id":107013898,"body_markdown":"Thanks for helping Ali Dehgani","body":"Thanks for helping Ali Dehgani"},{"owner":{"account_id":13186536,"reputation":528,"user_id":9524445,"display_name":"Dhanushka sasanka"},"score":1,"creation_date":1628243583,"post_id":39037297,"comment_id":121374225,"body_markdown":"what is the converter package?","body":"what is the converter package?"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":1,"creation_date":1628245553,"post_id":39037297,"comment_id":121374956,"body_markdown":"@Dhanushkasasanka Probably you&#39;re using Spring Data 2, for that see https://stackoverflow.com/a/48831688/1393484","body":"@Dhanushkasasanka Probably you&#39;re using Spring Data 2, for that see <a href=\"https://stackoverflow.com/a/48831688/1393484\">stackoverflow.com/a/48831688/1393484</a>"},{"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"score":0,"creation_date":1648320123,"post_id":39037297,"comment_id":126596313,"body_markdown":"Clean solution -&gt; https://stackoverflow.com/a/71630820/7927573","body":"Clean solution -&gt; <a href=\"https://stackoverflow.com/a/71630820/7927573\">stackoverflow.com/a/71630820/7927573</a>"}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":7,"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1471604179,"creation_date":1471604179,"answer_id":39037297,"question_id":39036771,"body_markdown":"You can still use the `Page.map` without lambda expressions:\r\n\r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n    Page&lt;ObjectDto&gt; dtoPage = entities.map(new Converter&lt;ObjectEntity, ObjectDto&gt;() {\r\n        @Override\r\n        public ObjectDto convert(ObjectEntity entity) {\r\n            ObjectDto dto = new ObjectDto();\r\n            // Conversion logic\r\n\r\n            return dto;\r\n        }\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>You can still use the <code>Page.map</code> without lambda expressions:</p>\n\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\nPage&lt;ObjectDto&gt; dtoPage = entities.map(new Converter&lt;ObjectEntity, ObjectDto&gt;() {\n    @Override\n    public ObjectDto convert(ObjectEntity entity) {\n        ObjectDto dto = new ObjectDto();\n        // Conversion logic\n\n        return dto;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471604236,"creation_date":1471604236,"answer_id":39037315,"question_id":39036771,"body_markdown":"Here is my solution, thanks to @Ali Dehghani\r\n\r\n    private Page&lt;ObjectDTO&gt; mapEntityPageIntoDTOPage(Page&lt;ObjectEntity&gt; objectEntityPage) {\r\n    \t\treturn objectEntityPage.map(new Converter&lt;ObjectEntity, ObjectDTO&gt;() {\r\n    \t\t\tpublic ObjectDTO convert(ObjectEntity objectEntity) {\r\n    \t\t\t\treturn new ObjectDTO(objectEntity, httpSession);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n    \t}","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Here is my solution, thanks to @Ali Dehghani</p>\n\n<pre><code>private Page&lt;ObjectDTO&gt; mapEntityPageIntoDTOPage(Page&lt;ObjectEntity&gt; objectEntityPage) {\n        return objectEntityPage.map(new Converter&lt;ObjectEntity, ObjectDTO&gt;() {\n            public ObjectDTO convert(ObjectEntity objectEntity) {\n                return new ObjectDTO(objectEntity, httpSession);\n            }\n\n        });\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":2,"creation_date":1552579319,"post_id":48205368,"comment_id":97073426,"body_markdown":"To use a DTO constructor like the OP requested, you can use .map(ObjectDto::new); instead of .map(ObjectDto::fromEntity); (this assumes you have the proper constructor defined in ObjectDto)","body":"To use a DTO constructor like the OP requested, you can use .map(ObjectDto::new); instead of .map(ObjectDto::fromEntity); (this assumes you have the proper constructor defined in ObjectDto)"}],"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1580861360,"creation_date":1515668017,"answer_id":48205368,"question_id":39036771,"body_markdown":"And in java8:\r\n\r\n    Page&lt;ObjectDto&gt; entities = \r\n     objectEntityRepository.findAll(pageable)\r\n     .map(ObjectDto::fromEntity);\r\n\r\nWhere fromEntity is a static method on ObjectDto that contains the conversion logic.","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>And in java8:</p>\n\n<pre><code>Page&lt;ObjectDto&gt; entities = \n objectEntityRepository.findAll(pageable)\n .map(ObjectDto::fromEntity);\n</code></pre>\n\n<p>Where fromEntity is a static method on ObjectDto that contains the conversion logic.</p>\n"},{"comments":[{"owner":{"account_id":13186536,"reputation":528,"user_id":9524445,"display_name":"Dhanushka sasanka"},"score":1,"creation_date":1628247861,"post_id":48831688,"comment_id":121375752,"body_markdown":"in here what is the Function Package?","body":"in here what is the Function Package?"}],"tags":[],"owner":{"account_id":88559,"reputation":2849,"user_id":244847,"accept_rate":86,"display_name":"JayL"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1518800833,"creation_date":1518800833,"answer_id":48831688,"question_id":39036771,"body_markdown":"In Spring Data 2, the Page map method takes a Function instead of a Converter, but it still works basically the same as @Ali Dehghani described.\r\n\r\nUsing Function:\r\n\r\n    \r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n    Page&lt;ObjectDto&gt; dtoPage = entities.map(new Function&lt;ObjectEntity, ObjectDto&gt;() {\r\n        @Override\r\n        public ObjectDto apply(ObjectEntity entity) {\r\n            ObjectDto dto = new ObjectDto();\r\n            // Conversion logic\r\n\r\n            return dto;\r\n        }\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>In Spring Data 2, the Page map method takes a Function instead of a Converter, but it still works basically the same as @Ali Dehghani described.</p>\n\n<p>Using Function:</p>\n\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\nPage&lt;ObjectDto&gt; dtoPage = entities.map(new Function&lt;ObjectEntity, ObjectDto&gt;() {\n    @Override\n    public ObjectDto apply(ObjectEntity entity) {\n        ObjectDto dto = new ObjectDto();\n        // Conversion logic\n\n        return dto;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8136721,"reputation":350,"user_id":6128119,"display_name":"Peter Mutisya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522157942,"creation_date":1522157942,"answer_id":49514464,"question_id":39036771,"body_markdown":"At the end, you will not return the Page to the users, but a list of ObjectDTO, with the Page details at the header, so this would be my solution.\n\n## **ObjectService**\n\n    public Page&lt;ObjectEntity&gt; findAll (Pageable pageable){\n      //logic goes here.\n      Page&lt;ObjectEntity&gt; page = objectRepository.findAll(pageable);\n      return page;\n    } \n\n\n## ObjectResource / rest (the exposed endpoint)\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ObjectDTO&gt;&gt; findAll (Pageable pageable){\n      Page&lt;ObjectEntity&gt; page = objectServiceService.findAll(pageable);\n\n      HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(page, &quot;your-endpoint-here&quot;);\n\n      return new ResponseEntity&lt;&gt;(objectMapper.toDto(page.getContent()), headers, HttpStatus.OK);\n    }\n\nThe reason for using this is so that you don&#39;t need to duplicate the page details for ObjectEntity and DTO. It is key to note that a page contains the following:\n\n - page number \n - pageSize \n - numberOfElements\n - content\n\nThe **content** is the list of objects returned, and is the only thing that needs to be mapped to DTO.\n","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>At the end, you will not return the Page to the users, but a list of ObjectDTO, with the Page details at the header, so this would be my solution.</p>\n<h2><strong>ObjectService</strong></h2>\n<pre><code>public Page&lt;ObjectEntity&gt; findAll (Pageable pageable){\n  //logic goes here.\n  Page&lt;ObjectEntity&gt; page = objectRepository.findAll(pageable);\n  return page;\n} \n</code></pre>\n<h2>ObjectResource / rest (the exposed endpoint)</h2>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;List&lt;ObjectDTO&gt;&gt; findAll (Pageable pageable){\n  Page&lt;ObjectEntity&gt; page = objectServiceService.findAll(pageable);\n\n  HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(page, &quot;your-endpoint-here&quot;);\n\n  return new ResponseEntity&lt;&gt;(objectMapper.toDto(page.getContent()), headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The reason for using this is so that you don't need to duplicate the page details for ObjectEntity and DTO. It is key to note that a page contains the following:</p>\n<ul>\n<li>page number</li>\n<li>pageSize</li>\n<li>numberOfElements</li>\n<li>content</li>\n</ul>\n<p>The <strong>content</strong> is the list of objects returned, and is the only thing that needs to be mapped to DTO.</p>\n"},{"tags":[],"owner":{"account_id":8302665,"reputation":500,"user_id":6240833,"display_name":"Ilias Mentz"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534929609,"creation_date":1534929609,"answer_id":51963589,"question_id":39036771,"body_markdown":"You can use Page.map by simply doing this:\r\n\r\n    \r\n\tpublic Page&lt;ObjectDto&gt; toPageObjectDto(Page&lt;Object&gt; objects) {\r\n\t\tPage&lt;ObjectDto&gt; dtos  = objects.map(this::convertToObjectDto);\r\n\t\treturn dtos;\r\n\t}\r\n\t\r\n\tprivate ObjectDto convertToObjectDto(Object o) {\r\n\t\tObjectDto dto = new ObjectDto();\r\n\t\t//conversion here\r\n\t\treturn dto;\r\n\t}","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>You can use Page.map by simply doing this:</p>\n\n<pre><code>public Page&lt;ObjectDto&gt; toPageObjectDto(Page&lt;Object&gt; objects) {\n    Page&lt;ObjectDto&gt; dtos  = objects.map(this::convertToObjectDto);\n    return dtos;\n}\n\nprivate ObjectDto convertToObjectDto(Object o) {\n    ObjectDto dto = new ObjectDto();\n    //conversion here\n    return dto;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927748,"reputation":3317,"user_id":1737813,"display_name":"Bosko Mijin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673259187,"creation_date":1584209253,"answer_id":60685819,"question_id":39036771,"body_markdown":"I have created a solution with model mapper, generics and lambdas for common usage, and it is used on a daily basis on several projects.\r\n\r\n    /**\r\n     * Maps the Page {@code entities} of &lt;code&gt;T&lt;/code&gt; type which have to be mapped as input to {@code dtoClass} Page\r\n     * of mapped object with &lt;code&gt;D&lt;/code&gt; type.\r\n     *\r\n     * @param &lt;D&gt; - type of objects in result page\r\n     * @param &lt;T&gt; - type of entity in &lt;code&gt;entityPage&lt;/code&gt;\r\n     * @param entities - page of entities that needs to be mapped\r\n     * @param dtoClass - class of result page element\r\n     * @return page - mapped page with objects of type &lt;code&gt;D&lt;/code&gt;.\r\n     * @NB &lt;code&gt;dtoClass&lt;/code&gt; must has NoArgsConstructor!\r\n     */\r\n    public &lt;D, T&gt; Page&lt;D&gt; mapEntityPageIntoDtoPage(Page&lt;T&gt; entities, Class&lt;D&gt; dtoClass) {\r\n        return entities.map(objectEntity -&gt; modelMapper.map(objectEntity, dtoClass));\r\n    } \r\n\r\nThis is exactly the case which you need (and I think common case for a wide range of other cases).\r\n\r\nYou already have the data obtained from repository (same is with service) on this way:\r\n\r\n    Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\r\n\r\nEverything what you need for conversion is to call this method on this way:\r\n\r\n    Page&lt;ObjectDto&gt; dtoPage = mapEntityPageIntoDtoPage(entities, ObjectDto.class);\r\n\r\n@Tip: You can use this method from util class, and it can be reused for all entity/dto in Page conversions on services and controllers according to your architecture.\r\n\r\nExample:\r\n\r\n    Page&lt;ObjectDto&gt; dtoPage = mapperUtil.mapEntityPageIntoDtoPage(entities, ObjectDto.class);\r\n\r\n\r\n\r\n\r\n","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>I have created a solution with model mapper, generics and lambdas for common usage, and it is used on a daily basis on several projects.</p>\n<pre><code>/**\n * Maps the Page {@code entities} of &lt;code&gt;T&lt;/code&gt; type which have to be mapped as input to {@code dtoClass} Page\n * of mapped object with &lt;code&gt;D&lt;/code&gt; type.\n *\n * @param &lt;D&gt; - type of objects in result page\n * @param &lt;T&gt; - type of entity in &lt;code&gt;entityPage&lt;/code&gt;\n * @param entities - page of entities that needs to be mapped\n * @param dtoClass - class of result page element\n * @return page - mapped page with objects of type &lt;code&gt;D&lt;/code&gt;.\n * @NB &lt;code&gt;dtoClass&lt;/code&gt; must has NoArgsConstructor!\n */\npublic &lt;D, T&gt; Page&lt;D&gt; mapEntityPageIntoDtoPage(Page&lt;T&gt; entities, Class&lt;D&gt; dtoClass) {\n    return entities.map(objectEntity -&gt; modelMapper.map(objectEntity, dtoClass));\n} \n</code></pre>\n<p>This is exactly the case which you need (and I think common case for a wide range of other cases).</p>\n<p>You already have the data obtained from repository (same is with service) on this way:</p>\n<pre><code>Page&lt;ObjectEntity&gt; entities = objectEntityRepository.findAll(pageable);\n</code></pre>\n<p>Everything what you need for conversion is to call this method on this way:</p>\n<pre><code>Page&lt;ObjectDto&gt; dtoPage = mapEntityPageIntoDtoPage(entities, ObjectDto.class);\n</code></pre>\n<p>@Tip: You can use this method from util class, and it can be reused for all entity/dto in Page conversions on services and controllers according to your architecture.</p>\n<p>Example:</p>\n<pre><code>Page&lt;ObjectDto&gt; dtoPage = mapperUtil.mapEntityPageIntoDtoPage(entities, ObjectDto.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7859927,"reputation":2613,"user_id":5940649,"accept_rate":75,"display_name":"Evol Rof"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588438638,"creation_date":1588438638,"answer_id":61563123,"question_id":39036771,"body_markdown":"use lambda expression is more convenient\r\n\r\n```\r\nPage&lt;ObjectDto&gt; dto=objectRepository.findAll(pageable).map((object -&gt; DozerBeanMapperBuilder.buildDefault().map(object, ObjectDto.class)));\r\n```","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>use lambda expression is more convenient</p>\n\n<pre><code>Page&lt;ObjectDto&gt; dto=objectRepository.findAll(pageable).map((object -&gt; DozerBeanMapperBuilder.buildDefault().map(object, ObjectDto.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18665731,"reputation":21,"user_id":13605750,"display_name":"Biswajit Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590297691,"creation_date":1590295656,"answer_id":61981761,"question_id":39036771,"body_markdown":"This works correctly in Spring 2.0 -\r\n\r\n```java\r\n@Override\r\npublic Page&lt;BookDto&gt; getBooksByAuthor(String authorId, Pageable pageable) {\r\n\t\tPage&lt;BookEntity&gt; bookEntity = iBookRepository.findByAuthorId(authorId, pageable);\r\n\t\treturn bookEntity.map(new Function&lt;BookEntity, BookDto&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic BookDto apply(BookEntity t) {\r\n\t\t\t\treturn new ModelMapper().map(t, BookDto.class);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n```\r\nThe converter is no longer supported in Page type for Spring 2.0. Also, the Function should be used from java.util.function.Function.","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>This works correctly in Spring 2.0 -</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Page&lt;BookDto&gt; getBooksByAuthor(String authorId, Pageable pageable) {\n        Page&lt;BookEntity&gt; bookEntity = iBookRepository.findByAuthorId(authorId, pageable);\n        return bookEntity.map(new Function&lt;BookEntity, BookDto&gt;() {\n\n            @Override\n            public BookDto apply(BookEntity t) {\n                return new ModelMapper().map(t, BookDto.class);\n            }\n\n        });\n    }\n</code></pre>\n\n<p>The converter is no longer supported in Page type for Spring 2.0. Also, the Function should be used from java.util.function.Function.</p>\n"},{"tags":[],"owner":{"account_id":14472970,"reputation":1136,"user_id":10454340,"display_name":"Vikash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627985145,"creation_date":1627985145,"answer_id":68634119,"question_id":39036771,"body_markdown":"Using Java 8 Lambda ,It worked for me. The answer is already given above,I am just simplifying.\r\n\r\n    Page&lt;EmployeeEntity&gt; employeeEntityPage = employeeService.findEmployeeEntities();\r\n    \r\n\r\n    Page&lt;EmployeeDto&gt; employeeDtoPage = employeeEntityPage.map(entity -&gt; {\r\n            EmployeeDto dto = employeeService.employeEntityToDto(entity);\r\n            return dto;\r\n        });\r\n\r\n\r\n**Here employeeEntityToDto() is a method to convert Entities to Dtos**\r\n\r\n    public EmployeeDto employeeEntityToDto(EmployeeEntity entity){\r\n        EmployeeDto employeeDto =  new EmployeeDto();\r\n        employeeDto.setId(entity.getId());\r\n        employeeDto.setName(entity.getName());\r\n        return employeeDto;\r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Using Java 8 Lambda ,It worked for me. The answer is already given above,I am just simplifying.</p>\n<pre><code>Page&lt;EmployeeEntity&gt; employeeEntityPage = employeeService.findEmployeeEntities();\n\n\nPage&lt;EmployeeDto&gt; employeeDtoPage = employeeEntityPage.map(entity -&gt; {\n        EmployeeDto dto = employeeService.employeEntityToDto(entity);\n        return dto;\n    });\n</code></pre>\n<p><strong>Here employeeEntityToDto() is a method to convert Entities to Dtos</strong></p>\n<pre><code>public EmployeeDto employeeEntityToDto(EmployeeEntity entity){\n    EmployeeDto employeeDto =  new EmployeeDto();\n    employeeDto.setId(entity.getId());\n    employeeDto.setName(entity.getName());\n    return employeeDto;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648319961,"creation_date":1648319961,"answer_id":71630820,"question_id":39036771,"body_markdown":"    Page&lt;Order&gt; persistedOrderPage = orderQueryRepository.search();\r\n\r\n    Page&lt;OrderDTO&gt; orderPage = persistedOrderPage.map(persistedOrder -&gt; {\r\n        OrderDTO order = mapper.toOrderDTO(persistedOrder);\r\n        // do another action\r\n        return order;\r\n    });","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<pre><code>Page&lt;Order&gt; persistedOrderPage = orderQueryRepository.search();\n\nPage&lt;OrderDTO&gt; orderPage = persistedOrderPage.map(persistedOrder -&gt; {\n    OrderDTO order = mapper.toOrderDTO(persistedOrder);\n    // do another action\n    return order;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9509803,"reputation":101,"user_id":7068092,"display_name":"ahmet aslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674942577,"creation_date":1674942577,"answer_id":75271142,"question_id":39036771,"body_markdown":"I&#39;ve used Lambda with [ModelMapper][1]\r\n\r\n        Page&lt;ObjectEntity&gt; pageEntity = objectRepository.findAll(pageable);\r\n        Page&lt;ObjectDto&gt; pageDto = pageEntity.map(objectEntity -&gt; modelMapper.map(objectEntity, ObjectDto.class));\r\n\r\n\r\n  [1]: https://modelmapper.org/","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>I've used Lambda with <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a></p>\n<pre><code>    Page&lt;ObjectEntity&gt; pageEntity = objectRepository.findAll(pageable);\n    Page&lt;ObjectDto&gt; pageDto = pageEntity.map(objectEntity -&gt; modelMapper.map(objectEntity, ObjectDto.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21846020,"reputation":101,"user_id":16138851,"display_name":"sachintha dilshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682857530,"creation_date":1682857530,"answer_id":76141252,"question_id":39036771,"body_markdown":"Try this code\r\n\r\n**SERVICE**\r\n\r\n    Pageable pageable = PageRequest.of(page - 1, size);\r\n    Page&lt;ContentResDTO&gt; resDTOPage = contentRepository.findAllBy(contentID, userId, pageable);\r\n\r\n**REPOSITORY**\r\n\r\n    @Query(&quot;SELECT new com.example.demo.dto.content.ContentResDTO(t, COUNT(DISTINCT c.cmtID), COUNT(DISTINCT r.rctId)) &quot; +\r\n                &quot;FROM TMnTrContent t LEFT JOIN TMnTrComment c ON t.cntID = c.content.cntID LEFT JOIN TMnTrReact r ON t.cntID = r.content.cntID &quot; +\r\n                &quot; WHERE (:cntId IS NULL OR (:cntId IS NOT NULL AND t.cntID = :cntId)) AND &quot; +\r\n                &quot; (:userId IS NULL OR (:userId IS NOT NULL AND t.user.userId = :userId)) &quot; +\r\n                &quot; GROUP BY t.cntID&quot;)\r\n        Page&lt;ContentResDTO&gt; findAllBy(@Param(&quot;cntId&quot;) Long cntId,\r\n                                      @Param(&quot;userId&quot;) Long userId,\r\n                                      Pageable pageable);\r\n\r\n**DTO**\r\n\r\n    @Getter\r\n    @Setter\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ContentResDTO {\r\n        private long id;\r\n        private long userId;\r\n        private String type;\r\n        private String description;\r\n        private int version;\r\n        private Date createdDate;\r\n        private Date modifyDate;\r\n        private int commentCount;\r\n        private int reactCount;\r\n    \r\n        public ContentResDTO(TMnTrContent content, long commentCount, long reactCount) {\r\n            this.id = content.getCntID();\r\n            this.userId = content.getUser().getUserId();\r\n            this.type = content.getCntType();\r\n            this.description = content.getCntDescription();\r\n            this.version = content.getVersion();\r\n            this.createdDate = content.getCreateDate();\r\n            this.modifyDate = content.getModifyDate();\r\n            this.commentCount = (int) commentCount;\r\n            this.reactCount = (int) reactCount;\r\n        }\r\n    \r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Try this code</p>\n<p><strong>SERVICE</strong></p>\n<pre><code>Pageable pageable = PageRequest.of(page - 1, size);\nPage&lt;ContentResDTO&gt; resDTOPage = contentRepository.findAllBy(contentID, userId, pageable);\n</code></pre>\n<p><strong>REPOSITORY</strong></p>\n<pre><code>@Query(&quot;SELECT new com.example.demo.dto.content.ContentResDTO(t, COUNT(DISTINCT c.cmtID), COUNT(DISTINCT r.rctId)) &quot; +\n            &quot;FROM TMnTrContent t LEFT JOIN TMnTrComment c ON t.cntID = c.content.cntID LEFT JOIN TMnTrReact r ON t.cntID = r.content.cntID &quot; +\n            &quot; WHERE (:cntId IS NULL OR (:cntId IS NOT NULL AND t.cntID = :cntId)) AND &quot; +\n            &quot; (:userId IS NULL OR (:userId IS NOT NULL AND t.user.userId = :userId)) &quot; +\n            &quot; GROUP BY t.cntID&quot;)\n    Page&lt;ContentResDTO&gt; findAllBy(@Param(&quot;cntId&quot;) Long cntId,\n                                  @Param(&quot;userId&quot;) Long userId,\n                                  Pageable pageable);\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ContentResDTO {\n    private long id;\n    private long userId;\n    private String type;\n    private String description;\n    private int version;\n    private Date createdDate;\n    private Date modifyDate;\n    private int commentCount;\n    private int reactCount;\n\n    public ContentResDTO(TMnTrContent content, long commentCount, long reactCount) {\n        this.id = content.getCntID();\n        this.userId = content.getUser().getUserId();\n        this.type = content.getCntType();\n        this.description = content.getCntDescription();\n        this.version = content.getVersion();\n        this.createdDate = content.getCreateDate();\n        this.modifyDate = content.getModifyDate();\n        this.commentCount = (int) commentCount;\n        this.reactCount = (int) reactCount;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23969310,"reputation":61,"user_id":18528693,"display_name":"Anton Podolskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695566768,"creation_date":1695566768,"answer_id":77167573,"question_id":39036771,"body_markdown":"Here is option, if you also need to get totalElements, totalPages from origin\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class CreditIssuedMapper {\r\n\r\n    public static CreditIssuedDto toCreditIssuedDto(CreditIssued creditIssued){\r\n\r\n        CreditIssuedDto c = new CreditIssuedDto();\r\n\r\n        c.setId(creditIssued.getId());\r\n\r\n        c.setClientId(creditIssued.getClientData().getId());\r\n        c.setClientName(creditIssued.getClientData().getClientName());\r\n        c.setClientSurname(creditIssued.getClientData().getClientSurname());\r\n        c.setClientMiddlename(creditIssued.getClientData().getClientMiddlename());\r\n\r\n        c.setManagerId(creditIssued.getManagerData().getId());\r\n        c.setManagerName(creditIssued.getManagerData().getManagerName());\r\n        c.setManagerSurname(creditIssued.getManagerData().getManagerSurname());\r\n        c.setManagerMiddlename(creditIssued.getManagerData().getManagerMiddlename());\r\n\r\n        c.setCreditIssuedBody(creditIssued.getCreditBody());\r\n        c.setCreditIssuedLeft(creditIssued.getCreditLeft());\r\n        c.setCreditIssuedFine(creditIssued.getCreditFine());\r\n        c.setCreditIssuedMonthlyPayment(creditIssued.getCreditMonthlyPayment());\r\n        c.setCreditIssuedDate(creditIssued.getCreditIssuedDate());\r\n        c.setCreditIssuedNextPayment(creditIssued.getCreditNextPayment());\r\n        c.setCreditIssuedExpDate(creditIssued.getCreditExpDate());\r\n\r\n        c.setCreditOfferId(creditIssued.getCreditOfferId().getId());\r\n        c.setCreditOfferName(creditIssued.getCreditOfferId().getCreditName());\r\n        c.setCreditOfferInterest(creditIssued.getCreditOfferId().getCreditInterest());\r\n        c.setCreditOfferFine(creditIssued.getCreditOfferId().getCreditFine());\r\n        c.setCreditOfferCurrency(creditIssued.getCreditOfferId().getCurrencyData().getCurrencyName());\r\n\r\n        return c;\r\n\r\n    }\r\n\r\n    public Page&lt;CreditIssuedDto&gt; creditIssuedDto (Page&lt;CreditIssued&gt; creditIssued){\r\n\r\n        List&lt;CreditIssuedDto&gt; creditIssuedDto = creditIssued\r\n                .stream()\r\n                .map(CreditIssuedMapper::toCreditIssuedDto)\r\n                .collect(Collectors.toList());\r\n\r\n        long totalElements = creditIssued.getTotalElements();\r\n        int totalPages = creditIssued.getTotalPages();\r\n\r\n        return new PageImpl&lt;&gt;(creditIssuedDto, PageRequest.of(creditIssued.getNumber(), creditIssued.getSize()), totalElements);\r\n    }\r\n    }","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>Here is option, if you also need to get totalElements, totalPages from origin</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CreditIssuedMapper {\n\npublic static CreditIssuedDto toCreditIssuedDto(CreditIssued creditIssued){\n\n    CreditIssuedDto c = new CreditIssuedDto();\n\n    c.setId(creditIssued.getId());\n\n    c.setClientId(creditIssued.getClientData().getId());\n    c.setClientName(creditIssued.getClientData().getClientName());\n    c.setClientSurname(creditIssued.getClientData().getClientSurname());\n    c.setClientMiddlename(creditIssued.getClientData().getClientMiddlename());\n\n    c.setManagerId(creditIssued.getManagerData().getId());\n    c.setManagerName(creditIssued.getManagerData().getManagerName());\n    c.setManagerSurname(creditIssued.getManagerData().getManagerSurname());\n    c.setManagerMiddlename(creditIssued.getManagerData().getManagerMiddlename());\n\n    c.setCreditIssuedBody(creditIssued.getCreditBody());\n    c.setCreditIssuedLeft(creditIssued.getCreditLeft());\n    c.setCreditIssuedFine(creditIssued.getCreditFine());\n    c.setCreditIssuedMonthlyPayment(creditIssued.getCreditMonthlyPayment());\n    c.setCreditIssuedDate(creditIssued.getCreditIssuedDate());\n    c.setCreditIssuedNextPayment(creditIssued.getCreditNextPayment());\n    c.setCreditIssuedExpDate(creditIssued.getCreditExpDate());\n\n    c.setCreditOfferId(creditIssued.getCreditOfferId().getId());\n    c.setCreditOfferName(creditIssued.getCreditOfferId().getCreditName());\n    c.setCreditOfferInterest(creditIssued.getCreditOfferId().getCreditInterest());\n    c.setCreditOfferFine(creditIssued.getCreditOfferId().getCreditFine());\n    c.setCreditOfferCurrency(creditIssued.getCreditOfferId().getCurrencyData().getCurrencyName());\n\n    return c;\n\n}\n\npublic Page&lt;CreditIssuedDto&gt; creditIssuedDto (Page&lt;CreditIssued&gt; creditIssued){\n\n    List&lt;CreditIssuedDto&gt; creditIssuedDto = creditIssued\n            .stream()\n            .map(CreditIssuedMapper::toCreditIssuedDto)\n            .collect(Collectors.toList());\n\n    long totalElements = creditIssued.getTotalElements();\n    int totalPages = creditIssued.getTotalPages();\n\n    return new PageImpl&lt;&gt;(creditIssuedDto, PageRequest.of(creditIssued.getNumber(), creditIssued.getSize()), totalElements);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84314,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":39037297,"answer_count":14,"score":85,"last_activity_date":1695566768,"creation_date":1471602656,"question_id":39036771,"body_markdown":"When I hit the database with `PagingAndSortingRepository.findAll(Pageable)` I get `Page&lt;ObjectEntity&gt;`. However, I want to expose DTO&#39;s to the client and not entities. I can create DTO just by injecting entity into it&#39;s constructor, but how do I map the entities in Page object to DTO&#39;s? According to spring documentation, Page provides read-only operations.\r\n\r\nAlso, Page.map is not possibility, as we don&#39;t have support for java 8. How to create the new Page with mapped objects manually?","title":"How to map Page&lt;ObjectEntity&gt; to Page&lt;ObjectDTO&gt; in spring-data-rest","body":"<p>When I hit the database with <code>PagingAndSortingRepository.findAll(Pageable)</code> I get <code>Page&lt;ObjectEntity&gt;</code>. However, I want to expose DTO's to the client and not entities. I can create DTO just by injecting entity into it's constructor, but how do I map the entities in Page object to DTO's? According to spring documentation, Page provides read-only operations.</p>\n\n<p>Also, Page.map is not possibility, as we don't have support for java 8. How to create the new Page with mapped objects manually?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","aide"],"answers":[{"comments":[{"owner":{"account_id":16010202,"reputation":249,"user_id":11554604,"display_name":"S Kumar"},"score":0,"creation_date":1696097807,"post_id":77167449,"comment_id":136111203,"body_markdown":"The left and right earbuds have the same MAC address.","body":"The left and right earbuds have the same MAC address."}],"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695565129,"creation_date":1695564685,"answer_id":77167449,"question_id":77164729,"body_markdown":"To find out the battery level of the left and right earbuds in Android using Java, you need to use the Bluetooth Low Energy (BLE) protocol, since most modern wireless earbuds communicate their battery information over BLE.\r\nHere is a general overview of the steps you need to follow:\r\nEnsure that you have the necessary permissions in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;/&gt;\r\n\r\n\r\n\r\nthen you need to get reference to the BluetoothAdapter and discovery a bluetooth device .\r\n\r\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\r\n    \r\n    for (BluetoothDevice device : pairedDevices) {\r\n        // Check if the device name or address matches your earbuds\r\n        if (device.getName().equals(&quot;YourBlutoothDeviceName&quot;) || device.getAddress().equals(&quot;LeftEarbudMACAddress&quot;)) {\r\n            // You found the left earbud, proceed to get its battery level.\r\n            // Repeat this for the right earbud if needed.\r\n        }\r\n    }\r\n\r\nthen to determine the battery level, you need to connect the headset and then query the Bluetooth GATT battery service.\r\n\r\n\r\n    BluetoothGatt gatt = device.connectGatt(context, false, gattCallback);\r\n    \r\n    // Define a BluetoothGattCallback to handle GATT events\r\n    BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                // Once connected, discover services\r\n                gatt.discoverServices();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                // Find the Battery Service\r\n                BluetoothGattService batteryService = gatt.getService(UUID.fromString(&quot;0000180f-0000-1000-8000-00805f9b34fb&quot;));\r\n    \r\n                if (batteryService != null) {\r\n                    // Find the Battery Level Characteristic\r\n                    BluetoothGattCharacteristic batteryLevelCharacteristic = batteryService.getCharacteristic(UUID.fromString(&quot;00002a19-0000-1000-8000-00805f9b34fb&quot;));\r\n    \r\n                    if (batteryLevelCharacteristic != null) {\r\n                        // Read the battery level\r\n                        gatt.readCharacteristic(batteryLevelCharacteristic);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                // Extract the battery level value from the characteristic\r\n                int batteryLevel = characteristic.getIntValue(BluetoothGattCharacteristic.FORMAT_UINT8, 0);\r\n                // Handle the battery level value (e.g., display it in your UI)\r\n            }\r\n            // Disconnect the GATT connection when you&#39;re done\r\n            gatt.disconnect();\r\n        }\r\n    };\r\n\r\nReferences \r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\r\n\r\nhttps://stackoverflow.com/questions/35728193/android-and-bluetooth-low-energy-ble\r\n","title":"How to get battery level of left and right earbuds in android","body":"<p>To find out the battery level of the left and right earbuds in Android using Java, you need to use the Bluetooth Low Energy (BLE) protocol, since most modern wireless earbuds communicate their battery information over BLE.\nHere is a general overview of the steps you need to follow:\nEnsure that you have the necessary permissions in your AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;/&gt;\n</code></pre>\n<p>then you need to get reference to the BluetoothAdapter and discovery a bluetooth device .</p>\n<pre><code>BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\nSet&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\n\nfor (BluetoothDevice device : pairedDevices) {\n    // Check if the device name or address matches your earbuds\n    if (device.getName().equals(&quot;YourBlutoothDeviceName&quot;) || device.getAddress().equals(&quot;LeftEarbudMACAddress&quot;)) {\n        // You found the left earbud, proceed to get its battery level.\n        // Repeat this for the right earbud if needed.\n    }\n}\n</code></pre>\n<p>then to determine the battery level, you need to connect the headset and then query the Bluetooth GATT battery service.</p>\n<pre><code>BluetoothGatt gatt = device.connectGatt(context, false, gattCallback);\n\n// Define a BluetoothGattCallback to handle GATT events\nBluetoothGattCallback gattCallback = new BluetoothGattCallback() {\n    @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n        if (newState == BluetoothProfile.STATE_CONNECTED) {\n            // Once connected, discover services\n            gatt.discoverServices();\n        }\n    }\n\n    @Override\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            // Find the Battery Service\n            BluetoothGattService batteryService = gatt.getService(UUID.fromString(&quot;0000180f-0000-1000-8000-00805f9b34fb&quot;));\n\n            if (batteryService != null) {\n                // Find the Battery Level Characteristic\n                BluetoothGattCharacteristic batteryLevelCharacteristic = batteryService.getCharacteristic(UUID.fromString(&quot;00002a19-0000-1000-8000-00805f9b34fb&quot;));\n\n                if (batteryLevelCharacteristic != null) {\n                    // Read the battery level\n                    gatt.readCharacteristic(batteryLevelCharacteristic);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            // Extract the battery level value from the characteristic\n            int batteryLevel = characteristic.getIntValue(BluetoothGattCharacteristic.FORMAT_UINT8, 0);\n            // Handle the battery level value (e.g., display it in your UI)\n        }\n        // Disconnect the GATT connection when you're done\n        gatt.disconnect();\n    }\n};\n</code></pre>\n<p>References\n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview</a></p>\n<p><a href=\"https://stackoverflow.com/questions/35728193/android-and-bluetooth-low-energy-ble\">Android and Bluetooth Low Energy (BLE)</a></p>\n"}],"owner":{"account_id":16010202,"reputation":249,"user_id":11554604,"display_name":"S Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695565129,"creation_date":1695499652,"question_id":77164729,"body_markdown":"I want to create a app that display&#39;s Battery levels of left and right earbuds in android using Java\r\nI have tried that code \r\n\r\n    BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\r\n    Method m = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\r\n    int batteryLevel = m.invoke(device);\r\n\r\nBut in this Mathod i can get always only a single Battery Level not Both and i don&#39;t know how to get both battery levels, so i need your help to get battery level of left and right earbuds in android.","title":"How to get battery level of left and right earbuds in android","body":"<p>I want to create a app that display's Battery levels of left and right earbuds in android using Java\nI have tried that code</p>\n<pre><code>BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\nMethod m = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\nint batteryLevel = m.invoke(device);\n</code></pre>\n<p>But in this Mathod i can get always only a single Battery Level not Both and i don't know how to get both battery levels, so i need your help to get battery level of left and right earbuds in android.</p>\n"},{"tags":["java","path","nio"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638724760,"post_id":70236679,"comment_id":124158696,"body_markdown":"A path is just that: a path. We can use [`Files::exists`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)) and/or [`Files:notExists`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)) to check whether a file exists under the given `Path`.","body":"A path is just that: a path. We can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\"><code>Files::exists</code></a> and/or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\"><code>Files:notExists</code></a> to check whether a file exists under the given <code>Path</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638725104,"post_id":70236679,"comment_id":124158801,"body_markdown":"For completeness sake: A directory is considered a file in this context.","body":"For completeness sake: A directory is considered a file in this context."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1638726228,"post_id":70236679,"comment_id":124159110,"body_markdown":"Your question is unclear.  What would be its purpose?   Would this precede a write  operation?  Please provide some use cases.","body":"Your question is unclear.  What would be its purpose?   Would this precede a write  operation?  Please provide some use cases."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1638729162,"post_id":70236679,"comment_id":124159882,"body_markdown":"If something is a valid path, there is no guarantee it did not exist in the past or won&#39;t exist in the future. The only thing you can do is check if a path doesn&#39;t exist right now. What are you trying to achieve? This sounds like X-Y problem.","body":"If something is a valid path, there is no guarantee it did not exist in the past or won&#39;t exist in the future. The only thing you can do is check if a path doesn&#39;t exist right now. What are you trying to achieve? This sounds like X-Y problem."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695564946,"creation_date":1638739745,"answer_id":70238710,"question_id":70236679,"body_markdown":"Create a temporary directory for the test, then any file path under that directory won&#39;t exist - use that for your tests.\r\n\r\nIf you use JUNIT5 have a look at [@TempDir][1] which sets up a new empty directory for a test case. [Example here][2].\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\r\n  [2]: https://stackoverflow.com/questions/66686024/junit5-create-temp-file/66760781#66760781","title":"How to create a Path to a non existent file","body":"<p>Create a temporary directory for the test, then any file path under that directory won't exist - use that for your tests.</p>\n<p>If you use JUNIT5 have a look at <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\" rel=\"nofollow noreferrer\">@TempDir</a> which sets up a new empty directory for a test case. <a href=\"https://stackoverflow.com/questions/66686024/junit5-create-temp-file/66760781#66760781\">Example here</a>.</p>\n"},{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1638783792,"post_id":70238717,"comment_id":124171257,"body_markdown":"You could of course add `Assertions.assertTrue(Files.notExists(path));` before your call but I think you are correct to assume not needed - as `Files.delete` should throw exception if unable to delete the temp file.","body":"You could of course add <code>Assertions.assertTrue(Files.notExists(path));</code> before your call but I think you are correct to assume not needed - as <code>Files.delete</code> should throw exception if unable to delete the temp file."}],"tags":[],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638739787,"creation_date":1638739787,"answer_id":70238717,"question_id":70236679,"body_markdown":"I found a possible solution:\r\n\r\n1. [Create a new, temporary file][1].\r\n2. [Immediately delete it][2].\r\n\r\nI would not use this if security depended on it but, for testing purposes, I believe this almost guarantees that the file does not exist.\r\n\r\n    Path path = Files.createTempFile(null, null);\r\n    Files.delete(path);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)","title":"How to create a Path to a non existent file","body":"<p>I found a possible solution:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">Create a new, temporary file</a>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Immediately delete it</a>.</li>\n</ol>\n<p>I would not use this if security depended on it but, for testing purposes, I believe this almost guarantees that the file does not exist.</p>\n<pre><code>Path path = Files.createTempFile(null, null);\nFiles.delete(path);\n</code></pre>\n"}],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70238710,"answer_count":2,"score":-1,"last_activity_date":1695564946,"creation_date":1638724615,"question_id":70236679,"body_markdown":"How can I create a [`Path`][1] to a file which is guaranteed not to exist?\r\n\r\nI thought about using an [&quot;impossible&quot;][2] path name, such as:\r\n\r\n    Path path = Path.of(&quot;/nonexistent&quot;);\r\n\r\nBut somebody could create such a file, making my code fail.\r\n\r\n**Update**\r\n\r\nI have written a method which accepts a `Path` and then tries to read from the underlying file, and now I am writing a unit test to make sure I have correctly handled non existing files.\r\n\r\nI wish to make my unit test robusts, without risking random failures.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html\r\n  [2]: https://unix.stackexchange.com/q/75135/41094","title":"How to create a Path to a non existent file","body":"<p>How can I create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> to a file which is guaranteed not to exist?</p>\n<p>I thought about using an <a href=\"https://unix.stackexchange.com/q/75135/41094\">&quot;impossible&quot;</a> path name, such as:</p>\n<pre><code>Path path = Path.of(&quot;/nonexistent&quot;);\n</code></pre>\n<p>But somebody could create such a file, making my code fail.</p>\n<p><strong>Update</strong></p>\n<p>I have written a method which accepts a <code>Path</code> and then tries to read from the underlying file, and now I am writing a unit test to make sure I have correctly handled non existing files.</p>\n<p>I wish to make my unit test robusts, without risking random failures.</p>\n"},{"tags":["java","android","date","calendar","sharedpreferences"],"answers":[{"comments":[{"owner":{"account_id":1588002,"reputation":1531,"user_id":1471926,"accept_rate":60,"display_name":"Sergii"},"score":1,"creation_date":1404819901,"post_id":12343346,"comment_id":38173702,"body_markdown":"It looks like this way is not applicable for timezone-specific dates. Use case: store dates for travelling user","body":"It looks like this way is not applicable for timezone-specific dates. Use case: store dates for travelling user"}],"tags":[],"owner":{"account_id":1142837,"reputation":13542,"user_id":1126273,"accept_rate":81,"display_name":"Bal&#225;zs &#201;des"},"comment_count":1,"down_vote_count":0,"up_vote_count":171,"is_accepted":false,"score":171,"last_activity_date":1489700264,"creation_date":1347227885,"answer_id":12343346,"question_id":12343014,"body_markdown":"To save and load accurate date, you could use the `long` (number) representation of a `Date` object.\r\n\r\n**Example:**\r\n\r\n    //getting the current time in milliseconds, and creating a Date object from it:\r\n    Date date = new Date(System.currentTimeMillis()); //or simply new Date();\r\n\r\n    //converting it back to a milliseconds representation:\r\n    long millis = date.getTime();\r\n\r\nYou can use this to save or retrieve `Date`/`Time` data from `SharedPreferences` like this\r\n\r\n**Save:**\r\n\r\n    SharedPreferences prefs = ...;\r\n    prefs.edit().putLong(&quot;time&quot;, date.getTime()).apply();\r\n\r\n**Read it back:**\r\n\r\n    Date myDate = new Date(prefs.getLong(&quot;time&quot;, 0));\r\n\r\n**Edit**\r\n\r\nIf you want to store the `TimeZone` additionaly, you could write some helper method for that purpose, something like this (I have not tested them, feel free to correct it, if something is wrong):\r\n\r\n\tpublic static Date getDate(final SharedPreferences prefs, final String key, final Date defValue) {\r\n\t\tif (!prefs.contains(key + &quot;_value&quot;) || !prefs.contains(key + &quot;_zone&quot;)) {\r\n\t\t\treturn defValue;\r\n\t\t}\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTimeInMillis(prefs.getLong(key + &quot;_value&quot;, 0));\r\n\t\tcalendar.setTimeZone(TimeZone.getTimeZone(prefs.getString(key + &quot;_zone&quot;, TimeZone.getDefault().getID())));\r\n\t\treturn calendar.getTime();\r\n\t}\r\n\r\n\tpublic static void putDate(final SharedPreferences prefs, final String key, final Date date, final TimeZone zone) {\r\n\t\tprefs.edit().putLong(key + &quot;_value&quot;, date.getTime()).apply();\r\n\t\tprefs.edit().putString(key + &quot;_zone&quot;, zone.getID()).apply();\r\n\t}","title":"How to save and retrieve Date in SharedPreferences","body":"<p>To save and load accurate date, you could use the <code>long</code> (number) representation of a <code>Date</code> object.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>//getting the current time in milliseconds, and creating a Date object from it:\nDate date = new Date(System.currentTimeMillis()); //or simply new Date();\n\n//converting it back to a milliseconds representation:\nlong millis = date.getTime();\n</code></pre>\n\n<p>You can use this to save or retrieve <code>Date</code>/<code>Time</code> data from <code>SharedPreferences</code> like this</p>\n\n<p><strong>Save:</strong></p>\n\n<pre><code>SharedPreferences prefs = ...;\nprefs.edit().putLong(\"time\", date.getTime()).apply();\n</code></pre>\n\n<p><strong>Read it back:</strong></p>\n\n<pre><code>Date myDate = new Date(prefs.getLong(\"time\", 0));\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you want to store the <code>TimeZone</code> additionaly, you could write some helper method for that purpose, something like this (I have not tested them, feel free to correct it, if something is wrong):</p>\n\n<pre><code>public static Date getDate(final SharedPreferences prefs, final String key, final Date defValue) {\n    if (!prefs.contains(key + \"_value\") || !prefs.contains(key + \"_zone\")) {\n        return defValue;\n    }\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeInMillis(prefs.getLong(key + \"_value\", 0));\n    calendar.setTimeZone(TimeZone.getTimeZone(prefs.getString(key + \"_zone\", TimeZone.getDefault().getID())));\n    return calendar.getTime();\n}\n\npublic static void putDate(final SharedPreferences prefs, final String key, final Date date, final TimeZone zone) {\n    prefs.edit().putLong(key + \"_value\", date.getTime()).apply();\n    prefs.edit().putString(key + \"_zone\", zone.getID()).apply();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2758348,"reputation":106,"user_id":2375791,"display_name":"MoDu"},"score":1,"creation_date":1585561018,"post_id":52666937,"comment_id":107792932,"body_markdown":"Hardcoded strings and locale, great for creating unexpected bugs when anything changes.","body":"Hardcoded strings and locale, great for creating unexpected bugs when anything changes."}],"tags":[],"owner":{"account_id":10557666,"reputation":123,"user_id":7778290,"display_name":"Fanny BATCHO"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695564466,"creation_date":1538746734,"answer_id":52666937,"question_id":12343014,"body_markdown":"You can do this:\r\n\r\n    SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.US);\r\n\r\nTo save a date:\r\n\r\n    preferences .edit().putString(&quot;mydate&quot;, sdf.format(date)).apply();\r\n\r\nTo retrieve:\r\n\r\n \r\n\r\n     try{\r\n          Date date = sdf.parse(preferences.getString(&quot;myDate&quot;, &quot;defaultValue&quot;));\r\n        } catch(ParseException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nHope it help.\r\n\r\n\r\n\r\n\r\n","title":"How to save and retrieve Date in SharedPreferences","body":"<p>You can do this:</p>\n<pre><code>SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.US);\n</code></pre>\n<p>To save a date:</p>\n<pre><code>preferences .edit().putString(&quot;mydate&quot;, sdf.format(date)).apply();\n</code></pre>\n<p>To retrieve:</p>\n<pre><code> try{\n      Date date = sdf.parse(preferences.getString(&quot;myDate&quot;, &quot;defaultValue&quot;));\n    } catch(ParseException e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Hope it help.</p>\n"},{"comments":[{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":0,"creation_date":1550114371,"post_id":52673028,"comment_id":96154193,"body_markdown":"Java 8 versions are not available on older versions of Android, it begins with API 26","body":"Java 8 versions are not available on older versions of Android, it begins with API 26"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1550115203,"post_id":52673028,"comment_id":96154369,"body_markdown":"@Skynet Re-read more carefully. Look for the Android bullets near the end.","body":"@Skynet Re-read more carefully. Look for the Android bullets near the end."},{"owner":{"account_id":33037,"reputation":64635,"user_id":92153,"accept_rate":84,"display_name":"Houman"},"score":0,"creation_date":1616319344,"post_id":52673028,"comment_id":117959665,"body_markdown":"Sorry @BasilBourque, It&#39;s a very nice and complete answer about Datetime in Java, but you don&#39;t answer OP&#39;s question at all. Hence so little upvotes after three years.  The questions is &quot;How to save and retrieve Date in SharedPreferences&quot;, please add a proper example in the TLDR starting off a date like this: `2021-03-22T00:03:00+00:00`","body":"Sorry @BasilBourque, It&#39;s a very nice and complete answer about Datetime in Java, but you don&#39;t answer OP&#39;s question at all. Hence so little upvotes after three years.  The questions is &quot;How to save and retrieve Date in SharedPreferences&quot;, please add a proper example in the TLDR starting off a date like this: <code>2021-03-22T00:03:00+00:00</code>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538772774,"creation_date":1538772011,"answer_id":52673028,"question_id":12343014,"body_markdown":"# tl;dr\r\n\r\nThe modern approach uses *java.time* classes and [ISO 8601][1] strings.\r\n\r\nReading.\r\n\r\n    Instant                             // Represent a moment in UTC with a resolution of nanoseconds.\r\n    .ofEpochMilli( \r\n        Long.getLong( incomingText )  \r\n    )                                   // Returns a `Instant` object.\r\n    .atZone(                            // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\r\n        ZoneId.of( &quot;Europe/Paris&quot; ) \r\n    )                                   // Returns a `ZonedDateTime` object.\r\n\r\nWriting.\r\n\r\n    ZonedDateTime\r\n    .of(\r\n        LocalDate.of( 2018 , Month.JANUARY , 23 ) ,\r\n        LocalTime.of( 15 , 35 ) ,\r\n        ZoneId.of( &quot;Europe/Paris&quot; ) \r\n    )                                   // Returns a `ZonedDateTime` object.\r\n    .toInstant()                        // Returns an `Instant`. Adjust from a time zone to UTC. Same moment, same point on the timeline, different wall-clock time.\r\n    .toEpochMilli()                     // Returns a `long` integer number primitive. Any microseconds or nanoseconds are ignored, of course.\r\n\r\n\r\nIf your alarm manager has not yet been modernized to handle *java.time* objects, convert between legacy &amp; modern classes using new methods added to the old classes.\r\n\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nand\r\n\r\n    Instant instant = d.toInstant() ;\r\n\r\n\r\n# java.time\r\n\r\nThe troublesome old date-time classes were supplanted by the *java.time* classes.\r\n\r\nFor a moment in UTC, with a resolution of nanoseconds, use `Instant`.\r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC.\r\n\r\nYou want only milliseconds for your needs, so truncate any microseconds &amp; nanoseconds.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ;\r\n\r\nTo determine a moment by date and time-of-day requires a time zone. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still yesterday in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nIf no time zone is specified, the JVM implicitly applies its current default time zone. That default may [change at any moment](https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()) during runtime(!), so your results may vary. Better to specify your [desired/expected time zone][2] explicitly as an argument.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nIf you want to use the JVMs current default time zone, ask for it and pass as an argument. If omitted, the JVMs current default is applied implicitly. Better to be explicit, as the default may be changed at any moment *during runtime* by any code in any thread of any app within the JVM.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Get JVMs current default time zone.\r\n\r\n\r\nOr specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. \r\n\r\n    LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\r\n\r\nOr, better, use the [`Month`](https://docs.oracle.com/javase/10/docs/api/java/time/Month.html) enum objects pre-defined, one for each month of the year. Tip: Use these `Month` objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide [type-safety](https://en.wikipedia.org/wiki/Type_safety).\r\n\r\n    LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\r\n\r\nCombine with a time-of-day, a `LocalTime`.\r\n\r\n    LocalTime lt = LocalTime.of( 14 , 0 ) ;\r\n\r\nWrap it all together as a `ZonedDateTime` object.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nAdjust to UTC by extracting a `Instant`.\r\n\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nExtract your desired count-of-milliseconds since the epoch reference of first moment of 1970 in UTC. Again, be aware that any micros/nanos in your  `Instant` will be ignored when extracting milliseconds.\r\n\r\n    long milliseconds = instant.toEpochMilli() ;  // Be aware of potential data loss, ignoring any microseconds or nanoseconds. \r\n\r\nRead those milliseconds back from storage as text using the [`Long`][2] class.\r\n\r\n    long milliseconds = Long.getLong( incomingText ) ;\r\n    Instant instant = Instant.ofEpochMilli( milliseconds ) ;\r\n\r\nTo see that moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a `ZoneId` to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nTo generate text representing that value, use `DateTimeFormatter.ofLocalizedDateTime` to automatically localize.\r\n\r\nTip: Consider writing your date-time values to storage in standard [ISO 8601][1] format rather than as a count-of-milliseconds. The milliseconds cannot be read meaningfully by humans, making debugging &amp; monitoring tricky. \r\n\r\n    String output = instant.toString() ; \r\n\r\n&gt;2018-10-05T20:28:48.584Z\r\n\r\n    Instant instant = Instant.parse( 2018-10-05T20:28:48.584Z ) ;\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html","title":"How to save and retrieve Date in SharedPreferences","body":"<h1>tl;dr</h1>\n\n<p>The modern approach uses <em>java.time</em> classes and <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> strings.</p>\n\n<p>Reading.</p>\n\n<pre><code>Instant                             // Represent a moment in UTC with a resolution of nanoseconds.\n.ofEpochMilli( \n    Long.getLong( incomingText )  \n)                                   // Returns a `Instant` object.\n.atZone(                            // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\n    ZoneId.of( \"Europe/Paris\" ) \n)                                   // Returns a `ZonedDateTime` object.\n</code></pre>\n\n<p>Writing.</p>\n\n<pre><code>ZonedDateTime\n.of(\n    LocalDate.of( 2018 , Month.JANUARY , 23 ) ,\n    LocalTime.of( 15 , 35 ) ,\n    ZoneId.of( \"Europe/Paris\" ) \n)                                   // Returns a `ZonedDateTime` object.\n.toInstant()                        // Returns an `Instant`. Adjust from a time zone to UTC. Same moment, same point on the timeline, different wall-clock time.\n.toEpochMilli()                     // Returns a `long` integer number primitive. Any microseconds or nanoseconds are ignored, of course.\n</code></pre>\n\n<p>If your alarm manager has not yet been modernized to handle <em>java.time</em> objects, convert between legacy &amp; modern classes using new methods added to the old classes.</p>\n\n<pre><code>java.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Instant instant = d.toInstant() ;\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The troublesome old date-time classes were supplanted by the <em>java.time</em> classes.</p>\n\n<p>For a moment in UTC, with a resolution of nanoseconds, use <code>Instant</code>.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC.\n</code></pre>\n\n<p>You want only milliseconds for your needs, so truncate any microseconds &amp; nanoseconds.</p>\n\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ;\n</code></pre>\n\n<p>To determine a moment by date and time-of-day requires a time zone. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still yesterday in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montral Qubec</a>.</p>\n\n<p>If no time zone is specified, the JVM implicitly applies its current default time zone. That default may <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()\" rel=\"nofollow noreferrer\">change at any moment</a> during runtime(!), so your results may vary. Better to specify your <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\">desired/expected time zone</a> explicitly as an argument.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" ) ;  \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n\n<p>If you want to use the JVMs current default time zone, ask for it and pass as an argument. If omitted, the JVMs current default is applied implicitly. Better to be explicit, as the default may be changed at any moment <em>during runtime</em> by any code in any thread of any app within the JVM.</p>\n\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Get JVMs current default time zone.\n</code></pre>\n\n<p>Or specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. </p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\n</code></pre>\n\n<p>Or, better, use the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum objects pre-defined, one for each month of the year. Tip: Use these <code>Month</code> objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"nofollow noreferrer\">type-safety</a>.</p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\n</code></pre>\n\n<p>Combine with a time-of-day, a <code>LocalTime</code>.</p>\n\n<pre><code>LocalTime lt = LocalTime.of( 14 , 0 ) ;\n</code></pre>\n\n<p>Wrap it all together as a <code>ZonedDateTime</code> object.</p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n\n<p>Adjust to UTC by extracting a <code>Instant</code>.</p>\n\n<pre><code>Instant instant = zdt.toInstant() ;\n</code></pre>\n\n<p>Extract your desired count-of-milliseconds since the epoch reference of first moment of 1970 in UTC. Again, be aware that any micros/nanos in your  <code>Instant</code> will be ignored when extracting milliseconds.</p>\n\n<pre><code>long milliseconds = instant.toEpochMilli() ;  // Be aware of potential data loss, ignoring any microseconds or nanoseconds. \n</code></pre>\n\n<p>Read those milliseconds back from storage as text using the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> class.</p>\n\n<pre><code>long milliseconds = Long.getLong( incomingText ) ;\nInstant instant = Instant.ofEpochMilli( milliseconds ) ;\n</code></pre>\n\n<p>To see that moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Africa/Tunis\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>To generate text representing that value, use <code>DateTimeFormatter.ofLocalizedDateTime</code> to automatically localize.</p>\n\n<p>Tip: Consider writing your date-time values to storage in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format rather than as a count-of-milliseconds. The milliseconds cannot be read meaningfully by humans, making debugging &amp; monitoring tricky. </p>\n\n<pre><code>String output = instant.toString() ; \n</code></pre>\n\n<blockquote>\n  <p>2018-10-05T20:28:48.584Z</p>\n</blockquote>\n\n<pre><code>Instant instant = Instant.parse( 2018-10-05T20:28:48.584Z ) ;\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49496,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":3,"score":72,"last_activity_date":1695564466,"creation_date":1347225044,"question_id":12343014,"body_markdown":"I need to save a few dates in `SharedPreferences` in android and retrieve it. I am building reminder app using `AlarmManager` and I need to save list of future dates. It must be able to retrieve as milliseconds. First I thought to calculate time between today now time and future time and store in shared preference. But that method is not working since I need to use it for `AlarmManager`. ","title":"How to save and retrieve Date in SharedPreferences","body":"<p>I need to save a few dates in <code>SharedPreferences</code> in android and retrieve it. I am building reminder app using <code>AlarmManager</code> and I need to save list of future dates. It must be able to retrieve as milliseconds. First I thought to calculate time between today now time and future time and store in shared preference. But that method is not working since I need to use it for <code>AlarmManager</code>. </p>\n"},{"tags":["java","spring","google-app-engine"],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695563322,"creation_date":1695561078,"question_id":77167235,"body_markdown":"I want to use a Google Cloud Datastore in my Spring application. I have followed the instructions from [this tutorial][1].\r\n\r\nI have the following repository:\r\n```\r\npublic interface LevelRepository extends DatastoreRepository&lt;Level, Long&gt; {\r\n    ...\r\n}\r\n```\r\nWith the following in a controller:\r\n```\r\n@Controller\r\npublic class LevelController {\r\n    @Autowired\r\n    LevelRepository levelRepository;\r\n    ...\r\n}\r\n```\r\nAnd the following in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-data-datastore&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThe problem is that the application fails at init with the following:\r\n```\r\nField levelRepository in com.xxx.yyy.LevelController required a bean of type &#39;com.xxx.yyy.LevelRepository&#39; that could not be found.\r\nThe injection point has the following annotations:\r\n@org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\nConsider defining a bean of type &#39;com.xxx.yyy.LevelRepository&#39; in your configuration.\r\n```\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/cloud-spring-datastore#0","title":"Spring application on Google App Engine fails to initiate due to Cloud Datastore misconfiguration","body":"<p>I want to use a Google Cloud Datastore in my Spring application. I have followed the instructions from <a href=\"https://codelabs.developers.google.com/codelabs/cloud-spring-datastore#0\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>I have the following repository:</p>\n<pre><code>public interface LevelRepository extends DatastoreRepository&lt;Level, Long&gt; {\n    ...\n}\n</code></pre>\n<p>With the following in a controller:</p>\n<pre><code>@Controller\npublic class LevelController {\n    @Autowired\n    LevelRepository levelRepository;\n    ...\n}\n</code></pre>\n<p>And the following in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-data-datastore&lt;/artifactId&gt;\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The problem is that the application fails at init with the following:</p>\n<pre><code>Field levelRepository in com.xxx.yyy.LevelController required a bean of type 'com.xxx.yyy.LevelRepository' that could not be found.\nThe injection point has the following annotations:\n@org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'com.xxx.yyy.LevelRepository' in your configuration.\n</code></pre>\n"},{"tags":["java","node.js","button","web-applications","node-red"],"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1695491816,"post_id":77162521,"comment_id":136032829,"body_markdown":"What problem are you actually trying to solve here? Is this a single instance of Node-RED or are you trying to run multiple instances for different users? The question is currently both far too broad, you need to be a lot more specific if we are going to be able to help.","body":"What problem are you actually trying to solve here? Is this a single instance of Node-RED or are you trying to run multiple instances for different users? The question is currently both far too broad, you need to be a lot more specific if we are going to be able to help."}],"answers":[{"comments":[{"owner":{"account_id":21767614,"reputation":25,"user_id":16071248,"display_name":"Gio Formichella"},"score":0,"creation_date":1695563854,"post_id":77167338,"comment_id":136038340,"body_markdown":"Would it be easier with a single instance of Node-RED ? This is for a school project so I have some leeway to simplify the project","body":"Would it be easier with a single instance of Node-RED ? This is for a school project so I have some leeway to simplify the project"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1695564539,"post_id":77167338,"comment_id":136038411,"body_markdown":"For a single instance then you would `Runtime.exec()` to run Node-RED, you would write the flow to `flow.json` and save this into the `userDir` that you pass on the Node-RED command line.","body":"For a single instance then you would <code>Runtime.exec()</code> to run Node-RED, you would write the flow to <code>flow.json</code> and save this into the <code>userDir</code> that you pass on the Node-RED command line."},{"owner":{"account_id":21767614,"reputation":25,"user_id":16071248,"display_name":"Gio Formichella"},"score":0,"creation_date":1695564750,"post_id":77167338,"comment_id":136038424,"body_markdown":"Is there a simple way to create the flow.json given the tree structure or should I learn how they are created in the editor and reverse engineer it ?","body":"Is there a simple way to create the flow.json given the tree structure or should I learn how they are created in the editor and reverse engineer it ?"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1695564873,"post_id":77167338,"comment_id":136038435,"body_markdown":"There is nothing that will create them for you, but they are pretty simple and self explanatory.","body":"There is nothing that will create them for you, but they are pretty simple and self explanatory."}],"tags":[],"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695562949,"creation_date":1695562949,"answer_id":77167338,"question_id":77162521,"body_markdown":"OK, this is not a simple task.\r\n\r\nRunning multiple instances of Node-RED for different users requires a framework to configure and totally and start separate Node-RED while maintaining separation between them.\r\n\r\nI would setup up an instance of [FlowFuse][1] and use the [API][2] to spin up instances and setup the user (probably using SSO).\r\n\r\nThe only bit that is currently missing from the API would be a way of injecting the flow into the instance (it could be done with a little Database work), but support for things like that is on the list to be added soon.\r\n\r\nYou can then either redirect the user to the Node-RED editor or embed the editor in your web app in an iframe.\r\n\r\nFull disclosure I work for FlowFuse.\r\n\r\n\r\n  [1]: https://flowfuse.com/\r\n  [2]: https://flowfuse.com/docs/api/","title":"Opening Node-RED editor page from Java web application","body":"<p>OK, this is not a simple task.</p>\n<p>Running multiple instances of Node-RED for different users requires a framework to configure and totally and start separate Node-RED while maintaining separation between them.</p>\n<p>I would setup up an instance of <a href=\"https://flowfuse.com/\" rel=\"nofollow noreferrer\">FlowFuse</a> and use the <a href=\"https://flowfuse.com/docs/api/\" rel=\"nofollow noreferrer\">API</a> to spin up instances and setup the user (probably using SSO).</p>\n<p>The only bit that is currently missing from the API would be a way of injecting the flow into the instance (it could be done with a little Database work), but support for things like that is on the list to be added soon.</p>\n<p>You can then either redirect the user to the Node-RED editor or embed the editor in your web app in an iframe.</p>\n<p>Full disclosure I work for FlowFuse.</p>\n"}],"owner":{"account_id":21767614,"reputation":25,"user_id":16071248,"display_name":"Gio Formichella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695562949,"creation_date":1695463385,"question_id":77162521,"body_markdown":"I would like to have a button(html) in my Java web application that once clicked it opens up the Node-RED editor page. I&#39;ve tried using https://nodered.org/docs/user-guide/runtime/embedding to no success, I don&#39;t know how to make the page appear (It&#39;s my first time working on a project like this).\r\n\r\nI also would like the editor to already contain a flow generated dynamically: the application has an XML of a tree and for every node of the tree the flow will contain a function node connected to the parent and the child nodes.\r\n\r\nHow should I go about it ? Is there an API to create the flow given the structure in XML/JSON ?\r\n\r\nEDIT: Giving more context: I&#39;m trying to run multiple instances for different users. I would like the users, once chosen the tree structure, to be able to press the &quot;export to node red&quot; button and open up the Node-RED editor and have a flow of function nodes inside with same structure as the tree and with predetermined JavaScript code inside. To give and example, given the xml of a tree with just a root node and two children I would like this to be the result of the button press:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QNYjP.png","title":"Opening Node-RED editor page from Java web application","body":"<p>I would like to have a button(html) in my Java web application that once clicked it opens up the Node-RED editor page. I've tried using <a href=\"https://nodered.org/docs/user-guide/runtime/embedding\" rel=\"nofollow noreferrer\">https://nodered.org/docs/user-guide/runtime/embedding</a> to no success, I don't know how to make the page appear (It's my first time working on a project like this).</p>\n<p>I also would like the editor to already contain a flow generated dynamically: the application has an XML of a tree and for every node of the tree the flow will contain a function node connected to the parent and the child nodes.</p>\n<p>How should I go about it ? Is there an API to create the flow given the structure in XML/JSON ?</p>\n<p>EDIT: Giving more context: I'm trying to run multiple instances for different users. I would like the users, once chosen the tree structure, to be able to press the &quot;export to node red&quot; button and open up the Node-RED editor and have a flow of function nodes inside with same structure as the tree and with predetermined JavaScript code inside. To give and example, given the xml of a tree with just a root node and two children I would like this to be the result of the button press:<a href=\"https://i.stack.imgur.com/QNYjP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QNYjP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rabbitmq","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":9582301,"reputation":13,"user_id":7116391,"display_name":"Maro Majkl Ors&#225;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562738,"creation_date":1695562738,"answer_id":77167325,"question_id":77166940,"body_markdown":"You&#39;re experiencing a common challenge when writing integration tests: tests interfere with each other due to shared state. The shared state, in this case, might be RabbitMQ&#39;s message queues, databases, or caches. When you run your tests individually, the shared state from the first test does not affect the second. However, when you run them together, the leftover state from the first test might interfere with the second. \r\n\r\nSo I think there are a few tips on how to resolve your issue:\r\n\r\n1. **Reset State**: Ensure a clean state before each test, like resetting RabbitMQ queues.\r\n2. **Fresh RabbitMQ Instance**: Use TestContainers to start a fresh RabbitMQ instance for each test.\r\n3. Wait for Asynchronous Operations: RabbitMQ is asynchronous. Implement retry logic to wait for messages, rather than just expecting immediate availability.\r\n4. **Check Test Setup**: Ensure there&#39;s no setup inconsistency like naming errors.\r\n5. **Test Scoping**: Narrow down the Spring context for your tests using annotations like @WebFluxTest or @DataJpaTest.\r\n6. **Use @DirtiesContext**: Resets the Spring context after each test to ensure no lingering state.\r\n\r\nNote, for the following questions you ask please add an environment you are testing on (i.e., architecture, operating system and framework version). So that other people could reproduce your issue and help you immediately.","title":"Getting null from DB while running integration test using TestContainer","body":"<p>You're experiencing a common challenge when writing integration tests: tests interfere with each other due to shared state. The shared state, in this case, might be RabbitMQ's message queues, databases, or caches. When you run your tests individually, the shared state from the first test does not affect the second. However, when you run them together, the leftover state from the first test might interfere with the second.</p>\n<p>So I think there are a few tips on how to resolve your issue:</p>\n<ol>\n<li><strong>Reset State</strong>: Ensure a clean state before each test, like resetting RabbitMQ queues.</li>\n<li><strong>Fresh RabbitMQ Instance</strong>: Use TestContainers to start a fresh RabbitMQ instance for each test.</li>\n<li>Wait for Asynchronous Operations: RabbitMQ is asynchronous. Implement retry logic to wait for messages, rather than just expecting immediate availability.</li>\n<li><strong>Check Test Setup</strong>: Ensure there's no setup inconsistency like naming errors.</li>\n<li><strong>Test Scoping</strong>: Narrow down the Spring context for your tests using annotations like @WebFluxTest or @DataJpaTest.</li>\n<li><strong>Use @DirtiesContext</strong>: Resets the Spring context after each test to ensure no lingering state.</li>\n</ol>\n<p>Note, for the following questions you ask please add an environment you are testing on (i.e., architecture, operating system and framework version). So that other people could reproduce your issue and help you immediately.</p>\n"}],"owner":{"account_id":16805722,"reputation":29,"user_id":12149963,"display_name":"Ashish Kumar Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695562738,"creation_date":1695555779,"question_id":77166940,"body_markdown":"I am learning Java, Spring and I came across the TestContainers library for writing (unit/integration) tests. I tried to write a sample application, made a RabbitMQ producer, consumer, then I wrote a test case for it as below: \r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class SampleITTest extends AbstractTestcontainers {\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    private static final String QUEUE_URI = &quot;/api/v1/queue&quot;;\r\n    private final RabbitTemplate producerWithRoutingKey;\r\n    @Autowired\r\n    public RabbitMQIntegrationTest(RabbitTemplate producerWithRoutingKey) {\r\n        this.producerWithRoutingKey = producerWithRoutingKey;\r\n    }\r\n\r\n    @Test\r\n    void pushMessageToRabbitWhenHitEndPoint() {\r\n        webTestClient.get()\r\n                .uri(QUEUE_URI + &quot;/send&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk();\r\n\r\n        List&lt;QueueMessage&gt; messages = webTestClient.get()\r\n                .uri(QUEUE_URI)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk()\r\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\r\n                })\r\n                .returnResult()\r\n                .getResponseBody();\r\n\r\n        assertThat(messages).isNotEmpty();\r\n    }\r\n\r\n    @Test\r\n    void shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ() {\r\n        String title = &quot;Sending Message To Queue&quot;;\r\n        String description = &quot;We are testing the testContainer&quot;;\r\n\r\n        SendMessage message = new SendMessage(title, description);\r\n\r\n        producerWithRoutingKey\r\n                .convertAndSend(&quot;testContainerExchange&quot;, &quot;routing-key&quot;, message);\r\n\r\n        List&lt;QueueMessage&gt; listMessages = webTestClient.get()\r\n                .uri(QUEUE_URI)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk()\r\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\r\n                })\r\n                .returnResult()\r\n                .getResponseBody();\r\n\r\n        QueueMessage actualMessage = listMessages.stream()\r\n                        .filter(m -&gt; m.getTitle().equals(message.title()))\r\n                        .findFirst()\r\n                        .orElseThrow();\r\n\r\n        assertThat(actualMessage.getTitle()).isEqualTo(message.title());\r\n        assertThat(actualMessage.getDescription()).isEqualTo(message.description());\r\n    }\r\n}\r\n```\r\n\r\nWhen I run both the test separately, they work fine as I get a pass, but when I run all the tests, then in the second test shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ(), I get listMessage as null. \r\n\r\nI am not sure why I am getting this behaviour and how can I fix it?","title":"Getting null from DB while running integration test using TestContainer","body":"<p>I am learning Java, Spring and I came across the TestContainers library for writing (unit/integration) tests. I tried to write a sample application, made a RabbitMQ producer, consumer, then I wrote a test case for it as below:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class SampleITTest extends AbstractTestcontainers {\n    @Autowired\n    private WebTestClient webTestClient;\n\n    private static final String QUEUE_URI = &quot;/api/v1/queue&quot;;\n    private final RabbitTemplate producerWithRoutingKey;\n    @Autowired\n    public RabbitMQIntegrationTest(RabbitTemplate producerWithRoutingKey) {\n        this.producerWithRoutingKey = producerWithRoutingKey;\n    }\n\n    @Test\n    void pushMessageToRabbitWhenHitEndPoint() {\n        webTestClient.get()\n                .uri(QUEUE_URI + &quot;/send&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk();\n\n        List&lt;QueueMessage&gt; messages = webTestClient.get()\n                .uri(QUEUE_URI)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk()\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\n                })\n                .returnResult()\n                .getResponseBody();\n\n        assertThat(messages).isNotEmpty();\n    }\n\n    @Test\n    void shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ() {\n        String title = &quot;Sending Message To Queue&quot;;\n        String description = &quot;We are testing the testContainer&quot;;\n\n        SendMessage message = new SendMessage(title, description);\n\n        producerWithRoutingKey\n                .convertAndSend(&quot;testContainerExchange&quot;, &quot;routing-key&quot;, message);\n\n        List&lt;QueueMessage&gt; listMessages = webTestClient.get()\n                .uri(QUEUE_URI)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isOk()\n                .expectBodyList(new ParameterizedTypeReference&lt;QueueMessage&gt;() {\n                })\n                .returnResult()\n                .getResponseBody();\n\n        QueueMessage actualMessage = listMessages.stream()\n                        .filter(m -&gt; m.getTitle().equals(message.title()))\n                        .findFirst()\n                        .orElseThrow();\n\n        assertThat(actualMessage.getTitle()).isEqualTo(message.title());\n        assertThat(actualMessage.getDescription()).isEqualTo(message.description());\n    }\n}\n</code></pre>\n<p>When I run both the test separately, they work fine as I get a pass, but when I run all the tests, then in the second test shouldGiveMessageWhenStoredMessageInDBThroughRabbitMQ(), I get listMessage as null.</p>\n<p>I am not sure why I am getting this behaviour and how can I fix it?</p>\n"},{"tags":["java","spring-data-jpa","jpql","spring-boot-3"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691478946,"post_id":76857226,"comment_id":135493307,"body_markdown":"Can you show your `Object`? I assume you are not referring to `java.lang.Object` but something else you just called `Object` in your question for demonstration. Maybe try removing the brackets around `:referenceNumbers`.","body":"Can you show your <code>Object</code>? I assume you are not referring to <code>java.lang.Object</code> but something else you just called <code>Object</code> in your question for demonstration. Maybe try removing the brackets around <code>:referenceNumbers</code>."},{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691480087,"post_id":76857226,"comment_id":135493500,"body_markdown":"It doesn&#39;t compile without    &#39;:&#39;","body":"It doesn&#39;t compile without    &#39;:&#39;"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691480322,"post_id":76857226,"comment_id":135493547,"body_markdown":"I am not talking about the colon but the parenthesis around it.","body":"I am not talking about the colon but the parenthesis around it."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691480447,"post_id":76857226,"comment_id":135493581,"body_markdown":"Does it work if you don&#39;t have the `IS NULL` check? Does that effect the exception?","body":"Does it work if you don&#39;t have the <code>IS NULL</code> check? Does that effect the exception?"},{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691481636,"post_id":76857226,"comment_id":135493818,"body_markdown":"IN (:referenceNumbers) - &gt; IN :referenceNumbers doesn&#39;t make any difference but \nwithout  IS NULL it&#39;s working :)","body":"IN (:referenceNumbers) - &gt; IN :referenceNumbers doesn&#39;t make any difference but  without  IS NULL it&#39;s working :)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691481831,"post_id":76857226,"comment_id":135493877,"body_markdown":"Does the exception also occur with the `IS NULL` but without the `IN`?","body":"Does the exception also occur with the <code>IS NULL</code> but without the <code>IN</code>?"}],"answers":[{"comments":[{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691490977,"post_id":76857629,"comment_id":135495722,"body_markdown":"This solution will work, but in some queries in a code I have 3 lines like this eg: \n\n(:referenceNumbers1) IS NULL\nOR o.referenceNumber1 IN (:referenceNumbers1)  AND\n (:referenceNumbers2) IS NULL\n        OR o.referenceNumber2 IN (:referenceNumbers2) AND\n(:referenceNumbers3) IS NULL\n        OR o.referenceNumber3 IN (:referenceNumbers3),\n\nif solution won&#39;t work well here \n\n but at least I know that is null is causing this problem","body":"This solution will work, but in some queries in a code I have 3 lines like this eg:   (:referenceNumbers1) IS NULL OR o.referenceNumber1 IN (:referenceNumbers1)  AND  (:referenceNumbers2) IS NULL         OR o.referenceNumber2 IN (:referenceNumbers2) AND (:referenceNumbers3) IS NULL         OR o.referenceNumber3 IN (:referenceNumbers3),  if solution won&#39;t work well here    but at least I know that is null is causing this problem"},{"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"score":0,"creation_date":1691492102,"post_id":76857629,"comment_id":135495943,"body_markdown":"`&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers) )&quot; `\n\nthis approach solved my problem !!!  ;)","body":"<code>&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers) )&quot; </code>  this approach solved my problem !!!  ;)"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493592,"creation_date":1691482145,"answer_id":76857629,"question_id":76857226,"body_markdown":"It seems like the `(:referenceNumbers) IS NULL` is the problem.\r\nYou can split the query method in two methods, one with custom logic for handling that:\r\n\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    if(referenceNumbers==null){\r\n        return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\r\n    }\r\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\r\n}\r\n```\r\n\r\nor use two (overloaded) `default` methods:\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\r\n}\r\n\r\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Iterable&lt;Long&gt; systemIds,Pageable pageable){\r\n    return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\r\n}\r\n```\r\nand always call the corresponding default method instead of using a `null` argument.\r\nAs [mentioned by the OP in the comments](https://stackoverflow.com/questions/76857226/unknown-wrap-conversion-requested-java-util-immutablecollectionsset12-to-java/76857629?noredirect=1#comment135495943_76857629), it is also possible like this:\r\n```java\r\n@Query(&quot;SELECT o FROM Storage o WHERE o.status = &#39;SUCCESS&#39; &quot; +\r\n&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\r\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable);\r\n```","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>It seems like the <code>(:referenceNumbers) IS NULL</code> is the problem.\nYou can split the query method in two methods, one with custom logic for handling that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    if(referenceNumbers==null){\n        return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\n    }\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\n}\n</code></pre>\n<p>or use two (overloaded) <code>default</code> methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (:ignoreReferenceNumbers OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObjectInternal(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, boolean ignoreReferenceNumbers, Iterable&lt;Long&gt; systemIdsPageable pageable);\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    return findObjectInternal(filter, referenceNumbers, false, systemIds, pageable);\n}\n\ndefault Page&lt;Storage&gt; findObject(ObjectFilter filter, Iterable&lt;Long&gt; systemIds,Pageable pageable){\n    return findObjectInternal(filter, Collections.emptyList(), true, systemIds, pageable);\n}\n</code></pre>\n<p>and always call the corresponding default method instead of using a <code>null</code> argument.\nAs <a href=\"https://stackoverflow.com/questions/76857226/unknown-wrap-conversion-requested-java-util-immutablecollectionsset12-to-java/76857629?noredirect=1#comment135495943_76857629\">mentioned by the OP in the comments</a>, it is also possible like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT o FROM Storage o WHERE o.status = 'SUCCESS' &quot; +\n&quot; AND (coalesce(:#{#referenceNumbers}, null) IS NULL OR o.referenceNumber IN (:referenceNumbers)) &quot; +&quot;...&quot;)\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds,Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562628,"creation_date":1695191326,"answer_id":77139804,"question_id":76857226,"body_markdown":"I faced this issue too, but I did an in-depth check and this error triggers because when for example `:listName` is `null`, Spring JPA `@Query` detects this and automatically converts that parameter into `String`.\r\n\r\nTo prevent that happening i have used this approach like example below using `Coalesce`: \r\n\r\n    select u from product u where  (Coalesce(:listProductName) is null or u.productName in :listProductName)\r\n\r\nHopefully, this approach can helpful.","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>I faced this issue too, but I did an in-depth check and this error triggers because when for example <code>:listName</code> is <code>null</code>, Spring JPA <code>@Query</code> detects this and automatically converts that parameter into <code>String</code>.</p>\n<p>To prevent that happening i have used this approach like example below using <code>Coalesce</code>:</p>\n<pre><code>select u from product u where  (Coalesce(:listProductName) is null or u.productName in :listProductName)\n</code></pre>\n<p>Hopefully, this approach can helpful.</p>\n"}],"owner":{"account_id":28626192,"reputation":1,"user_id":21918139,"display_name":"Jakub K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695562628,"creation_date":1691478736,"question_id":76857226,"body_markdown":"After migration from spring-data-jpa 2.7.1 to 3.1.2 (SpringBoot 3.1.2 migration) in method:\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n    SELECT o\r\n    FROM Storage o\r\n    WHERE o.status = &#39;SUCCESS&#39;\r\n    AND (\r\n        (:referenceNumbers) IS NULL\r\n        OR o.referenceNumber IN (:referenceNumbers)\r\n    )\r\n    ...\r\n&quot;&quot;&quot;)\r\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds, Pageable pageable);\r\n```\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@EqualsAndHashCode\r\n@Accessors(chain = true)\r\nclass Storage {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String referenceNumber;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Status status;\r\n}\r\n```\r\n\r\nI&#39;m getting: \r\n\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.**ImmutableCollections$Set12 to java.lang.String :** `org.hibernate.type.descriptor.java.StringJavaType` (java.lang.String)\r\n\r\n\r\nSeems like `IN` method is not able to handle Collection anymore \r\n\r\nI was trying to find documentation for JPQL `IN` method but could not find anything relevant.\r\n\r\nFor Spring Data JPA 2.7.1, this method was working perfectly fine.\r\n\r\nI tried to find documentation for the `IN` method for Spring Data JPA 3.1.2, because I have many similar methods in project and my app might be working with many databases (PostgreSQL, Oracle).\r\n","title":"Unknown wrap conversion requested: java.util.ImmutableCollections$Set12 to java.lang.String","body":"<p>After migration from spring-data-jpa 2.7.1 to 3.1.2 (SpringBoot 3.1.2 migration) in method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n    SELECT o\n    FROM Storage o\n    WHERE o.status = 'SUCCESS'\n    AND (\n        (:referenceNumbers) IS NULL\n        OR o.referenceNumber IN (:referenceNumbers)\n    )\n    ...\n&quot;&quot;&quot;)\nPage&lt;Storage&gt; findObject(ObjectFilter filter, Set&lt;String&gt; referenceNumbers, Iterable&lt;Long&gt; systemIds, Pageable pageable);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\n@EqualsAndHashCode\n@Accessors(chain = true)\nclass Storage {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String referenceNumber;\n\n    @Enumerated(EnumType.STRING)\n    private Status status;\n}\n</code></pre>\n<p>I'm getting:</p>\n<blockquote>\n<p>org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.<strong>ImmutableCollections$Set12 to java.lang.String :</strong> <code>org.hibernate.type.descriptor.java.StringJavaType</code> (java.lang.String)</p>\n</blockquote>\n<p>Seems like <code>IN</code> method is not able to handle Collection anymore</p>\n<p>I was trying to find documentation for JPQL <code>IN</code> method but could not find anything relevant.</p>\n<p>For Spring Data JPA 2.7.1, this method was working perfectly fine.</p>\n<p>I tried to find documentation for the <code>IN</code> method for Spring Data JPA 3.1.2, because I have many similar methods in project and my app might be working with many databases (PostgreSQL, Oracle).</p>\n"},{"tags":["java","eclipse","maven-2","osgi","bundle"],"comments":[{"owner":{"account_id":6017,"reputation":12510,"user_id":9950,"accept_rate":67,"display_name":"Peter Kahn"},"score":1,"creation_date":1341338512,"post_id":1084866,"comment_id":14903154,"body_markdown":"Important safety tip. Maven command line detects cycles within one reactor. If the cycle would only be exposed by activating a profile then your command line build will not report an error while your eclipse build may. If you try to debug this be sure to activate all the profiles to include all your modules (e.g., mvn -Pcore,buildtools dependency:tree) otherwise you may miss the problem.","body":"Important safety tip. Maven command line detects cycles within one reactor. If the cycle would only be exposed by activating a profile then your command line build will not report an error while your eclipse build may. If you try to debug this be sure to activate all the profiles to include all your modules (e.g., mvn -Pcore,buildtools dependency:tree) otherwise you may miss the problem."},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":0,"creation_date":1578181995,"post_id":1084866,"comment_id":105356688,"body_markdown":"Links are broken (and they were both the same anyway).","body":"Links are broken (and they were both the same anyway)."}],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246879884,"creation_date":1246830943,"answer_id":1084902,"question_id":1084866,"body_markdown":"When I&#39;ve had these problems it always has been a true cycle in the dependencies expressed in Manifest.mf\r\n\r\nSo open the manifest of the project in question, on the Dependencies Tab, look at the &quot;Required Plugins&quot; entry. Then follow from there to the next project(s), and repeat eventually the cycle will become clear.\r\n\r\nYou can simpify this task somewhat by using the Dependency Analysis links in the bottom right corner of the  Dependencies Tab, this has cycle detection and easier navigation depdendencies.\r\n\r\nI also don&#39;t know why Maven is more tolerant,","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>When I've had these problems it always has been a true cycle in the dependencies expressed in Manifest.mf</p>\n\n<p>So open the manifest of the project in question, on the Dependencies Tab, look at the \"Required Plugins\" entry. Then follow from there to the next project(s), and repeat eventually the cycle will become clear.</p>\n\n<p>You can simpify this task somewhat by using the Dependency Analysis links in the bottom right corner of the  Dependencies Tab, this has cycle detection and easier navigation depdendencies.</p>\n\n<p>I also don't know why Maven is more tolerant,</p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246911441,"creation_date":1246911441,"answer_id":1089021,"question_id":1084866,"body_markdown":"Maven *will* fail the build if it detects a cycle, as the dependencies must be a tree. \r\n\r\nYou may find that you have additional declarations in the manifest.mf over those defined in the pom.xml. any extra declaration could introduce a cycle that wouldn&#39;t be apparent to Maven. ","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Maven <em>will</em> fail the build if it detects a cycle, as the dependencies must be a tree. </p>\n\n<p>You may find that you have additional declarations in the manifest.mf over those defined in the pom.xml. any extra declaration could introduce a cycle that wouldn't be apparent to Maven. </p>\n"},{"comments":[{"owner":{"account_id":1085180,"reputation":34239,"user_id":1081043,"accept_rate":72,"display_name":"wisbucky"},"score":0,"creation_date":1539043310,"post_id":1091939,"comment_id":92349181,"body_markdown":"Thanks for the tip about Eclipse&#39;s manifest editor &quot;Dependency Analysis &gt; Look for Cycles&quot; feature. It did actually show the cycle (but only in one of the packages in the cycle).","body":"Thanks for the tip about Eclipse&#39;s manifest editor &quot;Dependency Analysis &gt; Look for Cycles&quot; feature. It did actually show the cycle (but only in one of the packages in the cycle)."}],"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246968385,"creation_date":1246968385,"answer_id":1091939,"question_id":1084866,"body_markdown":"In simple terms, a cycle is when bundle A depends on bundle B which depends on bundle A.  If this is source code, then there&#39;s no way of building the bundles seperately in one pass.\r\n\r\nSince the problem only shows in Eclipse, it may be a binary circular dependency as opposed \r\nto a source code circular dependency.\r\n\r\nThere is support for binary cycles in recent versions of Eclipse: [Eclipsesource Blog][1]\r\n\r\nIf the cycle is in your code, then I suggest refactoring the code by breaking out some of the code to a 3rd bundle to remove the circular dependency.\r\n\r\nAnd watch out if you are using OSGi fragments (a common pattern for unit testing) as it is very easy to introduce cycles.\r\n\r\nEclipse&#39;s manifest editor does have functionality on the &quot;Dependencies&quot; tab for looking for cycles (you need to click on &quot;Dependency Analysis&quot;), but I&#39;ve never seen it show a cycle even when Eclipse has a big red X telling me there&#39;s a cycle!\r\n\r\n\r\n  [1]: http://eclipsesource.com/blogs/2008/10/28/tip-pde-build-and-binary-cycles/","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>In simple terms, a cycle is when bundle A depends on bundle B which depends on bundle A.  If this is source code, then there's no way of building the bundles seperately in one pass.</p>\n\n<p>Since the problem only shows in Eclipse, it may be a binary circular dependency as opposed \nto a source code circular dependency.</p>\n\n<p>There is support for binary cycles in recent versions of Eclipse: <a href=\"http://eclipsesource.com/blogs/2008/10/28/tip-pde-build-and-binary-cycles/\" rel=\"nofollow noreferrer\">Eclipsesource Blog</a></p>\n\n<p>If the cycle is in your code, then I suggest refactoring the code by breaking out some of the code to a 3rd bundle to remove the circular dependency.</p>\n\n<p>And watch out if you are using OSGi fragments (a common pattern for unit testing) as it is very easy to introduce cycles.</p>\n\n<p>Eclipse's manifest editor does have functionality on the \"Dependencies\" tab for looking for cycles (you need to click on \"Dependency Analysis\"), but I've never seen it show a cycle even when Eclipse has a big red X telling me there's a cycle!</p>\n"},{"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1248731597,"post_id":1190748,"comment_id":1013178,"body_markdown":"+1 for mentioning the Eclipse problems with .project files.. Sometimes the only solution is throwing away everything related to Eclipse and let it figure it out from the pom again..","body":"+1 for mentioning the Eclipse problems with .project files.. Sometimes the only solution is throwing away everything related to Eclipse and let it figure it out from the pom again.."}],"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248730188,"creation_date":1248730188,"answer_id":1190748,"question_id":1084866,"body_markdown":"As well as the Require-Bundle form of dependency management (most similar to Maven&#39;s pom dependencies), it&#39;s also possible to have Import-Package dependencies. It&#39;s much easier to introduce circular dependencies with Import-Package than Require-Bundle, but YMMV.\r\n\r\nAlso, Eclipse projects have a &#39;project references&#39; which says which other projects it depends on. Eclipse uses this at a high level to decide what projects to build, and in which order, so it&#39;s quite possible that your Manifest.MF lists everything correctly but the project references are out of whack. Right click on a project and then go to properties - you&#39;ll see which projects you depend on. If you&#39;re a text kind of person, open up the .project files and see which ones you depend on there - it&#39;s probable that a project cyclic link is being defined at that level instead (often caused when you have an A-B dependency and then flipped from B-A but without updating the .project references).","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>As well as the Require-Bundle form of dependency management (most similar to Maven's pom dependencies), it's also possible to have Import-Package dependencies. It's much easier to introduce circular dependencies with Import-Package than Require-Bundle, but YMMV.</p>\n\n<p>Also, Eclipse projects have a 'project references' which says which other projects it depends on. Eclipse uses this at a high level to decide what projects to build, and in which order, so it's quite possible that your Manifest.MF lists everything correctly but the project references are out of whack. Right click on a project and then go to properties - you'll see which projects you depend on. If you're a text kind of person, open up the .project files and see which ones you depend on there - it's probable that a project cyclic link is being defined at that level instead (often caused when you have an A-B dependency and then flipped from B-A but without updating the .project references).</p>\n"},{"tags":[],"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284479459,"creation_date":1284479459,"answer_id":3710545,"question_id":1084866,"body_markdown":"I faced similar problem a while ago and decided to write Eclipse plug-in that shows complete build path dependency tree of a Java project (although not in graphic mode - result is written into file). The plug-in&#39;s sources are here http://github.com/PetrGlad/dependency-tree","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I faced similar problem a while ago and decided to write Eclipse plug-in that shows complete build path dependency tree of a Java project (although not in graphic mode - result is written into file). The plug-in's sources are here <a href=\"http://github.com/PetrGlad/dependency-tree\" rel=\"nofollow noreferrer\">http://github.com/PetrGlad/dependency-tree</a></p>\n"},{"comments":[{"owner":{"account_id":186178,"reputation":6995,"user_id":423373,"accept_rate":83,"display_name":"Sanjeev Kumar Dangi"},"score":4,"creation_date":1308564387,"post_id":4521334,"comment_id":7516449,"body_markdown":"But if there is a case that P1 references,P2 references P1. For eg. P1 contains DAO layer code and P2 contains utilities. Utilities sometimes use DAO layer to get configuration properties from DB table and DAO layer uses the utilities. So how to resolve this problem?","body":"But if there is a case that P1 references,P2 references P1. For eg. P1 contains DAO layer code and P2 contains utilities. Utilities sometimes use DAO layer to get configuration properties from DB table and DAO layer uses the utilities. So how to resolve this problem?"},{"owner":{"account_id":1390640,"reputation":799,"user_id":1321565,"accept_rate":67,"display_name":"Arundas K V"},"score":0,"creation_date":1400838885,"post_id":4521334,"comment_id":36657655,"body_markdown":"me too have the exactly same problem @Sanjeev. Have you got any solution, please share...","body":"me too have the exactly same problem @Sanjeev. Have you got any solution, please share..."},{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1460382825,"post_id":4521334,"comment_id":60702148,"body_markdown":"@SanjeevKumarDangi maybe put the utilities specific to the DAO in the DAO project.","body":"@SanjeevKumarDangi maybe put the utilities specific to the DAO in the DAO project."}],"tags":[],"owner":{"account_id":691308,"reputation":151,"user_id":552676,"display_name":"Jack"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1460385294,"creation_date":1293128129,"answer_id":4521334,"question_id":1084866,"body_markdown":"When we have multiple projects in workspace, we have to set the references between the projects, not among the projects. If P1 references P2, P2 references P3, and P3 reference back to P1. That will cause a cycle. \r\n\r\nThe Solution is to draw a Diagram of the reference between projects in workspace. Check the Java Build Path of each of the projects to see the Tab of the Projects window. Take out the Project that are refering back to the main project, e.g. P3 references P1, in this example above.\r\n\r\nDetailed operation is to select P3 project in RAD OR eclipse, right click on the project and choose the properties option, it brings up a new window for properties of P3. Click on the &quot;Java Build Path&quot; section, Choose the &quot;Projects&quot; option Tab. You can see the P3 has referenced P1 in the field. Select the P1 reference, click &quot;Remove&quot; button on the right side of the window. Then, click okay. The IDE will start to reset the path automatically.\r\n\r\nDone.\r\n\r\nKeep find all of the mis-referenced reference in every each projects until you have the right references to each of the projects in your Diagram. Good Luck!\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>When we have multiple projects in workspace, we have to set the references between the projects, not among the projects. If P1 references P2, P2 references P3, and P3 reference back to P1. That will cause a cycle. </p>\n\n<p>The Solution is to draw a Diagram of the reference between projects in workspace. Check the Java Build Path of each of the projects to see the Tab of the Projects window. Take out the Project that are refering back to the main project, e.g. P3 references P1, in this example above.</p>\n\n<p>Detailed operation is to select P3 project in RAD OR eclipse, right click on the project and choose the properties option, it brings up a new window for properties of P3. Click on the \"Java Build Path\" section, Choose the \"Projects\" option Tab. You can see the P3 has referenced P1 in the field. Select the P1 reference, click \"Remove\" button on the right side of the window. Then, click okay. The IDE will start to reset the path automatically.</p>\n\n<p>Done.</p>\n\n<p>Keep find all of the mis-referenced reference in every each projects until you have the right references to each of the projects in your Diagram. Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":135100,"reputation":91,"user_id":337695,"display_name":"garrett.patterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1326484411,"creation_date":1326484411,"answer_id":8856446,"question_id":1084866,"body_markdown":"I had this due to one project referencing another.\r\n\r\n1. Remove reference from project A to project B\r\n2. Try running stuff, it will break\r\n3. Re-add reference\r\n4. Clean/Clean and build\r\n5. Back in business","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I had this due to one project referencing another.</p>\n\n<ol>\n<li>Remove reference from project A to project B</li>\n<li>Try running stuff, it will break</li>\n<li>Re-add reference</li>\n<li>Clean/Clean and build</li>\n<li>Back in business</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":1,"creation_date":1382944985,"post_id":13653649,"comment_id":29141821,"body_markdown":"I would highly prefer Project References since it allows me to jump between source codes of different projects (Using Class Libraries had me end up in binaries, and then I had to manually go looking for the corresponding source files - which was a headache). However, in this situation of a cycle dependency, I could only solve it by Having A refer to B as Project Reference, and B refer back to A as Class libraries. A little sacrifice I had to do to solve the cycle dependency problem.","body":"I would highly prefer Project References since it allows me to jump between source codes of different projects (Using Class Libraries had me end up in binaries, and then I had to manually go looking for the corresponding source files - which was a headache). However, in this situation of a cycle dependency, I could only solve it by Having A refer to B as Project Reference, and B refer back to A as Class libraries. A little sacrifice I had to do to solve the cycle dependency problem."}],"tags":[],"owner":{"account_id":1501338,"reputation":63,"user_id":1405870,"display_name":"Ryan Zoerner"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1386111852,"creation_date":1354311892,"answer_id":13653649,"question_id":1084866,"body_markdown":"### Problem\r\nI have an old project that tests two different implementations of a Dictionary interface. One is an unsorted ArrayList and the other is a HashTable. The two implementations are timed, so that a comparison can be made. You can choose which data structure from the command line args. Now.. I have another data structure which is a tree structure. I want to test the time of it, in order to compare it to the HashTable. So.. In the new dataStructure project, I need to implement the Dictionary interface. In the Dictionary project, I need to be able to add code specific to my new dataStructure project. There is a circular dependency. This means that when Eclipse goes to find out which projects are dependent on project A, then it finds project B. When it needs to find out the sub-dependencies of the dependent projects, it finds A, which is again, dependent on B. There is no tree, rather a graph with a cycle.\r\n \r\n\r\n### Solution\r\nWhen you go to configure your build path, instead of entering dependent projects (&#39;projects&#39; tab), go to the Libraries tab. Click the &#39;Add Class Folder...&#39; button (assuming that your referenced projects are in your workspace), and select the class folder. Mine is &lt;projectName&gt;\\target. Select this as a library folder. Do this in project A, to reference project B. Do this in project B to reference project A. Make sure that you don&#39;t reference &lt;projectName&gt;\\target\\projectNameFolder or you won&#39;t have a matching import. Now you won&#39;t have to remove a dependency and then reset it, in order to force a rebuild. \r\n \r\n \r\nUse class libraries instead of project references.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<h3>Problem</h3>\n\n<p>I have an old project that tests two different implementations of a Dictionary interface. One is an unsorted ArrayList and the other is a HashTable. The two implementations are timed, so that a comparison can be made. You can choose which data structure from the command line args. Now.. I have another data structure which is a tree structure. I want to test the time of it, in order to compare it to the HashTable. So.. In the new dataStructure project, I need to implement the Dictionary interface. In the Dictionary project, I need to be able to add code specific to my new dataStructure project. There is a circular dependency. This means that when Eclipse goes to find out which projects are dependent on project A, then it finds project B. When it needs to find out the sub-dependencies of the dependent projects, it finds A, which is again, dependent on B. There is no tree, rather a graph with a cycle.</p>\n\n<h3>Solution</h3>\n\n<p>When you go to configure your build path, instead of entering dependent projects ('projects' tab), go to the Libraries tab. Click the 'Add Class Folder...' button (assuming that your referenced projects are in your workspace), and select the class folder. Mine is \\target. Select this as a library folder. Do this in project A, to reference project B. Do this in project B to reference project A. Make sure that you don't reference \\target\\projectNameFolder or you won't have a matching import. Now you won't have to remove a dependency and then reset it, in order to force a rebuild. </p>\n\n<p>Use class libraries instead of project references.</p>\n"},{"comments":[{"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"score":6,"creation_date":1444625349,"post_id":17650402,"comment_id":53964553,"body_markdown":"this answer is correct since open source projects using gradle have circular dependency and they build ok on gradle. eclipse should not cry about this as a error","body":"this answer is correct since open source projects using gradle have circular dependency and they build ok on gradle. eclipse should not cry about this as a error"},{"owner":{"account_id":3117062,"reputation":140,"user_id":2637599,"display_name":"Arvindh Mani"},"score":0,"creation_date":1479252209,"post_id":17650402,"comment_id":68477069,"body_markdown":"The errors went up from 6 to 2000+ when I did this.","body":"The errors went up from 6 to 2000+ when I did this."},{"owner":{"display_name":"user7485924"},"score":0,"creation_date":1517278202,"post_id":17650402,"comment_id":84020492,"body_markdown":"How to permanently remove this warning. It causes some of my problems like if there is a unused import.","body":"How to permanently remove this warning. It causes some of my problems like if there is a unused import."},{"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"score":1,"creation_date":1519369112,"post_id":17650402,"comment_id":84892020,"body_markdown":"In my case too, errors went from 15 to 2000+ when I did this change. Any other solution?","body":"In my case too, errors went from 15 to 2000+ when I did this change. Any other solution?"},{"owner":{"account_id":7081530,"reputation":159,"user_id":5419780,"display_name":"Manish"},"score":2,"creation_date":1563990849,"post_id":17650402,"comment_id":100887392,"body_markdown":"I think this is not an appropriate solution as we should always resolve the cyclic dependencies.","body":"I think this is not an appropriate solution as we should always resolve the cyclic dependencies."}],"tags":[],"owner":{"account_id":3047619,"reputation":1071,"user_id":2582855,"display_name":"user2582855"},"comment_count":5,"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1456500740,"creation_date":1373878924,"answer_id":17650402,"question_id":1084866,"body_markdown":"Mark circular dependencies as &quot;Warning&quot; in Eclipse tool to avoid &quot;A CYCLE WAS DETECTED IN THE BUILD PATH&quot; error.\r\n\r\nIn Eclipse go to:\r\n\r\nWindows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Circular Dependencies\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Mark circular dependencies as \"Warning\" in Eclipse tool to avoid \"A CYCLE WAS DETECTED IN THE BUILD PATH\" error.</p>\n\n<p>In Eclipse go to:</p>\n\n<p>Windows -> Preferences -> Java-> Compiler -> Building -> Circular Dependencies</p>\n"},{"tags":[],"owner":{"account_id":3099162,"reputation":1,"user_id":2623740,"display_name":"sjchoudary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374860009,"creation_date":1374860009,"answer_id":17887536,"question_id":1084866,"body_markdown":"Try to delete references and add it back, some times eclipse behave weird because until and unless you fix that error it wont allow you refresh. so try to delete all dependencies project and add it back\r\nClean and build ","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Try to delete references and add it back, some times eclipse behave weird because until and unless you fix that error it wont allow you refresh. so try to delete all dependencies project and add it back\nClean and build </p>\n"},{"tags":[],"owner":{"account_id":3910216,"reputation":1,"user_id":3235783,"display_name":"user3235783"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390672424,"creation_date":1390672424,"answer_id":21354092,"question_id":1084866,"body_markdown":"Just restarting Eclipse fixed the issue in my project","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Just restarting Eclipse fixed the issue in my project</p>\n"},{"tags":[],"owner":{"account_id":1686527,"reputation":14163,"user_id":1549700,"accept_rate":84,"display_name":"Machado"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415635056,"creation_date":1415635056,"answer_id":26847738,"question_id":1084866,"body_markdown":"Although &quot;Mark Circular Dependencies&quot; enables you to compile the code, it may lead to a slower environment and future issues.\r\n\r\nThat&#39;s happening because at some point Eclipse has lost it&#39;s directions on your build path.\r\n\r\n1 - Remove the project and it&#39;s references from the workspace.\r\n2 - Import it back again.\r\n3 - Check the references.\r\n\r\nIt is the best solution.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Although \"Mark Circular Dependencies\" enables you to compile the code, it may lead to a slower environment and future issues.</p>\n\n<p>That's happening because at some point Eclipse has lost it's directions on your build path.</p>\n\n<p>1 - Remove the project and it's references from the workspace.\n2 - Import it back again.\n3 - Check the references.</p>\n\n<p>It is the best solution.</p>\n"},{"tags":[],"owner":{"account_id":2887765,"reputation":913,"user_id":2477203,"accept_rate":17,"display_name":"MansoorShaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491307077,"creation_date":1491307077,"answer_id":43206591,"question_id":1084866,"body_markdown":"I faced this same problem today. The error was apt. By mistake, I added cyclic dependency. A was dependent on B. In my case, by mistake, apart from adding B as dependent to A. I added A as dependent to B too. It was a foolish mistake.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I faced this same problem today. The error was apt. By mistake, I added cyclic dependency. A was dependent on B. In my case, by mistake, apart from adding B as dependent to A. I added A as dependent to B too. It was a foolish mistake.</p>\n"},{"comments":[{"owner":{"account_id":6619736,"reputation":3818,"user_id":5111870,"accept_rate":57,"display_name":"kk."},"score":2,"creation_date":1496746461,"post_id":44388007,"comment_id":75775687,"body_markdown":"This is not a solution to the problem. Maven is complaining about circular dependency of the artifacts. It will create the problems.","body":"This is not a solution to the problem. Maven is complaining about circular dependency of the artifacts. It will create the problems."}],"tags":[],"owner":{"account_id":11055725,"reputation":1,"user_id":8118600,"display_name":"Rain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496803058,"creation_date":1496746263,"answer_id":44388007,"question_id":1084866,"body_markdown":"I have this problem,too.I just disable Workspace resolution,and then all was right.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mdFIw.png","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I have this problem,too.I just disable Workspace resolution,and then all was right.<a href=\"https://i.stack.imgur.com/mdFIw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511538790,"creation_date":1511538790,"answer_id":47476596,"question_id":1084866,"body_markdown":"This could happen when you have several projects that include each other in JAR form.\r\nWhat I did was remove all libraries and project dependencies on buildpath, for all projects. Then, one at a time, I added the project dependencies on the Project Tab, but only the ones needed.\r\nThis is because you can add a project which in turn has itself referenced or another project which is referencing some other project with this self-referencing issue.\r\n\r\nThis resolved my issue.","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>This could happen when you have several projects that include each other in JAR form.\nWhat I did was remove all libraries and project dependencies on buildpath, for all projects. Then, one at a time, I added the project dependencies on the Project Tab, but only the ones needed.\nThis is because you can add a project which in turn has itself referenced or another project which is referencing some other project with this self-referencing issue.</p>\n\n<p>This resolved my issue.</p>\n"},{"tags":[],"owner":{"account_id":11331381,"reputation":176,"user_id":8308815,"display_name":"Sambuccid"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553232891,"creation_date":1527847426,"answer_id":50640983,"question_id":1084866,"body_markdown":"Sometimes marking as Warning \r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Circular Dependencies\r\n\r\ndoesn&#39;t solve the problem because eclipse don&#39;t compile the projects that have another project in the dependencies that isn&#39;t compiled.\r\n\r\nSo to solve this problem you can try forcing Eclipse to compile every class that it be able to.\r\n\r\nTo make this just:\r\n\r\n1. Deselect\r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Abort build when build path error occur\r\n\r\n2. Clean and rebuild all project\r\n\r\n&gt; Project -&gt; Clean...\r\n\r\n3. Reselect:\r\n\r\n&gt; Windows -&gt; Preferences -&gt; Java-&gt; Compiler -&gt; Building -&gt; Abort build when build path error occur\r\n\r\nIf you have the Automatic Build selected then you will not need to do this every time that you change the code\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Sometimes marking as Warning </p>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Circular Dependencies</p>\n</blockquote>\n\n<p>doesn't solve the problem because eclipse don't compile the projects that have another project in the dependencies that isn't compiled.</p>\n\n<p>So to solve this problem you can try forcing Eclipse to compile every class that it be able to.</p>\n\n<p>To make this just:</p>\n\n<ol>\n<li>Deselect</li>\n</ol>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Abort build when build path error occur</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Clean and rebuild all project</li>\n</ol>\n\n<blockquote>\n  <p>Project -> Clean...</p>\n</blockquote>\n\n<ol start=\"3\">\n<li>Reselect:</li>\n</ol>\n\n<blockquote>\n  <p>Windows -> Preferences -> Java-> Compiler -> Building -> Abort build when build path error occur</p>\n</blockquote>\n\n<p>If you have the Automatic Build selected then you will not need to do this every time that you change the code</p>\n"},{"tags":[],"owner":{"account_id":263212,"reputation":24964,"user_id":548637,"accept_rate":75,"display_name":"vogella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585220175,"creation_date":1585220175,"answer_id":60865656,"question_id":1084866,"body_markdown":"Eclipse had a bug which reported more cycles than necessary. This has been fixed with the 2019-12 release. See https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>Eclipse had a bug which reported more cycles than necessary. This has been fixed with the 2019-12 release. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=551105</a></p>\n"},{"tags":[],"owner":{"account_id":29508451,"reputation":1,"user_id":22614000,"display_name":"SaiKumar Meda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695562482,"creation_date":1695562482,"answer_id":77167315,"question_id":1084866,"body_markdown":"- Navigate to the &quot;Window&quot; menu &gt; Preferences &gt; Java &gt; Compiler &gt; Building &gt; Circular Dependencies.\r\n\r\n- Change the circular dependencies setting to &quot;Warning.&quot;\r\n\r\n- It will add circular dependencies to your project depending on the need change the setting.\r\n\r\n  Thank you\r\n\r\n","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<ul>\n<li><p>Navigate to the &quot;Window&quot; menu &gt; Preferences &gt; Java &gt; Compiler &gt; Building &gt; Circular Dependencies.</p>\n</li>\n<li><p>Change the circular dependencies setting to &quot;Warning.&quot;</p>\n</li>\n<li><p>It will add circular dependencies to your project depending on the need change the setting.</p>\n<p>Thank you</p>\n</li>\n</ul>\n"}],"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164419,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":18,"score":57,"last_activity_date":1695562482,"creation_date":1246829827,"question_id":1084866,"body_markdown":"I&#39;m in the process of converting my projects to OSGI bundles using maven and eclipse. Maven builds the stuff just fine, only I get the above error now within Eclipse. How can I find out which project causes this? Is there a special view or something? How can this happen, I would expect that maven can detect cyclic dependencies as well?\r\n\r\n**Update**\r\n\r\nOk, I found something \r\n&lt;a href=&quot;http://www.eclipsezone.com/eclipse/forums/t71727.html&quot;&gt;here&lt;/a&gt;\r\nand\r\n&lt;a href=&quot;http://www.eclipsezone.com/eclipse/forums/t71727.html&quot;&gt;here&lt;/a&gt;\r\n\r\nCould this be caused by the felix maven-bundle-plugin which does for each export also an import?","title":"A cycle was detected in the build path of project xxx - Build Path Problem","body":"<p>I'm in the process of converting my projects to OSGI bundles using maven and eclipse. Maven builds the stuff just fine, only I get the above error now within Eclipse. How can I find out which project causes this? Is there a special view or something? How can this happen, I would expect that maven can detect cyclic dependencies as well?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Ok, I found something \n<a href=\"http://www.eclipsezone.com/eclipse/forums/t71727.html\" rel=\"noreferrer\">here</a>\nand\n<a href=\"http://www.eclipsezone.com/eclipse/forums/t71727.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Could this be caused by the felix maven-bundle-plugin which does for each export also an import?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"score":1,"creation_date":1519110752,"post_id":48879578,"comment_id":84763281,"body_markdown":"yeah, I believe I can solve my problem by implementing  ConsumerAwareRebalanceListener.","body":"yeah, I believe I can solve my problem by implementing  ConsumerAwareRebalanceListener."},{"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"score":0,"creation_date":1606394932,"post_id":48879578,"comment_id":114954375,"body_markdown":"And how to do this with kafka streams? :))","body":"And how to do this with kafka streams? :))"}],"answers":[{"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536699801,"creation_date":1536699801,"answer_id":52284186,"question_id":48879578,"body_markdown":"Yes, you can do:\r\n\r\n    @Bean\r\n    public ConsumerAwareRebalanceListener rebalanceListener() {\r\n        return new ConsumerAwareRebalanceListener() { \r\n            @Override\r\n            public void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\r\n               // here partitions\r\n            }\r\n        };\r\n    }\r\n\r\nAnd then add it, for example, to ConcurrentKafkaListenerContainerFactory\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n     \r\n        ContainerProperties props = factory.getContainerProperties();\r\n        props.setConsumerRebalanceListener(rebalanceListener());\r\n\r\n        return factory;\r\n    }","title":"Spring Kafka get assigned partitions","body":"<p>Yes, you can do:</p>\n\n<pre><code>@Bean\npublic ConsumerAwareRebalanceListener rebalanceListener() {\n    return new ConsumerAwareRebalanceListener() { \n        @Override\n        public void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\n           // here partitions\n        }\n    };\n}\n</code></pre>\n\n<p>And then add it, for example, to ConcurrentKafkaListenerContainerFactory</p>\n\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n    ContainerProperties props = factory.getContainerProperties();\n    props.setConsumerRebalanceListener(rebalanceListener());\n\n    return factory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536820267,"creation_date":1536820267,"answer_id":52307808,"question_id":48879578,"body_markdown":"I did it in different way by using `KafkaListenerEndpointRegistry`\r\n\r\n    for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry.getListenerContainers()) {\r\n                List&lt;KafkaMessageListenerContainer&gt; containers = ((ConcurrentMessageListenerContainer) messageListenerContainer).getContainers();\r\n\r\n                List&lt;TopicPartition&gt; topicPartitions = (List&lt;TopicPartition&gt;) containers.stream().flatMap(kafkaMessageListenerContainer -&gt;\r\n                                kafkaMessageListenerContainer.getAssignedPartitions().stream()).collect(Collectors.toList());\r\n\r\n                partitions.addAll(topicPartitions.stream().map(TopicPartition::partition).collect(Collectors.toList()));\r\n    }","title":"Spring Kafka get assigned partitions","body":"<p>I did it in different way by using <code>KafkaListenerEndpointRegistry</code></p>\n\n<pre><code>for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry.getListenerContainers()) {\n            List&lt;KafkaMessageListenerContainer&gt; containers = ((ConcurrentMessageListenerContainer) messageListenerContainer).getContainers();\n\n            List&lt;TopicPartition&gt; topicPartitions = (List&lt;TopicPartition&gt;) containers.stream().flatMap(kafkaMessageListenerContainer -&gt;\n                            kafkaMessageListenerContainer.getAssignedPartitions().stream()).collect(Collectors.toList());\n\n            partitions.addAll(topicPartitions.stream().map(TopicPartition::partition).collect(Collectors.toList()));\n}\n</code></pre>\n"}],"owner":{"account_id":249943,"reputation":335,"user_id":526330,"accept_rate":80,"display_name":"Mario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4472,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695562039,"creation_date":1519110247,"question_id":48879578,"body_markdown":"I know I can find out from which partition record comes in, but I wonder is any way to dynamically get which partitions are assigned for consumers at specific moment? Maybe I need to implement some listener to detect and follow up partitions assignation info?\r\n\r\nI am using `spring-kafka 1.3.2` with `ConcurrentKafkaListenerContainerFactory` and `@KafkaListener`.","title":"Spring Kafka get assigned partitions","body":"<p>I know I can find out from which partition record comes in, but I wonder is any way to dynamically get which partitions are assigned for consumers at specific moment? Maybe I need to implement some listener to detect and follow up partitions assignation info?</p>\n\n<p>I am using <code>spring-kafka 1.3.2</code> with <code>ConcurrentKafkaListenerContainerFactory</code> and <code>@KafkaListener</code>.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1543502073,"creation_date":1543502073,"answer_id":53541369,"question_id":53538212,"body_markdown":"Consider to use this method on the `ConcurrentKafkaListenerContainerFactory`:\r\n\r\n    /**\r\n\t * Obtain the properties template for this factory - set properties as needed\r\n\t * and they will be copied to a final properties instance for the endpoint.\r\n\t * @return the properties.\r\n\t */\r\n\tpublic ContainerProperties getContainerProperties() {\r\n\r\nThis is where you can add your `ConsumerRebalanceListener`. You `@Autowired` an auto-configured `ConcurrentKafkaListenerContainerFactory` and perform the mentioned injection:\r\n\r\n    @Autowired\r\n    private ConcurrentKafkaListenerContainerFactory containerFactory;\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n        this.containerFactory.getContainerProperties()\r\n                .setConsumerRebalanceListener(myConsumerRebalanceListener());\r\n    }\r\n    \r\n    @Bean\r\n    public ConsumerRebalanceListener myConsumerRebalanceListener() {\r\n        return new ConsumerRebalanceListener() {\r\n            ...\r\n        };\r\n    }\r\n\r\n","title":"Adding ConsumerRebalanceListener to the ConcurrentKafkaListenerContainerFactory","body":"<p>Consider to use this method on the <code>ConcurrentKafkaListenerContainerFactory</code>:</p>\n\n<pre><code>/**\n * Obtain the properties template for this factory - set properties as needed\n * and they will be copied to a final properties instance for the endpoint.\n * @return the properties.\n */\npublic ContainerProperties getContainerProperties() {\n</code></pre>\n\n<p>This is where you can add your <code>ConsumerRebalanceListener</code>. You <code>@Autowired</code> an auto-configured <code>ConcurrentKafkaListenerContainerFactory</code> and perform the mentioned injection:</p>\n\n<pre><code>@Autowired\nprivate ConcurrentKafkaListenerContainerFactory containerFactory;\n\n@PostConstruct\npublic void init() {\n    this.containerFactory.getContainerProperties()\n            .setConsumerRebalanceListener(myConsumerRebalanceListener());\n}\n\n@Bean\npublic ConsumerRebalanceListener myConsumerRebalanceListener() {\n    return new ConsumerRebalanceListener() {\n        ...\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":971950,"reputation":83,"user_id":3779469,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2334,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53541369,"answer_count":1,"score":4,"last_activity_date":1695562024,"creation_date":1543491568,"question_id":53538212,"body_markdown":"In a Spring Boot application I&#39;m using a class annotated with @KafkaListener as a message listener. I want to add a ConsumerRebalanceLister to my application to manage cached data on a rebalance.\r\n\r\nHow do I add a ConsumerRebalanceListener to a ConcurrentKafkaListenerContainerFactory. The [documentation][1] says that it should be set on a ContainerProperties object. It&#39;s not clear how to access that object in order to set it. Additionally, it looks like the [ConcurrentKafkaListenerContainerFactory][2] throws away the rebalance listener since it creates a new ContainerProperties object when creating a listener container instance.\r\n\r\nI feel like I&#39;m missing something really obvious here, before [this commit][3] there was a method to simply set the rebalance listener directly on the ConcurrentKafkaListenerContainerFactory.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/htmlsingle/#rebalance-listeners\r\n  [2]: https://github.com/spring-projects/spring-kafka/blob/v2.1.10.RELEASE/spring-kafka/src/main/java/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.java\r\n  [3]: https://github.com/neilg/spring-kafka/commit/31541fe58e8b1265728301106027b250657aaeb2","title":"Adding ConsumerRebalanceListener to the ConcurrentKafkaListenerContainerFactory","body":"<p>In a Spring Boot application I'm using a class annotated with @KafkaListener as a message listener. I want to add a ConsumerRebalanceLister to my application to manage cached data on a rebalance.</p>\n\n<p>How do I add a ConsumerRebalanceListener to a ConcurrentKafkaListenerContainerFactory. The <a href=\"https://docs.spring.io/spring-kafka/reference/htmlsingle/#rebalance-listeners\" rel=\"nofollow noreferrer\">documentation</a> says that it should be set on a ContainerProperties object. It's not clear how to access that object in order to set it. Additionally, it looks like the <a href=\"https://github.com/spring-projects/spring-kafka/blob/v2.1.10.RELEASE/spring-kafka/src/main/java/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.java\" rel=\"nofollow noreferrer\">ConcurrentKafkaListenerContainerFactory</a> throws away the rebalance listener since it creates a new ContainerProperties object when creating a listener container instance.</p>\n\n<p>I feel like I'm missing something really obvious here, before <a href=\"https://github.com/neilg/spring-kafka/commit/31541fe58e8b1265728301106027b250657aaeb2\" rel=\"nofollow noreferrer\">this commit</a> there was a method to simply set the rebalance listener directly on the ConcurrentKafkaListenerContainerFactory.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695561792,"post_id":77164947,"comment_id":136038123,"body_markdown":"Please clarify &quot;other consumers&quot;. Are they all unique consumer groups? If so, you&#39;ll get messages 1-3 again as well, assuming auto.offset.reset=earliest","body":"Please clarify &quot;other consumers&quot;. Are they all unique consumer groups? If so, you&#39;ll get messages 1-3 again as well, assuming auto.offset.reset=earliest"},{"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"score":0,"creation_date":1695589686,"post_id":77164947,"comment_id":136041084,"body_markdown":"In theory I will have a many consumer part of the same consumer group.  Looking at this value I do have kafka.consumer.auto-offset-reset=earliest in my config.  But the important thing is that if other consumers are in the same group they will get the nacked messages and I won&#39;t get redelivery?","body":"In theory I will have a many consumer part of the same consumer group.  Looking at this value I do have kafka.consumer.auto-offset-reset=earliest in my config.  But the important thing is that if other consumers are in the same group they will get the nacked messages and I won&#39;t get redelivery?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695647838,"post_id":77164947,"comment_id":136048459,"body_markdown":"Consumers in the same group cannot be assigned the same partitions. Anything being acked/nacked is specific to one partition. If your consumer group rebalances, then `auto.offset.reset` property is used to determine offset position, and it defaults to end of every partition, maybe causing you to skip processing data previously sent... If you set to earliest, then you should expect it to reprocess nacked (aka uncommitted) offsets","body":"Consumers in the same group cannot be assigned the same partitions. Anything being acked/nacked is specific to one partition. If your consumer group rebalances, then <code>auto.offset.reset</code> property is used to determine offset position, and it defaults to end of every partition, maybe causing you to skip processing data previously sent... If you set to earliest, then you should expect it to reprocess nacked (aka uncommitted) offsets"}],"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695561733,"creation_date":1695503815,"question_id":77164947,"body_markdown":"I have a producer and a consumer.  I have the consumer set up to create threads for the first three messages and return an \r\n\r\n    acknowledge.nack(6000L);\r\n\r\nfor messages 4, 5, 6, 7, etc.  My understanding and observation is that those messages are redelivered.  My test system only has one consumer. \r\n\r\nMy question is pretty basic but foundational.  If I have other consumers will they get a chance to pick up the &#39;nacked&#39; messages or will it only be redelivered back to this exact consumer.  I apologize is this is obvious but I am completely new to this technology.","title":"Kafka nack() can another consumer pick it up or will it be returned to the same server?","body":"<p>I have a producer and a consumer.  I have the consumer set up to create threads for the first three messages and return an</p>\n<pre><code>acknowledge.nack(6000L);\n</code></pre>\n<p>for messages 4, 5, 6, 7, etc.  My understanding and observation is that those messages are redelivered.  My test system only has one consumer.</p>\n<p>My question is pretty basic but foundational.  If I have other consumers will they get a chance to pick up the 'nacked' messages or will it only be redelivered back to this exact consumer.  I apologize is this is obvious but I am completely new to this technology.</p>\n"},{"tags":["java","javascript","regex"],"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1309950993,"post_id":6595477,"comment_id":7781072,"body_markdown":"Not seeing much point to the first example, as it&#39;s equivalent to `[def]`. Am I missing something? The second one makes sense (and is cool).","body":"Not seeing much point to the first example, as it&#39;s equivalent to <code>[def]</code>. Am I missing something? The second one makes sense (and is cool)."},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":1,"creation_date":1309951317,"post_id":6595477,"comment_id":7781150,"body_markdown":"It wouldn&#39;t be much use anyway because JavaScript has limited shorthand character classes, and no Unicode support. I guess it *might* be useful for Unicode ranges, but it doesn&#39;t save much typing. What exactly do you need?","body":"It wouldn&#39;t be much use anyway because JavaScript has limited shorthand character classes, and no Unicode support. I guess it <i>might</i> be useful for Unicode ranges, but it doesn&#39;t save much typing. What exactly do you need?"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1309953314,"post_id":6595477,"comment_id":7781673,"body_markdown":"@Kobi: What do you mean &quot;no Unicode support&quot;? JavaScript uses Unicode natively (UTF-16, specifically) and supports Unicode escape sequences in regular expressions, including within character classes.","body":"@Kobi: What do you mean &quot;no Unicode support&quot;? JavaScript uses Unicode natively (UTF-16, specifically) and supports Unicode escape sequences in regular expressions, including within character classes."},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":1,"creation_date":1309953582,"post_id":6595477,"comment_id":7781749,"body_markdown":"@TJ - I meant JavaScript&#39;s regular expressions, not JavaScript as a whole. It can&#39;t make `&#39;&#39;.match(/\\w+/)` match (i.e. no `/u` flag), and doesn&#39;t have `\\p{L}` shorthand character classes. You can define them yourself, of course, but that isn&#39;t fun.","body":"@TJ - I meant JavaScript&#39;s regular expressions, not JavaScript as a whole. It can&#39;t make <code>&#39;&#39;.match(&#47;\\w+&#47;)</code> match (i.e. no <code>&#47;u</code> flag), and doesn&#39;t have <code>\\p{L}</code> shorthand character classes. You can define them yourself, of course, but that isn&#39;t fun."},{"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"score":0,"creation_date":1309958112,"post_id":6595477,"comment_id":7783202,"body_markdown":"@T.J.: I know what you mean about the first example - I guess they didn&#39;t want to distract us with usefulness?","body":"@T.J.: I know what you mean about the first example - I guess they didn&#39;t want to distract us with usefulness?"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1309959328,"post_id":6595477,"comment_id":7783608,"body_markdown":"@Kobi: I was talking about regular expressions. It&#39;s true that the definition of `\\w` is English-centric (which is odd, the definition of `\\s` isn&#39;t, it includes all Unicode &quot;space separator&quot; characters, though implementations sometimes get that wrong). But because `\\w` is defined in a simplistic way (and one I really hope they fix in v6), that doesn&#39;t mean there&#39;s &quot;no Unicode support.&quot;","body":"@Kobi: I was talking about regular expressions. It&#39;s true that the definition of <code>\\w</code> is English-centric (which is odd, the definition of <code>\\s</code> isn&#39;t, it includes all Unicode &quot;space separator&quot; characters, though implementations sometimes get that wrong). But because <code>\\w</code> is defined in a simplistic way (and one I really hope they fix in v6), that doesn&#39;t mean there&#39;s &quot;no Unicode support.&quot;"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1309959873,"post_id":6595477,"comment_id":7783813,"body_markdown":"@Kobi: Actually, I shouldn&#39;t even call the `\\w` definition English-centric, as it breaks on lots of English words (mostly ones we&#39;ve adopted from other languages, but long enough ago to be really English now), like &quot;na&#239;ve&quot;.","body":"@Kobi: Actually, I shouldn&#39;t even call the <code>\\w</code> definition English-centric, as it breaks on lots of English words (mostly ones we&#39;ve adopted from other languages, but long enough ago to be really English now), like &quot;na&#239;ve&quot;."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1309957308,"creation_date":1309951038,"answer_id":6595515,"question_id":6595477,"body_markdown":"&gt; Is there an equivalent in JavaScript?\r\n\r\nSimple answer: no, there&#39;s not. It is specific Java syntax.\r\n\r\nSee: [Regular Expressions Cookbook][1] by Jan Goyvaerts and Steven Levithan. Here&#39;s [a sneak-peek to the relevant section][2].\r\n\r\nProbably needless to say, but the following JavaScript code: \r\n\r\n    if(s.match(/^[a-z]$/) &amp;&amp; s.match(/[^bc]/)) { ... }\r\n\r\nwould do the same as the Java code:\r\n\r\n    if(s.matches(&quot;[a-z&amp;&amp;[^bc]]&quot;)) { ... }\r\n\r\n  [1]: http://oreilly.com/catalog/9780596520694\r\n  [2]: http://books.google.com/books?id=yY_EsWFMj-QC&amp;pg=PA33&amp;lpg=PA33&amp;dq=java%20%22character%20class%22%20intersection&amp;source=bl&amp;ots=dDHdsT41UF&amp;sig=2Y9zXezzVXNOS-i2NGIiv1K-TGc&amp;hl=en&amp;ei=EUgUTvDcFIOBOq6VoKYL&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=6&amp;ved=0CEwQ6AEwBQ#v=onepage&amp;q=java%20%22character%20class%22%20intersection&amp;f=false","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<blockquote>\n  <p>Is there an equivalent in JavaScript?</p>\n</blockquote>\n\n<p>Simple answer: no, there's not. It is specific Java syntax.</p>\n\n<p>See: <a href=\"http://oreilly.com/catalog/9780596520694\" rel=\"noreferrer\">Regular Expressions Cookbook</a> by Jan Goyvaerts and Steven Levithan. Here's <a href=\"http://books.google.com/books?id=yY_EsWFMj-QC&amp;pg=PA33&amp;lpg=PA33&amp;dq=java%20%22character%20class%22%20intersection&amp;source=bl&amp;ots=dDHdsT41UF&amp;sig=2Y9zXezzVXNOS-i2NGIiv1K-TGc&amp;hl=en&amp;ei=EUgUTvDcFIOBOq6VoKYL&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=6&amp;ved=0CEwQ6AEwBQ#v=onepage&amp;q=java%20%22character%20class%22%20intersection&amp;f=false\" rel=\"noreferrer\">a sneak-peek to the relevant section</a>.</p>\n\n<p>Probably needless to say, but the following JavaScript code: </p>\n\n<pre><code>if(s.match(/^[a-z]$/) &amp;&amp; s.match(/[^bc]/)) { ... }\n</code></pre>\n\n<p>would do the same as the Java code:</p>\n\n<pre><code>if(s.matches(\"[a-z&amp;&amp;[^bc]]\")) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385978194,"creation_date":1310380234,"answer_id":6648807,"question_id":6595477,"body_markdown":"You can get the same result as the Java regexes in JavaScript by writing out the character classes longhand, e.g.\r\n\r\n    Java           JavaScript   English\r\n    ------------   ----------   -------\r\n    [a-z&amp;&amp;[def]]   [def]        d, e, or f\r\n    [a-z&amp;&amp;[^bc]]   [ad-z]       a through z, except for b and c\r\n\r\nIts just a bit more verbose/obscure in some circumstances, e.g.\r\n\r\n    Java               JavaScript\r\n    ----------------   -----------\r\n    [A-Z&amp;&amp;[^QVX]]      [A-PR-UWYZ]\r\n    [A-Z&amp;&amp;[^CIKMOV]]   [ABD-HJLNP-UW-Z]","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>You can get the same result as the Java regexes in JavaScript by writing out the character classes longhand, e.g.</p>\n\n<pre><code>Java           JavaScript   English\n------------   ----------   -------\n[a-z&amp;&amp;[def]]   [def]        d, e, or f\n[a-z&amp;&amp;[^bc]]   [ad-z]       a through z, except for b and c\n</code></pre>\n\n<p>Its just a bit more verbose/obscure in some circumstances, e.g.</p>\n\n<pre><code>Java               JavaScript\n----------------   -----------\n[A-Z&amp;&amp;[^QVX]]      [A-PR-UWYZ]\n[A-Z&amp;&amp;[^CIKMOV]]   [ABD-HJLNP-UW-Z]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412353427,"creation_date":1412353427,"answer_id":26182882,"question_id":6595477,"body_markdown":"As others have said, there isn&#39;t an equivalent, but you can achieve the effect of `&amp;&amp;` using a look-ahead. The transformation is:\r\n\r\n    [classA&amp;&amp;classB]\r\n\r\nbecomes:\r\n\r\n    (?=classA)classB\r\n\r\nFor instance, this in Java:\r\n\r\n    [a-z&amp;&amp;[^bc]]\r\n\r\nhas the same behavior as this:\r\n\r\n    (?=[a-z])[^bc]\r\n\r\nwhich is fully supported in JavaScript. I don&#39;t know the relative performance of the two forms (in engines like Java and Ruby that support both).\r\n\r\nSince the `&amp;&amp;` operator is commutative, you can always use either side for the (positive or negative) look-ahead part.\r\n\r\nIntersection of a class with a negated class can also be implemented with negative look-ahead. So the example above could also have been transformed to:\r\n\r\n    (?![bc])[a-z]","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>As others have said, there isn't an equivalent, but you can achieve the effect of <code>&amp;&amp;</code> using a look-ahead. The transformation is:</p>\n\n<pre><code>[classA&amp;&amp;classB]\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>(?=classA)classB\n</code></pre>\n\n<p>For instance, this in Java:</p>\n\n<pre><code>[a-z&amp;&amp;[^bc]]\n</code></pre>\n\n<p>has the same behavior as this:</p>\n\n<pre><code>(?=[a-z])[^bc]\n</code></pre>\n\n<p>which is fully supported in JavaScript. I don't know the relative performance of the two forms (in engines like Java and Ruby that support both).</p>\n\n<p>Since the <code>&amp;&amp;</code> operator is commutative, you can always use either side for the (positive or negative) look-ahead part.</p>\n\n<p>Intersection of a class with a negated class can also be implemented with negative look-ahead. So the example above could also have been transformed to:</p>\n\n<pre><code>(?![bc])[a-z]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1695570043,"post_id":77167237,"comment_id":136039000,"body_markdown":"It even works in my Opera. :D Still I&#39;d hesitate to use this in production, better waiting some more years.","body":"It even works in my Opera. :D Still I&#39;d hesitate to use this in production, better waiting some more years."},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":1,"creation_date":1695570902,"post_id":77167237,"comment_id":136039084,"body_markdown":"@bobblebubble Just like with any other new features in JS `:)` Babel does have [good support for `v`](https://babeljs.io/docs/babel-plugin-transform-unicode-sets-regex), however.","body":"@bobblebubble Just like with any other new features in JS <code>:)</code> Babel does have <a href=\"https://babeljs.io/docs/babel-plugin-transform-unicode-sets-regex\" rel=\"nofollow noreferrer\">good support for <code>v</code></a>, however."}],"tags":[],"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695561124,"creation_date":1695561124,"answer_id":77167237,"question_id":6595477,"body_markdown":"## 2023 answer: Yes, there is.\r\n\r\nWith [the `v` flag][1]:\r\n\r\n```none\r\n[[a-z]&amp;&amp;[def]]\r\n[[a-z]&amp;&amp;[^bc]]\r\n```\r\n\r\nTry them [on regex101.com][2].\r\n\r\nYou can also do subtraction: `[[a-z]--[bc]]`. More information can be found [on MDN][3].\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicodeSets\r\n  [2]: https://regex101.com/r/xdSyvR/1\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class#v-mode_character_class","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<h2>2023 answer: Yes, there is.</h2>\n<p>With <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicodeSets\" rel=\"nofollow noreferrer\">the <code>v</code> flag</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[a-z]&amp;&amp;[def]]\n[[a-z]&amp;&amp;[^bc]]\n</code></pre>\n<p>Try them <a href=\"https://regex101.com/r/xdSyvR/1\" rel=\"nofollow noreferrer\">on regex101.com</a>.</p>\n<p>You can also do subtraction: <code>[[a-z]--[bc]]</code>. More information can be found <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class#v-mode_character_class\" rel=\"nofollow noreferrer\">on MDN</a>.</p>\n"}],"owner":{"account_id":10809,"reputation":97278,"user_id":20578,"accept_rate":91,"display_name":"Paul D. Waite"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1697837931,"accepted_answer_id":6595515,"answer_count":4,"score":10,"last_activity_date":1695561124,"creation_date":1309950821,"question_id":6595477,"body_markdown":"In Java regexes, you can use the intersection operator `&amp;&amp;` in character classes to define them succinctly, e.g.\r\n\r\n    [a-z&amp;&amp;[def]]\t// d, e, or f\r\n    [a-z&amp;&amp;[^bc]]\t// a through z, except for b and c\r\n\r\nIs there an equivalent in JavaScript?","title":"Is there a JavaScript regex equivalent to the intersection (&amp;&amp;) operator in Java regexes?","body":"<p>In Java regexes, you can use the intersection operator <code>&amp;&amp;</code> in character classes to define them succinctly, e.g.</p>\n\n<pre><code>[a-z&amp;&amp;[def]]    // d, e, or f\n[a-z&amp;&amp;[^bc]]    // a through z, except for b and c\n</code></pre>\n\n<p>Is there an equivalent in JavaScript?</p>\n"},{"tags":["java","apache-zookeeper"],"answers":[{"comments":[{"owner":{"account_id":12302577,"reputation":73,"user_id":14533192,"display_name":"amina ibrahim"},"score":0,"creation_date":1695554229,"post_id":75768195,"comment_id":136037389,"body_markdown":"so what to do then? how do i run the service?","body":"so what to do then? how do i run the service?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695559406,"post_id":75768195,"comment_id":136037893,"body_markdown":"@aminaibrahim Install a supported Java version (17 at the highest). Correctly set JAVA_HOME to point at that version. Then read the Kafka documentation on the startup commands with/without Zookeeper (which do not use sudo, as that would start in a clean environment, without the JAVA_HOME variable). Homebrew or Docker also are valid ways to run Kafka on Mac/Linux","body":"@aminaibrahim Install a supported Java version (17 at the highest). Correctly set JAVA_HOME to point at that version. Then read the Kafka documentation on the startup commands with/without Zookeeper (which do not use sudo, as that would start in a clean environment, without the JAVA_HOME variable). Homebrew or Docker also are valid ways to run Kafka on Mac/Linux"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679060251,"creation_date":1679059950,"answer_id":75768195,"question_id":75763673,"body_markdown":"Kafka does not support Java 19. The latest known working version for Kafka is 17. The Zookeeper documentation doesn&#39;t mention anything above JDK 12.\r\n\r\nIn any case, the error is suggesting you&#39;ve not exported `JAVA_HOME` variable on your machine, or if you have, then it&#39;s pointed at the wrong location since it should otherwise fallback to running `java` directly, as you&#39;ve shown\r\n\r\nYou also don&#39;t need sudo to run Kafka or Zookeeper ","title":"&quot;Unable to locate a Java Runtime&quot; while starting kafka and zookeeper service","body":"<p>Kafka does not support Java 19. The latest known working version for Kafka is 17. The Zookeeper documentation doesn't mention anything above JDK 12.</p>\n<p>In any case, the error is suggesting you've not exported <code>JAVA_HOME</code> variable on your machine, or if you have, then it's pointed at the wrong location since it should otherwise fallback to running <code>java</code> directly, as you've shown</p>\n<p>You also don't need sudo to run Kafka or Zookeeper</p>\n"}],"owner":{"account_id":27664970,"reputation":13,"user_id":21117000,"display_name":"coderllawliet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75768195,"answer_count":1,"score":-1,"last_activity_date":1695559551,"creation_date":1679025914,"question_id":75763673,"body_markdown":"I am trying to run Kafka and Zookeeper services locally on MacOS; so I am following these steps : https://kafka.apache.org/quickstart \r\n\r\nBut when I am entering this command `sudo bin/zookeeper-server-start.sh config/zookeeper.properties` ; it is throwing this error -&gt;\r\n```\r\nThe operation couldnt be completed. Unable to locate a Java Runtime.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\nBut I have java installed locally.\r\n```\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which java\r\n/usr/bin/java\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which javac\r\n/usr/bin/javac\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % java -version\r\nopenjdk version &quot;19.0.2&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7-44)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % /usr/bin/java -version\r\nopenjdk version &quot;19.0.2&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7-44)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % javac -version\r\njavac 19.0.2\r\n```\r\n","title":"&quot;Unable to locate a Java Runtime&quot; while starting kafka and zookeeper service","body":"<p>I am trying to run Kafka and Zookeeper services locally on MacOS; so I am following these steps : <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a></p>\n<p>But when I am entering this command <code>sudo bin/zookeeper-server-start.sh config/zookeeper.properties</code> ; it is throwing this error -&gt;</p>\n<pre><code>The operation couldnt be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>But I have java installed locally.</p>\n<pre><code>(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which java\n/usr/bin/java\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % which javac\n/usr/bin/javac\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % java -version\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-44)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % /usr/bin/java -version\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-44)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\n(base) sourav.kumar@PFIN-BLR-1RC9W kafka_2.13-3.4.0 % javac -version\njavac 19.0.2\n</code></pre>\n"},{"tags":["java","byte","javac","unsigned-integer"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1672142830,"post_id":74929039,"comment_id":132228037,"body_markdown":"Try what happens when you don&#39;t do the masking and think about why this happens.","body":"Try what happens when you don&#39;t do the masking and think about why this happens."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1672145109,"post_id":74929039,"comment_id":132228600,"body_markdown":"No, masking does nothing to affect byte values.  It only affects ints.","body":"No, masking does nothing to affect byte values.  It only affects ints."},{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1672263737,"post_id":74929039,"comment_id":132255766,"body_markdown":"@tkausl since you missed the point, have a look at the accepted answer, you may want to think about why this happened.","body":"@tkausl since you missed the point, have a look at the accepted answer, you may want to think about why this happened."}],"answers":[{"comments":[{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1672262917,"post_id":74930548,"comment_id":132255564,"body_markdown":"firstly, thank you for simply understanding the problem. secondly thanks for taking your time to explain","body":"firstly, thank you for simply understanding the problem. secondly thanks for taking your time to explain"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695559237,"creation_date":1672151314,"answer_id":74930548,"question_id":74929039,"body_markdown":"&gt;     byte signed  = -1;// -&gt; 0b11111111\r\n\r\nCorrect.\r\n\r\n&gt;     int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\r\n\r\nThis is not correct.  There are 3 steps.\r\n\r\n1.  The value of `signed` is converted (sign-extended) to an `int`; i.e. `0b11111111` becomes `0b11111111111111111111111111111111` (= 0xFFFFFFFF)\r\n\r\n2.  The `0b11111111111111111111111111111111` (= `0xFFFFFFFF`) is ANDed with `0b00000000000000000000000011111111` (= `0x000000FF`) to give `0b00000000000000000000000011111111` (= `0x000000FF`)`\r\n\r\n3. `0b00000000000000000000000011111111` (= `0x000000FF`) is assigned to `unsigned`.\r\n\r\n(Note: it is important to write this out in full so that you understand what happens.)\r\n\r\n&gt;     byte resigned = (byte) unsigned;\r\n\r\nThere are two steps here too.\r\n\r\n1. The cast `(byte)` converts `0b00000000000000000000000011111111` (= `0x000000FF`)\r\n to `0b11111111` (= `0xFF`) i.e. it converts the `int` to a `byte`.\r\n\r\n2. Then the byte `0b11111111` (= `0xFF`) is assigned to `resigned`.\r\n\r\n---------------------------\r\n\r\n&gt;  So it seems nothing really happens to the actual signed value for the unsigned int to be possible.\r\n\r\nBut something did happen!  The `&amp;` operator started with the sign-extended value `0b11111111111111111111111111111111`  (which represents -1) and converted it to `0b00000000000000000000000011111111` (which represents 255).\r\n\r\nAnd you can *verify* that something happened by running this:\r\n\r\n      byte signed  = -1; // -&gt; 0b11111111\r\n      int x = signed;\r\n      System.out.println(&quot;x: &quot; + x); // prints -1 \r\n\r\nThe fact that you ended up with the same value as you started with doesn&#39;t mean that nothing happened.  Something did happen.  You converted the `byte` value `-1` to the `int` value `255`, and then you converted it back to the byte `-1`.\r\n\r\nYou can also verify this by reading the relevant sections of the Java Language Specification.   (Let me know if you need the references.)\r\n\r\n-------------------------\r\n\r\n&gt; Does masking actually do anything to the (byte) value of an integer or its just a way to flag how javac should treat the integer?\r\n\r\nMasking really did something.\r\n\r\n-------------------------\r\n\r\nIf you were to look at the bytecodes produced by the `javac` compiler you would see codes to do the `byte` to `int` conversion, the masking and the assignment.  Then in the other direction, you would see a bytecode to do an `int` to `byte` conversion.\r\n\r\nHowever, that is an implementation detail.","title":"How does masking work with int/Integer in java?","body":"<blockquote>\n<pre><code>byte signed  = -1;// -&gt; 0b11111111\n</code></pre>\n</blockquote>\n<p>Correct.</p>\n<blockquote>\n<pre><code>int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\n</code></pre>\n</blockquote>\n<p>This is not correct.  There are 3 steps.</p>\n<ol>\n<li><p>The value of <code>signed</code> is converted (sign-extended) to an <code>int</code>; i.e. <code>0b11111111</code> becomes <code>0b11111111111111111111111111111111</code> (= 0xFFFFFFFF)</p>\n</li>\n<li><p>The <code>0b11111111111111111111111111111111</code> (= <code>0xFFFFFFFF</code>) is ANDed with <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>) to give <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>)`</p>\n</li>\n<li><p><code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>) is assigned to <code>unsigned</code>.</p>\n</li>\n</ol>\n<p>(Note: it is important to write this out in full so that you understand what happens.)</p>\n<blockquote>\n<pre><code>byte resigned = (byte) unsigned;\n</code></pre>\n</blockquote>\n<p>There are two steps here too.</p>\n<ol>\n<li><p>The cast <code>(byte)</code> converts <code>0b00000000000000000000000011111111</code> (= <code>0x000000FF</code>)\nto <code>0b11111111</code> (= <code>0xFF</code>) i.e. it converts the <code>int</code> to a <code>byte</code>.</p>\n</li>\n<li><p>Then the byte <code>0b11111111</code> (= <code>0xFF</code>) is assigned to <code>resigned</code>.</p>\n</li>\n</ol>\n<hr />\n<blockquote>\n<p>So it seems nothing really happens to the actual signed value for the unsigned int to be possible.</p>\n</blockquote>\n<p>But something did happen!  The <code>&amp;</code> operator started with the sign-extended value <code>0b11111111111111111111111111111111</code>  (which represents -1) and converted it to <code>0b00000000000000000000000011111111</code> (which represents 255).</p>\n<p>And you can <em>verify</em> that something happened by running this:</p>\n<pre><code>  byte signed  = -1; // -&gt; 0b11111111\n  int x = signed;\n  System.out.println(&quot;x: &quot; + x); // prints -1 \n</code></pre>\n<p>The fact that you ended up with the same value as you started with doesn't mean that nothing happened.  Something did happen.  You converted the <code>byte</code> value <code>-1</code> to the <code>int</code> value <code>255</code>, and then you converted it back to the byte <code>-1</code>.</p>\n<p>You can also verify this by reading the relevant sections of the Java Language Specification.   (Let me know if you need the references.)</p>\n<hr />\n<blockquote>\n<p>Does masking actually do anything to the (byte) value of an integer or its just a way to flag how javac should treat the integer?</p>\n</blockquote>\n<p>Masking really did something.</p>\n<hr />\n<p>If you were to look at the bytecodes produced by the <code>javac</code> compiler you would see codes to do the <code>byte</code> to <code>int</code> conversion, the masking and the assignment.  Then in the other direction, you would see a bytecode to do an <code>int</code> to <code>byte</code> conversion.</p>\n<p>However, that is an implementation detail.</p>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74930548,"answer_count":1,"score":0,"last_activity_date":1695559237,"creation_date":1672142669,"question_id":74929039,"body_markdown":"Since bytes are signed in java, in order to obtain unsigned integer values we mask with 0xFF asper:\r\n\r\n    byte signed  = -1;// -&gt; 0b11111111\r\n    int unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\r\n    System.out.println(unsigned: +unsigned);//prints 255 instead of -1 since we masked earlier\r\n\r\nBut when the unsigned `int` is casted to a byte it seems nothing happens to it really i.e.\r\n\r\n    byte resigned = (byte) unsigned;\r\n    System.out.println(resigned: +resigned);//same value as earlier signed = -1\r\n\r\nTaking a closer look at the initial operation \r\n\r\n    int unsigned = signed &amp; 0xFF;// the result of 0b11111111 &amp; 0b11111111 is actually = 0b11111111 \r\n\r\nEven if the value of signed were something else say we had\r\n\r\n    byte  signed  = -44;// -&gt; 0b11010100\r\n    int  unsigned = signed &amp; 0xFF;// the result of 0b11010100 &amp; 0b11111111 is still actually = 0b11010100 \r\n    byte resigned = (byte) unsigned;\r\n    System.out.println(resigned: +resigned);//same value as signed = -44\r\n\r\nSo it seems nothing really happens to the actual signed value for the unsigned `int` to be possible.\r\n\r\nDoes masking actually do anything to the (byte) value of an integer or its just a way to flag how `javac` should treat the integer?\r\n\r\n","title":"How does masking work with int/Integer in java?","body":"<p>Since bytes are signed in java, in order to obtain unsigned integer values we mask with 0xFF asper:</p>\n<pre><code>byte signed  = -1;// -&gt; 0b11111111\nint unsigned = signed &amp; 0xFF;// -&gt; 0b11111111 &amp; 0b11111111\nSystem.out.println(unsigned: +unsigned);//prints 255 instead of -1 since we masked earlier\n</code></pre>\n<p>But when the unsigned <code>int</code> is casted to a byte it seems nothing happens to it really i.e.</p>\n<pre><code>byte resigned = (byte) unsigned;\nSystem.out.println(resigned: +resigned);//same value as earlier signed = -1\n</code></pre>\n<p>Taking a closer look at the initial operation</p>\n<pre><code>int unsigned = signed &amp; 0xFF;// the result of 0b11111111 &amp; 0b11111111 is actually = 0b11111111 \n</code></pre>\n<p>Even if the value of signed were something else say we had</p>\n<pre><code>byte  signed  = -44;// -&gt; 0b11010100\nint  unsigned = signed &amp; 0xFF;// the result of 0b11010100 &amp; 0b11111111 is still actually = 0b11010100 \nbyte resigned = (byte) unsigned;\nSystem.out.println(resigned: +resigned);//same value as signed = -44\n</code></pre>\n<p>So it seems nothing really happens to the actual signed value for the unsigned <code>int</code> to be possible.</p>\n<p>Does masking actually do anything to the (byte) value of an integer or its just a way to flag how <code>javac</code> should treat the integer?</p>\n"},{"tags":["java","linked-list","deque"],"comments":[{"owner":{"account_id":3592378,"reputation":466,"user_id":2998104,"display_name":"Kudin"},"score":0,"creation_date":1568647933,"post_id":57960065,"comment_id":102332024,"body_markdown":"TailedLinkedList and test code are required here I think","body":"TailedLinkedList and test code are required here I think"},{"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"score":0,"creation_date":1568648021,"post_id":57960065,"comment_id":102332071,"body_markdown":"TailedLinkedList is your implementantion or do you take from other place.  It is very hard to help you with the info that you provide","body":"TailedLinkedList is your implementantion or do you take from other place.  It is very hard to help you with the info that you provide"},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568648303,"post_id":57960065,"comment_id":102332191,"body_markdown":"@Gatusko has been added in.","body":"@Gatusko has been added in."},{"owner":{"account_id":7670857,"reputation":1306,"user_id":5813151,"accept_rate":90,"display_name":"moonboy"},"score":0,"creation_date":1568648979,"post_id":57960065,"comment_id":102332527,"body_markdown":"Why are you using a linked list for your queue? This will be slower than using an Array based collection.","body":"Why are you using a linked list for your queue? This will be slower than using an Array based collection."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":1,"creation_date":1568649088,"post_id":57960065,"comment_id":102332572,"body_markdown":"I think you could implement a double linked list (i.e. links in two directions) yourself and keep references to head, tail and mid element. Whenever adding on either end you have to consider what happens with the middle reference. You will also have to clarify the requirements - if the list is `[A, B, C]` and you `push_middle(D)`, should you end with `[A, D, B, C]` or `[A, B, D, C]`?","body":"I think you could implement a double linked list (i.e. links in two directions) yourself and keep references to head, tail and mid element. Whenever adding on either end you have to consider what happens with the middle reference. You will also have to clarify the requirements - if the list is <code>[A, B, C]</code> and you <code>push_middle(D)</code>, should you end with <code>[A, D, B, C]</code> or <code>[A, B, D, C]</code>?"},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1568649196,"post_id":57960065,"comment_id":102332613,"body_markdown":"@tramstheman insert at the front of array list is `O(n)`, while in case of linked list it&#39;s `O(1)`. On the other hand, access by index in case of array list is `O(1)`, while in case of linked list it&#39;s `O(n)`. The choice really depends on which of the four methods are called the most often.\n\n@RyanChng What&#39;s your test input?","body":"@tramstheman insert at the front of array list is <code>O(n)</code>, while in case of linked list it&#39;s <code>O(1)</code>. On the other hand, access by index in case of array list is <code>O(1)</code>, while in case of linked list it&#39;s <code>O(n)</code>. The choice really depends on which of the four methods are called the most often.  @RyanChng What&#39;s your test input?"},{"owner":{"account_id":7670857,"reputation":1306,"user_id":5813151,"accept_rate":90,"display_name":"moonboy"},"score":1,"creation_date":1568650214,"post_id":57960065,"comment_id":102333061,"body_markdown":"@JaroslawPawlak That is true. The problem is you are only considering the academic time complexity. In real life we often have other bottlenecks. Contiguous data can be stored in a single page in the L1/L2/L3 cache. Linked lists have no guarantee that data is being stored contiguously, and in fact most of the time is not. This results in memory lookups which is hundreds of cpu cycles slower than the L1/L2/L3 cache.","body":"@JaroslawPawlak That is true. The problem is you are only considering the academic time complexity. In real life we often have other bottlenecks. Contiguous data can be stored in a single page in the L1/L2/L3 cache. Linked lists have no guarantee that data is being stored contiguously, and in fact most of the time is not. This results in memory lookups which is hundreds of cpu cycles slower than the L1/L2/L3 cache."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1568650600,"post_id":57960065,"comment_id":102333218,"body_markdown":"@moonboy you are right, but memory/OS/cache optimisations will not make the array list faster than linked list when adding at the front. In this case, I cannot see a way to make all methods fast, at least one of them will be slow. OP&#39;s problem might be that a few of his methods are slow - `get` and `push_middle` both have to iterate over the list and this can be avoided (for one method only).","body":"@moonboy you are right, but memory/OS/cache optimisations will not make the array list faster than linked list when adding at the front. In this case, I cannot see a way to make all methods fast, at least one of them will be slow. OP&#39;s problem might be that a few of his methods are slow - <code>get</code> and <code>push_middle</code> both have to iterate over the list and this can be avoided (for one method only)."},{"owner":{"account_id":7670857,"reputation":1306,"user_id":5813151,"accept_rate":90,"display_name":"moonboy"},"score":0,"creation_date":1568650914,"post_id":57960065,"comment_id":102333359,"body_markdown":"@JaroslawPawlak I wasn&#39;t claiming that an array based collection would have better performance at inserting to the front. My claim is that overall performance is going to be better. Obviously, to your point, what matters most is going to be how frequently insertions are called. However, considering this is just a queue implementation at its core, different strategies utilizing an array can be used which would optimize performance.","body":"@JaroslawPawlak I wasn&#39;t claiming that an array based collection would have better performance at inserting to the front. My claim is that overall performance is going to be better. Obviously, to your point, what matters most is going to be how frequently insertions are called. However, considering this is just a queue implementation at its core, different strategies utilizing an array can be used which would optimize performance."},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568652813,"post_id":57960065,"comment_id":102334107,"body_markdown":"It&#39;s random. I won&#39;t know how many push_middles vs gets I have.","body":"It&#39;s random. I won&#39;t know how many push_middles vs gets I have."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1568664012,"post_id":57960065,"comment_id":102338388,"body_markdown":"@RyanChng Then I suggest that you delete your `TailedLinkedList` and use an `ArrayList` instead.","body":"@RyanChng Then I suggest that you delete your <code>TailedLinkedList</code> and use an <code>ArrayList</code> instead."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1568664201,"post_id":57960065,"comment_id":102338454,"body_markdown":"@RyanChng You have mentioned in one of the comments to some answer that you have performance tests for this task. Can you please provide them in your question?","body":"@RyanChng You have mentioned in one of the comments to some answer that you have performance tests for this task. Can you please provide them in your question?"},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568701887,"post_id":57960065,"comment_id":102347333,"body_markdown":"Unfortunately, the test cases they&#39;re giving us are all private. This does make it really frustrating, but I can only presume there are a distributed number of calls to get and push_middle across all the cases. If it helps, this is Kattis problem Teque.","body":"Unfortunately, the test cases they&#39;re giving us are all private. This does make it really frustrating, but I can only presume there are a distributed number of calls to get and push_middle across all the cases. If it helps, this is Kattis problem Teque."}],"answers":[{"comments":[{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568648482,"post_id":57960258,"comment_id":102332263,"body_markdown":"Won&#39;t the shifting of elements between lists add to the time complexity?","body":"Won&#39;t the shifting of elements between lists add to the time complexity?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1568648597,"post_id":57960258,"comment_id":102332326,"body_markdown":"Half of the adds/removes front and back would effect a push_middle and vice versa. So no. However `get` by index is another cause for losing speed.","body":"Half of the adds/removes front and back would effect a push_middle and vice versa. So no. However <code>get</code> by index is another cause for losing speed."},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":1,"creation_date":1568654164,"post_id":57960258,"comment_id":102334672,"body_markdown":"Hmm. I tried your implementation but ended up with a worse runtime somehow.","body":"Hmm. I tried your implementation but ended up with a worse runtime somehow."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568707536,"post_id":57960258,"comment_id":102349983,"body_markdown":"I searched for `TailedLinkedList`, and the one I found was not a double linked list as java&#39;s LinkedList, but a single linked list. That slows down removing the last element. So: an unsuited data sructure also for the original code. Use my solution with a **`LinkedList`** if you still have the code around.","body":"I searched for <code>TailedLinkedList</code>, and the one I found was not a double linked list as java&#39;s LinkedList, but a single linked list. That slows down removing the last element. So: an unsuited data sructure also for the original code. Use my solution with a <b><code>LinkedList</code></b> if you still have the code around."},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568711783,"post_id":57960258,"comment_id":102352292,"body_markdown":"There is no element removal in the problem (Kattis Teque) - only pushing into front, back and middle, and element retrieval. Should I try a solution with two data structures being array deques?","body":"There is no element removal in the problem (Kattis Teque) - only pushing into front, back and middle, and element retrieval. Should I try a solution with two data structures being array deques?"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568648402,"creation_date":1568648402,"answer_id":57960258,"question_id":57960065,"body_markdown":"The `push_midle` is causing walking through half of the list. A solution would be to use **two lists**, the first half and the second half. Should the lists get unbalanced, shift elements between both lists.\r\n\r\n(It just might be that a ListIterator might do too; though one must fear a ConcurrentModificationException for a naive approach.)","title":"What makes the Java linked-list implementation of a triple-ended queue slow?","body":"<p>The <code>push_midle</code> is causing walking through half of the list. A solution would be to use <strong>two lists</strong>, the first half and the second half. Should the lists get unbalanced, shift elements between both lists.</p>\n\n<p>(It just might be that a ListIterator might do too; though one must fear a ConcurrentModificationException for a naive approach.)</p>\n"},{"comments":[{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568653992,"post_id":57961278,"comment_id":102334597,"body_markdown":"Sorry, I don&#39;t quite get the numbers in your solution? How do they work? why is frontIndex &quot;anything&quot;?","body":"Sorry, I don&#39;t quite get the numbers in your solution? How do they work? why is frontIndex &quot;anything&quot;?"},{"owner":{"account_id":1631500,"reputation":577,"user_id":1505927,"display_name":"jokster"},"score":0,"creation_date":1568702107,"post_id":57961278,"comment_id":102347407,"body_markdown":"The actual value to use depends on the relation between front/back pushes and mid pushes. Choosing the number involves a trade off of making the one or the other slower.","body":"The actual value to use depends on the relation between front/back pushes and mid pushes. Choosing the number involves a trade off of making the one or the other slower."},{"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"score":0,"creation_date":1568702860,"post_id":57961278,"comment_id":102347690,"body_markdown":"Ah. Hang on, in your &quot;effective contents&quot; do you mean **frontMidIndex]** and **backIndex]**? and is frontMidIndex supposed to be **frontLength - 1**? If so, then I can understand this much more easily!","body":"Ah. Hang on, in your &quot;effective contents&quot; do you mean <b>frontMidIndex]</b> and <b>backIndex]</b>? and is frontMidIndex supposed to be <b>frontLength - 1</b>? If so, then I can understand this much more easily!"},{"owner":{"account_id":1631500,"reputation":577,"user_id":1505927,"display_name":"jokster"},"score":0,"creation_date":1568726995,"post_id":57961278,"comment_id":102360359,"body_markdown":"In &quot;effective contents&quot; I really meant *frontMidIndex[*. That means exclusive ;) That way frontMidIndex kann be frontLength.","body":"In &quot;effective contents&quot; I really meant <i>frontMidIndex[</i>. That means exclusive ;) That way frontMidIndex kann be frontLength."}],"tags":[],"owner":{"account_id":1631500,"reputation":577,"user_id":1505927,"display_name":"jokster"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568652711,"creation_date":1568652711,"answer_id":57961278,"question_id":57960065,"body_markdown":"A modification of Joop Eggen&#39;s solution would be to use 2 arrays (front array for fast pushFront, back array for fast pushBack).\r\n\r\n  * frontIndex = anything in between front.length / 2 and front.length - 1\r\n  * frontMidIndex = frontIndex - 1\r\n  * backIndex = anything in between 0 and back.length / 2\r\n  * backMidIndex = backIndex + 1\r\n\r\nEffective contents: front[frontIndex .. frontMidIndex[ + back[backMidIndex .. backIndex[\r\n\r\npushFront:\r\n\r\n  * frontIndex &gt; 0?\r\n    * set at frontIndex, decrement frontIndex\r\n  * else frontMidIndex &lt; front.length\r\n    * shift front array back by x, increment frontIndex and frontMidIndex by x, set like above\r\n  * else \r\n    * either copy some part to back or grow array and then proceed like above\r\n\r\npushBack: \r\n  \r\n  * the same for back, backIndex (&lt; back.length), backMidIndex (&gt; 0), switching in/decrement and the shift direction\r\n\r\npushMid (this needs some more thinking):\r\n\r\n  * Optimum would be that the effective length of front and back are equal or off by one. \r\nThen this becomes a set at frontMidIndex or backMidIndex (simular logic to above)\r\n  * If the mid falls in the middle of the valid range of one of the two arrays, you can \r\n    * move contents in this array to create the place for the element.\r\n    * or move contents between the two arrays to adjust the midIndexes for further pushMid.\r\n","title":"What makes the Java linked-list implementation of a triple-ended queue slow?","body":"<p>A modification of Joop Eggen's solution would be to use 2 arrays (front array for fast pushFront, back array for fast pushBack).</p>\n\n<ul>\n<li>frontIndex = anything in between front.length / 2 and front.length - 1</li>\n<li>frontMidIndex = frontIndex - 1</li>\n<li>backIndex = anything in between 0 and back.length / 2</li>\n<li>backMidIndex = backIndex + 1</li>\n</ul>\n\n<p>Effective contents: front[frontIndex .. frontMidIndex[ + back[backMidIndex .. backIndex[</p>\n\n<p>pushFront:</p>\n\n<ul>\n<li>frontIndex > 0?\n\n<ul>\n<li>set at frontIndex, decrement frontIndex</li>\n</ul></li>\n<li>else frontMidIndex &lt; front.length\n\n<ul>\n<li>shift front array back by x, increment frontIndex and frontMidIndex by x, set like above</li>\n</ul></li>\n<li>else \n\n<ul>\n<li>either copy some part to back or grow array and then proceed like above</li>\n</ul></li>\n</ul>\n\n<p>pushBack: </p>\n\n<ul>\n<li>the same for back, backIndex (&lt; back.length), backMidIndex (> 0), switching in/decrement and the shift direction</li>\n</ul>\n\n<p>pushMid (this needs some more thinking):</p>\n\n<ul>\n<li>Optimum would be that the effective length of front and back are equal or off by one. \nThen this becomes a set at frontMidIndex or backMidIndex (simular logic to above)</li>\n<li>If the mid falls in the middle of the valid range of one of the two arrays, you can \n\n<ul>\n<li>move contents in this array to create the place for the element.</li>\n<li>or move contents between the two arrays to adjust the midIndexes for further pushMid.</li>\n</ul></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695922337,"post_id":77167085,"comment_id":136091770,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77167085/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24571711,"reputation":1,"user_id":18478032,"display_name":"Xiaoyu Chen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695558645,"creation_date":1695558645,"answer_id":77167085,"question_id":57960065,"body_markdown":"Maybe it is too late to answer your question but a hint to those who are struggling with this kattis problem;\r\n\r\nFrom my understanding of operations among array(list,queue,stack...), it is always difficult to save time in adding/deleting elements while still having O(1) time complexity to access random indexed elements if we only use array-like obejcts.Thus, I used hashmap to reach O(1) complexity of adding and accessing in this kattis problem. Plus Joop Eggen&#39;s idea, the problem can be solved.\r\n","title":"What makes the Java linked-list implementation of a triple-ended queue slow?","body":"<p>Maybe it is too late to answer your question but a hint to those who are struggling with this kattis problem;</p>\n<p>From my understanding of operations among array(list,queue,stack...), it is always difficult to save time in adding/deleting elements while still having O(1) time complexity to access random indexed elements if we only use array-like obejcts.Thus, I used hashmap to reach O(1) complexity of adding and accessing in this kattis problem. Plus Joop Eggen's idea, the problem can be solved.</p>\n"}],"owner":{"account_id":14127354,"reputation":127,"user_id":10206199,"display_name":"Ryan Chng"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3875,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":57960258,"answer_count":3,"score":1,"last_activity_date":1695558645,"creation_date":1568647648,"question_id":57960065,"body_markdown":"I am solving Kattis problem Teque, and have to implement a teque (triple-ended queue) with just four operations: push to front, push to back, push to middle (median) and read item at index. The focus for this assignment is time complexity, so I&#39;ve used a tailed linked list to easily add elements at the front and back.\r\n\r\nFor the push-to-middle function, instead of calling size() on my list, I stored a class variable in the Teque to keep track of the number of elements in the list. This enabled very quick lookup.\r\n\r\n\r\n```\r\nclass Teque {\r\n\tpublic TailedLinkedList list;\r\n\tpublic Kattio io = new Kattio(System.in, System.out);\r\n\tpublic int numItems;\r\n\r\n    public Teque() {\r\n    \tthis.list = new TailedLinkedList();\r\n    \tthis.numItems = 0;\r\n    }\r\n\r\n    public void push_back(int x) {\r\n    \tnumItems++;\r\n    \tlist.addBack(x);\r\n    }\r\n\r\n    public void push_front(int x) {\r\n    \tnumItems++;\r\n    \tlist.addFront(x);\r\n    }\r\n\r\n    public void push_middle(int x) {\r\n        \r\n        int median = (numItems + 1) / 2;\r\n        list.addAtIndex(median, x);\r\n        numItems++;\r\n    }\r\n\r\n    public int get(int i) {\r\n    \tint result = list.getItemAtIndex(i);\r\n        io.println(result);\r\n        io.flush();\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nImplementation of TailedLinkedList:\r\n```\r\nimport java.util.*;\r\n\r\nclass TailedLinkedList implements ListInterface {\r\n    // attributes\r\n    public ListNode head;\r\n    public ListNode tail;\r\n    public int num_nodes;\r\n\r\n    // interface methods\r\n\r\n    // Return true if list is empty; otherwise return false.\r\n    public boolean isEmpty() { return (num_nodes == 0); }\r\n\r\n    // Return number of items in list\r\n    public int size() { return num_nodes; }\r\n\r\n    // return index of item if item is found in the list, otherwise return -1\r\n    public int indexOf(int item) {\r\n        int index = 0;\r\n\r\n        for (ListNode cur = head; cur != null; cur = cur.getNext()) {\r\n            if (cur.getItem() == item) \r\n                return index;\r\n            else \r\n                index++;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    // return true if item is in the list false otherwise\r\n    public boolean contains(int item) {\r\n        if (indexOf(item) != -1)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    // get item at index\r\n    public int getItemAtIndex(int index) {\r\n        int counter = 0;\r\n        int item = 0;\r\n\r\n        if (index &lt; 0 || index &gt; size()-1) {\r\n            System.out.println(&quot;invalid index&quot;);\r\n            System.exit(1);\r\n        }\r\n        if (index == size()-1)\r\n            item = tail.getItem();\r\n        else {\r\n            for (ListNode cur = head; cur != null; cur = cur.getNext()) {\r\n                if (counter == index) {\r\n                    item = cur.getItem();\r\n                    break;\r\n                }\r\n                counter++;\r\n            }\r\n        }\r\n        return item;\r\n    }\r\n\r\n    // Return first item\r\n    public int getFirst() { return getItemAtIndex(0); }\r\n\r\n    // Return last item\r\n    public int getLast() { return getItemAtIndex(size()-1); }\r\n\r\n    // add item at position index, shifting all current items from index onwards to the right by 1 \r\n    // pre: 0 &lt;= index &lt;= size()\r\n    public void  addAtIndex(int index, int item) {\r\n        ListNode cur;\r\n        ListNode newNode = new ListNode(item);\r\n\r\n        if (index &gt;= 0 &amp;&amp; index &lt;= size()) {\r\n            if (index == 0) // insert in front\r\n                insert(null,newNode);\r\n            else if (index == size()) // insert at the back, don&#39;t have to move all the way to the back\r\n                insert(tail,newNode);\r\n            else {\r\n                cur = getNodeAtIndex(index-1); // access node at index-1\r\n                insert(cur,newNode);\r\n            }\r\n        }\r\n        else { // index out of bounds\r\n            System.out.println(&quot;invalid index&quot;);\r\n            System.exit(1);\r\n        }\r\n    } \r\n\r\n    // Add item to front of list\r\n    public void addFront(int item) { addAtIndex(0,item); }\r\n\r\n    // Add item to back of list\r\n    public void addBack(int item) { addAtIndex(size(),item); }\r\n\r\n    // remove item at index and return it\r\n    // pre: 0 &lt;= index &lt; size()\r\n    public int removeAtIndex(int index) {\r\n        ListNode cur;\r\n        int item = 0;\r\n\r\n        // index within bounds and list is not empty\r\n        if (index &gt;= 0 &amp;&amp; index &lt; size() &amp;&amp; head != null) {\r\n            if (index == 0) // remove 1st item\r\n                item = remove(null);\r\n            else {\r\n                cur = getNodeAtIndex(index-1); // access node at index-1\r\n                item = remove(cur);\r\n            }\r\n        }\r\n        else { // index out of bounds\r\n            System.out.println(&quot;invalid index or list is empty&quot;);\r\n            System.exit(1);\r\n        }\r\n        return item;\r\n    }\r\n\r\n    // Remove first node of list\r\n    public int removeFront() { return removeAtIndex(0); }\r\n\r\n    // Remove last node of list\r\n    public int removeBack() { return removeAtIndex(size()-1); }\r\n\r\n    // Print values of nodes in list.\r\n    public void print() {\r\n        if (head == null)\r\n            System.out.println(&quot;Nothing to print...&quot;);\r\n        else {\r\n            ListNode cur = head;\r\n            System.out.print(&quot;List is: &quot; + cur.getItem());\r\n            for (int i=1; i &lt; num_nodes; i++) {\r\n             cur = cur.getNext();\r\n             System.out.print(&quot;, &quot; + cur.getItem());\r\n            }\r\n            System.out.println(&quot;.&quot;);\r\n        }\r\n    }\r\n\r\n    // non-interface helper methods\r\n    public ListNode getHead() { return head; }\r\n    public ListNode getTail() { return tail; }\r\n\r\n    /* return the ListNode at index */\r\n    public ListNode getNodeAtIndex(int index) {\r\n        int counter = 0;\r\n        ListNode node = null;\r\n\r\n        if (index &lt; 0 || index &gt; size()-1) {\r\n            System.out.println(&quot;invalid index&quot;);\r\n            System.exit(1);\r\n        }\r\n        if (index == size()-1) // return tail if index == size()-1\r\n            return tail;\r\n        for (ListNode cur = head; cur != null; cur = cur.getNext()) {\r\n            if (counter == index) {\r\n                node = cur;\r\n                break;\r\n            }\r\n            counter++;\r\n        }\r\n        return node;\r\n    }\r\n\r\n    // insert newNode after the node referenced by cur \r\n    public void insert(ListNode cur, ListNode n) {\r\n        // insert in front\r\n        if (cur == null) {\r\n            n.setNext(head);\r\n            head = n; // update head\r\n            if (tail == null) // update tail if list originally empty\r\n                tail = head;\r\n        }\r\n        else { // insert anywhere else\r\n            n.setNext(cur.getNext());\r\n            cur.setNext(n);\r\n            if (cur == tail) // update tail if inserted new last item\r\n                tail = tail.getNext();\r\n        }\r\n        num_nodes++;\r\n    }\r\n\r\n    // remove the node referenced by cur.next, and return the item in the node \r\n    // if cur == null, remove the first node \r\n    public int remove(ListNode cur) {\r\n        int value;\r\n\r\n        if (cur == null) { // remove 1st node\r\n            value = head.getItem();\r\n            head = head.getNext(); // update head\r\n            if (num_nodes == 1) // update tail to null if only item in list is removed\r\n                tail = null;\r\n        }\r\n        else { // remove any other node\r\n            value = cur.getNext().getItem();\r\n            cur.setNext(cur.getNext().getNext());\r\n            if (cur.getNext() == null) // update tail if last item is removed\r\n                tail = cur;\r\n        }\r\n        num_nodes--;\r\n\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nHowever, the code I have still runs out of time (100k lines input, limit 2 seconds). Is there anywhere immediately obvious that I can improve on my algorithm? ```addAtIndex``` and ```getItemAtIndex``` run in O(n) time.","title":"What makes the Java linked-list implementation of a triple-ended queue slow?","body":"<p>I am solving Kattis problem Teque, and have to implement a teque (triple-ended queue) with just four operations: push to front, push to back, push to middle (median) and read item at index. The focus for this assignment is time complexity, so I've used a tailed linked list to easily add elements at the front and back.</p>\n\n<p>For the push-to-middle function, instead of calling size() on my list, I stored a class variable in the Teque to keep track of the number of elements in the list. This enabled very quick lookup.</p>\n\n<pre><code>class Teque {\n    public TailedLinkedList list;\n    public Kattio io = new Kattio(System.in, System.out);\n    public int numItems;\n\n    public Teque() {\n        this.list = new TailedLinkedList();\n        this.numItems = 0;\n    }\n\n    public void push_back(int x) {\n        numItems++;\n        list.addBack(x);\n    }\n\n    public void push_front(int x) {\n        numItems++;\n        list.addFront(x);\n    }\n\n    public void push_middle(int x) {\n\n        int median = (numItems + 1) / 2;\n        list.addAtIndex(median, x);\n        numItems++;\n    }\n\n    public int get(int i) {\n        int result = list.getItemAtIndex(i);\n        io.println(result);\n        io.flush();\n        return result;\n    }\n}\n</code></pre>\n\n<p>Implementation of TailedLinkedList:</p>\n\n<pre><code>import java.util.*;\n\nclass TailedLinkedList implements ListInterface {\n    // attributes\n    public ListNode head;\n    public ListNode tail;\n    public int num_nodes;\n\n    // interface methods\n\n    // Return true if list is empty; otherwise return false.\n    public boolean isEmpty() { return (num_nodes == 0); }\n\n    // Return number of items in list\n    public int size() { return num_nodes; }\n\n    // return index of item if item is found in the list, otherwise return -1\n    public int indexOf(int item) {\n        int index = 0;\n\n        for (ListNode cur = head; cur != null; cur = cur.getNext()) {\n            if (cur.getItem() == item) \n                return index;\n            else \n                index++;\n        }\n        return -1;\n    }\n\n    // return true if item is in the list false otherwise\n    public boolean contains(int item) {\n        if (indexOf(item) != -1)\n            return true;\n        return false;\n    }\n\n    // get item at index\n    public int getItemAtIndex(int index) {\n        int counter = 0;\n        int item = 0;\n\n        if (index &lt; 0 || index &gt; size()-1) {\n            System.out.println(\"invalid index\");\n            System.exit(1);\n        }\n        if (index == size()-1)\n            item = tail.getItem();\n        else {\n            for (ListNode cur = head; cur != null; cur = cur.getNext()) {\n                if (counter == index) {\n                    item = cur.getItem();\n                    break;\n                }\n                counter++;\n            }\n        }\n        return item;\n    }\n\n    // Return first item\n    public int getFirst() { return getItemAtIndex(0); }\n\n    // Return last item\n    public int getLast() { return getItemAtIndex(size()-1); }\n\n    // add item at position index, shifting all current items from index onwards to the right by 1 \n    // pre: 0 &lt;= index &lt;= size()\n    public void  addAtIndex(int index, int item) {\n        ListNode cur;\n        ListNode newNode = new ListNode(item);\n\n        if (index &gt;= 0 &amp;&amp; index &lt;= size()) {\n            if (index == 0) // insert in front\n                insert(null,newNode);\n            else if (index == size()) // insert at the back, don't have to move all the way to the back\n                insert(tail,newNode);\n            else {\n                cur = getNodeAtIndex(index-1); // access node at index-1\n                insert(cur,newNode);\n            }\n        }\n        else { // index out of bounds\n            System.out.println(\"invalid index\");\n            System.exit(1);\n        }\n    } \n\n    // Add item to front of list\n    public void addFront(int item) { addAtIndex(0,item); }\n\n    // Add item to back of list\n    public void addBack(int item) { addAtIndex(size(),item); }\n\n    // remove item at index and return it\n    // pre: 0 &lt;= index &lt; size()\n    public int removeAtIndex(int index) {\n        ListNode cur;\n        int item = 0;\n\n        // index within bounds and list is not empty\n        if (index &gt;= 0 &amp;&amp; index &lt; size() &amp;&amp; head != null) {\n            if (index == 0) // remove 1st item\n                item = remove(null);\n            else {\n                cur = getNodeAtIndex(index-1); // access node at index-1\n                item = remove(cur);\n            }\n        }\n        else { // index out of bounds\n            System.out.println(\"invalid index or list is empty\");\n            System.exit(1);\n        }\n        return item;\n    }\n\n    // Remove first node of list\n    public int removeFront() { return removeAtIndex(0); }\n\n    // Remove last node of list\n    public int removeBack() { return removeAtIndex(size()-1); }\n\n    // Print values of nodes in list.\n    public void print() {\n        if (head == null)\n            System.out.println(\"Nothing to print...\");\n        else {\n            ListNode cur = head;\n            System.out.print(\"List is: \" + cur.getItem());\n            for (int i=1; i &lt; num_nodes; i++) {\n             cur = cur.getNext();\n             System.out.print(\", \" + cur.getItem());\n            }\n            System.out.println(\".\");\n        }\n    }\n\n    // non-interface helper methods\n    public ListNode getHead() { return head; }\n    public ListNode getTail() { return tail; }\n\n    /* return the ListNode at index */\n    public ListNode getNodeAtIndex(int index) {\n        int counter = 0;\n        ListNode node = null;\n\n        if (index &lt; 0 || index &gt; size()-1) {\n            System.out.println(\"invalid index\");\n            System.exit(1);\n        }\n        if (index == size()-1) // return tail if index == size()-1\n            return tail;\n        for (ListNode cur = head; cur != null; cur = cur.getNext()) {\n            if (counter == index) {\n                node = cur;\n                break;\n            }\n            counter++;\n        }\n        return node;\n    }\n\n    // insert newNode after the node referenced by cur \n    public void insert(ListNode cur, ListNode n) {\n        // insert in front\n        if (cur == null) {\n            n.setNext(head);\n            head = n; // update head\n            if (tail == null) // update tail if list originally empty\n                tail = head;\n        }\n        else { // insert anywhere else\n            n.setNext(cur.getNext());\n            cur.setNext(n);\n            if (cur == tail) // update tail if inserted new last item\n                tail = tail.getNext();\n        }\n        num_nodes++;\n    }\n\n    // remove the node referenced by cur.next, and return the item in the node \n    // if cur == null, remove the first node \n    public int remove(ListNode cur) {\n        int value;\n\n        if (cur == null) { // remove 1st node\n            value = head.getItem();\n            head = head.getNext(); // update head\n            if (num_nodes == 1) // update tail to null if only item in list is removed\n                tail = null;\n        }\n        else { // remove any other node\n            value = cur.getNext().getItem();\n            cur.setNext(cur.getNext().getNext());\n            if (cur.getNext() == null) // update tail if last item is removed\n                tail = cur;\n        }\n        num_nodes--;\n\n        return value;\n    }\n}\n</code></pre>\n\n<p>However, the code I have still runs out of time (100k lines input, limit 2 seconds). Is there anywhere immediately obvious that I can improve on my algorithm? <code>addAtIndex</code> and <code>getItemAtIndex</code> run in O(n) time.</p>\n"},{"tags":["java","spring-boot","junit","mockito","pitest"],"comments":[{"owner":{"account_id":7629368,"reputation":8222,"user_id":5784924,"accept_rate":60,"display_name":"Nicolas"},"score":0,"creation_date":1695388770,"post_id":77157876,"comment_id":136021696,"body_markdown":"If I understand correctly, you are trying to test the behaviour of the `privateMethod1()`, without have the `privateMethod2()`impact the result ?","body":"If I understand correctly, you are trying to test the behaviour of the <code>privateMethod1()</code>, without have the <code>privateMethod2()</code>impact the result ?"},{"owner":{"account_id":16934093,"reputation":1,"user_id":12247558,"display_name":"Jay C"},"score":0,"creation_date":1695392619,"post_id":77157876,"comment_id":136022559,"body_markdown":"I want to verify mango.setAmount(100) happened before mango.setAmount(50). I&#39;m able to assert amount 50 since it is present in output but not amount 100.","body":"I want to verify mango.setAmount(100) happened before mango.setAmount(50). I&#39;m able to assert amount 50 since it is present in output but not amount 100."},{"owner":{"account_id":7629368,"reputation":8222,"user_id":5784924,"accept_rate":60,"display_name":"Nicolas"},"score":0,"creation_date":1695396484,"post_id":77157876,"comment_id":136023455,"body_markdown":"Your unit test should not be concerns about how the public method are doing their things. They should only be concern with the input and the output of those method. Knowing that, it&#39;s quite hard to create a test that will assert only one part of the method.\n\nWhat you could do, though, is to use a mock and assert the `setAmount` was called twice, and assert the parameters. I havn&#39;t done Java in a long time, so i can&#39;t give you a concret exempe, but you can look at this answer for more information https://stackoverflow.com/a/57281503/5784924","body":"Your unit test should not be concerns about how the public method are doing their things. They should only be concern with the input and the output of those method. Knowing that, it&#39;s quite hard to create a test that will assert only one part of the method.  What you could do, though, is to use a mock and assert the <code>setAmount</code> was called twice, and assert the parameters. I havn&#39;t done Java in a long time, so i can&#39;t give you a concret exempe, but you can look at this answer for more information <a href=\"https://stackoverflow.com/a/57281503/5784924\">stackoverflow.com/a/57281503/5784924</a>"}],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695557501,"creation_date":1695557501,"answer_id":77167013,"question_id":77157876,"body_markdown":"1. You shouldn&#39;t be concerned with the behavior of the private methods, as the unit tests would only be concerned with the input/output of the public method.\r\n\r\n2. If you really need to achieve this, you could try to create a spy of `Mango` object (`Mango mango = Mockito.spy(Mango.class)`) and check that the setters were called as you expected them: `verify(mango).setAmount(100)` and `verify(mango).setAmount(50)`","title":"JUnit to test how object changes mid process along with final assertions","body":"<ol>\n<li><p>You shouldn't be concerned with the behavior of the private methods, as the unit tests would only be concerned with the input/output of the public method.</p>\n</li>\n<li><p>If you really need to achieve this, you could try to create a spy of <code>Mango</code> object (<code>Mango mango = Mockito.spy(Mango.class)</code>) and check that the setters were called as you expected them: <code>verify(mango).setAmount(100)</code> and <code>verify(mango).setAmount(50)</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":16934093,"reputation":1,"user_id":12247558,"display_name":"Jay C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695557501,"creation_date":1695387968,"question_id":77157876,"body_markdown":"I have a private method which is used by multiple processes and I&#39;m writing unit test for a public method, during pitest a mutation which removes call to a line survives so in order to fix it(without telling test to ignore that mutation) I want to check that object is updated with certain value in middle of process and another value at the end of process. Is it possible?\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n    public List&lt;Mango&gt; publicMethod() {\r\n\tList&lt;Mango&gt; mangos = apiCall();\r\n        privateMethod1(mangos);\r\n        privateMethod2(mangos);\r\n        return mangos;\r\n    }\r\n\r\n    private void privateMethod1(List&lt;Mango&gt; mangos) {\r\n\t\tmangos.forEach(mango -&gt; {\r\n\t\t\tif(mango.getName(&quot;indigenous&quot;) {\r\n\t\t\t\tmango.setAmount(100);\r\n\t\t\t\tmango.setQuantity(10);\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n\r\n     private void privateMethod2(List&lt;Mango&gt; mangos) {\r\n\t\tmangos.forEach(mango -&gt; {\r\n\t\t\tif(mango.getName(&quot;indigenous&quot;) {\r\n\t\t\t\tmango.setAmount(50);\r\n\t\t\t}\r\n\t\t}\r\n\t});   \r\n}\r\n```\r\n\r\nIn unit test for publicMethod(), removed call to mango.setAmount(100); survives as it gets updated again in privateMethod2 but privateMethod1 is used by multiple processes so it should not be updated. In actual scenario there are multiple things happening in those methods but to explain issue I&#39;m using simple set method to an object. In place of mango.setAmount(100); in actual code there is a private method which will update some values of the object.\r\n\r\nTo make pitest not to ignore that line I tried to use Mockito.verify() to check that private method is being called twice, but mokito doesn&#39;t allow us to verify private methods. ","title":"JUnit to test how object changes mid process along with final assertions","body":"<p>I have a private method which is used by multiple processes and I'm writing unit test for a public method, during pitest a mutation which removes call to a line survives so in order to fix it(without telling test to ignore that mutation) I want to check that object is updated with certain value in middle of process and another value at the end of process. Is it possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    public List&lt;Mango&gt; publicMethod() {\n    List&lt;Mango&gt; mangos = apiCall();\n        privateMethod1(mangos);\n        privateMethod2(mangos);\n        return mangos;\n    }\n\n    private void privateMethod1(List&lt;Mango&gt; mangos) {\n        mangos.forEach(mango -&gt; {\n            if(mango.getName(&quot;indigenous&quot;) {\n                mango.setAmount(100);\n                mango.setQuantity(10);\n            }\n        });\n    }\n\n     private void privateMethod2(List&lt;Mango&gt; mangos) {\n        mangos.forEach(mango -&gt; {\n            if(mango.getName(&quot;indigenous&quot;) {\n                mango.setAmount(50);\n            }\n        }\n    });   \n}\n</code></pre>\n<p>In unit test for publicMethod(), removed call to mango.setAmount(100); survives as it gets updated again in privateMethod2 but privateMethod1 is used by multiple processes so it should not be updated. In actual scenario there are multiple things happening in those methods but to explain issue I'm using simple set method to an object. In place of mango.setAmount(100); in actual code there is a private method which will update some values of the object.</p>\n<p>To make pitest not to ignore that line I tried to use Mockito.verify() to check that private method is being called twice, but mokito doesn't allow us to verify private methods.</p>\n"},{"tags":["java","arrays","arraylist","reference"],"answers":[{"comments":[{"owner":{"account_id":29516791,"reputation":25,"user_id":22620598,"display_name":"daggerfall247"},"score":0,"creation_date":1695555869,"post_id":77166274,"comment_id":136037530,"body_markdown":"Thank you. I think that clears things up for me. The reason I cannot just do `myList1 = myList2` is that in the Sudoku program they have different sizes as one list (or in my original attempt the array) represent the whole grid (size 81) while the single logic units are of size 9.","body":"Thank you. I think that clears things up for me. The reason I cannot just do <code>myList1 = myList2</code> is that in the Sudoku program they have different sizes as one list (or in my original attempt the array) represent the whole grid (size 81) while the single logic units are of size 9."}],"tags":[],"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695557044,"creation_date":1695543830,"answer_id":77166274,"question_id":77163599,"body_markdown":"Well, when you do `myList1.set(0,5)` you are actually setting the content of `myList1[0]` to a different object, but `myList2[0]` is still pointing to the same object as it was before. You need an object where you can actually change a property, but that&#39;s not possible with the `Integer` class.\r\n\r\n```\r\nclass IWrapper {\r\n\r\n  public IWrapper(int val){\r\n    value = val;\r\n  }\r\n\r\n  public int value;\r\n}\r\n\r\nArrayList&lt;IWrapper&gt; myList1 = new ArrayList&lt;IWrapper&gt;();\r\nArrayList&lt;IWrapper&gt; myList2 = new ArrayList&lt;IWrapper&gt;();\r\n\r\nmyList1.set(0, new IWrapper(5));\r\nmyList2.set(0, myList1.get(0));\r\nmyList1.get(0).value = 3;\r\nSystem.out.println(myList2.get(0).value);\r\n```\r\n\r\nBut the bigger question is, if you want to be `myList1` and `myList2` to be in sync, why do you not just assign\r\n\r\n```\r\nmyList2 = myList1;\r\n``` \r\n\r\nThis way, all changes you do to `myList1` will automatically show up also in `myList2` because they are in fact both pointing to the very same object ... ","title":"Is there a way to let another array or any other data structure hold references to certain values stored in another array?","body":"<p>Well, when you do <code>myList1.set(0,5)</code> you are actually setting the content of <code>myList1[0]</code> to a different object, but <code>myList2[0]</code> is still pointing to the same object as it was before. You need an object where you can actually change a property, but that's not possible with the <code>Integer</code> class.</p>\n<pre><code>class IWrapper {\n\n  public IWrapper(int val){\n    value = val;\n  }\n\n  public int value;\n}\n\nArrayList&lt;IWrapper&gt; myList1 = new ArrayList&lt;IWrapper&gt;();\nArrayList&lt;IWrapper&gt; myList2 = new ArrayList&lt;IWrapper&gt;();\n\nmyList1.set(0, new IWrapper(5));\nmyList2.set(0, myList1.get(0));\nmyList1.get(0).value = 3;\nSystem.out.println(myList2.get(0).value);\n</code></pre>\n<p>But the bigger question is, if you want to be <code>myList1</code> and <code>myList2</code> to be in sync, why do you not just assign</p>\n<pre><code>myList2 = myList1;\n</code></pre>\n<p>This way, all changes you do to <code>myList1</code> will automatically show up also in <code>myList2</code> because they are in fact both pointing to the very same object ...</p>\n"}],"owner":{"account_id":29516791,"reputation":25,"user_id":22620598,"display_name":"daggerfall247"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77166274,"answer_count":1,"score":0,"last_activity_date":1695557044,"creation_date":1695481484,"question_id":77163599,"body_markdown":"I am working on a Sudoku solver right now and currently the cells are represented as a 2d array of size 9x9.\r\n`int[][] grid = new int[9][9];`\r\n\r\nTo address the different logic units in the grid (rows, columns, or boxes) I have subclasses to hold an array of size 9 to hold the digits in this unit `int[] values = new int[9];`\r\n\r\nMinimum code:\r\n\r\n```\r\npublic class SudokuSolver\r\n{\r\n   private abstract class SudokuSet\r\n   { \r\n      int[] values; //gets initialized in constructor of subclasses\r\n      ..\r\n   }\r\n\r\n   private class SudokuRow extends SudokuSet\r\n   { \r\n      SudokuRow(int position)\r\n      {\r\n         for(int i=0; i&lt;9; i++)\r\n            values[i] = grid[position][i];\r\n  \r\n         ..\r\n      }\r\n      ..\r\n   }\r\n\r\n   int[][] grid = new int[9][9];\r\n\r\n   SudokuSolver(int[][] g)\r\n   {\r\n       grid = g;\r\n       ..\r\n   }\r\n\r\n   private void insertDigit(int x,int y,int d)\r\n   {\r\n      grid[y][x] = d;\r\n      ..\r\n   }\r\n}\r\n```\r\n\r\nWhat I want to achieve is that `values` is always up to date with the logically connected parts of `grid`. In other words when I call insertDigit and it assigns a value to a position in the grid then I want to have every corresponding values attribute to be updated. So I want to have `values` hold references to the data in `grid`\r\n\r\nOf course, I could do keep track of the inserted digit and also insert it manually in each logic unit `values` but as each cell appears in exactly 3 units it would be a bit of a bother and not as elegant. Also this project is meant to learn more Java coming from C/C++ so this is a good opportunity to understand how something like this is possible without actual pointers.\r\n\r\nAccording to my research this is not possible with arrays of primitive types because e.g. when assigning `values[0] = grid[5][0]` it will actually copy the value. So I am not deadset on using arrays and I am happy to accept a different data structure.\r\n\r\nI tried using ArrayList\\&lt;Integer\\&gt; because I thought Integers are objects (wrapper class of int), but it seems to not work either.\r\n\r\nI tried something like\r\n\r\n```\r\nArrayList&lt;Integer&gt; myList1 = new ArrayList&lt;Integer&gt;();\r\n\r\nmyList1.add(0);\r\nmyList1.add(1);\r\n\r\nArrayList&lt;Integer&gt; myList2 = new ArrayList&lt;Integer&gt;();\r\n\r\nmyList2.add(myList1.get(0));\r\n\r\nmyList1.set(0,5) //--&gt; myList2.get(0) is still 0\r\n```","title":"Is there a way to let another array or any other data structure hold references to certain values stored in another array?","body":"<p>I am working on a Sudoku solver right now and currently the cells are represented as a 2d array of size 9x9.\n<code>int[][] grid = new int[9][9];</code></p>\n<p>To address the different logic units in the grid (rows, columns, or boxes) I have subclasses to hold an array of size 9 to hold the digits in this unit <code>int[] values = new int[9];</code></p>\n<p>Minimum code:</p>\n<pre><code>public class SudokuSolver\n{\n   private abstract class SudokuSet\n   { \n      int[] values; //gets initialized in constructor of subclasses\n      ..\n   }\n\n   private class SudokuRow extends SudokuSet\n   { \n      SudokuRow(int position)\n      {\n         for(int i=0; i&lt;9; i++)\n            values[i] = grid[position][i];\n  \n         ..\n      }\n      ..\n   }\n\n   int[][] grid = new int[9][9];\n\n   SudokuSolver(int[][] g)\n   {\n       grid = g;\n       ..\n   }\n\n   private void insertDigit(int x,int y,int d)\n   {\n      grid[y][x] = d;\n      ..\n   }\n}\n</code></pre>\n<p>What I want to achieve is that <code>values</code> is always up to date with the logically connected parts of <code>grid</code>. In other words when I call insertDigit and it assigns a value to a position in the grid then I want to have every corresponding values attribute to be updated. So I want to have <code>values</code> hold references to the data in <code>grid</code></p>\n<p>Of course, I could do keep track of the inserted digit and also insert it manually in each logic unit <code>values</code> but as each cell appears in exactly 3 units it would be a bit of a bother and not as elegant. Also this project is meant to learn more Java coming from C/C++ so this is a good opportunity to understand how something like this is possible without actual pointers.</p>\n<p>According to my research this is not possible with arrays of primitive types because e.g. when assigning <code>values[0] = grid[5][0]</code> it will actually copy the value. So I am not deadset on using arrays and I am happy to accept a different data structure.</p>\n<p>I tried using ArrayList&lt;Integer&gt; because I thought Integers are objects (wrapper class of int), but it seems to not work either.</p>\n<p>I tried something like</p>\n<pre><code>ArrayList&lt;Integer&gt; myList1 = new ArrayList&lt;Integer&gt;();\n\nmyList1.add(0);\nmyList1.add(1);\n\nArrayList&lt;Integer&gt; myList2 = new ArrayList&lt;Integer&gt;();\n\nmyList2.add(myList1.get(0));\n\nmyList1.set(0,5) //--&gt; myList2.get(0) is still 0\n</code></pre>\n"},{"tags":["java","android","csrf","nextcloud"],"owner":{"account_id":24443865,"reputation":79,"user_id":18367159,"display_name":"Haru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695556702,"creation_date":1695199419,"question_id":77140738,"body_markdown":"I created an Android app (by Java) to connect to Nextcloud server. Both of them are virtual machines and in the same physical machine. For the connection, I used https://github.com/nextcloud/android-library.\r\nFor my APIs, I added annotation `@NoCSRFRequired` and called them from the server successfully.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I call them from terminal in Android Studio, I got the error:\r\n\r\n&gt; Current user is not logged in\r\n\r\n even I enter the same username and password. In some case, I have error:\r\n\r\n&gt; CSRF check failed\r\n\r\n I tried to set the header `OCS-APIRequest: true` in my Android app but nothing changes.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XOCak.png\r\n  [2]: https://i.stack.imgur.com/X8lFG.png\r\n  [3]: https://i.stack.imgur.com/dsD2B.png","title":"CSRF check failed when calling Nextcloud API from an Android app","body":"<p>I created an Android app (by Java) to connect to Nextcloud server. Both of them are virtual machines and in the same physical machine. For the connection, I used <a href=\"https://github.com/nextcloud/android-library\" rel=\"nofollow noreferrer\">https://github.com/nextcloud/android-library</a>.\nFor my APIs, I added annotation <code>@NoCSRFRequired</code> and called them from the server successfully.</p>\n<p><a href=\"https://i.stack.imgur.com/XOCak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XOCak.png\" alt=\"enter image description here\" /></a></p>\n<p>When I call them from terminal in Android Studio, I got the error:</p>\n<blockquote>\n<p>Current user is not logged in</p>\n</blockquote>\n<p>even I enter the same username and password. In some case, I have error:</p>\n<blockquote>\n<p>CSRF check failed</p>\n</blockquote>\n<p>I tried to set the header <code>OCS-APIRequest: true</code> in my Android app but nothing changes.</p>\n<p><a href=\"https://i.stack.imgur.com/X8lFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8lFG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dsD2B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dsD2B.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","mergesort","divide-and-conquer"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1695480404,"post_id":77163517,"comment_id":136031485,"body_markdown":"You never modify the original list. Your `Merge` method creates an `ArrayList&lt;Integer&gt; new_list = new ArrayList&lt;&gt;();`, puts elements in there and then throws it away, you&#39;re not doing anything with it. For some reason chatGPT missed that.","body":"You never modify the original list. Your <code>Merge</code> method creates an <code>ArrayList&lt;Integer&gt; new_list = new ArrayList&lt;&gt;();</code>, puts elements in there and then throws it away, you&#39;re not doing anything with it. For some reason chatGPT missed that."},{"owner":{"account_id":17522850,"reputation":3,"user_id":12708505,"display_name":"DineshK-1"},"score":0,"creation_date":1695481633,"post_id":77163517,"comment_id":136031618,"body_markdown":"Yeah, I&#39;m using a new temp list to check if the algorithm is working by appending elements that are smaller. But there is a problem with the way it&#39;s being sorted which I can&#39;t figure out why :(","body":"Yeah, I&#39;m using a new temp list to check if the algorithm is working by appending elements that are smaller. But there is a problem with the way it&#39;s being sorted which I can&#39;t figure out why :("},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1695482689,"post_id":77163517,"comment_id":136031724,"body_markdown":"The algorithm will not work with a temporary list. Each recursive call to `Merge` creates a temp list, then throws it away. No other called methods on you call stack will see any effect, thus no sorting takes place.","body":"The algorithm will not work with a temporary list. Each recursive call to <code>Merge</code> creates a temp list, then throws it away. No other called methods on you call stack will see any effect, thus no sorting takes place."},{"owner":{"account_id":17522850,"reputation":3,"user_id":12708505,"display_name":"DineshK-1"},"score":0,"creation_date":1695483463,"post_id":77163517,"comment_id":136031799,"body_markdown":"No, you&#39;re missing the point, I&#39;m not printing the non-modified array. I&#39;m printing the temp list to see if the sorting actually worked. And I&#39;ve updated the code to modify the original list but it still doesn&#39;t work.  I added a new k integer and replaced elements like this `arr.set(k++, arr.get(left++));`","body":"No, you&#39;re missing the point, I&#39;m not printing the non-modified array. I&#39;m printing the temp list to see if the sorting actually worked. And I&#39;ve updated the code to modify the original list but it still doesn&#39;t work.  I added a new k integer and replaced elements like this <code>arr.set(k++, arr.get(left++));</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695485809,"post_id":77163517,"comment_id":136032078,"body_markdown":"*And I&#39;ve updated the code to ...* Then edit the question to show the updated code.","body":"<i>And I&#39;ve updated the code to ...</i> Then edit the question to show the updated code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695503717,"post_id":77163517,"comment_id":136033958,"body_markdown":"Here is the relevant _Wikipedia_ article that outlines this algorithm, _https://en.wikipedia.org/wiki/Merge_sort#Algorithm_","body":"Here is the relevant <i>Wikipedia</i> article that outlines this algorithm, <i><a href=\"https://en.wikipedia.org/wiki/Merge_sort#Algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Merge_sort#Algorithm</a></i>"}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695556528,"creation_date":1695500367,"answer_id":77164759,"question_id":77163517,"body_markdown":"Your code looks almost correct, you are simply not updating the original array with the sorted elements. After merging the element into the new list, you need to copy them back into the original array. I have tested your code, and it looks correct after adding this loop at the end of the `Merge` method:\r\n\r\n        for (int i = 0; i &lt; new_list.size(); i++)\r\n            arr.set(low + i, new_list.get(i));\r\n        ","title":"I can&#39;t figure out the problem with this merge sort algorithm","body":"<p>Your code looks almost correct, you are simply not updating the original array with the sorted elements. After merging the element into the new list, you need to copy them back into the original array. I have tested your code, and it looks correct after adding this loop at the end of the <code>Merge</code> method:</p>\n<pre><code>    for (int i = 0; i &lt; new_list.size(); i++)\n        arr.set(low + i, new_list.get(i));\n    \n</code></pre>\n"}],"owner":{"account_id":17522850,"reputation":3,"user_id":12708505,"display_name":"DineshK-1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77164759,"answer_count":1,"score":0,"last_activity_date":1695556528,"creation_date":1695480159,"question_id":77163517,"body_markdown":"I am trying to learn data structures and algorithms and I have been enjoying the process. I started to look into how Merge Sort works and wanted to implement it. This is my code, for some reason I can&#39;t figure out why my outputs are messed up!\r\n\r\n```\r\n    public static void Merge(ArrayList&lt;Integer&gt; arr, int low, int mid, int high) {\r\n        int left = low;\r\n        int rightPointer = mid + 1;\r\n\r\n        ArrayList&lt;Integer&gt; new_list = new ArrayList&lt;&gt;();\r\n\r\n        while (left &lt;= mid &amp;&amp; rightPointer &lt;= high) {\r\n            if (arr.get(left) &lt;= arr.get(rightPointer)) {\r\n                new_list.add(arr.get(left));\r\n                left++;\r\n            } else {\r\n                new_list.add(arr.get(rightPointer));\r\n                rightPointer++;\r\n            }\r\n        }\r\n\r\n        while (left &lt;= mid) {\r\n            new_list.add(arr.get(left));\r\n            left++;\r\n        }\r\n\r\n        while (rightPointer &lt;= high) {\r\n            new_list.add(arr.get(rightPointer));\r\n            rightPointer++;\r\n        }\r\n\r\n        for (int ele : new_list) {\r\n            System.out.print(ele + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void MergeSort(ArrayList&lt;Integer&gt; arr, int low, int high) {\r\n        if (low &gt;= high)\r\n            return;\r\n        int mid = (low + high) / 2;\r\n\r\n        MergeSort(arr, low, mid);\r\n        MergeSort(arr, mid + 1, high);\r\n        Merge(arr, low, mid, high);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(\r\n                Arrays.asList(25, 10, 3, 50, 24, 14, 8, 22, 35, 42, 10, 5, 18, 29, 50));\r\n\r\n        MergeSort(list, 0, list.size() - 1);\r\n    }\r\n```\r\n\r\nThis is my output, (printing each call of the merge function):\r\n```\r\n10 25 \r\n3 50 \r\n3 25 10 50 \r\n14 24 \r\n8 22 \r\n8 22 24 14 \r\n24 14 8 22 25 10 3 50 \r\n35 42 \r\n5 10 \r\n10 5 35 42 \r\n18 29 \r\n18 29 50 \r\n18 29 35 42 10 5 50 \r\n25 10 3 35 42 10 5 18 29 50 24 14 8 22 50\r\n```\r\n\r\nWhat am I doing wrong here? I have tried asking chatGPT and the response was that it couldn&#39;t find any errors from the given code!\r\n\r\nI have tried rewriting the entire code on python and figured out that the list is not being correctly sorted as it&#39;s being inserted into the newly &quot;sorted&quot; array. But I don&#39;t know how to solve this.\r\n\r\n","title":"I can&#39;t figure out the problem with this merge sort algorithm","body":"<p>I am trying to learn data structures and algorithms and I have been enjoying the process. I started to look into how Merge Sort works and wanted to implement it. This is my code, for some reason I can't figure out why my outputs are messed up!</p>\n<pre><code>    public static void Merge(ArrayList&lt;Integer&gt; arr, int low, int mid, int high) {\n        int left = low;\n        int rightPointer = mid + 1;\n\n        ArrayList&lt;Integer&gt; new_list = new ArrayList&lt;&gt;();\n\n        while (left &lt;= mid &amp;&amp; rightPointer &lt;= high) {\n            if (arr.get(left) &lt;= arr.get(rightPointer)) {\n                new_list.add(arr.get(left));\n                left++;\n            } else {\n                new_list.add(arr.get(rightPointer));\n                rightPointer++;\n            }\n        }\n\n        while (left &lt;= mid) {\n            new_list.add(arr.get(left));\n            left++;\n        }\n\n        while (rightPointer &lt;= high) {\n            new_list.add(arr.get(rightPointer));\n            rightPointer++;\n        }\n\n        for (int ele : new_list) {\n            System.out.print(ele + &quot; &quot;);\n        }\n        System.out.println();\n    }\n\n    public static void MergeSort(ArrayList&lt;Integer&gt; arr, int low, int high) {\n        if (low &gt;= high)\n            return;\n        int mid = (low + high) / 2;\n\n        MergeSort(arr, low, mid);\n        MergeSort(arr, mid + 1, high);\n        Merge(arr, low, mid, high);\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(\n                Arrays.asList(25, 10, 3, 50, 24, 14, 8, 22, 35, 42, 10, 5, 18, 29, 50));\n\n        MergeSort(list, 0, list.size() - 1);\n    }\n</code></pre>\n<p>This is my output, (printing each call of the merge function):</p>\n<pre><code>10 25 \n3 50 \n3 25 10 50 \n14 24 \n8 22 \n8 22 24 14 \n24 14 8 22 25 10 3 50 \n35 42 \n5 10 \n10 5 35 42 \n18 29 \n18 29 50 \n18 29 35 42 10 5 50 \n25 10 3 35 42 10 5 18 29 50 24 14 8 22 50\n</code></pre>\n<p>What am I doing wrong here? I have tried asking chatGPT and the response was that it couldn't find any errors from the given code!</p>\n<p>I have tried rewriting the entire code on python and figured out that the list is not being correctly sorted as it's being inserted into the newly &quot;sorted&quot; array. But I don't know how to solve this.</p>\n"},{"tags":["java","spring","spring-boot","security"],"answers":[{"comments":[{"owner":{"account_id":17636048,"reputation":47,"user_id":14370337,"display_name":"Thomas Kremer"},"score":0,"creation_date":1696037452,"post_id":77161828,"comment_id":136106939,"body_markdown":"I tried this and did read through the blog, it really didn&#39;t help a whole lot, but thanks for the tips and the idea.  I am clearly not advanced enough to start working with security for spring boot.","body":"I tried this and did read through the blog, it really didn&#39;t help a whole lot, but thanks for the tips and the idea.  I am clearly not advanced enough to start working with security for spring boot."}],"tags":[],"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695448406,"creation_date":1695448406,"answer_id":77161828,"question_id":77161239,"body_markdown":"You can modify your existing SecurityConfig to create Beans instead of extending the adapter.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private MySQLUserDetailsService mySQLUserDetailsService;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .userDetailsService(mySQLUserDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll()\r\n                .anyRequest().authenticated())\r\n                .formLogin(config -&gt; config.loginPage(&quot;/login&quot;).permitAll())\r\n                .logout(LogoutConfigurer::permitAll);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nYou can read this blog post on Spring.io to get better understanding.\r\nhttps://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\nYou might run into issues with the AuthenticationManagerBuilder and people have asked the same question in the comments of the blog, maybe you can go through that as well.","title":"Spring Boot Web Security Application, WebSecurityConfigurerAdapter is deprecated, what can I use instead to make my WebSecurityConfig class work?","body":"<p>You can modify your existing SecurityConfig to create Beans instead of extending the adapter.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private MySQLUserDetailsService mySQLUserDetailsService;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(mySQLUserDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll()\n                .anyRequest().authenticated())\n                .formLogin(config -&gt; config.loginPage(&quot;/login&quot;).permitAll())\n                .logout(LogoutConfigurer::permitAll);\n        return http.build();\n    }\n}\n</code></pre>\n<p>You can read this blog post on Spring.io to get better understanding.\n<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<p>You might run into issues with the AuthenticationManagerBuilder and people have asked the same question in the comments of the blog, maybe you can go through that as well.</p>\n"},{"comments":[{"owner":{"account_id":17636048,"reputation":47,"user_id":14370337,"display_name":"Thomas Kremer"},"score":0,"creation_date":1696037527,"post_id":77162849,"comment_id":136106942,"body_markdown":"I tried this, I appreciate the tip.  This did not work for me because I did not have some of the other dependencies this code is depending on.  It just confused me even more.","body":"I tried this, I appreciate the tip.  This did not work for me because I did not have some of the other dependencies this code is depending on.  It just confused me even more."}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695469012,"creation_date":1695469012,"answer_id":77162849,"question_id":77161239,"body_markdown":"i am use Springboot3.1.4 \r\n       \r\n     @Configuration(proxyBeanMethods = false)\r\n        @EnableMethodSecurity\r\n        public class WebSecurityConfig  {\r\n        \r\n            @Bean\r\n            public PasswordEncoder passwordEncoder() {\r\n                return new BCryptPasswordEncoder();\r\n            }\r\n        \r\n            @Bean\r\n            public UserDetailsService userDetailsService() {\r\n                return new MySQLUserDetailsService();\r\n            }\r\n        \r\n             static class MySQLUserDetailsService implements UserDetailsService{\r\n                @Override\r\n                public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n                    return User.builder().username(&quot;admin&quot;).password(&quot;123456&quot;).authorities(&quot;admin&quot;).build();\r\n                }\r\n            }\r\n        \r\n            @Bean\r\n            public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n                return http.authorizeHttpRequests(c -&gt; c.requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll().anyRequest().authenticated())\r\n                        .formLogin(c -&gt; c.loginPage(&quot;/login&quot;).permitAll())\r\n                        .logout(LogoutConfigurer::permitAll)\r\n                        .build();\r\n            }\r\n        }","title":"Spring Boot Web Security Application, WebSecurityConfigurerAdapter is deprecated, what can I use instead to make my WebSecurityConfig class work?","body":"<p>i am use Springboot3.1.4</p>\n<pre><code> @Configuration(proxyBeanMethods = false)\n    @EnableMethodSecurity\n    public class WebSecurityConfig  {\n    \n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n    \n        @Bean\n        public UserDetailsService userDetailsService() {\n            return new MySQLUserDetailsService();\n        }\n    \n         static class MySQLUserDetailsService implements UserDetailsService{\n            @Override\n            public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n                return User.builder().username(&quot;admin&quot;).password(&quot;123456&quot;).authorities(&quot;admin&quot;).build();\n            }\n        }\n    \n        @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n            return http.authorizeHttpRequests(c -&gt; c.requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll().anyRequest().authenticated())\n                    .formLogin(c -&gt; c.loginPage(&quot;/login&quot;).permitAll())\n                    .logout(LogoutConfigurer::permitAll)\n                    .build();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17636048,"reputation":47,"user_id":14370337,"display_name":"Thomas Kremer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695556487,"creation_date":1695429130,"question_id":77161239,"body_markdown":"I am very new to spring boot, and I am following along in a tutorial about the spring boot web security, and the tutorial is supposed to be demonstrating how to set up and configure the WebSecurityConfig class that they have us create.  The problem that I am running into is twofold.  \r\n\r\nFirst, they have me extending my WebSecurityConfig class with the WebSecurityConfigurerAdapter, which is deprecated and I can not seem to find anything related to how to update this anywhere.  I tried to use the WsCongfigurerAdapater insdead but that doesn&#39;t seem to do much better.\r\n\r\nSecond is the configure method at the bottom of the file, it seems as though all of the http methods such ass .authorizeHttpRequest(), .authorizeRequest(), .antMatchers(), .requestMatchers() are all either deprecated or incorrect. \r\n\r\nHow can I update my WebSecurityConfig class to fix these few problems?  I have included the code within the WebSecurityConfig.java class file, as well as the images of the messages I get.  \r\n\r\nFinally what happened when I used the WsConfigurerAdapter or if I leave the file as they tell me to set it up is that I can not navigate to any route other than the /login route.  Every other route that I try redirects me back to this.  \r\n\r\nPlease Help.\r\n\r\nWebSecurityConfig.java:\r\n\r\n    package com.securewebapp;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    \r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.ws.config.annotation.WsConfigurerAdapter;\r\n    \r\n    import com.securewebapp.auth.MySQLUserDetailsService;\r\n    \r\n    import io.netty.handler.codec.http.HttpMethod;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate MySQLUserDetailsService mySQLUserDetailsService;\r\n    \t\r\n    \t@Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \t\r\n    \t@Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n             .userDetailsService(mySQLUserDetailsService)\r\n             .passwordEncoder(passwordEncoder());\r\n        }\r\n    \t\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t    http.authorizeHttpRequests()\r\n    \t        .antMatchers(HttpMethod, &quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll()\r\n    \t        .anyRequest().authenticated()\r\n    \t        .and()\r\n    \t        .formLogin()\r\n    \t        .loginPage(&quot;/login&quot;)\r\n    \t        .permitAll()\r\n    \t        .and()\r\n    \t        .logout()\r\n    \t        .permitAll();\r\n    \t}\r\n    }\r\n    [WebSecurityConfigurerAdapter][1]\r\n    [![authorizeHttpRequest][2]][2]\r\n    [![HttpMethod][3]][3]\r\n    [![antMathers][4]][4]\r\n\r\n  [1]: https://i.stack.imgur.com/N3ams.png\r\n  [2]: https://i.stack.imgur.com/T40NW.png\r\n  [3]: https://i.stack.imgur.com/WVhfF.png\r\n  [4]: https://i.stack.imgur.com/asBPD.png","title":"Spring Boot Web Security Application, WebSecurityConfigurerAdapter is deprecated, what can I use instead to make my WebSecurityConfig class work?","body":"<p>I am very new to spring boot, and I am following along in a tutorial about the spring boot web security, and the tutorial is supposed to be demonstrating how to set up and configure the WebSecurityConfig class that they have us create.  The problem that I am running into is twofold.</p>\n<p>First, they have me extending my WebSecurityConfig class with the WebSecurityConfigurerAdapter, which is deprecated and I can not seem to find anything related to how to update this anywhere.  I tried to use the WsCongfigurerAdapater insdead but that doesn't seem to do much better.</p>\n<p>Second is the configure method at the bottom of the file, it seems as though all of the http methods such ass .authorizeHttpRequest(), .authorizeRequest(), .antMatchers(), .requestMatchers() are all either deprecated or incorrect.</p>\n<p>How can I update my WebSecurityConfig class to fix these few problems?  I have included the code within the WebSecurityConfig.java class file, as well as the images of the messages I get.</p>\n<p>Finally what happened when I used the WsConfigurerAdapter or if I leave the file as they tell me to set it up is that I can not navigate to any route other than the /login route.  Every other route that I try redirects me back to this.</p>\n<p>Please Help.</p>\n<p>WebSecurityConfig.java:</p>\n<pre><code>package com.securewebapp;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\n\nimport com.securewebapp.auth.MySQLUserDetailsService;\n\nimport io.netty.handler.codec.http.HttpMethod;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private MySQLUserDetailsService mySQLUserDetailsService;\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n         .userDetailsService(mySQLUserDetailsService)\n         .passwordEncoder(passwordEncoder());\n    }\n    \n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n            .antMatchers(HttpMethod, &quot;/&quot;, &quot;/home&quot;, &quot;/register&quot;, &quot;/css/**.css&quot;, &quot;/js/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll();\n    }\n}\n[WebSecurityConfigurerAdapter][1]\n[![authorizeHttpRequest][2]][2]\n[![HttpMethod][3]][3]\n[![antMathers][4]][4]\n</code></pre>\n"},{"tags":["java","multidimensional-array","mergesort"],"answers":[{"tags":[],"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695555717,"creation_date":1695555717,"answer_id":77166934,"question_id":77119410,"body_markdown":"The main problem in your code is the initialization of the temporary arrays in the `merge` method is incorrect: you must use a shifted index in `arr`:\r\n\r\n        for (int i = 0; i &lt; n1; i++) {\r\n            left[i] = arr[s + i];\r\n        }\r\n    \r\n        for (int i = 0; i &lt; n2; i++) {\r\n            right[i] = arr[m + 1 + i];\r\n        }\r\n","title":"mergeSort for 2d array&#39;s 1st index in java","body":"<p>The main problem in your code is the initialization of the temporary arrays in the <code>merge</code> method is incorrect: you must use a shifted index in <code>arr</code>:</p>\n<pre><code>    for (int i = 0; i &lt; n1; i++) {\n        left[i] = arr[s + i];\n    }\n\n    for (int i = 0; i &lt; n2; i++) {\n        right[i] = arr[m + 1 + i];\n    }\n</code></pre>\n"}],"owner":{"account_id":26453399,"reputation":59,"user_id":20096277,"display_name":"Dhairya Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695555717,"creation_date":1694894359,"question_id":77119410,"body_markdown":"I am trying to sort a 2D array based on the value of 0th indexes. I tried modifying merge sort a bit but I am getting this problem where after calling the function only the first element in copied to all indexes.\r\n```\r\n    public static void mergeSort(long arr[][], int s, int e) {\r\n\t\tif (s &lt; e) {\r\n\t\t\tint mid = s + (e - s) / 2;\r\n\r\n\t\t\tmergeSort(arr, s, mid);\r\n\t\t\tmergeSort(arr, mid + 1, e);\r\n\r\n\t\t\tmerge(arr, s, mid, e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void merge(long arr[][], int s, int mid, int e) {\r\n\t\tint n1 = mid - s + 1, n2 = e - mid;\r\n\t\tlong left[][] = new long[n1][2];\r\n\t\tlong right[][] = new long[n2][2];\r\n\t\tfor (int i = 0; i &lt; n1; i++) {\r\n\t\t\tleft[i] = arr[i];\r\n\t\t}\r\n\t\r\n\t\tfor (int i = 0; i &lt; n2; i++) {\r\n\t\t\tright[i] = arr[i + n1];\r\n\t\t}\r\n\r\n\t\tint i = 0, j = 0, k = s;\r\n\r\n\t\twhile (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n\t\t\tif (left[i][0] &lt; right[j][0])\r\n                arr[k++] = left[i++];\r\n\t\t\telse\r\n                arr[k++] = right[j++];\r\n\t\t}\r\n\r\n\t\twhile (i &lt; n1) {\r\n\t\t\tarr[k++] = left[i++];\r\n\t\t}\r\n\r\n\t\twhile (j &lt; n2) {\r\n\t\t\tarr[k++] = left[j++];\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlong arr[][] = { { 1, 4 }, { 3, 6 }, { 8, 4 }, { 7, 7 } };\r\n\t\t\r\n\t\tmergeSort(arr, 0, 3);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tSystem.out.println(arr[i][0] + &quot; &quot; + arr[i][1]);\r\n\t\t}\r\n\t}\r\n```","title":"mergeSort for 2d array&#39;s 1st index in java","body":"<p>I am trying to sort a 2D array based on the value of 0th indexes. I tried modifying merge sort a bit but I am getting this problem where after calling the function only the first element in copied to all indexes.</p>\n<pre><code>    public static void mergeSort(long arr[][], int s, int e) {\n        if (s &lt; e) {\n            int mid = s + (e - s) / 2;\n\n            mergeSort(arr, s, mid);\n            mergeSort(arr, mid + 1, e);\n\n            merge(arr, s, mid, e);\n        }\n    }\n\n    public static void merge(long arr[][], int s, int mid, int e) {\n        int n1 = mid - s + 1, n2 = e - mid;\n        long left[][] = new long[n1][2];\n        long right[][] = new long[n2][2];\n        for (int i = 0; i &lt; n1; i++) {\n            left[i] = arr[i];\n        }\n    \n        for (int i = 0; i &lt; n2; i++) {\n            right[i] = arr[i + n1];\n        }\n\n        int i = 0, j = 0, k = s;\n\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (left[i][0] &lt; right[j][0])\n                arr[k++] = left[i++];\n            else\n                arr[k++] = right[j++];\n        }\n\n        while (i &lt; n1) {\n            arr[k++] = left[i++];\n        }\n\n        while (j &lt; n2) {\n            arr[k++] = left[j++];\n        }\n    }\n\n    public static void main(String[] args) {\n        long arr[][] = { { 1, 4 }, { 3, 6 }, { 8, 4 }, { 7, 7 } };\n        \n        mergeSort(arr, 0, 3);\n        \n        for (int i = 0; i &lt; 4; i++) {\n            System.out.println(arr[i][0] + &quot; &quot; + arr[i][1]);\n        }\n    }\n</code></pre>\n"},{"tags":["java","pattern-matching","record-patterns"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1695528698,"post_id":77165658,"comment_id":136035463,"body_markdown":"If `obj` was null it wouldn&#39;t match any pattern. Not sure why you think `Point(null, 2)` wouldn&#39;t.","body":"If <code>obj</code> was null it wouldn&#39;t match any pattern. Not sure why you think <code>Point(null, 2)</code> wouldn&#39;t."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1695554464,"post_id":77165658,"comment_id":136037413,"body_markdown":"can you please add which part of the JEP is stating that it does not match if any **field** of the record is `null`? ( `new Point(null, 2)`  definitively is **not null** )","body":"can you please add which part of the JEP is stating that it does not match if any <b>field</b> of the record is <code>null</code>? ( <code>new Point(null, 2)</code>  definitively is <b>not null</b> )"}],"answers":[{"comments":[{"owner":{"account_id":14563027,"reputation":21,"user_id":10829994,"display_name":"Roberto Eddy Lara Rodr&#237;guez"},"score":0,"creation_date":1695560336,"post_id":77165685,"comment_id":136037977,"body_markdown":"Thanks for the answer. I understand now how work Record Pattern.","body":"Thanks for the answer. I understand now how work Record Pattern."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1695530767,"creation_date":1695529170,"answer_id":77165685,"question_id":77165658,"body_markdown":"[JEP 440][1] indeed says:\r\n\r\n&gt; The null value does not match any record pattern.\r\n\r\nBut look carefully at what a record pattern is:\r\n\r\n&gt; A record pattern consists of a record class type and a (possibly empty) pattern list [...]\r\n\r\nThe JEP also specified the syntax of a record pattern like this:\r\n\r\n```none\r\nPattern:\r\n  TypePattern\r\n  RecordPattern\r\n\r\nTypePattern:\r\n  LocalVariableDeclaration\r\n\r\nRecordPattern:\r\n  ReferenceType ( [ PatternList ] )\r\n\r\nPatternList : \r\n  Pattern { , Pattern }\r\n```\r\n\r\nBy these definitions, we can see that `var x` and `var y` are ***not*** record patterns. They are *type patterns*. The rule that &quot;The null value does not match any record pattern&quot; does not apply to `var x` and `var y`.\r\n\r\nThis rule does apply to the entire `Point(var x, var y)` pattern, which *is* a record pattern, so if `obj` is null, it will not match `Point(var x, var y)`.\r\n\r\nI can&#39;t find exactly where in the JEP says that type patterns in record patterns behave like this, but the [preview spec][2] does state this explicitly:\r\n\r\n&gt; Consider, for example:\r\n&gt; \r\n&gt;     class Super {}\r\n&gt;     class Sub extends Super {}\r\n&gt;     record R(Super s) {}\r\n&gt; \r\n&gt; We expect all non-null values of type `R` to match the pattern\r\n&gt; `R(Super s)`, including the value resulting from evaluating the\r\n&gt; expression `new R(null)`. (Even though the null value does not match\r\n&gt; the pattern `Super s`.) However, we would not expect this value to match the pattern `R(Sub s)` as the `null` value for the record component does not match the pattern `Sub s`.\r\n&gt;\r\n&gt; The meaning of a pattern occurring in a nested pattern list is then determined with respect to the record declaration. Resolution replaces any type patterns appearing in a nested pattern list that should match all values including `null` with instances of the special any pattern. In our example above, the pattern `R(Sub s)` is resolved to the pattern `R(Sub s)`, whereas the pattern `R(Super s)` is resolved to a record pattern with type `R` and a nested pattern list containing an any pattern.\r\n\r\nIn other words, `Point(var x, var y)` is resolved to `Point(&lt;any&gt;, &lt;any&gt;)`. The `&lt;any&gt;` pattern here can match everything, including null.\r\n\r\n&lt;hr&gt;\r\n\r\nHere&#39;s another example:\r\n\r\n```\r\nrecord Foo(Integer x, Integer y) {}\r\n\r\nrecord Bar(Foo a, Foo b) {}\r\n```\r\n\r\n    private static void printSum(Object obj) {\r\n        if (obj instanceof Bar(Foo(Integer x1, Integer y1), Foo(var x2, var y2))) {\r\n            System.out.println(&quot;matched!&quot;);\r\n        }\r\n    }\r\n\r\nNow, a `new Bar(null, null)` would *not* match the pattern `Bar(Foo(Integer x1, Integer y1), Foo(var x2, var y2))`, because `Foo(Integer x1, Integer y1)` is a record pattern, and `null` does not match it.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/440\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se20/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.30.2","title":"Why null value is matching the record pattern?","body":"<p><a href=\"https://openjdk.org/jeps/440\" rel=\"noreferrer\">JEP 440</a> indeed says:</p>\n<blockquote>\n<p>The null value does not match any record pattern.</p>\n</blockquote>\n<p>But look carefully at what a record pattern is:</p>\n<blockquote>\n<p>A record pattern consists of a record class type and a (possibly empty) pattern list [...]</p>\n</blockquote>\n<p>The JEP also specified the syntax of a record pattern like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pattern:\n  TypePattern\n  RecordPattern\n\nTypePattern:\n  LocalVariableDeclaration\n\nRecordPattern:\n  ReferenceType ( [ PatternList ] )\n\nPatternList : \n  Pattern { , Pattern }\n</code></pre>\n<p>By these definitions, we can see that <code>var x</code> and <code>var y</code> are <em><strong>not</strong></em> record patterns. They are <em>type patterns</em>. The rule that &quot;The null value does not match any record pattern&quot; does not apply to <code>var x</code> and <code>var y</code>.</p>\n<p>This rule does apply to the entire <code>Point(var x, var y)</code> pattern, which <em>is</em> a record pattern, so if <code>obj</code> is null, it will not match <code>Point(var x, var y)</code>.</p>\n<p>I can't find exactly where in the JEP says that type patterns in record patterns behave like this, but the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.30.2\" rel=\"noreferrer\">preview spec</a> does state this explicitly:</p>\n<blockquote>\n<p>Consider, for example:</p>\n<pre><code>class Super {}\nclass Sub extends Super {}\nrecord R(Super s) {}\n</code></pre>\n<p>We expect all non-null values of type <code>R</code> to match the pattern\n<code>R(Super s)</code>, including the value resulting from evaluating the\nexpression <code>new R(null)</code>. (Even though the null value does not match\nthe pattern <code>Super s</code>.) However, we would not expect this value to match the pattern <code>R(Sub s)</code> as the <code>null</code> value for the record component does not match the pattern <code>Sub s</code>.</p>\n<p>The meaning of a pattern occurring in a nested pattern list is then determined with respect to the record declaration. Resolution replaces any type patterns appearing in a nested pattern list that should match all values including <code>null</code> with instances of the special any pattern. In our example above, the pattern <code>R(Sub s)</code> is resolved to the pattern <code>R(Sub s)</code>, whereas the pattern <code>R(Super s)</code> is resolved to a record pattern with type <code>R</code> and a nested pattern list containing an any pattern.</p>\n</blockquote>\n<p>In other words, <code>Point(var x, var y)</code> is resolved to <code>Point(&lt;any&gt;, &lt;any&gt;)</code>. The <code>&lt;any&gt;</code> pattern here can match everything, including null.</p>\n<hr>\n<p>Here's another example:</p>\n<pre><code>record Foo(Integer x, Integer y) {}\n\nrecord Bar(Foo a, Foo b) {}\n</code></pre>\n<pre><code>private static void printSum(Object obj) {\n    if (obj instanceof Bar(Foo(Integer x1, Integer y1), Foo(var x2, var y2))) {\n        System.out.println(&quot;matched!&quot;);\n    }\n}\n</code></pre>\n<p>Now, a <code>new Bar(null, null)</code> would <em>not</em> match the pattern <code>Bar(Foo(Integer x1, Integer y1), Foo(var x2, var y2))</code>, because <code>Foo(Integer x1, Integer y1)</code> is a record pattern, and <code>null</code> does not match it.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695553923,"creation_date":1695553349,"answer_id":77166803,"question_id":77165658,"body_markdown":"The exception you see is nothing to do with records, it is caused by the line which attempts to add one to `null` and is no different to the output you&#39;d see if you had declared `Integer x = null;`:\r\n\r\n    System.out.println(x + 1);\r\n\r\nIf you change that line to `System.out.println(&quot;x=&quot;+x+&quot; y=&quot;+y);` then your code sample works fine - matching `new Point(null, 2)` to x and y, and will print the value that you initialised with - &quot;x=null y=2&quot;\r\n\r\n\tpublic class MainPatternMatchingRecord {\r\n\t\tpublic static void main(String ... args) {\r\n\t\t\tprintSum(new Point(null, 2));\r\n\t\t}\r\n\r\n\t\tprivate static void printSum(Object obj) {\r\n\t\t\tif (obj instanceof Point(var x, var y)) {\r\n\t\t\t\tSystem.out.println(&quot;x=&quot;+x+&quot; y=&quot;+y);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIf you call `printSum(null)` the pattern match does not apply, and nothing is printed.","title":"Why null value is matching the record pattern?","body":"<p>The exception you see is nothing to do with records, it is caused by the line which attempts to add one to <code>null</code> and is no different to the output you'd see if you had declared <code>Integer x = null;</code>:</p>\n<pre><code>System.out.println(x + 1);\n</code></pre>\n<p>If you change that line to <code>System.out.println(&quot;x=&quot;+x+&quot; y=&quot;+y);</code> then your code sample works fine - matching <code>new Point(null, 2)</code> to x and y, and will print the value that you initialised with - &quot;x=null y=2&quot;</p>\n<pre><code>public class MainPatternMatchingRecord {\n    public static void main(String ... args) {\n        printSum(new Point(null, 2));\n    }\n\n    private static void printSum(Object obj) {\n        if (obj instanceof Point(var x, var y)) {\n            System.out.println(&quot;x=&quot;+x+&quot; y=&quot;+y);\n        }\n    }\n}\n</code></pre>\n<p>If you call <code>printSum(null)</code> the pattern match does not apply, and nothing is printed.</p>\n"}],"owner":{"account_id":14563027,"reputation":21,"user_id":10829994,"display_name":"Roberto Eddy Lara Rodr&#237;guez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77165685,"answer_count":2,"score":1,"last_activity_date":1695553923,"creation_date":1695527683,"question_id":77165658,"body_markdown":"I have been trying out examples of pattern matching with record patterns in Java 21. The official documentation asserts that a null value does not match any record pattern. However, I try this example:\r\n\r\n```java\r\nrecord Point(Integer x, Integer y) {}\r\n\r\npublic class MainPatternMatchingRecord {\r\n    public static void main(String[] args) {\r\n        printSum(new Point(null, 2));\r\n    }\r\n\r\n    private static void printSum(Object obj) {\r\n        if (obj instanceof Point(var x, var y)) {\r\n            System.out.println(x + 1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere, in my understanding of JEP, `new Point(null, 2)` shouldn&#39;t match in `instanceof Point(var x, var y)`, but when run program, throws this exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;java.lang.Integer.intValue()&quot; because &quot;x&quot; is null\r\n\r\nWhy is this behaviour happen? How should correctly interpret that null value not match any record pattern?","title":"Why null value is matching the record pattern?","body":"<p>I have been trying out examples of pattern matching with record patterns in Java 21. The official documentation asserts that a null value does not match any record pattern. However, I try this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Point(Integer x, Integer y) {}\n\npublic class MainPatternMatchingRecord {\n    public static void main(String[] args) {\n        printSum(new Point(null, 2));\n    }\n\n    private static void printSum(Object obj) {\n        if (obj instanceof Point(var x, var y)) {\n            System.out.println(x + 1);\n        }\n    }\n}\n</code></pre>\n<p>Here, in my understanding of JEP, <code>new Point(null, 2)</code> shouldn't match in <code>instanceof Point(var x, var y)</code>, but when run program, throws this exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;java.lang.Integer.intValue()&quot; because &quot;x&quot; is null</p>\n</blockquote>\n<p>Why is this behaviour happen? How should correctly interpret that null value not match any record pattern?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":424679,"reputation":2320,"user_id":804812,"display_name":"Leszek Gruchaa"},"score":0,"creation_date":1412174535,"post_id":26143894,"comment_id":40980680,"body_markdown":"Just an idea, but since this is windows... do you have any whitespaces in the path to tomcat?","body":"Just an idea, but since this is windows... do you have any whitespaces in the path to tomcat?"},{"owner":{"account_id":1651657,"reputation":173,"user_id":1522129,"accept_rate":25,"display_name":"Dev Null Fin"},"score":0,"creation_date":1412175104,"post_id":26143894,"comment_id":40981013,"body_markdown":"This is my path: C:\\Users\\java_user\\apache-tomcat-8.0.12-windows-x64\\apache-tomcat-8 in Windows 7.","body":"This is my path: C:\\Users\\java_user\\apache-tomcat-8.0.12-windows-x64\\apache-t&zwnj;&#8203;omcat-8 in Windows 7."},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1412177226,"post_id":26143894,"comment_id":40982358,"body_markdown":"are u sure tomcat is installed there??? if you downloaded the tomcat installer it extracts it in c/programfiles","body":"are u sure tomcat is installed there??? if you downloaded the tomcat installer it extracts it in c/programfiles"},{"owner":{"account_id":1651657,"reputation":173,"user_id":1522129,"accept_rate":25,"display_name":"Dev Null Fin"},"score":0,"creation_date":1412181444,"post_id":26143894,"comment_id":40984839,"body_markdown":"I rebooted my machine and it got resolved. My tomcat server is up and running. I don&#39;t know what exactly happened.","body":"I rebooted my machine and it got resolved. My tomcat server is up and running. I don&#39;t know what exactly happened."}],"answers":[{"tags":[],"owner":{"account_id":1323586,"reputation":173,"user_id":1268890,"accept_rate":36,"display_name":"vijayboli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422011494,"creation_date":1422011494,"answer_id":28108630,"question_id":26143894,"body_markdown":"Today I have faced the same issue. I have defined my sources files in catalina.properties near `server.loader=C:\\aaconfigs\\appconfigs,C:\\aaconfigs\\appParams.`\r\nthis caused the issue. When i changed it to following `server.loader=C:/aaconfigs/appconfigs,C:/aaconfigs/appParams.` error got resolved.\r\n\r\nI hope this will be helpful.","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>Today I have faced the same issue. I have defined my sources files in catalina.properties near <code>server.loader=C:\\aaconfigs\\appconfigs,C:\\aaconfigs\\appParams.</code>\nthis caused the issue. When i changed it to following <code>server.loader=C:/aaconfigs/appconfigs,C:/aaconfigs/appParams.</code> error got resolved.</p>\n\n<p>I hope this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":281259,"reputation":2071,"user_id":577450,"accept_rate":65,"display_name":"JSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1422783176,"creation_date":1422783176,"answer_id":28261336,"question_id":26143894,"body_markdown":"Had a similar issue with Tomcat 8 and Java 8 on Windows 8, and after little bit of playing around, I noticed that `CATALINA_HOME` was set as &quot;`CATA_HOME=c:\\mydir\\tomcat.8.0\\`&quot;\r\n\r\nI just changed it to `CATA_HOME=c:\\mydir\\tomcat.8.0`&quot; and it fixed all the issues. I never thought ending back slash would cause the issue but there you are...it did!!!","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>Had a similar issue with Tomcat 8 and Java 8 on Windows 8, and after little bit of playing around, I noticed that <code>CATALINA_HOME</code> was set as \"<code>CATA_HOME=c:\\mydir\\tomcat.8.0\\</code>\"</p>\n\n<p>I just changed it to <code>CATA_HOME=c:\\mydir\\tomcat.8.0</code>\" and it fixed all the issues. I never thought ending back slash would cause the issue but there you are...it did!!!</p>\n"},{"tags":[],"owner":{"account_id":1309273,"reputation":1081,"user_id":1257622,"accept_rate":70,"display_name":"Conor Pender"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464349218,"creation_date":1464349218,"answer_id":37482597,"question_id":26143894,"body_markdown":"I managed to solve this problem by **deleting the server and creating a new one**. Much simpler than trying to diagnose what went wrong.","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>I managed to solve this problem by <strong>deleting the server and creating a new one</strong>. Much simpler than trying to diagnose what went wrong.</p>\n"},{"tags":[],"owner":{"account_id":3361213,"reputation":328,"user_id":2822977,"display_name":"Piotr Kepka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467042315,"creation_date":1467042315,"answer_id":38058170,"question_id":26143894,"body_markdown":"Check if you didn&#39;t miss any quotation mark(s) around commas in catalina.properties. In my case it was: `...,&quot;${catalina.home}/lib/*.jar,${catalina.base}/../lib/*.jar&quot;` instead of `...,&quot;${catalina.home}/lib/*.jar`**&quot;`,`&quot;**`${catalina.base}/../lib/*.jar&quot;`.\r\n","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>Check if you didn't miss any quotation mark(s) around commas in catalina.properties. In my case it was: <code>...,\"${catalina.home}/lib/*.jar,${catalina.base}/../lib/*.jar\"</code> instead of <code>...,\"${catalina.home}/lib/*.jar</code><strong>\"<code>,</code>\"</strong><code>${catalina.base}/../lib/*.jar\"</code>.</p>\n"},{"comments":[{"owner":{"account_id":9917712,"reputation":89,"user_id":7341970,"display_name":"fatih yavuz"},"score":0,"creation_date":1582700544,"post_id":40175564,"comment_id":106863155,"body_markdown":"yes its about tomcat path.i update my tomcat path and its worked.thx","body":"yes its about tomcat path.i update my tomcat path and its worked.thx"}],"tags":[],"owner":{"account_id":959155,"reputation":182,"user_id":6092539,"display_name":"ihm017"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477049378,"creation_date":1477049378,"answer_id":40175564,"question_id":26143894,"body_markdown":"Faced similar issue.\r\nModified my CATALINA_HOME path as below:\r\nPrevious:\r\nCATALINA_HOME=D:\\Personal\\Projects\\Apache\\apache-tomcat-7.0.37-windows-x64\\apache-tomcat-7.0.37\\\r\n\r\nChanged to:\r\nCATALINA_HOME=D:\\Personal\\Projects\\Apache\\apache-tomcat-7.0.37-windows-x64\\apache-tomcat-7.0.37\r\n\r\nVOILA!\r\nIt worked.\r\n","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>Faced similar issue.\nModified my CATALINA_HOME path as below:\nPrevious:\nCATALINA_HOME=D:\\Personal\\Projects\\Apache\\apache-tomcat-7.0.37-windows-x64\\apache-tomcat-7.0.37\\</p>\n\n<p>Changed to:\nCATALINA_HOME=D:\\Personal\\Projects\\Apache\\apache-tomcat-7.0.37-windows-x64\\apache-tomcat-7.0.37</p>\n\n<p>VOILA!\nIt worked.</p>\n"},{"tags":[],"owner":{"account_id":3452675,"reputation":661,"user_id":2891948,"accept_rate":24,"display_name":"viveksinghggits"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490954875,"creation_date":1490954875,"answer_id":43138039,"question_id":26143894,"body_markdown":"I had the exact same issue and just deleted the server from my workspace and added a new one, didnt get the error again. Its working fine for now.","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>I had the exact same issue and just deleted the server from my workspace and added a new one, didnt get the error again. Its working fine for now.</p>\n"}],"owner":{"account_id":1651657,"reputation":173,"user_id":1522129,"accept_rate":25,"display_name":"Dev Null Fin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18221,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1695553875,"creation_date":1412174149,"question_id":26143894,"body_markdown":"I am unable to start Tomcat 8.0 64-bit server. I have catalina.bat run also. I am getting the below message.\r\n\r\n    01-Oct-2014 10:22:11.415 SEVERE [main] org.apache.catalina.startup.Bootstrap.ini\r\n    tClassLoaders Class loader creation threw exception\r\n    java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n        at java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n        at java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\r\n        at java.io.File.getCanonicalPath(File.java:618)\r\n        at java.io.File.getCanonicalFile(File.java:643)\r\n        at org.apache.catalina.startup.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:165)\r\n        at org.apache.catalina.startup.Bootstrap.createClassLoader(Bootstrap.java:201)\r\n        at org.apache.catalina.startup.Bootstrap.initClassLoaders(Bootstrap.java:146)\r\n        at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:256)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\r\n\r\n\r\nCould you please advise?\r\n","title":"Tomcat 8.0 64-bit server not starting and getting error from Catalina.bat","body":"<p>I am unable to start Tomcat 8.0 64-bit server. I have catalina.bat run also. I am getting the below message.</p>\n\n<pre><code>01-Oct-2014 10:22:11.415 SEVERE [main] org.apache.catalina.startup.Bootstrap.ini\ntClassLoaders Class loader creation threw exception\njava.io.IOException: The filename, directory name, or volume label syntax is incorrect\n    at java.io.WinNTFileSystem.canonicalize0(Native Method)\n    at java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\n    at java.io.File.getCanonicalPath(File.java:618)\n    at java.io.File.getCanonicalFile(File.java:643)\n    at org.apache.catalina.startup.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:165)\n    at org.apache.catalina.startup.Bootstrap.createClassLoader(Bootstrap.java:201)\n    at org.apache.catalina.startup.Bootstrap.initClassLoaders(Bootstrap.java:146)\n    at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:256)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\n</code></pre>\n\n<p>Could you please advise?</p>\n"},{"tags":["java","mail-server","centos8","apache-james"],"owner":{"account_id":23602131,"reputation":1,"user_id":17638455,"display_name":"frankc27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695552801,"creation_date":1694789437,"question_id":77113372,"body_markdown":"I&#39;ve managed to install and start Apache James.\r\n\r\nWhen I try to connect on the WebAdmin it says:\r\n\r\n    {&quot;statusCode&quot;:404,&quot;type&quot;:&quot;notFound&quot;,&quot;message&quot;:&quot;GET / can not be found&quot;,&quot;details&quot;:null}\r\n\r\nSo I am not able to access the WebAdmin. I followed the official documentation... installing jdk 11, downloading JPA Guice binary, configuring and then run.\r\n\r\nFrom documentation I understand that the only file conf for WebAdmin is conf/webadmin.properties but in this file there&#39;s only the parameters for port and host.","title":"Error 404 not found when connecting to Apache James WebAdmin","body":"<p>I've managed to install and start Apache James.</p>\n<p>When I try to connect on the WebAdmin it says:</p>\n<pre><code>{&quot;statusCode&quot;:404,&quot;type&quot;:&quot;notFound&quot;,&quot;message&quot;:&quot;GET / can not be found&quot;,&quot;details&quot;:null}\n</code></pre>\n<p>So I am not able to access the WebAdmin. I followed the official documentation... installing jdk 11, downloading JPA Guice binary, configuring and then run.</p>\n<p>From documentation I understand that the only file conf for WebAdmin is conf/webadmin.properties but in this file there's only the parameters for port and host.</p>\n"},{"tags":["java","paypal"],"comments":[{"owner":{"account_id":1222470,"reputation":25986,"user_id":1188826,"accept_rate":61,"display_name":"Drew Angell"},"score":0,"creation_date":1439084465,"post_id":31897393,"comment_id":51715330,"body_markdown":"I would recommend using this [PayPal PHP SDK](https://www.angelleye.com/product/paypal-sdk-php/) instead.  It uses the Classic API, but it has samples/templates that are fully functional and ready to go.  GetBalance is the easiest call, of course, and the sample itself would work for you out of the box.  [Click here for a look at the GetBalance sample](http://paypal.angelleye.com/paypal-php-library/samples/GetBalance.php).","body":"I would recommend using this <a href=\"https://www.angelleye.com/product/paypal-sdk-php/\" rel=\"nofollow noreferrer\">PayPal PHP SDK</a> instead.  It uses the Classic API, but it has samples/templates that are fully functional and ready to go.  GetBalance is the easiest call, of course, and the sample itself would work for you out of the box.  <a href=\"http://paypal.angelleye.com/paypal-php-library/samples/GetBalance.php\" rel=\"nofollow noreferrer\">Click here for a look at the GetBalance sample</a>."},{"owner":{"account_id":1222470,"reputation":25986,"user_id":1188826,"accept_rate":61,"display_name":"Drew Angell"},"score":0,"creation_date":1439084517,"post_id":31897393,"comment_id":51715339,"body_markdown":"Ah, shoot.  Nevermind, I just saw that you&#39;re using Java.","body":"Ah, shoot.  Nevermind, I just saw that you&#39;re using Java."},{"owner":{"account_id":6169565,"reputation":584,"user_id":4808250,"accept_rate":67,"display_name":"SysVoid"},"score":0,"creation_date":1439094045,"post_id":31897393,"comment_id":51716639,"body_markdown":"I&#39;ll have a look, since I&#39;m a PHP developer anyway. :)","body":"I&#39;ll have a look, since I&#39;m a PHP developer anyway. :)"}],"answers":[{"comments":[{"owner":{"account_id":6169565,"reputation":584,"user_id":4808250,"accept_rate":67,"display_name":"SysVoid"},"score":0,"creation_date":1439134493,"post_id":31905320,"comment_id":51725587,"body_markdown":"Is the SIGNATURE their API key thing from the website?","body":"Is the SIGNATURE their API key thing from the website?"},{"owner":{"account_id":6220862,"reputation":3402,"user_id":4840536,"display_name":"pp_pduan"},"score":0,"creation_date":1439183293,"post_id":31905320,"comment_id":51737313,"body_markdown":"Exactly, login to the PayPal account, and find &quot;API access&quot; under the &quot;profile&quot; tab","body":"Exactly, login to the PayPal account, and find &quot;API access&quot; under the &quot;profile&quot; tab"},{"owner":{"account_id":6169565,"reputation":584,"user_id":4808250,"accept_rate":67,"display_name":"SysVoid"},"score":1,"creation_date":1439250004,"post_id":31905320,"comment_id":51773504,"body_markdown":"The PHP example doesn&#39;t really help people who need help with this in Java, could you post some resources for Java people to use?","body":"The PHP example doesn&#39;t really help people who need help with this in Java, could you post some resources for Java people to use?"},{"owner":{"account_id":6220862,"reputation":3402,"user_id":4840536,"display_name":"pp_pduan"},"score":0,"creation_date":1439257250,"post_id":31905320,"comment_id":51775322,"body_markdown":"You may get the SDK with your preferred programming language here: http://paypal.github.io/sdk/   Select &quot;Merchant&quot; SDK for your requirement","body":"You may get the SDK with your preferred programming language here: <a href=\"http://paypal.github.io/sdk/\" rel=\"nofollow noreferrer\">paypal.github.io/sdk</a>   Select &quot;Merchant&quot; SDK for your requirement"},{"owner":{"account_id":6169565,"reputation":584,"user_id":4808250,"accept_rate":67,"display_name":"SysVoid"},"score":0,"creation_date":1439317272,"post_id":31905320,"comment_id":51807834,"body_markdown":"Good enough, but I&#39;d have expected some Java stuff, since the question was for Java.","body":"Good enough, but I&#39;d have expected some Java stuff, since the question was for Java."}],"tags":[],"owner":{"account_id":6220862,"reputation":3402,"user_id":4840536,"display_name":"pp_pduan"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1688213747,"creation_date":1439130829,"answer_id":31905320,"question_id":31897393,"body_markdown":"GetBalance is from the Classic APIs and is not yet included in the REST APIs at this time, but you may directly implement the NVP call with HTTPRequest as this,\r\n\r\nAPI Endpoint:\r\n\r\n&lt;!-- language: none --&gt;\r\n    https://api-3t.paypal.com/nvp\r\n\r\nPOST request payload:\r\n\r\n    USER=seller_api1.paypal.com\r\n    &amp;PWD=56A9R4JPVFPMER2X\r\n    &amp;SIGNATURE=AFcWxV21C7fd0v3bYYYRCpSSRl31AociN2kspFBnMbzOGg6NdiC7ZXtg\r\n    &amp;VERSION=109.0\r\n    &amp;METHOD=GetBalance\r\n    &amp;RETURNALLCURRENCIES=1\r\n\r\nResponse:\r\n\r\n    L_AMT0=265.17\r\n    L_CURRENCYCODE0=USD\r\n    TIMESTAMP=2015-08-09T14:21:25Z\r\n    CORRELATIONID=802b0b6666022\r\n    ACK=Success\r\n    VERSION=109.0\r\n    BUILD=000000\r\n\r\nAs well you may obtain the [Classic API SDKs][1] with your prefered programming language, and select &quot;Merchant&quot; SDK this time.\r\n\r\n\r\n  [1]: http://paypal.github.io/sdk/\r\n\r\n\r\nMy sample PHP code to help you understand the flow,\r\n\r\n&lt;!-- language: php --&gt;\r\n    &lt;?php\r\n    $version = &quot;124&quot;;\r\n    $user = &quot;API UserName&quot;;\r\n    $pwd = &quot;API Password&quot;;\r\n    $signature = &quot;API Signature&quot;;\r\n    $API_Endpoint = &quot;https://api-3t.sandbox.paypal.com/nvp&quot;;\r\n\r\n    $resArray = CallGetBalance ( $API_Endpoint, $version, $user, $pwd, $signature );\r\n    $ack = strtoupper ( $resArray [&quot;ACK&quot;] );\r\n    if ($ack == &quot;SUCCESS&quot;) {\r\n\t    $balance = urldecode ( $resArray [&quot;L_AMT0&quot;] );\r\n\t    $currency = urldecode ( $resArray [&quot;L_CURRENCYCODE0&quot;] );\r\n\t    echo &quot;Account Balance: &quot; . $balance . &quot; &quot; . $currency;\r\n    }\r\n\r\n\r\n    function CallGetBalance($API_Endpoint, $version, $user, $pwd, $signature) {\r\n        // setting the curl parameters.\r\n    \t$ch = curl_init ();\r\n    \tcurl_setopt ( $ch, CURLOPT_URL, $API_Endpoint );\r\n    \tcurl_setopt ( $ch, CURLOPT_VERBOSE, 1 );\r\n    \tcurl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, FALSE );\r\n    \tcurl_setopt ( $ch, CURLOPT_SSL_VERIFYHOST, FALSE );\r\n    \tcurl_setopt ( $ch, CURLOPT_RETURNTRANSFER, 1 );\r\n    \tcurl_setopt ( $ch, CURLOPT_POST, 1 );\r\n    \t\r\n    \t// NVPRequest for submitting to server\r\n    \t$nvpreq = &quot;METHOD=GetBalance&quot; . &quot;&amp;RETURNALLCURRENCIES=1&quot; . &quot;&amp;VERSION=&quot; . $version . &quot;&amp;PWD=&quot; . $pwd . &quot;&amp;USER=&quot; . $user . &quot;&amp;SIGNATURE=&quot; . $signature;\r\n    \tcurl_setopt ( $ch, CURLOPT_POSTFIELDS, $nvpreq );\r\n    \t$response = curl_exec ( $ch );\r\n    \t\r\n    \t$nvpResArray = deformatNVP ( $response );\r\n    \t\r\n    \tcurl_close ( $ch );\r\n    \t\r\n    \treturn $nvpResArray;\r\n    }\r\n\r\n    /*\r\n     * This function will take NVPString and convert it to an Associative Array and it will decode the response. It is usefull to search for a particular key and displaying arrays. @nvpstr is NVPString. @nvpArray is Associative Array.\r\n     */\r\n    function deformatNVP($nvpstr) {\r\n        $intial = 0;\r\n    \t$nvpArray = array ();\r\n    \t\r\n    \twhile ( strlen ( $nvpstr ) ) {\r\n    \t\t// postion of Key\r\n    \t\t$keypos = strpos ( $nvpstr, &#39;=&#39; );\r\n    \t\t// position of value\r\n    \t\t$valuepos = strpos ( $nvpstr, &#39;&amp;&#39; ) ? strpos ( $nvpstr, &#39;&amp;&#39; ) : strlen ( $nvpstr );\r\n    \t\t\r\n    \t\t/* getting the Key and Value values and storing in a Associative Array */\r\n    \t\t$keyval = substr ( $nvpstr, $intial, $keypos );\r\n    \t\t$valval = substr ( $nvpstr, $keypos + 1, $valuepos - $keypos - 1 );\r\n    \t\t// decoding the respose\r\n    \t\t$nvpArray [urldecode ( $keyval )] = urldecode ( $valval );\r\n    \t\t$nvpstr = substr ( $nvpstr, $valuepos + 1, strlen ( $nvpstr ) );\r\n    \t}\r\n    \treturn $nvpArray;\r\n    }\r\n\r\n    ?&gt;\r\n","title":"Getting PayPal Balance (GetBalance API)","body":"<p>GetBalance is from the Classic APIs and is not yet included in the REST APIs at this time, but you may directly implement the NVP call with HTTPRequest as this,</p>\n<p>API Endpoint:</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://api-3t.paypal.com/nvp\n</code></pre>\n<p>POST request payload:</p>\n<pre><code>USER=seller_api1.paypal.com\n&amp;PWD=56A9R4JPVFPMER2X\n&amp;SIGNATURE=AFcWxV21C7fd0v3bYYYRCpSSRl31AociN2kspFBnMbzOGg6NdiC7ZXtg\n&amp;VERSION=109.0\n&amp;METHOD=GetBalance\n&amp;RETURNALLCURRENCIES=1\n</code></pre>\n<p>Response:</p>\n<pre><code>L_AMT0=265.17\nL_CURRENCYCODE0=USD\nTIMESTAMP=2015-08-09T14:21:25Z\nCORRELATIONID=802b0b6666022\nACK=Success\nVERSION=109.0\nBUILD=000000\n</code></pre>\n<p>As well you may obtain the <a href=\"http://paypal.github.io/sdk/\" rel=\"nofollow noreferrer\">Classic API SDKs</a> with your prefered programming language, and select &quot;Merchant&quot; SDK this time.</p>\n<p>My sample PHP code to help you understand the flow,</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n$version = &quot;124&quot;;\n$user = &quot;API UserName&quot;;\n$pwd = &quot;API Password&quot;;\n$signature = &quot;API Signature&quot;;\n$API_Endpoint = &quot;https://api-3t.sandbox.paypal.com/nvp&quot;;\n\n$resArray = CallGetBalance ( $API_Endpoint, $version, $user, $pwd, $signature );\n$ack = strtoupper ( $resArray [&quot;ACK&quot;] );\nif ($ack == &quot;SUCCESS&quot;) {\n    $balance = urldecode ( $resArray [&quot;L_AMT0&quot;] );\n    $currency = urldecode ( $resArray [&quot;L_CURRENCYCODE0&quot;] );\n    echo &quot;Account Balance: &quot; . $balance . &quot; &quot; . $currency;\n}\n\n\nfunction CallGetBalance($API_Endpoint, $version, $user, $pwd, $signature) {\n    // setting the curl parameters.\n    $ch = curl_init ();\n    curl_setopt ( $ch, CURLOPT_URL, $API_Endpoint );\n    curl_setopt ( $ch, CURLOPT_VERBOSE, 1 );\n    curl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, FALSE );\n    curl_setopt ( $ch, CURLOPT_SSL_VERIFYHOST, FALSE );\n    curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, 1 );\n    curl_setopt ( $ch, CURLOPT_POST, 1 );\n    \n    // NVPRequest for submitting to server\n    $nvpreq = &quot;METHOD=GetBalance&quot; . &quot;&amp;RETURNALLCURRENCIES=1&quot; . &quot;&amp;VERSION=&quot; . $version . &quot;&amp;PWD=&quot; . $pwd . &quot;&amp;USER=&quot; . $user . &quot;&amp;SIGNATURE=&quot; . $signature;\n    curl_setopt ( $ch, CURLOPT_POSTFIELDS, $nvpreq );\n    $response = curl_exec ( $ch );\n    \n    $nvpResArray = deformatNVP ( $response );\n    \n    curl_close ( $ch );\n    \n    return $nvpResArray;\n}\n\n/*\n * This function will take NVPString and convert it to an Associative Array and it will decode the response. It is usefull to search for a particular key and displaying arrays. @nvpstr is NVPString. @nvpArray is Associative Array.\n */\nfunction deformatNVP($nvpstr) {\n    $intial = 0;\n    $nvpArray = array ();\n    \n    while ( strlen ( $nvpstr ) ) {\n        // postion of Key\n        $keypos = strpos ( $nvpstr, '=' );\n        // position of value\n        $valuepos = strpos ( $nvpstr, '&amp;' ) ? strpos ( $nvpstr, '&amp;' ) : strlen ( $nvpstr );\n        \n        /* getting the Key and Value values and storing in a Associative Array */\n        $keyval = substr ( $nvpstr, $intial, $keypos );\n        $valval = substr ( $nvpstr, $keypos + 1, $valuepos - $keypos - 1 );\n        // decoding the respose\n        $nvpArray [urldecode ( $keyval )] = urldecode ( $valval );\n        $nvpstr = substr ( $nvpstr, $valuepos + 1, strlen ( $nvpstr ) );\n    }\n    return $nvpArray;\n}\n\n?&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3099415,"reputation":811,"user_id":2623933,"accept_rate":74,"display_name":"Vikas Singhal"},"score":1,"creation_date":1590486833,"post_id":61834701,"comment_id":109690547,"body_markdown":"This doesn&#39;t work. It says permission denied and I couldn&#39;t find any option while creating the app which may provide balance query permissions.","body":"This doesn&#39;t work. It says permission denied and I couldn&#39;t find any option while creating the app which may provide balance query permissions."},{"owner":{"account_id":10619342,"reputation":104,"user_id":7820923,"display_name":"Dweep"},"score":0,"creation_date":1591856876,"post_id":61834701,"comment_id":110215724,"body_markdown":"same I also couldn&#39;t find @VikasSinghal , did you found anything now?","body":"same I also couldn&#39;t find @VikasSinghal , did you found anything now?"},{"owner":{"account_id":54655,"reputation":374,"user_id":163589,"accept_rate":40,"display_name":"Zaheer"},"score":0,"creation_date":1629456280,"post_id":61834701,"comment_id":121697413,"body_markdown":"This API is only for PayPal Partners, such as, Banks. That is why we have `permission denied` error","body":"This API is only for PayPal Partners, such as, Banks. That is why we have <code>permission denied</code> error"}],"tags":[],"owner":{"account_id":5346183,"reputation":6424,"user_id":7844349,"accept_rate":55,"display_name":"Harsh Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688215552,"creation_date":1589621675,"answer_id":61834701,"question_id":31897393,"body_markdown":"This answer is for those who are looking for REST API for node js or without any SDK. \r\n\r\nGetBalance (To get balance for a particular account)\r\n\r\n\r\nDoc Link: https://developer.paypal.com/docs/limited-release/balance-accounts/v2/api/\r\n\r\n\r\nREST API [GET]: https://api.sandbox.paypal.com/v2/wallet/balance-accounts\r\n\r\nREQ:\r\n\r\n&lt;!-- language: bash --&gt;\r\n    curl -v -X GET https://api.sandbox.paypal.com/v2/wallet/balance-accounts \\\r\n    -H &quot;Content-Type: application/json&quot; \\\r\n    -H &quot;Authorization: Bearer Access-Token&quot;\r\n\r\nRES: \r\n\r\n    {\r\n      &quot;total_available&quot;: {\r\n        &quot;currency_code&quot;: &quot;USD&quot;,\r\n        &quot;value&quot;: &quot;2800&quot;\r\n      },\r\n      &quot;total_reserved&quot;: {\r\n        &quot;currency_code&quot;: &quot;USD&quot;,\r\n        &quot;value&quot;: &quot;1920&quot;\r\n      },\r\n      &quot;balance_accounts&quot;: [\r\n        {\r\n          &quot;available&quot;: {\r\n            &quot;currency_code&quot;: &quot;USD&quot;,\r\n            &quot;value&quot;: &quot;1000.00&quot;\r\n          },\r\n          &quot;reserved&quot;: {\r\n            &quot;currency_code&quot;: &quot;USD&quot;,\r\n            &quot;value&quot;: &quot;00.00&quot;\r\n          },\r\n          &quot;links&quot;: []\r\n        },\r\n        {\r\n          &quot;available&quot;: {\r\n            &quot;currency_code&quot;: &quot;AUD&quot;,\r\n            &quot;value&quot;: &quot;1000&quot;\r\n          },\r\n          &quot;reserved&quot;: {\r\n            &quot;currency_code&quot;: &quot;AUD&quot;,\r\n            &quot;value&quot;: &quot;00.00&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;available&quot;: {\r\n            &quot;currency_code&quot;: &quot;CAD&quot;,\r\n            &quot;value&quot;: &quot;1000&quot;\r\n          },\r\n          &quot;reserved&quot;: {\r\n            &quot;currency_code&quot;: &quot;CAD&quot;,\r\n            &quot;value&quot;: &quot;100&quot;\r\n          },\r\n          &quot;links&quot;: []\r\n        },\r\n        {\r\n          &quot;available&quot;: {\r\n            &quot;currency_code&quot;: &quot;GBP&quot;,\r\n            &quot;value&quot;: &quot;1000&quot;\r\n          },\r\n          &quot;reserved&quot;: {\r\n            &quot;currency_code&quot;: &quot;GBP&quot;,\r\n            &quot;value&quot;: &quot;1000&quot;\r\n          },\r\n          &quot;links&quot;: []\r\n        }\r\n      ],\r\n      &quot;links&quot;: [\r\n        {\r\n          &quot;rel&quot;: &quot;self&quot;,\r\n          &quot;href&quot;: &quot;https://api.sandbox.paypal.com/v2/wallets/balance-accounts&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n","title":"Getting PayPal Balance (GetBalance API)","body":"<p>This answer is for those who are looking for REST API for node js or without any SDK.</p>\n<p>GetBalance (To get balance for a particular account)</p>\n<p>Doc Link: <a href=\"https://developer.paypal.com/docs/limited-release/balance-accounts/v2/api/\" rel=\"nofollow noreferrer\">https://developer.paypal.com/docs/limited-release/balance-accounts/v2/api/</a></p>\n<p>REST API [GET]: <a href=\"https://api.sandbox.paypal.com/v2/wallet/balance-accounts\" rel=\"nofollow noreferrer\">https://api.sandbox.paypal.com/v2/wallet/balance-accounts</a></p>\n<p>REQ:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -v -X GET https://api.sandbox.paypal.com/v2/wallet/balance-accounts \\\n-H &quot;Content-Type: application/json&quot; \\\n-H &quot;Authorization: Bearer Access-Token&quot;\n</code></pre>\n<p>RES:</p>\n<pre><code>{\n  &quot;total_available&quot;: {\n    &quot;currency_code&quot;: &quot;USD&quot;,\n    &quot;value&quot;: &quot;2800&quot;\n  },\n  &quot;total_reserved&quot;: {\n    &quot;currency_code&quot;: &quot;USD&quot;,\n    &quot;value&quot;: &quot;1920&quot;\n  },\n  &quot;balance_accounts&quot;: [\n    {\n      &quot;available&quot;: {\n        &quot;currency_code&quot;: &quot;USD&quot;,\n        &quot;value&quot;: &quot;1000.00&quot;\n      },\n      &quot;reserved&quot;: {\n        &quot;currency_code&quot;: &quot;USD&quot;,\n        &quot;value&quot;: &quot;00.00&quot;\n      },\n      &quot;links&quot;: []\n    },\n    {\n      &quot;available&quot;: {\n        &quot;currency_code&quot;: &quot;AUD&quot;,\n        &quot;value&quot;: &quot;1000&quot;\n      },\n      &quot;reserved&quot;: {\n        &quot;currency_code&quot;: &quot;AUD&quot;,\n        &quot;value&quot;: &quot;00.00&quot;\n      }\n    },\n    {\n      &quot;available&quot;: {\n        &quot;currency_code&quot;: &quot;CAD&quot;,\n        &quot;value&quot;: &quot;1000&quot;\n      },\n      &quot;reserved&quot;: {\n        &quot;currency_code&quot;: &quot;CAD&quot;,\n        &quot;value&quot;: &quot;100&quot;\n      },\n      &quot;links&quot;: []\n    },\n    {\n      &quot;available&quot;: {\n        &quot;currency_code&quot;: &quot;GBP&quot;,\n        &quot;value&quot;: &quot;1000&quot;\n      },\n      &quot;reserved&quot;: {\n        &quot;currency_code&quot;: &quot;GBP&quot;,\n        &quot;value&quot;: &quot;1000&quot;\n      },\n      &quot;links&quot;: []\n    }\n  ],\n  &quot;links&quot;: [\n    {\n      &quot;rel&quot;: &quot;self&quot;,\n      &quot;href&quot;: &quot;https://api.sandbox.paypal.com/v2/wallets/balance-accounts&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16677038,"reputation":494,"user_id":12053184,"display_name":"GonzalezAndrew"},"score":2,"creation_date":1631136941,"post_id":66403201,"comment_id":122145665,"body_markdown":"This is only available to those who are in the PayPal partner network. \n\n&quot;Use the Transaction Search API to get the history of transactions for a PayPal account. To use the API on behalf of third parties, you must be part of the PayPal partner network. Reach out to your partner manager for the next steps. To enroll in the partner program, see Partner with PayPal. For more information about the API, see the Transaction Search API Integration Guide.&quot; - [Transaction API documentation](https://developer.paypal.com/docs/api/transaction-search/v1/)","body":"This is only available to those who are in the PayPal partner network.   &quot;Use the Transaction Search API to get the history of transactions for a PayPal account. To use the API on behalf of third parties, you must be part of the PayPal partner network. Reach out to your partner manager for the next steps. To enroll in the partner program, see Partner with PayPal. For more information about the API, see the Transaction Search API Integration Guide.&quot; - <a href=\"https://developer.paypal.com/docs/api/transaction-search/v1/\" rel=\"nofollow noreferrer\">Transaction API documentation</a>"}],"tags":[],"owner":{"account_id":11823071,"reputation":1295,"user_id":8651667,"display_name":"Juha Vehnia"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614457698,"creation_date":1614457698,"answer_id":66403201,"question_id":31897393,"body_markdown":"So for anybody else struggling with this question there is an API endpoint under &quot;Transaction Search&quot; part of the documentation which makes no sense at all. \r\n\r\n```\r\nGET /v1/reporting/balances\r\n```\r\n\r\nYou will get a list of balances one for each currency you maintain on your account. \r\n\r\nSee the documentation here:\r\n\r\nhttps://developer.paypal.com/docs/api/transaction-search/v1/","title":"Getting PayPal Balance (GetBalance API)","body":"<p>So for anybody else struggling with this question there is an API endpoint under &quot;Transaction Search&quot; part of the documentation which makes no sense at all.</p>\n<pre><code>GET /v1/reporting/balances\n</code></pre>\n<p>You will get a list of balances one for each currency you maintain on your account.</p>\n<p>See the documentation here:</p>\n<p><a href=\"https://developer.paypal.com/docs/api/transaction-search/v1/\" rel=\"noreferrer\">https://developer.paypal.com/docs/api/transaction-search/v1/</a></p>\n"}],"owner":{"account_id":6169565,"reputation":584,"user_id":4808250,"accept_rate":67,"display_name":"SysVoid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7456,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1695551981,"creation_date":1439059874,"question_id":31897393,"body_markdown":"I&#39;ve been searching through the PayPal documentation for two hours and cannot find the answer to this, even searched Google.\r\n\r\nChecked here:\r\nhttps://developer.paypal.com/docs/api/#api-operations\r\n\r\nI&#39;ve added PayPal&#39;s SDK in Maven (REST API), and now I am unsure what to do.\r\n\r\nI want to get the balance of an account using the PayPal API (all currencies).","title":"Getting PayPal Balance (GetBalance API)","body":"<p>I've been searching through the PayPal documentation for two hours and cannot find the answer to this, even searched Google.</p>\n\n<p>Checked here:\n<a href=\"https://developer.paypal.com/docs/api/#api-operations\" rel=\"noreferrer\">https://developer.paypal.com/docs/api/#api-operations</a></p>\n\n<p>I've added PayPal's SDK in Maven (REST API), and now I am unsure what to do.</p>\n\n<p>I want to get the balance of an account using the PayPal API (all currencies).</p>\n"},{"tags":["java","class","selenium-webdriver","interface"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1695550128,"post_id":77166574,"comment_id":136037019,"body_markdown":"Note that with `new ChromeDriver()` we are *instantiating* [`ChromeDriver`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chrome/ChromeDriver.html) which is a `class` not an `interface`. We are *assigning* reference to that instance to variable of `WebDriver` type but that is not forbidden.","body":"Note that with <code>new ChromeDriver()</code> we are <i>instantiating</i> <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chrome/ChromeDriver.html\" rel=\"nofollow noreferrer\"><code>ChromeDriver</code></a> which is a <code>class</code> not an <code>interface</code>. We are <i>assigning</i> reference to that instance to variable of <code>WebDriver</code> type but that is not forbidden."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1695550245,"post_id":77166574,"comment_id":136037031,"body_markdown":"Related: [What does it mean to &quot;program to an interface&quot;?](https://stackoverflow.com/q/383947)","body":"Related: <a href=\"https://stackoverflow.com/q/383947\">What does it mean to &quot;program to an interface&quot;?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1695551649,"post_id":77166574,"comment_id":136037165,"body_markdown":"No, it is the exact opposite, when you do `List&lt;&gt; obj = new ArrayList&lt;&gt;`, you&#39;re creating an object of type `ArrayList` (a concrete class) and assigning it to a variable of type `List` (an interface).","body":"No, it is the exact opposite, when you do <code>List&lt;&gt; obj = new ArrayList&lt;&gt;</code>, you&#39;re creating an object of type <code>ArrayList</code> (a concrete class) and assigning it to a variable of type <code>List</code> (an interface)."},{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":2,"creation_date":1695553342,"post_id":77166574,"comment_id":136037309,"body_markdown":"...which works because the `ArrayList` has to implement everything that `List` mandates to be implemented (and other things which you don&#39;t care about, otherwise you&#39;d have typed your variable `ArrayList` specifically and not generically `List`)","body":"...which works because the <code>ArrayList</code> has to implement everything that <code>List</code> mandates to be implemented (and other things which you don&#39;t care about, otherwise you&#39;d have typed your variable <code>ArrayList</code> specifically and not generically <code>List</code>)"}],"answers":[{"comments":[{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1695551160,"post_id":77166631,"comment_id":136037123,"body_markdown":"What&#39;s the difference between\n\n&gt; &quot;you don&#39;t instantiate WebDriver,&quot;\n\nand \n\n&gt; &quot;as long as it implements the WebDriver&quot;","body":"What&#39;s the difference between  &gt; &quot;you don&#39;t instantiate WebDriver,&quot;  and   &gt; &quot;as long as it implements the WebDriver&quot;"},{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":1,"creation_date":1695552000,"post_id":77166631,"comment_id":136037186,"body_markdown":"If you go to a gas station, you go to a specific has station at the end of the day. You instantiate `new BP()` and not `new GasStation()` - you can&#39;t take the abstract _concept_ of a gas station and materialize it to get gas out of it. However you don&#39;t care which one it is, as long as it implements the `GasStation` interface (probably requiring a methods `pump()` and `pay()`). Meaning, you will need a specific physical implementation of a gas station to pump your gas from, even though what matters to you is only that it matches the generic concept of a gas station and less so which one it is.","body":"If you go to a gas station, you go to a specific has station at the end of the day. You instantiate <code>new BP()</code> and not <code>new GasStation()</code> - you can&#39;t take the abstract <i>concept</i> of a gas station and materialize it to get gas out of it. However you don&#39;t care which one it is, as long as it implements the <code>GasStation</code> interface (probably requiring a methods <code>pump()</code> and <code>pay()</code>). Meaning, you will need a specific physical implementation of a gas station to pump your gas from, even though what matters to you is only that it matches the generic concept of a gas station and less so which one it is."},{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":1,"creation_date":1695552383,"post_id":77166631,"comment_id":136037215,"body_markdown":"Or to answer your question literally: &quot;you don&#39;t instantiate `WebDriver`&quot; means you don&#39;t have `new WebDriver()` but `new ChromeDriver()`. And &quot;as long as it implements `WebDriver`&quot; means the class you instantiate here (`ChromeDriver`) of course must be compatible with the type `WebDriver` which you assign it to, and in case of that type being an interface it would mean the class has to implement this interface (but of course it can implement other things on top that, even other interfaces). If it were another class type, it would have to inherit from it.","body":"Or to answer your question literally: &quot;you don&#39;t instantiate <code>WebDriver</code>&quot; means you don&#39;t have <code>new WebDriver()</code> but <code>new ChromeDriver()</code>. And &quot;as long as it implements <code>WebDriver</code>&quot; means the class you instantiate here (<code>ChromeDriver</code>) of course must be compatible with the type <code>WebDriver</code> which you assign it to, and in case of that type being an interface it would mean the class has to implement this interface (but of course it can implement other things on top that, even other interfaces). If it were another class type, it would have to inherit from it."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1695841093,"post_id":77166631,"comment_id":136079277,"body_markdown":"An interface is really just a type, and Java objects can have many types.  In general you type to &quot;WebDriver&quot; so that the same code can work for multiple drivers... all the drivers guarantee that they have all the methods/properties of the &quot;WebDriver&quot; interface.   There are some methods that Chromedriver implements that other drivers do not implement.  You can still use those methods as the object is still a Chromedriver (if you use new ChromeDriver()...)  It is both types... it is a WebDriver AND a Chromedriver.  Floor wax and desert topping.","body":"An interface is really just a type, and Java objects can have many types.  In general you type to &quot;WebDriver&quot; so that the same code can work for multiple drivers... all the drivers guarantee that they have all the methods/properties of the &quot;WebDriver&quot; interface.   There are some methods that Chromedriver implements that other drivers do not implement.  You can still use those methods as the object is still a Chromedriver (if you use new ChromeDriver()...)  It is both types... it is a WebDriver AND a Chromedriver.  Floor wax and desert topping."}],"tags":[],"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695550764,"creation_date":1695550764,"answer_id":77166631,"question_id":77166574,"body_markdown":"You are right that you can&#39;t instantiate an interface, so this wouldn&#39;t work:\r\n\r\n```java\r\nWebDriver driver = new WebDriver();\r\n```\r\n\r\nHowever, you don&#39;t instantiate `WebDriver`, you instantiate _`ChromeDriver`_, which is a class.\r\n\r\nYou assign it to a variable of type `WebDriver` (an interface that `ChromeDriver` implements) because this way you don&#39;t have to care about whether you put a `new ChromeDriver()` or a `new FirefoxDriver()` or whatever there, as long as it implements the `WebDriver` interface (you can do the assignment conditionally for example, without having to use different variables with different types). That&#39;s what makes interfaces useful. ","title":"Question about &quot;WebDriver driver = new ChromeDriver&quot;","body":"<p>You are right that you can't instantiate an interface, so this wouldn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriver driver = new WebDriver();\n</code></pre>\n<p>However, you don't instantiate <code>WebDriver</code>, you instantiate <em><code>ChromeDriver</code></em>, which is a class.</p>\n<p>You assign it to a variable of type <code>WebDriver</code> (an interface that <code>ChromeDriver</code> implements) because this way you don't have to care about whether you put a <code>new ChromeDriver()</code> or a <code>new FirefoxDriver()</code> or whatever there, as long as it implements the <code>WebDriver</code> interface (you can do the assignment conditionally for example, without having to use different variables with different types). That's what makes interfaces useful.</p>\n"}],"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695551565,"creation_date":1695550005,"question_id":77166574,"body_markdown":"Is WebDriver an interface? If yes, I thought Java doesn&#39;t allow us to instantiate an Interface object?\r\n\r\nHere is the doc that states WebDriver is an interface: \r\n\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html\r\n\r\nI tried searching on google but this is a very specific question. I guess I&#39;m missing a very basic point here, but any help is appreciated.","title":"Question about &quot;WebDriver driver = new ChromeDriver&quot;","body":"<p>Is WebDriver an interface? If yes, I thought Java doesn't allow us to instantiate an Interface object?</p>\n<p>Here is the doc that states WebDriver is an interface:</p>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html</a></p>\n<p>I tried searching on google but this is a very specific question. I guess I'm missing a very basic point here, but any help is appreciated.</p>\n"},{"tags":["java","memory","binary","store","twos-complement"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695552961,"post_id":13422259,"comment_id":136037269,"body_markdown":"BTW it is `char` that is the only unsigned integral value","body":"BTW it is <code>char</code> that is the only unsigned integral value"}],"answers":[{"comments":[{"owner":{"account_id":2852182,"reputation":746,"user_id":2449146,"accept_rate":81,"display_name":"Shashi"},"score":0,"creation_date":1378229669,"post_id":13422399,"comment_id":27371793,"body_markdown":"&quot;In twos complement format, a positive value is represented as a straightforward binary number.&quot; written in the same document .. so technically it&#39;s correct then. :)","body":"&quot;In twos complement format, a positive value is represented as a straightforward binary number.&quot; written in the same document .. so technically it&#39;s correct then. :)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695553151,"post_id":13422399,"comment_id":136037287,"body_markdown":"probably the Java Language Specification [4.2. Primitive Types and Values](https://docs.oracle.com/javase/specs/jls/se21/html/jls-4.html#jls-4.2) is a more *reliable* source... all integers but `char` are signed","body":"probably the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-4.html#jls-4.2\" rel=\"nofollow noreferrer\">4.2. Primitive Types and Values</a> is a more <i>reliable</i> source... all integers but <code>char</code> are signed"}],"tags":[],"owner":{"account_id":1559378,"reputation":4742,"user_id":1449636,"accept_rate":100,"display_name":"Joel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407180035,"creation_date":1353090863,"answer_id":13422399,"question_id":13422259,"body_markdown":"According to [this document][1], all integers are signed and stored in two&#39;s complement format for java.  Not certain of its reliability..\r\n\r\n\r\n  [1]: http://duke.csc.villanova.edu/jss/webBonuses/primitiveStorage/primitiveStorage.pdf","title":"How are integers internally represented at a bit level in Java?","body":"<p>According to <a href=\"http://duke.csc.villanova.edu/jss/webBonuses/primitiveStorage/primitiveStorage.pdf\" rel=\"nofollow\">this document</a>, all integers are signed and stored in two's complement format for java.  Not certain of its reliability..</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1353090949,"creation_date":1353090949,"answer_id":13422421,"question_id":13422259,"body_markdown":"Oracle provides some documentation regarding Java [Datatypes][1] that you may find interesting. Specifically:\r\n\r\n&gt; int: The int data type is a 32-bit signed two&#39;s complement integer. It has a minimum value of -2,147,483,648 and a maximum value of 2,147,483,647 (inclusive).\r\n\r\nBtw, short is also stored as two&#39;s complement.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How are integers internally represented at a bit level in Java?","body":"<p>Oracle provides some documentation regarding Java <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">Datatypes</a> that you may find interesting. Specifically:</p>\n\n<blockquote>\n  <p>int: The int data type is a 32-bit signed two's complement integer. It has a minimum value of -2,147,483,648 and a maximum value of 2,147,483,647 (inclusive).</p>\n</blockquote>\n\n<p>Btw, short is also stored as two's complement.</p>\n"},{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":1,"creation_date":1353094015,"post_id":13422436,"comment_id":18344797,"body_markdown":"Twos complement of 10 is `11111111 11111111 11111111 11110110`. Yours prints while Binary as is for 10 is 1010. So only -ve numbers are stored as two&#39;s complement?","body":"Twos complement of 10 is <code>11111111 11111111 11111111 11110110</code>. Yours prints while Binary as is for 10 is 1010. So only -ve numbers are stored as two&#39;s complement?"},{"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"score":0,"creation_date":1353094114,"post_id":13422436,"comment_id":18344852,"body_markdown":"check the wiki article en.wikipedia.org/wiki/ the 2&#39;s complement number you have given for 15 is wrong","body":"check the wiki article en.wikipedia.org/wiki/ the 2&#39;s complement number you have given for 15 is wrong"},{"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"score":0,"creation_date":1353094156,"post_id":13422436,"comment_id":18344875,"body_markdown":"if the msb bit starts with 1 it will be negative number","body":"if the msb bit starts with 1 it will be negative number"},{"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"score":0,"creation_date":1353094220,"post_id":13422436,"comment_id":18344917,"body_markdown":"yes two&#39;s complement of 10 is 11111111 11111111 11111111 11110110 which is -10","body":"yes two&#39;s complement of 10 is 11111111 11111111 11111111 11110110 which is -10"},{"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"score":0,"creation_date":1353094321,"post_id":13422436,"comment_id":18344966,"body_markdown":"+ve numbers will be stored as binary leaving the sign bit in 2&#39;s complement","body":"+ve numbers will be stored as binary leaving the sign bit in 2&#39;s complement"}],"tags":[],"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1372613044,"creation_date":1353090996,"answer_id":13422436,"question_id":13422259,"body_markdown":"I have ran the following program to know it \r\n\r\n\r\n\r\n    public class Negative {\r\n        public static void main(String[] args) {\r\n            int i =10;\r\n            int j = -10;\r\n\t\r\n            System.out.println(Integer.toBinaryString(i));\r\n            System.out.println(Integer.toBinaryString(j));\r\n        }\r\n    }\r\n\r\nOutput is \r\n\r\n    1010\r\n    11111111111111111111111111110110\r\n\r\nFrom the output it seems that it has been using two&#39;s complement.","title":"How are integers internally represented at a bit level in Java?","body":"<p>I have ran the following program to know it </p>\n\n<pre><code>public class Negative {\n    public static void main(String[] args) {\n        int i =10;\n        int j = -10;\n\n        System.out.println(Integer.toBinaryString(i));\n        System.out.println(Integer.toBinaryString(j));\n    }\n}\n</code></pre>\n\n<p>Output is </p>\n\n<pre><code>1010\n11111111111111111111111111110110\n</code></pre>\n\n<p>From the output it seems that it has been using two's complement.</p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":2,"up_vote_count":121,"is_accepted":true,"score":119,"last_activity_date":1638172868,"creation_date":1353091008,"answer_id":13422442,"question_id":13422259,"body_markdown":"Let&#39;s start by summarizing Java primitive data types:\r\n\r\n**byte**: Byte data type is an 8-bit signed **two&#39;s complement integer**.\r\n\r\n**Short**: Short data type is a 16-bit signed **two&#39;s complement integer**.\r\n\r\n**int:** Int data type is a 32-bit signed **two&#39;s complement integer**.\r\n\r\n**long:** Long data type is a 64-bit signed **two&#39;s complement integer**.\r\n\r\n**float:** Float data type is a single-precision **32-bit IEEE 754 floating point**.\r\n\r\n**double**: double data type is a double-precision **64-bit IEEE 754 floating point**.\r\n\r\n**boolean:** boolean data type represents **one bit of information**.\r\n\r\n**char:** char data type is a **single 16-bit Unicode character**.\r\n\r\n[Source][1]\r\n\r\n**Two&#39;s complement**\r\n\r\n&quot;The good example is  from [wiki](http://en.wikipedia.org/wiki/Two%27s_complement) that the relationship to two&#39;s complement is realized by noting that 256 = 255 + 1, and (255  x) is the ones&#39; complement of x\r\n\r\n0000 0111=7 two&#39;s complement is 1111 1001= -7\r\n\r\nthe way it works is the MSB(the most significant bit) receives a negative value so in the case above\r\n\r\n&gt;-7 = 1001= -8 + 0+ 0+ 1 \r\n\r\n\r\nPositive integers are generally stored as simple binary numbers (1 is 1, 10 is 2, 11 is 3, and so on). \r\n\r\nNegative integers are stored as the two&#39;s complement of their absolute value. The two&#39;s complement of a positive number is when using this notation a negative number.\r\n\r\n[Source][2]\r\n\r\nSince I received a few points for this answer, I decided to add more information to it.\r\n \r\n**A more detailed answer:**\r\n----------------------------------------------------\r\n\r\nAmong others there are four main approaches to represent positive and negative numbers in binary, namely:\r\n\r\n 1. Signed Magnitude\r\n 2. One&#39;s Complement\r\n 3. Two&#39;s Complement\r\n 4. Bias\r\n\r\n**1. Signed Magnitude**\r\n\r\nUses the most significant bit to represent the sign, the remaining bits are used to represent the absolute value. Where **0** represents a **positive number** and **1** represents a **negative number**, example:\r\n\r\n    1011 = -3\r\n    0011 = +3\r\n\r\nThis representation is simpler. However, you cannot add binary numbers in the same way that you add decimal numbers, making it harder to be implemented at the hardware level. Moreover, this approach uses two binary patterns to represent the 0, **-0 (1000)** and **+0 (0000)**.   \r\n\r\n**2. One&#39;s Complement**\r\n\r\nIn this representation, we invert all the bits of a given number to find out its complementary. For example:\r\n\r\n    010 = 2, so -2 = 101 (inverting all bits).\r\n\r\nThe problem with this representation is that there still exist two bits patterns to represent the 0, **negative 0 (1111)** and **positive 0 (0000)**\r\n\r\n\r\n**3. Two&#39;s Complement**\r\n\r\nTo find the negative of a number, in this representation, we invert all the bits and then add one bit. Adding one bit solves the problem of having two bits patterns representing 0. In this representation, we only have one pattern for \r\n **0 (0000)**. \r\n\r\nFor example, we want to find the binary negative representation of 4 (decimal) using 4 bits. First, we convert 4 to binary:\r\n\r\n    4 = 0100\r\n\r\nthen we invert all the bits\r\n\r\n    0100 -&gt; 1011\r\n\r\nfinally, we add one bit\r\n\r\n    1011 + 1 = 1100.\r\n\r\nSo 1100 is equivalent to -4 in decimal if we are using a Two&#39;s Complement binary representation with 4 bits.\r\n\r\nA faster way to find the complementary is by fixing the first bit that as value 1 and inverting the remaining bits. In the above example it would be something like:\r\n\r\n    0100 -&gt; 1100\r\n    ^^ \r\n    ||-(fixing this value)\r\n    |--(inverting this one)\r\n\r\nTwo&#39;s Complement representation, besides having only one representation for 0, it also adds two binary values in the same way that in decimal, even numbers with different signs. Nevertheless, it is necessary to check for overflow cases.\r\n\r\n**4. Bias**\r\n\r\nThis representation is used to represent the exponent in the IEEE 754 norm for floating points. It has the advantage that the binary value with all bits to zero represents the smallest value. And the binary value with all bits to 1 represents the biggest value. As the name indicates, the value is encoded (positive or negative) in binary with n bits with a bias (normally 2^(n-1) or 2^(n-1)-1).\r\n\r\nSo if we are using 8 bits, the value 1 in decimal is represented in binary using a bias of 2^(n-1), by the value: \r\n\r\n    +1 + bias = +1 + 2^(8-1) = 1 + 128 = 129\r\n    converting to binary\r\n    1000 0001\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/java_basic_datatypes.htm\r\n  [2]: https://stackoverflow.com/questions/794062/is-twos-complement-notation-of-a-positive-number-the-same-number","title":"How are integers internally represented at a bit level in Java?","body":"<p>Let's start by summarizing Java primitive data types:</p>\n<p><strong>byte</strong>: Byte data type is an 8-bit signed <strong>two's complement integer</strong>.</p>\n<p><strong>Short</strong>: Short data type is a 16-bit signed <strong>two's complement integer</strong>.</p>\n<p><strong>int:</strong> Int data type is a 32-bit signed <strong>two's complement integer</strong>.</p>\n<p><strong>long:</strong> Long data type is a 64-bit signed <strong>two's complement integer</strong>.</p>\n<p><strong>float:</strong> Float data type is a single-precision <strong>32-bit IEEE 754 floating point</strong>.</p>\n<p><strong>double</strong>: double data type is a double-precision <strong>64-bit IEEE 754 floating point</strong>.</p>\n<p><strong>boolean:</strong> boolean data type represents <strong>one bit of information</strong>.</p>\n<p><strong>char:</strong> char data type is a <strong>single 16-bit Unicode character</strong>.</p>\n<p><a href=\"http://www.tutorialspoint.com/java/java_basic_datatypes.htm\" rel=\"noreferrer\">Source</a></p>\n<p><strong>Two's complement</strong></p>\n<p>&quot;The good example is  from <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"noreferrer\">wiki</a> that the relationship to two's complement is realized by noting that 256 = 255 + 1, and (255  x) is the ones' complement of x</p>\n<p>0000 0111=7 two's complement is 1111 1001= -7</p>\n<p>the way it works is the MSB(the most significant bit) receives a negative value so in the case above</p>\n<blockquote>\n<p>-7 = 1001= -8 + 0+ 0+ 1</p>\n</blockquote>\n<p>Positive integers are generally stored as simple binary numbers (1 is 1, 10 is 2, 11 is 3, and so on).</p>\n<p>Negative integers are stored as the two's complement of their absolute value. The two's complement of a positive number is when using this notation a negative number.</p>\n<p><a href=\"https://stackoverflow.com/questions/794062/is-twos-complement-notation-of-a-positive-number-the-same-number\">Source</a></p>\n<p>Since I received a few points for this answer, I decided to add more information to it.</p>\n<h2><strong>A more detailed answer:</strong></h2>\n<p>Among others there are four main approaches to represent positive and negative numbers in binary, namely:</p>\n<ol>\n<li>Signed Magnitude</li>\n<li>One's Complement</li>\n<li>Two's Complement</li>\n<li>Bias</li>\n</ol>\n<p><strong>1. Signed Magnitude</strong></p>\n<p>Uses the most significant bit to represent the sign, the remaining bits are used to represent the absolute value. Where <strong>0</strong> represents a <strong>positive number</strong> and <strong>1</strong> represents a <strong>negative number</strong>, example:</p>\n<pre><code>1011 = -3\n0011 = +3\n</code></pre>\n<p>This representation is simpler. However, you cannot add binary numbers in the same way that you add decimal numbers, making it harder to be implemented at the hardware level. Moreover, this approach uses two binary patterns to represent the 0, <strong>-0 (1000)</strong> and <strong>+0 (0000)</strong>.</p>\n<p><strong>2. One's Complement</strong></p>\n<p>In this representation, we invert all the bits of a given number to find out its complementary. For example:</p>\n<pre><code>010 = 2, so -2 = 101 (inverting all bits).\n</code></pre>\n<p>The problem with this representation is that there still exist two bits patterns to represent the 0, <strong>negative 0 (1111)</strong> and <strong>positive 0 (0000)</strong></p>\n<p><strong>3. Two's Complement</strong></p>\n<p>To find the negative of a number, in this representation, we invert all the bits and then add one bit. Adding one bit solves the problem of having two bits patterns representing 0. In this representation, we only have one pattern for\n<strong>0 (0000)</strong>.</p>\n<p>For example, we want to find the binary negative representation of 4 (decimal) using 4 bits. First, we convert 4 to binary:</p>\n<pre><code>4 = 0100\n</code></pre>\n<p>then we invert all the bits</p>\n<pre><code>0100 -&gt; 1011\n</code></pre>\n<p>finally, we add one bit</p>\n<pre><code>1011 + 1 = 1100.\n</code></pre>\n<p>So 1100 is equivalent to -4 in decimal if we are using a Two's Complement binary representation with 4 bits.</p>\n<p>A faster way to find the complementary is by fixing the first bit that as value 1 and inverting the remaining bits. In the above example it would be something like:</p>\n<pre><code>0100 -&gt; 1100\n^^ \n||-(fixing this value)\n|--(inverting this one)\n</code></pre>\n<p>Two's Complement representation, besides having only one representation for 0, it also adds two binary values in the same way that in decimal, even numbers with different signs. Nevertheless, it is necessary to check for overflow cases.</p>\n<p><strong>4. Bias</strong></p>\n<p>This representation is used to represent the exponent in the IEEE 754 norm for floating points. It has the advantage that the binary value with all bits to zero represents the smallest value. And the binary value with all bits to 1 represents the biggest value. As the name indicates, the value is encoded (positive or negative) in binary with n bits with a bias (normally 2^(n-1) or 2^(n-1)-1).</p>\n<p>So if we are using 8 bits, the value 1 in decimal is represented in binary using a bias of 2^(n-1), by the value:</p>\n<pre><code>+1 + bias = +1 + 2^(8-1) = 1 + 128 = 129\nconverting to binary\n1000 0001\n</code></pre>\n"},{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1353093425,"post_id":13422467,"comment_id":18344519,"body_markdown":"My question precisely: Are +ve numbers stored in `binary as is` while -ve numbers are stored in `two&#39;s complement`?","body":"My question precisely: Are +ve numbers stored in <code>binary as is</code> while -ve numbers are stored in <code>two&#39;s complement</code>?"},{"owner":{"account_id":1111702,"reputation":13156,"user_id":1102056,"accept_rate":60,"display_name":"Sufian Latif"},"score":0,"creation_date":1353094174,"post_id":13422467,"comment_id":18344889,"body_markdown":"Well, yes. a negative number is _represented_ to a computer as the two&#39;s complement of its positive value.","body":"Well, yes. a negative number is <i>represented</i> to a computer as the two&#39;s complement of its positive value."},{"owner":{"account_id":3521775,"reputation":943,"user_id":2943857,"display_name":"Abhishek Singh"},"score":0,"creation_date":1516352516,"post_id":13422467,"comment_id":83659834,"body_markdown":"@0605002: Could you please give the reference to this answer, if any? Though I knew the concepts but never really thought them in that way. Simplest, still accurate Answer.","body":"@0605002: Could you please give the reference to this answer, if any? Though I knew the concepts but never really thought them in that way. Simplest, still accurate Answer."},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1534278685,"post_id":13422467,"comment_id":90651871,"body_markdown":"Four years of university, and I never understood 2s complement. This answer has taught me more. It is so sad that such simple things are taught in such arcane ways throughout the world.","body":"Four years of university, and I never understood 2s complement. This answer has taught me more. It is so sad that such simple things are taught in such arcane ways throughout the world."},{"owner":{"account_id":8051128,"reputation":487,"user_id":6069621,"display_name":"KevinZhou"},"score":0,"creation_date":1562595274,"post_id":13422467,"comment_id":100413920,"body_markdown":"The scheme you are using here is already 2&#39;s complement. Isn&#39;t is?","body":"The scheme you are using here is already 2&#39;s complement. Isn&#39;t is?"}],"tags":[],"owner":{"account_id":1111702,"reputation":13156,"user_id":1102056,"accept_rate":60,"display_name":"Sufian Latif"},"comment_count":5,"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1412494591,"creation_date":1353091185,"answer_id":13422467,"question_id":13422259,"body_markdown":"Java integers are of 32 bits, and always signed. This means, the most significant bit (MSB) works as the sign bit. The integer represented by an `int` is nothing but the weighted sum of the bits. The weights are assigned as follows:\r\n\r\n    Bit#    Weight\r\n    31      -2^31\r\n    30       2^30\r\n    29       2^29\r\n    ...      ...\r\n    2        2^2\r\n    1        2^1\r\n    0        2^0\r\n\r\nNote that the weight of the MSB is negative (the largest possible negative actually), so when this bit is on, the whole number (the weighted sum) becomes negative.\r\n\r\nLet&#39;s simulate it with 4-bit numbers:\r\n\r\n    Binary    Weighted sum            Integer value\r\n    0000       0 + 0 + 0 + 0           0\r\n    0001       0 + 0 + 0 + 2^0         1\r\n    0010       0 + 0 + 2^1 + 0         2\r\n    0011       0 + 0 + 2^1 + 2^0       3\r\n    0100       0 + 2^2 + 0 + 0         4\r\n    0101       0 + 2^2 + 0 + 2^0       5\r\n    0110       0 + 2^2 + 2^1 + 0       6\r\n    0111       0 + 2^2 + 2^1 + 2^0     7 -&gt; the most positive value\r\n    1000      -2^3 + 0 + 0 + 0        -8 -&gt; the most negative value\r\n    1001      -2^3 + 0 + 0 + 2^0      -7\r\n    1010      -2^3 + 0 + 2^1 + 0      -6\r\n    1011      -2^3 + 0 + 2^1 + 2^0    -5\r\n    1100      -2^3 + 2^2 + 0 + 0      -4\r\n    1101      -2^3 + 2^2 + 0 + 2^0    -3\r\n    1110      -2^3 + 2^2 + 2^1 + 0    -2\r\n    1111      -2^3 + 2^2 + 2^1 + 2^0  -1\r\n\r\nSo, the two&#39;s complement thing is not an exclusive scheme for representing negative integers, rather we can say that the binary representation of integers are always the same, we just negate the weight of the most significant bit. And that bit determines the sign of the integer.\r\n\r\nIn C, there is a keyword `unsigned` (not available in java), which can be used for declaring `unsigned int x;`. In the unsigned integers, the weight of the MSB is positive (`2^31`) rather than being negative. In that case the range of an `unsigned int` is `0` to `2^32 - 1`, while an `int` has range `-2^31` to `2^31 - 1`.\r\n\r\nFrom another point of view, if you consider the two&#39;s complement of `x` as `~x + 1` (NOT x plus one), here&#39;s the explanation:\r\n\r\nFor any `x`, `~x` is just the bitwise inverse of `x`, so wherever `x` has a `1`-bit, `~x` will have a `0`-bit there (and vice versa). So, if you add these up, there will be no carry in the addition and the sum will be just an integer every bit of which is `1`.\r\n\r\nFor 32-bit integers:\r\n\r\n    x + ~x = 1111 1111 1111 1111 1111 1111 1111 1111\r\n    x + ~x + 1 =   1111 1111 1111 1111 1111 1111 1111 1111 + 1\r\n               = 1 0000 0000 0000 0000 0000 0000 0000 0000\r\n\r\nThe leftmost `1`-bit will simply be discarded, because it doesn&#39;t fit in 32-bits (integer overflow). So,\r\n\r\n    x + ~x + 1 = 0\r\n    -x = ~x + 1\r\n\r\nSo you can see that the negative `x` can be represented by `~x + 1`, which we call the two&#39;s complement of `x`.\r\n","title":"How are integers internally represented at a bit level in Java?","body":"<p>Java integers are of 32 bits, and always signed. This means, the most significant bit (MSB) works as the sign bit. The integer represented by an <code>int</code> is nothing but the weighted sum of the bits. The weights are assigned as follows:</p>\n\n<pre><code>Bit#    Weight\n31      -2^31\n30       2^30\n29       2^29\n...      ...\n2        2^2\n1        2^1\n0        2^0\n</code></pre>\n\n<p>Note that the weight of the MSB is negative (the largest possible negative actually), so when this bit is on, the whole number (the weighted sum) becomes negative.</p>\n\n<p>Let's simulate it with 4-bit numbers:</p>\n\n<pre><code>Binary    Weighted sum            Integer value\n0000       0 + 0 + 0 + 0           0\n0001       0 + 0 + 0 + 2^0         1\n0010       0 + 0 + 2^1 + 0         2\n0011       0 + 0 + 2^1 + 2^0       3\n0100       0 + 2^2 + 0 + 0         4\n0101       0 + 2^2 + 0 + 2^0       5\n0110       0 + 2^2 + 2^1 + 0       6\n0111       0 + 2^2 + 2^1 + 2^0     7 -&gt; the most positive value\n1000      -2^3 + 0 + 0 + 0        -8 -&gt; the most negative value\n1001      -2^3 + 0 + 0 + 2^0      -7\n1010      -2^3 + 0 + 2^1 + 0      -6\n1011      -2^3 + 0 + 2^1 + 2^0    -5\n1100      -2^3 + 2^2 + 0 + 0      -4\n1101      -2^3 + 2^2 + 0 + 2^0    -3\n1110      -2^3 + 2^2 + 2^1 + 0    -2\n1111      -2^3 + 2^2 + 2^1 + 2^0  -1\n</code></pre>\n\n<p>So, the two's complement thing is not an exclusive scheme for representing negative integers, rather we can say that the binary representation of integers are always the same, we just negate the weight of the most significant bit. And that bit determines the sign of the integer.</p>\n\n<p>In C, there is a keyword <code>unsigned</code> (not available in java), which can be used for declaring <code>unsigned int x;</code>. In the unsigned integers, the weight of the MSB is positive (<code>2^31</code>) rather than being negative. In that case the range of an <code>unsigned int</code> is <code>0</code> to <code>2^32 - 1</code>, while an <code>int</code> has range <code>-2^31</code> to <code>2^31 - 1</code>.</p>\n\n<p>From another point of view, if you consider the two's complement of <code>x</code> as <code>~x + 1</code> (NOT x plus one), here's the explanation:</p>\n\n<p>For any <code>x</code>, <code>~x</code> is just the bitwise inverse of <code>x</code>, so wherever <code>x</code> has a <code>1</code>-bit, <code>~x</code> will have a <code>0</code>-bit there (and vice versa). So, if you add these up, there will be no carry in the addition and the sum will be just an integer every bit of which is <code>1</code>.</p>\n\n<p>For 32-bit integers:</p>\n\n<pre><code>x + ~x = 1111 1111 1111 1111 1111 1111 1111 1111\nx + ~x + 1 =   1111 1111 1111 1111 1111 1111 1111 1111 + 1\n           = 1 0000 0000 0000 0000 0000 0000 0000 0000\n</code></pre>\n\n<p>The leftmost <code>1</code>-bit will simply be discarded, because it doesn't fit in 32-bits (integer overflow). So,</p>\n\n<pre><code>x + ~x + 1 = 0\n-x = ~x + 1\n</code></pre>\n\n<p>So you can see that the negative <code>x</code> can be represented by <code>~x + 1</code>, which we call the two's complement of <code>x</code>.</p>\n"},{"tags":[],"owner":{"account_id":2051638,"reputation":6978,"user_id":1830513,"accept_rate":80,"display_name":"Sazzadur Rahaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353092265,"creation_date":1353091892,"answer_id":13422628,"question_id":13422259,"body_markdown":"The most significant bit (32nd) indicates that the number is positive or negative. If it is 0, it means the number is positive and it is stored in its actual binary representation. but if it is 1, it means the number is negative and is stored in its two&#39;s complement representation. So when we give weight -2^32 to the 32nd bit while restoring the integer value from its binary representation, We get the actual answer.","title":"How are integers internally represented at a bit level in Java?","body":"<p>The most significant bit (32nd) indicates that the number is positive or negative. If it is 0, it means the number is positive and it is stored in its actual binary representation. but if it is 1, it means the number is negative and is stored in its two's complement representation. So when we give weight -2^32 to the 32nd bit while restoring the integer value from its binary representation, We get the actual answer.</p>\n"},{"tags":[],"owner":{"account_id":2908473,"reputation":99,"user_id":2493243,"display_name":"Siva Padhy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1391756392,"creation_date":1391756392,"answer_id":21621260,"question_id":13422259,"body_markdown":"positive numbers are stored directly as binary. 2&#39;s compliment is required for negative numbers.\r\n\r\nfor example:              \r\n\r\n15 : 00000000 00000000 00000000 00001111                                                         \r\n-15: 11111111 11111111 11111111 11110001\r\n\r\nhere is the difference in signed bit.","title":"How are integers internally represented at a bit level in Java?","body":"<p>positive numbers are stored directly as binary. 2's compliment is required for negative numbers.</p>\n\n<p>for example:              </p>\n\n<p>15 : 00000000 00000000 00000000 00001111<br>\n-15: 11111111 11111111 11111111 11110001</p>\n\n<p>here is the difference in signed bit.</p>\n"},{"tags":[],"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420812080,"creation_date":1420812080,"answer_id":27862232,"question_id":13422259,"body_markdown":"Thank you, **dreamcrash** for the answer https://stackoverflow.com/a/13422442/1065835; on [the wiki page][1] they give an example which helped me understand how to find out the binary representation of the negative counterpart of a positive number.\r\n\r\n&gt; For example, using 1 byte (= 2 nibbles = 8 bits), the decimal number 5\r\n&gt; is represented by\r\n&gt; \r\n&gt; 0000 01012 The most significant bit is 0, so the pattern represents a\r\n&gt; non-negative value. To convert to 5 in two&#39;s-complement notation, the\r\n&gt; bits are inverted; 0 becomes 1, and 1 becomes 0:\r\n&gt; \r\n&gt; 1111 1010 At this point, the numeral is the ones&#39; complement of the\r\n&gt; decimal value 5. To obtain the two&#39;s complement, 1 is added to the\r\n&gt; result, giving:\r\n&gt; \r\n&gt; 1111 1011 The result is a signed binary number representing the\r\n&gt; decimal value 5 in two&#39;s-complement form. The most significant bit is\r\n&gt; 1, so the value represented is negative.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Two%27s_complement#Converting_to_two.27s_complement_representation","title":"How are integers internally represented at a bit level in Java?","body":"<p>Thank you, <strong>dreamcrash</strong> for the answer <a href=\"https://stackoverflow.com/a/13422442/1065835\">https://stackoverflow.com/a/13422442/1065835</a>; on <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement#Converting_to_two.27s_complement_representation\" rel=\"nofollow noreferrer\">the wiki page</a> they give an example which helped me understand how to find out the binary representation of the negative counterpart of a positive number.</p>\n\n<blockquote>\n  <p>For example, using 1 byte (= 2 nibbles = 8 bits), the decimal number 5\n  is represented by</p>\n  \n  <p>0000 01012 The most significant bit is 0, so the pattern represents a\n  non-negative value. To convert to 5 in two's-complement notation, the\n  bits are inverted; 0 becomes 1, and 1 becomes 0:</p>\n  \n  <p>1111 1010 At this point, the numeral is the ones' complement of the\n  decimal value 5. To obtain the two's complement, 1 is added to the\n  result, giving:</p>\n  \n  <p>1111 1011 The result is a signed binary number representing the\n  decimal value 5 in two's-complement form. The most significant bit is\n  1, so the value represented is negative.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":1,"creation_date":1425014287,"post_id":28478572,"comment_id":45796649,"body_markdown":"http://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java/23801667#23801667","body":"<a href=\"http://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java/23801667#23801667\" title=\"what does value 0xff do in java\">stackoverflow.com/questions/11380062/&hellip;</a>"}],"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424155364,"creation_date":1423747382,"answer_id":28478572,"question_id":13422259,"body_markdown":"&gt; Positive numbers are stored/retrived as it is.\r\n\r\n \r\n\r\n    e.g) For +ve number 10; byte representation will be like 0-000 0010 \r\n                                                   (0 - MSB will represent that it is +ve).\r\n    So while retrieving based on MSB; it says it is +ve, \r\n    so the value will be taken as it is. \r\n\r\n&gt; But negative numbers will be stored after 2&#39;s complement (other than\r\n&gt; MSB bit), and MSB bit will be set to 1.\r\n\r\ne.g) when storing -10 then \r\n\r\n      0-000 0010  -&gt; (1&#39;s complement) -&gt; 0-111 1101 \r\n                  -&gt; (2&#39;s complement) 0-111 1101 + 1 -&gt; 0-111 1110\r\n      Now MSB will be set to one, since it is negative no -&gt; 1-111 1110\r\n\r\n   when retrieving, it found that MSB is set to 1. So it is negative no.\r\nAnd 2&#39;s complement will be performed other than MSB.\r\n\r\n      1-111 1110  --&gt; 1-000 0001 + 1 --&gt; 1-000 0010\r\n      Since MSB representing this is negative 10 --&gt; hence  -10 will be retrived.\r\n\r\n&gt; Casting\r\n\r\nAlso note that when you are casting int/short to byte, only last byte will be considered along with last byte MSB,\r\n\r\nTake example &quot;-130&quot; short, it might be stored like below\r\n\r\n    (MSB)1-(2&#39;s complement of)130(1000 0010) --&gt; 1-111 1111 0111 1110\r\n\r\n  Now byte casting took last byte which is 0111 1110. (0-MSB)\r\n  Since MSB says it is +ve value, so it will be taken as it is. \r\n  Which is 126. (+ve).\r\n\r\n\r\nTake another example &quot;130&quot; short, it might be stored like below\r\n\r\n      0-000 000 1000 0010     (MSB = 0)\r\n\r\n  Now byte casting took last byte which is 1000 0010 . (1=MSB)\r\n  Since MSB says it is -ve value,  2&#39;s complement will be performed and negative number will be returned. So in this case -126 will be returned.\r\n  \r\n     1-000 0010  -&gt; (1&#39;s complement) -&gt; 1-111 1101 \r\n                 -&gt; (2&#39;s complement) 1-111 1101 + 1 -&gt; 1-111 1110 -&gt; (-)111 1110\r\n                   = -126\r\n\r\n\r\n&gt; Diff between (int)(char)(byte) -1 AND  (int)(short)(byte) -1\r\n\r\n    (byte)-1       -&gt; 0-000 0001 (2&#39;s Comp) -&gt; 0-111 1111 (add sign) -&gt; 1-111 1111\r\n    (char)(byte)-1 -&gt; 1-111 1111 1111 1111  (sign bit is carry forwarded on left) \r\n\r\nsimilarly\r\n\r\n    (short)(byte)-1-&gt; 1-111 1111 1111 1111  (sign bit is carry forwarded on left) \r\n\r\nBut \r\n\r\n    (int)(char)(byte)-1 -&gt; 0-0000000 00000000 11111111 11111111  = 65535\r\n    since char is unsigned; MSB won&#39;t be carry forwarded. \r\n\r\nAND\r\n\r\n    (int)(Short)(byte)-1 -&gt; 1-1111111 11111111 11111111 11111111 = -1\r\n    since short is signed; MSB is be carry forwarded. \r\n\r\n&gt; References\r\n\r\nhttps://stackoverflow.com/questions/1125304/why-is-twos-complement-used-to-represent-negative-numbers\r\n\r\nhttps://stackoverflow.com/questions/1049722/what-is-2s-complement\r\n\r\n\r\n","title":"How are integers internally represented at a bit level in Java?","body":"<blockquote>\n  <p>Positive numbers are stored/retrived as it is.</p>\n</blockquote>\n\n<pre><code>e.g) For +ve number 10; byte representation will be like 0-000 0010 \n                                               (0 - MSB will represent that it is +ve).\nSo while retrieving based on MSB; it says it is +ve, \nso the value will be taken as it is. \n</code></pre>\n\n<blockquote>\n  <p>But negative numbers will be stored after 2's complement (other than\n  MSB bit), and MSB bit will be set to 1.</p>\n</blockquote>\n\n<p>e.g) when storing -10 then </p>\n\n<pre><code>  0-000 0010  -&gt; (1's complement) -&gt; 0-111 1101 \n              -&gt; (2's complement) 0-111 1101 + 1 -&gt; 0-111 1110\n  Now MSB will be set to one, since it is negative no -&gt; 1-111 1110\n</code></pre>\n\n<p>when retrieving, it found that MSB is set to 1. So it is negative no.\nAnd 2's complement will be performed other than MSB.</p>\n\n<pre><code>  1-111 1110  --&gt; 1-000 0001 + 1 --&gt; 1-000 0010\n  Since MSB representing this is negative 10 --&gt; hence  -10 will be retrived.\n</code></pre>\n\n<blockquote>\n  <p>Casting</p>\n</blockquote>\n\n<p>Also note that when you are casting int/short to byte, only last byte will be considered along with last byte MSB,</p>\n\n<p>Take example \"-130\" short, it might be stored like below</p>\n\n<pre><code>(MSB)1-(2's complement of)130(1000 0010) --&gt; 1-111 1111 0111 1110\n</code></pre>\n\n<p>Now byte casting took last byte which is 0111 1110. (0-MSB)\n  Since MSB says it is +ve value, so it will be taken as it is. \n  Which is 126. (+ve).</p>\n\n<p>Take another example \"130\" short, it might be stored like below</p>\n\n<pre><code>  0-000 000 1000 0010     (MSB = 0)\n</code></pre>\n\n<p>Now byte casting took last byte which is 1000 0010 . (1=MSB)\n  Since MSB says it is -ve value,  2's complement will be performed and negative number will be returned. So in this case -126 will be returned.</p>\n\n<pre><code> 1-000 0010  -&gt; (1's complement) -&gt; 1-111 1101 \n             -&gt; (2's complement) 1-111 1101 + 1 -&gt; 1-111 1110 -&gt; (-)111 1110\n               = -126\n</code></pre>\n\n<blockquote>\n  <p>Diff between (int)(char)(byte) -1 AND  (int)(short)(byte) -1</p>\n</blockquote>\n\n<pre><code>(byte)-1       -&gt; 0-000 0001 (2's Comp) -&gt; 0-111 1111 (add sign) -&gt; 1-111 1111\n(char)(byte)-1 -&gt; 1-111 1111 1111 1111  (sign bit is carry forwarded on left) \n</code></pre>\n\n<p>similarly</p>\n\n<pre><code>(short)(byte)-1-&gt; 1-111 1111 1111 1111  (sign bit is carry forwarded on left) \n</code></pre>\n\n<p>But </p>\n\n<pre><code>(int)(char)(byte)-1 -&gt; 0-0000000 00000000 11111111 11111111  = 65535\nsince char is unsigned; MSB won't be carry forwarded. \n</code></pre>\n\n<p>AND</p>\n\n<pre><code>(int)(Short)(byte)-1 -&gt; 1-1111111 11111111 11111111 11111111 = -1\nsince short is signed; MSB is be carry forwarded. \n</code></pre>\n\n<blockquote>\n  <p>References</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/1125304/why-is-twos-complement-used-to-represent-negative-numbers\">Why is two&#39;s complement used to represent negative numbers?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1049722/what-is-2s-complement\">What is 2&#39;s Complement?</a></p>\n"},{"tags":[],"owner":{"account_id":9924754,"reputation":11,"user_id":7346770,"display_name":"Mangesh Gawali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482861000,"creation_date":1482858854,"answer_id":41349330,"question_id":13422259,"body_markdown":"For positive integer 2&#39;complement value is same with MSB bit 0 `(like +14 2&#39;complement is 01110)`.\r\n\r\nFor only negative integer only we are calculating 2&#39;complement value `(-14= 10001+1\t    = 10010)`.\r\n\r\nSo final answer is both the values`(+ve and -ve)` are stored in 2&#39;complement form only.   ","title":"How are integers internally represented at a bit level in Java?","body":"<p>For positive integer 2'complement value is same with MSB bit 0 <code>(like +14 2'complement is 01110)</code>.</p>\n\n<p>For only negative integer only we are calculating 2'complement value <code>(-14= 10001+1     = 10010)</code>.</p>\n\n<p>So final answer is both the values<code>(+ve and -ve)</code> are stored in 2'complement form only.   </p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695552750,"post_id":77166673,"comment_id":136037246,"body_markdown":"?? &quot;each bit carry a sign with magnitude&quot; ? A **bit** can only be zero or one, no place for a sign and magnitude! (and no much gain answering an 11 year old question with highly upvoted and accepted answer, and not adding anything new)","body":"?? &quot;each bit carry a sign with magnitude&quot; ? A <b>bit</b> can only be zero or one, no place for a sign and magnitude! (and no much gain answering an 11 year old question with highly upvoted and accepted answer, and not adding anything new)"},{"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1695568863,"post_id":77166673,"comment_id":136038853,"body_markdown":"@user85421 I answered to jolt down the summary in simplest words. Not intentions to earn brownie points but thought that this may help the community.","body":"@user85421 I answered to jolt down the summary in simplest words. Not intentions to earn brownie points but thought that this may help the community."}],"tags":[],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695551394,"creation_date":1695551394,"answer_id":77166673,"question_id":13422259,"body_markdown":"In short, each bit carry a sign with magnitude while storing int, long, short, byte.\r\n\r\nTo explain it for byte, a byte stores values ranging -128 to 127 and a byte constitutes of 8 bits. Sign on the most significant bit(left most) is negative, all other carry positive sign i.e. [- + + + + + + +]\r\n\r\nfor instance,\r\n```\r\n[0 0 0 0 0 0 0 0] = 0\r\n[0 0 0 0 0 0 0 1] = +2^0 = 1\r\n[0 0 0 0 1 0 0 1] = +2^3 +2^0 = 9\r\n[0 1 1 1 1 1 1 1] = +2^6 +2^5 +2^4 +2^3 +2^2 + 2^1 + 2^0 = 127\r\n[1 0 0 0 1 0 0 1] = -2^7 +2^3 +2^0 = -119\r\n[1 0 0 0 0 0 0 0] = -2^7 = -128\r\n[1 1 1 1 1 1 1 1] = -2^7 +2^6 +2^5 +2^4 +2^3 +2^2 + 2^1 + 2^0 = -1\r\n```\r\nOnly size changes for int(32 bits), short(16 bits), long(64 bits) but the underlying concept remains same i.e. most significant bit carries negative sign while all others carry positive sign.\r\n\r\n\r\nDisclaimer: Every other answer is trying to convey the same when they mention 2&#39;s complement and all.\r\n","title":"How are integers internally represented at a bit level in Java?","body":"<p>In short, each bit carry a sign with magnitude while storing int, long, short, byte.</p>\n<p>To explain it for byte, a byte stores values ranging -128 to 127 and a byte constitutes of 8 bits. Sign on the most significant bit(left most) is negative, all other carry positive sign i.e. [- + + + + + + +]</p>\n<p>for instance,</p>\n<pre><code>[0 0 0 0 0 0 0 0] = 0\n[0 0 0 0 0 0 0 1] = +2^0 = 1\n[0 0 0 0 1 0 0 1] = +2^3 +2^0 = 9\n[0 1 1 1 1 1 1 1] = +2^6 +2^5 +2^4 +2^3 +2^2 + 2^1 + 2^0 = 127\n[1 0 0 0 1 0 0 1] = -2^7 +2^3 +2^0 = -119\n[1 0 0 0 0 0 0 0] = -2^7 = -128\n[1 1 1 1 1 1 1 1] = -2^7 +2^6 +2^5 +2^4 +2^3 +2^2 + 2^1 + 2^0 = -1\n</code></pre>\n<p>Only size changes for int(32 bits), short(16 bits), long(64 bits) but the underlying concept remains same i.e. most significant bit carries negative sign while all others carry positive sign.</p>\n<p>Disclaimer: Every other answer is trying to convey the same when they mention 2's complement and all.</p>\n"}],"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85165,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":13422442,"answer_count":11,"score":92,"last_activity_date":1695551394,"creation_date":1353090160,"question_id":13422259,"body_markdown":"I am trying to understand how Java stores integer internally. I know all java primitive integers are signed, (except short?). That means one less bit available in a byte for the number.\r\n\r\nMy question is, are all integers (positive and negative) stored as two&#39;s complement or are only negative numbers in two&#39;s complement?\r\n\r\nI see that the specs says `x bit two&#39;s complement number`. But I often get confused.\r\n\r\nFor instance:\r\n\r\n      int x = 15; // Stored as binary as is?  00000000 00000000 00000000 00001111?\r\n      int y = -22; // Stored as two complemented value? 11111111 11111111 11111111 11101010\r\n\r\n**Edit**\r\n\r\nTo be clear, `x = 15` \r\n\r\n       In binary as is: `00000000 00000000 00000000 00001111&#39;\r\n      Two&#39;s complement: `11111111 11111111 11111111 11110001`\r\n\r\nSo if your answer is  `all` numbers are stored as two&#39;s complement then:\r\n\r\n      int x = 15; // 11111111 11111111 11111111 11110001\r\n      int y = -22 // 11111111 11111111 11111111 11101010\r\n\r\nThe confusion here again is the sign says, both are negative numbers. May be I am misreading / misunderstanding it?\r\n\r\n**Edit**\r\nNot sure my question is confusing. Forced to isolate the question:\r\n\r\n**My question precisely: Are positive numbers stored in `binary as is` while negative numbers are stored as `two&#39;s complement`?**\r\n\r\nSome said all are stored in two&#39;s complement and one answer says only negative numbers are stored as two&#39;s complement.","title":"How are integers internally represented at a bit level in Java?","body":"<p>I am trying to understand how Java stores integer internally. I know all java primitive integers are signed, (except short?). That means one less bit available in a byte for the number.</p>\n\n<p>My question is, are all integers (positive and negative) stored as two's complement or are only negative numbers in two's complement?</p>\n\n<p>I see that the specs says <code>x bit two's complement number</code>. But I often get confused.</p>\n\n<p>For instance:</p>\n\n<pre><code>  int x = 15; // Stored as binary as is?  00000000 00000000 00000000 00001111?\n  int y = -22; // Stored as two complemented value? 11111111 11111111 11111111 11101010\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>To be clear, <code>x = 15</code> </p>\n\n<pre><code>   In binary as is: `00000000 00000000 00000000 00001111'\n  Two's complement: `11111111 11111111 11111111 11110001`\n</code></pre>\n\n<p>So if your answer is  <code>all</code> numbers are stored as two's complement then:</p>\n\n<pre><code>  int x = 15; // 11111111 11111111 11111111 11110001\n  int y = -22 // 11111111 11111111 11111111 11101010\n</code></pre>\n\n<p>The confusion here again is the sign says, both are negative numbers. May be I am misreading / misunderstanding it?</p>\n\n<p><strong>Edit</strong>\nNot sure my question is confusing. Forced to isolate the question:</p>\n\n<p><strong>My question precisely: Are positive numbers stored in <code>binary as is</code> while negative numbers are stored as <code>two's complement</code>?</strong></p>\n\n<p>Some said all are stored in two's complement and one answer says only negative numbers are stored as two's complement.</p>\n"},{"tags":["java","string","immutability","mutable","stringbuffer"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":2,"creation_date":1407241043,"post_id":25138587,"comment_id":39129939,"body_markdown":"In java String are immutable. No mutable strings.","body":"In java String are immutable. No mutable strings."},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":2,"creation_date":1407241070,"post_id":25138587,"comment_id":39129951,"body_markdown":"possible duplicate of [String is immutable. What exactly is the meaning?](http://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning\">String is immutable. What exactly is the meaning?</a>"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1407241905,"post_id":25138587,"comment_id":39130453,"body_markdown":"@TheLostMind mutable is `StringBuffer` object, String is immuatable object right","body":"@TheLostMind mutable is <code>StringBuffer</code> object, String is immuatable object right"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1407242075,"post_id":25138587,"comment_id":39130563,"body_markdown":"@Raghu- No. `StringBuffer` Object is not *mutable* String. A String once created is always immutable.","body":"@Raghu- No. <code>StringBuffer</code> Object is not <i>mutable</i> String. A String once created is always immutable."},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":1,"creation_date":1407242348,"post_id":25138587,"comment_id":39130753,"body_markdown":"@TheLostMind yes I got it, I am not telling `StringBuffer` is `mutable String`, I am telling `StringBuffer` is `mutable Object`. Am I right now?","body":"@TheLostMind yes I got it, I am not telling <code>StringBuffer</code> is <code>mutable String</code>, I am telling <code>StringBuffer</code> is <code>mutable Object</code>. Am I right now?"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1407253976,"post_id":25138587,"comment_id":39138459,"body_markdown":"@Raghu - Yes.. Now, you are right.. :)","body":"@Raghu - Yes.. Now, you are right.. :)"},{"owner":{"account_id":4206070,"reputation":939,"user_id":3444930,"accept_rate":56,"display_name":"Karthik"},"score":0,"creation_date":1441098848,"post_id":25138587,"comment_id":52529865,"body_markdown":"http://www.javaranch.com/journal/2003/04/immutable.htm This link gives an elaborate explaination","body":"<a href=\"http://www.javaranch.com/journal/2003/04/immutable.htm\" rel=\"nofollow noreferrer\">javaranch.com/journal/2003/04/immutable.htm</a> This link gives an elaborate explaination"}],"answers":[{"tags":[],"owner":{"account_id":4760688,"reputation":1833,"user_id":3848148,"display_name":"William F. Jameson"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1407241374,"creation_date":1407241005,"answer_id":25138614,"question_id":25138587,"body_markdown":"When you say `str`, you should be careful what you mean:\r\n\r\n- do you mean the *variable* `str`?\r\n\r\n- or do you mean the *object* referenced by `str`?\r\n\r\nIn your `StringBuffer` example you are not altering the value of `str`, and in your `String` example you are not altering the state of the `String` object.\r\n\r\nThe most poignant way to experience the difference would be something like this:\r\n\r\n    static void change(String in) { \r\n      in = in + &quot; changed&quot;;\r\n    }\r\n\r\n    static void change(StringBuffer in) {\r\n      in.append(&quot; changed&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       StringBuffer sb = new StringBuffer(&quot;value&quot;);\r\n       String str = &quot;value&quot;;\r\n       change(sb);\r\n       change(str);\r\n       System.out.println(&quot;StringBuffer: &quot;+sb);\r\n       System.out.println(&quot;String: &quot;+str);\r\n    }","title":"What is difference between mutable and immutable String in java","body":"<p>When you say <code>str</code>, you should be careful what you mean:</p>\n\n<ul>\n<li><p>do you mean the <em>variable</em> <code>str</code>?</p></li>\n<li><p>or do you mean the <em>object</em> referenced by <code>str</code>?</p></li>\n</ul>\n\n<p>In your <code>StringBuffer</code> example you are not altering the value of <code>str</code>, and in your <code>String</code> example you are not altering the state of the <code>String</code> object.</p>\n\n<p>The most poignant way to experience the difference would be something like this:</p>\n\n<pre><code>static void change(String in) { \n  in = in + \" changed\";\n}\n\nstatic void change(StringBuffer in) {\n  in.append(\" changed\");\n}\n\npublic static void main(String[] args) {\n   StringBuffer sb = new StringBuffer(\"value\");\n   String str = \"value\";\n   change(sb);\n   change(str);\n   System.out.println(\"StringBuffer: \"+sb);\n   System.out.println(\"String: \"+str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2076734,"reputation":3570,"user_id":1849873,"accept_rate":75,"display_name":"Balduz"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1407241017,"creation_date":1407241017,"answer_id":25138620,"question_id":25138587,"body_markdown":"In Java, all strings are immutable. When you are trying to modify a `String`, what you are really doing is creating a new one. However, when you use a `StringBuilder`, you are actually modifying the contents, instead of creating a new one.","title":"What is difference between mutable and immutable String in java","body":"<p>In Java, all strings are immutable. When you are trying to modify a <code>String</code>, what you are really doing is creating a new one. However, when you use a <code>StringBuilder</code>, you are actually modifying the contents, instead of creating a new one.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1407241034,"creation_date":1407241034,"answer_id":25138624,"question_id":25138587,"body_markdown":"Java `String`s are immutable. \r\n\r\nIn your first example, you are changing the **reference** to the `String`, thus assigning it the value of two other `Strings` combined: `str + &quot; Morning&quot;`. \r\n\r\nOn the contrary, a `StringBuilder` or `StringBuffer` can be modified through its methods. ","title":"What is difference between mutable and immutable String in java","body":"<p>Java <code>String</code>s are immutable. </p>\n\n<p>In your first example, you are changing the <strong>reference</strong> to the <code>String</code>, thus assigning it the value of two other <code>Strings</code> combined: <code>str + \" Morning\"</code>. </p>\n\n<p>On the contrary, a <code>StringBuilder</code> or <code>StringBuffer</code> can be modified through its methods. </p>\n"},{"comments":[{"owner":{"account_id":4760688,"reputation":1833,"user_id":3848148,"display_name":"William F. Jameson"},"score":3,"creation_date":1407241302,"post_id":25138638,"comment_id":39130096,"body_markdown":"`StringBuffer` plays the role of a mutable string. Note the difference between `String` and just *string*.","body":"<code>StringBuffer</code> plays the role of a mutable string. Note the difference between <code>String</code> and just <i>string</i>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1407241562,"post_id":25138638,"comment_id":39130255,"body_markdown":"@WilliamF.Jameson - No, `StringBuffer` doesn&#39;t play the role of a mutable String. It is an array which can be converted to a String. Once you call `toString()` on it and then add characters to it and again call toString(), you will have **2** different String Objects.","body":"@WilliamF.Jameson - No, <code>StringBuffer</code> doesn&#39;t play the role of a mutable String. It is an array which can be converted to a String. Once you call <code>toString()</code> on it and then add characters to it and again call toString(), you will have <b>2</b> different String Objects."},{"owner":{"account_id":4760688,"reputation":1833,"user_id":3848148,"display_name":"William F. Jameson"},"score":4,"creation_date":1407242012,"post_id":25138638,"comment_id":39130525,"body_markdown":"@TheLostMind Read my comment more carefully: *string* is not the same as `String`. One is a common concept and the other is the Java class. `StringBuffer` definitely serves the purpose of a mutable string in Java.","body":"@TheLostMind Read my comment more carefully: <i>string</i> is not the same as <code>String</code>. One is a common concept and the other is the Java class. <code>StringBuffer</code> definitely serves the purpose of a mutable string in Java."}],"tags":[],"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"comment_count":3,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1407241070,"creation_date":1407241070,"answer_id":25138638,"question_id":25138587,"body_markdown":" &gt; What is difference between mutable and immutable String in java\r\n\r\nimmutable exist, mutable don&#39;t.\r\n","title":"What is difference between mutable and immutable String in java","body":"<blockquote>\n  <p>What is difference between mutable and immutable String in java</p>\n</blockquote>\n\n<p>immutable exist, mutable don't.</p>\n"},{"comments":[{"owner":{"account_id":1036258,"reputation":1207,"user_id":1043477,"accept_rate":71,"display_name":"DilanG"},"score":2,"creation_date":1449253550,"post_id":25138690,"comment_id":55942239,"body_markdown":"can you please tell me why &quot;GoodMorning&quot; goes to heap instead of  string pool. ?","body":"can you please tell me why &quot;GoodMorning&quot; goes to heap instead of  string pool. ?"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":2,"creation_date":1449385542,"post_id":25138690,"comment_id":55979416,"body_markdown":"@DilanG - Internally (if the String literals are not marked `final`) , String concatenation happens using StringBuilder/ StringBuffer","body":"@DilanG - Internally (if the String literals are not marked <code>final</code>) , String concatenation happens using StringBuilder/ StringBuffer"},{"owner":{"account_id":6244224,"reputation":466,"user_id":4856777,"accept_rate":67,"display_name":"perfectus"},"score":1,"creation_date":1481200030,"post_id":25138690,"comment_id":69286198,"body_markdown":"In case 2 `str.append(&quot; Morining&quot;)`, do **&quot; Morning&quot;** is stored in String Pool?","body":"In case 2 <code>str.append(&quot; Morining&quot;)</code>, do <b>&quot; Morning&quot;</b> is stored in String Pool?"}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":3,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1457035215,"creation_date":1407241180,"answer_id":25138690,"question_id":25138587,"body_markdown":"Case 1:\r\n-------\r\n\r\n    String str = &quot;Good&quot;;\r\n    str = str + &quot; Morning&quot;;\r\n\r\nIn the above code you create 3 `String` Objects.\r\n\r\n1. &quot;Good&quot; it goes into the *String Pool*. \r\n2. &quot; Morning&quot; it goes into the *String Pool* as well.\r\n3. &quot;Good Morning&quot; created by concatenating &quot;Good&quot; and &quot; Morning&quot;. This guy goes on the *Heap*. \r\n\r\n**Note:** Strings are **always immutable**. There is no, such thing as a **mutable String**. `str` is just a *reference* which eventually points to &quot;Good Morning&quot;. You are actually, **not** working on `1` object. you have `3` distinct `String` Objects.\r\n\r\n\r\n----------\r\n\r\nCase 2:\r\n-------\r\n\r\n    StringBuffer str = new StringBuffer(&quot;Good&quot;); \r\n    str.append(&quot; Morning&quot;);\r\n\r\n`StringBuffer` contains an array of characters. It is *not* same as a `String`.\r\nThe above code adds characters to the existing array. Effectively, `StringBuffer` is mutable, its `String` representation isn&#39;t.\r\n\r\n","title":"What is difference between mutable and immutable String in java","body":"<h2>Case 1:</h2>\n\n<pre><code>String str = \"Good\";\nstr = str + \" Morning\";\n</code></pre>\n\n<p>In the above code you create 3 <code>String</code> Objects.</p>\n\n<ol>\n<li>\"Good\" it goes into the <em>String Pool</em>. </li>\n<li>\" Morning\" it goes into the <em>String Pool</em> as well.</li>\n<li>\"Good Morning\" created by concatenating \"Good\" and \" Morning\". This guy goes on the <em>Heap</em>. </li>\n</ol>\n\n<p><strong>Note:</strong> Strings are <strong>always immutable</strong>. There is no, such thing as a <strong>mutable String</strong>. <code>str</code> is just a <em>reference</em> which eventually points to \"Good Morning\". You are actually, <strong>not</strong> working on <code>1</code> object. you have <code>3</code> distinct <code>String</code> Objects.</p>\n\n<hr>\n\n<h2>Case 2:</h2>\n\n<pre><code>StringBuffer str = new StringBuffer(\"Good\"); \nstr.append(\" Morning\");\n</code></pre>\n\n<p><code>StringBuffer</code> contains an array of characters. It is <em>not</em> same as a <code>String</code>.\nThe above code adds characters to the existing array. Effectively, <code>StringBuffer</code> is mutable, its <code>String</code> representation isn't.</p>\n"},{"tags":[],"owner":{"account_id":5813947,"reputation":11,"user_id":5260937,"display_name":"Vinay Shanubhag"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469883572,"creation_date":1469876235,"answer_id":38673119,"question_id":25138587,"body_markdown":"  I modified the code of william with a output comments for better understandable\r\n\r\n\r\n\r\n\r\n\t   static void changeStr(String in) { \r\n\t\t  in = in+&quot; changed&quot;;\r\n\t\t  System.out.println(&quot;fun:&quot;+in); //value changed \r\n\t\t}\r\n\t\tstatic void changeStrBuf(StringBuffer in) {\r\n\t\t  in.append(&quot; changed&quot;);   //value changed\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t   StringBuffer sb = new StringBuffer(&quot;value&quot;);\r\n\t\t   String str = &quot;value&quot;;\r\n\t\t   changeStrBuf(sb);\r\n\t\t   changeStr(str);\r\n\t\t   System.out.println(&quot;StringBuffer: &quot;+sb); //value changed\r\n\t\t   System.out.println(&quot;String: &quot;+str);       // value \r\n\t\t}\r\n\t\r\n\r\n\r\nIn above code , look at the value of str in both main() and changeStr() , even though u r changing the value of str in changeStr() it is affecting only to that function but in the main function the value is not changed , but it not in the case of StringBuffer.. \r\n\r\nIn StringBuffer changed value is affected as a global.. \r\n\r\nhence String is immutable and StringBuffer is mutable...\r\n\r\n\r\nIn Simple ,  whatever u changed to String Object will affecting only to that function By going to String Pool. but not Changed...","title":"What is difference between mutable and immutable String in java","body":"<p>I modified the code of william with a output comments for better understandable</p>\n\n<pre><code>   static void changeStr(String in) { \n      in = in+\" changed\";\n      System.out.println(\"fun:\"+in); //value changed \n    }\n    static void changeStrBuf(StringBuffer in) {\n      in.append(\" changed\");   //value changed\n    }\n\n    public static void main(String[] args) {\n       StringBuffer sb = new StringBuffer(\"value\");\n       String str = \"value\";\n       changeStrBuf(sb);\n       changeStr(str);\n       System.out.println(\"StringBuffer: \"+sb); //value changed\n       System.out.println(\"String: \"+str);       // value \n    }\n</code></pre>\n\n<p>In above code , look at the value of str in both main() and changeStr() , even though u r changing the value of str in changeStr() it is affecting only to that function but in the main function the value is not changed , but it not in the case of StringBuffer.. </p>\n\n<p>In StringBuffer changed value is affected as a global.. </p>\n\n<p>hence String is immutable and StringBuffer is mutable...</p>\n\n<p>In Simple ,  whatever u changed to String Object will affecting only to that function By going to String Pool. but not Changed...</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472313579,"creation_date":1472114465,"answer_id":39140526,"question_id":25138587,"body_markdown":"- [**Mutable**][1]   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**:-** Changeable\r\n- [**Immutable** **][2]:-** *Un*changeable \r\n\r\n\r\n----------\r\n\r\n\r\n**String** in Java is ***immutable***. However what does it mean to be _mutable_ in programming context is the first question. Consider following class,\r\n\r\n    public class Dimension {\r\n    \tprivate int height;\r\n    \t\r\n    \tprivate int width;\r\n    \t\r\n    \tpublic Dimenstion() {\r\n    \t}\r\n    \t\r\n    \tpublic void setSize(int height, int width) {\r\n    \t\tthis.height = height;\r\n    \t\tthis.width = width;\r\n    \t}\r\n    \t\r\n    \tpublic getHeight() {\r\n    \t\treturn height;\r\n    \t}\r\n    \t\r\n    \tpublic getWidth() {\r\n    \t\treturn width;\r\n    \t}\r\n    }\r\n\r\nNow after creating the instance of `Dimension` we can always update it&#39;s attributes. Note that if any of the attribute, in other sense state, can be updated for instance of the class then it is said to be mutable. We can always do following,\r\n\r\n    Dimension d = new Dimension();\r\n    d.setSize(10, 20);// Dimension changed\r\n    d.setSize(10, 200);// Dimension changed\r\n    d.setSize(100, 200);// Dimension changed\r\n\r\nLet&#39;s see in different ways we can create a String in Java.\r\n\r\n    String str1 = &quot;Hey!&quot;;\r\n    String str2 = &quot;Jack&quot;;\r\n    String str3 = new String(&quot;Hey Jack!&quot;);\r\n    String str4 = new String(new char[] {&#39;H&#39;, &#39;e&#39;, &#39;y&#39;, &#39;!&#39;});\r\n    String str5 = str1 + str2;\r\n    str1 = &quot;Hi !&quot;;\r\n    // ...\r\n\r\nSo,\r\n\r\n  1. `str1` and `str2` are String literals which gets created in String constant pool\r\n  2. `str3`, `str4` and `str5` are String Objects which are placed in Heap memory\r\n  3. `str1 = &quot;Hi!&quot;;` creates `&quot;Hi!&quot;` in String constant pool and it&#39;s totally different reference than `&quot;Hey!&quot;` which `str1` referencing earlier.\r\n\r\nHere we are creating the String literal or String Object. Both are different, I would suggest you to read following post to understand more about it.\r\n\r\n - https://stackoverflow.com/questions/3297867/difference-between-string-object-and-string-literal\r\n \r\nIn any String declaration, one thing is common, _that it does not modify but it gets created or shifted to other._\r\n\r\n\tString str = &quot;Good&quot;; // Create the String literal in String pool\r\n\tstr = str + &quot; Morning&quot;; // Create String with concatenation of str + &quot;Morning&quot;\r\n\t|_____________________|\r\n\t\t   |- Step 1 : Concatenate &quot;Good&quot;  and &quot; Morning&quot; with StringBuilder\r\n\t\t   |- Step 2 : assign reference of created &quot;Good Morning&quot; String Object to str\r\n\t\t   \r\n&gt; *How String became immutable ?*\r\n\r\nIt&#39;s non changing behaviour, means, the value once assigned can not be updated in any other way. String class internally holds data in character array. Moreover, class is created to be immutable. Take a look at this strategy for defining immutable class. \r\n\r\nShifting the reference does not mean you changed it&#39;s value. It would be mutable if you can update the character array which is behind the scene in String class. But in reality that array will be initialized once and throughout the program it remains the same.\r\n\r\n&gt; *Why StringBuffer is mutable ?*\r\n\r\nAs you already guessed, StringBuffer class is mutable itself as you can update it&#39;s *state* directly. Similar to String it also holds value in character array and you can manipulate that array by different methods *i.e.* append, delete, insert etc. which directly changes the character value array.\r\n\r\n\r\n  [1]: https://www.google.co.in/search?q=mutable%20meaning&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;gfe_rd=cr&amp;ei=9t6_V5TeBKbT8gfA_oLADw\r\n  [2]: https://www.google.co.in/search?q=mutable%20meaning&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;gfe_rd=cr&amp;ei=9t6_V5TeBKbT8gfA_oLADw#newwindow=1&amp;q=immutable%20meaning","title":"What is difference between mutable and immutable String in java","body":"<ul>\n<li><a href=\"https://www.google.co.in/search?q=mutable%20meaning&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;gfe_rd=cr&amp;ei=9t6_V5TeBKbT8gfA_oLADw\" rel=\"nofollow noreferrer\"><strong>Mutable</strong></a>   &nbsp;&nbsp;&nbsp;&nbsp;<strong>:-</strong> Changeable</li>\n<li><a href=\"https://www.google.co.in/search?q=mutable%20meaning&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;gfe_rd=cr&amp;ei=9t6_V5TeBKbT8gfA_oLADw#newwindow=1&amp;q=immutable%20meaning\" rel=\"nofollow noreferrer\"><strong>Immutable</strong> <strong></a>:-</strong> <em>Un</em>changeable </li>\n</ul>\n\n<hr>\n\n<p><strong>String</strong> in Java is <strong><em>immutable</em></strong>. However what does it mean to be <em>mutable</em> in programming context is the first question. Consider following class,</p>\n\n<pre><code>public class Dimension {\n    private int height;\n\n    private int width;\n\n    public Dimenstion() {\n    }\n\n    public void setSize(int height, int width) {\n        this.height = height;\n        this.width = width;\n    }\n\n    public getHeight() {\n        return height;\n    }\n\n    public getWidth() {\n        return width;\n    }\n}\n</code></pre>\n\n<p>Now after creating the instance of <code>Dimension</code> we can always update it's attributes. Note that if any of the attribute, in other sense state, can be updated for instance of the class then it is said to be mutable. We can always do following,</p>\n\n<pre><code>Dimension d = new Dimension();\nd.setSize(10, 20);// Dimension changed\nd.setSize(10, 200);// Dimension changed\nd.setSize(100, 200);// Dimension changed\n</code></pre>\n\n<p>Let's see in different ways we can create a String in Java.</p>\n\n<pre><code>String str1 = \"Hey!\";\nString str2 = \"Jack\";\nString str3 = new String(\"Hey Jack!\");\nString str4 = new String(new char[] {'H', 'e', 'y', '!'});\nString str5 = str1 + str2;\nstr1 = \"Hi !\";\n// ...\n</code></pre>\n\n<p>So,</p>\n\n<ol>\n<li><code>str1</code> and <code>str2</code> are String literals which gets created in String constant pool</li>\n<li><code>str3</code>, <code>str4</code> and <code>str5</code> are String Objects which are placed in Heap memory</li>\n<li><code>str1 = \"Hi!\";</code> creates <code>\"Hi!\"</code> in String constant pool and it's totally different reference than <code>\"Hey!\"</code> which <code>str1</code> referencing earlier.</li>\n</ol>\n\n<p>Here we are creating the String literal or String Object. Both are different, I would suggest you to read following post to understand more about it.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3297867/difference-between-string-object-and-string-literal\">Difference between string object and string literal</a></li>\n</ul>\n\n<p>In any String declaration, one thing is common, <em>that it does not modify but it gets created or shifted to other.</em></p>\n\n<pre><code>String str = \"Good\"; // Create the String literal in String pool\nstr = str + \" Morning\"; // Create String with concatenation of str + \"Morning\"\n|_____________________|\n       |- Step 1 : Concatenate \"Good\"  and \" Morning\" with StringBuilder\n       |- Step 2 : assign reference of created \"Good Morning\" String Object to str\n</code></pre>\n\n<blockquote>\n  <p><em>How String became immutable ?</em></p>\n</blockquote>\n\n<p>It's non changing behaviour, means, the value once assigned can not be updated in any other way. String class internally holds data in character array. Moreover, class is created to be immutable. Take a look at this strategy for defining immutable class. </p>\n\n<p>Shifting the reference does not mean you changed it's value. It would be mutable if you can update the character array which is behind the scene in String class. But in reality that array will be initialized once and throughout the program it remains the same.</p>\n\n<blockquote>\n  <p><em>Why StringBuffer is mutable ?</em></p>\n</blockquote>\n\n<p>As you already guessed, StringBuffer class is mutable itself as you can update it's <em>state</em> directly. Similar to String it also holds value in character array and you can manipulate that array by different methods <em>i.e.</em> append, delete, insert etc. which directly changes the character value array.</p>\n"},{"tags":[],"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486062376,"creation_date":1486062376,"answer_id":42010358,"question_id":25138587,"body_markdown":"A mutable variable is one whose value may change in place, whereas in an immutable variable change of value will not happen in place. Modifying an immutable variable will rebuild the same variable.","title":"What is difference between mutable and immutable String in java","body":"<p>A mutable variable is one whose value may change in place, whereas in an immutable variable change of value will not happen in place. Modifying an immutable variable will rebuild the same variable.</p>\n"},{"tags":[],"owner":{"account_id":10848681,"reputation":1,"user_id":7977227,"display_name":"Said BAHAOUARY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500065970,"creation_date":1500065497,"answer_id":45111418,"question_id":25138587,"body_markdown":"Mutable means you will **save the same reference** to variable and change its contents but immutable you can not change contents but you will **declare new reference** contains the new and the old value of the variable\r\n\r\nEx\r\n**Immutable** -&gt; String\r\n\r\n`String x = &quot;value0ne&quot;;// adresse one\r\nx += &quot;valueTwo&quot;; //an other adresse {adresse two} `\r\nadresse on the heap memory change.\r\n \r\n**Mutable** -&gt; StringBuffer - StringBuilder\r\n`StringBuilder sb = new StringBuilder();\r\nsb.append(&quot;valueOne&quot;); // adresse One\r\nsb.append(&quot;valueTwo&quot;); // adresse One`\r\n\r\nsb still in the same adresse i hope this comment helps","title":"What is difference between mutable and immutable String in java","body":"<p>Mutable means you will <strong>save the same reference</strong> to variable and change its contents but immutable you can not change contents but you will <strong>declare new reference</strong> contains the new and the old value of the variable</p>\n\n<p>Ex\n<strong>Immutable</strong> -> String</p>\n\n<p><code>String x = \"value0ne\";// adresse one\nx += \"valueTwo\"; //an other adresse {adresse two}</code>\nadresse on the heap memory change.</p>\n\n<p><strong>Mutable</strong> -> StringBuffer - StringBuilder\n<code>StringBuilder sb = new StringBuilder();\nsb.append(\"valueOne\"); // adresse One\nsb.append(\"valueTwo\"); // adresse One</code></p>\n\n<p>sb still in the same adresse i hope this comment helps</p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1529697256,"post_id":50980838,"comment_id":88984134,"body_markdown":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder in 2004.","body":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder in 2004."},{"owner":{"account_id":12070163,"reputation":201,"user_id":8825817,"display_name":"k_kumar"},"score":0,"creation_date":1530630525,"post_id":50980838,"comment_id":89299066,"body_markdown":"@PeterLawrey Thanks, just I demonstrated.","body":"@PeterLawrey Thanks, just I demonstrated."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695554143,"post_id":50980838,"comment_id":136037379,"body_markdown":"BTW `hashCode()` does not &quot;display the decimal representation of the location address&quot; - it is just a calculation based on the content of the String - totally unsuitable to determine if two instances are the same or not( `&quot;Aa&quot;.hashCode() == &quot;BB&quot;.hashCode() == 2112` but never will `&quot;Aa&quot;` be at same location as `&quot;BB&quot;` )","body":"BTW <code>hashCode()</code> does not &quot;display the decimal representation of the location address&quot; - it is just a calculation based on the content of the String - totally unsuitable to determine if two instances are the same or not( <code>&quot;Aa&quot;.hashCode() == &quot;BB&quot;.hashCode() == 2112</code> but never will <code>&quot;Aa&quot;</code> be at same location as <code>&quot;BB&quot;</code> )"}],"tags":[],"owner":{"account_id":12070163,"reputation":201,"user_id":8825817,"display_name":"k_kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551033966,"creation_date":1529642958,"answer_id":50980838,"question_id":25138587,"body_markdown":"In Java, all strings are [immutable](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html)(Can&#39;t change). *When you are trying to modify a String, what you are really doing is creating a new one*.\r\n\r\n**Following ways we can create the string object**\r\n\r\n 1. Using String literal\r\n\r\n    \tString str=&quot;java&quot;;\r\n\r\n 2. Using new keyword\r\n\r\n     \tString str = new String(&quot;java&quot;);\r\n\r\n 3. Using character array\r\n  \r\n     \tchar[] helloArray = { &#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39;.&#39; };\r\n\r\n     \tString helloString = new String(helloArray);   \r\n\r\ncoming to String immutability,  simply means unmodifiable or unchangeable\r\n\r\nLet&#39;s take one example\r\n\r\nI&#39;m initializing the value to the String literal s\r\n\r\n    String s=&quot;kumar&quot;;\r\nBelow I&#39;m going to display the decimal representation of the location address using hashcode()\r\n\r\n    System.out.println(s.hashCode());\r\nSimply printing the value of a String s\r\n\r\n    System.out.println(&quot;value &quot;+s);\r\nOkay, this time I&#39;m inittializing value &quot;kumar&quot; to s1\r\n\r\n    String s1=&quot;kumar&quot;;   // what you think is this line, takes new location in the memory ??? \r\n\r\nOkay let&#39;s check by displaying hashcode of the s1 object which we created\r\n\r\n    System.out.println(s1.hashCode());\r\n\r\n\r\nokay, let&#39;s check below code\r\n\r\n    String s2=new String(&quot;Kumar&quot;);\r\n    \tSystem.out.println(s2.hashCode());  // why this gives the different address ??\r\n\r\nOkay, check this below code at last\r\n\r\n    String s3=new String(&quot;KUMAR&quot;);\r\n    \tSystem.out.println(s3.hashCode());  // again different address ???\r\n\r\nYES, if you see Strings &#39;s&#39; and &#39;s1&#39; having the same hashcode because the value hold by &#39;s&#39; &amp; &#39;s1&#39; are same that is &#39;kumar&#39; \r\n\r\n\r\n\r\nLet&#39;s consider String &#39;s2&#39; and &#39;s3&#39; these two  Strings hashcode appears to be different in the sense, they both stored in a different location because you see their values are different. \r\n\r\nsince s and s1 hashcode is same because those values are same and storing in the same location.\r\n\r\nExample 1: \r\nTry below code and analyze line by line\r\n\r\n    public class StringImmutable {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tString s=&quot;java&quot;;\r\n    \tSystem.out.println(s.hashCode());\r\n    \tString s1=&quot;javA&quot;;\r\n    \tSystem.out.println(s1.hashCode());\r\n    \tString s2=new String(&quot;Java&quot;);\r\n    \tSystem.out.println(s2.hashCode());\r\n    \tString s3=new String(&quot;JAVA&quot;);\r\n    \tSystem.out.println(s3.hashCode());\r\n    }\r\n    }\r\n\r\n\r\n\r\nExample 2: Try below code and analyze line by line\r\n\r\n\r\n    public class StringImmutable {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString s=&quot;java&quot;;\r\n    \t\ts.concat(&quot; programming&quot;);  // s can not be changed &quot;immutablity&quot;\r\n    \t\tSystem.out.println(&quot;value of s &quot;+s);\r\n    \t\tSystem.out.println(&quot; hashcode of s &quot;+s.hashCode());\r\n    \r\n    \t\tString s1=&quot;java&quot;;\r\n    \t\tString s2=s.concat(&quot; programming&quot;);   // s1 can not be changed &quot;immutablity&quot; rather creates object s2\r\n    \t\tSystem.out.println(&quot;value of s1 &quot;+s1);\r\n    \t\tSystem.out.println(&quot; hashcode of s1 &quot;+s1.hashCode());  \r\n    \r\n    \t\tSystem.out.println(&quot;value of s2 &quot;+s2);\r\n    \t\tSystem.out.println(&quot; hashcode of s2 &quot;+s2.hashCode());\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nOkay, Let&#39;s look what is the difference between mutable and immutable.\r\n\r\nmutable(it change) vs. immutable (it can&#39;t change)\r\n\r\n    public class StringMutableANDimmutable {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t\r\n    \t\t// it demonstrates immutable concept\r\n    \t\tString s=&quot;java&quot;;\r\n    \t\ts.concat(&quot; programming&quot;);  // s can not be changed (immutablity)\r\n    \t\tSystem.out.println(&quot;value of s ==  &quot;+s); \r\n    \t\tSystem.out.println(&quot; hashcode of s == &quot;+s.hashCode()+&quot;\\n\\n&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t// it demonstrates mutable concept\r\n    \t\tStringBuffer s1= new StringBuffer(&quot;java&quot;);\r\n    \t\ts1.append(&quot; programming&quot;);  // s can be changed (mutablity)\r\n    \t\tSystem.out.println(&quot;value of s1 ==  &quot;+s1); \r\n    \t\tSystem.out.println(&quot; hashcode of s1 == &quot;+s1.hashCode());\r\n    \r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nAny further questions?? please write on...\r\n","title":"What is difference between mutable and immutable String in java","body":"<p>In Java, all strings are <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">immutable</a>(Can't change). <em>When you are trying to modify a String, what you are really doing is creating a new one</em>.</p>\n\n<p><strong>Following ways we can create the string object</strong></p>\n\n<ol>\n<li><p>Using String literal</p>\n\n<pre><code>String str=\"java\";\n</code></pre></li>\n<li><p>Using new keyword</p>\n\n<pre><code>String str = new String(\"java\");\n</code></pre></li>\n<li><p>Using character array</p>\n\n<pre><code>char[] helloArray = { 'h', 'e', 'l', 'l', 'o', '.' };\n\nString helloString = new String(helloArray);   \n</code></pre></li>\n</ol>\n\n<p>coming to String immutability,  simply means unmodifiable or unchangeable</p>\n\n<p>Let's take one example</p>\n\n<p>I'm initializing the value to the String literal s</p>\n\n<pre><code>String s=\"kumar\";\n</code></pre>\n\n<p>Below I'm going to display the decimal representation of the location address using hashcode()</p>\n\n<pre><code>System.out.println(s.hashCode());\n</code></pre>\n\n<p>Simply printing the value of a String s</p>\n\n<pre><code>System.out.println(\"value \"+s);\n</code></pre>\n\n<p>Okay, this time I'm inittializing value \"kumar\" to s1</p>\n\n<pre><code>String s1=\"kumar\";   // what you think is this line, takes new location in the memory ??? \n</code></pre>\n\n<p>Okay let's check by displaying hashcode of the s1 object which we created</p>\n\n<pre><code>System.out.println(s1.hashCode());\n</code></pre>\n\n<p>okay, let's check below code</p>\n\n<pre><code>String s2=new String(\"Kumar\");\n    System.out.println(s2.hashCode());  // why this gives the different address ??\n</code></pre>\n\n<p>Okay, check this below code at last</p>\n\n<pre><code>String s3=new String(\"KUMAR\");\n    System.out.println(s3.hashCode());  // again different address ???\n</code></pre>\n\n<p>YES, if you see Strings 's' and 's1' having the same hashcode because the value hold by 's' &amp; 's1' are same that is 'kumar' </p>\n\n<p>Let's consider String 's2' and 's3' these two  Strings hashcode appears to be different in the sense, they both stored in a different location because you see their values are different. </p>\n\n<p>since s and s1 hashcode is same because those values are same and storing in the same location.</p>\n\n<p>Example 1: \nTry below code and analyze line by line</p>\n\n<pre><code>public class StringImmutable {\npublic static void main(String[] args) {\n\n    String s=\"java\";\n    System.out.println(s.hashCode());\n    String s1=\"javA\";\n    System.out.println(s1.hashCode());\n    String s2=new String(\"Java\");\n    System.out.println(s2.hashCode());\n    String s3=new String(\"JAVA\");\n    System.out.println(s3.hashCode());\n}\n}\n</code></pre>\n\n<p>Example 2: Try below code and analyze line by line</p>\n\n<pre><code>public class StringImmutable {\n    public static void main(String[] args) {\n\n        String s=\"java\";\n        s.concat(\" programming\");  // s can not be changed \"immutablity\"\n        System.out.println(\"value of s \"+s);\n        System.out.println(\" hashcode of s \"+s.hashCode());\n\n        String s1=\"java\";\n        String s2=s.concat(\" programming\");   // s1 can not be changed \"immutablity\" rather creates object s2\n        System.out.println(\"value of s1 \"+s1);\n        System.out.println(\" hashcode of s1 \"+s1.hashCode());  \n\n        System.out.println(\"value of s2 \"+s2);\n        System.out.println(\" hashcode of s2 \"+s2.hashCode());\n\n    }\n}\n</code></pre>\n\n<p>Okay, Let's look what is the difference between mutable and immutable.</p>\n\n<p>mutable(it change) vs. immutable (it can't change)</p>\n\n<pre><code>public class StringMutableANDimmutable {\n    public static void main(String[] args) {\n\n\n        // it demonstrates immutable concept\n        String s=\"java\";\n        s.concat(\" programming\");  // s can not be changed (immutablity)\n        System.out.println(\"value of s ==  \"+s); \n        System.out.println(\" hashcode of s == \"+s.hashCode()+\"\\n\\n\");\n\n\n        // it demonstrates mutable concept\n        StringBuffer s1= new StringBuffer(\"java\");\n        s1.append(\" programming\");  // s can be changed (mutablity)\n        System.out.println(\"value of s1 ==  \"+s1); \n        System.out.println(\" hashcode of s1 == \"+s1.hashCode());\n\n\n    }\n}\n</code></pre>\n\n<p>Any further questions?? please write on...</p>\n"}],"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167015,"favorite_count":0,"down_vote_count":2,"up_vote_count":60,"accepted_answer_id":25138690,"answer_count":10,"score":58,"last_activity_date":1695550977,"creation_date":1407240923,"question_id":25138587,"body_markdown":"As per my knowledge,\r\n\r\na mutable string can be changed, and\r\nan immutable string cannot be changed.\r\n\r\nHere I want to change the value of String like this,\r\n\r\n    String str=&quot;Good&quot;;\r\n    str=str+&quot; Morning&quot;;\r\n\r\nand other way is,\r\n\r\n    StringBuffer str= new StringBuffer(&quot;Good&quot;);\r\n    str.append(&quot; Morning&quot;);\r\n\r\nIn both the cases I am trying to alter the value of `str`. Can anyone tell me, what is difference in both case and give me clear picture of mutable and immutable objects.","title":"What is difference between mutable and immutable String in java","body":"<p>As per my knowledge,</p>\n\n<p>a mutable string can be changed, and\nan immutable string cannot be changed.</p>\n\n<p>Here I want to change the value of String like this,</p>\n\n<pre><code>String str=\"Good\";\nstr=str+\" Morning\";\n</code></pre>\n\n<p>and other way is,</p>\n\n<pre><code>StringBuffer str= new StringBuffer(\"Good\");\nstr.append(\" Morning\");\n</code></pre>\n\n<p>In both the cases I am trying to alter the value of <code>str</code>. Can anyone tell me, what is difference in both case and give me clear picture of mutable and immutable objects.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669931099,"post_id":74648502,"comment_id":131761453,"body_markdown":"Please [edit] the post and show the (relevant) code.","body":"Please <a href=\"https://stackoverflow.com/posts/74648502/edit\">edit</a> the post and show the (relevant) code."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":1,"creation_date":1669931176,"post_id":74648502,"comment_id":131761473,"body_markdown":"What is your question? I think Mockito explained clearly what the issue is &quot;cannot mock this class: class com.x.ServiceClient&quot; as &quot;Mockito can only mock non-private &amp; non-final classes.&quot;","body":"What is your question? I think Mockito explained clearly what the issue is &quot;cannot mock this class: class com.x.ServiceClient&quot; as &quot;Mockito can only mock non-private &amp; non-final classes.&quot;"},{"owner":{"account_id":3847859,"reputation":7139,"user_id":3188761,"accept_rate":55,"display_name":"90abyss"},"score":0,"creation_date":1669931678,"post_id":74648502,"comment_id":131761613,"body_markdown":"@AdamSiemion ServiceClient is neither private not final","body":"@AdamSiemion ServiceClient is neither private not final"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669932435,"post_id":74648502,"comment_id":131761771,"body_markdown":"Only partially. The code actually creating the mock is missing. --- Is this a bazel-based project?","body":"Only partially. The code actually creating the mock is missing. --- Is this a bazel-based project?"},{"owner":{"account_id":3847859,"reputation":7139,"user_id":3188761,"accept_rate":55,"display_name":"90abyss"},"score":0,"creation_date":1669932668,"post_id":74648502,"comment_id":131761819,"body_markdown":"one more thing to add: this build works on gradle. but not on bazel. so something to do with dependency i am guessing.","body":"one more thing to add: this build works on gradle. but not on bazel. so something to do with dependency i am guessing."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669932904,"post_id":74648502,"comment_id":131761862,"body_markdown":"With JUnit5, we normally use `@ExtendWith(MockitoExtension.class)` on the test-class instead of `MockitoAnnotations.initMocks(this)` in a setup method. Despite this, the relevant code is STILL missing, i.e. the definition of the test class, and the mocks therein.","body":"With JUnit5, we normally use <code>@ExtendWith(MockitoExtension.class)</code> on the test-class instead of <code>MockitoAnnotations.initMocks(this)</code> in a setup method. Despite this, the relevant code is STILL missing, i.e. the definition of the test class, and the mocks therein."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1669987836,"post_id":74648502,"comment_id":131774037,"body_markdown":"@90abyss Try removing mockito-core. mockito-inline is an replacement for it - you only need one.","body":"@90abyss Try removing mockito-core. mockito-inline is an replacement for it - you only need one."}],"owner":{"account_id":3847859,"reputation":7139,"user_id":3188761,"accept_rate":55,"display_name":"90abyss"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695550454,"creation_date":1669930973,"question_id":74648502,"body_markdown":"I have gone through multiple Stack Overflow posts but none of the suggested answers have thus far helped me.\r\n\r\nDetails:\r\n\r\n    Java 11\r\n    Mockito core 4.3.1\r\n    Byte Buddy 1.12.7\r\n    Spring beans 5.3.20\r\n    Sprint context 5.3.20\r\n\r\nError:\r\n\r\n    test1_standardSubgraph() (com.x.HelperTest)\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class com.x.ServiceClient.\r\n    \r\n    Mockito can only mock non-private &amp; non-final classes.\r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\nWhat I have tried so far:\r\n\r\n1. Added bytebuddy as an explicit dependency as per https://stackoverflow.com/a/58200255/3188761\r\n\r\n2. Ensured that no other dependency is bringing in another version of byte-buddy transitively except for mockito-core as per https://stackoverflow.com/a/62002689/3188761\r\n\r\n3. Made sure the version of byte-buddy matches the one linked here https://github.com/mockito/mockito/blob/v4.3.1/gradle/dependencies.gradle#L7. Checked as per https://stackoverflow.com/a/63640379/3188761\r\n\r\n\r\n4. Made sure that mockito is not brought in transitively by another dep like spring-boot-starter-test. I am not even using spring-boot-starter-test in my dependency. Checked as per https://stackoverflow.com/a/60210414/3188761\r\n\r\n5. Tried downgrading to lower major version but still no luck.\r\n\r\nCode:\r\n\r\nServiceClient.java:\r\n\r\n    public class ServiceClient {\r\n        \r\n        @Autowired\r\n        public ServiceClient(ClientFactory factory) {\r\n            ...\r\n        }\r\n    }\r\n\r\nWORKSPACE:\r\n\r\n    JUNIT_JUPITER_VERSION = &quot;5.8.2&quot;\r\n    JUNIT_PLATFORM_VERSION = &quot;1.9.1&quot;\r\n    JACKSON_CORE_VERSION = &quot;2.14.1&quot;\r\n    GUAVA_VERSION = &quot;31.1-jre&quot;\r\n    APACHE_COMMONS_LANG3_VERSION = &quot;3.12.0&quot;\r\n    APACHE_COMMONS_LANG_VERSION = &quot;2.6&quot;\r\n    JETBRAINS_ANNOTATIONS_VERSION = &quot;23.0.0&quot;\r\n    LOMBOK_VERSION = &quot;1.18.24&quot;\r\n    SPRING_VERSION = &quot;5.3.20&quot;\r\n    KOTLIN_REFLECT_VERSION = &quot;1.7.21&quot;\r\n    FINDBUGS_VERSION = &quot;3.0.2&quot;\r\n    MOCKITO_VERSION = &quot;3.2.0&quot;\r\n    maven_install(\r\n        artifacts = [\r\n            &quot;com.fasterxml.jackson.core:jackson-databind:%s&quot; % JACKSON_CORE_VERSION,\r\n            &quot;com.google.guava:guava:%s&quot; % GUAVA_VERSION,\r\n            &quot;org.apache.commons:commons-lang3:%s&quot; % APACHE_COMMONS_LANG3_VERSION,\r\n            &quot;commons-lang:commons-lang:%s&quot; % APACHE_COMMONS_LANG_VERSION,\r\n            &quot;org.jetbrains:annotations:%s&quot; % JETBRAINS_ANNOTATIONS_VERSION,\r\n            &quot;org.projectlombok:lombok:%s&quot; % LOMBOK_VERSION,\r\n            &quot;org.springframework:spring-beans:%s&quot; % SPRING_VERSION,\r\n            &quot;org.springframework:spring-context:%s&quot; % SPRING_VERSION,\r\n            &quot;org.jetbrains.kotlin:kotlin-reflect:%s&quot; % KOTLIN_REFLECT_VERSION,\r\n            &quot;org.junit.platform:junit-platform-launcher:%s&quot; % JUNIT_PLATFORM_VERSION,\r\n            &quot;org.junit.platform:junit-platform-reporting:%s&quot; % JUNIT_PLATFORM_VERSION,\r\n            &quot;org.junit.jupiter:junit-jupiter-api:%s&quot; % JUNIT_JUPITER_VERSION,\r\n            &quot;org.junit.jupiter:junit-jupiter-params:%s&quot; % JUNIT_JUPITER_VERSION,\r\n            &quot;org.junit.jupiter:junit-jupiter-engine:%s&quot; % JUNIT_JUPITER_VERSION,\r\n            &quot;com.google.code.findbugs:jsr305:%s&quot; % FINDBUGS_VERSION,\r\n            &quot;org.mockito:mockito-core:%s&quot; % MOCKITO_VERSION,\r\n            &quot;org.mockito:mockito-inline:%s&quot; % MOCKITO_VERSION,\r\n            &quot;org.mockito:mockito-junit-jupiter:%s&quot; % MOCKITO_VERSION,\r\n        ],\r\n        repositories = [\r\n            &quot;https://repo1.maven.org/maven2&quot;,\r\n        ],\r\n    )\r\n\r\nBUILD:\r\n\r\n    java_test_suite(\r\n        name = &quot;lib-tests&quot;,\r\n        srcs = glob([&quot;src/test/java/**/*.java&quot;]),\r\n        runner = &quot;junit5&quot;,\r\n        test_suffixes = [&quot;Test.java&quot;],\r\n        runtime_deps = JUNIT5_DEPS,\r\n        deps = [\r\n            &quot;//:lib&quot;,\r\n            &quot;@maven//:org_jetbrains_annotations&quot;,\r\n            &quot;@maven//:org_springframework_spring_beans&quot;,\r\n            &quot;@maven//:org_springframework_spring_context&quot;,\r\n            artifact(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;),\r\n            artifact(&quot;org.junit.jupiter:junit-jupiter-api&quot;),\r\n            artifact(&quot;org.junit.jupiter:junit-jupiter-params&quot;),\r\n            artifact(&quot;org.mockito:mockito-core&quot;),\r\n            artifact(&quot;org.mockito:mockito-inline&quot;),\r\n            artifact(&quot;org.mockito:mockito-junit-jupiter&quot;),\r\n        ],\r\n    )\r\n\r\nTest failing here:\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.initMocks(this); // HERE\r\n    }","title":"Mockito: &quot;java.lang.IllegalArgumentException: Could not create type&quot; and &quot;Mockito can only mock non-private &amp; non-final classes.&quot;","body":"<p>I have gone through multiple Stack Overflow posts but none of the suggested answers have thus far helped me.</p>\n<p>Details:</p>\n<pre><code>Java 11\nMockito core 4.3.1\nByte Buddy 1.12.7\nSpring beans 5.3.20\nSprint context 5.3.20\n</code></pre>\n<p>Error:</p>\n<pre><code>test1_standardSubgraph() (com.x.HelperTest)\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.x.ServiceClient.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n</code></pre>\n<p>What I have tried so far:</p>\n<ol>\n<li><p>Added bytebuddy as an explicit dependency as per <a href=\"https://stackoverflow.com/a/58200255/3188761\">https://stackoverflow.com/a/58200255/3188761</a></p>\n</li>\n<li><p>Ensured that no other dependency is bringing in another version of byte-buddy transitively except for mockito-core as per <a href=\"https://stackoverflow.com/a/62002689/3188761\">https://stackoverflow.com/a/62002689/3188761</a></p>\n</li>\n<li><p>Made sure the version of byte-buddy matches the one linked here <a href=\"https://github.com/mockito/mockito/blob/v4.3.1/gradle/dependencies.gradle#L7\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/blob/v4.3.1/gradle/dependencies.gradle#L7</a>. Checked as per <a href=\"https://stackoverflow.com/a/63640379/3188761\">https://stackoverflow.com/a/63640379/3188761</a></p>\n</li>\n<li><p>Made sure that mockito is not brought in transitively by another dep like spring-boot-starter-test. I am not even using spring-boot-starter-test in my dependency. Checked as per <a href=\"https://stackoverflow.com/a/60210414/3188761\">https://stackoverflow.com/a/60210414/3188761</a></p>\n</li>\n<li><p>Tried downgrading to lower major version but still no luck.</p>\n</li>\n</ol>\n<p>Code:</p>\n<p>ServiceClient.java:</p>\n<pre><code>public class ServiceClient {\n    \n    @Autowired\n    public ServiceClient(ClientFactory factory) {\n        ...\n    }\n}\n</code></pre>\n<p>WORKSPACE:</p>\n<pre><code>JUNIT_JUPITER_VERSION = &quot;5.8.2&quot;\nJUNIT_PLATFORM_VERSION = &quot;1.9.1&quot;\nJACKSON_CORE_VERSION = &quot;2.14.1&quot;\nGUAVA_VERSION = &quot;31.1-jre&quot;\nAPACHE_COMMONS_LANG3_VERSION = &quot;3.12.0&quot;\nAPACHE_COMMONS_LANG_VERSION = &quot;2.6&quot;\nJETBRAINS_ANNOTATIONS_VERSION = &quot;23.0.0&quot;\nLOMBOK_VERSION = &quot;1.18.24&quot;\nSPRING_VERSION = &quot;5.3.20&quot;\nKOTLIN_REFLECT_VERSION = &quot;1.7.21&quot;\nFINDBUGS_VERSION = &quot;3.0.2&quot;\nMOCKITO_VERSION = &quot;3.2.0&quot;\nmaven_install(\n    artifacts = [\n        &quot;com.fasterxml.jackson.core:jackson-databind:%s&quot; % JACKSON_CORE_VERSION,\n        &quot;com.google.guava:guava:%s&quot; % GUAVA_VERSION,\n        &quot;org.apache.commons:commons-lang3:%s&quot; % APACHE_COMMONS_LANG3_VERSION,\n        &quot;commons-lang:commons-lang:%s&quot; % APACHE_COMMONS_LANG_VERSION,\n        &quot;org.jetbrains:annotations:%s&quot; % JETBRAINS_ANNOTATIONS_VERSION,\n        &quot;org.projectlombok:lombok:%s&quot; % LOMBOK_VERSION,\n        &quot;org.springframework:spring-beans:%s&quot; % SPRING_VERSION,\n        &quot;org.springframework:spring-context:%s&quot; % SPRING_VERSION,\n        &quot;org.jetbrains.kotlin:kotlin-reflect:%s&quot; % KOTLIN_REFLECT_VERSION,\n        &quot;org.junit.platform:junit-platform-launcher:%s&quot; % JUNIT_PLATFORM_VERSION,\n        &quot;org.junit.platform:junit-platform-reporting:%s&quot; % JUNIT_PLATFORM_VERSION,\n        &quot;org.junit.jupiter:junit-jupiter-api:%s&quot; % JUNIT_JUPITER_VERSION,\n        &quot;org.junit.jupiter:junit-jupiter-params:%s&quot; % JUNIT_JUPITER_VERSION,\n        &quot;org.junit.jupiter:junit-jupiter-engine:%s&quot; % JUNIT_JUPITER_VERSION,\n        &quot;com.google.code.findbugs:jsr305:%s&quot; % FINDBUGS_VERSION,\n        &quot;org.mockito:mockito-core:%s&quot; % MOCKITO_VERSION,\n        &quot;org.mockito:mockito-inline:%s&quot; % MOCKITO_VERSION,\n        &quot;org.mockito:mockito-junit-jupiter:%s&quot; % MOCKITO_VERSION,\n    ],\n    repositories = [\n        &quot;https://repo1.maven.org/maven2&quot;,\n    ],\n)\n</code></pre>\n<p>BUILD:</p>\n<pre><code>java_test_suite(\n    name = &quot;lib-tests&quot;,\n    srcs = glob([&quot;src/test/java/**/*.java&quot;]),\n    runner = &quot;junit5&quot;,\n    test_suffixes = [&quot;Test.java&quot;],\n    runtime_deps = JUNIT5_DEPS,\n    deps = [\n        &quot;//:lib&quot;,\n        &quot;@maven//:org_jetbrains_annotations&quot;,\n        &quot;@maven//:org_springframework_spring_beans&quot;,\n        &quot;@maven//:org_springframework_spring_context&quot;,\n        artifact(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;),\n        artifact(&quot;org.junit.jupiter:junit-jupiter-api&quot;),\n        artifact(&quot;org.junit.jupiter:junit-jupiter-params&quot;),\n        artifact(&quot;org.mockito:mockito-core&quot;),\n        artifact(&quot;org.mockito:mockito-inline&quot;),\n        artifact(&quot;org.mockito:mockito-junit-jupiter&quot;),\n    ],\n)\n</code></pre>\n<p>Test failing here:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    MockitoAnnotations.initMocks(this); // HERE\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1617095758,"post_id":66867950,"comment_id":118200819,"body_markdown":"You can&#39;t enable CORS without a configuration. `http.cors().disable()` means that the server is not supporting Cross-Origin Resource Sharing.","body":"You can&#39;t enable CORS without a configuration. <code>http.cors().disable()</code> means that the server is not supporting Cross-Origin Resource Sharing."},{"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"score":1,"creation_date":1617095856,"post_id":66867950,"comment_id":118200865,"body_markdown":"@dur what does it mean it doesn&#39;t support? Should it not stop validating CORS related headers then? Thanks for explaining &#128591;","body":"@dur what does it mean it doesn&#39;t support? Should it not stop validating CORS related headers then? Thanks for explaining "},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1617095941,"post_id":66867950,"comment_id":118200892,"body_markdown":"I edited my comment, it was confusing. Your problem is just a wording problem. By default no CORS is allowed, that means no sharing. You have to enable CORS with a configuration.","body":"I edited my comment, it was confusing. Your problem is just a wording problem. By default no CORS is allowed, that means no sharing. You have to enable CORS with a configuration."},{"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"score":0,"creation_date":1617180358,"post_id":66867950,"comment_id":118229249,"body_markdown":"I get it, thank you @dur &#128591;","body":"I get it, thank you @dur "}],"answers":[{"comments":[{"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"score":0,"creation_date":1617180397,"post_id":66868398,"comment_id":118229273,"body_markdown":"Thanks Isa, I already put similar example in the question :)","body":"Thanks Isa, I already put similar example in the question :)"}],"tags":[],"owner":{"account_id":15117599,"reputation":586,"user_id":10909386,"display_name":"isa_toltar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617097231,"creation_date":1617097231,"answer_id":66868398,"question_id":66867950,"body_markdown":"Hi you need to create a global cors configuration in your spring boot project.Create a class and annotate it with @Configuration. You can follow this example below.\r\n\r\n    @Configuration\r\n    public class MyConfiguration {\r\n\r\n     @Bean\r\n     public WebMvcConfigurer corsConfigurer() {\r\n         return new WebMvcConfigurerAdapter() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                 registry.addMapping(&quot;/api/**&quot;)\r\n                   .allowedOrigins(&quot;http://domain2.com&quot;)\r\n                   .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;)\r\n                   .allowedHeaders(&quot;header1&quot;, &quot;header2&quot;, &quot;header3&quot;)\r\n                   .exposedHeaders(&quot;header1&quot;, &quot;header2&quot;)\r\n                   .allowCredentials(false).maxAge(3600);\r\n           }\r\n        };\r\n      }\r\n    }\r\n\r\nHere is the full guide that spring framework provides https://spring.io/blog/2015/06/08/cors-support-in-spring-framework","title":"How to disable CORS in Spring Security within Spring Boot?","body":"<p>Hi you need to create a global cors configuration in your spring boot project.Create a class and annotate it with @Configuration. You can follow this example below.</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n @Bean\n public WebMvcConfigurer corsConfigurer() {\n     return new WebMvcConfigurerAdapter() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n             registry.addMapping(&quot;/api/**&quot;)\n               .allowedOrigins(&quot;http://domain2.com&quot;)\n               .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;)\n               .allowedHeaders(&quot;header1&quot;, &quot;header2&quot;, &quot;header3&quot;)\n               .exposedHeaders(&quot;header1&quot;, &quot;header2&quot;)\n               .allowCredentials(false).maxAge(3600);\n       }\n    };\n  }\n}\n</code></pre>\n<p>Here is the full guide that spring framework provides <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a></p>\n"}],"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9119,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1695549705,"creation_date":1617095414,"question_id":66867950,"body_markdown":"I want to completely remove CORS from Spring Boot (2.3.3.RELEASE) with Spring Security.\r\n\r\nThere is `WebSecurityConfigurerAdapter#configure` method for `HttpSecurity` object where I can call `cors().disable()` but it seems not to work.\r\n\r\n```\r\nclass MySecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().disable();\r\n    }\r\n}        \r\n```\r\n\r\nWith just above snippet I still get CORS errors while accessing endpoints from my frontend application.\r\n\r\nInstead of that I have to override `addCorsMappings` from `WebMvcConfigurer` interface like below &#128071;. \r\n\r\nWhy is that? Why it is not enough to call `http.cors().disable()`? \r\n\r\n \r\n\r\n```\r\nclass MySecurityConfiguration extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedOrigins(&quot;*&quot;);\r\n    }\r\n```\r\n\r\n","title":"How to disable CORS in Spring Security within Spring Boot?","body":"<p>I want to completely remove CORS from Spring Boot (2.3.3.RELEASE) with Spring Security.</p>\n<p>There is <code>WebSecurityConfigurerAdapter#configure</code> method for <code>HttpSecurity</code> object where I can call <code>cors().disable()</code> but it seems not to work.</p>\n<pre><code>class MySecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().disable();\n    }\n}        \n</code></pre>\n<p>With just above snippet I still get CORS errors while accessing endpoints from my frontend application.</p>\n<p>Instead of that I have to override <code>addCorsMappings</code> from <code>WebMvcConfigurer</code> interface like below .</p>\n<p>Why is that? Why it is not enough to call <code>http.cors().disable()</code>?</p>\n<pre><code>class MySecurityConfiguration extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedOrigins(&quot;*&quot;);\n    }\n</code></pre>\n"},{"tags":["java","javac","bytecode","java-compiler-api"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695560750,"post_id":77166548,"comment_id":136038016,"body_markdown":"Why?  Please explain your use case.","body":"Why?  Please explain your use case."},{"owner":{"account_id":159884,"reputation":851,"user_id":379564,"accept_rate":50,"display_name":"Mikhas"},"score":0,"creation_date":1695561121,"post_id":77166548,"comment_id":136038053,"body_markdown":"I&#39;d like to use a different Lambda bootstrap method instead of the default `LambdaMetafactory` implementation that the compiler sticks to the compiled class file.","body":"I&#39;d like to use a different Lambda bootstrap method instead of the default <code>LambdaMetafactory</code> implementation that the compiler sticks to the compiled class file."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695648381,"post_id":77166548,"comment_id":136048582,"body_markdown":"Seems like this has not been foreseen. Only the initiator of the compilation who either, invokes `JavacTask`s `generate()` method or provides the `JavaFileManager` in the first place, has access to the generated class files.","body":"Seems like this has not been foreseen. Only the initiator of the compilation who either, invokes <code>JavacTask</code>s <code>generate()</code> method or provides the <code>JavaFileManager</code> in the first place, has access to the generated class files."}],"owner":{"account_id":159884,"reputation":851,"user_id":379564,"accept_rate":50,"display_name":"Mikhas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695549624,"creation_date":1695549624,"question_id":77166548,"body_markdown":"I want to modify some java classes bytecode during/after compilation phase, but before packaging, in order to use custom `invokedynamic` bootstrap methods.\r\n\r\nIn order to do so, I have written a Java compiler plugin using the `jdk.compiler` module, extending `com.sun.source.util.Plugin`, and attached a listener that executes after bytecode generation phase, however, the `jdk.compiler` module&#39;s public API does not exposes any method or with reference to the bytecode stream or generated `.class` file.\r\n\r\nAre there any other strategies I could follow?\r\n\r\nSo far, the code looks like this:\r\n\r\n```java\r\npackage plugin;\r\n\r\nimport com.sun.source.util.JavacTask;\r\nimport com.sun.source.util.Plugin;\r\nimport com.sun.source.util.TaskEvent;\r\nimport com.sun.source.util.TaskListener;\r\n\r\npublic class Main implements Plugin, TaskListener {\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;my-plugin&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void init(JavacTask task, String... args) {\r\n        task.addTaskListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void finished(TaskEvent e) {\r\n        if(TaskEvent.Kind.GENERATE.equals(e.getKind())){\r\n            System.out.println(&quot;no byte code reference here :(&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean autoStart() {\r\n        return true;\r\n    }\r\n}\r\n```","title":"How to modify java bytecode after compilation using compiler plugins?","body":"<p>I want to modify some java classes bytecode during/after compilation phase, but before packaging, in order to use custom <code>invokedynamic</code> bootstrap methods.</p>\n<p>In order to do so, I have written a Java compiler plugin using the <code>jdk.compiler</code> module, extending <code>com.sun.source.util.Plugin</code>, and attached a listener that executes after bytecode generation phase, however, the <code>jdk.compiler</code> module's public API does not exposes any method or with reference to the bytecode stream or generated <code>.class</code> file.</p>\n<p>Are there any other strategies I could follow?</p>\n<p>So far, the code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package plugin;\n\nimport com.sun.source.util.JavacTask;\nimport com.sun.source.util.Plugin;\nimport com.sun.source.util.TaskEvent;\nimport com.sun.source.util.TaskListener;\n\npublic class Main implements Plugin, TaskListener {\n\n    @Override\n    public String getName() {\n        return &quot;my-plugin&quot;;\n    }\n\n    @Override\n    public void init(JavacTask task, String... args) {\n        task.addTaskListener(this);\n    }\n\n    @Override\n    public void finished(TaskEvent e) {\n        if(TaskEvent.Kind.GENERATE.equals(e.getKind())){\n            System.out.println(&quot;no byte code reference here :(&quot;);\n        }\n    }\n\n    @Override\n    public boolean autoStart() {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1688722596,"post_id":76634561,"comment_id":135114987,"body_markdown":"Hey D Binara, I have removed all the irrelevant parts of the code for you. Next time please do it yourself, make the code the smallest possible to make it easier for your potential helpers! You will find useful instructions here: https://stackoverflow.com/help/minimal-reproducible-example","body":"Hey D Binara, I have removed all the irrelevant parts of the code for you. Next time please do it yourself, make the code the smallest possible to make it easier for your potential helpers! You will find useful instructions here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688723002,"post_id":76634561,"comment_id":135115072,"body_markdown":"no need for the [tag:intellij-idea] tag... more like [tag:sql] or similar tag...","body":"no need for the <a href=\"https://stackoverflow.com/questions/tagged/intellij-idea\">intellij-idea</a> tag... more like <a href=\"https://stackoverflow.com/questions/tagged/sql\">sql</a> or similar tag..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695548370,"post_id":76634561,"comment_id":136036848,"body_markdown":"`ResultSet row` is already a lie. A `ResultSet` is a *set* of rows, not just one row.","body":"<code>ResultSet row</code> is already a lie. A <code>ResultSet</code> is a <i>set</i> of rows, not just one row."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695549413,"post_id":76635767,"comment_id":136036942,"body_markdown":"In addition, it may be necessary to disable auto-commit if you want to execute multiple statements interleaved, even when using separate statement objects.","body":"In addition, it may be necessary to disable auto-commit if you want to execute multiple statements interleaved, even when using separate statement objects."}],"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688723282,"creation_date":1688722845,"answer_id":76635767,"question_id":76634561,"body_markdown":"It is not possible to have two queries open on the same `Statement` at the same time (*by default*).\r\n\r\nThe [JavaDoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Statement.html) of `Statement` states:\r\n\r\n&gt; By default, only one `ResultSet` object per `Statement` object can be open at the same time. Therefore, if the reading of one `ResultSet` object is interleaved with the reading of another, each must have been generated by different `Statement` objects.\r\n\r\nand similar from the [JavaDoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html#close()) of `ResultSet` (less specific):\r\n\r\n&gt; **Note:** A `ResultSet` object is automatically closed by the `Statement` object that generated it when that Statement object is closed, re-executed, or is used to retrieve the next result from a sequence of multiple results. \r\n\r\n-----\r\n\r\nUnfortunately we are not able to know what is being done with both `ResultSet`s - eventually a better solution would be to use one single, more adequate query (e.g. using `JOIN` or similar).\r\n","title":"java.sql.SQLException: Operation not allowed after ResultSet closed Problem","body":"<p>It is not possible to have two queries open on the same <code>Statement</code> at the same time (<em>by default</em>).</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Statement.html\" rel=\"nofollow noreferrer\">JavaDoc</a> of <code>Statement</code> states:</p>\n<blockquote>\n<p>By default, only one <code>ResultSet</code> object per <code>Statement</code> object can be open at the same time. Therefore, if the reading of one <code>ResultSet</code> object is interleaved with the reading of another, each must have been generated by different <code>Statement</code> objects.</p>\n</blockquote>\n<p>and similar from the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html#close()\" rel=\"nofollow noreferrer\">JavaDoc</a> of <code>ResultSet</code> (less specific):</p>\n<blockquote>\n<p><strong>Note:</strong> A <code>ResultSet</code> object is automatically closed by the <code>Statement</code> object that generated it when that Statement object is closed, re-executed, or is used to retrieve the next result from a sequence of multiple results.</p>\n</blockquote>\n<hr />\n<p>Unfortunately we are not able to know what is being done with both <code>ResultSet</code>s - eventually a better solution would be to use one single, more adequate query (e.g. using <code>JOIN</code> or similar).</p>\n"}],"owner":{"account_id":28967616,"reputation":45,"user_id":22188638,"display_name":"D Binara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695547893,"accepted_answer_id":76635767,"answer_count":1,"score":1,"last_activity_date":1695549317,"creation_date":1688712831,"question_id":76634561,"body_markdown":"I am trying to run the following code but getting an error:\r\n\r\n&gt; java.sql.SQLException: Operation not allowed after ResultSet closed\r\n\r\n\r\nI want to run `while (rs.next())` inside `while (row.next())`.\r\n\r\n``` lang-java\r\ntry {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/bank_db&quot;, &quot;root&quot;,&quot;&quot;);\r\n    Statement stmt = conn.createStatement();\r\n    ResultSet row = stmt.executeQuery(&quot;SELECT * FROM user WHERE id=(SELECT MAX(id) FROM user)&quot;);\r\n\r\n    while (row.next()) {\r\n        int rows = row.getInt(&quot;id&quot;);\r\n\r\n        ResultSet rs = stmt.executeQuery(&quot;select * from user where account_number=&quot; + acc + &quot;&quot;);\r\n\r\n        while (rs.next()) {\r\n            // do something with rs\r\n        }\r\n        rs.close();\r\n    }\r\n    row.close();\r\n    stmt.close();\r\n    conn.close();\r\n\r\n} catch (Exception e){\r\n    ...\r\n}\r\n```","title":"java.sql.SQLException: Operation not allowed after ResultSet closed Problem","body":"<p>I am trying to run the following code but getting an error:</p>\n<blockquote>\n<p>java.sql.SQLException: Operation not allowed after ResultSet closed</p>\n</blockquote>\n<p>I want to run <code>while (rs.next())</code> inside <code>while (row.next())</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\n    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/bank_db&quot;, &quot;root&quot;,&quot;&quot;);\n    Statement stmt = conn.createStatement();\n    ResultSet row = stmt.executeQuery(&quot;SELECT * FROM user WHERE id=(SELECT MAX(id) FROM user)&quot;);\n\n    while (row.next()) {\n        int rows = row.getInt(&quot;id&quot;);\n\n        ResultSet rs = stmt.executeQuery(&quot;select * from user where account_number=&quot; + acc + &quot;&quot;);\n\n        while (rs.next()) {\n            // do something with rs\n        }\n        rs.close();\n    }\n    row.close();\n    stmt.close();\n    conn.close();\n\n} catch (Exception e){\n    ...\n}\n</code></pre>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":3,"creation_date":1636133336,"post_id":69857093,"comment_id":123484078,"body_markdown":"don&#39;t miss out on the exception. Please put a print to confirm if exception has occurred.","body":"don&#39;t miss out on the exception. Please put a print to confirm if exception has occurred."},{"owner":{"account_id":20465773,"reputation":3,"user_id":15017310,"display_name":"Bored AsFucc"},"score":0,"creation_date":1636134849,"post_id":69857093,"comment_id":123484612,"body_markdown":"Got it, thank you","body":"Got it, thank you"}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1636135261,"post_id":69857367,"comment_id":123484771,"body_markdown":"`new GuessingGame();` is correct as that is the constructor, your suggestion will not compile.","body":"<code>new GuessingGame();</code> is correct as that is the constructor, your suggestion will not compile."},{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":0,"creation_date":1636141576,"post_id":69857367,"comment_id":123486713,"body_markdown":"`gg.GuessingGame()` is not correct. `GuessingGame()` is the constructor, not a method.","body":"<code>gg.GuessingGame()</code> is not correct. <code>GuessingGame()</code> is the constructor, not a method."}],"tags":[],"owner":{"account_id":15223478,"reputation":1,"user_id":10984741,"display_name":"Faraimunashe "},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636134624,"creation_date":1636134624,"answer_id":69857367,"question_id":69857093,"body_markdown":"You managed to call the intended class, but you also needed to specify the specific function which you have declared in the function. Like so:\r\n`public static void main (String[] args) {\r\n        GuessingGame gg = new GuessingGame;\r\n        gg.GuessingGame();\r\n    }`","title":"It says Process Finished but there is no output","body":"<p>You managed to call the intended class, but you also needed to specify the specific function which you have declared in the function. Like so:\n<code>public static void main (String[] args) { GuessingGame gg = new GuessingGame; gg.GuessingGame(); }</code></p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695549191,"creation_date":1636135896,"answer_id":69857593,"question_id":69857093,"body_markdown":"You are ignoring the exception and you don&#39;t close the file. Save some typing by using the built-in `input.transferTo()` for copying the file to `System.out`, and pass on the exception for the caller to handle by adding `throws IOException` to constructor and `main`. \r\n\r\nReplace your try-catch block with this try-with-resources, which handles closing the file after use:\r\n\r\n    try (InputStream input = Files.newInputStream(path)) {\r\n        input.transferTo(System.out) ;\r\n    }\r\n\r\n**EDIT**\r\n\r\nYou can replace above with one-liner provided by `Files.copy`:\r\n\r\n    Files.copy(path, System.out);","title":"It says Process Finished but there is no output","body":"<p>You are ignoring the exception and you don't close the file. Save some typing by using the built-in <code>input.transferTo()</code> for copying the file to <code>System.out</code>, and pass on the exception for the caller to handle by adding <code>throws IOException</code> to constructor and <code>main</code>.</p>\n<p>Replace your try-catch block with this try-with-resources, which handles closing the file after use:</p>\n<pre><code>try (InputStream input = Files.newInputStream(path)) {\n    input.transferTo(System.out) ;\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>You can replace above with one-liner provided by <code>Files.copy</code>:</p>\n<pre><code>Files.copy(path, System.out);\n</code></pre>\n"}],"owner":{"account_id":20465773,"reputation":3,"user_id":15017310,"display_name":"Bored AsFucc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69857593,"answer_count":2,"score":-2,"last_activity_date":1695549191,"creation_date":1636133189,"question_id":69857093,"body_markdown":"I&#39;m new to java and I&#39;m having a little problem with my code. There&#39;s no error and such, it just keeps saying process finished but no output was displayed. The filename is correct as I&#39;ve checked. \r\n\r\nimport java.nio.file.*;\r\nimport java.io.*;\r\n\r\n    public class GuessingGame {\r\n        public GuessingGame() {\r\n            String filename = &quot;C:\\\\Users\\\\angela\\\\Documents\\\\words.txt&quot;;\r\n            Path path = Paths.get(filename.toString());\r\n            \r\n            try {\r\n                InputStream input = Files.newInputStream(path);\r\n                BufferedReader read = new BufferedReader(new InputStreamReader(input));\r\n                \r\n                String word = null;\r\n                while((word = read.readLine()) !=null) {\r\n                    System.out.println(word);\r\n                }\r\n            }\r\n            catch(IOException ex) {\r\n                \r\n            }\r\n        }\r\n        public static void main (String[] args) {\r\n            new GuessingGame();\r\n        }\r\n    }","title":"It says Process Finished but there is no output","body":"<p>I'm new to java and I'm having a little problem with my code. There's no error and such, it just keeps saying process finished but no output was displayed. The filename is correct as I've checked.</p>\n<p>import java.nio.file.<em>;\nimport java.io.</em>;</p>\n<pre><code>public class GuessingGame {\n    public GuessingGame() {\n        String filename = &quot;C:\\\\Users\\\\angela\\\\Documents\\\\words.txt&quot;;\n        Path path = Paths.get(filename.toString());\n        \n        try {\n            InputStream input = Files.newInputStream(path);\n            BufferedReader read = new BufferedReader(new InputStreamReader(input));\n            \n            String word = null;\n            while((word = read.readLine()) !=null) {\n                System.out.println(word);\n            }\n        }\n        catch(IOException ex) {\n            \n        }\n    }\n    public static void main (String[] args) {\n        new GuessingGame();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","graphics","android-canvas"],"answers":[{"comments":[{"owner":{"account_id":153927,"reputation":1177,"user_id":369531,"accept_rate":100,"display_name":"Martin Marinov"},"score":0,"creation_date":1307895935,"post_id":6317775,"comment_id":7393028,"body_markdown":"I think this would work, though I ended up doing another thing that also worked for me so now I can&#39;t try it to see whether this method works. Thank you anyway :)","body":"I think this would work, though I ended up doing another thing that also worked for me so now I can&#39;t try it to see whether this method works. Thank you anyway :)"},{"owner":{"account_id":1843398,"reputation":4536,"user_id":1672337,"accept_rate":40,"display_name":"ranjith"},"score":0,"creation_date":1392973782,"post_id":6317775,"comment_id":33217642,"body_markdown":"what is this x and y?","body":"what is this x and y?"},{"owner":{"account_id":304017,"reputation":1576,"user_id":613289,"display_name":"eyespyus"},"score":0,"creation_date":1393001691,"post_id":6317775,"comment_id":33236714,"body_markdown":"In this context, x and y are where OP is drawing text, answer is to draw a box around this text.","body":"In this context, x and y are where OP is drawing text, answer is to draw a box around this text."},{"owner":{"account_id":2814312,"reputation":692,"user_id":2419823,"accept_rate":29,"display_name":"Binod Singh"},"score":0,"creation_date":1407399130,"post_id":6317775,"comment_id":39201851,"body_markdown":"any soluction to this http://stackoverflow.com/questions/25176321/canvas-drawtext-positioning","body":"any soluction to this <a href=\"http://stackoverflow.com/questions/25176321/canvas-drawtext-positioning\" title=\"canvas drawtext positioning\">stackoverflow.com/questions/25176321/&hellip;</a>"}],"tags":[],"owner":{"account_id":304017,"reputation":1576,"user_id":613289,"display_name":"eyespyus"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1307817323,"creation_date":1307817323,"answer_id":6317775,"question_id":6317484,"body_markdown":"try drawing rectangle using \r\n\r\n`canvas.drawRect(x, y - Paint.GetTextSize(), x + Paint.measureText(&quot;text&quot;), y, Paint);` ","title":"Fit a rectangle around a string on an Android Canvas","body":"<p>try drawing rectangle using </p>\n\n<p><code>canvas.drawRect(x, y - Paint.GetTextSize(), x + Paint.measureText(\"text\"), y, Paint);</code> </p>\n"},{"comments":[{"owner":{"account_id":215487,"reputation":1718,"user_id":470160,"accept_rate":82,"display_name":"Anh Tuan"},"score":0,"creation_date":1314616255,"post_id":6323058,"comment_id":8691828,"body_markdown":"I&#39;ve struggled to draw text that center in a rectangle for a while. Thank you very much!","body":"I&#39;ve struggled to draw text that center in a rectangle for a while. Thank you very much!"}],"tags":[],"owner":{"account_id":153927,"reputation":1177,"user_id":369531,"accept_rate":100,"display_name":"Martin Marinov"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1307895865,"creation_date":1307895865,"answer_id":6323058,"question_id":6317484,"body_markdown":"I ended up doing\r\n\r\n    FontMetrics fm = new FontMetrics();\r\n    paint.setTextAlign(Paint.Align.CENTER);\r\n    paint.getFontMetrics(fm);\r\n    canvas.drawText(text, x, y + -(fm.ascent + fm.descent) / 2, paint);\r\n\r\nWhich actually draws the text centered at **x**, **y**. Before that I draw a rectangle centered at **x**, **y** with width **paint.measureText(*text*)**","title":"Fit a rectangle around a string on an Android Canvas","body":"<p>I ended up doing</p>\n\n<pre><code>FontMetrics fm = new FontMetrics();\npaint.setTextAlign(Paint.Align.CENTER);\npaint.getFontMetrics(fm);\ncanvas.drawText(text, x, y + -(fm.ascent + fm.descent) / 2, paint);\n</code></pre>\n\n<p>Which actually draws the text centered at <strong>x</strong>, <strong>y</strong>. Before that I draw a rectangle centered at <strong>x</strong>, <strong>y</strong> with width <strong>paint.measureText(<em>text</em>)</strong></p>\n"},{"tags":[],"owner":{"account_id":22263905,"reputation":1,"user_id":16494977,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695549061,"creation_date":1695548939,"answer_id":77166519,"question_id":6317484,"body_markdown":"rectangle around the text\r\n\r\nth is the gap between the rectangle and the text\r\n\r\ntextStart - the beginning point of the text (PointF)\r\n\r\n\r\n        val textRect = Rect().also {\r\n            paint.getTextBounds(text, 0, text.length, it)\r\n            it.offsetTo(\r\n            when(paint.textAlign){\r\n                Paint.Align.RIGHT -&gt; {\r\n                    (textStart.x - it.width()).toInt()\r\n                }\r\n                \r\n                Paint.Align.CENTER -&gt; {\r\n                   (textStart.x - it.width()/2f).toInt()\r\n                }\r\n                else -&gt; {\r\n                   textStart.x.toInt()\r\n               }\r\n        }, textStart.y.toInt() - it.height())\r\n        }.toRectF().also{it.inset(-th, -th)}\r\n      canvas.drawRect(textRect, paint)","title":"Fit a rectangle around a string on an Android Canvas","body":"<p>rectangle around the text</p>\n<p>th is the gap between the rectangle and the text</p>\n<p>textStart - the beginning point of the text (PointF)</p>\n<pre><code>    val textRect = Rect().also {\n        paint.getTextBounds(text, 0, text.length, it)\n        it.offsetTo(\n        when(paint.textAlign){\n            Paint.Align.RIGHT -&gt; {\n                (textStart.x - it.width()).toInt()\n            }\n            \n            Paint.Align.CENTER -&gt; {\n               (textStart.x - it.width()/2f).toInt()\n            }\n            else -&gt; {\n               textStart.x.toInt()\n           }\n    }, textStart.y.toInt() - it.height())\n    }.toRectF().also{it.inset(-th, -th)}\n  canvas.drawRect(textRect, paint)\n</code></pre>\n"}],"owner":{"account_id":153927,"reputation":1177,"user_id":369531,"accept_rate":100,"display_name":"Martin Marinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4305,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6323058,"answer_count":3,"score":5,"last_activity_date":1695549061,"creation_date":1307813729,"question_id":6317484,"body_markdown":"So I use **Canvas.drawText** to draw some string on a **Canvas**. The issue is that I want to draw a rectangle before it so that the text appears centred onto the rectangle. But I hit a real problem. The supplied **x** and **y** coordinates to **drawText** actually are not of the &quot;*top left*&quot; corner of the real text, but rather on the line where the characters begin. There is a method **Paint.getTextBounds** which returns a rectangle &quot;with implied origin&quot; at *(0,0)* of the text that would be drawn. The issue is that the origin is at *(0,0)*. The width and the height of that box are correct but I don&#39;t know how to place its top left corner at the top left corner of the string that is drawn on the canvas. I guess I should use **FontMetrics**, but since a lot of the values **FontMetrics** returns are undocumented I&#39;m not really sure how to use them for my purpose.","title":"Fit a rectangle around a string on an Android Canvas","body":"<p>So I use <strong>Canvas.drawText</strong> to draw some string on a <strong>Canvas</strong>. The issue is that I want to draw a rectangle before it so that the text appears centred onto the rectangle. But I hit a real problem. The supplied <strong>x</strong> and <strong>y</strong> coordinates to <strong>drawText</strong> actually are not of the \"<em>top left</em>\" corner of the real text, but rather on the line where the characters begin. There is a method <strong>Paint.getTextBounds</strong> which returns a rectangle \"with implied origin\" at <em>(0,0)</em> of the text that would be drawn. The issue is that the origin is at <em>(0,0)</em>. The width and the height of that box are correct but I don't know how to place its top left corner at the top left corner of the string that is drawn on the canvas. I guess I should use <strong>FontMetrics</strong>, but since a lot of the values <strong>FontMetrics</strong> returns are undocumented I'm not really sure how to use them for my purpose.</p>\n"},{"tags":["java","functional-interface","mybatis-dynamic-sql"],"answers":[{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695486850,"creation_date":1695486850,"answer_id":77163973,"question_id":77163861,"body_markdown":"It **does** contain one abstract method. The one it inherits from `Function&lt;QueryExpressionDSL&lt;SelectModel&gt;, Buildable&lt;SelectModel&gt;&gt;`","title":"why functional interface &#39;selectDSLCompleter&#39; does not contain any abstract method?","body":"<p>It <strong>does</strong> contain one abstract method. The one it inherits from <code>Function&lt;QueryExpressionDSL&lt;SelectModel&gt;, Buildable&lt;SelectModel&gt;&gt;</code></p>\n"}],"owner":{"account_id":13495443,"reputation":3,"user_id":9736441,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77163973,"answer_count":1,"score":0,"last_activity_date":1695548615,"creation_date":1695485282,"question_id":77163861,"body_markdown":"As far as I know, a functional interface in Java must have one (and only one) abstract method. However, the interface named `selectDSLCompleter` in `org.mybatis.dynamic.sql.select` does not have any abstract method, but still works normally.\r\n\r\nThe interface is defined as below:\r\n\r\n```java\r\npackage org.mybatis.dynamic.sql.select;\r\n\r\nimport java.util.function.Function;\r\nimport org.mybatis.dynamic.sql.SortSpecification;\r\nimport org.mybatis.dynamic.sql.util.Buildable;\r\n\r\n@FunctionalInterface\r\npublic interface SelectDSLCompleter extends Function&lt;QueryExpressionDSL&lt;SelectModel&gt;, Buildable&lt;SelectModel&gt;&gt; {\r\n    static SelectDSLCompleter allRows(){\r\n        return (c) -&gt; {\r\n            return c;\r\n        };\r\n    }\r\n\r\n    static SelectDSLCompleter allRowsOrderedBy(SortSpecification... columns) {\r\n        return (c) -&gt; {\r\n            return c.orderBy(columns);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd is used as this example:\r\n\r\nMethod defined in mapper:\r\n\r\n```java\r\ndefault List&lt;Person&gt; select(SelectDSLCompleter completer) {\r\n    return MyBatis3Utils.selectList(this::selectMany, selectList, person, completer);\r\n}\r\n```\r\nMethod called in service:\r\n\r\n```java\r\nList&lt;Person&gt; allRecords = mapper.select(c -&gt; c);\r\n```\r\n\r\nIs there anything I missed?\r\n\r\nI searched the question, but found nothing. I&#39;m just wondering how it works.","title":"why functional interface &#39;selectDSLCompleter&#39; does not contain any abstract method?","body":"<p>As far as I know, a functional interface in Java must have one (and only one) abstract method. However, the interface named <code>selectDSLCompleter</code> in <code>org.mybatis.dynamic.sql.select</code> does not have any abstract method, but still works normally.</p>\n<p>The interface is defined as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.mybatis.dynamic.sql.select;\n\nimport java.util.function.Function;\nimport org.mybatis.dynamic.sql.SortSpecification;\nimport org.mybatis.dynamic.sql.util.Buildable;\n\n@FunctionalInterface\npublic interface SelectDSLCompleter extends Function&lt;QueryExpressionDSL&lt;SelectModel&gt;, Buildable&lt;SelectModel&gt;&gt; {\n    static SelectDSLCompleter allRows(){\n        return (c) -&gt; {\n            return c;\n        };\n    }\n\n    static SelectDSLCompleter allRowsOrderedBy(SortSpecification... columns) {\n        return (c) -&gt; {\n            return c.orderBy(columns);\n        };\n    }\n}\n</code></pre>\n<p>And is used as this example:</p>\n<p>Method defined in mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default List&lt;Person&gt; select(SelectDSLCompleter completer) {\n    return MyBatis3Utils.selectList(this::selectMany, selectList, person, completer);\n}\n</code></pre>\n<p>Method called in service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; allRecords = mapper.select(c -&gt; c);\n</code></pre>\n<p>Is there anything I missed?</p>\n<p>I searched the question, but found nothing. I'm just wondering how it works.</p>\n"},{"tags":["java","spring","spring-boot","maven","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695494562,"post_id":77164111,"comment_id":136033138,"body_markdown":"Show the full pom file...","body":"Show the full pom file..."},{"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"score":0,"creation_date":1695502615,"post_id":77164111,"comment_id":136033858,"body_markdown":"added it to the problem description @khmarbaise","body":"added it to the problem description @khmarbaise"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695548503,"post_id":77164111,"comment_id":136036861,"body_markdown":"Are the classes producing these errors in `src/main/java` instead of `src/test/java`?","body":"Are the classes producing these errors in <code>src&#47;main&#47;java</code> instead of <code>src&#47;test&#47;java</code>?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695564464,"post_id":77164111,"comment_id":136038406,"body_markdown":"Remove the version number from junit-jupiter-api because it&#39;s already defined by the parent... and also check the location of your files.. as @MarkRotteveel asked..","body":"Remove the version number from junit-jupiter-api because it&#39;s already defined by the parent... and also check the location of your files.. as @MarkRotteveel asked.."},{"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"score":0,"creation_date":1695587454,"post_id":77164111,"comment_id":136040897,"body_markdown":"the error is being produced by src/test/java, I also tried removing version number from junit-juniper-api and its still not working","body":"the error is being produced by src/test/java, I also tried removing version number from junit-juniper-api and its still not working"},{"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"score":0,"creation_date":1695634566,"post_id":77164111,"comment_id":136045764,"body_markdown":"can you check if the lombok jar is installed on the Mac? and see if this [helps](https://stackoverflow.com/questions/48170584/spring-boot-build-package-org-junit-does-not-exist#:~:text=You%20have%20put,the%20build%20time.)","body":"can you check if the lombok jar is installed on the Mac? and see if this <a href=\"https://stackoverflow.com/questions/48170584/spring-boot-build-package-org-junit-does-not-exist#:~:text=You%20have%20put,the%20build%20time.\">helps</a>"},{"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"score":0,"creation_date":1695661196,"post_id":77164111,"comment_id":136051352,"body_markdown":"still not working, i will try to rewrite the entire project from scratch because i just lose time with this. thanks guys for the help","body":"still not working, i will try to rewrite the entire project from scratch because i just lose time with this. thanks guys for the help"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695917129,"post_id":77164111,"comment_id":136090762,"body_markdown":"Have you tried to build on plain command and **NOT** from within your IDE ?","body":"Have you tried to build on plain command and <b>NOT</b> from within your IDE ?"}],"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695548472,"creation_date":1695488825,"question_id":77164111,"body_markdown":"I get these two errors \r\n\r\n&gt; java: package org.junit.jupiter.api does not exist \r\n\r\nand \r\n\r\n&gt; java: package org.springframework.boot.test.context does not exist \r\n\r\nWhen I try to run my Spring project. This project was developed on Windows before, and I have exported it to git. Now, I&#39;m working on a Mac and the problem is that I&#39;ve installed the entire environment correctly, but still getting the same error.\r\n\r\nI tried manually adding  these 2 dependencies in pom.xml and reloading the Maven project, but this didn&#39;t work.\r\n\r\nThis is the pom.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;dev.catacoman&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;movies&lt;/name&gt;\r\n\t&lt;description&gt;Simple API related to movies&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- JUnit 5 --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.7.0&lt;/version&gt; &lt;!-- You can specify a different version if needed --&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Spring Boot Test --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"java: package org.junit.jupiter.api does not exist and java: package org.springframework.boot.test.context does not exist errors in spring","body":"<p>I get these two errors</p>\n<blockquote>\n<p>java: package org.junit.jupiter.api does not exist</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>java: package org.springframework.boot.test.context does not exist</p>\n</blockquote>\n<p>When I try to run my Spring project. This project was developed on Windows before, and I have exported it to git. Now, I'm working on a Mac and the problem is that I've installed the entire environment correctly, but still getting the same error.</p>\n<p>I tried manually adding  these 2 dependencies in pom.xml and reloading the Maven project, but this didn't work.</p>\n<p>This is the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;dev.catacoman&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;Simple API related to movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n            &lt;!-- JUnit 5 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n                &lt;version&gt;5.7.0&lt;/version&gt; &lt;!-- You can specify a different version if needed --&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Spring Boot Test --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","vaadin"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695548106,"creation_date":1695548106,"question_id":77166475,"body_markdown":"I&#39;m having problems with building an executable JAR for my project that uses Vaadin 24 &amp; Spring Boot 3. Build tool is Gradle.\r\n\r\nHere&#39;s my `build.gradle` file:\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.1&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;com.vaadin&#39; version &#39;24.1.10&#39;\r\n}\r\n\r\ngroup = &#39;com.demo&#39;\r\nversion = &#39;1.0.0&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven { url &#39;https://jitpack.io&#39; }\r\n}\r\n\r\next {\r\n\tset(&#39;vaadinVersion&#39;, &quot;24.1.3&quot;)\r\n\tset(&#39;jjwtVersion&#39;, &quot;0.11.5&quot;)\r\n}\r\n\r\njar {\r\n\tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\tmanifest {\r\n\t\tattributes &quot;Main-Class&quot;: &quot;com.demo.alkolicznik.AlkolicznikApplication&quot;\r\n\t}\r\n\r\n\tfrom {\r\n\t\tconfigurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\t// Spring\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;com.vaadin:vaadin-spring-boot-starter&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\r\n\timplementation &#39;io.hypersistence:hypersistence-utils-hibernate-62:3.5.1&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&#39;\r\n\timplementation &#39;org.javamoney:moneta:1.4.2&#39;\r\n\timplementation &#39;org.jsoup:jsoup:1.16.1&#39;\r\n\ttestImplementation &#39;org.hsqldb:hsqldb:2.7.2&#39;\r\n\ttestImplementation &#39;org.awaitility:awaitility:4.2.0&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\timplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2&#39;\r\n\r\n\t// required for TestRestTemplate to disable redirects\r\n\timplementation &#39;org.apache.httpcomponents.client5:httpclient5:5.2.1&#39;\r\n\r\n\t// ImageKit API + enable handling of .webp images\r\n\timplementation &#39;com.github.imagekit-developer:imagekit-java:2.0.0&#39;\r\n\timplementation group: &#39;org.sejda.imageio&#39;, name: &#39;webp-imageio&#39;, version: &#39;0.1.6&#39;\r\n\r\n\t// JWT\r\n\timplementation &quot;io.jsonwebtoken:jjwt-api:${jjwtVersion}&quot;\r\n\truntimeOnly &quot;io.jsonwebtoken:jjwt-jackson:${jjwtVersion}&quot;\r\n\truntimeOnly &quot;io.jsonwebtoken:jjwt-impl:${jjwtVersion}&quot;\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;com.vaadin:vaadin-bom:${vaadinVersion}&quot;\r\n\t}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;com.vaadin:vaadin-bom:${vaadinVersion}&quot;\r\n\t}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nWhat I&#39;ve tried.\r\n\r\n1) `gradle bootJar`\r\n\r\nThis creates a JAR file under `/build/libs`, but launching it (`java -jar alkolicznik-1.0.0.jar`) results in this error:\r\n```\r\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener\r\n        at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.1.4.jar!/:na]\r\n        ...\r\n\t...\r\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalStateException:\r\n\r\n  Failed to find the following files:\r\n      - ./generated/jar-resources/lit-renderer.ts\r\n      - ./generated/jar-resources/gridConnector.js\r\n      - ...\r\n  Locations searched were:\r\n      - `C:\\Users\\...\\...\\alkolicznik\\frontend` in this project\r\n      - `META-INF/frontend` in included JARs\r\n      - `META-INF/resources/frontend` in included JARs\r\n\r\n  Please, double check that those files exist. If you use a custom directory for your resource files instead of default `frontend` folder then make sure you it&#39;s correctly configured (e.g. set &#39;vaadin.frontend.frontend.folder&#39; property)\r\n\r\n\r\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[na:na]\r\n        ...\r\n\t...\r\n```\r\n2) `gradle bootJar` with properties\r\n```\r\nvaadin.productionMode=true\r\nvaadin.servlet.productionMode=true\r\nvaadin.frontend.hotdeploy=false\r\nvaadin.compatibilityMode=false\r\n```\r\n\r\nThis produces `java.io.IOException: Unable to find index.html. It should be available on the classpath when running in production mode`.\r\n\r\n3) `gradle -DproductionMode=true vaadinBuildFrontend build`\r\n\r\nThis actually works almost perfectly. The application is launched w/o erros, I can access it on web, but I&#39;ve noticed that `Notifications` (Vaadin class) do not work and I use them quite extensively in the project.","title":"Build executable JAR using Gradle: Vaadin &amp; Spring Boot","body":"<p>I'm having problems with building an executable JAR for my project that uses Vaadin 24 &amp; Spring Boot 3. Build tool is Gradle.</p>\n<p>Here's my <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.springframework.boot' version '3.1.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'com.vaadin' version '24.1.10'\n}\n\ngroup = 'com.demo'\nversion = '1.0.0'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n}\n\next {\n    set('vaadinVersion', &quot;24.1.3&quot;)\n    set('jjwtVersion', &quot;0.11.5&quot;)\n}\n\njar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;com.demo.alkolicznik.AlkolicznikApplication&quot;\n    }\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n\ndependencies {\n    // Spring\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'com.vaadin:vaadin-spring-boot-starter'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    implementation 'io.hypersistence:hypersistence-utils-hibernate-62:3.5.1'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0'\n    implementation 'org.javamoney:moneta:1.4.2'\n    implementation 'org.jsoup:jsoup:1.16.1'\n    testImplementation 'org.hsqldb:hsqldb:2.7.2'\n    testImplementation 'org.awaitility:awaitility:4.2.0'\n    runtimeOnly 'org.postgresql:postgresql'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2'\n\n    // required for TestRestTemplate to disable redirects\n    implementation 'org.apache.httpcomponents.client5:httpclient5:5.2.1'\n\n    // ImageKit API + enable handling of .webp images\n    implementation 'com.github.imagekit-developer:imagekit-java:2.0.0'\n    implementation group: 'org.sejda.imageio', name: 'webp-imageio', version: '0.1.6'\n\n    // JWT\n    implementation &quot;io.jsonwebtoken:jjwt-api:${jjwtVersion}&quot;\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-jackson:${jjwtVersion}&quot;\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-impl:${jjwtVersion}&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;com.vaadin:vaadin-bom:${vaadinVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;com.vaadin:vaadin-bom:${vaadinVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>What I've tried.</p>\n<ol>\n<li><code>gradle bootJar</code></li>\n</ol>\n<p>This creates a JAR file under <code>/build/libs</code>, but launching it (<code>java -jar alkolicznik-1.0.0.jar</code>) results in this error:</p>\n<pre><code>java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener\n        at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.1.4.jar!/:na]\n        ...\n    ...\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalStateException:\n\n  Failed to find the following files:\n      - ./generated/jar-resources/lit-renderer.ts\n      - ./generated/jar-resources/gridConnector.js\n      - ...\n  Locations searched were:\n      - `C:\\Users\\...\\...\\alkolicznik\\frontend` in this project\n      - `META-INF/frontend` in included JARs\n      - `META-INF/resources/frontend` in included JARs\n\n  Please, double check that those files exist. If you use a custom directory for your resource files instead of default `frontend` folder then make sure you it's correctly configured (e.g. set 'vaadin.frontend.frontend.folder' property)\n\n\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[na:na]\n        ...\n    ...\n</code></pre>\n<ol start=\"2\">\n<li><code>gradle bootJar</code> with properties</li>\n</ol>\n<pre><code>vaadin.productionMode=true\nvaadin.servlet.productionMode=true\nvaadin.frontend.hotdeploy=false\nvaadin.compatibilityMode=false\n</code></pre>\n<p>This produces <code>java.io.IOException: Unable to find index.html. It should be available on the classpath when running in production mode</code>.</p>\n<ol start=\"3\">\n<li><code>gradle -DproductionMode=true vaadinBuildFrontend build</code></li>\n</ol>\n<p>This actually works almost perfectly. The application is launched w/o erros, I can access it on web, but I've noticed that <code>Notifications</code> (Vaadin class) do not work and I use them quite extensively in the project.</p>\n"},{"tags":["java","tomcat","tomcat9"],"owner":{"account_id":26975902,"reputation":1,"user_id":20541142,"display_name":"cuonglexuan203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695547981,"creation_date":1694925185,"question_id":77120481,"body_markdown":"When i start the Tomcat server 9.x using Community Server Connector on VS code, i get an error:\r\n\r\n&gt; WARNING: java.io.tmpdir directory does not exist\r\n&gt;\r\n&gt; Error: Could not find or load main class org.apache.catalina.startup.Bootstrap.\r\n&gt;\r\n&gt; Caused by: java.lang.ClassNotFoundException: org.apache.catalina.startup.Bootstrap\r\n\r\n[tomcat server error](https://i.stack.imgur.com/GBpQQ.png)\r\n\r\nHow can i fix it?\r\n","title":"Tomcat server error: Could not find or load main class org.apache.catalina.startup.Bootstrap","body":"<p>When i start the Tomcat server 9.x using Community Server Connector on VS code, i get an error:</p>\n<blockquote>\n<p>WARNING: java.io.tmpdir directory does not exist</p>\n<p>Error: Could not find or load main class org.apache.catalina.startup.Bootstrap.</p>\n<p>Caused by: java.lang.ClassNotFoundException: org.apache.catalina.startup.Bootstrap</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/GBpQQ.png\" rel=\"nofollow noreferrer\">tomcat server error</a></p>\n<p>How can i fix it?</p>\n"},{"tags":["java","object","new-operator"],"answers":[{"comments":[{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1325889749,"post_id":8765371,"comment_id":10925020,"body_markdown":"When you try to reference it, it will be null. You can check that by something like (refer to my update)","body":"When you try to reference it, it will be null. You can check that by something like (refer to my update)"},{"owner":{"account_id":914156,"reputation":2568,"user_id":1664692,"accept_rate":43,"display_name":"Philipp Wendt"},"score":1,"creation_date":1325889863,"post_id":8765371,"comment_id":10925046,"body_markdown":"You get this information from the documentation - or experience. For example Managers are often used as singletons (or s.th. similar), so there is only one instance. This kind of classes you don&#39;t create, but there is a function to retrieve the object.","body":"You get this information from the documentation - or experience. For example Managers are often used as singletons (or s.th. similar), so there is only one instance. This kind of classes you don&#39;t create, but there is a function to retrieve the object."},{"owner":{"account_id":178805,"reputation":49359,"user_id":411022,"display_name":"Ilmari Karonen"},"score":0,"creation_date":1509296488,"post_id":8765371,"comment_id":80952225,"body_markdown":"While the first paragraph of this answer is essentially correct, the rest is factually incorrect (a null reference does not &quot;need new&quot; to become non-null; it just needs to have an object reference assigned to it) and does nothing to address the OP&#39;s confusion about code like `assetManager = getAssets()` not needing `new`. IMO, the edit that added it should be rolled back.","body":"While the first paragraph of this answer is essentially correct, the rest is factually incorrect (a null reference does not &quot;need new&quot; to become non-null; it just needs to have an object reference assigned to it) and does nothing to address the OP&#39;s confusion about code like <code>assetManager = getAssets()</code> not needing <code>new</code>. IMO, the edit that added it should be rolled back."},{"owner":{"account_id":446666,"reputation":685,"user_id":839837,"accept_rate":87,"display_name":"Markus"},"score":0,"creation_date":1543357086,"post_id":8765371,"comment_id":93887990,"body_markdown":"Why isn&#39;t &#39;new&#39; required (or accepted) when creating this new object:-     `LinearLayout rootView = (LinearLayout)findViewById(R.id.rootView);`","body":"Why isn&#39;t &#39;new&#39; required (or accepted) when creating this new object:-     <code>LinearLayout rootView = (LinearLayout)findViewById(R.id.rootView);</code>"}],"tags":[],"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"comment_count":4,"down_vote_count":2,"up_vote_count":14,"is_accepted":true,"score":12,"last_activity_date":1695546634,"creation_date":1325889309,"answer_id":8765371,"question_id":8765351,"body_markdown":"You use the new keyword when an object is being explicitly created for the first time. Then fetching an object using a getter method new is not required because the object already exists in memory, thus does not need to be recreated.\r\n\r\nif you want a more detailed description of new visit &lt;a href=&quot;http://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html&quot;&gt;the oracle docs&lt;/a&gt;\r\n\r\nAn object will need the &#39;new&#39; keyword if it is null (which is fancy for not initialized).\r\n\r\nThis will always print &quot;needs new&quot; under the current circumstances.\r\n\r\n    Object mObj = null;\r\n    if (mObj == null)\r\n        System.out.println(&quot;needs new&quot;);\r\n    else\r\n        System.out.println(&quot;does NOT need new&quot;);\r\n    \r\n    OUTPUTS: needs new\r\n\r\n\r\nSo to fix it, you would do something like:\r\n\r\n    Object mObj = new Object();\r\n    if (mObj == null)\r\n        System.out.println(&quot;needs new&quot;);\r\n    else\r\n        System.out.println(&quot;does NOT need new&quot;);\r\n    OUTPUTS: does NOT need new\r\n\r\nAnd under those circumstances we will always see &quot;does NOT need new&quot;","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>You use the new keyword when an object is being explicitly created for the first time. Then fetching an object using a getter method new is not required because the object already exists in memory, thus does not need to be recreated.</p>\n<p>if you want a more detailed description of new visit <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\">the oracle docs</a></p>\n<p>An object will need the 'new' keyword if it is null (which is fancy for not initialized).</p>\n<p>This will always print &quot;needs new&quot; under the current circumstances.</p>\n<pre><code>Object mObj = null;\nif (mObj == null)\n    System.out.println(&quot;needs new&quot;);\nelse\n    System.out.println(&quot;does NOT need new&quot;);\n\nOUTPUTS: needs new\n</code></pre>\n<p>So to fix it, you would do something like:</p>\n<pre><code>Object mObj = new Object();\nif (mObj == null)\n    System.out.println(&quot;needs new&quot;);\nelse\n    System.out.println(&quot;does NOT need new&quot;);\nOUTPUTS: does NOT need new\n</code></pre>\n<p>And under those circumstances we will always see &quot;does NOT need new&quot;</p>\n"},{"comments":[{"owner":{"account_id":447821,"reputation":638,"user_id":841677,"accept_rate":100,"display_name":"MaXi32"},"score":0,"creation_date":1619444278,"post_id":8765383,"comment_id":118900414,"body_markdown":"I like this answer the most. This is what I learned in university. You use new to call constructor of a function.","body":"I like this answer the most. This is what I learned in university. You use new to call constructor of a function."}],"tags":[],"owner":{"account_id":260566,"reputation":39108,"user_id":544198,"accept_rate":89,"display_name":"PearsonArtPhoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1325889376,"creation_date":1325889376,"answer_id":8765383,"question_id":8765351,"body_markdown":"The new is used when you call the constructor for a function. [getAssets()][1] returns an AssetManager, it doesn&#39;t need to create a new one.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/Resources.html#getAssets%28%29","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>The new is used when you call the constructor for a function. <a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getAssets%28%29\" rel=\"nofollow\">getAssets()</a> returns an AssetManager, it doesn't need to create a new one.</p>\n"},{"tags":[],"owner":{"account_id":914156,"reputation":2568,"user_id":1664692,"accept_rate":43,"display_name":"Philipp Wendt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325889377,"creation_date":1325889377,"answer_id":8765382,"question_id":8765351,"body_markdown":"By using `new` you allocate memory for the object.\r\n\r\nUsing a `getXXX()` is used to get an existing object which is already allocated.","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>By using <code>new</code> you allocate memory for the object.</p>\n\n<p>Using a <code>getXXX()</code> is used to get an existing object which is already allocated.</p>\n"},{"tags":[],"owner":{"account_id":42943,"reputation":3354,"user_id":125320,"accept_rate":77,"display_name":"Argyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325889397,"creation_date":1325889397,"answer_id":8765388,"question_id":8765351,"body_markdown":"Since you flagged this with [android], I&#39;m guessing your code is inside of an `Activity` or `Service`.  In this case, `getAssets()` is a method of the class you are extending.  So you aren&#39;t actually creating it, you are asking the existing code to give you a reference to what already exists.","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>Since you flagged this with [android], I'm guessing your code is inside of an <code>Activity</code> or <code>Service</code>.  In this case, <code>getAssets()</code> is a method of the class you are extending.  So you aren't actually creating it, you are asking the existing code to give you a reference to what already exists.</p>\n"},{"tags":[],"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325889467,"creation_date":1325889467,"answer_id":8765396,"question_id":8765351,"body_markdown":"notice the capital letter in TextView, and the lack of it in getAssets. getAssets isn&#39;t a class like TextView, it&#39;s a method returning an object. And like many others mentioned, your asset already exists.","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>notice the capital letter in TextView, and the lack of it in getAssets. getAssets isn't a class like TextView, it's a method returning an object. And like many others mentioned, your asset already exists.</p>\n"},{"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1325889486,"creation_date":1325889486,"answer_id":8765402,"question_id":8765351,"body_markdown":"In java you always have to use `new` to instantiate objects (well, almost always). With `getAssests()` you retrieve an already created one. I guess your question comes from c++ where `new` allocates dynamic memory, but since java has only dynamic objects, new is always needed.","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>In java you always have to use <code>new</code> to instantiate objects (well, almost always). With <code>getAssests()</code> you retrieve an already created one. I guess your question comes from c++ where <code>new</code> allocates dynamic memory, but since java has only dynamic objects, new is always needed.</p>\n"},{"tags":[],"owner":{"account_id":1151028,"reputation":439,"user_id":1132745,"accept_rate":71,"display_name":"czajah"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325932927,"creation_date":1325889622,"answer_id":8765424,"question_id":8765351,"body_markdown":"`new` is always used to create new object.\r\n\r\nthis\r\n\r\n    AssetManager assetManager = getAssets();\r\n\r\nis just assignation a value returned from method `getAssets()` to reference `assetManager`.\r\n\r\n[edit]\r\n\r\ni lied about `new` it is possible to do something like this:\r\n    \r\n    Foo.class.newInstance();\r\n\r\nand also you can use reflection:\r\n\r\n    Foo.class.getDeclaredConstructors(Class[] parameterTypes).newInstance(arguments);\r\n","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p><code>new</code> is always used to create new object.</p>\n\n<p>this</p>\n\n<pre><code>AssetManager assetManager = getAssets();\n</code></pre>\n\n<p>is just assignation a value returned from method <code>getAssets()</code> to reference <code>assetManager</code>.</p>\n\n<p>[edit]</p>\n\n<p>i lied about <code>new</code> it is possible to do something like this:</p>\n\n<pre><code>Foo.class.newInstance();\n</code></pre>\n\n<p>and also you can use reflection:</p>\n\n<pre><code>Foo.class.getDeclaredConstructors(Class[] parameterTypes).newInstance(arguments);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178805,"reputation":49359,"user_id":411022,"display_name":"Ilmari Karonen"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1509300352,"creation_date":1509300352,"answer_id":47003512,"question_id":8765351,"body_markdown":"In Java, `new MyClass()` [creates a new instance](https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html) of `MyClass` and returns a reference to it.\r\n\r\nMeanwhile, the declaration:\r\n\r\n    MyClass foo;\r\n\r\ndefines a variable `foo` that can store a reference to an instance of `MyClass`, or the special value `null` that indicates the absence of such a reference.  If you don&#39;t assing any reference to `foo`, its default value will be `null`.\r\n\r\nYou can certainly combine these things, e.g. like this:\r\n\r\n    MyClass foo;           // define a variable foo that can store an object reference\r\n    foo = new MyClass();   // create a new object and assign a reference to it to foo\r\n\r\nor, equivalently, like this:\r\n\r\n    MyClass foo = new MyClass();  // combined variable definition and assignment\r\n\r\nBut you don&#39;t *have* to create a new instance every time you assign something to a reference variable.  You could just as well do e.g. this:\r\n\r\n    MyClass foo, bar;      // define two reference variables, foo and bar\r\n    foo = new MyClass();   // create a new object and assign a reference to it to foo\r\n    bar = foo;             // now foo and bar point to the same object\r\n\r\nor even:\r\n\r\n    MyClass foo = new MyClass(), bar = foo;  // same, but shorter\r\n\r\nNote that in Java, as opposed to some other languages like C++, you can never assign (a copy of) an actual object into a variable.  Rather, Java objects are always accessed via references to them.  When someone speaks of &quot;assigning an object to a variable&quot; or &quot;passing an object as a parameter&quot; or &quot;returning an object from a method&quot; in Java, what they always actually mean is assigning or passing or returning a *reference* to an object.\r\n\r\n----\r\n\r\nMethods that your code calls can (and often do) also return references to objects.  For example, if your class had a method like this:\r\n\r\n    private MyClass getSomeObject() {\r\n        // ...some code here...\r\n    }\r\n\r\nyou could call it and save the reference it returns into a variable like this:\r\n\r\n    MyClass foo;\r\n    foo = getSomeObject();\r\n\r\nor like this:\r\n\r\n    MyClass foo = getSomeObject();\r\n\r\nWe can tell from the method declaration that `getSomeObject()` will always return a reference to a `MyClass` instance (or `null`), but not where that instance actually comes from.  That depends entirely on what the code inside the `getSomeObject()` method does.  The code might always create a new `MyClass` instance with `new MyClass()` every time it&#39;s called, and return a reference to it, or it might always return a reference to the *same* object.  Or, of course, it could sometimes return a reference to a new object, and sometimes to a previously created one.\r\n\r\n----\r\n\r\nNote that, if you assign a new value to a variable, whatever the variable contained before will be forgotten.  If the forgotten value happens to be the last reference to some object, then that object itself will be destroyed by Java&#39;s garbage collector.\r\n\r\nSo, for example, while it&#39;s certainly *possible* to do something like this:\r\n\r\n    MyClass foo = new MyClass();  // create a new object and assign (a reference to) it to foo\r\n    foo = getSomeObject();        // forget the previous content of foo and replace it with whatever getSomeObject() returns\r\n\r\nthat normally makes no sense, since you&#39;d be creating a new `MyClass` instance just to immediately throw away your only reference to it and replace it with something else.  In effect, the code above is exactly equivalent to:\r\n\r\n    new MyClass();       // create a new object and throw away(!) the reference to it\r\n    MyClass foo = getSomeObject();  // assign whatever getSomeObject() returns to foo\r\n\r\nThe only time that could even remotely make sense would be if you *wanted* to create a new `MyClass` instance and immediately let it be garbage collected, e.g. because the `MyClass` constructor had some side effect that you wanted to trigger.  But since it&#39;s usually considered bad style for constructors to have any non-trivial side effects (or, more generally, to do anything besides setting up the new object), you shouldn&#39;t normally have any excuse for writing such code.","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>In Java, <code>new MyClass()</code> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"noreferrer\">creates a new instance</a> of <code>MyClass</code> and returns a reference to it.</p>\n\n<p>Meanwhile, the declaration:</p>\n\n<pre><code>MyClass foo;\n</code></pre>\n\n<p>defines a variable <code>foo</code> that can store a reference to an instance of <code>MyClass</code>, or the special value <code>null</code> that indicates the absence of such a reference.  If you don't assing any reference to <code>foo</code>, its default value will be <code>null</code>.</p>\n\n<p>You can certainly combine these things, e.g. like this:</p>\n\n<pre><code>MyClass foo;           // define a variable foo that can store an object reference\nfoo = new MyClass();   // create a new object and assign a reference to it to foo\n</code></pre>\n\n<p>or, equivalently, like this:</p>\n\n<pre><code>MyClass foo = new MyClass();  // combined variable definition and assignment\n</code></pre>\n\n<p>But you don't <em>have</em> to create a new instance every time you assign something to a reference variable.  You could just as well do e.g. this:</p>\n\n<pre><code>MyClass foo, bar;      // define two reference variables, foo and bar\nfoo = new MyClass();   // create a new object and assign a reference to it to foo\nbar = foo;             // now foo and bar point to the same object\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>MyClass foo = new MyClass(), bar = foo;  // same, but shorter\n</code></pre>\n\n<p>Note that in Java, as opposed to some other languages like C++, you can never assign (a copy of) an actual object into a variable.  Rather, Java objects are always accessed via references to them.  When someone speaks of \"assigning an object to a variable\" or \"passing an object as a parameter\" or \"returning an object from a method\" in Java, what they always actually mean is assigning or passing or returning a <em>reference</em> to an object.</p>\n\n<hr>\n\n<p>Methods that your code calls can (and often do) also return references to objects.  For example, if your class had a method like this:</p>\n\n<pre><code>private MyClass getSomeObject() {\n    // ...some code here...\n}\n</code></pre>\n\n<p>you could call it and save the reference it returns into a variable like this:</p>\n\n<pre><code>MyClass foo;\nfoo = getSomeObject();\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>MyClass foo = getSomeObject();\n</code></pre>\n\n<p>We can tell from the method declaration that <code>getSomeObject()</code> will always return a reference to a <code>MyClass</code> instance (or <code>null</code>), but not where that instance actually comes from.  That depends entirely on what the code inside the <code>getSomeObject()</code> method does.  The code might always create a new <code>MyClass</code> instance with <code>new MyClass()</code> every time it's called, and return a reference to it, or it might always return a reference to the <em>same</em> object.  Or, of course, it could sometimes return a reference to a new object, and sometimes to a previously created one.</p>\n\n<hr>\n\n<p>Note that, if you assign a new value to a variable, whatever the variable contained before will be forgotten.  If the forgotten value happens to be the last reference to some object, then that object itself will be destroyed by Java's garbage collector.</p>\n\n<p>So, for example, while it's certainly <em>possible</em> to do something like this:</p>\n\n<pre><code>MyClass foo = new MyClass();  // create a new object and assign (a reference to) it to foo\nfoo = getSomeObject();        // forget the previous content of foo and replace it with whatever getSomeObject() returns\n</code></pre>\n\n<p>that normally makes no sense, since you'd be creating a new <code>MyClass</code> instance just to immediately throw away your only reference to it and replace it with something else.  In effect, the code above is exactly equivalent to:</p>\n\n<pre><code>new MyClass();       // create a new object and throw away(!) the reference to it\nMyClass foo = getSomeObject();  // assign whatever getSomeObject() returns to foo\n</code></pre>\n\n<p>The only time that could even remotely make sense would be if you <em>wanted</em> to create a new <code>MyClass</code> instance and immediately let it be garbage collected, e.g. because the <code>MyClass</code> constructor had some side effect that you wanted to trigger.  But since it's usually considered bad style for constructors to have any non-trivial side effects (or, more generally, to do anything besides setting up the new object), you shouldn't normally have any excuse for writing such code.</p>\n"}],"owner":{"account_id":339196,"reputation":2470,"user_id":668518,"accept_rate":47,"display_name":"foobar5512"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26009,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":8765371,"answer_count":8,"score":24,"last_activity_date":1695546634,"creation_date":1325889179,"question_id":8765351,"body_markdown":"When is it necessary to use the `new` keyword in Java. I know you are supposed to use it when you create an instance of an object like this:\r\n\r\n    TextView textView = new TextView(this);\r\n\r\nSometimes in code I notice that `new` isn&#39;t used and I get confused..\r\nIn this line of code:\r\n\r\n    \tAssetManager assetManager = getAssets();\r\n\r\nWhy isn&#39;t an instance of the AssetManager created like this:\r\n\r\n    AssetManager assetManager = new AssetManager();\r\n\r\nthen it is set equal to getAssests()?\r\n\r\nWhen should `new` be used?\r\n\r\n","title":"When is the appropriate time to use the &#39;new&#39; keyword?","body":"<p>When is it necessary to use the <code>new</code> keyword in Java. I know you are supposed to use it when you create an instance of an object like this:</p>\n<pre><code>TextView textView = new TextView(this);\n</code></pre>\n<p>Sometimes in code I notice that <code>new</code> isn't used and I get confused..\nIn this line of code:</p>\n<pre><code>    AssetManager assetManager = getAssets();\n</code></pre>\n<p>Why isn't an instance of the AssetManager created like this:</p>\n<pre><code>AssetManager assetManager = new AssetManager();\n</code></pre>\n<p>then it is set equal to getAssests()?</p>\n<p>When should <code>new</code> be used?</p>\n"},{"tags":["java","mongodb","nosql"],"comments":[{"owner":{"account_id":28694012,"reputation":4082,"user_id":21972629,"display_name":"jQueeny"},"score":0,"creation_date":1695567088,"post_id":77164315,"comment_id":136038630,"body_markdown":"Have you considered using the `_id` field as a prefix for all of your `book_id`. Each document stored in Mongodb has a unique, indexed [_id](https://www.mongodb.com/docs/manual/core/document/#:~:text=In%20MongoDB%2C%20each%20document%20stored,update%20operations%20with%20upsert%3A%20true.) field (unless you overwrite it with your own implementation or disable it of course) which defaults to an ObjectId. You could concatenate that for example [`650ddc44507561a33ce927a1-11`, `650ddc44507561a33ce927a1-12`, `650ddc44507561a33ce927a1-13`]. Otherwise just create an ObjectId for each `book_id`.","body":"Have you considered using the <code>_id</code> field as a prefix for all of your <code>book_id</code>. Each document stored in Mongodb has a unique, indexed <a href=\"https://www.mongodb.com/docs/manual/core/document/#:~:text=In%20MongoDB%2C%20each%20document%20stored,update%20operations%20with%20upsert%3A%20true.\" rel=\"nofollow noreferrer\">_id</a> field (unless you overwrite it with your own implementation or disable it of course) which defaults to an ObjectId. You could concatenate that for example [<code>650ddc44507561a33ce927a1-11</code>, <code>650ddc44507561a33ce927a1-12</code>, <code>650ddc44507561a33ce927a1-13</code>]. Otherwise just create an ObjectId for each <code>book_id</code>."}],"owner":{"account_id":19441347,"reputation":137,"user_id":15522059,"display_name":"Ann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695546249,"creation_date":1695491992,"question_id":77164315,"body_markdown":"I would like to create and maintain book_id that is unique across different customer documents. For example. if customer_id is 1, then book_id should be 11,12,13,14 (the first digit of book_id denotes the customer_id) or any other pattern that would help track the customer_id using book_id.\r\n\r\n      {\r\n    \t&quot;customer_id&quot;: &quot;&quot;,\r\n    \t&quot;books&quot;: [\r\n    \t\t{ &quot;book_id&quot;: &quot;&quot;,\r\n              ... }\r\n    \t]\r\n      }\r\n\r\nIs there any way to achieve this using MongoDB&#39;s auto-generated ID feature?","title":"How to create an _id sequence for a document and its array elements so that the array elements uniqueness is maintained across documents","body":"<p>I would like to create and maintain book_id that is unique across different customer documents. For example. if customer_id is 1, then book_id should be 11,12,13,14 (the first digit of book_id denotes the customer_id) or any other pattern that would help track the customer_id using book_id.</p>\n<pre><code>  {\n    &quot;customer_id&quot;: &quot;&quot;,\n    &quot;books&quot;: [\n        { &quot;book_id&quot;: &quot;&quot;,\n          ... }\n    ]\n  }\n</code></pre>\n<p>Is there any way to achieve this using MongoDB's auto-generated ID feature?</p>\n"},{"tags":["java","arrays","class","constructor"],"owner":{"account_id":11817587,"reputation":1,"user_id":8647465,"display_name":"akharwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695492908,"answer_count":0,"score":0,"last_activity_date":1695546235,"creation_date":1695492704,"question_id":77164371,"body_markdown":"I want to assign values directly to the marks array in the constructor Student. I want to pass the value as \r\n\r\n    Student s1 = new Student(123,&quot;jack sparrow&quot;,3, {23.0,40.0,30.0});\r\n\r\nis it possible?\r\n\r\n    error illegal start of expression.\r\n    error illegal start of type\r\n\r\n","title":"How to pass array as a value in constructor in java","body":"<p>I want to assign values directly to the marks array in the constructor Student. I want to pass the value as</p>\n<pre><code>Student s1 = new Student(123,&quot;jack sparrow&quot;,3, {23.0,40.0,30.0});\n</code></pre>\n<p>is it possible?</p>\n<pre><code>error illegal start of expression.\nerror illegal start of type\n</code></pre>\n"},{"tags":["java","sorting"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1695550536,"post_id":77166208,"comment_id":136037055,"body_markdown":"Or [`List#reversed`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()) in Java 21+. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431).","body":"Or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\" rel=\"nofollow noreferrer\"><code>List#reversed</code></a> in Java 21+. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><i>JEP 431: Sequenced Collections</i></a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1695587297,"post_id":77166208,"comment_id":136040882,"body_markdown":"Caution:  comparing `x.get(&quot;age&quot;)` may not behave as expected.  Should an age of &quot;8&quot; come before or after an age of &quot;15&quot;?","body":"Caution:  comparing <code>x.get(&quot;age&quot;)</code> may not behave as expected.  Should an age of &quot;8&quot; come before or after an age of &quot;15&quot;?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1695543043,"creation_date":1695542680,"answer_id":77166208,"question_id":77166111,"body_markdown":"&gt; _&quot;... Is there anyway I can sort or reverse this arraylist by using any key in the hashmap for example sort by name value or sort by age value? ...&quot;_\r\n\r\nTo reverse the _List_, utilize the _[Collection#reverse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List))_ method.\r\n\r\n```java\r\nCollections.reverse(list);\r\n```\r\n\r\nAnd for sorting, use the _[List#sort](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#sort(java.util.Comparator))_ and _[Comparator#comparing](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function))_ methods.\r\n\r\n```java\r\nlist.sort(Comparator.comparing(x -&gt; x.get(&quot;name&quot;)));\r\n```\r\n\r\n```java\r\nlist.sort(Comparator.comparing(x -&gt; x.get(&quot;age&quot;)));\r\n```\r\n\r\nOutput, for each routine.\r\n\r\n```none\r\n[{name=adam, age=15, hobby=sports}, {name=dave, age=27, hobby=guitar}]\r\n```","title":"Sort or reverse an Hashmap Arraylist","body":"<blockquote>\n<p><em>&quot;... Is there anyway I can sort or reverse this arraylist by using any key in the hashmap for example sort by name value or sort by age value? ...&quot;</em></p>\n</blockquote>\n<p>To reverse the <em>List</em>, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"noreferrer\">Collection#reverse</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.reverse(list);\n</code></pre>\n<p>And for sorting, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"noreferrer\">List#sort</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"noreferrer\">Comparator#comparing</a></em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.sort(Comparator.comparing(x -&gt; x.get(&quot;name&quot;)));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>list.sort(Comparator.comparing(x -&gt; x.get(&quot;age&quot;)));\n</code></pre>\n<p>Output, for each routine.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{name=adam, age=15, hobby=sports}, {name=dave, age=27, hobby=guitar}]\n</code></pre>\n"}],"owner":{"account_id":22125327,"reputation":57,"user_id":16377801,"display_name":"kee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77166208,"answer_count":1,"score":2,"last_activity_date":1695545687,"creation_date":1695540894,"question_id":77166111,"body_markdown":"I&#39;ve been practicing Java code challenge.\r\n\r\nHere&#39;s my code\r\n\r\n    LinkedHashMap&lt;String, String&gt; user = new LinkedHashMap&lt;String, String&gt;();\r\n\tLinkedHashMap&lt;String, String&gt; user1 = new LinkedHashMap&lt;String, String&gt;();\r\n\tArrayList&lt;HashMap&lt;String , String&gt;&gt; list = new ArrayList&lt;HashMap&lt;String , String&gt;&gt;();\r\n\t\r\n\tuser.put(&quot;name&quot;, &quot;dave&quot;);\r\n\tuser.put(&quot;age&quot;, &quot;27&quot;);\r\n\tuser.put(&quot;hobby&quot;, &quot;guitar&quot;);\r\n\t\r\n\tuser1.put(&quot;name&quot;, &quot;adam&quot;);\r\n\tuser1.put(&quot;age&quot;, &quot;15&quot;);\r\n\tuser1.put(&quot;hobby&quot;, &quot;sports&quot;);\r\n\t\r\n\tlist.add(user);\r\n\tlist.add(user1);\r\n\t\r\n\tSystem.out.println(list.toString());\r\n\r\nOutput:\r\n\r\n     [{name=dave, age=27, hobby=guitar}, {name=adam, age=15, hobby=sports}]\r\n\r\nIs there anyway I can sort or reverse this arraylist by using any key in the hashmap for example sort by name value or sort by age value?\r\n\r\n\r\n\r\n\r\n ","title":"Sort or reverse an Hashmap Arraylist","body":"<p>I've been practicing Java code challenge.</p>\n<p>Here's my code</p>\n<pre><code>LinkedHashMap&lt;String, String&gt; user = new LinkedHashMap&lt;String, String&gt;();\nLinkedHashMap&lt;String, String&gt; user1 = new LinkedHashMap&lt;String, String&gt;();\nArrayList&lt;HashMap&lt;String , String&gt;&gt; list = new ArrayList&lt;HashMap&lt;String , String&gt;&gt;();\n\nuser.put(&quot;name&quot;, &quot;dave&quot;);\nuser.put(&quot;age&quot;, &quot;27&quot;);\nuser.put(&quot;hobby&quot;, &quot;guitar&quot;);\n\nuser1.put(&quot;name&quot;, &quot;adam&quot;);\nuser1.put(&quot;age&quot;, &quot;15&quot;);\nuser1.put(&quot;hobby&quot;, &quot;sports&quot;);\n\nlist.add(user);\nlist.add(user1);\n\nSystem.out.println(list.toString());\n</code></pre>\n<p>Output:</p>\n<pre><code> [{name=dave, age=27, hobby=guitar}, {name=adam, age=15, hobby=sports}]\n</code></pre>\n<p>Is there anyway I can sort or reverse this arraylist by using any key in the hashmap for example sort by name value or sort by age value?</p>\n"},{"tags":["java","swing","jpanel","event-listener","2048"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695508623,"post_id":77165142,"comment_id":136034375,"body_markdown":"I&#39;d discourage the use of `KeyListener` in favour of [Key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)","body":"I&#39;d discourage the use of <code>KeyListener</code> in favour of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key bindings</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695509056,"post_id":77165142,"comment_id":136034409,"body_markdown":"From the `BlockingQueue` JavaDocs *&quot;Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.&quot;* - this is going to block the Event Dispatching Thread, so no other event processing will be able to occur (ie won&#39;t respond to key inputs) so it will never unblock.  Personally, I think this is a bad approach and would instead simply have a state value which you can flip between the key handler and timer ... or, in this case, just have the key handler deal with it - not sure what benefit the `Timer` is providing you in this context","body":"From the <code>BlockingQueue</code> JavaDocs <i>&quot;Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.&quot;</i> - this is going to block the Event Dispatching Thread, so no other event processing will be able to occur (ie won&#39;t respond to key inputs) so it will never unblock.  Personally, I think this is a bad approach and would instead simply have a state value which you can flip between the key handler and timer ... or, in this case, just have the key handler deal with it - not sure what benefit the <code>Timer</code> is providing you in this context"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695545641,"creation_date":1695510978,"answer_id":77165241,"question_id":77165142,"body_markdown":"From the [JavaDocs for `BlockQueue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html#take())\r\n\r\n&gt; E take()\r\n&gt; throws InterruptedException\r\n&gt;\r\n&gt; Retrieves and removes the head of this queue, ***waiting if necessary until an element becomes available***.\r\n\r\n(emphasis added by me)\r\n\r\nIn the context of your code, `take` will block the Event Dispatching Thread, preventing any further event processing from taking place (ie key or paint events).\r\n\r\nIn the available context, it doesn&#39;t really make sense.  Why use a `Timer` if all you&#39;re going to do is wait for the state to change?  Why not simply have the key handler trigger a method when it&#39;s triggered instead?\r\n\r\nI&#39;d also discourage the use of `KeyListener`, if for no other reason then all the focus related issues it creates, which has been solved by the [Keybindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).\r\n\r\nThis will also allow you to decouple the action from the source/trigger and allow you to re-use the logic. This could mean you could also add button controls to your UI as another means of user input and re-use the `Action`s for both the buttons and the key bindings.\r\n\r\nAs a conceptual example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.Random;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws CloneNotSupportedException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel { //implements ActionListener {\r\n            enum Direction {\r\n                LEFT, RIGHT, UP, DOWN;\r\n            }\r\n\r\n            static final int SCREEN_WIDTH = 600;\r\n            static final int SCREEN_HEIGHT = 600;\r\n            private boolean running = false;\r\n            private Random random;\r\n\r\n            GamePanel() {\r\n                random = new Random();\r\n                this.setBackground(Color.white);\r\n                //this.queue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n                InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\r\n\r\n                actionMap.put(Direction.LEFT, new GridAction(&#39;L&#39;));\r\n                actionMap.put(Direction.RIGHT, new GridAction(&#39;R&#39;));\r\n                actionMap.put(Direction.UP, new GridAction(&#39;U&#39;));\r\n                actionMap.put(Direction.UP, new GridAction(&#39;D&#39;));\r\n\r\n                startGame();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            }\r\n\r\n            public void startGame() {\r\n                running = true;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                //int tileSize = SCREEN_WIDTH / this.grid.SIZE; // Calculate tile size based on panel size and board size\r\n                //\r\n                //for (int row = 0; row &lt; this.grid.SIZE; row++) {\r\n                //    for (int col = 0; col &lt; this.grid.SIZE; col++) {\r\n                //        int x = col * tileSize;\r\n                //        int y = row * tileSize;\r\n                //        g2d.drawRect(x, y, tileSize, tileSize);\r\n                //    }\r\n                //}\r\n                //\r\n                //for (int row = 0; row &lt; this.grid.SIZE; row++) {\r\n                //    for (int col = 0; col &lt; this.grid.SIZE; col++) {\r\n                //        int x = col * tileSize;\r\n                //        int y = row * tileSize;\r\n                //        Tile tile = grid.board[row][col];\r\n                //        if (tile != null) {\r\n                //            g2d.setColor(tile.getColor());\r\n                //            g2d.fillRect(x, y, tileSize, tileSize);\r\n                //            g2d.setColor(Color.BLACK);\r\n                //            g2d.drawString(String.valueOf(tile.getValue()), x + tileSize / 2, y + tileSize / 2);\r\n                //        }\r\n                //    }\r\n                //}\r\n            }\r\n\r\n            protected void directionDidChange(char direction) {\r\n                if (!running) {\r\n                    return;\r\n                }\r\n                //grid.setDirection(direction);\r\n                // Do what ever other processing your need to do\r\n                repaint();\r\n            }\r\n\r\n            protected class GridAction extends AbstractAction {\r\n                // I&#39;d use a enum for this purpose, but that&#39;s me\r\n                private char direction;\r\n\r\n                public GridAction(char action) {\r\n                    this.direction = action;\r\n                }\r\n\r\n                public char getDirection() {\r\n                    return direction;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    directionDidChange(getDirection());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIf you need the `Timer` to perform different actions based on the current state, then I&#39;d make use of `Set` to track which keys are currently been pressed.  This will require you to track press/release states, so it does increase the complexity some. [For example](https://stackoverflow.com/questions/34125578/gradually-accelerate-sprite-on-key-pressed-gradually-decelerate-on-key-released/34126260#34126260)\r\n","title":"Why when I run my code the panel opens but it never reaches the actionPerformed function","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html#take()\" rel=\"nofollow noreferrer\">JavaDocs for <code>BlockQueue</code></a></p>\n<blockquote>\n<p>E take()\nthrows InterruptedException</p>\n<p>Retrieves and removes the head of this queue, <em><strong>waiting if necessary until an element becomes available</strong></em>.</p>\n</blockquote>\n<p>(emphasis added by me)</p>\n<p>In the context of your code, <code>take</code> will block the Event Dispatching Thread, preventing any further event processing from taking place (ie key or paint events).</p>\n<p>In the available context, it doesn't really make sense.  Why use a <code>Timer</code> if all you're going to do is wait for the state to change?  Why not simply have the key handler trigger a method when it's triggered instead?</p>\n<p>I'd also discourage the use of <code>KeyListener</code>, if for no other reason then all the focus related issues it creates, which has been solved by the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Keybindings API</a>.</p>\n<p>This will also allow you to decouple the action from the source/trigger and allow you to re-use the logic. This could mean you could also add button controls to your UI as another means of user input and re-use the <code>Action</code>s for both the buttons and the key bindings.</p>\n<p>As a conceptual example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.Random;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class Main {\n    public static void main(String[] args) throws CloneNotSupportedException {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel { //implements ActionListener {\n        enum Direction {\n            LEFT, RIGHT, UP, DOWN;\n        }\n\n        static final int SCREEN_WIDTH = 600;\n        static final int SCREEN_HEIGHT = 600;\n        private boolean running = false;\n        private Random random;\n\n        GamePanel() {\n            random = new Random();\n            this.setBackground(Color.white);\n            //this.queue = new LinkedBlockingQueue&lt;&gt;();\n\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\n\n            actionMap.put(Direction.LEFT, new GridAction('L'));\n            actionMap.put(Direction.RIGHT, new GridAction('R'));\n            actionMap.put(Direction.UP, new GridAction('U'));\n            actionMap.put(Direction.UP, new GridAction('D'));\n\n            startGame();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        }\n\n        public void startGame() {\n            running = true;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g;\n            //int tileSize = SCREEN_WIDTH / this.grid.SIZE; // Calculate tile size based on panel size and board size\n            //\n            //for (int row = 0; row &lt; this.grid.SIZE; row++) {\n            //    for (int col = 0; col &lt; this.grid.SIZE; col++) {\n            //        int x = col * tileSize;\n            //        int y = row * tileSize;\n            //        g2d.drawRect(x, y, tileSize, tileSize);\n            //    }\n            //}\n            //\n            //for (int row = 0; row &lt; this.grid.SIZE; row++) {\n            //    for (int col = 0; col &lt; this.grid.SIZE; col++) {\n            //        int x = col * tileSize;\n            //        int y = row * tileSize;\n            //        Tile tile = grid.board[row][col];\n            //        if (tile != null) {\n            //            g2d.setColor(tile.getColor());\n            //            g2d.fillRect(x, y, tileSize, tileSize);\n            //            g2d.setColor(Color.BLACK);\n            //            g2d.drawString(String.valueOf(tile.getValue()), x + tileSize / 2, y + tileSize / 2);\n            //        }\n            //    }\n            //}\n        }\n\n        protected void directionDidChange(char direction) {\n            if (!running) {\n                return;\n            }\n            //grid.setDirection(direction);\n            // Do what ever other processing your need to do\n            repaint();\n        }\n\n        protected class GridAction extends AbstractAction {\n            // I'd use a enum for this purpose, but that's me\n            private char direction;\n\n            public GridAction(char action) {\n                this.direction = action;\n            }\n\n            public char getDirection() {\n                return direction;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                directionDidChange(getDirection());\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you need the <code>Timer</code> to perform different actions based on the current state, then I'd make use of <code>Set</code> to track which keys are currently been pressed.  This will require you to track press/release states, so it does increase the complexity some. <a href=\"https://stackoverflow.com/questions/34125578/gradually-accelerate-sprite-on-key-pressed-gradually-decelerate-on-key-released/34126260#34126260\">For example</a></p>\n"}],"owner":{"account_id":25893692,"reputation":9,"user_id":19620670,"display_name":"Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695545641,"creation_date":1695508452,"question_id":77165142,"body_markdown":"[panel view of my 2048 game](https://i.stack.imgur.com/OXeTX.png)I am trying to make the 2048 game. I made the terminal version to check my game logic and everything seems to be working. Now I added a GameFrame and GamePanel class. My aim is to be able to click on the arrow keys to move the tiles to the desired direction. My current issue is that when running my code it never reaches my actionPerformed function. I am using a blocking queue to wait for the user to decide on their next move. When running my code the panel appears with two initial tiles (as it should) but when I click on any arrow nothing changes. With the print statement I can see that it does not reach the actionPerformed function but I do not understand why. In my understanding this function should be running every 75 milliseconds (which is my chosen DELAY) and I have setFocusable(true) so it should be listening to keyboard events I think. In another post, I read about a similar issue and it said to use addActionListener, but I am not sure where I should add it if that&#39;s what I&#39;m missing. Any help is appreciated! I will add all of the GamePanel, GameFrame classes and the main: \r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.util.Random;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\n\r\n\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\r\n\r\n    static final int SCREEN_WIDTH = 600;\r\n    static final int SCREEN_HEIGHT = 600;\r\n    static final int DELAY = 75;\r\n    BlockingQueue&lt;Boolean&gt; queue;\r\n    Timer timer;\r\n    boolean running = false;\r\n    Random random;\r\n    Board grid;\r\n\r\n\r\n\r\n    GamePanel(){\r\n\r\n        random = new Random();\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.white);\r\n        this.setFocusable(true);\r\n        this.queue = new LinkedBlockingQueue&lt;&gt;();\r\n        this.addKeyListener(new MyKeyAdapter());\r\n        startGame();\r\n\r\n    }\r\n\r\n\r\n    public void startGame(){\r\n        grid = new Board();\r\n        grid.newTile();\r\n        grid.newTile();\r\n        running = true;\r\n        timer = new Timer(DELAY, this);\r\n        timer.start();\r\n        System.out.println(&quot;game started&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        int tileSize = SCREEN_WIDTH / this.grid.SIZE; // Calculate tile size based on panel size and board size\r\n\r\n        for (int row = 0; row &lt; this.grid.SIZE; row++) {\r\n            for (int col = 0; col &lt; this.grid.SIZE; col++) {\r\n                int x = col * tileSize;\r\n                int y = row * tileSize;\r\n                g2d.drawRect(x, y, tileSize, tileSize);\r\n            }\r\n}\r\n\r\n        for (int row = 0; row &lt; this.grid.SIZE; row++) {\r\n            for (int col = 0; col &lt; this.grid.SIZE; col++) {\r\n                int x = col * tileSize;\r\n                int y = row * tileSize;\r\n                Tile tile = grid.board[row][col];\r\n                if (tile != null) {\r\n                    g2d.setColor(tile.getColor());\r\n                    g2d.fillRect(x, y, tileSize, tileSize);\r\n                    g2d.setColor(Color.BLACK);\r\n                    g2d.drawString(String.valueOf(tile.getValue()), x + tileSize / 2, y + tileSize / 2);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n     @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        try{\r\n            boolean running = queue.take();\r\n            System.out.println(&quot;I am in the try&quot;);\r\n        if(running){\r\n            System.out.println(&quot;running is true&quot;);\r\n            grid.move();\r\n            grid.newTile();\r\n            if (!grid.gridHasSpace()) {\r\n                //TODO Handle game over logic here \r\n                queue.put(false);\r\n                }\r\n        } \r\n        repaint();\r\n    } catch (InterruptedException e1){\r\n        //TODO\r\n    }\r\n    }\r\n\r\n\r\n\r\n    public class MyKeyAdapter extends KeyAdapter{\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e){\r\n            switch (e.getKeyCode()) {\r\n                case KeyEvent.VK_LEFT:\r\n                    grid.setDirection(&#39;L&#39;);\r\n                    System.out.println(&quot;Left key pressed&quot;);\r\n                    break;\r\n                case KeyEvent.VK_RIGHT:\r\n                    grid.setDirection(&#39;R&#39;);\r\n                    break;\r\n                case KeyEvent.VK_UP:\r\n                    grid.setDirection(&#39;U&#39;);\r\n                    break;\r\n                case KeyEvent.VK_DOWN:\r\n                    grid.setDirection(&#39;D&#39;);\r\n                    break;\r\n            }\r\n            try {\r\n                queue.put(true);\r\n            } catch (InterruptedException e1) {\r\n                // TODO Auto-generated catch block\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    \r\n}\r\n}\r\nimport javax.swing.JFrame;\r\n\r\npublic class GameFrame extends JFrame {\r\n    \r\n    GameFrame(){\r\n        this.add(new GamePanel());\r\n        this.setTitle(&quot;Game2048&quot;);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setResizable(false);\r\n        this.pack();\r\n        this.setVisible(true);\r\n        this.setLocationRelativeTo(null);\r\n        \r\n    }\r\n}\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Game2048 {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {GameFrame gameFrame = new GameFrame();});\r\n    }\r\n```\r\n","title":"Why when I run my code the panel opens but it never reaches the actionPerformed function","body":"<p><a href=\"https://i.stack.imgur.com/OXeTX.png\" rel=\"nofollow noreferrer\">panel view of my 2048 game</a>I am trying to make the 2048 game. I made the terminal version to check my game logic and everything seems to be working. Now I added a GameFrame and GamePanel class. My aim is to be able to click on the arrow keys to move the tiles to the desired direction. My current issue is that when running my code it never reaches my actionPerformed function. I am using a blocking queue to wait for the user to decide on their next move. When running my code the panel appears with two initial tiles (as it should) but when I click on any arrow nothing changes. With the print statement I can see that it does not reach the actionPerformed function but I do not understand why. In my understanding this function should be running every 75 milliseconds (which is my chosen DELAY) and I have setFocusable(true) so it should be listening to keyboard events I think. In another post, I read about a similar issue and it said to use addActionListener, but I am not sure where I should add it if that's what I'm missing. Any help is appreciated! I will add all of the GamePanel, GameFrame classes and the main:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.Random;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingQueue;\n\n\npublic class GamePanel extends JPanel implements ActionListener {\n\n\n    static final int SCREEN_WIDTH = 600;\n    static final int SCREEN_HEIGHT = 600;\n    static final int DELAY = 75;\n    BlockingQueue&lt;Boolean&gt; queue;\n    Timer timer;\n    boolean running = false;\n    Random random;\n    Board grid;\n\n\n\n    GamePanel(){\n\n        random = new Random();\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        this.setBackground(Color.white);\n        this.setFocusable(true);\n        this.queue = new LinkedBlockingQueue&lt;&gt;();\n        this.addKeyListener(new MyKeyAdapter());\n        startGame();\n\n    }\n\n\n    public void startGame(){\n        grid = new Board();\n        grid.newTile();\n        grid.newTile();\n        running = true;\n        timer = new Timer(DELAY, this);\n        timer.start();\n        System.out.println(&quot;game started&quot;);\n    }\n\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        int tileSize = SCREEN_WIDTH / this.grid.SIZE; // Calculate tile size based on panel size and board size\n\n        for (int row = 0; row &lt; this.grid.SIZE; row++) {\n            for (int col = 0; col &lt; this.grid.SIZE; col++) {\n                int x = col * tileSize;\n                int y = row * tileSize;\n                g2d.drawRect(x, y, tileSize, tileSize);\n            }\n}\n\n        for (int row = 0; row &lt; this.grid.SIZE; row++) {\n            for (int col = 0; col &lt; this.grid.SIZE; col++) {\n                int x = col * tileSize;\n                int y = row * tileSize;\n                Tile tile = grid.board[row][col];\n                if (tile != null) {\n                    g2d.setColor(tile.getColor());\n                    g2d.fillRect(x, y, tileSize, tileSize);\n                    g2d.setColor(Color.BLACK);\n                    g2d.drawString(String.valueOf(tile.getValue()), x + tileSize / 2, y + tileSize / 2);\n            }\n        }\n    }\n}\n\n     @Override\n    public void actionPerformed(ActionEvent e) {\n        try{\n            boolean running = queue.take();\n            System.out.println(&quot;I am in the try&quot;);\n        if(running){\n            System.out.println(&quot;running is true&quot;);\n            grid.move();\n            grid.newTile();\n            if (!grid.gridHasSpace()) {\n                //TODO Handle game over logic here \n                queue.put(false);\n                }\n        } \n        repaint();\n    } catch (InterruptedException e1){\n        //TODO\n    }\n    }\n\n\n\n    public class MyKeyAdapter extends KeyAdapter{\n\n        @Override\n        public void keyPressed(KeyEvent e){\n            switch (e.getKeyCode()) {\n                case KeyEvent.VK_LEFT:\n                    grid.setDirection('L');\n                    System.out.println(&quot;Left key pressed&quot;);\n                    break;\n                case KeyEvent.VK_RIGHT:\n                    grid.setDirection('R');\n                    break;\n                case KeyEvent.VK_UP:\n                    grid.setDirection('U');\n                    break;\n                case KeyEvent.VK_DOWN:\n                    grid.setDirection('D');\n                    break;\n            }\n            try {\n                queue.put(true);\n            } catch (InterruptedException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n        }\n    \n}\n}\nimport javax.swing.JFrame;\n\npublic class GameFrame extends JFrame {\n    \n    GameFrame(){\n        this.add(new GamePanel());\n        this.setTitle(&quot;Game2048&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.pack();\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n        \n    }\n}\nimport javax.swing.SwingUtilities;\n\npublic class Game2048 {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {GameFrame gameFrame = new GameFrame();});\n    }\n</code></pre>\n"},{"tags":["java","logging","slf4j"],"answers":[{"comments":[{"owner":{"account_id":5275654,"reputation":95,"user_id":4212532,"accept_rate":33,"display_name":"My Intek"},"score":2,"creation_date":1496453126,"post_id":44339332,"comment_id":75682378,"body_markdown":"I only want to log all the keys and values once not one log per key and value pair.","body":"I only want to log all the keys and values once not one log per key and value pair."}],"tags":[],"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496452406,"creation_date":1496452406,"answer_id":44339332,"question_id":44339281,"body_markdown":"Suppose you try like this to iterate in the HashMap.\r\n\r\n    public void printMap(Map mp) {\r\n        Iterator it = mp.entrySet().iterator();\r\n        while (it.hasNext()) {\r\n            Map.Entry pair = (Map.Entry)it.next();\r\n            logger.info(pair.getKey() + &quot; = &quot; + pair.getValue());\r\n        }\r\n    }\r\n\r\nThere are more examples and approaches in this [post](https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map).","title":"Log all HashMap keys and values using slf4j Logger","body":"<p>Suppose you try like this to iterate in the HashMap.</p>\n\n<pre><code>public void printMap(Map mp) {\n    Iterator it = mp.entrySet().iterator();\n    while (it.hasNext()) {\n        Map.Entry pair = (Map.Entry)it.next();\n        logger.info(pair.getKey() + \" = \" + pair.getValue());\n    }\n}\n</code></pre>\n\n<p>There are more examples and approaches in this <a href=\"https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map\">post</a>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1496454461,"creation_date":1496454461,"answer_id":44339483,"question_id":44339281,"body_markdown":"Your code is using this overload (see [javadoc][1])\r\n\r\n&gt; `void info(String message, Object p0)`\r\n&gt; \r\n&gt; Logs a message with parameters at info level.\r\n\r\nThat overload will *substitute* the string representation of `p0` into the `message` template string, replacing the first substitution marker with the representation.  But you don&#39;t have any substitution markers in your message!\r\n\r\nHere is a quick fix:\r\n\r\n      public void test(HashMap maps) {\r\n          logger.info(&quot;test values {}&quot;, maps);\r\n      }\r\n\r\nRelated Question:\r\n\r\n  - https://stackoverflow.com/questions/37755046/how-to-log-the-second-argument-in-log4j\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#info-java.lang.String-java.lang.Object-","title":"Log all HashMap keys and values using slf4j Logger","body":"<p>Your code is using this overload (see <a href=\"https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#info-java.lang.String-java.lang.Object-\" rel=\"noreferrer\">javadoc</a>)</p>\n\n<blockquote>\n  <p><code>void info(String message, Object p0)</code></p>\n  \n  <p>Logs a message with parameters at info level.</p>\n</blockquote>\n\n<p>That overload will <em>substitute</em> the string representation of <code>p0</code> into the <code>message</code> template string, replacing the first substitution marker with the representation.  But you don't have any substitution markers in your message!</p>\n\n<p>Here is a quick fix:</p>\n\n<pre><code>  public void test(HashMap maps) {\n      logger.info(\"test values {}\", maps);\n  }\n</code></pre>\n\n<p>Related Question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/37755046/how-to-log-the-second-argument-in-log4j\">How to log the second argument in log4j</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4799572,"reputation":2451,"user_id":3876552,"display_name":"Dipesh Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695544473,"creation_date":1695544473,"answer_id":77166301,"question_id":44339281,"body_markdown":"There are many ways to print maps in logging. Sharing some ways below -\r\n\r\n 1. Use the logger to print maps in your logs:\r\n\r\n        Map&lt;String, Object&gt; yourMap = // Your map here\r\n    \r\n        logger.info(&quot;Printing map: &quot; + yourMap.toString());\r\n\r\n    This code will print the map in your log output as a string. You can use the toString() method of the map to convert it into a string representation. Note that this method might not be the most readable or useful if you have complex maps.\r\n\r\n 2. Iterate over the map and log its key-value pairs individually\r\n \r\n\r\n        Map&lt;String, Object&gt; yourMap = // Your map here\r\n    \r\n        for (Map.Entry&lt;String, Object&gt; entry : yourMap.entrySet()) {\r\n            logger.info(&quot;Key: &quot; + entry.getKey() + &quot;, Value: &quot; + entry.getValue());\r\n        }\r\n\r\n    This will log each key-value pair in a separate log entry.\r\n\r\n 3. Use libraries like Apache Commons Lang or third-party JSON libraries for a more structured and readable output. Here&#39;s an example using Apache Commons Lang.\r\n\r\n        Map&lt;String, Object&gt; yourMap = // Your map here\r\n    \r\n        // Using Apache Commons Lang to print the map in a more readable format\r\n    \r\n        String mapString = ToStringBuilder.reflectionToString(yourMap, ToStringStyle.JSON_STYLE);\r\n    \r\n        logger.info(&quot;Map: &quot; + mapString);\r\n\r\n 4. List item Another example with  JSON serialization with Jackson\r\n    \r\n        // Using Jackson to print the map as JSON\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String json = objectMapper.writeValueAsString(yourMap);\r\n            logger.info(&quot;JSON Map: &quot; + json);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n","title":"Log all HashMap keys and values using slf4j Logger","body":"<p>There are many ways to print maps in logging. Sharing some ways below -</p>\n<ol>\n<li><p>Use the logger to print maps in your logs:</p>\n<pre><code>Map&lt;String, Object&gt; yourMap = // Your map here\n\nlogger.info(&quot;Printing map: &quot; + yourMap.toString());\n</code></pre>\n<p>This code will print the map in your log output as a string. You can use the toString() method of the map to convert it into a string representation. Note that this method might not be the most readable or useful if you have complex maps.</p>\n</li>\n<li><p>Iterate over the map and log its key-value pairs individually</p>\n<pre><code>Map&lt;String, Object&gt; yourMap = // Your map here\n\nfor (Map.Entry&lt;String, Object&gt; entry : yourMap.entrySet()) {\n    logger.info(&quot;Key: &quot; + entry.getKey() + &quot;, Value: &quot; + entry.getValue());\n}\n</code></pre>\n<p>This will log each key-value pair in a separate log entry.</p>\n</li>\n<li><p>Use libraries like Apache Commons Lang or third-party JSON libraries for a more structured and readable output. Here's an example using Apache Commons Lang.</p>\n<pre><code>Map&lt;String, Object&gt; yourMap = // Your map here\n\n// Using Apache Commons Lang to print the map in a more readable format\n\nString mapString = ToStringBuilder.reflectionToString(yourMap, ToStringStyle.JSON_STYLE);\n\nlogger.info(&quot;Map: &quot; + mapString);\n</code></pre>\n</li>\n<li><p>List item Another example with  JSON serialization with Jackson</p>\n<pre><code>// Using Jackson to print the map as JSON\ntry {\n    ObjectMapper objectMapper = new ObjectMapper();\n    String json = objectMapper.writeValueAsString(yourMap);\n    logger.info(&quot;JSON Map: &quot; + json);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695545535,"creation_date":1695545535,"answer_id":77166354,"question_id":44339281,"body_markdown":"If you wanted to log each key-value pair on a separate line or with more custom formatting, you would iterate over the map entries:\r\n\r\n    public void test(HashMap&lt;?, ?&gt; maps) {\r\n        for (Map.Entry&lt;?, ?&gt; entry : maps.entrySet()) {\r\n            logger.info(&quot;Key: {}, Value: {}&quot;, entry.getKey(), entry.getValue());\r\n        }\r\n    }\r\n\r\n","title":"Log all HashMap keys and values using slf4j Logger","body":"<p>If you wanted to log each key-value pair on a separate line or with more custom formatting, you would iterate over the map entries:</p>\n<pre><code>public void test(HashMap&lt;?, ?&gt; maps) {\n    for (Map.Entry&lt;?, ?&gt; entry : maps.entrySet()) {\n        logger.info(&quot;Key: {}, Value: {}&quot;, entry.getKey(), entry.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5275654,"reputation":95,"user_id":4212532,"accept_rate":33,"display_name":"My Intek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35867,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"answer_count":4,"score":5,"last_activity_date":1695545535,"creation_date":1496451847,"question_id":44339281,"body_markdown":"How can I log HashMap keys and values using slf4j logger. I&#39;ve trying this a couple of times but still figured out. \r\n\r\nThe following code just only logs the &quot;test values&quot; string without the values of maps arguments.\r\n\r\n      public void test(HashMap maps) {\r\n          logger.info(&quot;test values&quot;, maps);\r\n      }","title":"Log all HashMap keys and values using slf4j Logger","body":"<p>How can I log HashMap keys and values using slf4j logger. I've trying this a couple of times but still figured out. </p>\n\n<p>The following code just only logs the \"test values\" string without the values of maps arguments.</p>\n\n<pre><code>  public void test(HashMap maps) {\n      logger.info(\"test values\", maps);\n  }\n</code></pre>\n"},{"tags":["java","openfire"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695366255,"post_id":77155103,"comment_id":136017291,"body_markdown":"Unfortunately, the [download link](https://igniterealtime.org/downloadServlet?filename=openfire/openfire_4_7_5.dmg) for [Openfire 4.7.5](https://igniterealtime.org/downloads/#openfire) is broken.","body":"Unfortunately, the <a href=\"https://igniterealtime.org/downloadServlet?filename=openfire/openfire_4_7_5.dmg\" rel=\"nofollow noreferrer\">download link</a> for <a href=\"https://igniterealtime.org/downloads/#openfire\" rel=\"nofollow noreferrer\">Openfire 4.7.5</a> is broken."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695366351,"post_id":77155103,"comment_id":136017308,"body_markdown":"According to [this doc](http://download.igniterealtime.org/openfire/docs/latest/documentation/install-guide.html), you should be using Java 11 rather than Java 8.","body":"According to <a href=\"http://download.igniterealtime.org/openfire/docs/latest/documentation/install-guide.html\" rel=\"nofollow noreferrer\">this doc</a>, you should be using Java 11 rather than Java 8."},{"owner":{"account_id":23841324,"reputation":1,"user_id":17846330,"display_name":"go-zip-88"},"score":0,"creation_date":1695545744,"post_id":77155103,"comment_id":136036629,"body_markdown":"@BasilBourque I appreciate your advice","body":"@BasilBourque I appreciate your advice"}],"owner":{"account_id":23841324,"reputation":1,"user_id":17846330,"display_name":"go-zip-88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695545513,"creation_date":1695361434,"question_id":77155103,"body_markdown":"environment : macOS ventura 13.5.2(macbook pro m1 chip)\r\n\r\nlanguage : java 1.8, java 11\r\n\r\nPage referenced : https://download.igniterealtime.org/openfire/docs/latest/documentation/install-guide.html(installation guide)\r\n\r\ndownload program : https://github.com/igniterealtime/Openfire(Openfire server download source)\r\n\r\n\r\nI want complete Openfire server installation\r\nI tried Openfire Server installation on mac but not working, What did I do wrong?\r\n\r\n\r\nI tried code &#39;mvn clean package&#39;(not working)\r\n\r\nI tried code &#39;./mvnw verify&#39;(not working)\r\n\r\nI installed Ant instead mvn(not working)\r\n\r\nI installed mvn with homebrew(maven install complete)\r\n\r\n\r\njava 1.8v try\r\n[enter image description here](https://i.stack.imgur.com/DpFgl.png)\r\n[enter image description here](https://i.stack.imgur.com/rHZoC.png)\r\n&#39;./mvnw verify&#39; code result(java 1.8)\r\n\r\n[enter image description here](https://i.stack.imgur.com/d4G0c.png)\r\n\r\n\r\njava 11v try\r\n[enter image description here](https://i.stack.imgur.com/u4INg.png)\r\n&#39;./mvnw verify&#39; code result(java 11) : print same message again and again\r\n\r\n[enter image description here](https://i.stack.imgur.com/fT9D6.png)\r\n\r\nI didn&#39;t find out Openfire server installation questions and answers\r\nplease help me\r\n\r\nI want to complete Openfire server installation","title":"How install openfire server on mac m1?","body":"<p>environment : macOS ventura 13.5.2(macbook pro m1 chip)</p>\n<p>language : java 1.8, java 11</p>\n<p>Page referenced : https://download.igniterealtime.org/openfire/docs/latest/documentation/install-guide.html(installation guide)</p>\n<p>download program : https://github.com/igniterealtime/Openfire(Openfire server download source)</p>\n<p>I want complete Openfire server installation\nI tried Openfire Server installation on mac but not working, What did I do wrong?</p>\n<p>I tried code 'mvn clean package'(not working)</p>\n<p>I tried code './mvnw verify'(not working)</p>\n<p>I installed Ant instead mvn(not working)</p>\n<p>I installed mvn with homebrew(maven install complete)</p>\n<p>java 1.8v try\n<a href=\"https://i.stack.imgur.com/DpFgl.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/rHZoC.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n'./mvnw verify' code result(java 1.8)</p>\n<p><a href=\"https://i.stack.imgur.com/d4G0c.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>java 11v try\n<a href=\"https://i.stack.imgur.com/u4INg.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n'./mvnw verify' code result(java 11) : print same message again and again</p>\n<p><a href=\"https://i.stack.imgur.com/fT9D6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I didn't find out Openfire server installation questions and answers\nplease help me</p>\n<p>I want to complete Openfire server installation</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695230199,"post_id":77141918,"comment_id":135997894,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695545363,"creation_date":1695209039,"question_id":77141918,"body_markdown":"I am automating printing feature so I need to set my printing settings in printing preview dialog but I don&#39;t find the attributes to use for some settings..\r\n````\r\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, new java.util.HashMap&lt;String, Object&gt;() {{\r\nput(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\r\nput(&quot;printing.default_destination_selection_rules&quot;, &quot;{\\&quot;kind\\&quot;: \\&quot;local\\&quot;, \\&quot;namePattern\\&quot;: \\&quot;Save as PDF\\&quot;}&quot;);\r\n}],\\&quot;version\\&quot;:2,\\&quot;isGcpPromoDismissed\\&quot;:false,\\&quot;selectedDestinationId\\&quot;:\\&quot;Save as PDF\\&quot;}&quot;);\r\nput(&quot;printing.print_preview_sticky_settings.appState&quot;, &quot;{\\&quot;recentDestinations\\&quot;: [{\\&quot;id\\&quot;: \\&quot;Save as PDF\\&quot;, \\&quot;origin\\&quot;: \\&quot;local\\&quot;, \\&quot;account\\&quot;: \\&quot;\\&quot; }],\\&quot;version\\&quot;:2,\\&quot;isHeaderFooterEnabled\\&quot;: true,\\&quot;paperSize\\&quot;: &#39;A4&#39;,\\&quot;isGcpPromoDismissed\\&quot;:false,\\&quot;selectedDestinationId\\&quot;:\\&quot;Save as PDF\\&quot;}&quot;);\r\n}});\r\n````\r\n\r\n\r\nI also used media size parameter as following:\r\n\r\nput(&quot;printing.print_preview_sticky_settings.appState&quot;, &quot;{\\&quot;recentDestinations\\&quot;: [{\\&quot;id\\&quot;: \\&quot;Save as PDF\\&quot;, \\&quot;origin\\&quot;: \\&quot;local\\&quot;, \\&quot;account\\&quot;: \\&quot;\\&quot; }],\\&quot;version\\&quot;:2,\\&quot;isGcpPromoDismissed\\&quot;:false,\\&quot;selectedDestinationId\\&quot;:\\&quot;Save as PDF\\&quot;,\\&quot;mediaSize\\&quot;: {\\&quot;height_microns\\&quot;: 355600,\\&quot;width_microns\\&quot;: 215900,\\&quot;is_default\\&quot;:true}}&quot;);\r\n\r\nBut still not reflected.\r\n\r\nPlease help if there is a documentation for printing settings..\t\t\t   ","title":"How to Save as PDF with A4 paper size document using chrome options settings in Java Selenium","body":"<p>I am automating printing feature so I need to set my printing settings in printing preview dialog but I don't find the attributes to use for some settings..</p>\n<pre><code>chromeOptions.setExperimentalOption(&quot;prefs&quot;, new java.util.HashMap&lt;String, Object&gt;() {{\nput(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\nput(&quot;printing.default_destination_selection_rules&quot;, &quot;{\\&quot;kind\\&quot;: \\&quot;local\\&quot;, \\&quot;namePattern\\&quot;: \\&quot;Save as PDF\\&quot;}&quot;);\n}],\\&quot;version\\&quot;:2,\\&quot;isGcpPromoDismissed\\&quot;:false,\\&quot;selectedDestinationId\\&quot;:\\&quot;Save as PDF\\&quot;}&quot;);\nput(&quot;printing.print_preview_sticky_settings.appState&quot;, &quot;{\\&quot;recentDestinations\\&quot;: [{\\&quot;id\\&quot;: \\&quot;Save as PDF\\&quot;, \\&quot;origin\\&quot;: \\&quot;local\\&quot;, \\&quot;account\\&quot;: \\&quot;\\&quot; }],\\&quot;version\\&quot;:2,\\&quot;isHeaderFooterEnabled\\&quot;: true,\\&quot;paperSize\\&quot;: 'A4',\\&quot;isGcpPromoDismissed\\&quot;:false,\\&quot;selectedDestinationId\\&quot;:\\&quot;Save as PDF\\&quot;}&quot;);\n}});\n</code></pre>\n<p>I also used media size parameter as following:</p>\n<p>put(&quot;printing.print_preview_sticky_settings.appState&quot;, &quot;{&quot;recentDestinations&quot;: [{&quot;id&quot;: &quot;Save as PDF&quot;, &quot;origin&quot;: &quot;local&quot;, &quot;account&quot;: &quot;&quot; }],&quot;version&quot;:2,&quot;isGcpPromoDismissed&quot;:false,&quot;selectedDestinationId&quot;:&quot;Save as PDF&quot;,&quot;mediaSize&quot;: {&quot;height_microns&quot;: 355600,&quot;width_microns&quot;: 215900,&quot;is_default&quot;:true}}&quot;);</p>\n<p>But still not reflected.</p>\n<p>Please help if there is a documentation for printing settings..</p>\n"},{"tags":["java","windows","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1695415032,"post_id":77160444,"comment_id":136026467,"body_markdown":"Print the values of `windowBounds.getMinX()` and `windowBounds.getMinY()`, as well as `getMaximumWindowBounds()`, and make sure they&#39;re reasonable.","body":"Print the values of <code>windowBounds.getMinX()</code> and <code>windowBounds.getMinY()</code>, as well as <code>getMaximumWindowBounds()</code>, and make sure they&#39;re reasonable."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1695419287,"post_id":77160444,"comment_id":136026992,"body_markdown":"Why do you want to do it yourself? If the users of your program want to do it with your program they can do it without special support from your program - it is Windows that does it with the programs.","body":"Why do you want to do it yourself? If the users of your program want to do it with your program they can do it without special support from your program - it is Windows that does it with the programs."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695421260,"post_id":77160444,"comment_id":136027241,"body_markdown":"You&#39;re talking about an operation which is controlled by the OS, why do you feel the need to replicate it in your code?","body":"You&#39;re talking about an operation which is controlled by the OS, why do you feel the need to replicate it in your code?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695448255,"post_id":77160444,"comment_id":136028772,"body_markdown":"You probably want testFrame.[setExtendedWindowState](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int))(Frame.MAXIMIZED_VERT).","body":"You probably want testFrame.<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int)\" rel=\"nofollow noreferrer\">setExtendedWindowState</a>(Frame.MAXIMIZED_VERT)."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695520659,"post_id":77160444,"comment_id":136035111,"body_markdown":"@ThomasKl&#228;ger The functionality was requested for an application within my company. I personally think this is *solving a problem that doesn&#39;t exist* but the company wants a button to split the screen (since keyboard shortcuts are allegedly too difficult for &quot;non technically minded&quot; people to learn).","body":"@ThomasKl&#228;ger The functionality was requested for an application within my company. I personally think this is <i>solving a problem that doesn&#39;t exist</i> but the company wants a button to split the screen (since keyboard shortcuts are allegedly too difficult for &quot;non technically minded&quot; people to learn)."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695520671,"post_id":77160444,"comment_id":136035112,"body_markdown":"@MadProgrammer see above comment ^","body":"@MadProgrammer see above comment ^"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695523751,"post_id":77160444,"comment_id":136035257,"body_markdown":"@CardinalSystem *&quot;since keyboard shortcuts are allegedly too difficult for &quot;non technically minded&quot; people to learn&quot;* - there comes a point in time when if some is to &quot;dumb&quot; you stop catering for them.  The short cut keys are universal to Windows (like since Windows 7?!?), so I&#39;m sure they&#39;d be overjoyed to learn of them, as it would make their  everyday lives so much easier","body":"@CardinalSystem <i>&quot;since keyboard shortcuts are allegedly too difficult for &quot;non technically minded&quot; people to learn&quot;</i> - there comes a point in time when if some is to &quot;dumb&quot; you stop catering for them.  The short cut keys are universal to Windows (like since Windows 7?!?), so I&#39;m sure they&#39;d be overjoyed to learn of them, as it would make their  everyday lives so much easier"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695524305,"post_id":77160444,"comment_id":136035284,"body_markdown":"Maybe you should be catering for the &quot;non technically minded&quot; users by offering to run Windows training courses.  (Not for free ... of course.)   Just &#39;cos someone in your company asked for something doesn&#39;t make it a good idea!","body":"Maybe you should be catering for the &quot;non technically minded&quot; users by offering to run Windows training courses.  (Not for free ... of course.)   Just &#39;cos someone in your company asked for something doesn&#39;t make it a good idea!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695538785,"post_id":77160444,"comment_id":136036078,"body_markdown":"[Docking a java application jna on windows](https://stackoverflow.com/questions/26301979/docking-a-java-application-jna-on-windows)","body":"<a href=\"https://stackoverflow.com/questions/26301979/docking-a-java-application-jna-on-windows\">Docking a java application jna on windows</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695588478,"post_id":77160444,"comment_id":136040992,"body_markdown":"If you add in to your application then people will have problems adding another application to the other half of the screen. If you educate them they can use this feature with all applications. And snapping to either the left or right half of the screen is only part of the feature that Windows supports: https://support.microsoft.com/en-us/windows/snap-your-windows-885a9b1e-a983-a3b1-16cd-c531795e6241 - do you really want to add all those options to your application?","body":"If you add in to your application then people will have problems adding another application to the other half of the screen. If you educate them they can use this feature with all applications. And snapping to either the left or right half of the screen is only part of the feature that Windows supports: <a href=\"https://support.microsoft.com/en-us/windows/snap-your-windows-885a9b1e-a983-a3b1-16cd-c531795e6241\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/windows/&hellip;</a> - do you really want to add all those options to your application?"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695642316,"post_id":77160444,"comment_id":136047285,"body_markdown":"@StephenC this is an internal application where the end-users are our own employees. I think your recommendation may be a suitable alternative to automatically splitting the screen.","body":"@StephenC this is an internal application where the end-users are our own employees. I think your recommendation may be a suitable alternative to automatically splitting the screen."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695416662,"creation_date":1695416662,"answer_id":77160666,"question_id":77160444,"body_markdown":"You are in a highly volatile area. Depending on user preferences the values for margin width, taskbar height/width or other settings may vary. Unless you use the &#39;Window Manager&#39; function to position the window you will run a lottery of having the right values. Doing that from Java may require to involve JNI and the correct Win32 API call.\r\n\r\nHence I&#39;d try to avoid that situation. Why do you need it at all? And could it help if your application saved the window position and size upon exit, so it can remember them when starting up next time? Then the user can still choose where to have the window while he is not fixed on the left or right half of the screen.","title":"Can Java cause Windows split screen?","body":"<p>You are in a highly volatile area. Depending on user preferences the values for margin width, taskbar height/width or other settings may vary. Unless you use the 'Window Manager' function to position the window you will run a lottery of having the right values. Doing that from Java may require to involve JNI and the correct Win32 API call.</p>\n<p>Hence I'd try to avoid that situation. Why do you need it at all? And could it help if your application saved the window position and size upon exit, so it can remember them when starting up next time? Then the user can still choose where to have the window while he is not fixed on the left or right half of the screen.</p>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695642976,"post_id":77166344,"comment_id":136047403,"body_markdown":"This comes close enough to the desired behavior. Thank for answering rather than lecturing! Just trying to do my job here :P","body":"This comes close enough to the desired behavior. Thank for answering rather than lecturing! Just trying to do my job here :P"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695545350,"creation_date":1695545350,"answer_id":77166344,"question_id":77160444,"body_markdown":"Here&#39;s a workaround that achieved [what I believe to be] your desired result.  \r\n(Oracle JDK 21 on Windows 10)\r\n\r\n- Initially set the `JFrame` to be maximized, i.e. take up the whole screen.\r\n- Add a [WindowListener][1] to the `JFrame`.\r\n- When the `JFrame` is displayed on the [computer] screen, adjust its size.  \r\n(Method `windowOpened` is called only once &amp;ndash; when the window is initially displayed.)\r\n\r\n```java\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Window;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class TstFrame extends WindowAdapter {\r\n\r\n    @Override // java.awt.event.WindowAdapter\r\n    public void windowOpened(WindowEvent event) {\r\n        Window window = event.getWindow();\r\n        Dimension dim = window.getSize();\r\n        window.setSize(dim.width / 2, dim.height);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            JFrame testFrame = new JFrame();\r\n            testFrame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            testFrame.addWindowListener(new TstFrame());\r\n            testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            testFrame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\nScreen capture:\r\n\r\n[![screen capture][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\r\n  [2]: https://i.stack.imgur.com/gnYyD.jpg","title":"Can Java cause Windows split screen?","body":"<p>Here's a workaround that achieved [what I believe to be] your desired result.<br />\n(Oracle JDK 21 on Windows 10)</p>\n<ul>\n<li>Initially set the <code>JFrame</code> to be maximized, i.e. take up the whole screen.</li>\n<li>Add a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">WindowListener</a> to the <code>JFrame</code>.</li>\n<li>When the <code>JFrame</code> is displayed on the [computer] screen, adjust its size.<br />\n(Method <code>windowOpened</code> is called only once  when the window is initially displayed.)</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Window;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\n\npublic class TstFrame extends WindowAdapter {\n\n    @Override // java.awt.event.WindowAdapter\n    public void windowOpened(WindowEvent event) {\n        Window window = event.getWindow();\n        Dimension dim = window.getSize();\n        window.setSize(dim.width / 2, dim.height);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            JFrame testFrame = new JFrame();\n            testFrame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n            testFrame.addWindowListener(new TstFrame());\n            testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            testFrame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>Screen capture:</p>\n<p><a href=\"https://i.stack.imgur.com/gnYyD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gnYyD.jpg\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77166344,"answer_count":2,"score":0,"last_activity_date":1695545350,"creation_date":1695413858,"question_id":77160444,"body_markdown":"Context\r\n--\r\n----\r\n\r\nIn Microsoft Windows, I am able make an application&#39;s window occupy half the of display by using the shortcuts:\r\n\r\n - &lt;kbd&gt; Win&lt;/kbd&gt; + &lt;kbd&gt;&lt;/kbd&gt;\r\n - &lt;kbd&gt; Win&lt;/kbd&gt; + &lt;kbd&gt;&lt;/kbd&gt;\r\n\r\nThese shortcuts cause a &quot;split screen,&quot; as seen in this screenshot:\r\n\r\n[![split screen][1]][1]\r\n\r\nI would like to programmatically size and position a [`JFrame`][2] in the same manner. However, I do not know how to achieve the desired result.\r\n\r\nI thought that solution was:\r\n\r\n 1. Set the frame&#39;s width to the half the screen width.\r\n 2. Set the frame&#39;s height to the screen height (minus the taskbar height).\r\n 3. Set the frame&#39;s position to (0,0).\r\n\r\nHere is an MCVE:\r\n\r\n    JFrame testFrame = new JFrame();\r\n    \r\n    Rectangle windowBounds = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\r\n    testFrame.setSize(windowBounds.width / 2, windowBounds.height);\r\n    testFrame.setLocation((int) windowBounds.getMinX(), (int) windowBounds.getMinY());\r\n    \r\n    testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    testFrame.setVisible(true);\r\n\r\nThis nearly works, but the window has small margins on the bottom and the left:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nQuestion\r\n--\r\n---\r\nOn a Windows computer, is there a way to programmatically split the screen using Java, or perhaps JNI?\r\n\r\n  [1]: https://i.stack.imgur.com/4Rgj1.png\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JFrame.html\r\n  [3]: https://i.stack.imgur.com/6G81T.jpg","title":"Can Java cause Windows split screen?","body":"<h2>Context</h2>\n<hr />\n<p>In Microsoft Windows, I am able make an application's window occupy half the of display by using the shortcuts:</p>\n<ul>\n<li><kbd> Win</kbd> + <kbd></kbd></li>\n<li><kbd> Win</kbd> + <kbd></kbd></li>\n</ul>\n<p>These shortcuts cause a &quot;split screen,&quot; as seen in this screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/4Rgj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Rgj1.png\" alt=\"split screen\" /></a></p>\n<p>I would like to programmatically size and position a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\"><code>JFrame</code></a> in the same manner. However, I do not know how to achieve the desired result.</p>\n<p>I thought that solution was:</p>\n<ol>\n<li>Set the frame's width to the half the screen width.</li>\n<li>Set the frame's height to the screen height (minus the taskbar height).</li>\n<li>Set the frame's position to (0,0).</li>\n</ol>\n<p>Here is an MCVE:</p>\n<pre><code>JFrame testFrame = new JFrame();\n\nRectangle windowBounds = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\ntestFrame.setSize(windowBounds.width / 2, windowBounds.height);\ntestFrame.setLocation((int) windowBounds.getMinX(), (int) windowBounds.getMinY());\n\ntestFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\ntestFrame.setVisible(true);\n</code></pre>\n<p>This nearly works, but the window has small margins on the bottom and the left:</p>\n<p><a href=\"https://i.stack.imgur.com/6G81T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6G81T.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>Question</h2>\n<hr />\n<p>On a Windows computer, is there a way to programmatically split the screen using Java, or perhaps JNI?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"comments":[{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1695545464,"post_id":77166315,"comment_id":136036598,"body_markdown":"Getting error while insert Item using that method, ```java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=260958584, result=-1, data=Intent { cmp=ask2784.studentsdetails/.StudentActivity (has extras) }} to activity {ask2784.studentsdetails/ask2784.studentsdetails.MainActivity}: java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.```","body":"Getting error while insert Item using that method, <code>java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=260958584, result=-1, data=Intent { cmp=ask2784.studentsdetails&#47;.StudentActivity (has extras) }} to activity {ask2784.studentsdetails&#47;ask2784.studentsdetails.MainActivit&zwnj;&#8203;y}: java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.</code>"},{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1695545850,"post_id":77166315,"comment_id":136036641,"body_markdown":"when is use `allowMainThreadQueries` in database. I am not able to getStudentById(id) after insert.","body":"when is use <code>allowMainThreadQueries</code> in database. I am not able to getStudentById(id) after insert."},{"owner":{"account_id":16841916,"reputation":66,"user_id":12177115,"display_name":"BeNYaMiN"},"score":0,"creation_date":1695546518,"post_id":77166315,"comment_id":136036707,"body_markdown":"Don&#39;t do IO work on the MainThread, Read this article from Google to learn how to use Futures and Executors to communicate between ViewModel and Repository to get the data. https://developer.android.com/guide/background/asynchronous/java-threads","body":"Don&#39;t do IO work on the MainThread, Read this article from Google to learn how to use Futures and Executors to communicate between ViewModel and Repository to get the data. <a href=\"https://developer.android.com/guide/background/asynchronous/java-threads\" rel=\"nofollow noreferrer\">developer.android.com/guide/background/asynchronous/&hellip;</a>"}],"tags":[],"owner":{"account_id":16841916,"reputation":66,"user_id":12177115,"display_name":"BeNYaMiN"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695545181,"creation_date":1695544820,"answer_id":77166315,"question_id":77166187,"body_markdown":"When you use @Insert annotation, It will return a `long` value which is row Id.\r\n\r\nYou declared it:\r\n```\r\n@Insert\r\nlong insert(Student student);\r\n```\r\nSo:\r\n```\r\nLong rowId = someDao.insert(student);\r\n```\r\n\r\nAnd for getting a row with Id you can use `@Query`:\r\n```\r\n@Query(&quot;select * from student where id = :id&quot;)\r\nStudent getStudentById(int id);\r\n```\r\n\r\nAs for suggestions, Don&#39;t use Executors in the Repository. Use them in the ViewModel to handle the result correctly. And if you want to be more advanced, Learn RxJava. Or Use Kotlin.\r\n\r\nGood luck.\r\n","title":"How to return insert id from room db","body":"<p>When you use @Insert annotation, It will return a <code>long</code> value which is row Id.</p>\n<p>You declared it:</p>\n<pre><code>@Insert\nlong insert(Student student);\n</code></pre>\n<p>So:</p>\n<pre><code>Long rowId = someDao.insert(student);\n</code></pre>\n<p>And for getting a row with Id you can use <code>@Query</code>:</p>\n<pre><code>@Query(&quot;select * from student where id = :id&quot;)\nStudent getStudentById(int id);\n</code></pre>\n<p>As for suggestions, Don't use Executors in the Repository. Use them in the ViewModel to handle the result correctly. And if you want to be more advanced, Learn RxJava. Or Use Kotlin.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695545181,"creation_date":1695542286,"question_id":77166187,"body_markdown":"I am using room db with mvvm.\r\ni want to retrieve id when user add new item in room db.\r\ni am using Executors insted of aysncTask (deprecated).\r\nthis is want i am using now.\r\n\r\n`Student.java`\r\n\r\n```\r\npackage ask2784.studentsdetails;\r\n\r\nimport androidx.recyclerview.widget.DiffUtil;\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.Ignore;\r\nimport androidx.room.PrimaryKey;\r\n\r\n@Entity(tableName = &quot;students_table&quot;)\r\npublic class Student {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private long id;\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ColumnInfo(name = &quot;father_name&quot;)\r\n    private String fatherName;\r\n\r\n    @ColumnInfo(name = &quot;class_name&quot;)\r\n    private String className;\r\n\r\n    @ColumnInfo(name = &quot;attendens&quot;, defaultValue = &quot;0&quot;)\r\n    private int attendens;\r\n\r\n    @ColumnInfo(name = &quot;total_presents&quot;, defaultValue = &quot;0&quot;)\r\n    private int totalPresents;\r\n\r\n    @Ignore\r\n    public Student() {}\r\n\r\n    public Student(String name, String fatherName, String className) {\r\n        this.name = name;\r\n        this.fatherName = fatherName;\r\n        this.className = className;\r\n    }\r\n\r\n    public long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getFatherName() {\r\n        return this.fatherName;\r\n    }\r\n\r\n    public void setFatherName(String fatherName) {\r\n        this.fatherName = fatherName;\r\n    }\r\n\r\n    public String getClassName() {\r\n        return this.className;\r\n    }\r\n\r\n    public void setClassName(String className) {\r\n        this.className = className;\r\n    }\r\n\r\n    public int getAttendens() {\r\n        return this.attendens;\r\n    }\r\n\r\n    public void setAttendens(int attendens) {\r\n        this.attendens = attendens;\r\n    }\r\n\r\n    public int getTotalPresents() {\r\n        return this.totalPresents;\r\n    }\r\n\r\n    public void setTotalPresents(int totalPresents) {\r\n        this.totalPresents = totalPresents;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Student student = (Student) o;\r\n        return getName().equals(student.getName())\r\n                &amp;&amp; getFatherName().equals(student.getFatherName())\r\n                &amp;&amp; getClassName().equals(student.getClassName())\r\n                &amp;&amp; getAttendens() == student.getAttendens()\r\n                &amp;&amp; getTotalPresents() == student.getTotalPresents();\r\n    }\r\n\r\n    public static DiffUtil.ItemCallback&lt;Student&gt; DIFF_CALLBACK =\r\n            new DiffUtil.ItemCallback&lt;Student&gt;() {\r\n                @Override\r\n                public boolean areItemsTheSame(Student oldStudent, Student newStudent) {\r\n                    return oldStudent.getId() == newStudent.getId();\r\n                }\r\n\r\n                @Override\r\n                public boolean areContentsTheSame(Student oldStudent, Student newStudent) {\r\n                    return oldStudent.equals(newStudent);\r\n                }\r\n            };\r\n}\r\n```\r\n\r\n`StudentDao.java`\r\n```\r\npackage ask2784.studentsdetails;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Delete;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\nimport androidx.room.Update;\r\n\r\nimport java.util.List;\r\n\r\n@Dao\r\npublic interface StudentDao {\r\n\r\n    @Insert\r\n    void insert(Student student);\r\n\r\n    @Update\r\n    void update(Student student);\r\n\r\n    @Delete\r\n    void delete(Student student);\r\n\r\n    @Query(&quot;DELETE FROM students_table&quot;)\r\n    void deleteAll();\r\n\r\n    @Query(&quot;SELECT * FROM students_table ORDER BY name, father_name COLLATE NOCASE&quot;)\r\n    LiveData&lt;List&lt;Student&gt;&gt; getAll();\r\n}\r\n```\r\n\r\n`StudentsRepo.java`\r\n```\r\npackage ask2784.studentsdetails;\r\n\r\nimport android.app.Application;\r\nimport androidx.lifecycle.LiveData;\r\nimport java.util.List;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class StudentsRepo {\r\n    private StudentDao studentDao;\r\n    private LiveData&lt;List&lt;Student&gt;&gt; allStudents;\r\n    private Executor service = Executors.newSingleThreadExecutor();\r\n\r\n    public StudentsRepo(Application application) {\r\n        StudentsDatabase db = StudentsDatabase.getInstance(application.getApplicationContext());\r\n        studentDao = db.studentDao();\r\n        allStudents = studentDao.getAll();\r\n    }\r\n\r\n    public void insert(Student student) {\r\n        service.execute(\r\n                () -&gt; {\r\n                    studentDao.insert(student);\r\n                });\r\n    }\r\n\r\n    public void update(Student student) {\r\n        service.execute(\r\n                () -&gt; {\r\n                    studentDao.update(student);\r\n                });\r\n    }\r\n\r\n    public void delete(Student student) {\r\n        service.execute(\r\n                () -&gt; {\r\n                    studentDao.delete(student);\r\n                });\r\n    }\r\n\r\n    public void deleteAllStudents() {\r\n        service.execute(\r\n                () -&gt; {\r\n                    studentDao.deleteAll();\r\n                });\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Student&gt;&gt; getAllStudents() {\r\n        return allStudents;\r\n    }\r\n}\r\n```\r\n\r\n`StudentViewModel.java`\r\n```package ask2784.studentsdetails;\r\n\r\nimport android.app.Application;\r\n\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.LiveData;\r\n\r\nimport java.util.List;\r\n\r\npublic class StudentViewModel extends AndroidViewModel {\r\n    private StudentsRepo repo;\r\n    private LiveData&lt;List&lt;Student&gt;&gt; allStudents;\r\n\r\n    public StudentViewModel(Application application) {\r\n        super(application);\r\n        repo = new StudentsRepo(application);\r\n        allStudents = repo.getAllStudents();\r\n    }\r\n\r\n    public void insert(Student student) {\r\n        repo.insert(student);\r\n    }\r\n\r\n    public void update(Student student) {\r\n        repo.update(student);\r\n    }\r\n\r\n    public void delete(Student student) {\r\n        repo.delete(student);\r\n    }\r\n\r\n    public void deleteAllStudents() {\r\n        repo.deleteAllStudents();\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Student&gt;&gt; getAllStudents() {\r\n        return allStudents;\r\n    }\r\n}\r\n```\r\n\r\nI want to retrieve insertedId when new Student added to room database.\r\nbut i dont want to use `LiveData&lt;Object&gt;`\r\n\r\n\r\n```\r\n @Insert\r\n long insert(Student student);\r\n```\r\n\r\nand use in \r\n`StudentsRepo.java`\r\nlike\r\n```\r\npublic long insert(Student student){\r\n   return studentDao.insert(student); // return inserted id\r\n}\r\n```\r\nalso want getStudentById method;\r\nbut i dont know how to return value from `Executors.execute(()-&gt;{});`","title":"How to return insert id from room db","body":"<p>I am using room db with mvvm.\ni want to retrieve id when user add new item in room db.\ni am using Executors insted of aysncTask (deprecated).\nthis is want i am using now.</p>\n<p><code>Student.java</code></p>\n<pre><code>package ask2784.studentsdetails;\n\nimport androidx.recyclerview.widget.DiffUtil;\nimport androidx.room.ColumnInfo;\nimport androidx.room.Entity;\nimport androidx.room.Ignore;\nimport androidx.room.PrimaryKey;\n\n@Entity(tableName = &quot;students_table&quot;)\npublic class Student {\n\n    @PrimaryKey(autoGenerate = true)\n    private long id;\n\n    @ColumnInfo(name = &quot;name&quot;)\n    private String name;\n\n    @ColumnInfo(name = &quot;father_name&quot;)\n    private String fatherName;\n\n    @ColumnInfo(name = &quot;class_name&quot;)\n    private String className;\n\n    @ColumnInfo(name = &quot;attendens&quot;, defaultValue = &quot;0&quot;)\n    private int attendens;\n\n    @ColumnInfo(name = &quot;total_presents&quot;, defaultValue = &quot;0&quot;)\n    private int totalPresents;\n\n    @Ignore\n    public Student() {}\n\n    public Student(String name, String fatherName, String className) {\n        this.name = name;\n        this.fatherName = fatherName;\n        this.className = className;\n    }\n\n    public long getId() {\n        return this.id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getFatherName() {\n        return this.fatherName;\n    }\n\n    public void setFatherName(String fatherName) {\n        this.fatherName = fatherName;\n    }\n\n    public String getClassName() {\n        return this.className;\n    }\n\n    public void setClassName(String className) {\n        this.className = className;\n    }\n\n    public int getAttendens() {\n        return this.attendens;\n    }\n\n    public void setAttendens(int attendens) {\n        this.attendens = attendens;\n    }\n\n    public int getTotalPresents() {\n        return this.totalPresents;\n    }\n\n    public void setTotalPresents(int totalPresents) {\n        this.totalPresents = totalPresents;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Student student = (Student) o;\n        return getName().equals(student.getName())\n                &amp;&amp; getFatherName().equals(student.getFatherName())\n                &amp;&amp; getClassName().equals(student.getClassName())\n                &amp;&amp; getAttendens() == student.getAttendens()\n                &amp;&amp; getTotalPresents() == student.getTotalPresents();\n    }\n\n    public static DiffUtil.ItemCallback&lt;Student&gt; DIFF_CALLBACK =\n            new DiffUtil.ItemCallback&lt;Student&gt;() {\n                @Override\n                public boolean areItemsTheSame(Student oldStudent, Student newStudent) {\n                    return oldStudent.getId() == newStudent.getId();\n                }\n\n                @Override\n                public boolean areContentsTheSame(Student oldStudent, Student newStudent) {\n                    return oldStudent.equals(newStudent);\n                }\n            };\n}\n</code></pre>\n<p><code>StudentDao.java</code></p>\n<pre><code>package ask2784.studentsdetails;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.Update;\n\nimport java.util.List;\n\n@Dao\npublic interface StudentDao {\n\n    @Insert\n    void insert(Student student);\n\n    @Update\n    void update(Student student);\n\n    @Delete\n    void delete(Student student);\n\n    @Query(&quot;DELETE FROM students_table&quot;)\n    void deleteAll();\n\n    @Query(&quot;SELECT * FROM students_table ORDER BY name, father_name COLLATE NOCASE&quot;)\n    LiveData&lt;List&lt;Student&gt;&gt; getAll();\n}\n</code></pre>\n<p><code>StudentsRepo.java</code></p>\n<pre><code>package ask2784.studentsdetails;\n\nimport android.app.Application;\nimport androidx.lifecycle.LiveData;\nimport java.util.List;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\npublic class StudentsRepo {\n    private StudentDao studentDao;\n    private LiveData&lt;List&lt;Student&gt;&gt; allStudents;\n    private Executor service = Executors.newSingleThreadExecutor();\n\n    public StudentsRepo(Application application) {\n        StudentsDatabase db = StudentsDatabase.getInstance(application.getApplicationContext());\n        studentDao = db.studentDao();\n        allStudents = studentDao.getAll();\n    }\n\n    public void insert(Student student) {\n        service.execute(\n                () -&gt; {\n                    studentDao.insert(student);\n                });\n    }\n\n    public void update(Student student) {\n        service.execute(\n                () -&gt; {\n                    studentDao.update(student);\n                });\n    }\n\n    public void delete(Student student) {\n        service.execute(\n                () -&gt; {\n                    studentDao.delete(student);\n                });\n    }\n\n    public void deleteAllStudents() {\n        service.execute(\n                () -&gt; {\n                    studentDao.deleteAll();\n                });\n    }\n\n    public LiveData&lt;List&lt;Student&gt;&gt; getAllStudents() {\n        return allStudents;\n    }\n}\n</code></pre>\n<p><code>StudentViewModel.java</code></p>\n<pre><code>\nimport android.app.Application;\n\nimport androidx.lifecycle.AndroidViewModel;\nimport androidx.lifecycle.LiveData;\n\nimport java.util.List;\n\npublic class StudentViewModel extends AndroidViewModel {\n    private StudentsRepo repo;\n    private LiveData&lt;List&lt;Student&gt;&gt; allStudents;\n\n    public StudentViewModel(Application application) {\n        super(application);\n        repo = new StudentsRepo(application);\n        allStudents = repo.getAllStudents();\n    }\n\n    public void insert(Student student) {\n        repo.insert(student);\n    }\n\n    public void update(Student student) {\n        repo.update(student);\n    }\n\n    public void delete(Student student) {\n        repo.delete(student);\n    }\n\n    public void deleteAllStudents() {\n        repo.deleteAllStudents();\n    }\n\n    public LiveData&lt;List&lt;Student&gt;&gt; getAllStudents() {\n        return allStudents;\n    }\n}\n</code></pre>\n<p>I want to retrieve insertedId when new Student added to room database.\nbut i dont want to use <code>LiveData&lt;Object&gt;</code></p>\n<pre><code> @Insert\n long insert(Student student);\n</code></pre>\n<p>and use in\n<code>StudentsRepo.java</code>\nlike</p>\n<pre><code>public long insert(Student student){\n   return studentDao.insert(student); // return inserted id\n}\n</code></pre>\n<p>also want getStudentById method;\nbut i dont know how to return value from <code>Executors.execute(()-&gt;{});</code></p>\n"},{"tags":["java","search","nested","hashmap","treemap"],"answers":[{"comments":[{"owner":{"account_id":29510405,"reputation":5,"user_id":22615586,"display_name":"snow"},"score":0,"creation_date":1695543174,"post_id":77166171,"comment_id":136036386,"body_markdown":"Thanks! That&#39;s all what I want, wish u a good day:)","body":"Thanks! That&#39;s all what I want, wish u a good day:)"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695541904,"creation_date":1695541904,"answer_id":77166171,"question_id":77166041,"body_markdown":"&gt; _&quot;... Could I use some build-in methods or something else without iterating the HashMap to get what I want? ...&quot;_\r\n\r\nUnfortunately not.&amp;nbsp; Although, an iteration is only a few lines.\r\n\r\n```java\r\nString key(int i, HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt; map) {\r\n    for (Map.Entry&lt;String, TreeMap&lt;Integer, Item&gt;&gt; e : map.entrySet())\r\n        if (e.getValue().containsKey(i)) return e.getKey();\r\n    return null;\r\n}\r\n```\r\n\r\nAlternately, use a _stream_.\r\n\r\n```java\r\nString key(int i, HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt; map) {\r\n    return map.entrySet()\r\n              .stream()\r\n              .filter(x -&gt; x.getValue().containsKey(i))\r\n              .findFirst()\r\n              .get().getKey();\r\n}\r\n```","title":"How should I search items in a nested HashMap with inner key?","body":"<blockquote>\n<p><em>&quot;... Could I use some build-in methods or something else without iterating the HashMap to get what I want? ...&quot;</em></p>\n</blockquote>\n<p>Unfortunately not. Although, an iteration is only a few lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String key(int i, HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt; map) {\n    for (Map.Entry&lt;String, TreeMap&lt;Integer, Item&gt;&gt; e : map.entrySet())\n        if (e.getValue().containsKey(i)) return e.getKey();\n    return null;\n}\n</code></pre>\n<p>Alternately, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String key(int i, HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt; map) {\n    return map.entrySet()\n              .stream()\n              .filter(x -&gt; x.getValue().containsKey(i))\n              .findFirst()\n              .get().getKey();\n}\n</code></pre>\n"}],"owner":{"account_id":29510405,"reputation":5,"user_id":22615586,"display_name":"snow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77166171,"answer_count":1,"score":0,"last_activity_date":1695541904,"creation_date":1695539390,"question_id":77166041,"body_markdown":"I have a nested HashMap `HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt;`, and now I know the inner key `Id(Integer)` in TreeMap but don&#39;t have the key `String` in HashMap. Could I use some build-in methods or something else without iterating the HashMap to get what I want?\r\n\r\nPreviously, if I know the key `String`, I can use `HashMap.get(String key)`to get the item, and then use `TreeMap.get(Integer inner_key)`, but I don&#39;t know what to do now if I don&#39;t have the outside key. Is it iterating the HashMap the only way?","title":"How should I search items in a nested HashMap with inner key?","body":"<p>I have a nested HashMap <code>HashMap&lt;String, TreeMap&lt;Integer, Item&gt;&gt;</code>, and now I know the inner key <code>Id(Integer)</code> in TreeMap but don't have the key <code>String</code> in HashMap. Could I use some build-in methods or something else without iterating the HashMap to get what I want?</p>\n<p>Previously, if I know the key <code>String</code>, I can use <code>HashMap.get(String key)</code>to get the item, and then use <code>TreeMap.get(Integer inner_key)</code>, but I don't know what to do now if I don't have the outside key. Is it iterating the HashMap the only way?</p>\n"},{"tags":["java","spring-boot","rest","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1667302,"reputation":4607,"user_id":1534456,"accept_rate":62,"display_name":"radekEm"},"score":0,"creation_date":1695546063,"post_id":77166120,"comment_id":136036664,"body_markdown":"Hi, you definitely should give us more context. How your EmpRepository looks like? How do you run the application? Is spring context up or you are just running the main() above (which will not load spring beans for you, in particular the repository which could be, in turn, the reason of you NPE).","body":"Hi, you definitely should give us more context. How your EmpRepository looks like? How do you run the application? Is spring context up or you are just running the main() above (which will not load spring beans for you, in particular the repository which could be, in turn, the reason of you NPE)."}],"owner":{"account_id":27597790,"reputation":11,"user_id":21063641,"display_name":"Vinod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695541143,"creation_date":1695541064,"question_id":77166120,"body_markdown":"public class TestEmployee {\r\n    public static void main(String[] args) {\r\n\r\n        AbstractEmployee employee = new AbstractEmployeeImpl();\r\n        employee.callToUtil(&quot;Test1&quot;);\r\n\r\n    }\r\n}","title":"Cannot invoke &quot;com.example.ChangeStreamExample.dao.EmpRepository.findbyempName(String)&quot; because &quot;this.empRepository&quot; is null","body":"<p>public class TestEmployee {\npublic static void main(String[] args) {</p>\n<pre><code>    AbstractEmployee employee = new AbstractEmployeeImpl();\n    employee.callToUtil(&quot;Test1&quot;);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","gradle","arguments"],"comments":[{"owner":{"account_id":1961501,"reputation":459,"user_id":4100071,"display_name":"Francisco J. Lopez-Pellicer"},"score":0,"creation_date":1419346690,"post_id":27604283,"comment_id":43666111,"body_markdown":"Did the answers fit your needs? If so, you should mark one as solution.","body":"Did the answers fit your needs? If so, you should mark one as solution."},{"owner":{"account_id":2694978,"reputation":2767,"user_id":2327301,"accept_rate":82,"display_name":"RecuencoJones"},"score":1,"creation_date":1419471205,"post_id":27604283,"comment_id":43705831,"body_markdown":"Not really... a friend and I discovered a way to do it but we don&#39;t have it clear yet so as to publish a solution, both proposed solutions were tried, we understood what it&#39;d to be done, but didn&#39;t really seem to work...","body":"Not really... a friend and I discovered a way to do it but we don&#39;t have it clear yet so as to publish a solution, both proposed solutions were tried, we understood what it&#39;d to be done, but didn&#39;t really seem to work..."},{"owner":{"account_id":475533,"reputation":6984,"user_id":885922,"accept_rate":86,"display_name":"xlm"},"score":0,"creation_date":1427861040,"post_id":27604283,"comment_id":46944383,"body_markdown":"@6uitar6reat6od How did you resolve it in the end? Also what version of gradle?","body":"@6uitar6reat6od How did you resolve it in the end? Also what version of gradle?"}],"answers":[{"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1419257991,"creation_date":1419257991,"answer_id":27604495,"question_id":27604283,"body_markdown":"You need to pass them as `args` to the task using project properties, something like:\r\n\r\n    args = [project.property(&#39;h&#39;)]\r\n\r\nadded to your task definition (see the [dsl docs](http://gradle.org/docs/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:args))\r\n\r\nThen you can run it as:\r\n\r\n    gradle -Ph run\r\n\r\n","title":"Gradle task - pass arguments to Java application","body":"<p>You need to pass them as <code>args</code> to the task using project properties, something like:</p>\n\n<pre><code>args = [project.property('h')]\n</code></pre>\n\n<p>added to your task definition (see the <a href=\"http://gradle.org/docs/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:args\" rel=\"nofollow\">dsl docs</a>)</p>\n\n<p>Then you can run it as:</p>\n\n<pre><code>gradle -Ph run\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":0,"creation_date":1481172111,"post_id":27604536,"comment_id":69271142,"body_markdown":"Saw this too.  Still looking.  All of these methods seem to want to edit/massage the current properties and pass them along.  Command line and Java properties for running an application or service are akin to &quot;Context&quot; or &quot;Configuration&quot; setting.  It would be better to have a plug-in that does things like &quot;run parameters&quot; as a side-by-side profiles or something.","body":"Saw this too.  Still looking.  All of these methods seem to want to edit/massage the current properties and pass them along.  Command line and Java properties for running an application or service are akin to &quot;Context&quot; or &quot;Configuration&quot; setting.  It would be better to have a plug-in that does things like &quot;run parameters&quot; as a side-by-side profiles or something."}],"tags":[],"owner":{"account_id":1961501,"reputation":459,"user_id":4100071,"display_name":"Francisco J. Lopez-Pellicer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448807621,"creation_date":1419258099,"answer_id":27604536,"question_id":27604283,"body_markdown":"You can find the solution in [Problems passing system properties and parameters when running Java class via Gradle](https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr) . Both involve the use of the `args` property\r\n\r\nAlso you should read the difference between passing with `-D` or with `-P` that is explained [in the Gradle documentation](https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_properties_and_system_properties)","title":"Gradle task - pass arguments to Java application","body":"<p>You can find the solution in <a href=\"https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr\">Problems passing system properties and parameters when running Java class via Gradle</a> . Both involve the use of the <code>args</code> property</p>\n\n<p>Also you should read the difference between passing with <code>-D</code> or with <code>-P</code> that is explained <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_properties_and_system_properties\" rel=\"nofollow noreferrer\">in the Gradle documentation</a></p>\n"},{"tags":[],"owner":{"account_id":475533,"reputation":6984,"user_id":885922,"accept_rate":86,"display_name":"xlm"},"comment_count":0,"down_vote_count":0,"up_vote_count":128,"is_accepted":false,"score":128,"last_activity_date":1593131169,"creation_date":1427860981,"answer_id":29382636,"question_id":27604283,"body_markdown":"**Gradle 4.9+**\r\n\r\n    gradle run --args=&#39;arg1 arg2&#39;\r\n\r\nThis assumes your `build.gradle` is configured with the [Application plugin][1]. Your `build.gradle` should look similar to this:\r\n\r\n    plugins {\r\n      // Implicitly applies Java plugin\r\n      id: &#39;application&#39;\r\n    }\r\n    \r\n    application {\r\n      // URI of your main class/application&#39;s entry point (required)\r\n      mainClassName = &#39;org.gradle.sample.Main&#39;\r\n    }\r\n\r\n**Pre-Gradle 4.9**\r\n\r\nInclude the following in your `build.gradle`:\r\n\r\n    run {\r\n        if (project.hasProperty(&quot;appArgs&quot;)) {\r\n            args Eval.me(appArgs)\r\n        }\r\n    }\r\n\r\nThen to run: `gradle run -PappArgs=&quot;[&#39;arg1&#39;, &#39;args2&#39;]&quot;`\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html","title":"Gradle task - pass arguments to Java application","body":"<p><strong>Gradle 4.9+</strong></p>\n<pre><code>gradle run --args='arg1 arg2'\n</code></pre>\n<p>This assumes your <code>build.gradle</code> is configured with the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"noreferrer\">Application plugin</a>. Your <code>build.gradle</code> should look similar to this:</p>\n<pre><code>plugins {\n  // Implicitly applies Java plugin\n  id: 'application'\n}\n\napplication {\n  // URI of your main class/application's entry point (required)\n  mainClassName = 'org.gradle.sample.Main'\n}\n</code></pre>\n<p><strong>Pre-Gradle 4.9</strong></p>\n<p>Include the following in your <code>build.gradle</code>:</p>\n<pre><code>run {\n    if (project.hasProperty(&quot;appArgs&quot;)) {\n        args Eval.me(appArgs)\n    }\n}\n</code></pre>\n<p>Then to run: <code>gradle run -PappArgs=&quot;['arg1', 'args2']&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":2694978,"reputation":2767,"user_id":2327301,"accept_rate":82,"display_name":"RecuencoJones"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1427902912,"creation_date":1427902912,"answer_id":29395132,"question_id":27604283,"body_markdown":"Sorry for answering so late.\r\n\r\nI figured an answer alike to @xlm &#39;s:\r\n\r\n    task run (type: JavaExec, dependsOn: classes){\r\n        if(project.hasProperty(&#39;myargs&#39;)){\r\n            args(myargs.split(&#39;,&#39;))\r\n        }\r\n        description = &quot;Secure algorythm testing&quot;\r\n        main = &quot;main.Test&quot;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\nAnd invoke like:\r\n\r\n    gradle run -Pmyargs=-d,s","title":"Gradle task - pass arguments to Java application","body":"<p>Sorry for answering so late.</p>\n\n<p>I figured an answer alike to @xlm 's:</p>\n\n<pre><code>task run (type: JavaExec, dependsOn: classes){\n    if(project.hasProperty('myargs')){\n        args(myargs.split(','))\n    }\n    description = \"Secure algorythm testing\"\n    main = \"main.Test\"\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n\n<p>And invoke like:</p>\n\n<pre><code>gradle run -Pmyargs=-d,s\n</code></pre>\n"},{"comments":[{"owner":{"account_id":447209,"reputation":18596,"user_id":840710,"accept_rate":67,"display_name":"Sandeep"},"score":3,"creation_date":1533798451,"post_id":43566916,"comment_id":90480548,"body_markdown":"Ok, for absolute beginners like me :\nin order to be able to define run task your build.gradle should contain following two lines:\napply plugin:&#39;application&#39; mainClassName=&quot;&lt;full classname including the package path&gt;&quot;\nOtherwise, you cannot define the run method in the buuild.gradle","body":"Ok, for absolute beginners like me : in order to be able to define run task your build.gradle should contain following two lines: apply plugin:&#39;application&#39; mainClassName=&quot;&lt;full classname including the package path&gt;&quot; Otherwise, you cannot define the run method in the buuild.gradle"},{"owner":{"account_id":115990,"reputation":5884,"user_id":304330,"accept_rate":56,"display_name":"Big Rich"},"score":1,"creation_date":1572453755,"post_id":43566916,"comment_id":103567390,"body_markdown":"I&#39;m using the `id &#39;application&#39;` plugin and this was the answer I needed (it works).","body":"I&#39;m using the <code>id &#39;application&#39;</code> plugin and this was the answer I needed (it works)."},{"owner":{"account_id":3322612,"reputation":2282,"user_id":2793394,"accept_rate":80,"display_name":"Henning"},"score":1,"creation_date":1638115920,"post_id":43566916,"comment_id":123996272,"body_markdown":"I am getting &quot;unresolved reference: args&quot;. Gradle 7.3.","body":"I am getting &quot;unresolved reference: args&quot;. Gradle 7.3."}],"tags":[],"owner":{"account_id":7785545,"reputation":740,"user_id":5890553,"display_name":"Claudio Fahey"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1492916068,"creation_date":1492916068,"answer_id":43566916,"question_id":27604283,"body_markdown":"If you want to use the same set of arguments all the time, the following is all you need.\r\n\r\n    run {\r\n        args = [&quot;--myarg1&quot;, &quot;--myarg2&quot;]\r\n    }","title":"Gradle task - pass arguments to Java application","body":"<p>If you want to use the same set of arguments all the time, the following is all you need.</p>\n\n<pre><code>run {\n    args = [\"--myarg1\", \"--myarg2\"]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":2,"creation_date":1516646579,"post_id":45812136,"comment_id":83764142,"body_markdown":"This works great ... if none of my arguments start with a dash. This makes it useless for common [command line parsers](https://commons.apache.org/proper/commons-cli/usage.html) :(. As soon as that happens, gradle seems to treat that arg as an argument to gradle (I don&#39;t think the `argsI.remove()` is having the desired effect). Suggestions?","body":"This works great ... if none of my arguments start with a dash. This makes it useless for common <a href=\"https://commons.apache.org/proper/commons-cli/usage.html\" rel=\"nofollow noreferrer\">command line parsers</a> :(. As soon as that happens, gradle seems to treat that arg as an argument to gradle (I don&#39;t think the <code>argsI.remove()</code> is having the desired effect). Suggestions?"}],"tags":[],"owner":{"account_id":1203316,"reputation":1059,"user_id":1173533,"accept_rate":25,"display_name":"Boaz Nahum"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503389029,"creation_date":1503389029,"answer_id":45812136,"question_id":27604283,"body_markdown":"Of course the answers above all  do the job, but still i would like to use something like\r\n\r\n    gradle run path1 path2\r\nwell this can&#39;t be done, but what if we can: \r\n\r\n    gralde run --- path1 path2\r\n\r\nIf you think it is more elegant, then you can do it, the trick is to process the command line and modify it before gradle does, this can be done by using [init scripts][1]\r\n\r\nThe init script below:\r\n\r\n 1. Process the command line and remove --- and all other arguments following &#39;---&#39;\r\n 2. Add property &#39;appArgs&#39; to gradle.ext\r\n\r\nSo in your run task (or JavaExec, Exec) you can:\r\n\r\n    if (project.gradle.hasProperty(&quot;appArgs&quot;)) {\r\n                    List&lt;String&gt; appArgs = project.gradle.appArgs;\r\n\r\n                    args appArgs\r\n\r\n     }\r\n\r\nThe init script is:\r\n\r\n    import org.gradle.api.invocation.Gradle\r\n\r\n    Gradle aGradle = gradle\r\n\r\n    StartParameter startParameter = aGradle.startParameter\r\n\r\n    List tasks = startParameter.getTaskRequests();\r\n\r\n    List&lt;String&gt; appArgs = new ArrayList&lt;&gt;()\r\n\r\n    tasks.forEach {\r\n       List&lt;String&gt; args = it.getArgs();\r\n\r\n\r\n       Iterator&lt;String&gt; argsI = args.iterator();\r\n\r\n       while (argsI.hasNext()) {\r\n\r\n          String arg = argsI.next();\r\n\r\n          // remove &#39;---&#39; and all that follow\r\n          if (arg == &quot;---&quot;) {\r\n             argsI.remove();\r\n\r\n             while (argsI.hasNext()) {\r\n\r\n                arg = argsI.next();\r\n\r\n                // and add it to appArgs\r\n                appArgs.add(arg);\r\n\r\n                argsI.remove();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    }\r\n    \r\n    \r\n       aGradle.ext.appArgs = appArgs\r\n\r\nLimitations:\r\n   \r\n   1. I was forced to use &#39;---&#39; and not &#39;--&#39;    \r\n   2. You have to add some global init script \r\n\r\nIf you don&#39;t like global init script, you can specify it in command line\r\n\r\n    gradle -I init.gradle run --- f:/temp/x.xml\r\n\r\nOr better add an alias to your shell:\r\n\r\n    gradleapp run --- f:/temp/x.xml\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/init_scripts.html#sec:basic_usage","title":"Gradle task - pass arguments to Java application","body":"<p>Of course the answers above all  do the job, but still i would like to use something like</p>\n\n<pre><code>gradle run path1 path2\n</code></pre>\n\n<p>well this can't be done, but what if we can: </p>\n\n<pre><code>gralde run --- path1 path2\n</code></pre>\n\n<p>If you think it is more elegant, then you can do it, the trick is to process the command line and modify it before gradle does, this can be done by using <a href=\"https://docs.gradle.org/current/userguide/init_scripts.html#sec:basic_usage\" rel=\"noreferrer\">init scripts</a></p>\n\n<p>The init script below:</p>\n\n<ol>\n<li>Process the command line and remove --- and all other arguments following '---'</li>\n<li>Add property 'appArgs' to gradle.ext</li>\n</ol>\n\n<p>So in your run task (or JavaExec, Exec) you can:</p>\n\n<pre><code>if (project.gradle.hasProperty(\"appArgs\")) {\n                List&lt;String&gt; appArgs = project.gradle.appArgs;\n\n                args appArgs\n\n }\n</code></pre>\n\n<p>The init script is:</p>\n\n<pre><code>import org.gradle.api.invocation.Gradle\n\nGradle aGradle = gradle\n\nStartParameter startParameter = aGradle.startParameter\n\nList tasks = startParameter.getTaskRequests();\n\nList&lt;String&gt; appArgs = new ArrayList&lt;&gt;()\n\ntasks.forEach {\n   List&lt;String&gt; args = it.getArgs();\n\n\n   Iterator&lt;String&gt; argsI = args.iterator();\n\n   while (argsI.hasNext()) {\n\n      String arg = argsI.next();\n\n      // remove '---' and all that follow\n      if (arg == \"---\") {\n         argsI.remove();\n\n         while (argsI.hasNext()) {\n\n            arg = argsI.next();\n\n            // and add it to appArgs\n            appArgs.add(arg);\n\n            argsI.remove();\n\n        }\n    }\n}\n\n}\n\n\n   aGradle.ext.appArgs = appArgs\n</code></pre>\n\n<p>Limitations:</p>\n\n<ol>\n<li>I was forced to use '---' and not '--'    </li>\n<li>You have to add some global init script </li>\n</ol>\n\n<p>If you don't like global init script, you can specify it in command line</p>\n\n<pre><code>gradle -I init.gradle run --- f:/temp/x.xml\n</code></pre>\n\n<p>Or better add an alias to your shell:</p>\n\n<pre><code>gradleapp run --- f:/temp/x.xml\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2694978,"reputation":2767,"user_id":2327301,"accept_rate":82,"display_name":"RecuencoJones"},"score":1,"creation_date":1532075534,"post_id":51407975,"comment_id":89846568,"body_markdown":"Is the &#39; expected or a typo? Should all arguments be passed as a string delimited by single quotes?","body":"Is the &#39; expected or a typo? Should all arguments be passed as a string delimited by single quotes?"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":0,"creation_date":1533216186,"post_id":51407975,"comment_id":90272927,"body_markdown":"@RecuencoJones Fixed per https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_usage","body":"@RecuencoJones Fixed per <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_usage\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":83274,"reputation":8254,"user_id":233596,"accept_rate":74,"display_name":"Jim Flood"},"score":1,"creation_date":1533487093,"post_id":51407975,"comment_id":90353847,"body_markdown":"gradle run --args=&#39;foo --bar&#39;","body":"gradle run --args=&#39;foo --bar&#39;"},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":4,"creation_date":1536305841,"post_id":51407975,"comment_id":91383680,"body_markdown":"`&#39;foo --bar&#39;` is confusing, why not just use `&#39;foo bar&#39;`.","body":"<code>&#39;foo --bar&#39;</code> is confusing, why not just use <code>&#39;foo bar&#39;</code>."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":4,"creation_date":1543401541,"post_id":51407975,"comment_id":93903679,"body_markdown":"@EricWang These are arbitrary command line arguments a program may need. It&#39;s nice to show that gradle supports any kind of arguments, since the raw string is passed to the built application.","body":"@EricWang These are arbitrary command line arguments a program may need. It&#39;s nice to show that gradle supports any kind of arguments, since the raw string is passed to the built application."},{"owner":{"display_name":"user3456014"},"score":0,"creation_date":1564754549,"post_id":51407975,"comment_id":101146064,"body_markdown":"If you have `args` defined in your `run` block, per Claudio&#39;s answer below, then they will *all* be overridden by your `--args` flag. In other words, gradle doesn&#39;t try to merge the two.","body":"If you have <code>args</code> defined in your <code>run</code> block, per Claudio&#39;s answer below, then they will <i>all</i> be overridden by your <code>--args</code> flag. In other words, gradle doesn&#39;t try to merge the two."},{"owner":{"account_id":17264997,"reputation":77,"user_id":12501961,"display_name":"keita063"},"score":0,"creation_date":1617019425,"post_id":51407975,"comment_id":118175107,"body_markdown":"If you face issues with gradle run --args=&#39;foo --bar&#39;, use &quot; &quot; quotation marks instead of &#39; &#39;. For instance : gradle run --args=&quot;arg1 arg2&quot;.","body":"If you face issues with gradle run --args=&#39;foo --bar&#39;, use &quot; &quot; quotation marks instead of &#39; &#39;. For instance : gradle run --args=&quot;arg1 arg2&quot;."}],"tags":[],"owner":{"account_id":28603,"reputation":5587,"user_id":76538,"display_name":"AMing"},"comment_count":7,"down_vote_count":2,"up_vote_count":111,"is_accepted":true,"score":109,"last_activity_date":1538501636,"creation_date":1531935377,"answer_id":51407975,"question_id":27604283,"body_markdown":"Since Gradle 4.9, the command line arguments can be passed with --args. For example, if you want to launch the application with command line arguments ```foo --bar```, you can use\r\n\r\n&gt; gradle run --args=&#39;foo --bar&#39;\r\n\r\n\r\n[See Also Gradle Application Plugin][1]\r\n\r\n[How to upgrade Gradle wrapper][2]\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html\r\n[2]: https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper","title":"Gradle task - pass arguments to Java application","body":"<p>Since Gradle 4.9, the command line arguments can be passed with --args. For example, if you want to launch the application with command line arguments <code>foo --bar</code>, you can use</p>\n\n<blockquote>\n  <p>gradle run --args='foo --bar'</p>\n</blockquote>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"noreferrer\">See Also Gradle Application Plugin</a></p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper\" rel=\"noreferrer\">How to upgrade Gradle wrapper</a></p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695540026,"creation_date":1695539448,"answer_id":77166044,"question_id":27604283,"body_markdown":"Using Kotlin DSL:\r\n\r\n```\r\nplugins {\r\n    java\r\n    application\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;io.fouad.AppLauncher&quot;\r\n    applicationDefaultJvmArgs = listOf(&quot;-Dsome.system.properties=123&quot;)\r\n}\r\n\r\ntasks.withType(JavaExec::class) {\r\n    args = listOf(&quot;abc&quot;, &quot;def&quot;)\r\n}\r\n```","title":"Gradle task - pass arguments to Java application","body":"<p>Using Kotlin DSL:</p>\n<pre><code>plugins {\n    java\n    application\n}\n\napplication {\n    mainClass = &quot;io.fouad.AppLauncher&quot;\n    applicationDefaultJvmArgs = listOf(&quot;-Dsome.system.properties=123&quot;)\n}\n\ntasks.withType(JavaExec::class) {\n    args = listOf(&quot;abc&quot;, &quot;def&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":2694978,"reputation":2767,"user_id":2327301,"accept_rate":82,"display_name":"RecuencoJones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142843,"favorite_count":0,"down_vote_count":0,"up_vote_count":157,"accepted_answer_id":51407975,"answer_count":8,"score":157,"last_activity_date":1695540026,"creation_date":1419257217,"question_id":27604283,"body_markdown":"I have a Java application that runs with a custom gradle task and the application requires some arguments upon being invoked. These are:\r\n\r\n    programName ( string | -f filename | -d key | -h)\r\n    Options:\r\n        string         Message to be used.\r\n        -d key         Use default messages, key must be s[hort], m[edium] or l[ong].\r\n        -f filename    Use specified file as input.\r\n        -h             Help dialog.\r\n\r\nGradle task looks like:\r\n\r\n    task run (type: JavaExec){\r\n        description = &quot;Secure algorythm testing&quot;\r\n        main = &#39;main.Test&#39;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\nI&#39;ve tried running `gradle run -h` and it does not work.","title":"Gradle task - pass arguments to Java application","body":"<p>I have a Java application that runs with a custom gradle task and the application requires some arguments upon being invoked. These are:</p>\n\n<pre><code>programName ( string | -f filename | -d key | -h)\nOptions:\n    string         Message to be used.\n    -d key         Use default messages, key must be s[hort], m[edium] or l[ong].\n    -f filename    Use specified file as input.\n    -h             Help dialog.\n</code></pre>\n\n<p>Gradle task looks like:</p>\n\n<pre><code>task run (type: JavaExec){\n    description = \"Secure algorythm testing\"\n    main = 'main.Test'\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n\n<p>I've tried running <code>gradle run -h</code> and it does not work.</p>\n"},{"tags":["java","android","testing","android-emulator","integration-testing"],"comments":[{"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"score":4,"creation_date":1321756013,"post_id":8198889,"comment_id":12591922,"body_markdown":"Looks like a bug in the Android Emulator. See [here](http://code.google.com/p/android/issues/detail?id=3838) There&#39;s also some suggested workarounds in that link.","body":"Looks like a bug in the Android Emulator. See <a href=\"http://code.google.com/p/android/issues/detail?id=3838\" rel=\"nofollow noreferrer\">here</a> There&#39;s also some suggested workarounds in that link."},{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":0,"creation_date":1338034794,"post_id":8198889,"comment_id":13996050,"body_markdown":"Unfortunately, until this serious bug is fixed, it is difficult to write fully automated integration tests (Robotium) for network outages, especially to test when the network breaks during the middle of a sequence of events.","body":"Unfortunately, until this serious bug is fixed, it is difficult to write fully automated integration tests (Robotium) for network outages, especially to test when the network breaks during the middle of a sequence of events."},{"owner":{"account_id":85983,"reputation":4648,"user_id":239408,"accept_rate":62,"display_name":"xverges"},"score":0,"creation_date":1424042466,"post_id":8198889,"comment_id":45379740,"body_markdown":"Unfortunately, the suggested workaround in the ticket comments https://code.google.com/p/android/issues/detail?id=3838#c15 does not work anymore: support for `qemu monitor` is gone http://stackoverflow.com/a/28382672/239408","body":"Unfortunately, the suggested workaround in the ticket comments <a href=\"https://code.google.com/p/android/issues/detail?id=3838#c15\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=3838#c15</a> does not work anymore: support for <code>qemu monitor</code> is gone <a href=\"http://stackoverflow.com/a/28382672/239408\">stackoverflow.com/a/28382672/239408</a>"}],"answers":[{"tags":[],"owner":{"account_id":1266636,"reputation":2145,"user_id":1223807,"accept_rate":25,"display_name":"diptia"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332748613,"creation_date":1332748613,"answer_id":9868483,"question_id":8198889,"body_markdown":"Instead of using Airplane mode in the Android emulator ( which does not work too well ) , switch off the network connectivity to your system while testing. That is , switch of the Ethernet connectivity or Wi-fi . Worked well for me. ","title":"Testing in &quot;Airplane&quot; mode in Android Emulator","body":"<p>Instead of using Airplane mode in the Android emulator ( which does not work too well ) , switch off the network connectivity to your system while testing. That is , switch of the Ethernet connectivity or Wi-fi . Worked well for me. </p>\n"},{"tags":[],"owner":{"account_id":1341215,"reputation":1874,"user_id":1282832,"accept_rate":62,"display_name":"EyalBellisha"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1367396831,"creation_date":1367396831,"answer_id":16314973,"question_id":8198889,"body_markdown":"You can switch off Internet access by pressing F8 in the emulator","title":"Testing in &quot;Airplane&quot; mode in Android Emulator","body":"<p>You can switch off Internet access by pressing F8 in the emulator</p>\n"},{"tags":[],"owner":{"account_id":2360407,"reputation":1044,"user_id":2067199,"accept_rate":50,"display_name":"java dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367406108,"creation_date":1367406108,"answer_id":16316912,"question_id":8198889,"body_markdown":"In emulator the airplane mode option doesn&#39;t works well. so, try pressing F8 function key to stop the internet access to the emulator and check your app in offline.  The airplane mode is closely related the communication signal which has effect only in device but not in emulator. Anyhow when airplane mode is turned on, automatically the internet access should be stopped, which happening in device but not in emulator. Don&#39;t worry about that you have an alternative to stop net access by pressing F8. &lt;br&gt;\r\n\r\nThen check for network availability through code,  enjoy !!","title":"Testing in &quot;Airplane&quot; mode in Android Emulator","body":"<p>In emulator the airplane mode option doesn't works well. so, try pressing F8 function key to stop the internet access to the emulator and check your app in offline.  The airplane mode is closely related the communication signal which has effect only in device but not in emulator. Anyhow when airplane mode is turned on, automatically the internet access should be stopped, which happening in device but not in emulator. Don't worry about that you have an alternative to stop net access by pressing F8. <br></p>\n\n<p>Then check for network availability through code,  enjoy !!</p>\n"}],"owner":{"account_id":881981,"reputation":1701,"user_id":304658,"accept_rate":65,"display_name":"Arjun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9124,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1695539965,"creation_date":1321754465,"question_id":8198889,"body_markdown":"I&#39;m trying to test my application for situations when the phone has no connection to the internet.\r\n\r\nIn my emulator, I turned on Airplane Mode in the settings.  However, my app still seemed to be able to communicate with my server.  It works as normal.  \r\n\r\nOn my device, the same code throws an error with no data connection. \r\n\r\nHow can I ensure that there is no internet connection in the emulator so I can use LogCat etc to analyze the code.  ","title":"Testing in &quot;Airplane&quot; mode in Android Emulator","body":"<p>I'm trying to test my application for situations when the phone has no connection to the internet.</p>\n\n<p>In my emulator, I turned on Airplane Mode in the settings.  However, my app still seemed to be able to communicate with my server.  It works as normal.  </p>\n\n<p>On my device, the same code throws an error with no data connection. </p>\n\n<p>How can I ensure that there is no internet connection in the emulator so I can use LogCat etc to analyze the code.  </p>\n"},{"tags":["java","kotlin","static","static-methods"],"comments":[{"owner":{"account_id":1491942,"reputation":8363,"user_id":1398841,"accept_rate":86,"display_name":"johnthagen"},"score":11,"creation_date":1518052028,"post_id":40352684,"comment_id":84350248,"body_markdown":"Use a [package-level function](https://kotlinlang.org/docs/reference/classes.html#companion-objects).","body":"Use a <a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"nofollow noreferrer\">package-level function</a>."},{"owner":{"account_id":949182,"reputation":4225,"user_id":975724,"accept_rate":97,"display_name":"Nicholas Miller"},"score":38,"creation_date":1522766241,"post_id":40352684,"comment_id":86272748,"body_markdown":"**Be advised:** Kotlin has removed Java-style statics to encourage more maintainable (dare I say &#39;better&#39;) coding practices.  Static globals are generally against the OOP-paradigm but they can be quite convenient. Hence, Kotlin has provided us with [companions, a more OOP-friendly way of having statics.](https://kotlinlang.org/docs/reference/classes.html#companion-objects)","body":"<b>Be advised:</b> Kotlin has removed Java-style statics to encourage more maintainable (dare I say &#39;better&#39;) coding practices.  Static globals are generally against the OOP-paradigm but they can be quite convenient. Hence, Kotlin has provided us with <a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"nofollow noreferrer\">companions, a more OOP-friendly way of having statics.</a>"},{"owner":{"account_id":6224407,"reputation":760,"user_id":4843155,"accept_rate":25,"display_name":"Torben G"},"score":3,"creation_date":1583855475,"post_id":40352684,"comment_id":107249773,"body_markdown":"@NicholasMiller why is it more OOP-friendly? I think it is easier to read and write without the recurring note of static (boilerplate). Or is there another good reason?","body":"@NicholasMiller why is it more OOP-friendly? I think it is easier to read and write without the recurring note of static (boilerplate). Or is there another good reason?"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1593534945,"post_id":40352684,"comment_id":110813411,"body_markdown":"At first glance this looks to be precisely the companion class of Scala. That follows my impression: `kotlin` is a simpler _scala_ . This is good.","body":"At first glance this looks to be precisely the companion class of Scala. That follows my impression: <code>kotlin</code> is a simpler <i>scala</i> . This is good."},{"owner":{"account_id":51901,"reputation":12651,"user_id":155082,"accept_rate":69,"display_name":"Lothar"},"score":1,"creation_date":1630483134,"post_id":40352684,"comment_id":121964947,"body_markdown":"@TorbenG. The boilerplate code is an educational barrier you get punished with everytime you use a global static. Modern languages are Nanny languages.","body":"@TorbenG. The boilerplate code is an educational barrier you get punished with everytime you use a global static. Modern languages are Nanny languages."},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":1,"creation_date":1695538462,"post_id":40352684,"comment_id":136036057,"body_markdown":"See [this Kotlin proposal](https://github.com/Kotlin/KEEP/issues/348) to introduce statics in Kotlin.","body":"See <a href=\"https://github.com/Kotlin/KEEP/issues/348\" rel=\"nofollow noreferrer\">this Kotlin proposal</a> to introduce statics in Kotlin."}],"answers":[{"comments":[{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":7,"creation_date":1489741684,"post_id":40352734,"comment_id":72813228,"body_markdown":"In Kotlin it will be `fun a(): Int { return 1 }` or even `fun a(): Int = 1`","body":"In Kotlin it will be <code>fun a(): Int { return 1 }</code> or even <code>fun a(): Int = 1</code>"},{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":13,"creation_date":1501831599,"post_id":40352734,"comment_id":77962076,"body_markdown":"@DmitryZaitsev _or_ even `fun a() = 1`.","body":"@DmitryZaitsev <i>or</i> even <code>fun a() = 1</code>."},{"owner":{"account_id":4428320,"reputation":527,"user_id":4037411,"accept_rate":50,"display_name":"Bagus Aji Santoso"},"score":0,"creation_date":1503548742,"post_id":40352734,"comment_id":78663775,"body_markdown":"What do Factory mean?","body":"What do Factory mean?"},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":0,"creation_date":1503551982,"post_id":40352734,"comment_id":78664768,"body_markdown":"@BagusAjiSantoso `Factory` is the _name_ of the companion object - but what can that be used for? I have no idea, but I was interested so I created a question dedicated to that: https://stackoverflow.com/q/45853459/221955.","body":"@BagusAjiSantoso <code>Factory</code> is the <i>name</i> of the companion object - but what can that be used for? I have no idea, but I was interested so I created a question dedicated to that: <a href=\"https://stackoverflow.com/q/45853459/221955\">stackoverflow.com/q/45853459/221955</a>."},{"owner":{"account_id":1175587,"reputation":603,"user_id":1151701,"display_name":"Ali Mehrpour"},"score":0,"creation_date":1505037786,"post_id":40352734,"comment_id":79240729,"body_markdown":"@MichaelAnderson how about static methods which return generic type T?","body":"@MichaelAnderson how about static methods which return generic type T?"},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":0,"creation_date":1505092724,"post_id":40352734,"comment_id":79255875,"body_markdown":"@AliMehrpour As far as I can tell there is no difference needed for functions returning a value of generic type. Did you have a particular issue in mind?","body":"@AliMehrpour As far as I can tell there is no difference needed for functions returning a value of generic type. Did you have a particular issue in mind?"},{"owner":{"account_id":1089072,"reputation":345,"user_id":1084126,"accept_rate":100,"display_name":"Yajairo87"},"score":0,"creation_date":1509379212,"post_id":40352734,"comment_id":80985673,"body_markdown":"Why not just defining an object Class type and call the methods just like this?\n\n`object Foo {\n     fun a() : Int = 1\n}`\nAs far as I know, the difference here is that with object you are defining a Singleton, thus I don&#39;t see any matter to use it.\n\n`Foo.ad()`","body":"Why not just defining an object Class type and call the methods just like this?  <code>object Foo {      fun a() : Int = 1 }</code> As far as I know, the difference here is that with object you are defining a Singleton, thus I don&#39;t see any matter to use it.  <code>Foo.ad()</code>"},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":1,"creation_date":1509411000,"post_id":40352734,"comment_id":80999815,"body_markdown":"@Yajairo87 Using the companion object rather than a dedicated singleton top level object, provides clearer separation since I believe the visibility rules are different.","body":"@Yajairo87 Using the companion object rather than a dedicated singleton top level object, provides clearer separation since I believe the visibility rules are different."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":6,"creation_date":1599152198,"post_id":40352734,"comment_id":112692676,"body_markdown":"IHMO this is one of the few really ugly things about Kotlin where Java is just way more simple to write and read. Feels just - wrong.  I made multiple Kotlin trainings now and all of my students are just confused about that every single times. The only things more worse are the current implementation of coroutines (vs. dead-simple async/await in C#)","body":"IHMO this is one of the few really ugly things about Kotlin where Java is just way more simple to write and read. Feels just - wrong.  I made multiple Kotlin trainings now and all of my students are just confused about that every single times. The only things more worse are the current implementation of coroutines (vs. dead-simple async/await in C#)"},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":0,"creation_date":1618231801,"post_id":40352734,"comment_id":118531977,"body_markdown":"If this is the accepted answer, it really should go over singleton `object` and varaibles/functions that are outside of classes. In Java there are only 2 paradigms for the concept, static and Enum, in Kotlin there are many that are each more appropriate for certain situations. Also, Interface support on Enum and objects vs no Interface for static.","body":"If this is the accepted answer, it really should go over singleton <code>object</code> and varaibles/functions that are outside of classes. In Java there are only 2 paradigms for the concept, static and Enum, in Kotlin there are many that are each more appropriate for certain situations. Also, Interface support on Enum and objects vs no Interface for static."},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":1,"creation_date":1618272286,"post_id":40352734,"comment_id":118547119,"body_markdown":"@Novaterata there is a great answer by Pablo Baxter much lower in these that covers some of those other options in quite a bit of depth. (https://stackoverflow.com/a/54975004/221955) And a similar answer by Yogesh Umesh Vaity (https://stackoverflow.com/a/66175395/221955). As you say it would be nice to include some of that information here. If they are missing some other option that you are aware of, let me know and I&#39;ll add it here.","body":"@Novaterata there is a great answer by Pablo Baxter much lower in these that covers some of those other options in quite a bit of depth. (<a href=\"https://stackoverflow.com/a/54975004/221955\">stackoverflow.com/a/54975004/221955</a>) And a similar answer by Yogesh Umesh Vaity (<a href=\"https://stackoverflow.com/a/66175395/221955\">stackoverflow.com/a/66175395/221955</a>). As you say it would be nice to include some of that information here. If they are missing some other option that you are aware of, let me know and I&#39;ll add it here."}],"tags":[],"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"comment_count":11,"down_vote_count":3,"up_vote_count":1484,"is_accepted":true,"score":1481,"last_activity_date":1619971074,"creation_date":1477962006,"answer_id":40352734,"question_id":40352684,"body_markdown":"You place the function in the &quot;companion object&quot;.\r\n\r\nSo the java code like this:\r\n\r\n    class Foo {\r\n      public static int a() { return 1; }\r\n    }\r\n    \r\nwill become\r\n\r\n    class Foo {\r\n      companion object {\r\n         fun a() : Int = 1\r\n      }\r\n    }\r\n\r\nYou can then use it from inside Kotlin code as \r\n\r\n    Foo.a();\r\n\r\n\r\nBut from within Java code, you would need to call it as\r\n\r\n    Foo.Companion.a();\r\n\r\n(Which also works from within Kotlin.)\r\n\r\n\r\nIf you don&#39;t like having to specify the `Companion` bit you can either add a `@JvmStatic` annotation or name your companion class.\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt; # Companion Objects\r\n&gt;\r\n&gt; An object declaration inside a class can be marked with the `companion` \r\n&gt; keyword:\r\n&gt;\r\n&gt;     class MyClass {\r\n&gt;        companion object Factory {\r\n&gt;            fun create(): MyClass = MyClass()\r\n&gt;        }\r\n&gt;     }\r\n&gt;\r\n&gt; Members of the companion object can be called by using simply the class \r\n&gt; name as the qualifier:\r\n&gt;\r\n&gt;     val instance = MyClass.create()\r\n&gt;\r\n&gt;  ...\r\n&gt;\r\n&gt; However, on the JVM you can have members of companion objects generated \r\n&gt; as real static methods and fields, if you use the `@JvmStatic`\r\n&gt; annotation.  See the [Java interoperability](https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-fields) section for more details.\r\n\r\nAdding the `@JvmStatic` annotation looks like this\r\n\r\n    class Foo {\r\n      companion object {\r\n        @JvmStatic\r\n        fun a() : Int = 1;\r\n      }\r\n    }\r\n\r\nand then it will exist as a real Java static function, accessible from\r\nboth Java and Kotlin as `Foo.a()`. \r\n\r\nIf it is just disliked for the `Companion` name, then you can also \r\nprovide an explicit name for the companion object looks like this:\r\n\r\n    class Foo {\r\n      companion object Blah {\r\n        fun a() : Int = 1;\r\n      }\r\n    }\r\n\r\nwhich will let you call it from Kotlin in the same way, but\r\nfrom java like `Foo.Blah.a()` (which will also work in Kotlin). \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>You place the function in the &quot;companion object&quot;.</p>\n<p>So the java code like this:</p>\n<pre><code>class Foo {\n  public static int a() { return 1; }\n}\n</code></pre>\n<p>will become</p>\n<pre><code>class Foo {\n  companion object {\n     fun a() : Int = 1\n  }\n}\n</code></pre>\n<p>You can then use it from inside Kotlin code as</p>\n<pre><code>Foo.a();\n</code></pre>\n<p>But from within Java code, you would need to call it as</p>\n<pre><code>Foo.Companion.a();\n</code></pre>\n<p>(Which also works from within Kotlin.)</p>\n<p>If you don't like having to specify the <code>Companion</code> bit you can either add a <code>@JvmStatic</code> annotation or name your companion class.</p>\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<h1>Companion Objects</h1>\n<p>An object declaration inside a class can be marked with the <code>companion</code>\nkeyword:</p>\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n<p>Members of the companion object can be called by using simply the class\nname as the qualifier:</p>\n<pre><code>val instance = MyClass.create()\n</code></pre>\n<p>...</p>\n<p>However, on the JVM you can have members of companion objects generated\nas real static methods and fields, if you use the <code>@JvmStatic</code>\nannotation.  See the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-fields\" rel=\"noreferrer\">Java interoperability</a> section for more details.</p>\n</blockquote>\n<p>Adding the <code>@JvmStatic</code> annotation looks like this</p>\n<pre><code>class Foo {\n  companion object {\n    @JvmStatic\n    fun a() : Int = 1;\n  }\n}\n</code></pre>\n<p>and then it will exist as a real Java static function, accessible from\nboth Java and Kotlin as <code>Foo.a()</code>.</p>\n<p>If it is just disliked for the <code>Companion</code> name, then you can also\nprovide an explicit name for the companion object looks like this:</p>\n<pre><code>class Foo {\n  companion object Blah {\n    fun a() : Int = 1;\n  }\n}\n</code></pre>\n<p>which will let you call it from Kotlin in the same way, but\nfrom java like <code>Foo.Blah.a()</code> (which will also work in Kotlin).</p>\n"},{"comments":[{"owner":{"account_id":7001509,"reputation":363,"user_id":5367403,"accept_rate":0,"display_name":"Sudarshan"},"score":0,"creation_date":1498047911,"post_id":44156017,"comment_id":76336062,"body_markdown":"If i m trying to initialize in some other class its gives java.lang.ExceptionInInitializerError  and I m using var instead of val","body":"If i m trying to initialize in some other class its gives java.lang.ExceptionInInitializerError  and I m using var instead of val"},{"owner":{"account_id":4561245,"reputation":524,"user_id":3703516,"accept_rate":67,"display_name":"Raeglan"},"score":4,"creation_date":1518783457,"post_id":44156017,"comment_id":84656729,"body_markdown":"Method calls need to have the ``INSTANCE`` keyword, like this: ``Foo.INSTANCE.sayFoo()``","body":"Method calls need to have the <code>INSTANCE</code> keyword, like this: <code>Foo.INSTANCE.sayFoo()</code>"},{"owner":{"account_id":478661,"reputation":9645,"user_id":890890,"accept_rate":60,"display_name":"fabriciorissetto"},"score":0,"creation_date":1532369312,"post_id":44156017,"comment_id":89938641,"body_markdown":"I think this solution is the prefered way if you want a `static CLASS` not just `static methdos`. Because with companion objects you still can instantiate the parent class.","body":"I think this solution is the prefered way if you want a <code>static CLASS</code> not just <code>static methdos</code>. Because with companion objects you still can instantiate the parent class."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1569847862,"post_id":44156017,"comment_id":102717819,"body_markdown":"`val` is not static it&#39;s equivalent of `static final` in Java","body":"<code>val</code> is not static it&#39;s equivalent of <code>static final</code> in Java"}],"tags":[],"owner":{"account_id":3045528,"reputation":18505,"user_id":2581314,"accept_rate":82,"display_name":"erluxman"},"comment_count":4,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1568220234,"creation_date":1495622512,"answer_id":44156017,"question_id":40352684,"body_markdown":"**A. Old Java Way :**\r\n\r\n1. Declare a `companion object` to enclose a static **method / variable**\r\n\r\n        class Foo{\r\n        companion object {\r\n            fun foo() = println(&quot;Foo&quot;)\r\n            val bar =&quot;bar&quot;  \r\n            }\r\n        }\r\n\r\n2. Use : \r\n         \r\n        Foo.foo()        // Outputs Foo    \r\n        println(Foo.bar) // Outputs bar\r\n\r\n_______________________________________\r\n_______________________________________\r\n\r\n\r\n**B. New Kotlin way**\r\n\r\n\r\n1. Declare directly on file **without class** on a `.kt` file.\r\n\r\n        fun foo() = println(&quot;Foo&quot;)\r\n        val bar =&quot;bar&quot;\r\n\r\n2. Use  the `methods/variables` with their **names**. (**After importing them**)\r\n\r\n    Use :\r\n\r\n        foo()        // Outputs Foo          \r\n        println(bar) // Outputs bar     \r\n\r\n----------\r\n\r\n\r\n \r\n\r\n\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p><strong>A. Old Java Way :</strong></p>\n\n<ol>\n<li><p>Declare a <code>companion object</code> to enclose a static <strong>method / variable</strong></p>\n\n<pre><code>class Foo{\ncompanion object {\n    fun foo() = println(\"Foo\")\n    val bar =\"bar\"  \n    }\n}\n</code></pre></li>\n<li><p>Use : </p>\n\n<pre><code>Foo.foo()        // Outputs Foo    \nprintln(Foo.bar) // Outputs bar\n</code></pre></li>\n</ol>\n\n<hr>\n\n<hr>\n\n<p><strong>B. New Kotlin way</strong></p>\n\n<ol>\n<li><p>Declare directly on file <strong>without class</strong> on a <code>.kt</code> file.</p>\n\n<pre><code>fun foo() = println(\"Foo\")\nval bar =\"bar\"\n</code></pre></li>\n<li><p>Use  the <code>methods/variables</code> with their <strong>names</strong>. (<strong>After importing them</strong>)</p>\n\n<p>Use :</p>\n\n<pre><code>foo()        // Outputs Foo          \nprintln(bar) // Outputs bar     \n</code></pre></li>\n</ol>\n\n<hr>\n"},{"comments":[{"owner":{"account_id":3968683,"reputation":1415,"user_id":6243347,"display_name":"Mitchell Tracy"},"score":9,"creation_date":1512745183,"post_id":44749988,"comment_id":82393957,"body_markdown":"Note that under the hood these &quot;top-level&quot; or &quot;package&quot; functions are actually compiled into their own class. In the above example, the compiler would create a `class FooPackage` with all of the top-level properties and functions, and route all of your references to them appropriately. [More info from jetbrains.](https://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/)","body":"Note that under the hood these &quot;top-level&quot; or &quot;package&quot; functions are actually compiled into their own class. In the above example, the compiler would create a <code>class FooPackage</code> with all of the top-level properties and functions, and route all of your references to them appropriately. <a href=\"https://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/\" rel=\"nofollow noreferrer\">More info from jetbrains.</a>"},{"owner":{"account_id":1491942,"reputation":8363,"user_id":1398841,"accept_rate":86,"display_name":"johnthagen"},"score":56,"creation_date":1518051995,"post_id":44749988,"comment_id":84350238,"body_markdown":"+1 For explaining how to do the equivalent right **in Kotlin** rather than just the mirror equivalent from Java.","body":"+1 For explaining how to do the equivalent right <b>in Kotlin</b> rather than just the mirror equivalent from Java."},{"owner":{"account_id":1357444,"reputation":430,"user_id":1295564,"accept_rate":100,"display_name":"Osama Shabrez"},"score":2,"creation_date":1562852662,"post_id":44749988,"comment_id":100515950,"body_markdown":"This should be the accepted answer or a mod should update the accepted answer to contain package level functions","body":"This should be the accepted answer or a mod should update the accepted answer to contain package level functions"},{"owner":{"account_id":236329,"reputation":4384,"user_id":503743,"accept_rate":67,"display_name":"Mariano Ruiz"},"score":1,"creation_date":1579263710,"post_id":44749988,"comment_id":105717262,"body_markdown":"This is the better solution so far. Just wanted to clarify that where you define the function `bar()` doesn&#39;t matter the file name, you can name it `BarUtils.kt` or whatever, then as the text says you will import it with with `import &lt;package name&gt;.bar`","body":"This is the better solution so far. Just wanted to clarify that where you define the function <code>bar()</code> doesn&#39;t matter the file name, you can name it <code>BarUtils.kt</code> or whatever, then as the text says you will import it with with <code>import &lt;package name&gt;.bar</code>"}],"tags":[],"owner":{"account_id":11193312,"reputation":2601,"user_id":8212908,"display_name":"Henrik F."},"comment_count":4,"down_vote_count":0,"up_vote_count":245,"is_accepted":false,"score":245,"last_activity_date":1581694902,"creation_date":1498420163,"answer_id":44749988,"question_id":40352684,"body_markdown":"[Docs][2] recommends to solve most of the needs for static functions with **package-level functions**. They are simply declared outside a class in a source code file. The package of a file can be specified at the beginning of a file with the package keyword.\r\n\r\n\r\n**Declaration**\r\n\r\n    package foo\r\n    \r\n    fun bar() = {}\r\n\r\n**Usage**\r\n\r\n    import foo.bar\r\n\r\n**Alternatively**\r\n\r\n    import foo.*\r\n\r\nYou can now call the function with:\r\n\r\n    bar()\r\nor if you do not use the import keyword:\r\n\r\n    foo.bar()\r\n\r\nIf you do not specify the package the function will be accessible from the root.\r\n\r\nIf you only have experience with java, this might seem a little strange. The reason is that kotlin is not a strictly object-oriented language. You could say it supports methods outside of classes.\r\n\r\nEdit: \r\nThey have edited the documentation to no longer include the sentence about recommending package level functions. [This][1] is the original that was referred to above. \r\n\r\n\r\n  [1]: https://web.archive.org/web/20170621203530/https://kotlinlang.org/docs/reference/classes.html#companion-objects\r\n  [2]: https://kotlinlang.org/docs/reference/classes.html#companion-objects","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p><a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"noreferrer\">Docs</a> recommends to solve most of the needs for static functions with <strong>package-level functions</strong>. They are simply declared outside a class in a source code file. The package of a file can be specified at the beginning of a file with the package keyword.</p>\n\n<p><strong>Declaration</strong></p>\n\n<pre><code>package foo\n\nfun bar() = {}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>import foo.bar\n</code></pre>\n\n<p><strong>Alternatively</strong></p>\n\n<pre><code>import foo.*\n</code></pre>\n\n<p>You can now call the function with:</p>\n\n<pre><code>bar()\n</code></pre>\n\n<p>or if you do not use the import keyword:</p>\n\n<pre><code>foo.bar()\n</code></pre>\n\n<p>If you do not specify the package the function will be accessible from the root.</p>\n\n<p>If you only have experience with java, this might seem a little strange. The reason is that kotlin is not a strictly object-oriented language. You could say it supports methods outside of classes.</p>\n\n<p>Edit: \nThey have edited the documentation to no longer include the sentence about recommending package level functions. <a href=\"https://web.archive.org/web/20170621203530/https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"noreferrer\">This</a> is the original that was referred to above. </p>\n"},{"comments":[{"owner":{"account_id":4989643,"reputation":944,"user_id":4012266,"display_name":"CmosBattery"},"score":7,"creation_date":1510673414,"post_id":46452261,"comment_id":81529463,"body_markdown":"You forgot &quot;Kotlin (ugly)&quot; ...\nKOTLIN: companion object { val handler = object : Handler(Looper.getMainLooper()) {] .....\nJAVA: static Handler handler = new Handler(Looper.getMainLooper()) {};","body":"You forgot &quot;Kotlin (ugly)&quot; ... KOTLIN: companion object { val handler = object : Handler(Looper.getMainLooper()) {] ..... JAVA: static Handler handler = new Handler(Looper.getMainLooper()) {};"}],"tags":[],"owner":{"account_id":9532102,"reputation":6476,"user_id":7083401,"accept_rate":100,"display_name":"ice1000"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1506527638,"creation_date":1506527638,"answer_id":46452261,"question_id":40352684,"body_markdown":"Write them directly to files.\r\n\r\nIn Java (ugly):\r\n\r\n    package xxx;\r\n    class XxxUtils {\r\n      public static final Yyy xxx(Xxx xxx) { return xxx.xxx(); }\r\n    }\r\n\r\nIn Kotlin:\r\n\r\n    @file:JvmName(&quot;XxxUtils&quot;)\r\n    package xxx\r\n    fun xxx(xxx: Xxx): Yyy = xxx.xxx()\r\n\r\nThose two pieces of codes are equaled after compilation (even the compiled file name, the `file:JvmName` is used to control the compiled file name, which should be put just before the package name declaration).","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Write them directly to files.</p>\n\n<p>In Java (ugly):</p>\n\n<pre><code>package xxx;\nclass XxxUtils {\n  public static final Yyy xxx(Xxx xxx) { return xxx.xxx(); }\n}\n</code></pre>\n\n<p>In Kotlin:</p>\n\n<pre><code>@file:JvmName(\"XxxUtils\")\npackage xxx\nfun xxx(xxx: Xxx): Yyy = xxx.xxx()\n</code></pre>\n\n<p>Those two pieces of codes are equaled after compilation (even the compiled file name, the <code>file:JvmName</code> is used to control the compiled file name, which should be put just before the package name declaration).</p>\n"},{"tags":[],"owner":{"account_id":7356422,"reputation":2027,"user_id":5601016,"display_name":"Rajesh Dalsaniya"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1680784968,"creation_date":1506533206,"answer_id":46453863,"question_id":40352684,"body_markdown":"You need to pass companion object for static method because kotlin dont have static keyword - Members of the companion object can be called by using simply the class name as the qualifier:\r\n\r\n    package xxx\r\n    class ClassName {\r\n      companion object {\r\n        fun helloWord(str: String): String {\r\n          return stringValue\r\n        }\r\n      }\r\n    }","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>You need to pass companion object for static method because kotlin dont have static keyword - Members of the companion object can be called by using simply the class name as the qualifier:</p>\n<pre><code>package xxx\nclass ClassName {\n  companion object {\n    fun helloWord(str: String): String {\n      return stringValue\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1029391,"reputation":61,"user_id":1038018,"display_name":"Manuel Rego"},"score":0,"creation_date":1617729143,"post_id":47524897,"comment_id":118384362,"body_markdown":"this was what I was looking for, thanks :D","body":"this was what I was looking for, thanks :D"},{"owner":{"account_id":3774628,"reputation":111,"user_id":3135776,"display_name":"Shihab"},"score":0,"creation_date":1630018228,"post_id":47524897,"comment_id":121848249,"body_markdown":"In Java I am able to refer an instance variable as class variable without using INSTANCE, I am afraid of this behavior.","body":"In Java I am able to refer an instance variable as class variable without using INSTANCE, I am afraid of this behavior."},{"owner":{"account_id":128057,"reputation":298,"user_id":325634,"accept_rate":50,"display_name":"68060"},"score":0,"creation_date":1692708164,"post_id":47524897,"comment_id":135658469,"body_markdown":"Finally an answer I  can understand thanks","body":"Finally an answer I  can understand thanks"}],"tags":[],"owner":{"account_id":10819344,"reputation":1003,"user_id":7957325,"display_name":"Asharali V U"},"comment_count":3,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1559250847,"creation_date":1511848808,"answer_id":47524897,"question_id":40352684,"body_markdown":"Use **object** to represent val/var/method to make static. You can use object instead of singleton class also. You can use **companion** if you wanted to make static inside of a class\r\n\r\n\r\n    object Abc{\r\n         fun sum(a: Int, b: Int): Int = a + b\r\n        }\r\n\r\nIf you need to call it from Java:\r\n\r\n    int z = Abc.INSTANCE.sum(x,y);\r\n\r\nIn Kotlin, ignore INSTANCE.","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Use <strong>object</strong> to represent val/var/method to make static. You can use object instead of singleton class also. You can use <strong>companion</strong> if you wanted to make static inside of a class</p>\n\n<pre><code>object Abc{\n     fun sum(a: Int, b: Int): Int = a + b\n    }\n</code></pre>\n\n<p>If you need to call it from Java:</p>\n\n<pre><code>int z = Abc.INSTANCE.sum(x,y);\n</code></pre>\n\n<p>In Kotlin, ignore INSTANCE.</p>\n"},{"tags":[],"owner":{"account_id":7935124,"reputation":61,"user_id":6382158,"display_name":"yasincidem"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516532986,"creation_date":1516532986,"answer_id":48366140,"question_id":40352684,"body_markdown":"Simply you need to create a companion object and put the function in it\r\n\r\n      class UtilClass {\r\n            companion object {\r\n      //        @JvmStatic\r\n                fun repeatIt5Times(str: String): String = str.repeat(5)\r\n            }\r\n        }\r\n                       \r\n----------------------------\r\nTo invoke the method from a kotlin class:\r\n\r\n\r\n    class KotlinClass{\r\n      fun main(args : Array&lt;String&gt;) { \r\n        UtilClass.repeatIt5Times(&quot;Hello&quot;)\r\n      }\r\n    }\r\n    \r\n\r\n\r\n  or Using import\r\n\r\n    import Packagename.UtilClass.Companion.repeatIt5Times\r\n    class KotlinClass{\r\n      fun main(args : Array&lt;String&gt;) { \r\n         repeatIt5Times(&quot;Hello&quot;)\r\n      }\r\n    }\r\n\r\n-------\r\nTo invoke the method from a java class:\r\n\r\n     class JavaClass{\r\n        public static void main(String [] args){\r\n           UtilClass.Companion.repeatIt5Times(&quot;Hello&quot;);\r\n        }\r\n     }\r\n\r\nor by adding @JvmStatic annotation to the method\r\n\r\n    class JavaClass{\r\n       public static void main(String [] args){\r\n         UtilClass.repeatIt5Times(&quot;Hello&quot;)\r\n       }\r\n    }\r\n    \r\nor both by adding @JvmStatic annotation to the method and making static import in java \r\n\r\n    import static Packagename.UtilClass.repeatIt5Times\r\n    class JavaClass{\r\n       public static void main(String [] args){\r\n         repeatIt5Times(&quot;Hello&quot;)\r\n       }\r\n    }\r\n\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Simply you need to create a companion object and put the function in it</p>\n\n<pre><code>  class UtilClass {\n        companion object {\n  //        @JvmStatic\n            fun repeatIt5Times(str: String): String = str.repeat(5)\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p>To invoke the method from a kotlin class:</p>\n\n<pre><code>class KotlinClass{\n  fun main(args : Array&lt;String&gt;) { \n    UtilClass.repeatIt5Times(\"Hello\")\n  }\n}\n</code></pre>\n\n<p>or Using import</p>\n\n<pre><code>import Packagename.UtilClass.Companion.repeatIt5Times\nclass KotlinClass{\n  fun main(args : Array&lt;String&gt;) { \n     repeatIt5Times(\"Hello\")\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>To invoke the method from a java class:</p>\n\n<pre><code> class JavaClass{\n    public static void main(String [] args){\n       UtilClass.Companion.repeatIt5Times(\"Hello\");\n    }\n }\n</code></pre>\n\n<p>or by adding @JvmStatic annotation to the method</p>\n\n<pre><code>class JavaClass{\n   public static void main(String [] args){\n     UtilClass.repeatIt5Times(\"Hello\")\n   }\n}\n</code></pre>\n\n<p>or both by adding @JvmStatic annotation to the method and making static import in java </p>\n\n<pre><code>import static Packagename.UtilClass.repeatIt5Times\nclass JavaClass{\n   public static void main(String [] args){\n     repeatIt5Times(\"Hello\")\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556097070,"creation_date":1518513522,"answer_id":48763248,"question_id":40352684,"body_markdown":"Let, you have a class **Student**. And you have one **static** method **getUniversityName()** &amp; one **static** field called **totalStudent**. \r\n\r\nYou should declare **companion object** block inside your class. \r\n\r\n    \r\n\r\n    companion object {\r\n     // define static method &amp; field here.\r\n    }\r\n    \r\nThen your class looks like\r\n\r\n        class Student(var name: String, var city: String, var rollNumber: Double = 0.0) {\r\n    \r\n        // use companion object structure\r\n        companion object {\r\n    \r\n            // below method will work as static method\r\n            fun getUniversityName(): String = &quot;MBSTU&quot;\r\n    \r\n            // below field will work as static field\r\n            var totalStudent = 30\r\n        }\r\n    }\r\n   Then you can use those static method and fields like this way.\r\n\r\n    \r\n\r\n    println(&quot;University : &quot; + Student.getUniversityName() + &quot;, Total Student: &quot; + Student.totalStudent)\r\n        // Output:\r\n        // University : MBSTU, Total Student: 30","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Let, you have a class <strong>Student</strong>. And you have one <strong>static</strong> method <strong>getUniversityName()</strong> &amp; one <strong>static</strong> field called <strong>totalStudent</strong>. </p>\n\n<p>You should declare <strong>companion object</strong> block inside your class. </p>\n\n<pre><code>companion object {\n // define static method &amp; field here.\n}\n</code></pre>\n\n<p>Then your class looks like</p>\n\n<pre><code>    class Student(var name: String, var city: String, var rollNumber: Double = 0.0) {\n\n    // use companion object structure\n    companion object {\n\n        // below method will work as static method\n        fun getUniversityName(): String = \"MBSTU\"\n\n        // below field will work as static field\n        var totalStudent = 30\n    }\n}\n</code></pre>\n\n<p>Then you can use those static method and fields like this way.</p>\n\n<pre><code>println(\"University : \" + Student.getUniversityName() + \", Total Student: \" + Student.totalStudent)\n    // Output:\n    // University : MBSTU, Total Student: 30\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2101290,"reputation":6182,"user_id":1868841,"display_name":"Waqar UlHaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525330061,"creation_date":1525330061,"answer_id":50148572,"question_id":40352684,"body_markdown":"You can achieve the static functionality in Kotlin by **Companion Objects**\r\n\r\n - Adding **companion** to the object declaration allows for adding the\r\n   **static** functionality to an object even though the actual static\r\n   concept does not exist in Kotlin. \r\n - A **companion object** can access all members of the class too, including the private constructors. \r\n - A **companion object** is initialized when the class is instantiated. \r\n - A **companion object** cannot be declared outside the class.\r\n\r\n    \r\n\r\n        class MyClass{\r\n    \r\n            companion object {\r\n    \r\n                val staticField = &quot;This is an example of static field Object Decleration&quot;\r\n    \r\n                fun getStaticFunction(): String {\r\n                    return &quot;This is example of static function for Object Decleration&quot;\r\n                }\r\n    \r\n            }\r\n        }\r\n\r\nMembers of the companion object can be called by using simply the class name as the qualifier:\r\n\r\n**Output:**\r\n\r\n    MyClass.staticField // This is an example of static field Object Decleration\r\n    \r\n    MyClass.getStaticFunction() : // This is an example of static function for Object Decleration\r\n\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>You can achieve the static functionality in Kotlin by <strong>Companion Objects</strong></p>\n\n<ul>\n<li>Adding <strong>companion</strong> to the object declaration allows for adding the\n<strong>static</strong> functionality to an object even though the actual static\nconcept does not exist in Kotlin. </li>\n<li>A <strong>companion object</strong> can access all members of the class too, including the private constructors. </li>\n<li>A <strong>companion object</strong> is initialized when the class is instantiated. </li>\n<li><p>A <strong>companion object</strong> cannot be declared outside the class.</p>\n\n<pre><code>class MyClass{\n\n    companion object {\n\n        val staticField = \"This is an example of static field Object Decleration\"\n\n        fun getStaticFunction(): String {\n            return \"This is example of static function for Object Decleration\"\n        }\n\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>Members of the companion object can be called by using simply the class name as the qualifier:</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>MyClass.staticField // This is an example of static field Object Decleration\n\nMyClass.getStaticFunction() : // This is an example of static function for Object Decleration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2590388,"reputation":335,"user_id":2245229,"display_name":"Rahul"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1528892840,"creation_date":1528892840,"answer_id":50837279,"question_id":40352684,"body_markdown":"All static member and function should be inside companion block \r\n\r\n      companion object {\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n        }\r\n\r\n        fun staticMethod() {\r\n        }\r\n      }","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>All static member and function should be inside companion block </p>\n\n<pre><code>  companion object {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n    }\n\n    fun staticMethod() {\n    }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":1,"creation_date":1679475083,"post_id":51164729,"comment_id":133726927,"body_markdown":"This is great for &quot;utility&quot; classes (which you also need to be able to call from Java code so you can&#39;t use top-level functions)! I&#39;m surprised that I had to scroll down so much to find this.","body":"This is great for &quot;utility&quot; classes (which you also need to be able to call from Java code so you can&#39;t use top-level functions)! I&#39;m surprised that I had to scroll down so much to find this."},{"owner":{"account_id":252746,"reputation":68,"user_id":530987,"display_name":"Dan Dowma"},"score":0,"creation_date":1687802857,"post_id":51164729,"comment_id":134984889,"body_markdown":"This solution worked for me, and feels like the cleanest solution to the question, because the usage pattern is the same between Kotlin &amp; Java.","body":"This solution worked for me, and feels like the cleanest solution to the question, because the usage pattern is the same between Kotlin &amp; Java."}],"tags":[],"owner":{"account_id":171359,"reputation":9943,"user_id":398715,"accept_rate":100,"display_name":"Samuel"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1530668431,"creation_date":1530668431,"answer_id":51164729,"question_id":40352684,"body_markdown":"This also worked for me\r\n\r\n    object Bell {\r\n        @JvmStatic\r\n        fun ring() { }\r\n    }\r\n\r\nfrom Kotlin\r\n\r\n    Bell.ring()\r\n\r\nfrom Java\r\n\r\n    Bell.ring()\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>This also worked for me</p>\n\n<pre><code>object Bell {\n    @JvmStatic\n    fun ring() { }\n}\n</code></pre>\n\n<p>from Kotlin</p>\n\n<pre><code>Bell.ring()\n</code></pre>\n\n<p>from Java</p>\n\n<pre><code>Bell.ring()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7070948,"reputation":133,"user_id":5412569,"display_name":"SVB-knowmywork"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1531371166,"creation_date":1531371166,"answer_id":51297515,"question_id":40352684,"body_markdown":"I would like to add something to above answers.\r\n\r\nYes, you can define functions in source code files(outside class). But it is better if you define static functions inside class using **Companion Object** because you can add more static functions by leveraging the **Kotlin Extensions**.\r\n\r\n    class MyClass {\r\n        companion object { \r\n            //define static functions here\r\n        } \r\n    }\r\n    \r\n    //Adding new static function\r\n    fun MyClass.Companion.newStaticFunction() {\r\n        // ...\r\n    }\r\n\r\nAnd you can call above defined function as you will call any function inside Companion Object.","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>I would like to add something to above answers.</p>\n\n<p>Yes, you can define functions in source code files(outside class). But it is better if you define static functions inside class using <strong>Companion Object</strong> because you can add more static functions by leveraging the <strong>Kotlin Extensions</strong>.</p>\n\n<pre><code>class MyClass {\n    companion object { \n        //define static functions here\n    } \n}\n\n//Adding new static function\nfun MyClass.Companion.newStaticFunction() {\n    // ...\n}\n</code></pre>\n\n<p>And you can call above defined function as you will call any function inside Companion Object.</p>\n"},{"comments":[{"owner":{"account_id":4306844,"reputation":10122,"user_id":3519009,"display_name":"Narendra Jadhav"},"score":9,"creation_date":1531981014,"post_id":51415283,"comment_id":89802232,"body_markdown":"While this code snippet may be the solution, [including an explanation](https://meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may be the solution, <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}],"tags":[],"owner":{"account_id":13968501,"reputation":322,"user_id":10087711,"display_name":"Umesh Maharjan"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1531979708,"creation_date":1531979708,"answer_id":51415283,"question_id":40352684,"body_markdown":"    object objectName {\r\n        fun funName() {\r\n     \r\n        }\r\n    }","title":"What is the equivalent of Java static methods in Kotlin?","body":"<pre><code>object objectName {\n    fun funName() {\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1084234,"reputation":9959,"user_id":1080355,"accept_rate":66,"display_name":"VSB"},"score":1,"creation_date":1540650212,"post_id":52033259,"comment_id":92947830,"body_markdown":"For first usage (i.e. `Test.Companion.isCheck(2)`) IDE shows warnings and say `Companion reference is redundant`. It can be reduced to `Test.isCheck(2)` and the reduced form is more close to java equivalent.","body":"For first usage (i.e. <code>Test.Companion.isCheck(2)</code>) IDE shows warnings and say <code>Companion reference is redundant</code>. It can be reduced to <code>Test.isCheck(2)</code> and the reduced form is more close to java equivalent."}],"tags":[],"owner":{"account_id":11970579,"reputation":626,"user_id":8793928,"display_name":"Android Geek"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1680788152,"creation_date":1535349242,"answer_id":52033259,"question_id":40352684,"body_markdown":"There are 2 ways you can apply static in Kotlin\r\n\r\nFirst make a companion object under class\r\n\r\nFor ex: \r\n\r\n\r\n    class Test{\r\n      companion object{\r\n        fun isCheck(a:Int):Boolean{\r\n          if(a==0) true else false\r\n        }\r\n      }\r\n    }\r\n\r\nyou can call this function as\r\n\r\n    Test.Companion.isCheck(2)\r\n\r\nAnother way we can use is to make an object class\r\n\r\n    object Test{\r\n      fun isCheck(a:Int):Boolean{\r\n        if(a==0) true else false     \r\n      }\r\n    }\r\n\r\nHappy Coding!","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>There are 2 ways you can apply static in Kotlin</p>\n<p>First make a companion object under class</p>\n<p>For ex:</p>\n<pre><code>class Test{\n  companion object{\n    fun isCheck(a:Int):Boolean{\n      if(a==0) true else false\n    }\n  }\n}\n</code></pre>\n<p>you can call this function as</p>\n<pre><code>Test.Companion.isCheck(2)\n</code></pre>\n<p>Another way we can use is to make an object class</p>\n<pre><code>object Test{\n  fun isCheck(a:Int):Boolean{\n    if(a==0) true else false     \n  }\n}\n</code></pre>\n<p>Happy Coding!</p>\n"},{"tags":[],"owner":{"account_id":10661107,"reputation":264,"user_id":7849042,"display_name":"Zafar Hussain"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539102191,"creation_date":1537771067,"answer_id":52473840,"question_id":40352684,"body_markdown":"Use `@JVMStatic` Annotation\r\n\r\n    companion object {\r\n\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic\r\n        fun newInstance(param1: String, param2: String) =\r\n                EditProfileFragment().apply {\r\n                    arguments = Bundle().apply {\r\n                        putString(ARG_PARAM1, param1)\r\n                        putString(ARG_PARAM2, param2)\r\n                    }\r\n                }\r\n    }\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Use <code>@JVMStatic</code> Annotation</p>\n\n<pre><code>companion object {\n\n    // TODO: Rename and change types and number of parameters\n    @JvmStatic\n    fun newInstance(param1: String, param2: String) =\n            EditProfileFragment().apply {\n                arguments = Bundle().apply {\n                    putString(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9163853,"reputation":91,"user_id":6814271,"display_name":"pranalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541433796,"creation_date":1541433456,"answer_id":53157852,"question_id":40352684,"body_markdown":"A lot of people mention companion objects, which is correct.  But, just so you know, you can also use any sort of object (using the object keyword, not class) i.e., \r\n\r\n    object StringUtils {\r\n        fun toUpper(s: String) : String { ... }\r\n    }\r\n\r\nUse it just like any static method in java:\r\n\r\n    StringUtils.toUpper(&quot;foobar&quot;)\r\n\r\nThat sort of pattern is kind of useless in Kotlin though, one of its strengths is that it gets rid of the need for classes filled with static methods.  It is more appropriate to utilize global, extension and/or local functions instead, depending on your use case.  Where I work we often define global extension functions in a separate, flat file with the naming convention: [className]Extensions.kt i.e., FooExtensions.kt.  But more typically we write functions where they are needed inside their operating class or object.  \r\n    \r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>A lot of people mention companion objects, which is correct.  But, just so you know, you can also use any sort of object (using the object keyword, not class) i.e., </p>\n\n<pre><code>object StringUtils {\n    fun toUpper(s: String) : String { ... }\n}\n</code></pre>\n\n<p>Use it just like any static method in java:</p>\n\n<pre><code>StringUtils.toUpper(\"foobar\")\n</code></pre>\n\n<p>That sort of pattern is kind of useless in Kotlin though, one of its strengths is that it gets rid of the need for classes filled with static methods.  It is more appropriate to utilize global, extension and/or local functions instead, depending on your use case.  Where I work we often define global extension functions in a separate, flat file with the naming convention: [className]Extensions.kt i.e., FooExtensions.kt.  But more typically we write functions where they are needed inside their operating class or object.  </p>\n"},{"tags":[],"owner":{"account_id":14653022,"reputation":137,"user_id":10582460,"display_name":"PIZZZZZZZZZZZA is here"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1543863720,"creation_date":1543863720,"answer_id":53600200,"question_id":40352684,"body_markdown":"You can use [Companion Objects - kotlinlang][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\r\n\r\nWhich it can be shown by first creating that Interface\r\n\r\n    interface I&lt;T&gt; {\r\n\r\n    }\r\nThen we have to make a function inside of that interface:\r\n\r\n    fun SomeFunc(): T\r\n\r\nThen after, We need a class:\r\n\r\n    class SomeClass {}\r\n\r\ninside that class we need a companion Object inside that class:\r\n\r\n    companion object : I&lt;SomeClass&gt; {}\r\n\r\ninside that Companion Object we need that old `SomeFunc` function, But we need to over ride it:\r\n\r\n    override fun SomeFunc(): SomeClass = SomeClass()\r\n\r\nFinally below all of that work, We need something to power that Static function, We need a variable:\r\n\r\n    var e:I&lt;SomeClass&gt; = SomeClass()","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>You can use <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Companion Objects - kotlinlang</a></p>\n\n<p>Which it can be shown by first creating that Interface</p>\n\n<pre><code>interface I&lt;T&gt; {\n\n}\n</code></pre>\n\n<p>Then we have to make a function inside of that interface:</p>\n\n<pre><code>fun SomeFunc(): T\n</code></pre>\n\n<p>Then after, We need a class:</p>\n\n<pre><code>class SomeClass {}\n</code></pre>\n\n<p>inside that class we need a companion Object inside that class:</p>\n\n<pre><code>companion object : I&lt;SomeClass&gt; {}\n</code></pre>\n\n<p>inside that Companion Object we need that old <code>SomeFunc</code> function, But we need to over ride it:</p>\n\n<pre><code>override fun SomeFunc(): SomeClass = SomeClass()\n</code></pre>\n\n<p>Finally below all of that work, We need something to power that Static function, We need a variable:</p>\n\n<pre><code>var e:I&lt;SomeClass&gt; = SomeClass()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6185966,"reputation":534,"user_id":4820070,"accept_rate":0,"display_name":"Lalit Behera"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1574021728,"creation_date":1545661224,"answer_id":53914599,"question_id":40352684,"body_markdown":"The exact conversion of the java static method to kotlin equivalent would be like this. e.g. Here the util class has one static method which would be equivalent in both java and kotlin. The use of [@JvmStatic][1] is important.\r\n\r\nJava code: \r\n```java\r\n    class Util{\r\n         public static String capitalize(String text){\r\n         return text.toUpperCase();}\r\n       }\r\n```\r\nKotlin code:\r\n```kt\r\n    class Util {\r\n        companion object {\r\n            @JvmStatic\r\n            fun capitalize(text:String): String {\r\n                return text.toUpperCase()\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>The exact conversion of the java static method to kotlin equivalent would be like this. e.g. Here the util class has one static method which would be equivalent in both java and kotlin. The use of <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">@JvmStatic</a> is important.</p>\n\n<p>Java code: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    class Util{\n         public static String capitalize(String text){\n         return text.toUpperCase();}\n       }\n</code></pre>\n\n<p>Kotlin code:</p>\n\n<pre><code>    class Util {\n        companion object {\n            @JvmStatic\n            fun capitalize(text:String): String {\n                return text.toUpperCase()\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6927695,"reputation":2164,"user_id":5318240,"display_name":"Pablo Baxter"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1551657155,"creation_date":1551657155,"answer_id":54975004,"question_id":40352684,"body_markdown":"Even though this is a bit over 2 years old now, and had plenty of great answers, I am seeing some other ways of getting &quot;static&quot; Kotlin fields are missing. Here is an example guide for Kotlin-Java `static` interop:\r\n\r\n&gt; **Scenario 1: Creating a static method in Kotlin for Java**\r\n&gt; \r\n&gt; *Kotlin*\r\n&gt; \r\n&gt;     @file:JvmName(&quot;KotlinClass&quot;) //This provides a name for this file, so it&#39;s not defaulted as [KotlinClassKt] in Java\r\n&gt;     package com.frybits\r\n&gt; \r\n&gt;     class KotlinClass {\r\n&gt;         companion object {\r\n&gt;             \r\n&gt;             //This annotation tells Java classes to treat this method as if it was a static to [KotlinClass]\r\n&gt;             @JvmStatic\r\n&gt;             fun foo(): Int = 1\r\n&gt;             \r\n&gt;             //Without it, you would have to use [KotlinClass.Companion.bar()] to use this method.\r\n&gt;             fun bar(): Int = 2\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; *Java*\r\n&gt; \r\n&gt;     package com.frybits;\r\n&gt; \r\n&gt;     class JavaClass {\r\n&gt; \r\n&gt;         void someFunction() {\r\n&gt;             println(KotlinClass.foo()); //Prints &quot;1&quot;\r\n&gt;             println(KotlinClass.Companion.bar()); //Prints &quot;2&quot;. This is the only way to use [bar()] in Java.\r\n&gt;             println(KotlinClass.Companion.foo()); //To show that [Companion] is still the holder of the function [foo()]\r\n&gt;         }\r\n&gt; \r\n&gt;         //Because I&#39;m way to lazy to keep typing [System.out], but I still want this to be compilable.\r\n&gt;         void println(Object o) {\r\n&gt;             System.out.println(o);\r\n&gt;         }\r\n&gt;     }\r\n\r\nMichael Anderson&#39;s answer provides more depth than this, and should definitely be referenced for this scenario.\r\n\r\n---\r\n\r\nThis next scenario handles creating static fields in Kotlin so that Java doesn&#39;t have to keep calling `KotlinClass.foo()` for those cases where you don&#39;t want a static function.\r\n\r\n&gt; **Scenario 2: Creating a static variable in Kotlin for Java**\r\n&gt; \r\n&gt; *Kotlin*\r\n&gt; \r\n&gt;     @file:JvmName(&quot;KotlinClass&quot;) //This provides a name for this file, so it&#39;s not defaulted as [KotlinClassKt] in Java\r\n&gt;     package com.frybits\r\n&gt;  \r\n&gt;     class KotlinClass {\r\n&gt; \r\n&gt;         companion object {\r\n&gt; \r\n&gt;             //This annotation tells Kotlin to not generate the getter/setter functions in Java. Instead, this variable should be accessed directly\r\n&gt;             //Also, this is similar to [@JvmStatic], in which it tells Java to treat this as a static variable to [KotlinClass].\r\n&gt;             @JvmField\r\n&gt;             var foo: Int = 1\r\n&gt; \r\n&gt;             //If you want something akin to [final static], and the value is a primitive or a String, you can use the keyword [const] instead\r\n&gt;             //No annotation is needed to make this a field of [KotlinClass]. If the declaration is a non-primitive/non-String, use @JvmField instead\r\n&gt;             const val dog: Int = 1\r\n&gt; \r\n&gt;             //This will be treated as a member of the [Companion] object only. It generates the getter/setters for it.\r\n&gt;             var bar: Int = 2\r\n&gt; \r\n&gt;             //We can still use [@JvmStatic] for &#39;var&#39; variables, but it generates getter/setters as functions of KotlinClass\r\n&gt;             //If we use &#39;val&#39; instead, it only generates a getter function\r\n&gt;             @JvmStatic\r\n&gt;             var cat: Int = 9\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; *Java*\r\n&gt; \r\n&gt;     package com.frybits;\r\n&gt; \r\n&gt;     class JavaClass {\r\n&gt; \r\n&gt;         void someFunction() {\r\n&gt;             //Example using @JvmField\r\n&gt;             println(KotlinClass.foo); //Prints &quot;1&quot;\r\n&gt;             KotlinClass.foo = 3;\r\n&gt; \r\n&gt;             //Example using &#39;const val&#39;\r\n&gt;             println(KotlinClass.dog); //Prints &quot;1&quot;. Notice the lack of a getter function\r\n&gt; \r\n&gt;             //Example of not using either @JvmField, @JvmStatic, or &#39;const val&#39;\r\n&gt;             println(KotlinClass.Companion.getBar()); //Prints &quot;2&quot;\r\n&gt;             KotlinClass.Companion.setBar(3); //The setter for [bar]\r\n&gt; \r\n&gt;             //Example of using @JvmStatic instead of @JvmField\r\n&gt;             println(KotlinClass.getCat());\r\n&gt;             KotlinClass.setCat(0);\r\n&gt;         }\r\n&gt; \r\n&gt;         void println(Object o) {\r\n&gt;             System.out.println(o);\r\n&gt;         }\r\n&gt;     }\r\n\r\n---\r\n\r\nOne of the great features about Kotlin is that you can create top level functions and variables. This makes it greate to create &quot;classless&quot; lists of constant fields and functions, which in turn can be used as `static` functions/fields in Java.\r\n\r\n&gt; **Scenario 3: Accessing top level fields and functions in Kotlin from Java**\r\n&gt; \r\n&gt; *Kotlin*\r\n&gt; \r\n&gt;     //In this example, the file name is &quot;KSample.kt&quot;. If this annotation wasn&#39;t provided, all functions and fields would have to accessed\r\n&gt;     //using the name [KSampleKt.foo()] to utilize them in Java. Make life easier for yourself, and name this something more simple\r\n&gt;     @file:JvmName(&quot;KotlinUtils&quot;)\r\n&gt;     \r\n&gt;     package com.frybits\r\n&gt;     \r\n&gt;     //This can be called from Java as [KotlinUtils.TAG]. This is a final static variable\r\n&gt;     const val TAG = &quot;You&#39;re it!&quot;\r\n&gt;     \r\n&gt;     //Since this is a top level variable and not part of a companion object, there&#39;s no need to annotate this as &quot;static&quot; to access in Java.\r\n&gt;     //However, this can only be utilized using getter/setter functions\r\n&gt;     var foo = 1\r\n&gt;     \r\n&gt;     //This lets us use direct access now\r\n&gt;     @JvmField\r\n&gt;     var bar = 2\r\n&gt;     \r\n&gt;     //Since this is calculated at runtime, it can&#39;t be a constant, but it is still a final static variable. Can&#39;t use &quot;const&quot; here.\r\n&gt;     val GENERATED_VAL:Long = &quot;123&quot;.toLong()\r\n&gt;     \r\n&gt;     //Again, no need for @JvmStatic, since this is not part of a companion object\r\n&gt;     fun doSomethingAwesome() {\r\n&gt;         println(&quot;Everything is awesome!&quot;)\r\n&gt;     }\r\n&gt; \r\n&gt; *Java*\r\n&gt; \r\n&gt;     package com.frybits;\r\n&gt; \r\n&gt;     class JavaClass {\r\n&gt; \r\n&gt;         void someFunction() {\r\n&gt; \r\n&gt;             println(KotlinUtils.TAG); //Example of printing [TAG]\r\n&gt; \r\n&gt; \r\n&gt;             //Example of not using @JvmField.\r\n&gt;             println(KotlinUtils.getFoo()); //Prints &quot;1&quot;\r\n&gt;             KotlinUtils.setFoo(3);\r\n&gt; \r\n&gt;             //Example using @JvmField\r\n&gt;             println(KotlinUtils.bar); //Prints &quot;2&quot;. Notice the lack of a getter function\r\n&gt;             KotlinUtils.bar = 3;\r\n&gt; \r\n&gt;             //Since this is a top level variable, no need for annotations to use this\r\n&gt;             //But it looks awkward without the @JvmField\r\n&gt;             println(KotlinUtils.getGENERATED_VAL());\r\n&gt; \r\n&gt;             //This is how accessing a top level function looks like\r\n&gt;             KotlinUtils.doSomethingAwesome();\r\n&gt;         }\r\n&gt; \r\n&gt;         void println(Object o) {\r\n&gt;             System.out.println(o);\r\n&gt;         }\r\n&gt;     }\r\n\r\n---\r\n\r\nAnother notable mention that can be used in Java as &quot;static&quot; fields are Kotlin `object` classes. These are zero parameter singleton classes that are instantiated lazily on first use. More information about them can be found here: https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\r\n\r\nHowever, to access the singleton, a special `INSTANCE` object is created, which is just as cumbersome to deal with as `Companion` is. Here&#39;s how to use annotations to give it that clean `static` feel in Java:\r\n\r\n&gt; **Scenario 4: Using `object` classes**\r\n&gt; \r\n&gt; *Kotlin*\r\n&gt; \r\n&gt;     @file:JvmName(&quot;KotlinClass&quot;)\r\n&gt;     \r\n&gt;     //This provides a name for this file, so it&#39;s not defaulted as [KotlinClassKt] in Java\r\n&gt;     package com.frybits\r\n&gt;     \r\n&gt;     object KotlinClass { //No need for the &#39;class&#39; keyword here.\r\n&gt;     \r\n&gt;         //Direct access to this variable\r\n&gt;         const val foo: Int = 1\r\n&gt;     \r\n&gt;         //Tells Java this can be accessed directly from [KotlinClass]\r\n&gt;         @JvmStatic\r\n&gt;         var cat: Int = 9\r\n&gt;     \r\n&gt;         //Just a function that returns the class name\r\n&gt;         @JvmStatic\r\n&gt;         fun getCustomClassName(): String = this::class.java.simpleName + &quot;boo!&quot;\r\n&gt;     \r\n&gt;         //Getter/Setter access to this variable, but isn&#39;t accessible directly from [KotlinClass]\r\n&gt;         var bar: Int = 2\r\n&gt;     \r\n&gt;         fun someOtherFunction() = &quot;What is &#39;INSTANCE&#39;?&quot;\r\n&gt;     }\r\n&gt;     \r\n&gt; \r\n&gt; *Java*\r\n&gt; \r\n&gt;     package com.frybits;\r\n&gt; \r\n&gt;     class JavaClass {\r\n&gt; \r\n&gt;         void someFunction() {\r\n&gt;             println(KotlinClass.foo); //Direct read of [foo] in [KotlinClass] singleton\r\n&gt; \r\n&gt;             println(KotlinClass.getCat()); //Getter of [cat]\r\n&gt;             KotlinClass.setCat(0); //Setter of [cat]\r\n&gt; \r\n&gt;             println(KotlinClass.getCustomClassName()); //Example of using a function of this &#39;object&#39; class\r\n&gt; \r\n&gt;             println(KotlinClass.INSTANCE.getBar()); //This is what the singleton would look like without using annotations\r\n&gt;             KotlinClass.INSTANCE.setBar(23);\r\n&gt; \r\n&gt;             println(KotlinClass.INSTANCE.someOtherFunction()); //Accessing a function in the object class without using annotations\r\n&gt;         }\r\n&gt; \r\n&gt;         void println(Object o) {\r\n&gt;             System.out.println(o);\r\n&gt;         }\r\n&gt;     }\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Even though this is a bit over 2 years old now, and had plenty of great answers, I am seeing some other ways of getting \"static\" Kotlin fields are missing. Here is an example guide for Kotlin-Java <code>static</code> interop:</p>\n\n<blockquote>\n  <p><strong>Scenario 1: Creating a static method in Kotlin for Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\") //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n    companion object {\n\n        //This annotation tells Java classes to treat this method as if it was a static to [KotlinClass]\n        @JvmStatic\n        fun foo(): Int = 1\n\n        //Without it, you would have to use [KotlinClass.Companion.bar()] to use this method.\n        fun bar(): Int = 2\n    }\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo()); //Prints \"1\"\n        println(KotlinClass.Companion.bar()); //Prints \"2\". This is the only way to use [bar()] in Java.\n        println(KotlinClass.Companion.foo()); //To show that [Companion] is still the holder of the function [foo()]\n    }\n\n    //Because I'm way to lazy to keep typing [System.out], but I still want this to be compilable.\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>Michael Anderson's answer provides more depth than this, and should definitely be referenced for this scenario.</p>\n\n<hr>\n\n<p>This next scenario handles creating static fields in Kotlin so that Java doesn't have to keep calling <code>KotlinClass.foo()</code> for those cases where you don't want a static function.</p>\n\n<blockquote>\n  <p><strong>Scenario 2: Creating a static variable in Kotlin for Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\") //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n\n    companion object {\n\n        //This annotation tells Kotlin to not generate the getter/setter functions in Java. Instead, this variable should be accessed directly\n        //Also, this is similar to [@JvmStatic], in which it tells Java to treat this as a static variable to [KotlinClass].\n        @JvmField\n        var foo: Int = 1\n\n        //If you want something akin to [final static], and the value is a primitive or a String, you can use the keyword [const] instead\n        //No annotation is needed to make this a field of [KotlinClass]. If the declaration is a non-primitive/non-String, use @JvmField instead\n        const val dog: Int = 1\n\n        //This will be treated as a member of the [Companion] object only. It generates the getter/setters for it.\n        var bar: Int = 2\n\n        //We can still use [@JvmStatic] for 'var' variables, but it generates getter/setters as functions of KotlinClass\n        //If we use 'val' instead, it only generates a getter function\n        @JvmStatic\n        var cat: Int = 9\n    }\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        //Example using @JvmField\n        println(KotlinClass.foo); //Prints \"1\"\n        KotlinClass.foo = 3;\n\n        //Example using 'const val'\n        println(KotlinClass.dog); //Prints \"1\". Notice the lack of a getter function\n\n        //Example of not using either @JvmField, @JvmStatic, or 'const val'\n        println(KotlinClass.Companion.getBar()); //Prints \"2\"\n        KotlinClass.Companion.setBar(3); //The setter for [bar]\n\n        //Example of using @JvmStatic instead of @JvmField\n        println(KotlinClass.getCat());\n        KotlinClass.setCat(0);\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>One of the great features about Kotlin is that you can create top level functions and variables. This makes it greate to create \"classless\" lists of constant fields and functions, which in turn can be used as <code>static</code> functions/fields in Java.</p>\n\n<blockquote>\n  <p><strong>Scenario 3: Accessing top level fields and functions in Kotlin from Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>//In this example, the file name is \"KSample.kt\". If this annotation wasn't provided, all functions and fields would have to accessed\n//using the name [KSampleKt.foo()] to utilize them in Java. Make life easier for yourself, and name this something more simple\n@file:JvmName(\"KotlinUtils\")\n\npackage com.frybits\n\n//This can be called from Java as [KotlinUtils.TAG]. This is a final static variable\nconst val TAG = \"You're it!\"\n\n//Since this is a top level variable and not part of a companion object, there's no need to annotate this as \"static\" to access in Java.\n//However, this can only be utilized using getter/setter functions\nvar foo = 1\n\n//This lets us use direct access now\n@JvmField\nvar bar = 2\n\n//Since this is calculated at runtime, it can't be a constant, but it is still a final static variable. Can't use \"const\" here.\nval GENERATED_VAL:Long = \"123\".toLong()\n\n//Again, no need for @JvmStatic, since this is not part of a companion object\nfun doSomethingAwesome() {\n    println(\"Everything is awesome!\")\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n\n        println(KotlinUtils.TAG); //Example of printing [TAG]\n\n\n        //Example of not using @JvmField.\n        println(KotlinUtils.getFoo()); //Prints \"1\"\n        KotlinUtils.setFoo(3);\n\n        //Example using @JvmField\n        println(KotlinUtils.bar); //Prints \"2\". Notice the lack of a getter function\n        KotlinUtils.bar = 3;\n\n        //Since this is a top level variable, no need for annotations to use this\n        //But it looks awkward without the @JvmField\n        println(KotlinUtils.getGENERATED_VAL());\n\n        //This is how accessing a top level function looks like\n        KotlinUtils.doSomethingAwesome();\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>Another notable mention that can be used in Java as \"static\" fields are Kotlin <code>object</code> classes. These are zero parameter singleton classes that are instantiated lazily on first use. More information about them can be found here: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations</a></p>\n\n<p>However, to access the singleton, a special <code>INSTANCE</code> object is created, which is just as cumbersome to deal with as <code>Companion</code> is. Here's how to use annotations to give it that clean <code>static</code> feel in Java:</p>\n\n<blockquote>\n  <p><strong>Scenario 4: Using <code>object</code> classes</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\")\n\n//This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nobject KotlinClass { //No need for the 'class' keyword here.\n\n    //Direct access to this variable\n    const val foo: Int = 1\n\n    //Tells Java this can be accessed directly from [KotlinClass]\n    @JvmStatic\n    var cat: Int = 9\n\n    //Just a function that returns the class name\n    @JvmStatic\n    fun getCustomClassName(): String = this::class.java.simpleName + \"boo!\"\n\n    //Getter/Setter access to this variable, but isn't accessible directly from [KotlinClass]\n    var bar: Int = 2\n\n    fun someOtherFunction() = \"What is 'INSTANCE'?\"\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo); //Direct read of [foo] in [KotlinClass] singleton\n\n        println(KotlinClass.getCat()); //Getter of [cat]\n        KotlinClass.setCat(0); //Setter of [cat]\n\n        println(KotlinClass.getCustomClassName()); //Example of using a function of this 'object' class\n\n        println(KotlinClass.INSTANCE.getBar()); //This is what the singleton would look like without using annotations\n        KotlinClass.INSTANCE.setBar(23);\n\n        println(KotlinClass.INSTANCE.someOtherFunction()); //Accessing a function in the object class without using annotations\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15466292,"reputation":173,"user_id":11157537,"display_name":"Paulami Biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551848241,"creation_date":1551848241,"answer_id":55015846,"question_id":40352684,"body_markdown":"For Java:\r\n\r\n    public class Constants {\r\n    public static final long MAX_CLICK_INTERVAL = 1000;}\r\n\r\nEquivalent Kotlin code:\r\n\r\n    object  Constants {\r\n    const val MAX_CLICK_INTERVAL: Long = 1000}\r\n\r\nSo for the equivalent of Java static methods is object class in Kotlin.\r\n\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>For Java:</p>\n\n<pre><code>public class Constants {\npublic static final long MAX_CLICK_INTERVAL = 1000;}\n</code></pre>\n\n<p>Equivalent Kotlin code:</p>\n\n<pre><code>object  Constants {\nconst val MAX_CLICK_INTERVAL: Long = 1000}\n</code></pre>\n\n<p>So for the equivalent of Java static methods is object class in Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":12170456,"reputation":370,"user_id":8885332,"display_name":"CodeRanger"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1561405410,"creation_date":1555144417,"answer_id":55663562,"question_id":40352684,"body_markdown":"To make it short you could use **&quot;companion object&quot;** to get into Kotlin static world like :\r\n\r\n      companion object {\r\n        const val TAG = &quot;tHomeFragment&quot;\r\n        fun newInstance() = HomeFragment()\r\n    }\r\n\r\nand to make a constant field use **&quot;const val&quot;** as in the code.\r\nbut try to avoid the static classes as it is making difficulties in unit testing using Mockito!.","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>To make it short you could use <strong>\"companion object\"</strong> to get into Kotlin static world like :</p>\n\n<pre><code>  companion object {\n    const val TAG = \"tHomeFragment\"\n    fun newInstance() = HomeFragment()\n}\n</code></pre>\n\n<p>and to make a constant field use <strong>\"const val\"</strong> as in the code.\nbut try to avoid the static classes as it is making difficulties in unit testing using Mockito!.</p>\n"},{"tags":[],"owner":{"account_id":2203800,"reputation":2404,"user_id":1947494,"accept_rate":0,"display_name":"Nikhil Katekhaye"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560931072,"creation_date":1560929000,"answer_id":56662184,"question_id":40352684,"body_markdown":"In Java, we can write in below way \r\n    \r\n    class MyClass {\r\n      public static int myMethod() { \r\n      return 1;\r\n      }\r\n    }\r\n    \r\nIn Kotlin, we can write in below way\r\n    \r\n    class MyClass {\r\n      companion object {\r\n         fun myMethod() : Int = 1\r\n      }\r\n    }\r\n    \r\na companion is used as static in Kotlin.\r\n     ","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>In Java, we can write in below way </p>\n\n<pre><code>class MyClass {\n  public static int myMethod() { \n  return 1;\n  }\n}\n</code></pre>\n\n<p>In Kotlin, we can write in below way</p>\n\n<pre><code>class MyClass {\n  companion object {\n     fun myMethod() : Int = 1\n  }\n}\n</code></pre>\n\n<p>a companion is used as static in Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":200997,"reputation":61,"user_id":447182,"display_name":"Du Jianyu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565833824,"creation_date":1565833824,"answer_id":57503978,"question_id":40352684,"body_markdown":"The kotlin documents provider three ways to do that,\r\nthe first is define function in package,without class:\r\n\r\n    package com.example\r\n\r\n    fun f() = 1\r\n\r\n\r\nthe second is use @JvmStatic annotation:\r\n\r\n    package com.example\r\n\r\n    class A{\r\n    @JvmStatic\r\n    fun f() = 1\r\n    }\r\n\r\nand the third is use companion object:\r\n\r\n    package com.example\r\n    \r\n    clss A{\r\n    companion object{\r\n    fun f() = 1\r\n    }\r\n    }","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>The kotlin documents provider three ways to do that,\nthe first is define function in package,without class:</p>\n\n<pre><code>package com.example\n\nfun f() = 1\n</code></pre>\n\n<p>the second is use @JvmStatic annotation:</p>\n\n<pre><code>package com.example\n\nclass A{\n@JvmStatic\nfun f() = 1\n}\n</code></pre>\n\n<p>and the third is use companion object:</p>\n\n<pre><code>package com.example\n\nclss A{\ncompanion object{\nfun f() = 1\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":2,"creation_date":1567804475,"post_id":57828360,"comment_id":102087310,"body_markdown":"It looks like the accepted answer is already describing companion objects. So are a lot of the other answers. Does your answer provide anything new?","body":"It looks like the accepted answer is already describing companion objects. So are a lot of the other answers. Does your answer provide anything new?"},{"owner":{"account_id":16568903,"reputation":572,"user_id":11972666,"display_name":"Asad Mahmood"},"score":0,"creation_date":1567853283,"post_id":57828360,"comment_id":102094989,"body_markdown":"for further clarification you can check it out here https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html","body":"for further clarification you can check it out here <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/kotlin-for-py/&hellip;</a>"}],"tags":[],"owner":{"account_id":16568903,"reputation":572,"user_id":11972666,"display_name":"Asad Mahmood"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1567802647,"creation_date":1567802647,"answer_id":57828360,"question_id":40352684,"body_markdown":"If you need a function or a property to be tied to a class rather than to instances of it, you can declare it inside a companion object:\r\n\r\n    class Car(val horsepowers: Int) {\r\n        companion object Factory {\r\n            val cars = mutableListOf&lt;Car&gt;()\r\n    \r\n            fun makeCar(horsepowers: Int): Car {\r\n                val car = Car(horsepowers)\r\n                cars.add(car)\r\n                return car\r\n            }\r\n        }\r\n    }\r\n\r\n   The companion object is a singleton, and its members can be accessed directly via the name of the containing class\r\n\r\n    val car = Car.makeCar(150)\r\n    println(Car.Factory.cars.size)","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>If you need a function or a property to be tied to a class rather than to instances of it, you can declare it inside a companion object:</p>\n\n<pre><code>class Car(val horsepowers: Int) {\n    companion object Factory {\n        val cars = mutableListOf&lt;Car&gt;()\n\n        fun makeCar(horsepowers: Int): Car {\n            val car = Car(horsepowers)\n            cars.add(car)\n            return car\n        }\n    }\n}\n</code></pre>\n\n<p>The companion object is a singleton, and its members can be accessed directly via the name of the containing class</p>\n\n<pre><code>val car = Car.makeCar(150)\nprintln(Car.Factory.cars.size)\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11051546"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1570426730,"creation_date":1570426730,"answer_id":58264004,"question_id":40352684,"body_markdown":"There is no static keyword in kotlin.  kotlin docs recommends to use package-level functions if u want to follow DRY.\n    Create a file with **.kt** extension and put your method in it.\n\n    package p\n        fun m(){\n        //fun body\n        }\n\nafter compilation **m** will have a signature of **public static final void**\n\nand\n\n    import p.m\n\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>There is no static keyword in kotlin.  kotlin docs recommends to use package-level functions if u want to follow DRY.\n    Create a file with <strong>.kt</strong> extension and put your method in it.</p>\n\n<pre><code>package p\n    fun m(){\n    //fun body\n    }\n</code></pre>\n\n<p>after compilation <strong>m</strong> will have a signature of <strong>public static final void</strong></p>\n\n<p>and</p>\n\n<pre><code>import p.m\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573794626,"creation_date":1573794626,"answer_id":58870671,"question_id":40352684,"body_markdown":"For Android using a string from a single activity to all the necessary activity.\r\nJust like static in java \r\n\r\n```public final static String TEA_NAME = &quot;TEA_NAME&quot;; ```\r\n\r\nEquivalent approach in Kotlin:\r\n```kt\r\nclass MainActivity : AppCompatActivity() {\r\n    companion object {\r\n        const val TEA_NAME = &quot;TEA_NAME&quot;\r\n    }\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n    }\r\n}\r\n```\r\nAnother activity where value is needed:\r\n```kt\r\nval teaName = MainActivity.TEA_NAME\r\n```\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>For Android using a string from a single activity to all the necessary activity.\nJust like static in java </p>\n\n<p><code>public final static String TEA_NAME = \"TEA_NAME\";</code></p>\n\n<p>Equivalent approach in Kotlin:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    companion object {\n        const val TEA_NAME = \"TEA_NAME\"\n    }\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<p>Another activity where value is needed:</p>\n\n<pre><code>val teaName = MainActivity.TEA_NAME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11600618,"reputation":69,"user_id":8497862,"display_name":"justYuMu"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1584533447,"creation_date":1584533447,"answer_id":60739314,"question_id":40352684,"body_markdown":"except Michael Anderson&#39;s answer, i have coding with other two way in my project.  \r\n\r\n### First:  \r\nyou can white all variable to one class.\r\ncreated a kotlin file named Const\r\n```\r\nobject Const {\r\n    const val FIRST_NAME_1 = &quot;just&quot;\r\n    const val LAST_NAME_1 = &quot;YuMu&quot;\r\n}\r\n```\r\nYou can use it in kotlin and java code\r\n```\r\n Log.d(&quot;stackoverflow&quot;, Const.FIRST_NAME_1)\r\n```\r\n### Second:\r\nYou can use Kotlin&#39;s extension function  \r\ncreated a kotlin file named Ext below code is the all code in Ext file\r\n```\r\npackage pro.just.yumu\r\n\r\n/**\r\n * Created by lpf on 2020-03-18.\r\n */\r\n\r\nconst val FIRST_NAME = &quot;just&quot;\r\nconst val LAST_NAME = &quot;YuMu&quot;\r\n```\r\nYou can use it in kotlin code\r\n```\r\n Log.d(&quot;stackoverflow&quot;, FIRST_NAME)\r\n```\r\nYou can use it in java code\r\n```\r\n Log.d(&quot;stackoverflow&quot;, ExtKt.FIRST_NAME);\r\n```","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>except Michael Anderson's answer, i have coding with other two way in my project.  </p>\n\n<h3>First:</h3>\n\n<p>you can white all variable to one class.\ncreated a kotlin file named Const</p>\n\n<pre><code>object Const {\n    const val FIRST_NAME_1 = \"just\"\n    const val LAST_NAME_1 = \"YuMu\"\n}\n</code></pre>\n\n<p>You can use it in kotlin and java code</p>\n\n<pre><code> Log.d(\"stackoverflow\", Const.FIRST_NAME_1)\n</code></pre>\n\n<h3>Second:</h3>\n\n<p>You can use Kotlin's extension function<br>\ncreated a kotlin file named Ext below code is the all code in Ext file</p>\n\n<pre><code>package pro.just.yumu\n\n/**\n * Created by lpf on 2020-03-18.\n */\n\nconst val FIRST_NAME = \"just\"\nconst val LAST_NAME = \"YuMu\"\n</code></pre>\n\n<p>You can use it in kotlin code</p>\n\n<pre><code> Log.d(\"stackoverflow\", FIRST_NAME)\n</code></pre>\n\n<p>You can use it in java code</p>\n\n<pre><code> Log.d(\"stackoverflow\", ExtKt.FIRST_NAME);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1613396398,"post_id":66175395,"comment_id":117054574,"body_markdown":"Very nicely written and detailed answer.","body":"Very nicely written and detailed answer."}],"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1613146989,"creation_date":1613146989,"answer_id":66175395,"question_id":40352684,"body_markdown":"Top-level / `companion object` for `static` properties\r\n------------------------------------------------------\r\n\r\n**Top-level**\r\n\r\nWhen the properties are somewhat related to a class, define them as top-level properties just before the class declaration:\r\n\r\n    const val MAX_ATTEMPTS = 3\r\n    private const val DEFAULT_NAME = &quot;Guest&quot;\r\n    private const val MIN_AGE = 16\r\n    \r\n    data class User(val id: String, val name: String = DEFAULT_NAME)\r\n\r\nThis is similar to the `static` properties in Java. \r\n\r\nWhen the properties are completely independent of any class, you can define them as top-level in a separate file without the class.\r\n\r\n**`companion object`**\r\n\r\nWhen the properties are closely related to a class and will be used only in that class, define them inside a `companion object`:\r\n\r\n    data class User(val id: String, val name: String = DEFAULT_NAME) {\r\n        companion object {\r\n            const val DEFAULT_NAME = &quot;Guest&quot;\r\n            const val MIN_AGE = 16\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nTop-level / `companion object` for `static` methods\r\n---------------------------------------------------\r\n\r\n**Top-level**\r\n\r\nSimilar to the properties above, when the functions are somewhat related to a class, define them just above the class:\r\n\r\n    fun getAllUsers() { }\r\n    \r\n    fun getProfileFor(userId: String) { }\r\n    \r\n    data class User(val id: String, val name: String)\r\n\r\nUsage:\r\n\r\n    val userList = getAllUsers()\r\n\r\n**`companion object`**\r\n\r\nWhen the functions are closely related to a class, define them inside a `companion object`:\r\n\r\n    data class User(val id: String, val name: String) {\r\n\r\n        companion object {\r\n\r\n            fun getAll() { }\r\n\r\n            fun profileFor(userId: String) { }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    val userProfile = User.profileFor(&quot;34&quot;)\r\n\r\nThis is similar to the `static` methods in Java. \r\n\r\nThe top-level functions are often more idiomatic to Kotlin. A better reason to define functions inside the `companion object` is when you are extending a `companion object` with an `interface`. An example of this is shown in the singleton section.\r\n\r\n\r\n----------\r\n\r\n\r\nNested class for `static` class\r\n-------------------------------\r\n\r\nWhen the classes with related functionalities belong together, they can be grouped together by nesting:\r\n\r\n    class User(val id: String, val name: String) {\r\n        class UserAccess : UserDao {\r\n            override fun add(user: User) { }\r\n            override fun remove(id: String) { }\r\n        }\r\n    }\r\n\r\nThis is equivalent to the `static` nested classes in Java. The `UserAccess` class here implements an `interface` `UserDao`.\r\n\r\nUsage:\r\n\r\n    fun main() {\r\n        val john = User(&quot;34&quot;, &quot;John&quot;)\r\n        val userAccess = User.UserAccess()\r\n        userAccess.add(john)\r\n    }\r\n\r\n\r\n----------\r\n\r\nSingleton `object` for `static INSTANCE`\r\n----------------------------------------\r\n\r\n**Top-level**\r\n\r\nWhen you just want a single object of a class, you no longer need to create a `static INSTANCE` inside a class like in Java. Simply use a top-level `object` declaration:\r\n\r\n    object UserAccess : UserDao {\r\n        override fun add(user: User) { }\r\n        override fun remove(id: String) { }\r\n    }\r\n\r\nNotice also how easy it is to extend an `interface` or a `class` in a singleton. \r\n\r\nThe code above, under the hood, produces the following `static INSTANCE` singleton pattern in Java (simplified):\r\n\r\n    public final class UserAccess implements UserDao {\r\n       public static final UserAccess INSTANCE;\r\n    \r\n       public void add(User user) { }\r\n    \r\n       public void remove(String id) { }\r\n    \r\n       private UserAccess() { }\r\n    \r\n       static { INSTANCE = new UserAccess();}\r\n    }\r\n\r\n**`companion object`**\r\n\r\nWhen the singleton is closely related to a class use `companion object`:\r\n\r\n    data class User(val id: String, val name: String) {\r\n        companion object : UserDao {\r\n            override fun add(user: User) { }\r\n            override fun remove(id: String) { }\r\n        }\r\n    }\r\n\r\nThis way you get more elegant naming: `User.add(john)`. Also, you make the intent clear that this singleton is only used as a utility for the `User` class. You can also use the `object` without the `companion` keyword inside the class, if you want multiple singletons or groups of functions/properties.\r\n\r\n\r\n----------\r\n\r\n\r\n`companion object` for `static` factory\r\n---------------------------------------\r\n\r\nFactory functions in Koltin are created using the `companion object`. Factory functions are useful when you want to provide multiple ways to create an object where the object construction process is complex or when multiple constructors are not expressive enough.\r\n\r\nFor example, the `newInstance()` factory function in the following snippet creates a user by generating the `id` automatically:\r\n\r\n    class User private constructor(val id: Long, val name: String) {\r\n        companion object {\r\n            private var currentId = 0L;\r\n            fun newInstance(name: String) = User(currentId++, name)\r\n        }\r\n    }\r\n\r\nThis is equivalent to the `static` factory methods in Java. \r\n\r\nThe `constructor` is kept `private` but the `companion object` has access to the `constructor`.\r\n\r\nIn the code above, consistency of the next `id` generation is guaranteed because a `companion object` is a singleton, only one object will keep track of the `id`, there won&#39;t be any duplicate ids.\r\n\r\nAlso notice that companion objects can have properties (`currentId` in this case) to represent state.\r\n\r\nUsage:\r\n\r\n    val john = User.newInstance(&quot;John&quot;)\r\n\r\n----------\r\n\r\n`@JvmStatic` for Java interoperability\r\n--------------------------------------\r\n\r\nThe static concept of Java doesn&#39;t exist in Kotlin. A `companion object` is an instance of a real `class` called `Companion`. So, when you call the Kotlin code from Java, an object of the `Companion` class is first instantiated behind the scenes. You need to call the function using the `Companion` object in Java:\r\n\r\n    Profile userProfile = User.Companion.profileFor(&quot;34&quot;);\r\n\r\nFor the idiomatic Java naming and less verbosity, use `@JvmStatic` annotation on that function or property:\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        fun profileFor(userId: String): Profile { }\r\n    }\r\n\r\nThe `@JvmStatic` annotation creates a separate pure `static` copy of the `getProfileFor()` function. Now you can use it from Java with regular syntax:\r\n\r\n    Profile userProfile = User.profileFor(&quot;34&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nThat&#39;s it! Hope the examples are useful for your projects.","title":"What is the equivalent of Java static methods in Kotlin?","body":"<h2>Top-level / <code>companion object</code> for <code>static</code> properties</h2>\n<p><strong>Top-level</strong></p>\n<p>When the properties are somewhat related to a class, define them as top-level properties just before the class declaration:</p>\n<pre><code>const val MAX_ATTEMPTS = 3\nprivate const val DEFAULT_NAME = &quot;Guest&quot;\nprivate const val MIN_AGE = 16\n\ndata class User(val id: String, val name: String = DEFAULT_NAME)\n</code></pre>\n<p>This is similar to the <code>static</code> properties in Java.</p>\n<p>When the properties are completely independent of any class, you can define them as top-level in a separate file without the class.</p>\n<p><strong><code>companion object</code></strong></p>\n<p>When the properties are closely related to a class and will be used only in that class, define them inside a <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String = DEFAULT_NAME) {\n    companion object {\n        const val DEFAULT_NAME = &quot;Guest&quot;\n        const val MIN_AGE = 16\n    }\n}\n</code></pre>\n<hr />\n<h2>Top-level / <code>companion object</code> for <code>static</code> methods</h2>\n<p><strong>Top-level</strong></p>\n<p>Similar to the properties above, when the functions are somewhat related to a class, define them just above the class:</p>\n<pre><code>fun getAllUsers() { }\n\nfun getProfileFor(userId: String) { }\n\ndata class User(val id: String, val name: String)\n</code></pre>\n<p>Usage:</p>\n<pre><code>val userList = getAllUsers()\n</code></pre>\n<p><strong><code>companion object</code></strong></p>\n<p>When the functions are closely related to a class, define them inside a <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String) {\n\n    companion object {\n\n        fun getAll() { }\n\n        fun profileFor(userId: String) { }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val userProfile = User.profileFor(&quot;34&quot;)\n</code></pre>\n<p>This is similar to the <code>static</code> methods in Java.</p>\n<p>The top-level functions are often more idiomatic to Kotlin. A better reason to define functions inside the <code>companion object</code> is when you are extending a <code>companion object</code> with an <code>interface</code>. An example of this is shown in the singleton section.</p>\n<hr />\n<h2>Nested class for <code>static</code> class</h2>\n<p>When the classes with related functionalities belong together, they can be grouped together by nesting:</p>\n<pre><code>class User(val id: String, val name: String) {\n    class UserAccess : UserDao {\n        override fun add(user: User) { }\n        override fun remove(id: String) { }\n    }\n}\n</code></pre>\n<p>This is equivalent to the <code>static</code> nested classes in Java. The <code>UserAccess</code> class here implements an <code>interface</code> <code>UserDao</code>.</p>\n<p>Usage:</p>\n<pre><code>fun main() {\n    val john = User(&quot;34&quot;, &quot;John&quot;)\n    val userAccess = User.UserAccess()\n    userAccess.add(john)\n}\n</code></pre>\n<hr />\n<h2>Singleton <code>object</code> for <code>static INSTANCE</code></h2>\n<p><strong>Top-level</strong></p>\n<p>When you just want a single object of a class, you no longer need to create a <code>static INSTANCE</code> inside a class like in Java. Simply use a top-level <code>object</code> declaration:</p>\n<pre><code>object UserAccess : UserDao {\n    override fun add(user: User) { }\n    override fun remove(id: String) { }\n}\n</code></pre>\n<p>Notice also how easy it is to extend an <code>interface</code> or a <code>class</code> in a singleton.</p>\n<p>The code above, under the hood, produces the following <code>static INSTANCE</code> singleton pattern in Java (simplified):</p>\n<pre><code>public final class UserAccess implements UserDao {\n   public static final UserAccess INSTANCE;\n\n   public void add(User user) { }\n\n   public void remove(String id) { }\n\n   private UserAccess() { }\n\n   static { INSTANCE = new UserAccess();}\n}\n</code></pre>\n<p><strong><code>companion object</code></strong></p>\n<p>When the singleton is closely related to a class use <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String) {\n    companion object : UserDao {\n        override fun add(user: User) { }\n        override fun remove(id: String) { }\n    }\n}\n</code></pre>\n<p>This way you get more elegant naming: <code>User.add(john)</code>. Also, you make the intent clear that this singleton is only used as a utility for the <code>User</code> class. You can also use the <code>object</code> without the <code>companion</code> keyword inside the class, if you want multiple singletons or groups of functions/properties.</p>\n<hr />\n<h2><code>companion object</code> for <code>static</code> factory</h2>\n<p>Factory functions in Koltin are created using the <code>companion object</code>. Factory functions are useful when you want to provide multiple ways to create an object where the object construction process is complex or when multiple constructors are not expressive enough.</p>\n<p>For example, the <code>newInstance()</code> factory function in the following snippet creates a user by generating the <code>id</code> automatically:</p>\n<pre><code>class User private constructor(val id: Long, val name: String) {\n    companion object {\n        private var currentId = 0L;\n        fun newInstance(name: String) = User(currentId++, name)\n    }\n}\n</code></pre>\n<p>This is equivalent to the <code>static</code> factory methods in Java.</p>\n<p>The <code>constructor</code> is kept <code>private</code> but the <code>companion object</code> has access to the <code>constructor</code>.</p>\n<p>In the code above, consistency of the next <code>id</code> generation is guaranteed because a <code>companion object</code> is a singleton, only one object will keep track of the <code>id</code>, there won't be any duplicate ids.</p>\n<p>Also notice that companion objects can have properties (<code>currentId</code> in this case) to represent state.</p>\n<p>Usage:</p>\n<pre><code>val john = User.newInstance(&quot;John&quot;)\n</code></pre>\n<hr />\n<h2><code>@JvmStatic</code> for Java interoperability</h2>\n<p>The static concept of Java doesn't exist in Kotlin. A <code>companion object</code> is an instance of a real <code>class</code> called <code>Companion</code>. So, when you call the Kotlin code from Java, an object of the <code>Companion</code> class is first instantiated behind the scenes. You need to call the function using the <code>Companion</code> object in Java:</p>\n<pre><code>Profile userProfile = User.Companion.profileFor(&quot;34&quot;);\n</code></pre>\n<p>For the idiomatic Java naming and less verbosity, use <code>@JvmStatic</code> annotation on that function or property:</p>\n<pre><code>companion object {\n    @JvmStatic\n    fun profileFor(userId: String): Profile { }\n}\n</code></pre>\n<p>The <code>@JvmStatic</code> annotation creates a separate pure <code>static</code> copy of the <code>getProfileFor()</code> function. Now you can use it from Java with regular syntax:</p>\n<pre><code>Profile userProfile = User.profileFor(&quot;34&quot;);\n</code></pre>\n<hr />\n<p>That's it! Hope the examples are useful for your projects.</p>\n"},{"tags":[],"owner":{"account_id":6689040,"reputation":593,"user_id":5159093,"display_name":"ItSNeverLate"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624860538,"creation_date":1624860538,"answer_id":68158326,"question_id":40352684,"body_markdown":"Simply use this approach\r\n\r\n    object Foo{\r\n       fun foo() = println(&quot;Foo&quot;)\r\n       val bar =&quot;bar&quot;  \r\n    }\r\n    \r\n    Foo.INSTANCE.foo()\r\n\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>Simply use this approach</p>\n<pre><code>object Foo{\n   fun foo() = println(&quot;Foo&quot;)\n   val bar =&quot;bar&quot;  \n}\n\nFoo.INSTANCE.foo()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695538862,"creation_date":1695538862,"answer_id":77166022,"question_id":40352684,"body_markdown":"**Not a direct answer to the question**  \r\nThere has been a Kotlin proposal to introduce statics in Kotlin:\r\n\r\n  - Proposal: https://github.com/Kotlin/KEEP/blob/statics/proposals/statics.md\r\n  - Discussion: https://github.com/Kotlin/KEEP/issues/348\r\n  - YouTrack Issue: https://youtrack.jetbrains.com/issue/KT-11968\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p><strong>Not a direct answer to the question</strong><br />\nThere has been a Kotlin proposal to introduce statics in Kotlin:</p>\n<ul>\n<li>Proposal: <a href=\"https://github.com/Kotlin/KEEP/blob/statics/proposals/statics.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/blob/statics/proposals/statics.md</a></li>\n<li>Discussion: <a href=\"https://github.com/Kotlin/KEEP/issues/348\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/issues/348</a></li>\n<li>YouTrack Issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-11968</a></li>\n</ul>\n"}],"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537812,"favorite_count":0,"down_vote_count":3,"up_vote_count":1077,"accepted_answer_id":40352734,"answer_count":30,"score":1074,"last_activity_date":1695538951,"creation_date":1477961553,"question_id":40352684,"body_markdown":"There is no `static` keyword in Kotlin.\r\n\r\nWhat is the best way to represent a `static` Java method in Kotlin?\r\n","title":"What is the equivalent of Java static methods in Kotlin?","body":"<p>There is no <code>static</code> keyword in Kotlin.</p>\n<p>What is the best way to represent a <code>static</code> Java method in Kotlin?</p>\n"},{"tags":["java","apache-commons","jxpath"],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695538272,"creation_date":1695538272,"question_id":77166001,"body_markdown":"I am trying to search using [jxPath][1] on a proto message, My proto message is placed in the [gist][2] (due to stackoverflow body size limit)\r\n\r\n\r\nMy code looks something like below\r\n\r\n```\r\nclass PNRListBuilderTest {\r\n  ...\r\n  @Test\r\n  void testJxPathCtx() {\r\n    // Reads the proto message shown above from a text file\r\n    val protoStr = getStringFromFile(&quot;classpath:BookingEnginePnrUpdateEventProto.txt&quot;);\r\n    val msgBld = BookingEnginePNRUpdateEvent.newBuilder();\r\n    TextFormat.getParser().merge(protoStr, msgBld);\r\n    val msgCtx = JXPathContext.newContext(msgBld.build());\r\n    System.out.println(msgCtx.getValue(&quot;//employeeId&quot;));\r\n  }\r\n}\r\n```\r\n\r\n\r\nI am observing that `msgCtx.getValue(&quot;//employeeId&quot;)` is taking a lot of time. I waited for about 30 mins. It still did not complete. \r\n\r\nIf I specify the entire path like below then it is working fine. \r\n\r\n```\r\nmsgCtx.getValue(&quot;/metadata/bookerInfo/traveler/userBusinessInfo/employeeId&quot;)\r\n```\r\n\r\nCan someone let me know what is going wrong? Is this expected ?\r\n\r\nThread dumps at various points are like below\r\n\r\n**After 1 min**\r\n\r\n```\r\n&quot;main&quot; prio=0 tid=0x0 nid=0x0 runnable\r\n     java.lang.Thread.State: RUNNABLE\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.newChildNodePointer(NodePointer.java:106)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyPointer.getImmediateValuePointer(PropertyPointer.java:161)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.getValuePointer(NodePointer.java:297)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getNodePointer(PropertyIterator.java:121)\r\n\tat app//org.apache.commons.jxpath.ri.axes.DescendantContext.isRecursive(DescendantContext.java:148)\r\n\tat app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:116)\r\n\tat app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\r\n\tat app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\r\n\tat app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\r\n```\r\n\r\n**After 2 mins**\r\n\r\n```\r\njava.lang.Thread.State: RUNNABLE\r\n\tat java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.apache.commons.jxpath.util.ValueUtils.getIndexedPropertyLength(ValueUtils.java:122)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.BeanPropertyPointer.getLength(BeanPropertyPointer.java:202)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getLength(PropertyIterator.java:318)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPositionAllProperties(PropertyIterator.java:206)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPosition(PropertyIterator.java:139)\r\n\tat app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:114)\r\n\tat app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\r\n\tat app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\r\n\tat app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\r\n```\r\n\r\n**After 5 mins**\r\n\r\n```\r\n&quot;main&quot; prio=0 tid=0x0 nid=0x0 runnable\r\n     java.lang.Thread.State: RUNNABLE\r\n\tat java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.apache.commons.jxpath.util.ValueUtils.getIndexedPropertyLength(ValueUtils.java:122)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.BeanPropertyPointer.getLength(BeanPropertyPointer.java:202)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getLength(PropertyIterator.java:318)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPositionAllProperties(PropertyIterator.java:206)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPosition(PropertyIterator.java:139)\r\n\tat app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:114)\r\n\tat app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\r\n\tat app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\r\n\tat app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\r\n```\r\n\r\n**After 7 mins**\r\n\r\n```\r\nmain&quot; prio=0 tid=0x0 nid=0x0 runnable\r\n     java.lang.Thread.State: RUNNABLE\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:715)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyPointer.getImmediateValuePointer(PropertyPointer.java:161)\r\n\tat app//org.apache.commons.jxpath.ri.model.NodePointer.getValuePointer(NodePointer.java:297)\r\n\tat app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getNodePointer(PropertyIterator.java:121)\r\n\tat app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:115)\r\n\tat app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\r\n\tat app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\r\n\tat app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\r\n\tat app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\r\n\tat app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-jxpath/\r\n  [2]: https://gist.github.com/debraj-manna/4a8ded5d79dc9aee8d4c03d460327284","title":"jxpath taking lot of time on trying to do a getValue","body":"<p>I am trying to search using <a href=\"https://commons.apache.org/proper/commons-jxpath/\" rel=\"nofollow noreferrer\">jxPath</a> on a proto message, My proto message is placed in the <a href=\"https://gist.github.com/debraj-manna/4a8ded5d79dc9aee8d4c03d460327284\" rel=\"nofollow noreferrer\">gist</a> (due to stackoverflow body size limit)</p>\n<p>My code looks something like below</p>\n<pre><code>class PNRListBuilderTest {\n  ...\n  @Test\n  void testJxPathCtx() {\n    // Reads the proto message shown above from a text file\n    val protoStr = getStringFromFile(&quot;classpath:BookingEnginePnrUpdateEventProto.txt&quot;);\n    val msgBld = BookingEnginePNRUpdateEvent.newBuilder();\n    TextFormat.getParser().merge(protoStr, msgBld);\n    val msgCtx = JXPathContext.newContext(msgBld.build());\n    System.out.println(msgCtx.getValue(&quot;//employeeId&quot;));\n  }\n}\n</code></pre>\n<p>I am observing that <code>msgCtx.getValue(&quot;//employeeId&quot;)</code> is taking a lot of time. I waited for about 30 mins. It still did not complete.</p>\n<p>If I specify the entire path like below then it is working fine.</p>\n<pre><code>msgCtx.getValue(&quot;/metadata/bookerInfo/traveler/userBusinessInfo/employeeId&quot;)\n</code></pre>\n<p>Can someone let me know what is going wrong? Is this expected ?</p>\n<p>Thread dumps at various points are like below</p>\n<p><strong>After 1 min</strong></p>\n<pre><code>&quot;main&quot; prio=0 tid=0x0 nid=0x0 runnable\n     java.lang.Thread.State: RUNNABLE\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.newChildNodePointer(NodePointer.java:106)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyPointer.getImmediateValuePointer(PropertyPointer.java:161)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.getValuePointer(NodePointer.java:297)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getNodePointer(PropertyIterator.java:121)\n    at app//org.apache.commons.jxpath.ri.axes.DescendantContext.isRecursive(DescendantContext.java:148)\n    at app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:116)\n    at app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\n    at app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\n    at app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\n    at app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\n</code></pre>\n<p><strong>After 2 mins</strong></p>\n<pre><code>java.lang.Thread.State: RUNNABLE\n    at java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.apache.commons.jxpath.util.ValueUtils.getIndexedPropertyLength(ValueUtils.java:122)\n    at app//org.apache.commons.jxpath.ri.model.beans.BeanPropertyPointer.getLength(BeanPropertyPointer.java:202)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getLength(PropertyIterator.java:318)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPositionAllProperties(PropertyIterator.java:206)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPosition(PropertyIterator.java:139)\n    at app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:114)\n    at app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\n    at app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\n    at app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\n    at app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\n</code></pre>\n<p><strong>After 5 mins</strong></p>\n<pre><code>&quot;main&quot; prio=0 tid=0x0 nid=0x0 runnable\n     java.lang.Thread.State: RUNNABLE\n    at java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.apache.commons.jxpath.util.ValueUtils.getIndexedPropertyLength(ValueUtils.java:122)\n    at app//org.apache.commons.jxpath.ri.model.beans.BeanPropertyPointer.getLength(BeanPropertyPointer.java:202)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getLength(PropertyIterator.java:318)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPositionAllProperties(PropertyIterator.java:206)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.setPosition(PropertyIterator.java:139)\n    at app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:114)\n    at app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\n    at app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\n    at app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\n    at app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\n</code></pre>\n<p><strong>After 7 mins</strong></p>\n<pre><code>main&quot; prio=0 tid=0x0 nid=0x0 runnable\n     java.lang.Thread.State: RUNNABLE\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:715)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.clone(NodePointer.java:717)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyPointer.getImmediateValuePointer(PropertyPointer.java:161)\n    at app//org.apache.commons.jxpath.ri.model.NodePointer.getValuePointer(NodePointer.java:297)\n    at app//org.apache.commons.jxpath.ri.model.beans.PropertyIterator.getNodePointer(PropertyIterator.java:121)\n    at app//org.apache.commons.jxpath.ri.axes.DescendantContext.nextNode(DescendantContext.java:115)\n    at app//org.apache.commons.jxpath.ri.EvalContext.nextSet(EvalContext.java:349)\n    at app//org.apache.commons.jxpath.ri.axes.ChildContext.getSingleNodePointer(ChildContext.java:70)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.searchForPath(Path.java:201)\n    at app//org.apache.commons.jxpath.ri.compiler.Path.getSingleNodePointerForSteps(Path.java:176)\n    at app//org.apache.commons.jxpath.ri.compiler.LocationPath.computeValue(LocationPath.java:87)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:353)\n    at app//org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getValue(JXPathContextReferenceImpl.java:313)\n    at app//com.spotnana.webhooks.isos.PNRListBuilderTest.testJxPathCtx(PNRListBuilderTest.java:366)\n</code></pre>\n"},{"tags":["java","arrays","printing","tostring"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1231015289,"post_id":409784,"comment_id":234712,"body_markdown":"What do you want the representation to be for objects other than strings? The result of calling toString? In quotes or not?","body":"What do you want the representation to be for objects other than strings? The result of calling toString? In quotes or not?"},{"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"score":3,"creation_date":1231015365,"post_id":409784,"comment_id":234717,"body_markdown":"Yes objects would be represented by their toString() method and without quotes (just edited the example output).","body":"Yes objects would be represented by their toString() method and without quotes (just edited the example output)."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1453658566,"post_id":409784,"comment_id":57687878,"body_markdown":"In practice, closely related to http://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4","body":"In practice, closely related to <a href=\"http://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\" title=\"how do i print my java object without getting sometype2f92e0f4\">stackoverflow.com/questions/29140402/&hellip;</a>"},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":2,"creation_date":1478812960,"post_id":409784,"comment_id":68313951,"body_markdown":"That weird output is not necessarily the memory location. It&#39;s the `hashCode()` in hexadecimal. See [`Object#toString()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--).","body":"That weird output is not necessarily the memory location. It&#39;s the <code>hashCode()</code> in hexadecimal. See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>Object#toString()</code></a>."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":1,"creation_date":1479259718,"post_id":409784,"comment_id":68479173,"body_markdown":"To print single dimensional or multi-dimensional array in java8 check http://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array/30931066#30931066","body":"To print single dimensional or multi-dimensional array in java8 check <a href=\"http://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array/30931066#30931066\" title=\"whats the simplest way to print a java array\">stackoverflow.com/questions/409784/&hellip;</a>"},{"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"score":0,"creation_date":1504272094,"post_id":409784,"comment_id":78962856,"body_markdown":"Related: [*Convert array of strings into a string in Java*](https://stackoverflow.com/q/5283444/3357935) &amp; [*How do I print my Java object without getting SomeType@2f92e0f4?*](https://stackoverflow.com/q/29140402/3357935)","body":"Related: <a href=\"https://stackoverflow.com/q/5283444/3357935\"><i>Convert array of strings into a string in Java</i></a> &amp; <a href=\"https://stackoverflow.com/q/29140402/3357935\"><i>How do I print my Java object without getting SomeType@2f92e0f4?</i></a>"},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1592161706,"post_id":409784,"comment_id":110319360,"body_markdown":"Related: https://stackoverflow.com/questions/62191507/objects-deeptostringobject-o-method","body":"Related: <a href=\"https://stackoverflow.com/questions/62191507/objects-deeptostringobject-o-method\" title=\"objects deeptostringobject o method\">stackoverflow.com/questions/62191507/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":4,"creation_date":1440815681,"post_id":409795,"comment_id":52442630,"body_markdown":"What if we have an array of strings, and want simple output; like: `String[] array = {&quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;}`, and we want this output without bracket and commas: `John Mahta Sara`?","body":"What if we have an array of strings, and want simple output; like: <code>String[] array = {&quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;}</code>, and we want this output without bracket and commas: <code>John Mahta Sara</code>?"},{"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"score":3,"creation_date":1440828965,"post_id":409795,"comment_id":52444644,"body_markdown":"@Hengameh: There are several other ways to do this, but my favorite is this one: http://www.javahotchocolate.com/notes/java.html#arrays-tostring .","body":"@Hengameh: There are several other ways to do this, but my favorite is this one: <a href=\"http://www.javahotchocolate.com/notes/java.html#arrays-tostring\" rel=\"nofollow noreferrer\">javahotchocolate.com/notes/java.html#arrays-tostring</a> ."},{"owner":{"account_id":472489,"reputation":2168,"user_id":1442960,"accept_rate":80,"display_name":"Marcus"},"score":5,"creation_date":1449876312,"post_id":409795,"comment_id":56212264,"body_markdown":"FYI, `Arrays.deepToString()` accepts only an `Object []` (or an array of classes that extend `Object`, such as `Integer`, so it won&#39;t work on a primitive array of type `int []`.  But `Arrays.toString(&lt;int array&gt;)` works fine for primitive arrays.","body":"FYI, <code>Arrays.deepToString()</code> accepts only an <code>Object []</code> (or an array of classes that extend <code>Object</code>, such as <code>Integer</code>, so it won&#39;t work on a primitive array of type <code>int []</code>.  But <code>Arrays.toString(&lt;int array&gt;)</code> works fine for primitive arrays."},{"owner":{"account_id":8397947,"reputation":1537,"user_id":6304349,"display_name":"SE is dead"},"score":7,"creation_date":1489414553,"post_id":409795,"comment_id":72646741,"body_markdown":"@Hengameh There&#39;s a method dedicated to that. `System.out.println(String.join(&quot; &quot;, new String[]{&quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;}))` will print `John Mahta Sara`.","body":"@Hengameh There&#39;s a method dedicated to that. <code>System.out.println(String.join(&quot; &quot;, new String[]{&quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;}))</code> will print <code>John Mahta Sara</code>."},{"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"score":2,"creation_date":1534579933,"post_id":409795,"comment_id":90763636,"body_markdown":"@dorukayhan Actually you can omit explicitly instantiating the array here: `String.join(&quot; &quot;, &quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;)`for the `.join(...)` method takes the array as a _vararg_ parameter.","body":"@dorukayhan Actually you can omit explicitly instantiating the array here: <code>String.join(&quot; &quot;, &quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot;)</code>for the <code>.join(...)</code> method takes the array as a <i>vararg</i> parameter."},{"owner":{"account_id":4889037,"reputation":587,"user_id":3940670,"display_name":"M.Hossein Rahimi"},"score":11,"creation_date":1571694533,"post_id":409795,"comment_id":103318863,"body_markdown":"Don&#39;t forget &quot;import java.util.Arrays;&quot;","body":"Don&#39;t forget &quot;import java.util.Arrays;&quot;"},{"owner":{"account_id":15455548,"reputation":1412,"user_id":12485639,"display_name":"Omkar76"},"score":0,"creation_date":1598683632,"post_id":409795,"comment_id":112544133,"body_markdown":"If you don&#39;t import, you can write `java.util.Arrays.toString(array)`","body":"If you don&#39;t import, you can write <code>java.util.Arrays.toString(array)</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1609251859,"post_id":409795,"comment_id":115789948,"body_markdown":"Also, don&#39;t forget to override `Object#toString()` if the array contains an object type other than `String` or a primitive wrapper class.","body":"Also, don&#39;t forget to override <code>Object#toString()</code> if the array contains an object type other than <code>String</code> or a primitive wrapper class."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":8,"down_vote_count":1,"up_vote_count":3186,"is_accepted":true,"score":3185,"last_activity_date":1676019410,"creation_date":1231015424,"answer_id":409795,"question_id":409784,"body_markdown":"Since Java 5 you can use [`Arrays.toString(arr)`][1] or [`Arrays.deepToString(arr)`][2] for arrays within arrays. Note that the `Object[]` version calls `.toString()` on each object in the array. The output is even decorated in the exact way you&#39;re asking.\r\n\r\nExamples:\r\n\r\n- ### Simple Array:\r\n\r\n      String[] array = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n      System.out.println(Arrays.toString(array));\r\n\r\n  Output:\r\n\r\n      [John, Mary, Bob]\r\n    \r\n- ### Nested Array:\r\n\r\n      String[][] deepArray = new String[][] {{&quot;John&quot;, &quot;Mary&quot;}, {&quot;Alice&quot;, &quot;Bob&quot;}};\r\n      // Gives undesired output:\r\n      System.out.println(Arrays.toString(deepArray));\r\n      // Gives the desired output:\r\n      System.out.println(Arrays.deepToString(deepArray));\r\n\r\n  Output:\r\n\r\n      [[Ljava.lang.String;@106d69c, [Ljava.lang.String;@52e922]\r\n      [[John, Mary], [Alice, Bob]]\r\n    \r\n- ### `double` Array:\r\n\r\n      double[] doubleArray = { 7.0, 9.0, 5.0, 1.0, 3.0 };\r\n      System.out.println(Arrays.toString(doubleArray));\r\n\r\n  Output:\r\n\r\n      [7.0, 9.0, 5.0, 1.0, 3.0 ]\r\n\r\n- ### `int` Array:\r\n\r\n      int[] intArray = { 7, 9, 5, 1, 3 };\r\n      System.out.println(Arrays.toString(intArray));\r\n\r\n  Output: \r\n\r\n      [7, 9, 5, 1, 3 ]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Since Java 5 you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"noreferrer\"><code>Arrays.toString(arr)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)\" rel=\"noreferrer\"><code>Arrays.deepToString(arr)</code></a> for arrays within arrays. Note that the <code>Object[]</code> version calls <code>.toString()</code> on each object in the array. The output is even decorated in the exact way you're asking.</p>\n<p>Examples:</p>\n<ul>\n<li><h3>Simple Array:</h3>\n<pre><code>String[] array = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n<p>Output:</p>\n<pre><code>[John, Mary, Bob]\n</code></pre>\n</li>\n<li><h3>Nested Array:</h3>\n<pre><code>String[][] deepArray = new String[][] {{&quot;John&quot;, &quot;Mary&quot;}, {&quot;Alice&quot;, &quot;Bob&quot;}};\n// Gives undesired output:\nSystem.out.println(Arrays.toString(deepArray));\n// Gives the desired output:\nSystem.out.println(Arrays.deepToString(deepArray));\n</code></pre>\n<p>Output:</p>\n<pre><code>[[Ljava.lang.String;@106d69c, [Ljava.lang.String;@52e922]\n[[John, Mary], [Alice, Bob]]\n</code></pre>\n</li>\n<li><h3><code>double</code> Array:</h3>\n<pre><code>double[] doubleArray = { 7.0, 9.0, 5.0, 1.0, 3.0 };\nSystem.out.println(Arrays.toString(doubleArray));\n</code></pre>\n<p>Output:</p>\n<pre><code>[7.0, 9.0, 5.0, 1.0, 3.0 ]\n</code></pre>\n</li>\n<li><h3><code>int</code> Array:</h3>\n<pre><code>int[] intArray = { 7, 9, 5, 1, 3 };\nSystem.out.println(Arrays.toString(intArray));\n</code></pre>\n<p>Output:</p>\n<pre><code>[7, 9, 5, 1, 3 ]\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":25,"creation_date":1457133247,"post_id":409812,"comment_id":59284854,"body_markdown":"@Hengameh Nowadays with Java 8: `String.join(&quot; &quot;, Arrays.asList(array))`. [doc](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-)","body":"@Hengameh Nowadays with Java 8: <code>String.join(&quot; &quot;, Arrays.asList(array))</code>. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"nofollow noreferrer\">doc</a>"}],"tags":[],"owner":{"account_id":19315,"reputation":6850,"user_id":1274957,"accept_rate":55,"display_name":"Limbic System"},"comment_count":1,"down_vote_count":2,"up_vote_count":433,"is_accepted":false,"score":431,"last_activity_date":1590155278,"creation_date":1231015723,"answer_id":409812,"question_id":409784,"body_markdown":"Always check the standard libraries first.  \r\n\r\n    import java.util.Arrays;\r\n\r\nThen try:\r\n\r\n\r\n    System.out.println(Arrays.toString(array));\r\n\r\nor if your array contains other arrays as elements:\r\n     \r\n\r\n    System.out.println(Arrays.deepToString(array));\r\n\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Always check the standard libraries first.  </p>\n\n<pre><code>import java.util.Arrays;\n</code></pre>\n\n<p>Then try:</p>\n\n<pre><code>System.out.println(Arrays.toString(array));\n</code></pre>\n\n<p>or if your array contains other arrays as elements:</p>\n\n<pre><code>System.out.println(Arrays.deepToString(array));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"score":41,"creation_date":1231019877,"post_id":409908,"comment_id":234890,"body_markdown":"Unfortunately this only works with arrays of objects, not arrays of primitives.","body":"Unfortunately this only works with arrays of objects, not arrays of primitives."}],"tags":[],"owner":{"account_id":14254,"reputation":9688,"user_id":29173,"accept_rate":86,"display_name":"Ross"},"comment_count":1,"down_vote_count":5,"up_vote_count":48,"is_accepted":false,"score":43,"last_activity_date":1231019045,"creation_date":1231019045,"answer_id":409908,"question_id":409784,"body_markdown":"If you&#39;re using Java 1.4, you can instead do:\r\n\r\n    System.out.println(Arrays.asList(array));\r\n\r\n(This works in 1.5+ too, of course.)","title":"What&#39;s the simplest way to print a Java array?","body":"<p>If you're using Java 1.4, you can instead do:</p>\n\n<pre><code>System.out.println(Arrays.asList(array));\n</code></pre>\n\n<p>(This works in 1.5+ too, of course.)</p>\n"},{"tags":[],"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"comment_count":0,"down_vote_count":3,"up_vote_count":118,"is_accepted":false,"score":115,"last_activity_date":1291039559,"creation_date":1273698069,"answer_id":2822736,"question_id":409784,"body_markdown":"This is nice to know, however, as for &quot;always check the standard libraries first&quot; I&#39;d never have stumbled upon the trick of `Arrays.toString( myarray )`\r\n\r\n--since I was concentrating on the type of myarray to see how to do this. I didn&#39;t want to have to iterate through the thing: I wanted an easy call to make it come out similar to what I see in the Eclipse debugger and myarray.toString() just wasn&#39;t doing it.\r\n\r\n\r\n    import java.util.Arrays;\r\n    .\r\n    .\r\n    .\r\n    System.out.println( Arrays.toString( myarray ) );","title":"What&#39;s the simplest way to print a Java array?","body":"<p>This is nice to know, however, as for \"always check the standard libraries first\" I'd never have stumbled upon the trick of <code>Arrays.toString( myarray )</code></p>\n\n<p>--since I was concentrating on the type of myarray to see how to do this. I didn't want to have to iterate through the thing: I wanted an easy call to make it come out similar to what I see in the Eclipse debugger and myarray.toString() just wasn't doing it.</p>\n\n<pre><code>import java.util.Arrays;\n.\n.\n.\nSystem.out.println( Arrays.toString( myarray ) );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1919325,"reputation":4519,"user_id":1731200,"accept_rate":83,"display_name":"Matthias"},"score":8,"creation_date":1411291395,"post_id":4778628,"comment_id":40640235,"body_markdown":"This way you end up with an empty space ;)","body":"This way you end up with an empty space ;)"},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":1,"creation_date":1433161758,"post_id":4778628,"comment_id":49216997,"body_markdown":"@ matthiad .. this line will avoid ending up with empty space  System.out.println(n+ (someArray.length == n) ? &quot;&quot; : &quot; &quot;);","body":"@ matthiad .. this line will avoid ending up with empty space  System.out.println(n+ (someArray.length == n) ? &quot;&quot; : &quot; &quot;);"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1533592938,"post_id":4778628,"comment_id":90393696,"body_markdown":"@MuhammadSuleman That doesn&#39;t work, because this is a for-each loop. `n` is the actual value from the array, not the index. For a regular for loop, it would also be `(someArray.length - 1) == i`, because it breaks when `i` is equal to the array length.","body":"@MuhammadSuleman That doesn&#39;t work, because this is a for-each loop. <code>n</code> is the actual value from the array, not the index. For a regular for loop, it would also be <code>(someArray.length - 1) == i</code>, because it breaks when <code>i</code> is equal to the array length."}],"tags":[],"owner":{"account_id":699034,"reputation":267,"user_id":586992,"display_name":"somedude"},"comment_count":3,"down_vote_count":8,"up_vote_count":28,"is_accepted":false,"score":20,"last_activity_date":1414578291,"creation_date":1295843154,"answer_id":4778628,"question_id":409784,"body_markdown":"    for(int n: someArray) {\r\n        System.out.println(n+&quot; &quot;);\r\n    }","title":"What&#39;s the simplest way to print a Java array?","body":"<pre><code>for(int n: someArray) {\n    System.out.println(n+\" \");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1662560,"reputation":6894,"user_id":1530549,"accept_rate":81,"display_name":"Scooter"},"score":3,"creation_date":1387663291,"post_id":19201690,"comment_id":31047369,"body_markdown":"Maybe use System.getProperty(&quot;line.separator&quot;); instead of \\r\\n so it is right for non-Windows as well.","body":"Maybe use System.getProperty(&quot;line.separator&quot;); instead of \\r\\n so it is right for non-Windows as well."}],"tags":[],"owner":{"account_id":157633,"reputation":6550,"user_id":375727,"accept_rate":50,"display_name":"Rhyous"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1431646847,"creation_date":1381000420,"answer_id":19201690,"question_id":409784,"body_markdown":"`Arrays.deepToString(arr)` only prints on one line. \r\n\r\n    int[][] table = new int[2][2];\r\n\r\nTo actually get a table to print as a two dimensional table, I had to do this: \r\n\r\n    System.out.println(Arrays.deepToString(table).replaceAll(&quot;],&quot;, &quot;],&quot; + System.getProperty(&quot;line.separator&quot;)));\r\n\r\nIt seems like the `Arrays.deepToString(arr)` method should take a separator string, but unfortunately it doesn&#39;t.","title":"What&#39;s the simplest way to print a Java array?","body":"<p><code>Arrays.deepToString(arr)</code> only prints on one line. </p>\n\n<pre><code>int[][] table = new int[2][2];\n</code></pre>\n\n<p>To actually get a table to print as a two dimensional table, I had to do this: </p>\n\n<pre><code>System.out.println(Arrays.deepToString(table).replaceAll(\"],\", \"],\" + System.getProperty(\"line.separator\")));\n</code></pre>\n\n<p>It seems like the <code>Arrays.deepToString(arr)</code> method should take a separator string, but unfortunately it doesn't.</p>\n"},{"comments":[{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":4,"creation_date":1394451147,"post_id":20809247,"comment_id":33879889,"body_markdown":"It prints &quot;1, 2, 3, 4, 5, &quot; as output, it prints comma after the last element too.","body":"It prints &quot;1, 2, 3, 4, 5, &quot; as output, it prints comma after the last element too."},{"owner":{"account_id":428479,"reputation":5028,"user_id":810830,"accept_rate":84,"display_name":"Nepoxx"},"score":3,"creation_date":1405532376,"post_id":20809247,"comment_id":38468946,"body_markdown":"You could replace the code within the loop with\n`System.out.print(intArray[i]);\nif(i != intArray.length - 1) System.out.print(&quot;, &quot;);`","body":"You could replace the code within the loop with <code>System.out.print(intArray[i]); if(i != intArray.length - 1) System.out.print(&quot;, &quot;);</code>"},{"owner":{"account_id":3022798,"reputation":501,"user_id":2563429,"accept_rate":69,"display_name":"Nick Suwyn"},"score":2,"creation_date":1452538521,"post_id":20809247,"comment_id":57203921,"body_markdown":"You could also use `System.out.print(i + (i &lt; intArray.length - 1 ? &quot;, &quot; : &quot;&quot;));` to combine those two lines.","body":"You could also use <code>System.out.print(i + (i &lt; intArray.length - 1 ? &quot;, &quot; : &quot;&quot;));</code> to combine those two lines."}],"tags":[],"owner":{"account_id":2233919,"reputation":745,"user_id":2736313,"accept_rate":75,"display_name":"Andrew_Dublin"},"comment_count":3,"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1388187075,"creation_date":1388187075,"answer_id":20809247,"question_id":409784,"body_markdown":"Using regular **for** loop is the simplest way of printing array in my opinion.\r\nHere you have a sample code based on your intArray\r\n\r\n    for (int i = 0; i &lt; intArray.length; i++) {\r\n       System.out.print(intArray[i] + &quot;, &quot;);\r\n    }\r\n\r\nIt gives output as yours\r\n    1, 2, 3, 4, 5\r\n\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Using regular <strong>for</strong> loop is the simplest way of printing array in my opinion.\nHere you have a sample code based on your intArray</p>\n\n<pre><code>for (int i = 0; i &lt; intArray.length; i++) {\n   System.out.print(intArray[i] + \", \");\n}\n</code></pre>\n\n<p>It gives output as yours\n    1, 2, 3, 4, 5</p>\n"},{"tags":[],"owner":{"account_id":3978734,"reputation":1137,"user_id":3281247,"display_name":"Eric Baker"},"comment_count":0,"down_vote_count":2,"up_vote_count":114,"is_accepted":false,"score":112,"last_activity_date":1459110136,"creation_date":1391729732,"answer_id":21616398,"question_id":409784,"body_markdown":"In JDK1.8 you can use aggregate operations and a lambda expression:\r\n\r\n    String[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n    \r\n    // #1\r\n    Arrays.asList(strArray).stream().forEach(s -&gt; System.out.println(s));\r\n\r\n    // #2\r\n    Stream.of(strArray).forEach(System.out::println);\r\n\r\n    // #3\r\n    Arrays.stream(strArray).forEach(System.out::println);\r\n\r\n    /* output:\r\n    John\r\n    Mary\r\n    Bob\r\n    */","title":"What&#39;s the simplest way to print a Java array?","body":"<p>In JDK1.8 you can use aggregate operations and a lambda expression:</p>\n\n<pre><code>String[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\n\n// #1\nArrays.asList(strArray).stream().forEach(s -&gt; System.out.println(s));\n\n// #2\nStream.of(strArray).forEach(System.out::println);\n\n// #3\nArrays.stream(strArray).forEach(System.out::println);\n\n/* output:\nJohn\nMary\nBob\n*/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1549766600,"post_id":21864471,"comment_id":96019710,"body_markdown":"This is what I do.  With this, you can print arbitrarily complex structures as long as they&#39;re encodable to JSON. I always make sure to use &quot;pretty&quot;.  Does your second example do that?  I&#39;d think you&#39;d need to tickle a &quot;pretty&quot; option to get that.","body":"This is what I do.  With this, you can print arbitrarily complex structures as long as they&#39;re encodable to JSON. I always make sure to use &quot;pretty&quot;.  Does your second example do that?  I&#39;d think you&#39;d need to tickle a &quot;pretty&quot; option to get that."}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1415799504,"creation_date":1392754886,"answer_id":21864471,"question_id":409784,"body_markdown":"To add to all the answers, printing the object as a JSON string is also an option.\r\n\r\nUsing Jackson:\r\n\r\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    System.out.println(ow.writeValueAsString(anyArray));\r\n\r\nUsing Gson:\r\n\r\n    Gson gson = new Gson();\r\n    System.out.println(gson.toJson(anyArray));","title":"What&#39;s the simplest way to print a Java array?","body":"<p>To add to all the answers, printing the object as a JSON string is also an option.</p>\n\n<p>Using Jackson:</p>\n\n<pre><code>ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\nSystem.out.println(ow.writeValueAsString(anyArray));\n</code></pre>\n\n<p>Using Gson:</p>\n\n<pre><code>Gson gson = new Gson();\nSystem.out.println(gson.toJson(anyArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2939648,"reputation":4861,"user_id":2517838,"accept_rate":56,"display_name":"Roam"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1398756871,"creation_date":1398756871,"answer_id":23358396,"question_id":409784,"body_markdown":"There&#39;s one additional way if your array is of type char[]:\r\n\r\n    char A[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;}; \r\n\r\n    System.out.println(A); // no other arguments\r\n\r\nprints \r\n\r\n    abc","title":"What&#39;s the simplest way to print a Java array?","body":"<p>There's one additional way if your array is of type char[]:</p>\n\n<pre><code>char A[] = {'a', 'b', 'c'}; \n\nSystem.out.println(A); // no other arguments\n</code></pre>\n\n<p>prints </p>\n\n<pre><code>abc\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3369011"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1428265848,"creation_date":1411290712,"answer_id":25957641,"question_id":409784,"body_markdown":"    public class printer {\r\n    \r\n        public static void main(String[] args) {\r\n            String a[] = new String[4];\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;enter the data&quot;);\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                a[i] = sc.nextLine();\r\n            }\r\n            System.out.println(&quot;the entered data is&quot;);\r\n            for (String i : a) {\r\n                System.out.println(i);\r\n            }\r\n          }\r\n        }","title":"What&#39;s the simplest way to print a Java array?","body":"<pre><code>public class printer {\n\n    public static void main(String[] args) {\n        String a[] = new String[4];\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"enter the data\");\n        for (int i = 0; i &lt; 4; i++) {\n            a[i] = sc.nextLine();\n        }\n        System.out.println(\"the entered data is\");\n        for (String i : a) {\n            System.out.println(i);\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3841948,"reputation":442,"user_id":3184763,"accept_rate":50,"display_name":"Mohamed Idris"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1424502745,"creation_date":1424160156,"answer_id":28557241,"question_id":409784,"body_markdown":"A simplified shortcut I&#39;ve tried is this:\r\n\r\n\t\tint x[] = {1,2,3};\r\n\t\tString printableText = Arrays.toString(x).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;).replaceAll(&quot;, &quot;, &quot;\\n&quot;);\r\n\t\tSystem.out.println(printableText);\r\n\r\nIt will print\r\n \r\n    1\r\n    2\r\n    3\r\n\r\nNo loops required in this approach and it is best for small arrays only","title":"What&#39;s the simplest way to print a Java array?","body":"<p>A simplified shortcut I've tried is this:</p>\n\n<pre><code>    int x[] = {1,2,3};\n    String printableText = Arrays.toString(x).replaceAll(\"[\\\\[\\\\]]\", \"\").replaceAll(\", \", \"\\n\");\n    System.out.println(printableText);\n</code></pre>\n\n<p>It will print</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n\n<p>No loops required in this approach and it is best for small arrays only</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1542175758,"creation_date":1434694228,"answer_id":30931066,"question_id":409784,"body_markdown":"Prior to Java 8\r\n---------------\r\n\r\nWe could have used `Arrays.toString(array)` to print one dimensional array and `Arrays.deepToString(array)` for multi-dimensional arrays. \r\n\r\nJava 8\r\n------\r\n\r\nNow we have got the option of `Stream` and `lambda` to print the array.\r\n\r\n**Printing One dimensional Array:**\r\n\r\n    public static void main(String[] args) {\r\n        int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n        String[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n    \r\n        //Prior to Java 8\r\n        System.out.println(Arrays.toString(intArray));\r\n        System.out.println(Arrays.toString(strArray));\r\n    \r\n        // In Java 8 we have lambda expressions\r\n        Arrays.stream(intArray).forEach(System.out::println);\r\n        Arrays.stream(strArray).forEach(System.out::println);\r\n    }\r\nThe output is:\r\n\r\n&gt;[1, 2, 3, 4, 5]  \r\n[John, Mary, Bob]  \r\n1  \r\n2  \r\n3  \r\n4  \r\n5  \r\nJohn  \r\nMary  \r\nBob\r\n\r\n**Printing Multi-dimensional Array**\r\nJust in case we want to print multi-dimensional array we can use `Arrays.deepToString(array)` as:\r\n\r\n    public static void main(String[] args) {\r\n        int[][] int2DArray = new int[][] { {11, 12}, { 21, 22}, {31, 32, 33} };\r\n        String[][] str2DArray = new String[][]{ {&quot;John&quot;, &quot;Bravo&quot;} , {&quot;Mary&quot;, &quot;Lee&quot;}, {&quot;Bob&quot;, &quot;Johnson&quot;} };\r\n    \r\n        //Prior to Java 8\r\n        System.out.println(Arrays.deepToString(int2DArray));\r\n        System.out.println(Arrays.deepToString(str2DArray));\r\n    \r\n        // In Java 8 we have lambda expressions\r\n        Arrays.stream(int2DArray).flatMapToInt(x -&gt; Arrays.stream(x)).forEach(System.out::println);\r\n        Arrays.stream(str2DArray).flatMap(x -&gt; Arrays.stream(x)).forEach(System.out::println);\r\n    } \r\n\r\nNow the point to observe is that the method `Arrays.stream(T[])`, which in case of `int[]` returns us `Stream&lt;int[]&gt;` and then method `flatMapToInt()` maps each element of stream with the contents of a mapped stream produced by applying the provided mapping function to each element.\r\n\r\nThe output is:\r\n\r\n&gt;[[11, 12], [21, 22], [31, 32, 33]]  \r\n[[John, Bravo], [Mary, Lee], [Bob, Johnson]]   \r\n11   \r\n12  \r\n21  \r\n22  \r\n31  \r\n32  \r\n33  \r\nJohn   \r\nBravo  \r\nMary  \r\nLee  \r\nBob   \r\nJohnson","title":"What&#39;s the simplest way to print a Java array?","body":"<h2>Prior to Java 8</h2>\n\n<p>We could have used <code>Arrays.toString(array)</code> to print one dimensional array and <code>Arrays.deepToString(array)</code> for multi-dimensional arrays. </p>\n\n<h2>Java 8</h2>\n\n<p>Now we have got the option of <code>Stream</code> and <code>lambda</code> to print the array.</p>\n\n<p><strong>Printing One dimensional Array:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    int[] intArray = new int[] {1, 2, 3, 4, 5};\n    String[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\n\n    //Prior to Java 8\n    System.out.println(Arrays.toString(intArray));\n    System.out.println(Arrays.toString(strArray));\n\n    // In Java 8 we have lambda expressions\n    Arrays.stream(intArray).forEach(System.out::println);\n    Arrays.stream(strArray).forEach(System.out::println);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>[1, 2, 3, 4, 5]<br>\n  [John, Mary, Bob]<br>\n  1<br>\n  2<br>\n  3<br>\n  4<br>\n  5<br>\n  John<br>\n  Mary<br>\n  Bob</p>\n</blockquote>\n\n<p><strong>Printing Multi-dimensional Array</strong>\nJust in case we want to print multi-dimensional array we can use <code>Arrays.deepToString(array)</code> as:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[][] int2DArray = new int[][] { {11, 12}, { 21, 22}, {31, 32, 33} };\n    String[][] str2DArray = new String[][]{ {\"John\", \"Bravo\"} , {\"Mary\", \"Lee\"}, {\"Bob\", \"Johnson\"} };\n\n    //Prior to Java 8\n    System.out.println(Arrays.deepToString(int2DArray));\n    System.out.println(Arrays.deepToString(str2DArray));\n\n    // In Java 8 we have lambda expressions\n    Arrays.stream(int2DArray).flatMapToInt(x -&gt; Arrays.stream(x)).forEach(System.out::println);\n    Arrays.stream(str2DArray).flatMap(x -&gt; Arrays.stream(x)).forEach(System.out::println);\n} \n</code></pre>\n\n<p>Now the point to observe is that the method <code>Arrays.stream(T[])</code>, which in case of <code>int[]</code> returns us <code>Stream&lt;int[]&gt;</code> and then method <code>flatMapToInt()</code> maps each element of stream with the contents of a mapped stream produced by applying the provided mapping function to each element.</p>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>[[11, 12], [21, 22], [31, 32, 33]]<br>\n  [[John, Bravo], [Mary, Lee], [Bob, Johnson]]<br>\n  11<br>\n  12<br>\n  21<br>\n  22<br>\n  31<br>\n  32<br>\n  33<br>\n  John<br>\n  Bravo<br>\n  Mary<br>\n  Lee<br>\n  Bob<br>\n  Johnson</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":0,"creation_date":1589196440,"post_id":31854518,"comment_id":109187450,"body_markdown":"Adding a dependency because of something trivial that be done in two lines of code is a screaming antipattern.","body":"Adding a dependency because of something trivial that be done in two lines of code is a screaming antipattern."},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1589223484,"post_id":31854518,"comment_id":109203066,"body_markdown":"commons-lang3 is a very poplar dependency, and note that this answer was were most people didn&#39;t used java 8","body":"commons-lang3 is a very poplar dependency, and note that this answer was were most people didn&#39;t used java 8"},{"owner":{"account_id":13977020,"reputation":88,"user_id":10094177,"display_name":"Marc H."},"score":0,"creation_date":1605890352,"post_id":31854518,"comment_id":114800132,"body_markdown":"Still the best solution as also referred in https://stackoverflow.com/questions/38425623/java-join-array-of-primitives-with-separator\ncommons-lang is of course really popular and should be used instead of implement yourself. Such utility methods have to be tested and should also be accessible for other projects. As long as primitive arrays can not simple handled, a library like common-lang with overloaded methods is for me the best and efficient way to solve this problem.","body":"Still the best solution as also referred in <a href=\"https://stackoverflow.com/questions/38425623/java-join-array-of-primitives-with-separator\" title=\"java join array of primitives with separator\">stackoverflow.com/questions/38425623/&hellip;</a> commons-lang is of course really popular and should be used instead of implement yourself. Such utility methods have to be tested and should also be accessible for other projects. As long as primitive arrays can not simple handled, a library like common-lang with overloaded methods is for me the best and efficient way to solve this problem."}],"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439065094,"creation_date":1438860295,"answer_id":31854518,"question_id":409784,"body_markdown":"Using org.apache.commons.lang3.StringUtils.join(*) methods can be an option&lt;br&gt;\r\nFor example:\r\n    \r\n    String[] strArray = new String[] { &quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot; };\r\n\tString arrayAsCSV = StringUtils.join(strArray, &quot; , &quot;);\r\n\tSystem.out.printf(&quot;[%s]&quot;, arrayAsCSV);\r\n\t//output: [John , Mary , Bob]\r\n\r\nI used the following dependency \r\n \r\n\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Using org.apache.commons.lang3.StringUtils.join(*) methods can be an option<br>\nFor example:</p>\n\n<pre><code>String[] strArray = new String[] { \"John\", \"Mary\", \"Bob\" };\nString arrayAsCSV = StringUtils.join(strArray, \" , \");\nSystem.out.printf(\"[%s]\", arrayAsCSV);\n//output: [John , Mary , Bob]\n</code></pre>\n\n<p>I used the following dependency </p>\n\n<pre><code>&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3399318,"reputation":1774,"user_id":2851999,"accept_rate":100,"display_name":"laylaylom"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1450896708,"creation_date":1450896708,"answer_id":34441961,"question_id":409784,"body_markdown":"Starting with Java 8, one could also take advantage of the `join()` method provided by the [String class][1] to print out array elements, without the brackets, and separated by a delimiter of choice (which is the space character for the example shown below):\r\n\r\n    String[] greeting = {&quot;Hey&quot;, &quot;there&quot;, &quot;amigo!&quot;};\r\n    String delimiter = &quot; &quot;;\r\n    String.join(delimiter, greeting) \r\n\r\nThe output will be &quot;Hey there amigo!&quot;.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Starting with Java 8, one could also take advantage of the <code>join()</code> method provided by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\">String class</a> to print out array elements, without the brackets, and separated by a delimiter of choice (which is the space character for the example shown below):</p>\n\n<pre><code>String[] greeting = {\"Hey\", \"there\", \"amigo!\"};\nString delimiter = \" \";\nString.join(delimiter, greeting) \n</code></pre>\n\n<p>The output will be \"Hey there amigo!\".</p>\n"},{"comments":[{"owner":{"account_id":3579096,"reputation":2576,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1651129690,"post_id":35933005,"comment_id":127290635,"body_markdown":"if you use \nIntStream.of(ints).forEach(System.out::print); i don&#39;t think it will print in new line..","body":"if you use  IntStream.of(ints).forEach(System.out::print); i don&#39;t think it will print in new line.."}],"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"comment_count":1,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1629020779,"creation_date":1457674609,"answer_id":35933005,"question_id":409784,"body_markdown":"Arrays.toString\r\n---\r\nAs a direct answer, [the solution provided by several, including @Esko](https://stackoverflow.com/a/409795/365237), using the [`Arrays.toString`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString%28java.lang.Object[]%29) and [`Arrays.deepToString`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepToString%28java.lang.Object[]%29) methods, is simply the best.\r\n\r\nJava 8 - Stream.collect(joining()), Stream.forEach\r\n---\r\nBelow I try to list some of the other methods suggested, attempting to improve a little, with the most notable addition being the use of the [`Stream.collect`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-) operator, using a [`joining`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-) `Collector`, to mimic what the `String.join` is doing.\r\n\r\n    int[] ints = new int[] {1, 2, 3, 4, 5};\r\n    System.out.println(IntStream.of(ints).mapToObj(Integer::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n    System.out.println(IntStream.of(ints).boxed().map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n    System.out.println(Arrays.toString(ints));\r\n    \r\n    String[] strs = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n    System.out.println(Stream.of(strs).collect(Collectors.joining(&quot;, &quot;)));\r\n    System.out.println(String.join(&quot;, &quot;, strs));\r\n    System.out.println(Arrays.toString(strs));\r\n    \r\n    DayOfWeek [] days = { FRIDAY, MONDAY, TUESDAY };\r\n    System.out.println(Stream.of(days).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n    System.out.println(Arrays.toString(days));\r\n\r\n    // These options are not the same as each item is printed on a new line:\r\n    IntStream.of(ints).forEach(System.out::println);\r\n    Stream.of(strs).forEach(System.out::println);\r\n    Stream.of(days).forEach(System.out::println);\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<h2>Arrays.toString</h2>\n<p>As a direct answer, <a href=\"https://stackoverflow.com/a/409795/365237\">the solution provided by several, including @Esko</a>, using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString%28java.lang.Object%5B%5D%29\" rel=\"noreferrer\"><code>Arrays.toString</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepToString%28java.lang.Object%5B%5D%29\" rel=\"noreferrer\"><code>Arrays.deepToString</code></a> methods, is simply the best.</p>\n<h2>Java 8 - Stream.collect(joining()), Stream.forEach</h2>\n<p>Below I try to list some of the other methods suggested, attempting to improve a little, with the most notable addition being the use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"noreferrer\"><code>Stream.collect</code></a> operator, using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"noreferrer\"><code>joining</code></a> <code>Collector</code>, to mimic what the <code>String.join</code> is doing.</p>\n<pre><code>int[] ints = new int[] {1, 2, 3, 4, 5};\nSystem.out.println(IntStream.of(ints).mapToObj(Integer::toString).collect(Collectors.joining(&quot;, &quot;)));\nSystem.out.println(IntStream.of(ints).boxed().map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\nSystem.out.println(Arrays.toString(ints));\n\nString[] strs = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\nSystem.out.println(Stream.of(strs).collect(Collectors.joining(&quot;, &quot;)));\nSystem.out.println(String.join(&quot;, &quot;, strs));\nSystem.out.println(Arrays.toString(strs));\n\nDayOfWeek [] days = { FRIDAY, MONDAY, TUESDAY };\nSystem.out.println(Stream.of(days).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\nSystem.out.println(Arrays.toString(days));\n\n// These options are not the same as each item is printed on a new line:\nIntStream.of(ints).forEach(System.out::println);\nStream.of(strs).forEach(System.out::println);\nStream.of(days).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1457697038,"creation_date":1457697038,"answer_id":35939551,"question_id":409784,"body_markdown":"I came across this post in [Vanilla #Java](http://vanillajava.blogspot.com/2016/03/printing-arrays-by-hacking-jvm.html) recently. It&#39;s not very convenient writing `Arrays.toString(arr);`, then importing `java.util.Arrays;` all the time.\r\n\r\n**Please note, this is not a permanent fix by any means. Just a hack that can make debugging simpler.** \r\n\r\nPrinting an array directly gives the internal representation and the hashCode. Now, all classes have `Object` as the parent-type. So, why not hack the `Object.toString()`? Without modification, the Object class looks like this:\r\n\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }\r\n\r\nWhat if this is changed to:\r\n\r\n    public String toString() {\r\n        if (this instanceof boolean[])\r\n            return Arrays.toString((boolean[]) this);\r\n        if (this instanceof byte[])\r\n            return Arrays.toString((byte[]) this);\r\n        if (this instanceof short[])\r\n            return Arrays.toString((short[]) this);\r\n        if (this instanceof char[])\r\n            return Arrays.toString((char[]) this);\r\n        if (this instanceof int[])\r\n            return Arrays.toString((int[]) this);\r\n        if (this instanceof long[])\r\n            return Arrays.toString((long[]) this);\r\n        if (this instanceof float[])\r\n            return Arrays.toString((float[]) this);\r\n        if (this instanceof double[])\r\n            return Arrays.toString((double[]) this);\r\n        if (this instanceof Object[])\r\n            return Arrays.deepToString((Object[]) this);\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }\r\n\r\nThis modded class may simply be added to the class path by adding the following to the command line: `-Xbootclasspath/p:target/classes`.\r\n\r\nNow, with the availability of `deepToString(..)` since Java 5, the `toString(..)` can easily be changed to `deepToString(..)` to add support for arrays that contain other arrays.\r\n\r\nI found this to be a quite useful hack and it would be great if Java could simply add this. I understand potential issues with having very large arrays since the string representations could be problematic. Maybe pass something like a `System.out`or a `PrintWriter` for such eventualities. ","title":"What&#39;s the simplest way to print a Java array?","body":"<p>I came across this post in <a href=\"http://vanillajava.blogspot.com/2016/03/printing-arrays-by-hacking-jvm.html\" rel=\"noreferrer\">Vanilla #Java</a> recently. It's not very convenient writing <code>Arrays.toString(arr);</code>, then importing <code>java.util.Arrays;</code> all the time.</p>\n\n<p><strong>Please note, this is not a permanent fix by any means. Just a hack that can make debugging simpler.</strong> </p>\n\n<p>Printing an array directly gives the internal representation and the hashCode. Now, all classes have <code>Object</code> as the parent-type. So, why not hack the <code>Object.toString()</code>? Without modification, the Object class looks like this:</p>\n\n<pre><code>public String toString() {\n    return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n}\n</code></pre>\n\n<p>What if this is changed to:</p>\n\n<pre><code>public String toString() {\n    if (this instanceof boolean[])\n        return Arrays.toString((boolean[]) this);\n    if (this instanceof byte[])\n        return Arrays.toString((byte[]) this);\n    if (this instanceof short[])\n        return Arrays.toString((short[]) this);\n    if (this instanceof char[])\n        return Arrays.toString((char[]) this);\n    if (this instanceof int[])\n        return Arrays.toString((int[]) this);\n    if (this instanceof long[])\n        return Arrays.toString((long[]) this);\n    if (this instanceof float[])\n        return Arrays.toString((float[]) this);\n    if (this instanceof double[])\n        return Arrays.toString((double[]) this);\n    if (this instanceof Object[])\n        return Arrays.deepToString((Object[]) this);\n    return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n}\n</code></pre>\n\n<p>This modded class may simply be added to the class path by adding the following to the command line: <code>-Xbootclasspath/p:target/classes</code>.</p>\n\n<p>Now, with the availability of <code>deepToString(..)</code> since Java 5, the <code>toString(..)</code> can easily be changed to <code>deepToString(..)</code> to add support for arrays that contain other arrays.</p>\n\n<p>I found this to be a quite useful hack and it would be great if Java could simply add this. I understand potential issues with having very large arrays since the string representations could be problematic. Maybe pass something like a <code>System.out</code>or a <code>PrintWriter</code> for such eventualities. </p>\n"},{"comments":[{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":2,"creation_date":1463139336,"post_id":37208339,"comment_id":61948975,"body_markdown":"Converting an Array to a List simply for printing purposes does not seem like a very resourceful decision; and given that the same class has a `toString(..)`, it defeats me why someone would ever do this.","body":"Converting an Array to a List simply for printing purposes does not seem like a very resourceful decision; and given that the same class has a <code>toString(..)</code>, it defeats me why someone would ever do this."}],"tags":[],"owner":{"account_id":5875243,"reputation":1857,"user_id":4626262,"accept_rate":95,"display_name":"Greesh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1463140343,"creation_date":1463137260,"answer_id":37208339,"question_id":409784,"body_markdown":"It should always work whichever JDK version you use:\r\n\r\n    System.out.println(Arrays.asList(array));\r\n\r\nIt will work if the `Array` contains Objects. If the `Array` contains primitive types, you can use wrapper classes instead storing the primitive directly as..\r\n\r\nExample: \r\n\r\n    int[] a = new int[]{1,2,3,4,5};\r\n\r\nReplace it with:\r\n\r\n    Integer[] a = new Integer[]{1,2,3,4,5};\r\n\r\n \r\n\r\n**Update :**\r\n\r\nYes ! this is to be mention that converting an array to an object array OR to use the Object&#39;s array is costly and may slow the execution. it happens by the nature of java called autoboxing.   \r\n\r\nSo only for printing purpose, It should not be used. we can make a function which takes an array as parameter and prints the desired format as\r\n\r\n    public void printArray(int [] a){\r\n    \t\t//write printing code\r\n    } ","title":"What&#39;s the simplest way to print a Java array?","body":"<p>It should always work whichever JDK version you use:</p>\n\n<pre><code>System.out.println(Arrays.asList(array));\n</code></pre>\n\n<p>It will work if the <code>Array</code> contains Objects. If the <code>Array</code> contains primitive types, you can use wrapper classes instead storing the primitive directly as..</p>\n\n<p>Example: </p>\n\n<pre><code>int[] a = new int[]{1,2,3,4,5};\n</code></pre>\n\n<p>Replace it with:</p>\n\n<pre><code>Integer[] a = new Integer[]{1,2,3,4,5};\n</code></pre>\n\n<p><strong>Update :</strong></p>\n\n<p>Yes ! this is to be mention that converting an array to an object array OR to use the Object's array is costly and may slow the execution. it happens by the nature of java called autoboxing.   </p>\n\n<p>So only for printing purpose, It should not be used. we can make a function which takes an array as parameter and prints the desired format as</p>\n\n<pre><code>public void printArray(int [] a){\n        //write printing code\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3603976,"reputation":822,"user_id":3006620,"display_name":"suatCoskun"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1474969583,"creation_date":1466955048,"answer_id":38040087,"question_id":409784,"body_markdown":"In java 8 it is easy. there are two keywords\r\n\r\n 1. stream: `Arrays.stream(intArray).forEach`\r\n 2. method reference: `::println`\r\n\r\n        int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n        Arrays.stream(intArray).forEach(System.out::println);\r\n\r\nIf you want to print all elements in the array in the same line, then just use `print` instead of `println` i.e. \r\n\r\n    int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n    Arrays.stream(intArray).forEach(System.out::print);\r\n\r\n\r\n\r\nAnother way without method reference just use:\r\n\r\n    int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n    System.out.println(Arrays.toString(intArray));\r\n\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p>In java 8 it is easy. there are two keywords</p>\n\n<ol>\n<li>stream: <code>Arrays.stream(intArray).forEach</code></li>\n<li><p>method reference: <code>::println</code></p>\n\n<pre><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nArrays.stream(intArray).forEach(System.out::println);\n</code></pre></li>\n</ol>\n\n<p>If you want to print all elements in the array in the same line, then just use <code>print</code> instead of <code>println</code> i.e. </p>\n\n<pre><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nArrays.stream(intArray).forEach(System.out::print);\n</code></pre>\n\n<p>Another way without method reference just use:</p>\n\n<pre><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nSystem.out.println(Arrays.toString(intArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5895866,"reputation":262,"user_id":4641040,"accept_rate":100,"display_name":"Dylan Black"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1469058949,"creation_date":1469058949,"answer_id":38492662,"question_id":409784,"body_markdown":"You could loop through the array,  printing out each item, as you loop. For example:\r\n\r\n    String[] items = {&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;};\r\n    \r\n    for(int i = 0; i &lt; items.length; i++) {\r\n\r\n        System.out.println(items[i]);\r\n\r\n    }\r\n\r\nOutput:\r\n\r\n    item 1\r\n    item 2\r\n    item 3","title":"What&#39;s the simplest way to print a Java array?","body":"<p>You could loop through the array,  printing out each item, as you loop. For example:</p>\n\n<pre><code>String[] items = {\"item 1\", \"item 2\", \"item 3\"};\n\nfor(int i = 0; i &lt; items.length; i++) {\n\n    System.out.println(items[i]);\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>item 1\nitem 2\nitem 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1479229520,"creation_date":1470578706,"answer_id":38814905,"question_id":409784,"body_markdown":"**Different Ways to Print Arrays in Java:**\r\n\r\n1. Simple Way   \r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        list.add(&quot;One&quot;);\r\n        list.add(&quot;Two&quot;);\r\n        list.add(&quot;Three&quot;);\r\n        list.add(&quot;Four&quot;);\r\n        // Print the list in console\r\n        System.out.println(list);\r\n         \r\n\r\n   \r\n\r\n&gt;  Output:\r\n&gt;     [One, Two, Three, Four]\r\n\r\n2. Using **`toString()`**\r\n\r\n \r\n        String[] array = new String[] { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot; };\r\n        System.out.println(Arrays.toString(array));\r\n    \r\n     \r\n\r\n&gt; Output: [One, Two, Three, Four]\r\n\r\n\r\n3. Printing Array of Arrays\r\n\t\r\n\r\n        String[] arr1 = new String[] { &quot;Fifth&quot;, &quot;Sixth&quot; };\r\n\t\tString[] arr2 = new String[] { &quot;Seventh&quot;, &quot;Eight&quot; };\r\n\t\tString[][] arrayOfArray = new String[][] { arr1, arr2 };\r\n\t\tSystem.out.println(arrayOfArray);\r\n\t\tSystem.out.println(Arrays.toString(arrayOfArray));\r\n\t\tSystem.out.println(Arrays.deepToString(arrayOfArray));\r\n\r\n&gt; Output: [[Ljava.lang.String;@1ad086a [[Ljava.lang.String;@10385c1,\r\n&gt; [Ljava.lang.String;@42719c] [[Fifth, Sixth], [Seventh, Eighth]]\r\n\r\nResource: [Access An Array][1]\r\n\r\n\r\n  [1]: http://howtodoinjava.com/core-java/collections/how-to-print-the-content-of-array-in-java/\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p><strong>Different Ways to Print Arrays in Java:</strong></p>\n\n<ol>\n<li><p>Simple Way   </p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"One\");\nlist.add(\"Two\");\nlist.add(\"Three\");\nlist.add(\"Four\");\n// Print the list in console\nSystem.out.println(list);\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p>Output:\n      [One, Two, Three, Four]</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>Using <strong><code>toString()</code></strong></p>\n\n<pre><code>String[] array = new String[] { \"One\", \"Two\", \"Three\", \"Four\" };\nSystem.out.println(Arrays.toString(array));\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p>Output: [One, Two, Three, Four]</p>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>Printing Array of Arrays</p>\n\n<pre><code>String[] arr1 = new String[] { \"Fifth\", \"Sixth\" };\nString[] arr2 = new String[] { \"Seventh\", \"Eight\" };\nString[][] arrayOfArray = new String[][] { arr1, arr2 };\nSystem.out.println(arrayOfArray);\nSystem.out.println(Arrays.toString(arrayOfArray));\nSystem.out.println(Arrays.deepToString(arrayOfArray));\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p>Output: [[Ljava.lang.String;@1ad086a [[Ljava.lang.String;@10385c1,\n  [Ljava.lang.String;@42719c] [[Fifth, Sixth], [Seventh, Eighth]]</p>\n</blockquote>\n\n<p>Resource: <a href=\"http://howtodoinjava.com/core-java/collections/how-to-print-the-content-of-array-in-java/\" rel=\"noreferrer\">Access An Array</a></p>\n"},{"comments":[{"owner":{"account_id":9787867,"reputation":73,"user_id":7253597,"display_name":"hasham.98"},"score":0,"creation_date":1482700963,"post_id":40982492,"comment_id":69852822,"body_markdown":"@firephil System.out.println(a[i]); is used with ordinary for loop, where index &quot;i&quot; is created and value at every index is printed. I have used &quot;for each&quot; loop. Give it a try, hope you will get my point.","body":"@firephil System.out.println(a[i]); is used with ordinary for loop, where index &quot;i&quot; is created and value at every index is printed. I have used &quot;for each&quot; loop. Give it a try, hope you will get my point."}],"tags":[],"owner":{"account_id":9787867,"reputation":73,"user_id":7253597,"display_name":"hasham.98"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1520796216,"creation_date":1480968638,"answer_id":40982492,"question_id":409784,"body_markdown":"For-each loop can also be used to print elements of array:\r\n\r\n    int array[] = {1, 2, 3, 4, 5};\r\n    for (int i:array)\r\n        System.out.println(i);","title":"What&#39;s the simplest way to print a Java array?","body":"<p>For-each loop can also be used to print elements of array:</p>\n\n<pre><code>int array[] = {1, 2, 3, 4, 5};\nfor (int i:array)\n    System.out.println(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11795821,"reputation":129,"user_id":8630563,"display_name":"Ravi Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1525783383,"creation_date":1506346179,"answer_id":46406485,"question_id":409784,"body_markdown":"**There Are Following way to print Array**          \r\n\r\n     // 1) toString()  \r\n\t\tint[] arrayInt = new int[] {10, 20, 30, 40, 50};  \r\n\t\tSystem.out.println(Arrays.toString(arrayInt));\r\n\t       \r\n\t// 2 for loop()\r\n\t\tfor (int number : arrayInt) {\r\n\t\t\tSystem.out.println(number);\r\n\t\t}\r\n\t\t\r\n\t// 3 for each()\r\n\t\tfor(int x: arrayInt){\r\n\t\t\t System.out.println(x);\r\n\t\t }","title":"What&#39;s the simplest way to print a Java array?","body":"<p><strong>There Are Following way to print Array</strong>          </p>\n\n<pre><code> // 1) toString()  \n    int[] arrayInt = new int[] {10, 20, 30, 40, 50};  \n    System.out.println(Arrays.toString(arrayInt));\n\n// 2 for loop()\n    for (int number : arrayInt) {\n        System.out.println(number);\n    }\n\n// 3 for each()\n    for(int x: arrayInt){\n         System.out.println(x);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13144315,"reputation":62,"user_id":9494831,"display_name":"fjnk"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1521164680,"creation_date":1521163053,"answer_id":49311780,"question_id":409784,"body_markdown":"    // array of primitives:\r\n    int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n\r\n    System.out.println(Arrays.toString(intArray));\r\n\r\n    output: [1, 2, 3, 4, 5]\r\n\r\n---\r\n    // array of object references:\r\n    String[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n\r\n    System.out.println(Arrays.toString(strArray));\r\n\r\n    output: [John, Mary, Bob]","title":"What&#39;s the simplest way to print a Java array?","body":"<pre><code>// array of primitives:\nint[] intArray = new int[] {1, 2, 3, 4, 5};\n\nSystem.out.println(Arrays.toString(intArray));\n\noutput: [1, 2, 3, 4, 5]\n</code></pre>\n\n<hr>\n\n<pre><code>// array of object references:\nString[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\n\nSystem.out.println(Arrays.toString(strArray));\n\noutput: [John, Mary, Bob]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"score":0,"creation_date":1596639826,"post_id":49947697,"comment_id":111877221,"body_markdown":"Those who created a vote to remove my answer .. can you expose your point of view so everyone can learn ?  The question asked for the simplest way in java, so it&#39;s a one liner, java current version is &gt;14 and my solution is for at least java 8 ( so it is applicable ).","body":"Those who created a vote to remove my answer .. can you expose your point of view so everyone can learn ?  The question asked for the simplest way in java, so it&#39;s a one liner, java current version is &gt;14 and my solution is for at least java 8 ( so it is applicable )."}],"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1525809949,"creation_date":1524248743,"answer_id":49947697,"question_id":409784,"body_markdown":"In java 8 :\r\n\r\n    Arrays.stream(myArray).forEach(System.out::println);\r\n\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p>In java 8 :</p>\n\n<pre><code>Arrays.stream(myArray).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529695611,"creation_date":1529695030,"answer_id":50994364,"question_id":409784,"body_markdown":"This is marked as a duplicate for [printing a byte\\[\\]][1]. Note: for a byte array there are additional methods which may be appropriate.\r\n\r\nYou can print it as a String if it contains ISO-8859-1 chars.\r\n\r\n    String s = new String(bytes, StandardChars.ISO_8559);\r\n    System.out.println(s);\r\n    // to reverse\r\n    byte[] bytes2 = s.getBytes(StandardChars.ISO_8559);\r\n\r\nor if it contains a UTF-8 string\r\n\r\n    String s = new String(bytes, StandardChars.UTF_8);\r\n    System.out.println(s);\r\n    // to reverse\r\n    byte[] bytes2 = s.getBytes(StandardChars.UTF_8);\r\n\r\nor if you want print it as hexadecimal.\r\n\r\n    String s = DatatypeConverter.printHexBinary(bytes);\r\n    System.out.println(s);\r\n    // to reverse\r\n    byte[] bytes2 = DatatypeConverter.parseHexBinary(s);\r\n\r\nor if you want print it as base64.\r\n\r\n    String s = DatatypeConverter.printBase64Binary(bytes);\r\n    System.out.println(s);\r\n    // to reverse\r\n    byte[] bytes2 = DatatypeConverter.parseBase64Binary(s);\r\n\r\nor if you want to print an array of signed byte values\r\n\r\n    String s = Arrays.toString(bytes);\r\n    System.out.println(s);\r\n    // to reverse\r\n    String[] split = s.substring(1, s.length() - 1).split(&quot;, &quot;);\r\n    byte[] bytes2 = new byte[split.length];\r\n    for (int i = 0; i &lt; bytes2.length; i++)\r\n        bytes2[i] = Byte.parseByte(split[i]);\r\n   \r\nor if you want to print an array of unsigned byte values\r\n\r\n    String s = Arrays.toString(\r\n                   IntStream.range(0, bytes.length).map(i -&gt; bytes[i] &amp; 0xFF).toArray());\r\n    System.out.println(s);\r\n    // to reverse\r\n    String[] split = s.substring(1, s.length() - 1).split(&quot;, &quot;);\r\n    byte[] bytes2 = new byte[split.length];\r\n    for (int i = 0; i &lt; bytes2.length; i++)\r\n        bytes2[i] = (byte) Integer.parseInt(split[i]); // might need a range check.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50977959/cannot-see-the-contents-of-the-array-printed-in-console","title":"What&#39;s the simplest way to print a Java array?","body":"<p>This is marked as a duplicate for <a href=\"https://stackoverflow.com/questions/50977959/cannot-see-the-contents-of-the-array-printed-in-console\">printing a byte[]</a>. Note: for a byte array there are additional methods which may be appropriate.</p>\n\n<p>You can print it as a String if it contains ISO-8859-1 chars.</p>\n\n<pre><code>String s = new String(bytes, StandardChars.ISO_8559);\nSystem.out.println(s);\n// to reverse\nbyte[] bytes2 = s.getBytes(StandardChars.ISO_8559);\n</code></pre>\n\n<p>or if it contains a UTF-8 string</p>\n\n<pre><code>String s = new String(bytes, StandardChars.UTF_8);\nSystem.out.println(s);\n// to reverse\nbyte[] bytes2 = s.getBytes(StandardChars.UTF_8);\n</code></pre>\n\n<p>or if you want print it as hexadecimal.</p>\n\n<pre><code>String s = DatatypeConverter.printHexBinary(bytes);\nSystem.out.println(s);\n// to reverse\nbyte[] bytes2 = DatatypeConverter.parseHexBinary(s);\n</code></pre>\n\n<p>or if you want print it as base64.</p>\n\n<pre><code>String s = DatatypeConverter.printBase64Binary(bytes);\nSystem.out.println(s);\n// to reverse\nbyte[] bytes2 = DatatypeConverter.parseBase64Binary(s);\n</code></pre>\n\n<p>or if you want to print an array of signed byte values</p>\n\n<pre><code>String s = Arrays.toString(bytes);\nSystem.out.println(s);\n// to reverse\nString[] split = s.substring(1, s.length() - 1).split(\", \");\nbyte[] bytes2 = new byte[split.length];\nfor (int i = 0; i &lt; bytes2.length; i++)\n    bytes2[i] = Byte.parseByte(split[i]);\n</code></pre>\n\n<p>or if you want to print an array of unsigned byte values</p>\n\n<pre><code>String s = Arrays.toString(\n               IntStream.range(0, bytes.length).map(i -&gt; bytes[i] &amp; 0xFF).toArray());\nSystem.out.println(s);\n// to reverse\nString[] split = s.substring(1, s.length() - 1).split(\", \");\nbyte[] bytes2 = new byte[split.length];\nfor (int i = 0; i &lt; bytes2.length; i++)\n    bytes2[i] = (byte) Integer.parseInt(split[i]); // might need a range check.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10995672,"reputation":572,"user_id":8077972,"display_name":"Manjitha Teshara"},"score":0,"creation_date":1533399764,"post_id":51124754,"comment_id":90336922,"body_markdown":"int array[] = {1, 2, 3, 4, 5};\nfor (int i:array)\n    System.out.println(i);","body":"int array[] = {1, 2, 3, 4, 5}; for (int i:array)     System.out.println(i);"},{"owner":{"account_id":10995672,"reputation":572,"user_id":8077972,"display_name":"Manjitha Teshara"},"score":0,"creation_date":1533399795,"post_id":51124754,"comment_id":90336929,"body_markdown":"try this i think this is shortest way to print array","body":"try this i think this is shortest way to print array"},{"owner":{"account_id":5513230,"reputation":3625,"user_id":4378853,"accept_rate":100,"display_name":"GotoFinal"},"score":0,"creation_date":1579004045,"post_id":51124754,"comment_id":105615913,"body_markdown":"&quot;the memory address whose array(number array) declared is printed&quot; That&#39;s not true at all, its system hash code of object, and this can be based on many things, including memory address, but this could change later and hash code would not change. And currently its mostly a random number. https://gotofinal.dev/java/2017/10/08/java-default-hashcode.html","body":"&quot;the memory address whose array(number array) declared is printed&quot; That&#39;s not true at all, its system hash code of object, and this can be based on many things, including memory address, but this could change later and hash code would not change. And currently its mostly a random number. <a href=\"https://gotofinal.dev/java/2017/10/08/java-default-hashcode.html\" rel=\"nofollow noreferrer\">gotofinal.dev/java/2017/10/08/java-default-hashcode.html</a>"}],"tags":[],"owner":{"account_id":13274351,"reputation":163,"user_id":9584195,"display_name":"Gayan Sampath"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1530459941,"creation_date":1530459941,"answer_id":51124754,"question_id":409784,"body_markdown":"There are several ways to print an array elements.First of all,  I&#39;ll explain that, what is an array?..Array is a simple data structure for storing data..When you define an array , Allocate set of ancillary memory blocks in RAM.Those memory blocks are taken  one unit ..\r\n\r\nOk, I&#39;ll create an array like this,\r\n\r\n    class demo{\r\n          public static void main(String a[]){\r\n     \r\n               int[] number={1,2,3,4,5};\r\n     \r\n               System.out.print(number);\r\n          }\r\n    }\r\n\r\nNow look at the output,\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can see an unknown string printed..As I mentioned before, the memory address whose array(number array) declared is printed.If you want to display elements in the array, you can use &quot;for loop &quot; , like this..\r\n\r\n    class demo{\r\n          public static void main(String a[]){\r\n     \r\n               int[] number={1,2,3,4,5};\r\n\r\n               int i;\r\n     \r\n               for(i=0;i&lt;number.length;i++){\r\n                     System.out.print(number[i]+&quot;  &quot;);\r\n               }\r\n          }\r\n    }\r\n\r\n \r\nNow look at the output,\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nOk,Successfully printed elements of one dimension  array..Now I am going to consider two dimension array..I&#39;ll declare two dimension array as &quot;number2&quot; and print the elements using &quot;Arrays.deepToString(&lt;array name&gt;)&quot; keyword.Before using that You will have to import &#39;java.util.Arrays&#39; library.\r\n\r\n\r\n\r\n \r\n\r\n     import java.util.Arrays;\r\n\r\n     class demo{\r\n          public static void main(String a[]){\r\n     \r\n               int[][] number2={{1,2},{3,4},{5,6}};`\r\n     \r\n               System.out.print(Arrays.deepToString(number2));\r\n          }\r\n    }\r\n\r\n\r\nconsider the output,\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AwGkn.jpg\r\n  [2]: https://i.stack.imgur.com/yrBhs.jpg\r\n  [3]: https://i.stack.imgur.com/FzgGn.jpg\r\n\r\n\r\nAt the same time , Using two for loops ,2D elements can be printed..Thank you !","title":"What&#39;s the simplest way to print a Java array?","body":"<p>There are several ways to print an array elements.First of all,  I'll explain that, what is an array?..Array is a simple data structure for storing data..When you define an array , Allocate set of ancillary memory blocks in RAM.Those memory blocks are taken  one unit ..</p>\n\n<p>Ok, I'll create an array like this,</p>\n\n<pre><code>class demo{\n      public static void main(String a[]){\n\n           int[] number={1,2,3,4,5};\n\n           System.out.print(number);\n      }\n}\n</code></pre>\n\n<p>Now look at the output,</p>\n\n<p><a href=\"https://i.stack.imgur.com/AwGkn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwGkn.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can see an unknown string printed..As I mentioned before, the memory address whose array(number array) declared is printed.If you want to display elements in the array, you can use \"for loop \" , like this..</p>\n\n<pre><code>class demo{\n      public static void main(String a[]){\n\n           int[] number={1,2,3,4,5};\n\n           int i;\n\n           for(i=0;i&lt;number.length;i++){\n                 System.out.print(number[i]+\"  \");\n           }\n      }\n}\n</code></pre>\n\n<p>Now look at the output,</p>\n\n<p><a href=\"https://i.stack.imgur.com/yrBhs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrBhs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Ok,Successfully printed elements of one dimension  array..Now I am going to consider two dimension array..I'll declare two dimension array as \"number2\" and print the elements using \"Arrays.deepToString()\" keyword.Before using that You will have to import 'java.util.Arrays' library.</p>\n\n<pre><code> import java.util.Arrays;\n\n class demo{\n      public static void main(String a[]){\n\n           int[][] number2={{1,2},{3,4},{5,6}};`\n\n           System.out.print(Arrays.deepToString(number2));\n      }\n}\n</code></pre>\n\n<p>consider the output,</p>\n\n<p><a href=\"https://i.stack.imgur.com/FzgGn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FzgGn.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>At the same time , Using two for loops ,2D elements can be printed..Thank you !</p>\n"},{"comments":[{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1544798528,"post_id":53701558,"comment_id":94414960,"body_markdown":"This is better than the accepted answer in that it gives more control over the delimiter, prefix and suffix. However, I would remove superfluous `toString()` in the final `System.out.println()` and used it in `joiner.add(element.toString())` instead of adding the empty string. This solution works for arrays of non-primitive types as well, uniformly.","body":"This is better than the accepted answer in that it gives more control over the delimiter, prefix and suffix. However, I would remove superfluous <code>toString()</code> in the final <code>System.out.println()</code> and used it in <code>joiner.add(element.toString())</code> instead of adding the empty string. This solution works for arrays of non-primitive types as well, uniformly."},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1544799770,"post_id":53701558,"comment_id":94415725,"body_markdown":"My bad, `element.toString()` inside `joiner.add()` is for non-primitive types only. You still need to use `Integer.toString(element)` - like constructs for primitive types. Personally, I used foreach loop `for (int element : array) joiner.add(Integer.toString(element));` instead of streams, but that&#39;s the matter of taste.","body":"My bad, <code>element.toString()</code> inside <code>joiner.add()</code> is for non-primitive types only. You still need to use <code>Integer.toString(element)</code> - like constructs for primitive types. Personally, I used foreach loop <code>for (int element : array) joiner.add(Integer.toString(element));</code> instead of streams, but that&#39;s the matter of taste."}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544428678,"creation_date":1544428678,"answer_id":53701558,"question_id":409784,"body_markdown":"if you are running jdk 8. \r\n\r\n    public static void print(int[] array) {\r\n        StringJoiner joiner = new StringJoiner(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;);\r\n        Arrays.stream(array).forEach(element -&gt; joiner.add(element + &quot;&quot;));\r\n        System.out.println(joiner.toString());\r\n    }\r\n\r\n\r\n    int[] array = new int[]{7, 3, 5, 1, 3};\r\n    print(array);\r\n\r\noutput:\r\n\r\n    [7,3,5,1,3]","title":"What&#39;s the simplest way to print a Java array?","body":"<p>if you are running jdk 8. </p>\n\n<pre><code>public static void print(int[] array) {\n    StringJoiner joiner = new StringJoiner(\",\", \"[\", \"]\");\n    Arrays.stream(array).forEach(element -&gt; joiner.add(element + \"\"));\n    System.out.println(joiner.toString());\n}\n\n\nint[] array = new int[]{7, 3, 5, 1, 3};\nprint(array);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[7,3,5,1,3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13989048,"reputation":682,"user_id":10103431,"display_name":"Pradip Karki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546385651,"creation_date":1546385651,"answer_id":53999774,"question_id":409784,"body_markdown":"If using [Commons.Lang library][1], we could do:\r\n\r\n`ArrayUtils.toString(array)`\r\n\r\n    int[] intArray = new int[] {1, 2, 3, 4, 5};\r\n    String[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n    ArrayUtils.toString(intArray);\r\n    ArrayUtils.toString(strArray);\r\n\r\nOutput:\r\n\r\n    {1,2,3,4,5}\r\n    {John,Mary,Bob}\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"What&#39;s the simplest way to print a Java array?","body":"<p>If using <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Commons.Lang library</a>, we could do:</p>\n\n<p><code>ArrayUtils.toString(array)</code></p>\n\n<pre><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nString[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\nArrayUtils.toString(intArray);\nArrayUtils.toString(strArray);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{1,2,3,4,5}\n{John,Mary,Bob}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16754073,"reputation":39,"user_id":12110449,"display_name":"Chen Jin"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1571590617,"creation_date":1571590617,"answer_id":58475254,"question_id":409784,"body_markdown":"toString is a way to convert an array to string.\r\n\r\nAlso, you can use:\r\n~~~\r\nfor (int i = 0; i &lt; myArray.length; i++){\r\nSystem.out.println(myArray[i] + &quot; &quot;);\r\n}\r\n~~~\r\nThis for loop will enable you to print each value of your array in order.","title":"What&#39;s the simplest way to print a Java array?","body":"<p>toString is a way to convert an array to string.</p>\n\n<p>Also, you can use:</p>\n\n<pre><code>for (int i = 0; i &lt; myArray.length; i++){\nSystem.out.println(myArray[i] + \" \");\n}\n</code></pre>\n\n<p>This for loop will enable you to print each value of your array in order.</p>\n"},{"tags":[],"owner":{"account_id":18468411,"reputation":153,"user_id":13453968,"display_name":"Anubhav Mishra"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1591251836,"creation_date":1591251836,"answer_id":62188116,"question_id":409784,"body_markdown":"In JDK1.8 you can use aggregate operations and a lambda expression:\r\n\r\n    String[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n\r\n    // #1\r\n    Arrays.asList(strArray).stream().forEach(s -&gt; System.out.println(s));\r\n\r\n    // #2\r\n    Stream.of(strArray).forEach(System.out::println);\r\n\r\n     // #3\r\n     Arrays.stream(strArray).forEach(System.out::println);\r\n\r\n    /* output:\r\n    John\r\n    Mary\r\n    Bob\r\n    */\r\n\r\nAlso, starting with Java 8, one could also take advantage of the join() method provided by the String class to print out array elements, without the brackets, and separated by a delimiter of choice (which is the space character for the example shown below)\r\n \r\n    string[] greeting = {&quot;Hey&quot;, &quot;there&quot;, &quot;amigo!&quot;};\r\n    String delimiter = &quot; &quot;;\r\n    String.join(delimiter, greeting) \r\n`\r\nThe output will be &quot;Hey there amigo!&quot;","title":"What&#39;s the simplest way to print a Java array?","body":"<p>In JDK1.8 you can use aggregate operations and a lambda expression:</p>\n\n<pre><code>String[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\n\n// #1\nArrays.asList(strArray).stream().forEach(s -&gt; System.out.println(s));\n\n// #2\nStream.of(strArray).forEach(System.out::println);\n\n // #3\n Arrays.stream(strArray).forEach(System.out::println);\n\n/* output:\nJohn\nMary\nBob\n*/\n</code></pre>\n\n<p>Also, starting with Java 8, one could also take advantage of the join() method provided by the String class to print out array elements, without the brackets, and separated by a delimiter of choice (which is the space character for the example shown below)</p>\n\n<pre><code>string[] greeting = {\"Hey\", \"there\", \"amigo!\"};\nString delimiter = \" \";\nString.join(delimiter, greeting) \n</code></pre>\n\n<p>`\nThe output will be \"Hey there amigo!\"</p>\n"},{"tags":[],"owner":{"account_id":18901007,"reputation":362,"user_id":13789009,"display_name":"Chiara Tumminelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606842386,"creation_date":1606842386,"answer_id":65095101,"question_id":409784,"body_markdown":"Here a possible printing function:\r\n  \r\n\r\n      public static void printArray (int [] array){\r\n            System.out.print(&quot;{ &quot;);\r\n            for (int i = 0; i &lt; array.length; i++){\r\n                System.out.print(&quot;[&quot; + array[i] + &quot;] &quot;);\r\n            }\r\n            System.out.print(&quot;}&quot;);\r\n        }\r\n\r\nFor example, if main is like this\r\n\r\n    public static void main (String [] args){\r\n        int [] array = {1, 2, 3, 4};\r\n        printArray(array);\r\n    }\r\n\r\nthe output will be { [1] [2] [3] [4] }","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Here a possible printing function:</p>\n<pre><code>  public static void printArray (int [] array){\n        System.out.print(&quot;{ &quot;);\n        for (int i = 0; i &lt; array.length; i++){\n            System.out.print(&quot;[&quot; + array[i] + &quot;] &quot;);\n        }\n        System.out.print(&quot;}&quot;);\n    }\n</code></pre>\n<p>For example, if main is like this</p>\n<pre><code>public static void main (String [] args){\n    int [] array = {1, 2, 3, 4};\n    printArray(array);\n}\n</code></pre>\n<p>the output will be { [1] [2] [3] [4] }</p>\n"},{"tags":[],"owner":{"account_id":17330754,"reputation":860,"user_id":12553922,"display_name":"Anis KCHAOU"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617035817,"creation_date":1617035817,"answer_id":66858084,"question_id":409784,"body_markdown":"If you are using Java 11\r\n\r\n    import java.util.Arrays;\r\n    public class HelloWorld{\r\n    \r\n         public static void main(String []args){\r\n            String[] array = { &quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot; };\r\n           System.out.println(Arrays.toString(array).replace(&quot;,&quot;, &quot;&quot;).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n         }\r\n    }\r\nOutput :\r\n\r\n    John Mahta Sara","title":"What&#39;s the simplest way to print a Java array?","body":"<p>If you are using Java 11</p>\n<pre><code>import java.util.Arrays;\npublic class HelloWorld{\n\n     public static void main(String []args){\n        String[] array = { &quot;John&quot;, &quot;Mahta&quot;, &quot;Sara&quot; };\n       System.out.println(Arrays.toString(array).replace(&quot;,&quot;, &quot;&quot;).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\n     }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>John Mahta Sara\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13393269,"reputation":51,"user_id":9665037,"display_name":"jkwli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623732131,"creation_date":1623732131,"answer_id":67980134,"question_id":409784,"body_markdown":"By using the java.util.Arrays:\r\n\r\n\r\n    String mRole = &quot;M_XXX_ABC&quot;;        \r\n    System.out.println(Arrays.asList(mRole.split(&quot;_&quot;)).toString());\r\n\r\noutput: [M, XXX, ABC]","title":"What&#39;s the simplest way to print a Java array?","body":"<p>By using the java.util.Arrays:</p>\n<pre><code>String mRole = &quot;M_XXX_ABC&quot;;        \nSystem.out.println(Arrays.asList(mRole.split(&quot;_&quot;)).toString());\n</code></pre>\n<p>output: [M, XXX, ABC]</p>\n"},{"tags":[],"owner":{"account_id":22173831,"reputation":659,"user_id":16418724,"display_name":"Nikhil S Marathe"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674034298,"creation_date":1647253713,"answer_id":71466245,"question_id":409784,"body_markdown":"* It is very simple way to print array without using any loop in JAVA.\r\n\r\n  -&gt; For, Single or simple array:\r\n  \r\n       int[] array = new int[]{1, 2, 3, 4, 5, 6};\r\n       System.out.println(Arrays.toString(array));\r\n\r\n    The Output :\r\n         \r\n            [1, 2, 3, 4, 5, 6]\r\n\r\n  -&gt; So, this 2D array can&#39;t be printed with Arrays.toString()\r\n\r\n       int[][] array = new int[][]{{1, 2, 3, 4, 5, 6, 7}, {8, 9, 10, 11, 12,13,14}};\r\n       System.out.println(Arrays.deepToString(array));\r\n\r\n    The Output: \r\n   \r\n         [[1, 2, 3, 4, 5, 6, 7], [8, 9, 10, 11, 12, 13, 14]]","title":"What&#39;s the simplest way to print a Java array?","body":"<ul>\n<li><p>It is very simple way to print array without using any loop in JAVA.</p>\n<p>-&gt; For, Single or simple array:</p>\n<pre><code> int[] array = new int[]{1, 2, 3, 4, 5, 6};\n System.out.println(Arrays.toString(array));\n</code></pre>\n<p>The Output :</p>\n<pre><code>      [1, 2, 3, 4, 5, 6]\n</code></pre>\n<p>-&gt; So, this 2D array can't be printed with Arrays.toString()</p>\n<pre><code> int[][] array = new int[][]{{1, 2, 3, 4, 5, 6, 7}, {8, 9, 10, 11, 12,13,14}};\n System.out.println(Arrays.deepToString(array));\n</code></pre>\n<p>The Output:</p>\n<pre><code>   [[1, 2, 3, 4, 5, 6, 7], [8, 9, 10, 11, 12, 13, 14]]\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16164833,"reputation":39,"user_id":11670058,"display_name":"Shinu Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662822589,"creation_date":1662822589,"answer_id":73672898,"question_id":409784,"body_markdown":"Use the Arrays class. It has multiple utility methods and its `toString()` is overriden to display array elements in a human readable way.\r\n`Arrays.toString(arr)`","title":"What&#39;s the simplest way to print a Java array?","body":"<p>Use the Arrays class. It has multiple utility methods and its <code>toString()</code> is overriden to display array elements in a human readable way.\n<code>Arrays.toString(arr)</code></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695538159,"creation_date":1669982385,"answer_id":74655453,"question_id":409784,"body_markdown":"For Android developers ending up here, this is for Kotlin:\r\n\r\n```kotlin\r\nprintln(myArray.joinToString())\r\n```\r\n\r\nOR\r\n\r\n```kotlin\r\nprintln(myArray.joinToString(separator = &quot;|&quot;))\r\n```\r\n","title":"What&#39;s the simplest way to print a Java array?","body":"<p>For Android developers ending up here, this is for Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(myArray.joinToString())\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(myArray.joinToString(separator = &quot;|&quot;))\n</code></pre>\n"}],"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3152882,"favorite_count":0,"down_vote_count":4,"up_vote_count":2402,"accepted_answer_id":409795,"answer_count":37,"score":2398,"last_activity_date":1695538159,"creation_date":1231015179,"question_id":409784,"body_markdown":"In Java, arrays don&#39;t override `toString()`, so if you try to print one directly, you get the `className` + &#39;@&#39; + the hex of the [`hashCode`][1] of the array, as defined by `Object.toString()`:\r\n\r\n```java\r\nint[] intArray = new int[] {1, 2, 3, 4, 5};\r\nSystem.out.println(intArray); // Prints something like &#39;[I@3343c8b3&#39;\r\n```\r\n\r\nBut usually, we&#39;d actually want something more like `[1, 2, 3, 4, 5]`. What&#39;s the simplest way of doing that? Here are some example inputs and outputs:\r\n\r\n```java\r\n// Array of primitives:\r\nint[] intArray = new int[] {1, 2, 3, 4, 5};\r\n// Output: [1, 2, 3, 4, 5]\r\n\r\n// Array of object references:\r\nString[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\r\n// Output: [John, Mary, Bob]\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_hashCode()","title":"What&#39;s the simplest way to print a Java array?","body":"<p>In Java, arrays don't override <code>toString()</code>, so if you try to print one directly, you get the <code>className</code> + '@' + the hex of the <a href=\"https://en.wikipedia.org/wiki/Java_hashCode()\" rel=\"noreferrer\"><code>hashCode</code></a> of the array, as defined by <code>Object.toString()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nSystem.out.println(intArray); // Prints something like '[I@3343c8b3'\n</code></pre>\n<p>But usually, we'd actually want something more like <code>[1, 2, 3, 4, 5]</code>. What's the simplest way of doing that? Here are some example inputs and outputs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Array of primitives:\nint[] intArray = new int[] {1, 2, 3, 4, 5};\n// Output: [1, 2, 3, 4, 5]\n\n// Array of object references:\nString[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\n// Output: [John, Mary, Bob]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9968,"page":166,"page_size":100}
