{"items":[{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1657720220,"post_id":72967166,"comment_id":128877679,"body_markdown":"That has been documented [here](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) (and also in the documentation of Spring Security 5.4.x which was the first to add this).","body":"That has been documented <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">here</a> (and also in the documentation of Spring Security 5.4.x which was the first to add this)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658475969,"creation_date":1657720483,"answer_id":72967524,"question_id":72967166,"body_markdown":"As documented in [this blog][1] remove the `extends` and expose the `SecurityFilterChain`. \r\n\r\n```java\r\n@EnableWebSecurity\r\nstatic class HttpSecurityConfiguration {\r\n    @public\r\n    public SecurityFilterChain filterChain(HttpSecurity http) {\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        http.formLogin();\r\n        http.httpBasic();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n        http.csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nIdeally you would rewrite the authorize part as well. \r\n```java\r\n@EnableWebSecurity\r\nstatic class HttpSecurityConfiguration {\r\n    @public\r\n    public SecurityFilterChain filterChain(HttpSecurity http) {\r\n        http\r\n        \t.authorizeHttpRequests( (auth) -&gt; auth.anyRequest().authenticated())\r\n        \t.formLogin(Customizer.withDefaults())\r\n        \t.httpBasic(Customizer.withDefaults())\r\n        \t.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n        \t.csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n[1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"How to migrate from WebSecurityConfigurerAdapter?","body":"<p>As documented in <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">this blog</a> remove the <code>extends</code> and expose the <code>SecurityFilterChain</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\nstatic class HttpSecurityConfiguration {\n    @public\n    public SecurityFilterChain filterChain(HttpSecurity http) {\n        http.authorizeRequests().anyRequest().authenticated();\n        http.formLogin();\n        http.httpBasic();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\n        http.csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Ideally you would rewrite the authorize part as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\nstatic class HttpSecurityConfiguration {\n    @public\n    public SecurityFilterChain filterChain(HttpSecurity http) {\n        http\n            .authorizeHttpRequests( (auth) -&gt; auth.anyRequest().authenticated())\n            .formLogin(Customizer.withDefaults())\n            .httpBasic(Customizer.withDefaults())\n            .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72967524,"answer_count":1,"score":-1,"last_activity_date":1658475969,"creation_date":1657719015,"question_id":72967166,"body_markdown":"As `WebSecurityConfigurerAdapter` is `@Deprecated`, how can I correctly move to `org.springframework.security.web.SecurityFilterChain`?\r\n\r\nI mean, what is the equivalent of the following deprecated configuration?\r\n\r\n\r\n\t@Configuration\r\n\tstatic class HttpSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp.authorizeRequests().anyRequest().authenticated();\r\n\t\t    http.formLogin();\r\n\t\t\thttp.httpBasic();\r\n\t\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n\t\t\thttp.csrf().disable();\r\n\t\t}\r\n\t}","title":"How to migrate from WebSecurityConfigurerAdapter?","body":"<p>As <code>WebSecurityConfigurerAdapter</code> is <code>@Deprecated</code>, how can I correctly move to <code>org.springframework.security.web.SecurityFilterChain</code>?</p>\n<p>I mean, what is the equivalent of the following deprecated configuration?</p>\n<pre><code>@Configuration\nstatic class HttpSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().authenticated();\n        http.formLogin();\n        http.httpBasic();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\n        http.csrf().disable();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":3,"creation_date":1658476131,"post_id":73076781,"comment_id":129065013,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, task.getException().getMessage());` in the second callback. Do you get something printed out in the logcat?","body":"First of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, task.getException().getMessage());</code> in the second callback. Do you get something printed out in the logcat?"},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658476646,"post_id":73076781,"comment_id":129065185,"body_markdown":"@AlexMamo where I have add this line?","body":"@AlexMamo where I have add this line?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658476760,"post_id":73076781,"comment_id":129065226,"body_markdown":"You don&#39;t. You should add it and check if something gets printed out in the logcat.","body":"You don&#39;t. You should add it and check if something gets printed out in the logcat."},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658477556,"post_id":73076781,"comment_id":129065511,"body_markdown":"2022-07-22 13:38:00.225 1795-2495/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-07-22 13:38:00.225 1795-2495/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8","body":"2022-07-22 13:38:00.225 1795-2495/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8 2022-07-22 13:38:00.225 1795-2495/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658477820,"post_id":73076781,"comment_id":129065593,"body_markdown":"Unfortunately, it doesn&#39;t provide information so we can help.","body":"Unfortunately, it doesn&#39;t provide information so we can help."},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658480213,"post_id":73076781,"comment_id":129066505,"body_markdown":"@AlexMamo can I share you the project file. That you can check what&#39;s the error.","body":"@AlexMamo can I share you the project file. That you can check what&#39;s the error."},{"owner":{"account_id":25845426,"reputation":856,"user_id":19580355,"display_name":"PineapplePie"},"score":0,"creation_date":1658484563,"post_id":73076781,"comment_id":129068254,"body_markdown":"I can see only one usage of storageReference. Where is the rest of your code which is saving your image? You need to pass an array of bytes/file/inputstream and save your image to storage. \n\nIt should be like that (simplified)\nGetting URI in onActivityResult -&gt; opening a stream with this URI -&gt; passing this stream to Firebase -&gt; then you&#39;ll have an UploadTask.\n\nPlease, read this article https://firebase.google.com/docs/storage/android/upload-files#upload_from_data_in_memory. You should always start from reading documentation.","body":"I can see only one usage of storageReference. Where is the rest of your code which is saving your image? You need to pass an array of bytes/file/inputstream and save your image to storage.   It should be like that (simplified) Getting URI in onActivityResult -&gt; opening a stream with this URI -&gt; passing this stream to Firebase -&gt; then you&#39;ll have an UploadTask.  Please, read this article <a href=\"https://firebase.google.com/docs/storage/android/upload-files#upload_from_data_in_memory\" rel=\"nofollow noreferrer\">firebase.google.com/docs/storage/android/&hellip;</a>. You should always start from reading documentation."},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658487712,"post_id":73076781,"comment_id":129069371,"body_markdown":"@PineapplePie storangeReference is their in last.","body":"@PineapplePie storangeReference is their in last."}],"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658475622,"creation_date":1658475622,"question_id":73076781,"body_markdown":"I tried to share the image in the chat app.But was not able to successfully share it.\r\nIt&#39;s selecting the image from the gallery but not appearing in the chat and not getting saved in the firebase also. Below is my Chat.xml file and UserChat.java file.\r\n\r\nI am not able to find the solution for it.\r\n\r\n\r\n**//XML Code**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Activity.UserChatActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=&quot;@+id/profile_image&quot;\r\n            android:layout_width=&quot;90dp&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            android:layout_margin=&quot;20sp&quot;\r\n            android:src=&quot;@drawable/user&quot;\r\n            app:civ_border_color=&quot;#D21CB4F5&quot;\r\n            app:civ_border_width=&quot;2dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/receivername&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/app_name&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_margin=&quot;10sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:fontFamily=&quot;sans-serif-medium&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/messageAdapter&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/mesbox&quot;\r\n        android:layout_below=&quot;@+id/dp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/mesbox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_margin=&quot;2dp&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/attachment&quot;\r\n            android:layout_width=&quot;35dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            app:cardCornerRadius=&quot;540dp&quot;\r\n            android:layout_margin=&quot;3dp&quot;\r\n            app:cardBackgroundColor=&quot;#0381C5&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:background=&quot;@drawable/clip&quot;/&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            app:cardCornerRadius=&quot;540dp&quot;\r\n            android:layout_margin=&quot;3dp&quot;\r\n            app:cardBackgroundColor=&quot;#431CB4F5&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editmessage&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Message&quot;\r\n                android:paddingStart=&quot;10dp&quot;\r\n                android:paddingLeft=&quot;10dp&quot;\r\n                android:fontFamily=&quot;sans-serif-light&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/sendbutton&quot;\r\n            android:layout_width=&quot;35dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            app:cardCornerRadius=&quot;540dp&quot;\r\n            android:layout_margin=&quot;3dp&quot;\r\n            app:cardBackgroundColor=&quot;#0381C5&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:background=&quot;@drawable/send&quot;/&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n**// JAVA code**\r\n\r\n    package com.example.chatapp.Activity;\r\n\r\n    import de.hdodenhof.circleimageview.CircleImageView;\r\n\r\n    public class UserChatActivity extends AppCompatActivity {\r\n\r\n    String ReceiverImage;\r\n    String ReceiverUID;\r\n    String ReceiverName;\r\n    String SenderUID;\r\n    String senderRoom;\r\n    String receiverRoom;\r\n\r\n    public static String sImage;\r\n    public static String rImage;\r\n\r\n    CircleImageView profile_image;\r\n    TextView receivername;\r\n\r\n    CardView attachment;\r\n    EditText editmessage;\r\n    CardView sendbutton;\r\n\r\n    FirebaseAuth fAuth;\r\n    FirebaseDatabase database;\r\n\r\n    RecyclerView messageAdapter;\r\n    ArrayList&lt;Messages&gt; messagesArrayList;\r\n\r\n    MessagesAdapter adapter;\r\n\r\n    private String checker = &quot;&quot;, myURL = &quot;&quot;;\r\n    private StorageTask uploadTask;\r\n    private Uri fileUri;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_user_chat);\r\n\r\n        fAuth = FirebaseAuth.getInstance();\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n        ReceiverImage = getIntent().getStringExtra(&quot;ReceiverImage&quot;);\r\n        ReceiverName = getIntent().getStringExtra(&quot;name&quot;);\r\n        ReceiverUID = getIntent().getStringExtra(&quot;uid&quot;);\r\n\r\n        messagesArrayList = new ArrayList&lt;&gt;();\r\n\r\n        profile_image = findViewById(R.id.profile_image);\r\n        receivername = findViewById(R.id.receivername);\r\n\r\n        messageAdapter = findViewById(R.id.messageAdapter);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        messageAdapter.setLayoutManager(linearLayoutManager);\r\n        adapter = new MessagesAdapter(UserChatActivity.this, messagesArrayList);\r\n        messageAdapter.setAdapter(adapter);\r\n\r\n        attachment = findViewById(R.id.attachment);\r\n        editmessage = findViewById(R.id.editmessage);\r\n        sendbutton = findViewById(R.id.sendbutton);\r\n\r\n        Picasso.get().load(ReceiverImage).into(profile_image);\r\n        receivername.setText(&quot;&quot; + ReceiverName);\r\n\r\n        SenderUID = fAuth.getUid();\r\n\r\n        senderRoom = SenderUID + ReceiverUID;\r\n        receiverRoom = ReceiverUID + SenderUID;\r\n\r\n        DatabaseReference reference = database.getReference().child(&quot;user&quot;).child(fAuth.getUid());\r\n        DatabaseReference chatReference = database.getReference().child(&quot;chats&quot;).child(senderRoom).child(&quot;messages&quot;);\r\n\r\n\r\n        chatReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                messagesArrayList.clear();\r\n\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Messages messages = dataSnapshot.getValue(Messages.class);\r\n                    messagesArrayList.add(messages);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                sImage = snapshot.child(&quot;imageUri&quot;).getValue().toString();\r\n                rImage = ReceiverImage;\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        attachment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                CharSequence options[] = new CharSequence[]\r\n                        {\r\n                          &quot;Image&quot;, &quot;Documents&quot;\r\n                        };\r\n\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(UserChatActivity.this);\r\n                builder.setTitle(&quot;Select File&quot;);\r\n\r\n                builder.setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        if(i == 0)\r\n                        {\r\n                            checker = &quot;image&quot;;\r\n\r\n                            Intent intent = new Intent();\r\n                            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                            intent.setType(&quot;image/*&quot;);\r\n                            startActivityForResult(intent.createChooser(intent, &quot;Select Image&quot;), 438);\r\n                        }\r\n                        if (i == 1)\r\n                        {\r\n                            checker = &quot;pdf&quot;;\r\n                        }\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        });\r\n\r\n        sendbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String message = editmessage.getText().toString();\r\n\r\n                if (message.isEmpty()) {\r\n                    Toast.makeText(UserChatActivity.this, &quot;Insert Message&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                editmessage.setText(&quot;&quot;);\r\n                Date date = new Date();\r\n\r\n                Messages messages = new Messages(message, SenderUID, date.getTime());\r\n\r\n                database.getReference().child(&quot;chats&quot;)\r\n                        .child(senderRoom)\r\n                        .child(&quot;messages&quot;)\r\n                        .push()\r\n                        .setValue(messages).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                database.getReference().child(&quot;chats&quot;)\r\n                                        .child(receiverRoom)\r\n                                        .child(&quot;messages&quot;)\r\n                                        .push()\r\n                                        .setValue(messages).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 438 &amp;&amp; requestCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null)\r\n        {\r\n            fileUri = data.getData();\r\n\r\n            if (!checker.equals(&quot;image&quot;))\r\n            {\r\n\r\n            }\r\n            else if (checker.equals(&quot;image&quot;))\r\n            {\r\n                StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image Files&quot;).child(fAuth.getUid());;\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;Nothing Selected&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n**Please someone help me to solve it.**","title":"Not able to send Image in chat Application","body":"<p>I tried to share the image in the chat app.But was not able to successfully share it.\nIt's selecting the image from the gallery but not appearing in the chat and not getting saved in the firebase also. Below is my Chat.xml file and UserChat.java file.</p>\n<p>I am not able to find the solution for it.</p>\n<p><strong>//XML Code</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.Activity.UserChatActivity&quot;&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=&quot;@+id/profile_image&quot;\n        android:layout_width=&quot;90dp&quot;\n        android:layout_height=&quot;90dp&quot;\n        android:layout_margin=&quot;20sp&quot;\n        android:src=&quot;@drawable/user&quot;\n        app:civ_border_color=&quot;#D21CB4F5&quot;\n        app:civ_border_width=&quot;2dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/receivername&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/app_name&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:fontFamily=&quot;sans-serif-medium&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/messageAdapter&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_above=&quot;@+id/mesbox&quot;\n    android:layout_below=&quot;@+id/dp&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/mesbox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_margin=&quot;2dp&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/attachment&quot;\n        android:layout_width=&quot;35dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        app:cardCornerRadius=&quot;540dp&quot;\n        android:layout_margin=&quot;3dp&quot;\n        app:cardBackgroundColor=&quot;#0381C5&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:background=&quot;@drawable/clip&quot;/&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_weight=&quot;1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;35dp&quot;\n        app:cardCornerRadius=&quot;540dp&quot;\n        android:layout_margin=&quot;3dp&quot;\n        app:cardBackgroundColor=&quot;#431CB4F5&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/editmessage&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Message&quot;\n            android:paddingStart=&quot;10dp&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:fontFamily=&quot;sans-serif-light&quot;\n            android:background=&quot;@null&quot;\n            android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/sendbutton&quot;\n        android:layout_width=&quot;35dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        app:cardCornerRadius=&quot;540dp&quot;\n        android:layout_margin=&quot;3dp&quot;\n        app:cardBackgroundColor=&quot;#0381C5&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:background=&quot;@drawable/send&quot;/&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>// JAVA code</strong></p>\n<pre><code>package com.example.chatapp.Activity;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class UserChatActivity extends AppCompatActivity {\n\nString ReceiverImage;\nString ReceiverUID;\nString ReceiverName;\nString SenderUID;\nString senderRoom;\nString receiverRoom;\n\npublic static String sImage;\npublic static String rImage;\n\nCircleImageView profile_image;\nTextView receivername;\n\nCardView attachment;\nEditText editmessage;\nCardView sendbutton;\n\nFirebaseAuth fAuth;\nFirebaseDatabase database;\n\nRecyclerView messageAdapter;\nArrayList&lt;Messages&gt; messagesArrayList;\n\nMessagesAdapter adapter;\n\nprivate String checker = &quot;&quot;, myURL = &quot;&quot;;\nprivate StorageTask uploadTask;\nprivate Uri fileUri;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.activity_user_chat);\n\n    fAuth = FirebaseAuth.getInstance();\n    database = FirebaseDatabase.getInstance();\n\n    ReceiverImage = getIntent().getStringExtra(&quot;ReceiverImage&quot;);\n    ReceiverName = getIntent().getStringExtra(&quot;name&quot;);\n    ReceiverUID = getIntent().getStringExtra(&quot;uid&quot;);\n\n    messagesArrayList = new ArrayList&lt;&gt;();\n\n    profile_image = findViewById(R.id.profile_image);\n    receivername = findViewById(R.id.receivername);\n\n    messageAdapter = findViewById(R.id.messageAdapter);\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    linearLayoutManager.setStackFromEnd(true);\n    messageAdapter.setLayoutManager(linearLayoutManager);\n    adapter = new MessagesAdapter(UserChatActivity.this, messagesArrayList);\n    messageAdapter.setAdapter(adapter);\n\n    attachment = findViewById(R.id.attachment);\n    editmessage = findViewById(R.id.editmessage);\n    sendbutton = findViewById(R.id.sendbutton);\n\n    Picasso.get().load(ReceiverImage).into(profile_image);\n    receivername.setText(&quot;&quot; + ReceiverName);\n\n    SenderUID = fAuth.getUid();\n\n    senderRoom = SenderUID + ReceiverUID;\n    receiverRoom = ReceiverUID + SenderUID;\n\n    DatabaseReference reference = database.getReference().child(&quot;user&quot;).child(fAuth.getUid());\n    DatabaseReference chatReference = database.getReference().child(&quot;chats&quot;).child(senderRoom).child(&quot;messages&quot;);\n\n\n    chatReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            messagesArrayList.clear();\n\n            for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                Messages messages = dataSnapshot.getValue(Messages.class);\n                messagesArrayList.add(messages);\n            }\n            adapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            sImage = snapshot.child(&quot;imageUri&quot;).getValue().toString();\n            rImage = ReceiverImage;\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    attachment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            CharSequence options[] = new CharSequence[]\n                    {\n                      &quot;Image&quot;, &quot;Documents&quot;\n                    };\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(UserChatActivity.this);\n            builder.setTitle(&quot;Select File&quot;);\n\n            builder.setItems(options, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    if(i == 0)\n                    {\n                        checker = &quot;image&quot;;\n\n                        Intent intent = new Intent();\n                        intent.setAction(Intent.ACTION_GET_CONTENT);\n                        intent.setType(&quot;image/*&quot;);\n                        startActivityForResult(intent.createChooser(intent, &quot;Select Image&quot;), 438);\n                    }\n                    if (i == 1)\n                    {\n                        checker = &quot;pdf&quot;;\n                    }\n                }\n            });\n            builder.show();\n        }\n    });\n\n    sendbutton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String message = editmessage.getText().toString();\n\n            if (message.isEmpty()) {\n                Toast.makeText(UserChatActivity.this, &quot;Insert Message&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n            editmessage.setText(&quot;&quot;);\n            Date date = new Date();\n\n            Messages messages = new Messages(message, SenderUID, date.getTime());\n\n            database.getReference().child(&quot;chats&quot;)\n                    .child(senderRoom)\n                    .child(&quot;messages&quot;)\n                    .push()\n                    .setValue(messages).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            database.getReference().child(&quot;chats&quot;)\n                                    .child(receiverRoom)\n                                    .child(&quot;messages&quot;)\n                                    .push()\n                                    .setValue(messages).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                        }\n                                    });\n                        }\n                    });\n        }\n    });\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 438 &amp;&amp; requestCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null)\n    {\n        fileUri = data.getData();\n\n        if (!checker.equals(&quot;image&quot;))\n        {\n\n        }\n        else if (checker.equals(&quot;image&quot;))\n        {\n            StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image Files&quot;).child(fAuth.getUid());;\n        }\n        else\n        {\n            Toast.makeText(this, &quot;Nothing Selected&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Please someone help me to solve it.</strong></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1658216042,"post_id":73032677,"comment_id":128989675,"body_markdown":"Package `com.test.client.utils` would have to be in a `com/test/client/utils` folder. The package for the `com/test/clint` folder would be `com.test.clint`","body":"Package <code>com.test.client.utils</code> would have to be in a <code>com&#47;test&#47;client&#47;utils</code> folder. The package for the <code>com&#47;test&#47;clint</code> folder would be <code>com.test.clint</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658235740,"post_id":73032677,"comment_id":128997145,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25841860,"reputation":1,"user_id":19577297,"display_name":"breeze917"},"score":0,"creation_date":1658297366,"post_id":73032677,"comment_id":129013318,"body_markdown":"thank you, guys. i understood how to fix java problem in this case but i wonder to why maven build was sucess in spite have java problem. if anyone kown it is add commet. plz","body":"thank you, guys. i understood how to fix java problem in this case but i wonder to why maven build was sucess in spite have java problem. if anyone kown it is add commet. plz"}],"answers":[{"tags":[],"owner":{"account_id":12226275,"reputation":102,"user_id":8923778,"display_name":"Bacem W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658215698,"creation_date":1658215698,"answer_id":73032758,"question_id":73032677,"body_markdown":"please rename the class to public abstract class Test {}  (with T uppsercase) \r\nchanges the imports \r\nmvn clean install =&gt; should be ok \r\non eclipse top of the menu click on project -&gt; clean =&gt; this should remove the errors \r\n","title":"my project java code has some syntax error but it is maven build working success, it makes me confused","body":"<p>please rename the class to public abstract class Test {}  (with T uppsercase)\nchanges the imports\nmvn clean install =&gt; should be ok\non eclipse top of the menu click on project -&gt; clean =&gt; this should remove the errors</p>\n"}],"owner":{"account_id":25841860,"reputation":1,"user_id":19577297,"display_name":"breeze917"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658475277,"creation_date":1658215218,"question_id":73032677,"body_markdown":"my project java code has some syntax error that wrong package name , like below : \r\n\r\n    // below line make java problem, The declared package &quot;com.test.as.utils&quot; does not match the expected package &quot;com.test.as&quot;\r\n    package com.test.as.utils; \r\n\r\n\r\n    import java.io.File;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import com.pointi.ivr.FileWatchdog;\r\n    import com.pointi.ivr.FileWatchdogListener;\r\n    import com.pointi.ivr.FileWatchdogThread;\r\n\r\n    public abstract class AbstractReloadConf implements FileWatchdogListener {\r\n    private static Logger logger = LoggerFactory.getLogger(AbstractReloadConf.class);\r\n    protected FileWatchdogThread watchdogThread;\r\n    \r\n    synchronized\r\n    private void initialize(String configFile) throws Exception {\r\n        watchdogThread = new FileWatchdogThread(&quot;ConfigWatchdog&quot;);\r\n        watchdogThread.addFileWatchdog(new FileWatchdog(configFile));\r\n        watchdogThread.setFileWatchdogListener(this);\r\n        watchdogThread.setDelay(1000);\r\n    }\r\n    \r\n    public  void configureAndStart(String configFile) throws Exception {\r\n        initialize(configFile);\r\n        watchdogThread.start();\r\n        parseConfigFile(new File(configFile));\r\n    }\r\n    \r\n    @Override\r\n    public void onChanged(File file) {\r\n        try {\r\n            parseConfigFile(file);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;&quot;, e);\r\n        }         \r\n    }\r\n\r\n    protected abstract void parseConfigFile(File file) throws Exception;\r\n    }\r\n\r\n\r\n\r\nanother class  use this abstract class for extend and it is make java error too. \r\nlike below : \r\n\r\n\r\n    package com.test.as.vmsc.server;\r\n\r\n    import java.io.File;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.CopyOnWriteArrayList;\r\n\r\n    import org.ini4j.Wini;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import com.test.ivr.AppConfig;\r\n    // below line make java problem,The import com.test.as.utils cannot be resolved\r\n    import com.test.as.utils.AbstractReloadConf;\r\n\r\n    // below line make java problem, AbstractReloadConf cannot be resolved to a type\r\n    public class SceVmscReloadConf extends  AbstractReloadConf {\r\n    private static Logger logger = LoggerFactory.getLogger(SceVmscReloadConf.class);\r\n    private static SceVmscReloadConf singletone = new SceVmscReloadConf();\r\n    private static final List&lt;String&gt; routeNumberList = new CopyOnWriteArrayList&lt;String&gt;();\r\n    \r\n    public static SceVmscReloadConf getInstance() {\r\n        return singletone;\r\n    }\r\n    \r\n    public void addRouteNumber(String routeNumber) {\r\n        routeNumberList.add(routeNumber);\r\n    }\r\n\r\n    @Override\r\n    // below line make java problem, The method parseConfigFile(File) of type SceVmscReloadConf must override or implement a supertype method\r\n    protected void parseConfigFile(File file) throws Exception {\r\n        Wini ini = new Wini(file);\r\n\r\n        String voicecertMode = ini.fetch(&quot;VOICECERT&quot;, &quot;MODE&quot;, String.class);\r\n        if(voicecertMode != null) {\r\n            AppConfig.getInstance().setVariable(&quot;voicecertMode&quot;, voicecertMode);\r\n        } else {\r\n            AppConfig.getInstance().setVariable(&quot;voicecertMode&quot;, &quot;0&quot;);\r\n        }\r\n        \r\n        String voicecertOnlyDisable = ini.fetch(&quot;VOICECERT&quot;, &quot;VOICE_ONLY_DISABLE&quot;, String.class);\r\n        if(voicecertOnlyDisable != null) {\r\n            AppConfig.getInstance().setVariable(&quot;voicecertOnlyDisable&quot;, voicecertOnlyDisable);\r\n        } else {\r\n            AppConfig.getInstance().setVariable(&quot;voicecertOnlyDisable&quot;, &quot;0&quot;);\r\n        }\r\n\r\n    \r\n    }\r\n\r\nI thought this code would fail to maven build (goal is clean, install) because it has some java problem (wrong package path) \r\n\r\nBut maven build is suceeds.\r\n\r\nI don&#39;t understand it. I checked pom.xml but I didn&#39;t find abnormal setting.\r\n\r\nMaybe modify package path to correctly problem is solve and code make clean, but I want know why this code succeeded to maven build in spite of has java problem.\r\n\r\n","title":"my project java code has some syntax error but it is maven build working success, it makes me confused","body":"<p>my project java code has some syntax error that wrong package name , like below :</p>\n<pre><code>// below line make java problem, The declared package &quot;com.test.as.utils&quot; does not match the expected package &quot;com.test.as&quot;\npackage com.test.as.utils; \n\n\nimport java.io.File;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.pointi.ivr.FileWatchdog;\nimport com.pointi.ivr.FileWatchdogListener;\nimport com.pointi.ivr.FileWatchdogThread;\n\npublic abstract class AbstractReloadConf implements FileWatchdogListener {\nprivate static Logger logger = LoggerFactory.getLogger(AbstractReloadConf.class);\nprotected FileWatchdogThread watchdogThread;\n\nsynchronized\nprivate void initialize(String configFile) throws Exception {\n    watchdogThread = new FileWatchdogThread(&quot;ConfigWatchdog&quot;);\n    watchdogThread.addFileWatchdog(new FileWatchdog(configFile));\n    watchdogThread.setFileWatchdogListener(this);\n    watchdogThread.setDelay(1000);\n}\n\npublic  void configureAndStart(String configFile) throws Exception {\n    initialize(configFile);\n    watchdogThread.start();\n    parseConfigFile(new File(configFile));\n}\n\n@Override\npublic void onChanged(File file) {\n    try {\n        parseConfigFile(file);\n    } catch (Exception e) {\n        logger.error(&quot;&quot;, e);\n    }         \n}\n\nprotected abstract void parseConfigFile(File file) throws Exception;\n}\n</code></pre>\n<p>another class  use this abstract class for extend and it is make java error too.\nlike below :</p>\n<pre><code>package com.test.as.vmsc.server;\n\nimport java.io.File;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.CopyOnWriteArrayList;\n\nimport org.ini4j.Wini;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.test.ivr.AppConfig;\n// below line make java problem,The import com.test.as.utils cannot be resolved\nimport com.test.as.utils.AbstractReloadConf;\n\n// below line make java problem, AbstractReloadConf cannot be resolved to a type\npublic class SceVmscReloadConf extends  AbstractReloadConf {\nprivate static Logger logger = LoggerFactory.getLogger(SceVmscReloadConf.class);\nprivate static SceVmscReloadConf singletone = new SceVmscReloadConf();\nprivate static final List&lt;String&gt; routeNumberList = new CopyOnWriteArrayList&lt;String&gt;();\n\npublic static SceVmscReloadConf getInstance() {\n    return singletone;\n}\n\npublic void addRouteNumber(String routeNumber) {\n    routeNumberList.add(routeNumber);\n}\n\n@Override\n// below line make java problem, The method parseConfigFile(File) of type SceVmscReloadConf must override or implement a supertype method\nprotected void parseConfigFile(File file) throws Exception {\n    Wini ini = new Wini(file);\n\n    String voicecertMode = ini.fetch(&quot;VOICECERT&quot;, &quot;MODE&quot;, String.class);\n    if(voicecertMode != null) {\n        AppConfig.getInstance().setVariable(&quot;voicecertMode&quot;, voicecertMode);\n    } else {\n        AppConfig.getInstance().setVariable(&quot;voicecertMode&quot;, &quot;0&quot;);\n    }\n    \n    String voicecertOnlyDisable = ini.fetch(&quot;VOICECERT&quot;, &quot;VOICE_ONLY_DISABLE&quot;, String.class);\n    if(voicecertOnlyDisable != null) {\n        AppConfig.getInstance().setVariable(&quot;voicecertOnlyDisable&quot;, voicecertOnlyDisable);\n    } else {\n        AppConfig.getInstance().setVariable(&quot;voicecertOnlyDisable&quot;, &quot;0&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I thought this code would fail to maven build (goal is clean, install) because it has some java problem (wrong package path)</p>\n<p>But maven build is suceeds.</p>\n<p>I don't understand it. I checked pom.xml but I didn't find abnormal setting.</p>\n<p>Maybe modify package path to correctly problem is solve and code make clean, but I want know why this code succeeded to maven build in spite of has java problem.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658475245,"creation_date":1658375392,"answer_id":73060502,"question_id":73060364,"body_markdown":" As [List.equals()][1] is does ensure equal content,[stream.distinct][2] would be enough if der different order of elements is considered different, but your example shows that you want to ignore order.\r\n\r\nI would recommend to use a non-stream approach in this case, as streams work best when elements can be processed independently.\r\n\r\nYou need a stateful intermediate filter here, as it needs to remember the elements already checked. One approch would be adding elements to a [TreeSet][3] with custom comparator, and allow only elements for which the add-method returns true.\r\n\r\nThis [related question][4] shows how to implent such a filter.\r\n\r\n----------\r\n\r\nAlternatively, convert the inner lists to `LinkedHashSets` for the purpose of filtering - this is the simplest approach in terms of code size:\r\n\r\n    public static void main(String[] args) {\r\n\t\t\t\t\r\n\t\tList&lt;List&lt;String&gt;&gt; originalList = List.of(\r\n\t\t\t    List.of(&quot;abc&quot;, &quot;cba&quot;),\r\n\t\t\t    List.of(&quot;cba&quot;, &quot;abc&quot;),\r\n\t\t\t    List.of(&quot;123&quot;, &quot;321&quot;)\r\n\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\tList&lt;List&lt;String&gt;&gt; result2 = originalList.stream()\r\n\t\t\t\t\t.map(LinkedHashSet::new) // Note: does not support null values\r\n\t\t\t\t\t.distinct()\r\n\t\t\t\t\t.map(List::copyOf) // Note: does not support null values\r\n\t\t\t\t\t.toList();\r\n\t\t\t\r\n\t\t\tresult2.forEach(System.out::println);\t\t\t\r\n\t}\r\n\r\nPrints:\r\n\r\n    [abc, cba]\r\n    [123, 321]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/AbstractList.html#equals(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#distinct()\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html\r\n  [4]: https://stackoverflow.com/questions/23699371/java-8-distinct-by-property","title":"Java stream api: filtration inner collections","body":"<p>As <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/AbstractList.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">List.equals()</a> is does ensure equal content,<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\">stream.distinct</a> would be enough if der different order of elements is considered different, but your example shows that you want to ignore order.</p>\n<p>I would recommend to use a non-stream approach in this case, as streams work best when elements can be processed independently.</p>\n<p>You need a stateful intermediate filter here, as it needs to remember the elements already checked. One approch would be adding elements to a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> with custom comparator, and allow only elements for which the add-method returns true.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/23699371/java-8-distinct-by-property\">related question</a> shows how to implent such a filter.</p>\n<hr />\n<p>Alternatively, convert the inner lists to <code>LinkedHashSets</code> for the purpose of filtering - this is the simplest approach in terms of code size:</p>\n<pre><code>public static void main(String[] args) {\n            \n    List&lt;List&lt;String&gt;&gt; originalList = List.of(\n            List.of(&quot;abc&quot;, &quot;cba&quot;),\n            List.of(&quot;cba&quot;, &quot;abc&quot;),\n            List.of(&quot;123&quot;, &quot;321&quot;)\n        );\n                \n        List&lt;List&lt;String&gt;&gt; result2 = originalList.stream()\n                .map(LinkedHashSet::new) // Note: does not support null values\n                .distinct()\n                .map(List::copyOf) // Note: does not support null values\n                .toList();\n        \n        result2.forEach(System.out::println);           \n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>[abc, cba]\n[123, 321]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658436539,"creation_date":1658428618,"answer_id":73071141,"question_id":73060364,"body_markdown":"&gt; so that only **unique lists** remain\r\n\r\nJudging by your example, the following lists `[&quot;abc&quot;, &quot;cba&quot;]` and `[&quot;cba&quot;, &quot;abc&quot;]` are considered to be duplicates (which obviously isn&#39;t aligned with how equality is defined by the `List` interface).\r\n\r\nI infer your definition of equality as: *two lists are equal if every element from the first list appear the same number of times in the second list, regardless of the order*.\r\n\r\nWe can eliminate duplicates in a *linear time* **O(n)** by making use of standard *hash-based* mechanisms like method `Stream.distinct()`.\r\n\r\nFor that, we need to create a wrapper-class which would implement `equals/hashCode` contract as described above.\r\n\r\nThe following class exposes a `static` method `of()` which internally generates a *map of frequencies* for every element in the given list (which would is needed for equality checks) and *hash code of the map of frequencies* (which would be reused instead of being recalculated) and return an instance of wrapper class.\r\n\r\n```\r\nclass ListWrapper&lt;T&gt; {\r\n    private List&lt;T&gt; list;\r\n    private Map&lt;T, Integer&gt; frequencies;\r\n    private final int hash; // hash code of the Map of frequencies generated from the List would be computed only once and reused\r\n    \r\n    private ListWrapper(List&lt;T&gt; list, Map&lt;T, Integer&gt; frequencies, int hash) { // should not be invoked from outside\r\n        this.list = list;\r\n        this.frequencies = frequencies;\r\n        this.hash = hash;\r\n    }\r\n    \r\n    public static &lt;T&gt; ListWrapper&lt;T&gt; of(List&lt;T&gt; list) {\r\n        Map&lt;T, Integer&gt; freq = getFrequencies(list);\r\n        \r\n        return new ListWrapper&lt;&gt;(list, freq, freq.hashCode());\r\n    }\r\n    \r\n    public static &lt;T&gt; Map&lt;T, Integer&gt; getFrequencies(List&lt;T&gt; list) {\r\n        \r\n        return list.stream()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),\r\n                item -&gt; 1,\r\n                Integer::sum\r\n            ));\r\n    }\r\n    \r\n    public List&lt;T&gt; getList() {\r\n        return list;\r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        \r\n        if (o instanceof ListWrapper&lt;?&gt; other) {\r\n            return Objects.equals(this.frequencies, other.frequencies);\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    @Override\r\n    public int hashCode() {\r\n        return hash;\r\n    }\r\n}\r\n```\r\n\r\nAnd that&#39;s how we can use it.\r\n\r\n    public static void main(String args[]) {\r\n        List&lt;List&lt;String&gt;&gt; originalList = List.of(\r\n            List.of(&quot;abc&quot;, &quot;cba&quot;),\r\n            List.of(&quot;cba&quot;, &quot;abc&quot;),\r\n            List.of(&quot;123&quot;, &quot;321&quot;)\r\n        );\r\n        \r\n        List&lt;List&lt;String&gt;&gt; resultList = originalList.stream()\r\n            .map(ListWrapper::of)      // wrapping a list\r\n            .distinct()                // eliminating duplicates\r\n            .map(ListWrapper::getList) // unwrapping a list\r\n            .toList();                 // or .collect(Collectors.toList()) for Java 15 and earlier\r\n    \r\n        resultList.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[abc, cba]\r\n[123, 321]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/tr5)","title":"Java stream api: filtration inner collections","body":"<blockquote>\n<p>so that only <strong>unique lists</strong> remain</p>\n</blockquote>\n<p>Judging by your example, the following lists <code>[&quot;abc&quot;, &quot;cba&quot;]</code> and <code>[&quot;cba&quot;, &quot;abc&quot;]</code> are considered to be duplicates (which obviously isn't aligned with how equality is defined by the <code>List</code> interface).</p>\n<p>I infer your definition of equality as: <em>two lists are equal if every element from the first list appear the same number of times in the second list, regardless of the order</em>.</p>\n<p>We can eliminate duplicates in a <em>linear time</em> <strong>O(n)</strong> by making use of standard <em>hash-based</em> mechanisms like method <code>Stream.distinct()</code>.</p>\n<p>For that, we need to create a wrapper-class which would implement <code>equals/hashCode</code> contract as described above.</p>\n<p>The following class exposes a <code>static</code> method <code>of()</code> which internally generates a <em>map of frequencies</em> for every element in the given list (which would is needed for equality checks) and <em>hash code of the map of frequencies</em> (which would be reused instead of being recalculated) and return an instance of wrapper class.</p>\n<pre><code>class ListWrapper&lt;T&gt; {\n    private List&lt;T&gt; list;\n    private Map&lt;T, Integer&gt; frequencies;\n    private final int hash; // hash code of the Map of frequencies generated from the List would be computed only once and reused\n    \n    private ListWrapper(List&lt;T&gt; list, Map&lt;T, Integer&gt; frequencies, int hash) { // should not be invoked from outside\n        this.list = list;\n        this.frequencies = frequencies;\n        this.hash = hash;\n    }\n    \n    public static &lt;T&gt; ListWrapper&lt;T&gt; of(List&lt;T&gt; list) {\n        Map&lt;T, Integer&gt; freq = getFrequencies(list);\n        \n        return new ListWrapper&lt;&gt;(list, freq, freq.hashCode());\n    }\n    \n    public static &lt;T&gt; Map&lt;T, Integer&gt; getFrequencies(List&lt;T&gt; list) {\n        \n        return list.stream()\n            .collect(Collectors.toMap(\n                Function.identity(),\n                item -&gt; 1,\n                Integer::sum\n            ));\n    }\n    \n    public List&lt;T&gt; getList() {\n        return list;\n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        \n        if (o instanceof ListWrapper&lt;?&gt; other) {\n            return Objects.equals(this.frequencies, other.frequencies);\n        }\n        return false;\n    }\n    \n    @Override\n    public int hashCode() {\n        return hash;\n    }\n}\n</code></pre>\n<p>And that's how we can use it.</p>\n<pre><code>public static void main(String args[]) {\n    List&lt;List&lt;String&gt;&gt; originalList = List.of(\n        List.of(&quot;abc&quot;, &quot;cba&quot;),\n        List.of(&quot;cba&quot;, &quot;abc&quot;),\n        List.of(&quot;123&quot;, &quot;321&quot;)\n    );\n    \n    List&lt;List&lt;String&gt;&gt; resultList = originalList.stream()\n        .map(ListWrapper::of)      // wrapping a list\n        .distinct()                // eliminating duplicates\n        .map(ListWrapper::getList) // unwrapping a list\n        .toList();                 // or .collect(Collectors.toList()) for Java 15 and earlier\n\n    resultList.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[abc, cba]\n[123, 321]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tr5\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1658475245,"creation_date":1658374095,"question_id":73060364,"body_markdown":"I have `List&lt;List&lt;String&gt;&gt;`. How can I filter the list so that only unique lists remain in it using java streams api?\r\n\r\nFor example: from `originalList` to `resultList`:\r\n\r\n    List&lt;List&lt;String&gt;&gt; originalList = List.of(\r\n        List.of(&quot;abc&quot;, &quot;cba&quot;),\r\n        List.of(&quot;cba&quot;, &quot;abc&quot;),\r\n        List.of(&quot;123&quot;, &quot;321&quot;)\r\n    );\r\n\r\n    List&lt;List&lt;String&gt;&gt; resultList = List.of(\r\n        List.of(&quot;abc&quot;, &quot;cba&quot;),\r\n        List.of(&quot;123&quot;, &quot;321&quot;)\r\n    );","title":"Java stream api: filtration inner collections","body":"<p>I have <code>List&lt;List&lt;String&gt;&gt;</code>. How can I filter the list so that only unique lists remain in it using java streams api?</p>\n<p>For example: from <code>originalList</code> to <code>resultList</code>:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; originalList = List.of(\n    List.of(&quot;abc&quot;, &quot;cba&quot;),\n    List.of(&quot;cba&quot;, &quot;abc&quot;),\n    List.of(&quot;123&quot;, &quot;321&quot;)\n);\n\nList&lt;List&lt;String&gt;&gt; resultList = List.of(\n    List.of(&quot;abc&quot;, &quot;cba&quot;),\n    List.of(&quot;123&quot;, &quot;321&quot;)\n);\n</code></pre>\n"},{"tags":["java","java-module","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1658397286,"post_id":73062720,"comment_id":129043395,"body_markdown":"Does “migrated from Java 8 to Java 17” imply that you started actively using modules? As otherwise, if you just run the same software the same way you did with Java&#160;8, all classes loaded through the classpath belong to the same module anyway.","body":"Does “migrated from Java 8 to Java 17” imply that you started actively using modules? As otherwise, if you just run the same software the same way you did with Java 8, all classes loaded through the classpath belong to the same module anyway."},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":0,"creation_date":1658397556,"post_id":73062720,"comment_id":129043497,"body_markdown":"Just changed the JVM version on which we run the code from 8 to 17 and started to get the errors related to the modular system. Nothing else changed in relation to how we run the code","body":"Just changed the JVM version on which we run the code from 8 to 17 and started to get the errors related to the modular system. Nothing else changed in relation to how we run the code"},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":1,"creation_date":1658400395,"post_id":73062720,"comment_id":129044566,"body_markdown":"@Holger When you place a JAR on the module path, the JAR is treated as a module.","body":"@Holger When you place a JAR on the module path, the JAR is treated as a module."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658406920,"post_id":73062720,"comment_id":129047051,"body_markdown":"But *did* you place the jars on the module path? That would be a significant change in the way you run the code.","body":"But <i>did</i> you place the jars on the module path? That would be a significant change in the way you run the code."},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":0,"creation_date":1658408089,"post_id":73062720,"comment_id":129047617,"body_markdown":"Nope, I did not. So I suppose it would place all the jars as &quot;Unnamed&quot; and still require separate permission for access like `--add-opens=org.apache/org.apache.avro=ALL-UNNAMED`?","body":"Nope, I did not. So I suppose it would place all the jars as &quot;Unnamed&quot; and still require separate permission for access like <code>--add-opens=org.apache&#47;org.apache.avro=ALL-UNNAMED</code>?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1658408290,"post_id":73062720,"comment_id":129047710,"body_markdown":"If all the jars are still on the class path, they are all put into the _same_ unnamed module. And code within the same module can still access each other. I think the error you are seeing is not related to module encapsulation. In those cases, the error message should be more elaborate and explain which module boundary blocked the access.","body":"If all the jars are still on the class path, they are all put into the <i>same</i> unnamed module. And code within the same module can still access each other. I think the error you are seeing is not related to module encapsulation. In those cases, the error message should be more elaborate and explain which module boundary blocked the access."},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":0,"creation_date":1658408597,"post_id":73062720,"comment_id":129047842,"body_markdown":"@JornVernee I see, it makes sense. What I do not understand then: is why the code works on Java 8 but throws `IllegalAccessException` on Java 17 if not for the stricter encapsulation rules.","body":"@JornVernee I see, it makes sense. What I do not understand then: is why the code works on Java 8 but throws <code>IllegalAccessException</code> on Java 17 if not for the stricter encapsulation rules."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1658408660,"post_id":73062720,"comment_id":129047865,"body_markdown":"@ClassNotFoundException I&#39;m not sure either, but it might be related to: https://openjdk.org/jeps/181 which changes how the compiler and VM treat accesses to nested classes.","body":"@ClassNotFoundException I&#39;m not sure either, but it might be related to: <a href=\"https://openjdk.org/jeps/181\" rel=\"nofollow noreferrer\">openjdk.org/jeps/181</a> which changes how the compiler and VM treat accesses to nested classes."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1658408707,"post_id":73062720,"comment_id":129047887,"body_markdown":"I suggest trying to create a small program that reproduces the issue first, and then perhaps asking another question based on the program.","body":"I suggest trying to create a small program that reproduces the issue first, and then perhaps asking another question based on the program."},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":0,"creation_date":1658409077,"post_id":73062720,"comment_id":129048062,"body_markdown":"Interesting. Thank you for the link, @JornVernee I will investigate further","body":"Interesting. Thank you for the link, @JornVernee I will investigate further"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1658414937,"post_id":73062720,"comment_id":129050667,"body_markdown":"JEP 181 would only make a difference if the source code was recompiled with the new Java version and if the constructor was `private` but it is reported to be `public` (which is a bit strange considering that the class itself is not `public`). The exception type and message is exactly the same with 8 and 17 when `setAccessible(true)` has not been called and the access is granted in each version when it has.","body":"JEP 181 would only make a difference if the source code was recompiled with the new Java version and if the constructor was <code>private</code> but it is reported to be <code>public</code> (which is a bit strange considering that the class itself is not <code>public</code>). The exception type and message is exactly the same with 8 and 17 when <code>setAccessible(true)</code> has not been called and the access is granted in each version when it has."},{"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"score":0,"creation_date":1658475081,"post_id":73062720,"comment_id":129064684,"body_markdown":"The error message is confusing. It refers to the access modifier of the outer class while trying to instantiate a private inner class. And it does so without using `setAccessible` which is the main problem, as you rightfully pointed it out @Holger. So there is indeed no problem with the modules access. Thanks a lot for the help!","body":"The error message is confusing. It refers to the access modifier of the outer class while trying to instantiate a private inner class. And it does so without using <code>setAccessible</code> which is the main problem, as you rightfully pointed it out @Holger. So there is indeed no problem with the modules access. Thanks a lot for the help!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658477480,"post_id":73062720,"comment_id":129065479,"body_markdown":"No, I did my own tests and the exception correctly reports the member’s modifiers. Thinking about it, this scenario is not so strange, as e.g. my IDE also likes to generate methods and constructors with `public` modifier even if the declaring class is not `public`, so I have to remove them by hand. So if someone used a similar tool and did not fix them manually, they may end up with a `public` constructor at a non-`public` inner class.","body":"No, I did my own tests and the exception correctly reports the member’s modifiers. Thinking about it, this scenario is not so strange, as e.g. my IDE also likes to generate methods and constructors with <code>public</code> modifier even if the declaring class is not <code>public</code>, so I have to remove them by hand. So if someone used a similar tool and did not fix them manually, they may end up with a <code>public</code> constructor at a non-<code>public</code> inner class."}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658394709,"creation_date":1658394709,"answer_id":73063543,"question_id":73062720,"body_markdown":"I think the real issue is that `org.apache.avro.Schema$StringSchema` is a [private inner class](https://github.com/apache/avro/blob/42822886c28ea74a744abb7e7a80a942c540faa5/lang/java/avro/src/main/java/org/apache/avro/Schema.java#L1290), so you don&#39;t have access to its members (public or otherwise) from outside its declaring class","title":"Why Reflection Calls Do Not Work Anymore in Java 17?","body":"<p>I think the real issue is that <code>org.apache.avro.Schema$StringSchema</code> is a <a href=\"https://github.com/apache/avro/blob/42822886c28ea74a744abb7e7a80a942c540faa5/lang/java/avro/src/main/java/org/apache/avro/Schema.java#L1290\" rel=\"nofollow noreferrer\">private inner class</a>, so you don't have access to its members (public or otherwise) from outside its declaring class</p>\n"}],"owner":{"account_id":6826174,"reputation":409,"user_id":5251830,"accept_rate":100,"display_name":"ClassNotFoundException"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73063543,"answer_count":1,"score":0,"last_activity_date":1658475189,"creation_date":1658390884,"question_id":73062720,"body_markdown":"We migrated from Java 8 to Java 17 and the following error started to pop up due to a reflection call in the code:\r\n```\r\njava.lang.IllegalAccessException: class com.twitter.chill.Instantiators$ cannot access a member of class org.apache.avro.Schema$StringSchema with modifiers &quot;public&quot;\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.twitter.chill.Instantiators$.$anonfun$normalJava$1(KryoBase.scala:169)\r\n\tat com.twitter.chill.Instantiators$$anon$1.newInstance(KryoBase.scala:137)\r\n\t... 46 common frames omitted\r\n```\r\nIf I understand correctly, the problem is in the new Java modular system and I need to open some modules to make it work. **So how do I know what modules I should open?** \r\n\r\nI looked at the error message and thought it required me to add `--add-opens=org.apache/org.apache.avro=com.twitter.chill` to allow the package `com.twitter.chill` to access `org.apache.avro.Schema`, but it does not work. I also tried `--add-opens=org.apache/org.apache.avro=java.base/jdk.internal.reflect` with the same success (or rather its absence).","title":"Why Reflection Calls Do Not Work Anymore in Java 17?","body":"<p>We migrated from Java 8 to Java 17 and the following error started to pop up due to a reflection call in the code:</p>\n<pre><code>java.lang.IllegalAccessException: class com.twitter.chill.Instantiators$ cannot access a member of class org.apache.avro.Schema$StringSchema with modifiers &quot;public&quot;\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.twitter.chill.Instantiators$.$anonfun$normalJava$1(KryoBase.scala:169)\n    at com.twitter.chill.Instantiators$$anon$1.newInstance(KryoBase.scala:137)\n    ... 46 common frames omitted\n</code></pre>\n<p>If I understand correctly, the problem is in the new Java modular system and I need to open some modules to make it work. <strong>So how do I know what modules I should open?</strong></p>\n<p>I looked at the error message and thought it required me to add <code>--add-opens=org.apache/org.apache.avro=com.twitter.chill</code> to allow the package <code>com.twitter.chill</code> to access <code>org.apache.avro.Schema</code>, but it does not work. I also tried <code>--add-opens=org.apache/org.apache.avro=java.base/jdk.internal.reflect</code> with the same success (or rather its absence).</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":16858072,"reputation":29,"user_id":12189538,"display_name":"AKDI_Kh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1580738576,"creation_date":1580738576,"answer_id":60040798,"question_id":60036463,"body_markdown":"i think you have to upgrade the version of ur tomcat emdedded , there is a version mismatch.\r\nSpring Boot 2.1.X uses Tomcat 9 which has the Servlet API v4.\r\nBut Spring Boot Web 2.1.X still incorporates Servlet API v3.1.\r\nOR\r\nChange tomcat version proprety\r\n  \r\n` &lt;properties&gt;\r\n        &lt;tomcat.version&gt;8.5.37&lt;/tomcat.version&gt;\r\n &lt;properties&gt;  `\r\n   \r\nNB:The tomcat.version property is a normal Maven property in your pom.xml. Just add the tomcat.version to your existing Maven properties","title":"&quot;NoSuchMethodError getHttpServletMapping&quot; after springboot upgrade","body":"<p>i think you have to upgrade the version of ur tomcat emdedded , there is a version mismatch.\nSpring Boot 2.1.X uses Tomcat 9 which has the Servlet API v4.\nBut Spring Boot Web 2.1.X still incorporates Servlet API v3.1.\nOR\nChange tomcat version proprety</p>\n\n<p><code>&lt;properties&gt;\n        &lt;tomcat.version&gt;8.5.37&lt;/tomcat.version&gt;\n &lt;properties&gt;</code></p>\n\n<p>NB:The tomcat.version property is a normal Maven property in your pom.xml. Just add the tomcat.version to your existing Maven properties</p>\n"},{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643843259,"creation_date":1580809040,"answer_id":60054448,"question_id":60036463,"body_markdown":"I fixed the problem.\r\n\r\nChanging property tomcat.version didn&#39;t help, so I omitted it and added this to the **child** pom (trick is it does not work in parent pom). Also note that the version is 2.2.4 and not 2.2.0\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"&quot;NoSuchMethodError getHttpServletMapping&quot; after springboot upgrade","body":"<p>I fixed the problem.</p>\n<p>Changing property tomcat.version didn't help, so I omitted it and added this to the <strong>child</strong> pom (trick is it does not work in parent pom). Also note that the version is 2.2.4 and not 2.2.0</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500797,"reputation":134,"user_id":4370196,"display_name":"Benjen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622010542,"creation_date":1622010542,"answer_id":67699598,"question_id":60036463,"body_markdown":"Just wanted to mention another &quot;solution&quot;, because I just faced the same problem, after upgrading to Spring Boot 2.4.0\r\n\r\nMy App is running on Java 11, Spring Boot 2.4.0 AND JakartaEE Api 8.0.0\r\n\r\nFor a long time I ignored the Jakarta Version, because I found nothing regarding my problem and this dependency in the web.\r\n\r\nBut after upgrading JakartaEE to 9.0.0 everything worked out fine.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThat was the solution for my problem :) maybe it helps others.","title":"&quot;NoSuchMethodError getHttpServletMapping&quot; after springboot upgrade","body":"<p>Just wanted to mention another &quot;solution&quot;, because I just faced the same problem, after upgrading to Spring Boot 2.4.0</p>\n<p>My App is running on Java 11, Spring Boot 2.4.0 AND JakartaEE Api 8.0.0</p>\n<p>For a long time I ignored the Jakarta Version, because I found nothing regarding my problem and this dependency in the web.</p>\n<p>But after upgrading JakartaEE to 9.0.0 everything worked out fine.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n    &lt;version&gt;9.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That was the solution for my problem :) maybe it helps others.</p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7756,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60054448,"answer_count":3,"score":2,"last_activity_date":1658475065,"creation_date":1580722478,"question_id":60036463,"body_markdown":"I upgraded from springboot 2.1.3 to 2.2.0. So far things works fine but I noticed when I make a rest request that returns a 400, instead of getting the json response I get the error:\r\n\r\n\r\n\r\n    [Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\r\n    java.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.getHttpServletMapping()Ljavax/servlet/http/HttpServletMapping;\r\n\r\n\r\nThe funny thing is I get this **only** when I start the app from Intellij using an emdedded tomcat. (create a mvn profile with &quot;spring-boot:run&quot;)\r\n\r\nSo,\r\n\r\n - With standalone tomcat, it works fine everywhere\r\n - With embedded tomcat, and only if I start from Intellij I get this error.\r\n\r\nBut I can do the same thing from command line with \r\n\r\n&gt; mvn spring-boot:run\r\n\r\nwhich then I have no error ?! As suggested on another post I upgraded my IntelliJ to latest version but didn&#39;t help\r\n\r\n","title":"&quot;NoSuchMethodError getHttpServletMapping&quot; after springboot upgrade","body":"<p>I upgraded from springboot 2.1.3 to 2.2.0. So far things works fine but I noticed when I make a rest request that returns a 400, instead of getting the json response I get the error:</p>\n\n<pre><code>[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\njava.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.getHttpServletMapping()Ljavax/servlet/http/HttpServletMapping;\n</code></pre>\n\n<p>The funny thing is I get this <strong>only</strong> when I start the app from Intellij using an emdedded tomcat. (create a mvn profile with \"spring-boot:run\")</p>\n\n<p>So,</p>\n\n<ul>\n<li>With standalone tomcat, it works fine everywhere</li>\n<li>With embedded tomcat, and only if I start from Intellij I get this error.</li>\n</ul>\n\n<p>But I can do the same thing from command line with </p>\n\n<blockquote>\n  <p>mvn spring-boot:run</p>\n</blockquote>\n\n<p>which then I have no error ?! As suggested on another post I upgraded my IntelliJ to latest version but didn't help</p>\n"},{"tags":["java","websphere","heap-memory","dump","openj9"],"answers":[{"tags":[],"owner":{"account_id":6212550,"reputation":1374,"user_id":4838425,"display_name":"Gireesh Punathil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658413381,"creation_date":1658413381,"answer_id":73067926,"question_id":73067571,"body_markdown":"reference: https://github.com/eclipse-openj9/openj9/issues/6593\r\n\r\ntldr - 2 options:\r\n - use MAT to visualize the PHD formatted dump (https://www.eclipse.org/mat)\r\n - use hprof agent to create the desired dump (https://docs.oracle.com/javase/8/docs/technotes/samples/hprof.html)\r\n\r\n","title":"How to create a compatible heap dump with OpenJ9 via API?","body":"<p>reference: <a href=\"https://github.com/eclipse-openj9/openj9/issues/6593\" rel=\"nofollow noreferrer\">https://github.com/eclipse-openj9/openj9/issues/6593</a></p>\n<p>tldr - 2 options:</p>\n<ul>\n<li>use MAT to visualize the PHD formatted dump (<a href=\"https://www.eclipse.org/mat\" rel=\"nofollow noreferrer\">https://www.eclipse.org/mat</a>)</li>\n<li>use hprof agent to create the desired dump (<a href=\"https://docs.oracle.com/javase/8/docs/technotes/samples/hprof.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/samples/hprof.html</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658474507,"creation_date":1658474507,"answer_id":73076555,"question_id":73067571,"body_markdown":"If you use the dumpAgent `heap` then it create a *.phd file (portable heap dump). If you want analyze it with Eclipse MAT then you need to install the `IBM Monitoring and Diagnostic Tools` plugin.\r\n\r\nThe update site ist: http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/runtimes/tools/dtfj/\r\n\r\nFor Details: https://www.artificialworlds.net/blog/2016/02/23/how-to-analyse-a-phd-heap-dump-from-an-ibm-jvm/","title":"How to create a compatible heap dump with OpenJ9 via API?","body":"<p>If you use the dumpAgent <code>heap</code> then it create a *.phd file (portable heap dump). If you want analyze it with Eclipse MAT then you need to install the <code>IBM Monitoring and Diagnostic Tools</code> plugin.</p>\n<p>The update site ist: <a href=\"http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/runtimes/tools/dtfj/\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/runtimes/tools/dtfj/</a></p>\n<p>For Details: <a href=\"https://www.artificialworlds.net/blog/2016/02/23/how-to-analyse-a-phd-heap-dump-from-an-ibm-jvm/\" rel=\"nofollow noreferrer\">https://www.artificialworlds.net/blog/2016/02/23/how-to-analyse-a-phd-heap-dump-from-an-ibm-jvm/</a></p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73076555,"answer_count":2,"score":0,"last_activity_date":1658474507,"creation_date":1658411873,"question_id":73067571,"body_markdown":"I try to create a heap dump with a OpenJ9 Java VM via API that is compatible with a heap dump from a Hotspot Java VM and can be use with the same analyzer tools.\r\n\r\nI use the follow code:\r\n\r\n``` java\r\nClass&lt;PlatformManagedObject&gt; clazz = (Class)Class.forName( &quot;openj9.lang.management.OpenJ9DiagnosticsMXBean&quot;, null );\r\nPlatformManagedObject openj9MBean = ManagementFactory.newPlatformMXBeanProxy( server, &quot;openj9.lang.management:type=OpenJ9Diagnostics&quot;, clazz );\r\nMethod triggerDumpToFile = clazz.getMethod( &quot;triggerDumpToFile&quot;, String.class, String.class );\r\ntriggerDumpToFile.invoke( openj9MBean, dumpAgent, file.getAbsolutePath() );\r\n```\r\n\r\nI try all 4 values for dumpAgent (java, snap, system and heap) but the output format is not in the *.hprof file format.\r\n\r\nAre there other options?","title":"How to create a compatible heap dump with OpenJ9 via API?","body":"<p>I try to create a heap dump with a OpenJ9 Java VM via API that is compatible with a heap dump from a Hotspot Java VM and can be use with the same analyzer tools.</p>\n<p>I use the follow code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;PlatformManagedObject&gt; clazz = (Class)Class.forName( &quot;openj9.lang.management.OpenJ9DiagnosticsMXBean&quot;, null );\nPlatformManagedObject openj9MBean = ManagementFactory.newPlatformMXBeanProxy( server, &quot;openj9.lang.management:type=OpenJ9Diagnostics&quot;, clazz );\nMethod triggerDumpToFile = clazz.getMethod( &quot;triggerDumpToFile&quot;, String.class, String.class );\ntriggerDumpToFile.invoke( openj9MBean, dumpAgent, file.getAbsolutePath() );\n</code></pre>\n<p>I try all 4 values for dumpAgent (java, snap, system and heap) but the output format is not in the *.hprof file format.</p>\n<p>Are there other options?</p>\n"},{"tags":["java","ajax","spring","spring-mvc","types"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658297721,"creation_date":1658287517,"answer_id":73045645,"question_id":73045437,"body_markdown":"Use date related annotations on the date field.\r\n\r\n    @Temporal(TemporalType.DATE) \r\n    @DateTimeFormat(pattern = &quot;yyyy/MM/dd&quot;)\r\n    private Date rental_date;\r\n\r\nBest practice:\r\n\r\nAlso it is recommended to use camel case standard for pojo entity class variables like **rentalDate**.","title":"I passed the variable of Date type to Ajax and received it back to the controller, but the value changed","body":"<p>Use date related annotations on the date field.</p>\n<pre><code>@Temporal(TemporalType.DATE) \n@DateTimeFormat(pattern = &quot;yyyy/MM/dd&quot;)\nprivate Date rental_date;\n</code></pre>\n<p>Best practice:</p>\n<p>Also it is recommended to use camel case standard for pojo entity class variables like <strong>rentalDate</strong>.</p>\n"}],"owner":{"account_id":24534218,"reputation":1,"user_id":18445548,"display_name":"heo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658474359,"creation_date":1658285066,"question_id":73045437,"body_markdown":"I want to receive the date through the date picker and put it in an object that stores reservation information(RentalPlacesVo).\r\nI received the date from the reservation form and also confirmed that the controller fits the vo object well (even the datatype in rental_date was java.sql.Date)\r\nAfter making the payment, I sent it to Ajax to include it with other information, and in the process of processing Ajax, I confirmed that 2022-07-23 was changed to 1992. It seems that the date has not been properly stored in the date type column of the db since the date has been changed to 1992.\r\n\r\nI need to store data of DATE type on vo object, how can I get it?\r\n\r\nDetails of the error are as follows.\r\n\r\n&gt; WARN : org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver - Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.sql.Date&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value &#39;1992&#39;; nested exception is java.lang.IllegalArgumentException\r\n\r\n\r\n**RentalPlacesVo**\r\n\r\n    package com.joinus.domain;\r\n    \r\n    import java.sql.Date;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class RentalPlacesVo {\r\n    \t\r\n    \tprivate int rental_places_no;\r\n    \tprivate String reservation_no;\r\n    \tprivate int club_no;\r\n    \tprivate int member_no;\r\n    \tprivate int partner_place_no;\r\n    \tprivate int payment_no;\r\n    \tprivate Date rental_date;\r\n    \tprivate int rental_time_no;\r\n    \tprivate int rental_status;\r\n    \t\r\n    }\r\n\r\n**reservationForm.jsp**\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\r\n        \r\n    &lt;%@ include file=&quot;../include/header.jsp&quot;%&gt;\r\n    \r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;//dapi.kakao.com/v2/maps/sdk.js?appkey=&quot;appkey&quot;&amp;libraries=services&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://code.jquery.com/ui/1.12.1/jquery-ui.js&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \r\n    \t// Calendar\r\n    \tvar config = {\r\n    \t\t\tdateFormat : &#39;yy-mm-dd&#39;,\r\n    \t\t\tshowOn : &quot;button&quot;,\r\n    \t\t\tbuttonText : &quot;선택&quot;,\r\n    \t\t\tprevText : &#39;이전 달&#39;,\r\n    \t\t\tnextText : &#39;다음 달&#39;,\r\n    \t\t\tmonthNames : [&#39;1월&#39;,&#39;2월&#39;,&#39;3월&#39;,&#39;4월&#39;,&#39;5월&#39;,&#39;6월&#39;,&#39;7월&#39;,&#39;8월&#39;,&#39;9월&#39;,&#39;10월&#39;,&#39;11월&#39;,&#39;12월&#39;],\r\n    \t\t\tmonthNamesShort : [&#39;1월&#39;,&#39;2월&#39;,&#39;3월&#39;,&#39;4월&#39;,&#39;5월&#39;,&#39;6월&#39;,&#39;7월&#39;,&#39;8월&#39;,&#39;9월&#39;,&#39;10월&#39;,&#39;11월&#39;,&#39;12월&#39;],\r\n    \t\t\tdayNames : [&#39;일&#39;,&#39;월&#39;,&#39;화&#39;,&#39;수&#39;,&#39;목&#39;,&#39;금&#39;,&#39;토&#39;],\r\n    \t\t\tdayNamesShort : [&#39;일&#39;,&#39;월&#39;,&#39;화&#39;,&#39;수&#39;,&#39;목&#39;,&#39;금&#39;,&#39;토&#39;],\r\n    \t\t\tdayNamesMin : [&#39;일&#39;,&#39;월&#39;,&#39;화&#39;,&#39;수&#39;,&#39;목&#39;,&#39;금&#39;,&#39;토&#39;],\r\n    \t\t\tyearSuffix : &#39;년&#39;,\r\n    \t\t\tminDate : 1\r\n    \t}\r\n    \t\r\n    \t$(function(){\r\n    \t\t$(&quot;input[name=&#39;rental_date&#39;]&quot;).datepicker(config);\r\n    \t});\r\n    \t\r\n    \t$(document).ready(function(){\r\n    \t\t\r\n    \t\t$(&#39;:button&#39;).attr(&#39;class&#39;,&#39;btn btn-primary&#39;);\r\n    \t\t\r\n    \t\t$(&#39;#subBtn&#39;).click(function(){\r\n    // \t\t\tvar date = $(&#39;#rental_date&#39;).val();\t// 2022-07-23\r\n    \t\t\t\r\n    \t\t\tif($(&#39;#rental_date&#39;).val() == &#39;&#39;){\r\n    \t\t\t\t$(&#39;#rental_date&#39;).focus();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tif($(&#39;#rental_time_no&#39;).val() == &#39;&#39;){\r\n    \t\t\t\t$(&#39;#rental_time_no&#39;).focus();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tif($(&#39;#memberCnt&#39;).val() == &#39;&#39;){\r\n    \t\t\t\t$(&#39;#memberCnt&#39;).focus();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tif($(&#39;#memberCnt&#39;).val() &gt; 20){\r\n    \t\t\t\talert(&#39;Max MemberCnt : 20&#39;);\r\n    \t\t\t\t$(&#39;#memberCnt&#39;).focus();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t});\r\n    \r\n    \r\n    &lt;/script&gt;\r\n    \r\n    &lt;div class=&quot;container-xxl py-5&quot;&gt;\r\n    \t&lt;div class=&quot;container&quot; style=&quot;color: black;&quot;&gt;\r\n    \t\t&lt;div class=&quot;row g-5&quot;&gt;\r\n    \t\t\t&lt;h1 id=&quot;partnerPlaceName&quot;&gt;${partnerPlace.partner_place_name }&lt;/h1&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;div style=&quot;width: 70%;&quot;&gt;\r\n    \t\t\t\t&lt;img style=&quot;width: 95%; max-height: 550px;&quot; src=&quot;${PageContext.request.contextPath }/resources/upload/partner_place/${partnerPlace.partner_place_image}&quot;&gt;\r\n    \t\t\t\t&lt;div style=&quot;margin-top: 3em;&quot;&gt;\r\n    \t\t\t\t\t&lt;pre class=&quot;boardContent&quot;&gt;${partnerPlace.partner_place_content }&lt;/pre&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;div style=&quot;margin-bottom: 16px;&quot;&gt;\r\n    \t\t\t\t\t&lt;i class=&quot;fa fa-phone-alt me-3&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;${partnerPlace.partner_place_tel }\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;div id=&quot;partnerPlaceAddr&quot; style=&quot;margin-bottom: 16px;&quot;&gt;\r\n    \t\t\t\t\t${partnerPlace.partner_place_address }\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \r\n    \t\t\t&lt;div style=&quot;width: 30%; border: 1px solid #32C36C; padding-top: 1em; height: 70%;&quot;&gt;\r\n    \t\t\t\t&lt;form name=&quot;fr&quot; action=&quot;&quot; method=&quot;post&quot;&gt;\r\n    \t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;partner_place_no&quot; value=&quot;${partner_place_no }&quot;&gt;\r\n    \t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;partner_place_name&quot; value=&quot;${partnerPlace.partner_place_name }&quot;&gt;\r\n    \t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;partner_place_price&quot; value=&quot;${partnerPlace.partner_place_price }&quot;&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t\t&lt;div&gt;\r\n    \t\t\t\t\t\t&lt;div style=&quot;font-size: x-large; float: left;&quot;&gt;\r\n    \t\t\t\t\t\t\t${partnerPlace.partner_place_name }\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;div style=&quot;color: #32C36C; text-align: right; margin-bottom: 2em;&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;span style=&quot;font-size: x-large;&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;fmt:setLocale value=&quot;ko_KR&quot;/&gt;&lt;fmt:formatNumber type=&quot;currency&quot; value=&quot;${partnerPlace.partner_place_price }&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t&lt;br&gt;\r\n    \t\t\t\t\t\t\t&lt;/span&gt;\r\n    \t\t\t\t\t\t\t&lt;span style=&quot;color: #9B9B9B;&quot;&gt; /hour&lt;/span&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;div&gt;\r\n    \t\t\t\t\tMemberCnt &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;memberCnt&quot; name=&quot;memberCnt&quot; max=&quot;20&quot; required&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t\t\t\t\t\tvar memberCnt = 0;\r\n    \t\t\t\t\t\tvar totalPrice = 0;\r\n    \t\t\t\t\t\t$(&#39;#memberCnt&#39;).blur(function(){\r\n    \t\t\t\t\t\t\tmemberCnt = $(&#39;#memberCnt&#39;).val();\r\n    \t\t\t\t\t\t\ttotalPrice = memberCnt * ${partnerPlace.partner_place_price} * 2\r\n    \t\t\t\t\t\t\tdocument.getElementById(&quot;seePrice&quot;).innerHTML = totalPrice.toLocaleString();\r\n    \t\t\t\t\t\t\t$(&#39;#payment_price&#39;).val(totalPrice);\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t&lt;/script&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;!-- Date --&gt;\r\n    \t\t\t\t\t&lt;div style=&quot;margin-bottom: 2em;&quot;&gt;\r\n    \t\t\t\t\t\tSelect Date (Click button)\r\n    \t\t\t\t\t\t&lt;input class=&quot;form-control&quot; id=&quot;rental_date&quot; name=&quot;rental_date&quot; autocomplete=&quot;off&quot; readonly style=&quot;background-color: white;&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;!-- Time --&gt;\r\n    \t\t\t\t\t&lt;div style=&quot;margin-bottom: 2em;&quot;&gt;\r\n    \t\t\t\t\t\tTime\r\n    \t\t\t\t\t\t&lt;select class=&quot;form-select&quot; id=&quot;rental_time_no&quot; name=&quot;rental_time_no&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;&quot;&gt;Select Time&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;1&quot;&gt;10:00~12:00&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;2&quot;&gt;12:00~14:00&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;3&quot;&gt;14:00~16:00&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;4&quot;&gt;16:00~18:00&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;5&quot;&gt;18:00~20:00&lt;/option&gt;\r\n    \t\t\t\t\t\t\t&lt;option value=&quot;6&quot;&gt;20:00~22:00&lt;/option&gt;\r\n    \t\t\t\t\t\t&lt;/select&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \r\n    \t\t\t\t\t&lt;!--  TotalPrice --&gt;\r\n    \t\t\t\t\t&lt;div&gt;\r\n    \t\t\t\t\t\tTotalPrice&lt;br&gt;\r\n    \t\t\t\t\t\t&lt;span id=&quot;seePrice&quot;&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t&lt;input type=&quot;hidden&quot; id=&quot;payment_price&quot; name=&quot;payment_price&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;div class=&quot;payBtn&quot;&gt;\r\n    \t\t\t\t\t\t&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill py-3 px-5&quot; id=&quot;subBtn&quot; value=&quot;pay&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;/form&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n        \r\n    &lt;%@ include file=&quot;../include/footer.jsp&quot;%&gt;\r\n\r\n\r\n**Controller**\r\n\r\n    \t@RequestMapping(value = &quot;/partnerPlaces/{partner_place_no}&quot;, method = RequestMethod.POST)\r\n    \tpublic String partnerPlaceContentPost(PartnerPlacesVo partnerplacevo ,PaymentsVo paymentvo, \r\n    \t\t\tRentalPlacesVo rentalplacevo, Model model, @RequestParam(&quot;rental_time_no&quot;) int rentaltimeno,\r\n    \t\t\tHttpSession session,@RequestParam(&quot;payment_price&quot;) int payment_price) {\r\n    \t\tlog.info(&quot; partnerPlaceContentPost() 호출&quot;);\r\n    //\t\tlog.info(&quot;@@@@@rental_date : &quot;+rental_date);\t// 2022-07-23\r\n    \t\tlog.info(&quot;rentalplacevo : &quot;+rentalplacevo.getRental_date());\r\n    \t\tlog.info(&quot;rental_date type: &quot;+rentalplacevo.getRental_date().getClass().getName()); // java.sql.Date\r\n    \t\t\r\n    \t\tString ppname = partnerplacevo.getPartner_place_name();\r\n    \t\tmodel.addAttribute(&quot;ppname&quot;, ppname);\r\n    \t\tmodel.addAttribute(&quot;payment_price&quot;, payment_price);\r\n    \t\tlog.info(&quot;ppname, totalprice: &quot;+ppname+payment_price);\r\n    \t\t\r\n    \t\tMembersVo vo = (MembersVo)session.getAttribute(&quot;member&quot;);\r\n    \t\tmodel.addAttribute(&quot;members&quot;, vo);\r\n    \t\tmodel.addAttribute(&quot;rental_time_no&quot;, rentaltimeno);\r\n    \t\tmodel.addAttribute(&quot;payment&quot;, paymentvo);\r\n    \t\tmodel.addAttribute(&quot;rentalplacevo&quot;, rentalplacevo);\r\n    \t\t\r\n    \t\treturn &quot;/rental/payment&quot;;\r\n    \t\t\r\n    \t}\r\n\r\n**payment.jsp** (use API)\r\n\r\n\tif(rsp.success){\r\n\t\t$.ajax({ //verify\r\n        \ttype : &#39;POST&#39;,\r\n        \turl : &#39;${PageContext.request.contextPath }/rental/verifyIamport/&#39;+rsp.imp_uid \r\n\t\t}).done(function(result){\r\n            // rsp.paid_amount와 result.response.amount(서버 검증) 비교 후 로직 실행\r\n\t            if(rsp.paid_amount === result.response.amount){\r\n                alert(&quot;success pay varify&quot;); console.log(&quot;success pay varify&quot;);\r\n                var rental_date = ${rentalplacevo.rental_date};\r\n                alert(&quot;rental_date : &quot;+rental_date);\t// 1992\r\n                \r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl : &#39;${PageContext.request.contextPath }/rental/partnerPlaces/&#39;+${payment.partner_place_no}+&#39;/payment&#39;, \r\n\t\t\t\t        type :&#39;POST&#39;,\r\n\t\t\t\t        data :{&#39;partner_place_price&#39;:${payment.partner_place_price},\r\n\t\t\t\t        \t&#39;rental_date&#39;:${rentalplacevo.rental_date},\r\n\t\t\t\t        \t&#39;payment_price&#39;:${payment_price},\r\n\t\t\t\t        \t&#39;rental_time_no&#39;:${rental_time_no}},\r\n\t\t\t\t        dataType: &#39;json&#39;,\r\n\t\t\t\t        success: function(paymentvo){\r\n\t\t\t\t        \t alert(&#39;Success store all data&#39;); \r\n\t\t\t\t        \t setTimeout(function(){\r\n\t\t\t\t        \t\t location.href=&quot;${PageContext.request.contextPath }/&quot;\r\n\t\t\t\t        \t },5000);\r\n\t\t\t\t        }\r\n\t\t\t\t        });\r\n        \t\t\t}\r\n            \r\n        }).fail(function(error){\r\n\t\t\t\tconsole.log(&quot;fail to store data&quot;); \r\n\t\t});\r\n\t}else{\r\n            alert(&#39;fail&#39;+&#39;errorCode : &#39;+rsp.error_code+&#39;errMsg : &#39;+rsp.error_message);\r\n        }\r\n\r\n**Controller**  - I can&#39;t get over here.\r\n\r\n    \t\t@ResponseBody\r\n    \t\t@RequestMapping(value=&quot;/verifyIamport/{imp_uid}&quot;)\r\n    \t\tpublic IamportResponse&lt;Payment&gt; paymentByImpUid(\r\n    \t\t\t\tModel model, Locale locale, HttpSession session\r\n    \t\t\t\t, @PathVariable(&quot;imp_uid&quot;) String imp_uid ) throws IamportResponseException, IOException{\t\r\n    \t\t\t\tlog.info(&quot;paymentByImpUid&quot;);\r\n    \t\t\t\treturn api.paymentByImpUid(imp_uid);\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t@ResponseBody\r\n    \t\t@RequestMapping(value =&quot;/partnerPlaces/{partner_place_no}/payment&quot;,method=RequestMethod.POST)\r\n    \t\tpublic PaymentsVo payment( Model model, \r\n    \t\t\t\t@RequestParam(&quot;partner_place_price&quot;) int partner_place_price,\r\n    \t\t\t\t@RequestParam(&quot;rental_date&quot;) Date rental_date,\r\n    \t\t\t\t@RequestParam(&quot;payment_price&quot;) int payment_price,\r\n    \t\t\t\t@RequestParam(&quot;rental_time_no&quot;) int rental_time_no,\r\n    \t\t\t\t@PathVariable(&quot;partner_place_no&quot;) int partner_place_no,\r\n    \t\t\t\tRentalPlacesVo rentalplacevo, PaymentsVo paymentvo,HttpSession session){\r\n    \t\t\t\r\n    \t\t\tlog.info(&quot;Vo Info . paymentvo : &quot;+paymentvo);\r\n    \t\t\tlog.info(&quot;Vo Info . RentalPlacesVo : &quot;+rentalplacevo);\r\n    \t\t\tlog.info(&quot;rental_date : &quot;+rental_date);\r\n    //\t\t\tlog.info(&quot;rentdate dataType : &quot;+rentdate.getClass().getName());\r\n    \t\t\t\t\r\n    \t\t\t// reservationNum (Date-place_no)\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    \t\t\tCalendar cal = Calendar.getInstance();\r\n    \t\t\tjava.util.Date date = cal.getTime();\r\n    \t\t\r\n    \t\t\tString rsNum = sdf.format(date)+&quot;-&quot;+partner_place_no;\r\n    \t\t\tlog.info(reservationNum&quot;+rsNum);\r\n    \t\t\t\r\n    \t\t\tpaymentvo.setReservation_no(rsNum);\r\n    \t\t\tMembersVo mvo = (MembersVo)session.getAttribute(&quot;member&quot;);\r\n    \t\t\tpaymentvo.setMember_no(mvo.getMember_no());\r\n    \t\t\tpaymentvo.setPartner_place_no(partner_place_no);\r\n    \t\t\tpaymentvo.setPartner_place_price(partner_place_price);\r\n    \t\t\tpaymentvo.setPayment_status(1);\r\n    \t\t\t\r\n    \t\t\tInteger pay = rentalService.pay(paymentvo);\r\n    \t\t\trentalplacevo.setPayment_no(paymentvo.getPayment_no());\r\n    \t\t\t\r\n    \t\t\tif(pay == 1) {\r\n    \t\t\t\tlog.info(&quot;success&quot;);\r\n    \t\t\t}else {\r\n    \t\t\t\tlog.info(&quot;fail&quot;);\r\n    \t\t\t}\r\n    \t\r\n    \r\n    \t\t\trentalplacevo.setClub_no(46);\r\n    \t\t\trentalplacevo.setMember_no(mvo.getMember_no());\r\n    \t\t\trentalplacevo.setRental_places_no(partner_place_no);\r\n    \t\t\trentalplacevo.setReservation_no(rsNum);\r\n    \t\t\trentalplacevo.setRental_date(rental_date);\t// date\r\n    \t\t\trentalplacevo.setRental_time_no(rental_time_no);\t// time\r\n    \t\t\trentalplacevo.setRental_status(1);\r\n    \t\t\t\r\n    \t\t\trentalService.place(rentalplacevo);\r\n    \t\t\tlog.info(&quot;rentalPlace : &quot;+rentalplacevo);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\treturn paymentvo;\r\n    \r\n    \t\t\t\r\n    \t\t}\r\n\r\n","title":"I passed the variable of Date type to Ajax and received it back to the controller, but the value changed","body":"<p>I want to receive the date through the date picker and put it in an object that stores reservation information(RentalPlacesVo).\nI received the date from the reservation form and also confirmed that the controller fits the vo object well (even the datatype in rental_date was java.sql.Date)\nAfter making the payment, I sent it to Ajax to include it with other information, and in the process of processing Ajax, I confirmed that 2022-07-23 was changed to 1992. It seems that the date has not been properly stored in the date type column of the db since the date has been changed to 1992.</p>\n<p>I need to store data of DATE type on vo object, how can I get it?</p>\n<p>Details of the error are as follows.</p>\n<blockquote>\n<p>WARN : org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver - Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value '1992'; nested exception is java.lang.IllegalArgumentException</p>\n</blockquote>\n<p><strong>RentalPlacesVo</strong></p>\n<pre><code>package com.joinus.domain;\n\nimport java.sql.Date;\n\nimport lombok.Data;\n\n@Data\npublic class RentalPlacesVo {\n    \n    private int rental_places_no;\n    private String reservation_no;\n    private int club_no;\n    private int member_no;\n    private int partner_place_no;\n    private int payment_no;\n    private Date rental_date;\n    private int rental_time_no;\n    private int rental_status;\n    \n}\n</code></pre>\n<p><strong>reservationForm.jsp</strong></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\n    \n&lt;%@ include file=&quot;../include/header.jsp&quot;%&gt;\n\n&lt;script type=&quot;text/javascript&quot; src=&quot;//dapi.kakao.com/v2/maps/sdk.js?appkey=&quot;appkey&quot;&amp;libraries=services&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://code.jquery.com/ui/1.12.1/jquery-ui.js&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css&quot;&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n\n    // Calendar\n    var config = {\n            dateFormat : 'yy-mm-dd',\n            showOn : &quot;button&quot;,\n            buttonText : &quot;선택&quot;,\n            prevText : '이전 달',\n            nextText : '다음 달',\n            monthNames : ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],\n            monthNamesShort : ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],\n            dayNames : ['일','월','화','수','목','금','토'],\n            dayNamesShort : ['일','월','화','수','목','금','토'],\n            dayNamesMin : ['일','월','화','수','목','금','토'],\n            yearSuffix : '년',\n            minDate : 1\n    }\n    \n    $(function(){\n        $(&quot;input[name='rental_date']&quot;).datepicker(config);\n    });\n    \n    $(document).ready(function(){\n        \n        $(':button').attr('class','btn btn-primary');\n        \n        $('#subBtn').click(function(){\n//          var date = $('#rental_date').val(); // 2022-07-23\n            \n            if($('#rental_date').val() == ''){\n                $('#rental_date').focus();\n                return false;\n            }\n            if($('#rental_time_no').val() == ''){\n                $('#rental_time_no').focus();\n                return false;\n            }\n            if($('#memberCnt').val() == ''){\n                $('#memberCnt').focus();\n                return false;\n            }\n            if($('#memberCnt').val() &gt; 20){\n                alert('Max MemberCnt : 20');\n                $('#memberCnt').focus();\n                return false;\n            }\n\n            \n        });\n        \n    });\n\n\n&lt;/script&gt;\n\n&lt;div class=&quot;container-xxl py-5&quot;&gt;\n    &lt;div class=&quot;container&quot; style=&quot;color: black;&quot;&gt;\n        &lt;div class=&quot;row g-5&quot;&gt;\n            &lt;h1 id=&quot;partnerPlaceName&quot;&gt;${partnerPlace.partner_place_name }&lt;/h1&gt;\n            \n            &lt;div style=&quot;width: 70%;&quot;&gt;\n                &lt;img style=&quot;width: 95%; max-height: 550px;&quot; src=&quot;${PageContext.request.contextPath }/resources/upload/partner_place/${partnerPlace.partner_place_image}&quot;&gt;\n                &lt;div style=&quot;margin-top: 3em;&quot;&gt;\n                    &lt;pre class=&quot;boardContent&quot;&gt;${partnerPlace.partner_place_content }&lt;/pre&gt;\n                &lt;/div&gt;\n                \n                &lt;div style=&quot;margin-bottom: 16px;&quot;&gt;\n                    &lt;i class=&quot;fa fa-phone-alt me-3&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;${partnerPlace.partner_place_tel }\n                &lt;/div&gt;\n                &lt;div id=&quot;partnerPlaceAddr&quot; style=&quot;margin-bottom: 16px;&quot;&gt;\n                    ${partnerPlace.partner_place_address }\n                &lt;/div&gt;\n                \n            &lt;/div&gt;\n            \n\n            &lt;div style=&quot;width: 30%; border: 1px solid #32C36C; padding-top: 1em; height: 70%;&quot;&gt;\n                &lt;form name=&quot;fr&quot; action=&quot;&quot; method=&quot;post&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;partner_place_no&quot; value=&quot;${partner_place_no }&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;partner_place_name&quot; value=&quot;${partnerPlace.partner_place_name }&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;partner_place_price&quot; value=&quot;${partnerPlace.partner_place_price }&quot;&gt;\n                \n                    &lt;div&gt;\n                        &lt;div style=&quot;font-size: x-large; float: left;&quot;&gt;\n                            ${partnerPlace.partner_place_name }\n                        &lt;/div&gt;\n                        &lt;div style=&quot;color: #32C36C; text-align: right; margin-bottom: 2em;&quot;&gt;\n                            &lt;span style=&quot;font-size: x-large;&quot;&gt;\n                                &lt;fmt:setLocale value=&quot;ko_KR&quot;/&gt;&lt;fmt:formatNumber type=&quot;currency&quot; value=&quot;${partnerPlace.partner_place_price }&quot; /&gt;\n                                &lt;br&gt;\n                            &lt;/span&gt;\n                            &lt;span style=&quot;color: #9B9B9B;&quot;&gt; /hour&lt;/span&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    \n                    \n                    &lt;div&gt;\n                    MemberCnt &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;memberCnt&quot; name=&quot;memberCnt&quot; max=&quot;20&quot; required&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;script type=&quot;text/javascript&quot;&gt;\n                        var memberCnt = 0;\n                        var totalPrice = 0;\n                        $('#memberCnt').blur(function(){\n                            memberCnt = $('#memberCnt').val();\n                            totalPrice = memberCnt * ${partnerPlace.partner_place_price} * 2\n                            document.getElementById(&quot;seePrice&quot;).innerHTML = totalPrice.toLocaleString();\n                            $('#payment_price').val(totalPrice);\n                            \n                        });\n                    &lt;/script&gt;\n                    \n                    \n                    &lt;!-- Date --&gt;\n                    &lt;div style=&quot;margin-bottom: 2em;&quot;&gt;\n                        Select Date (Click button)\n                        &lt;input class=&quot;form-control&quot; id=&quot;rental_date&quot; name=&quot;rental_date&quot; autocomplete=&quot;off&quot; readonly style=&quot;background-color: white;&quot;&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;!-- Time --&gt;\n                    &lt;div style=&quot;margin-bottom: 2em;&quot;&gt;\n                        Time\n                        &lt;select class=&quot;form-select&quot; id=&quot;rental_time_no&quot; name=&quot;rental_time_no&quot;&gt;\n                            &lt;option value=&quot;&quot;&gt;Select Time&lt;/option&gt;\n                            &lt;option value=&quot;1&quot;&gt;10:00~12:00&lt;/option&gt;\n                            &lt;option value=&quot;2&quot;&gt;12:00~14:00&lt;/option&gt;\n                            &lt;option value=&quot;3&quot;&gt;14:00~16:00&lt;/option&gt;\n                            &lt;option value=&quot;4&quot;&gt;16:00~18:00&lt;/option&gt;\n                            &lt;option value=&quot;5&quot;&gt;18:00~20:00&lt;/option&gt;\n                            &lt;option value=&quot;6&quot;&gt;20:00~22:00&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n\n                    &lt;!--  TotalPrice --&gt;\n                    &lt;div&gt;\n                        TotalPrice&lt;br&gt;\n                        &lt;span id=&quot;seePrice&quot;&gt;&lt;/span&gt;\n                        &lt;input type=&quot;hidden&quot; id=&quot;payment_price&quot; name=&quot;payment_price&quot;&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;div class=&quot;payBtn&quot;&gt;\n                        &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill py-3 px-5&quot; id=&quot;subBtn&quot; value=&quot;pay&quot;&gt;\n                    &lt;/div&gt;\n                \n                &lt;/form&gt;\n            &lt;/div&gt;\n\n            \n            \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n    \n&lt;%@ include file=&quot;../include/footer.jsp&quot;%&gt;\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @RequestMapping(value = &quot;/partnerPlaces/{partner_place_no}&quot;, method = RequestMethod.POST)\n    public String partnerPlaceContentPost(PartnerPlacesVo partnerplacevo ,PaymentsVo paymentvo, \n            RentalPlacesVo rentalplacevo, Model model, @RequestParam(&quot;rental_time_no&quot;) int rentaltimeno,\n            HttpSession session,@RequestParam(&quot;payment_price&quot;) int payment_price) {\n        log.info(&quot; partnerPlaceContentPost() 호출&quot;);\n//      log.info(&quot;@@@@@rental_date : &quot;+rental_date);    // 2022-07-23\n        log.info(&quot;rentalplacevo : &quot;+rentalplacevo.getRental_date());\n        log.info(&quot;rental_date type: &quot;+rentalplacevo.getRental_date().getClass().getName()); // java.sql.Date\n        \n        String ppname = partnerplacevo.getPartner_place_name();\n        model.addAttribute(&quot;ppname&quot;, ppname);\n        model.addAttribute(&quot;payment_price&quot;, payment_price);\n        log.info(&quot;ppname, totalprice: &quot;+ppname+payment_price);\n        \n        MembersVo vo = (MembersVo)session.getAttribute(&quot;member&quot;);\n        model.addAttribute(&quot;members&quot;, vo);\n        model.addAttribute(&quot;rental_time_no&quot;, rentaltimeno);\n        model.addAttribute(&quot;payment&quot;, paymentvo);\n        model.addAttribute(&quot;rentalplacevo&quot;, rentalplacevo);\n        \n        return &quot;/rental/payment&quot;;\n        \n    }\n</code></pre>\n<p><strong>payment.jsp</strong> (use API)</p>\n<pre><code>if(rsp.success){\n    $.ajax({ //verify\n        type : 'POST',\n        url : '${PageContext.request.contextPath }/rental/verifyIamport/'+rsp.imp_uid \n    }).done(function(result){\n        // rsp.paid_amount와 result.response.amount(서버 검증) 비교 후 로직 실행\n            if(rsp.paid_amount === result.response.amount){\n            alert(&quot;success pay varify&quot;); console.log(&quot;success pay varify&quot;);\n            var rental_date = ${rentalplacevo.rental_date};\n            alert(&quot;rental_date : &quot;+rental_date);    // 1992\n            \n                $.ajax({\n                    url : '${PageContext.request.contextPath }/rental/partnerPlaces/'+${payment.partner_place_no}+'/payment', \n                    type :'POST',\n                    data :{'partner_place_price':${payment.partner_place_price},\n                        'rental_date':${rentalplacevo.rental_date},\n                        'payment_price':${payment_price},\n                        'rental_time_no':${rental_time_no}},\n                    dataType: 'json',\n                    success: function(paymentvo){\n                         alert('Success store all data'); \n                         setTimeout(function(){\n                             location.href=&quot;${PageContext.request.contextPath }/&quot;\n                         },5000);\n                    }\n                    });\n                }\n        \n    }).fail(function(error){\n            console.log(&quot;fail to store data&quot;); \n    });\n}else{\n        alert('fail'+'errorCode : '+rsp.error_code+'errMsg : '+rsp.error_message);\n    }\n</code></pre>\n<p><strong>Controller</strong>  - I can't get over here.</p>\n<pre><code>        @ResponseBody\n        @RequestMapping(value=&quot;/verifyIamport/{imp_uid}&quot;)\n        public IamportResponse&lt;Payment&gt; paymentByImpUid(\n                Model model, Locale locale, HttpSession session\n                , @PathVariable(&quot;imp_uid&quot;) String imp_uid ) throws IamportResponseException, IOException{   \n                log.info(&quot;paymentByImpUid&quot;);\n                return api.paymentByImpUid(imp_uid);\n                \n        }\n        \n        @ResponseBody\n        @RequestMapping(value =&quot;/partnerPlaces/{partner_place_no}/payment&quot;,method=RequestMethod.POST)\n        public PaymentsVo payment( Model model, \n                @RequestParam(&quot;partner_place_price&quot;) int partner_place_price,\n                @RequestParam(&quot;rental_date&quot;) Date rental_date,\n                @RequestParam(&quot;payment_price&quot;) int payment_price,\n                @RequestParam(&quot;rental_time_no&quot;) int rental_time_no,\n                @PathVariable(&quot;partner_place_no&quot;) int partner_place_no,\n                RentalPlacesVo rentalplacevo, PaymentsVo paymentvo,HttpSession session){\n            \n            log.info(&quot;Vo Info . paymentvo : &quot;+paymentvo);\n            log.info(&quot;Vo Info . RentalPlacesVo : &quot;+rentalplacevo);\n            log.info(&quot;rental_date : &quot;+rental_date);\n//          log.info(&quot;rentdate dataType : &quot;+rentdate.getClass().getName());\n                \n            // reservationNum (Date-place_no)\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n            Calendar cal = Calendar.getInstance();\n            java.util.Date date = cal.getTime();\n        \n            String rsNum = sdf.format(date)+&quot;-&quot;+partner_place_no;\n            log.info(reservationNum&quot;+rsNum);\n            \n            paymentvo.setReservation_no(rsNum);\n            MembersVo mvo = (MembersVo)session.getAttribute(&quot;member&quot;);\n            paymentvo.setMember_no(mvo.getMember_no());\n            paymentvo.setPartner_place_no(partner_place_no);\n            paymentvo.setPartner_place_price(partner_place_price);\n            paymentvo.setPayment_status(1);\n            \n            Integer pay = rentalService.pay(paymentvo);\n            rentalplacevo.setPayment_no(paymentvo.getPayment_no());\n            \n            if(pay == 1) {\n                log.info(&quot;success&quot;);\n            }else {\n                log.info(&quot;fail&quot;);\n            }\n    \n\n            rentalplacevo.setClub_no(46);\n            rentalplacevo.setMember_no(mvo.getMember_no());\n            rentalplacevo.setRental_places_no(partner_place_no);\n            rentalplacevo.setReservation_no(rsNum);\n            rentalplacevo.setRental_date(rental_date);  // date\n            rentalplacevo.setRental_time_no(rental_time_no);    // time\n            rentalplacevo.setRental_status(1);\n            \n            rentalService.place(rentalplacevo);\n            log.info(&quot;rentalPlace : &quot;+rentalplacevo);\n            \n            \n            return paymentvo;\n\n            \n        }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1658428341,"post_id":73070993,"comment_id":129055447,"body_markdown":"why are you using `^` in the middle of the expression? That is to match the beginning of a line","body":"why are you using <code>^</code> in the middle of the expression? That is to match the beginning of a line"}],"answers":[{"tags":[],"owner":{"account_id":25864709,"reputation":11,"user_id":19596604,"display_name":"Tania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658428100,"creation_date":1658427896,"answer_id":73071027,"question_id":73070993,"body_markdown":"I found the answer. I made a small change and it worked.\r\n\r\n    Pattern.compile(&quot;\\\\[format\\\\((.+?),&quot;); \r\n\r\ninstead of \r\n\r\n    Pattern.compile(&quot;\\\\[format\\\\(^(.+?),&quot;)","title":"regex for capturing a group","body":"<p>I found the answer. I made a small change and it worked.</p>\n<pre><code>Pattern.compile(&quot;\\\\[format\\\\((.+?),&quot;); \n</code></pre>\n<p>instead of</p>\n<pre><code>Pattern.compile(&quot;\\\\[format\\\\(^(.+?),&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25854193,"reputation":98,"user_id":19587749,"display_name":"xonturis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658428654,"creation_date":1658428654,"answer_id":73071153,"question_id":73070993,"body_markdown":"If you simply want your regex to capture *precisely* `(([[X]]+2))` and only that very string, the following regex will do the job:\r\n\r\n`\\((\\(.*\\)\\))`\r\n\r\nIf you want to capture anything that looks like your pattern but has for example another number instead of the 2, you can use that one:\r\n\r\n`\\((\\(\\(.*\\+\\d+\\)\\))`\r\n\r\n**Let me explain this last regex:**\r\n\r\nWe are using 5 different things in this regex:\r\n\r\n 1. Capturing groups `()`\r\n 2. Any character `.`\r\n 3. Number character `\\d`\r\n 4. One or more time `+`\r\n 5. As much as you can (from 0 to inf) also called &quot;greedy&quot; `*`\r\n\r\nSo now let&#39;s break your goal in 5 parts:\r\n\r\n 1. At least one number preceeded by a `+`\r\n 2. Preceeded by *something*\r\n 3. Between 2 sets of parenthesis\r\n 4. Capture the corresponding 3 steps\r\n 5. Place me at the start of the three opening parenthesis\r\n\r\nTheses parts corresponds to:\r\n\r\n 1. `\\+\\d+`\r\n 2. `.*\\+\\d+`\r\n 3. `\\(\\(.*\\+\\d+\\)\\)`\r\n 4. `(\\(\\(.*\\+\\d+\\)\\))`\r\n 5. `\\((\\(\\(.*\\+\\d+\\)\\))`\r\n\r\n- You did it ;)\r\n\r\n\r\n**Note:** This regex **is** far from being optimal. And this answer focuses on explaining regexes in your context, it may not work for all of your data if you have more, but you should be able to find the answer by yourself next time ;)\\\r\nI recommend using https://regex101.com/ for regexes it&#39;s a very useful website.","title":"regex for capturing a group","body":"<p>If you simply want your regex to capture <em>precisely</em> <code>(([[X]]+2))</code> and only that very string, the following regex will do the job:</p>\n<p><code>\\((\\(.*\\)\\))</code></p>\n<p>If you want to capture anything that looks like your pattern but has for example another number instead of the 2, you can use that one:</p>\n<p><code>\\((\\(\\(.*\\+\\d+\\)\\))</code></p>\n<p><strong>Let me explain this last regex:</strong></p>\n<p>We are using 5 different things in this regex:</p>\n<ol>\n<li>Capturing groups <code>()</code></li>\n<li>Any character <code>.</code></li>\n<li>Number character <code>\\d</code></li>\n<li>One or more time <code>+</code></li>\n<li>As much as you can (from 0 to inf) also called &quot;greedy&quot; <code>*</code></li>\n</ol>\n<p>So now let's break your goal in 5 parts:</p>\n<ol>\n<li>At least one number preceeded by a <code>+</code></li>\n<li>Preceeded by <em>something</em></li>\n<li>Between 2 sets of parenthesis</li>\n<li>Capture the corresponding 3 steps</li>\n<li>Place me at the start of the three opening parenthesis</li>\n</ol>\n<p>Theses parts corresponds to:</p>\n<ol>\n<li><code>\\+\\d+</code></li>\n<li><code>.*\\+\\d+</code></li>\n<li><code>\\(\\(.*\\+\\d+\\)\\)</code></li>\n<li><code>(\\(\\(.*\\+\\d+\\)\\))</code></li>\n<li><code>\\((\\(\\(.*\\+\\d+\\)\\))</code></li>\n</ol>\n<ul>\n<li>You did it ;)</li>\n</ul>\n<p><strong>Note:</strong> This regex <strong>is</strong> far from being optimal. And this answer focuses on explaining regexes in your context, it may not work for all of your data if you have more, but you should be able to find the answer by yourself next time ;)<br />\nI recommend using <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> for regexes it's a very useful website.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658473541,"creation_date":1658473541,"answer_id":73076365,"question_id":73070993,"body_markdown":"The `^` asserts the start of the string which will not work in your pattern as it matches characters before that.\r\n\r\nYou can use the caret `^` but in the context of a negated character class matching any character except a comma.\r\n\r\n    \\[format\\(([^,]+),\r\n\r\n[Regex demo](https://regex101.com/r/u4dovI/1)\r\n\r\nIn Java with the doubled backspaces:\r\n\r\n    String regex = &quot;\\\\[format\\\\(([^,]+),&quot;;","title":"regex for capturing a group","body":"<p>The <code>^</code> asserts the start of the string which will not work in your pattern as it matches characters before that.</p>\n<p>You can use the caret <code>^</code> but in the context of a negated character class matching any character except a comma.</p>\n<pre><code>\\[format\\(([^,]+),\n</code></pre>\n<p><a href=\"https://regex101.com/r/u4dovI/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>In Java with the doubled backspaces:</p>\n<pre><code>String regex = &quot;\\\\[format\\\\(([^,]+),&quot;;\n</code></pre>\n"}],"owner":{"account_id":25864709,"reputation":11,"user_id":19596604,"display_name":"Tania"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658473541,"creation_date":1658427677,"question_id":73070993,"body_markdown":"I am learning regex for a project. Trying to find a regex that will capture (([[X]]+2)) in &quot;\\\\[format((([[X]]+2)),\\&quot;#####0.######\\&quot;)]&quot;. Code that I am trying is here:\r\n\r\n        Pattern patternFormat1 = Pattern.compile(&quot;\\\\[format\\\\(^(.+?),&quot;);\r\n        String min = &quot;\\\\[format((([[X]]+2)),\\&quot;#####0.######\\&quot;)]&quot;;\r\n        Matcher matcherMin = patternFormat1.matcher(min);\r\n        if(matcherMin.find())\r\n        System.out.println(matcherMin.group(1));","title":"regex for capturing a group","body":"<p>I am learning regex for a project. Trying to find a regex that will capture (([[X]]+2)) in &quot;\\[format((([[X]]+2)),&quot;#####0.######&quot;)]&quot;. Code that I am trying is here:</p>\n<pre><code>    Pattern patternFormat1 = Pattern.compile(&quot;\\\\[format\\\\(^(.+?),&quot;);\n    String min = &quot;\\\\[format((([[X]]+2)),\\&quot;#####0.######\\&quot;)]&quot;;\n    Matcher matcherMin = patternFormat1.matcher(min);\n    if(matcherMin.find())\n    System.out.println(matcherMin.group(1));\n</code></pre>\n"},{"tags":["java","spring-boot","quarkus","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658473485,"creation_date":1658473485,"answer_id":73076356,"question_id":73042669,"body_markdown":"The error message you are getting should be clear. Your problem is a simple Java problem. The is that the String you insert in your value can&#180;t be parsed since it looks different than the pattern the DateFormatter got.\r\nThe String you provided looks like the default IsoLocalDateTime Pattern.\r\nYou can simply replace \r\n\r\n    default OffsetDateTime map(String value) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm&quot;);\r\n        LocalDateTime localDateTime = LocalDateTime.parse(value, formatter);\r\n        ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\r\n        return zonedDateTime.toOffsetDateTime();\r\n    }\r\n\r\nwith \r\n\r\n    default OffsetDateTime map(String value) {\r\n        LocalDateTime localDateTime = LocalDateTime.parse(value);\r\n        ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\r\n        zonedDateTime.toOffsetDateTime();\r\n    }\r\n\r\nor with \r\n\r\n    default OffsetDateTime map(String value) {\r\n        LocalDateTime localDateTime = LocalDateTime.parse(value, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n        ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\r\n        zonedDateTime.toOffsetDateTime();\r\n    }\r\n\r\nYou mentioned that this only occurs in your test Scenario. I would then assume that your `value` string looks different in your test case. \r\n\r\n\r\n","title":"Problem to convert OffsetDateTime to LocalDateTime in MapStruct","body":"<p>The error message you are getting should be clear. Your problem is a simple Java problem. The is that the String you insert in your value can´t be parsed since it looks different than the pattern the DateFormatter got.\nThe String you provided looks like the default IsoLocalDateTime Pattern.\nYou can simply replace</p>\n<pre><code>default OffsetDateTime map(String value) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm&quot;);\n    LocalDateTime localDateTime = LocalDateTime.parse(value, formatter);\n    ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\n    return zonedDateTime.toOffsetDateTime();\n}\n</code></pre>\n<p>with</p>\n<pre><code>default OffsetDateTime map(String value) {\n    LocalDateTime localDateTime = LocalDateTime.parse(value);\n    ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\n    zonedDateTime.toOffsetDateTime();\n}\n</code></pre>\n<p>or with</p>\n<pre><code>default OffsetDateTime map(String value) {\n    LocalDateTime localDateTime = LocalDateTime.parse(value, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n    ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\n    zonedDateTime.toOffsetDateTime();\n}\n</code></pre>\n<p>You mentioned that this only occurs in your test Scenario. I would then assume that your <code>value</code> string looks different in your test case.</p>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73076356,"answer_count":1,"score":0,"last_activity_date":1658473485,"creation_date":1658259817,"question_id":73042669,"body_markdown":"I have a DTO class that has an attribute of type OffsetDateTime and another class with the attribute LocalDateTime but at test time it returns the error below:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2022-07-19T16:21:33.3145924&#39; could not be parsed at index 2\r\n\r\nI&#39;m mapping like this:\r\n\r\n    @Mapper\r\n    public interface PareInputMapper {\r\n    \r\n        PareInputMapper INSTANCE = Mappers.getMapper(PareInputMapper.class);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\r\n        DataPareDto toResponse(DataPare domain);\r\n    \r\n        List&lt;PareDto&gt; toResponseList(List&lt;Pare&gt; domainList);\r\n    \r\n        default OffsetDateTime map(String value) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm&quot;);\r\n            LocalDateTime localDateTime = LocalDateTime.parse(value, formatter);\r\n            ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\r\n            return zonedDateTime.toOffsetDateTime();\r\n        }\r\n    }\r\n\r\nIn the DTO class the object is of type OffsetDateTime and in the domain class it is of type LocalDateTime.\r\n\r\nJust remembering that these date attributes are inside a list that is in the DataPare and DataDto class.\r\n\r\nThanks in advance.","title":"Problem to convert OffsetDateTime to LocalDateTime in MapStruct","body":"<p>I have a DTO class that has an attribute of type OffsetDateTime and another class with the attribute LocalDateTime but at test time it returns the error below:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-07-19T16:21:33.3145924' could not be parsed at index 2\n</code></pre>\n<p>I'm mapping like this:</p>\n<pre><code>@Mapper\npublic interface PareInputMapper {\n\n    PareInputMapper INSTANCE = Mappers.getMapper(PareInputMapper.class);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\n    DataPareDto toResponse(DataPare domain);\n\n    List&lt;PareDto&gt; toResponseList(List&lt;Pare&gt; domainList);\n\n    default OffsetDateTime map(String value) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm&quot;);\n        LocalDateTime localDateTime = LocalDateTime.parse(value, formatter);\n        ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;));\n        return zonedDateTime.toOffsetDateTime();\n    }\n}\n</code></pre>\n<p>In the DTO class the object is of type OffsetDateTime and in the domain class it is of type LocalDateTime.</p>\n<p>Just remembering that these date attributes are inside a list that is in the DataPare and DataDto class.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sql","jdbi"],"answers":[{"tags":[],"owner":{"account_id":224822,"reputation":5792,"user_id":484902,"display_name":"ahus1"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1442047613,"creation_date":1442047613,"answer_id":32536926,"question_id":32526233,"body_markdown":"The [article you linked][1] also descibes the `@BindIn` annotation. This provides a general purpose implementiation for lists. \r\n\r\n    @UseStringTemplate3StatementLocator\r\n    public class MyQuery {\r\n      @SqlQuery(&quot;select id from foo where name in (&lt;nameList&gt;)&quot;)\r\n      List&lt;Integer&gt; getIds(@BindIn(&quot;nameList&quot;) List&lt;String&gt; nameList);\r\n    }\r\n\r\nPlease note that you&#39;ll have to escape all pointy brackets `&lt;` like this `\\\\&lt;`. There is a previous discusion on SO: https://stackoverflow.com/questions/19424573/how-to-do-in-query-in-jdbi \r\n\r\n  [1]: http://skife.org/jdbi/java/2011/12/21/jdbi_in_clauses.html\r\n","title":"Jdbi - how to bind a list parameter in Java?","body":"<p>The <a href=\"http://skife.org/jdbi/java/2011/12/21/jdbi_in_clauses.html\" rel=\"noreferrer\">article you linked</a> also descibes the <code>@BindIn</code> annotation. This provides a general purpose implementiation for lists. </p>\n\n<pre><code>@UseStringTemplate3StatementLocator\npublic class MyQuery {\n  @SqlQuery(\"select id from foo where name in (&lt;nameList&gt;)\")\n  List&lt;Integer&gt; getIds(@BindIn(\"nameList\") List&lt;String&gt; nameList);\n}\n</code></pre>\n\n<p>Please note that you'll have to escape all pointy brackets <code>&lt;</code> like this <code>\\\\&lt;</code>. There is a previous discusion on SO: <a href=\"https://stackoverflow.com/questions/19424573/how-to-do-in-query-in-jdbi\">How to do in-query in jDBI?</a> </p>\n"},{"tags":[],"owner":{"account_id":10068099,"reputation":121,"user_id":7442621,"display_name":"Saifadam Pathan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1530800207,"creation_date":1485384882,"answer_id":41863192,"question_id":32526233,"body_markdown":"I just wanted to add an example since I recently spent considerable time getting a slightly more complex scenario to work :\r\n\r\n**Query :** \r\n\r\n    select * from sometable where id &lt;:id and keys in (&lt;keys&gt;)\r\n\r\n**What worked for me :**\r\n\r\n    @UseStringTemplate3StatementLocator\r\n    public interface someDAO { \r\n    \r\n        ....\r\n        ....\r\n        // This is the method that uses BindIn\r\n        @Mapper(someClassMapper.class)\r\n        @SqlQuery(&quot;select something from sometable where age \\\\&lt; :age and name in (&lt;names&gt;)&quot;)\r\n        List&lt;someclass&gt; someMethod (@Bind(&quot;age&quot;) long age, @BindIn(&quot;names&quot;) List&lt;string&gt; names);\r\n        \r\n        @Mapper(someClassMapper.class)\r\n        @SqlQuery(&quot;select something from sometable where id = :id&quot;)\r\n        List&lt;someclass&gt; someMethod1 (@Bind(&quot;id&quot;) long id);\r\n        ...\r\n        ...\r\n    \r\n    }\r\n\r\nNote: I **did have** to also add the below dependency since I am using \r\n\r\n    @UseStringTemplate3StatementLocator \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;stringtemplate&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe main thing to observe in the above example : You only need to escape the less than operator (i.e. &lt; ) and not the &lt;&gt; that surround the collection variable (names).\r\n\r\nAs you can see I did not use a sql.stg file to write my queries in. Initially I incorrectly assumed that when using @UseStringTemplate3StatementLocator , we have to write the queries in the sql.stg file. However, somehow I never got my sql.stg file to work and I eventually reverted back to writing the query within the DAO class using @SqlQuery.","title":"Jdbi - how to bind a list parameter in Java?","body":"<p>I just wanted to add an example since I recently spent considerable time getting a slightly more complex scenario to work :</p>\n\n<p><strong>Query :</strong> </p>\n\n<pre><code>select * from sometable where id &lt;:id and keys in (&lt;keys&gt;)\n</code></pre>\n\n<p><strong>What worked for me :</strong></p>\n\n<pre><code>@UseStringTemplate3StatementLocator\npublic interface someDAO { \n\n    ....\n    ....\n    // This is the method that uses BindIn\n    @Mapper(someClassMapper.class)\n    @SqlQuery(\"select something from sometable where age \\\\&lt; :age and name in (&lt;names&gt;)\")\n    List&lt;someclass&gt; someMethod (@Bind(\"age\") long age, @BindIn(\"names\") List&lt;string&gt; names);\n\n    @Mapper(someClassMapper.class)\n    @SqlQuery(\"select something from sometable where id = :id\")\n    List&lt;someclass&gt; someMethod1 (@Bind(\"id\") long id);\n    ...\n    ...\n\n}\n</code></pre>\n\n<p>Note: I <strong>did have</strong> to also add the below dependency since I am using </p>\n\n<pre><code>@UseStringTemplate3StatementLocator \n&lt;dependency&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;stringtemplate&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The main thing to observe in the above example : You only need to escape the less than operator (i.e. &lt; ) and not the &lt;> that surround the collection variable (names).</p>\n\n<p>As you can see I did not use a sql.stg file to write my queries in. Initially I incorrectly assumed that when using @UseStringTemplate3StatementLocator , we have to write the queries in the sql.stg file. However, somehow I never got my sql.stg file to work and I eventually reverted back to writing the query within the DAO class using @SqlQuery.</p>\n"},{"tags":[],"owner":{"account_id":1128668,"reputation":5691,"user_id":1115279,"accept_rate":86,"display_name":"D-rk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658473360,"creation_date":1658473360,"answer_id":73076337,"question_id":32526233,"body_markdown":"For the most recent jdbi version things got easier:\r\n\r\n    public interface MyDao {\r\n      @SqlQuery(&quot;select id from foo where name in (&lt;nameList&gt;)&quot;)\r\n      List&lt;Integer&gt; getIds(@BindList(&quot;nameList&quot;) List&lt;String&gt; nameList);\r\n    }\r\n\r\n* `@BindIn` → `@BindList`, and no longer requires StringTemplate\r\n\r\nReference: https://jdbi.org/","title":"Jdbi - how to bind a list parameter in Java?","body":"<p>For the most recent jdbi version things got easier:</p>\n<pre><code>public interface MyDao {\n  @SqlQuery(&quot;select id from foo where name in (&lt;nameList&gt;)&quot;)\n  List&lt;Integer&gt; getIds(@BindList(&quot;nameList&quot;) List&lt;String&gt; nameList);\n}\n</code></pre>\n<ul>\n<li><code>@BindIn</code> → <code>@BindList</code>, and no longer requires StringTemplate</li>\n</ul>\n<p>Reference: <a href=\"https://jdbi.org/\" rel=\"nofollow noreferrer\">https://jdbi.org/</a></p>\n"}],"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23712,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1658473360,"creation_date":1441982817,"question_id":32526233,"body_markdown":"We have an SQL statement which is executed by Jdbi (`org.skife.jdbi.v2`). For binding parameters we use Jdbi&#39;s `bind` method:\r\n\r\n    Handle handle = ...\r\n    Query&lt;Map&lt;String, Object&gt;&gt; sqlQuery = handle.createQuery(query);\r\n    sqlQuery.bind(...)\r\n\r\nHowever we have a problem with in-lists and currently we are using `String.format` for this. So our query can look like this:\r\n\r\n    SELECT DISTINCT\r\n        tableOne.columnOne,\r\n        tableTwo.columnTwo,\r\n        tableTwo.columnThree\r\n    FROM tableOne\r\n    JOIN tableTwo\r\n        ON tableOne.columnOne = tableTwo.columnOne\r\n    WHERE tableTwo.columnTwo = :parameterOne\r\n        AND tableTwo.columnThree IN (%s)\r\n\r\n`%s` is replaced by `String.format` so we have to generate a proper string in java code. Then after all `%s` are replaced we are using jdbi&#39;s `bind` method to replace all other parameters (`:parameterOne` or `?`).\r\n\r\nIs there a way to replace `String.format` with jdbi? There is a method `bind(String, Object)` but it doesn&#39;t handle lists/arrays by default. I have found [this article][1] which explains how to write our own factory for binding custom objects but it looks like a lot of effort, especially for something that should be already supported.\r\n\r\n\r\n  [1]: http://skife.org/jdbi/java/2011/12/21/jdbi_in_clauses.html","title":"Jdbi - how to bind a list parameter in Java?","body":"<p>We have an SQL statement which is executed by Jdbi (<code>org.skife.jdbi.v2</code>). For binding parameters we use Jdbi's <code>bind</code> method:</p>\n\n<pre><code>Handle handle = ...\nQuery&lt;Map&lt;String, Object&gt;&gt; sqlQuery = handle.createQuery(query);\nsqlQuery.bind(...)\n</code></pre>\n\n<p>However we have a problem with in-lists and currently we are using <code>String.format</code> for this. So our query can look like this:</p>\n\n<pre><code>SELECT DISTINCT\n    tableOne.columnOne,\n    tableTwo.columnTwo,\n    tableTwo.columnThree\nFROM tableOne\nJOIN tableTwo\n    ON tableOne.columnOne = tableTwo.columnOne\nWHERE tableTwo.columnTwo = :parameterOne\n    AND tableTwo.columnThree IN (%s)\n</code></pre>\n\n<p><code>%s</code> is replaced by <code>String.format</code> so we have to generate a proper string in java code. Then after all <code>%s</code> are replaced we are using jdbi's <code>bind</code> method to replace all other parameters (<code>:parameterOne</code> or <code>?</code>).</p>\n\n<p>Is there a way to replace <code>String.format</code> with jdbi? There is a method <code>bind(String, Object)</code> but it doesn't handle lists/arrays by default. I have found <a href=\"http://skife.org/jdbi/java/2011/12/21/jdbi_in_clauses.html\" rel=\"noreferrer\">this article</a> which explains how to write our own factory for binding custom objects but it looks like a lot of effort, especially for something that should be already supported.</p>\n"},{"tags":["java","java-module"],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658473243,"creation_date":1636647969,"question_id":69931696,"body_markdown":"I&#39;m looking for a way to open a whole module in Java 17 not a specific package and I&#39;m looking for a JVM flag such as `--add-opens`. I do not have access to the module and thus cannot modify the `module-info.java` file so I need to do this as a JVM flag at runtime. \r\n\r\nI&#39;m trying to provide full reflective access to a third party serialization library into lots of different modules and I cannot pre-emptively know which packages the library will need access to thus I&#39;d like to simply give it access to the whole module. Even better, I&#39;d like the specific library to bypass all reflective access checks but I think this has been removed in Java 17 (the `--illegal-access` flag).\r\n\r\nIs this possible in version 17? If not how would you go about giving a library access to everything? The library maintainers have not yet published a new version that properly supports the encapsulated module system and they probably can&#39;t do that since the nature of the functionality *needs* deep reflection to work.","title":"JVM flag for opening whole module at runtime in Java 17","body":"<p>I'm looking for a way to open a whole module in Java 17 not a specific package and I'm looking for a JVM flag such as <code>--add-opens</code>. I do not have access to the module and thus cannot modify the <code>module-info.java</code> file so I need to do this as a JVM flag at runtime.</p>\n<p>I'm trying to provide full reflective access to a third party serialization library into lots of different modules and I cannot pre-emptively know which packages the library will need access to thus I'd like to simply give it access to the whole module. Even better, I'd like the specific library to bypass all reflective access checks but I think this has been removed in Java 17 (the <code>--illegal-access</code> flag).</p>\n<p>Is this possible in version 17? If not how would you go about giving a library access to everything? The library maintainers have not yet published a new version that properly supports the encapsulated module system and they probably can't do that since the nature of the functionality <em>needs</em> deep reflection to work.</p>\n"},{"tags":["java","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658473016,"creation_date":1658473016,"answer_id":73076258,"question_id":73051493,"body_markdown":"This do the job:\r\n\r\n    robot.keyPress(KeyEvent.VK_SHIFT);\r\n    robot.keyPress(KeyEvent.VK_COMMA);\r\n    robot.keyRelease(KeyEvent.VK_SHIFT);","title":"&quot;Invalid key code&quot; when pressing some symbols with robot.keyPress","body":"<p>This do the job:</p>\n<pre><code>robot.keyPress(KeyEvent.VK_SHIFT);\nrobot.keyPress(KeyEvent.VK_COMMA);\nrobot.keyRelease(KeyEvent.VK_SHIFT);\n</code></pre>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658473016,"creation_date":1658319307,"question_id":73051493,"body_markdown":"Does somebody know why I receive &quot;Invalid key code&quot; exception while trying to do a robot.keyPress of this symbol &#39;;&#39;?\r\n\r\n    robot.keyPress(KeyEvent.VK_SEMICOLON);\r\n\r\n.. neither this works:\r\n\r\n    robot.keyPress(KeyEvent.VK_SHIFT);\r\n    robot.keyPress(KeyEvent.VK_SEMICOLON);\r\n    robot.keyRelease(KeyEvent.VK_SHIFT);\r\n\r\nI am using an Spanish keyboard.\r\n","title":"&quot;Invalid key code&quot; when pressing some symbols with robot.keyPress","body":"<p>Does somebody know why I receive &quot;Invalid key code&quot; exception while trying to do a robot.keyPress of this symbol ';'?</p>\n<pre><code>robot.keyPress(KeyEvent.VK_SEMICOLON);\n</code></pre>\n<p>.. neither this works:</p>\n<pre><code>robot.keyPress(KeyEvent.VK_SHIFT);\nrobot.keyPress(KeyEvent.VK_SEMICOLON);\nrobot.keyRelease(KeyEvent.VK_SHIFT);\n</code></pre>\n<p>I am using an Spanish keyboard.</p>\n"},{"tags":["java","spring-data-jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658472554,"creation_date":1658472554,"answer_id":73076179,"question_id":73075006,"body_markdown":"It seems you are confusing transactions and query execution.\r\n\r\nIf everything runs in a single transaction depends on the `@Transactional` annotation you put or don&#39;t put on your repository method.\r\n\r\nWhat query gets executed solely depends on `firstMethod` and it&#39;s query annotation. It will get executed for each invocation of the method.","title":"Does user specified methods in JpaRepository gets executed in single transaction?","body":"<p>It seems you are confusing transactions and query execution.</p>\n<p>If everything runs in a single transaction depends on the <code>@Transactional</code> annotation you put or don't put on your repository method.</p>\n<p>What query gets executed solely depends on <code>firstMethod</code> and it's query annotation. It will get executed for each invocation of the method.</p>\n"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658472554,"creation_date":1658462795,"question_id":73075006,"body_markdown":"I have custom methods in `JpaRepository` and they are called recursively. `firstMethod` is actually calling data from DB. `secondMethod` and `thirdMethod` are calling `firstMethod` and `secondMethod` respectively.\r\n\r\nDoes thirdMethod executes in a single transaction? i.e., I want entire query list to be fired in a single go, fetch entire list from db and return in a single go instead of multiple queries fired per object in list.\r\n\r\n    public interface SomeDao extends JpaRepository&lt;SomeObject, SomeObjectId&gt; {\r\n    \r\n        @Deprecated\r\n        @Query(&quot;custom query&quot;)\r\n        Slice&lt;SomeObject&gt; firstMethod(BigInteger a, Timestamp b, Pageable c);\r\n    \r\n        default Optional&lt;SomeOtherObject&gt; secondMethod(SomeObject someObject) {\r\n            // calls first method\r\n            // object has separate fields that apply in first method -&gt; someObject.a, someObject.b etc\r\n        }\r\n    \r\n        // I want to know whether third method gets executed in single transaction???\r\n        default List&lt;Optional&lt;SomeOtherObject&gt;&gt; thirdMethod(List&lt;SomeObject&gt; listOfObjects) {\r\n            // calls second method for a list of objects\r\n        }\r\n    }\r\n\r\n","title":"Does user specified methods in JpaRepository gets executed in single transaction?","body":"<p>I have custom methods in <code>JpaRepository</code> and they are called recursively. <code>firstMethod</code> is actually calling data from DB. <code>secondMethod</code> and <code>thirdMethod</code> are calling <code>firstMethod</code> and <code>secondMethod</code> respectively.</p>\n<p>Does thirdMethod executes in a single transaction? i.e., I want entire query list to be fired in a single go, fetch entire list from db and return in a single go instead of multiple queries fired per object in list.</p>\n<pre><code>public interface SomeDao extends JpaRepository&lt;SomeObject, SomeObjectId&gt; {\n\n    @Deprecated\n    @Query(&quot;custom query&quot;)\n    Slice&lt;SomeObject&gt; firstMethod(BigInteger a, Timestamp b, Pageable c);\n\n    default Optional&lt;SomeOtherObject&gt; secondMethod(SomeObject someObject) {\n        // calls first method\n        // object has separate fields that apply in first method -&gt; someObject.a, someObject.b etc\n    }\n\n    // I want to know whether third method gets executed in single transaction???\n    default List&lt;Optional&lt;SomeOtherObject&gt;&gt; thirdMethod(List&lt;SomeObject&gt; listOfObjects) {\n        // calls second method for a list of objects\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","testng","appium","java-client"],"answers":[{"tags":[],"owner":{"account_id":18936009,"reputation":29,"user_id":13817050,"display_name":"Abhishek Bhardwaj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643697750,"creation_date":1643697750,"answer_id":70936487,"question_id":70758901,"body_markdown":"facing the same issue while initializing page object model. no results found till now.","title":"AppiumFieldDecorator is not working with POM","body":"<p>facing the same issue while initializing page object model. no results found till now.</p>\n"},{"tags":[],"owner":{"account_id":5454772,"reputation":514,"user_id":4338553,"accept_rate":57,"display_name":"Suhail Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658472451,"creation_date":1658251693,"answer_id":73041213,"question_id":70758901,"body_markdown":"I was also facing this issue and I was able to resole using below steps\r\n\r\n1. Remove the constructor HomePage()\r\n2. Now in the class were you are calling your page object class there call it in below format.\r\n\r\n       HomePage hommePagePO = PageFactory.intiElement(driver, HomePage.class);\r\n\r\nFor example:\r\nPageObject class:\r\n\r\n     public class HomePage{\r\n        @AndroidFindBy(xpath=&quot;//*[@content-desc=&#39;Accessibility&#39;]&quot;)\r\n        private MobileElement eleAccessibility;\r\n\r\n        public void clickAccessibility() {\r\n        eleAccessibility.click();\r\n        }\r\n        }\r\nTest Class:\r\n    \r\n      @BeforeClass\r\n       public void setup(){\r\n       // initialize your driver and then pass the driver\r\n       \r\n       HomePage homePagePO = PageFactory.initElements(driver, HomePage.class);\r\n       }\r\n\r\nOr\r\n\r\nWhen you are creating your pageObject call constructor, call the initElement like given below:\r\n\r\nPageObject class:\r\n\r\n     public class HomePage{\r\n\r\n        public Home(Appium driver){\r\n        PageFactory.intiElement(driver, this.getClass());\r\n        }\r\n        @AndroidFindBy(xpath=&quot;//*[@content-desc=&#39;Accessibility&#39;]&quot;)\r\n        private MobileElement eleAccessibility;\r\n        Page\r\n        public void clickAccessibility() {\r\n        eleAccessibility.click();\r\n        }\r\n        }\r\n","title":"AppiumFieldDecorator is not working with POM","body":"<p>I was also facing this issue and I was able to resole using below steps</p>\n<ol>\n<li><p>Remove the constructor HomePage()</p>\n</li>\n<li><p>Now in the class were you are calling your page object class there call it in below format.</p>\n<pre><code>HomePage hommePagePO = PageFactory.intiElement(driver, HomePage.class);\n</code></pre>\n</li>\n</ol>\n<p>For example:\nPageObject class:</p>\n<pre><code> public class HomePage{\n    @AndroidFindBy(xpath=&quot;//*[@content-desc='Accessibility']&quot;)\n    private MobileElement eleAccessibility;\n\n    public void clickAccessibility() {\n    eleAccessibility.click();\n    }\n    }\n</code></pre>\n<p>Test Class:</p>\n<pre><code>  @BeforeClass\n   public void setup(){\n   // initialize your driver and then pass the driver\n   \n   HomePage homePagePO = PageFactory.initElements(driver, HomePage.class);\n   }\n</code></pre>\n<p>Or</p>\n<p>When you are creating your pageObject call constructor, call the initElement like given below:</p>\n<p>PageObject class:</p>\n<pre><code> public class HomePage{\n\n    public Home(Appium driver){\n    PageFactory.intiElement(driver, this.getClass());\n    }\n    @AndroidFindBy(xpath=&quot;//*[@content-desc='Accessibility']&quot;)\n    private MobileElement eleAccessibility;\n    Page\n    public void clickAccessibility() {\n    eleAccessibility.click();\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":4369293,"reputation":41,"user_id":3564126,"display_name":"Nisha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658472451,"creation_date":1642522721,"question_id":70758901,"body_markdown":"I am trying to automate with Appium, TestNG and Maven. I am getting errors while initializing the page object model. An error log is attached with this. Tried many ways, but no luck. It would be great if anyone know where I am doing mistakes.\r\njava-client --&gt; 6.1.0\r\ntestng --&gt; 7.4.0\r\n\r\n```\r\npublic final class Driver {\r\n\tpublic static void initDriver() {\r\n\t\tif (Objects.isNull(DriverManager.getDriver())) {\r\n\t\t\tURL url = null;\r\n\t\t\ttry {\r\n\t\t\t\turl = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\t\t\t} catch (MalformedURLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tDesiredCapabilities capability = new DesiredCapabilities();\r\n\t\t\tcapability.setCapability(MobileCapabilityType.PLATFORM_NAME, MobilePlatform.ANDROID);\r\n\t\t\tcapability.setCapability(&quot;appPackage&quot;, AppConstant.appPackage);\r\n\t\t\tcapability.setCapability(&quot;appActivity&quot;, AppConstant.appActivity);\r\n\t\t\t\r\n\t\t\tAppiumDriver&lt;MobileElement&gt; driver = new AppiumDriver&lt;&gt;(url, capability);\r\n\t\t\tDriverManager.setDriver(driver);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic final class DriverManager {\r\n\tprivate static ThreadLocal&lt;AppiumDriver&lt;MobileElement&gt;&gt; driver = new ThreadLocal&lt;AppiumDriver&lt;MobileElement&gt;&gt;();\r\n\t\r\n\tpublic static AppiumDriver&lt;MobileElement&gt; getDriver() {\r\n\t\treturn driver.get();\r\n\t}\r\n\tstatic void setDriver(AppiumDriver&lt;MobileElement&gt; driverRef) {\r\n\t\tdriver.set(driverRef);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class HomePage{\r\n\t\r\n\t@AndroidFindBy(xpath=&quot;//*[@content-desc=&#39;Accessibility&#39;]&quot;)\r\n\tprivate MobileElement eleAccessibility;\r\n\t\r\n\tpublic HomePage(){\r\n\t\tPageFactory.initElements(new AppiumFieldDecorator(DriverManager.getDriver(), Duration.ofSeconds(10)), this);}\r\n\t\r\n\tpublic void clickAccessibility() {\r\n\t\teleAccessibility.click();\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nI am getting below error.... \r\n\r\n```\r\njava.lang.RuntimeException: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy10.proxyClassLookup()\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:85)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.getFilledValue(AppiumByBuilder.java:92)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.createBy(AppiumByBuilder.java:148)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.getBys(DefaultElementByBuilder.java:133)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.buildMobileNativeBy(DefaultElementByBuilder.java:177)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.buildBy(DefaultElementByBuilder.java:216)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:66)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:53)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:1)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:56)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:155)\r\n\tat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\r\n\tat com.pages.HomePage.&lt;init&gt;(HomePage.java:23)\r\n\tat com.testCases.TC001_AccessibilityTest.accessibilityTest(TC001_AccessibilityTest.java:14)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy10.proxyClassLookup()\r\n\tat java.base/java.lang.Class.getMethod(Class.java:2195)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:83)\r\n\t... 42 more\r\n\r\n```\r\n","title":"AppiumFieldDecorator is not working with POM","body":"<p>I am trying to automate with Appium, TestNG and Maven. I am getting errors while initializing the page object model. An error log is attached with this. Tried many ways, but no luck. It would be great if anyone know where I am doing mistakes.\njava-client --&gt; 6.1.0\ntestng --&gt; 7.4.0</p>\n<pre><code>public final class Driver {\n    public static void initDriver() {\n        if (Objects.isNull(DriverManager.getDriver())) {\n            URL url = null;\n            try {\n                url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n            DesiredCapabilities capability = new DesiredCapabilities();\n            capability.setCapability(MobileCapabilityType.PLATFORM_NAME, MobilePlatform.ANDROID);\n            capability.setCapability(&quot;appPackage&quot;, AppConstant.appPackage);\n            capability.setCapability(&quot;appActivity&quot;, AppConstant.appActivity);\n            \n            AppiumDriver&lt;MobileElement&gt; driver = new AppiumDriver&lt;&gt;(url, capability);\n            DriverManager.setDriver(driver);\n        }\n    }\n}\n</code></pre>\n<pre><code>public final class DriverManager {\n    private static ThreadLocal&lt;AppiumDriver&lt;MobileElement&gt;&gt; driver = new ThreadLocal&lt;AppiumDriver&lt;MobileElement&gt;&gt;();\n    \n    public static AppiumDriver&lt;MobileElement&gt; getDriver() {\n        return driver.get();\n    }\n    static void setDriver(AppiumDriver&lt;MobileElement&gt; driverRef) {\n        driver.set(driverRef);\n    }\n}\n\n</code></pre>\n<pre><code>public class HomePage{\n    \n    @AndroidFindBy(xpath=&quot;//*[@content-desc='Accessibility']&quot;)\n    private MobileElement eleAccessibility;\n    \n    public HomePage(){\n        PageFactory.initElements(new AppiumFieldDecorator(DriverManager.getDriver(), Duration.ofSeconds(10)), this);}\n    \n    public void clickAccessibility() {\n        eleAccessibility.click();\n    }\n}\n\n\n</code></pre>\n<p>I am getting below error....</p>\n<pre><code>java.lang.RuntimeException: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy10.proxyClassLookup()\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:85)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.getFilledValue(AppiumByBuilder.java:92)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.createBy(AppiumByBuilder.java:148)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.getBys(DefaultElementByBuilder.java:133)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.buildMobileNativeBy(DefaultElementByBuilder.java:177)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.buildBy(DefaultElementByBuilder.java:216)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:66)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:53)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:1)\n    at org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:56)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:155)\n    at org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\n    at com.pages.HomePage.&lt;init&gt;(HomePage.java:23)\n    at com.testCases.TC001_AccessibilityTest.accessibilityTest(TC001_AccessibilityTest.java:14)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy10.proxyClassLookup()\n    at java.base/java.lang.Class.getMethod(Class.java:2195)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:83)\n    ... 42 more\n\n</code></pre>\n"},{"tags":["java","validation","if-statement","postal-code"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416940742,"post_id":27134187,"comment_id":42766844,"body_markdown":"Well, do you have a list of valid UK post codes?  Is it in a database?  In a text file?  Available via a web service?  Provided in installments by messenger pigeons?  Really, you need to think about how this should work, before you start writing code.","body":"Well, do you have a list of valid UK post codes?  Is it in a database?  In a text file?  Available via a web service?  Provided in installments by messenger pigeons?  Really, you need to think about how this should work, before you start writing code."},{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":1,"creation_date":1416940761,"post_id":27134187,"comment_id":42766858,"body_markdown":"Have you done any research on what is a valid postcode?","body":"Have you done any research on what is a valid postcode?"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":1,"creation_date":1416940766,"post_id":27134187,"comment_id":42766863,"body_markdown":"possible duplicate of [Regular expression for UK postal codes](http://stackoverflow.com/questions/14998459/regular-expression-for-uk-postal-codes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14998459/regular-expression-for-uk-postal-codes\">Regular expression for UK postal codes</a>"},{"owner":{"account_id":5196659,"reputation":11,"user_id":4157699,"display_name":"Bluestinct"},"score":0,"creation_date":1416940899,"post_id":27134187,"comment_id":42766922,"body_markdown":"@DavidWallace Nope, just literally making sure they cant enter something like &quot;BFUWIDAPBVUIWDP&quot; in the postcode field","body":"@DavidWallace Nope, just literally making sure they cant enter something like &quot;BFUWIDAPBVUIWDP&quot; in the postcode field"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416940909,"post_id":27134187,"comment_id":42766927,"body_markdown":"@KickButtowski Not quite a duplicate.  If we assume that the OP intends to match the candidate post code against the regular expression provided in the linked question, he/she still doesn&#39;t have the code to actually do the match.","body":"@KickButtowski Not quite a duplicate.  If we assume that the OP intends to match the candidate post code against the regular expression provided in the linked question, he/she still doesn&#39;t have the code to actually do the match."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416940973,"post_id":27134187,"comment_id":42766955,"body_markdown":"@Bluestinct - That&#39;s even less clearly defined.  What does _something like &quot;BFUWIDAPBVUIWDP&quot;_ actually mean?","body":"@Bluestinct - That&#39;s even less clearly defined.  What does <i>something like &quot;BFUWIDAPBVUIWDP&quot;</i> actually mean?"},{"owner":{"account_id":5196659,"reputation":11,"user_id":4157699,"display_name":"Bluestinct"},"score":0,"creation_date":1416941148,"post_id":27134187,"comment_id":42767052,"body_markdown":"@DavidWallace Say you went to enter your postcode in the postcode field. Instead of adding your actual postcode, you just entered a jumble of numbers and/or letters; it needs to bounce an error.","body":"@DavidWallace Say you went to enter your postcode in the postcode field. Instead of adding your actual postcode, you just entered a jumble of numbers and/or letters; it needs to bounce an error."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416941839,"post_id":27134187,"comment_id":42767451,"body_markdown":"So what is the defining feature that makes you consider &quot;BFUWIDAPBVUIWDP&quot; a &quot;jumble of numbers and/or letters&quot;, and &quot;CR9 5AD&quot; not?","body":"So what is the defining feature that makes you consider &quot;BFUWIDAPBVUIWDP&quot; a &quot;jumble of numbers and/or letters&quot;, and &quot;CR9 5AD&quot; not?"},{"owner":{"account_id":5196659,"reputation":11,"user_id":4157699,"display_name":"Bluestinct"},"score":0,"creation_date":1416942362,"post_id":27134187,"comment_id":42767725,"body_markdown":"I suppose I could check for the length?","body":"I suppose I could check for the length?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416943582,"post_id":27134187,"comment_id":42768336,"body_markdown":"You could.  So is your question &quot;how do I check whether a String is either 7 or 8 characters long, and show a message if it&#39;s a different length&quot;?","body":"You could.  So is your question &quot;how do I check whether a String is either 7 or 8 characters long, and show a message if it&#39;s a different length&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":3689293,"reputation":1072,"user_id":3072307,"display_name":"Al Mills"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416993663,"creation_date":1416993663,"answer_id":27145329,"question_id":27134187,"body_markdown":"There is lots of information around on this already including:\r\n\r\n - http://en.wikipedia.org/wiki/Postcodes_in_the_United_Kingdom#Validation\r\n - https://stackoverflow.com/questions/21616133/how-to-correctly-match-uk-postcodes-by-prefix/21626470#21626470\r\n\r\nBut taking those into account, there are 6 possible formats for postcodes in the UK:\r\n\r\n    A9 9AA\r\n    A9A 9AA\r\n    A99 9AA\r\n    AA9 9AA\r\n    AA9A 9AA\r\n    AA99 9AA\r\n\r\nAnd there are several way&#39;s that you can validate them - you&#39;d need to give a bit more information to explain exactly what you are after.\r\n\r\n*Syntax Validation*\r\n\r\nWe can use a regex to validate that a postcode looks like a postcode. Something along the lines of the following should work. It allows for the 6 values. There are more complicated / complete examples online, again - depending upon what you are after,.\r\n\r\n    ^[A-Z]{1,2}[0-9R][0-9A-Z]?[0-9][ABD-HJLNP-UW-Z]{2}$\r\n\r\n*Validation*\r\n\r\nJust because the postcode looks like a postcode, doesn&#39;t mean that it is a postcode. If you are trying to capture a complete address or ensure that the postcode entered by a user actually exisits you could use the Royal Mail PAF file or a 3rd party to help you capture a complete &amp; correct address (many available including http://www.qas.co.uk/knowledge-centre/product-information/address-postcode-finder.htm (my company)).\r\n","title":"How to validate a UK postal code in Java?","body":"<p>There is lots of information around on this already including:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Postcodes_in_the_United_Kingdom#Validation\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Postcodes_in_the_United_Kingdom#Validation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21616133/how-to-correctly-match-uk-postcodes-by-prefix/21626470#21626470\">How to correctly match UK postcodes by prefix?</a></li>\n</ul>\n\n<p>But taking those into account, there are 6 possible formats for postcodes in the UK:</p>\n\n<pre><code>A9 9AA\nA9A 9AA\nA99 9AA\nAA9 9AA\nAA9A 9AA\nAA99 9AA\n</code></pre>\n\n<p>And there are several way's that you can validate them - you'd need to give a bit more information to explain exactly what you are after.</p>\n\n<p><em>Syntax Validation</em></p>\n\n<p>We can use a regex to validate that a postcode looks like a postcode. Something along the lines of the following should work. It allows for the 6 values. There are more complicated / complete examples online, again - depending upon what you are after,.</p>\n\n<pre><code>^[A-Z]{1,2}[0-9R][0-9A-Z]?[0-9][ABD-HJLNP-UW-Z]{2}$\n</code></pre>\n\n<p><em>Validation</em></p>\n\n<p>Just because the postcode looks like a postcode, doesn't mean that it is a postcode. If you are trying to capture a complete address or ensure that the postcode entered by a user actually exisits you could use the Royal Mail PAF file or a 3rd party to help you capture a complete &amp; correct address (many available including <a href=\"http://www.qas.co.uk/knowledge-centre/product-information/address-postcode-finder.htm\" rel=\"nofollow noreferrer\">http://www.qas.co.uk/knowledge-centre/product-information/address-postcode-finder.htm</a> (my company)).</p>\n"},{"tags":[],"owner":{"account_id":5398946,"reputation":51,"user_id":4299305,"display_name":"Graham Rhind"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1417107626,"creation_date":1417107231,"answer_id":27175647,"question_id":27134187,"body_markdown":"There are some special codes, such as GIR 0AA and SAN TA1 which haven&#39;t been mentioned in the formats previously given. \r\n\r\nThe letter J is never found as one of the first two letters. The letters Q, V and X are never found in the first position of the postal code. The letters I and Z are not found in the second position (except for the single postal code GIR 0AA ). Where the third position is a letter, the letters I, L, O, Q and Z are not found. Only the letters A, B, E, H, M, N, P, R, V, W, X and Y can appear in the fourth position. In the part of the postal code after the space, the letters C, I, K, M, O and V are never found.\r\n\r\nA regex for validating current UK postal codes is:\r\n\r\n\\A((GIR 0AA)|(SAN TA1)|[A-I|K-P|R-U|W|Y-Z][0-9]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][0-9][0-9]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][0-9][A-H|J-K|M-N|P|R-Y]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y][0-9]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y][0-9][0-9]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y][0-9][A-H|J-K|M-N|P|R-Y]( )[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z])\\Z\r\n\r\nYou can find more information on UK postal codes at http://www.grcdi.nl/gsb/united%20kingdom.html\r\n\r\n","title":"How to validate a UK postal code in Java?","body":"<p>There are some special codes, such as GIR 0AA and SAN TA1 which haven't been mentioned in the formats previously given. </p>\n\n<p>The letter J is never found as one of the first two letters. The letters Q, V and X are never found in the first position of the postal code. The letters I and Z are not found in the second position (except for the single postal code GIR 0AA ). Where the third position is a letter, the letters I, L, O, Q and Z are not found. Only the letters A, B, E, H, M, N, P, R, V, W, X and Y can appear in the fourth position. In the part of the postal code after the space, the letters C, I, K, M, O and V are never found.</p>\n\n<p>A regex for validating current UK postal codes is:</p>\n\n<p>\\A((GIR 0AA)|(SAN TA1)|[A-I|K-P|R-U|W|Y-Z]0-9[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][0-9]0-9[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][0-9]A-H|J-K|M-N|P|R-Y[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y]0-9[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y][0-9]0-9[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z]|[A-I|K-P|R-U|W|Y-Z][A-H|K-P|R-U|W|Y][0-9]A-H|J-K|M-N|P|R-Y[0-9][A-B|D-H|J|L|N|P-U|W-Z][A-B|D-H|J|L|N|P-U|W-Z])\\Z</p>\n\n<p>You can find more information on UK postal codes at <a href=\"http://www.grcdi.nl/gsb/united%20kingdom.html\" rel=\"noreferrer\">http://www.grcdi.nl/gsb/united%20kingdom.html</a></p>\n"},{"tags":[],"owner":{"account_id":25841718,"reputation":1,"user_id":19577171,"display_name":"ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658472439,"creation_date":1658213129,"answer_id":73032280,"question_id":27134187,"body_markdown":"    [a-z A-Z 0-9]*{9} \r\n\r\n iused this as validating postalcode not for UK but for all type of country postalcodes .it worked for me.\r\n","title":"How to validate a UK postal code in Java?","body":"<pre><code>[a-z A-Z 0-9]*{9} \n</code></pre>\n<p>iused this as validating postalcode not for UK but for all type of country postalcodes .it worked for me.</p>\n"}],"owner":{"account_id":5196659,"reputation":11,"user_id":4157699,"display_name":"Bluestinct"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3773,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1658472439,"creation_date":1416940526,"question_id":27134187,"body_markdown":"One of the functions in the program is a user entering their postcode. So far I have:\r\n\r\n    if ( postcode != //SOMETHING// )\r\n    {\r\n        JOptionPane.showMessageDialog(this, &quot;Not UK Postcode&quot;, &quot;Postcode must be a valid UK postcode&quot;, jOptionPane.ERROR_MESSAGE);\r\n    }\r\n\r\nWhat would I put in the if statement in order for it to check if the entered postcode is a valid UK postcode? ","title":"How to validate a UK postal code in Java?","body":"<p>One of the functions in the program is a user entering their postcode. So far I have:</p>\n\n<pre><code>if ( postcode != //SOMETHING// )\n{\n    JOptionPane.showMessageDialog(this, \"Not UK Postcode\", \"Postcode must be a valid UK postcode\", jOptionPane.ERROR_MESSAGE);\n}\n</code></pre>\n\n<p>What would I put in the if statement in order for it to check if the entered postcode is a valid UK postcode? </p>\n"},{"tags":["java","spring","spring-boot","inheritance","polymorphism"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658471563,"post_id":73075960,"comment_id":129063688,"body_markdown":"Does this answer your question? [Using Template Method Pattern with Spring Boot](https://stackoverflow.com/questions/73062796/using-template-method-pattern-with-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73062796/using-template-method-pattern-with-spring-boot\">Using Template Method Pattern with Spring Boot</a>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1658472534,"post_id":73075960,"comment_id":129063954,"body_markdown":"No need to have a `PDFService` in the first place if you are not using a `PDFService` anywhere. There is not much to simplify here since there is little to no code duplication,","body":"No need to have a <code>PDFService</code> in the first place if you are not using a <code>PDFService</code> anywhere. There is not much to simplify here since there is little to no code duplication,"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658472425,"creation_date":1658472425,"answer_id":73076153,"question_id":73075960,"body_markdown":"Since `BrandPDFService` and `ProductPDFService` are Spring beans (because you annotated them with the `@Service` annotation), you should not be instantiating them yourself by using `new`. Instead, you should let Spring autowire them into the class where you are using them.\r\n\r\nBecause they are both implementations of interface `PDFService`, when you autowire them, you need to have something to let Spring distinguish them. Otherwise, if the field you are autowiring them in is of type `PDFService`, Spring won&#39;t know which implementation of the interface to autowire. You can give the beans names and use the `@Qualifier` annotation:\r\n\r\n    @Service(&quot;brandPDFService&quot;)\r\n    public class BrandPDFService implements PDFService { ... }\r\n\r\n    @Service(&quot;productPDFService&quot;)\r\n    public class ProductPDFService implements PDFService { ... }\r\n\r\n    // Example controller where you autowire them\r\n    @RestController\r\n    public class MyController {\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;brandPDFService&quot;)\r\n        private PDFService brandPDFService;\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;productPDFService&quot;)\r\n        private PDFService productPDFService;\r\n\r\n        // ...\r\n    }\r\n\r\n&gt; So, I think I need to use generic and pass it to PDFService and then their implementations\r\n\r\nI don&#39;t know why you think you need to use generics; this doesn&#39;t have anything to do with generics.\r\n","title":"Using Polymorphism in Spring Boot services?","body":"<p>Since <code>BrandPDFService</code> and <code>ProductPDFService</code> are Spring beans (because you annotated them with the <code>@Service</code> annotation), you should not be instantiating them yourself by using <code>new</code>. Instead, you should let Spring autowire them into the class where you are using them.</p>\n<p>Because they are both implementations of interface <code>PDFService</code>, when you autowire them, you need to have something to let Spring distinguish them. Otherwise, if the field you are autowiring them in is of type <code>PDFService</code>, Spring won't know which implementation of the interface to autowire. You can give the beans names and use the <code>@Qualifier</code> annotation:</p>\n<pre><code>@Service(&quot;brandPDFService&quot;)\npublic class BrandPDFService implements PDFService { ... }\n\n@Service(&quot;productPDFService&quot;)\npublic class ProductPDFService implements PDFService { ... }\n\n// Example controller where you autowire them\n@RestController\npublic class MyController {\n\n    @Autowired\n    @Qualifier(&quot;brandPDFService&quot;)\n    private PDFService brandPDFService;\n\n    @Autowired\n    @Qualifier(&quot;productPDFService&quot;)\n    private PDFService productPDFService;\n\n    // ...\n}\n</code></pre>\n<blockquote>\n<p>So, I think I need to use generic and pass it to PDFService and then their implementations</p>\n</blockquote>\n<p>I don't know why you think you need to use generics; this doesn't have anything to do with generics.</p>\n"}],"owner":{"display_name":"user19540291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658472425,"creation_date":1658471306,"question_id":73075960,"body_markdown":"In my Spring Boot app, I am thinking of using an approach as the following interface and service implementations:\r\n\r\n\r\n***PDFService:***\r\n\r\n```\r\npublic interface PDFService {\r\n    String createPdf(UUID uuid);\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n***BrandPDFService:***\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class BrandPDFService implements PDFService {\r\n    \r\n    private final BrandService brandService;\r\n\r\n    @Override\r\n    public String createPdf(UUID uuid) {\r\n        Brand brand = brandService.findByUuid(uuid);\r\n\r\n        // ... code omitted for brevity\r\n\r\n        return generateHtml(brand);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n***ProductPDFService:***\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ProductPDFService implements PDFService {\r\n\r\n    private final ProductService productService;\r\n\r\n    @Override\r\n    public String createPdf(UUID uuid) {\r\n        Product product = productService.findByUuid(uuid);\r\n\r\n        // ... code omitted for brevity\r\n\r\n        return generateHtml(product);\r\n    }\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\nFor using these services:\r\n\r\n```\r\n// brand way\r\nPDFService pdfService = new BrandService();\r\npdfService.createPdf(uuid);\r\n\r\n\r\n// product way\r\nPDFService pdfService = new ProductService();\r\npdfService.createPdf(uuid);\r\n```\r\n&lt;br/&gt;\r\n\r\n\r\nSo, I think I need to use generic and pass it to PDFService and then their implementations, but I am not sure how to make it properly (using generic or passing via constructor). So, in order to use `createPdf` efficiently without repeating code (I know I can also use Template Pattern method, but I just wanted to know polymorphism side) how should I apply polymorphism to these Spring Boot Services properly? ","title":"Using Polymorphism in Spring Boot services?","body":"<p>In my Spring Boot app, I am thinking of using an approach as the following interface and service implementations:</p>\n<p><em><strong>PDFService:</strong></em></p>\n<pre><code>public interface PDFService {\n    String createPdf(UUID uuid);\n}\n</code></pre>\n<br/>\n<p><em><strong>BrandPDFService:</strong></em></p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class BrandPDFService implements PDFService {\n    \n    private final BrandService brandService;\n\n    @Override\n    public String createPdf(UUID uuid) {\n        Brand brand = brandService.findByUuid(uuid);\n\n        // ... code omitted for brevity\n\n        return generateHtml(brand);\n    }\n}\n</code></pre>\n<br/>\n<p><em><strong>ProductPDFService:</strong></em></p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ProductPDFService implements PDFService {\n\n    private final ProductService productService;\n\n    @Override\n    public String createPdf(UUID uuid) {\n        Product product = productService.findByUuid(uuid);\n\n        // ... code omitted for brevity\n\n        return generateHtml(product);\n    }\n}\n</code></pre>\n<br/>\n<p>For using these services:</p>\n<pre><code>// brand way\nPDFService pdfService = new BrandService();\npdfService.createPdf(uuid);\n\n\n// product way\nPDFService pdfService = new ProductService();\npdfService.createPdf(uuid);\n</code></pre>\n<br/>\n<p>So, I think I need to use generic and pass it to PDFService and then their implementations, but I am not sure how to make it properly (using generic or passing via constructor). So, in order to use <code>createPdf</code> efficiently without repeating code (I know I can also use Template Pattern method, but I just wanted to know polymorphism side) how should I apply polymorphism to these Spring Boot Services properly?</p>\n"},{"tags":["java","xml","xsd","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":25843183,"reputation":26,"user_id":19578440,"display_name":"Артём Немцев"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658472328,"creation_date":1658224838,"answer_id":73034891,"question_id":71615640,"body_markdown":"Faced the same problem, try using `setBaseUri(String baseUri)` in XmlSchemaCollection, this helps me.","title":"org.apache.ws.commons.schema.XmlSchemaException: /absolutepath/myadditionalschema.xsd (No such file or directory) when parts of schema are imported","body":"<p>Faced the same problem, try using <code>setBaseUri(String baseUri)</code> in XmlSchemaCollection, this helps me.</p>\n"}],"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73034891,"answer_count":1,"score":0,"last_activity_date":1658472328,"creation_date":1648205080,"question_id":71615640,"body_markdown":"I am using apache xmlschema-core 2.3.0 to parse xsd schema. The schema is in resources folder on the classpath.\r\n\r\nThe filePath is `/myschemas/xsd/myschema.xsd` and it points to classpath resource in resource folder. It has import to `myadditionalschema.xsd`. The additional schema is in the same place.\r\n\r\n     try (InputStream inputStream = this.getClass().getResourceAsStream(filePath)) {\r\n                XmlSchema schema = new XmlSchemaCollection().read(new StreamSource(inputStream));\r\n                (...some business logic)\r\n                return entries;\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n                throw new IllegalStateException(e);\r\n            }\r\n\r\nAs a result I am getting\r\n\r\n    org.apache.ws.commons.schema.XmlSchemaException: /home/user/myproject/mavenmodule/myadditionalschema.xsd (No such file or directory)  \r\n\r\nThe schema itself has import declaration:\r\n\r\n     &lt;xs:import schemaLocation=&quot;myadditionalschema.xsd&quot;\r\n                  namespace=&quot;http://test&quot;/&gt;\r\n\r\nSo as u can see, schema parts that should be imported are not imported, and they are searched in root folder of my maven module instead classpath `/myschemas/xsd/`\r\n","title":"org.apache.ws.commons.schema.XmlSchemaException: /absolutepath/myadditionalschema.xsd (No such file or directory) when parts of schema are imported","body":"<p>I am using apache xmlschema-core 2.3.0 to parse xsd schema. The schema is in resources folder on the classpath.</p>\n<p>The filePath is <code>/myschemas/xsd/myschema.xsd</code> and it points to classpath resource in resource folder. It has import to <code>myadditionalschema.xsd</code>. The additional schema is in the same place.</p>\n<pre><code> try (InputStream inputStream = this.getClass().getResourceAsStream(filePath)) {\n            XmlSchema schema = new XmlSchemaCollection().read(new StreamSource(inputStream));\n            (...some business logic)\n            return entries;\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            throw new IllegalStateException(e);\n        }\n</code></pre>\n<p>As a result I am getting</p>\n<pre><code>org.apache.ws.commons.schema.XmlSchemaException: /home/user/myproject/mavenmodule/myadditionalschema.xsd (No such file or directory)  \n</code></pre>\n<p>The schema itself has import declaration:</p>\n<pre><code> &lt;xs:import schemaLocation=&quot;myadditionalschema.xsd&quot;\n              namespace=&quot;http://test&quot;/&gt;\n</code></pre>\n<p>So as u can see, schema parts that should be imported are not imported, and they are searched in root folder of my maven module instead classpath <code>/myschemas/xsd/</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1658427503,"post_id":73070948,"comment_id":129055182,"body_markdown":"Then why do you enclose them in a character class?","body":"Then why do you enclose them in a character class?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658427536,"post_id":73070948,"comment_id":129055191,"body_markdown":"And once you get them out of the character class remember to escape the `?` as well.","body":"And once you get them out of the character class remember to escape the <code>?</code> as well."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658430120,"post_id":73070948,"comment_id":129055969,"body_markdown":"`split(&quot;[?]\\\\d+&quot;)`","body":"<code>split(&quot;[?]\\\\d+&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658428636,"creation_date":1658427547,"answer_id":73070977,"question_id":73070948,"body_markdown":"Don&#39;t surround it in `[]`:\r\n\r\n```java\r\nstr.split(&quot;\\\\?\\\\d&quot;)\r\n```\r\n\r\nIf you need to experiment, there are all sorts of online sites to test your regex. The first one that showed up in a search for me today is https://regex101.com/","title":"Java string splitting with &#39;?&#39; character using regex","body":"<p>Don't surround it in <code>[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.split(&quot;\\\\?\\\\d&quot;)\n</code></pre>\n<p>If you need to experiment, there are all sorts of online sites to test your regex. The first one that showed up in a search for me today is <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658472263,"creation_date":1658472263,"answer_id":73076119,"question_id":73070948,"body_markdown":"You are using a [character class](https://www.regular-expressions.info/charclass.html) `[?\\\\d]` which matches either a backslash or a question mark.\r\n\r\nIf you don&#39;t want the spaces in the output, you can match optional leading and trailing horizontal whitespace characters, and match a question mark followed by 1 or more digits.\r\n\r\n    \\h*\\?\\d+\\h*\r\n\r\n[Regex demo](https://regex101.com/r/pMoqXn/1) | [Java demo](https://ideone.com/HY7SFg)\r\n\r\n    String regex = &quot;\\\\h*\\\\?\\\\d+\\\\h*&quot;;\r\n    String string = &quot;select ?1 from students in ?2&quot;;\r\n    System.out.println((Arrays.toString(string.split(regex))));\r\n\r\nOutput\r\n\r\n    [select, from students in]","title":"Java string splitting with &#39;?&#39; character using regex","body":"<p>You are using a <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\">character class</a> <code>[?\\\\d]</code> which matches either a backslash or a question mark.</p>\n<p>If you don't want the spaces in the output, you can match optional leading and trailing horizontal whitespace characters, and match a question mark followed by 1 or more digits.</p>\n<pre><code>\\h*\\?\\d+\\h*\n</code></pre>\n<p><a href=\"https://regex101.com/r/pMoqXn/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/HY7SFg\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String regex = &quot;\\\\h*\\\\?\\\\d+\\\\h*&quot;;\nString string = &quot;select ?1 from students in ?2&quot;;\nSystem.out.println((Arrays.toString(string.split(regex))));\n</code></pre>\n<p>Output</p>\n<pre><code>[select, from students in]\n</code></pre>\n"}],"owner":{"account_id":25623843,"reputation":23,"user_id":19395265,"display_name":"Qwerty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73070977,"answer_count":2,"score":1,"last_activity_date":1658472263,"creation_date":1658427372,"question_id":73070948,"body_markdown":"I want to split the following string: \r\n\r\n```&quot;select ?1 from students in ?2&quot;```\r\n\r\nI want to split it so that it becomes an array `[&quot;select&quot;, &quot;from students in&quot;]`, how do I achieve this? I&#39;ve tried `str.split(&quot;[?\\\\\\d]&quot;)`, but this splits the string whenever it encounters &#39;?&#39; or a digit, but I wanted &#39;?&#39; and the digit to be treated as a single string","title":"Java string splitting with &#39;?&#39; character using regex","body":"<p>I want to split the following string:</p>\n<p><code>&quot;select ?1 from students in ?2&quot;</code></p>\n<p>I want to split it so that it becomes an array <code>[&quot;select&quot;, &quot;from students in&quot;]</code>, how do I achieve this? I've tried <code>str.split(&quot;[?\\\\\\d]&quot;)</code>, but this splits the string whenever it encounters '?' or a digit, but I wanted '?' and the digit to be treated as a single string</p>\n"},{"tags":["java","json","servlets","post","request"],"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1500367946,"post_id":45161813,"comment_id":77292024,"body_markdown":"but you mean retrieve the JSON in the controller or in the client side by javascript?","body":"but you mean retrieve the JSON in the controller or in the client side by javascript?"},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":0,"creation_date":1500368184,"post_id":45161813,"comment_id":77292219,"body_markdown":"[`ServletRequest::getReader`](http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getReader--) is what you&#39;re looking for.","body":"<a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getReader--\" rel=\"nofollow noreferrer\"><code>ServletRequest::getReader</code></a> is what you&#39;re looking for."},{"owner":{"account_id":9670665,"reputation":1924,"user_id":7175708,"accept_rate":84,"display_name":"Lechucico"},"score":0,"creation_date":1500368249,"post_id":45161813,"comment_id":77292263,"body_markdown":"I want to retrieve the JSON in the doPost method in the server side.","body":"I want to retrieve the JSON in the doPost method in the server side."},{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1500368488,"post_id":45161813,"comment_id":77292448,"body_markdown":"@Lechucico are you using some framework like spring?","body":"@Lechucico are you using some framework like spring?"},{"owner":{"account_id":9670665,"reputation":1924,"user_id":7175708,"accept_rate":84,"display_name":"Lechucico"},"score":0,"creation_date":1500368507,"post_id":45161813,"comment_id":77292463,"body_markdown":"@cralfaro I&#39;m just using java servlets","body":"@cralfaro I&#39;m just using java servlets"},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1500368545,"post_id":45161813,"comment_id":77292497,"body_markdown":"Possible duplicate of [Accessing post variables using Java Servlets](https://stackoverflow.com/questions/5222/accessing-post-variables-using-java-servlets)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5222/accessing-post-variables-using-java-servlets\">Accessing post variables using Java Servlets</a>"},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1500368581,"post_id":45161813,"comment_id":77292518,"body_markdown":"Obtaining this JSON and parsing it are two separate questions that both have been addressed on SO.","body":"Obtaining this JSON and parsing it are two separate questions that both have been addressed on SO."},{"owner":{"account_id":9670665,"reputation":1924,"user_id":7175708,"accept_rate":84,"display_name":"Lechucico"},"score":0,"creation_date":1500369045,"post_id":45161813,"comment_id":77292850,"body_markdown":"This JSON is in the body, not a POST parameter.","body":"This JSON is in the body, not a POST parameter."},{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":1,"creation_date":1500369907,"post_id":45161813,"comment_id":77293457,"body_markdown":"@Lechucico have a look here, is what you need. https://stackoverflow.com/questions/3831680/httpservletrequest-get-json-post-data","body":"@Lechucico have a look here, is what you need. <a href=\"https://stackoverflow.com/questions/3831680/httpservletrequest-get-json-post-data\" title=\"httpservletrequest get json post data\">stackoverflow.com/questions/3831680/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2065237,"reputation":72,"user_id":1840857,"display_name":"kma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658472024,"creation_date":1500368247,"answer_id":45162017,"question_id":45161813,"body_markdown":"```String jsonString = IOUtils.toString(request.getInputStream());\r\n\r\nJSONObject json = new JSONObject(jsonString);\r\nMyObject myObject = new Gson().fromJson(jsonString, MyObject.class);\r\n\r\n\r\n","title":"Servlet doPost obtain JSON","body":"<pre><code>\nJSONObject json = new JSONObject(jsonString);\nMyObject myObject = new Gson().fromJson(jsonString, MyObject.class);\n\n\n</code></pre>\n"}],"owner":{"account_id":9670665,"reputation":1924,"user_id":7175708,"accept_rate":84,"display_name":"Lechucico"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658472024,"creation_date":1500367692,"question_id":45161813,"body_markdown":"I would like to retrieve the following information from a JSON:\r\n\r\n    {\r\n        &quot;list_folder&quot;: {\r\n                &quot;accounts&quot;: [\r\n                            &quot;dbid:Aapamskfpano1-l2_12oKKn123o1pk23&quot;\r\n                            ]\r\n        },\r\n        &quot;delta&quot;: {\r\n                &quot;users&quot;: [\r\n                          12321512\r\n                ]\r\n        }\r\n}\r\n\r\nI need both the accounts array and users array. This JSON is in the body.\r\n\r\nHow I can obtain and parse this?","title":"Servlet doPost obtain JSON","body":"<p>I would like to retrieve the following information from a JSON:</p>\n\n<pre><code>{\n    \"list_folder\": {\n            \"accounts\": [\n                        \"dbid:Aapamskfpano1-l2_12oKKn123o1pk23\"\n                        ]\n    },\n    \"delta\": {\n            \"users\": [\n                      12321512\n            ]\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>I need both the accounts array and users array. This JSON is in the body.</p>\n\n<p>How I can obtain and parse this?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1658413671,"post_id":73067919,"comment_id":129050118,"body_markdown":"`int count = query.executeUpdate();` would be the correct way to go, though I guess that you are not getting a result, because the SQL file does its own transaction","body":"<code>int count = query.executeUpdate();</code> would be the correct way to go, though I guess that you are not getting a result, because the SQL file does its own transaction"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658471871,"creation_date":1658471871,"answer_id":73076059,"question_id":73067919,"body_markdown":"The problem is as @XtremeBaumer correctly pointed out your script. If you just run `executeUpdate` with a delete statement it will return the number of affected rows.\r\n\r\nBut that is not what you are doing. You are executing a code block delimited by `begin` and `end`. There might be a way for such a code block to return a value, but that would need to be coded into the code block and is probably highly database specific.","title":"Log how many items have been impacted in a Spring/Hibernate transaction","body":"<p>The problem is as @XtremeBaumer correctly pointed out your script. If you just run <code>executeUpdate</code> with a delete statement it will return the number of affected rows.</p>\n<p>But that is not what you are doing. You are executing a code block delimited by <code>begin</code> and <code>end</code>. There might be a way for such a code block to return a value, but that would need to be coded into the code block and is probably highly database specific.</p>\n"}],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658471871,"creation_date":1658413354,"question_id":73067919,"body_markdown":"I have this method that is called from another service:\r\n\r\n   \r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\r\n    public void execute(String sql) {\r\n        Query query = entityManager.createNativeQuery(sql);\r\n        query.executeUpdate();\r\n    }\r\n\r\nBasically the client loads multiple sql files and run each sql file in a new transaction, in order to not impact other files execution.\r\n\r\nFor example this is an example of an sql file, that is cleaning up some data:\r\n\r\n    begin;\r\n       delete from table t where t.created_at &lt; current_date - interval &#39;2 month&#39;;\r\n    commit;\r\n\r\nWhat I&#39;m trying to do is to log, the outcome of each transaction. For example here, I want to display how many records were deleted. How can I do that from Spring ? I know that you can log something more specific with: \r\n\r\n    logging.level.org.springframework.transaction=TRACE\r\n\r\n, but still I cannot see any outcome. This reveals information about sql that will run and when transaction started/ended.\r\n\r\nSecond solution was to check the result of:\r\n\r\n    int count = query.executeUpdate();\r\n\r\n, but count is 0, even though the sql code got executed and deletes hundreds of rows.\r\n\r\nThanks upfront for the suggestions !","title":"Log how many items have been impacted in a Spring/Hibernate transaction","body":"<p>I have this method that is called from another service:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\npublic void execute(String sql) {\n    Query query = entityManager.createNativeQuery(sql);\n    query.executeUpdate();\n}\n</code></pre>\n<p>Basically the client loads multiple sql files and run each sql file in a new transaction, in order to not impact other files execution.</p>\n<p>For example this is an example of an sql file, that is cleaning up some data:</p>\n<pre><code>begin;\n   delete from table t where t.created_at &lt; current_date - interval '2 month';\ncommit;\n</code></pre>\n<p>What I'm trying to do is to log, the outcome of each transaction. For example here, I want to display how many records were deleted. How can I do that from Spring ? I know that you can log something more specific with:</p>\n<pre><code>logging.level.org.springframework.transaction=TRACE\n</code></pre>\n<p>, but still I cannot see any outcome. This reveals information about sql that will run and when transaction started/ended.</p>\n<p>Second solution was to check the result of:</p>\n<pre><code>int count = query.executeUpdate();\n</code></pre>\n<p>, but count is 0, even though the sql code got executed and deletes hundreds of rows.</p>\n<p>Thanks upfront for the suggestions !</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1658469065,"post_id":73075644,"comment_id":129063140,"body_markdown":"...beacuse URI makes some  checks on your string?","body":"...beacuse URI makes some  checks on your string?"}],"answers":[{"tags":[],"owner":{"account_id":2065237,"reputation":72,"user_id":1840857,"display_name":"kma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658471854,"creation_date":1658471854,"answer_id":73076055,"question_id":73075644,"body_markdown":"Sure, it validates the string supplied and it throws IllegalArugumentException If the given string violates RFC 2396. So prevalidations would happen beforehand!","title":"Any advantage of using just string instead of URI uri = new URI(String) while doing resttemplate call","body":"<p>Sure, it validates the string supplied and it throws IllegalArugumentException If the given string violates RFC 2396. So prevalidations would happen beforehand!</p>\n"}],"owner":{"account_id":18901200,"reputation":3,"user_id":13789154,"display_name":"Uma Chocku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73076055,"answer_count":1,"score":0,"last_activity_date":1658471854,"creation_date":1658469015,"question_id":73075644,"body_markdown":"please let me know is there any advantage of using just string instead of \r\nURI uri = new URI(String) while doing resttemplate call","title":"Any advantage of using just string instead of URI uri = new URI(String) while doing resttemplate call","body":"<p>please let me know is there any advantage of using just string instead of\nURI uri = new URI(String) while doing resttemplate call</p>\n"},{"tags":["java","reactjs","spring-boot"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1658463391,"post_id":73072280,"comment_id":129062167,"body_markdown":"Use `DateTimeFormatter.ofPattern(&quot;EEE MMM d yyyy HH:mm:ss &#39;GMT&#39;XX (zzzz)&quot;, Locale.ROOT)`. For validation parse both into an `OffsetDateTime` (which will use the offset, GMT+0300) and into a `ZonedDateTime` (which will use the time zone name, Eastern European Summer Time) and check that you got the same offset in both cases.","body":"Use <code>DateTimeFormatter.ofPattern(&quot;EEE MMM d yyyy HH:mm:ss &#39;GMT&#39;XX (zzzz)&quot;, Locale.ROOT)</code>. For validation parse both into an <code>OffsetDateTime</code> (which will use the offset, GMT+0300) and into a <code>ZonedDateTime</code> (which will use the time zone name, Eastern European Summer Time) and check that you got the same offset in both cases."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1658463583,"post_id":73072280,"comment_id":129062183,"body_markdown":"Apparently related: [Converting specific string to Date using SimpleDateFormat](https://stackoverflow.com/questions/44509378/converting-specific-string-to-date-using-simpledateformat) (only promise me not to use `SimpleDateFormat`, the old and notoriously troublesome class).","body":"Apparently related: <a href=\"https://stackoverflow.com/questions/44509378/converting-specific-string-to-date-using-simpledateformat\">Converting specific string to Date using SimpleDateFormat</a> (only promise me not to use <code>SimpleDateFormat</code>, the old and notoriously troublesome class)."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1658470784,"post_id":73072280,"comment_id":129063513,"body_markdown":"Thanks a lot for your helpful comment. I post the working solution.","body":"Thanks a lot for your helpful comment. I post the working solution."}],"answers":[{"tags":[],"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658440610,"creation_date":1658436315,"answer_id":73072440,"question_id":73072280,"body_markdown":"Simplest way to do is just do this :-\r\n\r\n    String timeString = input.substring(4,24);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd YYYY HH:mm:ss&quot;);\r\n    System.out.println(LocalDateTime.parse(timeString, formatter);","title":"How to convert Reactjs DateTimePicker date time convert to Java OffsetDateTime or LocalDateTime","body":"<p>Simplest way to do is just do this :-</p>\n<pre><code>String timeString = input.substring(4,24);\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd YYYY HH:mm:ss&quot;);\nSystem.out.println(LocalDateTime.parse(timeString, formatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658470696,"creation_date":1658470696,"answer_id":73075866,"question_id":73072280,"body_markdown":"After the comment by Ole V.V. I mangaged to get both OffsetDateTime and ZonedDateTime. I am sharing the soluion. All credit goes to Ole V.V. Thanks a lot Ole V.V. \r\n\r\n    String dateStr = &quot;Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer Time)&quot;;\r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM d yyyy HH:mm:ss &#39;GMT&#39;XX (zzzz)&quot;, Locale.ROOT);\r\n    OffsetDateTime date1 = OffsetDateTime.parse(dateStr, dateTimeFormatter);\r\n    System.out.println(date1);\r\n    // print 2022-07-21T13:11:32+03:00\r\n\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse(dateStr, dateTimeFormatter.withZone(ZoneId.systemDefault()));\r\n    System.out.println(zdt);\r\n     // print 2022-07-21T13:11:32+03:00[Europe/Bucharest]","title":"How to convert Reactjs DateTimePicker date time convert to Java OffsetDateTime or LocalDateTime","body":"<p>After the comment by Ole V.V. I mangaged to get both OffsetDateTime and ZonedDateTime. I am sharing the soluion. All credit goes to Ole V.V. Thanks a lot Ole V.V.</p>\n<pre><code>String dateStr = &quot;Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer Time)&quot;;\n\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM d yyyy HH:mm:ss 'GMT'XX (zzzz)&quot;, Locale.ROOT);\nOffsetDateTime date1 = OffsetDateTime.parse(dateStr, dateTimeFormatter);\nSystem.out.println(date1);\n// print 2022-07-21T13:11:32+03:00\n\n\nZonedDateTime zdt = ZonedDateTime.parse(dateStr, dateTimeFormatter.withZone(ZoneId.systemDefault()));\nSystem.out.println(zdt);\n // print 2022-07-21T13:11:32+03:00[Europe/Bucharest]\n</code></pre>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73075866,"answer_count":2,"score":1,"last_activity_date":1658470696,"creation_date":1658435303,"question_id":73072280,"body_markdown":"My frontend ReactJs code snippet:-\r\n\r\n    import React, { useState } from &#39;react&#39;;\r\n    import DateTimePicker from &#39;react-datetime-picker&#39;;\r\n    import &#39;./App.css&#39;;\r\n    \r\n    function App() {\r\n    \r\n      const [value, onChange] = useState(new Date());\r\n    \r\n      console.log(&quot;onChage: &quot;+value);\r\n    \r\n      return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n          &lt;DateTimePicker\r\n            onChange={onChange}\r\n            value={value}\r\n            format={&#39;dd/mm/yyyy hh:mm&#39;}\r\n          /&gt;\r\n        &lt;/div&gt;\r\n      );\r\n    }\r\n    \r\n    export default App;\r\n\r\nI can see console log as \r\n\r\n&gt; onChage: Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer\r\n&gt; Time)\r\n\r\nI need to send this date time to Java Spingboot backend. For the backend I need to convert this date time to OffsetDateTime or LocalDateTime. How can I convert this?   \r\n\r\n**Updated:**\r\n\r\nI tried and managed to convert to Data. By this:-\r\n\r\n    String dateStr = &quot;Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer Time)&quot;;\r\n    String[] tokens = dateStr.split(&quot;GMT&quot;);\r\n    String dateTimeStr = &quot;&quot;;\r\n    if (tokens.length == 2){\r\n        dateTimeStr = tokens[0].trim();\r\n    }\r\n    System.out.println(dateTimeStr);\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss&quot;, Locale.ENGLISH);\r\n\r\n    Date date = formatter.parse(dateTimeStr);\r\n    String formattedDateString = formatter.format(date);\r\n    System.out.println(&quot;date: &quot;+formattedDateString);\r\n\r\nThere I lost time zone and offset. How do I keep the time zone and offset GMT+0300 (Eastern European Summer Time)?\r\n","title":"How to convert Reactjs DateTimePicker date time convert to Java OffsetDateTime or LocalDateTime","body":"<p>My frontend ReactJs code snippet:-</p>\n<pre><code>import React, { useState } from 'react';\nimport DateTimePicker from 'react-datetime-picker';\nimport './App.css';\n\nfunction App() {\n\n  const [value, onChange] = useState(new Date());\n\n  console.log(&quot;onChage: &quot;+value);\n\n  return (\n    &lt;div className=&quot;App&quot;&gt;\n      &lt;DateTimePicker\n        onChange={onChange}\n        value={value}\n        format={'dd/mm/yyyy hh:mm'}\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n<p>I can see console log as</p>\n<blockquote>\n<p>onChage: Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer\nTime)</p>\n</blockquote>\n<p>I need to send this date time to Java Spingboot backend. For the backend I need to convert this date time to OffsetDateTime or LocalDateTime. How can I convert this?</p>\n<p><strong>Updated:</strong></p>\n<p>I tried and managed to convert to Data. By this:-</p>\n<pre><code>String dateStr = &quot;Thu Jul 21 2022 13:11:32 GMT+0300 (Eastern European Summer Time)&quot;;\nString[] tokens = dateStr.split(&quot;GMT&quot;);\nString dateTimeStr = &quot;&quot;;\nif (tokens.length == 2){\n    dateTimeStr = tokens[0].trim();\n}\nSystem.out.println(dateTimeStr);\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss&quot;, Locale.ENGLISH);\n\nDate date = formatter.parse(dateTimeStr);\nString formattedDateString = formatter.format(date);\nSystem.out.println(&quot;date: &quot;+formattedDateString);\n</code></pre>\n<p>There I lost time zone and offset. How do I keep the time zone and offset GMT+0300 (Eastern European Summer Time)?</p>\n"},{"tags":["java","docker-java"],"comments":[{"owner":{"account_id":7798009,"reputation":13505,"user_id":5900011,"accept_rate":75,"display_name":"Matthew Taylor"},"score":0,"creation_date":1637157555,"post_id":70005729,"comment_id":123750433,"body_markdown":"Why not 3.2.12? Because 3.2.7 was the latest when I started. I am not a prgrammer (I&#39;m a HW engineer) and so have been making slow progress. I have managed to make some changes (they compile, but I have no idea whether they work or not, yet.) But I have been looking for days now (on and off), to find some method that returns an InputStream . But there doesn&#39;t seem to be one. There also seems to be very little documentation. I don&#39;t understand how I&#39;d be able to work this out even if I were a programmer.","body":"Why not 3.2.12? Because 3.2.7 was the latest when I started. I am not a prgrammer (I&#39;m a HW engineer) and so have been making slow progress. I have managed to make some changes (they compile, but I have no idea whether they work or not, yet.) But I have been looking for days now (on and off), to find some method that returns an InputStream . But there doesn&#39;t seem to be one. There also seems to be very little documentation. I don&#39;t understand how I&#39;d be able to work this out even if I were a programmer."}],"answers":[{"tags":[],"owner":{"account_id":5384557,"reputation":31,"user_id":4288897,"display_name":"Sergey Kochkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658470628,"creation_date":1658470628,"answer_id":73075859,"question_id":70005729,"body_markdown":"Try it:\r\n\r\n        var outputStream = new PipedOutputStream();\r\n        var inputStream = new PipedInputStream(outputStream);\r\n\r\n        var response =\r\n                dockerClient.attachContainerCmd(container.getId())\r\n                        .withLogs(false)\r\n                        .withStdErr(true)\r\n                        .withStdOut(true)\r\n                        .withFollowStream(true)\r\n                        .exec(new ResultCallback.Adapter&lt;&gt;() {\r\n                            @Override\r\n                            public void onNext(Frame object) {\r\n                                System.out.println(object);  //for example\r\n                                try {\r\n                                    outputStream.write(object.getPayload());\r\n                                } catch (IOException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n        try {\r\n            response.awaitCompletion();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nVariable inputStream will be what you are looking for.\r\nP.S. In my case I do withLogs(false) because it blocks the current output and I get only part of the log. It probably has something to do with the container I&#39;m connecting to.","title":"Accessing the output of a command running in a docker container","body":"<p>Try it:</p>\n<pre><code>    var outputStream = new PipedOutputStream();\n    var inputStream = new PipedInputStream(outputStream);\n\n    var response =\n            dockerClient.attachContainerCmd(container.getId())\n                    .withLogs(false)\n                    .withStdErr(true)\n                    .withStdOut(true)\n                    .withFollowStream(true)\n                    .exec(new ResultCallback.Adapter&lt;&gt;() {\n                        @Override\n                        public void onNext(Frame object) {\n                            System.out.println(object);  //for example\n                            try {\n                                outputStream.write(object.getPayload());\n                            } catch (IOException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    });\n\n    try {\n        response.awaitCompletion();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>Variable inputStream will be what you are looking for.\nP.S. In my case I do withLogs(false) because it blocks the current output and I get only part of the log. It probably has something to do with the container I'm connecting to.</p>\n"}],"owner":{"account_id":7798009,"reputation":13505,"user_id":5900011,"accept_rate":75,"display_name":"Matthew Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658470628,"creation_date":1637157476,"question_id":70005729,"body_markdown":"I&#39;m trying to upgrade from docker-java 0.10.3 to 3.2.7. This line has me completely stumped:\r\n\r\n    InputStream response = \r\n      dockerClient.attachContainerCmd(container.getId())\r\n        .withLogs(true)\r\n        .withStdErr(true)\r\n        .withStdOut(true)\r\n        .withFollowStream(true)\r\n        .exec();\r\n\r\nI have managed to get round one error by changing it to\r\n\r\n    InputStream response = \r\n      dockerClient.attachContainerCmd(container.getId())\r\n        .withLogs(true)\r\n        .withStdErr(true)\r\n        .withStdOut(true)\r\n        .withFollowStream(true)\r\n        .exec(new AttachContainerResultCallback());\r\n\r\n(but my IDE says that `AttachContainerResultCallback` is deprecated.) The problem is that `.exec()` used to return an `InputStream`. Now it returns a `void`. I need the `InputStream`, because the output of the commands running in the container needs to find it&#39;s way to the screen. This needs to be realtime, because the user needs to see the output of the commands as they are running; I can&#39;t just copy a file at the end.\r\n\r\nHow can I get hold of this `InputStream`?\r\n\r\n----------\r\n\r\nThe error is:\r\n\r\n    java: incompatible types: inference variable T has incompatible bounds\r\n        lower bounds: java.io.InputStream,com.github.dockerjava.api.async.ResultCallback&lt;com.github.dockerjava.api.model.Frame&gt;\r\n        lower bounds: com.github.dockerjava.core.command.AttachContainerResultCallback\r\n\r\n","title":"Accessing the output of a command running in a docker container","body":"<p>I'm trying to upgrade from docker-java 0.10.3 to 3.2.7. This line has me completely stumped:</p>\n<pre><code>InputStream response = \n  dockerClient.attachContainerCmd(container.getId())\n    .withLogs(true)\n    .withStdErr(true)\n    .withStdOut(true)\n    .withFollowStream(true)\n    .exec();\n</code></pre>\n<p>I have managed to get round one error by changing it to</p>\n<pre><code>InputStream response = \n  dockerClient.attachContainerCmd(container.getId())\n    .withLogs(true)\n    .withStdErr(true)\n    .withStdOut(true)\n    .withFollowStream(true)\n    .exec(new AttachContainerResultCallback());\n</code></pre>\n<p>(but my IDE says that <code>AttachContainerResultCallback</code> is deprecated.) The problem is that <code>.exec()</code> used to return an <code>InputStream</code>. Now it returns a <code>void</code>. I need the <code>InputStream</code>, because the output of the commands running in the container needs to find it's way to the screen. This needs to be realtime, because the user needs to see the output of the commands as they are running; I can't just copy a file at the end.</p>\n<p>How can I get hold of this <code>InputStream</code>?</p>\n<hr />\n<p>The error is:</p>\n<pre><code>java: incompatible types: inference variable T has incompatible bounds\n    lower bounds: java.io.InputStream,com.github.dockerjava.api.async.ResultCallback&lt;com.github.dockerjava.api.model.Frame&gt;\n    lower bounds: com.github.dockerjava.core.command.AttachContainerResultCallback\n</code></pre>\n"},{"tags":["java","spring-boot","web-services","soap","spring-ws"],"owner":{"account_id":2505516,"reputation":69,"user_id":2179369,"display_name":"Suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658469954,"creation_date":1634881652,"question_id":69671963,"body_markdown":"I have a couple of WSDL&#39;s and to implement SOAP services I am going with the Spring-WS. I am looking for a way to publish the URL&#39;s in Spring similar to the EndPointImpl that is available in Apache CXF.\r\n\r\nhttps://cxf.apache.org/javadoc/latest/org/apache/cxf/jaxws/EndpointImpl.html ","title":"Publish SOAP endpoint while using Spring WS","body":"<p>I have a couple of WSDL's and to implement SOAP services I am going with the Spring-WS. I am looking for a way to publish the URL's in Spring similar to the EndPointImpl that is available in Apache CXF.</p>\n<p><a href=\"https://cxf.apache.org/javadoc/latest/org/apache/cxf/jaxws/EndpointImpl.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/javadoc/latest/org/apache/cxf/jaxws/EndpointImpl.html</a></p>\n"},{"tags":["java","docker","jar","docker-compose"],"comments":[{"owner":{"account_id":6614691,"reputation":3310,"user_id":5108404,"display_name":"Toan Quoc Ho"},"score":1,"creation_date":1569514845,"post_id":58119958,"comment_id":102630557,"body_markdown":"Volume will help you to map a volume to a volume or map a folder from your host into your container as a volume so you might need to update it a bit to make it work. `- &quot;.:/usr/app&quot;` and then your command: `command: [&#39;java&#39;, &#39;-jar&#39;, &#39;/usr/app/meanwhile-in-hell.jar&#39;]`, give it a try","body":"Volume will help you to map a volume to a volume or map a folder from your host into your container as a volume so you might need to update it a bit to make it work. <code>- &quot;.:&#47;usr&#47;app&quot;</code> and then your command: <code>command: [&#39;java&#39;, &#39;-jar&#39;, &#39;&#47;usr&#47;app&#47;meanwhile-in-hell.jar&#39;]</code>, give it a try"}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10976,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1658469845,"creation_date":1569511054,"question_id":58119958,"body_markdown":"I am trying to set up a very simple Docker container, that will execute a Jar file.  I want an image that will run a simple Jar.  I dont need anything else special.\r\n\r\nSo far my docker-compose.yml looks like this, but it doesn&#39;t start correctly:\r\n\r\n```\r\nversion: &quot;3.3&quot;\r\n\r\nservices:\r\n  myapp:\r\n    image: openjdk:8\r\n    container_name: &quot;myapp&quot;\r\n    restart: always\r\n    ports:\r\n      - 8091:8091\r\n    volumes:\r\n      - &quot;./meanwhile-in-hell.jar:/app.jar&quot;\r\n    command: [&#39;java&#39;, &#39;-jar&#39;, &#39;/app.jar&#39;]\r\n```\r\n\r\n    STATUS\r\n    Restarting (1) 2 seconds ago\r\n\r\nUsing the `command: [&#39;java&#39;, &#39;-jar&#39;, &#39;/app.jar&#39;]` option, I see this in the Docker logs:\r\n\r\n    Error: Invalid or corrupt jarfile /app.jar\r\n\r\nIf I change to use `entrypoint: [ &quot;sh&quot;, &quot;-c&quot;, &quot;java  -jar /app.jar&quot; ]`, I see the same error.\r\n\r\nThe Jar file is absolutely fine and not corrupt.  I have run it manually on another `tomcat:8-alpine` container I have running and it starts up successfully. ","title":"Simple docker-compose to execute a Jar","body":"<p>I am trying to set up a very simple Docker container, that will execute a Jar file.  I want an image that will run a simple Jar.  I dont need anything else special.</p>\n\n<p>So far my docker-compose.yml looks like this, but it doesn't start correctly:</p>\n\n<pre><code>version: \"3.3\"\n\nservices:\n  myapp:\n    image: openjdk:8\n    container_name: \"myapp\"\n    restart: always\n    ports:\n      - 8091:8091\n    volumes:\n      - \"./meanwhile-in-hell.jar:/app.jar\"\n    command: ['java', '-jar', '/app.jar']\n</code></pre>\n\n<pre><code>STATUS\nRestarting (1) 2 seconds ago\n</code></pre>\n\n<p>Using the <code>command: ['java', '-jar', '/app.jar']</code> option, I see this in the Docker logs:</p>\n\n<pre><code>Error: Invalid or corrupt jarfile /app.jar\n</code></pre>\n\n<p>If I change to use <code>entrypoint: [ \"sh\", \"-c\", \"java  -jar /app.jar\" ]</code>, I see the same error.</p>\n\n<p>The Jar file is absolutely fine and not corrupt.  I have run it manually on another <code>tomcat:8-alpine</code> container I have running and it starts up successfully. </p>\n"},{"tags":["java","arrays","oop"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658467538,"post_id":73075427,"comment_id":129062816,"body_markdown":"In short you need to use the `new` keyword to initilize the BankAccount before interacting the the array like so `acct[i] = new BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);` instead of `acct[i].BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);`","body":"In short you need to use the <code>new</code> keyword to initilize the BankAccount before interacting the the array like so <code>acct[i] = new BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);</code> instead of <code>acct[i].BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);</code>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658467973,"post_id":73075427,"comment_id":129062904,"body_markdown":"As suggested by VinitSolanki, the other issue is that your `for` loop will also cause an error. Arrays start at 0, not 1, so change `for (int i=1; i&lt;11; i++)` to be `for (int i=1; i&lt;10; i++)` otherwise you will get an out of bounds error once you fix the null pointer error.","body":"As suggested by VinitSolanki, the other issue is that your <code>for</code> loop will also cause an error. Arrays start at 0, not 1, so change <code>for (int i=1; i&lt;11; i++)</code> to be <code>for (int i=1; i&lt;10; i++)</code> otherwise you will get an out of bounds error once you fix the null pointer error."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1658468423,"post_id":73075427,"comment_id":129062994,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."}],"answers":[{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658468903,"creation_date":1658467647,"answer_id":73075484,"question_id":73075427,"body_markdown":"I can see multiple issues there in the code as below.\r\n\r\n1. You have added the &quot;constructor&quot; comment just above `BankAccount(String accNo, String name, String type, double balance)`, If you add a return type in the constructor then it will treat as a normal method. remove void from if you really want it constructor there. \r\n2. If `BankAccount(String, String, String, double)` is a constructor, you would be required to use a new keyword there to create an object and assign it to an array. eg. `acct[I] = new BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);`\r\n3. if `BankAccount(String, String, String, double)` is not a constructor and you want to make it to a normal method then before assigning the value to an array you are required to create a blank class object and for that you need to create a no-argument constructor and assign value to an array. e.g `acct[I] = new BankAccount();`\r\n4. you will get ArrayIndexOutOfBoundsException because you have started index from 1 till 10. array index starts from 0 so you would be required to use `for (int i=0; i&lt;10; i++)`","title":"Can not insert data to instances of own class when declared as an array","body":"<p>I can see multiple issues there in the code as below.</p>\n<ol>\n<li>You have added the &quot;constructor&quot; comment just above <code>BankAccount(String accNo, String name, String type, double balance)</code>, If you add a return type in the constructor then it will treat as a normal method. remove void from if you really want it constructor there.</li>\n<li>If <code>BankAccount(String, String, String, double)</code> is a constructor, you would be required to use a new keyword there to create an object and assign it to an array. eg. <code>acct[I] = new BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);</code></li>\n<li>if <code>BankAccount(String, String, String, double)</code> is not a constructor and you want to make it to a normal method then before assigning the value to an array you are required to create a blank class object and for that you need to create a no-argument constructor and assign value to an array. e.g <code>acct[I] = new BankAccount();</code></li>\n<li>you will get ArrayIndexOutOfBoundsException because you have started index from 1 till 10. array index starts from 0 so you would be required to use <code>for (int i=0; i&lt;10; i++)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658468492,"creation_date":1658468030,"answer_id":73075528,"question_id":73075427,"body_markdown":"You need to create the object, before you can work with it. `BankAccount[] acct = new BankAccount[10];` creates the array, it does not create object in every position in the array. You need to create the object before you can invoke its&#39; methods.\r\n```\r\nacct[i] = new BankAccount();\r\n```\r\nOther things to note:\r\n\r\n 1. `public void BankAccount` is not a constructor, you have declared a method. Constructor looks like this\r\n```\r\npublic BankAccount(String accNo, String name, String type, double balance) {\r\n  //set fields\r\n}\r\n```\r\n 2. Arrays indexes are zero based, meaning `for (int i=1; i&lt;11; i++)` will skip first element and throw exception on the last iteration. Correct would be\r\n```\r\nfor (int i=0; i&lt;10; i++) {\r\n //do stuff\r\n}\r\n```\r\n 3. You really should format your code properly(best to follow java conventions), you will make your own life easier when developing.","title":"Can not insert data to instances of own class when declared as an array","body":"<p>You need to create the object, before you can work with it. <code>BankAccount[] acct = new BankAccount[10];</code> creates the array, it does not create object in every position in the array. You need to create the object before you can invoke its' methods.</p>\n<pre><code>acct[i] = new BankAccount();\n</code></pre>\n<p>Other things to note:</p>\n<ol>\n<li><code>public void BankAccount</code> is not a constructor, you have declared a method. Constructor looks like this</li>\n</ol>\n<pre><code>public BankAccount(String accNo, String name, String type, double balance) {\n  //set fields\n}\n</code></pre>\n<ol start=\"2\">\n<li>Arrays indexes are zero based, meaning <code>for (int i=1; i&lt;11; i++)</code> will skip first element and throw exception on the last iteration. Correct would be</li>\n</ol>\n<pre><code>for (int i=0; i&lt;10; i++) {\n //do stuff\n}\n</code></pre>\n<ol start=\"3\">\n<li>You really should format your code properly(best to follow java conventions), you will make your own life easier when developing.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25867457,"reputation":1,"user_id":19598872,"display_name":"Fahad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658468180,"creation_date":1658468165,"answer_id":73075545,"question_id":73075427,"body_markdown":"you are running the loop from 1 to 10. But the array is accessible from 0 to 9","title":"Can not insert data to instances of own class when declared as an array","body":"<p>you are running the loop from 1 to 10. But the array is accessible from 0 to 9</p>\n"}],"owner":{"account_id":17159779,"reputation":83,"user_id":12419718,"display_name":"lakshitha dilhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658468750,"accepted_answer_id":73075528,"answer_count":3,"score":0,"last_activity_date":1658468903,"creation_date":1658467127,"question_id":73075427,"body_markdown":"I just started learning java and I&#39;m trying to figure out the following requirement. I want to create a instances of my own class as an array. Then I want to refer each object using a loop and enter data. My class is &quot;BankAccount&quot;. My instances are &quot;acct[]&quot;. But when I try to insert data in to instances I get the following error. Can some one help me to identify the problem.\r\n\r\n[![Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pYmTb.png\r\n\r\n\r\nMy code is as follows;\r\n```\r\npublic class BankAccount {\r\n\r\n  private String accNo;\r\n  private String name;\r\n  private String type;\r\n  private double balance;\r\n\r\n  //Constructor\r\n  public void BankAccount(String accNo, String name, String type, double balance) {\r\n    this.accNo = accNo;\r\n    this.name = name;\r\n    this.type = type;\r\n    this.balance = balance;\r\n  }\r\n\r\n  //Diposit\r\n  public void diposit(double amount) {\r\n    balance += amount;\r\n  }\r\n\r\n  //Withdraw\r\n  public void withdraw(double amount) {\r\n    if (amount &lt; balance)\r\n      balance -= amount;\r\n    else\r\n      System.out.println(&quot;Balnce not enough for the withdrawal&quot;);\r\n  }\r\n\r\n  //Display data\r\n  public void display() {\r\n    System.out.println(&quot;Acc No&quot; + this.accNo);\r\n    System.out.println(&quot;Name : &quot; + this.name);\r\n    System.out.println(&quot;Type : &quot; + this.balance);\r\n    System.out.println(&quot;balance : &quot; + this.balance);\r\n    System.out.println(&quot;-------------------------------------------------------------------&quot;);\r\n  }\r\n}\r\n```\r\n```\r\npublic class testBankAccount {\r\n\r\n  public static void main(String[] args) {\r\n    //Declaring 10 BankAccount objects as an array\r\n    BankAccount[] acct = new BankAccount[10];\r\n\r\n    //inserting data to each object using a loop\r\n    for (int i = 1; i &lt; 11; i++) {\r\n      acct[i].BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);\r\n      acct[i].diposit(1000);\r\n      acct[i].withdraw(500);\r\n      acct[i].display();\r\n    }\r\n  }\r\n}\r\n```","title":"Can not insert data to instances of own class when declared as an array","body":"<p>I just started learning java and I'm trying to figure out the following requirement. I want to create a instances of my own class as an array. Then I want to refer each object using a loop and enter data. My class is &quot;BankAccount&quot;. My instances are &quot;acct[]&quot;. But when I try to insert data in to instances I get the following error. Can some one help me to identify the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/pYmTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYmTb.png\" alt=\"Error\" /></a></p>\n<p>My code is as follows;</p>\n<pre><code>public class BankAccount {\n\n  private String accNo;\n  private String name;\n  private String type;\n  private double balance;\n\n  //Constructor\n  public void BankAccount(String accNo, String name, String type, double balance) {\n    this.accNo = accNo;\n    this.name = name;\n    this.type = type;\n    this.balance = balance;\n  }\n\n  //Diposit\n  public void diposit(double amount) {\n    balance += amount;\n  }\n\n  //Withdraw\n  public void withdraw(double amount) {\n    if (amount &lt; balance)\n      balance -= amount;\n    else\n      System.out.println(&quot;Balnce not enough for the withdrawal&quot;);\n  }\n\n  //Display data\n  public void display() {\n    System.out.println(&quot;Acc No&quot; + this.accNo);\n    System.out.println(&quot;Name : &quot; + this.name);\n    System.out.println(&quot;Type : &quot; + this.balance);\n    System.out.println(&quot;balance : &quot; + this.balance);\n    System.out.println(&quot;-------------------------------------------------------------------&quot;);\n  }\n}\n</code></pre>\n<pre><code>public class testBankAccount {\n\n  public static void main(String[] args) {\n    //Declaring 10 BankAccount objects as an array\n    BankAccount[] acct = new BankAccount[10];\n\n    //inserting data to each object using a loop\n    for (int i = 1; i &lt; 11; i++) {\n      acct[i].BankAccount(&quot;Acc&quot;, &quot;name&quot;, &quot;type&quot;, 0);\n      acct[i].diposit(1000);\n      acct[i].withdraw(500);\n      acct[i].display();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","blockchain","bitcoin","bitcoinj"],"answers":[{"tags":[],"owner":{"account_id":8091074,"reputation":1812,"user_id":6096986,"display_name":"Adarsha Jha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564999495,"creation_date":1564999495,"answer_id":57356340,"question_id":57307463,"body_markdown":"you can use **bitcore.js** for generating mnemonics. I am sharing the [link][1] of npm package please have a look.\r\n\r\n    var Mnemonic = require(&#39;bitcore-mnemonic&#39;);\r\n    var code = new Mnemonic(Mnemonic.Words.SPANISH);\r\n    code.toString(); \r\n    var xpriv = code.toHDPrivateKey();\r\n\r\n  [1]: https://www.npmjs.com/package/bitcore-mnemonic","title":"How to create bitcoin wallet from mnemonics using bitcoinj (walletappkit) in android","body":"<p>you can use <strong>bitcore.js</strong> for generating mnemonics. I am sharing the <a href=\"https://www.npmjs.com/package/bitcore-mnemonic\" rel=\"nofollow noreferrer\">link</a> of npm package please have a look.</p>\n\n<pre><code>var Mnemonic = require('bitcore-mnemonic');\nvar code = new Mnemonic(Mnemonic.Words.SPANISH);\ncode.toString(); \nvar xpriv = code.toHDPrivateKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14406223,"reputation":337,"user_id":10406215,"display_name":"Flo Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569147976,"creation_date":1569147976,"answer_id":58048256,"question_id":57307463,"body_markdown":"I&#39;m not sure if I correctly understand what you want to do, but if you want to restore/create a Bitcoinj wallet from a mnemonic seed, then there&#39;s an official example for this [here][1]:\r\n\r\n    // Here we restore our wallet from a seed with no passphrase. Also have a look at the BackupToMnemonicSeed.java example that shows how to backup a wallet by creating a mnemonic sentence.\r\n    String seedCode = &quot;yard impulse luxury drive today throw farm pepper survey wreck glass federal&quot;;\r\n    String passphrase = &quot;&quot;;\r\n    Long creationtime = 1409478661L;\r\n    \r\n    DeterministicSeed seed = new DeterministicSeed(seedCode, null, passphrase, creationtime);\r\n    \r\n    // The wallet class provides a easy fromSeed() function that loads a new wallet from a given seed.\r\n    Wallet wallet = Wallet.fromSeed(params, seed, Script.ScriptType.P2PKH);\r\n\r\n  [1]: https://github.com/bitcoinj/bitcoinj/blob/master/examples/src/main/java/org/bitcoinj/examples/RestoreFromSeed.java\r\n","title":"How to create bitcoin wallet from mnemonics using bitcoinj (walletappkit) in android","body":"<p>I'm not sure if I correctly understand what you want to do, but if you want to restore/create a Bitcoinj wallet from a mnemonic seed, then there's an official example for this <a href=\"https://github.com/bitcoinj/bitcoinj/blob/master/examples/src/main/java/org/bitcoinj/examples/RestoreFromSeed.java\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>// Here we restore our wallet from a seed with no passphrase. Also have a look at the BackupToMnemonicSeed.java example that shows how to backup a wallet by creating a mnemonic sentence.\nString seedCode = \"yard impulse luxury drive today throw farm pepper survey wreck glass federal\";\nString passphrase = \"\";\nLong creationtime = 1409478661L;\n\nDeterministicSeed seed = new DeterministicSeed(seedCode, null, passphrase, creationtime);\n\n// The wallet class provides a easy fromSeed() function that loads a new wallet from a given seed.\nWallet wallet = Wallet.fromSeed(params, seed, Script.ScriptType.P2PKH);\n</code></pre>\n"}],"owner":{"account_id":8384353,"reputation":74,"user_id":6295228,"accept_rate":22,"display_name":"kim jot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3059,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658468535,"creation_date":1564657059,"question_id":57307463,"body_markdown":"I am creating a wallet from mnemonics,for ethereum i have used web3j library for generating mnemonics,address and its private key and now for bitcoin i want to use the same generated mnemonics to generate bitcoin address and its private key for bitcoin i am using Bitcoinj library but not able to get its address and key.\r\n\r\nI also tried Walletappkit but its generating address without getting mnemonics so is there any way of using mnemonics in Walletappkit so i can get bitcoin address and sync the bitcoin chain for transactions.\r\nAlso is there any way of using walletappkit without syncing and gets bitcoin detail like its balance and transaction info.\r\n\r\nBelow is the code how I created ethereum wallet and its mnemonic key using web3j and bitcoinj.\r\n\r\n \r\n\r\n    val wallet = WalletUtils.generateBip39Wallet(&quot;&quot;, File(path))\r\n                val mnemonics = wallet.mnemonic\r\n                //  bitcoinj\r\n                var seed = DeterministicSeed(wallet.mnemonic, null, &quot;&quot;, 1409478661L)\r\n                val chain = DeterministicKeyChain.builder().seed(seed).build()\r\n                val keyPath = HDUtils.parsePath(&quot;M/44H/60H/0H/0/0&quot;)\r\n                val key = chain.getKeyByPath(keyPath, true)\r\n                val privKey = key.privKey\r\n    \r\n                 \r\n                // Web3j\r\n                val credentials = Credentials.create(privKey.toString(16))\r\n                val eth_address = credentials.address","title":"How to create bitcoin wallet from mnemonics using bitcoinj (walletappkit) in android","body":"<p>I am creating a wallet from mnemonics,for ethereum i have used web3j library for generating mnemonics,address and its private key and now for bitcoin i want to use the same generated mnemonics to generate bitcoin address and its private key for bitcoin i am using Bitcoinj library but not able to get its address and key.</p>\n<p>I also tried Walletappkit but its generating address without getting mnemonics so is there any way of using mnemonics in Walletappkit so i can get bitcoin address and sync the bitcoin chain for transactions.\nAlso is there any way of using walletappkit without syncing and gets bitcoin detail like its balance and transaction info.</p>\n<p>Below is the code how I created ethereum wallet and its mnemonic key using web3j and bitcoinj.</p>\n<pre><code>val wallet = WalletUtils.generateBip39Wallet(&quot;&quot;, File(path))\n            val mnemonics = wallet.mnemonic\n            //  bitcoinj\n            var seed = DeterministicSeed(wallet.mnemonic, null, &quot;&quot;, 1409478661L)\n            val chain = DeterministicKeyChain.builder().seed(seed).build()\n            val keyPath = HDUtils.parsePath(&quot;M/44H/60H/0H/0/0&quot;)\n            val key = chain.getKeyByPath(keyPath, true)\n            val privKey = key.privKey\n\n             \n            // Web3j\n            val credentials = Credentials.create(privKey.toString(16))\n            val eth_address = credentials.address\n</code></pre>\n"},{"tags":["java","hibernate","jdbc","azure-sql-database","c3p0"],"owner":{"account_id":2065237,"reputation":72,"user_id":1840857,"display_name":"kma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658468447,"creation_date":1658468447,"question_id":73075566,"body_markdown":"We are using JAVA, Hibernate, C3P0 connection pool, and database Azure SQL in our application. While in the middle of large processing, we are seeing database connection error with the below exception.\r\nWe are using Hibernate sessions for transaction management. We are unable to find any means of retrying the connection to the database as Hibernate session abstracts connection details. \r\n\r\n - hibernate.c3p0.acquireRetryAttempts = 0\r\n - hibernate.c3p0.acquireRetryDelay = 3000\r\n - hibernate.c3p0.breakAfterAcquireFailure = false\r\n\r\nThe exception is as below :\r\n\r\n```The connection is broken and recovery is not possible. The connection is marked by the server as unrecoverable. No attempt was made to restore the connection.\r\norg.hibernate.exception.GenericJDBCException: The connection is broken and recovery is not possible. The connection is marked by the server as unrecoverable. No attempt was made to restore the connection.\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\r\n\tat org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)\r\n\tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)\r\n\tat com.sun.proxy.$Proxy140.executeQuery(Unknown Source)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:829)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2438)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2424)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2254)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2249)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1248)\r\n\tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\r\n\tat com.zenoptics.hibernate.LCatalogCategoriesTreeDAO.findByProperty(LCatalogCategoriesTreeDAO.java:89)\r\n\tat com.zenoptics.hibernate.LCatalogCategoriesTreeDAO.findByParentCategoryId(LCatalogCategoriesTreeDAO.java:109)\r\n\tat com.zenoptics.api.util.ExtractorsUtil.generateJsonStructureFromCategoryTree(ExtractorsUtil.java:1826)\r\n\tat com.zenoptics.api.core.TableauAPIExtractor.begin(TableauAPIExtractor.java:3468)\r\n\tat com.zenoptics.api.core.MainJob.execute(MainJob.java:47)\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is broken and recovery is not possible. The connection is marked by the server as unrecoverable. No attempt was made to restore the connection.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3754)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:456)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\r\n\tat sun.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)\r\n```\r\n\r\nThis error is very much consistent and happeing somewhere in the long running batch process, and the retry logs configured with the hibernate C3P0 is not helping though it is set to indefinite retry \r\n\r\n - hibernate.c3p0.acquireRetryAttempts = 0\r\n\r\nHere what we wanted to achiev is, in the broken connection case, our application should retry indefinitely and pick up the healthy connection after a while and continue doing its own thing.\r\n\r\nAny help would be really appreciated!\r\n\r\nthe dependencies we use are..\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n\t    \r\n &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"Connection Broken Error with C3P0 ,Azure SQL, Hibernate and Java","body":"<p>We are using JAVA, Hibernate, C3P0 connection pool, and database Azure SQL in our application. While in the middle of large processing, we are seeing database connection error with the below exception.\nWe are using Hibernate sessions for transaction management. We are unable to find any means of retrying the connection to the database as Hibernate session abstracts connection details.</p>\n<ul>\n<li>hibernate.c3p0.acquireRetryAttempts = 0</li>\n<li>hibernate.c3p0.acquireRetryDelay = 3000</li>\n<li>hibernate.c3p0.breakAfterAcquireFailure = false</li>\n</ul>\n<p>The exception is as below :</p>\n<pre><code>org.hibernate.exception.GenericJDBCException: The connection is broken and recovery is not possible. The connection is marked by the server as unrecoverable. No attempt was made to restore the connection.\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)\n    at com.sun.proxy.$Proxy140.executeQuery(Unknown Source)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:829)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289)\n    at org.hibernate.loader.Loader.doList(Loader.java:2438)\n    at org.hibernate.loader.Loader.doList(Loader.java:2424)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2254)\n    at org.hibernate.loader.Loader.list(Loader.java:2249)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1248)\n    at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\n    at com.zenoptics.hibernate.LCatalogCategoriesTreeDAO.findByProperty(LCatalogCategoriesTreeDAO.java:89)\n    at com.zenoptics.hibernate.LCatalogCategoriesTreeDAO.findByParentCategoryId(LCatalogCategoriesTreeDAO.java:109)\n    at com.zenoptics.api.util.ExtractorsUtil.generateJsonStructureFromCategoryTree(ExtractorsUtil.java:1826)\n    at com.zenoptics.api.core.TableauAPIExtractor.begin(TableauAPIExtractor.java:3468)\n    at com.zenoptics.api.core.MainJob.execute(MainJob.java:47)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is broken and recovery is not possible. The connection is marked by the server as unrecoverable. No attempt was made to restore the connection.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3754)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:456)\n    at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\n    at sun.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)\n</code></pre>\n<p>This error is very much consistent and happeing somewhere in the long running batch process, and the retry logs configured with the hibernate C3P0 is not helping though it is set to indefinite retry</p>\n<ul>\n<li>hibernate.c3p0.acquireRetryAttempts = 0</li>\n</ul>\n<p>Here what we wanted to achiev is, in the broken connection case, our application should retry indefinitely and pick up the healthy connection after a while and continue doing its own thing.</p>\n<p>Any help would be really appreciated!</p>\n<p>the dependencies we use are..</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        \n &lt;/dependency&gt;\n\n\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1658414992,"post_id":73068219,"comment_id":129050694,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658418377,"post_id":73068219,"comment_id":129052002,"body_markdown":"I think the issue may be the way you&#39;re setting the adapter.","body":"I think the issue may be the way you&#39;re setting the adapter."},{"owner":{"account_id":4213785,"reputation":302,"user_id":3450691,"display_name":"Imranur Rahman"},"score":0,"creation_date":1658468461,"post_id":73068219,"comment_id":129063001,"body_markdown":"Thanks @AlexMamo, I have updated the question with your instruction.","body":"Thanks @AlexMamo, I have updated the question with your instruction."},{"owner":{"account_id":4213785,"reputation":302,"user_id":3450691,"display_name":"Imranur Rahman"},"score":0,"creation_date":1658468554,"post_id":73068219,"comment_id":129063016,"body_markdown":"Thanks @AliasCartellano, what do you think I am doing wrong? Do I need an array of adapters each for a &lt;textView1, textView2&gt; pair?","body":"Thanks @AliasCartellano, what do you think I am doing wrong? Do I need an array of adapters each for a &lt;textView1, textView2&gt; pair?"}],"owner":{"account_id":4213785,"reputation":302,"user_id":3450691,"display_name":"Imranur Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658468420,"creation_date":1658414569,"question_id":73068219,"body_markdown":"I am following this tutorial to dynamically fetch data from firebase and show those in a view: https://www.geeksforgeeks.org/how-to-create-dynamic-horizontal-recyclerview-in-android-using-firebase-realtime-database/\r\n\r\nHowever, I can&#39;t see anything on the view, and I can&#39;t seem to figure out what is the problem.\r\n\r\nMy Adapter Class:\r\n\r\n```\r\npublic class AdapterUsersRelation extends RecyclerView.Adapter&lt;AdapterUsersRelation.ViewHolder&gt; {\r\n    ...\r\n    @NonNull\r\n    @Override\r\n    public AdapterUsersRelation.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // passing our layout file for displaying our users item\r\n        return new AdapterUsersRelation.ViewHolder(LayoutInflater.from(context).inflate(R.layout.connecting_user_list, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull AdapterUsersRelation.ViewHolder holder, int position) {\r\n        // setting data to our views in Recycler view items.\r\n        String user = usersRelation.reverseUserMapping(position);\r\n        holder.textView1.setText(user);\r\n        holder.textView2.setText(usersRelation.getUserList(user).toString());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return usersRelation.getGraphSize();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        // creating variables for our\r\n        // views of recycler items.\r\n        private TextView textView1, textView2;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            // initializing the views of recycler views.\r\n            textView1 = itemView.findViewById(R.id.textView1);\r\n            textView2 = itemView.findViewById(R.id.textView2);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClass for communication with firebase:\r\n```\r\npublic class DAOUsersRelation {\r\n    ...\r\n    private DAOUsersRelation() {\r\n        FirebaseDatabase db = FirebaseDatabase.getInstance(&quot;https://doorbell-interface-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\r\n        databaseReference = db.getReference(UsersRelation.class.getSimpleName());\r\n    }\r\n\r\n    public Task&lt;Void&gt; add(String src, String dest) {\r\n        StringEdge stringEdge = new StringEdge(src, dest);\r\n        Gson gson = new Gson();\r\n        return databaseReference.push().setValue(gson.toJson(stringEdge));\r\n    }\r\n\r\n    public void loadRecyclerViewData(SecondFragment secondFragment) {\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                List&lt;StringEdge&gt; edges = new ArrayList&lt;&gt;();\r\n                Log.d(&quot;shimul&quot;, String.valueOf(snapshot.getChildrenCount()));\r\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()) {\r\n                    String str = dataSnapshot.getValue(String.class);\r\n                    Log.d(&quot;shimul&quot;, str);\r\n                    edges.add(new Gson().fromJson(str, StringEdge.class));\r\n                }\r\n                secondFragment.setUsersRelation(new UsersRelation(edges));\r\n                secondFragment.setAdapterUsersRelation(new AdapterUsersRelation(secondFragment.getUsersRelation(),\r\n                        secondFragment.getContext()));\r\n                secondFragment.getAdapterUsersRelation().notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nFragment:\r\n```public class SecondFragment extends Fragment {\r\n\r\n    private FragmentSecondBinding binding;\r\n    private RecyclerView recyclerView;\r\n    private DAOUsersRelation daoUsersRelation;\r\n    private AdapterUsersRelation adapterUsersRelation;\r\n    private UsersRelation usersRelation;\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n\r\n        binding = FragmentSecondBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        // initializing our variables\r\n        recyclerView = binding.recyclerview;\r\n        recyclerView.setHasFixedSize(true);// donno why\r\n\r\n        daoUsersRelation = DAOUsersRelation.getDAOUsersRelation();\r\n\r\n        // adding horizontal layout manager for our recycler view.\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\r\n\r\n        usersRelation = new UsersRelation();\r\n\r\n        // adding our empty usersrelation to our recycler view adapter class.\r\n        adapterUsersRelation = new AdapterUsersRelation(usersRelation, getContext());\r\n\r\n        // setting adapter to our recycler view.\r\n        recyclerView.setAdapter(adapterUsersRelation);\r\n\r\n        daoUsersRelation.loadRecyclerViewData(this);\r\n\r\n        binding.buttonSecond.setOnClickListener(new View.OnClickListener() {\r\n        ...\r\n        }\r\n    }\r\n```\r\n\r\nfragment_second.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SecondFragment&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerview&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/button_second&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:background=&quot;#fff&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_second&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/previous&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/recyclerview&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_edge&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Add New Edge&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerview&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;301dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;83dp&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nconnecting_user_list.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;end&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/textView1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"RecyclerView is not showing anything when fetching data from firebase","body":"<p>I am following this tutorial to dynamically fetch data from firebase and show those in a view: <a href=\"https://www.geeksforgeeks.org/how-to-create-dynamic-horizontal-recyclerview-in-android-using-firebase-realtime-database/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-create-dynamic-horizontal-recyclerview-in-android-using-firebase-realtime-database/</a></p>\n<p>However, I can't see anything on the view, and I can't seem to figure out what is the problem.</p>\n<p>My Adapter Class:</p>\n<pre><code>public class AdapterUsersRelation extends RecyclerView.Adapter&lt;AdapterUsersRelation.ViewHolder&gt; {\n    ...\n    @NonNull\n    @Override\n    public AdapterUsersRelation.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        // passing our layout file for displaying our users item\n        return new AdapterUsersRelation.ViewHolder(LayoutInflater.from(context).inflate(R.layout.connecting_user_list, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull AdapterUsersRelation.ViewHolder holder, int position) {\n        // setting data to our views in Recycler view items.\n        String user = usersRelation.reverseUserMapping(position);\n        holder.textView1.setText(user);\n        holder.textView2.setText(usersRelation.getUserList(user).toString());\n    }\n\n    @Override\n    public int getItemCount() {\n        return usersRelation.getGraphSize();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        // creating variables for our\n        // views of recycler items.\n        private TextView textView1, textView2;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            // initializing the views of recycler views.\n            textView1 = itemView.findViewById(R.id.textView1);\n            textView2 = itemView.findViewById(R.id.textView2);\n        }\n    }\n}\n</code></pre>\n<p>Class for communication with firebase:</p>\n<pre><code>public class DAOUsersRelation {\n    ...\n    private DAOUsersRelation() {\n        FirebaseDatabase db = FirebaseDatabase.getInstance(&quot;https://doorbell-interface-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\n        databaseReference = db.getReference(UsersRelation.class.getSimpleName());\n    }\n\n    public Task&lt;Void&gt; add(String src, String dest) {\n        StringEdge stringEdge = new StringEdge(src, dest);\n        Gson gson = new Gson();\n        return databaseReference.push().setValue(gson.toJson(stringEdge));\n    }\n\n    public void loadRecyclerViewData(SecondFragment secondFragment) {\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                List&lt;StringEdge&gt; edges = new ArrayList&lt;&gt;();\n                Log.d(&quot;shimul&quot;, String.valueOf(snapshot.getChildrenCount()));\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()) {\n                    String str = dataSnapshot.getValue(String.class);\n                    Log.d(&quot;shimul&quot;, str);\n                    edges.add(new Gson().fromJson(str, StringEdge.class));\n                }\n                secondFragment.setUsersRelation(new UsersRelation(edges));\n                secondFragment.setAdapterUsersRelation(new AdapterUsersRelation(secondFragment.getUsersRelation(),\n                        secondFragment.getContext()));\n                secondFragment.getAdapterUsersRelation().notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>Fragment:</p>\n<pre><code>\n    private FragmentSecondBinding binding;\n    private RecyclerView recyclerView;\n    private DAOUsersRelation daoUsersRelation;\n    private AdapterUsersRelation adapterUsersRelation;\n    private UsersRelation usersRelation;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n\n        binding = FragmentSecondBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        // initializing our variables\n        recyclerView = binding.recyclerview;\n        recyclerView.setHasFixedSize(true);// donno why\n\n        daoUsersRelation = DAOUsersRelation.getDAOUsersRelation();\n\n        // adding horizontal layout manager for our recycler view.\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\n\n        usersRelation = new UsersRelation();\n\n        // adding our empty usersrelation to our recycler view adapter class.\n        adapterUsersRelation = new AdapterUsersRelation(usersRelation, getContext());\n\n        // setting adapter to our recycler view.\n        recyclerView.setAdapter(adapterUsersRelation);\n\n        daoUsersRelation.loadRecyclerViewData(this);\n\n        binding.buttonSecond.setOnClickListener(new View.OnClickListener() {\n        ...\n        }\n    }\n</code></pre>\n<p>fragment_second.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SecondFragment&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/button_second&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:background=&quot;#fff&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_second&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/previous&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/recyclerview&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_edge&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Add New Edge&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerview&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        tools:layout_editor_absoluteX=&quot;301dp&quot;\n        tools:layout_editor_absoluteY=&quot;83dp&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>connecting_user_list.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;end&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/textView1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","websphere","commerce","hcl","wcs"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658380183,"post_id":73060484,"comment_id":129038011,"body_markdown":"What is your question exactly? Why tag with things like &quot;commerce&quot; and &quot;websphere&quot; – are those relevant? What have you tried already? How did it go?","body":"What is your question exactly? Why tag with things like &quot;commerce&quot; and &quot;websphere&quot; – are those relevant? What have you tried already? How did it go?"},{"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"score":0,"creation_date":1658380392,"post_id":73060484,"comment_id":129038042,"body_markdown":"Which java version are you using ?","body":"Which java version are you using ?"},{"owner":{"account_id":17171113,"reputation":13,"user_id":12428240,"display_name":"Pawan"},"score":0,"creation_date":1658381367,"post_id":73060484,"comment_id":129038234,"body_markdown":"I am using java8 version.","body":"I am using java8 version."},{"owner":{"account_id":17171113,"reputation":13,"user_id":12428240,"display_name":"Pawan"},"score":0,"creation_date":1658381742,"post_id":73060484,"comment_id":129038317,"body_markdown":"Why websphere --&gt; I have created this POST call in HCL commerce only. After writing POST call when I am using it through postman, Only first line is getting added in file. Handler class","body":"Why websphere --&gt; I have created this POST call in HCL commerce only. After writing POST call when I am using it through postman, Only first line is getting added in file. Handler class"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658429731,"post_id":73060484,"comment_id":129055824,"body_markdown":"I&#39;m still not quite sure what the question is, but.. I gather you&#39;re writing something to a file somewhere, it contains one line of output, and you&#39;re expecting there should be more than one line? Something like that? Looking at your code, there is only one place that writes to a file – `myWriter.write(esData.toString())` – but there is no definition of `esData` in the posted code. What is `esData`? Something to confirm: `esData` contains what you expect. If it has some other value, then that&#39;s your next step (track down why esData isn&#39;t correct).","body":"I&#39;m still not quite sure what the question is, but.. I gather you&#39;re writing something to a file somewhere, it contains one line of output, and you&#39;re expecting there should be more than one line? Something like that? Looking at your code, there is only one place that writes to a file – <code>myWriter.write(esData.toString())</code> – but there is no definition of <code>esData</code> in the posted code. What is <code>esData</code>? Something to confirm: <code>esData</code> contains what you expect. If it has some other value, then that&#39;s your next step (track down why esData isn&#39;t correct)."},{"owner":{"account_id":17171113,"reputation":13,"user_id":12428240,"display_name":"Pawan"},"score":0,"creation_date":1658468131,"post_id":73060484,"comment_id":129062937,"body_markdown":"esdata I took from setRequestProperty. What issue I see while reading content complete text is not read in request in handler. I have kept on sysout in handler which is not printing complete body sent from postman.","body":"esdata I took from setRequestProperty. What issue I see while reading content complete text is not read in request in handler. I have kept on sysout in handler which is not printing complete body sent from postman."}],"owner":{"account_id":17171113,"reputation":13,"user_id":12428240,"display_name":"Pawan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658468026,"creation_date":1658375202,"question_id":73060484,"body_markdown":"I want to write POST call with plain/text data type consumption, which will read request and write to a file.  Using below code it write in file only one line not complete body. Any suggestion.\r\n\r\nHandler class \r\n\r\n```\r\n@Path(&quot;store/{storeId}/datareceive&quot;)\r\n@Description(&quot;Receives data from NiFi&quot;)\r\npublic class ElasticSearchDataRequestHandler extends AbstractConfigBasedClassicHandler {\r\n\r\n\t@Override\r\n\tpublic String getResourceName() {\r\n\t\treturn RESOURCE_NAME;\r\n\t}\r\n\r\n\t@POST\r\n\t@Produces({ MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN, MediaType.APPLICATION_XML, MediaType.APPLICATION_XHTML_XML, MediaType.APPLICATION_ATOM_XML })\r\n\tpublic Response addNiFiDataToFile(@PathParam(STORE_ID) String storeId) throws Exception {\r\n\t\tfinal String methodName = &quot;addNiFiDataToFile&quot;;\r\n\t\tLOGGER.debug(CLASSNAME, methodName);\r\n\r\n\t\tTypedProperty requestProperties = new TypedProperty();\r\n\t\t\r\n\r\n\t\tHashMap requstJson = new HashMap();\r\n\t\t\r\n\t\tSystem.out.println(&quot;request ----&gt;&quot; + request);\r\n\r\n\t\trequstJson.putAll(getMapFromRequest(request, MediaType.TEXT_PLAIN));\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;-----requstJson-----&quot; + requstJson);\r\n\t\trequestProperties.put(&quot;requstJson&quot;, requstJson);\r\n\t\treturn executeControllerCommandWithContext(storeId, ElasticSearchDataRequestCmd.NAME, requestProperties, MediaType.APPLICATION_JSON);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nCommand\r\n\r\n\r\n```\r\n\r\n//private TypedProperty\treqProp;\r\n\tprivate Object esData;\r\n\t//private TypedProperty\trespProperty;\r\n\r\n\t@Override\r\n\tpublic void setRequestProperties(TypedProperty reqProperties) throws ECException {\r\n\t\tif (reqProperties != null) {\r\n\t\t\tesData = reqProperties.get(&quot;requstJson&quot;);\r\n\t\t\t//System.out.println(&quot;reqProp =====&quot; + reqProp);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\npublic void performExecute() throws ECException {\r\n\tif (Objects.isNull(getResponseProperties()) || !getResponseProperties().containsKey(LogicConstants.CODE)) {\r\n\t\taddDataToFile();\r\n\t}\r\n}\r\n\r\nprivate void addDataToFile() throws ECException {\r\n\tSystem.out.println(&quot;----------------------Test Data--------------------------&quot; + esData);\r\n\t\r\n\tTypedProperty respProperty = new TypedProperty();\r\n\ttry {\r\n\t\tString TEXT_FILE = &quot;C:&quot; + File.separator + &quot;Users&quot; + File.separator + &quot;pawankumar&quot; + File.separator + &quot;Documents&quot; + File.separator + getFileWithDate(&quot;product&quot;) + &quot;.txt&quot;;\r\n\t\t// Use relative path for Unix systems\r\n\t\tSystem.out.println(&quot;TEXT_FILE ---------------&gt; &quot; + TEXT_FILE);\r\n\t\tPath textFilePath = Paths.get(TEXT_FILE);\r\n\t\tFiles.createFile(textFilePath);\r\n\t\tFileWriter myWriter = new FileWriter(TEXT_FILE);\r\n\t\tSystem.out.println(&quot;===================&quot; + esData);\r\n\t\t//myWriter.write(reqProp);\r\n\t\tmyWriter.write(esData.toString());\r\n\t\tmyWriter.close();\r\n\r\n\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n\r\n\t\t\r\n\t\trespProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\r\n\t\trespProperty.put(LogicConstants.MESSAGE, &quot;Data added to file&quot;);\r\n\r\n\t} catch (IOException e) {\r\n\t\trespProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\r\n\t\trespProperty.put(LogicConstants.MESSAGE, &quot;Data added to file&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\n\t/*TypedProperty respProperty = new TypedProperty();\r\n\trespProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\r\n\trespProperty.put(LogicConstants.MESSAGE, &quot;User is successfully subscribed for newsletter.&quot;);*/\r\n\r\n\tsetResponseProperties(respProperty);\r\n}\r\n```\r\n\r\nTo test \r\nPOST : http://localhost/wcs/resources/store/10151/datareceive\r\n\r\nBody : plain/text\r\n\r\nRequest is as below: \r\n```\r\n{ &quot;update&quot;: { &quot;_id&quot;: &quot;10151--1-10001-3074457345616676668&quot;, &quot;_index&quot;: &quot;.auth.10151.product.202206290450&quot;, &quot;retry_on_conflict&quot;: 5, &quot;_source&quot;: false } }\r\n{ &quot;doc&quot;: {&quot;attachments&quot;:[{&quot;identifier&quot;:&quot;0AN4268__26346G_9cefa68b-1993-4294-bcd9-aafe0116c66f/0AN4268__26346G_090A&quot;,&quot;sequence&quot;:34.0,&quot;name.raw&quot;:&quot;Degree_090&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669358&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9cefa68b-1993-4294-bcd9-aafe0116c66f/0AN4268__26346G_090A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_d4279fe2-c87a-473b-909a-aafe0116d302/0AN4268__26346G_180A&quot;,&quot;sequence&quot;:35.0,&quot;name.raw&quot;:&quot;Degree_180&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669359&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/d4279fe2-c87a-473b-909a-aafe0116d302/0AN4268__26346G_180A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A&quot;,&quot;sequence&quot;:32.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669360&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A_PLP&quot;,&quot;sequence&quot;:2.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PLP&quot;,&quot;id&quot;:&quot;3074457345616669361&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A_Thumbnail&quot;,&quot;sequence&quot;:1.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;Thumbnail&quot;,&quot;id&quot;:&quot;3074457345616669362&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A&quot;,&quot;sequence&quot;:33.0,&quot;name.raw&quot;:&quot;Degree_000&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669363&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A_PLP&quot;,&quot;sequence&quot;:1.0,&quot;name.raw&quot;:&quot;Degree_000&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PLP&quot;,&quot;id&quot;:&quot;3074457345616669364&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A.png&quot;}],&quot;__meta&quot;:{&quot;modified&quot;:&quot;2022-06-29T04:51:36.939Z&quot;}}, &quot;doc_as_upsert&quot;: true }\r\n```\r\n","title":"in POST call whatever request body is coming should be written in test file in java","body":"<p>I want to write POST call with plain/text data type consumption, which will read request and write to a file.  Using below code it write in file only one line not complete body. Any suggestion.</p>\n<p>Handler class</p>\n<pre><code>@Path(&quot;store/{storeId}/datareceive&quot;)\n@Description(&quot;Receives data from NiFi&quot;)\npublic class ElasticSearchDataRequestHandler extends AbstractConfigBasedClassicHandler {\n\n    @Override\n    public String getResourceName() {\n        return RESOURCE_NAME;\n    }\n\n    @POST\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN, MediaType.APPLICATION_XML, MediaType.APPLICATION_XHTML_XML, MediaType.APPLICATION_ATOM_XML })\n    public Response addNiFiDataToFile(@PathParam(STORE_ID) String storeId) throws Exception {\n        final String methodName = &quot;addNiFiDataToFile&quot;;\n        LOGGER.debug(CLASSNAME, methodName);\n\n        TypedProperty requestProperties = new TypedProperty();\n        \n\n        HashMap requstJson = new HashMap();\n        \n        System.out.println(&quot;request ----&gt;&quot; + request);\n\n        requstJson.putAll(getMapFromRequest(request, MediaType.TEXT_PLAIN));\n\n        \n        System.out.println(&quot;-----requstJson-----&quot; + requstJson);\n        requestProperties.put(&quot;requstJson&quot;, requstJson);\n        return executeControllerCommandWithContext(storeId, ElasticSearchDataRequestCmd.NAME, requestProperties, MediaType.APPLICATION_JSON);\n    }\n}\n</code></pre>\n<p>Command</p>\n<pre><code>\n//private TypedProperty reqProp;\n    private Object esData;\n    //private TypedProperty respProperty;\n\n    @Override\n    public void setRequestProperties(TypedProperty reqProperties) throws ECException {\n        if (reqProperties != null) {\n            esData = reqProperties.get(&quot;requstJson&quot;);\n            //System.out.println(&quot;reqProp =====&quot; + reqProp);\n\n        }\n    }\n\n\npublic void performExecute() throws ECException {\n    if (Objects.isNull(getResponseProperties()) || !getResponseProperties().containsKey(LogicConstants.CODE)) {\n        addDataToFile();\n    }\n}\n\nprivate void addDataToFile() throws ECException {\n    System.out.println(&quot;----------------------Test Data--------------------------&quot; + esData);\n    \n    TypedProperty respProperty = new TypedProperty();\n    try {\n        String TEXT_FILE = &quot;C:&quot; + File.separator + &quot;Users&quot; + File.separator + &quot;pawankumar&quot; + File.separator + &quot;Documents&quot; + File.separator + getFileWithDate(&quot;product&quot;) + &quot;.txt&quot;;\n        // Use relative path for Unix systems\n        System.out.println(&quot;TEXT_FILE ---------------&gt; &quot; + TEXT_FILE);\n        Path textFilePath = Paths.get(TEXT_FILE);\n        Files.createFile(textFilePath);\n        FileWriter myWriter = new FileWriter(TEXT_FILE);\n        System.out.println(&quot;===================&quot; + esData);\n        //myWriter.write(reqProp);\n        myWriter.write(esData.toString());\n        myWriter.close();\n\n        System.out.println(&quot;Successfully wrote to the file.&quot;);\n\n        \n        respProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\n        respProperty.put(LogicConstants.MESSAGE, &quot;Data added to file&quot;);\n\n    } catch (IOException e) {\n        respProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\n        respProperty.put(LogicConstants.MESSAGE, &quot;Data added to file&quot;);\n        e.printStackTrace();\n    }\n    /*TypedProperty respProperty = new TypedProperty();\n    respProperty.put(LogicConstants.CODE, String.valueOf(HttpStatus.OK.getCode()));\n    respProperty.put(LogicConstants.MESSAGE, &quot;User is successfully subscribed for newsletter.&quot;);*/\n\n    setResponseProperties(respProperty);\n}\n</code></pre>\n<p>To test\nPOST : http://localhost/wcs/resources/store/10151/datareceive</p>\n<p>Body : plain/text</p>\n<p>Request is as below:</p>\n<pre><code>{ &quot;update&quot;: { &quot;_id&quot;: &quot;10151--1-10001-3074457345616676668&quot;, &quot;_index&quot;: &quot;.auth.10151.product.202206290450&quot;, &quot;retry_on_conflict&quot;: 5, &quot;_source&quot;: false } }\n{ &quot;doc&quot;: {&quot;attachments&quot;:[{&quot;identifier&quot;:&quot;0AN4268__26346G_9cefa68b-1993-4294-bcd9-aafe0116c66f/0AN4268__26346G_090A&quot;,&quot;sequence&quot;:34.0,&quot;name.raw&quot;:&quot;Degree_090&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669358&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9cefa68b-1993-4294-bcd9-aafe0116c66f/0AN4268__26346G_090A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_d4279fe2-c87a-473b-909a-aafe0116d302/0AN4268__26346G_180A&quot;,&quot;sequence&quot;:35.0,&quot;name.raw&quot;:&quot;Degree_180&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669359&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/d4279fe2-c87a-473b-909a-aafe0116d302/0AN4268__26346G_180A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A&quot;,&quot;sequence&quot;:32.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669360&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A_PLP&quot;,&quot;sequence&quot;:2.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PLP&quot;,&quot;id&quot;:&quot;3074457345616669361&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A_Thumbnail&quot;,&quot;sequence&quot;:1.0,&quot;name.raw&quot;:&quot;Degree_030&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;Thumbnail&quot;,&quot;id&quot;:&quot;3074457345616669362&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/3f2f5455-651d-4558-9fc9-aafe0116be65/0AN4268__26346G_030A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A&quot;,&quot;sequence&quot;:33.0,&quot;name.raw&quot;:&quot;Degree_000&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PDP&quot;,&quot;id&quot;:&quot;3074457345616669363&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A.png&quot;},{&quot;identifier&quot;:&quot;0AN4268__26346G_9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A_PLP&quot;,&quot;sequence&quot;:1.0,&quot;name.raw&quot;:&quot;Degree_000&quot;,&quot;description.raw&quot;:&quot;&quot;,&quot;mime&quot;:&quot;&quot;,&quot;rule&quot;:&quot;PLP&quot;,&quot;id&quot;:&quot;3074457345616669364&quot;,&quot;store&quot;:&quot;10051&quot;,&quot;url&quot;:&quot;/cdn-record-files-pi/ea504707-a6a6-4b6b-bb18-aaf701016153/9dd059c7-a0fc-434e-8594-aafe0116ba86/0AN4268__26346G_000A.png&quot;}],&quot;__meta&quot;:{&quot;modified&quot;:&quot;2022-06-29T04:51:36.939Z&quot;}}, &quot;doc_as_upsert&quot;: true }\n</code></pre>\n"},{"tags":["java","android","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658457725,"creation_date":1658457725,"answer_id":73074564,"question_id":73074417,"body_markdown":"Likely a network problem, but this is actually a good thing because it made you post here.  Do NOT access a database like this.  Its totally insecure.  It forces you to put the password to the db in the client, which means its trivially accessed by anyone with a copy of your app.  You have 0 security this way.  Instead, you should use a webservice as a middle man between your app and the db, so your password doesn&#39;t have to be globally accessible.","title":"IOException: ... Connection timed out","body":"<p>Likely a network problem, but this is actually a good thing because it made you post here.  Do NOT access a database like this.  Its totally insecure.  It forces you to put the password to the db in the client, which means its trivially accessed by anyone with a copy of your app.  You have 0 security this way.  Instead, you should use a webservice as a middle man between your app and the db, so your password doesn't have to be globally accessible.</p>\n"}],"owner":{"account_id":25866719,"reputation":19,"user_id":19598264,"display_name":"lavender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1658467752,"creation_date":1658456178,"question_id":73074417,"body_markdown":"I am new to Android, and I tried copying a code to study how to connect my SQL database with my app. However, I get this error\r\n\r\n    Network error IOException: failed to connect to /169.254.57.155 (port 1433) from /:: (port 45212): connect failed: ETIMEDOUT (Connection timed out)&quot;\r\n\r\nHere is my ConSQL.java file:\r\n\r\n`\r\n\r\n    package com.example.connectsql_trial;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.os.StrictMode;\r\n    import android.util.Log;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class ConSQL {\r\n    \r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        public static Connection conclass(){\r\n            String ip=&quot;169.254.57.155&quot;,port=&quot;1433&quot;,db=&quot;Trialdb1&quot;,username=&quot;sa&quot;,password=&quot;art121499&quot;;\r\n    \r\n            StrictMode.ThreadPolicy a = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(a);\r\n            Connection con = null;\r\n            String ConnectURL = null;\r\n            try{\r\n                Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n                ConnectURL = &quot;jdbc:jtds:sqlserver://&quot;+ip+&quot;;&quot;+&quot;databasename=&quot;+db+&quot;;user=&quot;+username+&quot;;password=&quot;+password+&quot;;&quot;;\r\n                con = DriverManager.getConnection(ConnectURL);\r\n            }\r\n            catch (SQLException se) {\r\n                Log.e(&quot;Error SQLException&quot;, se.getMessage());\r\n                Log.e(&quot;Error SQLException&quot;, String.valueOf(se.getErrorCode()));\r\n            }\r\n            catch (ClassNotFoundException e) {\r\n                Log.e(&quot;Error Class not found&quot;, e.getMessage());\r\n            }\r\n            catch(Exception e){\r\n                Log.e(&quot;Error is&quot;, e.getMessage());\r\n            }\r\n            return con;\r\n        }\r\n    }\r\n\r\n`","title":"IOException: ... Connection timed out","body":"<p>I am new to Android, and I tried copying a code to study how to connect my SQL database with my app. However, I get this error</p>\n<pre><code>Network error IOException: failed to connect to /169.254.57.155 (port 1433) from /:: (port 45212): connect failed: ETIMEDOUT (Connection timed out)&quot;\n</code></pre>\n<p>Here is my ConSQL.java file:</p>\n<p>`</p>\n<pre><code>package com.example.connectsql_trial;\n\nimport android.annotation.SuppressLint;\nimport android.os.StrictMode;\nimport android.util.Log;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class ConSQL {\n\n    @SuppressLint(&quot;NewApi&quot;)\n    public static Connection conclass(){\n        String ip=&quot;169.254.57.155&quot;,port=&quot;1433&quot;,db=&quot;Trialdb1&quot;,username=&quot;sa&quot;,password=&quot;art121499&quot;;\n\n        StrictMode.ThreadPolicy a = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(a);\n        Connection con = null;\n        String ConnectURL = null;\n        try{\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            ConnectURL = &quot;jdbc:jtds:sqlserver://&quot;+ip+&quot;;&quot;+&quot;databasename=&quot;+db+&quot;;user=&quot;+username+&quot;;password=&quot;+password+&quot;;&quot;;\n            con = DriverManager.getConnection(ConnectURL);\n        }\n        catch (SQLException se) {\n            Log.e(&quot;Error SQLException&quot;, se.getMessage());\n            Log.e(&quot;Error SQLException&quot;, String.valueOf(se.getErrorCode()));\n        }\n        catch (ClassNotFoundException e) {\n            Log.e(&quot;Error Class not found&quot;, e.getMessage());\n        }\n        catch(Exception e){\n            Log.e(&quot;Error is&quot;, e.getMessage());\n        }\n        return con;\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","graalvm","graalvm-native-image","spring-native"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1658419258,"post_id":73069089,"comment_id":129052355,"body_markdown":"I&#39;m not a graalvm expert, but a search of their docs does indicate that additional action/configuration is required when you use reflection or reflection-adjacent functionality: https://www.graalvm.org/22.1/reference-manual/native-image/Reflection/  This could also be a matter of the native-image compiler just not including those classes because they&#39;re not referred to explicitly.  You might need to use some of the techniques discussed here: https://www.graalvm.org/22.1/reference-manual/native-image/BuildConfiguration/#assisted-configuration-of-native-image-builds","body":"I&#39;m not a graalvm expert, but a search of their docs does indicate that additional action/configuration is required when you use reflection or reflection-adjacent functionality: <a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/Reflection/\" rel=\"nofollow noreferrer\">graalvm.org/22.1/reference-manual/native-image/Reflection</a>  This could also be a matter of the native-image compiler just not including those classes because they&#39;re not referred to explicitly.  You might need to use some of the techniques discussed here: <a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/BuildConfiguration/#assisted-configuration-of-native-image-builds\" rel=\"nofollow noreferrer\">graalvm.org/22.1/reference-manual/native-image/&hellip;</a>"},{"owner":{"account_id":25863550,"reputation":1,"user_id":19595642,"display_name":"mdecherif"},"score":0,"creation_date":1658420870,"post_id":73069089,"comment_id":129052929,"body_markdown":"@Gus yes i already added a reflection configuration, that&#39;s what&#39;s my reflect.json file is for, but still not working","body":"@Gus yes i already added a reflection configuration, that&#39;s what&#39;s my reflect.json file is for, but still not working"}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658467633,"creation_date":1658467633,"answer_id":73075481,"question_id":73069089,"body_markdown":"You might try to execute your scanner code at image build time rather than runtime. This way, it will run on JVM with all dynamic features enabled. The resulting set of classes will be incorporated into the native image.\r\n\r\nTo execute code at image build time, just make it part of the static initializer of some class used by your app, e.g.\r\n```\r\npublic class App {\r\n    static final Set&lt;Class&lt;?&gt;&gt; INITIALIZERS = // ... your code here\r\n}\r\n```\r\nBTW your code scans packages `com.demo` and `com.demo2` while the class you register is in package `com.demo.projectinstallerparent` -- can that be the reason it is not found?","title":"I want to find classes that implement a specific interface using spring native","body":"<p>You might try to execute your scanner code at image build time rather than runtime. This way, it will run on JVM with all dynamic features enabled. The resulting set of classes will be incorporated into the native image.</p>\n<p>To execute code at image build time, just make it part of the static initializer of some class used by your app, e.g.</p>\n<pre><code>public class App {\n    static final Set&lt;Class&lt;?&gt;&gt; INITIALIZERS = // ... your code here\n}\n</code></pre>\n<p>BTW your code scans packages <code>com.demo</code> and <code>com.demo2</code> while the class you register is in package <code>com.demo.projectinstallerparent</code> -- can that be the reason it is not found?</p>\n"}],"owner":{"account_id":25863550,"reputation":1,"user_id":19595642,"display_name":"mdecherif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658467633,"creation_date":1658417998,"question_id":73069089,"body_markdown":"I&#39;m using spring native to build a native-image with graalvm,\r\ni want to find all classes that implements a specific interface\r\nI tried using Reflections but it didn&#39;t work, i used spring&#39;s ClassPathScanningCandidateComponentProvider too : \r\n\r\n**It works fine when i run it as a jar file, but when i try to run the native-image .exe file it does not find any classes**\r\n\r\nthis is my code \r\n\r\n    String[] basePackages = {&quot;com.demo&quot;,&quot;com.demo2&quot;};\r\n\t\tSet&lt;Class&lt;? extends Initializer&gt;&gt; subClasses = new HashSet&lt;&gt;();\r\n\t\tClassPathScanningCandidateComponentProvider scanner = new ClassPathScanningCandidateComponentProvider(false);\r\n\t\tscanner.addIncludeFilter(new AssignableTypeFilter(Initializer.class));\r\n\t\tfor (String basePackage : basePackages) {\r\n\t\t\tSet&lt;?&gt; classes = scanner.findCandidateComponents(basePackage).stream().peek(l-&gt;System.out.println(l)).collect(Collectors.toSet());\r\n\t\t\tsubClasses.addAll((Set&lt;Class&lt;? extends Initializer&gt;&gt;) classes);\r\n\t\t}\r\n\r\nPS : the class SubscriberRegistration implements the interface Initializer \r\nand my reflect.json file : \r\n\r\n    \r\n    [ {\r\n    &quot;name&quot; : &quot;com.demo.projectinstallerparent.SubscriberRegistration&quot;,\r\n    &quot;methods&quot;: [\r\n      { &quot;name&quot;: &quot;&lt;init&gt;&quot;, &quot;parameterTypes&quot;: [] }\r\n    ]}]\r\n","title":"I want to find classes that implement a specific interface using spring native","body":"<p>I'm using spring native to build a native-image with graalvm,\ni want to find all classes that implements a specific interface\nI tried using Reflections but it didn't work, i used spring's ClassPathScanningCandidateComponentProvider too :</p>\n<p><strong>It works fine when i run it as a jar file, but when i try to run the native-image .exe file it does not find any classes</strong></p>\n<p>this is my code</p>\n<pre><code>String[] basePackages = {&quot;com.demo&quot;,&quot;com.demo2&quot;};\n    Set&lt;Class&lt;? extends Initializer&gt;&gt; subClasses = new HashSet&lt;&gt;();\n    ClassPathScanningCandidateComponentProvider scanner = new ClassPathScanningCandidateComponentProvider(false);\n    scanner.addIncludeFilter(new AssignableTypeFilter(Initializer.class));\n    for (String basePackage : basePackages) {\n        Set&lt;?&gt; classes = scanner.findCandidateComponents(basePackage).stream().peek(l-&gt;System.out.println(l)).collect(Collectors.toSet());\n        subClasses.addAll((Set&lt;Class&lt;? extends Initializer&gt;&gt;) classes);\n    }\n</code></pre>\n<p>PS : the class SubscriberRegistration implements the interface Initializer\nand my reflect.json file :</p>\n<pre><code>[ {\n&quot;name&quot; : &quot;com.demo.projectinstallerparent.SubscriberRegistration&quot;,\n&quot;methods&quot;: [\n  { &quot;name&quot;: &quot;&lt;init&gt;&quot;, &quot;parameterTypes&quot;: [] }\n]}]\n</code></pre>\n"},{"tags":["java","java-stream","primes"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1545589251,"creation_date":1545588195,"answer_id":53905940,"question_id":53905935,"body_markdown":"You should use [`IntStream.noneMatch`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#noneMatch(java.util.function.IntPredicate)) there as:\r\n\r\n\r\n    boolean isPrimeStream(int n) {\r\n        return IntStream.range(2, n) // note  division by zero possible in your attempt\r\n                        .noneMatch(i -&gt; n % i == 0);\r\n    }\r\n\r\n***Edit***: As pointed in comments by Andreas, using `range(2, n)` to avoid division by zero and since division by 1 would always lead to the condition being true and returning the result as `false` otherwise.\r\n\r\n&gt; Returns whether ***no elements** of this stream match the provided\r\n&gt; predicate*\r\n\r\nYour current code is using [`IntStream.anyMatch`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#anyMatch(java.util.function.IntPredicate))\r\n\r\n\r\n&gt; Returns whether ***any elements** of this stream match the provided\r\n&gt; predicate*\r\n\r\nwhich is why it would return `true` if the condition specified is satisfied for any input instead of when the method is supposed to return `false`.\r\n\r\n\r\n----------\r\n\r\n&gt; how to do similar to for loop above\r\n\r\nWith [tag:java-9] or above you could use [`IntStrem.iterate`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#iterate(int,java.util.function.IntPredicate,java.util.function.IntUnaryOperator)) as\r\n\r\n    private boolean isPrimeStream(int n) {\r\n        return IntStream.iterate(2, i -&gt; i * i &lt;= n, i -&gt; i + 1) // similar to the loop\r\n                        .noneMatch(i -&gt; n % i == 0);\r\n    }","title":"Using java streams to find if a number is prime or not","body":"<p>You should use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#noneMatch(java.util.function.IntPredicate)\" rel=\"noreferrer\"><code>IntStream.noneMatch</code></a> there as:</p>\n\n<pre><code>boolean isPrimeStream(int n) {\n    return IntStream.range(2, n) // note  division by zero possible in your attempt\n                    .noneMatch(i -&gt; n % i == 0);\n}\n</code></pre>\n\n<p><strong><em>Edit</em></strong>: As pointed in comments by Andreas, using <code>range(2, n)</code> to avoid division by zero and since division by 1 would always lead to the condition being true and returning the result as <code>false</code> otherwise.</p>\n\n<blockquote>\n  <p>Returns whether <strong><em>no elements</strong> of this stream match the provided\n  predicate</em></p>\n</blockquote>\n\n<p>Your current code is using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#anyMatch(java.util.function.IntPredicate)\" rel=\"noreferrer\"><code>IntStream.anyMatch</code></a></p>\n\n<blockquote>\n  <p>Returns whether <strong><em>any elements</strong> of this stream match the provided\n  predicate</em></p>\n</blockquote>\n\n<p>which is why it would return <code>true</code> if the condition specified is satisfied for any input instead of when the method is supposed to return <code>false</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>how to do similar to for loop above</p>\n</blockquote>\n\n<p>With <a href=\"/questions/tagged/java-9\" class=\"post-tag\" title=\"show questions tagged &#39;java-9&#39;\" rel=\"tag\">java-9</a> or above you could use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html#iterate(int,java.util.function.IntPredicate,java.util.function.IntUnaryOperator)\" rel=\"noreferrer\"><code>IntStrem.iterate</code></a> as</p>\n\n<pre><code>private boolean isPrimeStream(int n) {\n    return IntStream.iterate(2, i -&gt; i * i &lt;= n, i -&gt; i + 1) // similar to the loop\n                    .noneMatch(i -&gt; n % i == 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607747277,"creation_date":1545588493,"answer_id":53905978,"question_id":53905935,"body_markdown":"Problem one, you should be using `noneMatch` (not `anyMatch`). Problem two, your range is off. Use `rangeClosed` (or add one to your end) which should be the square root of `n` (not just `n`) - and you started with 2 as an initial value in your first test. Also, you might as well make the method `static`. Like,\r\n\r\n\tstatic boolean isPrimeStream(int n) {\r\n\t\treturn IntStream.rangeClosed(2, (int) Math.sqrt(n)) \r\n\t\t\t\t.noneMatch(i -&gt; n % i == 0);\r\n\t}\r\n\r\nAlso, we can improve your first example by handling `2` as a special case. That allows you to begin with three and increment by two skipping all even values.\r\n\r\n\tstatic boolean isPrime(int n) {\r\n\t\tif (n == 2) {\r\n\t\t\treturn true;\r\n\t\t} else if (n == 1 || n % 2 == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor (int i = 3; i * i &lt;= n; i += 2) {\r\n\t\t\tif (n % i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Using java streams to find if a number is prime or not","body":"<p>Problem one, you should be using <code>noneMatch</code> (not <code>anyMatch</code>). Problem two, your range is off. Use <code>rangeClosed</code> (or add one to your end) which should be the square root of <code>n</code> (not just <code>n</code>) - and you started with 2 as an initial value in your first test. Also, you might as well make the method <code>static</code>. Like,</p>\n<pre><code>static boolean isPrimeStream(int n) {\n    return IntStream.rangeClosed(2, (int) Math.sqrt(n)) \n            .noneMatch(i -&gt; n % i == 0);\n}\n</code></pre>\n<p>Also, we can improve your first example by handling <code>2</code> as a special case. That allows you to begin with three and increment by two skipping all even values.</p>\n<pre><code>static boolean isPrime(int n) {\n    if (n == 2) {\n        return true;\n    } else if (n == 1 || n % 2 == 0) {\n        return false;\n    }\n    for (int i = 3; i * i &lt;= n; i += 2) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545620740,"creation_date":1545620740,"answer_id":53908781,"question_id":53905935,"body_markdown":"What is the point of using Java8 streams to get this thing done. To me you are reinventing the wheel. This one liner will be suffice.\r\n\r\n    BigInteger.valueOf(n).isProbablePrime(50);\r\n\r\nAlso notice that there are some problems which can be better solved using streams. But that does not mean stream is the silver bullet to solve all your problems.\r\n\r\nHere&#39;s an excerpt from the Documentation about certainty.\r\n\r\n&gt; For a large known prime, and for any certainty &gt; 0, is it accurate to\r\n&gt; say that b.isProbablePrime(certainty) will always return true.","title":"Using java streams to find if a number is prime or not","body":"<p>What is the point of using Java8 streams to get this thing done. To me you are reinventing the wheel. This one liner will be suffice.</p>\n\n<pre><code>BigInteger.valueOf(n).isProbablePrime(50);\n</code></pre>\n\n<p>Also notice that there are some problems which can be better solved using streams. But that does not mean stream is the silver bullet to solve all your problems.</p>\n\n<p>Here's an excerpt from the Documentation about certainty.</p>\n\n<blockquote>\n  <p>For a large known prime, and for any certainty > 0, is it accurate to\n  say that b.isProbablePrime(certainty) will always return true.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5805773,"reputation":391,"user_id":4578434,"display_name":"Purva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658467629,"creation_date":1658467629,"answer_id":73075480,"question_id":53905935,"body_markdown":"    package Java8Practice;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class PrintPrimeNumbers {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n\t\tList&lt;Integer&gt; primes = list.stream().filter(n -&gt; isPrime(n)).collect(Collectors.toList());\r\n\t\tSystem.out.println(primes);\r\n\t}\r\n\r\n\tstatic boolean isPrime(int n) {\r\n\t\treturn IntStream.range(2, n).noneMatch(i -&gt; n % i == 0);\r\n\t }\r\n    }\r\n\r\n    /*Output \r\n    [1, 2, 3, 5, 7]\r\n    */","title":"Using java streams to find if a number is prime or not","body":"<pre><code>package Java8Practice;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class PrintPrimeNumbers {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n    List&lt;Integer&gt; primes = list.stream().filter(n -&gt; isPrime(n)).collect(Collectors.toList());\n    System.out.println(primes);\n}\n\nstatic boolean isPrime(int n) {\n    return IntStream.range(2, n).noneMatch(i -&gt; n % i == 0);\n }\n}\n\n/*Output \n[1, 2, 3, 5, 7]\n*/\n</code></pre>\n"}],"owner":{"display_name":"user10824969"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4024,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"answer_count":4,"score":2,"last_activity_date":1658467629,"creation_date":1545588127,"question_id":53905935,"body_markdown":"I am reading *Cracking the Coding Interview* and it has an example of finding prime number which I ran on JShell\r\n\r\n    boolean isPrime(int n) {\r\n      for (int i = 2; i * i &lt;= n; i++) {\r\n        if (n % i == 0) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\nthen I am trying to convert this to streams in java, but finding this difficult as mentioned\r\n\r\n    boolean isPrimeStream(int n) {\r\n      return IntStream.range(0, n) // how to do similar to for loop above\r\n        .anyMatch(i -&gt; n % i == 0);  // i think this is the reason for failure\r\n    }","title":"Using java streams to find if a number is prime or not","body":"<p>I am reading <em>Cracking the Coding Interview</em> and it has an example of finding prime number which I ran on JShell</p>\n\n<pre><code>boolean isPrime(int n) {\n  for (int i = 2; i * i &lt;= n; i++) {\n    if (n % i == 0) {\n      return false;\n    }\n  }\n  return true;\n}\n</code></pre>\n\n<p>then I am trying to convert this to streams in java, but finding this difficult as mentioned</p>\n\n<pre><code>boolean isPrimeStream(int n) {\n  return IntStream.range(0, n) // how to do similar to for loop above\n    .anyMatch(i -&gt; n % i == 0);  // i think this is the reason for failure\n}\n</code></pre>\n"},{"tags":["java","android","arrays","kotlin"],"comments":[{"owner":{"account_id":22841250,"reputation":369,"user_id":16988223,"display_name":"FreddicMatters"},"score":0,"creation_date":1658448311,"post_id":73073716,"comment_id":129060215,"body_markdown":"`var values = arrayOf(arrayOf(&quot;may&quot;, &quot;33&quot;), arrayOf(&quot;jun&quot;,&quot;32&quot;))` may be ok but my table doesn&#39;t show anything.","body":"<code>var values = arrayOf(arrayOf(&quot;may&quot;, &quot;33&quot;), arrayOf(&quot;jun&quot;,&quot;32&quot;))</code> may be ok but my table doesn&#39;t show anything."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658451689,"post_id":73073716,"comment_id":129060707,"body_markdown":"This looks correct.  Can you elaborate on what goes wrong?","body":"This looks correct.  Can you elaborate on what goes wrong?"},{"owner":{"account_id":22841250,"reputation":369,"user_id":16988223,"display_name":"FreddicMatters"},"score":0,"creation_date":1658453970,"post_id":73073716,"comment_id":129061044,"body_markdown":"The problem seem to be the libray is not showing any record.","body":"The problem seem to be the libray is not showing any record."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658454440,"post_id":73073716,"comment_id":129061108,"body_markdown":"Are you quite certain you didn&#39;t make any typos?  There is no possible difference between your code and the Java code you have shown us.","body":"Are you quite certain you didn&#39;t make any typos?  There is no possible difference between your code and the Java code you have shown us."},{"owner":{"account_id":22841250,"reputation":369,"user_id":16988223,"display_name":"FreddicMatters"},"score":0,"creation_date":1658455684,"post_id":73073716,"comment_id":129061252,"body_markdown":"No errors bro. I will implement the default tableLayout of android instead of this library","body":"No errors bro. I will implement the default tableLayout of android instead of this library"}],"answers":[{"tags":[],"owner":{"account_id":9821443,"reputation":504,"user_id":7276013,"display_name":"AagitoEx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658467470,"creation_date":1658467470,"answer_id":73075463,"question_id":73073716,"body_markdown":"I think what you are looking for is nested array, your second approach was correct.\r\n\r\n```kotlin\r\nval arr: Array&lt;Array&lt;String&gt;&gt; = arrayOf(\r\n    arrayOf(&quot;May&quot;,&quot;222&quot;),\r\n    arrayOf(&quot;Hell&quot;,&quot;222&quot;)\r\n)\r\n```","title":"Convert this java array to a kotlin equivalent array 2d","body":"<p>I think what you are looking for is nested array, your second approach was correct.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val arr: Array&lt;Array&lt;String&gt;&gt; = arrayOf(\n    arrayOf(&quot;May&quot;,&quot;222&quot;),\n    arrayOf(&quot;Hell&quot;,&quot;222&quot;)\n)\n</code></pre>\n"}],"owner":{"account_id":22841250,"reputation":369,"user_id":16988223,"display_name":"FreddicMatters"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658467470,"creation_date":1658446971,"question_id":73073716,"body_markdown":"Hi I&#39;m trying to convert this java array to a kotlin array:\r\n\r\n    \r\n    String[][] data = {{&quot;May&quot;,&quot;22&quot;},\r\n                            {&quot;June&quot;,&quot;45&quot;}};\r\n\r\nI tried two ways but my tableView is not showing any record.\r\nThis is my way number 1:\r\n\r\n    val mayo: Array&lt;String&gt; = arrayOf(&quot;Mayo&quot;, &quot;20&quot;)\r\n    val junio: Array&lt;String&gt; = arrayOf(&quot;Junio&quot;, &quot;40&quot;)\r\n    val data2d1 = arrayOf(mayo, junio)\r\n\r\nThe I pased this array to the adapter of this library:\r\nhttps://github.com/ISchwarz23/SortableTableView\r\n\r\n      tableViewSalesPerMonth.dataAdapter = SimpleTableDataAdapter(requireContext(), data2d1)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand nothing happens, there is not data and not errors.\r\n\r\nAnd this the way number 2 I created the next array by using the first array `data2d1`:\r\n\r\n\r\n        val data2d2 = mutableListOf&lt;Array&lt;String&gt;&gt;()\r\n        data2d2.addAll(data2d1)\r\n\r\n\r\nThis arrays that I did are wrong? I need something like:\r\n\r\n      String[][] data = {{&quot;May&quot;,&quot;22&quot;},\r\n                                {&quot;June&quot;,&quot;45&quot;}};\r\n\r\nbut in kotlin code.\r\nPlease guys if you have any idea to fix this problem I will appreciate it.\r\nThanks so much.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdRpU.png","title":"Convert this java array to a kotlin equivalent array 2d","body":"<p>Hi I'm trying to convert this java array to a kotlin array:</p>\n<pre><code>String[][] data = {{&quot;May&quot;,&quot;22&quot;},\n                        {&quot;June&quot;,&quot;45&quot;}};\n</code></pre>\n<p>I tried two ways but my tableView is not showing any record.\nThis is my way number 1:</p>\n<pre><code>val mayo: Array&lt;String&gt; = arrayOf(&quot;Mayo&quot;, &quot;20&quot;)\nval junio: Array&lt;String&gt; = arrayOf(&quot;Junio&quot;, &quot;40&quot;)\nval data2d1 = arrayOf(mayo, junio)\n</code></pre>\n<p>The I pased this array to the adapter of this library:\n<a href=\"https://github.com/ISchwarz23/SortableTableView\" rel=\"nofollow noreferrer\">https://github.com/ISchwarz23/SortableTableView</a></p>\n<pre><code>  tableViewSalesPerMonth.dataAdapter = SimpleTableDataAdapter(requireContext(), data2d1)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fdRpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdRpU.png\" alt=\"enter image description here\" /></a></p>\n<p>and nothing happens, there is not data and not errors.</p>\n<p>And this the way number 2 I created the next array by using the first array <code>data2d1</code>:</p>\n<pre><code>    val data2d2 = mutableListOf&lt;Array&lt;String&gt;&gt;()\n    data2d2.addAll(data2d1)\n</code></pre>\n<p>This arrays that I did are wrong? I need something like:</p>\n<pre><code>  String[][] data = {{&quot;May&quot;,&quot;22&quot;},\n                            {&quot;June&quot;,&quot;45&quot;}};\n</code></pre>\n<p>but in kotlin code.\nPlease guys if you have any idea to fix this problem I will appreciate it.\nThanks so much.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":1027382,"reputation":519,"user_id":1036408,"display_name":"Ramandeep Nanda"},"score":2,"creation_date":1435500761,"post_id":31100733,"comment_id":50216749,"body_markdown":"Take a look at regular expressions in Java.","body":"Take a look at regular expressions in Java."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1435500999,"post_id":31100733,"comment_id":50216825,"body_markdown":"Your rules appear to be inconsistent.  If you edit your question with _exact_ formatting rules you might get a usable answer.","body":"Your rules appear to be inconsistent.  If you edit your question with <i>exact</i> formatting rules you might get a usable answer."},{"owner":{"account_id":6392909,"reputation":2727,"user_id":4958370,"accept_rate":40,"display_name":"Sourav Kanta"},"score":0,"creation_date":1435501317,"post_id":31100733,"comment_id":50216918,"body_markdown":"You can iterate through the string and copy all character which are not \\n or any other character by using conditions.","body":"You can iterate through the string and copy all character which are not \\n or any other character by using conditions."},{"owner":{"account_id":6537999,"reputation":43,"user_id":5056779,"display_name":"Sam Sonnell"},"score":0,"creation_date":1435501478,"post_id":31100733,"comment_id":50216977,"body_markdown":"I have implemented all the rules except that how to remove all the spaces between a word and a &#39;,&#39;,&#39;.&#39; or &#39;;&#39;(word appears first)","body":"I have implemented all the rules except that how to remove all the spaces between a word and a &#39;,&#39;,&#39;.&#39; or &#39;;&#39;(word appears first)"}],"answers":[{"tags":[],"owner":{"account_id":2040093,"reputation":361,"user_id":1821524,"display_name":"cristi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435501278,"creation_date":1435501278,"answer_id":31100846,"question_id":31100733,"body_markdown":"One way is to parse the String variable character by character.\r\nFor example\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    String toBeParse = &quot;...&quot;;\r\n    for (int i = 0; i &lt; toBeParse.length(); i++) {\r\n        if (toBeParse.charAt(i) == condition) {\r\n            sb.append(toBeParse.charAt(i));\r\n        }\r\n    }\r\n    String result = sb.toString();\r\n\r\nAnother way is to use regular expresions:\r\n\r\n    toBeParse.replaceAll(yourRegexString, replacement);","title":"How to remove extra spaces and new lines in a string?","body":"<p>One way is to parse the String variable character by character.\nFor example</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nString toBeParse = \"...\";\nfor (int i = 0; i &lt; toBeParse.length(); i++) {\n    if (toBeParse.charAt(i) == condition) {\n        sb.append(toBeParse.charAt(i));\n    }\n}\nString result = sb.toString();\n</code></pre>\n\n<p>Another way is to use regular expresions:</p>\n\n<pre><code>toBeParse.replaceAll(yourRegexString, replacement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435503020,"creation_date":1435502308,"answer_id":31101004,"question_id":31100733,"body_markdown":"Try with this: (@Criti&#39;s way)\r\n\r\n\r\n        String s = &quot;Passages provides funeral and burial products.\\n&quot;\r\n                + &quot;Our products are meant to align with your values and bring you comfort.\\n&quot;\r\n                + &quot;Our products allow you to offer personalization , flexibility and innovative choices, helping you provide services to a wider range of customers.&quot;;\r\n        \r\n        s = s.replaceAll(&quot;\\\\s*\\\\.\\\\s*\\n\\\\s*&quot;, &quot;. &quot;);\r\n        s = s.replaceAll(&quot;\\\\s*,\\\\s*&quot;, &quot;, &quot;);\r\n        s = s.replaceAll(&quot;\\\\s*;\\\\s*&quot;, &quot;; &quot;);\r\n        System.out.println(s);\r\n\r\nOutput:\r\n\r\n    Passages provides funeral and burial products. Our products are meant to align with your values and bring you comfort. Our products allow you to offer personalization, flexibility and innovative choices, helping you provide services to a wider range of customers.\r\n","title":"How to remove extra spaces and new lines in a string?","body":"<p>Try with this: (@Criti's way)</p>\n\n<pre><code>    String s = \"Passages provides funeral and burial products.\\n\"\n            + \"Our products are meant to align with your values and bring you comfort.\\n\"\n            + \"Our products allow you to offer personalization , flexibility and innovative choices, helping you provide services to a wider range of customers.\";\n\n    s = s.replaceAll(\"\\\\s*\\\\.\\\\s*\\n\\\\s*\", \". \");\n    s = s.replaceAll(\"\\\\s*,\\\\s*\", \", \");\n    s = s.replaceAll(\"\\\\s*;\\\\s*\", \"; \");\n    System.out.println(s);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Passages provides funeral and burial products. Our products are meant to align with your values and bring you comfort. Our products allow you to offer personalization, flexibility and innovative choices, helping you provide services to a wider range of customers.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435502449,"creation_date":1435502449,"answer_id":31101027,"question_id":31100733,"body_markdown":"try this\r\n\r\n    str = str.replaceAll(&quot;\\\\.\\\\s+(\\\\w)&quot;, &quot;. $1&quot;);","title":"How to remove extra spaces and new lines in a string?","body":"<p>try this</p>\n\n<pre><code>str = str.replaceAll(\"\\\\.\\\\s+(\\\\w)\", \". $1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435502972,"creation_date":1435502972,"answer_id":31101114,"question_id":31100733,"body_markdown":"I&#39;m a big fan of the Apache Commons Lang library - the `StringUtils` class (with its null-safe functions) has saved me countless hours over the years. Not surprisingly, `StringUtils` has a function that does what you&#39;re looking for: [`StringUtils.normalizeSpace(String str)`][1]\r\n\r\nFrom the API:\r\n\r\n&gt; The function returns the argument string with whitespace normalized by\r\n&gt; using trim(String) to remove leading and trailing whitespace and then\r\n&gt; replacing sequences of whitespace characters by a single space.\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.3.2/org/apache/commons/lang3/StringUtils.html#normalizeSpace%28java.lang.String%29","title":"How to remove extra spaces and new lines in a string?","body":"<p>I'm a big fan of the Apache Commons Lang library - the <code>StringUtils</code> class (with its null-safe functions) has saved me countless hours over the years. Not surprisingly, <code>StringUtils</code> has a function that does what you're looking for: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.3.2/org/apache/commons/lang3/StringUtils.html#normalizeSpace%28java.lang.String%29\" rel=\"nofollow\"><code>StringUtils.normalizeSpace(String str)</code></a></p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p>The function returns the argument string with whitespace normalized by\n  using trim(String) to remove leading and trailing whitespace and then\n  replacing sequences of whitespace characters by a single space.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435503209,"creation_date":1435503209,"answer_id":31101146,"question_id":31100733,"body_markdown":"`string.replaceAll(&quot;\\n&quot;, &quot;&quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)`","title":"How to remove extra spaces and new lines in a string?","body":"<p><code>string.replaceAll(\"\\n\", \"\").replaceAll(\"\\\\s+\", \" \")</code></p>\n"},{"tags":[],"owner":{"account_id":1079934,"reputation":101,"user_id":1077175,"display_name":"Jano Janahan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658464712,"creation_date":1435503234,"answer_id":31101155,"question_id":31100733,"body_markdown":"The only problem with Regexs is they can be quite slow. IF you are willing to use external libraries, try the Google Guava Library and its CharMatcher\r\n\r\n```java\r\nCharMatcher.whitespace().collapseFrom(&quot;Hello There\\nMy name is Fred   &quot;, &#39; &#39;))\r\n```\r\n\r\nThis will convert the whitespace to a single space, AND collapse multiple sequences of whitespace into a single sequence.","title":"How to remove extra spaces and new lines in a string?","body":"<p>The only problem with Regexs is they can be quite slow. IF you are willing to use external libraries, try the Google Guava Library and its CharMatcher</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharMatcher.whitespace().collapseFrom(&quot;Hello There\\nMy name is Fred   &quot;, ' '))\n</code></pre>\n<p>This will convert the whitespace to a single space, AND collapse multiple sequences of whitespace into a single sequence.</p>\n"}],"owner":{"account_id":6537999,"reputation":43,"user_id":5056779,"display_name":"Sam Sonnell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2715,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31101004,"answer_count":6,"score":4,"last_activity_date":1658464712,"creation_date":1435500645,"question_id":31100733,"body_markdown":"I have a string variable s which is like a combination of passages.\r\nFor example,\r\n\r\n\r\n    Passages provides funeral and burial products.\r\n    \r\n    Our products are meant to align with your values and bring you comfort.\r\n    \r\n    Our products allow you to offer personalization , flexibility and innovative choices, helping you provide services to a wider range of customers.\r\n\r\nI have to make that string variable of this form:\r\n\r\n    Passages provides funeral and burial products. Our products are meant to align with your values and bring you comfort. Our products allow you to offer personalization, flexibility and innovative choices, helping you provide services to a wider range of customers.\r\n\r\nPlus, extra spaces between words are to be removed(or between a &#39;.&#39; and the first line of the word)  an converted to a single space and any number of spaces before &#39;,&#39;,&#39;.&#39; or &#39;;&#39; is to be removed.\r\n\r\nI am a newbie in java. Can anybody tell me how can it be done?","title":"How to remove extra spaces and new lines in a string?","body":"<p>I have a string variable s which is like a combination of passages.\nFor example,</p>\n\n<pre><code>Passages provides funeral and burial products.\n\nOur products are meant to align with your values and bring you comfort.\n\nOur products allow you to offer personalization , flexibility and innovative choices, helping you provide services to a wider range of customers.\n</code></pre>\n\n<p>I have to make that string variable of this form:</p>\n\n<pre><code>Passages provides funeral and burial products. Our products are meant to align with your values and bring you comfort. Our products allow you to offer personalization, flexibility and innovative choices, helping you provide services to a wider range of customers.\n</code></pre>\n\n<p>Plus, extra spaces between words are to be removed(or between a '.' and the first line of the word)  an converted to a single space and any number of spaces before ',','.' or ';' is to be removed.</p>\n\n<p>I am a newbie in java. Can anybody tell me how can it be done?</p>\n"},{"tags":["java","spring","spring-boot","mqtt","paho"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":0,"creation_date":1658193096,"post_id":73027970,"comment_id":128985265,"body_markdown":"I&#39;d usually expect to see each client publish to a different topic (i.e. `device1/data`) and subscribers connecting once, and subscribing to multiple topics on that connection/Client ID (perhaps via wildcards). Just thought it was worth checking that you actually need to connect multiple times? (sorry can&#39;t help with spring-boot!).","body":"I&#39;d usually expect to see each client publish to a different topic (i.e. <code>device1&#47;data</code>) and subscribers connecting once, and subscribing to multiple topics on that connection/Client ID (perhaps via wildcards). Just thought it was worth checking that you actually need to connect multiple times? (sorry can&#39;t help with spring-boot!)."},{"owner":{"account_id":25838628,"reputation":41,"user_id":19574618,"display_name":"Yas Ram"},"score":0,"creation_date":1658206738,"post_id":73027970,"comment_id":128987333,"body_markdown":"hi. i queried what you said but sadly this is the way it is implemented and i don&#39;t have another choice but to use it this way. thanks anyways","body":"hi. i queried what you said but sadly this is the way it is implemented and i don&#39;t have another choice but to use it this way. thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":25838628,"reputation":41,"user_id":19574618,"display_name":"Yas Ram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658464485,"creation_date":1658292608,"answer_id":73046136,"question_id":73027970,"body_markdown":"So, I ended up using Eclipse Paho Client Mqttv3. It hasn&#39;t been updated in 2 years but it lets me manage my mqtt connections more direct and gets the job done.","title":"Adding MQTT connection with different client id in spring boot","body":"<p>So, I ended up using Eclipse Paho Client Mqttv3. It hasn't been updated in 2 years but it lets me manage my mqtt connections more direct and gets the job done.</p>\n"}],"owner":{"account_id":25838628,"reputation":41,"user_id":19574618,"display_name":"Yas Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73046136,"answer_count":1,"score":2,"last_activity_date":1658464485,"creation_date":1658174506,"question_id":73027970,"body_markdown":"My program gets real-time data for multiple devices over MQTT. I&#39;m using `spring-integration-mqtt` version 5.5.13. The MQTT broker uses different client ids for each device. Everything&#39;s fine with a static and predefined client id. The problem arises when I try to add new adapter of class `MqttPahoMessageDrivenChannelAdapter`. The problem is that I can&#39;t.\r\n\r\nI have defined a bean for `MqttPahoClientFactory` and `MessageChannel`. I also have a bean for the `MessageHandler` class that is annotated with the following:\r\n\r\n```\r\n@ServiceActivator(inputChannel = &quot;mqttChannel&quot;) // mqttChannel is the adapter output channel\r\n```\r\n\r\nWhen I need a new connection that has its own client id, I call the method below.\r\n\r\n```\r\npublic MessageProducer inbound() {\r\n        MqttPahoMessageDrivenChannelAdapter adapter =\r\n                new MqttPahoMessageDrivenChannelAdapter(&quot;tcp://localhost:1883&quot;, &quot;testClient&quot;,\r\n                                                 &quot;topic1&quot;, &quot;topic2&quot;);\r\n        adapter.setCompletionTimeout(5000);\r\n        adapter.setConverter(new DefaultPahoMessageConverter());\r\n        adapter.setQos(1);\r\n        adapter.setOutputChannel(mqttInputChannel());\r\n        return adapter;\r\n    }\r\n```\r\n\r\nI&#39;m guessing it doesn&#39;t submit as a listener because it&#39;s not a bean. I don&#39;t know if I can have multiple bean of one type added at runtime.\r\n\r\nI didn&#39;t have any luck defining two beans of the `MessageProducer` type with different qualifiers. only one of them works.\r\n\r\nMaybe simply calling the inbound method won&#39;t connect and subscribe? or the output channel isn&#39;t being called?\r\n\r\nI&#39;m new to MQTT and this is my first time trying this. also my first ever question so I hope it&#39;s a good one:)","title":"Adding MQTT connection with different client id in spring boot","body":"<p>My program gets real-time data for multiple devices over MQTT. I'm using <code>spring-integration-mqtt</code> version 5.5.13. The MQTT broker uses different client ids for each device. Everything's fine with a static and predefined client id. The problem arises when I try to add new adapter of class <code>MqttPahoMessageDrivenChannelAdapter</code>. The problem is that I can't.</p>\n<p>I have defined a bean for <code>MqttPahoClientFactory</code> and <code>MessageChannel</code>. I also have a bean for the <code>MessageHandler</code> class that is annotated with the following:</p>\n<pre><code>@ServiceActivator(inputChannel = &quot;mqttChannel&quot;) // mqttChannel is the adapter output channel\n</code></pre>\n<p>When I need a new connection that has its own client id, I call the method below.</p>\n<pre><code>public MessageProducer inbound() {\n        MqttPahoMessageDrivenChannelAdapter adapter =\n                new MqttPahoMessageDrivenChannelAdapter(&quot;tcp://localhost:1883&quot;, &quot;testClient&quot;,\n                                                 &quot;topic1&quot;, &quot;topic2&quot;);\n        adapter.setCompletionTimeout(5000);\n        adapter.setConverter(new DefaultPahoMessageConverter());\n        adapter.setQos(1);\n        adapter.setOutputChannel(mqttInputChannel());\n        return adapter;\n    }\n</code></pre>\n<p>I'm guessing it doesn't submit as a listener because it's not a bean. I don't know if I can have multiple bean of one type added at runtime.</p>\n<p>I didn't have any luck defining two beans of the <code>MessageProducer</code> type with different qualifiers. only one of them works.</p>\n<p>Maybe simply calling the inbound method won't connect and subscribe? or the output channel isn't being called?</p>\n<p>I'm new to MQTT and this is my first time trying this. also my first ever question so I hope it's a good one:)</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658321856,"post_id":73051298,"comment_id":129022379,"body_markdown":"So what have you tried so far in code?","body":"So what have you tried so far in code?"},{"owner":{"account_id":19163875,"reputation":3,"user_id":13999059,"display_name":"Haroon Rasheed"},"score":0,"creation_date":1658323344,"post_id":73051298,"comment_id":129023112,"body_markdown":"Sir..I dont have any Idea how to get Spinner from Firebase.. Please Help","body":"Sir..I dont have any Idea how to get Spinner from Firebase.. Please Help"},{"owner":{"account_id":19163875,"reputation":3,"user_id":13999059,"display_name":"Haroon Rasheed"},"score":0,"creation_date":1658323861,"post_id":73051298,"comment_id":129023359,"body_markdown":"and also I need to get  STOCK and RATE from same PRODUCT. which I select","body":"and also I need to get  STOCK and RATE from same PRODUCT. which I select"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658326584,"post_id":73051298,"comment_id":129024602,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":19163875,"reputation":3,"user_id":13999059,"display_name":"Haroon Rasheed"},"score":0,"creation_date":1658333018,"post_id":73051298,"comment_id":129027485,"body_markdown":"this code is not showing error but i need to develop PRODUCT ID as a spinner.. After that when i select Product Id need to get STOCK Quantity and RATE... and then I enter PCS...it will Store as SALES..","body":"this code is not showing error but i need to develop PRODUCT ID as a spinner.. After that when i select Product Id need to get STOCK Quantity and RATE... and then I enter PCS...it will Store as SALES.."}],"answers":[{"tags":[],"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658463628,"creation_date":1658394968,"answer_id":73063587,"question_id":73051298,"body_markdown":"I think it possible with do like this \r\n1. Retrieve all product name or you can change it to other data, [You can follow this link][1]\r\n\r\n        FirebaseDatabase mDatabase = FirebaseDatabase.getInstance();\r\n        DatabaseReference mDataRef = mDatabase.getReference().child(&quot;stock&quot;);\r\n        Arraylist list;\r\n        TextView textview1;\r\n        TextView textview2;\r\n        Spinner spinner;\r\n\r\n        textview1 = findViewById(YourId1);\r\n        textview2 = findViewById(YourId2);\r\n        spinner = findViewById(YourId3);\r\n        list = new ArrayList&lt;&gt;();\r\n\r\n2. Store it to arraylist, you can do it with looping\r\n\r\n        mDataRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                list.clear();\r\n                for (DataSnapshot ds : snapshot.getChildren()) {\r\n                    String name  = String.valueOf(ds.child(snapshot.getKey()).child(&quot;name&quot;));\r\n                    list.add(name);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n3. Create spinner dan make arraylist as spinner value, [You can follow this tutorial][2]\r\n\r\n       spinner = findViewById(/*Your Id Here*/);\r\n       ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(DetailTransactionActivity.this, R.layout.support_simple_spinner_dropdown_item, list);\r\n       spinner.setAdapter(adapter);\r\n\r\n4. Select value of spinner and make new variable which have value of selected spinner value\r\n\r\n       spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                    @Override\r\n                    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n                        String selectedValue = list.get(position);\r\n\t\t\t            compare(selectedValue);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n                    }\r\n                });\r\n\r\n5. Make loop and if statement inside it for comparison all product name equal with variable which you already create in last step. Create this in other function and call it inside onItemSelected\r\n\r\n        public void compare(String selectedValue){\r\n         mDataRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()) {\r\n                    /*Next Step*/\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n}\r\n\r\n6. If equals, retrieve data you needed and set it to textview or edittext\r\n\r\n       for (DataSnapshot ds : snapshot.getChildren()) {\r\n                    if(ds.child(snapshot.getKey()).child(&quot;name&quot;).equals(selectedValue)){\r\n\t\t\tString rate = String.valueOf(ds.child(snapshot.getKey()).child(&quot;product_rate&quot;));\r\n            String quantity = String.valueOf(ds.child(snapshot.getKey()).child(&quot;product_stock_qty&quot;));\r\n\t\t\ttextview1.setText(rate);\r\n\t\t\ttextview2.setText(quantity);\r\n\t\t\tbreak;\r\n                    }\r\n                }\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-retrieve-data-from-the-firebase-realtime-database-in-android/#:~:text=After%20creating%20a%20new%20project,Navigate%20to%20Firebase%20Realtime%20Database.\r\n  [2]: https://www.geeksforgeeks.org/spinner-in-android-using-java-with-example/","title":"How to get Firebase Data using Spinner Android Studio Java","body":"<p>I think it possible with do like this</p>\n<ol>\n<li><p>Retrieve all product name or you can change it to other data, <a href=\"https://www.geeksforgeeks.org/how-to-retrieve-data-from-the-firebase-realtime-database-in-android/#:%7E:text=After%20creating%20a%20new%20project,Navigate%20to%20Firebase%20Realtime%20Database.\" rel=\"nofollow noreferrer\">You can follow this link</a></p>\n<pre><code> FirebaseDatabase mDatabase = FirebaseDatabase.getInstance();\n DatabaseReference mDataRef = mDatabase.getReference().child(&quot;stock&quot;);\n Arraylist list;\n TextView textview1;\n TextView textview2;\n Spinner spinner;\n\n textview1 = findViewById(YourId1);\n textview2 = findViewById(YourId2);\n spinner = findViewById(YourId3);\n list = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n<li><p>Store it to arraylist, you can do it with looping</p>\n<pre><code> mDataRef.addValueEventListener(new ValueEventListener() {\n     @Override\n     public void onDataChange(@NonNull DataSnapshot snapshot) {\n         list.clear();\n         for (DataSnapshot ds : snapshot.getChildren()) {\n             String name  = String.valueOf(ds.child(snapshot.getKey()).child(&quot;name&quot;));\n             list.add(name);\n         }\n     }\n\n     @Override\n     public void onCancelled(@NonNull DatabaseError error) {\n     }\n });\n</code></pre>\n</li>\n<li><p>Create spinner dan make arraylist as spinner value, <a href=\"https://www.geeksforgeeks.org/spinner-in-android-using-java-with-example/\" rel=\"nofollow noreferrer\">You can follow this tutorial</a></p>\n<pre><code>spinner = findViewById(/*Your Id Here*/);\nArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(DetailTransactionActivity.this, R.layout.support_simple_spinner_dropdown_item, list);\nspinner.setAdapter(adapter);\n</code></pre>\n</li>\n<li><p>Select value of spinner and make new variable which have value of selected spinner value</p>\n<pre><code>spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n             @Override\n             public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n                 String selectedValue = list.get(position);\n                 compare(selectedValue);\n             }\n\n             @Override\n             public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n             }\n         });\n</code></pre>\n</li>\n<li><p>Make loop and if statement inside it for comparison all product name equal with variable which you already create in last step. Create this in other function and call it inside onItemSelected</p>\n<pre><code> public void compare(String selectedValue){\n  mDataRef.addValueEventListener(new ValueEventListener() {\n     @Override\n     public void onDataChange(@NonNull DataSnapshot snapshot) {\n         for (DataSnapshot ds : snapshot.getChildren()) {\n             /*Next Step*/\n         }\n     }\n\n     @Override\n     public void onCancelled(@NonNull DatabaseError error) {\n     }\n });\n</code></pre>\n</li>\n</ol>\n<p>}</p>\n<ol start=\"6\">\n<li><p>If equals, retrieve data you needed and set it to textview or edittext</p>\n<pre><code>for (DataSnapshot ds : snapshot.getChildren()) {\n             if(ds.child(snapshot.getKey()).child(&quot;name&quot;).equals(selectedValue)){\n     String rate = String.valueOf(ds.child(snapshot.getKey()).child(&quot;product_rate&quot;));\n     String quantity = String.valueOf(ds.child(snapshot.getKey()).child(&quot;product_stock_qty&quot;));\n     textview1.setText(rate);\n     textview2.setText(quantity);\n     break;\n             }\n         }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19163875,"reputation":3,"user_id":13999059,"display_name":"Haroon Rasheed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73063587,"answer_count":1,"score":0,"last_activity_date":1658463628,"creation_date":1658318447,"question_id":73051298,"body_markdown":"I Need to get Firebase Realtime Database Data Using Spinner.\r\n\r\nLike Spinner - **Product Name** \r\n\r\nAfter selecting Product Name need to fetch data automatically **Rate** and **Stock Quantity**\r\n\r\n![Database Screenshot][1]\r\n\r\n\r\n![Stock Row Screenshot][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zHIU1.png\r\n  [2]: https://i.stack.imgur.com/rITRh.png\r\n\r\n\r\n    public class ChrompetSalesFillAdapter extends RecyclerView.Adapter&lt;ChrompetSalesFillAdapter.MyViewHolder&gt; {\r\n\r\n        Context context;\r\n        ArrayList&lt;Model&gt; fill_list;\r\n\r\n        public ChrompetSalesFillAdapter(Context context, ArrayList&lt;Model&gt; fill_list){\r\n            this.context = context;\r\n            this.fill_list = fill_list;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public ChrompetSalesFillAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.sales_report_row, parent, false);\r\n            return new ChrompetSalesFillAdapter.MyViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ChrompetSalesFillAdapter.MyViewHolder holder, int position) {\r\n            Model model = fill_list.get(position);\r\n            \r\n            holder._stock_qty.setText(model.getProduct_stock_qty());\r\n            holder._product_rate.setText(model.getProduct_rate());\r\n            holder._product_id.setText(model.getProduct_id());\r\n\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return fill_list.size();\r\n        }\r\n\r\n        public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            TextView  _product_rate, _stock_qty,_product_name,_product_id;\r\n\r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n\r\n                _product_name = itemView.findViewById(R.id.product_name_sales_fill);\r\n                _product_id =itemView.findViewById(R.id.pro_id_sales_fill);\r\n                _product_rate = itemView.findViewById(R.id.rate_chr_sales_fill);\r\n                _stock_qty = itemView.findViewById(R.id.stock_chr_sales_fill);\r\n\r\n            }\r\n        }\r\n    }\r\n","title":"How to get Firebase Data using Spinner Android Studio Java","body":"<p>I Need to get Firebase Realtime Database Data Using Spinner.</p>\n<p>Like Spinner - <strong>Product Name</strong></p>\n<p>After selecting Product Name need to fetch data automatically <strong>Rate</strong> and <strong>Stock Quantity</strong></p>\n<p><img src=\"https://i.stack.imgur.com/zHIU1.png\" alt=\"Database Screenshot\" /></p>\n<p><img src=\"https://i.stack.imgur.com/rITRh.png\" alt=\"Stock Row Screenshot\" /></p>\n<pre><code>public class ChrompetSalesFillAdapter extends RecyclerView.Adapter&lt;ChrompetSalesFillAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;Model&gt; fill_list;\n\n    public ChrompetSalesFillAdapter(Context context, ArrayList&lt;Model&gt; fill_list){\n        this.context = context;\n        this.fill_list = fill_list;\n    }\n\n    @NonNull\n    @Override\n    public ChrompetSalesFillAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.sales_report_row, parent, false);\n        return new ChrompetSalesFillAdapter.MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ChrompetSalesFillAdapter.MyViewHolder holder, int position) {\n        Model model = fill_list.get(position);\n        \n        holder._stock_qty.setText(model.getProduct_stock_qty());\n        holder._product_rate.setText(model.getProduct_rate());\n        holder._product_id.setText(model.getProduct_id());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return fill_list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView  _product_rate, _stock_qty,_product_name,_product_id;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            _product_name = itemView.findViewById(R.id.product_name_sales_fill);\n            _product_id =itemView.findViewById(R.id.pro_id_sales_fill);\n            _product_rate = itemView.findViewById(R.id.rate_chr_sales_fill);\n            _stock_qty = itemView.findViewById(R.id.stock_chr_sales_fill);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658461446,"creation_date":1658426685,"answer_id":73070838,"question_id":73069508,"body_markdown":"You should always create the `RichTextString` using \t`CreationHelper.createRichTextString(java.lang.String text)` where `CreationHelper` comes from `Workbook.getCreationHelper()`. So you can be sure, that the created `RichTextString` always is of same type as the workbook. For example `HSSFRichTextString` from a `HSSFCreationHelper`, `XSSFRichTextString` from a `XSSFCreationHelper` and `XSSFRichTextString` for streaming `SXSSF` from a `SXSSFCreationHelper`. When created using the constructors that is not always guaranteed.\r\n\r\nBut using `SXSSF` there is an issue when `SXSSFWorkbook` uses inline strings instead of a shared strings table. This is the default in `SXSSF` because inline strings are better usable in the streaming approach. But Apache POI fails to create rich text content in inline strings. It only creates rich text content in the shared strings table, which is the default in Excel.\r\n\r\nSo using `Workbook workbook = new SXSSFWorkbook();` no rich text cell content can be created. One needs using `Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(), 100, false, true);` which tells to create a `SXSSFWorkbook` from a new empty `XSSFWorkbook`,  using the default `rowAccessWindowSize ` of  100, not to use gzip compression for temporary files and to use a shared strings table.\r\n\r\nFollowing code will work for all kinds of `Workbook` and create rich text cell content.\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    class CreateExcelRichTextString {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //Workbook workbook = new XSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\r\n      //Workbook workbook = new HSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xls&quot;);\r\n      \r\n      //Workbook workbook = new SXSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\r\n      Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(), 100, false, true); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\r\n    \r\n      CreationHelper creationHelper = workbook.getCreationHelper();\r\n    \r\n      Font font = workbook.createFont(); // default font\r\n      Font fontBold = workbook.createFont();\r\n      fontBold.setBold(true);\r\n      Font fontItalic  = workbook.createFont();\r\n      fontItalic.setItalic(true);\r\n    \r\n      String text = &quot;This is some sample content.&quot;;\r\n      RichTextString richTextString = creationHelper.createRichTextString(text);\r\n      String word = &quot;some&quot;;\r\n      int startIndex = text.indexOf(word);\r\n      int endIndex = startIndex + word.length();\r\n      richTextString.applyFont(startIndex, endIndex, fontBold);\r\n      word = &quot;sample&quot;;\r\n      startIndex = text.indexOf(word);\r\n      endIndex = startIndex + word.length();\r\n      richTextString.applyFont(startIndex, endIndex, fontItalic);\r\n    \r\n      Sheet sheet = workbook.createSheet();\r\n      sheet.createRow(0).createCell(0).setCellValue(richTextString);\r\n    \r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n      if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n     }\r\n    }\r\n\r\nConclusion: Stop thinking `SXSSF` is the better `XSSF` because of using streaming approach to save memory usage. It is not. It has disadvantages of it&#39;s own. The structure of spreadsheet application files is nothing what is good to stream bulk data in.\r\n\r\n","title":"In Streaming XSSFWorkbook make part of cell content to bold using apache poi","body":"<p>You should always create the <code>RichTextString</code> using     <code>CreationHelper.createRichTextString(java.lang.String text)</code> where <code>CreationHelper</code> comes from <code>Workbook.getCreationHelper()</code>. So you can be sure, that the created <code>RichTextString</code> always is of same type as the workbook. For example <code>HSSFRichTextString</code> from a <code>HSSFCreationHelper</code>, <code>XSSFRichTextString</code> from a <code>XSSFCreationHelper</code> and <code>XSSFRichTextString</code> for streaming <code>SXSSF</code> from a <code>SXSSFCreationHelper</code>. When created using the constructors that is not always guaranteed.</p>\n<p>But using <code>SXSSF</code> there is an issue when <code>SXSSFWorkbook</code> uses inline strings instead of a shared strings table. This is the default in <code>SXSSF</code> because inline strings are better usable in the streaming approach. But Apache POI fails to create rich text content in inline strings. It only creates rich text content in the shared strings table, which is the default in Excel.</p>\n<p>So using <code>Workbook workbook = new SXSSFWorkbook();</code> no rich text cell content can be created. One needs using <code>Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(), 100, false, true);</code> which tells to create a <code>SXSSFWorkbook</code> from a new empty <code>XSSFWorkbook</code>,  using the default <code>rowAccessWindowSize </code> of  100, not to use gzip compression for temporary files and to use a shared strings table.</p>\n<p>Following code will work for all kinds of <code>Workbook</code> and create rich text cell content.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nclass CreateExcelRichTextString {\n\n public static void main(String[] args) throws Exception {\n\n  //Workbook workbook = new XSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\n  //Workbook workbook = new HSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xls&quot;);\n  \n  //Workbook workbook = new SXSSFWorkbook(); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\n  Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(), 100, false, true); FileOutputStream out = new FileOutputStream(&quot;./Excel.xlsx&quot;);\n\n  CreationHelper creationHelper = workbook.getCreationHelper();\n\n  Font font = workbook.createFont(); // default font\n  Font fontBold = workbook.createFont();\n  fontBold.setBold(true);\n  Font fontItalic  = workbook.createFont();\n  fontItalic.setItalic(true);\n\n  String text = &quot;This is some sample content.&quot;;\n  RichTextString richTextString = creationHelper.createRichTextString(text);\n  String word = &quot;some&quot;;\n  int startIndex = text.indexOf(word);\n  int endIndex = startIndex + word.length();\n  richTextString.applyFont(startIndex, endIndex, fontBold);\n  word = &quot;sample&quot;;\n  startIndex = text.indexOf(word);\n  endIndex = startIndex + word.length();\n  richTextString.applyFont(startIndex, endIndex, fontItalic);\n\n  Sheet sheet = workbook.createSheet();\n  sheet.createRow(0).createCell(0).setCellValue(richTextString);\n\n  workbook.write(out);\n  out.close();\n  workbook.close();\n  if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n }\n}\n</code></pre>\n<p>Conclusion: Stop thinking <code>SXSSF</code> is the better <code>XSSF</code> because of using streaming approach to save memory usage. It is not. It has disadvantages of it's own. The structure of spreadsheet application files is nothing what is good to stream bulk data in.</p>\n"}],"owner":{"account_id":6135295,"reputation":23,"user_id":4784368,"display_name":"Dipak Dutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73070838,"answer_count":1,"score":0,"last_activity_date":1658461446,"creation_date":1658419932,"question_id":73069508,"body_markdown":"I am trying following two sets of code to make part of the cell content bold/italic in streaming XSSFWorkbook that is SXSSFWorkbook. But it is not working. Any help in this regard is appreciated.\r\n\r\nThe cell content should look like following\r\n\r\nThis is ***sample*** *content*\r\n\r\n```\r\ntry (SXSSFWorkbook wb = new SXSSFWorkbook()) {\r\n    SXSSFSheet sheet = wb.createSheet(&quot;With Rich Text&quot;);\r\n\tRow row = sheet.createRow(0);\r\n\tCell cell = row.createCell(0);\r\n\r\n\tXSSFFont fontPlain = (XSSFFont) wb.createFont();\r\n\r\n\tXSSFFont fontBoldItalic = (XSSFFont) wb.createFont();\r\n\tfontBoldItalic.setBold(true);\r\n\tfontBoldItalic.setItalic(true);\r\n\r\n\tXSSFFont fontItalic = (XSSFFont) wb.createFont();\r\n\tfontItalic.setItalic(true);\r\n\r\n\tXSSFRichTextString cell1Value= new XSSFRichTextString();\r\n\tcell1Value.append(&quot;This is &quot;);\r\n\tcell1Value.append(&quot;sample &quot;, fontBoldItalic);\r\n\tcell1Value.append(&quot;content&quot;, fontItalic);\r\n\r\n\tcell.setCellValue(cell1Value);\r\n\twb.write(new FileOutputStream(&quot;BoldFile.xlsx&quot;));\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\nAlso following code does the same. The cell content should look like following\r\n\r\nHello **World**\r\n\r\n```\r\ntry (SXSSFWorkbook wb = new SXSSFWorkbook()) {\r\n\tSXSSFSheet sheet = wb.createSheet(&quot;With Rich Text&quot;);\r\n\tRow row = sheet.createRow(0);\r\n\tCell cell = row.createCell(0);\r\n\t\r\n\tFont fontBold = wb.createFont();\r\n\tfontBold.setBold(true);\r\n\t\r\n\tString value = &quot;Hello World&quot;;\r\n\tString subValue = &quot;World&quot;;\r\n\t\r\n\tcell.setCellValue(value);\r\n\tRichTextString rts = cell.getRichStringCellValue();\r\n\trts.applyFont(value.indexOf(subValue), value.length(), fontBold);\r\n\tcell.setCellValue(rts);\r\n\r\n\twb.write(new FileOutputStream(&quot;BoldFile.xlsx&quot;));\r\n\t\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\n","title":"In Streaming XSSFWorkbook make part of cell content to bold using apache poi","body":"<p>I am trying following two sets of code to make part of the cell content bold/italic in streaming XSSFWorkbook that is SXSSFWorkbook. But it is not working. Any help in this regard is appreciated.</p>\n<p>The cell content should look like following</p>\n<p>This is <em><strong>sample</strong></em> <em>content</em></p>\n<pre><code>try (SXSSFWorkbook wb = new SXSSFWorkbook()) {\n    SXSSFSheet sheet = wb.createSheet(&quot;With Rich Text&quot;);\n    Row row = sheet.createRow(0);\n    Cell cell = row.createCell(0);\n\n    XSSFFont fontPlain = (XSSFFont) wb.createFont();\n\n    XSSFFont fontBoldItalic = (XSSFFont) wb.createFont();\n    fontBoldItalic.setBold(true);\n    fontBoldItalic.setItalic(true);\n\n    XSSFFont fontItalic = (XSSFFont) wb.createFont();\n    fontItalic.setItalic(true);\n\n    XSSFRichTextString cell1Value= new XSSFRichTextString();\n    cell1Value.append(&quot;This is &quot;);\n    cell1Value.append(&quot;sample &quot;, fontBoldItalic);\n    cell1Value.append(&quot;content&quot;, fontItalic);\n\n    cell.setCellValue(cell1Value);\n    wb.write(new FileOutputStream(&quot;BoldFile.xlsx&quot;));\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Also following code does the same. The cell content should look like following</p>\n<p>Hello <strong>World</strong></p>\n<pre><code>try (SXSSFWorkbook wb = new SXSSFWorkbook()) {\n    SXSSFSheet sheet = wb.createSheet(&quot;With Rich Text&quot;);\n    Row row = sheet.createRow(0);\n    Cell cell = row.createCell(0);\n    \n    Font fontBold = wb.createFont();\n    fontBold.setBold(true);\n    \n    String value = &quot;Hello World&quot;;\n    String subValue = &quot;World&quot;;\n    \n    cell.setCellValue(value);\n    RichTextString rts = cell.getRichStringCellValue();\n    rts.applyFont(value.indexOf(subValue), value.length(), fontBold);\n    cell.setCellValue(rts);\n\n    wb.write(new FileOutputStream(&quot;BoldFile.xlsx&quot;));\n    \n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1658461168,"creation_date":1658461168,"answer_id":73074884,"question_id":73074639,"body_markdown":"Add the method to NotificationCompat.Builder:\r\n\r\n```\r\nnew NotificationCompat.Builder(...)\r\n                .setForegroundServiceBehavior(NotificationCompat.FOREGROUND_SERVICE_IMMEDIATE)\r\n```\r\n\r\nFrom [docs][1]:\r\n&gt;Devices that run Android 12 (API level 31) or higher provide a streamlined experience for short-running foreground services. On these devices, the system waits 10 seconds before showing the notification associated with a foreground service. There are a few exceptions; several types of services always display a notification immediately.\r\n\r\n&gt;If a foreground service has at least one of the following characteristics, the system shows the associated notification immediately after the service starts, even on devices that run Android 12 or higher:\r\n&gt;\r\n&gt; - The service is associated with a notification that includes action buttons.\r\n&gt; - The service has a foregroundServiceType of mediaPlayback, mediaProjection, or phoneCall.\r\n&gt; - The service provides a use case related to phone calls, navigation, or media playback, as defined in the notification&#39;s category attribute.\r\n&gt; - The service has opted out of the behavior change by passing FOREGROUND_SERVICE_IMMEDIATE into setForegroundServiceBehavior() when setting up the notification.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/foreground-services","title":"Android Foreground Service Notification Delayed","body":"<p>Add the method to NotificationCompat.Builder:</p>\n<pre><code>new NotificationCompat.Builder(...)\n                .setForegroundServiceBehavior(NotificationCompat.FOREGROUND_SERVICE_IMMEDIATE)\n</code></pre>\n<p>From <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Devices that run Android 12 (API level 31) or higher provide a streamlined experience for short-running foreground services. On these devices, the system waits 10 seconds before showing the notification associated with a foreground service. There are a few exceptions; several types of services always display a notification immediately.</p>\n</blockquote>\n<blockquote>\n<p>If a foreground service has at least one of the following characteristics, the system shows the associated notification immediately after the service starts, even on devices that run Android 12 or higher:</p>\n<ul>\n<li>The service is associated with a notification that includes action buttons.</li>\n<li>The service has a foregroundServiceType of mediaPlayback, mediaProjection, or phoneCall.</li>\n<li>The service provides a use case related to phone calls, navigation, or media playback, as defined in the notification's category attribute.</li>\n<li>The service has opted out of the behavior change by passing FOREGROUND_SERVICE_IMMEDIATE into setForegroundServiceBehavior() when setting up the notification.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73074884,"answer_count":1,"score":4,"last_activity_date":1658461168,"creation_date":1658458523,"question_id":73074639,"body_markdown":"I&#39;ve run into a peculiar issue with the app I am building (compile/target SDK 31, min SDK 24). I have a timer service that needs to run if the app/activity is no longer in the foreground. On the onPause of my activity I launch my service as such:\r\n```\r\nIntent serviceIntent = new Intent(activity, TimerService.class);\r\nstartService(serviceIntent);\r\n```\r\n\r\nThe service launches perfectly fine as when I observe the console logs it is doing the proper calculations for calculating the remaining time.\r\n\r\nThe problem I have run into is that when the app first launches, or strangely enough if it has been idle for say 5+ minutes (usually idle in the background while I use other apps), when I first launch the service the first notification is delayed by upwards of 15 seconds. Since the service is indeed running, it&#39;s as if all the notification requests in those 15 seconds are being ignored by the phone because the first notification that appears will start at the right time (e.g. 45 seconds remaining if the timer is set to 1 minute).\r\n\r\nThe service looks like this: \r\n```\r\n    public static final int timerRunningId = 1;\r\n\r\n    private Timer timer;\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        startForeground(timerRunningId, timerRunningNotification(&quot;Timer starting...&quot;));\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(final Intent intent, int flags, int startId) {\r\n        timer = new Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                // timer logic, ignored for brevity but it would be calculate the timestamp needed for method below\r\n                Notification notification = timerRunningNotification(&quot;dummyTimestamp&quot;);\r\n                updateNotification(displayTime);\r\n            }\r\n        }, 0, 500);\r\n        return START_REDELIVER_INTENT;\r\n    }\r\n\r\n    private void updateNotification(Notification notification ) {\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.notify(timerRunningId, notification);\r\n    }\r\n\r\n    private Notification timerRunningNotification(String content) {\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent contentIntent = PendingIntent.getActivity(this,\r\n                65, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n        return new NotificationCompat.Builder(this, Variables.TIMER_RUNNING_CHANNEL) // note i define this in my MainActivity according to the docs\r\n                .setContentTitle(&quot;Timer&quot;)\r\n                .setContentText(content)\r\n                .setSmallIcon(R.drawable.notification_icon)\r\n                .setSound(null)\r\n                .setContentIntent(contentIntent)\r\n                .setOnlyAlertOnce(true)\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nIt was my understanding that the service would start in the onCreate() and initialize a notification with id=1 saying &quot;Timer starting&quot; and would immediately get replaced by the counting down timer notifications since the updateNotification method updates to the same id=1.\r\n\r\nSince this bug only happens if the app first launched or has been idle for a while, I am having a hard time debugging what could be wrong. After the bug occurs I can use the timer perfectly and the moment the service starts the notification shows properly.\r\n\r\nAnyone have any ideas as to what is happening? I wrote the code for this nearly two years ago so it&#39;s possible there is a better way of launching notifications, but from what I saw in the docs my updateNotification method should be valid.\r\n\r\nThe device I am testing this on is running Android 12, so I&#39;m also curious if maybe it is only specific to certain devices (I don&#39;t ever remember seeing this bug in my version I released two years ago before Android 12)","title":"Android Foreground Service Notification Delayed","body":"<p>I've run into a peculiar issue with the app I am building (compile/target SDK 31, min SDK 24). I have a timer service that needs to run if the app/activity is no longer in the foreground. On the onPause of my activity I launch my service as such:</p>\n<pre><code>Intent serviceIntent = new Intent(activity, TimerService.class);\nstartService(serviceIntent);\n</code></pre>\n<p>The service launches perfectly fine as when I observe the console logs it is doing the proper calculations for calculating the remaining time.</p>\n<p>The problem I have run into is that when the app first launches, or strangely enough if it has been idle for say 5+ minutes (usually idle in the background while I use other apps), when I first launch the service the first notification is delayed by upwards of 15 seconds. Since the service is indeed running, it's as if all the notification requests in those 15 seconds are being ignored by the phone because the first notification that appears will start at the right time (e.g. 45 seconds remaining if the timer is set to 1 minute).</p>\n<p>The service looks like this:</p>\n<pre><code>    public static final int timerRunningId = 1;\n\n    private Timer timer;\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        startForeground(timerRunningId, timerRunningNotification(&quot;Timer starting...&quot;));\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(final Intent intent, int flags, int startId) {\n        timer = new Timer();\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                // timer logic, ignored for brevity but it would be calculate the timestamp needed for method below\n                Notification notification = timerRunningNotification(&quot;dummyTimestamp&quot;);\n                updateNotification(displayTime);\n            }\n        }, 0, 500);\n        return START_REDELIVER_INTENT;\n    }\n\n    private void updateNotification(Notification notification ) {\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(timerRunningId, notification);\n    }\n\n    private Notification timerRunningNotification(String content) {\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent contentIntent = PendingIntent.getActivity(this,\n                65, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n        return new NotificationCompat.Builder(this, Variables.TIMER_RUNNING_CHANNEL) // note i define this in my MainActivity according to the docs\n                .setContentTitle(&quot;Timer&quot;)\n                .setContentText(content)\n                .setSmallIcon(R.drawable.notification_icon)\n                .setSound(null)\n                .setContentIntent(contentIntent)\n                .setOnlyAlertOnce(true)\n                .build();\n    }\n\n</code></pre>\n<p>It was my understanding that the service would start in the onCreate() and initialize a notification with id=1 saying &quot;Timer starting&quot; and would immediately get replaced by the counting down timer notifications since the updateNotification method updates to the same id=1.</p>\n<p>Since this bug only happens if the app first launched or has been idle for a while, I am having a hard time debugging what could be wrong. After the bug occurs I can use the timer perfectly and the moment the service starts the notification shows properly.</p>\n<p>Anyone have any ideas as to what is happening? I wrote the code for this nearly two years ago so it's possible there is a better way of launching notifications, but from what I saw in the docs my updateNotification method should be valid.</p>\n<p>The device I am testing this on is running Android 12, so I'm also curious if maybe it is only specific to certain devices (I don't ever remember seeing this bug in my version I released two years ago before Android 12)</p>\n"},{"tags":["java","oracle","jdbc","try-catch"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1658473060,"post_id":73074631,"comment_id":129064099,"body_markdown":"[Try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) syntax is your friend.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Try-with-resources</a> syntax is your friend."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658461153,"creation_date":1658459878,"answer_id":73074746,"question_id":73074631,"body_markdown":"&gt; _1. Is it necessary to include a catch block in my method if I have a throw?_\r\n\r\nNo, it&#39;s fine to do try-finally. Allowed combinations include try-catch, try-finally, and try-catch-finally.\r\n\r\nThere&#39;s also an option called &quot;try with resources&quot; which _looks_ like a standalone &quot;try&quot; but behind the scenes it behaves like try-finally. There are some examples in the Java Language Spec [section 14.20.3.1](https://docs.oracle.com/javase/specs/jls/se18/html/jls-14.html#jls-14.20.3.1).\r\n\r\n&gt; _2. Is it necessary to try - finally block in my method to handle connection.close?_\r\n\r\nNo, it isn&#39;t strictly necessary – Java will allow you to do it. However, opening connections without closing them will lead to problems over time, so yes you should close them.\r\n\r\n--------------\r\n\r\nHere&#39;s an edit to your posted code showing how you could clean things up by using try-with-resources.\r\n\r\n* There&#39;s an outer try-finally where `xaConnection` is closed – it isn&#39;t possible to do try-with on [`javax.sql.XAConnection`](https://docs.oracle.com/javase/8/docs/api/javax/sql/XAConnection.html) because it doesn&#39;t implement [`java.lang.AutoCloseable`](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html).\r\n* Statement and ResultSet both work with AutoCloseable, so they&#39;re inside try-with-resources blocks.\r\n* Removed the &quot;count&quot; variable –&#160;if you find a value in the result set, just return it; otherwise return 0 (like you were doing)\r\n\r\n```\r\nimport javax.sql.XAConnection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic int count() throws SQLException {\r\n\tString SQL = &quot;SELECT count(*) FROM book&quot;;\r\n    XAConnection xaConnection = dbService.getConnection();\r\n    try {\r\n        try (Statement statement = xaConnection.getConnection().createStatement()) {\r\n            try (ResultSet resultSet = statement.executeQuery(SQL)) {\r\n                if (resultSet.next()) {\r\n                    return resultSet.getInt(1);\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    } finally {\r\n        if (xaConnection != null) {\r\n            xaConnection.close();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Java jdbc handle close connection","body":"<blockquote>\n<p><em>1. Is it necessary to include a catch block in my method if I have a throw?</em></p>\n</blockquote>\n<p>No, it's fine to do try-finally. Allowed combinations include try-catch, try-finally, and try-catch-finally.</p>\n<p>There's also an option called &quot;try with resources&quot; which <em>looks</em> like a standalone &quot;try&quot; but behind the scenes it behaves like try-finally. There are some examples in the Java Language Spec <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-14.html#jls-14.20.3.1\" rel=\"nofollow noreferrer\">section 14.20.3.1</a>.</p>\n<blockquote>\n<p><em>2. Is it necessary to try - finally block in my method to handle connection.close?</em></p>\n</blockquote>\n<p>No, it isn't strictly necessary – Java will allow you to do it. However, opening connections without closing them will lead to problems over time, so yes you should close them.</p>\n<hr />\n<p>Here's an edit to your posted code showing how you could clean things up by using try-with-resources.</p>\n<ul>\n<li>There's an outer try-finally where <code>xaConnection</code> is closed – it isn't possible to do try-with on <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/XAConnection.html\" rel=\"nofollow noreferrer\"><code>javax.sql.XAConnection</code></a> because it doesn't implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>java.lang.AutoCloseable</code></a>.</li>\n<li>Statement and ResultSet both work with AutoCloseable, so they're inside try-with-resources blocks.</li>\n<li>Removed the &quot;count&quot; variable – if you find a value in the result set, just return it; otherwise return 0 (like you were doing)</li>\n</ul>\n<pre><code>import javax.sql.XAConnection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic int count() throws SQLException {\n    String SQL = &quot;SELECT count(*) FROM book&quot;;\n    XAConnection xaConnection = dbService.getConnection();\n    try {\n        try (Statement statement = xaConnection.getConnection().createStatement()) {\n            try (ResultSet resultSet = statement.executeQuery(SQL)) {\n                if (resultSet.next()) {\n                    return resultSet.getInt(1);\n                }\n            }\n        }\n        return 0;\n    } finally {\n        if (xaConnection != null) {\n            xaConnection.close();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19245930,"reputation":9,"user_id":14064961,"display_name":"Quan Phung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658461153,"creation_date":1658458489,"question_id":73074631,"body_markdown":"I have two question for my problem .\r\n\r\n1.Is it necessary to include a catch block in my method if I have a throw?\r\n\r\n2.Is it necessary to try - finally block in my method to handle connection.close?\r\n```\r\npublic int count() throws SQLException {\r\n    XAConnection xaConnection=null;\r\n    Statement statement=null;\r\n    ResultSet resultSet=null;\r\n    int count  =0;\r\n    try{\r\n      String SQL = &quot;SELECT count(*) FROM book&quot;;\r\n      xaConnection = dbService.getConnection();\r\n      statement = xaConnection.getConnection().createStatement();\r\n      resultSet = statement.executeQuery(SQL);\r\n      if(resultSet.next()){\r\n        count = resultSet.getInt(1);\r\n      }\r\n    }\r\n    finally {\r\n      if(xaConnection!= null){\r\n        xaConnection.close();\r\n      }\r\n      if(resultSet != null){\r\n        resultSet.close();\r\n      }\r\n      if(statement != null){\r\n        statement.close();\r\n      }\r\n    }\r\n    return  count;\r\n  }\r\n```","title":"Java jdbc handle close connection","body":"<p>I have two question for my problem .</p>\n<p>1.Is it necessary to include a catch block in my method if I have a throw?</p>\n<p>2.Is it necessary to try - finally block in my method to handle connection.close?</p>\n<pre><code>public int count() throws SQLException {\n    XAConnection xaConnection=null;\n    Statement statement=null;\n    ResultSet resultSet=null;\n    int count  =0;\n    try{\n      String SQL = &quot;SELECT count(*) FROM book&quot;;\n      xaConnection = dbService.getConnection();\n      statement = xaConnection.getConnection().createStatement();\n      resultSet = statement.executeQuery(SQL);\n      if(resultSet.next()){\n        count = resultSet.getInt(1);\n      }\n    }\n    finally {\n      if(xaConnection!= null){\n        xaConnection.close();\n      }\n      if(resultSet != null){\n        resultSet.close();\n      }\n      if(statement != null){\n        statement.close();\n      }\n    }\n    return  count;\n  }\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":3,"creation_date":1658462767,"post_id":73074794,"comment_id":129062086,"body_markdown":"I&#39;m not certain, but I think it isn&#39;t possible. In [13.2.6.2 INSERT ... ON DUPLICATE KEY UPDATE](https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html), it describes that an insert with an AUTO_INCREMENT column will return the [LAST_INSERT_ID()](https://dev.mysql.com/doc/refman/8.0/en/information-functions.html#function_last-insert-id) value – that&#39;s what you&#39;re seeing. When the &quot;update&quot; path is followed, there is no equivalent (because nothing was inserted).","body":"I&#39;m not certain, but I think it isn&#39;t possible. In <a href=\"https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html\" rel=\"nofollow noreferrer\">13.2.6.2 INSERT ... ON DUPLICATE KEY UPDATE</a>, it describes that an insert with an AUTO_INCREMENT column will return the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/information-functions.html#function_last-insert-id\" rel=\"nofollow noreferrer\">LAST_INSERT_ID()</a> value – that&#39;s what you&#39;re seeing. When the &quot;update&quot; path is followed, there is no equivalent (because nothing was inserted)."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":2,"creation_date":1658462865,"post_id":73074794,"comment_id":129062103,"body_markdown":"INSERT [ODKU] cannot return row(s). If you want to obtain existing duplicated key expression value then you must use one more SELECT query where you use the values to be inserted in the conditions before the insertion. PS. You may use VALUES() function in ODKU part and do not provide the same values twice.","body":"INSERT [ODKU] cannot return row(s). If you want to obtain existing duplicated key expression value then you must use one more SELECT query where you use the values to be inserted in the conditions before the insertion. PS. You may use VALUES() function in ODKU part and do not provide the same values twice."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1658467591,"post_id":73074794,"comment_id":129062824,"body_markdown":"@Akina Yes it can, but only for generated keys. No key is generated when there is a duplicate, so none is returned.","body":"@Akina Yes it can, but only for generated keys. No key is generated when there is a duplicate, so none is returned."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1658469145,"post_id":73074794,"comment_id":129063153,"body_markdown":"@user207421 ??? Imagine that your table contains unique `(col1, col2)`. You want to insert `(&#39;val1&#39;,&#39;val2&#39;)`. You query `SELECT id FROM table WHERE (col1, col2) = (&#39;val1&#39;,&#39;val2&#39;)`. If none returned then no interference by this unique key, and INSERT will insert new row. But if the row exists then you&#39;ll receive according PK value from the row which will be updated. Of course you must test each unique key which exists in the table.","body":"@user207421 ??? Imagine that your table contains unique <code>(col1, col2)</code>. You want to insert <code>(&#39;val1&#39;,&#39;val2&#39;)</code>. You query <code>SELECT id FROM table WHERE (col1, col2) = (&#39;val1&#39;,&#39;val2&#39;)</code>. If none returned then no interference by this unique key, and INSERT will insert new row. But if the row exists then you&#39;ll receive according PK value from the row which will be updated. Of course you must test each unique key which exists in the table."}],"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658460335,"creation_date":1658460335,"question_id":73074794,"body_markdown":"I am creating a prepared statement for MySQL and need to get the generated key if successful or the existing key if a duplicate. However, it is returning zero if a duplicate.\r\n\r\nJava creation of prepared statement: \r\n\r\n    String updateQryAward = (&quot;INSERT INTO at_cub_awards &quot;\r\n    \t\t        + &quot;(cd_id, att_meeting, att_date, att_description, att_new_chum, att_challenge_area) &quot;\r\n    \t\t        + &quot;VALUES (?, ?, ?, ?, ?, ?) &quot;\r\n    \t\t        + &quot;ON DUPLICATE KEY UPDATE att_meeting = ?, att_description = ?, att_new_chum = ?, att_challenge_area = ?;&quot;);\r\n\r\nExecution:\r\n\r\n    ps4 = c.prepareStatement(insertCAQry, Statement.RETURN_GENERATED_KEYS);\r\n    \t\t\t\t    \t            \t\r\n    ps4.setString(1, cdId);\r\n    ps4.setString(2, awId);\r\n    ps4.setString(3, attendance);\r\n    ps4.setString(4, unit);\r\n    \t\t\t\t    \r\n    ps4.executeUpdate();\r\n    \t\t\t    \t\r\n    String caId = null;\r\n    ResultSet rs = ps4.getGeneratedKeys();\r\n    if (rs.next()) {\r\n        caId = rs.getString(1);\r\n    }\r\n    \t\t\t    \t\r\n    // Clean up\r\n    ps4.close();","title":"How to return an existing key on duplicate for a prepared statement (Java 8) insert (MySQL)","body":"<p>I am creating a prepared statement for MySQL and need to get the generated key if successful or the existing key if a duplicate. However, it is returning zero if a duplicate.</p>\n<p>Java creation of prepared statement:</p>\n<pre><code>String updateQryAward = (&quot;INSERT INTO at_cub_awards &quot;\n                + &quot;(cd_id, att_meeting, att_date, att_description, att_new_chum, att_challenge_area) &quot;\n                + &quot;VALUES (?, ?, ?, ?, ?, ?) &quot;\n                + &quot;ON DUPLICATE KEY UPDATE att_meeting = ?, att_description = ?, att_new_chum = ?, att_challenge_area = ?;&quot;);\n</code></pre>\n<p>Execution:</p>\n<pre><code>ps4 = c.prepareStatement(insertCAQry, Statement.RETURN_GENERATED_KEYS);\n                                        \nps4.setString(1, cdId);\nps4.setString(2, awId);\nps4.setString(3, attendance);\nps4.setString(4, unit);\n                    \nps4.executeUpdate();\n                    \nString caId = null;\nResultSet rs = ps4.getGeneratedKeys();\nif (rs.next()) {\n    caId = rs.getString(1);\n}\n                    \n// Clean up\nps4.close();\n</code></pre>\n"},{"tags":["java","command-line","jar","command-line-arguments"],"answers":[{"tags":[],"owner":{"account_id":50625,"reputation":669,"user_id":151105,"accept_rate":60,"display_name":"Jerry"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1376967547,"creation_date":1376967547,"answer_id":18326291,"question_id":18326290,"body_markdown":"My problem, pointed out by my co-worker, is that I was specifying the jar file before the options:\r\n\r\n    nohup nice /usr/bin/java -DJENKINS_HOME=/opt/jenkins/CI -Dorg.apache.commons.jelly.tags.fmt.timeZone=America/New_York -Djava.awt.headless=true -jar jenkins.war -XX:MaxPermSize=2048m -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled\r\n\r\nIt should have been:\r\n\r\n    nohup nice /usr/bin/java -DJENKINS_HOME=/opt/jenkins/CI -Dorg.apache.commons.jelly.tags.fmt.timeZone=America/New_York -Djava.awt.headless=true -XX:MaxPermSize=2048m -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled -jar jenkins.war\r\n\r\nSimple mistake, but (aside from the documentation, which I unfortunately glossed over), I haven&#39;t seen anywhere that XX options must precede the jar file on the java command line.\r\n","title":"Unexpected java.lang.IllegalArgumentException when calling a jar file","body":"<p>My problem, pointed out by my co-worker, is that I was specifying the jar file before the options:</p>\n\n<pre><code>nohup nice /usr/bin/java -DJENKINS_HOME=/opt/jenkins/CI -Dorg.apache.commons.jelly.tags.fmt.timeZone=America/New_York -Djava.awt.headless=true -jar jenkins.war -XX:MaxPermSize=2048m -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled\n</code></pre>\n\n<p>It should have been:</p>\n\n<pre><code>nohup nice /usr/bin/java -DJENKINS_HOME=/opt/jenkins/CI -Dorg.apache.commons.jelly.tags.fmt.timeZone=America/New_York -Djava.awt.headless=true -XX:MaxPermSize=2048m -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled -jar jenkins.war\n</code></pre>\n\n<p>Simple mistake, but (aside from the documentation, which I unfortunately glossed over), I haven't seen anywhere that XX options must precede the jar file on the java command line.</p>\n"}],"owner":{"account_id":50625,"reputation":669,"user_id":151105,"accept_rate":60,"display_name":"Jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6276,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18326291,"answer_count":1,"score":5,"last_activity_date":1658460032,"creation_date":1376967547,"question_id":18326290,"body_markdown":"I am trying to run the Jenkins war file with some additional Java options as suggested [in this answer](https://stackoverflow.com/a/88262/151105), but I get the exception:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:601)\r\n        at Main._main(Main.java:288)\r\n        at Main.main(Main.java:98)\r\nCaused by: java.lang.IllegalArgumentException: Multiple command line argument specified: -XX:+CMSClassUnloadingEnabled\r\n        at winstone.cmdline.CmdLineParser.parse(CmdLineParser.java:68)\r\n        at winstone.Launcher.getArgsFromCommandLine(Launcher.java:391)\r\n        at winstone.Launcher.main(Launcher.java:359)\r\n        ... 6 more\r\n```","title":"Unexpected java.lang.IllegalArgumentException when calling a jar file","body":"<p>I am trying to run the Jenkins war file with some additional Java options as suggested <a href=\"https://stackoverflow.com/a/88262/151105\">in this answer</a>, but I get the exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at Main._main(Main.java:288)\n        at Main.main(Main.java:98)\nCaused by: java.lang.IllegalArgumentException: Multiple command line argument specified: -XX:+CMSClassUnloadingEnabled\n        at winstone.cmdline.CmdLineParser.parse(CmdLineParser.java:68)\n        at winstone.Launcher.getArgsFromCommandLine(Launcher.java:391)\n        at winstone.Launcher.main(Launcher.java:359)\n        ... 6 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","get-mapping"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658455266,"creation_date":1658455266,"answer_id":73074325,"question_id":73074087,"body_markdown":"If you are using Spring data then use @Query to filter . more example find in the below url.\r\nhttps://www.baeldung.com/spring-data-jpa-query","title":"How to filter based on something other than ID","body":"<p>If you are using Spring data then use @Query to filter . more example find in the below url.\n<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n"},{"tags":[],"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658458632,"creation_date":1658458632,"answer_id":73074647,"question_id":73074087,"body_markdown":"1. **Use a java stream pipeline.**\\\r\nassuming that there&#39;s a method filtering the result of your ```listAllMessage()```, we say, ```buildMsgsFromWanted```\r\n```\r\nList&lt;Message&gt; buildMsgsFromWanted(List&lt;Message&gt; allResults){\r\n  // there should be some codes to check the validation of allResults, like ifEmpty() or something like this. then \r\n  List&lt;Message&gt; createdMsgs = allResult.stream().filter((item)-&gt;item.messageCreated()).collect(Collectors.toList());\r\n  return createdMsgs;\r\n}\r\n```\r\n2. **Just query the wanted items.**\\\r\nif ur using MyBatis, in the mapper, ```selectAllMessages()``` should be like this:\r\n```\r\nList&lt;Message&gt; selectAllMessages(Message filter);\r\n```\r\nand in the mapper xml file, the sql should be like:\r\n```\r\n&lt;select id=&quot;selectAllMessages&quot; parameterType=&quot;XXX.XXX.XXX.Message&quot; resultMap=&quot;messageMap&quot;&gt;\r\n  select m.fieldA, m.fieldB, m.filedC, ...., m.is_created, m.is_subscribed from message m\r\n  &lt;where&gt;\r\n    &lt;if test=&quot;messageCreated!=null&quot;&gt; and m.is_created=#{messageCreated}&lt;/if&gt;\r\n    &lt;if test=&quot;messageSubscribed!=null&quot;&gt; and m.is_subscribed=#{messageSubscribed}&lt;/if&gt;\r\n  &lt;/where&gt;\r\n&lt;/select&gt;\r\n```\r\nso whether the ```messageCreated``` and ```messageSubscribed``` are null or not in the parameter ```message``` you pass to ```selectAllMessage``` decides the result, or actually, the sql executed. just call the select method like:\r\n```\r\nMessage queryObj = new Message();\r\nqueryObj.setCreated(null);\r\nqueryObj.setSubscribed(1);\r\nmapper.selectAllMessage(queryObj);\r\n```\r\nthen you&#39;ll get the subscribed messages because the argument in xml file ```if test=&quot;messageSubscribed!=null&quot;``` is true and ```where m.is_subscribed=1``` will be appended to the query sql.The downside is that you must maintain all the parameters as fields in class ```Message``` on which the filter may based.\\\r\nIt&#39;s the same in other dao frameworks, just control the 2 parameters finally passed to sql executed.","title":"How to filter based on something other than ID","body":"<ol>\n<li><strong>Use a java stream pipeline.</strong><br />\nassuming that there's a method filtering the result of your <code>listAllMessage()</code>, we say, <code>buildMsgsFromWanted</code></li>\n</ol>\n<pre><code>List&lt;Message&gt; buildMsgsFromWanted(List&lt;Message&gt; allResults){\n  // there should be some codes to check the validation of allResults, like ifEmpty() or something like this. then \n  List&lt;Message&gt; createdMsgs = allResult.stream().filter((item)-&gt;item.messageCreated()).collect(Collectors.toList());\n  return createdMsgs;\n}\n</code></pre>\n<ol start=\"2\">\n<li><strong>Just query the wanted items.</strong><br />\nif ur using MyBatis, in the mapper, <code>selectAllMessages()</code> should be like this:</li>\n</ol>\n<pre><code>List&lt;Message&gt; selectAllMessages(Message filter);\n</code></pre>\n<p>and in the mapper xml file, the sql should be like:</p>\n<pre><code>&lt;select id=&quot;selectAllMessages&quot; parameterType=&quot;XXX.XXX.XXX.Message&quot; resultMap=&quot;messageMap&quot;&gt;\n  select m.fieldA, m.fieldB, m.filedC, ...., m.is_created, m.is_subscribed from message m\n  &lt;where&gt;\n    &lt;if test=&quot;messageCreated!=null&quot;&gt; and m.is_created=#{messageCreated}&lt;/if&gt;\n    &lt;if test=&quot;messageSubscribed!=null&quot;&gt; and m.is_subscribed=#{messageSubscribed}&lt;/if&gt;\n  &lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n<p>so whether the <code>messageCreated</code> and <code>messageSubscribed</code> are null or not in the parameter <code>message</code> you pass to <code>selectAllMessage</code> decides the result, or actually, the sql executed. just call the select method like:</p>\n<pre><code>Message queryObj = new Message();\nqueryObj.setCreated(null);\nqueryObj.setSubscribed(1);\nmapper.selectAllMessage(queryObj);\n</code></pre>\n<p>then you'll get the subscribed messages because the argument in xml file <code>if test=&quot;messageSubscribed!=null&quot;</code> is true and <code>where m.is_subscribed=1</code> will be appended to the query sql.The downside is that you must maintain all the parameters as fields in class <code>Message</code> on which the filter may based.<br />\nIt's the same in other dao frameworks, just control the 2 parameters finally passed to sql executed.</p>\n"}],"owner":{"account_id":21241428,"reputation":13,"user_id":18439339,"display_name":"google"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73074647,"answer_count":2,"score":0,"last_activity_date":1658458632,"creation_date":1658451888,"question_id":73074087,"body_markdown":"I am trying to build a very small REST API with a mysql database. I am using Spring boot and Tomcat to deploy it locally. One of the services I am working on is to retrieve messages from the database. I have the ability to get ALL the messages created from the database, and I have the ability to filter based on ID but I want to be able to filter based on other parameters as well. The other parameters are called &quot;messageCreated&quot; and &quot;messageSubscribed&quot; they&#39;re both int parameters. \r\n\r\nHere is my Controller class:\r\n\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/messages&quot;)\r\n     public class MessageController {\r\n        @Autowired\r\n         MessageService messageService;\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public List&lt;Message&gt; list() {\r\n        return messageService.listAllMessage();\r\n    }\r\n\r\n\r\n    @GetMapping(value ={&quot;/id&quot;})\r\n    public ResponseEntity&lt;Message&gt; get(@PathVariable Integer id) {\r\n        try {\r\n            Message message = messageService.getMessage(id);\r\n            return new ResponseEntity&lt;Message&gt;(message, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;Message&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void add(@RequestBody Message message) {\r\n        messageService.saveMessage(message);\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; update(@RequestBody Message message, @PathVariable Integer id) {\r\n        try {\r\n            Message existMessage = messageService.getMessage(id);\r\n            message.setId(id);\r\n            messageService.saveMessage(message);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void delete(@PathVariable Integer id) {\r\n\r\n        messageService.deleteMessage(id);\r\n       }\r\n    }\r\n","title":"How to filter based on something other than ID","body":"<p>I am trying to build a very small REST API with a mysql database. I am using Spring boot and Tomcat to deploy it locally. One of the services I am working on is to retrieve messages from the database. I have the ability to get ALL the messages created from the database, and I have the ability to filter based on ID but I want to be able to filter based on other parameters as well. The other parameters are called &quot;messageCreated&quot; and &quot;messageSubscribed&quot; they're both int parameters.</p>\n<p>Here is my Controller class:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n\n@RestController\n@RequestMapping(&quot;/messages&quot;)\n public class MessageController {\n    @Autowired\n     MessageService messageService;\n\n@GetMapping(&quot;&quot;)\npublic List&lt;Message&gt; list() {\n    return messageService.listAllMessage();\n}\n\n\n@GetMapping(value ={&quot;/id&quot;})\npublic ResponseEntity&lt;Message&gt; get(@PathVariable Integer id) {\n    try {\n        Message message = messageService.getMessage(id);\n        return new ResponseEntity&lt;Message&gt;(message, HttpStatus.OK);\n    } catch (NoSuchElementException e) {\n        return new ResponseEntity&lt;Message&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n\n@PostMapping(&quot;/&quot;)\npublic void add(@RequestBody Message message) {\n    messageService.saveMessage(message);\n}\n@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;?&gt; update(@RequestBody Message message, @PathVariable Integer id) {\n    try {\n        Message existMessage = messageService.getMessage(id);\n        message.setId(id);\n        messageService.saveMessage(message);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    } catch (NoSuchElementException e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n@DeleteMapping(&quot;/{id}&quot;)\npublic void delete(@PathVariable Integer id) {\n\n    messageService.deleteMessage(id);\n   }\n}\n</code></pre>\n"},{"tags":["java","android","menu","settings"],"answers":[{"tags":[],"owner":{"account_id":268069,"reputation":8191,"user_id":556613,"accept_rate":80,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344660297,"creation_date":1344660297,"answer_id":11911974,"question_id":11911878,"body_markdown":"You need to create activity_main.xml in your /res/menu dir.  It would look something like this:\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:id=&quot;@+id/settings&quot;\r\n            android:title=&quot;Settings&quot;\r\n            android:icon=&quot;@drawable/settings_icon&quot; /&gt;\r\n        &lt;item android:id=&quot;@+id/about&quot;\r\n            android:title=&quot;About&quot;\r\n            android:icon=&quot;@drawable/about_icon&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\nNote that you should also include icon resources settings_icon.png and about_icon.png in your /res/drawable dir.\r\n\r\n","title":"Create a menu/options when the settings/menu button is pressed on the physical phone","body":"<p>You need to create activity_main.xml in your /res/menu dir.  It would look something like this:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:id=\"@+id/settings\"\n        android:title=\"Settings\"\n        android:icon=\"@drawable/settings_icon\" /&gt;\n    &lt;item android:id=\"@+id/about\"\n        android:title=\"About\"\n        android:icon=\"@drawable/about_icon\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>Note that you should also include icon resources settings_icon.png and about_icon.png in your /res/drawable dir.</p>\n"},{"tags":[],"owner":{"account_id":1473552,"reputation":321,"user_id":1384518,"display_name":"shassss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344679782,"creation_date":1344679782,"answer_id":11913765,"question_id":11911878,"body_markdown":"     @Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\tgetMenuInflater().inflate(R.menu.add_account, menu);\r\n\t\treturn true;\r\n\t}","title":"Create a menu/options when the settings/menu button is pressed on the physical phone","body":"<pre><code> @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.add_account, menu);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":1738827,"reputation":187,"user_id":1590796,"accept_rate":45,"display_name":"ScorpioBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658458498,"creation_date":1344658943,"question_id":11911878,"body_markdown":"I have the standard code as it is for a menu:\r\n\r\n     @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.activity_main, menu);\r\n        return true;\r\n    }\r\n\r\nAnd what I want to do is have 2 options:\r\n1 for settings \r\n1 for about us\r\n\r\nIf you could please help me code this, I would appreciate it. Thanks!","title":"Create a menu/options when the settings/menu button is pressed on the physical phone","body":"<p>I have the standard code as it is for a menu:</p>\n\n<pre><code> @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.activity_main, menu);\n    return true;\n}\n</code></pre>\n\n<p>And what I want to do is have 2 options:\n1 for settings \n1 for about us</p>\n\n<p>If you could please help me code this, I would appreciate it. Thanks!</p>\n"},{"tags":["java","string-formatting","number-formatting"],"comments":[{"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"score":0,"creation_date":1305652433,"post_id":6034523,"comment_id":6978639,"body_markdown":"possible duplicate of [Add leading zeroes in Java](http://stackoverflow.com/questions/275711/add-leading-zeroes-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/275711/add-leading-zeroes-in-java\">Add leading zeroes in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"down_vote_count":1,"up_vote_count":183,"is_accepted":true,"score":182,"last_activity_date":1305652417,"creation_date":1305652417,"answer_id":6034552,"question_id":6034523,"body_markdown":"Use `%03d` in the format specifier for the integer. The `0` means that the number will be zero-filled if it is less than three (in this case) digits.\r\n\r\nSee the [`Formatter`](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html) docs for other modifiers.","title":"Format an Integer using Java String Format","body":"<p>Use <code>%03d</code> in the format specifier for the integer. The <code>0</code> means that the number will be zero-filled if it is less than three (in this case) digits.</p>\n\n<p>See the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\"><code>Formatter</code></a> docs for other modifiers.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":244,"is_accepted":false,"score":244,"last_activity_date":1568571545,"creation_date":1305652586,"answer_id":6034579,"question_id":6034523,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    String.format(&quot;%03d&quot;, 1)  // =&gt; &quot;001&quot;\r\n    //              │││   └── print the number one\r\n    //              ││└────── ... as a decimal integer\r\n    //              │└─────── ... minimum of 3 characters wide\r\n    //              └──────── ... pad with zeroes instead of spaces\r\n\r\nSee [`java.util.Formatter`](https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html) for more information.","title":"Format an Integer using Java String Format","body":"<pre class=\"lang-java prettyprint-override\"><code>String.format(\"%03d\", 1)  // =&gt; \"001\"\n//              │││   └── print the number one\n//              ││└────── ... as a decimal integer\n//              │└─────── ... minimum of 3 characters wide\n//              └──────── ... pad with zeroes instead of spaces\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\"><code>java.util.Formatter</code></a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":179306,"reputation":2770,"user_id":411871,"accept_rate":67,"display_name":"Anil Bharadia"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1501569658,"creation_date":1373369441,"answer_id":17547135,"question_id":6034523,"body_markdown":"If you are using a third party library called apache commons-lang, the following solution can be useful:\r\n\r\nUse `StringUtils` class of apache [commons-lang][1] : \r\n\r\n    int i = 5;\r\n    StringUtils.leftPad(String.valueOf(i), 3, &quot;0&quot;); // --&gt; &quot;005&quot;\r\n\r\nAs `StringUtils.leftPad()` is faster than `String.format()`\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/","title":"Format an Integer using Java String Format","body":"<p>If you are using a third party library called apache commons-lang, the following solution can be useful:</p>\n\n<p>Use <code>StringUtils</code> class of apache <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">commons-lang</a> : </p>\n\n<pre><code>int i = 5;\nStringUtils.leftPad(String.valueOf(i), 3, \"0\"); // --&gt; \"005\"\n</code></pre>\n\n<p>As <code>StringUtils.leftPad()</code> is faster than <code>String.format()</code></p>\n"},{"tags":[],"owner":{"account_id":17526508,"reputation":1,"user_id":12711481,"display_name":"Munawar Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658458430,"creation_date":1658458430,"answer_id":73074624,"question_id":6034523,"body_markdown":"Instead of using String.format(**). it&#39;s good if you use DecimalFormat java API which builds for this type of purposes.Let me explain with code\r\n\r\n        String pattern = &quot;000&quot;;\r\n       double value = 12; //can be 536 or any \r\n       DecimalFormat formatter = new DecimalFormat(pattern);\r\n       String formattedNumber = formatter.format(value);\r\n       System.out.println(&quot;Number:&quot; + value + &quot;, Pattern:&quot; +\r\n                    pattern + &quot;, Formatted Number:&quot; +\r\n                    formattedNumber);","title":"Format an Integer using Java String Format","body":"<p>Instead of using String.format(**). it's good if you use DecimalFormat java API which builds for this type of purposes.Let me explain with code</p>\n<pre><code>    String pattern = &quot;000&quot;;\n   double value = 12; //can be 536 or any \n   DecimalFormat formatter = new DecimalFormat(pattern);\n   String formattedNumber = formatter.format(value);\n   System.out.println(&quot;Number:&quot; + value + &quot;, Pattern:&quot; +\n                pattern + &quot;, Formatted Number:&quot; +\n                formattedNumber);\n</code></pre>\n"}],"owner":{"account_id":347598,"reputation":37435,"user_id":681807,"accept_rate":100,"display_name":"My Head Hurts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333755,"favorite_count":0,"down_vote_count":0,"up_vote_count":148,"accepted_answer_id":6034552,"answer_count":4,"score":148,"last_activity_date":1658458430,"creation_date":1305652268,"question_id":6034523,"body_markdown":"I am wondering if it is possible, using the String.format method in Java, to give an integer preceding zeros?\r\n\r\nFor example:\r\n\r\n1 would become 001&lt;br/&gt;\r\n2 would become 002&lt;br/&gt;\r\n...&lt;br/&gt;\r\n11 would become 011&lt;br/&gt;\r\n12 would become 012&lt;br/&gt;\r\n...&lt;br/&gt;\r\n526 would remain as 526&lt;br/&gt;\r\n...etc&lt;br/&gt;\r\n\r\nAt the moment I have tried the following code:\r\n\r\n    String imageName = &quot;_%3d&quot; + &quot;_%s&quot;;\r\n\r\n    for( int i = 0; i &lt; 1000; i++ ){\r\n        System.out.println( String.format( imageName, i, &quot;foo&quot; ) );\r\n    }\r\n\r\nUnfortunately, this precedes the number with 3 empty spaces. Is it possible to precede the number with zeros instead?\r\n\r\n","title":"Format an Integer using Java String Format","body":"<p>I am wondering if it is possible, using the String.format method in Java, to give an integer preceding zeros?</p>\n\n<p>For example:</p>\n\n<p>1 would become 001<br/>\n2 would become 002<br/>\n...<br/>\n11 would become 011<br/>\n12 would become 012<br/>\n...<br/>\n526 would remain as 526<br/>\n...etc<br/></p>\n\n<p>At the moment I have tried the following code:</p>\n\n<pre><code>String imageName = \"_%3d\" + \"_%s\";\n\nfor( int i = 0; i &lt; 1000; i++ ){\n    System.out.println( String.format( imageName, i, \"foo\" ) );\n}\n</code></pre>\n\n<p>Unfortunately, this precedes the number with 3 empty spaces. Is it possible to precede the number with zeros instead?</p>\n"},{"tags":["java","loops","break"],"comments":[{"owner":{"account_id":25371541,"reputation":117,"user_id":19185251,"display_name":"johncitizen"},"score":3,"creation_date":1656890035,"post_id":72850456,"comment_id":128674942,"body_markdown":"Maybe try to use a debugger to go through the program if you are still confused","body":"Maybe try to use a debugger to go through the program if you are still confused"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1656890346,"post_id":72850456,"comment_id":128674983,"body_markdown":"The best way to tell what will happen when you run a Java program is to run the Java program.","body":"The best way to tell what will happen when you run a Java program is to run the Java program."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656889927,"creation_date":1656889927,"answer_id":72850495,"question_id":72850456,"body_markdown":"&gt; What I am curious about at this point is will the program will start\r\n&gt; the if statement right away as soon as x reaches 6?\r\n\r\n-&gt; The program will then run for integer inner value 3 , \r\nthen x becomes 9 and y becomes 26 . x != 6 , if condition wont be executed then x becomes 12 \r\n\r\n    inner value 2 :\r\n    \r\n    x = 15, y = 24 , x = 18 \r\n    \r\n    inner value 1 : ( the for loop break ) \r\n    x = 18 and y= 22\r\n    \r\n    outer =1 : \r\n    \r\n    inner = 4, x = 24, y = 20 , \r\n    \r\n    inner = 3 , x = 30 , y =18 \r\n    \r\n    inner = 2 , x = 36, y  = 16\r\n    \r\n    inner = 1 ( won&#39;t executed ) \r\n    \r\n     exits inner for loop \r\n    x = 36, y = 14\r\n    outer= 2 ; \r\n    \r\n    inner = 4 : \r\n    x = 42, y = 12\r\n     \r\n    inner = 3 : \r\n    x = 48 , y = 10 ; \r\n    \r\n    inner  =2 \r\n    x = 54, y = 8 \r\n    inner =1 : exits inner for loop \r\n    x = 54 and y = 6 \r\n    \r\n    thus the final values are x = 54, and y = 6 only \r\n\r\n:\r\n","title":"How does this break; syntax work in this code of Java","body":"<blockquote>\n<p>What I am curious about at this point is will the program will start\nthe if statement right away as soon as x reaches 6?</p>\n</blockquote>\n<p>-&gt; The program will then run for integer inner value 3 ,\nthen x becomes 9 and y becomes 26 . x != 6 , if condition wont be executed then x becomes 12</p>\n<pre><code>inner value 2 :\n\nx = 15, y = 24 , x = 18 \n\ninner value 1 : ( the for loop break ) \nx = 18 and y= 22\n\nouter =1 : \n\ninner = 4, x = 24, y = 20 , \n\ninner = 3 , x = 30 , y =18 \n\ninner = 2 , x = 36, y  = 16\n\ninner = 1 ( won't executed ) \n\n exits inner for loop \nx = 36, y = 14\nouter= 2 ; \n\ninner = 4 : \nx = 42, y = 12\n \ninner = 3 : \nx = 48 , y = 10 ; \n\ninner  =2 \nx = 54, y = 8 \ninner =1 : exits inner for loop \nx = 54 and y = 6 \n\nthus the final values are x = 54, and y = 6 only \n</code></pre>\n<p>:</p>\n"},{"tags":[],"owner":{"account_id":22696657,"reputation":26,"user_id":16864682,"display_name":"David_RotU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656890221,"creation_date":1656890221,"answer_id":72850519,"question_id":72850456,"body_markdown":"The if statement will never be true so we can ignore it, the inner loop runs a total of 9 times where you add 6 each time -&gt; 9*6=54=x\r\nand substract 2 9 times = 18, outer loop runs 3 times total where you also substract 2 = 6. y=30-18-6=6. Not sure where your 42 comes from but for clarification just set some breakpoints and let it play through in the debugger ","title":"How does this break; syntax work in this code of Java","body":"<p>The if statement will never be true so we can ignore it, the inner loop runs a total of 9 times where you add 6 each time -&gt; 9*6=54=x\nand substract 2 9 times = 18, outer loop runs 3 times total where you also substract 2 = 6. y=30-18-6=6. Not sure where your 42 comes from but for clarification just set some breakpoints and let it play through in the debugger</p>\n"}],"owner":{"account_id":25512484,"reputation":1,"user_id":19303873,"display_name":"Hoo Lee"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1656915744,"accepted_answer_id":72850495,"answer_count":2,"score":-3,"last_activity_date":1658457874,"creation_date":1656889336,"question_id":72850456,"body_markdown":"```\r\npublic static void main(String[] args) {\r\nint x = 0;\r\nint y = 30;\r\nfor (int outer = 0; outer &lt; 3; outer ++) {\r\n   for (int inner = 4; inner &gt; 1; inner --) {\r\n      x = x + 3;\r\n      y = y - 2;\r\n      if (x == 6) {\r\n         break;\r\n      }\r\n      x = x + 3;\r\n   }\r\n   y = y - 2;\r\n }\r\n System.out.println(x + &quot; &quot; + y);\r\n}\r\n```\r\n\r\n\r\nI was studying with a HeadFirstJava Book (the most recent one published) and I was working on this question. In this code, there is a break statement in the loop. I am not quite sure on which stage that the code will break by itself. Can you show me the process? even if the break statement does not execute, can you tell me why?\r\nThank you!","title":"How does this break; syntax work in this code of Java","body":"<pre><code>public static void main(String[] args) {\nint x = 0;\nint y = 30;\nfor (int outer = 0; outer &lt; 3; outer ++) {\n   for (int inner = 4; inner &gt; 1; inner --) {\n      x = x + 3;\n      y = y - 2;\n      if (x == 6) {\n         break;\n      }\n      x = x + 3;\n   }\n   y = y - 2;\n }\n System.out.println(x + &quot; &quot; + y);\n}\n</code></pre>\n<p>I was studying with a HeadFirstJava Book (the most recent one published) and I was working on this question. In this code, there is a break statement in the loop. I am not quite sure on which stage that the code will break by itself. Can you show me the process? even if the break statement does not execute, can you tell me why?\nThank you!</p>\n"},{"tags":["java","mysql","mariadb","mysql-connector"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1657868028,"post_id":72989927,"comment_id":128916372,"body_markdown":"Have you compared the plans (i.e. explain)? Are the statistics up to date?","body":"Have you compared the plans (i.e. explain)? Are the statistics up to date?"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1657869167,"post_id":72989927,"comment_id":128916655,"body_markdown":"I think there may be a database setting that affects how long of an IN list you can have before it decides a full table scan is the better choice, but I don&#39;t remember what it is.  even without that, doing `from ex_table force index (PRIMARY) where` may help, I&#39;m not sure.  do do an explain in the new and (if you can) old versions to check what it is actually trying, though.","body":"I think there may be a database setting that affects how long of an IN list you can have before it decides a full table scan is the better choice, but I don&#39;t remember what it is.  even without that, doing <code>from ex_table force index (PRIMARY) where</code> may help, I&#39;m not sure.  do do an explain in the new and (if you can) old versions to check what it is actually trying, though."},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1657871667,"post_id":72989927,"comment_id":128917356,"body_markdown":"To answer both the questions, yes I&#39;ve checked the statistics and it&#39;s up to date and have tried with force index as well but no luck with that","body":"To answer both the questions, yes I&#39;ve checked the statistics and it&#39;s up to date and have tried with force index as well but no luck with that"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1657910850,"post_id":72989927,"comment_id":128930597,"body_markdown":"I&#39;m not finding the setting I remember.  Try joining instead: `select id,name,description from (select null id where 0 union all values row(?),row(?),row(?),row(?)) ids join ex_table using (id)`","body":"I&#39;m not finding the setting I remember.  Try joining instead: <code>select id,name,description from (select null id where 0 union all values row(?),row(?),row(?),row(?)) ids join ex_table using (id)</code>"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1657911658,"post_id":72989927,"comment_id":128930817,"body_markdown":"Thanks @ysth for the reply and looking for the database setting. Actually I don&#39;t have any other option then finding the reason &amp; resolving this query itself. It&#39;s the big enterprise system and this is one query from it.","body":"Thanks @ysth for the reply and looking for the database setting. Actually I don&#39;t have any other option then finding the reason &amp; resolving this query itself. It&#39;s the big enterprise system and this is one query from it."},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1657911743,"post_id":72989927,"comment_id":128930842,"body_markdown":"So after our conversation I&#39;ve tried with rewriteBatchedsStatements flag on and it worked wonders but again as per diff forums we can&#39;t trust the result when this flag in on so this option is out as well","body":"So after our conversation I&#39;ve tried with rewriteBatchedsStatements flag on and it worked wonders but again as per diff forums we can&#39;t trust the result when this flag in on so this option is out as well"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1658083689,"post_id":72989927,"comment_id":128957603,"body_markdown":"Please consider posting TEXT results of A) SHOw CREATE TABLE ex_table; B) SHOW TABLE STATUS WHERE name LIKE &#39;ex_table&#39;;  and C) your SELECT query including the FIRST 10 IN values sent to the optimizer  and D) EXPLAIN SELECT ..... rest of your query for 60K id&#39;s.","body":"Please consider posting TEXT results of A) SHOw CREATE TABLE ex_table; B) SHOW TABLE STATUS WHERE name LIKE &#39;ex_table&#39;;  and C) your SELECT query including the FIRST 10 IN values sent to the optimizer  and D) EXPLAIN SELECT ..... rest of your query for 60K id&#39;s."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1658128128,"post_id":72989927,"comment_id":128964387,"body_markdown":"So you build a literal list of 60k elements? Why do you need to do that in the first place?","body":"So you build a literal list of 60k elements? Why do you need to do that in the first place?"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658142299,"post_id":72989927,"comment_id":128969204,"body_markdown":"@WilsonHauck I&#39;ve added what you asked for in the question. Please note that when I execute the last query without prepare because it&#39;s not easy to generate 60k variables on prepare and run manually.","body":"@WilsonHauck I&#39;ve added what you asked for in the question. Please note that when I execute the last query without prepare because it&#39;s not easy to generate 60k variables on prepare and run manually."},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658142383,"post_id":72989927,"comment_id":128969238,"body_markdown":"@Olivier I know that&#39;s the wrong practice but this was working in mysql 5.7. It&#39;s strange that after upgrading to mysql v8 it drastically reduced the performance. This is the one of the example of the query. There may be other queries like this as well","body":"@Olivier I know that&#39;s the wrong practice but this was working in mysql 5.7. It&#39;s strange that after upgrading to mysql v8 it drastically reduced the performance. This is the one of the example of the query. There may be other queries like this as well"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1658144369,"post_id":72989927,"comment_id":128969995,"body_markdown":"There&#39;s nothing strange. When upgrading a database (and you have a big upgrade here), sometimes it happens that some queries (especially poorly written queries) are not optimized anymore. Either rewrite the query properly or don&#39;t upgrade the server.","body":"There&#39;s nothing strange. When upgrading a database (and you have a big upgrade here), sometimes it happens that some queries (especially poorly written queries) are not optimized anymore. Either rewrite the query properly or don&#39;t upgrade the server."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658153146,"post_id":72989927,"comment_id":128973688,"body_markdown":"Where did the ids come from?  You might be able get rid of this query if you JOINed rather than collecting ids, then doing this query.","body":"Where did the ids come from?  You might be able get rid of this query if you JOINed rather than collecting ids, then doing this query."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658153190,"post_id":72989927,"comment_id":128973702,"body_markdown":"The network cost of sending 60K result rows probably outweighs the slowness of the full table scan?","body":"The network cost of sending 60K result rows probably outweighs the slowness of the full table scan?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658153383,"post_id":72989927,"comment_id":128973800,"body_markdown":"The network cost of sending 60K result rows probably outweighs the slowness of the full table scan? 60K seems to be most of the table. In that case using the index will slow down the query.","body":"The network cost of sending 60K result rows probably outweighs the slowness of the full table scan? 60K seems to be most of the table. In that case using the index will slow down the query."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658153419,"post_id":72989927,"comment_id":128973812,"body_markdown":"Have you ruled out caching, network changes, etc?","body":"Have you ruled out caching, network changes, etc?"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658154003,"post_id":72989927,"comment_id":128974082,"body_markdown":"@RickJames I would be definitely changing the query on the later release but I don&#39;t have any other choice left beside working out the solution for the current one. And yes Rick I&#39;ve system running with both the setup with same network and same mysql variables but the later one is taking ~92s","body":"@RickJames I would be definitely changing the query on the later release but I don&#39;t have any other choice left beside working out the solution for the current one. And yes Rick I&#39;ve system running with both the setup with same network and same mysql variables but the later one is taking ~92s"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658154061,"post_id":72989927,"comment_id":128974108,"body_markdown":"Just for the information, this query did executed withing ~0.5s when there was ~1L records in v5.7 database.","body":"Just for the information, this query did executed withing ~0.5s when there was ~1L records in v5.7 database."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658154072,"post_id":72989927,"comment_id":128974112,"body_markdown":"Please provide `EXPLAIN FORMAT=JSON SELECT ... ` and, if practical, get the &quot;Optimizer Trace&quot;.  Preferrably for both servers, but at least for 8.0.","body":"Please provide <code>EXPLAIN FORMAT=JSON SELECT ... </code> and, if practical, get the &quot;Optimizer Trace&quot;.  Preferrably for both servers, but at least for 8.0."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658154691,"post_id":72989927,"comment_id":128974429,"body_markdown":"The 0.5s for 100K rows seems reasonable; the 92 seems _very_ unreasonable.  Is the timing made from Java?  I assume you reran it and got a similar value?  If the slowlog was on, what did it record about the query?  If not on, please turn it on and rerun.","body":"The 0.5s for 100K rows seems reasonable; the 92 seems <i>very</i> unreasonable.  Is the timing made from Java?  I assume you reran it and got a similar value?  If the slowlog was on, what did it record about the query?  If not on, please turn it on and rerun."},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658155387,"post_id":72989927,"comment_id":128974790,"body_markdown":"@RickJames I&#39;ve edited my question with slowlog and regarding you question with java, No java and db connection client sends the query to mysql but mysql is taking time to execute parameterized queries. Something weird with replacing (?, ?, ..)  with the list of IDs","body":"@RickJames I&#39;ve edited my question with slowlog and regarding you question with java, No java and db connection client sends the query to mysql but mysql is taking time to execute parameterized queries. Something weird with replacing (?, ?, ..)  with the list of IDs"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658155479,"post_id":72989927,"comment_id":128974825,"body_markdown":"Because the strange thing is that, when I execute IN directly with IDs it executes within a second on mysql 8 but when mysql prepares the parameterized queries from its end it takes ~92s","body":"Because the strange thing is that, when I execute IN directly with IDs it executes within a second on mysql 8 but when mysql prepares the parameterized queries from its end it takes ~92s"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658155520,"post_id":72989927,"comment_id":128974847,"body_markdown":"If you have determined that the &#39;binding&#39; is the slow part, self-answer your question, showing the Java code and explaining that it is the slow part.  (You deserve the bounty.)","body":"If you have determined that the &#39;binding&#39; is the slow part, self-answer your question, showing the Java code and explaining that it is the slow part.  (You deserve the bounty.)"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658155630,"post_id":72989927,"comment_id":128974892,"body_markdown":"@RickJames Nothing wrong with the JAVA end. Java successfully passes the query to execute to mysql but in the end mysql is taking time for sure","body":"@RickJames Nothing wrong with the JAVA end. Java successfully passes the query to execute to mysql but in the end mysql is taking time for sure"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658155633,"post_id":72989927,"comment_id":128974898,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246545/discussion-between-aniket-pawar-and-rick-james).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246545/discussion-between-aniket-pawar-and-rick-james\">continue this discussion in chat</a>."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658155651,"post_id":72989927,"comment_id":128974904,"body_markdown":"Hmmm... 33.8s -- not as bad as 92, but still really bad.  This presumably does not include the &quot;binding&quot;.","body":"Hmmm... 33.8s -- not as bad as 92, but still really bad.  This presumably does not include the &quot;binding&quot;."},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658225176,"post_id":72989927,"comment_id":128993056,"body_markdown":"@RickJames I&#39;ve edited the question with results of EXPLAIN FORMAT=JSON SELECT ... and &quot;Optimizer Trace for mysql 8&quot;.","body":"@RickJames I&#39;ve edited the question with results of EXPLAIN FORMAT=JSON SELECT ... and &quot;Optimizer Trace for mysql 8&quot;."},{"owner":{"account_id":7299842,"reputation":31215,"user_id":5563083,"display_name":"Paul Spiegel"},"score":0,"creation_date":1658514180,"post_id":72989927,"comment_id":129078885,"body_markdown":"Did you review any changes in settings between the two versions?","body":"Did you review any changes in settings between the two versions?"},{"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"score":0,"creation_date":1658549705,"post_id":72989927,"comment_id":129084825,"body_markdown":"Yes, most of them are same. Few extra settings added by 8 but nothing related to particular this problem.","body":"Yes, most of them are same. Few extra settings added by 8 but nothing related to particular this problem."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1658592027,"post_id":72989927,"comment_id":129091975,"body_markdown":"What is result of SELECT @@in_predicate_conversion_threshold; ?  Your version may NOT have this Global Variable.  Also what is your result of SELECT @@version: ?","body":"What is result of SELECT @@in_predicate_conversion_threshold; ?  Your version may NOT have this Global Variable.  Also what is your result of SELECT @@version: ?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1661471400,"post_id":72989927,"comment_id":129786747,"body_markdown":"Fetching 60052 rows and shoveling them across the network takes time.  Why so many?  Did you really have 60052 ids in the list?  Or is `id` not the `PRIMARY KEY`?  On the other hand, only 1.6MB was returned.","body":"Fetching 60052 rows and shoveling them across the network takes time.  Why so many?  Did you really have 60052 ids in the list?  Or is <code>id</code> not the <code>PRIMARY KEY</code>?  On the other hand, only 1.6MB was returned."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1661471783,"post_id":72989927,"comment_id":129786810,"body_markdown":"Does JOOQ receive only 1 row at a time.  (Most products receive the whole resultset in a single gulp.)","body":"Does JOOQ receive only 1 row at a time.  (Most products receive the whole resultset in a single gulp.)"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1661472495,"post_id":72989927,"comment_id":129786917,"body_markdown":"@WilsonHauck - `in_predicate_conversion_threshold` was introduced in MariaDB 10.3.18; it was never (yet) in 5.7 or 8.0.  Too bad; it might be a solution.","body":"@WilsonHauck - <code>in_predicate_conversion_threshold</code> was introduced in MariaDB 10.3.18; it was never (yet) in 5.7 or 8.0.  Too bad; it might be a solution."}],"answers":[{"tags":[],"owner":{"account_id":23392466,"reputation":631,"user_id":17456955,"display_name":"RP.S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658457835,"creation_date":1658457835,"answer_id":73074574,"question_id":72989927,"body_markdown":"I&#39;ve encountered this before, mainly because of the difference between the two versions of query optimizer, and of course it&#39;s related to several parameters of innodb.","title":"MySQL slow execution of IN query with PREPARE STATEMENT after upgrading from 5.7.28 to 8.0.27","body":"<p>I've encountered this before, mainly because of the difference between the two versions of query optimizer, and of course it's related to several parameters of innodb.</p>\n"}],"owner":{"account_id":7232722,"reputation":2671,"user_id":5518973,"accept_rate":62,"display_name":"Aniket Pawar"},"comment_count":32,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658457835,"creation_date":1657867195,"question_id":72989927,"body_markdown":"Here&#39;s the technology stack I&#39;m using,\r\nJava 11, JOOQ 3.12.1 and MYSQL 8.0.28 ( upgraded from 5.7.28 ) with connection pooling(30) and engine InnoDB.\r\n\r\nHere&#39;s the example query I&#39;ve successfully executed with use of JOOQ within 1s in MySQL 5.7.28. IN query takes about 60k IDs. Now MYSQL 8.0.28 takes around 92s for this query. \r\n\r\n\r\n    select `id`, `name`, `description` from `ex_table` where `id` in (?,?,?,?,?,....);\r\n\r\n\r\nJust for the information I&#39;ve used mariadb and mysql connector both so I can conclude that there isn&#39;t the issue with the connector.\r\n\r\n[EDIT]\r\n\r\n    show create table ex_table;\r\n    +------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | Table      | Create Table                                                                                                                                                                                                                                                                                                                                                              |\r\n    +------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | ex_table | CREATE TABLE `ex_table` (\r\n      `id` int unsigned NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(255) NOT NULL,\r\n      `description` varchar(1000) DEFAULT NULL,\r\n      `stack_id` mediumint unsigned NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `unq_node` (`name`,`stack_id`),\r\n      KEY `idx_stack` (`stack_id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=72279 DEFAULT CHARSET=utf8mb3 |\r\n    +------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    1 row in set (0.02 sec)\r\n    \r\n    \r\n    \r\n    SHOW TABLE STATUS WHERE name LIKE &#39;ex_table&#39;;\r\n    +------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\r\n    | Name       | Engine | Version | Row_format | Rows  | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free | Auto_increment | Create_time         | Update_time | Check_time | Collation       | Checksum | Create_options | Comment |\r\n    +------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\r\n    | ex_table | InnoDB |      10 | Dynamic    | 60272 |             43 |     2637824 |               0 |      5275648 |   4194304 |          72279 | 2022-06-30 07:10:14 | NULL        | NULL       | utf8_general_ci |     NULL |                |         |\r\n    +------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\r\n    1 row in set (0.02 sec)\r\n    \r\n    \r\n    \r\n    explain select `id`, `name`, `description`, `stack_id` from `ex_table` where `id` in (1,2,3,4,5,6,7,8,9,10);\r\n    +----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\r\n    | id | select_type | table      | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\r\n    +----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\r\n    |  1 | SIMPLE      | ex_table | NULL       | range | PRIMARY       | PRIMARY | 4       | NULL |   10 |   100.00 | Using where |\r\n    +----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\r\n    1 row in set, 1 warning (0.01 sec)\r\n    \r\n    \r\n    \r\n    \r\n    Running Full Query with Explain:\r\n    \r\n    +----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\r\n    | id | select_type | table      | partitions | type | possible_keys | key  | key_len | ref  | rows  | filtered | Extra       |\r\n    +----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\r\n    |  1 | SIMPLE      | ex_table | NULL       | ALL  | PRIMARY       | NULL | NULL    | NULL | 60272 |    50.00 | Using where |\r\n    +----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\r\n    1 row in set, 2 warnings (0.51 sec)\r\n\r\n\r\nSLOW QUERY LOG\r\n\r\n    # Time: 2022-07-18T14:38:02.110872-00:00\r\n    # User@Host: user[host] @ localhost [127.0.0.1]\r\n    # Schema: dbname  Last_errno: 0  Killed: 0\r\n    # Query_time: 33.762935  Lock_time: 0.075141  Rows_sent: 60052  Rows_examined: 60052  Rows_affected: 0  Bytes_sent: 1619164\r\n    use dbname;\r\n    SET timestamp=1658155048;\r\n    select `dbname`.`ex_table`.`id`, `dbname`.`ex_table`.`name`, `dbname`.`ex_table`.`description`, `dbname`.`ex_table`.`stack_id` from `dbname`.`ex_table` where `dbname`.`ex_table`.`id` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, ... );\r\n\r\n\r\n**[edit 2]**\r\nOptimiser Trace\r\n\r\n    {\r\n      &quot;steps&quot;: [\r\n        {\r\n          &quot;statement_parameters&quot;: [\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n            &quot;LONGLONG&quot;,\r\n             ……,\r\n    \t…..,\r\n          ]\r\n        },\r\n        {\r\n          &quot;join_optimization&quot;: {\r\n            &quot;select#&quot;: 1,\r\n            &quot;steps&quot;: [\r\n              {\r\n                &quot;condition_processing&quot;: {\r\n                  &quot;condition&quot;: &quot;WHERE&quot;,\r\n                  &quot;original_condition&quot;: &quot;(`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101, …))”,\r\n                  &quot;steps&quot;: [\r\n                    {\r\n                      &quot;transformation&quot;: &quot;equality_propagation&quot;,\r\n                      &quot;resulting_condition&quot;: &quot;(`ex_table `.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,…))”\r\n                    },\r\n                    {\r\n                      &quot;transformation&quot;: &quot;trivial_condition_removal&quot;,\r\n                      &quot;resulting_condition&quot;: &quot;(`ex_table `.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,…))”,\r\n                    &quot;final_table_condition   &quot;: &quot;(`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,..))”\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                &quot;refine_plan&quot;: [\r\n                  {\r\n                    &quot;table&quot;: &quot;`ex_table`”\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;join_execution&quot;: {\r\n            &quot;select#&quot;: 1,\r\n            &quot;steps&quot;: [\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    \r\n    Explain format=json SELECT ...\r\n    \r\n    {\r\n      &quot;query_block&quot;: {\r\n        &quot;select_id&quot;: 1,\r\n        &quot;cost_info&quot;: {\r\n          &quot;query_cost&quot;: &quot;6047.05&quot;\r\n        },\r\n        &quot;table&quot;: {\r\n          &quot;table_name&quot;: “ex_table”,\r\n          &quot;access_type&quot;: &quot;ALL&quot;,\r\n          &quot;possible_keys&quot;: [\r\n            &quot;PRIMARY&quot;\r\n          ],\r\n          &quot;rows_examined_per_scan&quot;: 60068,\r\n          &quot;rows_produced_per_join&quot;: 30034,\r\n          &quot;filtered&quot;: &quot;50.00&quot;,\r\n          &quot;cost_info&quot;: {\r\n            &quot;read_cost&quot;: &quot;3043.65&quot;,\r\n            &quot;eval_cost&quot;: &quot;3003.40&quot;,\r\n            &quot;prefix_cost&quot;: &quot;6047.05&quot;,\r\n            &quot;data_read_per_join&quot;: &quot;108M&quot;\r\n          },\r\n          &quot;used_columns&quot;: [\r\n            &quot;id&quot;,\r\n            &quot;name&quot;,\r\n            &quot;description&quot;,\r\n            “stack”_id\r\n          ],\r\n          &quot;attached_condition&quot;: &quot;(`db`.`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,….))”\r\n        }\r\n      }\r\n    }","title":"MySQL slow execution of IN query with PREPARE STATEMENT after upgrading from 5.7.28 to 8.0.27","body":"<p>Here's the technology stack I'm using,\nJava 11, JOOQ 3.12.1 and MYSQL 8.0.28 ( upgraded from 5.7.28 ) with connection pooling(30) and engine InnoDB.</p>\n<p>Here's the example query I've successfully executed with use of JOOQ within 1s in MySQL 5.7.28. IN query takes about 60k IDs. Now MYSQL 8.0.28 takes around 92s for this query.</p>\n<pre><code>select `id`, `name`, `description` from `ex_table` where `id` in (?,?,?,?,?,....);\n</code></pre>\n<p>Just for the information I've used mariadb and mysql connector both so I can conclude that there isn't the issue with the connector.</p>\n<p>[EDIT]</p>\n<pre><code>show create table ex_table;\n+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Table      | Create Table                                                                                                                                                                                                                                                                                                                                                              |\n+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| ex_table | CREATE TABLE `ex_table` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `description` varchar(1000) DEFAULT NULL,\n  `stack_id` mediumint unsigned NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unq_node` (`name`,`stack_id`),\n  KEY `idx_stack` (`stack_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=72279 DEFAULT CHARSET=utf8mb3 |\n+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.02 sec)\n\n\n\nSHOW TABLE STATUS WHERE name LIKE 'ex_table';\n+------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n| Name       | Engine | Version | Row_format | Rows  | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free | Auto_increment | Create_time         | Update_time | Check_time | Collation       | Checksum | Create_options | Comment |\n+------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n| ex_table | InnoDB |      10 | Dynamic    | 60272 |             43 |     2637824 |               0 |      5275648 |   4194304 |          72279 | 2022-06-30 07:10:14 | NULL        | NULL       | utf8_general_ci |     NULL |                |         |\n+------------+--------+---------+------------+-------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n1 row in set (0.02 sec)\n\n\n\nexplain select `id`, `name`, `description`, `stack_id` from `ex_table` where `id` in (1,2,3,4,5,6,7,8,9,10);\n+----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n| id | select_type | table      | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | ex_table | NULL       | range | PRIMARY       | PRIMARY | 4       | NULL |   10 |   100.00 | Using where |\n+----+-------------+------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n1 row in set, 1 warning (0.01 sec)\n\n\n\n\nRunning Full Query with Explain:\n\n+----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\n| id | select_type | table      | partitions | type | possible_keys | key  | key_len | ref  | rows  | filtered | Extra       |\n+----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\n|  1 | SIMPLE      | ex_table | NULL       | ALL  | PRIMARY       | NULL | NULL    | NULL | 60272 |    50.00 | Using where |\n+----+-------------+------------+------------+------+---------------+------+---------+------+-------+----------+-------------+\n1 row in set, 2 warnings (0.51 sec)\n</code></pre>\n<p>SLOW QUERY LOG</p>\n<pre><code># Time: 2022-07-18T14:38:02.110872-00:00\n# User@Host: user[host] @ localhost [127.0.0.1]\n# Schema: dbname  Last_errno: 0  Killed: 0\n# Query_time: 33.762935  Lock_time: 0.075141  Rows_sent: 60052  Rows_examined: 60052  Rows_affected: 0  Bytes_sent: 1619164\nuse dbname;\nSET timestamp=1658155048;\nselect `dbname`.`ex_table`.`id`, `dbname`.`ex_table`.`name`, `dbname`.`ex_table`.`description`, `dbname`.`ex_table`.`stack_id` from `dbname`.`ex_table` where `dbname`.`ex_table`.`id` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, ... );\n</code></pre>\n<p><strong>[edit 2]</strong>\nOptimiser Trace</p>\n<pre><code>{\n  &quot;steps&quot;: [\n    {\n      &quot;statement_parameters&quot;: [\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n        &quot;LONGLONG&quot;,\n         ……,\n    …..,\n      ]\n    },\n    {\n      &quot;join_optimization&quot;: {\n        &quot;select#&quot;: 1,\n        &quot;steps&quot;: [\n          {\n            &quot;condition_processing&quot;: {\n              &quot;condition&quot;: &quot;WHERE&quot;,\n              &quot;original_condition&quot;: &quot;(`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101, …))”,\n              &quot;steps&quot;: [\n                {\n                  &quot;transformation&quot;: &quot;equality_propagation&quot;,\n                  &quot;resulting_condition&quot;: &quot;(`ex_table `.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,…))”\n                },\n                {\n                  &quot;transformation&quot;: &quot;trivial_condition_removal&quot;,\n                  &quot;resulting_condition&quot;: &quot;(`ex_table `.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,…))”,\n                &quot;final_table_condition   &quot;: &quot;(`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,..))”\n              }\n            ]\n          },\n          {\n            &quot;refine_plan&quot;: [\n              {\n                &quot;table&quot;: &quot;`ex_table`”\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      &quot;join_execution&quot;: {\n        &quot;select#&quot;: 1,\n        &quot;steps&quot;: [\n        ]\n      }\n    }\n  ]\n}\n\nExplain format=json SELECT ...\n\n{\n  &quot;query_block&quot;: {\n    &quot;select_id&quot;: 1,\n    &quot;cost_info&quot;: {\n      &quot;query_cost&quot;: &quot;6047.05&quot;\n    },\n    &quot;table&quot;: {\n      &quot;table_name&quot;: “ex_table”,\n      &quot;access_type&quot;: &quot;ALL&quot;,\n      &quot;possible_keys&quot;: [\n        &quot;PRIMARY&quot;\n      ],\n      &quot;rows_examined_per_scan&quot;: 60068,\n      &quot;rows_produced_per_join&quot;: 30034,\n      &quot;filtered&quot;: &quot;50.00&quot;,\n      &quot;cost_info&quot;: {\n        &quot;read_cost&quot;: &quot;3043.65&quot;,\n        &quot;eval_cost&quot;: &quot;3003.40&quot;,\n        &quot;prefix_cost&quot;: &quot;6047.05&quot;,\n        &quot;data_read_per_join&quot;: &quot;108M&quot;\n      },\n      &quot;used_columns&quot;: [\n        &quot;id&quot;,\n        &quot;name&quot;,\n        &quot;description&quot;,\n        “stack”_id\n      ],\n      &quot;attached_condition&quot;: &quot;(`db`.`ex_table`.`id` in (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,….))”\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","apache-poi","weblogic"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1658458981,"post_id":73074543,"comment_id":129061622,"body_markdown":"I think you are mis-reading this stacktrace.  Are not missing some lines above this error?","body":"I think you are mis-reading this stacktrace.  Are not missing some lines above this error?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1658484997,"post_id":73074543,"comment_id":129068398,"body_markdown":"I would consider this to be a support issue for the _other_ team as it is their package and it is a blocker.","body":"I would consider this to be a support issue for the <i>other</i> team as it is their package and it is a blocker."},{"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"score":0,"creation_date":1658712310,"post_id":73074543,"comment_id":129111453,"body_markdown":"Hi @ScaryWombat , there are almost everything in debug log, lines above are just time, thread name, etc...","body":"Hi @ScaryWombat , there are almost everything in debug log, lines above are just time, thread name, etc..."},{"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"score":0,"creation_date":1658712379,"post_id":73074543,"comment_id":129111461,"body_markdown":"Hi @Thorbj&#248;rnRavnAndersen , we have been in contact with provider team, Thanks.","body":"Hi @Thorbj&#248;rnRavnAndersen , we have been in contact with provider team, Thanks."}],"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658457514,"creation_date":1658457514,"question_id":73074543,"body_markdown":"One of our old projects is now moving from `poi-3.8` to `poi-5.2.0` to fix sonaType issues, but then, we encountered a weird problem. The application keeps loading a class (`org.apache.poi.hssf.util.CellRangeAddressList`) that did exist in 3.8 but no longer exist in 5.2.0, and cause `ClassNotFoundException` during **startup**.\r\n\r\n## How we do upgrade ##\r\nThis package (poi) was originally introduced by another package provided by another team, and we did upgrade by excluding the old version and importing the new one in our pom.xml. \r\n## After exception occurred ##\r\n\r\n - We contacted the package provider and they suggested us remove classes that used `poi`. -&gt; We did, but no helps.\r\n - We enabled weblogic debug on classloader. -&gt; We did get some *information*, but still no idea why it attemped to load that class, since the classes mentioned had no relationship with any of poi classes.\r\n\r\nHere is the stacktrace and the context printed in weblogic logs:\r\n```log\r\nTrigger: ClassNotFoundException\r\nTrigger point: weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:58)\r\n  at java.lang.Class.getDeclaredFields0(Native Method)\r\n  at java.lang.Class.privateGetDeclaredFields(Class.java:2583)\r\n  at java.lang.Class.getDeclaredFields(Class.java:1916)\r\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.getFields(BaseJ2eeAnnotationProcessor.java:1047)\r\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.getFields(BaseJ2eeAnnotationProcessor.java:1041)\r\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.processJ2eeAnnotations(BaseJ2eeAnnotationProcessor.java:145)\r\n  at weblogic.j2ee.dd.xml.J2eeAnnotationProcessor.processJ2eeAnnotations(J2eeAnnotationProcessor.java:47)\r\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.processJ2eeAnnotations(BaseJ2eeAnnotationProcessor.java:120)\r\n  at weblogic.j2ee.dd.xml.PojoAnnotationProcessorImpl.processJ2eeAnnotations(PojoAnnotationProcessorImpl.java:93)\r\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.processAnnotations(PojoAnnotationProcessingFlow.java:304)\r\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.processPOJOsInModuleScopes(PojoAnnotationProcessingFlow.java:229)\r\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.prepare(PojoAnnotationProcessingFlow.java:73)\r\n  at weblogic.application.internal.BaseDeployment$1.next(BaseDeployment.java:729)\r\n  at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n  at weblogic.application.internal.BaseDeployment.prepare(BaseDeployment.java:241)\r\n  at weblogic.application.internal.EarDeployment.prepare(EarDeployment.java:66)\r\n  at weblogic.application.internal.DeploymentStateChecker.prepare(DeploymentStateChecker.java:158)\r\n  at weblogic.deploy.internal.targetserver.AppContainerInvoker.prepare(AppContainerInvoker.java:65)\r\n  at weblogic.deploy.internal.targetserver.operations.ActivateOperation.createAndPrepareContainer(ActivateOperation.java:229)\r\n  at weblogic.deploy.internal.targetserver.operations.StartOperation.createAndPrepareContainer(StartOperation.java:95)\r\n  at weblogic.deploy.internal.targetserver.operations.StartOperation.doPrepare(StartOperation.java:108)\r\n  at weblogic.deploy.internal.targetserver.operations.AbstractOperation.prepare(AbstractOperation.java:242)\r\n  at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentPrepare(DeploymentManager.java:800)\r\n  at weblogic.deploy.internal.targetserver.DeploymentManager.prepareDeploymentList(DeploymentManager.java:1352)\r\n  at weblogic.deploy.internal.targetserver.DeploymentManager.handlePrepare(DeploymentManager.java:270)\r\n  at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.prepare(DeploymentServiceDispatcher.java:177)\r\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doPrepareCallback(DeploymentReceiverCallbackDeliverer.java:186)\r\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$000(DeploymentReceiverCallbackDeliverer.java:14)\r\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$1.run(DeploymentReceiverCallbackDeliverer.java:47)\r\n  at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:681)\r\n  at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n  at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n  at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n  at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n  at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\r\n  at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\n  at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\r\n------------------------------------------------\r\n&lt;Jul 21, 2022 05:53:11.141 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.hssf.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.140 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.hssf.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.139 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.hssf.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.139 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.hssf.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.138 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\r\n&lt;Jul 21, 2022 05:53:11.138 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\r\n&lt;Jul 21, 2022 05:53:11.137 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\r\n&lt;Jul 21, 2022 05:53:11.137 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.common.usermodel.GenericRecord)\r\n&lt;Jul 21, 2022 05:53:11.134 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.common.usermodel.GenericRecord)\r\n&lt;Jul 21, 2022 05:53:11.134 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.common.usermodel.GenericRecord)\r\n&lt;Jul 21, 2022 05:53:11.133 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.common.usermodel.GenericRecord)\r\n&lt;Jul 21, 2022 05:53:11.132 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.common.usermodel.GenericRecord)\r\n&lt;Jul 21, 2022 05:53:11.129 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\r\n&lt;Jul 21, 2022 05:53:11.129 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\r\n&lt;Jul 21, 2022 05:53:11.128 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\r\n&lt;Jul 21, 2022 05:53:11.127 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.ss.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.116 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.ss.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.116 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.ss.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.115 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.ss.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.115 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.ss.util.CellRangeAddressList)\r\n&lt;Jul 21, 2022 05:53:11.112 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.usermodel)\r\n&lt;Jul 21, 2022 05:53:11.112 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.ss.usermodel.DataValidationHelper)\r\n&lt;Jul 21, 2022 05:53:11.108 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.ss.usermodel.DataValidationHelper)\r\n&lt;Jul 21, 2022 05:53:11.107 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.ss.usermodel.DataValidationHelper)\r\n&lt;Jul 21, 2022 05:53:11.107 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.ss.usermodel.DataValidationHelper)\r\n&lt;Jul 21, 2022 05:53:11.106 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.ss.usermodel.DataValidationHelper)\r\n&lt;Jul 21, 2022 05:53:11.105 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(com.o.c.s.c.domain)\r\n&lt;Jul 21, 2022 05:53:11.105 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.102 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.101 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.100 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.099 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.098 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.097 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(com.o.c.s.c.domain.C_omit_n)\r\n&lt;Jul 21, 2022 05:53:11.091 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(com.o.c.l.w.domain)\r\n&lt;Jul 21, 2022 05:53:11.090 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(com.o.c.l.w.domain.L_omit_S)\r\n&lt;Jul 21, 2022 05:53:11.087 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\r\n&lt;Jul 21, 2022 05:53:11.087 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(com.o.c.l.w.domain.L_omit_S)\r\n&lt;Jul 21, 2022 05:53:11.085 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\r\n&lt;Jul 21, 2022 05:53:11.084 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\r\n```\r\nSo I&#39;m here to seek for some help on how it happened, how I should analyze the log or maybe some other tools that can look into the dependency relationship in a clearer way.","title":"How to find out why a class is loaded","body":"<p>One of our old projects is now moving from <code>poi-3.8</code> to <code>poi-5.2.0</code> to fix sonaType issues, but then, we encountered a weird problem. The application keeps loading a class (<code>org.apache.poi.hssf.util.CellRangeAddressList</code>) that did exist in 3.8 but no longer exist in 5.2.0, and cause <code>ClassNotFoundException</code> during <strong>startup</strong>.</p>\n<h2>How we do upgrade</h2>\n<p>This package (poi) was originally introduced by another package provided by another team, and we did upgrade by excluding the old version and importing the new one in our pom.xml.</p>\n<h2>After exception occurred</h2>\n<ul>\n<li>We contacted the package provider and they suggested us remove classes that used <code>poi</code>. -&gt; We did, but no helps.</li>\n<li>We enabled weblogic debug on classloader. -&gt; We did get some <em>information</em>, but still no idea why it attemped to load that class, since the classes mentioned had no relationship with any of poi classes.</li>\n</ul>\n<p>Here is the stacktrace and the context printed in weblogic logs:</p>\n<pre><code>Trigger: ClassNotFoundException\nTrigger point: weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:58)\n  at java.lang.Class.getDeclaredFields0(Native Method)\n  at java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n  at java.lang.Class.getDeclaredFields(Class.java:1916)\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.getFields(BaseJ2eeAnnotationProcessor.java:1047)\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.getFields(BaseJ2eeAnnotationProcessor.java:1041)\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.processJ2eeAnnotations(BaseJ2eeAnnotationProcessor.java:145)\n  at weblogic.j2ee.dd.xml.J2eeAnnotationProcessor.processJ2eeAnnotations(J2eeAnnotationProcessor.java:47)\n  at weblogic.j2ee.dd.xml.BaseJ2eeAnnotationProcessor.processJ2eeAnnotations(BaseJ2eeAnnotationProcessor.java:120)\n  at weblogic.j2ee.dd.xml.PojoAnnotationProcessorImpl.processJ2eeAnnotations(PojoAnnotationProcessorImpl.java:93)\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.processAnnotations(PojoAnnotationProcessingFlow.java:304)\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.processPOJOsInModuleScopes(PojoAnnotationProcessingFlow.java:229)\n  at weblogic.application.internal.flow.PojoAnnotationProcessingFlow.prepare(PojoAnnotationProcessingFlow.java:73)\n  at weblogic.application.internal.BaseDeployment$1.next(BaseDeployment.java:729)\n  at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n  at weblogic.application.internal.BaseDeployment.prepare(BaseDeployment.java:241)\n  at weblogic.application.internal.EarDeployment.prepare(EarDeployment.java:66)\n  at weblogic.application.internal.DeploymentStateChecker.prepare(DeploymentStateChecker.java:158)\n  at weblogic.deploy.internal.targetserver.AppContainerInvoker.prepare(AppContainerInvoker.java:65)\n  at weblogic.deploy.internal.targetserver.operations.ActivateOperation.createAndPrepareContainer(ActivateOperation.java:229)\n  at weblogic.deploy.internal.targetserver.operations.StartOperation.createAndPrepareContainer(StartOperation.java:95)\n  at weblogic.deploy.internal.targetserver.operations.StartOperation.doPrepare(StartOperation.java:108)\n  at weblogic.deploy.internal.targetserver.operations.AbstractOperation.prepare(AbstractOperation.java:242)\n  at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentPrepare(DeploymentManager.java:800)\n  at weblogic.deploy.internal.targetserver.DeploymentManager.prepareDeploymentList(DeploymentManager.java:1352)\n  at weblogic.deploy.internal.targetserver.DeploymentManager.handlePrepare(DeploymentManager.java:270)\n  at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.prepare(DeploymentServiceDispatcher.java:177)\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doPrepareCallback(DeploymentReceiverCallbackDeliverer.java:186)\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$000(DeploymentReceiverCallbackDeliverer.java:14)\n  at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$1.run(DeploymentReceiverCallbackDeliverer.java:47)\n  at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:681)\n  at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n  at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n  at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n  at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n  at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\n  at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\n  at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\n------------------------------------------------\n&lt;Jul 21, 2022 05:53:11.141 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.hssf.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.140 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.hssf.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.139 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.hssf.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.139 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.hssf.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.138 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\n&lt;Jul 21, 2022 05:53:11.138 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\n&lt;Jul 21, 2022 05:53:11.137 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.common.usermodel)\n&lt;Jul 21, 2022 05:53:11.137 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.common.usermodel.GenericRecord)\n&lt;Jul 21, 2022 05:53:11.134 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.common.usermodel.GenericRecord)\n&lt;Jul 21, 2022 05:53:11.134 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.common.usermodel.GenericRecord)\n&lt;Jul 21, 2022 05:53:11.133 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.common.usermodel.GenericRecord)\n&lt;Jul 21, 2022 05:53:11.132 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.common.usermodel.GenericRecord)\n&lt;Jul 21, 2022 05:53:11.129 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\n&lt;Jul 21, 2022 05:53:11.129 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\n&lt;Jul 21, 2022 05:53:11.128 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.util)\n&lt;Jul 21, 2022 05:53:11.127 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.ss.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.116 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.ss.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.116 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.ss.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.115 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.ss.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.115 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.ss.util.CellRangeAddressList)\n&lt;Jul 21, 2022 05:53:11.112 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(org.apache.poi.ss.usermodel)\n&lt;Jul 21, 2022 05:53:11.112 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(org.apache.poi.ss.usermodel.DataValidationHelper)\n&lt;Jul 21, 2022 05:53:11.108 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(org.apache.poi.ss.usermodel.DataValidationHelper)\n&lt;Jul 21, 2022 05:53:11.107 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(org.apache.poi.ss.usermodel.DataValidationHelper)\n&lt;Jul 21, 2022 05:53:11.107 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(org.apache.poi.ss.usermodel.DataValidationHelper)\n&lt;Jul 21, 2022 05:53:11.106 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(org.apache.poi.ss.usermodel.DataValidationHelper)\n&lt;Jul 21, 2022 05:53:11.105 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(com.o.c.s.c.domain)\n&lt;Jul 21, 2022 05:53:11.105 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.102 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.101 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.100 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.099 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.098 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.097 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.findClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2dde1bff][System:WebLogicExtension] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[342782dd][System:Augmentable] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.094 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.093 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.loadClass(com.o.c.s.c.domain.C_omit_n)\n&lt;Jul 21, 2022 05:53:11.091 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.getPackage(com.o.c.l.w.domain)\n&lt;Jul 21, 2022 05:53:11.090 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.defineClass(com.o.c.l.w.domain.L_omit_S)\n&lt;Jul 21, 2022 05:53:11.087 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\n&lt;Jul 21, 2022 05:53:11.087 PM HKT&gt; CACL[639bf5df][WLS_R_F_ear-1.0.294@rpt] CACL.findClass(com.o.c.l.w.domain.L_omit_S)\n&lt;Jul 21, 2022 05:53:11.085 PM HKT&gt; GCL[59c56c57][WLS_R_F_ear-1.0.294@] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\n&lt;Jul 21, 2022 05:53:11.084 PM HKT&gt; GCL[2b4500a9][Partition:DOMAIN] GCL.findClass(com.o.c.l.w.domain.L_omit_S)\n</code></pre>\n<p>So I'm here to seek for some help on how it happened, how I should analyze the log or maybe some other tools that can look into the dependency relationship in a clearer way.</p>\n"},{"tags":["java","amazon-web-services","vert.x","aws-secrets-manager"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658457367,"creation_date":1658453710,"answer_id":73074205,"question_id":73059848,"body_markdown":"See [`SdkInterruptedException`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/http/timers/client/SdkInterruptedException.html) ...it has one method `getResponse()`:\r\n\r\n    try {\r\n\r\n        // provoke the exception in here\r\n\r\n    } catch (SdkInterruptedException e) {\r\n        System.err.println(e.getResponse());\r\n    }\r\n\r\nThis should (hopefully) at least tell why the request had been interrupted.&lt;br/&gt;\r\n`// log exception.` is not the  correct approach to handle any `Exception`.\r\n\r\n\r\nThe `SdkClientException` might be more relevant than the `SdkInterruptedException`:\r\n\r\n    try { ...\r\n    } catch (SdkClientException e) {\r\n        // log that exception, instead of ignoring it.\r\n        System.err.println(e.getMessage());\r\n    }\r\n\r\n[This](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html#sigv4-auth-header-overview) is how an Authorization Header (AWS Signature Version 4) should basically look alike.\r\nIt may well be, that HMAC-SHA256 headers are being enforced (they&#39;re different on each single request). I could even provide a known to be working [example](https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/secretsmanager/src/main/java/com/example/secrets/GetSecretValue.java)... which would show how to configure the `SecretsManagerClient`. I&#39;d suspect the root cause related to that client&#39;s configuration.\r\n\r\n\r\nWhen I read &quot;when attempting to retrieve the 2nd secret&quot;, this with high probability means that you need a refresh the HMAC-SHA256 signature before the second request will be performed. Destroying the client and constructing it again may be one sloppy workaround. When seeing duplicate values for `AWS4-HMAC-SHA256` header on both requests, this definitely is the cause.","title":"AWS SDK is throwing SdkClientException","body":"<p>See <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/http/timers/client/SdkInterruptedException.html\" rel=\"nofollow noreferrer\"><code>SdkInterruptedException</code></a> ...it has one method <code>getResponse()</code>:</p>\n<pre><code>try {\n\n    // provoke the exception in here\n\n} catch (SdkInterruptedException e) {\n    System.err.println(e.getResponse());\n}\n</code></pre>\n<p>This should (hopefully) at least tell why the request had been interrupted.<br/>\n<code>// log exception.</code> is not the  correct approach to handle any <code>Exception</code>.</p>\n<p>The <code>SdkClientException</code> might be more relevant than the <code>SdkInterruptedException</code>:</p>\n<pre><code>try { ...\n} catch (SdkClientException e) {\n    // log that exception, instead of ignoring it.\n    System.err.println(e.getMessage());\n}\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html#sigv4-auth-header-overview\" rel=\"nofollow noreferrer\">This</a> is how an Authorization Header (AWS Signature Version 4) should basically look alike.\nIt may well be, that HMAC-SHA256 headers are being enforced (they're different on each single request). I could even provide a known to be working <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/secretsmanager/src/main/java/com/example/secrets/GetSecretValue.java\" rel=\"nofollow noreferrer\">example</a>... which would show how to configure the <code>SecretsManagerClient</code>. I'd suspect the root cause related to that client's configuration.</p>\n<p>When I read &quot;when attempting to retrieve the 2nd secret&quot;, this with high probability means that you need a refresh the HMAC-SHA256 signature before the second request will be performed. Destroying the client and constructing it again may be one sloppy workaround. When seeing duplicate values for <code>AWS4-HMAC-SHA256</code> header on both requests, this definitely is the cause.</p>\n"}],"owner":{"account_id":918697,"reputation":6220,"user_id":1009669,"accept_rate":92,"display_name":"BigBug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658457367,"creation_date":1658368561,"question_id":73059848,"body_markdown":"I am attempting to retrieve a secret from aws secrets manager. My application can retrieve 3 / 4 secrets. When attempting to retrieve the 2nd secret, i get an interrupt exception. The code below is what i am using. I am unsure where to look or why this is happening. It consistently happens when attempting to retrieve the 2nd secret. I have verified that it exists in aws and that it contains the value i expect. \r\n\r\nI am using the reativerse [https://github.com/reactiverse/aws-sdk] library in tandem with vert.x + aws sdk 2. Any help or pointers on where to look would be greatly appreciated. The exception i see and the code i have are written below.\r\n\r\n    java.util.concurrent.ExecutionException: software.amazon.awssdk.core.exception.SdkClientException\r\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n        at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n        at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\n        at io.vertx.core.impl.TaskQueue.run(TaskQueue.java:76)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        Caused by: software.amazon.awssdk.core.exception.SdkClientException\r\n        at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\r\n        at software.amazon.awssdk.core.internal.http.AmazonAsyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonAsyncHttpClient.java:189)\r\n        at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.invoke(BaseAsyncClientHandler.java:271)\r\n        at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.doExecute(BaseAsyncClientHandler.java:213)\r\n        at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.lambda$execute$1(BaseAsyncClientHandler.java:91)\r\n        at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.measureApiCallSuccess(BaseAsyncClientHandler.java:277)\r\n        at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.execute(BaseAsyncClientHandler.java:74)\r\n        at software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.execute(AwsAsyncClientHandler.java:52)\r\n    at software.amazon.awssdk.services.secretsmanager.DefaultSecretsManagerAsyncClient.getSecretValue(DefaultSecretsManagerAsyncClient.java:1142)\r\n    ... 8 more\r\n    Caused by: software.amazon.awssdk.core.exception.SdkInterruptedException\r\n    at software.amazon.awssdk.core.internal.http.InterruptMonitor.checkInterrupted(InterruptMonitor.java:40)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApplyTransactionIdStage.execute(ApplyTransactionIdStage.java:43)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApplyTransactionIdStage.execute(ApplyTransactionIdStage.java:29)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n    at software.amazon.awssdk.core.internal.http.AmazonAsyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonAsyncHttpClient.java:185)\r\n    ... 16 more\r\n```\r\nprivate final SecretsManagerAsyncClient client = VertxSdkClient.withVertx(SecretsManagerAsyncClient.builder(), ctx).build();\r\n```\r\n\r\n```\r\npublic &lt;T&gt; Promise&lt;T&gt; getSecret(String secretName) {\r\n\tPromise&lt;T&gt; completableFuture = Promise.promise();\r\n\r\n\tContext ctx = Vertx.vertx().getOrCreateContext();\r\n\r\n\tctx.owner().executeBlocking(blockingFuture -&gt; {\r\n\t\ttry {\r\n\t\t\tGetSecretValueRequest valueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\r\n\t\t\tCompletableFuture&lt;GetSecretValueResponse&gt; valueResponse = this.client.getSecretValue(valueRequest);\r\n\r\n\t\t\tGetSecretValueResponse getResponse = valueResponse.get();\r\n\t\t\tString response = getResponse.secretString();\r\n\t\t\tcompletableFuture.complete((T) Json.decodeValue(response, new &lt;T&gt;Object().getClass()));\r\n\t\t\tblockingFuture.complete();\r\n\r\n\t\t} catch (Exception e) {\r\n            // log exception.\r\n\t\t}\r\n\t});\r\n\r\n    ...\r\n}\r\n```","title":"AWS SDK is throwing SdkClientException","body":"<p>I am attempting to retrieve a secret from aws secrets manager. My application can retrieve 3 / 4 secrets. When attempting to retrieve the 2nd secret, i get an interrupt exception. The code below is what i am using. I am unsure where to look or why this is happening. It consistently happens when attempting to retrieve the 2nd secret. I have verified that it exists in aws and that it contains the value i expect.</p>\n<p>I am using the reativerse [https://github.com/reactiverse/aws-sdk] library in tandem with vert.x + aws sdk 2. Any help or pointers on where to look would be greatly appreciated. The exception i see and the code i have are written below.</p>\n<pre><code>java.util.concurrent.ExecutionException: software.amazon.awssdk.core.exception.SdkClientException\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n    at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\n    at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\n    at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\n    at io.vertx.core.impl.TaskQueue.run(TaskQueue.java:76)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Caused by: software.amazon.awssdk.core.exception.SdkClientException\n    at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\n    at software.amazon.awssdk.core.internal.http.AmazonAsyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonAsyncHttpClient.java:189)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.invoke(BaseAsyncClientHandler.java:271)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.doExecute(BaseAsyncClientHandler.java:213)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.lambda$execute$1(BaseAsyncClientHandler.java:91)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.measureApiCallSuccess(BaseAsyncClientHandler.java:277)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.execute(BaseAsyncClientHandler.java:74)\n    at software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.execute(AwsAsyncClientHandler.java:52)\nat software.amazon.awssdk.services.secretsmanager.DefaultSecretsManagerAsyncClient.getSecretValue(DefaultSecretsManagerAsyncClient.java:1142)\n... 8 more\nCaused by: software.amazon.awssdk.core.exception.SdkInterruptedException\nat software.amazon.awssdk.core.internal.http.InterruptMonitor.checkInterrupted(InterruptMonitor.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApplyTransactionIdStage.execute(ApplyTransactionIdStage.java:43)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApplyTransactionIdStage.execute(ApplyTransactionIdStage.java:29)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.AmazonAsyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonAsyncHttpClient.java:185)\n... 16 more\n</code></pre>\n<pre><code>private final SecretsManagerAsyncClient client = VertxSdkClient.withVertx(SecretsManagerAsyncClient.builder(), ctx).build();\n</code></pre>\n<pre><code>public &lt;T&gt; Promise&lt;T&gt; getSecret(String secretName) {\n    Promise&lt;T&gt; completableFuture = Promise.promise();\n\n    Context ctx = Vertx.vertx().getOrCreateContext();\n\n    ctx.owner().executeBlocking(blockingFuture -&gt; {\n        try {\n            GetSecretValueRequest valueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\n            CompletableFuture&lt;GetSecretValueResponse&gt; valueResponse = this.client.getSecretValue(valueRequest);\n\n            GetSecretValueResponse getResponse = valueResponse.get();\n            String response = getResponse.secretString();\n            completableFuture.complete((T) Json.decodeValue(response, new &lt;T&gt;Object().getClass()));\n            blockingFuture.complete();\n\n        } catch (Exception e) {\n            // log exception.\n        }\n    });\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2","sdk"],"comments":[{"owner":{"account_id":3893766,"reputation":1244,"user_id":3223340,"accept_rate":38,"display_name":"Jugi"},"score":0,"creation_date":1518586262,"post_id":44563779,"comment_id":84562046,"body_markdown":"hi David, have you got the solution for this ?","body":"hi David, have you got the solution for this ?"},{"owner":{"account_id":10140242,"reputation":51,"user_id":7490238,"display_name":"David Hewitt"},"score":0,"creation_date":1518984365,"post_id":44563779,"comment_id":84715474,"body_markdown":"@Jugi I used BlockDeviceMapping class and set it&#39;s EbsBlockDevice, there you can set the volume size. Which needs to be added to a ArrayList&lt;BlockDeviceMapping&gt; which is then set in the run instance request.","body":"@Jugi I used BlockDeviceMapping class and set it&#39;s EbsBlockDevice, there you can set the volume size. Which needs to be added to a ArrayList&lt;BlockDeviceMapping&gt; which is then set in the run instance request."}],"answers":[{"tags":[],"owner":{"account_id":2070174,"reputation":2478,"user_id":1844843,"accept_rate":80,"display_name":"Rumesh Eranga Hapuarachchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497527011,"creation_date":1497527011,"answer_id":44566638,"question_id":44563779,"body_markdown":"`com.amazonaws.services.ec2.model.Volume` will help you.\r\n\r\nMehtod: setSize(Integer size)\r\n\r\n[API Documentation][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/Volume.html#setSize-java.lang.Integer-","title":"Amazon EC2 instance with a specific EBS Volume Size Java SDK","body":"<p><code>com.amazonaws.services.ec2.model.Volume</code> will help you.</p>\n\n<p>Mehtod: setSize(Integer size)</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/Volume.html#setSize-java.lang.Integer-\" rel=\"nofollow noreferrer\">API Documentation</a></p>\n"}],"owner":{"account_id":10140242,"reputation":51,"user_id":7490238,"display_name":"David Hewitt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658456847,"creation_date":1497518687,"question_id":44563779,"body_markdown":"I&#39;m using the java SDK to spin up instances and it&#39;s working well.\r\nOn issue is that the volume is 8GB \r\n\r\n    RunInstancesRequest runInstancesRequest = new RunInstancesRequest();\r\n    runInstancesRequest.withImageId(AMI_ID).withInstanceType(INSTANCE_TYPE).withMinCount(1).withMaxCount(1)\r\n        .withKeyName(KEY_NAME).withSecurityGroups(SECURITY_GROUP).withMonitoring(true);\r\n    RunInstancesResult runInstancesResult = ec2.runInstances(runInstancesRequest);\r\n\r\nThere doesn&#39;t seem to be anything in the `RunInstancesRequest` class but `withBlockDeviceMappings` seems to create a separate volume.\r\nHow do you specify the size of the volume?","title":"Amazon EC2 instance with a specific EBS Volume Size Java SDK","body":"<p>I'm using the java SDK to spin up instances and it's working well.\nOn issue is that the volume is 8GB </p>\n\n<pre><code>RunInstancesRequest runInstancesRequest = new RunInstancesRequest();\nrunInstancesRequest.withImageId(AMI_ID).withInstanceType(INSTANCE_TYPE).withMinCount(1).withMaxCount(1)\n    .withKeyName(KEY_NAME).withSecurityGroups(SECURITY_GROUP).withMonitoring(true);\nRunInstancesResult runInstancesResult = ec2.runInstances(runInstancesRequest);\n</code></pre>\n\n<p>There doesn't seem to be anything in the <code>RunInstancesRequest</code> class but <code>withBlockDeviceMappings</code> seems to create a separate volume.\nHow do you specify the size of the volume?</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":5319774,"reputation":343,"user_id":4243562,"display_name":"acearch"},"score":0,"creation_date":1658402414,"post_id":73065224,"comment_id":129045287,"body_markdown":"Have you also tried the maven option?","body":"Have you also tried the maven option?"},{"owner":{"account_id":18509535,"reputation":1,"user_id":13485096,"display_name":"ManojR"},"score":0,"creation_date":1658802303,"post_id":73065224,"comment_id":129136356,"body_markdown":"No, Gradle is necessary for this project.","body":"No, Gradle is necessary for this project."}],"answers":[{"tags":[],"owner":{"account_id":25861677,"reputation":1,"user_id":19594054,"display_name":"hs jo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658404093,"creation_date":1658404093,"answer_id":73065633,"question_id":73065224,"body_markdown":"fix build.gradle plugin ```org.springframework.boot``` version ```2.7.2``` to ```2.7.1```\r\n\r\ntry this -&gt; ```id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;```","title":"Having trouble initializing a SpringBoot project","body":"<p>fix build.gradle plugin <code>org.springframework.boot</code> version <code>2.7.2</code> to <code>2.7.1</code></p>\n<p>try this -&gt; <code>id 'org.springframework.boot' version '2.7.1'</code></p>\n"},{"tags":[],"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658456542,"creation_date":1658456542,"answer_id":73074459,"question_id":73065224,"body_markdown":"i had the same issue before so you need to update your intellij idea or if for any reason you can&#39;t update it uninstall the intellij idea and download the new version of that. According to the intellij idea community there is bug for springboot 2.7 that the older versions can&#39;t support it","title":"Having trouble initializing a SpringBoot project","body":"<p>i had the same issue before so you need to update your intellij idea or if for any reason you can't update it uninstall the intellij idea and download the new version of that. According to the intellij idea community there is bug for springboot 2.7 that the older versions can't support it</p>\n"}],"owner":{"account_id":18509535,"reputation":1,"user_id":13485096,"display_name":"ManojR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658456542,"creation_date":1658402181,"question_id":73065224,"body_markdown":"I was trying to initialize a Spring Boot application in IntelliJ IDEA. Get this error. How can I fix this?\r\n\r\n\r\n```\r\nA problem occurred configuring root project &#39;DemoSpringApplication&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find org.springframework.boot:spring-boot-buildpack-platform:2.7.2.\r\n     Searched in the following locations:\r\n       - https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-buildpack-platform/2.7.2/spring-boot-buildpack-platform-2.7.2.pom\r\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.2 &gt; org.springframework.boot:spring-boot-gradle-plugin:2.7.2\r\n   &gt; Could not find org.springframework.boot:spring-boot-loader-tools:2.7.2.\r\n     Searched in the following locations:\r\n       - https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-loader-tools/2.7.2/spring-boot-loader-tools-2.7.2.pom\r\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.2 &gt; org.springframework.boot:spring-boot-gradle-plugin:2.7.2\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n```","title":"Having trouble initializing a SpringBoot project","body":"<p>I was trying to initialize a Spring Boot application in IntelliJ IDEA. Get this error. How can I fix this?</p>\n<pre><code>A problem occurred configuring root project 'DemoSpringApplication'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find org.springframework.boot:spring-boot-buildpack-platform:2.7.2.\n     Searched in the following locations:\n       - https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-buildpack-platform/2.7.2/spring-boot-buildpack-platform-2.7.2.pom\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.2 &gt; org.springframework.boot:spring-boot-gradle-plugin:2.7.2\n   &gt; Could not find org.springframework.boot:spring-boot-loader-tools:2.7.2.\n     Searched in the following locations:\n       - https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-loader-tools/2.7.2/spring-boot-loader-tools-2.7.2.pom\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:2.7.2 &gt; org.springframework.boot:spring-boot-gradle-plugin:2.7.2\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n"},{"tags":["java","maven","dependencies","repository"],"comments":[{"owner":{"account_id":430272,"reputation":4294,"user_id":813618,"accept_rate":82,"display_name":"Rakesh"},"score":0,"creation_date":1658456942,"post_id":73074433,"comment_id":129061387,"body_markdown":"It&#39;s easier to convert the project to a maven project by adding a pom.xml file rather than manually installing the jars manually. Anyway the installed jars won&#39;t be of any help to a non-maven project.","body":"It&#39;s easier to convert the project to a maven project by adding a pom.xml file rather than manually installing the jars manually. Anyway the installed jars won&#39;t be of any help to a non-maven project."},{"owner":{"account_id":25866707,"reputation":1,"user_id":19598256,"display_name":"MuBen"},"score":0,"creation_date":1658459414,"post_id":73074433,"comment_id":129061659,"body_markdown":"Rakesh, Thank you for your comment. How do I install those jars into the Maven repository? as there are so many, is my option to run &quot;mvn deploy&quot; cmd for each of them?","body":"Rakesh, Thank you for your comment. How do I install those jars into the Maven repository? as there are so many, is my option to run &quot;mvn deploy&quot; cmd for each of them?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658496910,"post_id":73074433,"comment_id":129072706,"body_markdown":"This comes from the Pom file. You need to provide one with the dependencies needed.","body":"This comes from the Pom file. You need to provide one with the dependencies needed."},{"owner":{"account_id":25866707,"reputation":1,"user_id":19598256,"display_name":"MuBen"},"score":0,"creation_date":1658585894,"post_id":73074433,"comment_id":129090576,"body_markdown":"Ravn, Thanks for the comment, I think my issue is how to install all these jars in the Lib folder into my local repository. these jars are local jars and not available in the central repository.  so I have to install them into my local repository,  Is there an automatic way, or I have manually install them by running the mvn command one by one. Thanks","body":"Ravn, Thanks for the comment, I think my issue is how to install all these jars in the Lib folder into my local repository. these jars are local jars and not available in the central repository.  so I have to install them into my local repository,  Is there an automatic way, or I have manually install them by running the mvn command one by one. Thanks"}],"owner":{"account_id":25866707,"reputation":1,"user_id":19598256,"display_name":"MuBen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658456326,"creation_date":1658456326,"question_id":73074433,"body_markdown":"I am new to maven java projects. I have a maven java project, and a local repository for the dependency jars. I manually installed the jar by the command mvn deploy:.... whenever a dependency is needed.  However now, I have a SDK provided by a third party vendor, it has a lib folder with more than 30 jars inside, in this case, how do I install all these 30 jars into Maven repository manually, and I have to make up the group-id and artifacts for each individual jar, and run the mvn deploy command one by one.  Am I missing anything here? I thought Maven is supposed to make the project management easier. In this case, what are my options? \r\n1. Install the jars in the lib to the repository one by one?  \r\n2. Convert my project back to regular java project, so that I can just copy the entire lib folder.\r\n\r\nAny thoughts and help are highly appreciated!\r\n\r\nBest\r\nnewMavenUser\r\n","title":"Jave Maven project, how to add so many dependency jars in the third party&#39;s lib folder to the maven repository?","body":"<p>I am new to maven java projects. I have a maven java project, and a local repository for the dependency jars. I manually installed the jar by the command mvn deploy:.... whenever a dependency is needed.  However now, I have a SDK provided by a third party vendor, it has a lib folder with more than 30 jars inside, in this case, how do I install all these 30 jars into Maven repository manually, and I have to make up the group-id and artifacts for each individual jar, and run the mvn deploy command one by one.  Am I missing anything here? I thought Maven is supposed to make the project management easier. In this case, what are my options?</p>\n<ol>\n<li>Install the jars in the lib to the repository one by one?</li>\n<li>Convert my project back to regular java project, so that I can just copy the entire lib folder.</li>\n</ol>\n<p>Any thoughts and help are highly appreciated!</p>\n<p>Best\nnewMavenUser</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658455033,"post_id":73074237,"comment_id":129061176,"body_markdown":"Can you please edit your question to include the test so that we can see what it is checking for, or is it done via an online portal from your course? You might need to initialize the `ArrayList&lt;FruitBasket&gt; fruitBasketList;` otherwise your `addToBasket` method will fail, for example `ArrayList&lt;FruitBasket&gt; fruitBasketList = new ArrayList&lt;FruitBasket&gt;();` or add a constructor method to the FruitBasketUtility class that initializes the fruitBasketList","body":"Can you please edit your question to include the test so that we can see what it is checking for, or is it done via an online portal from your course? You might need to initialize the <code>ArrayList&lt;FruitBasket&gt; fruitBasketList;</code> otherwise your <code>addToBasket</code> method will fail, for example <code>ArrayList&lt;FruitBasket&gt; fruitBasketList = new ArrayList&lt;FruitBasket&gt;();</code> or add a constructor method to the FruitBasketUtility class that initializes the fruitBasketList"},{"owner":{"account_id":20135721,"reputation":11,"user_id":14766781,"display_name":"John"},"score":0,"creation_date":1658455374,"post_id":73074237,"comment_id":129061213,"body_markdown":"Yes, we do this via Code Editor from my course!","body":"Yes, we do this via Code Editor from my course!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1658460968,"post_id":73074237,"comment_id":129061850,"body_markdown":"I copied and ran the code in your question and did not get any errors. Of-course I could not run the test that you claim is failing since I could not find it in your question. Since I can&#39;t reproduce your problem, I don&#39;t think I can help you resolve it. Consider posting a [mcve].","body":"I copied and ran the code in your question and did not get any errors. Of-course I could not run the test that you claim is failing since I could not find it in your question. Since I can&#39;t reproduce your problem, I don&#39;t think I can help you resolve it. Consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":20135721,"reputation":11,"user_id":14766781,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658455578,"creation_date":1658454052,"question_id":73074237,"body_markdown":"this is my first time posting on StackOverflow so I am still getting used to the format. I apologize in advance. Over here, I have 2 classes  FruitBasket and FruitBasketUtility. I&#39;ve included the getters and setters method in the Fruitbasket.Java. Everything compiled fine but I got an error:\r\n\r\n*Fail 1 -- test11addToBasketMethodToAddOneFruitBasketObject::\r\nCheck the availability (or) the signature of addToBasket/getFruitBasketList in the FruitBasketUtility class or Setters and Getters in FruitBasket class*\r\n\r\n**Main.Java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main {\r\n        public static void main(String[] args){\r\n    \r\n    \r\n            //For reading input from user\r\n            Scanner in = new Scanner(System.in);\r\n            \r\n            //Creating object of FruitBasketUtility\r\n            FruitBasketUtility fruitBasketUtility = new FruitBasketUtility();\r\n    \r\n    \r\n            int choice;\r\n            do{\r\n                //Displaying the menu\r\n                System.out.println(&quot;Select an option:&quot;);\r\n                System.out.println(&quot;1. Add Fruit to Basket&quot;);\r\n                System.out.println(&quot;2. Calculate Bill&quot;);\r\n                System.out.println(&quot;3.Exit&quot;);\r\n    \r\n    \r\n                //Reading the choice\r\n                choice = in.nextInt();\r\n                in.nextLine();\r\n    \r\n    \r\n                switch(choice){\r\n                    case 1:\r\n                        //Reading fruit details from user\r\n                        System.out.println(&quot;Enter the fruit name&quot;);\r\n                        String fruitName = in.next();\r\n                        in.nextLine();\r\n                        \r\n                        \r\n                        System.out.println(&quot;Enter weight in Kgs&quot;);\r\n                        int weightInKgs = in.nextInt();\r\n                        in.nextLine();\r\n    \r\n    \r\n                        System.out.println(&quot;Enter price per Kg&quot;);\r\n                        int pricePerKg = in.nextInt();\r\n                        in.nextLine();\r\n    \r\n    \r\n                        FruitBasket fruit = new FruitBasket(fruitName, weightInKgs, pricePerKg);\r\n    \r\n    \r\n                        //Adding fruit to basket\r\n                        fruitBasketUtility.addToBasket(fruit);\r\n                        break;\r\n                    case 2:\r\n                        //Calculating and showing the bill\r\n                        ArrayList&lt;FruitBasket&gt; basket = fruitBasketUtility.getFruitBasketList();\r\n                        if(basket.size() &gt; 0){\r\n                            System.out.println(&quot;The estimated bill amount is Rs &quot; + fruitBasketUtility.calculateBill((basket.stream())));\r\n                        }\r\n                        else{\r\n                            System.out.println(&quot;Your basket is empty. Please add fruits.&quot;);\r\n                        }\r\n                        break;\r\n                    case 3:\r\n                        System.out.println(&quot;Thank you for using the application.&quot;);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid option. Please try again.&quot;);\r\n                        break;\r\n                }\r\n    \r\n            }while(choice != 3);\r\n        }\r\n    }\r\n\r\n**FruitBasket.Java**\r\n\r\n        public class FruitBasket {\r\n        //Member variables\r\n        String fruitName;\r\n        int weightInKgs;\r\n        int pricePerKg;\r\n    \r\n    \r\n        //Getters and setters\r\n        public void setFruitName(String fruitName){\r\n            this.fruitName =fruitName;\r\n        }\r\n    \r\n    \r\n        public void setWeightInKgs(int weightInKgs){\r\n            this.weightInKgs =weightInKgs;\r\n        }\r\n    \r\n    \r\n        public void setPricePerKg(int pricePerKg){\r\n            this.pricePerKg =pricePerKg;\r\n        }\r\n    \r\n    \r\n        public String getFruitName(){\r\n            return fruitName;\r\n        }\r\n    \r\n    \r\n        public int getWeightInKgs(){\r\n            return weightInKgs;\r\n        }\r\n    \r\n    \r\n        public int getPricePerKg(){\r\n            return pricePerKg;\r\n        }\r\n    \r\n    \r\n        //An empty constructor\r\n        public FruitBasket(){\r\n            fruitName = &quot;&quot;;\r\n            weightInKgs = 0;\r\n            pricePerKg = 0;\r\n        }\r\n    \r\n    \r\n        //Three argument constructor\r\n        public FruitBasket(String fruitName, int weightInKgs, int pricePerKg){\r\n            this.fruitName = fruitName;\r\n            this.weightInKgs = weightInKgs;\r\n            this.pricePerKg = pricePerKg;\r\n        }\r\n    }\r\n\r\n**FruitBasketUtility.Java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Stream;\r\n    \r\n    \r\n    public class FruitBasketUtility {\r\n        //Member variables\r\n        ArrayList&lt;FruitBasket&gt; fruitBasketList;\r\n    \r\n    \r\n        //Getters and setters\r\n        public void setFruitBasketList(ArrayList&lt;FruitBasket&gt; fruitBasketList){\r\n            this.fruitBasketList = fruitBasketList;\r\n        }\r\n    \r\n    \r\n        public ArrayList&lt;FruitBasket&gt; getFruitBasketList(){\r\n            return fruitBasketList;\r\n        }\r\n    \r\n    \r\n        //Constructor\r\n        public FruitBasketUtility(){\r\n            fruitBasketList = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n    \r\n        //Add to basket\r\n        public void addToBasket(FruitBasket fObj){\r\n            fruitBasketList.add(fObj);\r\n        }\r\n    \r\n    \r\n        //Calculte the bill using stream of FruitBasket\r\n        public int calculateBill(Stream&lt;FruitBasket&gt; fruitBasketStream){\r\n            return fruitBasketStream.mapToInt(x -&gt; x.getPricePerKg() * x.getWeightInKgs()).sum();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Error with Checking availability of Getters and Setters in Java","body":"<p>this is my first time posting on StackOverflow so I am still getting used to the format. I apologize in advance. Over here, I have 2 classes  FruitBasket and FruitBasketUtility. I've included the getters and setters method in the Fruitbasket.Java. Everything compiled fine but I got an error:</p>\n<p><em>Fail 1 -- test11addToBasketMethodToAddOneFruitBasketObject::\nCheck the availability (or) the signature of addToBasket/getFruitBasketList in the FruitBasketUtility class or Setters and Getters in FruitBasket class</em></p>\n<p><strong>Main.Java</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class Main {\n    public static void main(String[] args){\n\n\n        //For reading input from user\n        Scanner in = new Scanner(System.in);\n        \n        //Creating object of FruitBasketUtility\n        FruitBasketUtility fruitBasketUtility = new FruitBasketUtility();\n\n\n        int choice;\n        do{\n            //Displaying the menu\n            System.out.println(&quot;Select an option:&quot;);\n            System.out.println(&quot;1. Add Fruit to Basket&quot;);\n            System.out.println(&quot;2. Calculate Bill&quot;);\n            System.out.println(&quot;3.Exit&quot;);\n\n\n            //Reading the choice\n            choice = in.nextInt();\n            in.nextLine();\n\n\n            switch(choice){\n                case 1:\n                    //Reading fruit details from user\n                    System.out.println(&quot;Enter the fruit name&quot;);\n                    String fruitName = in.next();\n                    in.nextLine();\n                    \n                    \n                    System.out.println(&quot;Enter weight in Kgs&quot;);\n                    int weightInKgs = in.nextInt();\n                    in.nextLine();\n\n\n                    System.out.println(&quot;Enter price per Kg&quot;);\n                    int pricePerKg = in.nextInt();\n                    in.nextLine();\n\n\n                    FruitBasket fruit = new FruitBasket(fruitName, weightInKgs, pricePerKg);\n\n\n                    //Adding fruit to basket\n                    fruitBasketUtility.addToBasket(fruit);\n                    break;\n                case 2:\n                    //Calculating and showing the bill\n                    ArrayList&lt;FruitBasket&gt; basket = fruitBasketUtility.getFruitBasketList();\n                    if(basket.size() &gt; 0){\n                        System.out.println(&quot;The estimated bill amount is Rs &quot; + fruitBasketUtility.calculateBill((basket.stream())));\n                    }\n                    else{\n                        System.out.println(&quot;Your basket is empty. Please add fruits.&quot;);\n                    }\n                    break;\n                case 3:\n                    System.out.println(&quot;Thank you for using the application.&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid option. Please try again.&quot;);\n                    break;\n            }\n\n        }while(choice != 3);\n    }\n}\n</code></pre>\n<p><strong>FruitBasket.Java</strong></p>\n<pre><code>    public class FruitBasket {\n    //Member variables\n    String fruitName;\n    int weightInKgs;\n    int pricePerKg;\n\n\n    //Getters and setters\n    public void setFruitName(String fruitName){\n        this.fruitName =fruitName;\n    }\n\n\n    public void setWeightInKgs(int weightInKgs){\n        this.weightInKgs =weightInKgs;\n    }\n\n\n    public void setPricePerKg(int pricePerKg){\n        this.pricePerKg =pricePerKg;\n    }\n\n\n    public String getFruitName(){\n        return fruitName;\n    }\n\n\n    public int getWeightInKgs(){\n        return weightInKgs;\n    }\n\n\n    public int getPricePerKg(){\n        return pricePerKg;\n    }\n\n\n    //An empty constructor\n    public FruitBasket(){\n        fruitName = &quot;&quot;;\n        weightInKgs = 0;\n        pricePerKg = 0;\n    }\n\n\n    //Three argument constructor\n    public FruitBasket(String fruitName, int weightInKgs, int pricePerKg){\n        this.fruitName = fruitName;\n        this.weightInKgs = weightInKgs;\n        this.pricePerKg = pricePerKg;\n    }\n}\n</code></pre>\n<p><strong>FruitBasketUtility.Java</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.stream.Stream;\n\n\npublic class FruitBasketUtility {\n    //Member variables\n    ArrayList&lt;FruitBasket&gt; fruitBasketList;\n\n\n    //Getters and setters\n    public void setFruitBasketList(ArrayList&lt;FruitBasket&gt; fruitBasketList){\n        this.fruitBasketList = fruitBasketList;\n    }\n\n\n    public ArrayList&lt;FruitBasket&gt; getFruitBasketList(){\n        return fruitBasketList;\n    }\n\n\n    //Constructor\n    public FruitBasketUtility(){\n        fruitBasketList = new ArrayList&lt;&gt;();\n    }\n\n\n    //Add to basket\n    public void addToBasket(FruitBasket fObj){\n        fruitBasketList.add(fObj);\n    }\n\n\n    //Calculte the bill using stream of FruitBasket\n    public int calculateBill(Stream&lt;FruitBasket&gt; fruitBasketStream){\n        return fruitBasketStream.mapToInt(x -&gt; x.getPricePerKg() * x.getWeightInKgs()).sum();\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans","settings","customization"],"comments":[{"owner":{"account_id":6719388,"reputation":5065,"user_id":5180017,"display_name":"Shashanth"},"score":0,"creation_date":1469615843,"post_id":38585949,"comment_id":64607457,"body_markdown":"Is there any problem with that options?","body":"Is there any problem with that options?"},{"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"score":0,"creation_date":1469649353,"post_id":38585949,"comment_id":64629798,"body_markdown":"I don&#39;t need some of them in my platform.","body":"I don&#39;t need some of them in my platform."}],"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658454019,"creation_date":1469525095,"question_id":38585949,"body_markdown":"I want to remove some OptionsPanel (Apperance, Miscelaneous) from the Options dialog of NetBeans platform. \r\n\r\nHow can I customize them?\r\n\r\n[![screenshot of IDE settings][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NbDaA.jpg","title":"How to remove/Customize OptionsPanelController from NetBeans platform?","body":"<p>I want to remove some OptionsPanel (Apperance, Miscelaneous) from the Options dialog of NetBeans platform.</p>\n<p>How can I customize them?</p>\n<p><a href=\"https://i.stack.imgur.com/NbDaA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NbDaA.jpg\" alt=\"screenshot of IDE settings\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1658442114,"post_id":73073197,"comment_id":129059181,"body_markdown":"Possible duplicate [How to add local jar files to a Maven project?](https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project)","body":"Possible duplicate <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658442156,"post_id":73073197,"comment_id":129059192,"body_markdown":"You may want to try this in a path with spaces.","body":"You may want to try this in a path with spaces."},{"owner":{"account_id":25865893,"reputation":1,"user_id":19597577,"display_name":"erwang24"},"score":0,"creation_date":1658443151,"post_id":73073197,"comment_id":129059390,"body_markdown":"@MadProgrammer I did look at that question. As far as I can tell, that is about importing one jar to Maven. I have done that. The issue is that one jar has dependencies on other jars, and I cannot figure out how to make my new jar able to recognize it&#39;s dependencies. I have tried some of the suggestions in that question and I could not get any of them to work.","body":"@MadProgrammer I did look at that question. As far as I can tell, that is about importing one jar to Maven. I have done that. The issue is that one jar has dependencies on other jars, and I cannot figure out how to make my new jar able to recognize it&#39;s dependencies. I have tried some of the suggestions in that question and I could not get any of them to work."},{"owner":{"account_id":25865893,"reputation":1,"user_id":19597577,"display_name":"erwang24"},"score":0,"creation_date":1658443179,"post_id":73073197,"comment_id":129059394,"body_markdown":"@Thorbj&#248;rnRavnAndersen I am not sure what you mean. Are you referring to the /local-repo path?","body":"@Thorbj&#248;rnRavnAndersen I am not sure what you mean. Are you referring to the /local-repo path?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1658443598,"post_id":73073197,"comment_id":129059480,"body_markdown":"@erwang24 Then you will manually need to import the dependencies the same way","body":"@erwang24 Then you will manually need to import the dependencies the same way"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658455054,"post_id":73073197,"comment_id":129061180,"body_markdown":"@erwang24 You are putting a file name inside something that is a URL.  That will not always work.  Try moving to a folder with a space in its name.","body":"@erwang24 You are putting a file name inside something that is a URL.  That will not always work.  Try moving to a folder with a space in its name."},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1658472696,"post_id":73073197,"comment_id":129063998,"body_markdown":"I think you need to elaborate on what exactly this means: &quot;I tried to edit the pom.xml file for core.jar and add some dependencies there, but it does not seem to be working&quot; - what is the name of the pom file (it has to be core-version.pom.xml I think), what exactly did you add, and how exactly does it &quot;not work&quot;. Adding dependencies to this core pom file is the correct thing to do, IMO.","body":"I think you need to elaborate on what exactly this means: &quot;I tried to edit the pom.xml file for core.jar and add some dependencies there, but it does not seem to be working&quot; - what is the name of the pom file (it has to be core-version.pom.xml I think), what exactly did you add, and how exactly does it &quot;not work&quot;. Adding dependencies to this core pom file is the correct thing to do, IMO."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658566724,"post_id":73073197,"comment_id":129087247,"body_markdown":"Does the Pom you created for the jar list the dependencies?","body":"Does the Pom you created for the jar list the dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658453877,"creation_date":1658453877,"answer_id":73074217,"question_id":73073197,"body_markdown":"The best approach is to set up a Maven .mirror for the use of all developers. A tool like Nexus is designed to do this. \r\nRelease your core jar to this mirror (or just copy it into the correct place in the repository file system). Then you can include your core jar in the same way that you include third party jars in your projects. Maven will automatically load any third party dependencies specified in your core jar&#39;s pom.xml.","title":"Is it possible to import a jar locally through Maven and also include that Jars dependencies?","body":"<p>The best approach is to set up a Maven .mirror for the use of all developers. A tool like Nexus is designed to do this.\nRelease your core jar to this mirror (or just copy it into the correct place in the repository file system). Then you can include your core jar in the same way that you include third party jars in your projects. Maven will automatically load any third party dependencies specified in your core jar's pom.xml.</p>\n"}],"owner":{"account_id":25865893,"reputation":1,"user_id":19597577,"display_name":"erwang24"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658453877,"creation_date":1658441574,"question_id":73073197,"body_markdown":"I am trying to get a third party library to work in my application. It has one main jar file, core.jar. It is not available through Maven&#39;s online repository which is how we normally include third party libraries. We already have a local repository set up for maven:\r\n\r\n    &lt;repository&gt;\r\n            &lt;id&gt;project.local&lt;/id&gt;\r\n            &lt;name&gt;Local Project Repo&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/local-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\nAnd the project is recognizing core.jar that I have put in the local-repo folder (along with a pom file). I can call methods from it, etc.\r\nMy issue is that I was provided the core.jar file along with many other jars that are apparently dependencies of core.jar. I cannot figure out how, if it is even possible, to get core.jar that I imported through the local-repo to recognize it&#39;s dependencies. Right now they are all sitting in the same folder as core.jar, but it is throwing errors saying that classes do not exist. \r\nI tried to edit the pom.xml file for core.jar and add some dependencies there, but it does not seem to be working.\r\n\r\nI have done a lot of googling around in the last few days but I have not been able to find any answers for how to do this. Maybe I am blind.\r\nIs it even possible to make this work in this way?","title":"Is it possible to import a jar locally through Maven and also include that Jars dependencies?","body":"<p>I am trying to get a third party library to work in my application. It has one main jar file, core.jar. It is not available through Maven's online repository which is how we normally include third party libraries. We already have a local repository set up for maven:</p>\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;project.local&lt;/id&gt;\n        &lt;name&gt;Local Project Repo&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/local-repo&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n<p>And the project is recognizing core.jar that I have put in the local-repo folder (along with a pom file). I can call methods from it, etc.\nMy issue is that I was provided the core.jar file along with many other jars that are apparently dependencies of core.jar. I cannot figure out how, if it is even possible, to get core.jar that I imported through the local-repo to recognize it's dependencies. Right now they are all sitting in the same folder as core.jar, but it is throwing errors saying that classes do not exist.\nI tried to edit the pom.xml file for core.jar and add some dependencies there, but it does not seem to be working.</p>\n<p>I have done a lot of googling around in the last few days but I have not been able to find any answers for how to do this. Maybe I am blind.\nIs it even possible to make this work in this way?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1658453003,"post_id":73074110,"comment_id":129060900,"body_markdown":"Will it support random access?","body":"Will it support random access?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658453385,"post_id":73074110,"comment_id":129060949,"body_markdown":"Lists contain as many elements as you put in them.  You can&#39;t &quot;set the number of elements,&quot; you just have to add the elements in (maybe nulls).","body":"Lists contain as many elements as you put in them.  You can&#39;t &quot;set the number of elements,&quot; you just have to add the elements in (maybe nulls)."},{"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"score":0,"creation_date":1658453415,"post_id":73074110,"comment_id":129060955,"body_markdown":"I&#39;ll need to read through the array sequentially to pull the data out each cycle.","body":"I&#39;ll need to read through the array sequentially to pull the data out each cycle."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658453417,"post_id":73074110,"comment_id":129060956,"body_markdown":"That said, it sounds like what you want is just an [ArrayDeque](https://docs.oracle.com/javase/9/docs/api/java/util/ArrayDeque.html).","body":"That said, it sounds like what you want is just an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">ArrayDeque</a>."},{"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"score":0,"creation_date":1658454211,"post_id":73074110,"comment_id":129061077,"body_markdown":"I don&#39;t see a method to read through the elements for an ArrayDeque, so I guess that&#39;s what you implied by random access. I need to read through the elements continually. Thanks.","body":"I don&#39;t see a method to read through the elements for an ArrayDeque, so I guess that&#39;s what you implied by random access. I need to read through the elements continually. Thanks."},{"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"score":0,"creation_date":1658455118,"post_id":73074110,"comment_id":129061188,"body_markdown":"@AlexReinking, thanks, don&#39;t need a ring, just need to remove the first while adding to the end. The List works, I&#39;m just not sure if it&#39;s the best for memory usage? Maybe it is?","body":"@AlexReinking, thanks, don&#39;t need a ring, just need to remove the first while adding to the end. The List works, I&#39;m just not sure if it&#39;s the best for memory usage? Maybe it is?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658456693,"post_id":73074110,"comment_id":129061366,"body_markdown":"@MartinH ArrayDeque.iterator() will give you an iterator which you can traverse the elements.","body":"@MartinH ArrayDeque.iterator() will give you an iterator which you can traverse the elements."},{"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"score":0,"creation_date":1658459141,"post_id":73074110,"comment_id":129061636,"body_markdown":"@ChengThao, you mean to use the forEach? That could work. Thanks, understand now.","body":"@ChengThao, you mean to use the forEach? That could work. Thanks, understand now."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658467971,"post_id":73074110,"comment_id":129062903,"body_markdown":"You want *either* a String array *or* another data structure. Not both at the same time. Please clarify.","body":"You want <i>either</i> a String array <i>or</i> another data structure. Not both at the same time. Please clarify."},{"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"score":0,"creation_date":1658507475,"post_id":73074110,"comment_id":129076749,"body_markdown":"@user207421, yes one or the other. Upon reflection of the code, at times I do need to randomly access it as I skip chunks of data based on the situation, so the List structure seems best. Thanks.","body":"@user207421, yes one or the other. Upon reflection of the code, at times I do need to randomly access it as I skip chunks of data based on the situation, so the List structure seems best. Thanks."}],"owner":{"account_id":18626515,"reputation":33,"user_id":13575501,"display_name":"MartinH"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1658467978,"answer_count":0,"score":0,"last_activity_date":1658452186,"creation_date":1658452186,"question_id":73074110,"body_markdown":"I need to store data in a string array, where I can store thousands of elements, cycle through them continually, but then delete the oldest and add more to it continually while deleting the oldest.\r\n\r\nWhat data structure would be best in terms of access and memory use? \r\n\r\nAlso, I need 10 of these (essentially a 2-dimensional) and set the size of the array (number of elements in each), how would I structure the initialization for it?\r\n\r\nI&#39;m currently using this, but I doubt it&#39;s best suited and I can&#39;t figure out how to set the number of elements in each:\r\n\r\n**private List&lt;String&gt;[] chanValues = new List[10];**\r\n\r\nThanks.\r\n\r\n\r\n","title":"What java array structure is best for cycling data through?","body":"<p>I need to store data in a string array, where I can store thousands of elements, cycle through them continually, but then delete the oldest and add more to it continually while deleting the oldest.</p>\n<p>What data structure would be best in terms of access and memory use?</p>\n<p>Also, I need 10 of these (essentially a 2-dimensional) and set the size of the array (number of elements in each), how would I structure the initialization for it?</p>\n<p>I'm currently using this, but I doubt it's best suited and I can't figure out how to set the number of elements in each:</p>\n<p><strong>private List[] chanValues = new List[10];</strong></p>\n<p>Thanks.</p>\n"},{"tags":["java","android","uinavigationbar","tabview","bottomnavigationview"],"comments":[{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1499923418,"post_id":45065146,"comment_id":77116580,"body_markdown":"provide some code","body":"provide some code"}],"answers":[{"tags":[],"owner":{"account_id":4008609,"reputation":1509,"user_id":3302647,"accept_rate":50,"display_name":"shafeeq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500884237,"creation_date":1500884237,"answer_id":45275462,"question_id":45065146,"body_markdown":"I have done a lots of trial and error and now I am realizing that the better option is to use third party library for bottom bar. One of the better solution is [roughike][1] There is lots of customization available\r\n\r\n\r\n  [1]: https://github.com/roughike/BottomBar","title":"Android Disable zoom effect in bottom navigation bar","body":"<p>I have done a lots of trial and error and now I am realizing that the better option is to use third party library for bottom bar. One of the better solution is <a href=\"https://github.com/roughike/BottomBar\" rel=\"nofollow noreferrer\">roughike</a> There is lots of customization available</p>\n"},{"tags":[],"owner":{"account_id":4514263,"reputation":7896,"user_id":3669559,"accept_rate":75,"display_name":"Oğuzhan D&#246;ng&#252;l"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500885214,"creation_date":1500884845,"answer_id":45275663,"question_id":45065146,"body_markdown":"&gt; Text labels provide **short**, meaningfully definitions to bottom\r\n&gt; navigation icons. **Avoid long text labels as these labels do not\r\n&gt; truncate or wrap**.\r\n\r\n\r\nAccording to guidelines, you shouldn&#39;t use long texts.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[Source][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dRaue.png\r\n  [2]: https://material.io/guidelines/components/bottom-navigation.html#bottom-navigation-style","title":"Android Disable zoom effect in bottom navigation bar","body":"<blockquote>\n  <p>Text labels provide <strong>short</strong>, meaningfully definitions to bottom\n  navigation icons. <strong>Avoid long text labels as these labels do not\n  truncate or wrap</strong>.</p>\n</blockquote>\n\n<p>According to guidelines, you shouldn't use long texts.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dRaue.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dRaue.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://material.io/guidelines/components/bottom-navigation.html#bottom-navigation-style\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":7546475,"reputation":91,"user_id":5729311,"display_name":"Ibrahim Broachwala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568873544,"creation_date":1568873544,"answer_id":58004710,"question_id":45065146,"body_markdown":"All you have to do is override the dimension for **design_bottom_navigation_active_text_size** in your dimens.xml file.\r\n\r\n\r\n    &lt;dimen name=&quot;design_bottom_navigation_active_text_size&quot; tools:override = &quot;true&quot; &gt;12sp&lt;/dimen&gt;\r\n\r\nHere 12sp is the default textsize for **inactive** bottom navigation item. Set the same for **active** bottom navigation item as well. You will have no zoom effect.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Disable zoom effect in bottom navigation bar","body":"<p>All you have to do is override the dimension for <strong>design_bottom_navigation_active_text_size</strong> in your dimens.xml file.</p>\n\n<pre><code>&lt;dimen name=\"design_bottom_navigation_active_text_size\" tools:override = \"true\" &gt;12sp&lt;/dimen&gt;\n</code></pre>\n\n<p>Here 12sp is the default textsize for <strong>inactive</strong> bottom navigation item. Set the same for <strong>active</strong> bottom navigation item as well. You will have no zoom effect.</p>\n"},{"tags":[],"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568874002,"creation_date":1568874002,"answer_id":58004808,"question_id":45065146,"body_markdown":"    \r\n    public static class BottomNavigationViewHelper {\r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        public static void disableShiftMode(BottomNavigationView view) {\r\n            BottomNavigationMenuView menuView = (BottomNavigationMenuView) view.getChildAt(0);\r\n            try {\r\n                Field shiftingMode = menuView.getClass().getDeclaredField(&quot;mShiftingMode&quot;);\r\n                shiftingMode.setAccessible(true);\r\n                shiftingMode.setBoolean(menuView, false);\r\n                shiftingMode.setAccessible(false);\r\n                for (int i = 0; i &lt; menuView.getChildCount(); i++) {\r\n                    BottomNavigationItemView item = (BottomNavigationItemView) menuView.getChildAt(i);\r\n                    //noinspection RestrictedApi\r\n                    item.setShifting(false);\r\n                    // set once again checked value, so view will be updated\r\n                    //noinspection RestrictedApi\r\n                    item.setChecked(item.getItemData().isChecked());\r\n                }\r\n            } catch (NoSuchFieldException e) {\r\n                Log.e(&quot;BNVHelper&quot;, &quot;Unable to get shift mode field&quot;, e);\r\n            } catch (IllegalAccessException e) {\r\n                Log.e(&quot;BNVHelper&quot;, &quot;Unable to change value of shift mode&quot;, e);\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nafter this put this\r\n\r\n        BottomNavigationViewHelper.disableShiftMode(bottomNavigationView);\r\n\r\nI have tried this and it works\r\n\r\n","title":"Android Disable zoom effect in bottom navigation bar","body":"<pre><code>public static class BottomNavigationViewHelper {\n    @SuppressLint(\"RestrictedApi\")\n    public static void disableShiftMode(BottomNavigationView view) {\n        BottomNavigationMenuView menuView = (BottomNavigationMenuView) view.getChildAt(0);\n        try {\n            Field shiftingMode = menuView.getClass().getDeclaredField(\"mShiftingMode\");\n            shiftingMode.setAccessible(true);\n            shiftingMode.setBoolean(menuView, false);\n            shiftingMode.setAccessible(false);\n            for (int i = 0; i &lt; menuView.getChildCount(); i++) {\n                BottomNavigationItemView item = (BottomNavigationItemView) menuView.getChildAt(i);\n                //noinspection RestrictedApi\n                item.setShifting(false);\n                // set once again checked value, so view will be updated\n                //noinspection RestrictedApi\n                item.setChecked(item.getItemData().isChecked());\n            }\n        } catch (NoSuchFieldException e) {\n            Log.e(\"BNVHelper\", \"Unable to get shift mode field\", e);\n        } catch (IllegalAccessException e) {\n            Log.e(\"BNVHelper\", \"Unable to change value of shift mode\", e);\n        }\n    }\n}\n@Override\nprotected void onStop() {\n    super.onStop();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>after this put this</p>\n\n<pre><code>    BottomNavigationViewHelper.disableShiftMode(bottomNavigationView);\n</code></pre>\n\n<p>I have tried this and it works</p>\n"},{"tags":[],"owner":{"account_id":13750071,"reputation":281,"user_id":9922450,"display_name":"Ahmed Ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658451623,"creation_date":1658451623,"answer_id":73074059,"question_id":45065146,"body_markdown":"Just set the type field of your **BottomNavigationBar** widget to BottomNavigationBarType.fixed.\r\n\r\n    type: BottomNavigationBarType.fixed,","title":"Android Disable zoom effect in bottom navigation bar","body":"<p>Just set the type field of your <strong>BottomNavigationBar</strong> widget to BottomNavigationBarType.fixed.</p>\n<pre><code>type: BottomNavigationBarType.fixed,\n</code></pre>\n"}],"owner":{"account_id":4008609,"reputation":1509,"user_id":3302647,"accept_rate":50,"display_name":"shafeeq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4589,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1658451623,"creation_date":1499884211,"question_id":45065146,"body_markdown":"  I was trying to implement bottom navigation bar. Here I am facing a problem when the menu item getting in zoom on click and that leads some title text truncating from the bar. \r\n\r\nLike screenshot given\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\nIs there any solution to prevent from this zooming effect?\r\n\r\n  [1]: https://i.stack.imgur.com/9EPPw.png\r\n  [2]: https://i.stack.imgur.com/uYPlC.png","title":"Android Disable zoom effect in bottom navigation bar","body":"<p>I was trying to implement bottom navigation bar. Here I am facing a problem when the menu item getting in zoom on click and that leads some title text truncating from the bar. </p>\n\n<p>Like screenshot given\n<a href=\"https://i.stack.imgur.com/9EPPw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EPPw.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/uYPlC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYPlC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any solution to prevent from this zooming effect?</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","jwt"],"answers":[{"tags":[],"owner":{"account_id":25848655,"reputation":1,"user_id":19583015,"display_name":"tina garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658439010,"creation_date":1658439010,"answer_id":73072862,"question_id":73072669,"body_markdown":"The second example does no catch exceptions. Should catching and logging exceptions ideally be part of validation or not? Or the second example is indeed doing something similar which I am not able to spot? \r\n\r\nAccording to me we should catch exceptions and should be wrapped in business exceptions with error codes because it becomes easier to troubleshoot .","title":"How to validate Jwt token?","body":"<p>The second example does no catch exceptions. Should catching and logging exceptions ideally be part of validation or not? Or the second example is indeed doing something similar which I am not able to spot?</p>\n<p>According to me we should catch exceptions and should be wrapped in business exceptions with error codes because it becomes easier to troubleshoot .</p>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658451317,"creation_date":1658451317,"answer_id":73074040,"question_id":73072669,"body_markdown":"Both of them are faulty since both of them are implementing custom security which in general is bad practice.\r\n\r\nWriting a custom validation of something as important as tokens is not needed if you are using spring security since spring security has had full JWTSupport for several years now.\r\n\r\nThe documentation has an entire chapter on how to configure the built in `JWTFilter` that comes with spring security, and its as easy as just adding one single line.\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-architecture\r\n\r\nStandard enabling of the jwt filter:\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests(authorize -&gt; authorize\r\n            .anyRequest().authenticated()\r\n        )\r\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    return http.build();\r\n}\r\n```\r\n\r\nConfigure how your jwt should be verified:\r\n\r\n```\r\n@Bean\r\nJwtDecoder jwtDecoder() {\r\n    return NimbusJwtDecoder.withSecretKey(this.key)\r\n            .jwsAlgorithm(RS512).build();\r\n}\r\n```\r\n\r\nThere are several other things to configure.\r\n\r\n","title":"How to validate Jwt token?","body":"<p>Both of them are faulty since both of them are implementing custom security which in general is bad practice.</p>\n<p>Writing a custom validation of something as important as tokens is not needed if you are using spring security since spring security has had full JWTSupport for several years now.</p>\n<p>The documentation has an entire chapter on how to configure the built in <code>JWTFilter</code> that comes with spring security, and its as easy as just adding one single line.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-architecture</a></p>\n<p>Standard enabling of the jwt filter:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(authorize -&gt; authorize\n            .anyRequest().authenticated()\n        )\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    return http.build();\n}\n</code></pre>\n<p>Configure how your jwt should be verified:</p>\n<pre><code>@Bean\nJwtDecoder jwtDecoder() {\n    return NimbusJwtDecoder.withSecretKey(this.key)\n            .jwsAlgorithm(RS512).build();\n}\n</code></pre>\n<p>There are several other things to configure.</p>\n"}],"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1658652054,"answer_count":2,"score":0,"last_activity_date":1658451317,"creation_date":1658437873,"question_id":73072669,"body_markdown":"I was exploring Spring security through two tutorials. In one of the tutorials jwt token is validated [as follows](https://github.com/callicoder/spring-boot-react-oauth2-social-login-demo/blob/1b77669e0ca326b1c556a83dc0c3bae233653788/spring-social/src/main/java/com/example/springsocial/security/TokenProvider.java#L46):\r\n\r\n    public boolean validateToken(String authToken) {\r\n        try {\r\n            Jwts.parser().setSigningKey(appProperties.getAuth().getTokenSecret()).parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (SignatureException ex) {\r\n            logger.error(&quot;Invalid JWT signature&quot;);\r\n        } catch (MalformedJwtException ex) {\r\n            logger.error(&quot;Invalid JWT token&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            logger.error(&quot;Expired JWT token&quot;);\r\n        } catch (UnsupportedJwtException ex) {\r\n            logger.error(&quot;Unsupported JWT token&quot;);\r\n        } catch (IllegalArgumentException ex) {\r\n            logger.error(&quot;JWT claims string is empty.&quot;);\r\n        }\r\n        return false;\r\n    }\r\n\r\nwhile in another tutorial, it is validated [as follows](https://github.com/koushikkothagal/spring-security-jwt/blob/d8ef76d8229cd6f5576b834b456a0086842272c7/src/main/java/io/javabrains/springsecurityjwt/util/JwtUtil.java#L51):\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\r\n    }\r\n\r\n    private Boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\nI have few doubts:\r\n\r\n**Q1.** The second example does no catch exceptions. Should catching and logging exceptions ideally be part of validation or not? Or the second example is indeed doing something similar which I am not able to spot?\r\n\r\n**Q2.** Token expiry is handled by catching `ExpiredJwtException`, whereas second example explicitly checks for token expiry with `isTokenExpired()`. How it should be ideally done?\r\n\r\n**Q3.** Second example explicitly checks whether `username` in token is indeed same as the username in the current security context with `username.equals(userDetails.getUsername())`. I dont know how it wont be, as I believe security context itself will be populated using current token. Thus I feel that this condition will always be trivially true. Am I correct? Also is this the reason why first example is not checking explicitly for this?","title":"How to validate Jwt token?","body":"<p>I was exploring Spring security through two tutorials. In one of the tutorials jwt token is validated <a href=\"https://github.com/callicoder/spring-boot-react-oauth2-social-login-demo/blob/1b77669e0ca326b1c556a83dc0c3bae233653788/spring-social/src/main/java/com/example/springsocial/security/TokenProvider.java#L46\" rel=\"nofollow noreferrer\">as follows</a>:</p>\n<pre><code>public boolean validateToken(String authToken) {\n    try {\n        Jwts.parser().setSigningKey(appProperties.getAuth().getTokenSecret()).parseClaimsJws(authToken);\n        return true;\n    } catch (SignatureException ex) {\n        logger.error(&quot;Invalid JWT signature&quot;);\n    } catch (MalformedJwtException ex) {\n        logger.error(&quot;Invalid JWT token&quot;);\n    } catch (ExpiredJwtException ex) {\n        logger.error(&quot;Expired JWT token&quot;);\n    } catch (UnsupportedJwtException ex) {\n        logger.error(&quot;Unsupported JWT token&quot;);\n    } catch (IllegalArgumentException ex) {\n        logger.error(&quot;JWT claims string is empty.&quot;);\n    }\n    return false;\n}\n</code></pre>\n<p>while in another tutorial, it is validated <a href=\"https://github.com/koushikkothagal/spring-security-jwt/blob/d8ef76d8229cd6f5576b834b456a0086842272c7/src/main/java/io/javabrains/springsecurityjwt/util/JwtUtil.java#L51\" rel=\"nofollow noreferrer\">as follows</a>:</p>\n<pre><code>public String extractUsername(String token) {\n    return extractClaim(token, Claims::getSubject);\n}\n\npublic Date extractExpiration(String token) {\n    return extractClaim(token, Claims::getExpiration);\n}\n\npublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n    final Claims claims = extractAllClaims(token);\n    return claimsResolver.apply(claims);\n}\nprivate Claims extractAllClaims(String token) {\n    return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\n}\n\nprivate Boolean isTokenExpired(String token) {\n    return extractExpiration(token).before(new Date());\n}\n\npublic Boolean validateToken(String token, UserDetails userDetails) {\n    final String username = extractUsername(token);\n    return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n}\n</code></pre>\n<p>I have few doubts:</p>\n<p><strong>Q1.</strong> The second example does no catch exceptions. Should catching and logging exceptions ideally be part of validation or not? Or the second example is indeed doing something similar which I am not able to spot?</p>\n<p><strong>Q2.</strong> Token expiry is handled by catching <code>ExpiredJwtException</code>, whereas second example explicitly checks for token expiry with <code>isTokenExpired()</code>. How it should be ideally done?</p>\n<p><strong>Q3.</strong> Second example explicitly checks whether <code>username</code> in token is indeed same as the username in the current security context with <code>username.equals(userDetails.getUsername())</code>. I dont know how it wont be, as I believe security context itself will be populated using current token. Thus I feel that this condition will always be trivially true. Am I correct? Also is this the reason why first example is not checking explicitly for this?</p>\n"},{"tags":["java","ssl","certificate","keystore"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1658449953,"creation_date":1330592812,"answer_id":9513345,"question_id":9513257,"body_markdown":"Use the `java.security.Keystore` class to load the keystore and enumerate its contents, and check each certificate for expiry.","title":"Checking certificates expiration dates in java keystore","body":"<p>Use the <code>java.security.Keystore</code> class to load the keystore and enumerate its contents, and check each certificate for expiry.</p>\n"},{"tags":[],"owner":{"account_id":1559523,"reputation":331,"user_id":1449743,"display_name":"William"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1339443892,"creation_date":1339443892,"answer_id":10986535,"question_id":9513257,"body_markdown":"Thanks for the direction EJP, here is a block of what I came up with. \r\n\r\n    \ttry {\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeystore.load(new FileInputStream(&quot;keystoreLocation&quot;), &quot;keystorePassword&quot;.toCharArray());\r\n\t\t\tEnumeration&lt;String&gt; aliases = keystore.aliases();\r\n\t\t\twhile(aliases.hasMoreElements()){\r\n\t\t\t\tString alias = aliases.nextElement();\r\n\t\t\t\tif(keystore.getCertificate(alias).getType().equals(&quot;X.509&quot;)){\r\n\t\t\t\t\tSystem.out.println(alias + &quot; expires &quot; + ((X509Certificate) keystore.getCertificate(alias)).getNotAfter());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"Checking certificates expiration dates in java keystore","body":"<p>Thanks for the direction EJP, here is a block of what I came up with. </p>\n\n<pre><code>    try {\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keystore.load(new FileInputStream(\"keystoreLocation\"), \"keystorePassword\".toCharArray());\n        Enumeration&lt;String&gt; aliases = keystore.aliases();\n        while(aliases.hasMoreElements()){\n            String alias = aliases.nextElement();\n            if(keystore.getCertificate(alias).getType().equals(\"X.509\")){\n                System.out.println(alias + \" expires \" + ((X509Certificate) keystore.getCertificate(alias)).getNotAfter());\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8739896,"reputation":501,"user_id":6537273,"display_name":"Rahamath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658450041,"creation_date":1657733020,"answer_id":72970305,"question_id":9513257,"body_markdown":"    String secret = &quot;secret123&quot;;\r\n    InputStream ins = new FileInputStream(&quot;/test.jks&quot;);\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    keyStore.load(ins, secret.toCharArray());\r\n    Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n    while(aliases.hasMoreElements()) {\r\n    \tString alias = aliases.nextElement();\r\n    \tSystem.out.println(&quot;alias : &quot; + alias);\r\n        if(keyStore.getCertificate(alias).getType().equals(&quot;X.509&quot;)) {\r\n    \t\tX509Certificate cert = (X509Certificate) keyStore.getCertificate(alias);\r\n    \t\tSystem.out.println(alias + &quot; from &quot; + cert.getNotBefore());\r\n    \t\tSystem.out.println(alias + &quot; to &quot; + cert.getNotAfter());\r\n    \t\ttry {\r\n    \t\t\tcert.checkValidity();\r\n    \t\t} catch (CertificateExpiredException e) {\r\n    \t\t\t// if the certificate has expired.\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (CertificateNotYetValidException e) {\r\n    \t\t\t// if the certificate is not yet valid. it means the certificate validitity start date is future date.\r\n    \t\t\te.printStackTrace();\r\n    \t\t}               \r\n    \t}\r\n    }","title":"Checking certificates expiration dates in java keystore","body":"<pre><code>String secret = &quot;secret123&quot;;\nInputStream ins = new FileInputStream(&quot;/test.jks&quot;);\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\nkeyStore.load(ins, secret.toCharArray());\nEnumeration&lt;String&gt; aliases = keyStore.aliases();\nwhile(aliases.hasMoreElements()) {\n    String alias = aliases.nextElement();\n    System.out.println(&quot;alias : &quot; + alias);\n    if(keyStore.getCertificate(alias).getType().equals(&quot;X.509&quot;)) {\n        X509Certificate cert = (X509Certificate) keyStore.getCertificate(alias);\n        System.out.println(alias + &quot; from &quot; + cert.getNotBefore());\n        System.out.println(alias + &quot; to &quot; + cert.getNotAfter());\n        try {\n            cert.checkValidity();\n        } catch (CertificateExpiredException e) {\n            // if the certificate has expired.\n            e.printStackTrace();\n        } catch (CertificateNotYetValidException e) {\n            // if the certificate is not yet valid. it means the certificate validitity start date is future date.\n            e.printStackTrace();\n        }               \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25804492,"reputation":11,"user_id":19546243,"display_name":"Madcat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658448357,"creation_date":1658448357,"answer_id":73073820,"question_id":9513257,"body_markdown":"Here&#39;s a Powershell script I wrote to check a JKS, extract the alias and expiry date, and email me a table listing of certs expiring in the next 60 days (adjustable to whatever you want). I have scheduled this to run this in Task Scheduler on the 1st of every month\r\n\r\nIt&#39;s in 2 phases:\r\n1. use a CMD script to output the contents of the JKS to a text file\r\n2. Powershell then interrogates that data\r\n\r\nThe reason the CMD is there is that when you use the command via CMD, it extracts the required data and uses both LF and CRLF to separate the cert&#39;s data - this then makes it easy to join the lines together for the Powershell. Running the command via the Powershell script just creates CRLF line breaks\r\n\r\nPS: I am a beginner Powershell coder so please be gentle :) but those with more experience please feel free to optimise this code\r\n\r\nThis is for Australian time, catering for standard (AEST) and daylight savings times (AEDT) \r\n\r\nCMD:\r\n\r\n    D:\\path_to_java\\jvm\\jvm\\bin\\keytool.exe -list -v -keystore D:\\path_to_JKS\\CertStore.jks -storepass &quot;my_jks_pass&quot; | findstr &quot;Alias until&quot; &gt; D:\\Tools\\Scripts\\CertExpiryCheck\\certlist_temp.txt\r\n\r\nPOWERSHELL:\r\n\r\n    # MUST use CMD to run below command line so that it creates both LF and CRLF breaks (Powershell just creates CRLF)\r\n    Start-Process -NoNewWindow -Wait -FilePath &quot;C:\\Windows\\System32\\cmd.exe&quot; -ArgumentList {/c &quot;D:\\Tools\\Scripts\\CertExpiryCheck\\Extract_cert_info.cmd&quot;}\r\n     \r\n    $original_file =&#39;D:\\Tools\\Scripts\\CertExpiryCheck\\certlist_temp.txt&#39;\r\n    $new_file1 =&#39;D:\\Tools\\Scripts\\CertExpiryCheck\\new_certs1.txt&#39;\r\n    $new_file2 =&#39;D:\\Tools\\Scripts\\CertExpiryCheck\\certlist.txt&#39;\r\n    $to = &quot;myemail@domain.com&quot;\r\n    $add_days = 60\r\n    \r\n    $fileexists = Test-Path -Path $original_file\r\n    $checkiffileisempty = (Get-ChildItem -Path $original_file).Length -eq &quot;0&quot;\r\n    If (($fileexists -eq $False) -or ($checkiffileisempty -eq $True)) \r\n    {\r\n        Write-Host &quot;$original_file does not exist or is empty !&quot;\r\n        break \r\n    }\r\n    \r\n    \r\n    #replace CRLF with space\r\n    $text1 = [IO.File]::ReadAllText($original_file) -replace &quot;`r`n&quot;, &quot; &quot;\r\n    [IO.File]::WriteAllText($new_file1, $text1)\r\n    #replace LF with CRLF\r\n    $text2 = [IO.File]::ReadAllText($new_file1) -replace &quot;`n&quot;, &quot;`r`n&quot;\r\n    [IO.File]::WriteAllText($new_file2, $text2)\r\n    \r\n    $InXDays = [DateTime]::Now.AddDays($add_days)\r\n    \r\n    # Create a DataTable\r\n    $table = New-Object system.Data.DataTable &quot;ExpiringCertsTable&quot;\r\n    $col1 = New-Object system.Data.DataColumn CertAlias,([string])\r\n    $col2 = New-Object system.Data.DataColumn ExpiringOn,([string])\r\n    $table.columns.add($col1)\r\n    $table.columns.add($col2)\r\n    \r\n    \r\n    $File = Get-Content $new_file2\r\n    foreach($line in $File)\r\n    {\r\n        $alias1, $until1 = $line -Split &quot;Valid from:&quot; \r\n        $aliastext, $certname = $alias1 -Split &quot;:&quot;\r\n        $from1, $untildate = $until1 -Split &quot;until: &quot; \r\n    \r\n        if($untildate.Contains(&quot;AEDT&quot;))\r\n        {\r\n            $cert_exp_date = [datetime]::ParseExact($untildate, &#39;ddd MMM dd HH:mm:ss AEDT yyyy&#39;, [cultureinfo]&#39;en-AU&#39;)\r\n        }\r\n    \r\n        if($untildate.Contains(&quot;AEST&quot;))\r\n        {\r\n            $cert_exp_date = [datetime]::ParseExact($untildate, &#39;ddd MMM dd HH:mm:ss AEST yyyy&#39;, [cultureinfo]&#39;en-AU&#39;)\r\n        }\r\n    \r\n        if($cert_exp_date -le $InXDays )\r\n        {\r\n            Write-Output &quot;&gt;&gt;&gt; $certname &lt;&lt;&lt;`thas expired or will be expiring on `t*** $untildate ***&quot;\r\n    \r\n            $row = $table.NewRow()\r\n            $row.CertAlias = $certname\r\n            $row.ExpiringOn = $untildate\r\n            $table.Rows.Add($row)\r\n        }\r\n    }\r\n    \r\n    \r\n    # Create column headers of Table\r\n    $HtmlTable1 = &quot;&lt;table border=&#39;1&#39; align=&#39;Left&#39; cellpadding=&#39;2&#39; cellspacing=&#39;0&#39; style=&#39;color:black;font-family:arial,helvetica,sans-serif;text-align:left;&#39;&gt;\r\n    &lt;tr style =&#39;font-size:13px;font-weight: normal;background-color: LightBlue&#39;&gt;\r\n    &lt;th align=left&gt;&lt;b&gt;Certificate Alias&lt;/b&gt;&lt;/th&gt;\r\n    &lt;th align=left&gt;&lt;b&gt;Expiring On&lt;/b&gt;&lt;/th&gt;\r\n    &lt;/tr&gt;&quot;\r\n    \r\n    # Insert data into Table\r\n    foreach ($row in $table.Rows)\r\n    { \r\n        $HtmlTable1 += &quot;&lt;tr style=&#39;font-size:13px;background-color:#FFFFFF&#39;&gt;\r\n        &lt;td&gt;&quot; + $row[0] + &quot;&lt;/td&gt;\r\n        &lt;td&gt;&quot; + $row[1] + &quot;&lt;/td&gt;\r\n        &lt;/tr&gt;&quot;\r\n    }\r\n    \r\n    $HtmlTable1 += &quot;&lt;/table&gt;&quot;\r\n    \r\n    #email report\r\n    $smtpserver = &quot;smtp.server.com&quot;\r\n    $from = &quot;$env:COMPUTERNAME@domain.com.au&quot;\r\n    $subject = &quot;Certs expiring in next $add_days days on $env:COMPUTERNAME&quot;\r\n    $body = &quot;List of certs in D:\\path_to_JKS\\CertStore.jks expiring in the next $add_days days:&lt;br /&gt;&lt;br /&gt;&quot; + $HtmlTable1\r\n    Send-MailMessage -smtpserver $smtpserver -from $from -to $to -subject $subject -body $body -bodyashtml\r\n    \r\n    #clean up temp files\r\n    Remove-Item $original_file \r\n    Remove-Item $new_file1 \r\n    Remove-Item $new_file2\r\n    ","title":"Checking certificates expiration dates in java keystore","body":"<p>Here's a Powershell script I wrote to check a JKS, extract the alias and expiry date, and email me a table listing of certs expiring in the next 60 days (adjustable to whatever you want). I have scheduled this to run this in Task Scheduler on the 1st of every month</p>\n<p>It's in 2 phases:</p>\n<ol>\n<li>use a CMD script to output the contents of the JKS to a text file</li>\n<li>Powershell then interrogates that data</li>\n</ol>\n<p>The reason the CMD is there is that when you use the command via CMD, it extracts the required data and uses both LF and CRLF to separate the cert's data - this then makes it easy to join the lines together for the Powershell. Running the command via the Powershell script just creates CRLF line breaks</p>\n<p>PS: I am a beginner Powershell coder so please be gentle :) but those with more experience please feel free to optimise this code</p>\n<p>This is for Australian time, catering for standard (AEST) and daylight savings times (AEDT)</p>\n<p>CMD:</p>\n<pre><code>D:\\path_to_java\\jvm\\jvm\\bin\\keytool.exe -list -v -keystore D:\\path_to_JKS\\CertStore.jks -storepass &quot;my_jks_pass&quot; | findstr &quot;Alias until&quot; &gt; D:\\Tools\\Scripts\\CertExpiryCheck\\certlist_temp.txt\n</code></pre>\n<p>POWERSHELL:</p>\n<pre><code># MUST use CMD to run below command line so that it creates both LF and CRLF breaks (Powershell just creates CRLF)\nStart-Process -NoNewWindow -Wait -FilePath &quot;C:\\Windows\\System32\\cmd.exe&quot; -ArgumentList {/c &quot;D:\\Tools\\Scripts\\CertExpiryCheck\\Extract_cert_info.cmd&quot;}\n \n$original_file ='D:\\Tools\\Scripts\\CertExpiryCheck\\certlist_temp.txt'\n$new_file1 ='D:\\Tools\\Scripts\\CertExpiryCheck\\new_certs1.txt'\n$new_file2 ='D:\\Tools\\Scripts\\CertExpiryCheck\\certlist.txt'\n$to = &quot;myemail@domain.com&quot;\n$add_days = 60\n\n$fileexists = Test-Path -Path $original_file\n$checkiffileisempty = (Get-ChildItem -Path $original_file).Length -eq &quot;0&quot;\nIf (($fileexists -eq $False) -or ($checkiffileisempty -eq $True)) \n{\n    Write-Host &quot;$original_file does not exist or is empty !&quot;\n    break \n}\n\n\n#replace CRLF with space\n$text1 = [IO.File]::ReadAllText($original_file) -replace &quot;`r`n&quot;, &quot; &quot;\n[IO.File]::WriteAllText($new_file1, $text1)\n#replace LF with CRLF\n$text2 = [IO.File]::ReadAllText($new_file1) -replace &quot;`n&quot;, &quot;`r`n&quot;\n[IO.File]::WriteAllText($new_file2, $text2)\n\n$InXDays = [DateTime]::Now.AddDays($add_days)\n\n# Create a DataTable\n$table = New-Object system.Data.DataTable &quot;ExpiringCertsTable&quot;\n$col1 = New-Object system.Data.DataColumn CertAlias,([string])\n$col2 = New-Object system.Data.DataColumn ExpiringOn,([string])\n$table.columns.add($col1)\n$table.columns.add($col2)\n\n\n$File = Get-Content $new_file2\nforeach($line in $File)\n{\n    $alias1, $until1 = $line -Split &quot;Valid from:&quot; \n    $aliastext, $certname = $alias1 -Split &quot;:&quot;\n    $from1, $untildate = $until1 -Split &quot;until: &quot; \n\n    if($untildate.Contains(&quot;AEDT&quot;))\n    {\n        $cert_exp_date = [datetime]::ParseExact($untildate, 'ddd MMM dd HH:mm:ss AEDT yyyy', [cultureinfo]'en-AU')\n    }\n\n    if($untildate.Contains(&quot;AEST&quot;))\n    {\n        $cert_exp_date = [datetime]::ParseExact($untildate, 'ddd MMM dd HH:mm:ss AEST yyyy', [cultureinfo]'en-AU')\n    }\n\n    if($cert_exp_date -le $InXDays )\n    {\n        Write-Output &quot;&gt;&gt;&gt; $certname &lt;&lt;&lt;`thas expired or will be expiring on `t*** $untildate ***&quot;\n\n        $row = $table.NewRow()\n        $row.CertAlias = $certname\n        $row.ExpiringOn = $untildate\n        $table.Rows.Add($row)\n    }\n}\n\n\n# Create column headers of Table\n$HtmlTable1 = &quot;&lt;table border='1' align='Left' cellpadding='2' cellspacing='0' style='color:black;font-family:arial,helvetica,sans-serif;text-align:left;'&gt;\n&lt;tr style ='font-size:13px;font-weight: normal;background-color: LightBlue'&gt;\n&lt;th align=left&gt;&lt;b&gt;Certificate Alias&lt;/b&gt;&lt;/th&gt;\n&lt;th align=left&gt;&lt;b&gt;Expiring On&lt;/b&gt;&lt;/th&gt;\n&lt;/tr&gt;&quot;\n\n# Insert data into Table\nforeach ($row in $table.Rows)\n{ \n    $HtmlTable1 += &quot;&lt;tr style='font-size:13px;background-color:#FFFFFF'&gt;\n    &lt;td&gt;&quot; + $row[0] + &quot;&lt;/td&gt;\n    &lt;td&gt;&quot; + $row[1] + &quot;&lt;/td&gt;\n    &lt;/tr&gt;&quot;\n}\n\n$HtmlTable1 += &quot;&lt;/table&gt;&quot;\n\n#email report\n$smtpserver = &quot;smtp.server.com&quot;\n$from = &quot;$env:COMPUTERNAME@domain.com.au&quot;\n$subject = &quot;Certs expiring in next $add_days days on $env:COMPUTERNAME&quot;\n$body = &quot;List of certs in D:\\path_to_JKS\\CertStore.jks expiring in the next $add_days days:&lt;br /&gt;&lt;br /&gt;&quot; + $HtmlTable1\nSend-MailMessage -smtpserver $smtpserver -from $from -to $to -subject $subject -body $body -bodyashtml\n\n#clean up temp files\nRemove-Item $original_file \nRemove-Item $new_file1 \nRemove-Item $new_file2\n</code></pre>\n"}],"owner":{"account_id":988726,"reputation":301,"user_id":1006551,"display_name":"lou_cypher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42179,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":4,"score":25,"last_activity_date":1658450041,"creation_date":1330592286,"question_id":9513257,"body_markdown":"My java application uses a keystore file in which I have a certificate which is used in ssl connection with active directory server. \r\nWhat I have to do is to check its expiration date and prompt user if its close to expire. I have to do it while my application starts. My idea is to use external program: keytool to display info about certain certificate in the keystore and then do some parsing operations on a string which keytool outputs to find this validation date.\r\n\r\nHere&#39;s the output of a specific keytool command:\r\n\r\n\r\n    Owner:\r\n    Issuer: CN=CPD Root CA, DC=cpd, DC=local&lt;br&gt;\r\n    Serial number: 39e8d1610002000000cb\r\n    &lt;br&gt;Valid from: Wed Feb 22 21:36:31 CET 2012 until: Thu Feb 21 21:36:31 CET 2013\r\n    Certificate fingerprints: &lt;br&gt;\r\n             MD5:  82:46:8B:DB:BC:5C:64:21:84:BB:68:E3:4B:D4:35:70&lt;br&gt;\r\n             SHA1: 35:52:CA:F2:11:66:1E:50:63:BC:53:A5:50:C1:F0:1E:62:81:BC:3F&lt;br&gt;\r\n             Signature algorithm name: SHA1withRSA\r\n\r\nProblem would be with parsing date since I can&#39;t be sure in which format it is displayed.\r\n\r\nIs there any easier way to check expiration date of certificates included in java keystore file?\r\n\r\n","title":"Checking certificates expiration dates in java keystore","body":"<p>My java application uses a keystore file in which I have a certificate which is used in ssl connection with active directory server. \nWhat I have to do is to check its expiration date and prompt user if its close to expire. I have to do it while my application starts. My idea is to use external program: keytool to display info about certain certificate in the keystore and then do some parsing operations on a string which keytool outputs to find this validation date.</p>\n\n<p>Here's the output of a specific keytool command:</p>\n\n<pre><code>Owner:\nIssuer: CN=CPD Root CA, DC=cpd, DC=local&lt;br&gt;\nSerial number: 39e8d1610002000000cb\n&lt;br&gt;Valid from: Wed Feb 22 21:36:31 CET 2012 until: Thu Feb 21 21:36:31 CET 2013\nCertificate fingerprints: &lt;br&gt;\n         MD5:  82:46:8B:DB:BC:5C:64:21:84:BB:68:E3:4B:D4:35:70&lt;br&gt;\n         SHA1: 35:52:CA:F2:11:66:1E:50:63:BC:53:A5:50:C1:F0:1E:62:81:BC:3F&lt;br&gt;\n         Signature algorithm name: SHA1withRSA\n</code></pre>\n\n<p>Problem would be with parsing date since I can't be sure in which format it is displayed.</p>\n\n<p>Is there any easier way to check expiration date of certificates included in java keystore file?</p>\n"},{"tags":["java","profiling","jfr","jmc"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658449851,"creation_date":1658420284,"answer_id":73069574,"question_id":73068381,"body_markdown":"To keep overhead low, only Errors and the number of exceptions are recorded by default. If you want to know the exception class, stack trace and message, you need to enable the exception event.\r\n\r\n\r\nIf you are starting the recording from JMC, you can select more fine-grained exception information in the combo box. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you are starting from command line and running JDK 17 or later:\r\n\r\n    $ java -XX:StartFlightRecording:exceptions=all ...\r\n\r\nIf you are running a JDK version prior to JDK 17, you can use the Template manager in JMC (Window -&gt; Flight Recorder Template Manager) and create a custom configuration, in a similar way as the recording wizard (with the Edit button). You can export the configuration to a file, i.e. my.jfc, and use it to start JFR:\r\n\r\n\r\n    $ java -XX:StartFlightRecording=settings=my.jfc ...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kW55z.png","title":"I can&#39;t see exception details in JMC","body":"<p>To keep overhead low, only Errors and the number of exceptions are recorded by default. If you want to know the exception class, stack trace and message, you need to enable the exception event.</p>\n<p>If you are starting the recording from JMC, you can select more fine-grained exception information in the combo box.</p>\n<p><a href=\"https://i.stack.imgur.com/kW55z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kW55z.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are starting from command line and running JDK 17 or later:</p>\n<pre><code>$ java -XX:StartFlightRecording:exceptions=all ...\n</code></pre>\n<p>If you are running a JDK version prior to JDK 17, you can use the Template manager in JMC (Window -&gt; Flight Recorder Template Manager) and create a custom configuration, in a similar way as the recording wizard (with the Edit button). You can export the configuration to a file, i.e. my.jfc, and use it to start JFR:</p>\n<pre><code>$ java -XX:StartFlightRecording=settings=my.jfc ...\n</code></pre>\n"}],"owner":{"account_id":58106,"reputation":1733,"user_id":174005,"accept_rate":62,"display_name":"Altug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73069574,"answer_count":1,"score":2,"last_activity_date":1658449851,"creation_date":1658415247,"question_id":73068381,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EOslq.png\r\n\r\nAfter heavy load of my spring boot application, I opened JFR file with JMC. As you can see JFR says there are more than 8000 exception but it don&#39;t show what are they. How can I read that exception number?  \r\n\r\nNote : From application layer there are no exception cases, maybe underlying systems throws some exception but I couldn&#39;t see what are they. \r\n\r\nAny suggestions?\r\nThanks.","title":"I can&#39;t see exception details in JMC","body":"<p><a href=\"https://i.stack.imgur.com/EOslq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EOslq.png\" alt=\"enter image description here\" /></a></p>\n<p>After heavy load of my spring boot application, I opened JFR file with JMC. As you can see JFR says there are more than 8000 exception but it don't show what are they. How can I read that exception number?</p>\n<p>Note : From application layer there are no exception cases, maybe underlying systems throws some exception but I couldn't see what are they.</p>\n<p>Any suggestions?\nThanks.</p>\n"},{"tags":["java","spring-boot","zoneddatetime"],"answers":[{"tags":[],"owner":{"account_id":11470878,"reputation":472,"user_id":8407746,"display_name":"Mladen Savić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596466451,"creation_date":1596466451,"answer_id":63231788,"question_id":63231624,"body_markdown":"Use \r\n`@JsonFormat(pattern = &#39;specify pattern here&#39;)`\r\n\r\nObjectMapper by default tries to create ZonedDateTime object with String in constructor and such thing does not exists. By adding this annotation you will allow it to parse it from String using given format.","title":"Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist)","body":"<p>Use\n<code>@JsonFormat(pattern = 'specify pattern here')</code></p>\n<p>ObjectMapper by default tries to create ZonedDateTime object with String in constructor and such thing does not exists. By adding this annotation you will allow it to parse it from String using given format.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596491175,"creation_date":1596491175,"answer_id":63237389,"question_id":63231624,"body_markdown":"From the error, it looks like it is looking for `String`-argument constructor. Try after adding the following constructors in `ResultDto`:\r\n\r\n    public ResultDto(ZonedDateTime dateSent, ZonedDateTime dateDeliveryReceiptReceived) {\r\n    \tthis.dateSent = dateSent;\r\n    \tthis.dateDeliveryReceiptReceived = dateDeliveryReceiptReceived;\r\n    }\r\n    \r\n    public ResultDto(String dateSent, String dateDeliveryReceiptReceived) {\r\n    \tthis.dateSent = ZonedDateTime.parse(dateSent, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;));\r\n    \tthis.dateDeliveryReceiptReceived = ZonedDateTime.parse(dateDeliveryReceiptReceived,\r\n    \t\t\tDateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;));\r\n    }","title":"Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist)","body":"<p>From the error, it looks like it is looking for <code>String</code>-argument constructor. Try after adding the following constructors in <code>ResultDto</code>:</p>\n<pre><code>public ResultDto(ZonedDateTime dateSent, ZonedDateTime dateDeliveryReceiptReceived) {\n    this.dateSent = dateSent;\n    this.dateDeliveryReceiptReceived = dateDeliveryReceiptReceived;\n}\n\npublic ResultDto(String dateSent, String dateDeliveryReceiptReceived) {\n    this.dateSent = ZonedDateTime.parse(dateSent, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;));\n    this.dateDeliveryReceiptReceived = ZonedDateTime.parse(dateDeliveryReceiptReceived,\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741093,"reputation":1326,"user_id":1592482,"accept_rate":48,"display_name":"mengmeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596535931,"creation_date":1596535931,"answer_id":63244688,"question_id":63231624,"body_markdown":"Thanks for those who answered.\r\n\r\nWith the help of team mate, we discovered that the spring cloud has its own object mapper. And not the `ObjectMapper` directly. Since this DTO/POJO is to the message from a AWS SNS/SQS.\r\n\r\nThis should do:\r\n\r\n\t@Bean\r\n\tpublic MappingJackson2MessageConverter mappingJackson2MessageConverter(ObjectMapper objectMapper) {\r\n\t\tMappingJackson2MessageConverter jacksonMessageConverter = new MappingJackson2MessageConverter();\r\n\t\tjacksonMessageConverter.setObjectMapper(objectMapper);\r\n\t\tjacksonMessageConverter.setSerializedPayloadClass(String.class);\r\n\t\tjacksonMessageConverter.setStrictContentTypeMatch(true);\r\n\t\treturn jacksonMessageConverter;\r\n\t}","title":"Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist)","body":"<p>Thanks for those who answered.</p>\n<p>With the help of team mate, we discovered that the spring cloud has its own object mapper. And not the <code>ObjectMapper</code> directly. Since this DTO/POJO is to the message from a AWS SNS/SQS.</p>\n<p>This should do:</p>\n<pre><code>@Bean\npublic MappingJackson2MessageConverter mappingJackson2MessageConverter(ObjectMapper objectMapper) {\n    MappingJackson2MessageConverter jacksonMessageConverter = new MappingJackson2MessageConverter();\n    jacksonMessageConverter.setObjectMapper(objectMapper);\n    jacksonMessageConverter.setSerializedPayloadClass(String.class);\n    jacksonMessageConverter.setStrictContentTypeMatch(true);\n    return jacksonMessageConverter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14703098,"reputation":656,"user_id":10618627,"display_name":"Nelson Reyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658449254,"creation_date":1658449254,"answer_id":73073903,"question_id":63231624,"body_markdown":"We face the same problem by using java 8, Springboot and AWS SQS. We create a custom deserializer which extends from InstantDeserializer for a ZonedDateTime. We apply the custom deserializer directly on the DTO which is associated to the SQS message.\r\n\r\n    import com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer;\r\n    \r\n    import java.time.Instant;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class CustomZonedDateTimeDeserializer extends InstantDeserializer&lt;ZonedDateTime&gt; {\r\n        public CustomZonedDateTimeDeserializer() {\r\n            super(ZonedDateTime.class,\r\n                    DateTimeFormatter.ISO_ZONED_DATE_TIME,\r\n                    ZonedDateTime::from,\r\n                    a -&gt; ZonedDateTime.ofInstant(Instant.ofEpochMilli(a.value), a.zoneId.getId().equals(&quot;UTC&quot;) ? ZoneOffset.UTC : a.zoneId),\r\n                    a -&gt; ZonedDateTime.ofInstant(Instant.ofEpochSecond(a.integer, a.fraction), a.zoneId.getId().equals(&quot;UTC&quot;) ? ZoneOffset.UTC : a.zoneId),\r\n                    ZonedDateTime::withZoneSameInstant, false);\r\n        }\r\n    }\r\n\r\nIn the DTO, we will have:\r\n\r\n    public class ResultDto {\r\n        @JsonDeserialize(using = CustomZonedDateTimeDeserializer.class)\r\n        private ZonedDateTime dateSent;\r\n\r\n        @JsonDeserialize(using = CustomZonedDateTimeDeserializer.class)    \r\n        private ZonedDateTime dateDeliveryReceiptReceived;\r\n    \r\n        public ResultDto() {}\r\n    }","title":"Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist)","body":"<p>We face the same problem by using java 8, Springboot and AWS SQS. We create a custom deserializer which extends from InstantDeserializer for a ZonedDateTime. We apply the custom deserializer directly on the DTO which is associated to the SQS message.</p>\n<pre><code>import com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer;\n\nimport java.time.Instant;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class CustomZonedDateTimeDeserializer extends InstantDeserializer&lt;ZonedDateTime&gt; {\n    public CustomZonedDateTimeDeserializer() {\n        super(ZonedDateTime.class,\n                DateTimeFormatter.ISO_ZONED_DATE_TIME,\n                ZonedDateTime::from,\n                a -&gt; ZonedDateTime.ofInstant(Instant.ofEpochMilli(a.value), a.zoneId.getId().equals(&quot;UTC&quot;) ? ZoneOffset.UTC : a.zoneId),\n                a -&gt; ZonedDateTime.ofInstant(Instant.ofEpochSecond(a.integer, a.fraction), a.zoneId.getId().equals(&quot;UTC&quot;) ? ZoneOffset.UTC : a.zoneId),\n                ZonedDateTime::withZoneSameInstant, false);\n    }\n}\n</code></pre>\n<p>In the DTO, we will have:</p>\n<pre><code>public class ResultDto {\n    @JsonDeserialize(using = CustomZonedDateTimeDeserializer.class)\n    private ZonedDateTime dateSent;\n\n    @JsonDeserialize(using = CustomZonedDateTimeDeserializer.class)    \n    private ZonedDateTime dateDeliveryReceiptReceived;\n\n    public ResultDto() {}\n}\n</code></pre>\n"}],"owner":{"account_id":1741093,"reputation":1326,"user_id":1592482,"accept_rate":48,"display_name":"mengmeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63244688,"answer_count":4,"score":1,"last_activity_date":1658449254,"creation_date":1596465955,"question_id":63231624,"body_markdown":"I have a service that listens to a queue then maps it to a POJO.\r\nBut I&#39;m always getting this error even after setting the `@Configuration` of ObjectMapper\r\n\r\n```\r\n\t@Bean\r\n\tpublic ObjectMapper objectMapper() {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\t\tmapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\t\tmapper.registerModule(new JavaTimeModule());\r\n\r\n\t\treturn mapper;\r\n\t}\r\n```\r\n\r\nMy POJO:\r\n\r\n```\r\npublic class ResultDto {\r\n\tprivate ZonedDateTime dateSent;\r\n\r\n\tprivate ZonedDateTime dateDeliveryReceiptReceived;\r\n\r\n\tpublic ResultDto() {}\r\n}\r\n```\r\n\r\nI get this error:\r\n\r\n```\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;2020-08-03T11:02:51.044+0000&#39;)\r\n```\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n","title":"Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist)","body":"<p>I have a service that listens to a queue then maps it to a POJO.\nBut I'm always getting this error even after setting the <code>@Configuration</code> of ObjectMapper</p>\n<pre><code>    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        mapper.registerModule(new JavaTimeModule());\n\n        return mapper;\n    }\n</code></pre>\n<p>My POJO:</p>\n<pre><code>public class ResultDto {\n    private ZonedDateTime dateSent;\n\n    private ZonedDateTime dateDeliveryReceiptReceived;\n\n    public ResultDto() {}\n}\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Caused by: org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot construct instance of `java.time.ZonedDateTime` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('2020-08-03T11:02:51.044+0000')\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","vb.net"],"comments":[{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":1,"creation_date":1301938361,"post_id":5542101,"comment_id":6299341,"body_markdown":"Break up the code (especially thee Java) and check the temporary values","body":"Break up the code (especially thee Java) and check the temporary values"},{"owner":{"account_id":275847,"reputation":634,"user_id":568953,"accept_rate":100,"display_name":"Ismail"},"score":0,"creation_date":1301939411,"post_id":5542101,"comment_id":6299629,"body_markdown":"if I print values just before setting value at some index, both give me same output as: 1 0 1 0","body":"if I print values just before setting value at some index, both give me same output as: 1 0 1 0"},{"owner":{"account_id":114536,"reputation":5031,"user_id":301125,"display_name":"Tridus"},"score":0,"creation_date":1301939596,"post_id":5542101,"comment_id":6299681,"body_markdown":"What are the values in the lists to start with?","body":"What are the values in the lists to start with?"},{"owner":{"account_id":275847,"reputation":634,"user_id":568953,"accept_rate":100,"display_name":"Ismail"},"score":0,"creation_date":1301939875,"post_id":5542101,"comment_id":6299744,"body_markdown":"1 0 1 0 are the first 4 values in both lists","body":"1 0 1 0 are the first 4 values in both lists"},{"owner":{"account_id":114536,"reputation":5031,"user_id":301125,"display_name":"Tridus"},"score":0,"creation_date":1301939993,"post_id":5542101,"comment_id":6299778,"body_markdown":"Maybe I&#39;m reading this wrong, but what is at req6(req3 + 256)? If req3 is 0, req6 must be a very long list.","body":"Maybe I&#39;m reading this wrong, but what is at req6(req3 + 256)? If req3 is 0, req6 must be a very long list."},{"owner":{"account_id":275847,"reputation":634,"user_id":568953,"accept_rate":100,"display_name":"Ismail"},"score":0,"creation_date":1301940321,"post_id":5542101,"comment_id":6299848,"body_markdown":"I fixed it finally thanks everyone. I had to use &quot;And&quot; keyword inseatd of &amp; sign req1(req3) Xor req6(req3 + 256) And &amp;H1","body":"I fixed it finally thanks everyone. I had to use &quot;And&quot; keyword inseatd of &amp; sign req1(req3) Xor req6(req3 + 256) And &amp;H1"}],"answers":[{"tags":[],"owner":{"account_id":275847,"reputation":634,"user_id":568953,"accept_rate":100,"display_name":"Ismail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1301940713,"creation_date":1301940713,"answer_id":5542491,"question_id":5542101,"body_markdown":"I fixed it finally thanks everyone. I had to use &quot;And&quot; keyword inseatd of &amp; sign\r\n\r\n \r\n\r\n    req1(req3) Xor req6(req3 + 256) And &amp;H1","title":"java to vb.net - linkedlist to arraylist","body":"<p>I fixed it finally thanks everyone. I had to use \"And\" keyword inseatd of &amp; sign</p>\n\n<pre><code>req1(req3) Xor req6(req3 + 256) And &amp;H1\n</code></pre>\n"}],"owner":{"account_id":275847,"reputation":634,"user_id":568953,"accept_rate":100,"display_name":"Ismail"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5542491,"answer_count":1,"score":0,"last_activity_date":1658448244,"creation_date":1301938163,"question_id":5542101,"body_markdown":"I am converting java code to vb.net and this line of code gives me different output in eclipse than the one in VS.\r\n\r\n    req1.set(req3, Integer.valueOf(((Integer)req1.get(req3)).intValue() ^ ((Integer)req6.get(req3 + 256)).intValue() &amp; 0x1));\r\n    System.out.println(req1.get(req3));\r\n\r\nwhere `req1` is linkedlist,\r\n`req3` is int, and\r\n`req6` is linkedlist\r\n\r\nand here is my vb.net snippet\r\n\r\n    req1(req3) = (req1(req3) Xor req6(req3 + 256) &amp; &amp;H1)\r\n    ListBox1.Items.Add(req1(req3))\r\n\r\nwhere `req1` is arraylist\r\n`req3` is integer\r\n`req6` is arraylist\r\n\r\noutput in eclipse (Correct One)\r\n\r\n1\r\n&lt;br /&gt;0\r\n&lt;br /&gt;0\r\n&lt;br /&gt;1\r\n\r\noutput in VS (Incorrect One)\r\n\r\n60\r\n&lt;br /&gt;661\r\n&lt;br /&gt;970\r\n&lt;br /&gt;411\r\n\r\nAll the code before this works perfectly in both IDEs.\r\n","title":"java to vb.net - linkedlist to arraylist","body":"<p>I am converting java code to vb.net and this line of code gives me different output in eclipse than the one in VS.</p>\n<pre><code>req1.set(req3, Integer.valueOf(((Integer)req1.get(req3)).intValue() ^ ((Integer)req6.get(req3 + 256)).intValue() &amp; 0x1));\nSystem.out.println(req1.get(req3));\n</code></pre>\n<p>where <code>req1</code> is linkedlist,\n<code>req3</code> is int, and\n<code>req6</code> is linkedlist</p>\n<p>and here is my vb.net snippet</p>\n<pre><code>req1(req3) = (req1(req3) Xor req6(req3 + 256) &amp; &amp;H1)\nListBox1.Items.Add(req1(req3))\n</code></pre>\n<p>where <code>req1</code> is arraylist\n<code>req3</code> is integer\n<code>req6</code> is arraylist</p>\n<p>output in eclipse (Correct One)</p>\n<p>1\n<br />0\n<br />0\n<br />1</p>\n<p>output in VS (Incorrect One)</p>\n<p>60\n<br />661\n<br />970\n<br />411</p>\n<p>All the code before this works perfectly in both IDEs.</p>\n"},{"tags":["java","spring","mockito"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1445082552,"post_id":33186226,"comment_id":54178420,"body_markdown":"Why do you want to spy on a Mapper object? The direct dependency of yout class is BoundMapperFacade. That&#39;s what you should stub/mock/spy.","body":"Why do you want to spy on a Mapper object? The direct dependency of yout class is BoundMapperFacade. That&#39;s what you should stub/mock/spy."},{"owner":{"account_id":2234233,"reputation":531,"user_id":1971078,"accept_rate":0,"display_name":"Sobrino"},"score":0,"creation_date":1445085030,"post_id":33186226,"comment_id":54179123,"body_markdown":"Because boundMapper depends on mapper. You need it to instance the first one. Take a look at createMapper method on CategoryServiceImpl  class","body":"Because boundMapper depends on mapper. You need it to instance the first one. Take a look at createMapper method on CategoryServiceImpl  class"},{"owner":{"account_id":2105937,"reputation":109,"user_id":1872265,"display_name":"azl"},"score":0,"creation_date":1581604559,"post_id":33186226,"comment_id":106498398,"body_markdown":"you could simply add a setup method with an @Before where you call the create method with the spy that you already have i.e. categoryServiceImpl.createMapper(boundMapper);","body":"you could simply add a setup method with an @Before where you call the create method with the spy that you already have i.e. categoryServiceImpl.createMapper(boundMapper);"}],"answers":[{"tags":[],"owner":{"account_id":16742251,"reputation":12067,"user_id":12101554,"display_name":"Samathingamajig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658447120,"creation_date":1658447120,"answer_id":73073729,"question_id":33186226,"body_markdown":"If you have a spy that depends on a mock or a spy, the only way I&#39;ve seen to do it is inside the `@Before` decorated function.\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CategoryServiceImplTest {\r\n\r\n    @Mock    \r\n    private CategoryRepository categoryRepository;\r\n\r\n    @Spy\r\n    private Mapper mapper;\r\n\r\n    private BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper = ;\r\n\r\n    @InjectMocks\r\n    private CategoryServiceImpl categoryServiceImpl;   \r\n\r\n    @Before\r\n    public void setup() {\r\n        boundMapper = spy(mapper\r\n                            .getMapperFactory()\r\n                            .getMapperFacade(CategoryDTO.class, Category.class)\r\n                         );\r\n    }\r\n\r\n    // Rest of methods...\r\n} \r\n```\r\n\r\nI&#39;m not sure how this works with `@InjectMocks`, so that might be something to look into. There might be a non-decorator version of it that you can run after `boundMapper` is initialized if `CategoryServiceImpl` is dependent on it.","title":"Spy dependencies with Mockito","body":"<p>If you have a spy that depends on a mock or a spy, the only way I've seen to do it is inside the <code>@Before</code> decorated function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class CategoryServiceImplTest {\n\n    @Mock    \n    private CategoryRepository categoryRepository;\n\n    @Spy\n    private Mapper mapper;\n\n    private BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper = ;\n\n    @InjectMocks\n    private CategoryServiceImpl categoryServiceImpl;   \n\n    @Before\n    public void setup() {\n        boundMapper = spy(mapper\n                            .getMapperFactory()\n                            .getMapperFacade(CategoryDTO.class, Category.class)\n                         );\n    }\n\n    // Rest of methods...\n} \n</code></pre>\n<p>I'm not sure how this works with <code>@InjectMocks</code>, so that might be something to look into. There might be a non-decorator version of it that you can run after <code>boundMapper</code> is initialized if <code>CategoryServiceImpl</code> is dependent on it.</p>\n"}],"owner":{"account_id":2234233,"reputation":531,"user_id":1971078,"accept_rate":0,"display_name":"Sobrino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658447120,"creation_date":1445082345,"question_id":33186226,"body_markdown":"I have a bit of mess with Mockito and fields annotated with @Spy .\r\n\r\nI want to test this class:\r\n\r\n    @Service\r\n    public class CategoryServiceImpl implements CategoryService {\r\n    \r\n    \t@Autowire\r\n    \tprivate CategoryRepository categoryRepository;\r\n    \t\r\n    \tprivate BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper;\r\n     \r\n    \t@Autowired\r\n    \tpublic void createMapper(final Mapper mapper) {\r\n    \r\n    \t\tboundMapper = mapper.getMapperFactory().getMapperFacade(\r\n    \t\t\t\tCategoryDTO.class, Category.class);\r\n    \t}\r\n    \t\r\n    \t// Rest of methods...\r\n    } \r\n\r\nSo, I have created a testing class as shown below:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CategoryServiceImplTest {\r\n    \r\n    \t@Mock    \r\n    \tprivate CategoryRepository categoryRepository;\r\n    \t\r\n    \t@Spy\r\n    \tprivate Mapper mapper;\r\n    \t\r\n    \t@Spy\r\n    \tprivate BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper;\r\n     \r\n    \t@InjectMocks\r\n    \tprivate CategoryServiceImpl categoryServiceImpl;\t\r\n    \t\r\n    \t// Rest of methods...\r\n    } \r\n\r\n\r\nWhen Mockito instances categoryServiceImpl injects categoryRepository as a mock class but it does not know how to create boundMapper. This class depends on mapper, so I have rewritten my code:\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CategoryServiceImplTest {\r\n    \r\n    \t@Mock    \r\n    \tprivate CategoryRepository categoryRepository;\r\n    \t\r\n    \t@Spy\r\n    \tprivate Mapper mapper;\r\n    \t\r\n    \tprivate BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper = spy(mapper.getMapperFactory().getMapperFacade(\r\n    \t\t\t\tCategoryDTO.class, Category.class));\r\n     \r\n    \t@InjectMocks\r\n    \tprivate CategoryServiceImpl categoryServiceImpl;\t\r\n    \t\r\n    \t// Rest of methods...\r\n    } \r\n\r\nBut now the problem is the creation of boundMapper is executed before Mockito injects mapper, so I get a NullPointerException.\r\n\r\nSo, is there any way to create an spy class who depends on another one and finally inject this last one in a field tagged as @InjectMocks?\r\n","title":"Spy dependencies with Mockito","body":"<p>I have a bit of mess with Mockito and fields annotated with @Spy .</p>\n\n<p>I want to test this class:</p>\n\n<pre><code>@Service\npublic class CategoryServiceImpl implements CategoryService {\n\n    @Autowire\n    private CategoryRepository categoryRepository;\n\n    private BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper;\n\n    @Autowired\n    public void createMapper(final Mapper mapper) {\n\n        boundMapper = mapper.getMapperFactory().getMapperFacade(\n                CategoryDTO.class, Category.class);\n    }\n\n    // Rest of methods...\n} \n</code></pre>\n\n<p>So, I have created a testing class as shown below:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CategoryServiceImplTest {\n\n    @Mock    \n    private CategoryRepository categoryRepository;\n\n    @Spy\n    private Mapper mapper;\n\n    @Spy\n    private BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper;\n\n    @InjectMocks\n    private CategoryServiceImpl categoryServiceImpl;    \n\n    // Rest of methods...\n} \n</code></pre>\n\n<p>When Mockito instances categoryServiceImpl injects categoryRepository as a mock class but it does not know how to create boundMapper. This class depends on mapper, so I have rewritten my code:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CategoryServiceImplTest {\n\n    @Mock    \n    private CategoryRepository categoryRepository;\n\n    @Spy\n    private Mapper mapper;\n\n    private BoundMapperFacade&lt;CategoryDTO, Category&gt; boundMapper = spy(mapper.getMapperFactory().getMapperFacade(\n                CategoryDTO.class, Category.class));\n\n    @InjectMocks\n    private CategoryServiceImpl categoryServiceImpl;    \n\n    // Rest of methods...\n} \n</code></pre>\n\n<p>But now the problem is the creation of boundMapper is executed before Mockito injects mapper, so I get a NullPointerException.</p>\n\n<p>So, is there any way to create an spy class who depends on another one and finally inject this last one in a field tagged as @InjectMocks?</p>\n"},{"tags":["java","java-stream","guava","option-type","java-17"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1658390439,"post_id":73062546,"comment_id":129040737,"body_markdown":"I&#39;m going to be annoying and question if `Optional&lt;List&lt;T&gt;&gt;` is really any better for your use-case than a simple `List&lt;T&gt;`. What&#39;s the semantic difference between an absent Optional and an Optional that holds an empty list? If there&#39;s no difference (which your question seems to imply), then there&#39;s one unnecessary and potentially bug-causing state in this type that you don&#39;t need and should make impossible. A simple `List&lt;T&gt;` can already be empty or contain content.","body":"I&#39;m going to be annoying and question if <code>Optional&lt;List&lt;T&gt;&gt;</code> is really any better for your use-case than a simple <code>List&lt;T&gt;</code>. What&#39;s the semantic difference between an absent Optional and an Optional that holds an empty list? If there&#39;s no difference (which your question seems to imply), then there&#39;s one unnecessary and potentially bug-causing state in this type that you don&#39;t need and should make impossible. A simple <code>List&lt;T&gt;</code> can already be empty or contain content."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1658393660,"post_id":73062546,"comment_id":129041868,"body_markdown":"I have multiple cases where List&lt;T&gt; x = null; similarly other nullable data structures also have this case.","body":"I have multiple cases where List&lt;T&gt; x = null; similarly other nullable data structures also have this case."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1658394585,"post_id":73062546,"comment_id":129042224,"body_markdown":"I&#39;m not talking about `null` at all here. If you use `Optional` then the assumption is already that you want to avoid having `null` in there at all cost. The specific question is: if you pass around (or return) an `Optional&lt;List&lt;T&gt;&gt;` is there a defined *meaning* of it being absent versus it being present and containing a list that happens to be empty? Does your code handle those two cases differently? Would one of them be considered a bug? Does it make sense to make that distinction?","body":"I&#39;m not talking about <code>null</code> at all here. If you use <code>Optional</code> then the assumption is already that you want to avoid having <code>null</code> in there at all cost. The specific question is: if you pass around (or return) an <code>Optional&lt;List&lt;T&gt;&gt;</code> is there a defined <i>meaning</i> of it being absent versus it being present and containing a list that happens to be empty? Does your code handle those two cases differently? Would one of them be considered a bug? Does it make sense to make that distinction?"},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1658396630,"post_id":73062546,"comment_id":129043109,"body_markdown":"yes. I handle cases of absent vs present list and whether list empty or not differently. Those are design decisions. I could omit enclosing optional if I really want but there are other methods which have similar names and hence the user will naturally expect an Optional to be returned.","body":"yes. I handle cases of absent vs present list and whether list empty or not differently. Those are design decisions. I could omit enclosing optional if I really want but there are other methods which have similar names and hence the user will naturally expect an Optional to be returned."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1658402267,"post_id":73062546,"comment_id":129045243,"body_markdown":"Then it sounds like you simply have to write all of those helper methods manually. I strongly suspect that the number of those is fairly limited (as `Collection`/`List` will already cover a wide range of container-like objects and the number of alternatives is limited). I don&#39;t think streamlining the *code inside* those helper methods is actually worth finding some external thing that may or may not have the same idea of &quot;empty&quot; as you do.","body":"Then it sounds like you simply have to write all of those helper methods manually. I strongly suspect that the number of those is fairly limited (as <code>Collection</code>/<code>List</code> will already cover a wide range of container-like objects and the number of alternatives is limited). I don&#39;t think streamlining the <i>code inside</i> those helper methods is actually worth finding some external thing that may or may not have the same idea of &quot;empty&quot; as you do."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1658419967,"post_id":73062546,"comment_id":129052617,"body_markdown":"The fact that you are creating an empty optional when the list is empty indicates that you are *not* going to treat absent lists and empty lists differently. As afterwards, you have only one of two cases, an empty optional or a non-empty optional containing a non-empty list. Then, there’s obviously no need for the optional, as just having a list also supports to have two cases, an empty list or a non-empty list. Which can easily be tested for using `isEmpty()`.","body":"The fact that you are creating an empty optional when the list is empty indicates that you are <i>not</i> going to treat absent lists and empty lists differently. As afterwards, you have only one of two cases, an empty optional or a non-empty optional containing a non-empty list. Then, there’s obviously no need for the optional, as just having a list also supports to have two cases, an empty list or a non-empty list. Which can easily be tested for using <code>isEmpty()</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1658653520,"post_id":73062546,"comment_id":129100569,"body_markdown":"If your clients *really* insist on getting an `Optional` — about which I am still sceptical — just give them an `Optional` containing an empty list if that’s what you have. Then you need no special case and no checking.","body":"If your clients <i>really</i> insist on getting an <code>Optional</code> — about which I am still sceptical — just give them an <code>Optional</code> containing an empty list if that’s what you have. Then you need no special case and no checking."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658408644,"creation_date":1658408207,"answer_id":73066645,"question_id":73062546,"body_markdown":"&gt; I encounter a specific use case where I often need to wrap objects in\r\n&gt; `Optional` if they are empty\r\n&gt; ```\r\n&gt; List&lt;AbstractCorporateAction&gt; cas = stream.toList();\r\n&gt; if (cas.isEmpty()) return Optional.empty();\r\n&gt; else return Optional.of(cas);\r\n&gt; ```\r\n\r\nYou&#39;re misusing `Optional` here because `stream.toList()` will never give you `null`. You can return the list produced by the stream, it&#39;s redundant to wrap it with an optional.\r\n\r\nOptional is simply a *container* for value which may be present or may not, and you can safely interact with it regardless whether it&#39;s empty or not. And Collections by their nature are *containers of data* as well. So you gain nothing apart from inconveniences by wrapping a collection with an optional. It&#39;s like placing a box into another box, which would increase the amount of effort to get to the actual contents.\r\n\r\nHere is a quote from the [*answer*](https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555) by *Brian Goetz*, Java language Architect:\r\n\r\n&gt; Our intention was to provide a ***limited mechanism for library method return types*** where there needed to be a clear way to ***represent &quot;no result&quot;***, and using `null` for such was overwhelmingly likely to cause errors.\r\n&gt; \r\n&gt; For example, you probably should **never use** it for something that\r\n&gt; returns an **array** of results, or a **list** of results; instead return an\r\n&gt; **empty array** or **list**.\r\n\r\n","title":"Built-in method to return an Optional if underlying object is Empty","body":"<blockquote>\n<p>I encounter a specific use case where I often need to wrap objects in\n<code>Optional</code> if they are empty</p>\n<pre><code>List&lt;AbstractCorporateAction&gt; cas = stream.toList();\nif (cas.isEmpty()) return Optional.empty();\nelse return Optional.of(cas);\n</code></pre>\n</blockquote>\n<p>You're misusing <code>Optional</code> here because <code>stream.toList()</code> will never give you <code>null</code>. You can return the list produced by the stream, it's redundant to wrap it with an optional.</p>\n<p>Optional is simply a <em>container</em> for value which may be present or may not, and you can safely interact with it regardless whether it's empty or not. And Collections by their nature are <em>containers of data</em> as well. So you gain nothing apart from inconveniences by wrapping a collection with an optional. It's like placing a box into another box, which would increase the amount of effort to get to the actual contents.</p>\n<p>Here is a quote from the <a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\"><em>answer</em></a> by <em>Brian Goetz</em>, Java language Architect:</p>\n<blockquote>\n<p>Our intention was to provide a <em><strong>limited mechanism for library method return types</strong></em> where there needed to be a clear way to <em><strong>represent &quot;no result&quot;</strong></em>, and using <code>null</code> for such was overwhelmingly likely to cause errors.</p>\n<p>For example, you probably should <strong>never use</strong> it for something that\nreturns an <strong>array</strong> of results, or a <strong>list</strong> of results; instead return an\n<strong>empty array</strong> or <strong>list</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658418659,"creation_date":1658409795,"answer_id":73067051,"question_id":73062546,"body_markdown":"One can use `Optional#filter` for that:\r\n\r\n    Optional&lt;List&lt;AbstractCorporateAction&gt;&gt; cas =\r\n        Optional.of(stream.toList())\r\n            .filter(Predicate.not(List::isEmpty));\r\n\r\n// Thanks to @Holger\r\n\r\n","title":"Built-in method to return an Optional if underlying object is Empty","body":"<p>One can use <code>Optional#filter</code> for that:</p>\n<pre><code>Optional&lt;List&lt;AbstractCorporateAction&gt;&gt; cas =\n    Optional.of(stream.toList())\n        .filter(Predicate.not(List::isEmpty));\n</code></pre>\n<p>// Thanks to @Holger</p>\n"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658446451,"creation_date":1658389955,"question_id":73062546,"body_markdown":"I encounter a specific use case where I often need to wrap objects in `Optional` if they are empty. Take a look at this code:\r\n\r\n    List&lt;AbstractCorporateAction&gt; cas = stream.toList();\r\n    if (cas.isEmpty()) return Optional.empty();\r\n    else return Optional.of(cas);\r\n\r\nI check whether the list is empty or not and if it is indeed empty, I return an empty optional and if not, I wrap it. The reason for this is sometimes I get a null value for list itself and sometimes I get an actual list but it is empty. \r\n\r\nWith this approach, I do not need to double-check the underlying list when the returned optional itself is empty.\r\n\r\nBut for different data structures, the implementation varies. Is there a built-in way with third party libraries to achieve this? \r\nThe closest I got is from `Guava.MoreObjects#isEmpty` but it only checks whether the object is empty or not and does not return an optional in case it is empty. \r\n\r\nI could write my own cover for this, but I&#39;m looking for a professional, reliable approach to achieve the required functionality.\r\n","title":"Built-in method to return an Optional if underlying object is Empty","body":"<p>I encounter a specific use case where I often need to wrap objects in <code>Optional</code> if they are empty. Take a look at this code:</p>\n<pre><code>List&lt;AbstractCorporateAction&gt; cas = stream.toList();\nif (cas.isEmpty()) return Optional.empty();\nelse return Optional.of(cas);\n</code></pre>\n<p>I check whether the list is empty or not and if it is indeed empty, I return an empty optional and if not, I wrap it. The reason for this is sometimes I get a null value for list itself and sometimes I get an actual list but it is empty.</p>\n<p>With this approach, I do not need to double-check the underlying list when the returned optional itself is empty.</p>\n<p>But for different data structures, the implementation varies. Is there a built-in way with third party libraries to achieve this?\nThe closest I got is from <code>Guava.MoreObjects#isEmpty</code> but it only checks whether the object is empty or not and does not return an optional in case it is empty.</p>\n<p>I could write my own cover for this, but I'm looking for a professional, reliable approach to achieve the required functionality.</p>\n"},{"tags":["java","google-sheets-api"],"comments":[{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1658442309,"post_id":73073088,"comment_id":129059228,"body_markdown":"Can I ask you about the relationship between your question and your tag of `google-sheets-api`?","body":"Can I ask you about the relationship between your question and your tag of <code>google-sheets-api</code>?"},{"owner":{"account_id":22586031,"reputation":31,"user_id":16769984,"display_name":"yagav"},"score":0,"creation_date":1658443335,"post_id":73073088,"comment_id":129059427,"body_markdown":"Sorry for the confusion.. I initially discovered this issue when using Google sheet Java API. When I call append API to write &#39;2022-07-01&#39; with USER_ENTERED option, I hit this issue. Then after some poking around, turns out this happens even when I manual typed...","body":"Sorry for the confusion.. I initially discovered this issue when using Google sheet Java API. When I call append API to write &#39;2022-07-01&#39; with USER_ENTERED option, I hit this issue. Then after some poking around, turns out this happens even when I manual typed..."},{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1658443593,"post_id":73073088,"comment_id":129059478,"body_markdown":"Thank you for replying. From `I initially discovered this issue when using Google sheet Java API.`, I understood that you are using Sheets API with Java. So, I added a tag of `Java`. And, in your question, I think that when you provide your current script for correctly replicating your issue, it will help users think of the solution.","body":"Thank you for replying. From <code>I initially discovered this issue when using Google sheet Java API.</code>, I understood that you are using Sheets API with Java. So, I added a tag of <code>Java</code>. And, in your question, I think that when you provide your current script for correctly replicating your issue, it will help users think of the solution."},{"owner":{"account_id":23932265,"reputation":2271,"user_id":17926591,"display_name":"Fernando Lara"},"score":0,"creation_date":1658944670,"post_id":73073088,"comment_id":129180569,"body_markdown":"@yagav If this answered your question, please click the accept button on the left (check icon). By doing so, other people in the community, who may have the same concern as you, will know that theirs can be resolved. If the accept button is unavailable to you, feel free to tell me. [How to accept answer](https://stackoverflow.com/help/accepted-answer)","body":"@yagav If this answered your question, please click the accept button on the left (check icon). By doing so, other people in the community, who may have the same concern as you, will know that theirs can be resolved. If the accept button is unavailable to you, feel free to tell me. <a href=\"https://stackoverflow.com/help/accepted-answer\">How to accept answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":23932265,"reputation":2271,"user_id":17926591,"display_name":"Fernando Lara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658446134,"creation_date":1658446134,"answer_id":73073642,"question_id":73073088,"body_markdown":"I don&#39;t think its possible to change the automatic behavior, however, based in the [official documentation](https://developers.google.com/sheets/api/guides/formats) as a workaround you can use the API to send a batch update to change the cell format to `Date`.\r\n\r\nFor this you would need to use the API method `spreadsheets.batchUpdate` and include  a UpdateCells request. What you are looking to modify in the request is the `NumberFormatType` parameter and set the value to `DATE` in order to change the format.\r\n\r\n\r\n\r\nReferences:\r\n - [Method: spreadsheets.batchUpdate](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate)\r\n - [UpdateCells](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#updatecellsrequest)\r\n - [NumberFormatType](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/cells#numberformattype)","title":"How to stop Google sheet from auto convert dates to numbers?","body":"<p>I don't think its possible to change the automatic behavior, however, based in the <a href=\"https://developers.google.com/sheets/api/guides/formats\" rel=\"nofollow noreferrer\">official documentation</a> as a workaround you can use the API to send a batch update to change the cell format to <code>Date</code>.</p>\n<p>For this you would need to use the API method <code>spreadsheets.batchUpdate</code> and include  a UpdateCells request. What you are looking to modify in the request is the <code>NumberFormatType</code> parameter and set the value to <code>DATE</code> in order to change the format.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate\" rel=\"nofollow noreferrer\">Method: spreadsheets.batchUpdate</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#updatecellsrequest\" rel=\"nofollow noreferrer\">UpdateCells</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/cells#numberformattype\" rel=\"nofollow noreferrer\">NumberFormatType</a></li>\n</ul>\n"}],"owner":{"account_id":22586031,"reputation":31,"user_id":16769984,"display_name":"yagav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658446134,"creation_date":1658440750,"question_id":73073088,"body_markdown":"The way that Google sheets handle date values is very confusing to me... The format option of &quot;Automatic&quot; seems to convert dates to numbers often. \r\n\r\nCan be reproduced easily as follows:\r\n- open any sheet, in one cell, type down a date such as 2022-07-01\r\n- then select this column, and click Format -&gt; Numbers -&gt; Automatic, 2022-07-01 would change to 44743\r\n- if I instead click Format -&gt; Number -&gt; Date, it would change to 7/1/2022\r\n\r\nBased on this, I&#39;m getting the impression that the &quot;Automatic&quot; option of processing dates is to treat dates as numbers by default... Which doesn&#39;t make much sense to me. How can I get around this? I want the default behavior to stay as just as dates.","title":"How to stop Google sheet from auto convert dates to numbers?","body":"<p>The way that Google sheets handle date values is very confusing to me... The format option of &quot;Automatic&quot; seems to convert dates to numbers often.</p>\n<p>Can be reproduced easily as follows:</p>\n<ul>\n<li>open any sheet, in one cell, type down a date such as 2022-07-01</li>\n<li>then select this column, and click Format -&gt; Numbers -&gt; Automatic, 2022-07-01 would change to 44743</li>\n<li>if I instead click Format -&gt; Number -&gt; Date, it would change to 7/1/2022</li>\n</ul>\n<p>Based on this, I'm getting the impression that the &quot;Automatic&quot; option of processing dates is to treat dates as numbers by default... Which doesn't make much sense to me. How can I get around this? I want the default behavior to stay as just as dates.</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":1,"creation_date":1658447585,"post_id":73073609,"comment_id":129060119,"body_markdown":"Does this answer your question? [Getting the list of packages in a java project](https://stackoverflow.com/questions/26500004/getting-the-list-of-packages-in-a-java-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26500004/getting-the-list-of-packages-in-a-java-project\">Getting the list of packages in a java project</a>"},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1658454556,"post_id":73073609,"comment_id":129061127,"body_markdown":"See if the link below provides a satisfying answer : https://stackoverflow.com/questions/15893174/list-all-subpackages-of-a-package","body":"See if the link below provides a satisfying answer : <a href=\"https://stackoverflow.com/questions/15893174/list-all-subpackages-of-a-package\" title=\"list all subpackages of a package\">stackoverflow.com/questions/15893174/&hellip;</a>"}],"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658572558,"answer_count":0,"score":0,"last_activity_date":1658445745,"creation_date":1658445745,"question_id":73073609,"body_markdown":"How do I list the sub packages of a package in my Java project.\r\n\r\nFor example:\r\n\r\n    org.example.test\r\n    org.example.test.test1\r\n    org.example.test.test2\r\n    org.example.another_test\r\n\r\nHow to list all the packages belonging to the project, which starts with `org.example`\r\n","title":"How to get the list of all project packages and sub packages in Java?","body":"<p>How do I list the sub packages of a package in my Java project.</p>\n<p>For example:</p>\n<pre><code>org.example.test\norg.example.test.test1\norg.example.test.test2\norg.example.another_test\n</code></pre>\n<p>How to list all the packages belonging to the project, which starts with <code>org.example</code></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658302016,"post_id":73047528,"comment_id":129014686,"body_markdown":"Shouldn&#39;t you use `map` instead of `forEach` if you care about the results?","body":"Shouldn&#39;t you use <code>map</code> instead of <code>forEach</code> if you care about the results?"}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658302143,"creation_date":1658302143,"answer_id":73047568,"question_id":73047528,"body_markdown":"The `forEach` is supposed to be used to execute a consuming operation on each element. It&#39;s not supposed to be used to collect any results.\r\n\r\nFor this purpose you need to do it differently. I think best option would be to just use a standard `for` loop and add result of each `insertPerson` call into a list that you then return at the end. \r\n\r\nTheoretically, you could use something like `people.stream().map(this::insertPerson).toList()` but that&#39;s in my opinion not great idea, because `map()` is supposed to just map input to output without any side effects, however your `insertPerson` obviously has side effects, which may make it more &quot;problematic&quot; for a reader to understand what is really happening.","title":"Collect results of forEach in Java","body":"<p>The <code>forEach</code> is supposed to be used to execute a consuming operation on each element. It's not supposed to be used to collect any results.</p>\n<p>For this purpose you need to do it differently. I think best option would be to just use a standard <code>for</code> loop and add result of each <code>insertPerson</code> call into a list that you then return at the end.</p>\n<p>Theoretically, you could use something like <code>people.stream().map(this::insertPerson).toList()</code> but that's in my opinion not great idea, because <code>map()</code> is supposed to just map input to output without any side effects, however your <code>insertPerson</code> obviously has side effects, which may make it more &quot;problematic&quot; for a reader to understand what is really happening.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658315986,"creation_date":1658315986,"answer_id":73050718,"question_id":73047528,"body_markdown":"There&#39;s a couple of reasons why this code isn&#39;t suitable for streams.\r\n\r\nFirstly, your goal is to operate via *side-effects* (because you need to update the database), the only operations which are intended for such cases are `forEach()` and `forEachOrdered()`. And as [*API documentation worns*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects) these methods should be used with great care.\r\n\r\nNote that `map()` isn&#39;t suitable for that purpose, it wasn&#39;t designed to operate via side-effects. And intermediate operations like `map()` in some cases could be optimized away from the stream. It&#39;s not likely to happen in a pipeline build like that: `stream().map().collect()`, but the key point is that intermediate operations semantically are **not intended** to perform *resulting actions*, in your case call `insertPerson()` is a resulting action and accumulated string is only a byproduct.\r\n\r\nFor your purposes, you can still use `Iterable.forEach()`.\r\n\r\n    @PostMapping(value = &quot;insert-ppl&quot;)\r\n    public String insertPeople(@RequestBody @Valid @NotNull List&lt;Person&gt; people) {\r\n\r\n        StringJoiner result = new StringJoiner(&quot;\\n&quot;); // provide the required delimiter instead of &quot;\\n&quot;\r\n\r\n        people.forEach(person -&gt; result.add(insertPerson(person)));\r\n\r\n        return result.toString();\r\n    }","title":"Collect results of forEach in Java","body":"<p>There's a couple of reasons why this code isn't suitable for streams.</p>\n<p>Firstly, your goal is to operate via <em>side-effects</em> (because you need to update the database), the only operations which are intended for such cases are <code>forEach()</code> and <code>forEachOrdered()</code>. And as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>API documentation worns</em></a> these methods should be used with great care.</p>\n<p>Note that <code>map()</code> isn't suitable for that purpose, it wasn't designed to operate via side-effects. And intermediate operations like <code>map()</code> in some cases could be optimized away from the stream. It's not likely to happen in a pipeline build like that: <code>stream().map().collect()</code>, but the key point is that intermediate operations semantically are <strong>not intended</strong> to perform <em>resulting actions</em>, in your case call <code>insertPerson()</code> is a resulting action and accumulated string is only a byproduct.</p>\n<p>For your purposes, you can still use <code>Iterable.forEach()</code>.</p>\n<pre><code>@PostMapping(value = &quot;insert-ppl&quot;)\npublic String insertPeople(@RequestBody @Valid @NotNull List&lt;Person&gt; people) {\n\n    StringJoiner result = new StringJoiner(&quot;\\n&quot;); // provide the required delimiter instead of &quot;\\n&quot;\n\n    people.forEach(person -&gt; result.add(insertPerson(person)));\n\n    return result.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73047568,"answer_count":2,"score":0,"last_activity_date":1658443111,"creation_date":1658301888,"question_id":73047528,"body_markdown":"I want to collect the values returned by a method called inside a ```forEach```:\r\n\r\n    @PostMapping(value=&quot;insert-ppl&quot;)\r\n    public String insertPeople(@RequestBody @Valid @NotNull List&lt;Person&gt; people){\r\n        people.forEach(this::insertPerson);\r\n    }\r\n\r\nthe ```insertPerson``` method returns a string signaling whether the insert in the database was successfull or not. I want to take the strings returned from each call to the ```insertPerson```. But I can&#39;t use the ```.collect``` because is not a stream. \r\n\r\nHow can I do that?","title":"Collect results of forEach in Java","body":"<p>I want to collect the values returned by a method called inside a <code>forEach</code>:</p>\n<pre><code>@PostMapping(value=&quot;insert-ppl&quot;)\npublic String insertPeople(@RequestBody @Valid @NotNull List&lt;Person&gt; people){\n    people.forEach(this::insertPerson);\n}\n</code></pre>\n<p>the <code>insertPerson</code> method returns a string signaling whether the insert in the database was successfull or not. I want to take the strings returned from each call to the <code>insertPerson</code>. But I can't use the <code>.collect</code> because is not a stream.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","eclipse","glassfish"],"comments":[{"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"score":0,"creation_date":1444727211,"post_id":33098147,"comment_id":54012255,"body_markdown":"You have to add these Java options when starting Glassfish. See the post http://stackoverflow.com/questions/25056809/eclipse-glassfish-launch-configuration-vm-arguments-are-ignored for more information","body":"You have to add these Java options when starting Glassfish. See the post <a href=\"http://stackoverflow.com/questions/25056809/eclipse-glassfish-launch-configuration-vm-arguments-are-ignored\" title=\"eclipse glassfish launch configuration vm arguments are ignored\">stackoverflow.com/questions/25056809/&hellip;</a> for more information"}],"answers":[{"tags":[],"owner":{"account_id":5752727,"reputation":1642,"user_id":4541832,"display_name":"Maciej Lach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1444727176,"creation_date":1444727176,"answer_id":33098490,"question_id":33098147,"body_markdown":"Go to **Run -&gt; Run Configurations...** menu, in the lookup menu on the left type *Glassfish* and select your launch configuration. In the **Argument** tab you will find a **VM Arguments** box - add your Java options there.","title":"Where to put &quot;Java options&quot;","body":"<p>Go to <strong>Run -> Run Configurations...</strong> menu, in the lookup menu on the left type <em>Glassfish</em> and select your launch configuration. In the <strong>Argument</strong> tab you will find a <strong>VM Arguments</strong> box - add your Java options there.</p>\n"}],"owner":{"account_id":6925700,"reputation":13,"user_id":5316857,"display_name":"Andrej K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33098490,"answer_count":1,"score":0,"last_activity_date":1658443014,"creation_date":1444726211,"question_id":33098147,"body_markdown":"I am having a problem connecting to a SSL host, I am getting an error:\r\n\r\n    Severe: javax.net.ssl.SSLException: Received fatal alert: unexpected_message\r\n\r\nI think that I found an answer here: https://bugs.openjdk.java.net/browse/JDK-8065184\r\n\r\nI think that my solution might be the answer:\r\n\r\n    The issue has been resolved by setting the following two JAVA options:\r\n    -Dcom.sun.net.ssl.enableECC=false\r\n    -Djsse.enableSNIExtension=false\r\n\r\nWhere should I put these &quot;Java options&quot;? Is there any way to put these options in with Java? I am using Eclipse and Glassfish.\r\n\r\nThank you for any help.","title":"Where to put &quot;Java options&quot;","body":"<p>I am having a problem connecting to a SSL host, I am getting an error:</p>\n\n<pre><code>Severe: javax.net.ssl.SSLException: Received fatal alert: unexpected_message\n</code></pre>\n\n<p>I think that I found an answer here: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8065184\" rel=\"nofollow\">https://bugs.openjdk.java.net/browse/JDK-8065184</a></p>\n\n<p>I think that my solution might be the answer:</p>\n\n<pre><code>The issue has been resolved by setting the following two JAVA options:\n-Dcom.sun.net.ssl.enableECC=false\n-Djsse.enableSNIExtension=false\n</code></pre>\n\n<p>Where should I put these \"Java options\"? Is there any way to put these options in with Java? I am using Eclipse and Glassfish.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["java","linked-list","doubly-linked-list"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1650071700,"post_id":71890296,"comment_id":127036471,"body_markdown":"`Node` is not a Java library component. You certainly can create a class `private static class Node&lt;T&gt; { T value; Node&lt;T&gt; prev; Node&lt;T&gt; next; }`","body":"<code>Node</code> is not a Java library component. You certainly can create a class <code>private static class Node&lt;T&gt; { T value; Node&lt;T&gt; prev; Node&lt;T&gt; next; }</code>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650110330,"post_id":71890296,"comment_id":127041845,"body_markdown":"This is one of the reasons Java has packages: it provides a namespace for classes, making them unique, even if their simple name is the same as another class.","body":"This is one of the reasons Java has packages: it provides a namespace for classes, making them unique, even if their simple name is the same as another class."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650091793,"creation_date":1650091793,"answer_id":71891721,"question_id":71890296,"body_markdown":"There are several `Node` classes in Java (for example [`java.util.LinkedList.Node`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/LinkedList.java#L974), [`java.util.HashMap.Node`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/HashMap.java#L281), [`org.w3c.dom.Node`](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/Node.html)).\r\n\r\nIf you create your own class `private static class Node{ }` then it will be your own class which has nothing in common with the various node classes from the java libraries **except** for the simple name (`Node`).\r\n\r\nUsing a name for a class that happens to be similar to a name that the java libraries use for different classes and purposes is not the same as using the java library components themselves.","title":"Is &#39;class Node&#39; a java library component?","body":"<p>There are several <code>Node</code> classes in Java (for example <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/LinkedList.java#L974\" rel=\"nofollow noreferrer\"><code>java.util.LinkedList.Node</code></a>, <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/util/HashMap.java#L281\" rel=\"nofollow noreferrer\"><code>java.util.HashMap.Node</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/Node.html\" rel=\"nofollow noreferrer\"><code>org.w3c.dom.Node</code></a>).</p>\n<p>If you create your own class <code>private static class Node{ }</code> then it will be your own class which has nothing in common with the various node classes from the java libraries <strong>except</strong> for the simple name (<code>Node</code>).</p>\n<p>Using a name for a class that happens to be similar to a name that the java libraries use for different classes and purposes is not the same as using the java library components themselves.</p>\n"}],"owner":{"account_id":24419996,"reputation":9,"user_id":18346389,"display_name":"Anon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71891721,"answer_count":1,"score":0,"last_activity_date":1658442381,"creation_date":1650071519,"question_id":71890296,"body_markdown":"I have been asked to implement a doubly linked list without using any java library components. Is &#39;Node&#39; a java library component? So if I create a class:`private static class Node{ }` is that breaking the rules?","title":"Is &#39;class Node&#39; a java library component?","body":"<p>I have been asked to implement a doubly linked list without using any java library components. Is 'Node' a java library component? So if I create a class:<code>private static class Node{ }</code> is that breaking the rules?</p>\n"},{"tags":["java","android","android-studio","svg","android-vectordrawable"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":4,"creation_date":1657312781,"post_id":72916676,"comment_id":128789283,"body_markdown":"SVGs are not directly supported, you have to convert it to an android vector drawable (which is an option in android studio)","body":"SVGs are not directly supported, you have to convert it to an android vector drawable (which is an option in android studio)"}],"answers":[{"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657315760,"creation_date":1657315760,"answer_id":72917175,"question_id":72916676,"body_markdown":"Right click on your `drawable` folder -&gt; Go New -&gt; Vector Asset.\r\nOr select `drawable` folder, hit `ALT+INSERT` and type `vector` to find this option, hit enter.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the wizzard that pops up, just point to your svg file on the disk and hit Next, check out the options that you need and then just finish. Use that drawable that you imported that way in your `ImageView`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10kCm.png","title":"Use SVG in ImageView directly","body":"<p>Right click on your <code>drawable</code> folder -&gt; Go New -&gt; Vector Asset.\nOr select <code>drawable</code> folder, hit <code>ALT+INSERT</code> and type <code>vector</code> to find this option, hit enter.</p>\n<p><a href=\"https://i.stack.imgur.com/10kCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10kCm.png\" alt=\"enter image description here\" /></a></p>\n<p>In the wizzard that pops up, just point to your svg file on the disk and hit Next, check out the options that you need and then just finish. Use that drawable that you imported that way in your <code>ImageView</code>.</p>\n"}],"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658441802,"creation_date":1657312095,"question_id":72916676,"body_markdown":"![enter image description here][1]\r\n\r\nHere is the code of SVG, I already create a file in drawable, but it does not appear when added in src of ImageView.\r\n[![enter image description here][2]][2]\r\n```\r\n&lt;svg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\r\n&lt;rect width=&quot;60&quot; height=&quot;60&quot; rx=&quot;10&quot; fill=&quot;#212429&quot;/&gt;\r\n&lt;path d=&quot;M25.54 22.4L30.12 36H28.46L27.14 32H21.98L20.66 36H19L23.58 22.4H25.54ZM24.56 24.16L22.44 30.56H26.66L24.56 24.16ZM36.4427 36.32C34.536 36.32 33.1027 35.66 32.1427 34.34C31.196 33.02 30.7227 31.3067 30.7227 29.2C30.7227 27.0933 31.196 25.38 32.1427 24.06C33.1027 22.74 34.536 22.08 36.4427 22.08C37.696 22.08 38.836 22.3933 39.8627 23.02L39.3027 24.36C38.4227 23.8133 37.4693 23.54 36.4427 23.54C35.0693 23.54 34.036 24.0667 33.3427 25.12C32.6627 26.16 32.3227 27.52 32.3227 29.2C32.3227 30.88 32.6627 32.2467 33.3427 33.3C34.036 34.34 35.0693 34.86 36.4427 34.86C37.576 34.86 38.596 34.58 39.5027 34.02L40.2027 35.26C39.056 35.9667 37.8027 36.32 36.4427 36.32Z&quot; fill=&quot;#26F9D3&quot;/&gt;\r\n&lt;/svg&gt;\r\n```\r\n\r\n**Error i got : **\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.aniketjain.calculator, PID: 21769\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.aniketjain.calculator/com.aniketjain.calculator.MainActivity}: android.view.InflateException: Binary XML file line #22: Binary XML file line #22: Error inflating class ImageView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:201)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YQyHX.png\r\n  [2]: https://i.stack.imgur.com/pVJvm.png","title":"Use SVG in ImageView directly","body":"<p><img src=\"https://i.stack.imgur.com/YQyHX.png\" alt=\"enter image description here\" /></p>\n<p>Here is the code of SVG, I already create a file in drawable, but it does not appear when added in src of ImageView.\n<a href=\"https://i.stack.imgur.com/pVJvm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVJvm.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;svg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\n&lt;rect width=&quot;60&quot; height=&quot;60&quot; rx=&quot;10&quot; fill=&quot;#212429&quot;/&gt;\n&lt;path d=&quot;M25.54 22.4L30.12 36H28.46L27.14 32H21.98L20.66 36H19L23.58 22.4H25.54ZM24.56 24.16L22.44 30.56H26.66L24.56 24.16ZM36.4427 36.32C34.536 36.32 33.1027 35.66 32.1427 34.34C31.196 33.02 30.7227 31.3067 30.7227 29.2C30.7227 27.0933 31.196 25.38 32.1427 24.06C33.1027 22.74 34.536 22.08 36.4427 22.08C37.696 22.08 38.836 22.3933 39.8627 23.02L39.3027 24.36C38.4227 23.8133 37.4693 23.54 36.4427 23.54C35.0693 23.54 34.036 24.0667 33.3427 25.12C32.6627 26.16 32.3227 27.52 32.3227 29.2C32.3227 30.88 32.6627 32.2467 33.3427 33.3C34.036 34.34 35.0693 34.86 36.4427 34.86C37.576 34.86 38.596 34.58 39.5027 34.02L40.2027 35.26C39.056 35.9667 37.8027 36.32 36.4427 36.32Z&quot; fill=&quot;#26F9D3&quot;/&gt;\n&lt;/svg&gt;\n</code></pre>\n<p>**Error i got : **</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.aniketjain.calculator, PID: 21769\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.aniketjain.calculator/com.aniketjain.calculator.MainActivity}: android.view.InflateException: Binary XML file line #22: Binary XML file line #22: Error inflating class ImageView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:201)\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n\n</code></pre>\n"},{"tags":["java","spring","sap-commerce-cloud"],"comments":[{"owner":{"account_id":11126166,"reputation":156,"user_id":8167597,"display_name":"ksparrow"},"score":0,"creation_date":1658162606,"post_id":73025549,"comment_id":128977792,"body_markdown":"Can you clarify what you are trying to do? The way I read it first, you have a bean with a specified name, but you want to be able to refer to that one bean with an alias (perhaps for autowiring qualifiers). By your final statement, it looks like you want a copy of the bean (with a new name).","body":"Can you clarify what you are trying to do? The way I read it first, you have a bean with a specified name, but you want to be able to refer to that one bean with an alias (perhaps for autowiring qualifiers). By your final statement, it looks like you want a copy of the bean (with a new name)."},{"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"score":0,"creation_date":1658163120,"post_id":73025549,"comment_id":128977985,"body_markdown":"There is a bean defined OOTB `removeSheetsDecorator` and used in multiple place, I am trying to extends/override with my custom bean","body":"There is a bean defined OOTB <code>removeSheetsDecorator</code> and used in multiple place, I am trying to extends/override with my custom bean"},{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1658334234,"post_id":73025549,"comment_id":129027924,"body_markdown":"are you doing the override in the correct context? core context vs webcontext. As I see it, this bean needs to be declared in &lt;customBackofficename&gt;-backoffice-spring.xml\nMake sure you are not changing it in the spring-web.xml","body":"are you doing the override in the correct context? core context vs webcontext. As I see it, this bean needs to be declared in &lt;customBackofficename&gt;-backoffice-spring.xml Make sure you are not changing it in the spring-web.xml"}],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658187013,"creation_date":1658187013,"answer_id":73029619,"question_id":73025549,"body_markdown":"looks like parent causing issue .\r\n\r\n      &lt;alias name=&quot;myRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot; /&gt;\r\n    &lt;bean id=&quot;myRemoveSheetsDecorator&quot;\r\n          class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; &gt;\r\n        &lt;property name=&quot;sheetsToRemove&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\r\n                    PK\r\n                &lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Override a spring bean which already has an alias","body":"<p>looks like parent causing issue .</p>\n<pre><code>  &lt;alias name=&quot;myRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot; /&gt;\n&lt;bean id=&quot;myRemoveSheetsDecorator&quot;\n      class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; &gt;\n    &lt;property name=&quot;sheetsToRemove&quot;&gt;\n        &lt;list&gt;\n            &lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\n                PK\n            &lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658441627,"creation_date":1658441627,"answer_id":73073205,"question_id":73025549,"body_markdown":"Well, hybris is full of features. Namely, *ext-backoffice* has a specific approach in bean overriding. Basically, you have two options:\r\n\r\n[Bean Extenders][2] mechanism\r\nE.g. your Sample *-spring.xml would look like:\r\n\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xmlns:cng=&quot;http://www.hybris.com/cockpitng/spring&quot;\r\n               xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n               http://www.springframework.org/schema/beans/spring-beans.xsd \r\n               http://www.hybris.com/cockpitng/spring \r\n               http://www.hybris.com/cockpitng/spring/cng-spring.xsd&quot;&gt;\r\n \r\n            &lt;cng:list-extender bean=&quot;defaultExcelExportDecorators&quot; unique=&quot;true&quot;&gt;\r\n               &lt;cng:add&gt;\r\n                  &lt;ref bean=&quot;myRemoveSheetsDecorator&quot; /&gt;\r\n                  &lt;bean class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; /&gt;\r\n               &lt;/cng:add&gt;\r\n               &lt;cng:remove&gt;\r\n                  &lt;ref bean=&quot;removeSheetsDecorator&quot;/&gt;\r\n               &lt;/cng:remove&gt;\r\n            &lt;/cng:list-extender&gt;\r\n        &lt;/beans&gt;\r\n\r\n\r\n[Customize][1] mechanism. In this case do not forget to reset OOTB configuration after login to Backoffice (Press F4 - Reset everyrhing - Wait - Press F4).\r\n\r\n\r\n  [1]: http://www.daharveyjr.com/hybris-how-to-override-a-bean-in-backoffice-web-spring-xml/\r\n  [2]: https://help.sap.com/docs/SAP_COMMERCE/5c9ea0c629214e42b727bf08800d8dfa/94ac56a0aa9f486490bbe1251d994457.html?version=2011","title":"Override a spring bean which already has an alias","body":"<p>Well, hybris is full of features. Namely, <em>ext-backoffice</em> has a specific approach in bean overriding. Basically, you have two options:</p>\n<p><a href=\"https://help.sap.com/docs/SAP_COMMERCE/5c9ea0c629214e42b727bf08800d8dfa/94ac56a0aa9f486490bbe1251d994457.html?version=2011\" rel=\"nofollow noreferrer\">Bean Extenders</a> mechanism\nE.g. your Sample *-spring.xml would look like:</p>\n<pre><code>    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xmlns:cng=&quot;http://www.hybris.com/cockpitng/spring&quot;\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n           http://www.springframework.org/schema/beans/spring-beans.xsd \n           http://www.hybris.com/cockpitng/spring \n           http://www.hybris.com/cockpitng/spring/cng-spring.xsd&quot;&gt;\n\n        &lt;cng:list-extender bean=&quot;defaultExcelExportDecorators&quot; unique=&quot;true&quot;&gt;\n           &lt;cng:add&gt;\n              &lt;ref bean=&quot;myRemoveSheetsDecorator&quot; /&gt;\n              &lt;bean class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; /&gt;\n           &lt;/cng:add&gt;\n           &lt;cng:remove&gt;\n              &lt;ref bean=&quot;removeSheetsDecorator&quot;/&gt;\n           &lt;/cng:remove&gt;\n        &lt;/cng:list-extender&gt;\n    &lt;/beans&gt;\n</code></pre>\n<p><a href=\"http://www.daharveyjr.com/hybris-how-to-override-a-bean-in-backoffice-web-spring-xml/\" rel=\"nofollow noreferrer\">Customize</a> mechanism. In this case do not forget to reset OOTB configuration after login to Backoffice (Press F4 - Reset everyrhing - Wait - Press F4).</p>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658441627,"creation_date":1658161220,"question_id":73025549,"body_markdown":"I have a spring bean declared on a code I can&#39;t change or have control over, it&#39;s declared like this:\r\n\r\n```xml\r\n\t&lt;alias name=&quot;defaultRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot;/&gt;\r\n\t&lt;bean id=&quot;defaultRemoveSheetsDecorator&quot;\r\n\t\t  class=&quot;com.hybris.backoffice.excel.exporting.RemoveSheetsDecorator&quot;&gt;\r\n\t\t&lt;property name=&quot;sheetsToRemove&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\r\n\t\t\t\t\tPK\r\n\t\t\t\t&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n```\r\n\r\nAnd Im trying to override it like this: \r\n\r\n```xml\r\n\t&lt;alias name=&quot;myRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot; /&gt;\r\n\t&lt;bean id=&quot;myRemoveSheetsDecorator&quot;\r\n\t\t  class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; parent=&quot;defaultRemoveSheetsDecorator&quot;&gt;\r\n\t\t&lt;property name=&quot;sheetsToRemove&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\r\n\t\t\t\t\tPK\r\n\t\t\t\t&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n```\r\n\r\nBut for some reason when I get the bean `removeSheetsDecorator` and check it&#39;s class with `getClass()`, It is still pointing to the original bean ??","title":"Override a spring bean which already has an alias","body":"<p>I have a spring bean declared on a code I can't change or have control over, it's declared like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;alias name=&quot;defaultRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot;/&gt;\n    &lt;bean id=&quot;defaultRemoveSheetsDecorator&quot;\n          class=&quot;com.hybris.backoffice.excel.exporting.RemoveSheetsDecorator&quot;&gt;\n        &lt;property name=&quot;sheetsToRemove&quot;&gt;\n            &lt;list&gt;\n                &lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\n                    PK\n                &lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>And Im trying to override it like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;alias name=&quot;myRemoveSheetsDecorator&quot; alias=&quot;removeSheetsDecorator&quot; /&gt;\n    &lt;bean id=&quot;myRemoveSheetsDecorator&quot;\n          class=&quot;com.mypackage.MyRemoveSheetDecorator&quot; parent=&quot;defaultRemoveSheetsDecorator&quot;&gt;\n        &lt;property name=&quot;sheetsToRemove&quot;&gt;\n            &lt;list&gt;\n                &lt;value type=&quot;com.hybris.backoffice.excel.template.ExcelTemplateConstants$UtilitySheet&quot;&gt;\n                    PK\n                &lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>But for some reason when I get the bean <code>removeSheetsDecorator</code> and check it's class with <code>getClass()</code>, It is still pointing to the original bean ??</p>\n"},{"tags":["java","android","eclipse","platform"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1658469851,"post_id":73072894,"comment_id":129063310,"body_markdown":"Eclipse has not been supported for Android development for a long time now, [tag:android-studio] is required.","body":"Eclipse has not been supported for Android development for a long time now, <a href=\"https://stackoverflow.com/questions/tagged/android-studio\">android-studio</a> is required."}],"answers":[{"tags":[],"owner":{"account_id":25156736,"reputation":16,"user_id":19001478,"display_name":"Sneh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658440342,"creation_date":1658440264,"answer_id":73073014,"question_id":73072894,"body_markdown":"No dont have to install android platform, you can install the android software development kit and add ADT Plugin ","title":"Using android platform with java","body":"<p>No dont have to install android platform, you can install the android software development kit and add ADT Plugin</p>\n"}],"owner":{"account_id":25849711,"reputation":3,"user_id":19583911,"display_name":"Kanan76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73073014,"answer_count":1,"score":0,"last_activity_date":1658440342,"creation_date":1658439231,"question_id":73072894,"body_markdown":"I made a game using eclipse(java), do i have to only download android platform to make it an app, or i have to download java as will, (i have eclipse on my computer already)?\r\n","title":"Using android platform with java","body":"<p>I made a game using eclipse(java), do i have to only download android platform to make it an app, or i have to download java as will, (i have eclipse on my computer already)?</p>\n"},{"tags":["java","android","asynchronous","synchronization","ipc"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658439827,"post_id":73072923,"comment_id":129058656,"body_markdown":"&quot;I need to immediately use the created connection after it gets binded&quot; -- then your code for that belongs in `onServiceConnected()`. &quot;when the thread moves to next line there is no guarantee that binding is completed, and it actually fails stating &quot;IStubbingInterfaceObject&quot; is null&quot; -- correct. That is unavoidable. &quot;Is it possible to bind App A itself with the service in App B so that I can use binding anywhere across the App A&quot; -- you may want to edit your question and explain in greater detail what you mean by this.","body":"&quot;I need to immediately use the created connection after it gets binded&quot; -- then your code for that belongs in <code>onServiceConnected()</code>. &quot;when the thread moves to next line there is no guarantee that binding is completed, and it actually fails stating &quot;IStubbingInterfaceObject&quot; is null&quot; -- correct. That is unavoidable. &quot;Is it possible to bind App A itself with the service in App B so that I can use binding anywhere across the App A&quot; -- you may want to edit your question and explain in greater detail what you mean by this."},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1658441188,"post_id":73072923,"comment_id":129058939,"body_markdown":"@CommonsWare is there a way to use it synchronously?","body":"@CommonsWare is there a way to use it synchronously?"},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1658441224,"post_id":73072923,"comment_id":129058946,"body_markdown":"I want to use the response &quot;answer&quot; for futher processing","body":"I want to use the response &quot;answer&quot; for futher processing"},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1658441297,"post_id":73072923,"comment_id":129058959,"body_markdown":"by binding App A with the service in App B, what is meant is to keep the created binding active even if the activity is changed.","body":"by binding App A with the service in App B, what is meant is to keep the created binding active even if the activity is changed."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1658441505,"post_id":73072923,"comment_id":129059017,"body_markdown":"&quot;what is meant is to keep the created binding active even if the activity is changed&quot; -- you are welcome to bind from some more stable object, such as a repository-style singleton. &quot;is there a way to use it synchronously?&quot; -- no.","body":"&quot;what is meant is to keep the created binding active even if the activity is changed&quot; -- you are welcome to bind from some more stable object, such as a repository-style singleton. &quot;is there a way to use it synchronously?&quot; -- no."},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1658446542,"post_id":73072923,"comment_id":129059967,"body_markdown":"Adding to CommonsWare, binding is inherently asynchronous. To make it synchronous, you would have to create a wrapper around the bind calls (e.g. `bindServiceSync()`). However, I would discourage doing so because binding is asynchronous on purpose. Especially if the client and server are in separate processes, binding could take &gt;100ms which will block the main thread. If you need binding throughout the entire Activity lifecycle, then bind in onCreate and unbind in onDestroy. Either way, you will still have to handle scenarios where binding fails or calls to AIDL fail due to crashes.","body":"Adding to CommonsWare, binding is inherently asynchronous. To make it synchronous, you would have to create a wrapper around the bind calls (e.g. <code>bindServiceSync()</code>). However, I would discourage doing so because binding is asynchronous on purpose. Especially if the client and server are in separate processes, binding could take &gt;100ms which will block the main thread. If you need binding throughout the entire Activity lifecycle, then bind in onCreate and unbind in onDestroy. Either way, you will still have to handle scenarios where binding fails or calls to AIDL fail due to crashes."},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1658470940,"post_id":73072923,"comment_id":129063544,"body_markdown":"Actually I want to reuse the created binding across actiivities or persist that binding somehow so that when I move from parent activity to child activity I don&#39;t have to create binding once more and reuse it in onCreate method of child activity.\n\nThis is an alternative approach I am considering.","body":"Actually I want to reuse the created binding across actiivities or persist that binding somehow so that when I move from parent activity to child activity I don&#39;t have to create binding once more and reuse it in onCreate method of child activity.  This is an alternative approach I am considering."}],"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658439598,"creation_date":1658439598,"question_id":73072923,"body_markdown":"Problem statement =&gt; \r\nI am trying to communicate between two apps, say App A(client side) and App B(server side). I am using AIDL based approach. It takes time to create connection between A and B, also the binding process is asynchronous and I need to immediately use the created connection after it gets binded. Something like this =&gt;\r\n```\r\nfinal ServiceConnection serviceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            IStubbingInterfaceObject = IStubbingInterface.Stub.asInterface(service);\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            IStubbingInterfaceObject = null;\r\n        }\r\n    };\r\n// \r\ncontext.bindService(explicitIntent, serviceConnection, 0);\r\nString answer = IStubbingInterfaceObject.callServiceInAppB();\r\n\r\n```\r\n\r\nHere since the bindService is asynchronous process, when the thread moves to next line there is no guarantee that binding is completed, and it actually fails stating &quot;IStubbingInterfaceObject&quot; is null.\r\n___\r\nThe solutions that come to mind are\r\n* Is it possible to bind App A itself with the service in App B so that I can use binding anywhere across the App A.\r\n* Synchronize binding procedure, which i tried by using\r\n```\r\ncontext.bindService(explicitIntent, serviceConnection, 0);\r\nwhile(IStubbingInterfaceObject == null)\r\nString answer = IStubbingInterfaceObject.callServiceInAppB();\r\n```\r\nor any other possible solution that anyone can add.","title":"Permanent connection across activity bound service","body":"<p>Problem statement =&gt;\nI am trying to communicate between two apps, say App A(client side) and App B(server side). I am using AIDL based approach. It takes time to create connection between A and B, also the binding process is asynchronous and I need to immediately use the created connection after it gets binded. Something like this =&gt;</p>\n<pre><code>final ServiceConnection serviceConnection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            IStubbingInterfaceObject = IStubbingInterface.Stub.asInterface(service);\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            IStubbingInterfaceObject = null;\n        }\n    };\n// \ncontext.bindService(explicitIntent, serviceConnection, 0);\nString answer = IStubbingInterfaceObject.callServiceInAppB();\n\n</code></pre>\n<p>Here since the bindService is asynchronous process, when the thread moves to next line there is no guarantee that binding is completed, and it actually fails stating &quot;IStubbingInterfaceObject&quot; is null.</p>\n<hr />\n<p>The solutions that come to mind are</p>\n<ul>\n<li>Is it possible to bind App A itself with the service in App B so that I can use binding anywhere across the App A.</li>\n<li>Synchronize binding procedure, which i tried by using</li>\n</ul>\n<pre><code>context.bindService(explicitIntent, serviceConnection, 0);\nwhile(IStubbingInterfaceObject == null)\nString answer = IStubbingInterfaceObject.callServiceInAppB();\n</code></pre>\n<p>or any other possible solution that anyone can add.</p>\n"},{"tags":["java","functional-programming","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559833799,"creation_date":1559827794,"answer_id":56478675,"question_id":56478401,"body_markdown":"**Edit** after Holger’s comment: If you just want the distinct brands in the order encountered in the array, all you need to do is to omit the sort operation.\r\n\r\n\t\tString[] list = {&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;};\r\n\t    Stream.of(list)\r\n\t            .distinct()\r\n\t            .forEach(System.out::println);\r\n\r\nOutput is:\r\n\r\n&gt;     Apple\r\n&gt;     Samsung\r\n&gt;     LG\r\n&gt;     Oppo\r\n&gt;     Huawei\r\n\r\nAs Holger said, `distinct` maintains encounter order *if* the stream had encounter order before the `distinct` operation (which your stream has).\r\n\r\n&gt; I actually need the preceding counter (1. 2. 3. 4. 5.).\r\n\r\nMy preferred way of doing it is using an enhanced `for` loop and no lambdas:\r\n\r\n\t\tint counter = 0;\r\n\t\tfor (String brand : new LinkedHashSet&lt;&gt;(Arrays.asList(list))) {\r\n\t\t\tcounter++;\r\n\t\t\tSystem.out.println(&quot;&quot; + counter + &quot;. &quot; + brand);\r\n\t\t}\r\n\r\nOutput is:\r\n\r\n&gt;     1. Apple\r\n&gt;     2. Samsung\r\n&gt;     3. LG\r\n&gt;     4. Oppo\r\n&gt;     5. Huawei\r\n\r\nFurther comment from you:\r\n\r\n&gt; I&#39;m wondering what&#39;s the &quot;ideal FP&quot; solution.\r\n\r\nI’m not necessarily convinced that any good purely functional programming solution exists. My attempt would be, inspired from the linked original question and its answers:\r\n\r\n\t\tList&lt;String&gt; distinctBrands\r\n\t\t\t\t= new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(Arrays.asList(list)));\r\n\t\tIntStream.range(0, distinctBrands.size())\r\n\t\t\t\t.mapToObj(index -&gt; &quot;&quot; + (index + 1) + &quot;. &quot; + distinctBrands.get(index))\r\n\t\t\t\t.forEach(System.out::println);\r\n\r\nA `LinkedHashSet` maintains insertion order and drops duplicates. Output is the same as before.","title":"Count and print unique list items in one chain using Java Streams","body":"<p><strong>Edit</strong> after Holger’s comment: If you just want the distinct brands in the order encountered in the array, all you need to do is to omit the sort operation.</p>\n\n<pre><code>    String[] list = {\"Apple\", \"Samsung\", \"LG\", \"Oppo\", \"Apple\", \"Huawei\", \"Oppo\"};\n    Stream.of(list)\n            .distinct()\n            .forEach(System.out::println);\n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n<pre><code>Apple\nSamsung\nLG\nOppo\nHuawei\n</code></pre>\n</blockquote>\n\n<p>As Holger said, <code>distinct</code> maintains encounter order <em>if</em> the stream had encounter order before the <code>distinct</code> operation (which your stream has).</p>\n\n<blockquote>\n  <p>I actually need the preceding counter (1. 2. 3. 4. 5.).</p>\n</blockquote>\n\n<p>My preferred way of doing it is using an enhanced <code>for</code> loop and no lambdas:</p>\n\n<pre><code>    int counter = 0;\n    for (String brand : new LinkedHashSet&lt;&gt;(Arrays.asList(list))) {\n        counter++;\n        System.out.println(\"\" + counter + \". \" + brand);\n    }\n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n<pre><code>1. Apple\n2. Samsung\n3. LG\n4. Oppo\n5. Huawei\n</code></pre>\n</blockquote>\n\n<p>Further comment from you:</p>\n\n<blockquote>\n  <p>I'm wondering what's the \"ideal FP\" solution.</p>\n</blockquote>\n\n<p>I’m not necessarily convinced that any good purely functional programming solution exists. My attempt would be, inspired from the linked original question and its answers:</p>\n\n<pre><code>    List&lt;String&gt; distinctBrands\n            = new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(Arrays.asList(list)));\n    IntStream.range(0, distinctBrands.size())\n            .mapToObj(index -&gt; \"\" + (index + 1) + \". \" + distinctBrands.get(index))\n            .forEach(System.out::println);\n</code></pre>\n\n<p>A <code>LinkedHashSet</code> maintains insertion order and drops duplicates. Output is the same as before.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658439167,"creation_date":1559832985,"answer_id":56480177,"question_id":56478401,"body_markdown":"You can do this in a functional style, without side-effects, by setting up one stream that sorts the items and a second stream for the line numbers, then combining the streams with zip. \r\n\r\nThis example uses Guava&#39;s zip function. Zip is a very common utility for functional programming. \r\n\r\n\r\n    import java.util.stream.Stream;\r\n    import com.google.common.collect.Streams;\r\n    \r\n    public class ZipExample {\r\n        public static void main(String[] args) {\r\n            String[] a = {&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;};\r\n            Stream&lt;String&gt; items = Stream.of(a).sorted().distinct();\r\n            Stream&lt;Integer&gt; indices = Stream.iterate(1, i -&gt; i + 1);\r\n            Streams.zip(items, indices, \r\n                (item, index) -&gt; index + &quot;. &quot; + item)\r\n                .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\n\r\nIt prints out \r\n\r\n    1. Apple\r\n    2. Huawei\r\n    3. LG\r\n    4. Oppo\r\n    5. Samsung\r\n\r\n\r\nRewritten as one expression it would look like:\r\n\r\n    Streams.zip(\r\n        Stream.of(a).sorted().distinct(), \r\n        Stream.iterate(1, i -&gt; i + 1), \r\n        (item, index) -&gt; index + &quot;. &quot; + item)\r\n        .forEach(System.out::println);","title":"Count and print unique list items in one chain using Java Streams","body":"<p>You can do this in a functional style, without side-effects, by setting up one stream that sorts the items and a second stream for the line numbers, then combining the streams with zip.</p>\n<p>This example uses Guava's zip function. Zip is a very common utility for functional programming.</p>\n<pre><code>import java.util.stream.Stream;\nimport com.google.common.collect.Streams;\n\npublic class ZipExample {\n    public static void main(String[] args) {\n        String[] a = {&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;};\n        Stream&lt;String&gt; items = Stream.of(a).sorted().distinct();\n        Stream&lt;Integer&gt; indices = Stream.iterate(1, i -&gt; i + 1);\n        Streams.zip(items, indices, \n            (item, index) -&gt; index + &quot;. &quot; + item)\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>It prints out</p>\n<pre><code>1. Apple\n2. Huawei\n3. LG\n4. Oppo\n5. Samsung\n</code></pre>\n<p>Rewritten as one expression it would look like:</p>\n<pre><code>Streams.zip(\n    Stream.of(a).sorted().distinct(), \n    Stream.iterate(1, i -&gt; i + 1), \n    (item, index) -&gt; index + &quot;. &quot; + item)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559834741,"creation_date":1559834040,"answer_id":56480496,"question_id":56478401,"body_markdown":"A simpler solution could be to use a `Set` as a collection to ensure unique strings are accessed and incrementing the index along with for all such elements:\r\n\r\n    String[] list = {&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;};\r\n    Set&lt;String&gt; setOfStrings = new HashSet&lt;&gt;(); // final strings\r\n    AtomicInteger index = new AtomicInteger(1); // index\r\n    Arrays.stream(list)\r\n            .filter(setOfStrings::add) // use the return type of Set.add\r\n            .forEach(str -&gt; System.out.println(index.getAndIncrement() + &quot;. &quot; + str));\r\n\r\n***Edit***: (Thanks to Holger) And instead of the index maintained as a separate variable, one can use the size of the collection as:\r\n\r\n    Arrays.stream(list)\r\n            .filter(setOfStrings::add) // use the return type of Set.add\r\n            .forEach(str -&gt; System.out.println(setOfStrings.size() + &quot;. &quot; + str)); // use size for index","title":"Count and print unique list items in one chain using Java Streams","body":"<p>A simpler solution could be to use a <code>Set</code> as a collection to ensure unique strings are accessed and incrementing the index along with for all such elements:</p>\n\n<pre><code>String[] list = {\"Apple\", \"Samsung\", \"LG\", \"Oppo\", \"Apple\", \"Huawei\", \"Oppo\"};\nSet&lt;String&gt; setOfStrings = new HashSet&lt;&gt;(); // final strings\nAtomicInteger index = new AtomicInteger(1); // index\nArrays.stream(list)\n        .filter(setOfStrings::add) // use the return type of Set.add\n        .forEach(str -&gt; System.out.println(index.getAndIncrement() + \". \" + str));\n</code></pre>\n\n<p><strong><em>Edit</em></strong>: (Thanks to Holger) And instead of the index maintained as a separate variable, one can use the size of the collection as:</p>\n\n<pre><code>Arrays.stream(list)\n        .filter(setOfStrings::add) // use the return type of Set.add\n        .forEach(str -&gt; System.out.println(setOfStrings.size() + \". \" + str)); // use size for index\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559898043,"creation_date":1559898043,"answer_id":56491168,"question_id":56478401,"body_markdown":"With Guava:\r\n\r\n    Streams.mapWithIndex(Stream.of(list).distinct(), (s, i) -&gt; (i + 1) + &quot;. &quot; + s)\r\n           .forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    1. Apple\r\n    2. Samsung\r\n    3. LG\r\n    4. Oppo\r\n    5. Huawei","title":"Count and print unique list items in one chain using Java Streams","body":"<p>With Guava:</p>\n\n<pre><code>Streams.mapWithIndex(Stream.of(list).distinct(), (s, i) -&gt; (i + 1) + \". \" + s)\n       .forEach(System.out::println);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1. Apple\n2. Samsung\n3. LG\n4. Oppo\n5. Huawei\n</code></pre>\n"}],"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1658439167,"creation_date":1559826895,"question_id":56478401,"body_markdown":"I&#39;m trying to achieve this using only functional programming constructs (Streams, Collectors, lambda expressions).\r\n\r\nLet&#39;s say `list` is a `String[]`:\r\n\r\n    {&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;}\r\n\r\nI want to print out a distinct list of brand names from this array, and number them, i.e.:\r\n\r\n```\r\n1. Apple\r\n2. Huawei\r\n3. LG\r\n4. Oppo\r\n5. Samsung\r\n```\r\n\r\nI can print out the unique elements (sorted):\r\n\r\n    Stream.of(list)\r\n        .distinct()\r\n        .sorted()\r\n        .forEach(System.out::println);\r\n\r\nBut this does not show the preceding counter. I tried `Collectors.counting()` but that, of course, didn&#39;t work.\r\n\r\nAny help from FP experts?\r\n\r\n----\r\n\r\n**Edit**: I understand some other questions have asked about iterating over a stream with indices. However, I can&#39;t simply do:\r\n\r\n    IntStream.range(0, list.length)\r\n    \t    .mapToObj(a -&gt; (a+1) + &quot;. &quot; + list[a])\r\n    \t    .collect(Collectors.toList())\r\n    \t    .forEach(System.out::println);\r\n\r\nbecause the original array contains duplicate elements. There might also be other `map` and `filter` operations I may need to perform on the stream before I print the result.","title":"Count and print unique list items in one chain using Java Streams","body":"<p>I'm trying to achieve this using only functional programming constructs (Streams, Collectors, lambda expressions).</p>\n<p>Let's say <code>list</code> is a <code>String[]</code>:</p>\n<pre><code>{&quot;Apple&quot;, &quot;Samsung&quot;, &quot;LG&quot;, &quot;Oppo&quot;, &quot;Apple&quot;, &quot;Huawei&quot;, &quot;Oppo&quot;}\n</code></pre>\n<p>I want to print out a distinct list of brand names from this array, and number them, i.e.:</p>\n<pre><code>1. Apple\n2. Huawei\n3. LG\n4. Oppo\n5. Samsung\n</code></pre>\n<p>I can print out the unique elements (sorted):</p>\n<pre><code>Stream.of(list)\n    .distinct()\n    .sorted()\n    .forEach(System.out::println);\n</code></pre>\n<p>But this does not show the preceding counter. I tried <code>Collectors.counting()</code> but that, of course, didn't work.</p>\n<p>Any help from FP experts?</p>\n<hr />\n<p><strong>Edit</strong>: I understand some other questions have asked about iterating over a stream with indices. However, I can't simply do:</p>\n<pre><code>IntStream.range(0, list.length)\n        .mapToObj(a -&gt; (a+1) + &quot;. &quot; + list[a])\n        .collect(Collectors.toList())\n        .forEach(System.out::println);\n</code></pre>\n<p>because the original array contains duplicate elements. There might also be other <code>map</code> and <code>filter</code> operations I may need to perform on the stream before I print the result.</p>\n"},{"tags":["java","azure","jmeter","kql"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658385318,"creation_date":1658385318,"answer_id":73061663,"question_id":73054820,"body_markdown":"In order to be able to &quot;compare&quot; you need somehow to **distinguish** 2 different runs and I fail to see any metric you can use for that. \r\n\r\nSo the easiest option would be first running i.e. [Merge Results Tool][1] which will create an aggregate .jtl results file and then parse it using KQL. \r\n\r\nMerge Results Tool can be installed using [JMeter Plugins Manager][2] \r\n\r\n \r\n\r\n\r\n  [1]: https://jmeter-plugins.org/wiki/MergeResults/\r\n  [2]: https://www.blazemeter.com/blog/jmeter-plugins-manager","title":"Compare Jmeter Results using Azure Kusto Queries","body":"<p>In order to be able to &quot;compare&quot; you need somehow to <strong>distinguish</strong> 2 different runs and I fail to see any metric you can use for that.</p>\n<p>So the easiest option would be first running i.e. <a href=\"https://jmeter-plugins.org/wiki/MergeResults/\" rel=\"nofollow noreferrer\">Merge Results Tool</a> which will create an aggregate .jtl results file and then parse it using KQL.</p>\n<p>Merge Results Tool can be installed using <a href=\"https://www.blazemeter.com/blog/jmeter-plugins-manager\" rel=\"nofollow noreferrer\">JMeter Plugins Manager</a></p>\n"},{"tags":[],"owner":{"account_id":25855121,"reputation":1,"user_id":19588527,"display_name":"Jorge Beltran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658439161,"creation_date":1658439161,"answer_id":73072884,"question_id":73054820,"body_markdown":"I solved the problem, here is the Script for compare Results\r\n\r\nHope this help \r\n \r\n    requests\r\n    | where name == &quot;{TestNameA}&quot;\r\n        and customDimensions.TestStartTime == &quot;{TestStartTimeA}&quot;\r\n    | summarize\r\n        Samples_A = count(),\r\n        Average_A = tolong(avg(duration)),\r\n        (L95_A)\r\n            = percentiles(duration, 95),\r\n        Min_A = min(duration),\r\n        Maximum_A = max(duration),\r\n        ErrorCount_A = countif(success == false),\r\n        StartTime = min(tolong(customDimensions.SampleStartTime)),\r\n        EndTime = max(tolong(customDimensions.SampleEndTime))\r\n        by Label = tostring(customDimensions.SampleLabel)\r\n    | extend s = 0\r\n    | join (\r\n    requests\r\n    | where name == &quot;{TestNameB}&quot;\r\n        and customDimensions.TestStartTime == &quot;{TestStartTimeB}&quot;\r\n    | summarize\r\n        Samples_B = count(),\r\n        Average_B = tolong(avg(duration)),\r\n        (L95_B)\r\n            = percentiles(duration, 95),\r\n        Min_B = min(duration),\r\n        Maximum_B = max(duration),\r\n        ErrorCount_B = countif(success == false),\r\n        StartTime = min(tolong(customDimensions.SampleStartTime)),\r\n        EndTime = max(tolong(customDimensions.SampleEndTime))\r\n        by Label = tostring(customDimensions.SampleLabel)\r\n    | extend s = 1\r\n    ) on Label\r\n    | sort by s asc\r\n    | project\r\n        Label, Samples_A, Samples_B, Average_A, Average_B,\r\n        [&#39;95% Line_A&#39;] = round(L95_A),\r\n        [&#39;95% Line_B&#39;] = round(L95_B),\r\n        Min_A, Min_B, Maximum_A, Maximum_B,\r\n        [&#39;Error_A %&#39;] = strcat(round(ErrorCount_A * 100.0 / Samples_A, 2), &#39;%&#39;),\r\n        [&#39;Error_B %&#39;] = strcat(round(ErrorCount_B * 100.0 / Samples_B, 2), &#39;%&#39;)\r\n    | project-reorder\r\n       Label, Samples_A, Samples_B, Average_A, Average_B,\r\n        [&#39;95% Line_A&#39;], [&#39;95% Line_B&#39;], Min_A, Min_B, Maximum_A, Maximum_B, [&#39;Error_A %&#39;], [&#39;Error_B %&#39;]\r\n       \r\n\r\n  \r\n[Script][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mdVRK.png","title":"Compare Jmeter Results using Azure Kusto Queries","body":"<p>I solved the problem, here is the Script for compare Results</p>\n<p>Hope this help</p>\n<pre><code>requests\n| where name == &quot;{TestNameA}&quot;\n    and customDimensions.TestStartTime == &quot;{TestStartTimeA}&quot;\n| summarize\n    Samples_A = count(),\n    Average_A = tolong(avg(duration)),\n    (L95_A)\n        = percentiles(duration, 95),\n    Min_A = min(duration),\n    Maximum_A = max(duration),\n    ErrorCount_A = countif(success == false),\n    StartTime = min(tolong(customDimensions.SampleStartTime)),\n    EndTime = max(tolong(customDimensions.SampleEndTime))\n    by Label = tostring(customDimensions.SampleLabel)\n| extend s = 0\n| join (\nrequests\n| where name == &quot;{TestNameB}&quot;\n    and customDimensions.TestStartTime == &quot;{TestStartTimeB}&quot;\n| summarize\n    Samples_B = count(),\n    Average_B = tolong(avg(duration)),\n    (L95_B)\n        = percentiles(duration, 95),\n    Min_B = min(duration),\n    Maximum_B = max(duration),\n    ErrorCount_B = countif(success == false),\n    StartTime = min(tolong(customDimensions.SampleStartTime)),\n    EndTime = max(tolong(customDimensions.SampleEndTime))\n    by Label = tostring(customDimensions.SampleLabel)\n| extend s = 1\n) on Label\n| sort by s asc\n| project\n    Label, Samples_A, Samples_B, Average_A, Average_B,\n    ['95% Line_A'] = round(L95_A),\n    ['95% Line_B'] = round(L95_B),\n    Min_A, Min_B, Maximum_A, Maximum_B,\n    ['Error_A %'] = strcat(round(ErrorCount_A * 100.0 / Samples_A, 2), '%'),\n    ['Error_B %'] = strcat(round(ErrorCount_B * 100.0 / Samples_B, 2), '%')\n| project-reorder\n   Label, Samples_A, Samples_B, Average_A, Average_B,\n    ['95% Line_A'], ['95% Line_B'], Min_A, Min_B, Maximum_A, Maximum_B, ['Error_A %'], ['Error_B %']\n   \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mdVRK.png\" rel=\"nofollow noreferrer\">Script</a></p>\n"}],"owner":{"account_id":25855121,"reputation":1,"user_id":19588527,"display_name":"Jorge Beltran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658439161,"creation_date":1658333000,"question_id":73054820,"body_markdown":"I am trying to create a Kusto query to compare two Jmeter Results, I already has this query that show me the results for 1 test, But I don&#39;t know how to add another one and marge the result.\r\n\r\nAttached the Query and and image for reference.\r\n\r\nCan Someone help me to complete the Query? \r\n\r\n    let testName = &quot;jmeter&quot;;\r\n    let TestStartTime = &quot;{Startime}&quot;;\r\n    requests\r\n    | where name == testName\r\n        and customDimensions.TestStartTime == TestStartTime\r\n    | summarize\r\n        Samples = count(),\r\n        Average = tolong(avg(duration)),\r\n        (L50, L90, L95, L99)\r\n            = percentiles(duration, 50, 90, 95, 99),\r\n        Min = min(duration),\r\n        Maximum = max(duration),\r\n        ErrorCount = countif(success == false),\r\n        StartTime = min(tolong(customDimensions.SampleStartTime)),\r\n        EndTime = max(tolong(customDimensions.SampleEndTime))\r\n        by Label = tostring(customDimensions.SampleLabel)\r\n    | extend s = 0\r\n    | union (\r\n    requests\r\n    | where name == testName\r\n        and customDimensions.TestStartTime == TestStartTime\r\n    | summarize\r\n        Samples = count(),\r\n        Average = tolong(avg(duration)),\r\n        (L50, L90, L95, L99)\r\n            = percentiles(duration, 50, 90, 95, 99),\r\n        Min = min(duration),\r\n        Maximum = max(duration),\r\n        ErrorCount = countif(success == false),\r\n        StartTime = min(tolong(customDimensions.SampleStartTime)),\r\n        EndTime = max(tolong(customDimensions.SampleEndTime))\r\n    | extend Label = &#39;TOTAL&#39;, s = 9\r\n    )\r\n    | extend\r\n        tp = Samples / ((EndTime - StartTime) / 1000.0),\r\n        KBPeriod = (EndTime - StartTime) * 1024 / 1000.0\r\n    | sort by s asc\r\n    | project\r\n        Label, Samples, Average,\r\n        Median = round(L50),\r\n        [&#39;90% Line&#39;] = round(L90),\r\n        [&#39;95% Line&#39;] = round(L95),\r\n        [&#39;99% Line&#39;] = round(L99),\r\n        Min, Maximum,\r\n        [&#39;Error %&#39;] = strcat(round(ErrorCount * 100.0 / Samples, 2), &#39;%&#39;),\r\n        [&#39;Throughput&#39;] = iif(tp &lt; 1.0,\r\n                            strcat(round(tp * 60, 1), &#39;/min&#39;),\r\n                            strcat(round(tp, 1), &#39;/sec&#39;)\r\n                         )\r\n    | project-reorder\r\n        Label, Samples, Average,\r\n        [&#39;Median&#39;], [&#39;90% Line&#39;], [&#39;95% Line&#39;], [&#39;99% Line&#39;],\r\n        Min, Maximum, [&#39;Error %&#39;], [&#39;Throughput&#39;]\r\n\r\n[![Query for 1 test Results][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Akx9J.png","title":"Compare Jmeter Results using Azure Kusto Queries","body":"<p>I am trying to create a Kusto query to compare two Jmeter Results, I already has this query that show me the results for 1 test, But I don't know how to add another one and marge the result.</p>\n<p>Attached the Query and and image for reference.</p>\n<p>Can Someone help me to complete the Query?</p>\n<pre><code>let testName = &quot;jmeter&quot;;\nlet TestStartTime = &quot;{Startime}&quot;;\nrequests\n| where name == testName\n    and customDimensions.TestStartTime == TestStartTime\n| summarize\n    Samples = count(),\n    Average = tolong(avg(duration)),\n    (L50, L90, L95, L99)\n        = percentiles(duration, 50, 90, 95, 99),\n    Min = min(duration),\n    Maximum = max(duration),\n    ErrorCount = countif(success == false),\n    StartTime = min(tolong(customDimensions.SampleStartTime)),\n    EndTime = max(tolong(customDimensions.SampleEndTime))\n    by Label = tostring(customDimensions.SampleLabel)\n| extend s = 0\n| union (\nrequests\n| where name == testName\n    and customDimensions.TestStartTime == TestStartTime\n| summarize\n    Samples = count(),\n    Average = tolong(avg(duration)),\n    (L50, L90, L95, L99)\n        = percentiles(duration, 50, 90, 95, 99),\n    Min = min(duration),\n    Maximum = max(duration),\n    ErrorCount = countif(success == false),\n    StartTime = min(tolong(customDimensions.SampleStartTime)),\n    EndTime = max(tolong(customDimensions.SampleEndTime))\n| extend Label = 'TOTAL', s = 9\n)\n| extend\n    tp = Samples / ((EndTime - StartTime) / 1000.0),\n    KBPeriod = (EndTime - StartTime) * 1024 / 1000.0\n| sort by s asc\n| project\n    Label, Samples, Average,\n    Median = round(L50),\n    ['90% Line'] = round(L90),\n    ['95% Line'] = round(L95),\n    ['99% Line'] = round(L99),\n    Min, Maximum,\n    ['Error %'] = strcat(round(ErrorCount * 100.0 / Samples, 2), '%'),\n    ['Throughput'] = iif(tp &lt; 1.0,\n                        strcat(round(tp * 60, 1), '/min'),\n                        strcat(round(tp, 1), '/sec')\n                     )\n| project-reorder\n    Label, Samples, Average,\n    ['Median'], ['90% Line'], ['95% Line'], ['99% Line'],\n    Min, Maximum, ['Error %'], ['Throughput']\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Akx9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Akx9J.png\" alt=\"Query for 1 test Results\" /></a></p>\n"},{"tags":["java","junit","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":49955,"reputation":3449,"user_id":148912,"display_name":"Maik"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1566111008,"creation_date":1566111008,"answer_id":57542317,"question_id":57542232,"body_markdown":"The sample works if you remove the PowerMock dependencies. The issue is that the versions of Mockito and PowerMock used are incompatible with each other. For PowerMock 2.x you need at least Mockito 2.8.9+. PowerMock provides a [compatibility list](https://github.com/powermock/powermock/wiki/Mockito#supported-versions) that shows what version of PowerMock is compatible with what version of Mockito. Fix up the versions to be compatible with each other and your sample will start to work.","title":"java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework","body":"<p>The sample works if you remove the PowerMock dependencies. The issue is that the versions of Mockito and PowerMock used are incompatible with each other. For PowerMock 2.x you need at least Mockito 2.8.9+. PowerMock provides a <a href=\"https://github.com/powermock/powermock/wiki/Mockito#supported-versions\" rel=\"noreferrer\">compatibility list</a> that shows what version of PowerMock is compatible with what version of Mockito. Fix up the versions to be compatible with each other and your sample will start to work.</p>\n"},{"tags":[],"owner":{"account_id":4621409,"reputation":29,"user_id":3746405,"display_name":"Folea"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643124002,"creation_date":1643124002,"answer_id":70851213,"question_id":57542232,"body_markdown":"If you are using a newer version of SpringBoot it may came with a version of Mockito bigger than 3.12.4 and this may make your powermock-api-mockito2 not work because in the newer versions of Mockito the get() method from org.mockito.Answers was deleted, it was already deprecated in 3.12.4, and the powermock-api-mockito was not adapted to work with the newer version.\r\n\r\nAs a solution you can downgrade the Mockito version or you can use the newer version of Mockito to mock your final classes or methods. \r\n\r\nThere is a ticket opened regarding this issue [here][1].\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/issues/1109","title":"java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework","body":"<p>If you are using a newer version of SpringBoot it may came with a version of Mockito bigger than 3.12.4 and this may make your powermock-api-mockito2 not work because in the newer versions of Mockito the get() method from org.mockito.Answers was deleted, it was already deprecated in 3.12.4, and the powermock-api-mockito was not adapted to work with the newer version.</p>\n<p>As a solution you can downgrade the Mockito version or you can use the newer version of Mockito to mock your final classes or methods.</p>\n<p>There is a ticket opened regarding this issue <a href=\"https://github.com/powermock/powermock/issues/1109\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4025388,"reputation":71,"user_id":3313911,"display_name":"Sushanta Sinha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649138120,"creation_date":1648987040,"answer_id":71725665,"question_id":57542232,"body_markdown":"I was getting a similar issue, when trying to use Mockito with Junit 5 (@ExtendWith)\r\n\r\n    java.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\r\n\r\nThis was coming as there were two versions of mockito present in the classpath (one is mockito-all and another is mockito-core), through transitive dependency. After removing the mockito-all dependency from POM explicitly, the issue got resolved.\r\n\r\n\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class TodoBusinessImplWIthMockWithAnnotationTest {\r\n\r\n       @Mock\r\n       TodoService todoService;\r\n\r\n       @Test\r\n       public void usingMockito() {\r\n\r\n        ......\r\n\r\n       }\r\n\r\n    }\r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework","body":"<p>I was getting a similar issue, when trying to use Mockito with Junit 5 (@ExtendWith)</p>\n<pre><code>java.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\n</code></pre>\n<p>This was coming as there were two versions of mockito present in the classpath (one is mockito-all and another is mockito-core), through transitive dependency. After removing the mockito-all dependency from POM explicitly, the issue got resolved.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class TodoBusinessImplWIthMockWithAnnotationTest {\n\n   @Mock\n   TodoService todoService;\n\n   @Test\n   public void usingMockito() {\n\n    ......\n\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11426147,"reputation":91,"user_id":8376243,"display_name":"feav feav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658438944,"creation_date":1658436680,"answer_id":73072502,"question_id":57542232,"body_markdown":"remove to your pom.xml  **mockito-all**\r\nand use \r\n**mockito-core**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nyou could use annotation  `@ExtendWith(MockitoExtension.class)` in your test call.\r\nin the class of test use   `@InjectMocks` to inject the Service you need to test, this will allow `@Mock` for his dependancies call.","title":"java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework","body":"<p>remove to your pom.xml  <strong>mockito-all</strong>\nand use\n<strong>mockito-core</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>you could use annotation  <code>@ExtendWith(MockitoExtension.class)</code> in your test call.\nin the class of test use   <code>@InjectMocks</code> to inject the Service you need to test, this will allow <code>@Mock</code> for his dependancies call.</p>\n"}],"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33148,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1658438944,"creation_date":1566110145,"question_id":57542232,"body_markdown":"I&#39;ve been facing a peculiar problem. Basically, when I run my Mockito test normally i.e. &#39;Run as Junit Test&#39;, it gives me the following error. Can someone help me please what is my mistake?\r\n\r\nThe error received:\r\n---\r\n```\r\n    java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework;\r\n    \tat org.powermock.api.mockito.mockmaker.MockMakerLoader.doLoad(MockMakerLoader.java:45)\r\n    \tat org.powermock.api.mockito.mockmaker.MockMakerLoader.load(MockMakerLoader.java:36)\r\n    \tat org.powermock.api.mockito.mockmaker.PowerMockMaker.&lt;init&gt;(PowerMockMaker.java:36)\r\n        ... shortened stacktrace....\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n```\r\n\r\nThe test class:\r\n--\r\n```Java\r\npublic class ListTest {\r\n    @Test\r\n   \tpublic void letsMockListSize() {\r\n \t\tList&lt;?&gt; list= mock(List.class);\r\n\t\twhen(list.size()).thenReturn(2);\r\n\t\tassertEquals(2, list.size());\r\n\t}\r\n}\r\n```\r\n\r\npom.xml\r\n---\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.19&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\t\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-beta.5&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-beta.5&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework","body":"<p>I've been facing a peculiar problem. Basically, when I run my Mockito test normally i.e. 'Run as Junit Test', it gives me the following error. Can someone help me please what is my mistake?</p>\n\n<h2>The error received:</h2>\n\n<pre><code>    java.lang.NoSuchMethodError: org.mockito.Mockito.framework()Lorg/mockito/MockitoFramework;\n        at org.powermock.api.mockito.mockmaker.MockMakerLoader.doLoad(MockMakerLoader.java:45)\n        at org.powermock.api.mockito.mockmaker.MockMakerLoader.load(MockMakerLoader.java:36)\n        at org.powermock.api.mockito.mockmaker.PowerMockMaker.&lt;init&gt;(PowerMockMaker.java:36)\n        ... shortened stacktrace....\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\n</code></pre>\n\n<h2>The test class:</h2>\n\n<pre><code>public class ListTest {\n    @Test\n    public void letsMockListSize() {\n        List&lt;?&gt; list= mock(List.class);\n        when(list.size()).thenReturn(2);\n        assertEquals(2, list.size());\n    }\n}\n</code></pre>\n\n<h2>pom.xml</h2>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.10.19&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;   \n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-beta.5&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-beta.5&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1658430901,"post_id":73071489,"comment_id":129056178,"body_markdown":"Please check that your Run configuration Before Launch steps includes compilation/build. For faster builds you can use IntelliJ IDEA compiler instead of Gradle: https://i.imgur.com/HpeUaUE.png. If the issue persists, please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please check that your Run configuration Before Launch steps includes compilation/build. For faster builds you can use IntelliJ IDEA compiler instead of Gradle: <a href=\"https://i.imgur.com/HpeUaUE.png\" rel=\"nofollow noreferrer\">i.imgur.com/HpeUaUE.png</a>. If the issue persists, please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"score":0,"creation_date":1658438387,"post_id":73071489,"comment_id":129058314,"body_markdown":"Could you please add more information about the version of IntelliJ you are using?","body":"Could you please add more information about the version of IntelliJ you are using?"}],"answers":[{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658438682,"creation_date":1658438682,"answer_id":73072817,"question_id":73071489,"body_markdown":"Probably your IntelliJ is not configured for auto-build (https://www.jetbrains.com/help/idea/compiling-applications.html#auto-build), try this:\r\n\r\n- Press Ctrl+Alt+S to open the IDE settings and select Build, Execution, Deployment | Compiler.\r\n\r\n- On the Compiler page, select Build project automatically.\r\n\r\n- Now when you make changes in the class files, IntelliJ IDEA automatically performs the incremental build of the project.\r\n\r\n- The automatic build also gets triggered when you save the file (Ctrl+S) or when you have the Save files automatically if application is idle for N sec. option selected in the System settings dialog.\r\n\r\n\r\nCheck also the section &quot;Compile before running&quot; : https://www.jetbrains.com/help/idea/compiling-applications.html#compile_before_run","title":"Intellij Idea does not pick up my changes unless I build my module","body":"<p>Probably your IntelliJ is not configured for auto-build (<a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#auto-build\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#auto-build</a>), try this:</p>\n<ul>\n<li><p>Press Ctrl+Alt+S to open the IDE settings and select Build, Execution, Deployment | Compiler.</p>\n</li>\n<li><p>On the Compiler page, select Build project automatically.</p>\n</li>\n<li><p>Now when you make changes in the class files, IntelliJ IDEA automatically performs the incremental build of the project.</p>\n</li>\n<li><p>The automatic build also gets triggered when you save the file (Ctrl+S) or when you have the Save files automatically if application is idle for N sec. option selected in the System settings dialog.</p>\n</li>\n</ul>\n<p>Check also the section &quot;Compile before running&quot; : <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#compile_before_run\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#compile_before_run</a></p>\n"}],"owner":{"account_id":3393552,"reputation":491,"user_id":2847816,"accept_rate":48,"display_name":"God_Father"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658438682,"creation_date":1658430449,"question_id":73071489,"body_markdown":"My team&#39;s integration test code is written in Java. Gradle is our build tool. We are using testng as the test framework tool. I am using Intellij Idea IDE.\r\n\r\nEach time I make any change in my code (even printing messages) while writing my tests, Intellij Idea does not pick up my latest changes unless and build my module.\r\n\r\nIs this the expected behaviour? Is there setting that I need to toggle in order to make Intellij to use my latest code without having to build it each time for minor changes ?\r\n","title":"Intellij Idea does not pick up my changes unless I build my module","body":"<p>My team's integration test code is written in Java. Gradle is our build tool. We are using testng as the test framework tool. I am using Intellij Idea IDE.</p>\n<p>Each time I make any change in my code (even printing messages) while writing my tests, Intellij Idea does not pick up my latest changes unless and build my module.</p>\n<p>Is this the expected behaviour? Is there setting that I need to toggle in order to make Intellij to use my latest code without having to build it each time for minor changes ?</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":543309,"reputation":2057,"user_id":912408,"accept_rate":86,"display_name":"samael"},"score":0,"creation_date":1658409674,"post_id":73066914,"comment_id":129048372,"body_markdown":"I&#39;d either compare the utc value of those times or the underlying unix time value","body":"I&#39;d either compare the utc value of those times or the underlying unix time value"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658411295,"creation_date":1658411295,"answer_id":73067430,"question_id":73066914,"body_markdown":"In the cloud time is always considered to be GMT. So the best action is to change &lt;br&gt;`ZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));` \r\n&lt;br&gt;to \r\n\r\n    ZonedDateTime currentTime = ZonedDateTime.now()","title":"Compare ZoneDateTime with different time zones","body":"<p>In the cloud time is always considered to be GMT. So the best action is to change <br><code>ZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));</code>\n<br>to</p>\n<pre><code>ZonedDateTime currentTime = ZonedDateTime.now()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658412771,"creation_date":1658412771,"answer_id":73067768,"question_id":73066914,"body_markdown":"`GMT+2` is an offset, Middle Europe +1 hour plus 1 hour summer time.\r\nThat would go wrong in the coming winter. In fact you are using the incomplete OffsetDateTime, which without Locale is inconclusive for the real Zone.\r\n\r\n    ZonedDateTime currentTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Rome&quot;));\r\n\r\nAs you see, no need to revert to LocalDateTime.\r\n\r\nNow you can get `currentTime.toInstant()` for an absolute UTC number.\r\n\r\nAn `Instant` is even `Comparable`, but Before/After is fine.\r\n\r\nYou assume that before and after limits are also in the Italian time zone, but that may be as it is.\r\n\r\nThere are some things to consider, because of DST (summer time, daylight savings time):\r\n\r\n- With a count down (&quot;Still 243 hours till the end&quot;) you can get awkward jumps of 1 hour per day.\r\n- Twice a year there is the 02:00-03:00 gap or repetition (Western Europe). These stati can be queried.\r\n\r\n","title":"Compare ZoneDateTime with different time zones","body":"<p><code>GMT+2</code> is an offset, Middle Europe +1 hour plus 1 hour summer time.\nThat would go wrong in the coming winter. In fact you are using the incomplete OffsetDateTime, which without Locale is inconclusive for the real Zone.</p>\n<pre><code>ZonedDateTime currentTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Rome&quot;));\n</code></pre>\n<p>As you see, no need to revert to LocalDateTime.</p>\n<p>Now you can get <code>currentTime.toInstant()</code> for an absolute UTC number.</p>\n<p>An <code>Instant</code> is even <code>Comparable</code>, but Before/After is fine.</p>\n<p>You assume that before and after limits are also in the Italian time zone, but that may be as it is.</p>\n<p>There are some things to consider, because of DST (summer time, daylight savings time):</p>\n<ul>\n<li>With a count down (&quot;Still 243 hours till the end&quot;) you can get awkward jumps of 1 hour per day.</li>\n<li>Twice a year there is the 02:00-03:00 gap or repetition (Western Europe). These stati can be queried.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658438547,"creation_date":1658438547,"answer_id":73072797,"question_id":73066914,"body_markdown":"The [answer by Joop Eggen][1] is correct. I&#39;ll add some more complete code example. \r\n\r\nI suggest you educate the publisher of your data on two points:\r\n\r\n - Date-time values being exchanged textually should use standard [ISO 8601][2] format rather than inventing a localized format as seen in your case.\r\n - Moments (specific points on the timeline) should always be communicated in the context of a time zone or offset. Preferably with an offset of zero hours-minutes-seconds. This implied time zone of Rome is just asking for trouble. Or, if not a moment but a time-of-day that should remain the same even if politicians change the time zone rules, then communicate the intended time zone as another field in the date stream, in `Continent/Region` format such as `Europe/Rome`. \r\n\r\nI suggest adding the [*ThreeTen-Extra*][3] library to your project. Doing so gives you the [`Interval`][4] class that represents a span of time attached to the timeline as a pair of [`Instant`][5] objects. Handy methods include `contains`, `abuts`, `overlaps`, and more. \r\n\r\n```java\r\nString inputBegin = &quot;Thu 21 Jul 2022 at 10:50:43&quot;;\r\nString inputEnd = &quot;Thu 21 Jul 2022 at 12:50:43&quot;;\r\n\r\nLocale locale = Locale.US;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;EEE d MMM uuuu &#39;at&#39; HH:mm:ss&quot; ).withLocale( locale );\r\n\r\nZoneId zoneId = ZoneId.of( &quot;Europe/Rome&quot; ); // Assumed to be the intended time zone.\r\nLocalDateTime beginLdt = LocalDateTime.parse( inputBegin , f );\r\nLocalDateTime endLdt = LocalDateTime.parse( inputEnd , f );\r\n\r\nZonedDateTime begin = beginLdt.atZone( zoneId );\r\nZonedDateTime end = endLdt.atZone( zoneId );\r\n\r\nInterval whenValid = Interval.of( begin.toInstant() , end.toInstant() );\r\nInstant now = Instant.now();\r\nboolean isValidNow = whenValid.contains( now );\r\n\r\nSystem.out.println( begin + &quot;/&quot; + end );\r\nString message = &quot;Interval: &quot; + whenValid + &quot; contains now: &quot; + now + &quot; = &quot; + isValidNow;\r\nSystem.out.println( message );\r\n```\r\n\r\n&gt;2022-07-21T10:50:43+02:00[Europe/Rome]/2022-07-21T12:50:43+02:00[Europe/Rome]\r\n&gt;\r\n&gt;Interval: 2022-07-21T08:50:43Z/2022-07-21T10:50:43Z contains now: 2022-07-21T21:17:54.458095Z = false\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73067768/642706\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://www.threeten.org/threeten-extra/\r\n  [4]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html","title":"Compare ZoneDateTime with different time zones","body":"<p>The <a href=\"https://stackoverflow.com/a/73067768/642706\">answer by Joop Eggen</a> is correct. I'll add some more complete code example.</p>\n<p>I suggest you educate the publisher of your data on two points:</p>\n<ul>\n<li>Date-time values being exchanged textually should use standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format rather than inventing a localized format as seen in your case.</li>\n<li>Moments (specific points on the timeline) should always be communicated in the context of a time zone or offset. Preferably with an offset of zero hours-minutes-seconds. This implied time zone of Rome is just asking for trouble. Or, if not a moment but a time-of-day that should remain the same even if politicians change the time zone rules, then communicate the intended time zone as another field in the date stream, in <code>Continent/Region</code> format such as <code>Europe/Rome</code>.</li>\n</ul>\n<p>I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. Doing so gives you the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class that represents a span of time attached to the timeline as a pair of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> objects. Handy methods include <code>contains</code>, <code>abuts</code>, <code>overlaps</code>, and more.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String inputBegin = &quot;Thu 21 Jul 2022 at 10:50:43&quot;;\nString inputEnd = &quot;Thu 21 Jul 2022 at 12:50:43&quot;;\n\nLocale locale = Locale.US;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;EEE d MMM uuuu 'at' HH:mm:ss&quot; ).withLocale( locale );\n\nZoneId zoneId = ZoneId.of( &quot;Europe/Rome&quot; ); // Assumed to be the intended time zone.\nLocalDateTime beginLdt = LocalDateTime.parse( inputBegin , f );\nLocalDateTime endLdt = LocalDateTime.parse( inputEnd , f );\n\nZonedDateTime begin = beginLdt.atZone( zoneId );\nZonedDateTime end = endLdt.atZone( zoneId );\n\nInterval whenValid = Interval.of( begin.toInstant() , end.toInstant() );\nInstant now = Instant.now();\nboolean isValidNow = whenValid.contains( now );\n\nSystem.out.println( begin + &quot;/&quot; + end );\nString message = &quot;Interval: &quot; + whenValid + &quot; contains now: &quot; + now + &quot; = &quot; + isValidNow;\nSystem.out.println( message );\n</code></pre>\n<blockquote>\n<p>2022-07-21T10:50:43+02:00[Europe/Rome]/2022-07-21T12:50:43+02:00[Europe/Rome]</p>\n<p>Interval: 2022-07-21T08:50:43Z/2022-07-21T10:50:43Z contains now: 2022-07-21T21:17:54.458095Z = false</p>\n</blockquote>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73067768,"answer_count":3,"score":2,"last_activity_date":1658438547,"creation_date":1658409214,"question_id":73066914,"body_markdown":"Hi I&#39;ve already search for similar questions but without luck.\r\nI&#39;m calling a ws that sends me back a token and when it&#39;s valid example:\r\n```\r\n{\r\n   &quot;token&quot;: ...,\r\n   &quot;notBefore&quot;:&quot;Thu 21 Jul 2022 at 10:50:43&quot;,\r\n   &quot;notOnOrAfter&quot;:&quot;Thu 21 Jul 2022 at 12:50:43&quot;\r\n}\r\n```\r\nI know that this dates are GMT+2 (Rome), now I&#39;m taking the current time and convert the two strings:\r\n```\r\nZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));\r\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(token.getTimePattern(), Locale.ENGLISH);\r\nZonedDateTime tokenNotValidAfter = LocalDateTime.parse(token.getNotOnOrAfter(), dateTimeFormatter).atZone(ZoneId.of(&quot;GMT+2&quot;));\r\nZonedDateTime tokenNotValidBefore = LocalDateTime.parse(token.getNotBefore(), dateTimeFormatter).atZone(ZoneId.of(&quot;GMT+2&quot;));\r\nif (!currentTime.isAfter(tokenNotValidBefore) || !currentTime.isBefore(tokenNotValidAfter)) {\r\n    throw new CifTokenExpiredException(ExceptionHandlerConfig.CIF_TOKEN_EXPIRED);\r\n}\r\n```\r\nNow locally everthing is working fine, when i deploy on cloud i get:\r\n```\r\nZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));\r\n```\r\ntwo hours behind.\r\n\r\nHow can i solve this without adding two hours to currentTime? (doing like this locally will not work)\r\n\r\nRegards","title":"Compare ZoneDateTime with different time zones","body":"<p>Hi I've already search for similar questions but without luck.\nI'm calling a ws that sends me back a token and when it's valid example:</p>\n<pre><code>{\n   &quot;token&quot;: ...,\n   &quot;notBefore&quot;:&quot;Thu 21 Jul 2022 at 10:50:43&quot;,\n   &quot;notOnOrAfter&quot;:&quot;Thu 21 Jul 2022 at 12:50:43&quot;\n}\n</code></pre>\n<p>I know that this dates are GMT+2 (Rome), now I'm taking the current time and convert the two strings:</p>\n<pre><code>ZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(token.getTimePattern(), Locale.ENGLISH);\nZonedDateTime tokenNotValidAfter = LocalDateTime.parse(token.getNotOnOrAfter(), dateTimeFormatter).atZone(ZoneId.of(&quot;GMT+2&quot;));\nZonedDateTime tokenNotValidBefore = LocalDateTime.parse(token.getNotBefore(), dateTimeFormatter).atZone(ZoneId.of(&quot;GMT+2&quot;));\nif (!currentTime.isAfter(tokenNotValidBefore) || !currentTime.isBefore(tokenNotValidAfter)) {\n    throw new CifTokenExpiredException(ExceptionHandlerConfig.CIF_TOKEN_EXPIRED);\n}\n</code></pre>\n<p>Now locally everthing is working fine, when i deploy on cloud i get:</p>\n<pre><code>ZonedDateTime currentTime = LocalDateTime.now().atZone(ZoneId.of(&quot;GMT+2&quot;));\n</code></pre>\n<p>two hours behind.</p>\n<p>How can i solve this without adding two hours to currentTime? (doing like this locally will not work)</p>\n<p>Regards</p>\n"},{"tags":["java","gradle","intellij-idea","junit"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651590789,"post_id":72101563,"comment_id":127396712,"body_markdown":"Please add your build.gradle","body":"Please add your build.gradle"},{"owner":{"account_id":23004324,"reputation":93,"user_id":17127860,"display_name":"LDrof"},"score":0,"creation_date":1651591115,"post_id":72101563,"comment_id":127396845,"body_markdown":"Added it to the post","body":"Added it to the post"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651591886,"post_id":72101563,"comment_id":127397162,"body_markdown":"What version of gradle are you using?","body":"What version of gradle are you using?"},{"owner":{"account_id":23004324,"reputation":93,"user_id":17127860,"display_name":"LDrof"},"score":0,"creation_date":1651592104,"post_id":72101563,"comment_id":127397245,"body_markdown":"I am using version 7.4","body":"I am using version 7.4"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651592286,"post_id":72101563,"comment_id":127397316,"body_markdown":"Are you by any chance connected to a VPN (work for example) that might prevent you from downloading dependencies from Maven?","body":"Are you by any chance connected to a VPN (work for example) that might prevent you from downloading dependencies from Maven?"},{"owner":{"account_id":23004324,"reputation":93,"user_id":17127860,"display_name":"LDrof"},"score":0,"creation_date":1651592406,"post_id":72101563,"comment_id":127397361,"body_markdown":"I am connected to my work VPN","body":"I am connected to my work VPN"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":1,"creation_date":1651592665,"post_id":72101563,"comment_id":127397457,"body_markdown":"If you can disable VPN temporarily and try running the build again","body":"If you can disable VPN temporarily and try running the build again"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1651657318,"post_id":72101563,"comment_id":127413289,"body_markdown":"Does Gradle build from the command line work: `./gradlew build`? If it does not work, you should look into the networking configuration on your PC: for some reason, Gradle is unable to find remote Maven repositories to download dependencies.","body":"Does Gradle build from the command line work: <code>.&#47;gradlew build</code>? If it does not work, you should look into the networking configuration on your PC: for some reason, Gradle is unable to find remote Maven repositories to download dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2890770,"reputation":123,"user_id":2479622,"accept_rate":100,"display_name":"Hugo Hernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658437404,"creation_date":1658437404,"answer_id":73072590,"question_id":72101563,"body_markdown":"Maybe a little late for this but (for some unknown reason), in my case 5.8.1 version was not reachable from IntelliJ, when I switched to 5.8.2 it worked. ","title":"GradleTest:test: Could not resolve org.junit and and any dependency","body":"<p>Maybe a little late for this but (for some unknown reason), in my case 5.8.1 version was not reachable from IntelliJ, when I switched to 5.8.2 it worked.</p>\n"}],"owner":{"account_id":23004324,"reputation":93,"user_id":17127860,"display_name":"LDrof"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658437404,"creation_date":1651590692,"question_id":72101563,"body_markdown":"I created an Gradle project in IntelliJ, and everytime I build I run into errors with the dependencies, its always something like \r\n```\r\nGradleTest:test: Could not resolve org.junit\r\n```\r\nand \r\n```\r\nGradle Daemon started in 2 s 100 ms\r\n&gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\r\nCould not resolve: org.junit.jupiter:junit-jupiter-api:5.8.1\r\nCould not resolve: org.junit.jupiter:junit-jupiter-engine:5.8.1\r\nCould not resolve: org.junit.jupiter:junit-jupiter-api:5.8.1\r\nCould not resolve: org.junit.jupiter:junit-jupiter-engine:5.8.1\r\n\r\nBUILD SUCCESSFUL in 10s\r\n```\r\nEvery dependency that I add will run into the same error, I am not in offline mode and my jdk is ok\r\n\r\nmy build.gradle \r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```","title":"GradleTest:test: Could not resolve org.junit and and any dependency","body":"<p>I created an Gradle project in IntelliJ, and everytime I build I run into errors with the dependencies, its always something like</p>\n<pre><code>GradleTest:test: Could not resolve org.junit\n</code></pre>\n<p>and</p>\n<pre><code>Gradle Daemon started in 2 s 100 ms\n&gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\nCould not resolve: org.junit.jupiter:junit-jupiter-api:5.8.1\nCould not resolve: org.junit.jupiter:junit-jupiter-engine:5.8.1\nCould not resolve: org.junit.jupiter:junit-jupiter-api:5.8.1\nCould not resolve: org.junit.jupiter:junit-jupiter-engine:5.8.1\n\nBUILD SUCCESSFUL in 10s\n</code></pre>\n<p>Every dependency that I add will run into the same error, I am not in offline mode and my jdk is ok</p>\n<p>my build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","powershell","javac"],"answers":[{"tags":[],"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658436773,"creation_date":1658436773,"answer_id":73072519,"question_id":73067834,"body_markdown":"&lt;!-- language-all: sh --&gt;\r\n\r\n* An _unquoted_ `@` at the start of an argument is a PowerShell metacharacter and therefore needs to either be escaped as `` `@ `` or enclosed in a string literal.\r\n\r\n* In _Windows PowerShell_, `&gt;` creates &quot;Unicode&quot; (UTF-16LE) files by default, which `javac` most likely cannot handle.\r\n\r\n  * In _PowerShell (Core) 7+_, BOM-less UTF8 is now the (consistent) default, so `&gt;` would work as is.\r\n\r\n  * In _Windows PowerShell_, the simplest solution is to pipe to `Set-Content -Encoding Ascii`, assuming that the file names contain ASCII-range characters only.\r\n\r\n```\r\n# Create file &quot;files&quot; as an ASCII file.\r\n# Note: The Get-ChildItem call is `dir -n *.java` fully spelled out.\r\nGet-ChildItem -Name *.java | Set-Content -Encoding Ascii files\r\n\r\n# Escape @ as `@ to treat it literally.\r\njavac `@files\r\n```\r\n\r\nIf the file names contain non-ASCII characters and `javac` requires BOM-less UTF-8 encoding, more work is needed, because in Windows PowerShell you cannot directly create _BOM-less_ UTF-8 files - see [this answer](https://stackoverflow.com/a/66553739/45375).","title":"How do i create an argfile for use with javac in Powershell?","body":"\n<ul>\n<li><p>An <em>unquoted</em> <code>@</code> at the start of an argument is a PowerShell metacharacter and therefore needs to either be escaped as <code>`@</code> or enclosed in a string literal.</p>\n</li>\n<li><p>In <em>Windows PowerShell</em>, <code>&gt;</code> creates &quot;Unicode&quot; (UTF-16LE) files by default, which <code>javac</code> most likely cannot handle.</p>\n<ul>\n<li><p>In <em>PowerShell (Core) 7+</em>, BOM-less UTF8 is now the (consistent) default, so <code>&gt;</code> would work as is.</p>\n</li>\n<li><p>In <em>Windows PowerShell</em>, the simplest solution is to pipe to <code>Set-Content -Encoding Ascii</code>, assuming that the file names contain ASCII-range characters only.</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code># Create file &quot;files&quot; as an ASCII file.\n# Note: The Get-ChildItem call is `dir -n *.java` fully spelled out.\nGet-ChildItem -Name *.java | Set-Content -Encoding Ascii files\n\n# Escape @ as `@ to treat it literally.\njavac `@files\n</code></pre>\n<p>If the file names contain non-ASCII characters and <code>javac</code> requires BOM-less UTF-8 encoding, more work is needed, because in Windows PowerShell you cannot directly create <em>BOM-less</em> UTF-8 files - see <a href=\"https://stackoverflow.com/a/66553739/45375\">this answer</a>.</p>\n"}],"owner":{"account_id":23185735,"reputation":33,"user_id":17282873,"display_name":"jflemming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73072519,"answer_count":1,"score":2,"last_activity_date":1658436773,"creation_date":1658413023,"question_id":73067834,"body_markdown":"I have read this [documentation](https://docs.oracle.com/en/java/javase/13/docs/specs/man/javac.html#command-line-argument-files) including the section that exemplifies Command Line Argument Files but can&#39;t figure out how to get it working in PowerShell.  Here&#39;s what I have done:\r\n\r\nFirst, I can compile a Driver.java file using (in windows PowerShell, javac version 17.0.3):\r\n\r\n    &gt;&gt;javac Driver.java\r\n\r\nBut, I would like to figure out how to use argument files (`@filename`).\r\n\r\nI have tried to create a file called `files.txt` with 1 entry in it listed as `Driver.java` and then use javac with @file to specify what to compile:\r\n\r\n    PS-pluto&gt;&gt;dir -n *.java &gt;files\r\n    PS-pluto&gt;javac @files\r\n\r\n\r\nI tried creating `files`, and `files.txt`.  Driver.java is definitely the entry, but the javac command doesn&#39;t work.  I am running this from the folder where files and Driver are located.\r\n\r\nI read the answer to this [question](https://stackoverflow.com/questions/67121848/javac-splatting-operator-cannot-be-used-in-powershell-and-cmd) which indicated that I needed to add quotes, and tried this (again, with and without .txt):\r\n\r\n    PS-pluto&gt;&gt;dir -n *.java &gt;files\r\n    PS-pluto&gt;&gt;javac &quot;@files&quot;\r\n\r\nThis may work, but doesn&#39;t solve the problem.  Now I get a new error:\r\n\r\n    error: invalid flag: &#160;■Driver.java\r\n\r\nI have looked for hidden formatting in my txt file and only see the line return at the end of Driver.java.  Not sure what is wrong?\r\n\r\nI know in this simplistic case using an argument file is overkill, but I am simply trying to figure out how it works...and cannot.\r\n\r\nNOTE:  I already know how to compile this in an IDE or with a build tool.  I am trying to figure out how to do this in PowerShell, and admittedly, I am a novice PowerShell user.","title":"How do i create an argfile for use with javac in Powershell?","body":"<p>I have read this <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/javac.html#command-line-argument-files\" rel=\"nofollow noreferrer\">documentation</a> including the section that exemplifies Command Line Argument Files but can't figure out how to get it working in PowerShell.  Here's what I have done:</p>\n<p>First, I can compile a Driver.java file using (in windows PowerShell, javac version 17.0.3):</p>\n<pre><code>&gt;&gt;javac Driver.java\n</code></pre>\n<p>But, I would like to figure out how to use argument files (<code>@filename</code>).</p>\n<p>I have tried to create a file called <code>files.txt</code> with 1 entry in it listed as <code>Driver.java</code> and then use javac with @file to specify what to compile:</p>\n<pre><code>PS-pluto&gt;&gt;dir -n *.java &gt;files\nPS-pluto&gt;javac @files\n</code></pre>\n<p>I tried creating <code>files</code>, and <code>files.txt</code>.  Driver.java is definitely the entry, but the javac command doesn't work.  I am running this from the folder where files and Driver are located.</p>\n<p>I read the answer to this <a href=\"https://stackoverflow.com/questions/67121848/javac-splatting-operator-cannot-be-used-in-powershell-and-cmd\">question</a> which indicated that I needed to add quotes, and tried this (again, with and without .txt):</p>\n<pre><code>PS-pluto&gt;&gt;dir -n *.java &gt;files\nPS-pluto&gt;&gt;javac &quot;@files&quot;\n</code></pre>\n<p>This may work, but doesn't solve the problem.  Now I get a new error:</p>\n<pre><code>error: invalid flag:  ■Driver.java\n</code></pre>\n<p>I have looked for hidden formatting in my txt file and only see the line return at the end of Driver.java.  Not sure what is wrong?</p>\n<p>I know in this simplistic case using an argument file is overkill, but I am simply trying to figure out how it works...and cannot.</p>\n<p>NOTE:  I already know how to compile this in an IDE or with a build tool.  I am trying to figure out how to do this in PowerShell, and admittedly, I am a novice PowerShell user.</p>\n"},{"tags":["java","hibernate","jpa","jsf","persistence"],"owner":{"account_id":3347426,"reputation":183,"user_id":2812307,"accept_rate":50,"display_name":"Leandro Alsina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658436599,"creation_date":1658436599,"question_id":73072490,"body_markdown":"I&#39;m trying to write a Java JSF 2.3 app, with Primefaces and Hibernate as JPA provider.\r\nI&#39;m having trouble updating an entity that has a `SortedSet` of another entity.\r\nI made the minimal reproducible example.\r\n\r\nSo let&#39;s call them `EntityTest` like a parent entity and `EntityTestChild` like a child, as following:\r\n\r\n    @Entity\r\n    public class EntityTest implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String testString;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    @OrderBy(&quot;id ASC&quot;)\r\n    private SortedSet&lt;EntityTestChild&gt; childs = new TreeSet&lt;&gt;();\r\n    \r\n    //getters and setters for id, testString and childs. omitted for brevity.\r\n    //equals based on id, hashcode and toString omitted for brevity.\r\n\r\nThe other entity:\r\n\r\n    @Entity\r\n    public class EntityTestChild implements Serializable, Comparable&lt;EntityTestChild&gt; {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String stringChild;\r\n    \r\n    public EntityTestChild()\r\n    {\r\n        stringChild = &quot;Hi, I&#39;m a child&quot;;\r\n    }\r\n    //getters and setters, comparator, equals, hashcode and toString.\r\n\r\nWith a JSF page, I want to create and persist instances of parent entity `EntityTest`. And for each of them, I want to manage their child entities `EntityTestChild`\r\n\r\nSo for that I made a quick JSF page:\r\n[![Example page for managing entities][1]][1]\r\n\r\nJSF Page code:\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n          xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n        &lt;h:head&gt;\r\n            &lt;title&gt;Test&lt;/title&gt;\r\n        &lt;/h:head&gt;\r\n        &lt;h:body&gt;\r\n            This is a test \r\n            &lt;h:form id=&quot;testForm&quot;&gt; \r\n                &lt;p:inputText value=&quot;#{viewTestBean.testStr}&quot;/&gt;\r\n                &lt;br/&gt;\r\n                &lt;p:messages id=&quot;msgs&quot;/&gt;\r\n                &lt;br/&gt;\r\n                &lt;p:commandButton actionListener=&quot;#{viewTestBean.addToTable()}&quot;\r\n                                 value=&quot;add to table&quot;\r\n                                 update=&quot;@form&quot; \r\n                                 icon=&quot;pi pi-plus&quot;/&gt;\r\n                &lt;br/&gt;\r\n                &lt;p:commandButton actionListener=&quot;#{viewTestBean.setSelectedEntity(null)}&quot;\r\n                                 icon=&quot;pi pi-times&quot;\r\n                                 update=&quot;@form&quot;/&gt;\r\n                &lt;p:dataTable id=&quot;testTable&quot;\r\n                             value=&quot;#{viewTestBean.table}&quot;\r\n                             var=&quot;ent2&quot;&gt; \r\n                    &lt;p:column headerText=&quot;string&quot;&gt;\r\n                        &lt;h:outputText value=&quot;#{ent2.testString}&quot;/&gt;\r\n                    &lt;/p:column&gt;\r\n                    &lt;p:column headerText=&quot;Action&quot;&gt;\r\n                        &lt;p:commandButton icon=&quot;pi pi-check&quot;\r\n                                         update=&quot;@form&quot;\r\n                                         style=&quot;margin-right:10px&quot;\r\n                                         actionListener=&quot;#{viewTestBean.setSelectedEntity(ent2)}&quot;/&gt;\r\n                        &lt;p:commandButton icon=&quot;pi pi-trash&quot;\r\n                                         actionListener=&quot;#{viewTestBean.removeTableEnt(ent2)}&quot;\r\n                                         update=&quot;@form&quot;/&gt;\r\n                    &lt;/p:column&gt;\r\n                &lt;/p:dataTable&gt;\r\n                \r\n                &lt;h:panelGroup rendered=&quot;#{viewTestBean.selectedEntity != null}&quot;&gt;\r\n                    &lt;p:inputText value=&quot;#{viewTestBean.testStr2}&quot;/&gt;\r\n                    &lt;p:commandButton actionListener=&quot;#{viewTestBean.addChild()}&quot;\r\n                                     update=&quot;@form&quot;\r\n                                     value=&quot;add child&quot;\r\n                                     icon=&quot;pi pi-check&quot;/&gt;\r\n                    &lt;p:dataTable id=&quot;tableChilds&quot;\r\n                                 rendered=&quot;#{viewTestBean.selectedEntity != null}&quot;\r\n                                 value=&quot;#{viewTestBean.selectedEntity.childs}&quot;\r\n                                 var=&quot;child&quot;&gt;\r\n                        &lt;p:column headerText=&quot;child&quot;&gt;\r\n                            &lt;h:outputText value=&quot;#{child.stringChild}&quot;/&gt;\r\n                        &lt;/p:column&gt;\r\n                        &lt;p:column headerText=&quot;action&quot;&gt;\r\n                            &lt;p:commandButton update=&quot;@form&quot;\r\n                                             actionListener=&quot;#{viewTestBean.removeChild(child)}&quot;\r\n                                             icon=&quot;pi pi-trash&quot;/&gt;\r\n                        &lt;/p:column&gt;\r\n                    &lt;/p:dataTable&gt;\r\n                &lt;/h:panelGroup&gt;\r\n            &lt;/h:form&gt;\r\n        &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\nIt has a `ViewScoped` CDI bean as a backing bean:\r\n\r\n    @Named(value = &quot;viewTestBean&quot;)\r\n    @ViewScoped\r\n    public class ViewTestBean implements Serializable {\r\n     \r\n        @Inject\r\n        DataAppBean dataAppBean;\r\n        \r\n        private List&lt;EntityTest&gt; table;\r\n        \r\n        private String testStr;\r\n        private String testStr2;\r\n        private EntityTest selectedEntity;\r\n        \r\n        public ViewTestBean() {\r\n        }\r\n        \r\n        public void removeChild(EntityTestChild child)\r\n        {\r\n            selectedEntity.getChilds().remove(child);\r\n            try {\r\n                dataAppBean.getEntityTestJpaController().edit(selectedEntity);\r\n            }  catch (Exception ex) {}\r\n             \r\n            try {\r\n                dataAppBean.getEntityTestChildController().destroy(child.getId());\r\n            }  catch (Exception ex) {}\r\n        }\r\n        \r\n        public void addChild()\r\n        {\r\n            EntityTestChild newChild = new EntityTestChild();\r\n            newChild.setStringChild(testStr2);\r\n            try {\r\n                dataAppBean.getEntityTestChildController().create(newChild);\r\n            } catch (Exception ex) { }\r\n            \r\n            selectedEntity.getChilds().add(newChild);\r\n            \r\n            try {\r\n                dataAppBean.getEntityTestJpaController().edit(selectedEntity);\r\n            }  catch (Exception ex) { }\r\n        }\r\n    \r\n        public EntityTest getSelectedEntity() {\r\n            return selectedEntity;\r\n        }\r\n    \r\n        public void setSelectedEntity(EntityTest selectedEntity) {\r\n            this.selectedEntity = selectedEntity;\r\n        }\r\n       \r\n        public void addToTable()\r\n        {\r\n           EntityTest newEntity = new EntityTest();\r\n           newEntity.setTestString(testStr);\r\n           \r\n           try{dataAppBean.getEntityTestJpaController().create(newEntity);} \r\n           catch (Exception ex) { return; }\r\n           \r\n           getTable().add(newEntity);\r\n        }\r\n        \r\n        public void removeTableEnt(EntityTest ent)\r\n        {\r\n            if (selectedEntity == ent) selectedEntity = null;\r\n            try {\r\n                dataAppBean.getEntityTestJpaController().destroy(ent.getId());\r\n            } catch (Exception ex) { }\r\n            getTable().remove(ent);\r\n        }\r\n     \r\n        public List&lt;EntityTest&gt; getTable()\r\n        { \r\n            if (table == null)\r\n                table = dataAppBean.getEntityTestJpaController().findEntityTestEntities();\r\n              \r\n            return table;\r\n        }\r\n        \r\n        public String getTestStr() { return testStr; }\r\n        public void setTestStr(String testStr) { this.testStr = testStr; }\r\n        public String getTestStr2() { return testStr2; }\r\n        public void setTestStr2(String testStr2) { this.testStr2 = testStr2; }\r\n        \r\n    }\r\n\r\nWith a click in the Check button, we should see below the table for child entities.\r\n\r\n`DataAppBean` is an `ApplicationScoped` CDI bean. That is the data service, and holds the persistence helper classes.\r\n\r\n    @Named(value = &quot;dataAppBean&quot;)\r\n    @ApplicationScoped\r\n    public class DataAppBean {\r\n\r\n    private EntityTestJpaController entityTestController;\r\n    private EntityTestChildJpaController entityTestChildController;\r\n    private EntityManagerFactory emf;\r\n    private UserTransaction utx;\r\n\r\n    public EntityTestJpaController getEntityTestJpaController()\r\n    {\r\n        if (this.entityTestController == null)\r\n            this.entityTestController = new EntityTestJpaController(getUserTransaction(), getEntityManagerFactory());\r\n            return this.entityTestController; \r\n    }\r\n        \r\n    public EntityTestChildJpaController getEntityTestChildController()\r\n    {\r\n        if (this.entityTestChildController == null)\r\n            this.entityTestChildController = new EntityTestChildJpaController(getUserTransaction(), getEntityManagerFactory());\r\n        return this.entityTestChildController; \r\n    }\r\n\r\n    public EntityManagerFactory getEntityManagerFactory()\r\n    {\r\n        if (this.emf == null)\r\n            this.emf = Persistence.createEntityManagerFactory(&quot;ar.org.ptpchaco_SICasosTierras_war_1.0PU&quot;);\r\n        return this.emf;\r\n    }\r\n    \r\n    public UserTransaction getNewUserTransaction()\r\n    {\r\n        UserTransaction output = null;\r\n        \r\n        try {output = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);} \r\n        catch (NamingException ex) { }\r\n        \r\n        return output;\r\n    }\r\n    \r\n    public UserTransaction getUserTransaction()\r\n    {\r\n        if (this.utx == null)\r\n            this.utx = getNewUserTransaction(); \r\n        \r\n        return this.utx;\r\n    }\r\n\r\nThe JPA Controllers are auto generated with NetBeans 13 IDE. And looks like following:\r\n\r\n    public class EntityTestJpaController implements Serializable {\r\n\r\n    public EntityTestJpaController(UserTransaction utx, EntityManagerFactory emf) {\r\n        this.utx = utx;\r\n        this.emf = emf;\r\n    }\r\n    private UserTransaction utx = null;\r\n    private EntityManagerFactory emf = null;\r\n\r\n    public EntityManager getEntityManager() {\r\n        return emf.createEntityManager();\r\n    }\r\n\r\n    public void create(EntityTest entityTest) throws RollbackFailureException, Exception {\r\n        EntityManager em = null;\r\n        try {\r\n            utx.begin();\r\n            em = getEntityManager();\r\n            em.persist(entityTest);\r\n            utx.commit();\r\n        } catch (Exception ex) {\r\n            try {\r\n                utx.rollback();\r\n            } catch (Exception re) {\r\n                throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\r\n            }\r\n            throw ex;\r\n        } finally {\r\n            if (em != null) {\r\n                em.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void edit(EntityTest entityTest) throws NonexistentEntityException, RollbackFailureException, Exception {\r\n        EntityManager em = null;\r\n        try {\r\n            utx.begin();\r\n            em = getEntityManager();\r\n            entityTest = em.merge(entityTest);\r\n            utx.commit();\r\n        } catch (Exception ex) {\r\n            try {\r\n                utx.rollback();\r\n            } catch (Exception re) {\r\n                throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\r\n            }\r\n            String msg = ex.getLocalizedMessage();\r\n            if (msg == null || msg.length() == 0) {\r\n                Long id = entityTest.getId();\r\n                if (findEntityTest(id) == null) {\r\n                    throw new NonexistentEntityException(&quot;The entityTest with id &quot; + id + &quot; no longer exists.&quot;);\r\n                }\r\n            }\r\n            throw ex;\r\n        } finally {\r\n            if (em != null) {\r\n                em.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void destroy(Long id) throws NonexistentEntityException, RollbackFailureException, Exception {\r\n        EntityManager em = null;\r\n        try {\r\n            utx.begin();\r\n            em = getEntityManager();\r\n            EntityTest entityTest;\r\n            try {\r\n                entityTest = em.getReference(EntityTest.class, id);\r\n                entityTest.getId();\r\n            } catch (EntityNotFoundException enfe) {\r\n                throw new NonexistentEntityException(&quot;The entityTest with id &quot; + id + &quot; no longer exists.&quot;, enfe);\r\n            }\r\n            em.remove(entityTest);\r\n            utx.commit();\r\n        } catch (Exception ex) {\r\n            try {\r\n                utx.rollback();\r\n            } catch (Exception re) {\r\n                throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\r\n            }\r\n            throw ex;\r\n        } finally {\r\n            if (em != null) {\r\n                em.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public List&lt;EntityTest&gt; findEntityTestEntities() {\r\n        return findEntityTestEntities(true, -1, -1);\r\n    }\r\n\r\n    public List&lt;EntityTest&gt; findEntityTestEntities(int maxResults, int firstResult) {\r\n        return findEntityTestEntities(false, maxResults, firstResult);\r\n    }\r\n\r\n    private List&lt;EntityTest&gt; findEntityTestEntities(boolean all, int maxResults, int firstResult) {\r\n        EntityManager em = getEntityManager();\r\n        try {\r\n            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\r\n            cq.select(cq.from(EntityTest.class));\r\n            Query q = em.createQuery(cq);\r\n            if (!all) {\r\n                q.setMaxResults(maxResults);\r\n                q.setFirstResult(firstResult);\r\n            }\r\n            return q.getResultList();\r\n        } finally {\r\n            em.close();\r\n        }\r\n    }\r\n\r\nThis JPA controllers generated by NetBeans, wraps the `persist` operation with a `create` method, and `merge` operation with an `edit` method. It creates and find the entities but these are quickly detached because of the `em.close()` instruction. So every data the JSF app handles is always detached. Nothing is managed.\r\nBelow is `persistence.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;ar.org.ptpchaco_SICasosTierras_war_1.0PU&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;java:/JNDICasosTierras&lt;/jta-data-source&gt;\r\n       \r\n        &lt;class&gt;ar.org.ptpchaco.siconflictostierras.storage.EntityTest&lt;/class&gt;\r\n        &lt;class&gt;ar.org.ptpchaco.siconflictostierras.storage.EntityTestChild&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;false&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\nSo my logic is as following. I first create a parent entity, and `persist` it. The instance get an ID. the JPA controller executes the transaction and flushes into the database (MySQL). MySQL inserts the row in the table. Fine.\r\n\r\nThen I want to add a child to the parent entity. So I create the child, `persist` it. It receives and id. I add it to the `SortedSet` of the parent entity. And then try to `merge` the parent entity, for updating the SortedSet of child entities. That is done with the addChild() method.\r\n\r\nMy problem is. I load the page. Select any parent entity. Add a child, fine. Add a second child. Have an exception:\r\n\r\n&gt; 16:54:14,140 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1)\r\n&gt; SQL Error: 1062, SQLState: 23000\r\n&gt; 16:54:14,140 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1)\r\n&gt; **Duplicate entry &#39;8-28&#39; for key &#39;PRIMARY&#39;**\r\n&gt; 16:54:14,140 INFO  [org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl] (default\r\n&gt; task-1) HHH000010: On release of batch it still contained JDBC\r\n&gt; statements...\r\n\r\nBoth entities are inserted in the database, parent and child, but when I try to update the parent (for second time), the relationship join table `entitytest_entitytestchild` tries to insert a duplicate pair of keys.\r\n\r\nAs you can see I have no much clue..., and I suspect i&#39;m making so many things so wrong.\r\n\r\nPlease I need any advice on whatever I am doing wrong.\r\nWhy does it work on the first time?, and not on the second time?\r\nWhy Hibernate tries to insert two times the same pair of keys?\r\nWhat is the correct way of updating a parent entity that has a `List` or `Set` of other entities?\r\nIs my ApplicationScoped approach of a data service correct?\r\nThe `emf` and `utx` objects should live as long as app scoped?\r\n\r\nI&#39;m using:\r\nJSF 2.3\r\nPrimefaces 10\r\nJPA 2.1 with Hibernate 5.3 as persistence provider.\r\nMySQL 5.7 as database\r\nNetbeanas 13 as IDE\r\nWildfly 26 as server.\r\n\r\n  [1]: https://i.stack.imgur.com/NBEE6.png","title":"How to correctly update an entity that has a collection?","body":"<p>I'm trying to write a Java JSF 2.3 app, with Primefaces and Hibernate as JPA provider.\nI'm having trouble updating an entity that has a <code>SortedSet</code> of another entity.\nI made the minimal reproducible example.</p>\n<p>So let's call them <code>EntityTest</code> like a parent entity and <code>EntityTestChild</code> like a child, as following:</p>\n<pre><code>@Entity\npublic class EntityTest implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String testString;\n\n@OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\n@OrderBy(&quot;id ASC&quot;)\nprivate SortedSet&lt;EntityTestChild&gt; childs = new TreeSet&lt;&gt;();\n\n//getters and setters for id, testString and childs. omitted for brevity.\n//equals based on id, hashcode and toString omitted for brevity.\n</code></pre>\n<p>The other entity:</p>\n<pre><code>@Entity\npublic class EntityTestChild implements Serializable, Comparable&lt;EntityTestChild&gt; {\n\nprivate static final long serialVersionUID = 1L;\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String stringChild;\n\npublic EntityTestChild()\n{\n    stringChild = &quot;Hi, I'm a child&quot;;\n}\n//getters and setters, comparator, equals, hashcode and toString.\n</code></pre>\n<p>With a JSF page, I want to create and persist instances of parent entity <code>EntityTest</code>. And for each of them, I want to manage their child entities <code>EntityTestChild</code></p>\n<p>So for that I made a quick JSF page:\n<a href=\"https://i.stack.imgur.com/NBEE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBEE6.png\" alt=\"Example page for managing entities\" /></a></p>\n<p>JSF Page code:</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\n      xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;Test&lt;/title&gt;\n    &lt;/h:head&gt;\n    &lt;h:body&gt;\n        This is a test \n        &lt;h:form id=&quot;testForm&quot;&gt; \n            &lt;p:inputText value=&quot;#{viewTestBean.testStr}&quot;/&gt;\n            &lt;br/&gt;\n            &lt;p:messages id=&quot;msgs&quot;/&gt;\n            &lt;br/&gt;\n            &lt;p:commandButton actionListener=&quot;#{viewTestBean.addToTable()}&quot;\n                             value=&quot;add to table&quot;\n                             update=&quot;@form&quot; \n                             icon=&quot;pi pi-plus&quot;/&gt;\n            &lt;br/&gt;\n            &lt;p:commandButton actionListener=&quot;#{viewTestBean.setSelectedEntity(null)}&quot;\n                             icon=&quot;pi pi-times&quot;\n                             update=&quot;@form&quot;/&gt;\n            &lt;p:dataTable id=&quot;testTable&quot;\n                         value=&quot;#{viewTestBean.table}&quot;\n                         var=&quot;ent2&quot;&gt; \n                &lt;p:column headerText=&quot;string&quot;&gt;\n                    &lt;h:outputText value=&quot;#{ent2.testString}&quot;/&gt;\n                &lt;/p:column&gt;\n                &lt;p:column headerText=&quot;Action&quot;&gt;\n                    &lt;p:commandButton icon=&quot;pi pi-check&quot;\n                                     update=&quot;@form&quot;\n                                     style=&quot;margin-right:10px&quot;\n                                     actionListener=&quot;#{viewTestBean.setSelectedEntity(ent2)}&quot;/&gt;\n                    &lt;p:commandButton icon=&quot;pi pi-trash&quot;\n                                     actionListener=&quot;#{viewTestBean.removeTableEnt(ent2)}&quot;\n                                     update=&quot;@form&quot;/&gt;\n                &lt;/p:column&gt;\n            &lt;/p:dataTable&gt;\n            \n            &lt;h:panelGroup rendered=&quot;#{viewTestBean.selectedEntity != null}&quot;&gt;\n                &lt;p:inputText value=&quot;#{viewTestBean.testStr2}&quot;/&gt;\n                &lt;p:commandButton actionListener=&quot;#{viewTestBean.addChild()}&quot;\n                                 update=&quot;@form&quot;\n                                 value=&quot;add child&quot;\n                                 icon=&quot;pi pi-check&quot;/&gt;\n                &lt;p:dataTable id=&quot;tableChilds&quot;\n                             rendered=&quot;#{viewTestBean.selectedEntity != null}&quot;\n                             value=&quot;#{viewTestBean.selectedEntity.childs}&quot;\n                             var=&quot;child&quot;&gt;\n                    &lt;p:column headerText=&quot;child&quot;&gt;\n                        &lt;h:outputText value=&quot;#{child.stringChild}&quot;/&gt;\n                    &lt;/p:column&gt;\n                    &lt;p:column headerText=&quot;action&quot;&gt;\n                        &lt;p:commandButton update=&quot;@form&quot;\n                                         actionListener=&quot;#{viewTestBean.removeChild(child)}&quot;\n                                         icon=&quot;pi pi-trash&quot;/&gt;\n                    &lt;/p:column&gt;\n                &lt;/p:dataTable&gt;\n            &lt;/h:panelGroup&gt;\n        &lt;/h:form&gt;\n    &lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>It has a <code>ViewScoped</code> CDI bean as a backing bean:</p>\n<pre><code>@Named(value = &quot;viewTestBean&quot;)\n@ViewScoped\npublic class ViewTestBean implements Serializable {\n \n    @Inject\n    DataAppBean dataAppBean;\n    \n    private List&lt;EntityTest&gt; table;\n    \n    private String testStr;\n    private String testStr2;\n    private EntityTest selectedEntity;\n    \n    public ViewTestBean() {\n    }\n    \n    public void removeChild(EntityTestChild child)\n    {\n        selectedEntity.getChilds().remove(child);\n        try {\n            dataAppBean.getEntityTestJpaController().edit(selectedEntity);\n        }  catch (Exception ex) {}\n         \n        try {\n            dataAppBean.getEntityTestChildController().destroy(child.getId());\n        }  catch (Exception ex) {}\n    }\n    \n    public void addChild()\n    {\n        EntityTestChild newChild = new EntityTestChild();\n        newChild.setStringChild(testStr2);\n        try {\n            dataAppBean.getEntityTestChildController().create(newChild);\n        } catch (Exception ex) { }\n        \n        selectedEntity.getChilds().add(newChild);\n        \n        try {\n            dataAppBean.getEntityTestJpaController().edit(selectedEntity);\n        }  catch (Exception ex) { }\n    }\n\n    public EntityTest getSelectedEntity() {\n        return selectedEntity;\n    }\n\n    public void setSelectedEntity(EntityTest selectedEntity) {\n        this.selectedEntity = selectedEntity;\n    }\n   \n    public void addToTable()\n    {\n       EntityTest newEntity = new EntityTest();\n       newEntity.setTestString(testStr);\n       \n       try{dataAppBean.getEntityTestJpaController().create(newEntity);} \n       catch (Exception ex) { return; }\n       \n       getTable().add(newEntity);\n    }\n    \n    public void removeTableEnt(EntityTest ent)\n    {\n        if (selectedEntity == ent) selectedEntity = null;\n        try {\n            dataAppBean.getEntityTestJpaController().destroy(ent.getId());\n        } catch (Exception ex) { }\n        getTable().remove(ent);\n    }\n \n    public List&lt;EntityTest&gt; getTable()\n    { \n        if (table == null)\n            table = dataAppBean.getEntityTestJpaController().findEntityTestEntities();\n          \n        return table;\n    }\n    \n    public String getTestStr() { return testStr; }\n    public void setTestStr(String testStr) { this.testStr = testStr; }\n    public String getTestStr2() { return testStr2; }\n    public void setTestStr2(String testStr2) { this.testStr2 = testStr2; }\n    \n}\n</code></pre>\n<p>With a click in the Check button, we should see below the table for child entities.</p>\n<p><code>DataAppBean</code> is an <code>ApplicationScoped</code> CDI bean. That is the data service, and holds the persistence helper classes.</p>\n<pre><code>@Named(value = &quot;dataAppBean&quot;)\n@ApplicationScoped\npublic class DataAppBean {\n\nprivate EntityTestJpaController entityTestController;\nprivate EntityTestChildJpaController entityTestChildController;\nprivate EntityManagerFactory emf;\nprivate UserTransaction utx;\n\npublic EntityTestJpaController getEntityTestJpaController()\n{\n    if (this.entityTestController == null)\n        this.entityTestController = new EntityTestJpaController(getUserTransaction(), getEntityManagerFactory());\n        return this.entityTestController; \n}\n    \npublic EntityTestChildJpaController getEntityTestChildController()\n{\n    if (this.entityTestChildController == null)\n        this.entityTestChildController = new EntityTestChildJpaController(getUserTransaction(), getEntityManagerFactory());\n    return this.entityTestChildController; \n}\n\npublic EntityManagerFactory getEntityManagerFactory()\n{\n    if (this.emf == null)\n        this.emf = Persistence.createEntityManagerFactory(&quot;ar.org.ptpchaco_SICasosTierras_war_1.0PU&quot;);\n    return this.emf;\n}\n\npublic UserTransaction getNewUserTransaction()\n{\n    UserTransaction output = null;\n    \n    try {output = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);} \n    catch (NamingException ex) { }\n    \n    return output;\n}\n\npublic UserTransaction getUserTransaction()\n{\n    if (this.utx == null)\n        this.utx = getNewUserTransaction(); \n    \n    return this.utx;\n}\n</code></pre>\n<p>The JPA Controllers are auto generated with NetBeans 13 IDE. And looks like following:</p>\n<pre><code>public class EntityTestJpaController implements Serializable {\n\npublic EntityTestJpaController(UserTransaction utx, EntityManagerFactory emf) {\n    this.utx = utx;\n    this.emf = emf;\n}\nprivate UserTransaction utx = null;\nprivate EntityManagerFactory emf = null;\n\npublic EntityManager getEntityManager() {\n    return emf.createEntityManager();\n}\n\npublic void create(EntityTest entityTest) throws RollbackFailureException, Exception {\n    EntityManager em = null;\n    try {\n        utx.begin();\n        em = getEntityManager();\n        em.persist(entityTest);\n        utx.commit();\n    } catch (Exception ex) {\n        try {\n            utx.rollback();\n        } catch (Exception re) {\n            throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\n        }\n        throw ex;\n    } finally {\n        if (em != null) {\n            em.close();\n        }\n    }\n}\n\npublic void edit(EntityTest entityTest) throws NonexistentEntityException, RollbackFailureException, Exception {\n    EntityManager em = null;\n    try {\n        utx.begin();\n        em = getEntityManager();\n        entityTest = em.merge(entityTest);\n        utx.commit();\n    } catch (Exception ex) {\n        try {\n            utx.rollback();\n        } catch (Exception re) {\n            throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\n        }\n        String msg = ex.getLocalizedMessage();\n        if (msg == null || msg.length() == 0) {\n            Long id = entityTest.getId();\n            if (findEntityTest(id) == null) {\n                throw new NonexistentEntityException(&quot;The entityTest with id &quot; + id + &quot; no longer exists.&quot;);\n            }\n        }\n        throw ex;\n    } finally {\n        if (em != null) {\n            em.close();\n        }\n    }\n}\n\npublic void destroy(Long id) throws NonexistentEntityException, RollbackFailureException, Exception {\n    EntityManager em = null;\n    try {\n        utx.begin();\n        em = getEntityManager();\n        EntityTest entityTest;\n        try {\n            entityTest = em.getReference(EntityTest.class, id);\n            entityTest.getId();\n        } catch (EntityNotFoundException enfe) {\n            throw new NonexistentEntityException(&quot;The entityTest with id &quot; + id + &quot; no longer exists.&quot;, enfe);\n        }\n        em.remove(entityTest);\n        utx.commit();\n    } catch (Exception ex) {\n        try {\n            utx.rollback();\n        } catch (Exception re) {\n            throw new RollbackFailureException(&quot;An error occurred attempting to roll back the transaction.&quot;, re);\n        }\n        throw ex;\n    } finally {\n        if (em != null) {\n            em.close();\n        }\n    }\n}\n\npublic List&lt;EntityTest&gt; findEntityTestEntities() {\n    return findEntityTestEntities(true, -1, -1);\n}\n\npublic List&lt;EntityTest&gt; findEntityTestEntities(int maxResults, int firstResult) {\n    return findEntityTestEntities(false, maxResults, firstResult);\n}\n\nprivate List&lt;EntityTest&gt; findEntityTestEntities(boolean all, int maxResults, int firstResult) {\n    EntityManager em = getEntityManager();\n    try {\n        CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\n        cq.select(cq.from(EntityTest.class));\n        Query q = em.createQuery(cq);\n        if (!all) {\n            q.setMaxResults(maxResults);\n            q.setFirstResult(firstResult);\n        }\n        return q.getResultList();\n    } finally {\n        em.close();\n    }\n}\n</code></pre>\n<p>This JPA controllers generated by NetBeans, wraps the <code>persist</code> operation with a <code>create</code> method, and <code>merge</code> operation with an <code>edit</code> method. It creates and find the entities but these are quickly detached because of the <code>em.close()</code> instruction. So every data the JSF app handles is always detached. Nothing is managed.\nBelow is <code>persistence.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;ar.org.ptpchaco_SICasosTierras_war_1.0PU&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:/JNDICasosTierras&lt;/jta-data-source&gt;\n   \n    &lt;class&gt;ar.org.ptpchaco.siconflictostierras.storage.EntityTest&lt;/class&gt;\n    &lt;class&gt;ar.org.ptpchaco.siconflictostierras.storage.EntityTestChild&lt;/class&gt;\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot;/&gt;\n      &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;false&quot;/&gt;\n      &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>So my logic is as following. I first create a parent entity, and <code>persist</code> it. The instance get an ID. the JPA controller executes the transaction and flushes into the database (MySQL). MySQL inserts the row in the table. Fine.</p>\n<p>Then I want to add a child to the parent entity. So I create the child, <code>persist</code> it. It receives and id. I add it to the <code>SortedSet</code> of the parent entity. And then try to <code>merge</code> the parent entity, for updating the SortedSet of child entities. That is done with the addChild() method.</p>\n<p>My problem is. I load the page. Select any parent entity. Add a child, fine. Add a second child. Have an exception:</p>\n<blockquote>\n<p>16:54:14,140 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1)\nSQL Error: 1062, SQLState: 23000\n16:54:14,140 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1)\n<strong>Duplicate entry '8-28' for key 'PRIMARY'</strong>\n16:54:14,140 INFO  [org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl] (default\ntask-1) HHH000010: On release of batch it still contained JDBC\nstatements...</p>\n</blockquote>\n<p>Both entities are inserted in the database, parent and child, but when I try to update the parent (for second time), the relationship join table <code>entitytest_entitytestchild</code> tries to insert a duplicate pair of keys.</p>\n<p>As you can see I have no much clue..., and I suspect i'm making so many things so wrong.</p>\n<p>Please I need any advice on whatever I am doing wrong.\nWhy does it work on the first time?, and not on the second time?\nWhy Hibernate tries to insert two times the same pair of keys?\nWhat is the correct way of updating a parent entity that has a <code>List</code> or <code>Set</code> of other entities?\nIs my ApplicationScoped approach of a data service correct?\nThe <code>emf</code> and <code>utx</code> objects should live as long as app scoped?</p>\n<p>I'm using:\nJSF 2.3\nPrimefaces 10\nJPA 2.1 with Hibernate 5.3 as persistence provider.\nMySQL 5.7 as database\nNetbeanas 13 as IDE\nWildfly 26 as server.</p>\n"},{"tags":["java","pdfbox","servlet-3.0"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1658314642,"post_id":73047785,"comment_id":129019435,"body_markdown":"Is the image on the server, too, located at `D:\\MyProject\\src\\Img2.png`? And does the account your web application runs as have permissions to access that file?","body":"Is the image on the server, too, located at <code>D:\\MyProject\\src\\Img2.png</code>? And does the account your web application runs as have permissions to access that file?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1658315239,"post_id":73047785,"comment_id":129019655,"body_markdown":"You may want to learn about using resources. (be careful with the filtering if you&#39;re using maven) https://mkyong.com/java/java-read-a-file-from-resources-folder/","body":"You may want to learn about using resources. (be careful with the filtering if you&#39;re using maven) <a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-read-a-file-from-resources-folder</a>"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658470054,"post_id":73047785,"comment_id":129063351,"body_markdown":"Please see [ask]","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"owner":{"account_id":25851070,"reputation":21,"user_id":19585055,"display_name":"ABHIJIT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1658435552,"creation_date":1658303222,"question_id":73047785,"body_markdown":"I am using PDFBox to create PDF invoice in servlet, and the image is working in the local system but whenever trying to upload it on the server, it is not working\r\n```\r\nPDImageXObject pdImage = PDImageXObject.createFromFile(&quot;D:\\\\MyProject\\\\src\\\\Img2.png&quot;, invc);\r\nPDPageContentStream cs = new PDPageContentStream(invc, mypage);\r\ncs.drawImage(pdImage, 42, 670);\r\ncs.beginText();\r\ncs.newLineAtOffset(117, 724);\r\ncs.endText();\r\n```\r\nWhenever giving the local path of the image it is showing in the pdf invoice, but after making it a war file upload to the server is getting the error: &quot;Can&#39;t read input file&quot;.","title":"How to upload the image for the PDF to the server?","body":"<p>I am using PDFBox to create PDF invoice in servlet, and the image is working in the local system but whenever trying to upload it on the server, it is not working</p>\n<pre><code>PDImageXObject pdImage = PDImageXObject.createFromFile(&quot;D:\\\\MyProject\\\\src\\\\Img2.png&quot;, invc);\nPDPageContentStream cs = new PDPageContentStream(invc, mypage);\ncs.drawImage(pdImage, 42, 670);\ncs.beginText();\ncs.newLineAtOffset(117, 724);\ncs.endText();\n</code></pre>\n<p>Whenever giving the local path of the image it is showing in the pdf invoice, but after making it a war file upload to the server is getting the error: &quot;Can't read input file&quot;.</p>\n"},{"tags":["java","bash","auto-populate"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1658339306,"post_id":73052154,"comment_id":129029706,"body_markdown":"Please [edit] your question to include that Java program in the question as a [mcve]. Does it even read from stdin? If that program expects input in a GUI, it&#39;s likely it does not support this way of working and you&#39;ll have to modify the code to either accept command line arguments or read from stdin. This could not be desirable as it can be a security problem when your credentials show up in log files like command history and the `ps` output.","body":"Please <a href=\"https://stackoverflow.com/posts/73052154/edit\">edit</a> your question to include that Java program in the question as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Does it even read from stdin? If that program expects input in a GUI, it&#39;s likely it does not support this way of working and you&#39;ll have to modify the code to either accept command line arguments or read from stdin. This could not be desirable as it can be a security problem when your credentials show up in log files like command history and the <code>ps</code> output."},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1658364597,"post_id":73052154,"comment_id":129035814,"body_markdown":"Look into `expect`","body":"Look into <code>expect</code>"}],"owner":{"account_id":2638961,"reputation":1,"user_id":2283037,"display_name":"Hunkah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658435055,"creation_date":1658322215,"question_id":73052154,"body_markdown":"I have to run the same java-based program every day from a Linux command prompt.  I would like to somehow auto-populate my login and password into the pop-up window.  Is that at all possible?  I&#39;ve tried:\r\n```\r\n./SuperAdmin &lt;&lt;EOF\r\nusername\r\npassword\r\nEOF\r\n```\r\nand \r\n```\r\necho -e &quot;username\\npassword\\n&quot; | ./SuperAdmin\r\n```\r\nand\r\n```\r\n./SuperAdmin &lt;&lt;&lt;$(printf &quot;username\\npassword\\n&quot;)\r\n```\r\nNone of these work.  \r\n\r\nIt&#39;s like once the java program has begun to run, control is taken by the program, and nothing can be done to populate the un:pw fields from bash.","title":"Auto-populate Java Login details from bash","body":"<p>I have to run the same java-based program every day from a Linux command prompt.  I would like to somehow auto-populate my login and password into the pop-up window.  Is that at all possible?  I've tried:</p>\n<pre><code>./SuperAdmin &lt;&lt;EOF\nusername\npassword\nEOF\n</code></pre>\n<p>and</p>\n<pre><code>echo -e &quot;username\\npassword\\n&quot; | ./SuperAdmin\n</code></pre>\n<p>and</p>\n<pre><code>./SuperAdmin &lt;&lt;&lt;$(printf &quot;username\\npassword\\n&quot;)\n</code></pre>\n<p>None of these work.</p>\n<p>It's like once the java program has begun to run, control is taken by the program, and nothing can be done to populate the un:pw fields from bash.</p>\n"},{"tags":["java","zip"],"answers":[{"tags":[],"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":295,"is_accepted":true,"score":294,"last_activity_date":1559299498,"creation_date":1246966109,"answer_id":1091817,"question_id":1091788,"body_markdown":"Look at this example:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;Test String&quot;);\r\n\r\n    File f = new File(&quot;d:\\\\test.zip&quot;);\r\n    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(f));\r\n    ZipEntry e = new ZipEntry(&quot;mytext.txt&quot;);\r\n    out.putNextEntry(e);\r\n\r\n    byte[] data = sb.toString().getBytes();\r\n    out.write(data, 0, data.length);\r\n    out.closeEntry();\r\n\r\n    out.close();\r\n\r\nThis will create a zip in the root of `D:` named `test.zip` which will contain one single file called `mytext.txt`. Of course you can add more zip entries and also specify a subdirectory like this:\r\n\r\n    ZipEntry e = new ZipEntry(&quot;folderName/mytext.txt&quot;);\r\n\r\nYou can find more information about compression with Java [here](https://docs.oracle.com/javase/8/docs/api/java/util/zip/package-summary.html).\r\n\r\n","title":"How to create a zip file in Java","body":"<p>Look at this example:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"Test String\");\n\nFile f = new File(\"d:\\\\test.zip\");\nZipOutputStream out = new ZipOutputStream(new FileOutputStream(f));\nZipEntry e = new ZipEntry(\"mytext.txt\");\nout.putNextEntry(e);\n\nbyte[] data = sb.toString().getBytes();\nout.write(data, 0, data.length);\nout.closeEntry();\n\nout.close();\n</code></pre>\n\n<p>This will create a zip in the root of <code>D:</code> named <code>test.zip</code> which will contain one single file called <code>mytext.txt</code>. Of course you can add more zip entries and also specify a subdirectory like this:</p>\n\n<pre><code>ZipEntry e = new ZipEntry(\"folderName/mytext.txt\");\n</code></pre>\n\n<p>You can find more information about compression with Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/package-summary.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":45516,"reputation":441,"user_id":134200,"display_name":"WiseGeek"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1246966755,"creation_date":1246966755,"answer_id":1091851,"question_id":1091788,"body_markdown":"To write a ZIP file, you use a ZipOutputStream. For each entry that you want to place into the ZIP file, you create a ZipEntry object. You pass the file name to the ZipEntry constructor; it sets the other parameters such as file date and decompression method. You can override these settings if you like. Then, you call the putNextEntry method of the ZipOutputStream to begin writing a new file. Send the file data to the ZIP stream. When you are done, call closeEntry. Repeat for all the files you want to store. Here is a code skeleton:\r\n\r\n    FileOutputStream fout = new FileOutputStream(&quot;test.zip&quot;);\r\n    ZipOutputStream zout = new ZipOutputStream(fout);\r\n    for all files\r\n    {\r\n        ZipEntry ze = new ZipEntry(filename);\r\n        zout.putNextEntry(ze);\r\n        send data to zout;\r\n        zout.closeEntry();\r\n    }\r\n    zout.close();\r\n\r\n","title":"How to create a zip file in Java","body":"<p>To write a ZIP file, you use a ZipOutputStream. For each entry that you want to place into the ZIP file, you create a ZipEntry object. You pass the file name to the ZipEntry constructor; it sets the other parameters such as file date and decompression method. You can override these settings if you like. Then, you call the putNextEntry method of the ZipOutputStream to begin writing a new file. Send the file data to the ZIP stream. When you are done, call closeEntry. Repeat for all the files you want to store. Here is a code skeleton:</p>\n\n<pre><code>FileOutputStream fout = new FileOutputStream(\"test.zip\");\nZipOutputStream zout = new ZipOutputStream(fout);\nfor all files\n{\n    ZipEntry ze = new ZipEntry(filename);\n    zout.putNextEntry(ze);\n    send data to zout;\n    zout.closeEntry();\n}\nzout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1343477885,"creation_date":1336901819,"answer_id":10570728,"question_id":1091788,"body_markdown":"    public static void main(String args[])\r\n    {\r\n        omtZip(&quot;res/&quot;, &quot;omt.zip&quot;);\r\n    }\r\n    public static void omtZip(String path,String outputFile)\r\n    {\r\n        final int BUFFER = 2048;\r\n        boolean isEntry = false;\r\n        ArrayList&lt;String&gt; directoryList = new ArrayList&lt;String&gt;();\r\n        File f = new File(path);\r\n        if(f.exists())\r\n        {\r\n        try {\r\n                FileOutputStream fos = new FileOutputStream(outputFile);\r\n                ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(fos));\r\n                byte data[] = new byte[BUFFER];\r\n \r\n                if(f.isDirectory())\r\n                {\r\n                   //This is Directory\r\n                    do{\r\n                        String directoryName = &quot;&quot;;\r\n                        if(directoryList.size() &gt; 0)\r\n                        {\r\n                            directoryName = directoryList.get(0);\r\n                            System.out.println(&quot;Directory Name At 0 :&quot;+directoryName);\r\n                        }\r\n                        String fullPath = path+directoryName;\r\n                        File fileList = null;\r\n                        if(directoryList.size() == 0)\r\n                        {\r\n                            //Main path (Root Directory)\r\n                            fileList = f;\r\n                        }else\r\n                        {\r\n                            //Child Directory\r\n                            fileList = new File(fullPath);\r\n                        }\r\n                        String[] filesName = fileList.list();\r\n \r\n                        int totalFiles = filesName.length;\r\n                        for(int i = 0 ; i &lt; totalFiles ; i++)\r\n                        {\r\n                            String name = filesName[i];\r\n                            File filesOrDir = new File(fullPath+name);\r\n                            if(filesOrDir.isDirectory())\r\n                            {\r\n                                System.out.println(&quot;New Directory Entry :&quot;+directoryName+name+&quot;/&quot;);\r\n                                ZipEntry entry = new ZipEntry(directoryName+name+&quot;/&quot;);\r\n                                zos.putNextEntry(entry);\r\n                                isEntry = true;\r\n                                directoryList.add(directoryName+name+&quot;/&quot;);\r\n                            }else\r\n                            {\r\n                                System.out.println(&quot;New File Entry :&quot;+directoryName+name);\r\n                                ZipEntry entry = new ZipEntry(directoryName+name);\r\n                                zos.putNextEntry(entry);\r\n                                isEntry = true;\r\n                                FileInputStream fileInputStream = new FileInputStream(filesOrDir);\r\n                                BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream, BUFFER);\r\n                                int size = -1;\r\n                                while(  (size = bufferedInputStream.read(data, 0, BUFFER)) != -1  )\r\n                                {\r\n                                    zos.write(data, 0, size);\r\n                                }\r\n                                bufferedInputStream.close();\r\n                            }\r\n                        }\r\n                        if(directoryList.size() &gt; 0 &amp;&amp; directoryName.trim().length() &gt; 0)\r\n                        {\r\n                            System.out.println(&quot;Directory removed :&quot;+directoryName);\r\n                            directoryList.remove(0);\r\n                        }\r\n \r\n                    }while(directoryList.size() &gt; 0);\r\n                }else\r\n                {\r\n                    //This is File\r\n                    //Zip this file\r\n                    System.out.println(&quot;Zip this file :&quot;+f.getPath());\r\n                    FileInputStream fis = new FileInputStream(f);\r\n                    BufferedInputStream bis = new BufferedInputStream(fis,BUFFER);\r\n                    ZipEntry entry = new ZipEntry(f.getName());\r\n                    zos.putNextEntry(entry);\r\n                    isEntry = true;\r\n                    int size = -1 ;\r\n                    while(( size = bis.read(data,0,BUFFER)) != -1)\r\n                    {\r\n                        zos.write(data, 0, size);\r\n                    }\r\n                }               \r\n \r\n                //CHECK IS THERE ANY ENTRY IN ZIP ? ----START\r\n                if(isEntry)\r\n                {\r\n                  zos.close();\r\n                }else\r\n                {\r\n                    zos = null;\r\n                    System.out.println(&quot;No Entry Found in Zip&quot;);\r\n                }\r\n                //CHECK IS THERE ANY ENTRY IN ZIP ? ----START\r\n            }catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }else\r\n        {\r\n            System.out.println(&quot;File or Directory not found&quot;);\r\n        }\r\n     }    \r\n\r\n    }\r\n\r\n","title":"How to create a zip file in Java","body":"<pre><code>public static void main(String args[])\n{\n    omtZip(\"res/\", \"omt.zip\");\n}\npublic static void omtZip(String path,String outputFile)\n{\n    final int BUFFER = 2048;\n    boolean isEntry = false;\n    ArrayList&lt;String&gt; directoryList = new ArrayList&lt;String&gt;();\n    File f = new File(path);\n    if(f.exists())\n    {\n    try {\n            FileOutputStream fos = new FileOutputStream(outputFile);\n            ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(fos));\n            byte data[] = new byte[BUFFER];\n\n            if(f.isDirectory())\n            {\n               //This is Directory\n                do{\n                    String directoryName = \"\";\n                    if(directoryList.size() &gt; 0)\n                    {\n                        directoryName = directoryList.get(0);\n                        System.out.println(\"Directory Name At 0 :\"+directoryName);\n                    }\n                    String fullPath = path+directoryName;\n                    File fileList = null;\n                    if(directoryList.size() == 0)\n                    {\n                        //Main path (Root Directory)\n                        fileList = f;\n                    }else\n                    {\n                        //Child Directory\n                        fileList = new File(fullPath);\n                    }\n                    String[] filesName = fileList.list();\n\n                    int totalFiles = filesName.length;\n                    for(int i = 0 ; i &lt; totalFiles ; i++)\n                    {\n                        String name = filesName[i];\n                        File filesOrDir = new File(fullPath+name);\n                        if(filesOrDir.isDirectory())\n                        {\n                            System.out.println(\"New Directory Entry :\"+directoryName+name+\"/\");\n                            ZipEntry entry = new ZipEntry(directoryName+name+\"/\");\n                            zos.putNextEntry(entry);\n                            isEntry = true;\n                            directoryList.add(directoryName+name+\"/\");\n                        }else\n                        {\n                            System.out.println(\"New File Entry :\"+directoryName+name);\n                            ZipEntry entry = new ZipEntry(directoryName+name);\n                            zos.putNextEntry(entry);\n                            isEntry = true;\n                            FileInputStream fileInputStream = new FileInputStream(filesOrDir);\n                            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream, BUFFER);\n                            int size = -1;\n                            while(  (size = bufferedInputStream.read(data, 0, BUFFER)) != -1  )\n                            {\n                                zos.write(data, 0, size);\n                            }\n                            bufferedInputStream.close();\n                        }\n                    }\n                    if(directoryList.size() &gt; 0 &amp;&amp; directoryName.trim().length() &gt; 0)\n                    {\n                        System.out.println(\"Directory removed :\"+directoryName);\n                        directoryList.remove(0);\n                    }\n\n                }while(directoryList.size() &gt; 0);\n            }else\n            {\n                //This is File\n                //Zip this file\n                System.out.println(\"Zip this file :\"+f.getPath());\n                FileInputStream fis = new FileInputStream(f);\n                BufferedInputStream bis = new BufferedInputStream(fis,BUFFER);\n                ZipEntry entry = new ZipEntry(f.getName());\n                zos.putNextEntry(entry);\n                isEntry = true;\n                int size = -1 ;\n                while(( size = bis.read(data,0,BUFFER)) != -1)\n                {\n                    zos.write(data, 0, size);\n                }\n            }               \n\n            //CHECK IS THERE ANY ENTRY IN ZIP ? ----START\n            if(isEntry)\n            {\n              zos.close();\n            }else\n            {\n                zos = null;\n                System.out.println(\"No Entry Found in Zip\");\n            }\n            //CHECK IS THERE ANY ENTRY IN ZIP ? ----START\n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }else\n    {\n        System.out.println(\"File or Directory not found\");\n    }\n }    \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":527903,"reputation":2938,"user_id":1605852,"display_name":"Sivabalan"},"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1559293585,"creation_date":1444110112,"answer_id":32962488,"question_id":1091788,"body_markdown":"Java 7 has ZipFileSystem built in, that can be used to create, write and read file from zip file.\r\n\r\n[Java Doc: ZipFileSystem Provider][1]\r\n\r\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n    // Create the zip file if it doesn&#39;t exist\r\n    env.put(&quot;create&quot;, &quot;true&quot;);\r\n    \r\n    URI uri = URI.create(&quot;jar:file:/codeSamples/zipfs/zipfstest.zip&quot;);\r\n\r\n    try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n\t    Path externalTxtFile = Paths.get(&quot;/codeSamples/zipfs/SomeTextFile.txt&quot;);\r\n\t    Path pathInZipfile = zipfs.getPath(&quot;/SomeTextFile.txt&quot;);          \r\n\t    // Copy a file into the zip file\r\n\t    Files.copy(externalTxtFile, pathInZipfile, StandardCopyOption.REPLACE_EXISTING); \r\n    }\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html","title":"How to create a zip file in Java","body":"<p>Java 7 has ZipFileSystem built in, that can be used to create, write and read file from zip file.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"noreferrer\">Java Doc: ZipFileSystem Provider</a></p>\n\n<pre><code>Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n// Create the zip file if it doesn't exist\nenv.put(\"create\", \"true\");\n\nURI uri = URI.create(\"jar:file:/codeSamples/zipfs/zipfstest.zip\");\n\ntry (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n    Path externalTxtFile = Paths.get(\"/codeSamples/zipfs/SomeTextFile.txt\");\n    Path pathInZipfile = zipfs.getPath(\"/SomeTextFile.txt\");          \n    // Copy a file into the zip file\n    Files.copy(externalTxtFile, pathInZipfile, StandardCopyOption.REPLACE_EXISTING); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228888,"reputation":1314,"user_id":491479,"accept_rate":14,"display_name":"cmujica"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658434989,"creation_date":1453836401,"answer_id":35022202,"question_id":1091788,"body_markdown":"If you want decompress without software better use this code. Other code with pdf files sends error on manually decompress \r\n\r\n\r\n```java\r\nbyte[] buffer = new byte[1024];\r\n\r\ntry {\r\n   \r\n   FileOutputStream fos = new FileOutputStream(&quot;123.zip&quot;);\r\n   ZipOutputStream zos = new ZipOutputStream(fos);\r\n   ZipEntry ze= new ZipEntry(&quot;file.pdf&quot;);\r\n   zos.putNextEntry(ze);\r\n\r\n   FileInputStream in = new FileInputStream(&quot;file.pdf&quot;);\r\n   int len;\r\n\r\n   while ((len = in.read(buffer)) &gt; 0) {\r\n      zos.write(buffer, 0, len);\r\n   }\r\n\r\n   in.close();\r\n   zos.closeEntry();\r\n   zos.close();\r\n\r\n} catch(IOException ex) {\r\n   ex.printStackTrace();\r\n}\r\n```","title":"How to create a zip file in Java","body":"<p>If you want decompress without software better use this code. Other code with pdf files sends error on manually decompress</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] buffer = new byte[1024];\n\ntry {\n   \n   FileOutputStream fos = new FileOutputStream(&quot;123.zip&quot;);\n   ZipOutputStream zos = new ZipOutputStream(fos);\n   ZipEntry ze= new ZipEntry(&quot;file.pdf&quot;);\n   zos.putNextEntry(ze);\n\n   FileInputStream in = new FileInputStream(&quot;file.pdf&quot;);\n   int len;\n\n   while ((len = in.read(buffer)) &gt; 0) {\n      zos.write(buffer, 0, len);\n   }\n\n   in.close();\n   zos.closeEntry();\n   zos.close();\n\n} catch(IOException ex) {\n   ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6777090,"reputation":119,"user_id":6452974,"display_name":"Yuiffy"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1484311860,"creation_date":1484311860,"answer_id":41635081,"question_id":1091788,"body_markdown":"Spring boot controller, zip the files in a directory, and can be downloaded.\r\n\r\n    @RequestMapping(value = &quot;/files.zip&quot;)\r\n    @ResponseBody\r\n    byte[] filesZip() throws IOException {\r\n        File dir = new File(&quot;./&quot;);\r\n        File[] filesArray = dir.listFiles();\r\n        if (filesArray == null || filesArray.length == 0)\r\n            System.out.println(dir.getAbsolutePath() + &quot; have no file!&quot;);\r\n        ByteArrayOutputStream bo = new ByteArrayOutputStream();\r\n        ZipOutputStream zipOut= new ZipOutputStream(bo);\r\n        for(File xlsFile:filesArray){\r\n            if(!xlsFile.isFile())continue;\r\n            ZipEntry zipEntry = new ZipEntry(xlsFile.getName());\r\n            zipOut.putNextEntry(zipEntry);\r\n            zipOut.write(IOUtils.toByteArray(new FileInputStream(xlsFile)));\r\n            zipOut.closeEntry();\r\n        }\r\n        zipOut.close();\r\n        return bo.toByteArray();\r\n    }","title":"How to create a zip file in Java","body":"<p>Spring boot controller, zip the files in a directory, and can be downloaded.</p>\n\n<pre><code>@RequestMapping(value = \"/files.zip\")\n@ResponseBody\nbyte[] filesZip() throws IOException {\n    File dir = new File(\"./\");\n    File[] filesArray = dir.listFiles();\n    if (filesArray == null || filesArray.length == 0)\n        System.out.println(dir.getAbsolutePath() + \" have no file!\");\n    ByteArrayOutputStream bo = new ByteArrayOutputStream();\n    ZipOutputStream zipOut= new ZipOutputStream(bo);\n    for(File xlsFile:filesArray){\n        if(!xlsFile.isFile())continue;\n        ZipEntry zipEntry = new ZipEntry(xlsFile.getName());\n        zipOut.putNextEntry(zipEntry);\n        zipOut.write(IOUtils.toByteArray(new FileInputStream(xlsFile)));\n        zipOut.closeEntry();\n    }\n    zipOut.close();\n    return bo.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1836945,"reputation":168,"user_id":1667117,"display_name":"Siraj K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1494253014,"creation_date":1494253014,"answer_id":43850016,"question_id":1091788,"body_markdown":"Since it took me a while to figure it out, I thought it would be helpful to post my solution using Java 7+ ZipFileSystem \r\n\r\n     openZip(runFile);\r\n     \r\n     addToZip(filepath); //loop construct;  \r\n     \r\n     zipfs.close();\r\n\r\n\t private void openZip(File runFile) throws IOException {\r\n\t\tMap&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n\t\tenv.put(&quot;create&quot;, &quot;true&quot;);\r\n\t\tenv.put(&quot;encoding&quot;, &quot;UTF-8&quot;);\r\n\t\tFiles.deleteIfExists(runFile.toPath());\r\n\t\tzipfs = FileSystems.newFileSystem(URI.create(&quot;jar:&quot; + runFile.toURI().toString()), env);\t\r\n\t }\r\n\r\n\t private void addToZip(String filename) throws IOException {\r\n\t\tPath externalTxtFile = Paths.get(filename).toAbsolutePath();\r\n\t\tPath pathInZipfile = zipfs.getPath(filename.substring(filename.lastIndexOf(&quot;results&quot;))); //all files to be stored have a common base folder, results/ in my case\r\n\t\tif (Files.isDirectory(externalTxtFile)) {\r\n\t\t\tFiles.createDirectories(pathInZipfile);\r\n            try (DirectoryStream&lt;Path&gt; ds = Files.newDirectoryStream(externalTxtFile)) {\r\n                for (Path child : ds) {\r\n                \taddToZip(child.normalize().toString()); //recursive call\r\n                }\r\n            }\r\n\t\t} else {\r\n\t\t\t// copy file to zip file\r\n\t\t\tFiles.copy(externalTxtFile, pathInZipfile, StandardCopyOption.REPLACE_EXISTING); \t\t\t\r\n\t\t}\r\n\t }","title":"How to create a zip file in Java","body":"<p>Since it took me a while to figure it out, I thought it would be helpful to post my solution using Java 7+ ZipFileSystem </p>\n\n<pre><code> openZip(runFile);\n\n addToZip(filepath); //loop construct;  \n\n zipfs.close();\n\n private void openZip(File runFile) throws IOException {\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n    env.put(\"create\", \"true\");\n    env.put(\"encoding\", \"UTF-8\");\n    Files.deleteIfExists(runFile.toPath());\n    zipfs = FileSystems.newFileSystem(URI.create(\"jar:\" + runFile.toURI().toString()), env);    \n }\n\n private void addToZip(String filename) throws IOException {\n    Path externalTxtFile = Paths.get(filename).toAbsolutePath();\n    Path pathInZipfile = zipfs.getPath(filename.substring(filename.lastIndexOf(\"results\"))); //all files to be stored have a common base folder, results/ in my case\n    if (Files.isDirectory(externalTxtFile)) {\n        Files.createDirectories(pathInZipfile);\n        try (DirectoryStream&lt;Path&gt; ds = Files.newDirectoryStream(externalTxtFile)) {\n            for (Path child : ds) {\n                addToZip(child.normalize().toString()); //recursive call\n            }\n        }\n    } else {\n        // copy file to zip file\n        Files.copy(externalTxtFile, pathInZipfile, StandardCopyOption.REPLACE_EXISTING);            \n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3287918,"reputation":8035,"user_id":2766879,"display_name":"Owen Cao"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1554789993,"creation_date":1496888982,"answer_id":44425696,"question_id":1091788,"body_markdown":"Here is an example code to compress **a Whole Directory**(including sub files and sub directories), it&#39;s using the walk file tree feature of Java NIO.\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    public class ZipCompress {\r\n        public static void compress(String dirPath) {\r\n            final Path sourceDir = Paths.get(dirPath);\r\n            String zipFileName = dirPath.concat(&quot;.zip&quot;);\r\n            try {\r\n                final ZipOutputStream outputStream = new ZipOutputStream(new FileOutputStream(zipFileName));\r\n                Files.walkFileTree(sourceDir, new SimpleFileVisitor&lt;Path&gt;() {\r\n                    @Override\r\n                    public FileVisitResult visitFile(Path file, BasicFileAttributes attributes) {\r\n                        try {\r\n                            Path targetFile = sourceDir.relativize(file);\r\n                            outputStream.putNextEntry(new ZipEntry(targetFile.toString()));\r\n                            byte[] bytes = Files.readAllBytes(file);\r\n                            outputStream.write(bytes, 0, bytes.length);\r\n                            outputStream.closeEntry();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        return FileVisitResult.CONTINUE;\r\n                    }\r\n                });\r\n                outputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nTo use this, just call\r\n\r\n    ZipCompress.compress(&quot;target/directoryToCompress&quot;);\r\n\r\nand you&#39;ll get a zip file directoryToCompress.zip\r\n\r\n","title":"How to create a zip file in Java","body":"<p>Here is an example code to compress <strong>a Whole Directory</strong>(including sub files and sub directories), it's using the walk file tree feature of Java NIO.</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipCompress {\n    public static void compress(String dirPath) {\n        final Path sourceDir = Paths.get(dirPath);\n        String zipFileName = dirPath.concat(\".zip\");\n        try {\n            final ZipOutputStream outputStream = new ZipOutputStream(new FileOutputStream(zipFileName));\n            Files.walkFileTree(sourceDir, new SimpleFileVisitor&lt;Path&gt;() {\n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attributes) {\n                    try {\n                        Path targetFile = sourceDir.relativize(file);\n                        outputStream.putNextEntry(new ZipEntry(targetFile.toString()));\n                        byte[] bytes = Files.readAllBytes(file);\n                        outputStream.write(bytes, 0, bytes.length);\n                        outputStream.closeEntry();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>To use this, just call</p>\n\n<pre><code>ZipCompress.compress(\"target/directoryToCompress\");\n</code></pre>\n\n<p>and you'll get a zip file directoryToCompress.zip</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539964187,"creation_date":1539964187,"answer_id":52895898,"question_id":1091788,"body_markdown":"This is how you create a zip file from a source file:\r\n\r\n    String srcFilename = &quot;C:/myfile.txt&quot;;\r\n    String zipFile = &quot;C:/myfile.zip&quot;;\r\n    \r\n    try {\r\n    \tbyte[] buffer = new byte[1024];\r\n    \tFileOutputStream fos = new FileOutputStream(zipFile);\r\n    \tZipOutputStream zos = new ZipOutputStream(fos);\t\t\t\r\n    \tFile srcFile = new File(srcFilename);\r\n    \tFileInputStream fis = new FileInputStream(srcFile);\r\n    \tzos.putNextEntry(new ZipEntry(srcFile.getName()));\t\t\t\r\n    \tint length;\r\n    \twhile ((length = fis.read(buffer)) &gt; 0) {\r\n    \t\tzos.write(buffer, 0, length);\r\n    \t}\r\n    \tzos.closeEntry();\r\n    \tfis.close();\r\n    \tzos.close();\t\t\t\r\n    }\r\n    catch (IOException ioe) {\r\n    \tSystem.out.println(&quot;Error creating zip file&quot; + ioe);\r\n    }","title":"How to create a zip file in Java","body":"<p>This is how you create a zip file from a source file:</p>\n\n<pre><code>String srcFilename = \"C:/myfile.txt\";\nString zipFile = \"C:/myfile.zip\";\n\ntry {\n    byte[] buffer = new byte[1024];\n    FileOutputStream fos = new FileOutputStream(zipFile);\n    ZipOutputStream zos = new ZipOutputStream(fos);         \n    File srcFile = new File(srcFilename);\n    FileInputStream fis = new FileInputStream(srcFile);\n    zos.putNextEntry(new ZipEntry(srcFile.getName()));          \n    int length;\n    while ((length = fis.read(buffer)) &gt; 0) {\n        zos.write(buffer, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n    zos.close();            \n}\ncatch (IOException ioe) {\n    System.out.println(\"Error creating zip file\" + ioe);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1340857,"reputation":2577,"user_id":1282532,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550136333,"creation_date":1550136333,"answer_id":54687000,"question_id":1091788,"body_markdown":"Single file:\r\n\r\n    String filePath = &quot;/absolute/path/file1.txt&quot;;\r\n    String zipPath = &quot;/absolute/path/output.zip&quot;;\r\n    \r\n    try (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipPath))) {\r\n        File fileToZip = new File(filePath);\r\n        zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n        Files.copy(fileToZip.toPath(), zipOut);\r\n    }\r\n\r\nMultiple files:\r\n\r\n    List&lt;String&gt; filePaths = Arrays.asList(&quot;/absolute/path/file1.txt&quot;, &quot;/absolute/path/file2.txt&quot;);\r\n    String zipPath = &quot;/absolute/path/output.zip&quot;;\r\n    \r\n    try (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipPath))) {\r\n        for (String filePath : filePaths) {\r\n            File fileToZip = new File(filePath);\r\n            zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n            Files.copy(fileToZip.toPath(), zipOut);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to create a zip file in Java","body":"<p>Single file:</p>\n\n<pre><code>String filePath = \"/absolute/path/file1.txt\";\nString zipPath = \"/absolute/path/output.zip\";\n\ntry (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipPath))) {\n    File fileToZip = new File(filePath);\n    zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n    Files.copy(fileToZip.toPath(), zipOut);\n}\n</code></pre>\n\n<p>Multiple files:</p>\n\n<pre><code>List&lt;String&gt; filePaths = Arrays.asList(\"/absolute/path/file1.txt\", \"/absolute/path/file2.txt\");\nString zipPath = \"/absolute/path/output.zip\";\n\ntry (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipPath))) {\n    for (String filePath : filePaths) {\n        File fileToZip = new File(filePath);\n        zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n        Files.copy(fileToZip.toPath(), zipOut);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15500900,"reputation":1,"user_id":11411612,"display_name":"鄒成立"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1552273624,"creation_date":1552273624,"answer_id":55094724,"question_id":1091788,"body_markdown":"    public static void zipFromTxt(String zipFilePath, String txtFilePath) {\r\n        Assert.notNull(zipFilePath, &quot;Zip file path is required&quot;);\r\n        Assert.notNull(txtFilePath, &quot;Txt file path is required&quot;);\r\n        zipFromTxt(new File(zipFilePath), new File(txtFilePath));\r\n    }\r\n\r\n    public static void zipFromTxt(File zipFile, File txtFile) {\r\n        ZipOutputStream out = null;\r\n        FileInputStream in = null;\r\n        try {\r\n            Assert.notNull(zipFile, &quot;Zip file is required&quot;);\r\n            Assert.notNull(txtFile, &quot;Txt file is required&quot;);\r\n            out = new ZipOutputStream(new FileOutputStream(zipFile));\r\n            in = new FileInputStream(txtFile);\r\n            out.putNextEntry(new ZipEntry(txtFile.getName()));\r\n            int len;\r\n            byte[] buffer = new byte[1024];\r\n            while ((len = in.read(buffer)) &gt; 0) {\r\n                out.write(buffer, 0, len);\r\n                out.flush();\r\n            }\r\n        } catch (Exception e) {\r\n            log.info(&quot;Zip from txt occur error,Detail message:{}&quot;, e.toString());\r\n        } finally {\r\n            try {\r\n                if (in != null) in.close();\r\n                if (out != null) {\r\n                    out.closeEntry();\r\n                    out.close();\r\n                }\r\n            } catch (Exception e) {\r\n                log.info(&quot;Zip from txt close error,Detail message:{}&quot;, e.toString());\r\n            }\r\n        }\r\n    }","title":"How to create a zip file in Java","body":"<pre><code>public static void zipFromTxt(String zipFilePath, String txtFilePath) {\n    Assert.notNull(zipFilePath, \"Zip file path is required\");\n    Assert.notNull(txtFilePath, \"Txt file path is required\");\n    zipFromTxt(new File(zipFilePath), new File(txtFilePath));\n}\n\npublic static void zipFromTxt(File zipFile, File txtFile) {\n    ZipOutputStream out = null;\n    FileInputStream in = null;\n    try {\n        Assert.notNull(zipFile, \"Zip file is required\");\n        Assert.notNull(txtFile, \"Txt file is required\");\n        out = new ZipOutputStream(new FileOutputStream(zipFile));\n        in = new FileInputStream(txtFile);\n        out.putNextEntry(new ZipEntry(txtFile.getName()));\n        int len;\n        byte[] buffer = new byte[1024];\n        while ((len = in.read(buffer)) &gt; 0) {\n            out.write(buffer, 0, len);\n            out.flush();\n        }\n    } catch (Exception e) {\n        log.info(\"Zip from txt occur error,Detail message:{}\", e.toString());\n    } finally {\n        try {\n            if (in != null) in.close();\n            if (out != null) {\n                out.closeEntry();\n                out.close();\n            }\n        } catch (Exception e) {\n            log.info(\"Zip from txt close error,Detail message:{}\", e.toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400721,"reputation":8383,"user_id":766855,"accept_rate":100,"display_name":"Camilo Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557594388,"creation_date":1557594388,"answer_id":56092541,"question_id":1091788,"body_markdown":"Given `exportPath` and `queryResults` as String variables, the following block creates a `results.zip` file under `exportPath` and writes the content of `queryResults` to a `results.txt` file inside the zip.\r\n\r\n    URI uri = URI.create(&quot;jar:file:&quot; + exportPath + &quot;/results.zip&quot;);\r\n    Map&lt;String, String&gt; env = Collections.singletonMap(&quot;create&quot;, &quot;true&quot;);\r\n\r\n    try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n      Path filePath = zipfs.getPath(&quot;/results.txt&quot;);\r\n      byte[] fileContent = queryResults.getBytes();\r\n\r\n      Files.write(filePath, fileContent, StandardOpenOption.CREATE);\r\n    }","title":"How to create a zip file in Java","body":"<p>Given <code>exportPath</code> and <code>queryResults</code> as String variables, the following block creates a <code>results.zip</code> file under <code>exportPath</code> and writes the content of <code>queryResults</code> to a <code>results.txt</code> file inside the zip.</p>\n\n<pre><code>URI uri = URI.create(\"jar:file:\" + exportPath + \"/results.zip\");\nMap&lt;String, String&gt; env = Collections.singletonMap(\"create\", \"true\");\n\ntry (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n  Path filePath = zipfs.getPath(\"/results.txt\");\n  byte[] fileContent = queryResults.getBytes();\n\n  Files.write(filePath, fileContent, StandardOpenOption.CREATE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5971054,"reputation":9,"user_id":4693365,"display_name":"Tarpan Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562046161,"creation_date":1561627784,"answer_id":56788033,"question_id":1091788,"body_markdown":"You have mainly to create two functions. First is writeToZipFile() and second is createZipfileForOutPut .... and then call the createZipfileForOutPut(&#39;file name of .zip&#39;)` …\r\n\r\n\r\n     public static void writeToZipFile(String path, ZipOutputStream zipStream)\r\n            throws FileNotFoundException, IOException {\r\n\r\n        System.out.println(&quot;Writing file : &#39;&quot; + path + &quot;&#39; to zip file&quot;);\r\n\r\n        File aFile = new File(path);\r\n        FileInputStream fis = new FileInputStream(aFile);\r\n        ZipEntry zipEntry = new ZipEntry(path);\r\n        zipStream.putNextEntry(zipEntry);\r\n\r\n        byte[] bytes = new byte[1024];\r\n        int length;\r\n        while ((length = fis.read(bytes)) &gt;= 0) {\r\n            zipStream.write(bytes, 0, length);\r\n        }\r\n\r\n        zipStream.closeEntry();\r\n        fis.close();\r\n    }\r\n\r\n    public static void createZipfileForOutPut(String filename) {\r\n        String home = System.getProperty(&quot;user.home&quot;);\r\n       // File directory = new File(home + &quot;/Documents/&quot; + &quot;AutomationReport&quot;);\r\n        File directory = new File(&quot;AutomationReport&quot;);\r\n        if (!directory.exists()) {\r\n            directory.mkdir();\r\n        }\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(&quot;Path to your destination&quot; + filename + &quot;.zip&quot;);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n\r\n            writeToZipFile(&quot;Path to file which you want to compress / zip&quot;, zos);\r\n\r\n            \r\n            zos.close();\r\n            fos.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"How to create a zip file in Java","body":"<p>You have mainly to create two functions. First is writeToZipFile() and second is createZipfileForOutPut .... and then call the createZipfileForOutPut('file name of .zip')` …</p>\n\n<pre><code> public static void writeToZipFile(String path, ZipOutputStream zipStream)\n        throws FileNotFoundException, IOException {\n\n    System.out.println(\"Writing file : '\" + path + \"' to zip file\");\n\n    File aFile = new File(path);\n    FileInputStream fis = new FileInputStream(aFile);\n    ZipEntry zipEntry = new ZipEntry(path);\n    zipStream.putNextEntry(zipEntry);\n\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zipStream.write(bytes, 0, length);\n    }\n\n    zipStream.closeEntry();\n    fis.close();\n}\n\npublic static void createZipfileForOutPut(String filename) {\n    String home = System.getProperty(\"user.home\");\n   // File directory = new File(home + \"/Documents/\" + \"AutomationReport\");\n    File directory = new File(\"AutomationReport\");\n    if (!directory.exists()) {\n        directory.mkdir();\n    }\n    try {\n        FileOutputStream fos = new FileOutputStream(\"Path to your destination\" + filename + \".zip\");\n        ZipOutputStream zos = new ZipOutputStream(fos);\n\n        writeToZipFile(\"Path to file which you want to compress / zip\", zos);\n\n\n        zos.close();\n        fos.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6308350,"reputation":11,"user_id":4900752,"display_name":"Jerome Angibaud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562695735,"creation_date":1562695735,"answer_id":56958388,"question_id":1091788,"body_markdown":"Using Jeka https://jeka.dev JkPathTree, it&#39;s quite straightforward.\r\n\r\n```\r\nPath wholeDirToZip = Paths.get(&quot;dir/to/zip&quot;);\r\nPath zipFile = Paths.get(&quot;file.zip&quot;);\r\nJkPathTree.of(wholeDirToZip).zipTo(zipFile);\r\n```","title":"How to create a zip file in Java","body":"<p>Using Jeka <a href=\"https://jeka.dev\" rel=\"nofollow noreferrer\">https://jeka.dev</a> JkPathTree, it's quite straightforward.</p>\n\n<pre><code>Path wholeDirToZip = Paths.get(\"dir/to/zip\");\nPath zipFile = Paths.get(\"file.zip\");\nJkPathTree.of(wholeDirToZip).zipTo(zipFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1589849674,"creation_date":1589849674,"answer_id":61881468,"question_id":1091788,"body_markdown":"There is another option by using `zip4j` at https://github.com/srikanth-lingala/zip4j\r\n\r\nCreating a zip file with single file in it / Adding single file to an existing zip\r\n\r\n`new ZipFile(&quot;filename.zip&quot;).addFile(&quot;filename.ext&quot;);`\r\n   Or\r\n\r\n`new ZipFile(&quot;filename.zip&quot;).addFile(new File(&quot;filename.ext&quot;));`\r\n\r\nCreating a zip file with multiple files / Adding multiple files to an existing zip\r\n\r\n`new ZipFile(&quot;filename.zip&quot;).addFiles(Arrays.asList(new File(&quot;first_file&quot;), new File(&quot;second_file&quot;)));`\r\n\r\nCreating a zip file by adding a folder to it / Adding a folder to an existing zip\r\n\r\n`new ZipFile(&quot;filename.zip&quot;).addFolder(new File(&quot;/user/myuser/folder_to_add&quot;));`\r\n\r\nCreating a zip file from stream / Adding a stream to an existing zip\r\n`new ZipFile(&quot;filename.zip&quot;).addStream(inputStream, new ZipParameters());`","title":"How to create a zip file in Java","body":"<p>There is another option by using <code>zip4j</code> at <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">https://github.com/srikanth-lingala/zip4j</a></p>\n\n<p>Creating a zip file with single file in it / Adding single file to an existing zip</p>\n\n<p><code>new ZipFile(\"filename.zip\").addFile(\"filename.ext\");</code>\n   Or</p>\n\n<p><code>new ZipFile(\"filename.zip\").addFile(new File(\"filename.ext\"));</code></p>\n\n<p>Creating a zip file with multiple files / Adding multiple files to an existing zip</p>\n\n<p><code>new ZipFile(\"filename.zip\").addFiles(Arrays.asList(new File(\"first_file\"), new File(\"second_file\")));</code></p>\n\n<p>Creating a zip file by adding a folder to it / Adding a folder to an existing zip</p>\n\n<p><code>new ZipFile(\"filename.zip\").addFolder(new File(\"/user/myuser/folder_to_add\"));</code></p>\n\n<p>Creating a zip file from stream / Adding a stream to an existing zip\n<code>new ZipFile(\"filename.zip\").addStream(inputStream, new ZipParameters());</code></p>\n"},{"tags":[],"owner":{"account_id":374518,"reputation":167,"user_id":5061840,"display_name":"Tevfik Kiziloren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618849137,"creation_date":1618849137,"answer_id":67165668,"question_id":1091788,"body_markdown":"I know this question is answered but if you have a list of strings and you want to create a separate file for each string in the archive, you can use the snippet below. \r\n\r\n      \r\n    public void zipFileTest() throws IOException {\r\n\r\n        Map&lt;String, String&gt; map = Map.ofEntries(\r\n                new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File1.txt&quot;, &quot;File1 Content&quot;),\r\n                new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File2.txt&quot;, &quot;File2 Content&quot;),\r\n                new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File3.txt&quot;, &quot;File3 Content&quot;)\r\n        );\r\n\r\n        createZipFileFromStringContents(map, &quot;archive.zip&quot;);\r\n\r\n    }\r\n\r\n    public void createZipFileFromStringContents(Map&lt;String, String&gt; map, String zipfilePath) throws IOException {\r\n\r\n        FileOutputStream fout = new FileOutputStream(zipfilePath);\r\n        ZipOutputStream zout = new ZipOutputStream(fout);\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n            String fileName = entry.getKey();\r\n            ZipEntry zipFile = new ZipEntry(fileName);\r\n            zout.putNextEntry(zipFile);\r\n            String fileContent = entry.getValue();\r\n            zout.write(fileContent.getBytes(), 0, fileContent.getBytes().length);\r\n            zout.closeEntry();\r\n        }\r\n\r\n        zout.close();\r\n    }\r\n\r\nIt will create a zip file with the structure as in the below image:\r\n\r\n  [![zip file structure][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/1QzP6.png","title":"How to create a zip file in Java","body":"<p>I know this question is answered but if you have a list of strings and you want to create a separate file for each string in the archive, you can use the snippet below.</p>\n<pre><code>public void zipFileTest() throws IOException {\n\n    Map&lt;String, String&gt; map = Map.ofEntries(\n            new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File1.txt&quot;, &quot;File1 Content&quot;),\n            new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File2.txt&quot;, &quot;File2 Content&quot;),\n            new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;File3.txt&quot;, &quot;File3 Content&quot;)\n    );\n\n    createZipFileFromStringContents(map, &quot;archive.zip&quot;);\n\n}\n\npublic void createZipFileFromStringContents(Map&lt;String, String&gt; map, String zipfilePath) throws IOException {\n\n    FileOutputStream fout = new FileOutputStream(zipfilePath);\n    ZipOutputStream zout = new ZipOutputStream(fout);\n\n    for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n        String fileName = entry.getKey();\n        ZipEntry zipFile = new ZipEntry(fileName);\n        zout.putNextEntry(zipFile);\n        String fileContent = entry.getValue();\n        zout.write(fileContent.getBytes(), 0, fileContent.getBytes().length);\n        zout.closeEntry();\n    }\n\n    zout.close();\n}\n</code></pre>\n<p>It will create a zip file with the structure as in the below image:</p>\n<p><a href=\"https://i.stack.imgur.com/1QzP6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1QzP6.png\" alt=\"zip file structure\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2185649,"reputation":121,"user_id":1934124,"accept_rate":60,"display_name":"dkero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643900621,"creation_date":1643900621,"answer_id":70973608,"question_id":1091788,"body_markdown":"Here is my working solution:\r\n\r\n    public static byte[] createZipFile(Map&lt;String, FileData&gt; files) throws IOException {\r\n    \ttry(ByteArrayOutputStream tZipFile = new ByteArrayOutputStream()) {\r\n    \t\ttry (ZipOutputStream tZipFileOut = new ZipOutputStream(tZipFile)) {\r\n    \t\t\tfor (Map.Entry&lt;String, FileData&gt; file : files.entrySet()) {\r\n    \t\t        ZipEntry zipEntry = new ZipEntry(file.getValue().getFileName());\r\n    \t\t        tZipFileOut.putNextEntry(zipEntry);\r\n    \t\t        tZipFileOut.write(file.getValue().getBytes());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn tZipFile.toByteArray();\r\n    \t}\r\n    }\r\n    \r\n    public class FileData {\r\n       \tprivate String fileName;\r\n    \tprivate byte[] bytes;\r\n    \r\n    \tpublic String getFileName() {\r\n    \t\treturn this.fileName;\r\n    \t}\r\n    \r\n    \tpublic byte[] getBytes() {\r\n    \t\treturn this.bytes;\r\n    \t}\r\n    }\r\n\r\nThis will create byte[] of ZIP file which contains one or more compressed files. I&#39;ve used this method inside controller method and write bytes[] of ZIP file into response to download ZIP file(s) from server.","title":"How to create a zip file in Java","body":"<p>Here is my working solution:</p>\n<pre><code>public static byte[] createZipFile(Map&lt;String, FileData&gt; files) throws IOException {\n    try(ByteArrayOutputStream tZipFile = new ByteArrayOutputStream()) {\n        try (ZipOutputStream tZipFileOut = new ZipOutputStream(tZipFile)) {\n            for (Map.Entry&lt;String, FileData&gt; file : files.entrySet()) {\n                ZipEntry zipEntry = new ZipEntry(file.getValue().getFileName());\n                tZipFileOut.putNextEntry(zipEntry);\n                tZipFileOut.write(file.getValue().getBytes());\n            }\n        }\n\n        return tZipFile.toByteArray();\n    }\n}\n\npublic class FileData {\n    private String fileName;\n    private byte[] bytes;\n\n    public String getFileName() {\n        return this.fileName;\n    }\n\n    public byte[] getBytes() {\n        return this.bytes;\n    }\n}\n</code></pre>\n<p>This will create byte[] of ZIP file which contains one or more compressed files. I've used this method inside controller method and write bytes[] of ZIP file into response to download ZIP file(s) from server.</p>\n"}],"owner":{"account_id":45445,"reputation":6225,"user_id":133943,"accept_rate":100,"display_name":"Ashish Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327098,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"accepted_answer_id":1091817,"answer_count":17,"score":178,"last_activity_date":1658434989,"creation_date":1246965751,"question_id":1091788,"body_markdown":"I have a dynamic text file that picks content from a database according to the user&#39;s query. I have to write this content into a text file and zip it in a folder in a servlet. How should I do this?","title":"How to create a zip file in Java","body":"<p>I have a dynamic text file that picks content from a database according to the user's query. I have to write this content into a text file and zip it in a folder in a servlet. How should I do this?</p>\n"},{"tags":["java","automation","sikuli"],"answers":[{"tags":[],"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1495086641,"creation_date":1495086641,"answer_id":44039564,"question_id":44039330,"body_markdown":"There is no way Sikuli can make the right choice for you. It can only locate a matching are based on your pattern (color in this case). To work around this issue you should provide some reference points that are unique and can be used to &quot;help&quot; Sikuli find the right match. For example, if the pattern you are interested in is located at the left side of the screen, then you can limit the search to the left side of the screen only. Or if you have a unique visual object in the are of interested you can use it as a pivot and look only around it.\r\n\r\nOn top of that, if you have few similar items appear in some ordered fashion (one under another for example), you can let Sikuli find all of them, calculate their coordinates and select the object you need based on these coordinates.","title":"Sikuli can&#39;t tell colors apart","body":"<p>There is no way Sikuli can make the right choice for you. It can only locate a matching are based on your pattern (color in this case). To work around this issue you should provide some reference points that are unique and can be used to \"help\" Sikuli find the right match. For example, if the pattern you are interested in is located at the left side of the screen, then you can limit the search to the left side of the screen only. Or if you have a unique visual object in the are of interested you can use it as a pivot and look only around it.</p>\n\n<p>On top of that, if you have few similar items appear in some ordered fashion (one under another for example), you can let Sikuli find all of them, calculate their coordinates and select the object you need based on these coordinates.</p>\n"},{"tags":[],"owner":{"account_id":10973984,"reputation":1,"user_id":8063196,"display_name":"Asma Rauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496661441,"creation_date":1496661441,"answer_id":44367748,"question_id":44039330,"body_markdown":"Here&#39;s something that might help. Create a Region and try to find the image in that region as in example in the link \r\nhttp://seleniumqg.blogspot.com/2017/06/findfailed-exception-in-sikuili-script.html?m=1\r\n","title":"Sikuli can&#39;t tell colors apart","body":"<p>Here's something that might help. Create a Region and try to find the image in that region as in example in the link \n<a href=\"http://seleniumqg.blogspot.com/2017/06/findfailed-exception-in-sikuili-script.html?m=1\" rel=\"nofollow noreferrer\">http://seleniumqg.blogspot.com/2017/06/findfailed-exception-in-sikuili-script.html?m=1</a></p>\n"},{"tags":[],"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658434909,"creation_date":1657892345,"answer_id":72994915,"question_id":44039330,"body_markdown":"\r\nSearching using color is possible with **Brobot**, a state-based, testable, automation framework for Java. Brobot wraps Sikuli methods and uses Sikuli variables such as Match in its core functionality. Its color methods depend heavily on matrix operations with OpenCV. The [Brobot documentation][docs] gives more detailed information on the framework. Additionally, there is a page in the documentation specifically for [color searches][color-doc].\r\n\r\n  [docs]: https://jspinak.github.io/brobot/  \r\n  [color-doc]: https://jspinak.github.io/brobot/docs/introduction/finding-objects/using-color  \r\n\r\n# Color Selection Methods #  \r\nThere are 3 methods used to identify which colors to search for.  \r\n1.\t**Color averaging**. The average color of all pixels is determined from all image files (a single Brobot image can contain multiple image files). The range of acceptable colors around the target color can be adjusted, as well as the required size of the color region.\r\n2.\t**K-Means**. Images that contain a variety of colors are not suitable to color averaging. The k-Means method from OpenCV finds the salient colors in an image, which are then used in the search. Adjustable options include the number of k-Means, acceptable color range, and required size.\r\n3.\t**Histogram**. Brobot divides images into 5 regions (4 corners + the middle region) in order to preserve some spatial color characteristics (for example, blue sky on the top of an image will not match blue sea on the bottom of an image). The search can be adjusted by color range, as well as the number of histogram bins for hue, saturation, and value.  \r\n\r\n# Chained Find Operations #  \r\nEach of these color methods can be used independently or combined with the traditional Sikuli pattern searches by chaining find operations together. There are two main flavors of chained find operations:\r\n1.\t**Nested finds**. Matches are searched for inside the matches from the previous find operation. The last find operation is responsible for providing the function’s return value. \r\n2.\t**Confirmed finds**. The matches from the first find operation are filtered by the results of following find operations. The later find operations act as confirmation or rejection of the initial matches. Confirmed matches from the first find operation are returned.  \r\n\r\n[Documentation for nested finds and confirmed finds][chained] \r\n\r\n  [chained]: https://jspinak.github.io/brobot/docs/introduction/finding-objects/combining-finds \r\n\r\n# Finding the Red Image #  \r\nFor your specific question, it would be best to use a chain of two find operations, set up as a _confirmed find_. The first operation would be a pattern search (equivalent to findAll in Sikuli) and the second operation, the confirmation operation, would be a color search.  \r\n\r\nActions in Brobot are built with:  \r\n1.\tThe action configuration (an ActionOptions variable)\r\n2.\tThe objects to act on (images, regions, locations, etc.)  \r\n\r\nBrobot encourages defining states with a collection of images that belong together. The code below assumes you have a state StateWithRedImage that contains the image RedImage. The results are returned in a Matches object, which contains information about the matches and the action performed.   \r\n \r\n```\r\npublic class RedImageFinder {\r\n\r\n    private final Action action;\r\n    private final StateWithRedImage stateWithRedImage;\r\n\r\n    public RedImageFinder(Action action, StateWithRedImage stateWithRedImage) {\r\n        this.action = action;\r\n        this.stateWithRedImage = stateWithRedImage;\r\n    }\r\n\r\n    public Matches find() {\r\n        ActionOptions actionOptions = new ActionOptions.Builder()\r\n                .setAction(ActionOptions.Action.FIND)\r\n                .setFind(ActionOptions.Find.ALL)\r\n                .addFind(ActionOptions.Find.COLOR)\r\n                .keepLargerMatches(true)\r\n                .build();\r\n        return action.perform(actionOptions, stateWithRedImage.getRedImage());\r\n    }\r\n}\r\n```\r\n\r\n_Disclaimer_: I&#39;m the developer of Brobot. It&#39;s free and open source.","title":"Sikuli can&#39;t tell colors apart","body":"<p>Searching using color is possible with <strong>Brobot</strong>, a state-based, testable, automation framework for Java. Brobot wraps Sikuli methods and uses Sikuli variables such as Match in its core functionality. Its color methods depend heavily on matrix operations with OpenCV. The <a href=\"https://jspinak.github.io/brobot/\" rel=\"nofollow noreferrer\">Brobot documentation</a> gives more detailed information on the framework. Additionally, there is a page in the documentation specifically for <a href=\"https://jspinak.github.io/brobot/docs/introduction/finding-objects/using-color\" rel=\"nofollow noreferrer\">color searches</a>.</p>\n<h1>Color Selection Methods</h1>\n<p>There are 3 methods used to identify which colors to search for.</p>\n<ol>\n<li><strong>Color averaging</strong>. The average color of all pixels is determined from all image files (a single Brobot image can contain multiple image files). The range of acceptable colors around the target color can be adjusted, as well as the required size of the color region.</li>\n<li><strong>K-Means</strong>. Images that contain a variety of colors are not suitable to color averaging. The k-Means method from OpenCV finds the salient colors in an image, which are then used in the search. Adjustable options include the number of k-Means, acceptable color range, and required size.</li>\n<li><strong>Histogram</strong>. Brobot divides images into 5 regions (4 corners + the middle region) in order to preserve some spatial color characteristics (for example, blue sky on the top of an image will not match blue sea on the bottom of an image). The search can be adjusted by color range, as well as the number of histogram bins for hue, saturation, and value.</li>\n</ol>\n<h1>Chained Find Operations</h1>\n<p>Each of these color methods can be used independently or combined with the traditional Sikuli pattern searches by chaining find operations together. There are two main flavors of chained find operations:</p>\n<ol>\n<li><strong>Nested finds</strong>. Matches are searched for inside the matches from the previous find operation. The last find operation is responsible for providing the function’s return value.</li>\n<li><strong>Confirmed finds</strong>. The matches from the first find operation are filtered by the results of following find operations. The later find operations act as confirmation or rejection of the initial matches. Confirmed matches from the first find operation are returned.</li>\n</ol>\n<p><a href=\"https://jspinak.github.io/brobot/docs/introduction/finding-objects/combining-finds\" rel=\"nofollow noreferrer\">Documentation for nested finds and confirmed finds</a></p>\n<h1>Finding the Red Image</h1>\n<p>For your specific question, it would be best to use a chain of two find operations, set up as a <em>confirmed find</em>. The first operation would be a pattern search (equivalent to findAll in Sikuli) and the second operation, the confirmation operation, would be a color search.</p>\n<p>Actions in Brobot are built with:</p>\n<ol>\n<li>The action configuration (an ActionOptions variable)</li>\n<li>The objects to act on (images, regions, locations, etc.)</li>\n</ol>\n<p>Brobot encourages defining states with a collection of images that belong together. The code below assumes you have a state StateWithRedImage that contains the image RedImage. The results are returned in a Matches object, which contains information about the matches and the action performed.</p>\n<pre><code>public class RedImageFinder {\n\n    private final Action action;\n    private final StateWithRedImage stateWithRedImage;\n\n    public RedImageFinder(Action action, StateWithRedImage stateWithRedImage) {\n        this.action = action;\n        this.stateWithRedImage = stateWithRedImage;\n    }\n\n    public Matches find() {\n        ActionOptions actionOptions = new ActionOptions.Builder()\n                .setAction(ActionOptions.Action.FIND)\n                .setFind(ActionOptions.Find.ALL)\n                .addFind(ActionOptions.Find.COLOR)\n                .keepLargerMatches(true)\n                .build();\n        return action.perform(actionOptions, stateWithRedImage.getRedImage());\n    }\n}\n</code></pre>\n<p><em>Disclaimer</em>: I'm the developer of Brobot. It's free and open source.</p>\n"}],"owner":{"account_id":3299078,"reputation":23,"user_id":2775647,"display_name":"Tseno Tsenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44039564,"answer_count":3,"score":2,"last_activity_date":1658434909,"creation_date":1495085493,"question_id":44039330,"body_markdown":"I&#39;m developing a program with Java and Sikuli and I want to click on a red image with a specific shape that is located on screen.\r\nThe problem is that on the screen there is another image with that same shape but different color, blue.\r\n\r\n    import org.sikuli.script.Screen;\r\n    \r\n    this.screen.type(&quot;C:\\\\Images\\\\TestImage.png&quot;, &quot;a&quot;); // this is what I&#39;m using.\r\n\r\nMy mouse keeps moving between the two images because it can&#39;t tell the difference in color.\r\n","title":"Sikuli can&#39;t tell colors apart","body":"<p>I'm developing a program with Java and Sikuli and I want to click on a red image with a specific shape that is located on screen.\nThe problem is that on the screen there is another image with that same shape but different color, blue.</p>\n\n<pre><code>import org.sikuli.script.Screen;\n\nthis.screen.type(\"C:\\\\Images\\\\TestImage.png\", \"a\"); // this is what I'm using.\n</code></pre>\n\n<p>My mouse keeps moving between the two images because it can't tell the difference in color.</p>\n"},{"tags":["java","model","simulation","repast-simphony"],"answers":[{"tags":[],"owner":{"account_id":84976,"reputation":1786,"user_id":237222,"accept_rate":80,"display_name":"Nick Collier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658434813,"creation_date":1658414825,"answer_id":73068268,"question_id":73051086,"body_markdown":"If the agent population is constant throughout the life the simulation, you could put all the agents into an ArrayList during initialization and sort that list by agent id. To execute the agent behavior, just iterate through the list calling method you are annotating with @ScheduledMethod on each agent. \r\n\r\nAlternatively, you could Java streams for this. See, \r\n\r\nhttps://stackabuse.com/java-8-how-to-sort-list-with-stream-sorted/\r\n\r\nContext.getObjectsAsStream  (https://repast.github.io/docs/api/repast_simphony/repast/simphony/context/Context.html#getObjectsAsStream(java.lang.Class)) returns a Stream, that you can sort with `sorted`, and then call `forEach` with the method name that you are annotating with @ScheduledMethod. So, something like:\r\n\r\n```java\r\nmyContext.getObjectsAsStream(Passenger.class).sorted(X).forEach(Y)\r\n```\r\n\r\nwhere X is a Comparator that sorts by Passenger agent id and Y is the method to call on each Passenger.\r\n\r\nYou can schedule this to execute each tick in your ContextBuilder.build with \r\n\r\n```java\r\nISchedule schedule = RunEnvironment.getInstance().getCurrentSchedule();\r\n      schedule.schedule(ScheduleParameters.createRepeating(1, 1), -&gt;\r\n      { \r\n          \r\n              // Your code goes here: e.g.,\r\n              // myContext.getObjectsAsStream(Passenger.class).sorted(X).forEach(Y);\r\n      });\r\n```\r\n\r\nThat creates an IAction lambda and schedules it directly rather than using an annotation.","title":"Repast Simphony: How to set Scheduling priority based on agent id","body":"<p>If the agent population is constant throughout the life the simulation, you could put all the agents into an ArrayList during initialization and sort that list by agent id. To execute the agent behavior, just iterate through the list calling method you are annotating with @ScheduledMethod on each agent.</p>\n<p>Alternatively, you could Java streams for this. See,</p>\n<p><a href=\"https://stackabuse.com/java-8-how-to-sort-list-with-stream-sorted/\" rel=\"nofollow noreferrer\">https://stackabuse.com/java-8-how-to-sort-list-with-stream-sorted/</a></p>\n<p>Context.getObjectsAsStream  (<a href=\"https://repast.github.io/docs/api/repast_simphony/repast/simphony/context/Context.html#getObjectsAsStream(java.lang.Class)\" rel=\"nofollow noreferrer\">https://repast.github.io/docs/api/repast_simphony/repast/simphony/context/Context.html#getObjectsAsStream(java.lang.Class)</a>) returns a Stream, that you can sort with <code>sorted</code>, and then call <code>forEach</code> with the method name that you are annotating with @ScheduledMethod. So, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myContext.getObjectsAsStream(Passenger.class).sorted(X).forEach(Y)\n</code></pre>\n<p>where X is a Comparator that sorts by Passenger agent id and Y is the method to call on each Passenger.</p>\n<p>You can schedule this to execute each tick in your ContextBuilder.build with</p>\n<pre class=\"lang-java prettyprint-override\"><code>ISchedule schedule = RunEnvironment.getInstance().getCurrentSchedule();\n      schedule.schedule(ScheduleParameters.createRepeating(1, 1), -&gt;\n      { \n          \n              // Your code goes here: e.g.,\n              // myContext.getObjectsAsStream(Passenger.class).sorted(X).forEach(Y);\n      });\n</code></pre>\n<p>That creates an IAction lambda and schedules it directly rather than using an annotation.</p>\n"}],"owner":{"account_id":23934327,"reputation":35,"user_id":17928301,"display_name":"Emil Ryd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73068268,"answer_count":1,"score":1,"last_activity_date":1658434813,"creation_date":1658317662,"question_id":73051086,"body_markdown":"I am making a Repast Simphony model of passengers boarding an airplane, and it is important for me to have the agents be iterated over in a certain, constant order. I have set the random seed to 1, and so the order is constant, however not trivial. It would be easiest for me if the agents were iterated over either from back to front or front to back. \r\n\r\nAs written in this post:\r\nhttps://stackoverflow.com/questions/60144713/repast-agent-execution-order\r\n\r\none way to achieve this certain order would be to set the priority of each agent&#39;s ScheduledMethod to be dependent on their ID. I have tried doing this in the @ScheduledMethod annotation, like this:\r\n\r\n```@ScheduledMethod(start = 1, interval = 1, priority = boardingID)```\r\n\r\n(boarding ID is the agent ID) however it gives me this warning:\r\n&gt;The value for annotation attribute ScheduledMethod.priority must be a constant expression\r\n\r\nSince the agent id is a variable of that class, this doesn&#39;t work. However, I believe it should be possible to do this in some way, as the id will never change once initialised, and so if I manage to pass it as the priority it shouldn&#39;t cause any harm as it will never change. However, how do I do this? How do I set the scheduling priority based on agent ID? Should I do it somewhere else?\r\n\r\n \r\n\r\n","title":"Repast Simphony: How to set Scheduling priority based on agent id","body":"<p>I am making a Repast Simphony model of passengers boarding an airplane, and it is important for me to have the agents be iterated over in a certain, constant order. I have set the random seed to 1, and so the order is constant, however not trivial. It would be easiest for me if the agents were iterated over either from back to front or front to back.</p>\n<p>As written in this post:\n<a href=\"https://stackoverflow.com/questions/60144713/repast-agent-execution-order\">Repast: Agent execution order</a></p>\n<p>one way to achieve this certain order would be to set the priority of each agent's ScheduledMethod to be dependent on their ID. I have tried doing this in the @ScheduledMethod annotation, like this:</p>\n<p><code>@ScheduledMethod(start = 1, interval = 1, priority = boardingID)</code></p>\n<p>(boarding ID is the agent ID) however it gives me this warning:</p>\n<blockquote>\n<p>The value for annotation attribute ScheduledMethod.priority must be a constant expression</p>\n</blockquote>\n<p>Since the agent id is a variable of that class, this doesn't work. However, I believe it should be possible to do this in some way, as the id will never change once initialised, and so if I manage to pass it as the priority it shouldn't cause any harm as it will never change. However, how do I do this? How do I set the scheduling priority based on agent ID? Should I do it somewhere else?</p>\n"},{"tags":["java","null","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":9222767,"reputation":1,"user_id":6851528,"display_name":"Anthony Bongungu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658434579,"creation_date":1658434579,"answer_id":73072158,"question_id":72408053,"body_markdown":"    ConvertUtilsBean convertUtilsBean = BeanUtilsBean.getInstance().getConvertUtils();\r\n    convertUtilsBean.register(false, true, -1);\r\n\r\n\r\nhttps://stackoverflow.com/questions/12719645/beanutils-copy-properties-registering-convertutils \r\n\r\ncheck this thread out!","title":"BeanUtils.setProperty throws exception with value NULL","body":"<pre><code>ConvertUtilsBean convertUtilsBean = BeanUtilsBean.getInstance().getConvertUtils();\nconvertUtilsBean.register(false, true, -1);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/12719645/beanutils-copy-properties-registering-convertutils\">BeanUtils Copy Properties: Registering ConvertUtils</a></p>\n<p>check this thread out!</p>\n"}],"owner":{"account_id":155226,"reputation":1791,"user_id":371730,"accept_rate":59,"display_name":"tt0686"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658434579,"creation_date":1653666849,"question_id":72408053,"body_markdown":"I am using org.apache.commons.beanutils.BeanUtils.setProperty(bean,name,value).\r\nWhen the value is NULL it throws an exception .\r\nDigging inside class what is causing the exception is the ConverterUtilsBean.convert method more specifically the BigDecimalConverter.convert that does not accept null.\r\nHow can i overcome this issue ?\r\n\r\nThanks in advance.\r\nBest regards.","title":"BeanUtils.setProperty throws exception with value NULL","body":"<p>I am using org.apache.commons.beanutils.BeanUtils.setProperty(bean,name,value).\nWhen the value is NULL it throws an exception .\nDigging inside class what is causing the exception is the ConverterUtilsBean.convert method more specifically the BigDecimalConverter.convert that does not accept null.\nHow can i overcome this issue ?</p>\n<p>Thanks in advance.\nBest regards.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658434421,"creation_date":1658434421,"answer_id":73072138,"question_id":73072102,"body_markdown":"It tells you exactly what to do.  You need to write\r\n\r\n    if (context is Iterable&lt;*&gt;)\r\n\r\nJust because Java does it differently doesn&#39;t mean Kotlin does it that way.","title":"Kotlin instanceOf Iterable","body":"<p>It tells you exactly what to do.  You need to write</p>\n<pre><code>if (context is Iterable&lt;*&gt;)\n</code></pre>\n<p>Just because Java does it differently doesn't mean Kotlin does it that way.</p>\n"}],"owner":{"account_id":17511433,"reputation":15,"user_id":16958084,"display_name":"Hello Mr Mustafo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658434421,"creation_date":1658434218,"question_id":73072102,"body_markdown":"I want to verify that Any is Iterable\r\n\r\n     override fun funnyFunction(context: Any): Any {\r\n           if(context is Iterable)\r\n             // do something\r\n    }\r\n\r\nWarning that i get is \r\n\r\n&gt; One type argument expected. Use &#39;Iterable&lt;*&gt;&#39; if you don&#39;t want to\r\n&gt; pass type arguments\r\n\r\nIn Java the code is\r\n \r\n\r\n     Object funnyFunction(final context: Object) {\r\n               if(context instanceof Iterable)\r\n                 // do something\r\n     }\r\n\r\nAnyone have idea how to do it?","title":"Kotlin instanceOf Iterable","body":"<p>I want to verify that Any is Iterable</p>\n<pre><code> override fun funnyFunction(context: Any): Any {\n       if(context is Iterable)\n         // do something\n}\n</code></pre>\n<p>Warning that i get is</p>\n<blockquote>\n<p>One type argument expected. Use 'Iterable&lt;*&gt;' if you don't want to\npass type arguments</p>\n</blockquote>\n<p>In Java the code is</p>\n<pre><code> Object funnyFunction(final context: Object) {\n           if(context instanceof Iterable)\n             // do something\n }\n</code></pre>\n<p>Anyone have idea how to do it?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":2,"creation_date":1608225605,"post_id":65345350,"comment_id":115524823,"body_markdown":"I&#39;d construct the substrings by adding characters one by one until you reach one that already is present in your current substring, at which point I&#39;d start a new substring and increment a count","body":"I&#39;d construct the substrings by adding characters one by one until you reach one that already is present in your current substring, at which point I&#39;d start a new substring and increment a count"},{"owner":{"account_id":8249870,"reputation":515,"user_id":6204881,"display_name":"Coreggon"},"score":0,"creation_date":1608225652,"post_id":65345350,"comment_id":115524851,"body_markdown":"I would suggest when counting the number of possible substrings, count number of unique letters in that particular substring and if it is equal to the length of the substring, it&#39;s ok. and if it is ok for every substring for that particular n, you can add those substrings to output","body":"I would suggest when counting the number of possible substrings, count number of unique letters in that particular substring and if it is equal to the length of the substring, it&#39;s ok. and if it is ok for every substring for that particular n, you can add those substrings to output"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1608225721,"post_id":65345350,"comment_id":115524891,"body_markdown":"@Aaron, if I follow that way, I will be able to get only `(&#39;cy&#39;, &#39;cle&#39;)` right. I will not get `(&#39;c&#39;, &#39;ycle&#39;)`","body":"@Aaron, if I follow that way, I will be able to get only <code>(&#39;cy&#39;, &#39;cle&#39;)</code> right. I will not get <code>(&#39;c&#39;, &#39;ycle&#39;)</code>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1608225862,"post_id":65345350,"comment_id":115524969,"body_markdown":"You&#39;re right, but I&#39;m not convinced yet that this is problematic if all you need is to return the minimal amount of substrings. If you need to display all the possible substrings of minimal length you might want to make that clearer in your question","body":"You&#39;re right, but I&#39;m not convinced yet that this is problematic if all you need is to return the minimal amount of substrings. If you need to display all the possible substrings of minimal length you might want to make that clearer in your question"},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1608226738,"post_id":65345350,"comment_id":115525339,"body_markdown":"So substrings must cover all the string?","body":"So substrings must cover all the string?"}],"answers":[{"tags":[],"owner":{"account_id":16446795,"reputation":1069,"user_id":11881368,"display_name":"Roman Svistunov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1608229345,"creation_date":1608226848,"answer_id":65345741,"question_id":65345350,"body_markdown":"You should note that this can be done greedily. Whenever you meet a character it can either be added to the previous partition or can start a new one. If both are possible, then you can always add to the previous partition and not change anything else, so the answer would not get worse from it. Therefore, the solution is to run across characters and whenever you and add one to the partition when you can do it. This solution is asymptotically optimal. Note that if your characters fall into a specific range using an array instead of HashSet can significantly boost performance.\r\n\r\n```java\r\nstatic int distinctSubString(String S) {\r\n    int count = (S.isEmpty()) ? 0 : 1;\r\n    S = S.toLowerCase();\r\n    HashSet&lt;Character&gt; letters = new HashSet&lt;Character&gt;();\r\n    for (int i = 0; i &lt; S.length(); i++) {\r\n        if (letters.contains(S.charAt(i))) {\r\n            letters.clear();\r\n            count++;\r\n        }\r\n        letters.add(S.charAt(i));\r\n    }\r\n    return count;\r\n}\r\n```","title":"Number of substrings with unique letters","body":"<p>You should note that this can be done greedily. Whenever you meet a character it can either be added to the previous partition or can start a new one. If both are possible, then you can always add to the previous partition and not change anything else, so the answer would not get worse from it. Therefore, the solution is to run across characters and whenever you and add one to the partition when you can do it. This solution is asymptotically optimal. Note that if your characters fall into a specific range using an array instead of HashSet can significantly boost performance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int distinctSubString(String S) {\n    int count = (S.isEmpty()) ? 0 : 1;\n    S = S.toLowerCase();\n    HashSet&lt;Character&gt; letters = new HashSet&lt;Character&gt;();\n    for (int i = 0; i &lt; S.length(); i++) {\n        if (letters.contains(S.charAt(i))) {\n            letters.clear();\n            count++;\n        }\n        letters.add(S.charAt(i));\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25865233,"reputation":1,"user_id":19597022,"display_name":"IAMVISHAL YT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658433942,"creation_date":1658433942,"answer_id":73072051,"question_id":65345350,"body_markdown":"    static int f(String s){\r\n        int ans=1;\r\n        Map&lt;Character,Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(int i=0;i&lt;s.length();i++){\r\n             if(map.containsKey(s.charAt(i))){\r\n                      map.clear();\r\n                      map.put(s.charAt(i) , 1);\r\n                      ans++;\r\n             }\r\n             else{\r\n                     map.put(s.charAt(i) , 1);\r\n             }\r\n         }\r\n         return ans;\r\n     }","title":"Number of substrings with unique letters","body":"<pre><code>static int f(String s){\n    int ans=1;\n    Map&lt;Character,Integer&gt; map = new HashMap&lt;&gt;();\n    for(int i=0;i&lt;s.length();i++){\n         if(map.containsKey(s.charAt(i))){\n                  map.clear();\n                  map.put(s.charAt(i) , 1);\n                  ans++;\n         }\n         else{\n                 map.put(s.charAt(i) , 1);\n         }\n     }\n     return ans;\n }\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10254,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65345741,"answer_count":2,"score":5,"last_activity_date":1658433942,"creation_date":1608225268,"question_id":65345350,"body_markdown":"I have a string, now want to count the minimum number of substrings such that the letters in the substring should occur only once.\r\n\r\n**Example:**\r\n\r\n    Input : cycle\r\n    Output : 2\r\n\r\n**explanation:**\r\n\r\n    Possible substrings are : (&#39;cy&#39;, &#39;cle&#39;) or (&#39;c&#39;, &#39;ycle&#39;)\r\n\r\n**Example:**\r\n\r\n    Input : aaaa\r\n    Output : 4\r\n\r\n**explanation:**\r\n\r\n    Possible substrings are : (&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;a&#39;)\r\n\r\n\r\nI am able to get all possible substrings but I am not able to understand how to achieve the solution for this task:\r\n\r\n    static int distinctSubString(String S) {\r\n        int count = 0;\r\n        int n = S.length();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = i + 1; j &lt;= n; j++) {\r\n                String s = S.substring(i, j);\r\n                System.out.println(s);\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\n","title":"Number of substrings with unique letters","body":"<p>I have a string, now want to count the minimum number of substrings such that the letters in the substring should occur only once.</p>\n<p><strong>Example:</strong></p>\n<pre><code>Input : cycle\nOutput : 2\n</code></pre>\n<p><strong>explanation:</strong></p>\n<pre><code>Possible substrings are : ('cy', 'cle') or ('c', 'ycle')\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>Input : aaaa\nOutput : 4\n</code></pre>\n<p><strong>explanation:</strong></p>\n<pre><code>Possible substrings are : ('a', 'a', 'a', 'a')\n</code></pre>\n<p>I am able to get all possible substrings but I am not able to understand how to achieve the solution for this task:</p>\n<pre><code>static int distinctSubString(String S) {\n    int count = 0;\n    int n = S.length();\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = i + 1; j &lt;= n; j++) {\n            String s = S.substring(i, j);\n            System.out.println(s);\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":["c#","java","c++","casting"],"comments":[{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":4,"creation_date":1289582545,"post_id":4167304,"comment_id":4499432,"body_markdown":"Where did you get this impression?","body":"Where did you get this impression?"},{"owner":{"account_id":139038,"reputation":3875,"user_id":344351,"accept_rate":94,"display_name":"LoudNPossiblyWrong"},"score":0,"creation_date":1289582719,"post_id":4167304,"comment_id":4499466,"body_markdown":"To be more specific, what is happening in the runtime mechanism that makes it so bad, how does casting work at the machine level?","body":"To be more specific, what is happening in the runtime mechanism that makes it so bad, how does casting work at the machine level?"},{"owner":{"account_id":139038,"reputation":3875,"user_id":344351,"accept_rate":94,"display_name":"LoudNPossiblyWrong"},"score":10,"creation_date":1289582784,"post_id":4167304,"comment_id":4499483,"body_markdown":"I got this impression since i&#39;v never read a book or met a programmer that said &quot;CASTING SOOOO GOOOOD!!!&quot;","body":"I got this impression since i&#39;v never read a book or met a programmer that said &quot;CASTING SOOOO GOOOOD!!!&quot;"},{"owner":{"account_id":50706,"reputation":349709,"user_id":151292,"accept_rate":85,"display_name":"James McNellis"},"score":16,"creation_date":1289582799,"post_id":4167304,"comment_id":4499489,"body_markdown":"The answer for C++ is inevitably different from the answer for C#. This is very language-specific.  The answers thus far answer this question for specific languages and in some cases do not state what language they are talking about.","body":"The answer for C++ is inevitably different from the answer for C#. This is very language-specific.  The answers thus far answer this question for specific languages and in some cases do not state what language they are talking about."},{"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"score":2,"creation_date":1289582831,"post_id":4167304,"comment_id":4499493,"body_markdown":"Bad is a relative term. Avoiding casting is a best-practice, but sometimes a programmer has gotta do what a programmer has got to do. (especially if you writing a java 1.5+ program that uses a library written for 1.4) Perhaps rename the question, &quot;Why should casting be avoided?&quot;","body":"Bad is a relative term. Avoiding casting is a best-practice, but sometimes a programmer has gotta do what a programmer has got to do. (especially if you writing a java 1.5+ program that uses a library written for 1.4) Perhaps rename the question, &quot;Why should casting be avoided?&quot;"},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1289601586,"post_id":4167304,"comment_id":4502841,"body_markdown":"&quot;what is happening in the runtime mechanism that makes it so bad, &quot; usually it&#39;s bad because it&#39;s removing any design constraints the compiler is checking for you, not because of the any runtime cost. Whenever I do a contract at a MFC shop, the code&#39;s full of `reinterpret_cast&lt;CSomeThingOrOther&gt; ( wparam )` which makes it impossible to refactor the code without 100% test coverage, and getting 100% coverage of an MFC application is nigh on impossible.","body":"&quot;what is happening in the runtime mechanism that makes it so bad, &quot; usually it&#39;s bad because it&#39;s removing any design constraints the compiler is checking for you, not because of the any runtime cost. Whenever I do a contract at a MFC shop, the code&#39;s full of <code>reinterpret_cast&lt;CSomeThingOrOther&gt; ( wparam )</code> which makes it impossible to refactor the code without 100% test coverage, and getting 100% coverage of an MFC application is nigh on impossible."},{"owner":{"account_id":70730,"reputation":3152,"user_id":204840,"accept_rate":68,"display_name":"cthulhu"},"score":0,"creation_date":1289783662,"post_id":4167304,"comment_id":4516941,"body_markdown":"&quot;So why/when is casting bad?&quot; - better question would be &quot;When is it good?&quot;, imho. I haven&#39;t had to use it at all for quite some time, only when working with legacy (pre-Generics Java) code.","body":"&quot;So why/when is casting bad?&quot; - better question would be &quot;When is it good?&quot;, imho. I haven&#39;t had to use it at all for quite some time, only when working with legacy (pre-Generics Java) code."},{"owner":{"account_id":55528,"reputation":26331,"user_id":166303,"accept_rate":72,"display_name":"reach4thelasers"},"score":3,"creation_date":1476881104,"post_id":4167304,"comment_id":67533414,"body_markdown":"This is a great question.... It was closed by 5 users who each have less than 10k reputation!!  An overzealous use of new powers, clearly.  Have voted to re-open.","body":"This is a great question.... It was closed by 5 users who each have less than 10k reputation!!  An overzealous use of new powers, clearly.  Have voted to re-open."},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":0,"creation_date":1476909256,"post_id":4167304,"comment_id":67552041,"body_markdown":"@Brian this question is a poor fit for Programmers - it would be quickly voted down and closed over there, see http://meta.programmers.stackexchange.com/questions/6483/why-was-my-question-closed-or-down-voted/6490#6490 Recommended reading: **[What goes on Programmers.SE? A guide for Stack Overflow](http://meta.programmers.stackexchange.com/q/7182/31260)**","body":"@Brian this question is a poor fit for Programmers - it would be quickly voted down and closed over there, see <a href=\"http://meta.programmers.stackexchange.com/questions/6483/why-was-my-question-closed-or-down-voted/6490#6490\" title=\"why was my question closed or down voted\">meta.programmers.stackexchange.com/questions/6483/&hellip;</a> Recommended reading: <b><a href=\"http://meta.programmers.stackexchange.com/q/7182/31260\">What goes on Programmers.SE? A guide for Stack Overflow</a></b>"},{"owner":{"account_id":1606217,"reputation":14810,"user_id":1486275,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1476975889,"post_id":4167304,"comment_id":67584975,"body_markdown":"@gnat I would argue that this falls into the first example of an [on-topic question for Programmers](http://programmers.stackexchange.com/help/on-topic), &quot;software development methods and practices&quot;, and none of the off-topic categories.","body":"@gnat I would argue that this falls into the first example of an <a href=\"http://programmers.stackexchange.com/help/on-topic\">on-topic question for Programmers</a>, &quot;software development methods and practices&quot;, and none of the off-topic categories."},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":0,"creation_date":1476976320,"post_id":4167304,"comment_id":67585357,"body_markdown":"@Brian Did you read the Wikipedia article linked to for what is meant by &quot;methods and practices&quot;? It doesn&#39;t mean this. It means things process like Scrum, Extreme Programming, CMMI, ISO9001 and methods like TDD, BDD, and CI/CD. It may be on-topic as a software design question, but like here, it would be closed as too broad. We have the same rules for things like primarily opinion based, too broad, and unclear as Stack Overflow does.","body":"@Brian Did you read the Wikipedia article linked to for what is meant by &quot;methods and practices&quot;? It doesn&#39;t mean this. It means things process like Scrum, Extreme Programming, CMMI, ISO9001 and methods like TDD, BDD, and CI/CD. It may be on-topic as a software design question, but like here, it would be closed as too broad. We have the same rules for things like primarily opinion based, too broad, and unclear as Stack Overflow does."},{"owner":{"account_id":1606217,"reputation":14810,"user_id":1486275,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1476976903,"post_id":4167304,"comment_id":67585810,"body_markdown":"@ThomasOwens Ah, okay, that makes sense.","body":"@ThomasOwens Ah, okay, that makes sense."}],"answers":[{"tags":[],"owner":{"account_id":116850,"reputation":13719,"user_id":306276,"accept_rate":92,"display_name":"Kdeveloper"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1289985486,"creation_date":1289582425,"answer_id":4167314,"question_id":4167304,"body_markdown":"Java, c# and c++ are strongly typed languages, although strongly typed languages can be seen as inflexible, they have the benefit of doing type checking at compile time and protect you against runtime errors that are caused by having the wrong type for certain operations.\r\n\r\nThere are basicaly two kind of casts: a cast to a more general type or a cast to an other types (more specific). Casting to a more general type (casting to a parent type) will leave the compile time checks intact. But casting to other types (more specific types) will disable compile time type checking and will be replaced by the compiler by a runtime check. This means you have less certainty you’re compiled code will run correctly. It also has some negligible performance impact, due to the extra runtime type check (the Java API is full of casts!).\r\n","title":"Why should casting be avoided?","body":"<p>Java, c# and c++ are strongly typed languages, although strongly typed languages can be seen as inflexible, they have the benefit of doing type checking at compile time and protect you against runtime errors that are caused by having the wrong type for certain operations.</p>\n\n<p>There are basicaly two kind of casts: a cast to a more general type or a cast to an other types (more specific). Casting to a more general type (casting to a parent type) will leave the compile time checks intact. But casting to other types (more specific types) will disable compile time type checking and will be replaced by the compiler by a runtime check. This means you have less certainty you’re compiled code will run correctly. It also has some negligible performance impact, due to the extra runtime type check (the Java API is full of casts!).</p>\n"},{"tags":[],"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"down_vote_count":4,"up_vote_count":41,"is_accepted":false,"score":37,"last_activity_date":1289590164,"creation_date":1289582570,"answer_id":4167339,"question_id":4167304,"body_markdown":"Casting errors are always reported as run-time errors in java. Using generics or templating turns these errors into compile-time errors, making it much easier to detect when you have made a mistake.\r\n\r\nAs I said above. This isn&#39;t to say that all casting is bad. But if it is possible to avoid it, its best to do so.","title":"Why should casting be avoided?","body":"<p>Casting errors are always reported as run-time errors in java. Using generics or templating turns these errors into compile-time errors, making it much easier to detect when you have made a mistake.</p>\n\n<p>As I said above. This isn't to say that all casting is bad. But if it is possible to avoid it, its best to do so.</p>\n"},{"tags":[],"owner":{"account_id":72841,"reputation":53668,"user_id":210102,"accept_rate":78,"display_name":"Steve Townsend"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1289587417,"creation_date":1289582638,"answer_id":4167353,"question_id":4167304,"body_markdown":"Casting is not inherently bad, it&#39;s just that it&#39;s often misused as a means to achieve something that really should either not be done at all, or done more elegantly.  \r\n\r\nIf it was universally bad, languages would not support it.  Like any other language feature, it has its place. \r\n\r\nMy advice would be to focus on your primary language, and understand all its casts, and associated best practices.  That should inform excursions into other languages.  \r\n\r\nThe relevant C# docs are [here][1].\r\n\r\nThere is a great summary on C++ options [at a previous SO question here][2].\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms173105(v=VS.100).aspx\r\n  [2]: https://stackoverflow.com/questions/28002","title":"Why should casting be avoided?","body":"<p>Casting is not inherently bad, it's just that it's often misused as a means to achieve something that really should either not be done at all, or done more elegantly.  </p>\n\n<p>If it was universally bad, languages would not support it.  Like any other language feature, it has its place. </p>\n\n<p>My advice would be to focus on your primary language, and understand all its casts, and associated best practices.  That should inform excursions into other languages.  </p>\n\n<p>The relevant C# docs are <a href=\"http://msdn.microsoft.com/en-us/library/ms173105(v=VS.100).aspx\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>There is a great summary on C++ options <a href=\"https://stackoverflow.com/questions/28002\">at a previous SO question here</a>.</p>\n"},{"tags":[],"owner":{"account_id":21018,"reputation":73866,"user_id":50776,"accept_rate":84,"display_name":"casperOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289582696,"creation_date":1289582696,"answer_id":4167362,"question_id":4167304,"body_markdown":"To elaborate on [KDeveloper&#39;s answer][1], it&#39;s not inherently type-safe.  With casting, there is no guarantee that what you are casting from and casting to will match, and if that occurs, you will get a runtime exception, which is always a bad thing.\r\n\r\nWith specific regards to C#, because it includes the [`is`][2] and [`as`][3] operators, you have the opportunity to (for the most part) make the determination as to whether or not a cast would succeed.  Because of this, you should take the appropriate steps to determine whether or not the operation would succeed and proceed appropriately.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4167304/why-is-casting-bad/4167314#4167314\r\n  [2]: http://msdn.microsoft.com/en-us/library/scekt9xw(VS.71).aspx\r\n  [3]: http://msdn.microsoft.com/en-us/library/cscsdfbt(VS.71).aspx","title":"Why should casting be avoided?","body":"<p>To elaborate on <a href=\"https://stackoverflow.com/questions/4167304/why-is-casting-bad/4167314#4167314\">KDeveloper's answer</a>, it's not inherently type-safe.  With casting, there is no guarantee that what you are casting from and casting to will match, and if that occurs, you will get a runtime exception, which is always a bad thing.</p>\n\n<p>With specific regards to C#, because it includes the <a href=\"http://msdn.microsoft.com/en-us/library/scekt9xw(VS.71).aspx\" rel=\"nofollow noreferrer\"><code>is</code></a> and <a href=\"http://msdn.microsoft.com/en-us/library/cscsdfbt(VS.71).aspx\" rel=\"nofollow noreferrer\"><code>as</code></a> operators, you have the opportunity to (for the most part) make the determination as to whether or not a cast would succeed.  Because of this, you should take the appropriate steps to determine whether or not the operation would succeed and proceed appropriately.</p>\n"},{"tags":[],"owner":{"account_id":33437,"reputation":17061,"user_id":93613,"accept_rate":95,"display_name":"Manish Basantani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289582806,"creation_date":1289582806,"answer_id":4167370,"question_id":4167304,"body_markdown":"In case of C#, one needs to be more careful while casting because of boxing/unboxing overheads involved while dealing with value types.","title":"Why should casting be avoided?","body":"<p>In case of C#, one needs to be more careful while casting because of boxing/unboxing overheads involved while dealing with value types.</p>\n"},{"tags":[],"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1289583321,"creation_date":1289582980,"answer_id":4167387,"question_id":4167304,"body_markdown":"I&#39;m mostly speaking for ___C++___ here, but most of this probably applies to Java and C# as well: \r\n\r\nC++ is a ___statically typed language___. There are some leeways the language allows you in this (virtual functions, implicit conversions), but basically the compiler knows the type of every object at compile-time. The reason to use such a language is that ___errors can be caught at compile-time___. If the compiler know the types of `a` and `b`, then it will catch you at compile-time when you do `a=b` where `a` is a complex number and `b` is a string. \r\n\r\nWhenever you do explicit casting you tell the compiler to shut up, because you think ___you know better___. In case you&#39;re wrong, you will usually only find out ___at run-time___. And the problem with finding out at run-time is, that this might be at a customer&#39;s. ","title":"Why should casting be avoided?","body":"<p>I'm mostly speaking for <strong><em>C++</em></strong> here, but most of this probably applies to Java and C# as well: </p>\n\n<p>C++ is a <strong><em>statically typed language</em></strong>. There are some leeways the language allows you in this (virtual functions, implicit conversions), but basically the compiler knows the type of every object at compile-time. The reason to use such a language is that <strong><em>errors can be caught at compile-time</em></strong>. If the compiler know the types of <code>a</code> and <code>b</code>, then it will catch you at compile-time when you do <code>a=b</code> where <code>a</code> is a complex number and <code>b</code> is a string. </p>\n\n<p>Whenever you do explicit casting you tell the compiler to shut up, because you think <strong><em>you know better</em></strong>. In case you're wrong, you will usually only find out <strong><em>at run-time</em></strong>. And the problem with finding out at run-time is, that this might be at a customer's. </p>\n"},{"tags":[],"owner":{"account_id":172481,"reputation":110932,"user_id":400547,"display_name":"Jon Hanna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289583883,"creation_date":1289583883,"answer_id":4167520,"question_id":4167304,"body_markdown":"Some types of casting are so safe and efficient as to often not even be considered casting at all.\r\n\r\nIf you cast from a derived type to a base type, this is generally quite cheap (often - depending on language, implementation and other factors - it is zero-cost) and is safe.\r\n\r\nIf you cast from a simple type like an int to a wider type like a long int, then again it is often quite cheap (generally not much more expensive than assigning the same type as that cast to) and again is safe.\r\n\r\nOther types are more fraught and/or more expensive. In most languages casting from a base type to a derived type is either cheap but has a high risk of severe error (in C++ if you static_cast from base to derived it will be cheap, but if the underlying value is not of the derived type the behaviour is undefined and can be very strange) or relatively expensive and with a risk of raising an exception (dynamic_cast in C++, explicit base-to-derived cast in C#, and so on). Boxing in Java and C# is another example of this, and an even greater expense (considering that they are changing more than just how the underlying values are treated).\r\n\r\nOther types of cast can lose information (a long integer type to a short integer type).\r\n\r\nThese cases of risk (whether of exception or a more serious error) and of expense are all reasons to avoid casting.\r\n\r\nA more conceptual, but perhaps more important, reason is that each case of casting is a case where your ability to reason about the correctness of your code is stymied: Each case is another place where something can go wrong, and the ways in which it can go wrong add to the complexity of deducing whether the system as a whole will go wrong. Even if the cast is provably safe each time, proving this is an extra part of the reasoning.\r\n\r\nFinally, the heavy use of casts can indicate a failure to consider the object model well either in creating it, using it, or both: Casting back and forth between the same few types frequently is almost always a failure to consider the relationships between the types used. Here it&#39;s not so much that casts are bad, as they are a sign of something bad.","title":"Why should casting be avoided?","body":"<p>Some types of casting are so safe and efficient as to often not even be considered casting at all.</p>\n\n<p>If you cast from a derived type to a base type, this is generally quite cheap (often - depending on language, implementation and other factors - it is zero-cost) and is safe.</p>\n\n<p>If you cast from a simple type like an int to a wider type like a long int, then again it is often quite cheap (generally not much more expensive than assigning the same type as that cast to) and again is safe.</p>\n\n<p>Other types are more fraught and/or more expensive. In most languages casting from a base type to a derived type is either cheap but has a high risk of severe error (in C++ if you static_cast from base to derived it will be cheap, but if the underlying value is not of the derived type the behaviour is undefined and can be very strange) or relatively expensive and with a risk of raising an exception (dynamic_cast in C++, explicit base-to-derived cast in C#, and so on). Boxing in Java and C# is another example of this, and an even greater expense (considering that they are changing more than just how the underlying values are treated).</p>\n\n<p>Other types of cast can lose information (a long integer type to a short integer type).</p>\n\n<p>These cases of risk (whether of exception or a more serious error) and of expense are all reasons to avoid casting.</p>\n\n<p>A more conceptual, but perhaps more important, reason is that each case of casting is a case where your ability to reason about the correctness of your code is stymied: Each case is another place where something can go wrong, and the ways in which it can go wrong add to the complexity of deducing whether the system as a whole will go wrong. Even if the cast is provably safe each time, proving this is an extra part of the reasoning.</p>\n\n<p>Finally, the heavy use of casts can indicate a failure to consider the object model well either in creating it, using it, or both: Casting back and forth between the same few types frequently is almost always a failure to consider the relationships between the types used. Here it's not so much that casts are bad, as they are a sign of something bad.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1375346217,"creation_date":1289584290,"answer_id":4167575,"question_id":4167304,"body_markdown":"You&#39;ve tagged this with three languages, and the answers are really quite different between the three. Discussion of C++ more or less implies discussion of C casts as well, and that gives (more or less) a fourth answer.\r\n\r\nSince it&#39;s the one you didn&#39;t mention explicitly, I&#39;ll start with C. C casts have a number of problems. One is that they can do any of a number of different things. In some cases, the cast does nothing more than tell the compiler (in essence): &quot;shut up, I know what I&#39;m doing&quot; -- i.e., it ensures that even when you do a conversion that could cause problems, the compiler won&#39;t warn you about those potential problems. Just for example, `char a=(char)123456;`. The exact result of this implementation defined (depends on the size and signedness of `char`), and except in rather strange situations, probably isn&#39;t useful. C casts also vary in whether they&#39;re something that happens only at compile time (i.e., you&#39;re just telling the compiler how to interpret/treat some data) or something that happens at run time (e.g., an actual conversion from double to long).\r\n\r\nC++ attempts to deal with that to at least some extent by adding a number of &quot;new&quot; cast operators, each of which is restricted to only a subset of the capabilities of a C cast. This makes it more difficult to (for example) accidentally do a conversion you really didn&#39;t intend -- if you *only* intend to cast away constness on an object, you can use `const_cast`, and be sure that the *only* thing it can affect is whether an object is `const`, `volatile`, or not. Conversely, a `static_cast` is not allowed to affect whether an object is `const` or `volatile`. In short, you have most of the same types of capabilities, but they&#39;re categorized so one cast can generally only do one kind of conversion, where a single C-style cast can do two or three conversions in one operation. The primary exception is that you *can* use a `dynamic_cast` in place of a `static_cast` in at least some cases and despite being written as a `dynamic_cast`, it&#39;ll really end up as a `static_cast`. For example, you can use `dynamic_cast` to traverse up or down a class hierarchy -- but a cast &quot;up&quot; the hierarchy is always safe, so it can be done statically, while a cast &quot;down&quot; the hierarchy isn&#39;t necessarily safe so it&#39;s done dynamically.\r\n\r\nJava and C# are much more similar to each other. In particular, with both of them casting is (virtually?) always a run-time operation. In terms of the C++ cast operators, it&#39;s usually closest to a `dynamic_cast` in terms of what&#39;s really done -- i.e., when you attempt to cast an object to some target type, the compiler inserts a run-time check to see whether that conversion is allowed, and throw an exception if it&#39;s not. The exact details (e.g., the name used for the &quot;bad cast&quot; exception) varies, but the basic principle remains mostly similar (though, if memory serves, Java does make casts applied to the few non-object types like `int` much closer to C casts -- but these types are used rarely enough that 1) I don&#39;t remember that for sure, and 2) even if it&#39;s true, it doesn&#39;t matter much anyway).\r\n\r\nLooking at things more generally, the situation&#39;s pretty simple (at least IMO): a cast (obviously enough) means you&#39;re converting something from one type to another. When/if you do that, it raises the question &quot;Why?&quot; If you really want something to be a particular type, why didn&#39;t you define it to be that type to start with? That&#39;s not to say there&#39;s *never* a reason to do such a conversion, but anytime it happens, it should prompt the question of whether you could re-design the code so the correct type was used throughout. Even seemingly innocuous conversions (e.g., between integer and floating point) should be examined much more closely than is common. Despite their *seeming* similarity, integers should really be used for &quot;counted&quot; types of things and floating point for &quot;measured&quot; kinds of things. Ignoring the distinction is what leads to some of the crazy statements like &quot;the average American family has 1.8 children.&quot; Even though we can all see how that happens, the fact is that *no* family has 1.8 children. They might have 1 or they might 2 or they might have more than that -- but never 1.8.","title":"Why should casting be avoided?","body":"<p>You've tagged this with three languages, and the answers are really quite different between the three. Discussion of C++ more or less implies discussion of C casts as well, and that gives (more or less) a fourth answer.</p>\n\n<p>Since it's the one you didn't mention explicitly, I'll start with C. C casts have a number of problems. One is that they can do any of a number of different things. In some cases, the cast does nothing more than tell the compiler (in essence): \"shut up, I know what I'm doing\" -- i.e., it ensures that even when you do a conversion that could cause problems, the compiler won't warn you about those potential problems. Just for example, <code>char a=(char)123456;</code>. The exact result of this implementation defined (depends on the size and signedness of <code>char</code>), and except in rather strange situations, probably isn't useful. C casts also vary in whether they're something that happens only at compile time (i.e., you're just telling the compiler how to interpret/treat some data) or something that happens at run time (e.g., an actual conversion from double to long).</p>\n\n<p>C++ attempts to deal with that to at least some extent by adding a number of \"new\" cast operators, each of which is restricted to only a subset of the capabilities of a C cast. This makes it more difficult to (for example) accidentally do a conversion you really didn't intend -- if you <em>only</em> intend to cast away constness on an object, you can use <code>const_cast</code>, and be sure that the <em>only</em> thing it can affect is whether an object is <code>const</code>, <code>volatile</code>, or not. Conversely, a <code>static_cast</code> is not allowed to affect whether an object is <code>const</code> or <code>volatile</code>. In short, you have most of the same types of capabilities, but they're categorized so one cast can generally only do one kind of conversion, where a single C-style cast can do two or three conversions in one operation. The primary exception is that you <em>can</em> use a <code>dynamic_cast</code> in place of a <code>static_cast</code> in at least some cases and despite being written as a <code>dynamic_cast</code>, it'll really end up as a <code>static_cast</code>. For example, you can use <code>dynamic_cast</code> to traverse up or down a class hierarchy -- but a cast \"up\" the hierarchy is always safe, so it can be done statically, while a cast \"down\" the hierarchy isn't necessarily safe so it's done dynamically.</p>\n\n<p>Java and C# are much more similar to each other. In particular, with both of them casting is (virtually?) always a run-time operation. In terms of the C++ cast operators, it's usually closest to a <code>dynamic_cast</code> in terms of what's really done -- i.e., when you attempt to cast an object to some target type, the compiler inserts a run-time check to see whether that conversion is allowed, and throw an exception if it's not. The exact details (e.g., the name used for the \"bad cast\" exception) varies, but the basic principle remains mostly similar (though, if memory serves, Java does make casts applied to the few non-object types like <code>int</code> much closer to C casts -- but these types are used rarely enough that 1) I don't remember that for sure, and 2) even if it's true, it doesn't matter much anyway).</p>\n\n<p>Looking at things more generally, the situation's pretty simple (at least IMO): a cast (obviously enough) means you're converting something from one type to another. When/if you do that, it raises the question \"Why?\" If you really want something to be a particular type, why didn't you define it to be that type to start with? That's not to say there's <em>never</em> a reason to do such a conversion, but anytime it happens, it should prompt the question of whether you could re-design the code so the correct type was used throughout. Even seemingly innocuous conversions (e.g., between integer and floating point) should be examined much more closely than is common. Despite their <em>seeming</em> similarity, integers should really be used for \"counted\" types of things and floating point for \"measured\" kinds of things. Ignoring the distinction is what leads to some of the crazy statements like \"the average American family has 1.8 children.\" Even though we can all see how that happens, the fact is that <em>no</em> family has 1.8 children. They might have 1 or they might 2 or they might have more than that -- but never 1.8.</p>\n"},{"tags":[],"owner":{"account_id":217193,"reputation":3125,"user_id":472875,"accept_rate":74,"display_name":"user472875"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289588038,"creation_date":1289588038,"answer_id":4168062,"question_id":4167304,"body_markdown":"Not sure if someone already mentioned this, but in C# casting can be used in a rather safe manner, and is often necessary. Suppose you receive an object which can be of several types. Using the `is` keyword you can first confirm that the object is indeed of the type you are about to cast it to, and then cast the object to that type directly. (I didn&#39;t work with Java much but I&#39;m sure there&#39;s a very straightforward way of doing it there as well). ","title":"Why should casting be avoided?","body":"<p>Not sure if someone already mentioned this, but in C# casting can be used in a rather safe manner, and is often necessary. Suppose you receive an object which can be of several types. Using the <code>is</code> keyword you can first confirm that the object is indeed of the type you are about to cast it to, and then cast the object to that type directly. (I didn't work with Java much but I'm sure there's a very straightforward way of doing it there as well). </p>\n"},{"tags":[],"owner":{"account_id":38762,"reputation":15600,"user_id":111466,"accept_rate":60,"display_name":"back2dos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289589887,"creation_date":1289589887,"answer_id":4168299,"question_id":4167304,"body_markdown":"You only cast an object to some type, if 2 conditions are met:\r\n\r\n 1. you know it is of that type\r\n 2. the compiler doesn&#39;t\r\n\r\nThis means not all the information you have is well represented in the type structure you use. This is bad, because your implementation should *semantically* comprise your model, which it clearly doesn&#39;t in this case.\r\n\r\nNow when you do a cast, then this can have 2 different reasons:\r\n\r\n 1. You did a bad job in expressing the type relationships. \r\n 2. the languages type system simply is not expressive enough to phrase them.\r\n\r\nIn most languages you run into the 2nd situation a lot of times. Generics as in Java help a bit, the C++ template system even more, but it is hard to master and even then some things may be impossible or just not worth the effort.\r\n\r\nSo you could say, a cast is a dirty hack to circumvent your problems to express some specific type relationship in some specific language. Dirty hacks should be avoided. But you can never live without them.","title":"Why should casting be avoided?","body":"<p>You only cast an object to some type, if 2 conditions are met:</p>\n\n<ol>\n<li>you know it is of that type</li>\n<li>the compiler doesn't</li>\n</ol>\n\n<p>This means not all the information you have is well represented in the type structure you use. This is bad, because your implementation should <em>semantically</em> comprise your model, which it clearly doesn't in this case.</p>\n\n<p>Now when you do a cast, then this can have 2 different reasons:</p>\n\n<ol>\n<li>You did a bad job in expressing the type relationships. </li>\n<li>the languages type system simply is not expressive enough to phrase them.</li>\n</ol>\n\n<p>In most languages you run into the 2nd situation a lot of times. Generics as in Java help a bit, the C++ template system even more, but it is hard to master and even then some things may be impossible or just not worth the effort.</p>\n\n<p>So you could say, a cast is a dirty hack to circumvent your problems to express some specific type relationship in some specific language. Dirty hacks should be avoided. But you can never live without them.</p>\n"},{"tags":[],"owner":{"account_id":225784,"reputation":2322,"user_id":486455,"accept_rate":83,"display_name":"Lefteris Laskaridis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289592267,"creation_date":1289592267,"answer_id":4168602,"question_id":4167304,"body_markdown":"Generally templates (or generics) are more type safe than casts. In that respect, i would say that an issue with casting is type-safety. However, there is another more subtle issue associated especially with downcasting: design. From my perspective at least, downcasting is a code smell, an indication that something might be wrong with my desing and i should investigate further. Why is simple: if you &quot;get&quot; the abstractions right, you simply don&#39;t need it! Nice question by the way...\r\n\r\nCheers!","title":"Why should casting be avoided?","body":"<p>Generally templates (or generics) are more type safe than casts. In that respect, i would say that an issue with casting is type-safety. However, there is another more subtle issue associated especially with downcasting: design. From my perspective at least, downcasting is a code smell, an indication that something might be wrong with my desing and i should investigate further. Why is simple: if you \"get\" the abstractions right, you simply don't need it! Nice question by the way...</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1658432698,"creation_date":1289592769,"answer_id":4168672,"question_id":4167304,"body_markdown":"Lots of good answers here. Here&#39;s the way I look at it (from a C# perspective).\r\n\r\nCasting usually means one of two things:\r\n\r\n* I know the runtime type of this expression but the compiler does not know it. Compiler, I am telling you, at runtime the object that corresponds to this expression is really going to be of this type. As of now, you know that this expression is to be treated as being of this type.  Generate code that assumes that the object will be of the given type, or, throw an exception if I&#39;m wrong.\r\n\r\n* Both the compiler and the developer know the runtime type of the expression. There is another value of a different type associated with the value that this expression will have at runtime. Generate code that produces the value of the desired type from the value of the given type; if you cannot do so, then throw an exception.\r\n\r\nNotice that those are *opposites*. There are two kinds of casts!  There are casts where you are giving a *hint* to the compiler about *reality* - hey, this thing of type object is actually of type Customer - and there are casts where you are telling the compiler to *perform a mapping from one type to another* - hey, I need the int that corresponds to this double.\r\n\r\nBoth kinds of casts are red flags.  The first kind of cast raises the question &quot;why exactly is it that the developer knows something that the compiler doesn&#39;t?&quot;  If you are in that situation then the better thing to do is usually to change the program so that the compiler *does* have a handle on reality. Then you don&#39;t need the cast; the analysis is done at compile time.\r\n\r\nThe second kind of cast raises the question &quot;why isn&#39;t the operation being done in the target data type in the first place?&quot; If you need a result in ints then why are you holding a double in the first place? Shouldn&#39;t you be holding an int?\r\n\r\nSome additional thoughts here:\r\n\r\n[Link](https://ericlippert.com/category/cast-operator/)\r\n\r\n","title":"Why should casting be avoided?","body":"<p>Lots of good answers here. Here's the way I look at it (from a C# perspective).</p>\n<p>Casting usually means one of two things:</p>\n<ul>\n<li><p>I know the runtime type of this expression but the compiler does not know it. Compiler, I am telling you, at runtime the object that corresponds to this expression is really going to be of this type. As of now, you know that this expression is to be treated as being of this type.  Generate code that assumes that the object will be of the given type, or, throw an exception if I'm wrong.</p>\n</li>\n<li><p>Both the compiler and the developer know the runtime type of the expression. There is another value of a different type associated with the value that this expression will have at runtime. Generate code that produces the value of the desired type from the value of the given type; if you cannot do so, then throw an exception.</p>\n</li>\n</ul>\n<p>Notice that those are <em>opposites</em>. There are two kinds of casts!  There are casts where you are giving a <em>hint</em> to the compiler about <em>reality</em> - hey, this thing of type object is actually of type Customer - and there are casts where you are telling the compiler to <em>perform a mapping from one type to another</em> - hey, I need the int that corresponds to this double.</p>\n<p>Both kinds of casts are red flags.  The first kind of cast raises the question &quot;why exactly is it that the developer knows something that the compiler doesn't?&quot;  If you are in that situation then the better thing to do is usually to change the program so that the compiler <em>does</em> have a handle on reality. Then you don't need the cast; the analysis is done at compile time.</p>\n<p>The second kind of cast raises the question &quot;why isn't the operation being done in the target data type in the first place?&quot; If you need a result in ints then why are you holding a double in the first place? Shouldn't you be holding an int?</p>\n<p>Some additional thoughts here:</p>\n<p><a href=\"https://ericlippert.com/category/cast-operator/\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":213666,"reputation":4795,"user_id":467170,"accept_rate":68,"display_name":"kmarks2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289593062,"creation_date":1289593062,"answer_id":4168702,"question_id":4167304,"body_markdown":"To be really concise, a good reason is because of portability.  Different architecture that both accommodate the same language might have, say, different sized ints.  So if I migrate from ArchA to ArchB, which has a narrower int, I might see odd behavior at best, and seg faulting at worst.\r\n\r\n(I&#39;m clearly ignoring architecture independent bytecode and IL.) ","title":"Why should casting be avoided?","body":"<p>To be really concise, a good reason is because of portability.  Different architecture that both accommodate the same language might have, say, different sized ints.  So if I migrate from ArchA to ArchB, which has a narrower int, I might see odd behavior at best, and seg faulting at worst.</p>\n\n<p>(I'm clearly ignoring architecture independent bytecode and IL.) </p>\n"},{"tags":[],"owner":{"account_id":56323,"reputation":5509,"user_id":168715,"accept_rate":89,"display_name":"user168715"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289600799,"creation_date":1289600799,"answer_id":4169625,"question_id":4167304,"body_markdown":"There is a growing tendency for programmers to cling to dogmatic rules about use of language features (&quot;never use XXX!&quot;, &quot;XXX considered harmful&quot;, etc), where XXX ranges from `goto`s to pointers to `protected` data members to singletons to passing objects by value. \r\n\r\nFollowing such rules, in my experience, ensures two things: you will not be a terrible programmer, nor will you be a great programmer.\r\n\r\nA much better approach is to dig down and uncover the kernel of truth behind these blanket prohibitions, and then use the features judiciously, with the understanding that there **are** many situations for which they&#39;re the best tool for the job.\r\n\r\n&quot;I generally avoid casting types as much as possible&quot; is a good example of such an overgeneralized rule. Casts are essential in many common situations. Some examples:\r\n\r\n1. When interoperating with third-party code (especially when that code is rife with `typedef`s). (Example: `GLfloat` &lt;--&gt; `double` &lt;--&gt; `Real`.)\r\n2. Casting from a derived to base class pointer/reference: This is so common and natural that the compiler will do it implicitly. If making it explicit increases readability, the cast is a step forwards, not backwards!\r\n3. Casting from a base to derived class pointer/reference: Also common, even in well-designed code. (Example: heterogeneous containers.)\r\n4. Inside binary serialization/deserialization or other low-level code that needs access to the raw bytes of built-in types.\r\n5. Any time when it&#39;s just plain more natural, convenient, and readable to use a different type. (Example: `std::size_type` --&gt; `int`.)\r\n\r\n\r\nThere are certainly many situations where it&#39;s *not* appropriate to use a cast, and it&#39;s important to learn these as well; I won&#39;t go into too much detail since the answers above have done a good job pointing some of them out. ","title":"Why should casting be avoided?","body":"<p>There is a growing tendency for programmers to cling to dogmatic rules about use of language features (\"never use XXX!\", \"XXX considered harmful\", etc), where XXX ranges from <code>goto</code>s to pointers to <code>protected</code> data members to singletons to passing objects by value. </p>\n\n<p>Following such rules, in my experience, ensures two things: you will not be a terrible programmer, nor will you be a great programmer.</p>\n\n<p>A much better approach is to dig down and uncover the kernel of truth behind these blanket prohibitions, and then use the features judiciously, with the understanding that there <strong>are</strong> many situations for which they're the best tool for the job.</p>\n\n<p>\"I generally avoid casting types as much as possible\" is a good example of such an overgeneralized rule. Casts are essential in many common situations. Some examples:</p>\n\n<ol>\n<li>When interoperating with third-party code (especially when that code is rife with <code>typedef</code>s). (Example: <code>GLfloat</code> &lt;--> <code>double</code> &lt;--> <code>Real</code>.)</li>\n<li>Casting from a derived to base class pointer/reference: This is so common and natural that the compiler will do it implicitly. If making it explicit increases readability, the cast is a step forwards, not backwards!</li>\n<li>Casting from a base to derived class pointer/reference: Also common, even in well-designed code. (Example: heterogeneous containers.)</li>\n<li>Inside binary serialization/deserialization or other low-level code that needs access to the raw bytes of built-in types.</li>\n<li>Any time when it's just plain more natural, convenient, and readable to use a different type. (Example: <code>std::size_type</code> --> <code>int</code>.)</li>\n</ol>\n\n<p>There are certainly many situations where it's <em>not</em> appropriate to use a cast, and it's important to learn these as well; I won't go into too much detail since the answers above have done a good job pointing some of them out. </p>\n"}],"owner":{"account_id":139038,"reputation":3875,"user_id":344351,"accept_rate":94,"display_name":"LoudNPossiblyWrong"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28184,"favorite_count":0,"down_vote_count":3,"up_vote_count":109,"closed_date":1469599971,"accepted_answer_id":4167575,"answer_count":14,"score":106,"last_activity_date":1658432698,"creation_date":1289582354,"question_id":4167304,"body_markdown":"I generally avoid casting types as much as possible since I am under the impression that it&#39;s poor coding practice and may incur a performance penalty. \r\n\r\nBut if someone asked me to explain why exactly that is, i would probably look at them like a deer in headlights.\r\n\r\nSo why/when is casting bad? \r\n\r\nIs it general for java, c#, c++ or does every different runtime environment deal with it on it&#39;s own terms? \r\n\r\nSpecifics for a any language are welcome, example why is it bad in c++?","title":"Why should casting be avoided?","body":"<p>I generally avoid casting types as much as possible since I am under the impression that it's poor coding practice and may incur a performance penalty. </p>\n\n<p>But if someone asked me to explain why exactly that is, i would probably look at them like a deer in headlights.</p>\n\n<p>So why/when is casting bad? </p>\n\n<p>Is it general for java, c#, c++ or does every different runtime environment deal with it on it's own terms? </p>\n\n<p>Specifics for a any language are welcome, example why is it bad in c++?</p>\n"},{"tags":["java","abstract-class","instanceof","abstract-data-type"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":1,"creation_date":1658423910,"post_id":73070099,"comment_id":129053978,"body_markdown":"I think you might be looking into using Java Generics.","body":"I think you might be looking into using Java Generics."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1658427693,"post_id":73070099,"comment_id":129055236,"body_markdown":"I don&#39;t think this line of your code compiles: `if(myItems[i] instanceof itemDelete)` The thing after `instanceof` should be the name of a class or interface and not the name of a variable. In any case, if you want the exact type of a variable, call method `getClass()`, as in `itemDelete.getClass()`","body":"I don&#39;t think this line of your code compiles: <code>if(myItems[i] instanceof itemDelete)</code> The thing after <code>instanceof</code> should be the name of a class or interface and not the name of a variable. In any case, if you want the exact type of a variable, call method <code>getClass()</code>, as in <code>itemDelete.getClass()</code>"},{"owner":{"account_id":24852307,"reputation":23,"user_id":18729077,"display_name":"Axsis"},"score":0,"creation_date":1658429796,"post_id":73070099,"comment_id":129055858,"body_markdown":"@user16320675 Yes, itemDelete passed in as a child class ovject of the abstract class MPItem. I want to search the array for an object of that class I passed in and delete it.","body":"@user16320675 Yes, itemDelete passed in as a child class ovject of the abstract class MPItem. I want to search the array for an object of that class I passed in and delete it."},{"owner":{"account_id":24852307,"reputation":23,"user_id":18729077,"display_name":"Axsis"},"score":0,"creation_date":1658429971,"post_id":73070099,"comment_id":129055922,"body_markdown":"@Abra Yes, the code I originally have in there does not work, it&#39;s mainly just a placeholder for what I want to do. Also, I have tried adding getClass() to the end of itemDelete in that instanceof check. It does not work, saying &#39;)&#39; expected, illegal start of expression, and &#39;;&#39; expected, which leads me to believe I am simply using it wrong?","body":"@Abra Yes, the code I originally have in there does not work, it&#39;s mainly just a placeholder for what I want to do. Also, I have tried adding getClass() to the end of itemDelete in that instanceof check. It does not work, saying &#39;)&#39; expected, illegal start of expression, and &#39;;&#39; expected, which leads me to believe I am simply using it wrong?"}],"answers":[{"tags":[],"owner":{"account_id":25784351,"reputation":162,"user_id":19529459,"display_name":"Volt4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658432013,"creation_date":1658431254,"answer_id":73071607,"question_id":73070099,"body_markdown":"Assuming that myItems is defined like this:\r\n ```\r\nMPItems[] myItems = ...\r\n```\r\nYou can use generics and the ```isAssignableFrom``` method to achieve your goal:\r\n```\r\npublic void removeItem(Class&lt;? extends MPItem&gt; itemDelete){\r\n    for (int i = 0; i &lt; myItems.length; i++) {\r\n        if (myItems[i].getClass().isAssignableFrom(itemDelete)){\r\n            myItems[i] = null;\r\n            break;\r\n        }\r\n\r\n        //If it reaches this point, we hit the end of the array with no item matching.\r\n        if (i == myItems.length - 1){\r\n            System.out.println(&quot;Item to delete not found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTo call the function, do this:\r\n```\r\nfoo.removeItem(Something.class);\r\n```\r\n\r\nSide note: ```myItems[i] = null``` is not actually deleting anything from the array (at least not in the normal sense). It is simply setting that position in the array to be null (maybe this is actually what you want). If you actually want to remove the element from the array, here is an alternative solution:\r\n```\r\npublic void removeItem(Class&lt;? extends MPItem&gt; itemDelete){\r\n    myItems = Stream.of(myItems).filter(i -&gt; !i.getClass().isAssignableFrom(itemDelete)).toArray(MPItem[]::new);\r\n}\r\n```\r\nHowever, since this method is reassigning myItems, it may break other parts of your code :/","title":"How can I identify the class of an abstract object being an argument to a function?","body":"<p>Assuming that myItems is defined like this:</p>\n<pre><code>MPItems[] myItems = ...\n</code></pre>\n<p>You can use generics and the <code>isAssignableFrom</code> method to achieve your goal:</p>\n<pre><code>public void removeItem(Class&lt;? extends MPItem&gt; itemDelete){\n    for (int i = 0; i &lt; myItems.length; i++) {\n        if (myItems[i].getClass().isAssignableFrom(itemDelete)){\n            myItems[i] = null;\n            break;\n        }\n\n        //If it reaches this point, we hit the end of the array with no item matching.\n        if (i == myItems.length - 1){\n            System.out.println(&quot;Item to delete not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>To call the function, do this:</p>\n<pre><code>foo.removeItem(Something.class);\n</code></pre>\n<p>Side note: <code>myItems[i] = null</code> is not actually deleting anything from the array (at least not in the normal sense). It is simply setting that position in the array to be null (maybe this is actually what you want). If you actually want to remove the element from the array, here is an alternative solution:</p>\n<pre><code>public void removeItem(Class&lt;? extends MPItem&gt; itemDelete){\n    myItems = Stream.of(myItems).filter(i -&gt; !i.getClass().isAssignableFrom(itemDelete)).toArray(MPItem[]::new);\n}\n</code></pre>\n<p>However, since this method is reassigning myItems, it may break other parts of your code :/</p>\n"}],"owner":{"account_id":24852307,"reputation":23,"user_id":18729077,"display_name":"Axsis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73071607,"answer_count":1,"score":1,"last_activity_date":1658432013,"creation_date":1658422870,"question_id":73070099,"body_markdown":"I am trying to make a function that sifts through an array of objects that inherit from one abstract class. The function takes in the item to look for as an argument of the abstract class type, and, if it finds the object type, it deletes it. Here is the code:\r\n\r\n    public void removeItem(MPItem itemDelete){\r\n        for (int i = 0; i &lt; myItems.length; i++){\r\n            if(myItems[i] instanceof itemDelete){\r\n                myItems[i] = null;\r\n                break;\r\n            }\r\n            \r\n            //If it reaches this point, we hit the end of the array with no item matching.\r\n            if(i == myItems.length - 1){\r\n                System.out.println(&quot;Item to delete not found&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI know that by typing *instanceof* in the if statement, it tries to find a class named itemDelete, which does not exist. I am trying to make it to where, no matter what item type I pass in the function that are children of the MPItem abstract class, it will see what exact child class it is, find the first instance of that child type in the array, set it to null, and exit the function. Can anyone help with this or direct me to something that will? Thanks!","title":"How can I identify the class of an abstract object being an argument to a function?","body":"<p>I am trying to make a function that sifts through an array of objects that inherit from one abstract class. The function takes in the item to look for as an argument of the abstract class type, and, if it finds the object type, it deletes it. Here is the code:</p>\n<pre><code>public void removeItem(MPItem itemDelete){\n    for (int i = 0; i &lt; myItems.length; i++){\n        if(myItems[i] instanceof itemDelete){\n            myItems[i] = null;\n            break;\n        }\n        \n        //If it reaches this point, we hit the end of the array with no item matching.\n        if(i == myItems.length - 1){\n            System.out.println(&quot;Item to delete not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I know that by typing <em>instanceof</em> in the if statement, it tries to find a class named itemDelete, which does not exist. I am trying to make it to where, no matter what item type I pass in the function that are children of the MPItem abstract class, it will see what exact child class it is, find the first instance of that child type in the array, set it to null, and exit the function. Can anyone help with this or direct me to something that will? Thanks!</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1619281456,"post_id":67244804,"comment_id":118860017,"body_markdown":"I don&#39;t understand your question.  The documentation says that you can use `if( node instanceOf Element )` to test the type of the `Node`.  Whether something is an Element or something else is defined by the [specification](https://www.w3schools.com/xml/xml_elements.asp).  Could you elaborate what difficulty you are having?","body":"I don&#39;t understand your question.  The documentation says that you can use <code>if( node instanceOf Element )</code> to test the type of the <code>Node</code>.  Whether something is an Element or something else is defined by the <a href=\"https://www.w3schools.com/xml/xml_elements.asp\" rel=\"nofollow noreferrer\">specification</a>.  Could you elaborate what difficulty you are having?"},{"owner":{"account_id":9695118,"reputation":17,"user_id":8036038,"display_name":"Vivek Shah"},"score":0,"creation_date":1619282246,"post_id":67244804,"comment_id":118860221,"body_markdown":"@markspace, Yeah, I get that I can use something like `if ( node isInstanceOf Element) thenDoSomething()`, my question is in which scenarios / cases will node passed in the argument of head function be of instance Element or something else?","body":"@markspace, Yeah, I get that I can use something like <code>if ( node isInstanceOf Element) thenDoSomething()</code>, my question is in which scenarios / cases will node passed in the argument of head function be of instance Element or something else?"}],"answers":[{"tags":[],"owner":{"account_id":8621597,"reputation":115,"user_id":6456330,"display_name":"Anshu Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658431822,"creation_date":1658431822,"answer_id":73071705,"question_id":67244804,"body_markdown":"@VivekShah please make your problem statement more specific, provide some more error/exception. If i understood your question properly which is, &quot;in which scenarios/cases will Node passed in the argument of head function be of instance Element&quot;. Your can find answer to your question at below link, please go through it.\r\n[https://www.tabnine.com/code/java/classes/org.w3c.dom.Node][1]\r\n\r\nAlso putting this information as it is relevant to this question, may be helpful to someone, \r\n\r\nif(node instanceof Element) to test the type of the Node thenDoSomething();\r\n\r\nMissing the above check make cause following Excpetion like this,\r\n\r\nExcpetion :: class com.sun.org.apache.xerces.internal.dom.DeferredTextImpl cannot be cast to class org.w3c.dom.Element (com.sun.org.apache.xerces.internal.dom.DeferredTextImpl and org.w3c.dom.Element are in module java.xml of loader &#39;bootstrap&#39;)\r\n\r\n\r\n  [1]: https://www.tabnine.com/code/java/classes/org.w3c.dom.Node","title":"How to know when will the instance of Node be an Element?","body":"<p>@VivekShah please make your problem statement more specific, provide some more error/exception. If i understood your question properly which is, &quot;in which scenarios/cases will Node passed in the argument of head function be of instance Element&quot;. Your can find answer to your question at below link, please go through it.\n<a href=\"https://www.tabnine.com/code/java/classes/org.w3c.dom.Node\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/classes/org.w3c.dom.Node</a></p>\n<p>Also putting this information as it is relevant to this question, may be helpful to someone,</p>\n<p>if(node instanceof Element) to test the type of the Node thenDoSomething();</p>\n<p>Missing the above check make cause following Excpetion like this,</p>\n<p>Excpetion :: class com.sun.org.apache.xerces.internal.dom.DeferredTextImpl cannot be cast to class org.w3c.dom.Element (com.sun.org.apache.xerces.internal.dom.DeferredTextImpl and org.w3c.dom.Element are in module java.xml of loader 'bootstrap')</p>\n"}],"owner":{"account_id":9695118,"reputation":17,"user_id":8036038,"display_name":"Vivek Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658431822,"creation_date":1619280298,"question_id":67244804,"body_markdown":"The [documentation](https://jsoup.org/apidocs/org/jsoup/helper/W3CDom.W3CBuilder.html#head(org.jsoup.nodes.Node,int)) of Jsoup for Nodevisitor head says \r\n\r\n&gt; If it&#39;s instanceOf Element, you may cast it to an Element and access those methods.\r\n\r\nThe doc specifies what we can do when the instance of Node is Element. My question is when is the instance of the Node passed into argument of head function is Element? How is that decided?","title":"How to know when will the instance of Node be an Element?","body":"<p>The <a href=\"https://jsoup.org/apidocs/org/jsoup/helper/W3CDom.W3CBuilder.html#head(org.jsoup.nodes.Node,int)\" rel=\"nofollow noreferrer\">documentation</a> of Jsoup for Nodevisitor head says</p>\n<blockquote>\n<p>If it's instanceOf Element, you may cast it to an Element and access those methods.</p>\n</blockquote>\n<p>The doc specifies what we can do when the instance of Node is Element. My question is when is the instance of the Node passed into argument of head function is Element? How is that decided?</p>\n"},{"tags":["java","printf"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1658431062,"post_id":73071505,"comment_id":129056223,"body_markdown":"Can you use other data structures, like Arrays?","body":"Can you use other data structures, like Arrays?"},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1658431195,"post_id":73071505,"comment_id":129056259,"body_markdown":"Have you stepped through your code in a debugger to see where it is going wrong?","body":"Have you stepped through your code in a debugger to see where it is going wrong?"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1658431330,"post_id":73071505,"comment_id":129056296,"body_markdown":"`if (list.indexOf(num) % 10 == 0) {`","body":"<code>if (list.indexOf(num) % 10 == 0) {</code>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1658480193,"post_id":73071505,"comment_id":129066499,"body_markdown":"That `indexOf` call will find the first instance of a number in the list - if there are multiple occurences of a number in the list this is the wrong answer for all but the first occurence. Just use a separate counter for working out the line ends.","body":"That <code>indexOf</code> call will find the first instance of a number in the list - if there are multiple occurences of a number in the list this is the wrong answer for all but the first occurence. Just use a separate counter for working out the line ends."}],"answers":[{"tags":[],"owner":{"account_id":25854193,"reputation":98,"user_id":19587749,"display_name":"xonturis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658431646,"creation_date":1658431646,"answer_id":73071674,"question_id":73071505,"body_markdown":"As @akuzminykh said, you have an issue with how you deal with your random number index in your array.\r\n\r\nTo pe precise, this line:\\\r\n`if (list.indexOf(num) % 10 == 0) {`\r\n\r\nWill return the index of the **FIRST** `num` in your array, so if your `num` corresponds to a previous breakline index (in your case, %10), you will have one new line out of nowhere!\\\r\n\\\r\nTry using a hand made index with your for loop. Or a counter.\r\n\r\nLook at your example:\r\n```\r\n  969  500   12  256  945  105  402  868  213  658\r\n  909  144  165  217  828  628  395  682  816  199\r\n  769  220  218  958   97  237   36   92  220  712\r\n  332  640  547  893  210  926  868  486  914  307\r\n  740  962  109  745  347  896   74  922  686  593\r\n   26  964  677  321  889  690  956  892  720  915 &lt;--- Starting with 26\r\n  631   90  824  338  887  822   49  529  521  841\r\n  504  946  302  253  175  107  765  225    6  101\r\n  747  841  143  642  533  662  143  528  733  209\r\n  377  366  928  511  404\r\n   26  296  946  597  717                          &lt;--- Starting with 26\r\n```","title":"How to make 10x10 printf table display consistently in java?","body":"<p>As @akuzminykh said, you have an issue with how you deal with your random number index in your array.</p>\n<p>To pe precise, this line:<br />\n<code>if (list.indexOf(num) % 10 == 0) {</code></p>\n<p>Will return the index of the <strong>FIRST</strong> <code>num</code> in your array, so if your <code>num</code> corresponds to a previous breakline index (in your case, %10), you will have one new line out of nowhere!<br />\n<br />\nTry using a hand made index with your for loop. Or a counter.</p>\n<p>Look at your example:</p>\n<pre><code>  969  500   12  256  945  105  402  868  213  658\n  909  144  165  217  828  628  395  682  816  199\n  769  220  218  958   97  237   36   92  220  712\n  332  640  547  893  210  926  868  486  914  307\n  740  962  109  745  347  896   74  922  686  593\n   26  964  677  321  889  690  956  892  720  915 &lt;--- Starting with 26\n  631   90  824  338  887  822   49  529  521  841\n  504  946  302  253  175  107  765  225    6  101\n  747  841  143  642  533  662  143  528  733  209\n  377  366  928  511  404\n   26  296  946  597  717                          &lt;--- Starting with 26\n</code></pre>\n"}],"owner":{"account_id":24873691,"reputation":11,"user_id":18747889,"display_name":"poizoni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658431646,"creation_date":1658430572,"question_id":73071505,"body_markdown":"I&#39;m trying to display a 10x10 table of an ArrayList in console using printf. \r\n\r\nlike this:\r\n```\r\n  930  396  466  242  315  254  217  820  287  216\r\n  595  220   13  494  186  645  309  902  560   56\r\n  797  980  201  301  479  694  509  778  702  360\r\n  253  995  647  725  327  774  861  420   37  753\r\n  948  107  935  867  399  818   73  427  485   70\r\n  575  385  174  400  940  296   76  569  362  732\r\n   21  197  948  421  852  954  640  528  119  659\r\n   96   55  475    5  903  940  299   45  432   79\r\n  352  363  698  873  130  704   89  245   45  288\r\n  646  378  967  179   94  607  261  710  504   20\r\n```\r\n\r\nThe code works sometimes, however it will randomly make a new line or fail to make one.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n        // This creates an ArrayList of 100 random integers between the values from 1 to 1000\r\n\r\n        int listSize = 100;\r\n        ArrayList&lt;Integer&gt; list = createList(listSize);\r\n\r\n        displayList(list);\r\n\r\n    }\r\n    private static void displayTable(ArrayList&lt;Integer&gt; list) {\r\n        System.out.println();\r\n        for (Integer num : list) {\r\n            if (list.indexOf(num) % 10 == 0) {\r\n                System.out.printf(&quot;%n%5d&quot;, num);\r\n            } else {\r\n                System.out.printf(&quot;%5d&quot;, num);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nHere are two examples of outputs I&#39;ve gotten:\r\n\r\n```\r\n  969  500   12  256  945  105  402  868  213  658\r\n  909  144  165  217  828  628  395  682  816  199\r\n  769  220  218  958   97  237   36   92  220  712\r\n  332  640  547  893  210  926  868  486  914  307\r\n  740  962  109  745  347  896   74  922  686  593\r\n   26  964  677  321  889  690  956  892  720  915\r\n  631   90  824  338  887  822   49  529  521  841\r\n  504  946  302  253  175  107  765  225    6  101\r\n  747  841  143  642  533  662  143  528  733  209\r\n  377  366  928  511  404\r\n   26  296  946  597  717\r\n```\r\n```\r\n  673  257  970  480  595  936 1000  490  937   45\r\n  156  619  722  237  448  611  266  603   84  421\r\n  719    8  341  720  284  170  885  740  587  686\r\n  182  111  533  268  455  804  494   14  161   38\r\n  612\r\n  612  235  758  366  607  354  591  914  791\r\n  277  426  318  204  692  851  727  654  696    7\r\n  504  801  213  368  834  928  141  951  714  340\r\n  190  325  129  930  923  654  997  903  569  867\r\n  956  736  712  586  560  770  497  875  854  618\r\n  998  281  953  747  828  212  844  314  494  367\r\n```","title":"How to make 10x10 printf table display consistently in java?","body":"<p>I'm trying to display a 10x10 table of an ArrayList in console using printf.</p>\n<p>like this:</p>\n<pre><code>  930  396  466  242  315  254  217  820  287  216\n  595  220   13  494  186  645  309  902  560   56\n  797  980  201  301  479  694  509  778  702  360\n  253  995  647  725  327  774  861  420   37  753\n  948  107  935  867  399  818   73  427  485   70\n  575  385  174  400  940  296   76  569  362  732\n   21  197  948  421  852  954  640  528  119  659\n   96   55  475    5  903  940  299   45  432   79\n  352  363  698  873  130  704   89  245   45  288\n  646  378  967  179   94  607  261  710  504   20\n</code></pre>\n<p>The code works sometimes, however it will randomly make a new line or fail to make one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n        // This creates an ArrayList of 100 random integers between the values from 1 to 1000\n\n        int listSize = 100;\n        ArrayList&lt;Integer&gt; list = createList(listSize);\n\n        displayList(list);\n\n    }\n    private static void displayTable(ArrayList&lt;Integer&gt; list) {\n        System.out.println();\n        for (Integer num : list) {\n            if (list.indexOf(num) % 10 == 0) {\n                System.out.printf(&quot;%n%5d&quot;, num);\n            } else {\n                System.out.printf(&quot;%5d&quot;, num);\n            }\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Here are two examples of outputs I've gotten:</p>\n<pre><code>  969  500   12  256  945  105  402  868  213  658\n  909  144  165  217  828  628  395  682  816  199\n  769  220  218  958   97  237   36   92  220  712\n  332  640  547  893  210  926  868  486  914  307\n  740  962  109  745  347  896   74  922  686  593\n   26  964  677  321  889  690  956  892  720  915\n  631   90  824  338  887  822   49  529  521  841\n  504  946  302  253  175  107  765  225    6  101\n  747  841  143  642  533  662  143  528  733  209\n  377  366  928  511  404\n   26  296  946  597  717\n</code></pre>\n<pre><code>  673  257  970  480  595  936 1000  490  937   45\n  156  619  722  237  448  611  266  603   84  421\n  719    8  341  720  284  170  885  740  587  686\n  182  111  533  268  455  804  494   14  161   38\n  612\n  612  235  758  366  607  354  591  914  791\n  277  426  318  204  692  851  727  654  696    7\n  504  801  213  368  834  928  141  951  714  340\n  190  325  129  930  923  654  997  903  569  867\n  956  736  712  586  560  770  497  875  854  618\n  998  281  953  747  828  212  844  314  494  367\n</code></pre>\n"},{"tags":["java","jna","windows-identity","waffle","createprocessasuser"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1658437282,"post_id":73070791,"comment_id":129058025,"body_markdown":"Did you consider [this comment](https://stackoverflow.com/questions/52308063/how-to-logon-a-user-on-a-server-and-run-a-process-given-a-kerberos-ticket#comment91801966_52412213)?","body":"Did you consider <a href=\"https://stackoverflow.com/questions/52308063/how-to-logon-a-user-on-a-server-and-run-a-process-given-a-kerberos-ticket#comment91801966_52412213\">this comment</a>?"},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1658446460,"post_id":73070791,"comment_id":129059960,"body_markdown":"Thanks Daniel! What are the configurations to be made in the server to allow impersonation/Delegation. BTW, Server is already running as Admin. Kindly let me know exactly, what are the configs are required.","body":"Thanks Daniel! What are the configurations to be made in the server to allow impersonation/Delegation. BTW, Server is already running as Admin. Kindly let me know exactly, what are the configs are required."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1658449870,"post_id":73070791,"comment_id":129060433,"body_markdown":"Sorry, I know JNA but I don&#39;t know impersonation, which is more of a Windows thing. I just found that comment in my attempts to search for a solution for you and thought it might hint you toward a solution.","body":"Sorry, I know JNA but I don&#39;t know impersonation, which is more of a Windows thing. I just found that comment in my attempts to search for a solution for you and thought it might hint you toward a solution."}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658431292,"creation_date":1658426359,"question_id":73070791,"body_markdown":"We are developing Java web application, it will be deployed and used in the pure Windows platform. Our use case is, couple of licensed Tools/Software in Server needs to be accessed by the associates who has license to those tools.\r\n\r\nOur plan is to use the Waffle SSO to get the User identity and impersonate the logged in user into the server and access the Tools as a sub process in the impersonated security context.\r\n\r\nAfter lots of reading, we decided to go with createProcessAsUser using Waffle and JNA. We are completely new to the JNA and Waffle. Our blockers and questions as follows,\r\n\r\n - We are following this thread [https://stackoverflow.com/questions/52275950/create-process-as-different-user-with-java-and-kerberos][1]\r\n\r\n - How do we get the token bytes from the security context or authentication object?\r\n```java\r\nfinal byte[] tokenBuffer = authorizationHeader.getTokenBytes();\r\n``` \r\nBecause in Spring controller method `authorizationHeader` won’t be available to extract the token bytes\r\n\r\n - Are token bytes from `authorizationHeader` and `SID` from user principal the same ?\r\n\r\n - How do we extract the `hToken` (`win32.WinNT.HANDLE`) from the token or `windowsidentity` Object (We have tried to get the pointer from the `windowsidentity` to create a `HANDLE` object. Since it is private final object, it has failed.)\r\n\r\n - Why hToken (win32.WinNT.HANDLE is referred as security context token. Neither it is token nor it is available in security context \r\n\r\n - Though `createProcessAsUser` code has many issues, it got executed and created a new process. *Only impersonation failed.* Whoever accesses this controller method, process is created by server user\r\n\r\n - To impersonate the user in the server, is the following code enough?\r\n```java\r\n@Bean\r\npublic NegotiateSecurityFilter waffleNegotiateSecurityFilter(\r\n    SecurityFilterProviderCollection securityFilterProviderCollection, final HttpServletRequest request,\r\n    final HttpServletResponse response) throws IOException {\r\n  NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\r\n  negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\r\n  negotiateSecurityFilter.setImpersonate(true);\r\n  return negotiateSecurityFilter;\r\n} \r\n```\r\n     \r\nThis configuration hasn’t impersonated the logged on user in server.\r\n\r\n**Spring security Configurations:**\r\n\r\n```java\r\n@Configuration\r\n\r\n@EnableWebSecurity\r\n \r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n@Autowired\r\nprivate NegotiateSecurityFilter negotiateSecurityFilter;\r\n\r\n@Autowired\r\nprivate NegotiateSecurityFilterEntryPoint entryPoint;\r\n\r\n@Bean\r\npublic CustomNegotiateSecurityFilter customNegotiateSecurityFilter() {\r\n return new CustomNegotiateSecurityFilter();\r\n}\r\n\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n http.cors().and().csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic()\r\n     .authenticationEntryPoint(entryPoint).and()\r\n     .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)\r\n     .addFilterAfter(customNegotiateSecurityFilter(), BasicAuthenticationFilter.class);\r\n}\r\n\r\n@Override\r\n@Autowired\r\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n  auth.inMemoryAuthentication();\r\n} \r\n```\r\n\r\n**Waffle Configuration:**\r\n\r\n```java\r\n@Configuration\r\npublic class WaffleConfig {\r\n\r\n  @Bean\r\n  public WindowsAuthProviderImpl waffleWindowsAuthProvider() {\r\n    return new WindowsAuthProviderImpl();\r\n  }\r\n\r\n  @Bean\r\n  public NegotiateSecurityFilterProvider negotiateSecurityFilterProvider(\r\n      WindowsAuthProviderImpl windowsAuthProvider) {\r\n    return new NegotiateSecurityFilterProvider(windowsAuthProvider);\r\n  }\r\n\r\n  @Bean\r\n  public BasicSecurityFilterProvider basicSecurityFilterProvider(WindowsAuthProviderImpl windowsAuthProvider) {\r\n    return new BasicSecurityFilterProvider(windowsAuthProvider);\r\n  }\r\n\r\n  @Bean\r\n  public SecurityFilterProviderCollection waffleSecurityFilterProviderCollection(\r\n      NegotiateSecurityFilterProvider negotiateSecurityFilterProvider,\r\n      BasicSecurityFilterProvider basicSecurityFilterProvider) {\r\n    SecurityFilterProvider[] securityFilterProviders = { negotiateSecurityFilterProvider,\r\n        basicSecurityFilterProvider };\r\n    return new SecurityFilterProviderCollection(securityFilterProviders);\r\n  }\r\n\r\n  @Bean\r\n  public NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint(\r\n      SecurityFilterProviderCollection securityFilterProviderCollection) {\r\n    NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint = new NegotiateSecurityFilterEntryPoint();\r\n    negotiateSecurityFilterEntryPoint.setProvider(securityFilterProviderCollection);\r\n    return negotiateSecurityFilterEntryPoint;\r\n  }\r\n\r\n  @Bean\r\n  public NegotiateSecurityFilter waffleNegotiateSecurityFilter(\r\n      SecurityFilterProviderCollection securityFilterProviderCollection, final HttpServletRequest request,\r\n      final HttpServletResponse response) throws IOException {\r\n    NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\r\n    negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\r\n    negotiateSecurityFilter.setImpersonate(true);\r\n    return negotiateSecurityFilter;\r\n  }\r\n\r\n  // This is required for Spring Boot so it does not register the same filter\r\n  // twice\r\n\r\n  @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n  @Bean\r\n  public FilterRegistrationBean waffleNegotiateSecurityFilterRegistration(\r\n      NegotiateSecurityFilter waffleNegotiateSecurityFilter, HttpServletRequest request,\r\n      HttpServletResponse response) throws IOException {\r\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n    registrationBean.setFilter(waffleNegotiateSecurityFilter);\r\n    registrationBean.setEnabled(false);\r\n    return registrationBean;\r\n  }\r\n\r\n}\r\n```\r\n\r\n##Spring Controller method to be invoked by remote users##\r\n\r\n```java\r\n@GetMapping(&quot;createProcessAsUser&quot;)\r\n  public String createProcessAsUser() {\r\n    SecurityContext context = SecurityContextHolder.getContext();\r\n    Authentication authentication = context.getAuthentication();\r\n    WindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\r\n    \r\n    final byte[] tokenBuffer = principal.getSid();\r\n    CredHandle serverCredHandle = new CredHandle();\r\n    TimeStamp clientLifetime = new TimeStamp();\r\n    int rc = Secur32.INSTANCE.AcquireCredentialsHandle(\r\n                null, \r\n                &quot;Negotiate&quot;, \r\n                Sspi.SECPKG_CRED_INBOUND, \r\n                null, \r\n                null, \r\n                null, \r\n                null, \r\n                serverCredHandle, \r\n                clientLifetime);\r\n    \r\n    SecBufferDesc pbClientToken = new SecBufferDesc(Sspi.SECBUFFER_TOKEN, tokenBuffer);\r\n    CtxtHandle phNewServerContext = new CtxtHandle();\r\n    SecBufferDesc pbServerToken = new SecBufferDesc(Sspi.SECBUFFER_TOKEN, Sspi.MAX_TOKEN_SIZE);\r\n    IntByReference pfClientContextAttr = new IntByReference();\r\n    \r\n    rc = Secur32.INSTANCE.AcceptSecurityContext(\r\n                serverCredHandle, \r\n                null, \r\n                pbClientToken, \r\n                Sspi.ISC_REQ_CONNECTION, \r\n                Sspi.SECURITY_NATIVE_DREP, \r\n                phNewServerContext, \r\n                pbServerToken, \r\n                pfClientContextAttr, \r\n                null);\r\n    \r\n    //Advapi32.INSTANCE.ImpersonateLoggedOnUser(HANDLE hToken); --- Not sure how to get the HANDLE for the current User\r\n    Advapi32.INSTANCE.ImpersonateSelf(SECURITY_IMPERSONATION_LEVEL.SecurityImpersonation); // Not working \r\n    \r\n    WinNT.HANDLEByReference threadToken = new WinNT.HANDLEByReference();\r\n    WinNT.HANDLE threadHandle = Kernel32.INSTANCE.GetCurrentThread();\r\n\r\n    boolean threadTokenResult = Advapi32.INSTANCE.OpenThreadToken(\r\n            threadHandle,\r\n            WinNT.TOKEN_QUERY | WinNT.TOKEN_DUPLICATE | WinNT.TOKEN_ASSIGN_PRIMARY,\r\n            false, /* TRUE if the access check is to be made against the process-level security context. FALSE if the access check is to be made against the current security context of the thread calling the OpenThreadToken function. */\r\n            threadToken);\r\n\r\n    // create primary token by duplicating impersonation token\r\n    WinNT.HANDLEByReference primaryToken = new WinNT.HANDLEByReference();\r\n\r\n    boolean primaryTokenResult = Advapi32.INSTANCE.DuplicateTokenEx(\r\n            threadToken.getValue(),                                     /* hExistingToken */\r\n            WinNT.TOKEN_DUPLICATE | WinNT.TOKEN_QUERY | WinNT.TOKEN_ASSIGN_PRIMARY, /* dwDesiredAccess */\r\n            null,                                           /* lpTokenAttributes */\r\n            WinNT.SECURITY_IMPERSONATION_LEVEL.SecurityDelegation,      /* ImpersonationLevel */\r\n            WinNT.TOKEN_TYPE.TokenPrimary,                              /* TokenType */\r\n            primaryToken);    \r\n    \r\n    WinBase.STARTUPINFO startupInfo = new WinBase.STARTUPINFO();\r\n    WinBase.PROCESS_INFORMATION processInfo = new WinBase.PROCESS_INFORMATION();\r\n  \r\n    boolean createProcessResult = Advapi32.INSTANCE.CreateProcessAsUser(\r\n            primaryToken.getValue(),    /* hToken */\r\n            &quot;C:\\\\Windows\\\\notepad.exe&quot;,           /* lpApplicationName */\r\n            null,                    /* lpCommandLine */\r\n            null,       /* lpProcessAttributes */\r\n            null,           /* lpThreadAttributes */\r\n            false,          /* bInheritHandles */\r\n            WinNT.CREATE_NEW_CONSOLE | WinNT.CREATE_UNICODE_ENVIRONMENT, /* dwCreationFlags */\r\n            null,                /* lpEnvironment */\r\n            null,           /* lpCurrentDirectory */\r\n            startupInfo,                /* lpStartupInfo */\r\n            processInfo);               /* lpProcessInformation */\r\n    System.out.println(createProcessResult);\r\n    return String.format(&quot;New Process created &quot;,createProcessResult);\r\n\r\n  } \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52275950/create-process-as-different-user-with-java-and-kerberos","title":"Impersonating user in remote machine and creating a process as logged in user","body":"<p>We are developing Java web application, it will be deployed and used in the pure Windows platform. Our use case is, couple of licensed Tools/Software in Server needs to be accessed by the associates who has license to those tools.</p>\n<p>Our plan is to use the Waffle SSO to get the User identity and impersonate the logged in user into the server and access the Tools as a sub process in the impersonated security context.</p>\n<p>After lots of reading, we decided to go with createProcessAsUser using Waffle and JNA. We are completely new to the JNA and Waffle. Our blockers and questions as follows,</p>\n<ul>\n<li><p>We are following this thread <a href=\"https://stackoverflow.com/questions/52275950/create-process-as-different-user-with-java-and-kerberos\">Create process as different user with Java and Kerberos</a></p>\n</li>\n<li><p>How do we get the token bytes from the security context or authentication object?</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>final byte[] tokenBuffer = authorizationHeader.getTokenBytes();\n</code></pre>\n<p>Because in Spring controller method <code>authorizationHeader</code> won’t be available to extract the token bytes</p>\n<ul>\n<li><p>Are token bytes from <code>authorizationHeader</code> and <code>SID</code> from user principal the same ?</p>\n</li>\n<li><p>How do we extract the <code>hToken</code> (<code>win32.WinNT.HANDLE</code>) from the token or <code>windowsidentity</code> Object (We have tried to get the pointer from the <code>windowsidentity</code> to create a <code>HANDLE</code> object. Since it is private final object, it has failed.)</p>\n</li>\n<li><p>Why hToken (win32.WinNT.HANDLE is referred as security context token. Neither it is token nor it is available in security context</p>\n</li>\n<li><p>Though <code>createProcessAsUser</code> code has many issues, it got executed and created a new process. <em>Only impersonation failed.</em> Whoever accesses this controller method, process is created by server user</p>\n</li>\n<li><p>To impersonate the user in the server, is the following code enough?</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic NegotiateSecurityFilter waffleNegotiateSecurityFilter(\n    SecurityFilterProviderCollection securityFilterProviderCollection, final HttpServletRequest request,\n    final HttpServletResponse response) throws IOException {\n  NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\n  negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\n  negotiateSecurityFilter.setImpersonate(true);\n  return negotiateSecurityFilter;\n} \n</code></pre>\n<p>This configuration hasn’t impersonated the logged on user in server.</p>\n<p><strong>Spring security Configurations:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n\n@EnableWebSecurity\n \n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate NegotiateSecurityFilter negotiateSecurityFilter;\n\n@Autowired\nprivate NegotiateSecurityFilterEntryPoint entryPoint;\n\n@Bean\npublic CustomNegotiateSecurityFilter customNegotiateSecurityFilter() {\n return new CustomNegotiateSecurityFilter();\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n http.cors().and().csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic()\n     .authenticationEntryPoint(entryPoint).and()\n     .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)\n     .addFilterAfter(customNegotiateSecurityFilter(), BasicAuthenticationFilter.class);\n}\n\n@Override\n@Autowired\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n  auth.inMemoryAuthentication();\n} \n</code></pre>\n<p><strong>Waffle Configuration:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WaffleConfig {\n\n  @Bean\n  public WindowsAuthProviderImpl waffleWindowsAuthProvider() {\n    return new WindowsAuthProviderImpl();\n  }\n\n  @Bean\n  public NegotiateSecurityFilterProvider negotiateSecurityFilterProvider(\n      WindowsAuthProviderImpl windowsAuthProvider) {\n    return new NegotiateSecurityFilterProvider(windowsAuthProvider);\n  }\n\n  @Bean\n  public BasicSecurityFilterProvider basicSecurityFilterProvider(WindowsAuthProviderImpl windowsAuthProvider) {\n    return new BasicSecurityFilterProvider(windowsAuthProvider);\n  }\n\n  @Bean\n  public SecurityFilterProviderCollection waffleSecurityFilterProviderCollection(\n      NegotiateSecurityFilterProvider negotiateSecurityFilterProvider,\n      BasicSecurityFilterProvider basicSecurityFilterProvider) {\n    SecurityFilterProvider[] securityFilterProviders = { negotiateSecurityFilterProvider,\n        basicSecurityFilterProvider };\n    return new SecurityFilterProviderCollection(securityFilterProviders);\n  }\n\n  @Bean\n  public NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint(\n      SecurityFilterProviderCollection securityFilterProviderCollection) {\n    NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint = new NegotiateSecurityFilterEntryPoint();\n    negotiateSecurityFilterEntryPoint.setProvider(securityFilterProviderCollection);\n    return negotiateSecurityFilterEntryPoint;\n  }\n\n  @Bean\n  public NegotiateSecurityFilter waffleNegotiateSecurityFilter(\n      SecurityFilterProviderCollection securityFilterProviderCollection, final HttpServletRequest request,\n      final HttpServletResponse response) throws IOException {\n    NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\n    negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\n    negotiateSecurityFilter.setImpersonate(true);\n    return negotiateSecurityFilter;\n  }\n\n  // This is required for Spring Boot so it does not register the same filter\n  // twice\n\n  @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\n  @Bean\n  public FilterRegistrationBean waffleNegotiateSecurityFilterRegistration(\n      NegotiateSecurityFilter waffleNegotiateSecurityFilter, HttpServletRequest request,\n      HttpServletResponse response) throws IOException {\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n    registrationBean.setFilter(waffleNegotiateSecurityFilter);\n    registrationBean.setEnabled(false);\n    return registrationBean;\n  }\n\n}\n</code></pre>\n<p>##Spring Controller method to be invoked by remote users##</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;createProcessAsUser&quot;)\n  public String createProcessAsUser() {\n    SecurityContext context = SecurityContextHolder.getContext();\n    Authentication authentication = context.getAuthentication();\n    WindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\n    \n    final byte[] tokenBuffer = principal.getSid();\n    CredHandle serverCredHandle = new CredHandle();\n    TimeStamp clientLifetime = new TimeStamp();\n    int rc = Secur32.INSTANCE.AcquireCredentialsHandle(\n                null, \n                &quot;Negotiate&quot;, \n                Sspi.SECPKG_CRED_INBOUND, \n                null, \n                null, \n                null, \n                null, \n                serverCredHandle, \n                clientLifetime);\n    \n    SecBufferDesc pbClientToken = new SecBufferDesc(Sspi.SECBUFFER_TOKEN, tokenBuffer);\n    CtxtHandle phNewServerContext = new CtxtHandle();\n    SecBufferDesc pbServerToken = new SecBufferDesc(Sspi.SECBUFFER_TOKEN, Sspi.MAX_TOKEN_SIZE);\n    IntByReference pfClientContextAttr = new IntByReference();\n    \n    rc = Secur32.INSTANCE.AcceptSecurityContext(\n                serverCredHandle, \n                null, \n                pbClientToken, \n                Sspi.ISC_REQ_CONNECTION, \n                Sspi.SECURITY_NATIVE_DREP, \n                phNewServerContext, \n                pbServerToken, \n                pfClientContextAttr, \n                null);\n    \n    //Advapi32.INSTANCE.ImpersonateLoggedOnUser(HANDLE hToken); --- Not sure how to get the HANDLE for the current User\n    Advapi32.INSTANCE.ImpersonateSelf(SECURITY_IMPERSONATION_LEVEL.SecurityImpersonation); // Not working \n    \n    WinNT.HANDLEByReference threadToken = new WinNT.HANDLEByReference();\n    WinNT.HANDLE threadHandle = Kernel32.INSTANCE.GetCurrentThread();\n\n    boolean threadTokenResult = Advapi32.INSTANCE.OpenThreadToken(\n            threadHandle,\n            WinNT.TOKEN_QUERY | WinNT.TOKEN_DUPLICATE | WinNT.TOKEN_ASSIGN_PRIMARY,\n            false, /* TRUE if the access check is to be made against the process-level security context. FALSE if the access check is to be made against the current security context of the thread calling the OpenThreadToken function. */\n            threadToken);\n\n    // create primary token by duplicating impersonation token\n    WinNT.HANDLEByReference primaryToken = new WinNT.HANDLEByReference();\n\n    boolean primaryTokenResult = Advapi32.INSTANCE.DuplicateTokenEx(\n            threadToken.getValue(),                                     /* hExistingToken */\n            WinNT.TOKEN_DUPLICATE | WinNT.TOKEN_QUERY | WinNT.TOKEN_ASSIGN_PRIMARY, /* dwDesiredAccess */\n            null,                                           /* lpTokenAttributes */\n            WinNT.SECURITY_IMPERSONATION_LEVEL.SecurityDelegation,      /* ImpersonationLevel */\n            WinNT.TOKEN_TYPE.TokenPrimary,                              /* TokenType */\n            primaryToken);    \n    \n    WinBase.STARTUPINFO startupInfo = new WinBase.STARTUPINFO();\n    WinBase.PROCESS_INFORMATION processInfo = new WinBase.PROCESS_INFORMATION();\n  \n    boolean createProcessResult = Advapi32.INSTANCE.CreateProcessAsUser(\n            primaryToken.getValue(),    /* hToken */\n            &quot;C:\\\\Windows\\\\notepad.exe&quot;,           /* lpApplicationName */\n            null,                    /* lpCommandLine */\n            null,       /* lpProcessAttributes */\n            null,           /* lpThreadAttributes */\n            false,          /* bInheritHandles */\n            WinNT.CREATE_NEW_CONSOLE | WinNT.CREATE_UNICODE_ENVIRONMENT, /* dwCreationFlags */\n            null,                /* lpEnvironment */\n            null,           /* lpCurrentDirectory */\n            startupInfo,                /* lpStartupInfo */\n            processInfo);               /* lpProcessInformation */\n    System.out.println(createProcessResult);\n    return String.format(&quot;New Process created &quot;,createProcessResult);\n\n  } \n</code></pre>\n"},{"tags":["java","android","kotlin","java-io","zip"],"answers":[{"tags":[],"owner":{"account_id":6254489,"reputation":539,"user_id":4863533,"accept_rate":100,"display_name":"Liam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525263077,"creation_date":1525263077,"answer_id":50134369,"question_id":50087530,"body_markdown":"After some research about the apk format, it seems that the Manifest is compiled in the apk file. So it&#39;s why I couldn&#39;t read it.\r\n\r\nTo read it, we must decompile the apk before, either with a library (that I couldn&#39;t find) either in coding it.","title":"Read manifest from third app","body":"<p>After some research about the apk format, it seems that the Manifest is compiled in the apk file. So it's why I couldn't read it.</p>\n\n<p>To read it, we must decompile the apk before, either with a library (that I couldn't find) either in coding it.</p>\n"},{"tags":[],"owner":{"account_id":17338677,"reputation":1,"user_id":12559959,"display_name":"sams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658431211,"creation_date":1658431211,"answer_id":73071597,"question_id":50087530,"body_markdown":"check this out [get readable androidmanifest][1] \r\n       \r\n        if (fileName.endsWith(&quot;.apk&quot;) || fileName.endsWith(&quot;.zip&quot;)) {\r\n            String entryName = args.length &gt; 1? args[1] : &quot;AndroidManifest.xml&quot;;\r\n            zip = new ZipFile(fileName);\r\n            ZipEntry entry = zip.getEntry(entryName);\r\n            is = zip.getInputStream(entry);\r\n        } else {\r\n            is = new FileInputStream(fileName);\r\n        }\r\n\r\n        try {\r\n            Document doc = new CompressedXmlParser().parseDOM(is);\r\n            dumpNode(doc.getChildNodes().item(0), &quot;&quot;);\r\n        }\r\n        catch (Exception e) {\r\n            System.err.println(&quot;Failed AXML decode: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        is.close();\r\n        if (zip != null) {\r\n            zip.close();\r\n        }\r\n    }\r\n\r\n    private static void dumpNode(Node node, String indent) {\r\n        System.out.println(indent + node.getNodeName() + &quot; &quot; + attrsToString(node.getAttributes()) + &quot; -&gt; &quot; + node.getNodeValue());\r\n        NodeList children = node.getChildNodes();\r\n        for (int i = 0, n = children.getLength(); i &lt; n; ++i)\r\n            dumpNode(children.item(i), indent + &quot;   &quot;);\r\n    }\r\n\r\n    private static String attrsToString(NamedNodeMap attrs) {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&#39;[&#39;);\r\n        for (int i = 0, n = attrs.getLength(); i &lt; n; ++i) {\r\n            if (i != 0)\r\n                sb.append(&quot;, &quot;);\r\n            Node attr = attrs.item(i);\r\n            sb.append(attr.getNodeName() + &quot;=&quot; + attr.getNodeValue());\r\n        }\r\n        sb.append(&#39;]&#39;);\r\n        return sb.toString();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/xgouchet/AXML","title":"Read manifest from third app","body":"<p>check this out <a href=\"https://github.com/xgouchet/AXML\" rel=\"nofollow noreferrer\">get readable androidmanifest</a></p>\n<pre><code>    if (fileName.endsWith(&quot;.apk&quot;) || fileName.endsWith(&quot;.zip&quot;)) {\n        String entryName = args.length &gt; 1? args[1] : &quot;AndroidManifest.xml&quot;;\n        zip = new ZipFile(fileName);\n        ZipEntry entry = zip.getEntry(entryName);\n        is = zip.getInputStream(entry);\n    } else {\n        is = new FileInputStream(fileName);\n    }\n\n    try {\n        Document doc = new CompressedXmlParser().parseDOM(is);\n        dumpNode(doc.getChildNodes().item(0), &quot;&quot;);\n    }\n    catch (Exception e) {\n        System.err.println(&quot;Failed AXML decode: &quot; + e);\n        e.printStackTrace();\n    }\n\n    is.close();\n    if (zip != null) {\n        zip.close();\n    }\n}\n\nprivate static void dumpNode(Node node, String indent) {\n    System.out.println(indent + node.getNodeName() + &quot; &quot; + attrsToString(node.getAttributes()) + &quot; -&gt; &quot; + node.getNodeValue());\n    NodeList children = node.getChildNodes();\n    for (int i = 0, n = children.getLength(); i &lt; n; ++i)\n        dumpNode(children.item(i), indent + &quot;   &quot;);\n}\n\nprivate static String attrsToString(NamedNodeMap attrs) {\n    StringBuilder sb = new StringBuilder();\n    sb.append('[');\n    for (int i = 0, n = attrs.getLength(); i &lt; n; ++i) {\n        if (i != 0)\n            sb.append(&quot;, &quot;);\n        Node attr = attrs.item(i);\n        sb.append(attr.getNodeName() + &quot;=&quot; + attr.getNodeValue());\n    }\n    sb.append(']');\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":6254489,"reputation":539,"user_id":4863533,"accept_rate":100,"display_name":"Liam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50134369,"answer_count":2,"score":1,"last_activity_date":1658431211,"creation_date":1525011383,"question_id":50087530,"body_markdown":"I try to read the manifest of a third app in my emulator, so I have used the PackageManager to list all apps and then picked a random app to read its manifest.\r\nThe problem is that it returns be bad characters like that:\r\n\r\n    \u0002����&gt;\u0002����r\u0002�����\u0002�����\u0002�����\u0002�����\u0002�����\u0002�����\u0002����\u0016\u0003����l\u0003�����\r\n\r\nThere is my listing function:\r\n\r\n    val apps = context.packageManager.getInstalledApplications(PackageManager.GET_META_DATA or PackageManager.GET_SHARED_LIBRARY_FILES)\r\n\r\n\tfor (i in 0 until apps.size)\r\n\t{\r\n\t\tLog.i(&quot;List&quot;, &quot;Application $i = ${apps[i]}&quot;)\r\n\t\r\n\t    if (i == 80)\r\n\t\t{\r\n\t\t\tval content = readManifest(apps[i].publicSourceDir)\r\n\t\t}\r\n\t}\r\n\r\nAnd there is my function where I try to read the manifest :\r\n\r\n\tprivate fun readManifest(path: String): String\r\n\t{\r\n\t\tLog.i(&quot;readManifest&quot;, &quot;path = $path&quot;)\r\n\r\n\t\tval apk = ZipFile(path)\r\n\t\tval manifest = apk.getEntry(&quot;AndroidManifest.xml&quot;)\r\n\t\tval stream = apk.getInputStream(manifest)\r\n\t\tval content = StringBuilder()\r\n\r\n\t\tif (manifest != null)\r\n\t\t{\r\n\t\t\tval bufferedReader = BufferedReader(InputStreamReader(apk.getInputStream(manifest), &quot;utf-8&quot;))\r\n\t\t\tvar line = bufferedReader.readLine()\r\n\t\t\twhile (line != null)\r\n\t\t\t{\r\n\t\t\t\tLog.i(&quot;readManifest&quot;, &quot;line = $line&quot;)\r\n\t\t\t\tcontent.append(line)\r\n\t\t\t\tline = bufferedReader.readLine()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tapk.close()\r\n\t\tstream.close()\r\n\r\n\t\treturn content.toString()\r\n\t}\r\n\r\nI also tried to use another function that I found [here][1] but with the same result.\r\n\r\nWhy do I get this weird characters ? I also put the android.permission.READ_EXTERNAL_STORAGE in my manifest\r\n\r\n\r\n  [1]: https://github.com/matthill/apk-manifest-extractor/blob/master/src/com/pras/Extract.java","title":"Read manifest from third app","body":"<p>I try to read the manifest of a third app in my emulator, so I have used the PackageManager to list all apps and then picked a random app to read its manifest.\nThe problem is that it returns be bad characters like that:</p>\n\n<pre><code>����&gt;����r��������������������������������������l�����\n</code></pre>\n\n<p>There is my listing function:</p>\n\n<pre><code>val apps = context.packageManager.getInstalledApplications(PackageManager.GET_META_DATA or PackageManager.GET_SHARED_LIBRARY_FILES)\n\nfor (i in 0 until apps.size)\n{\n    Log.i(\"List\", \"Application $i = ${apps[i]}\")\n\n    if (i == 80)\n    {\n        val content = readManifest(apps[i].publicSourceDir)\n    }\n}\n</code></pre>\n\n<p>And there is my function where I try to read the manifest :</p>\n\n<pre><code>private fun readManifest(path: String): String\n{\n    Log.i(\"readManifest\", \"path = $path\")\n\n    val apk = ZipFile(path)\n    val manifest = apk.getEntry(\"AndroidManifest.xml\")\n    val stream = apk.getInputStream(manifest)\n    val content = StringBuilder()\n\n    if (manifest != null)\n    {\n        val bufferedReader = BufferedReader(InputStreamReader(apk.getInputStream(manifest), \"utf-8\"))\n        var line = bufferedReader.readLine()\n        while (line != null)\n        {\n            Log.i(\"readManifest\", \"line = $line\")\n            content.append(line)\n            line = bufferedReader.readLine()\n        }\n    }\n\n    apk.close()\n    stream.close()\n\n    return content.toString()\n}\n</code></pre>\n\n<p>I also tried to use another function that I found <a href=\"https://github.com/matthill/apk-manifest-extractor/blob/master/src/com/pras/Extract.java\" rel=\"nofollow noreferrer\">here</a> but with the same result.</p>\n\n<p>Why do I get this weird characters ? I also put the android.permission.READ_EXTERNAL_STORAGE in my manifest</p>\n"},{"tags":["java","android","android-studio","file","file-management"],"answers":[{"tags":[],"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618272458,"creation_date":1618272458,"answer_id":67067116,"question_id":67064127,"body_markdown":"You have two options, either acquire `MANAGE_EXTERNAL_STORAGE` which needs some approval from google play AFAIK!\r\nOr set the targetSdk to 29 and use requestLegacyExternalStorage \r\n\r\nhttps://developer.android.com/about/versions/11/privacy/storage\r\n\r\n&gt; Apps that run on Android 11 but target Android 10 (API level 29) can\r\n&gt; still request the requestLegacyExternalStorage attribute. This flag\r\n&gt; allows apps to temporarily opt out of the changes associated with\r\n&gt; scoped storage, such as granting access to different directories and\r\n&gt; different types of media files. After you update your app to target\r\n&gt; Android 11, the system ignores the requestLegacyExternalStorage flag.\r\n\r\nBut remember, you can use targetSdk 29 until August 2021 (November if it&#39;s an update) and after that you have to targetSdk 30\r\nhttps://developer.android.com/distribute/best-practices/develop/target-sdk\r\n\r\nIn other words, Google is trying to prevent apps from accessing external storage for privacy concerns. I guess we should follow Google&#39;s guidelines (forget about the user&#39;s files)","title":"How to take access to internal storage in android 11?","body":"<p>You have two options, either acquire <code>MANAGE_EXTERNAL_STORAGE</code> which needs some approval from google play AFAIK!\nOr set the targetSdk to 29 and use requestLegacyExternalStorage</p>\n<p><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<blockquote>\n<p>Apps that run on Android 11 but target Android 10 (API level 29) can\nstill request the requestLegacyExternalStorage attribute. This flag\nallows apps to temporarily opt out of the changes associated with\nscoped storage, such as granting access to different directories and\ndifferent types of media files. After you update your app to target\nAndroid 11, the system ignores the requestLegacyExternalStorage flag.</p>\n</blockquote>\n<p>But remember, you can use targetSdk 29 until August 2021 (November if it's an update) and after that you have to targetSdk 30\n<a href=\"https://developer.android.com/distribute/best-practices/develop/target-sdk\" rel=\"nofollow noreferrer\">https://developer.android.com/distribute/best-practices/develop/target-sdk</a></p>\n<p>In other words, Google is trying to prevent apps from accessing external storage for privacy concerns. I guess we should follow Google's guidelines (forget about the user's files)</p>\n"}],"owner":{"account_id":14045534,"reputation":143,"user_id":10327886,"display_name":"MAYANK SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3831,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658430827,"creation_date":1618253717,"question_id":67064127,"body_markdown":"I want to access `full access of internal storage` but I have tried so many things didn&#39;t able to access in android 11. then I used solid explorer also available in the play store which is giving full access to internal storage. can someone tell me how to achieve this in android 11.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIwO8.jpg\r\n  [2]: https://i.stack.imgur.com/PkI1J.jpg","title":"How to take access to internal storage in android 11?","body":"<p>I want to access <code>full access of internal storage</code> but I have tried so many things didn't able to access in android 11. then I used solid explorer also available in the play store which is giving full access to internal storage. can someone tell me how to achieve this in android 11.</p>\n<p><a href=\"https://i.stack.imgur.com/GIwO8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIwO8.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PkI1J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkI1J.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","kotlin","concurrency","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":25545997,"reputation":73,"user_id":19331305,"display_name":"stefano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658430805,"creation_date":1658430805,"answer_id":73071533,"question_id":73071429,"body_markdown":"Turns out, the maximum pool size *MUST be greater than or equal* to the core pool size as indicated in the `setCorePoolSize()` method:\r\n\r\n```java\r\nif (corePoolSize &lt; 0 || maximumPoolSize &lt; corePoolSize)\r\n    throw new IllegalArgumentException();\r\n```\r\n\r\nBasically instead of:\r\n```\r\nPOOL.corePoolSize += 20\r\n```\r\n\r\nIt should be:\r\n```\r\nPOOL.maximumPoolSize += 20\r\nPOOL.corePoolSize += 20\r\n```\r\n","title":"Can&#39;t increase ThreadPoolExecutor&#39;s core pool size","body":"<p>Turns out, the maximum pool size <em>MUST be greater than or equal</em> to the core pool size as indicated in the <code>setCorePoolSize()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (corePoolSize &lt; 0 || maximumPoolSize &lt; corePoolSize)\n    throw new IllegalArgumentException();\n</code></pre>\n<p>Basically instead of:</p>\n<pre><code>POOL.corePoolSize += 20\n</code></pre>\n<p>It should be:</p>\n<pre><code>POOL.maximumPoolSize += 20\nPOOL.corePoolSize += 20\n</code></pre>\n"}],"owner":{"account_id":25545997,"reputation":73,"user_id":19331305,"display_name":"stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73071533,"answer_count":1,"score":1,"last_activity_date":1658430805,"creation_date":1658430052,"question_id":73071429,"body_markdown":"I&#39;m having issues *dynamically* increasing the core pool size of a ThreadPoolExecutor in kotlin.\r\n\r\nFirst I define my ThreadPoolExecutor like this:\r\n```\r\nval POOL = Executors.newFixedThreadPool(20) as ThreadPoolExecutor\r\n```\r\n\r\nThen I add some tasks to the ThreadPoolExecutor.\r\n\r\nAfter some time, *in a different thread*, while the tasks are still running:\r\n```\r\nPOOL.corePoolSize += 20\r\n```\r\nIt returns:\r\n```\r\nException in thread &quot;Thread-0&quot; java.lang.IllegalArgumentException\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.setCorePoolSize(ThreadPoolExecutor.java:1545)\r\n\tat MainKt.main$lambda-1(Main.kt:95)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nThe weirdest part is, it works fine if I do this:\r\n```\r\nPOOL.corePoolSize = 40\r\n```","title":"Can&#39;t increase ThreadPoolExecutor&#39;s core pool size","body":"<p>I'm having issues <em>dynamically</em> increasing the core pool size of a ThreadPoolExecutor in kotlin.</p>\n<p>First I define my ThreadPoolExecutor like this:</p>\n<pre><code>val POOL = Executors.newFixedThreadPool(20) as ThreadPoolExecutor\n</code></pre>\n<p>Then I add some tasks to the ThreadPoolExecutor.</p>\n<p>After some time, <em>in a different thread</em>, while the tasks are still running:</p>\n<pre><code>POOL.corePoolSize += 20\n</code></pre>\n<p>It returns:</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.IllegalArgumentException\n    at java.base/java.util.concurrent.ThreadPoolExecutor.setCorePoolSize(ThreadPoolExecutor.java:1545)\n    at MainKt.main$lambda-1(Main.kt:95)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The weirdest part is, it works fine if I do this:</p>\n<pre><code>POOL.corePoolSize = 40\n</code></pre>\n"},{"tags":["java","scala","sbt","javac"],"comments":[{"owner":{"account_id":7328251,"reputation":4437,"user_id":5582028,"display_name":"Matthias Berndt"},"score":0,"creation_date":1658358357,"post_id":73058706,"comment_id":129034959,"body_markdown":"Maybe this helps?\nhttps://www.scala-sbt.org/1.x/docs/In-Process-Classloaders.html","body":"Maybe this helps? <a href=\"https://www.scala-sbt.org/1.x/docs/In-Process-Classloaders.html\" rel=\"nofollow noreferrer\">scala-sbt.org/1.x/docs/In-Process-Classloaders.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658430356,"creation_date":1658375161,"answer_id":73060480,"question_id":73058706,"body_markdown":"I solved the problem by appending `fullClasspath` to `System.getProperty(&quot;java.class.path&quot;)`\r\n\r\nsbt:\r\n\r\n```scala\r\nTest / testOptions += Tests.Setup(() =&gt; {\r\n      val jars = scala.collection.mutable.ListBuffer.empty[String]\r\n      (Runtime / fullClasspath).value.foreach { e =&gt;\r\n        jars += e.data.getAbsolutePath\r\n      }\r\n      jars += System.getProperty(&quot;java.class.path&quot;)\r\n      val classpath = jars.mkString(&quot;:&quot;)\r\n      System.setProperty(&quot;java.class.path&quot;, classpath)\r\n      println(classpath)\r\n    })\r\n```\r\n\r\nUPDATE:\r\n\r\nclasspath delimiter is OS specific\r\n\r\n`:` Linux\r\n\r\n`;` Win","title":"Dynamic code compilation fails when running tests with Sbt","body":"<p>I solved the problem by appending <code>fullClasspath</code> to <code>System.getProperty(&quot;java.class.path&quot;)</code></p>\n<p>sbt:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>Test / testOptions += Tests.Setup(() =&gt; {\n      val jars = scala.collection.mutable.ListBuffer.empty[String]\n      (Runtime / fullClasspath).value.foreach { e =&gt;\n        jars += e.data.getAbsolutePath\n      }\n      jars += System.getProperty(&quot;java.class.path&quot;)\n      val classpath = jars.mkString(&quot;:&quot;)\n      System.setProperty(&quot;java.class.path&quot;, classpath)\n      println(classpath)\n    })\n</code></pre>\n<p>UPDATE:</p>\n<p>classpath delimiter is OS specific</p>\n<p><code>:</code> Linux</p>\n<p><code>;</code> Win</p>\n"}],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73060480,"answer_count":1,"score":0,"last_activity_date":1658430356,"creation_date":1658355687,"question_id":73058706,"body_markdown":"I have a scala test that dynamically generates a java source code and compiles it at runtime. It works perfectly when I run tests in IDE (IntelliJ), but fails when using `sbt test`.\r\n\r\nThe main difference is when running in IDE my test class, third party classes (jars), and `com.sun.tools.javac.api.JavacTool` class are loaded by `jdk.internal.loader.ClassLoaders$AppClassLoader`. When running in sbt, my test class, third party classes (jars) are loaded using `sbt.internal.LayeredClassLoader`, but `com.sun.tools.javac.api.JavacTool` is still loaded by `jdk.internal.loader.ClassLoaders$AppClassLoader`, thus `JavacTool` fails to compile a generated code b/c thrid party classes cannot be found (parent class loader doesn&#39;t have access to child&#39;s classes). Is possible to overcome this _issue_? \r\n\r\nUPDATE: I set `-cp` using the code below:\r\n\r\n```java\r\nList&lt;String&gt; optionList = new ArrayList&lt;String&gt;();\r\noptionList.add(&quot;-cp&quot;);\r\noptionList.add(System.getProperty(&quot;java.class.path&quot;));\r\n```\r\nWhen running in IDE `System.getProperty(&quot;java.class.path&quot;)` returns the whole classpath including third-party jars, however, when running from Sbt there is only one jar in classpath: `C:\\Users\\PliashkouRaman\\AppData\\Roaming\\JetBrains\\IdeaIC2022.1\\plugins\\Scala\\launcher\\sbt-launch.jar`\r\n\r\nI hardcoded a list of jars and now the test is passing. ","title":"Dynamic code compilation fails when running tests with Sbt","body":"<p>I have a scala test that dynamically generates a java source code and compiles it at runtime. It works perfectly when I run tests in IDE (IntelliJ), but fails when using <code>sbt test</code>.</p>\n<p>The main difference is when running in IDE my test class, third party classes (jars), and <code>com.sun.tools.javac.api.JavacTool</code> class are loaded by <code>jdk.internal.loader.ClassLoaders$AppClassLoader</code>. When running in sbt, my test class, third party classes (jars) are loaded using <code>sbt.internal.LayeredClassLoader</code>, but <code>com.sun.tools.javac.api.JavacTool</code> is still loaded by <code>jdk.internal.loader.ClassLoaders$AppClassLoader</code>, thus <code>JavacTool</code> fails to compile a generated code b/c thrid party classes cannot be found (parent class loader doesn't have access to child's classes). Is possible to overcome this <em>issue</em>?</p>\n<p>UPDATE: I set <code>-cp</code> using the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; optionList = new ArrayList&lt;String&gt;();\noptionList.add(&quot;-cp&quot;);\noptionList.add(System.getProperty(&quot;java.class.path&quot;));\n</code></pre>\n<p>When running in IDE <code>System.getProperty(&quot;java.class.path&quot;)</code> returns the whole classpath including third-party jars, however, when running from Sbt there is only one jar in classpath: <code>C:\\Users\\PliashkouRaman\\AppData\\Roaming\\JetBrains\\IdeaIC2022.1\\plugins\\Scala\\launcher\\sbt-launch.jar</code></p>\n<p>I hardcoded a list of jars and now the test is passing.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":1,"creation_date":1399492896,"post_id":23523831,"comment_id":36090158,"body_markdown":"Without a way to reproduce, this will be hard to diagnose remotely. Looks like all tests are passing, and then something goes wrong when tearing down the JVM(s) that are running the tests. (Each `Test` task spins up one or more JVMs to run tests in.)","body":"Without a way to reproduce, this will be hard to diagnose remotely. Looks like all tests are passing, and then something goes wrong when tearing down the JVM(s) that are running the tests. (Each <code>Test</code> task spins up one or more JVMs to run tests in.)"}],"answers":[{"tags":[],"owner":{"account_id":1888765,"reputation":3893,"user_id":1707414,"accept_rate":25,"display_name":"user1707414"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1601987418,"creation_date":1424342051,"answer_id":28604079,"question_id":23523831,"body_markdown":"Most probably one of your test go through a `System.exit(1)`.\r\n\r\nIt may help to display the test result in console using `test -i`.","title":"Gradle build fail: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1","body":"<p>Most probably one of your test go through a <code>System.exit(1)</code>.</p>\n<p>It may help to display the test result in console using <code>test -i</code>.</p>\n"},{"tags":[],"owner":{"account_id":16899535,"reputation":388,"user_id":12221308,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1571151384,"creation_date":1571151384,"answer_id":58397542,"question_id":23523831,"body_markdown":"Try cleaning your daemons with `./gradlew --stop`. It works for me.\r\nThis was my error. also sometimes I got an IDLE at the end of the build and never ends.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; A problem occurred starting process &#39;Gradle Test Executor 1&#39;","title":"Gradle build fail: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1","body":"<p>Try cleaning your daemons with <code>./gradlew --stop</code>. It works for me.\nThis was my error. also sometimes I got an IDLE at the end of the build and never ends.</p>\n\n<pre><code>* What went wrong:\nExecution failed for task ':test'.\n&gt; A problem occurred starting process 'Gradle Test Executor 1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3247863,"reputation":1160,"user_id":2738882,"accept_rate":70,"display_name":"user2738882"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1612938929,"creation_date":1612938929,"answer_id":66131999,"question_id":23523831,"body_markdown":"I had a similar issue but it was caused by `JAVA_TOOL_OPTIONS`:\r\n```\r\nJAVA_TOOL_OPTIONS: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/\r\n```\r\nnon existing path `/dumps/` caused the issue in my case. ","title":"Gradle build fail: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1","body":"<p>I had a similar issue but it was caused by <code>JAVA_TOOL_OPTIONS</code>:</p>\n<pre><code>JAVA_TOOL_OPTIONS: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/\n</code></pre>\n<p>non existing path <code>/dumps/</code> caused the issue in my case.</p>\n"},{"tags":[],"owner":{"account_id":7519790,"reputation":91,"user_id":5712112,"display_name":"Blaaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658430286,"creation_date":1658430286,"answer_id":73071465,"question_id":23523831,"body_markdown":"check if your project its using internally Java 11 or Java 1.8 and the java that your system has:\r\n\r\nto check your java version run:\r\n`javac --version`\r\n\r\n*Note that some IDEs may override that value to build.","title":"Gradle build fail: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1","body":"<p>check if your project its using internally Java 11 or Java 1.8 and the java that your system has:</p>\n<p>to check your java version run:\n<code>javac --version</code></p>\n<p>*Note that some IDEs may override that value to build.</p>\n"}],"owner":{"account_id":3857150,"reputation":757,"user_id":3195786,"accept_rate":53,"display_name":"user3195786"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58713,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":4,"score":52,"last_activity_date":1658430286,"creation_date":1399481772,"question_id":23523831,"body_markdown":"Gradle build fails when it gets to the **:test** task (junit tests).  It gives the error \r\n\r\n    Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1\r\n\r\nI am using gradle with a java project in eclipse.  Gradle 1.12 and Java 7.  The problem seems to be happening when a test is run on a class that connects to a database.  The odd thing is that the program and tests work fine as java applications.  There are no problems with the database connection and it compiles and runs correctly.  Does gradle do something that could mess with how it connects to external database servers?  The problem could have nothing to do with the database so any solution is appreciated.  I&#39;ve looked online and on the official gradle site but nothing was helpful.  Thanks.\r\n\r\nEDIT\r\n\r\nDebug results:\r\n\r\n    14:23:28.661 [DEBUG] [TestEventLogger] \r\n    14:23:28.661 [DEBUG] [TestEventLogger] Test Run PASSED\r\n    14:23:28.665 [DEBUG] [org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter] Finished executing task &#39;:test&#39;\r\n    14:23:28.665 [LIFECYCLE] [class org.gradle.TaskExecutionLogger] :test FAILED\r\n    14:23:28.665 [INFO] [org.gradle.execution.taskgraph.AbstractTaskPlanExecutor] :test (Thread[main,5,main]) completed. Took 5.552 secs.\r\n    14:23:28.666 [DEBUG] [org.gradle.execution.taskgraph.AbstractTaskPlanExecutor] Task worker [Thread[main,5,main]] finished, busy: 6.67 secs, idle: 0.021 secs\r\n    14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] \r\n    14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] BUILD FAILED\r\n    14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] \r\n    14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] Total time: 11.75 secs\r\n    14:23:28.811 [DEBUG] [org.gradle.api.internal.tasks.compile.daemon.CompilerDaemonManager] Stopping 0 compiler daemon(s).\r\n\r\nError Message:\r\n\r\n    Unexpected exception thrown.\r\n    org.gradle.messaging.remote.internal.MessageIOException: Could not read message from &#39;/127.0.0.1:51041&#39;.\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection.receive(SocketConnection.java:88)\r\n    \tat org.gradle.messaging.remote.internal.hub.MessageHub$ConnectionReceive.run(MessageHub.java:230)\r\n    \tat org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:66)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: com.esotericsoftware.kryo.KryoException: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n    \tat com.esotericsoftware.kryo.io.Input.fill(Input.java:141)\r\n    \tat com.esotericsoftware.kryo.io.Input.require(Input.java:159)\r\n    \tat com.esotericsoftware.kryo.io.Input.readByte(Input.java:255)\r\n    \tat org.gradle.messaging.remote.internal.hub.InterHubMessageSerializer$MessageReader.read(InterHubMessageSerializer.java:64)\r\n    \tat org.gradle.messaging.remote.internal.hub.InterHubMessageSerializer$MessageReader.read(InterHubMessageSerializer.java:53)\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection.receive(SocketConnection.java:83)\r\n    \t... 5 more\r\n    Caused by: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n    \tat sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n    \tat sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n    \tat sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n    \tat sun.nio.ch.IOUtil.read(IOUtil.java:192)\r\n    \tat sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection$SocketInputStream.read(SocketConnection.java:167)\r\n    \tat com.esotericsoftware.kryo.io.Input.fill(Input.java:139)\r\n    \t... 10 more\r\n    Unexpected exception thrown.\r\n    org.gradle.messaging.remote.internal.MessageIOException: Could not write message [EndOfStream] to &#39;/127.0.0.1:51041&#39;.\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection.dispatch(SocketConnection.java:115)\r\n    \tat org.gradle.messaging.remote.internal.hub.MessageHub$ConnectionDispatch.run(MessageHub.java:279)\r\n    \tat org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:66)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n    \tat sun.nio.ch.SocketDispatcher.write0(Native Method)\r\n    \tat sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)\r\n    \tat sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\r\n    \tat sun.nio.ch.IOUtil.write(IOUtil.java:51)\r\n    \tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:487)\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection$SocketOutputStream.flush(SocketConnection.java:230)\r\n    \tat org.gradle.messaging.remote.internal.inet.SocketConnection.dispatch(SocketConnection.java:113)\r\n    \t... 5 more\r\n     FAILED","title":"Gradle build fail: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1","body":"<p>Gradle build fails when it gets to the <strong>:test</strong> task (junit tests).  It gives the error </p>\n\n<pre><code>Process 'Gradle Test Executor 1' finished with non-zero exit value 1\n</code></pre>\n\n<p>I am using gradle with a java project in eclipse.  Gradle 1.12 and Java 7.  The problem seems to be happening when a test is run on a class that connects to a database.  The odd thing is that the program and tests work fine as java applications.  There are no problems with the database connection and it compiles and runs correctly.  Does gradle do something that could mess with how it connects to external database servers?  The problem could have nothing to do with the database so any solution is appreciated.  I've looked online and on the official gradle site but nothing was helpful.  Thanks.</p>\n\n<p>EDIT</p>\n\n<p>Debug results:</p>\n\n<pre><code>14:23:28.661 [DEBUG] [TestEventLogger] \n14:23:28.661 [DEBUG] [TestEventLogger] Test Run PASSED\n14:23:28.665 [DEBUG] [org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter] Finished executing task ':test'\n14:23:28.665 [LIFECYCLE] [class org.gradle.TaskExecutionLogger] :test FAILED\n14:23:28.665 [INFO] [org.gradle.execution.taskgraph.AbstractTaskPlanExecutor] :test (Thread[main,5,main]) completed. Took 5.552 secs.\n14:23:28.666 [DEBUG] [org.gradle.execution.taskgraph.AbstractTaskPlanExecutor] Task worker [Thread[main,5,main]] finished, busy: 6.67 secs, idle: 0.021 secs\n14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] \n14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] BUILD FAILED\n14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] \n14:23:28.808 [LIFECYCLE] [org.gradle.BuildResultLogger] Total time: 11.75 secs\n14:23:28.811 [DEBUG] [org.gradle.api.internal.tasks.compile.daemon.CompilerDaemonManager] Stopping 0 compiler daemon(s).\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre><code>Unexpected exception thrown.\norg.gradle.messaging.remote.internal.MessageIOException: Could not read message from '/127.0.0.1:51041'.\n    at org.gradle.messaging.remote.internal.inet.SocketConnection.receive(SocketConnection.java:88)\n    at org.gradle.messaging.remote.internal.hub.MessageHub$ConnectionReceive.run(MessageHub.java:230)\n    at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:66)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.esotericsoftware.kryo.KryoException: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at com.esotericsoftware.kryo.io.Input.fill(Input.java:141)\n    at com.esotericsoftware.kryo.io.Input.require(Input.java:159)\n    at com.esotericsoftware.kryo.io.Input.readByte(Input.java:255)\n    at org.gradle.messaging.remote.internal.hub.InterHubMessageSerializer$MessageReader.read(InterHubMessageSerializer.java:64)\n    at org.gradle.messaging.remote.internal.hub.InterHubMessageSerializer$MessageReader.read(InterHubMessageSerializer.java:53)\n    at org.gradle.messaging.remote.internal.inet.SocketConnection.receive(SocketConnection.java:83)\n    ... 5 more\nCaused by: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\n    at sun.nio.ch.IOUtil.read(IOUtil.java:192)\n    at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)\n    at org.gradle.messaging.remote.internal.inet.SocketConnection$SocketInputStream.read(SocketConnection.java:167)\n    at com.esotericsoftware.kryo.io.Input.fill(Input.java:139)\n    ... 10 more\nUnexpected exception thrown.\norg.gradle.messaging.remote.internal.MessageIOException: Could not write message [EndOfStream] to '/127.0.0.1:51041'.\n    at org.gradle.messaging.remote.internal.inet.SocketConnection.dispatch(SocketConnection.java:115)\n    at org.gradle.messaging.remote.internal.hub.MessageHub$ConnectionDispatch.run(MessageHub.java:279)\n    at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:66)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at sun.nio.ch.SocketDispatcher.write0(Native Method)\n    at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)\n    at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\n    at sun.nio.ch.IOUtil.write(IOUtil.java:51)\n    at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:487)\n    at org.gradle.messaging.remote.internal.inet.SocketConnection$SocketOutputStream.flush(SocketConnection.java:230)\n    at org.gradle.messaging.remote.internal.inet.SocketConnection.dispatch(SocketConnection.java:113)\n    ... 5 more\n FAILED\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8825,"page":1167,"page_size":100}
