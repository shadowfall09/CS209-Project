{"items":[{"tags":["java","jar","program-entry-point"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687361041,"post_id":76524717,"comment_id":134926854,"body_markdown":"Just specifying the `Main-Class` manifest attribute is not enough, You would also need to set the `Class-Path` entry appropriately. Whoever wrote this program, expects you to use the launcher scripts from the root (e.g. `mmax2.bat` for Windows, `mmax2.sh` for Linux), so why not just use it they way the authors intended it?","body":"Just specifying the <code>Main-Class</code> manifest attribute is not enough, You would also need to set the <code>Class-Path</code> entry appropriately. Whoever wrote this program, expects you to use the launcher scripts from the root (e.g. <code>mmax2.bat</code> for Windows, <code>mmax2.sh</code> for Linux), so why not just use it they way the authors intended it?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687426650,"post_id":76524717,"comment_id":134936395,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28866819,"reputation":3,"user_id":22109413,"display_name":"jak326i205"},"score":0,"creation_date":1687511727,"post_id":76524717,"comment_id":134950335,"body_markdown":"@Mark Rotteveel You&#39;re right and I feel extremely stupid. I had focused so much on that jar-file that I missed those other files in the repo. Anyways, you solved it. So thank you very much!!","body":"@Mark Rotteveel You&#39;re right and I feel extremely stupid. I had focused so much on that jar-file that I missed those other files in the repo. Anyways, you solved it. So thank you very much!!"}],"answers":[{"tags":[],"owner":{"account_id":28865468,"reputation":26,"user_id":22108334,"display_name":"yukon12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687360970,"creation_date":1687360970,"answer_id":76524888,"question_id":76524717,"body_markdown":"I think it should be `Main-Class: org.eml.MMAX2.core.MMAX2` instead.","title":"How do I specify the entry point location in a Manifest-file to run a jar-file?","body":"<p>I think it should be <code>Main-Class: org.eml.MMAX2.core.MMAX2</code> instead.</p>\n"}],"owner":{"account_id":28866819,"reputation":3,"user_id":22109413,"display_name":"jak326i205"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76524888,"answer_count":1,"score":0,"last_activity_date":1687360970,"creation_date":1687359821,"question_id":76524717,"body_markdown":"I am trying to run a program I&#39;ve downloaded ( https://github.com/ottiram/MMAX2 ) which comes as a jar-file on Ubuntu 22.04. When I do, it returns: &quot;no main manifest attribute, in MMAX2.jar&quot;. When I check in /META-INF/MANIFEST.MF, that file only contains one single line, namely: \r\n\r\n&quot;Manifest-Version: 1.0&quot;. \r\n\r\nNo entry point is specified. When I searched for the main method by looking for &quot;public static void main&quot;, I found it in the file /org/eml/MMAX2/core/MMAX2.class in the class &quot;MMAX2&quot; (not sure if the file itself and this class it contains are equivalent?). I assume that I need to specify the location of this method in the Manifest-file!? I tried that several times with different ways of notation, e.g. by adding the following two lines to the Manifest:\r\n\r\n&quot;Main-Class: MMAX2.MMAX2.main\r\n\r\nClass-Path: MMAX2.jar /org/eml/MMAX2/core/&quot;\r\n\r\nBut then, when I try to run the jar, it returns: &quot;Error: Could not find or load main class MMAX2.MMAX2.main\r\nCaused by: java.lang.ClassNotFoundException: MMAX2.MMAX2.main&quot;\r\n\r\nThat also happened with other versions I&#39;ve tried.\r\nI am not super techy, especially not when it comes to Java. Everything I&#39;ve tried so far was the result of me copying code I&#39;ve found as answer to similar questions. Maybe it&#39;s just a syntax-problem? Or my entire approach is wrong? Any help is very much appreciated!\r\n\r\n\r\n\r\n\r\nSummary:\r\nI thought the problem was that the main-method can&#39;t be found from within the Manifest-file. So I tried to add the location of main-method to the Manifest-file, though I&#39;m not sure if I&#39;ve chosen the correct syntax. ","title":"How do I specify the entry point location in a Manifest-file to run a jar-file?","body":"<p>I am trying to run a program I've downloaded ( <a href=\"https://github.com/ottiram/MMAX2\" rel=\"nofollow noreferrer\">https://github.com/ottiram/MMAX2</a> ) which comes as a jar-file on Ubuntu 22.04. When I do, it returns: &quot;no main manifest attribute, in MMAX2.jar&quot;. When I check in /META-INF/MANIFEST.MF, that file only contains one single line, namely:</p>\n<p>&quot;Manifest-Version: 1.0&quot;.</p>\n<p>No entry point is specified. When I searched for the main method by looking for &quot;public static void main&quot;, I found it in the file /org/eml/MMAX2/core/MMAX2.class in the class &quot;MMAX2&quot; (not sure if the file itself and this class it contains are equivalent?). I assume that I need to specify the location of this method in the Manifest-file!? I tried that several times with different ways of notation, e.g. by adding the following two lines to the Manifest:</p>\n<p>&quot;Main-Class: MMAX2.MMAX2.main</p>\n<p>Class-Path: MMAX2.jar /org/eml/MMAX2/core/&quot;</p>\n<p>But then, when I try to run the jar, it returns: &quot;Error: Could not find or load main class MMAX2.MMAX2.main\nCaused by: java.lang.ClassNotFoundException: MMAX2.MMAX2.main&quot;</p>\n<p>That also happened with other versions I've tried.\nI am not super techy, especially not when it comes to Java. Everything I've tried so far was the result of me copying code I've found as answer to similar questions. Maybe it's just a syntax-problem? Or my entire approach is wrong? Any help is very much appreciated!</p>\n<p>Summary:\nI thought the problem was that the main-method can't be found from within the Manifest-file. So I tried to add the location of main-method to the Manifest-file, though I'm not sure if I've chosen the correct syntax.</p>\n"},{"tags":["java","modelio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362278,"post_id":76522771,"comment_id":134927146,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1399763,"reputation":3461,"user_id":1328753,"display_name":"Red Beard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687360519,"creation_date":1687360519,"answer_id":76524823,"question_id":76522771,"body_markdown":"By implementing IDiagramCustomizer, you have to override several methods including:\r\n\r\n 1. keepBasePalette() which will allow you to specfifc if you want to keep the defined palette on the extended diagram type\r\n 2. fillPalette(PaletteRoot paletteRoot) which will allow to define a set of palette groups composed of a set of Tool.\r\n\r\n","title":"How to find AbstractDiagram object of IDiagramCustomizer in Modelio 3.7.1","body":"<p>By implementing IDiagramCustomizer, you have to override several methods including:</p>\n<ol>\n<li>keepBasePalette() which will allow you to specfifc if you want to keep the defined palette on the extended diagram type</li>\n<li>fillPalette(PaletteRoot paletteRoot) which will allow to define a set of palette groups composed of a set of Tool.</li>\n</ol>\n"}],"owner":{"account_id":13662953,"reputation":1,"user_id":9857503,"display_name":"rumeysa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687360519,"creation_date":1687346786,"question_id":76522771,"body_markdown":"I implement IDiagramCustomizer interface in my class for customizing diagram palette. But i dont get AbstractDiagram of this customizer calling for. How to access to diagram object via IDiagramCustomizer\r\n\r\nI need to access diagram properties for customizing palette tool","title":"How to find AbstractDiagram object of IDiagramCustomizer in Modelio 3.7.1","body":"<p>I implement IDiagramCustomizer interface in my class for customizing diagram palette. But i dont get AbstractDiagram of this customizer calling for. How to access to diagram object via IDiagramCustomizer</p>\n<p>I need to access diagram properties for customizing palette tool</p>\n"},{"tags":["java","pdf","itext"],"owner":{"account_id":18323832,"reputation":21,"user_id":13343994,"display_name":"Ali Najafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359991,"creation_date":1687342660,"question_id":76522207,"body_markdown":"I have using iText for generating pdf at my project, but the problem is, generated pdf file with text in Arabic printed separated at pdf file.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/efoYj.png)](https://i.stack.imgur.com/efoYj.png)\r\n\r\nAnd this the code:\r\n\r\n    public static void main( String[] args ) throws IOException {\r\n        Document document = new Document();\r\n        try\r\n        {\r\n            @SuppressWarnings(&quot;unused&quot;)\r\n            PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:\\\\pdf.pdf&quot;));\r\n            document.open();\r\n\r\n\r\n\r\n\r\n            BaseFont bf = BaseFont.createFont(&quot;D:\\\\noto-arabic.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n            Font a = new Font(bf,10);\r\n\r\n\r\n            PdfPTable pdfPTable =new PdfPTable(2);\r\n            PdfPCell pdfCell1 = new PdfPCell(new Phrase(&quot;سلام&quot;,a));\r\n            PdfPCell pdfCell2 = new PdfPCell(new Phrase(&quot;Cell-12&quot;));\r\n            pdfPTable.addCell(pdfCell1);\r\n            pdfPTable.addCell(pdfCell2);\r\n            PdfPCell pdfCell3 = new PdfPCell(new Phrase(&quot;Cell-21&quot;));\r\n            pdfCell3.setColspan(2);\r\n            pdfCell3.setBackgroundColor(BaseColor.DARK_GRAY);\r\n            pdfCell3.setBorderColor(BaseColor.RED);\r\n            pdfCell3.setRotation(90);\r\n            pdfPTable.addCell(pdfCell3);\r\n\r\n            pdfPTable.setWidthPercentage(70);\r\n\r\n            pdfWriter.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n\r\n            document.add(pdfPTable);\r\n            document.close();\r\n        }\r\n        catch (FileNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        catch (DocumentException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        document.open();\r\n    }\r\n\r\n\r\n\r\nThe text should be:\r\n\r\nسلام","title":"Have problem with iText RTL languages, text separation problem","body":"<p>I have using iText for generating pdf at my project, but the problem is, generated pdf file with text in Arabic printed separated at pdf file.</p>\n<p><a href=\"https://i.stack.imgur.com/efoYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efoYj.png\" alt=\"enter image description here\" /></a></p>\n<p>And this the code:</p>\n<pre><code>public static void main( String[] args ) throws IOException {\n    Document document = new Document();\n    try\n    {\n        @SuppressWarnings(&quot;unused&quot;)\n        PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:\\\\pdf.pdf&quot;));\n        document.open();\n\n\n\n\n        BaseFont bf = BaseFont.createFont(&quot;D:\\\\noto-arabic.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n        Font a = new Font(bf,10);\n\n\n        PdfPTable pdfPTable =new PdfPTable(2);\n        PdfPCell pdfCell1 = new PdfPCell(new Phrase(&quot;سلام&quot;,a));\n        PdfPCell pdfCell2 = new PdfPCell(new Phrase(&quot;Cell-12&quot;));\n        pdfPTable.addCell(pdfCell1);\n        pdfPTable.addCell(pdfCell2);\n        PdfPCell pdfCell3 = new PdfPCell(new Phrase(&quot;Cell-21&quot;));\n        pdfCell3.setColspan(2);\n        pdfCell3.setBackgroundColor(BaseColor.DARK_GRAY);\n        pdfCell3.setBorderColor(BaseColor.RED);\n        pdfCell3.setRotation(90);\n        pdfPTable.addCell(pdfCell3);\n\n        pdfPTable.setWidthPercentage(70);\n\n        pdfWriter.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n\n        document.add(pdfPTable);\n        document.close();\n    }\n    catch (FileNotFoundException e)\n    {\n        e.printStackTrace();\n    }\n    catch (DocumentException e)\n    {\n        e.printStackTrace();\n    }\n    document.open();\n}\n</code></pre>\n<p>The text should be:</p>\n<p>سلام</p>\n"},{"tags":["java","json","spring","spring-mvc","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1272917326,"creation_date":1272773658,"answer_id":2752421,"question_id":2751603,"body_markdown":"Disclaimer: I still do not use Spring-MVC 3.0 \r\n\r\nBut i think the same approach used by Spring 2.5 can fullfil your needs\r\n\r\n    for (Object object : bindingResult.getAllErrors()) {\r\n        if(object instanceof FieldError) {\r\n            FieldError fieldError = (FieldError) object;\r\n\r\n            System.out.println(fieldError.getCode());\r\n        }\r\n        \r\n        if(object instanceof ObjectError) {\r\n            ObjectError objectError = (ObjectError) object;\r\n\r\n            System.out.println(objectError.getCode());\r\n        }\r\n    }\r\n\r\nI hope it can be useful to you\r\n\r\n**UPDATE**\r\n\r\nIf you want to get the message provided by your resource bundle, you need a registered messageSource instance (It **must** be called messageSource)\r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot; value=&quot;ValidationMessages&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nInject your MessageSource instance inside your View\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\nAnd to get your message, do as follows\r\n\r\n    for (Object object : bindingResult.getAllErrors()) {\r\n        if(object instanceof FieldError) {\r\n            FieldError fieldError = (FieldError) object;\r\n\r\n            /**\r\n              * Use null as second parameter if you do not use i18n (internationalization)\r\n              */\r\n\r\n            String message = messageSource.getMessage(fieldError, null);\r\n        }\r\n    }\r\n\r\nYour Validator should looks like\r\n\r\n    /**\r\n      * Use null as fourth parameter if you do not want a default message\r\n      */\r\n    errors.rejectValue(&quot;&lt;FIELD_NAME_GOES_HERE&gt;&quot;, &quot;answerform.questionId.invalid&quot;, new Object [] {&quot;123&quot;}, null);","title":"How to get error text in controller from BindingResult?","body":"<p>Disclaimer: I still do not use Spring-MVC 3.0 </p>\n\n<p>But i think the same approach used by Spring 2.5 can fullfil your needs</p>\n\n<pre><code>for (Object object : bindingResult.getAllErrors()) {\n    if(object instanceof FieldError) {\n        FieldError fieldError = (FieldError) object;\n\n        System.out.println(fieldError.getCode());\n    }\n\n    if(object instanceof ObjectError) {\n        ObjectError objectError = (ObjectError) object;\n\n        System.out.println(objectError.getCode());\n    }\n}\n</code></pre>\n\n<p>I hope it can be useful to you</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you want to get the message provided by your resource bundle, you need a registered messageSource instance (It <strong>must</strong> be called messageSource)</p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basenames\" value=\"ValidationMessages\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Inject your MessageSource instance inside your View</p>\n\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n</code></pre>\n\n<p>And to get your message, do as follows</p>\n\n<pre><code>for (Object object : bindingResult.getAllErrors()) {\n    if(object instanceof FieldError) {\n        FieldError fieldError = (FieldError) object;\n\n        /**\n          * Use null as second parameter if you do not use i18n (internationalization)\n          */\n\n        String message = messageSource.getMessage(fieldError, null);\n    }\n}\n</code></pre>\n\n<p>Your Validator should looks like</p>\n\n<pre><code>/**\n  * Use null as fourth parameter if you do not want a default message\n  */\nerrors.rejectValue(\"&lt;FIELD_NAME_GOES_HERE&gt;\", \"answerform.questionId.invalid\", new Object [] {\"123\"}, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1507260311,"creation_date":1315811614,"answer_id":7384449,"question_id":2751603,"body_markdown":"I met this problem recently, and found an easier way (maybe it&#39;s the support of Spring 3)\r\n\r\n        List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\r\n        for (FieldError error : errors ) {\r\n            System.out.println (error.getObjectName() + &quot; - &quot; + error.getDefaultMessage());\r\n        }\r\n\r\nThere&#39;s no need to change/add the message source.","title":"How to get error text in controller from BindingResult?","body":"<p>I met this problem recently, and found an easier way (maybe it's the support of Spring 3)</p>\n\n<pre><code>    List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\n    for (FieldError error : errors ) {\n        System.out.println (error.getObjectName() + \" - \" + error.getDefaultMessage());\n    }\n</code></pre>\n\n<p>There's no need to change/add the message source.</p>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386870663,"creation_date":1386870663,"answer_id":20550627,"question_id":2751603,"body_markdown":"**BEAN XML:**\r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;messages&lt;/value&gt;\r\n            &lt;/list&gt;            \r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;messageAccessor&quot; class=&quot;org.springframework.context.support.MessageSourceAccessor&quot;&gt;\r\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;messageSource&quot;/&gt;\r\n    &lt;/bean&gt;\t\r\n\r\n\r\n----------\r\n**JAVA:**\r\n\r\n    for (FieldError error : errors.getFieldErrors()) {\r\n        logger.debug(messageAccessor.getMessage(error));\r\n    }\r\n\r\n**NOTE:** Calling Errors.getDefaultMessage() will not necessarily return the same message that is generated from the code + args.  The defaultMessage is a separate value defined when calling the Errors.rejectValue() method. See [Errors.rejectValue() API Here][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/validation/Errors.html#rejectValue%28java.lang.String,%20java.lang.String,%20java.lang.Object%5B%5D,%20java.lang.String%29","title":"How to get error text in controller from BindingResult?","body":"<p><strong>BEAN XML:</strong></p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basenames\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;messages&lt;/value&gt;\n        &lt;/list&gt;            \n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageAccessor\" class=\"org.springframework.context.support.MessageSourceAccessor\"&gt;\n    &lt;constructor-arg index=\"0\" ref=\"messageSource\"/&gt;\n&lt;/bean&gt; \n</code></pre>\n\n<hr>\n\n<p><strong>JAVA:</strong></p>\n\n<pre><code>for (FieldError error : errors.getFieldErrors()) {\n    logger.debug(messageAccessor.getMessage(error));\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> Calling Errors.getDefaultMessage() will not necessarily return the same message that is generated from the code + args.  The defaultMessage is a separate value defined when calling the Errors.rejectValue() method. See <a href=\"http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/validation/Errors.html#rejectValue%28java.lang.String,%20java.lang.String,%20java.lang.Object%5B%5D,%20java.lang.String%29\" rel=\"nofollow\">Errors.rejectValue() API Here</a></p>\n"},{"tags":[],"owner":{"account_id":8239933,"reputation":141,"user_id":6197859,"display_name":"Krzysiek"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1508782832,"creation_date":1508781568,"answer_id":46895694,"question_id":2751603,"body_markdown":"With Java 8 Streams\r\n\r\n    bindingResult\r\n    .getFieldErrors()\r\n    .stream()\r\n    .forEach(f -&gt; System.out.println(f.getField() + &quot;: &quot; + f.getDefaultMessage()));","title":"How to get error text in controller from BindingResult?","body":"<p>With Java 8 Streams</p>\n\n<pre><code>bindingResult\n.getFieldErrors()\n.stream()\n.forEach(f -&gt; System.out.println(f.getField() + \": \" + f.getDefaultMessage()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10882505,"reputation":21,"user_id":8000939,"display_name":"Valerii Starovoitov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511488734,"creation_date":1511488734,"answer_id":47465362,"question_id":2751603,"body_markdown":"**WebMvcConfigurerAdapter:**\r\n\r\n\t@Bean(name = &quot;messageSourceAccessor&quot;)\r\n\tpublic org.springframework.context.support.MessageSourceAccessor messageSourceAccessor() {\r\n\t\treturn new MessageSourceAccessor( messageSource());\r\n\t}\r\n\r\n**Controller:**\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;messageSourceAccessor&quot;)\r\n\tprivate MessageSourceAccessor\t\t\tmessageSourceAccessor;\r\n    ...\r\n\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (ObjectError error : result.getAllErrors()) {\r\n\t\tif ( error instanceof FieldError) {\r\n\t\t\tFieldError fe = (FieldError) error;\r\n\t\t\tsb.append( fe.getField());\r\n\t\t\tsb.append( &quot;: &quot;);\r\n\t\t}\r\n\t\tsb.append( messageSourceAccessor.getMessage( error));\r\n\t\tsb.append( &quot;&lt;br /&gt;&quot;);\r\n\t}","title":"How to get error text in controller from BindingResult?","body":"<p><strong>WebMvcConfigurerAdapter:</strong></p>\n\n<pre><code>@Bean(name = \"messageSourceAccessor\")\npublic org.springframework.context.support.MessageSourceAccessor messageSourceAccessor() {\n    return new MessageSourceAccessor( messageSource());\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@Autowired\n@Qualifier(\"messageSourceAccessor\")\nprivate MessageSourceAccessor           messageSourceAccessor;\n...\n\nStringBuilder sb = new StringBuilder();\nfor (ObjectError error : result.getAllErrors()) {\n    if ( error instanceof FieldError) {\n        FieldError fe = (FieldError) error;\n        sb.append( fe.getField());\n        sb.append( \": \");\n    }\n    sb.append( messageSourceAccessor.getMessage( error));\n    sb.append( \"&lt;br /&gt;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612847680,"creation_date":1612847680,"answer_id":66113363,"question_id":2751603,"body_markdown":"To obtain a `Map` of all the errors associated with each field:\r\n\r\n```\r\n@Autowired\r\nprivate MessageSource messageSource;\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; errorMap = bindingResult.getFieldErrors().stream()\r\n\t.collect(Collectors.groupingBy(FieldError::getField, \r\n\tCollectors.mapping(e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \r\n\t\t\t\t\t\tCollectors.toList())));\r\n//In this example, each field/key is mapped to a \r\n//List of all the errors associated with that field\r\n```\r\n\r\nTo obtain a `Map` with the errors associated with each field merged together as a single `String`:\r\n\r\n\r\n```\r\n@Autowired\r\nprivate MessageSource messageSource;\r\n\r\nMap&lt;String, String&gt; errorMap = bindingResult.getFieldErrors().stream()\r\n\t\t.collect(Collectors\r\n\t\t\t\t.toMap(FieldError::getField, \r\n\t\t\t\t\te -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \r\n\t\t\t\t\t(a,b)-&gt;a + &quot;&lt;br/&gt;&quot; + b));\r\n//In this example, multiple errors for the same field are separated with &lt;br/&gt;, \r\n//the line break element, to be easily displayed on the front end\r\n```","title":"How to get error text in controller from BindingResult?","body":"<p>To obtain a <code>Map</code> of all the errors associated with each field:</p>\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n\nMap&lt;String, List&lt;String&gt;&gt; errorMap = bindingResult.getFieldErrors().stream()\n    .collect(Collectors.groupingBy(FieldError::getField, \n    Collectors.mapping(e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \n                        Collectors.toList())));\n//In this example, each field/key is mapped to a \n//List of all the errors associated with that field\n</code></pre>\n<p>To obtain a <code>Map</code> with the errors associated with each field merged together as a single <code>String</code>:</p>\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n\nMap&lt;String, String&gt; errorMap = bindingResult.getFieldErrors().stream()\n        .collect(Collectors\n                .toMap(FieldError::getField, \n                    e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \n                    (a,b)-&gt;a + &quot;&lt;br/&gt;&quot; + b));\n//In this example, multiple errors for the same field are separated with &lt;br/&gt;, \n//the line break element, to be easily displayed on the front end\n</code></pre>\n"}],"owner":{"account_id":63802,"reputation":1186,"user_id":188666,"accept_rate":27,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84738,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":2752421,"answer_count":6,"score":37,"last_activity_date":1687359937,"creation_date":1272749315,"question_id":2751603,"body_markdown":"I have an controller that returns JSON. It takes a form, which validates itself via spring annotations. I can get `FieldError` list from `BindingResult`, but they don&#39;t contain the text that a JSP would display in the `&lt;form:errors&gt;` tag. How can I get the error text to send back in JSON?\r\n\r\n```java\r\n@RequestMapping(method = RequestMethod.POST)\r\npublic @ResponseBody JSONResponse submit(@Valid AnswerForm answerForm, BindingResult result, Model model, HttpServletRequest request, HttpServletResponse response) {\r\n    if (result.hasErrors()) {\r\n        response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n        JSONResponse r = new JSONResponse();\r\n        r.setStatus(JSONResponseStatus.ERROR);\r\n        //HOW DO I GET ERROR MESSAGES OUT OF BindingResult??? \r\n    } else {\r\n        JSONResponse r = new JSONResponse();\r\n        r.setStatus(JSONResponseStatus.OK);\r\n        return r;\r\n    }\r\n}\r\n```\r\n\r\nJSONREsponse class is just a POJO\r\n\r\n```java\r\npublic class JSONResponse implements Serializable {\r\n    private JSONResponseStatus status;\r\n    private String error;\r\n    private Map&lt;String,String&gt; errors;\r\n    private Map&lt;String,Object&gt; data;\r\n    \r\n    // ...getters and setters...\r\n}\r\n```\r\n\r\nCalling `BindingResult.getAllErrors()` returns an array of `FieldError` objects, but it does not have the actual errors.  ","title":"How to get error text in controller from BindingResult?","body":"<p>I have an controller that returns JSON. It takes a form, which validates itself via spring annotations. I can get <code>FieldError</code> list from <code>BindingResult</code>, but they don't contain the text that a JSP would display in the <code>&lt;form:errors&gt;</code> tag. How can I get the error text to send back in JSON?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(method = RequestMethod.POST)\npublic @ResponseBody JSONResponse submit(@Valid AnswerForm answerForm, BindingResult result, Model model, HttpServletRequest request, HttpServletResponse response) {\n    if (result.hasErrors()) {\n        response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        JSONResponse r = new JSONResponse();\n        r.setStatus(JSONResponseStatus.ERROR);\n        //HOW DO I GET ERROR MESSAGES OUT OF BindingResult??? \n    } else {\n        JSONResponse r = new JSONResponse();\n        r.setStatus(JSONResponseStatus.OK);\n        return r;\n    }\n}\n</code></pre>\n<p>JSONREsponse class is just a POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONResponse implements Serializable {\n    private JSONResponseStatus status;\n    private String error;\n    private Map&lt;String,String&gt; errors;\n    private Map&lt;String,Object&gt; data;\n    \n    // ...getters and setters...\n}\n</code></pre>\n<p>Calling <code>BindingResult.getAllErrors()</code> returns an array of <code>FieldError</code> objects, but it does not have the actual errors.</p>\n"},{"tags":["java","netbeans","mercurial"],"comments":[{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":1,"creation_date":1687357003,"post_id":76524278,"comment_id":134925766,"body_markdown":"I don&#39;t think this is a `git` question","body":"I don&#39;t think this is a <code>git</code> question"},{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":1,"creation_date":1687357136,"post_id":76524278,"comment_id":134925800,"body_markdown":"... but since it is tagged, with git you should use `git restore --worktree --source=&lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;`. That will get you the files like that in the working tree, won&#39;t mess up with the index. You could also do `git checkout &lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;` but using `restore` is preferred these days.","body":"... but since it is tagged, with git you should use <code>git restore --worktree --source=&lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;</code>. That will get you the files like that in the working tree, won&#39;t mess up with the index. You could also do <code>git checkout &lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;</code> but using <code>restore</code> is preferred these days."},{"owner":{"account_id":119722,"reputation":19505,"user_id":311635,"accept_rate":78,"display_name":"Rudi"},"score":0,"creation_date":1690980670,"post_id":76524278,"comment_id":135428170,"body_markdown":"Are you using git or mercurial? Don&#39;t just thow in the tags, they do have a meaning.","body":"Are you using git or mercurial? Don&#39;t just thow in the tags, they do have a meaning."}],"owner":{"account_id":8562104,"reputation":2510,"user_id":6415828,"accept_rate":69,"display_name":"Diego Alves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687359919,"creation_date":1687356956,"question_id":76524278,"body_markdown":"I have a project with severial files. I want to return 3 of those files to a specific date in time. I used this. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut this so misleading. When I supposedly would recover all the code of 2018. But it doesn&#39;t it has things of 2019, 2020. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IAu3Y.png\r\n  [2]: https://i.stack.imgur.com/I5LCn.png\r\n\r\n\r\n\r\nTo solve the issue I have to have an exact copy of the time.","title":"Mercurial and netbeans is there a way to return a file to a specific date?","body":"<p>I have a project with severial files. I want to return 3 of those files to a specific date in time. I used this.</p>\n<p><a href=\"https://i.stack.imgur.com/IAu3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAu3Y.png\" alt=\"enter image description here\" /></a></p>\n<p>But this so misleading. When I supposedly would recover all the code of 2018. But it doesn't it has things of 2019, 2020.</p>\n<p><a href=\"https://i.stack.imgur.com/I5LCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5LCn.png\" alt=\"enter image description here\" /></a></p>\n<p>To solve the issue I have to have an exact copy of the time.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687360184,"post_id":76524731,"comment_id":134926646,"body_markdown":"Does this answer your question? [Java Swing ImageIcon, where to put images?](https://stackoverflow.com/questions/17912041/java-swing-imageicon-where-to-put-images). You are using resources incorrectly. The resources directory doesn&#39;t even exist at runtime.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17912041/java-swing-imageicon-where-to-put-images\">Java Swing ImageIcon, where to put images?</a>. You are using resources incorrectly. The resources directory doesn&#39;t even exist at runtime."},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":1,"creation_date":1687361126,"post_id":76524731,"comment_id":134926873,"body_markdown":"In a Gradle project, the resources folder is typically considered as the root of the classpath, and the relative paths within the application code are resolved based on that root. Just put the images inside the `src/main/resources` folder, then `private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;/white_pawn.png&quot;), Piece.WHITE);\n`","body":"In a Gradle project, the resources folder is typically considered as the root of the classpath, and the relative paths within the application code are resolved based on that root. Just put the images inside the <code>src&#47;main&#47;resources</code> folder, then <code>private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;&#47;white_pawn.png&quot;), Piece.WHITE); </code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687362087,"post_id":76524731,"comment_id":134927093,"body_markdown":"*new ImageIcon(&quot;/white_pawn.png&quot;)* is incorrect. That&#39;s *file-wise* access, which is not what you want. You want `new ImageIcon(PieceLabel.class.getResource(&quot;/white_pawn.png&quot;));` (resource access [that&#39;s a `URL`])","body":"<i>new ImageIcon(&quot;/white_pawn.png&quot;)</i> is incorrect. That&#39;s <i>file-wise</i> access, which is not what you want. You want <code>new ImageIcon(PieceLabel.class.getResource(&quot;&#47;white_pawn.png&quot;));</code> (resource access [that&#39;s a <code>URL</code>])"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359875,"creation_date":1687359875,"question_id":76524731,"body_markdown":"I&#39;m trying to use images located in the resources folder in a gradle project I just created.\r\n\r\nThe project tree is as follows:\r\n\r\n```\r\nD:.\r\n├───main\r\n│   ├───java\r\n│   │   └───chess_game_gui\r\n│   │       ├───GameGUI\r\n│   │       ├───MainComponents\r\n│   │       └───Pieces\r\n│   └───resources\r\n└───test\r\n    ├───java\r\n    │   └───chess_game_gui\r\n    │       └───app\r\n    └───resources\r\n```\r\n\r\nInside a file that is inside the `GameGUI` folder, i have the following line of code:\r\n\r\n```\r\nprivate static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;../../../resources/white_pawn.png&quot;), Piece.WHITE);\r\n```\r\n\r\nWhich is, to my understanding, supposed to get 3 folder up, end up at the main folder, and then access the resources folder. But it fails (the images do not appear in my app. I know it&#39;s a problem with the path since I just created this gradle project, it used to work without the gradle project structure.)","title":"Access resources folder in gradle java project","body":"<p>I'm trying to use images located in the resources folder in a gradle project I just created.</p>\n<p>The project tree is as follows:</p>\n<pre><code>D:.\n├───main\n│   ├───java\n│   │   └───chess_game_gui\n│   │       ├───GameGUI\n│   │       ├───MainComponents\n│   │       └───Pieces\n│   └───resources\n└───test\n    ├───java\n    │   └───chess_game_gui\n    │       └───app\n    └───resources\n</code></pre>\n<p>Inside a file that is inside the <code>GameGUI</code> folder, i have the following line of code:</p>\n<pre><code>private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;../../../resources/white_pawn.png&quot;), Piece.WHITE);\n</code></pre>\n<p>Which is, to my understanding, supposed to get 3 folder up, end up at the main folder, and then access the resources folder. But it fails (the images do not appear in my app. I know it's a problem with the path since I just created this gradle project, it used to work without the gradle project structure.)</p>\n"},{"tags":["java","scala","apache-spark","sbt","sbt-assembly"],"owner":{"account_id":11375595,"reputation":99,"user_id":8340005,"display_name":"maxwellray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359530,"creation_date":1687359530,"question_id":76524667,"body_markdown":"I have a spark repo that I run on EMR. I use sbt-assembly to build a fat JAR for this. I&#39;d like to start doing some testing on my local, but there is a mismatch in dependencies (hadoop dependency shades EMR&#39;s JARs when running in cluster mode), making it impossible to use the same JAR for both. I&#39;m wondering if there&#39;s a way for me to produce multiple jars using the same build.sbt file. My first shot is below, but it doesn&#39;t generate multiple JARs in the output directory. I assume this is doable with SBT, but I&#39;m not sure how.\r\n\r\n```\r\nThisBuild / version := &quot;0.1.0&quot;\r\n\r\nThisBuild / scalaVersion := &quot;2.12.16&quot;\r\n\r\nThisBuild / javaOptions := Seq(&quot;-Xms512M&quot;, &quot;-Xmx1024M&quot;, &quot;-Xss1M&quot;, &quot;-XX:+UseG1GC&quot;)\r\n\r\nThisBuild / assemblyMergeStrategy := {\r\n  case PathList(&quot;org&quot;, &quot;aopalliance&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;inject&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;servlet&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;activation&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;org&quot;, &quot;apache&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;google&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;esotericsoftware&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;codahale&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;yammer&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;META-INF&quot;, xs@_*) =&gt; MergeStrategy.discard\r\n  case &quot;about.html&quot; =&gt; MergeStrategy.rename\r\n  case &quot;META-INF/ECLIPSEF.RSA&quot; =&gt; MergeStrategy.last\r\n  case &quot;META-INF/mailcap&quot; =&gt; MergeStrategy.last\r\n  case &quot;META-INF/mimetypes.default&quot; =&gt; MergeStrategy.last\r\n  case &quot;plugin.properties&quot; =&gt; MergeStrategy.last\r\n  case &quot;log4j.properties&quot; =&gt; MergeStrategy.last\r\n  case x if x.endsWith(&quot;.properties&quot;) =&gt; MergeStrategy.last\r\n  case x =&gt; MergeStrategy.first\r\n}\r\n\r\nlazy val commonSettings = Seq(\r\n  libraryDependencies ++= Seq(\r\n    &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.1&quot; % Provided,\r\n    &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.170&quot;,\r\n    &quot;com.datastax.spark&quot; %% &quot;spark-cassandra-connector&quot; % &quot;3.2.0&quot;,\r\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.5.0&quot;,\r\n    &quot;com.typesafe.play&quot; %% &quot;play-json&quot; % &quot;2.8.2&quot;,\r\n    &quot;com.github.jnr&quot; % &quot;jnr-posix&quot; % &quot;3.1.16&quot;,\r\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.6.0&quot;,\r\n    &quot;com.google.guava&quot; % &quot;guava&quot; % &quot;31.1-jre&quot;,\r\n    &quot;org.apache.httpcomponents&quot; % &quot;httpcore&quot; % &quot;4.4.16&quot;,\r\n    &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.15&quot; % Test,\r\n    &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.17.12&quot; % Test\r\n  )\r\n)\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(commonSettings: _*)\r\n  .settings(\r\n    name := &quot;admin-precompute&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot; % Provided,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot; % Provided,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot; % Provided\r\n    ),\r\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(false),\r\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly.jar&quot;,\r\n  )\r\n\r\nlazy val local = (project in file(&quot;.&quot;))\r\n  .settings(commonSettings: _*)\r\n  .settings(\r\n    name := &quot;admin-precompute-local&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot;,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot;,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot;\r\n    ),\r\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(true),\r\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly-local.jar&quot;,\r\n  )\r\n\r\n```\r\n\r\nThanks!","title":"SBT Assembly with Multiple Jars","body":"<p>I have a spark repo that I run on EMR. I use sbt-assembly to build a fat JAR for this. I'd like to start doing some testing on my local, but there is a mismatch in dependencies (hadoop dependency shades EMR's JARs when running in cluster mode), making it impossible to use the same JAR for both. I'm wondering if there's a way for me to produce multiple jars using the same build.sbt file. My first shot is below, but it doesn't generate multiple JARs in the output directory. I assume this is doable with SBT, but I'm not sure how.</p>\n<pre><code>ThisBuild / version := &quot;0.1.0&quot;\n\nThisBuild / scalaVersion := &quot;2.12.16&quot;\n\nThisBuild / javaOptions := Seq(&quot;-Xms512M&quot;, &quot;-Xmx1024M&quot;, &quot;-Xss1M&quot;, &quot;-XX:+UseG1GC&quot;)\n\nThisBuild / assemblyMergeStrategy := {\n  case PathList(&quot;org&quot;, &quot;aopalliance&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;inject&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;servlet&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;activation&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;org&quot;, &quot;apache&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;google&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;esotericsoftware&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;codahale&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;yammer&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;META-INF&quot;, xs@_*) =&gt; MergeStrategy.discard\n  case &quot;about.html&quot; =&gt; MergeStrategy.rename\n  case &quot;META-INF/ECLIPSEF.RSA&quot; =&gt; MergeStrategy.last\n  case &quot;META-INF/mailcap&quot; =&gt; MergeStrategy.last\n  case &quot;META-INF/mimetypes.default&quot; =&gt; MergeStrategy.last\n  case &quot;plugin.properties&quot; =&gt; MergeStrategy.last\n  case &quot;log4j.properties&quot; =&gt; MergeStrategy.last\n  case x if x.endsWith(&quot;.properties&quot;) =&gt; MergeStrategy.last\n  case x =&gt; MergeStrategy.first\n}\n\nlazy val commonSettings = Seq(\n  libraryDependencies ++= Seq(\n    &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.1&quot; % Provided,\n    &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.170&quot;,\n    &quot;com.datastax.spark&quot; %% &quot;spark-cassandra-connector&quot; % &quot;3.2.0&quot;,\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.5.0&quot;,\n    &quot;com.typesafe.play&quot; %% &quot;play-json&quot; % &quot;2.8.2&quot;,\n    &quot;com.github.jnr&quot; % &quot;jnr-posix&quot; % &quot;3.1.16&quot;,\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.6.0&quot;,\n    &quot;com.google.guava&quot; % &quot;guava&quot; % &quot;31.1-jre&quot;,\n    &quot;org.apache.httpcomponents&quot; % &quot;httpcore&quot; % &quot;4.4.16&quot;,\n    &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.15&quot; % Test,\n    &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.17.12&quot; % Test\n  )\n)\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(commonSettings: _*)\n  .settings(\n    name := &quot;admin-precompute&quot;,\n    libraryDependencies ++= Seq(\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot; % Provided,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot; % Provided,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot; % Provided\n    ),\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(false),\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly.jar&quot;,\n  )\n\nlazy val local = (project in file(&quot;.&quot;))\n  .settings(commonSettings: _*)\n  .settings(\n    name := &quot;admin-precompute-local&quot;,\n    libraryDependencies ++= Seq(\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot;,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot;,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot;\n    ),\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(true),\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly-local.jar&quot;,\n  )\n\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android","kotlin","cordova","task"],"owner":{"account_id":16146755,"reputation":614,"user_id":11656240,"display_name":"austinw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359169,"creation_date":1687359169,"question_id":76524617,"body_markdown":"I understand that there is no official way to determine whether the review card was shown to the user or not. But I am curious whether anyone has found a way around this, perhaps by inspecting the UI?\r\n\r\nNote: I am not interested in knowing whether the user actually reviewed or not. All I need to know is whether the dialog was shown!\r\n\r\nI&#39;m currently using the cordova plugin - `cordova-launch-review` to request an in-app-review dialog. It accepts a callback which is called after a successful *request*, but as far as I can tell, it has no way of knowing whether the dialog was actually shown or not.\r\n\r\nLink to the plugin repo: https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java\r\n\r\nI&#39;ll paste the code the plugin runs when requesting the review dialog below. It&#39;s pretty standard stuff, very similar to Android&#39;s official documentation: https://developer.android.com/guide/playcore/in-app-review/kotlin-java\r\n\r\n    ReviewManager manager = ReviewManagerFactory.create(cordova.getContext());\r\n\t\t\tTask&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n\t\t\trequest.addOnCompleteListener(requestTask -&gt; {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif (taskWasSuccessful(requestTask)) {\r\n\t\t\t\t\t\tReviewInfo reviewInfo = requestTask.getResult();\r\n\t\t\t\t\t\tTask&lt;Void&gt; flow = manager.launchReviewFlow(cordova.getActivity(), reviewInfo);\r\n\t\t\t\t\t\tflow.addOnCompleteListener(launchTask -&gt; {\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tif (taskWasSuccessful(launchTask)) {\r\n\t\t\t\t\t\t\t\t\tcallbackContext.success(&quot;requested&quot;);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\thandleTaskFailed(launchTask, callbackContext);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).addOnFailureListener(e -&gt; {\r\n\t\t\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thandleTaskFailed(requestTask, callbackContext);\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t}\r\n\t\t\t}).addOnFailureListener(e -&gt; {\r\n\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t});","title":"Has anyone figured out a way to confirm whether the Android in-app-review dialog was shown?","body":"<p>I understand that there is no official way to determine whether the review card was shown to the user or not. But I am curious whether anyone has found a way around this, perhaps by inspecting the UI?</p>\n<p>Note: I am not interested in knowing whether the user actually reviewed or not. All I need to know is whether the dialog was shown!</p>\n<p>I'm currently using the cordova plugin - <code>cordova-launch-review</code> to request an in-app-review dialog. It accepts a callback which is called after a successful <em>request</em>, but as far as I can tell, it has no way of knowing whether the dialog was actually shown or not.</p>\n<p>Link to the plugin repo: <a href=\"https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java\" rel=\"nofollow noreferrer\">https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java</a></p>\n<p>I'll paste the code the plugin runs when requesting the review dialog below. It's pretty standard stuff, very similar to Android's official documentation: <a href=\"https://developer.android.com/guide/playcore/in-app-review/kotlin-java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/in-app-review/kotlin-java</a></p>\n<pre><code>ReviewManager manager = ReviewManagerFactory.create(cordova.getContext());\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n        request.addOnCompleteListener(requestTask -&gt; {\n            try{\n                if (taskWasSuccessful(requestTask)) {\n                    ReviewInfo reviewInfo = requestTask.getResult();\n                    Task&lt;Void&gt; flow = manager.launchReviewFlow(cordova.getActivity(), reviewInfo);\n                    flow.addOnCompleteListener(launchTask -&gt; {\n                        try{\n                            if (taskWasSuccessful(launchTask)) {\n                                callbackContext.success(&quot;requested&quot;);\n                            }else{\n                                handleTaskFailed(launchTask, callbackContext);\n                            }\n                        }catch (Exception e){\n                            handleException(e, callbackContext);\n                        }\n                    }).addOnFailureListener(e -&gt; {\n                        handleException(e, callbackContext);\n                    });\n                } else {\n                    handleTaskFailed(requestTask, callbackContext);\n                }\n            }catch (Exception e){\n                handleException(e, callbackContext);\n            }\n        }).addOnFailureListener(e -&gt; {\n            handleException(e, callbackContext);\n        });\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","reflection"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362678,"post_id":76523947,"comment_id":134927243,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687359017,"creation_date":1687359017,"answer_id":76524602,"question_id":76523947,"body_markdown":"The problem with your current solution is that JPA repositories need to be auto-configured by Spring Boot Data JPA to work. \r\n\r\n**Solution**\r\n\r\nYou can use Spring to generate a map of all JPA repositories as proper autowired objects. Then in your code you can get the repository by the key. Which is the repository class name (without package).\r\n\r\nCheck the below example code which logs all defined repositories and their size using `findAll()`.\r\n```\r\n@Autowired\r\nMap&lt;String, JpaRepository&gt; jpaRepositories;\r\n// ...\r\nfor (Map.Entry&lt;String, JpaRepository&gt; repos : jpaRepositories.entrySet()) {\r\n    List items = repos.getValue().findAll();\r\n    log.info(&quot;repository: {}; size: {}&quot;, repos.getKey(), items.size());\r\n}\r\n\r\nSample output:\r\nrepository: customerRepository; size: 1234\r\nrepository: phoneRepository; size: 117\r\n\r\n```","title":"How to access JPA Repository methods from bean object of the particular repository dynamically","body":"<p>The problem with your current solution is that JPA repositories need to be auto-configured by Spring Boot Data JPA to work.</p>\n<p><strong>Solution</strong></p>\n<p>You can use Spring to generate a map of all JPA repositories as proper autowired objects. Then in your code you can get the repository by the key. Which is the repository class name (without package).</p>\n<p>Check the below example code which logs all defined repositories and their size using <code>findAll()</code>.</p>\n<pre><code>@Autowired\nMap&lt;String, JpaRepository&gt; jpaRepositories;\n// ...\nfor (Map.Entry&lt;String, JpaRepository&gt; repos : jpaRepositories.entrySet()) {\n    List items = repos.getValue().findAll();\n    log.info(&quot;repository: {}; size: {}&quot;, repos.getKey(), items.size());\n}\n\nSample output:\nrepository: customerRepository; size: 1234\nrepository: phoneRepository; size: 117\n\n</code></pre>\n"}],"owner":{"account_id":15044554,"reputation":11,"user_id":10858134,"display_name":"NkTech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687359017,"creation_date":1687354859,"question_id":76523947,"body_markdown":"I have a list of repositories that extends JPA Repository and the API needs to fetch a record of a particular table given a primary key..\r\n\r\nI have defined a enum from where I&#39;m able to fetch the repository class object from the given table name..\r\n\r\n```\r\npublic enum DynamicEntityRepository {\r\n\r\n    Table1(Entity1.class),\r\n    Table2(Entity2.class),\r\n    Table3(Entity3.class),\r\n    Table4(Entity4.class),\r\n   \r\n    Class entity;\r\n\r\n}\r\n```\r\n\r\nNow, I want to access the findById(id) method of JPA Repository of the particular table..\r\n\r\n```\r\n DynamicEntityRepository repo = DynamicEntityRepository.valueOf(tableName);\r\n \r\n\r\n /*\r\n   Here I want to access findById(id) of the particular repository by passing the param\r\n*/\r\n\r\n```\r\n\r\n\r\nI have tried using reflection to invoke the findById method of the Repository class but it throws NoSuchMethodException as the Repository originally does not have findById method.. It indeed extends JPARepository&#39;s default method..\r\n\r\n\r\nIs there any other way to solve this ?","title":"How to access JPA Repository methods from bean object of the particular repository dynamically","body":"<p>I have a list of repositories that extends JPA Repository and the API needs to fetch a record of a particular table given a primary key..</p>\n<p>I have defined a enum from where I'm able to fetch the repository class object from the given table name..</p>\n<pre><code>public enum DynamicEntityRepository {\n\n    Table1(Entity1.class),\n    Table2(Entity2.class),\n    Table3(Entity3.class),\n    Table4(Entity4.class),\n   \n    Class entity;\n\n}\n</code></pre>\n<p>Now, I want to access the findById(id) method of JPA Repository of the particular table..</p>\n<pre><code> DynamicEntityRepository repo = DynamicEntityRepository.valueOf(tableName);\n \n\n /*\n   Here I want to access findById(id) of the particular repository by passing the param\n*/\n\n</code></pre>\n<p>I have tried using reflection to invoke the findById method of the Repository class but it throws NoSuchMethodException as the Repository originally does not have findById method.. It indeed extends JPARepository's default method..</p>\n<p>Is there any other way to solve this ?</p>\n"},{"tags":["java","remedy"],"answers":[{"tags":[],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595504235,"creation_date":1595504235,"answer_id":63053338,"question_id":62922776,"body_markdown":"Got the solution, we need to upgrade our Arapi jar to Arapi9 in order to support premium encryption.","title":"Getting 9002 error while connecting to Access Remedy Server via Java AR API","body":"<p>Got the solution, we need to upgrade our Arapi jar to Arapi9 in order to support premium encryption.</p>\n"}],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63053338,"answer_count":1,"score":1,"last_activity_date":1687358852,"creation_date":1594842723,"question_id":62922776,"body_markdown":"I am trying to connect to Access Remedy Server for creating ticket in BMC Remedy via Java but it is giving error i.e.\r\n\r\n&gt; ERROR (9002): The data encryption key exchange failed; \r\n\r\nAccess Remedy Application host that I am  trying to connect is encrypted and we have added cryptojce.jar,cryptocommon.jar, and jcmFIPS.jar\r\n\r\nI can see one argument getting passed mentioned below.\r\n\r\n    com.bmc.arsys.arencrypt.c:? - fipsProviderJsafeJCE installed = false\r\n\r\nIs there anything I am missing here to enable proper exchange of encryption key?\r\n\r\nI am using Java 8 on tomcat v9. and using arapi7604_build002-1.0-arapi7604_build002.jar","title":"Getting 9002 error while connecting to Access Remedy Server via Java AR API","body":"<p>I am trying to connect to Access Remedy Server for creating ticket in BMC Remedy via Java but it is giving error i.e.</p>\n<blockquote>\n<p>ERROR (9002): The data encryption key exchange failed;</p>\n</blockquote>\n<p>Access Remedy Application host that I am  trying to connect is encrypted and we have added cryptojce.jar,cryptocommon.jar, and jcmFIPS.jar</p>\n<p>I can see one argument getting passed mentioned below.</p>\n<pre><code>com.bmc.arsys.arencrypt.c:? - fipsProviderJsafeJCE installed = false\n</code></pre>\n<p>Is there anything I am missing here to enable proper exchange of encryption key?</p>\n<p>I am using Java 8 on tomcat v9. and using arapi7604_build002-1.0-arapi7604_build002.jar</p>\n"},{"tags":["java","android","notifications","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":2268152,"reputation":34,"user_id":1996242,"display_name":"walex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358846,"creation_date":1687358846,"answer_id":76524575,"question_id":76523546,"body_markdown":"Try \r\n\r\n    android:launchMode=&quot;singleTop&quot;\r\n\r\nin your manifest\r\n\r\n    \r\n\r\n","title":"Prevent Activity from relaunching when clicking on the notification","body":"<p>Try</p>\n<pre><code>android:launchMode=&quot;singleTop&quot;\n</code></pre>\n<p>in your manifest</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687358846,"creation_date":1687352301,"question_id":76523546,"body_markdown":"I&#39;m trying to achieve the following :\r\n\r\n1 - If I click on Notification and `MyActivity` is already launched (in foreground)\r\n\r\n**Do nothing.**\r\n\r\n2 - If I click on Notification and `MyActivity` is already launched (in background)\r\n\r\n**Call it and not relaunch it.**\r\n\r\n3 - If I click on Notification and `MyActivity` is not launched\r\n\r\n**Launch the activity**\r\n\r\n\r\nMy code :\r\n\r\n \r\n\r\n    private Notification buildNotification() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n                builder = new Notification.Builder(this, CHANNEL_ID);\r\n            else\r\n                builder = new Notification.Builder(this);\r\n            Intent intent = new Intent(this, MyActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\r\n                    Intent.FLAG_ACTIVITY_SINGLE_TOP |\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            builder.setContentTitle(StringUtils.getString(R.string.app_name))\r\n                    .setContentText(StringUtils.getString(R.string.app_is_running))\r\n                    .setSmallIcon(R.mipmap.ic_launcher_foreground)\r\n                    .setPriority(Notification.PRIORITY_HIGH)\r\n                    .setOnlyAlertOnce(false)\r\n                    .setAutoCancel(false)\r\n                    .setContentIntent(pendingIntent);\r\n            return builder.build();\r\n        }\r\n\r\n**The issue :**\r\n\r\nThe activity is always relaunching, even if the activity is already launched in foreground or background.\r\n\r\nThank you.\r\n\r\n\r\n","title":"Prevent Activity from relaunching when clicking on the notification","body":"<p>I'm trying to achieve the following :</p>\n<p>1 - If I click on Notification and <code>MyActivity</code> is already launched (in foreground)</p>\n<p><strong>Do nothing.</strong></p>\n<p>2 - If I click on Notification and <code>MyActivity</code> is already launched (in background)</p>\n<p><strong>Call it and not relaunch it.</strong></p>\n<p>3 - If I click on Notification and <code>MyActivity</code> is not launched</p>\n<p><strong>Launch the activity</strong></p>\n<p>My code :</p>\n<pre><code>private Notification buildNotification() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n            builder = new Notification.Builder(this, CHANNEL_ID);\n        else\n            builder = new Notification.Builder(this);\n        Intent intent = new Intent(this, MyActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\n                Intent.FLAG_ACTIVITY_SINGLE_TOP |\n                Intent.FLAG_ACTIVITY_NEW_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        builder.setContentTitle(StringUtils.getString(R.string.app_name))\n                .setContentText(StringUtils.getString(R.string.app_is_running))\n                .setSmallIcon(R.mipmap.ic_launcher_foreground)\n                .setPriority(Notification.PRIORITY_HIGH)\n                .setOnlyAlertOnce(false)\n                .setAutoCancel(false)\n                .setContentIntent(pendingIntent);\n        return builder.build();\n    }\n</code></pre>\n<p><strong>The issue :</strong></p>\n<p>The activity is always relaunching, even if the activity is already launched in foreground or background.</p>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"display_name":"user2809386"},"score":0,"creation_date":1547197080,"post_id":14977018,"comment_id":95117462,"body_markdown":"so which one is better to use? which answer will you accept?","body":"so which one is better to use? which answer will you accept?"}],"answers":[{"tags":[],"owner":{"account_id":34522,"reputation":10891,"user_id":97641,"accept_rate":74,"display_name":"Wilhelm Kleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361354874,"creation_date":1361354874,"answer_id":14977122,"question_id":14977018,"body_markdown":"Have a look at:\r\n\r\n- `JPA query language`: [The Java Persistence Query Language][1]  \r\n- `JPA Criteria API`:  [Using the Criteria API to Create Queries][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html\r\n  [2]: http://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Have a look at:</p>\n\n<ul>\n<li><code>JPA query language</code>: <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html\" rel=\"nofollow\">The Java Persistence Query Language</a>  </li>\n<li><code>JPA Criteria API</code>:  <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html\" rel=\"nofollow\">Using the Criteria API to Create Queries</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1361354947,"creation_date":1361354947,"answer_id":14977153,"question_id":14977018,"body_markdown":"It is not a &quot;problem&quot; as you stated it.\r\n\r\nHibernate has the built-in `find()`, but you have to build your own query in order to get a particular object. I recommend using *Hibernate*&#39;s `Criteria` :\r\n\r\n    Criteria criteria = session.createCriteria(YourClass.class);\r\n    YourObject yourObject = criteria.add(Restrictions.eq(&quot;yourField&quot;, yourFieldValue))\r\n                                 .uniqueResult();\r\n\r\nThis will create a `criteria` on your current class, adding the restriction that the column &quot;yourField&quot; is equal to the value `yourFieldValue`. `uniqueResult()` tells it to bring a unique result. If more objects match, you should retrive a list.\r\n\r\n    List&lt;YourObject&gt; list = criteria.add(Restrictions.eq(&quot;yourField&quot;, yourFieldValue)).list();\r\n\r\nIf you have any further questions, please feel free to ask. Hope this helps.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>It is not a \"problem\" as you stated it.</p>\n\n<p>Hibernate has the built-in <code>find()</code>, but you have to build your own query in order to get a particular object. I recommend using <em>Hibernate</em>'s <code>Criteria</code> :</p>\n\n<pre><code>Criteria criteria = session.createCriteria(YourClass.class);\nYourObject yourObject = criteria.add(Restrictions.eq(\"yourField\", yourFieldValue))\n                             .uniqueResult();\n</code></pre>\n\n<p>This will create a <code>criteria</code> on your current class, adding the restriction that the column \"yourField\" is equal to the value <code>yourFieldValue</code>. <code>uniqueResult()</code> tells it to bring a unique result. If more objects match, you should retrive a list.</p>\n\n<pre><code>List&lt;YourObject&gt; list = criteria.add(Restrictions.eq(\"yourField\", yourFieldValue)).list();\n</code></pre>\n\n<p>If you have any further questions, please feel free to ask. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2130094,"reputation":1331,"user_id":1891112,"accept_rate":71,"display_name":"tinker_fairy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527592296,"creation_date":1361356581,"answer_id":14977726,"question_id":14977018,"body_markdown":"Write a custom method like this:     \r\n\r\n    public Object findByYourField(Class entityClass, String yourFieldValue)\r\n\t{\r\n\t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\r\n\t\tRoot&lt;Object&gt; root = criteriaQuery.from(entityClass);\r\n\t\tcriteriaQuery.select(root);\r\n\r\n\t\tParameterExpression&lt;String&gt; params = criteriaBuilder.parameter(String.class);\r\n\t\tcriteriaQuery.where(criteriaBuilder.equal(root.get(&quot;yourField&quot;), params));\r\n\r\n\t\tTypedQuery&lt;Object&gt; query = entityManager.createQuery(criteriaQuery);\r\n\t\tquery.setParameter(params, yourFieldValue);\r\n\r\n\t\tList&lt;Object&gt; queryResult = query.getResultList();\r\n\r\n\t\tObject returnObject = null;\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(queryResult)) {\r\n\t\t\treturnObject = queryResult.get(0);\r\n\t\t}\r\n\r\n\t\treturn returnObject;\r\n\t}","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Write a custom method like this:     </p>\n\n<pre><code>public Object findByYourField(Class entityClass, String yourFieldValue)\n{\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\n    Root&lt;Object&gt; root = criteriaQuery.from(entityClass);\n    criteriaQuery.select(root);\n\n    ParameterExpression&lt;String&gt; params = criteriaBuilder.parameter(String.class);\n    criteriaQuery.where(criteriaBuilder.equal(root.get(\"yourField\"), params));\n\n    TypedQuery&lt;Object&gt; query = entityManager.createQuery(criteriaQuery);\n    query.setParameter(params, yourFieldValue);\n\n    List&lt;Object&gt; queryResult = query.getResultList();\n\n    Object returnObject = null;\n\n    if (CollectionUtils.isNotEmpty(queryResult)) {\n        returnObject = queryResult.get(0);\n    }\n\n    return returnObject;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2595962,"reputation":65,"user_id":2249647,"display_name":"kristianva"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1395702188,"creation_date":1395702188,"answer_id":22622378,"question_id":14977018,"body_markdown":"Using CrudRepository and JPA query works for me: \r\n\r\n    \r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    public interface TokenCrudRepository extends CrudRepository&lt;Token, Integer&gt; {\r\n\r\n     /**\r\n     * Finds a token by using the user as a search criteria.\r\n     * @param user\r\n     * @return  A token element matching with the given user.\r\n     */\r\n        @Query(&quot;SELECT t FROM Token t WHERE LOWER(t.user) = LOWER(:user)&quot;)\r\n        public Token find(@Param(&quot;user&quot;) String user);\r\n       \r\n    }\r\n\r\nand you invoke the find custom method like this:\r\n\r\n    public void destroyCurrentToken(String user){\r\n    \tAbstractApplicationContext context = getContext();\r\n    \t\r\n    \trepository = context.getBean(TokenCrudRepository.class);\r\n    \t\r\n    \tToken token = ((TokenCrudRepository) repository).find(user);\r\n        \t\t\r\n        int idToken = token.getId();\r\n        \t\r\n        repository.delete(idToken);\r\n    \r\n        context.close();\r\n    }\r\n\r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Using CrudRepository and JPA query works for me: </p>\n\n<pre><code>import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.repository.query.Param;\n\npublic interface TokenCrudRepository extends CrudRepository&lt;Token, Integer&gt; {\n\n /**\n * Finds a token by using the user as a search criteria.\n * @param user\n * @return  A token element matching with the given user.\n */\n    @Query(\"SELECT t FROM Token t WHERE LOWER(t.user) = LOWER(:user)\")\n    public Token find(@Param(\"user\") String user);\n\n}\n</code></pre>\n\n<p>and you invoke the find custom method like this:</p>\n\n<pre><code>public void destroyCurrentToken(String user){\n    AbstractApplicationContext context = getContext();\n\n    repository = context.getBean(TokenCrudRepository.class);\n\n    Token token = ((TokenCrudRepository) repository).find(user);\n\n    int idToken = token.getId();\n\n    repository.delete(idToken);\n\n    context.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5106357,"reputation":389,"user_id":4094329,"display_name":"cici"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1510315622,"creation_date":1454509981,"answer_id":35179837,"question_id":14977018,"body_markdown":"if you have repository for entity `Foo` and need to select all entries with exact string value `boo` (also works for other primitive types or entity types). Put this into your repository interface:\r\n\r\n    List&lt;Foo&gt; findByBoo(String boo);\r\n\r\nif you need to order results:\r\n\r\n    List&lt;Foo&gt; findByBooOrderById(String boo);\r\n\r\nSee more at [reference][1].\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details","title":"JPA: How to get entity based on field value other than ID?","body":"<p>if you have repository for entity <code>Foo</code> and need to select all entries with exact string value <code>boo</code> (also works for other primitive types or entity types). Put this into your repository interface:</p>\n\n<pre><code>List&lt;Foo&gt; findByBoo(String boo);\n</code></pre>\n\n<p>if you need to order results:</p>\n\n<pre><code>List&lt;Foo&gt; findByBooOrderById(String boo);\n</code></pre>\n\n<p>See more at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"noreferrer\">reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":1012051,"reputation":3609,"user_id":1024412,"accept_rate":54,"display_name":"KG6ZVP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465807793,"creation_date":1465807793,"answer_id":37785374,"question_id":14977018,"body_markdown":"I&#39;ve written a library that helps do precisely this. It allows search by object simply by initializing only the fields you want to filter by: https://github.com/kg6zvp/GenericEntityEJB","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I've written a library that helps do precisely this. It allows search by object simply by initializing only the fields you want to filter by: <a href=\"https://github.com/kg6zvp/GenericEntityEJB\" rel=\"nofollow\">https://github.com/kg6zvp/GenericEntityEJB</a></p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1510004628,"creation_date":1468383290,"answer_id":38342585,"question_id":14977018,"body_markdown":"Basically, you should add a specific unique field. I usually use `xxxUri` fields.\r\n\r\n\r\n    class User {\r\n    \r\n        @Id\r\n        // automatically generated\r\n        private Long id;\r\n    \r\n        // globally unique id\r\n        @Column(name = &quot;SCN&quot;, nullable = false, unique = true)\r\n        private String scn;\r\n    }\r\n\r\nAnd you business method will do like this.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public User findUserByScn(@NotNull final String scn) {\r\n        CriteriaBuilder builder = manager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; criteria = builder.createQuery(User.class);\r\n        Root&lt;User&gt; from = criteria.from(User.class);\r\n        criteria.select(from);\r\n        criteria.where(builder.equal(from.get(User_.scn), scn));\r\n        TypedQuery&lt;User&gt; typed = manager.createQuery(criteria);\r\n        try {\r\n            return typed.getSingleResult();\r\n        } catch (final NoResultException nre) {\r\n            return null;\r\n        }\r\n    }\r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Basically, you should add a specific unique field. I usually use <code>xxxUri</code> fields.</p>\n\n<pre><code>class User {\n\n    @Id\n    // automatically generated\n    private Long id;\n\n    // globally unique id\n    @Column(name = \"SCN\", nullable = false, unique = true)\n    private String scn;\n}\n</code></pre>\n\n<p>And you business method will do like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public User findUserByScn(@NotNull final String scn) {\n    CriteriaBuilder builder = manager.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; criteria = builder.createQuery(User.class);\n    Root&lt;User&gt; from = criteria.from(User.class);\n    criteria.select(from);\n    criteria.where(builder.equal(from.get(User_.scn), scn));\n    TypedQuery&lt;User&gt; typed = manager.createQuery(criteria);\n    try {\n        return typed.getSingleResult();\n    } catch (final NoResultException nre) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513803762,"creation_date":1513803419,"answer_id":47914248,"question_id":14977018,"body_markdown":"Best practice is using @NaturalId annotation. It can be used as the business key for some cases it is too complicated, so some fields are using as the identifier in the real world. \r\nFor example, I have user class with user id as primary key, and email is also unique field. So we can use email as our natural id  \r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n\t  @Id\r\n\t  @Column(name=&quot;id&quot;)\r\n\t  private int id;\r\n\t  \r\n      @NaturalId\r\n\t  @Column(name=&quot;email&quot;)\r\n\t  private String email;\r\n      \r\n      @Column(name=&quot;name&quot;)\r\n      private String name;\r\n    }\r\nTo get our record, just simply use &#39;session.byNaturalId()&#39;\r\n\r\n    Session session = sessionFactory.getCurrentSession();\r\n    User user = session.byNaturalId(User.class)\r\n                       .using(&quot;email&quot;,&quot;huchenhai@qq.com&quot;)\r\n                       .load()\r\n    \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Best practice is using @NaturalId annotation. It can be used as the business key for some cases it is too complicated, so some fields are using as the identifier in the real world. \nFor example, I have user class with user id as primary key, and email is also unique field. So we can use email as our natural id  </p>\n\n<pre><code>@Entity\n@Table(name=\"user\")\npublic class User {\n  @Id\n  @Column(name=\"id\")\n  private int id;\n\n  @NaturalId\n  @Column(name=\"email\")\n  private String email;\n\n  @Column(name=\"name\")\n  private String name;\n}\n</code></pre>\n\n<p>To get our record, just simply use 'session.byNaturalId()'</p>\n\n<pre><code>Session session = sessionFactory.getCurrentSession();\nUser user = session.byNaturalId(User.class)\n                   .using(\"email\",\"huchenhai@qq.com\")\n                   .load()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8264624,"reputation":309,"user_id":6214664,"display_name":"Serenade"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1569084775,"creation_date":1549315774,"answer_id":54524568,"question_id":14977018,"body_markdown":"In my Spring Boot app I resolved a similar type of issue like this:      \r\n\r\n```java\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n\r\npublic User findByEmail(String email) {\r\n    User user = null;\r\n    Query query = entityManager.createQuery(&quot;SELECT u FROM User u WHERE u.email=:email&quot;);\r\n    query.setParameter(&quot;email&quot;, email);\r\n    try {\r\n        user = (User) query.getSingleResult();\r\n    } catch (Exception e) {\r\n        // Handle exception\r\n    }\r\n    return user;\r\n}\r\n```","title":"JPA: How to get entity based on field value other than ID?","body":"<p>In my Spring Boot app I resolved a similar type of issue like this:      </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate EntityManager entityManager;\n\npublic User findByEmail(String email) {\n    User user = null;\n    Query query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.email=:email\");\n    query.setParameter(\"email\", email);\n    try {\n        user = (User) query.getSingleResult();\n    } catch (Exception e) {\n        // Handle exception\n    }\n    return user;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552278319,"creation_date":1552278319,"answer_id":55095213,"question_id":14977018,"body_markdown":"Refer - [Spring docs for query methods][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\r\n\r\nWe can add methods in Spring Jpa by passing diff params in methods like:   \r\n`List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);`  \r\n\r\n    // Enabling static ORDER BY for a query \r\n\r\n    List&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);\r\n\r\n \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Refer - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"nofollow noreferrer\">Spring docs for query methods</a></p>\n\n<p>We can add methods in Spring Jpa by passing diff params in methods like:<br>\n<code>List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);</code>  </p>\n\n<pre><code>// Enabling static ORDER BY for a query \n\nList&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2483756,"reputation":1093,"user_id":2162653,"accept_rate":88,"display_name":"Ubunfu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567805462,"creation_date":1567805147,"answer_id":57828698,"question_id":14977018,"body_markdown":"Edit: Just realized that @Chinmoy was getting at basically the same thing, but I think I may have done a better job ELI5 :)\r\n\r\nIf you&#39;re using a flavor of Spring Data to help persist / fetch things from whatever kind of `Repository` you&#39;ve defined, you can probably have your JPA provider do this for you via some clever tricks with method names in your `Repository` interface class.  Allow me to explain.\r\n\r\n(As a disclaimer, I just a few moments ago did/still am figuring this out for myself.) \r\n\r\nFor example, if I am storing Tokens in my database, I might have an entity class that looks like this:\r\n\r\n```\r\n@Data // &lt;&lt; Project Lombok convenience annotation\r\n@Entity\r\npublic class Token {\r\n    @Id\r\n    @Column(name = &quot;TOKEN_ID&quot;)\r\n    private String tokenId;\r\n\r\n    @Column(name = &quot;TOKEN&quot;)\r\n    private String token;\r\n\r\n    @Column(name = &quot;EXPIRATION&quot;)\r\n    private String expiration;\r\n\r\n    @Column(name = &quot;SCOPE&quot;)\r\n    private String scope;\r\n}\r\n```\r\n\r\nAnd I probably have a `CrudRepository&lt;K,V&gt;` interface defined like this, to give me simple CRUD operations on that Repository for free.\r\n\r\n```\r\n@Repository\r\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\r\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { }\r\n```\r\n\r\nAnd when I&#39;m looking up one of these tokens, my purpose might be checking the expiration or scope, for example.  In either of those cases, I probably don&#39;t have the `tokenId` handy, but rather just the value of a `token` field itself that I want to look up.  \r\n\r\nTo do that, you can add an additional method to your `TokenRepository` interface in a clever way to tell your JPA provider that the value you&#39;re passing in to the method is not the `tokenId`, but the value of another field within the Entity class, and it should take that into account when it is generating the actual SQL that it will run against your database. \r\n\r\n```\r\n@Repository\r\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\r\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { \r\n    List&lt;Token&gt; findByToken(String token);\r\n}\r\n```\r\n\r\nI read about this on the [Spring Data R2DBC docs page](https://docs.spring.io/spring-data/r2dbc/docs/1.0.0.M1/reference/html/#repositories.query-methods.query-creation), and it seems to be working so far within a SpringBoot 2.x app storing in an embedded H2 database.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Edit: Just realized that @Chinmoy was getting at basically the same thing, but I think I may have done a better job ELI5 :)</p>\n\n<p>If you're using a flavor of Spring Data to help persist / fetch things from whatever kind of <code>Repository</code> you've defined, you can probably have your JPA provider do this for you via some clever tricks with method names in your <code>Repository</code> interface class.  Allow me to explain.</p>\n\n<p>(As a disclaimer, I just a few moments ago did/still am figuring this out for myself.) </p>\n\n<p>For example, if I am storing Tokens in my database, I might have an entity class that looks like this:</p>\n\n<pre><code>@Data // &lt;&lt; Project Lombok convenience annotation\n@Entity\npublic class Token {\n    @Id\n    @Column(name = \"TOKEN_ID\")\n    private String tokenId;\n\n    @Column(name = \"TOKEN\")\n    private String token;\n\n    @Column(name = \"EXPIRATION\")\n    private String expiration;\n\n    @Column(name = \"SCOPE\")\n    private String scope;\n}\n</code></pre>\n\n<p>And I probably have a <code>CrudRepository&lt;K,V&gt;</code> interface defined like this, to give me simple CRUD operations on that Repository for free.</p>\n\n<pre><code>@Repository\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { }\n</code></pre>\n\n<p>And when I'm looking up one of these tokens, my purpose might be checking the expiration or scope, for example.  In either of those cases, I probably don't have the <code>tokenId</code> handy, but rather just the value of a <code>token</code> field itself that I want to look up.  </p>\n\n<p>To do that, you can add an additional method to your <code>TokenRepository</code> interface in a clever way to tell your JPA provider that the value you're passing in to the method is not the <code>tokenId</code>, but the value of another field within the Entity class, and it should take that into account when it is generating the actual SQL that it will run against your database. </p>\n\n<pre><code>@Repository\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { \n    List&lt;Token&gt; findByToken(String token);\n}\n</code></pre>\n\n<p>I read about this on the <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/1.0.0.M1/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data R2DBC docs page</a>, and it seems to be working so far within a SpringBoot 2.x app storing in an embedded H2 database.</p>\n"},{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568268910,"creation_date":1568268910,"answer_id":57900710,"question_id":14977018,"body_markdown":"This solution is from Beginning Hibernate book: \r\n\r\n         Query&lt;User&gt; query = session.createQuery(&quot;from User u where u.scn=:scn&quot;, User.class);\r\n         query.setParameter(&quot;scn&quot;, scn);\r\n         User user = query.uniqueResult();    \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>This solution is from Beginning Hibernate book: </p>\n\n<pre><code>     Query&lt;User&gt; query = session.createQuery(\"from User u where u.scn=:scn\", User.class);\n     query.setParameter(\"scn\", scn);\n     User user = query.uniqueResult();    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645024579,"creation_date":1576518664,"answer_id":59361897,"question_id":14977018,"body_markdown":"All the answers require you to write some sort of SQL/HQL/whatever. Why? You don&#39;t have to - just use `CriteriaBuilder`:\r\n\r\n**Person.java**:\r\n\r\n```\r\n@Entity\r\nclass Person  {\r\n  @Id @GeneratedValue\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;)\r\n  private String name;\r\n  @Column(name = &quot;age&quot;)\r\n  private int age;\r\n  ...\r\n}\r\n```\r\n**Dao.java**:\r\n```\r\npublic class Dao  {\r\n  public static Person getPersonByName(String name)  {\r\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        \r\n        CriteriaBuilder cb = session.getCriteriaBuilder();\r\n        \r\n        CriteriaQuery&lt;Person&gt; cr = cb.createQuery(Person.class);\r\n        Root&lt;Person&gt; root = cr.from(Person.class);\r\n        cr.select(root).where(cb.equal(root.get(&quot;name&quot;), name));  //here you pass a class field, not a table column (in this example they are called the same)\r\n\r\n        Query query = session.createQuery(cr);\r\n        query.setMaxResults(1);\r\n        List&lt;Person&gt; resultList = query.getResultList();\r\n\r\n        Person result = resultList.get(0);\r\n        \r\n        return result;\r\n  }\r\n}\r\n```\r\n\r\n**example of use:**\r\n\r\n```\r\npublic static void main(String[] args)  {\r\n  Person person = Dao.getPersonByName(&quot;John&quot;);\r\n  System.out.println(person.getAge());  //John&#39;s age\r\n}\r\n```","title":"JPA: How to get entity based on field value other than ID?","body":"<p>All the answers require you to write some sort of SQL/HQL/whatever. Why? You don't have to - just use <code>CriteriaBuilder</code>:</p>\n<p><strong>Person.java</strong>:</p>\n<pre><code>@Entity\nclass Person  {\n  @Id @GeneratedValue\n  private int id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n  @Column(name = &quot;age&quot;)\n  private int age;\n  ...\n}\n</code></pre>\n<p><strong>Dao.java</strong>:</p>\n<pre><code>public class Dao  {\n  public static Person getPersonByName(String name)  {\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        \n        CriteriaBuilder cb = session.getCriteriaBuilder();\n        \n        CriteriaQuery&lt;Person&gt; cr = cb.createQuery(Person.class);\n        Root&lt;Person&gt; root = cr.from(Person.class);\n        cr.select(root).where(cb.equal(root.get(&quot;name&quot;), name));  //here you pass a class field, not a table column (in this example they are called the same)\n\n        Query query = session.createQuery(cr);\n        query.setMaxResults(1);\n        List&lt;Person&gt; resultList = query.getResultList();\n\n        Person result = resultList.get(0);\n        \n        return result;\n  }\n}\n</code></pre>\n<p><strong>example of use:</strong></p>\n<pre><code>public static void main(String[] args)  {\n  Person person = Dao.getPersonByName(&quot;John&quot;);\n  System.out.println(person.getAge());  //John's age\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7517278,"reputation":11,"user_id":5710288,"display_name":"kamalveer singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588321934,"creation_date":1588321934,"answer_id":61539168,"question_id":14977018,"body_markdown":"No, you don&#39;t need to make criteria query it would be boilerplate code you just do simple thing if you working in Spring-boot:\r\nin your repo declare a method name with findBy[exact field name].\r\nExample- \r\nif your model or document consist a string field **myField**  and you want to find by it then your method name will be:\r\n\r\n**findBymyField(String myField);**","title":"JPA: How to get entity based on field value other than ID?","body":"<p>No, you don't need to make criteria query it would be boilerplate code you just do simple thing if you working in Spring-boot:\nin your repo declare a method name with findBy[exact field name].\nExample- \nif your model or document consist a string field <strong>myField</strong>  and you want to find by it then your method name will be:</p>\n\n<p><strong>findBymyField(String myField);</strong></p>\n"},{"tags":[],"owner":{"account_id":19126061,"reputation":169,"user_id":13969017,"display_name":"romeucr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600193297,"creation_date":1600193297,"answer_id":63907563,"question_id":14977018,"body_markdown":"I solved a similar problem, where I wanted to find a book by its isbnCode not by your id(primary key).  \r\n\r\n```\r\n@Entity\r\npublic class Book implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String isbnCode;\r\n\r\n...\r\n```\r\n\r\nIn the repository the method was created like @kamalveer singh mentioned. Note that the method name is findBy+fieldName (in my case: findByisbnCode):\r\n\r\n```\r\n@Repository\r\npublic interface BookRepository extends JpaRepository&lt;Book, Integer&gt; {\r\n\r\n\tBook findByisbnCode(String isbnCode);\r\n}\r\n```\r\n\r\nThen, implemented the method in the service:  \r\n````\r\n@Service\r\npublic class BookService {\r\n\r\n\t@Autowired\r\n\tprivate BookRepository repo;\r\n\t\r\n\t\r\n\tpublic Book findByIsbnCode(String isbnCode) {\r\n\t\tBook obj = repo.findByisbnCode(isbnCode);\r\n\t\treturn obj; \r\n\t}\r\n}","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I solved a similar problem, where I wanted to find a book by its isbnCode not by your id(primary key).</p>\n<pre><code>@Entity\npublic class Book implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    private String isbnCode;\n\n...\n</code></pre>\n<p>In the repository the method was created like @kamalveer singh mentioned. Note that the method name is findBy+fieldName (in my case: findByisbnCode):</p>\n<pre><code>@Repository\npublic interface BookRepository extends JpaRepository&lt;Book, Integer&gt; {\n\n    Book findByisbnCode(String isbnCode);\n}\n</code></pre>\n<p>Then, implemented the method in the service:</p>\n<pre><code>@Service\npublic class BookService {\n\n    @Autowired\n    private BookRepository repo;\n    \n    \n    public Book findByIsbnCode(String isbnCode) {\n        Book obj = repo.findByisbnCode(isbnCode);\n        return obj; \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4971565,"reputation":336,"user_id":3999107,"accept_rate":20,"display_name":"Dheeraj Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651472791,"creation_date":1651472791,"answer_id":72083034,"question_id":14977018,"body_markdown":"This is very basic query :\r\n\r\nEntity : **Student** \r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Student{\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.IDENTITY)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    @Column(nullable = false)\r\n    @Version\r\n    @JsonIgnore\r\n    private Integer version;\r\n\r\n\tprivate String studentId;\r\n\r\n\tprivate String studentName;\r\n\r\n\tprivate OffsetDateTime enrollDate;\r\n\t\r\n    }\r\n\r\n\r\nRepository Interface : **StudentRepository** \r\n\r\n    @Repository\r\n    public interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\r\n\r\n\tList&lt;Student&gt; findByStudentName(String studentName);\r\n\r\n\tList&lt;Student&gt; findByStudentNameOrderByEnrollDateDesc(String studentName);\r\n\r\n    @Transactional\r\n\t@Modifying\r\n\tvoid deleteByStudentName(String studentName);\r\n    } \r\n\r\nNote: \r\nfindByColumnName : give results by criteria\r\n\r\nList&lt;Student&gt; findByStudentName(String studentName)\r\nInternally convert into query : **select * from Student where name=&#39;studentName&#39;**\r\n\r\n@Transactional \r\n@Modifying\r\n**Is useful when you want to remove persisted data from database.**","title":"JPA: How to get entity based on field value other than ID?","body":"<p>This is very basic query :</p>\n<p>Entity : <strong>Student</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class Student{\n@Id\n@GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.IDENTITY)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n\n@Column(nullable = false)\n@Version\n@JsonIgnore\nprivate Integer version;\n\nprivate String studentId;\n\nprivate String studentName;\n\nprivate OffsetDateTime enrollDate;\n\n}\n</code></pre>\n<p>Repository Interface : <strong>StudentRepository</strong></p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\n\nList&lt;Student&gt; findByStudentName(String studentName);\n\nList&lt;Student&gt; findByStudentNameOrderByEnrollDateDesc(String studentName);\n\n@Transactional\n@Modifying\nvoid deleteByStudentName(String studentName);\n} \n</code></pre>\n<p>Note:\nfindByColumnName : give results by criteria</p>\n<p>List findByStudentName(String studentName)\nInternally convert into query : <strong>select * from Student where name='studentName'</strong></p>\n<p>@Transactional\n@Modifying\n<strong>Is useful when you want to remove persisted data from database.</strong></p>\n"},{"tags":[],"owner":{"account_id":202328,"reputation":656,"user_id":449335,"accept_rate":80,"display_name":"Jukka H&#228;m&#228;l&#228;inen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358679,"creation_date":1687358679,"answer_id":76524558,"question_id":14977018,"body_markdown":"I think all these answers are missing the easiest way of getting the id, which is returning the persisted entity right after persisting it. So if this is your entity:\r\n\r\n    public class Entity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    }\r\n\r\nThe ID is to be generated at flush when using entity manager. You can call flush the entity manager explicitly:\r\n\r\n    em.persist(entity);\r\n    em.flush();\r\n    return entity.getId();\r\n\r\n(In fact above I would return the whole entity to the client instead of just the id, but this is only an example.)\r\n\r\nOr you can just return the entity and when the transaction is ended, it will also be flushed and the id should be filled automatically to your entity:\r\n\r\n    @Transactional(readOnly = false)\r\n    @Override\r\n    public Entity store(Entity entity) {\r\n        dao.store(entity);\r\n        // the id should be filled after this gets returned as the transaction boundary is set for this method\r\n        return entity;\r\n    }\r\n\r\nAs the question is very old, I will also add modern way with Spring Data:\r\n\r\n    @Transactional(readOnly = false)\r\n    @Override\r\n    public Entity store(Entity entity) {\r\n        return getRepository().save(entity);\r\n    }\r\n\r\nThere is no need for extra fetches.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I think all these answers are missing the easiest way of getting the id, which is returning the persisted entity right after persisting it. So if this is your entity:</p>\n<pre><code>public class Entity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n}\n</code></pre>\n<p>The ID is to be generated at flush when using entity manager. You can call flush the entity manager explicitly:</p>\n<pre><code>em.persist(entity);\nem.flush();\nreturn entity.getId();\n</code></pre>\n<p>(In fact above I would return the whole entity to the client instead of just the id, but this is only an example.)</p>\n<p>Or you can just return the entity and when the transaction is ended, it will also be flushed and the id should be filled automatically to your entity:</p>\n<pre><code>@Transactional(readOnly = false)\n@Override\npublic Entity store(Entity entity) {\n    dao.store(entity);\n    // the id should be filled after this gets returned as the transaction boundary is set for this method\n    return entity;\n}\n</code></pre>\n<p>As the question is very old, I will also add modern way with Spring Data:</p>\n<pre><code>@Transactional(readOnly = false)\n@Override\npublic Entity store(Entity entity) {\n    return getRepository().save(entity);\n}\n</code></pre>\n<p>There is no need for extra fetches.</p>\n"}],"owner":{"account_id":1362678,"reputation":3515,"user_id":1299738,"accept_rate":64,"display_name":"Neo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251977,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"answer_count":17,"score":90,"last_activity_date":1687358679,"creation_date":1361354516,"question_id":14977018,"body_markdown":"In JPA (Hibernate), when we automatically generate the ID field, it is assumed that the user has no knowledge about this key. So, when obtaining the entity, user would query based on some field other than ID. How do we obtain the entity in that case (since `em.find()` cannot be used). \r\n\r\nI understand we can use a query and filter the results later. But, is there a more direct way (because this is a very common problem as I understand).","title":"JPA: How to get entity based on field value other than ID?","body":"<p>In JPA (Hibernate), when we automatically generate the ID field, it is assumed that the user has no knowledge about this key. So, when obtaining the entity, user would query based on some field other than ID. How do we obtain the entity in that case (since <code>em.find()</code> cannot be used). </p>\n\n<p>I understand we can use a query and filter the results later. But, is there a more direct way (because this is a very common problem as I understand).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1687349562,"post_id":76523148,"comment_id":134923848,"body_markdown":"it helps if you read the stacktraces: Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String; chances are, you are now using another version, and the signature of the method changed, or it has been removed","body":"it helps if you read the stacktraces: Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lan&zwnj;&#8203;g/String; chances are, you are now using another version, and the signature of the method changed, or it has been removed"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687353386,"post_id":76523148,"comment_id":134924756,"body_markdown":"Does this answer your question? [Getting NoSuchMethodError:javax.servlet.ServletContext.getVirtualServerName()](https://stackoverflow.com/questions/34950164/getting-nosuchmethoderrorjavax-servlet-servletcontext-getvirtualservername)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34950164/getting-nosuchmethoderrorjavax-servlet-servletcontext-getvirtualservername\">Getting NoSuchMethodError:javax.servlet.ServletContext.getVirtualSer&zwnj;&#8203;verName()</a>"},{"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"score":0,"creation_date":1687358543,"post_id":76523148,"comment_id":134926171,"body_markdown":"Yes, it helped quite a lot thank you @Stultuske","body":"Yes, it helped quite a lot thank you @Stultuske"}],"answers":[{"tags":[],"owner":{"account_id":27453782,"reputation":1,"user_id":20945562,"display_name":"SillyGoose"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687356004,"creation_date":1687353057,"answer_id":76523668,"question_id":76523148,"body_markdown":"I think your using an old mehtod which isn&#39;t supported anymore or sth is packaged wrong in the jar. Also try to update all dependencies.","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>I think your using an old mehtod which isn't supported anymore or sth is packaged wrong in the jar. Also try to update all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687358490,"creation_date":1687358490,"answer_id":76524532,"question_id":76523148,"body_markdown":"Hi I found the issue it was this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0-alpha-1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\nafter removing it everything worked fine.","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>Hi I found the issue it was this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0-alpha-1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>after removing it everything worked fine.</p>\n"}],"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687358490,"creation_date":1687349467,"question_id":76523148,"body_markdown":"I had to reinstall my intelijidea ultimate, before that I was running my spring boot app just fine. After reinstalling I am stuck getting this error:\r\n\r\n    2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : Starting MicrosoftCreateNewAccountApplication on DESKTOP-V3T6AKK with PID 5684 (D:\\work\\MicrosoftCreateNewAccount\\target\\classes started by David in D:\\work\\MicrosoftCreateNewAccount)\r\n    2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : No active profile set, falling back to default profiles: default\r\n    2023-06-21 13:07:34.680  INFO 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@42adbd49: startup date [Wed Jun 21 13:07:34 BST 2023]; root of context hierarchy\r\n    2023-06-21 13:07:35.249  INFO 5684 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2023-06-21 13:07:35.254  INFO 5684 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-06-21 13:07:35.255  INFO 5684 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.27\r\n    2023-06-21 13:07:35.304 ERROR 5684 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n    \r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_362]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_362]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_362]\r\n    \tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_362]\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5117) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:182) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 8 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1194) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 10 common frames omitted\r\n    \r\n    2023-06-21 13:07:35.304 ERROR 5684 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n    \r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_362]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) [spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_362]\r\n    \tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_362]\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    \r\n    2023-06-21 13:07:35.305  WARN 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    2023-06-21 13:07:35.309  INFO 5684 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-21 13:07:35.312 ERROR 5684 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \t... 13 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \t... 18 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 22 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 24 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>I had to reinstall my intelijidea ultimate, before that I was running my spring boot app just fine. After reinstalling I am stuck getting this error:</p>\n<pre><code>2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : Starting MicrosoftCreateNewAccountApplication on DESKTOP-V3T6AKK with PID 5684 (D:\\work\\MicrosoftCreateNewAccount\\target\\classes started by David in D:\\work\\MicrosoftCreateNewAccount)\n2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : No active profile set, falling back to default profiles: default\n2023-06-21 13:07:34.680  INFO 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@42adbd49: startup date [Wed Jun 21 13:07:34 BST 2023]; root of context hierarchy\n2023-06-21 13:07:35.249  INFO 5684 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2023-06-21 13:07:35.254  INFO 5684 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-21 13:07:35.255  INFO 5684 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.27\n2023-06-21 13:07:35.304 ERROR 5684 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_362]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_362]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_362]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_362]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5117) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:182) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 8 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1194) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 10 common frames omitted\n\n2023-06-21 13:07:35.304 ERROR 5684 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_362]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_362]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) [spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_362]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_362]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\n\n2023-06-21 13:07:35.305  WARN 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n2023-06-21 13:07:35.309  INFO 5684 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2023-06-21 13:07:35.312 ERROR 5684 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    ... 13 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    ... 18 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 20 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 22 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 24 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","json","hashmap"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687293246,"post_id":76518173,"comment_id":134915705,"body_markdown":"Do you need to do it with exactly gson library?","body":"Do you need to do it with exactly gson library?"},{"owner":{"account_id":13833731,"reputation":402,"user_id":9985849,"display_name":"Akshay Katiha"},"score":0,"creation_date":1687683434,"post_id":76518173,"comment_id":134968567,"body_markdown":"No @gdomo. Any solution would have worked for me. BTW thanks for the answer","body":"No @gdomo. Any solution would have worked for me. BTW thanks for the answer"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687294325,"creation_date":1687294325,"answer_id":76518318,"question_id":76518173,"body_markdown":"With the gson library it could be achived like this:\r\n\r\n\r\n    final List&lt;String&gt; failedCases = JsonParser.parseString(jsonString)\r\n            .getAsJsonObject().entrySet()\r\n            .stream() // get stream of all json entries, i.e. tags\r\n            .map(Map.Entry::getValue) // get stream of tag values\r\n            .map(JsonElement::getAsJsonObject)\r\n            .flatMap(e -&gt; e.entrySet().stream()) // get stream of all test cases entries (name to value)\r\n            .filter(e -&gt; e.getValue().getAsJsonObject() // filter test cases with &quot;failed&quot; Status value\r\n                    .get(&quot;Status&quot;).getAsString().equals(&quot;fail&quot;)\r\n            )\r\n            .map(Map.Entry::getKey) // get test cases names\r\n            .collect(Collectors.toList());","title":"Parse JSON file that has nested keys","body":"<p>With the gson library it could be achived like this:</p>\n<pre><code>final List&lt;String&gt; failedCases = JsonParser.parseString(jsonString)\n        .getAsJsonObject().entrySet()\n        .stream() // get stream of all json entries, i.e. tags\n        .map(Map.Entry::getValue) // get stream of tag values\n        .map(JsonElement::getAsJsonObject)\n        .flatMap(e -&gt; e.entrySet().stream()) // get stream of all test cases entries (name to value)\n        .filter(e -&gt; e.getValue().getAsJsonObject() // filter test cases with &quot;failed&quot; Status value\n                .get(&quot;Status&quot;).getAsString().equals(&quot;fail&quot;)\n        )\n        .map(Map.Entry::getKey) // get test cases names\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300793,"creation_date":1687300793,"answer_id":76518790,"question_id":76518173,"body_markdown":"@gdomo &#39;s answer is pretty clean, here is how you can do the same with jackson\r\n\r\n    Map&lt;String, Map&lt;String, TestCase&gt;&gt; json = objectMapper.readValue(file, new TypeReference&lt;&gt;() {});\r\n        List&lt;String&gt; passes = json\r\n                .values() // Lists of Entry { testCaseName: TestCase } grouped by tagName\r\n                .stream().flatMap(entry -&gt; entry.entrySet().stream())   // 1 list of all Entries { testCaseName : TestCase }\r\n                .filter(entry -&gt; entry.getValue().getStatus().equals(&quot;pass&quot;)) // filter entries that pass\r\n                .map(Map.Entry::getKey)       // get the testCaseNames of entries that pass\r\n                .toList();\r\nnotice I am using a defined TestCase class &quot;which is cleaner practice&quot; \r\n\r\n    public class TestCase {\r\n        @JsonProperty(value = &quot;Status&quot;)\r\n        private String status;\r\n        @JsonProperty(value = &quot;RunTime&quot;)\r\n        private String runtime;\r\n        // getters, setters\r\n    }","title":"Parse JSON file that has nested keys","body":"<p>@gdomo 's answer is pretty clean, here is how you can do the same with jackson</p>\n<pre><code>Map&lt;String, Map&lt;String, TestCase&gt;&gt; json = objectMapper.readValue(file, new TypeReference&lt;&gt;() {});\n    List&lt;String&gt; passes = json\n            .values() // Lists of Entry { testCaseName: TestCase } grouped by tagName\n            .stream().flatMap(entry -&gt; entry.entrySet().stream())   // 1 list of all Entries { testCaseName : TestCase }\n            .filter(entry -&gt; entry.getValue().getStatus().equals(&quot;pass&quot;)) // filter entries that pass\n            .map(Map.Entry::getKey)       // get the testCaseNames of entries that pass\n            .toList();\n</code></pre>\n<p>notice I am using a defined TestCase class &quot;which is cleaner practice&quot;</p>\n<pre><code>public class TestCase {\n    @JsonProperty(value = &quot;Status&quot;)\n    private String status;\n    @JsonProperty(value = &quot;RunTime&quot;)\n    private String runtime;\n    // getters, setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358486,"creation_date":1687358486,"answer_id":76524530,"question_id":76518173,"body_markdown":"You may try library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(jsonString);\r\n    JsonNode node = josson.getNode(&quot;**.*[value.Status=&#39;pass&#39;]*.get(..key)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ &quot;TestCaseName1&quot;, &quot;TestCaseName3&quot; ]\r\n","title":"Parse JSON file that has nested keys","body":"<p>You may try library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(jsonString);\nJsonNode node = josson.getNode(&quot;**.*[value.Status='pass']*.get(..key)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ &quot;TestCaseName1&quot;, &quot;TestCaseName3&quot; ]\n</code></pre>\n"}],"owner":{"account_id":13833731,"reputation":402,"user_id":9985849,"display_name":"Akshay Katiha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687358486,"creation_date":1687292763,"question_id":76518173,"body_markdown":"I have a JSON file that contains nested key-value pairs. My JSON file looks like this\r\n```\r\n{\r\n   &quot;TagName1&quot;:{\r\n      &quot;TestCaseName1&quot;:{\r\n         &quot;Status&quot;:&quot;pass&quot;,\r\n         &quot;RunTime&quot;:&quot;063045&quot;\r\n      },\r\n      &quot;TestCaseName2&quot;:{\r\n         &quot;Status&quot;:&quot;fail&quot;,\r\n         &quot;RunTime&quot;:&quot;064045&quot;\r\n      }\r\n   },\r\n   &quot;TagName2&quot;:{\r\n      &quot;TestCaseName3&quot;:{\r\n         &quot;Status&quot;:&quot;pass&quot;,\r\n         &quot;RunTime&quot;:&quot;073045&quot;\r\n      },\r\n      &quot;TestCaseName4&quot;:{\r\n         &quot;Status&quot;:&quot;fail&quot;,\r\n         &quot;RunTime&quot;:&quot;074045&quot;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nI want to fetch the name of test cases based on their `Status`. Is there a way to do fetch nested key-values from JSON file?\r\n\r\nI tried to solve this problem by using Reader and creating nested Hashmap of key-value pair, something like this\r\n\r\n```\r\ntry{\r\n    Gson gson = new Gson();\r\n    Reader reader = Files.newBufferReader(Paths.get(filePath));\r\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String,String&gt;&gt;&gt; parsedJson = gson.fromJson(reader,HashMap.class);\r\n} \r\n```\r\nI am struck at extracting the Status value. Is there a way to read the `Status` value and fetch the name of test case.","title":"Parse JSON file that has nested keys","body":"<p>I have a JSON file that contains nested key-value pairs. My JSON file looks like this</p>\n<pre><code>{\n   &quot;TagName1&quot;:{\n      &quot;TestCaseName1&quot;:{\n         &quot;Status&quot;:&quot;pass&quot;,\n         &quot;RunTime&quot;:&quot;063045&quot;\n      },\n      &quot;TestCaseName2&quot;:{\n         &quot;Status&quot;:&quot;fail&quot;,\n         &quot;RunTime&quot;:&quot;064045&quot;\n      }\n   },\n   &quot;TagName2&quot;:{\n      &quot;TestCaseName3&quot;:{\n         &quot;Status&quot;:&quot;pass&quot;,\n         &quot;RunTime&quot;:&quot;073045&quot;\n      },\n      &quot;TestCaseName4&quot;:{\n         &quot;Status&quot;:&quot;fail&quot;,\n         &quot;RunTime&quot;:&quot;074045&quot;\n      }\n   }\n}\n</code></pre>\n<p>I want to fetch the name of test cases based on their <code>Status</code>. Is there a way to do fetch nested key-values from JSON file?</p>\n<p>I tried to solve this problem by using Reader and creating nested Hashmap of key-value pair, something like this</p>\n<pre><code>try{\n    Gson gson = new Gson();\n    Reader reader = Files.newBufferReader(Paths.get(filePath));\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String,String&gt;&gt;&gt; parsedJson = gson.fromJson(reader,HashMap.class);\n} \n</code></pre>\n<p>I am struck at extracting the Status value. Is there a way to read the <code>Status</code> value and fetch the name of test case.</p>\n"},{"tags":["java","ssl","bouncycastle","java-7"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1687359687,"post_id":76524453,"comment_id":134926510,"body_markdown":"The bcprov+bcutil jars, accessed by the `BouncyCastleProvider` class, provide only cryptographic _primitives_, including AES-GCM. You are still using the Sun/Oracle/Open provider _for TLS_ (SunJSSE) which does not implement ciphersuites _containing_ AES-GCM. **For GCM you need to also use the bctls jar accessed by `org.bouncycastle.jsse.provider.BouncyCastleJsseProvider`.** However you should be able to use the 5th or 6th suite in your &#39;Testing&#39; list, which are CBC suites, with &#39;standard&#39; j7.","body":"The bcprov+bcutil jars, accessed by the <code>BouncyCastleProvider</code> class, provide only cryptographic <i>primitives</i>, including AES-GCM. You are still using the Sun/Oracle/Open provider <i>for TLS</i> (SunJSSE) which does not implement ciphersuites <i>containing</i> AES-GCM. <b>For GCM you need to also use the bctls jar accessed by <code>org.bouncycastle.jsse.provider.BouncyCastleJsseProvider</code>.</b> However you should be able to use the 5th or 6th suite in your &#39;Testing&#39; list, which are CBC suites, with &#39;standard&#39; j7."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687360513,"post_id":76524453,"comment_id":134926716,"body_markdown":"... In particular TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 and/or TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 should work -- and they&#39;re listed as &#39;ignoring&#39; in the debuglog, I think because they can&#39;t be used in protocols below TLSv1.2. Try `setEnabledProtocols` to `&quot;TLSv1.2&quot;` _only_ and see if that helps.","body":"... In particular TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 and/or TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 should work -- and they&#39;re listed as &#39;ignoring&#39; in the debuglog, I think because they can&#39;t be used in protocols below TLSv1.2. Try <code>setEnabledProtocols</code> to <code>&quot;TLSv1.2&quot;</code> <i>only</i> and see if that helps."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687360921,"post_id":76524453,"comment_id":134926824,"body_markdown":"In fact now I look at the previous A you linked it already said for GCM in 7 to download _both_ bcprov and bctls and configure _both_ BouncyCastleProvider and BouncyCastleJsseProvider !","body":"In fact now I look at the previous A you linked it already said for GCM in 7 to download <i>both</i> bcprov and bctls and configure <i>both</i> BouncyCastleProvider and BouncyCastleJsseProvider !"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1687365686,"post_id":76524453,"comment_id":134927887,"body_markdown":"@dave_thompson_085 My bad, I missed that part. Now I am getting another error, but I have opened another question for that. Thank you for your clarification about why both providers are needed (which is not explained in that answer).","body":"@dave_thompson_085 My bad, I missed that part. Now I am getting another error, but I have opened another question for that. Thank you for your clarification about why both providers are needed (which is not explained in that answer)."}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687358055,"creation_date":1687358055,"question_id":76524453,"body_markdown":"First of all, I premise that I am fully aware that Java 7 is EOL, vulnerable, extremely old and should not be used in 2023, but I need to mantain a legacy application which requires Java 7. **I cannot upgrade it**, so, please, read the full question (or jump to the next one) instead of commenting immediately with &quot;Java 7 is old, upgrade it&quot; just because there is &quot;Java 7&quot; in the title. Thank you for your understanding.\r\n\r\n---\r\n\r\nI have a legacy Java 7 application which sends some HTTPS requests to a server. Recently, that server changed its supported TLS ciphers so now all HTTP requests done from my Java application throw an exception.\r\n\r\nThis is a sample of the code I am using to send the HTTP requests:\r\n``` java\r\nURL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString responseLine = reader.readLine();\r\n\r\nwhile (responseLine != null)\r\n{\r\n\tSystem.out.printf(&quot;%s\\n&quot;, responseLine);\r\n\tresponseLine = reader.readLine();\r\n}\r\n```\r\n\r\nand this is the exception I get:\r\n```\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1943)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1059)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat Main.main(Main.java:17)\r\n```\r\n\r\nTo try to fix this exception I have tried the following steps (as suggested by [this](https://stackoverflow.com/a/49154932/9864539) answer):\r\n1. I have donwloaded `bcprov-jdk15to18-175.jar` from [BouncyCastle](https://www.bouncycastle.org/latest_releases.html) and I have added this JAR in my `jdk/jre/lib/ext` directory.\r\n2. I have edited the `jdk/jre/lib/security/java.security` file placing `org.bouncycastle.jce.provider.BouncyCastleProvider` at the top of the list of providers:\r\n\r\n```\r\n#\r\n# List of providers and their preference orders (see above):\r\n#\r\nsecurity.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\r\nsecurity.provider.2=sun.security.provider.Sun\r\nsecurity.provider.3=sun.security.rsa.SunRsaSign\r\nsecurity.provider.4=sun.security.ec.SunEC\r\nsecurity.provider.5=com.sun.net.ssl.internal.ssl.Provider\r\nsecurity.provider.6=com.sun.crypto.provider.SunJCE\r\nsecurity.provider.7=sun.security.jgss.SunProvider\r\nsecurity.provider.8=com.sun.security.sasl.Provider\r\nsecurity.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\nsecurity.provider.10=sun.security.smartcardio.SunPCSC\r\nsecurity.provider.11=sun.security.mscapi.SunMSCAPI\r\n```\r\n\r\nBut I still get the handshake failure alert from the server.\r\n\r\nI have also tried to add the `bcutil-jdk15to18-175.jar` to my `jdk/jre/lib/ext` directory (as suggested by a comment in the linked answer), but I still get the exception.\r\n\r\nI have enabled TLS logging by adding the JVM argument `-Djavax.net.debug=ssl:handshake:verbose` and this is what I get:\r\n\r\n```\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nmain, setSoTimeout(0) called\r\n%% No cached client session\r\n*** ClientHello, TLSv1.2\r\nRandomCookie:  GMT: 1670579945 bytes = { 154, 22, 251, 69, 138, 101, 239, 72, 131, 212, 72, 151, 61, 82, 28, 179, 11, 15, 212, 118, 164, 38, 59, 49, 139, 50, 122, 48 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\r\nExtension server_name, server_name: [host_name: precision.epayworldwide.com]\r\n***\r\nmain, WRITE: TLSv1.2 Handshake, length = 229\r\nmain, READ: TLSv1.2 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n```\r\n\r\nIt seems that the `HttpURLConnection` is not using the AES-GCM cipher (e.g. `TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256`), even though it should be implemented by the JARs I have added.\r\n\r\nFor the records, I have tested the server I am connecting to with [this](https://superuser.com/a/224263/1220635) script and these are the supported ciphers:\r\n\r\n```\r\nTesting ECDHE-RSA-AES256-GCM-SHA384...YES\r\nTesting DHE-RSA-AES256-GCM-SHA384...YES\r\nTesting ECDHE-RSA-AES128-GCM-SHA256...YES\r\nTesting DHE-RSA-AES128-GCM-SHA256...YES\r\nTesting ECDHE-RSA-AES256-SHA384...YES\r\nTesting ECDHE-RSA-AES128-SHA256...YES\r\nTesting AES256-GCM-SHA384...YES\r\n```\r\n\r\nI am trying to support AES-GCM on my client because it&#39;s one of the ciphers supported by the server.\r\n\r\nIf possible, I would like to resolve this problem without changing the code (e.g. by explicitly setting the ciphers the `HttpURLConnection` should use).","title":"Add support for AES-GCM for TLS in Java 7","body":"<p>First of all, I premise that I am fully aware that Java 7 is EOL, vulnerable, extremely old and should not be used in 2023, but I need to mantain a legacy application which requires Java 7. <strong>I cannot upgrade it</strong>, so, please, read the full question (or jump to the next one) instead of commenting immediately with &quot;Java 7 is old, upgrade it&quot; just because there is &quot;Java 7&quot; in the title. Thank you for your understanding.</p>\n<hr />\n<p>I have a legacy Java 7 application which sends some HTTPS requests to a server. Recently, that server changed its supported TLS ciphers so now all HTTP requests done from my Java application throw an exception.</p>\n<p>This is a sample of the code I am using to send the HTTP requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString responseLine = reader.readLine();\n\nwhile (responseLine != null)\n{\n    System.out.printf(&quot;%s\\n&quot;, responseLine);\n    responseLine = reader.readLine();\n}\n</code></pre>\n<p>and this is the exception I get:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1943)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1059)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at Main.main(Main.java:17)\n</code></pre>\n<p>To try to fix this exception I have tried the following steps (as suggested by <a href=\"https://stackoverflow.com/a/49154932/9864539\">this</a> answer):</p>\n<ol>\n<li>I have donwloaded <code>bcprov-jdk15to18-175.jar</code> from <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">BouncyCastle</a> and I have added this JAR in my <code>jdk/jre/lib/ext</code> directory.</li>\n<li>I have edited the <code>jdk/jre/lib/security/java.security</code> file placing <code>org.bouncycastle.jce.provider.BouncyCastleProvider</code> at the top of the list of providers:</li>\n</ol>\n<pre><code>#\n# List of providers and their preference orders (see above):\n#\nsecurity.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.2=sun.security.provider.Sun\nsecurity.provider.3=sun.security.rsa.SunRsaSign\nsecurity.provider.4=sun.security.ec.SunEC\nsecurity.provider.5=com.sun.net.ssl.internal.ssl.Provider\nsecurity.provider.6=com.sun.crypto.provider.SunJCE\nsecurity.provider.7=sun.security.jgss.SunProvider\nsecurity.provider.8=com.sun.security.sasl.Provider\nsecurity.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\nsecurity.provider.10=sun.security.smartcardio.SunPCSC\nsecurity.provider.11=sun.security.mscapi.SunMSCAPI\n</code></pre>\n<p>But I still get the handshake failure alert from the server.</p>\n<p>I have also tried to add the <code>bcutil-jdk15to18-175.jar</code> to my <code>jdk/jre/lib/ext</code> directory (as suggested by a comment in the linked answer), but I still get the exception.</p>\n<p>I have enabled TLS logging by adding the JVM argument <code>-Djavax.net.debug=ssl:handshake:verbose</code> and this is what I get:</p>\n<pre><code>trigger seeding of SecureRandom\ndone seeding SecureRandom\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nmain, setSoTimeout(0) called\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1670579945 bytes = { 154, 22, 251, 69, 138, 101, 239, 72, 131, 212, 72, 151, 61, 82, 28, 179, 11, 15, 212, 118, 164, 38, 59, 49, 139, 50, 122, 48 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\nExtension server_name, server_name: [host_name: precision.epayworldwide.com]\n***\nmain, WRITE: TLSv1.2 Handshake, length = 229\nmain, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n<p>It seems that the <code>HttpURLConnection</code> is not using the AES-GCM cipher (e.g. <code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code>), even though it should be implemented by the JARs I have added.</p>\n<p>For the records, I have tested the server I am connecting to with <a href=\"https://superuser.com/a/224263/1220635\">this</a> script and these are the supported ciphers:</p>\n<pre><code>Testing ECDHE-RSA-AES256-GCM-SHA384...YES\nTesting DHE-RSA-AES256-GCM-SHA384...YES\nTesting ECDHE-RSA-AES128-GCM-SHA256...YES\nTesting DHE-RSA-AES128-GCM-SHA256...YES\nTesting ECDHE-RSA-AES256-SHA384...YES\nTesting ECDHE-RSA-AES128-SHA256...YES\nTesting AES256-GCM-SHA384...YES\n</code></pre>\n<p>I am trying to support AES-GCM on my client because it's one of the ciphers supported by the server.</p>\n<p>If possible, I would like to resolve this problem without changing the code (e.g. by explicitly setting the ciphers the <code>HttpURLConnection</code> should use).</p>\n"},{"tags":["java","spring-boot","garbage-collection"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687358292,"post_id":76524438,"comment_id":134926097,"body_markdown":"You want something like `try (InputStreamResource resource = new InputStreamResource(Files.newInputStream(Path.of(filePath)))) {return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + filePath()).contentType(mediaType).contentLength(file.length()).body(resource);}` A little tweak might be necessary to putting the file name in the header","body":"You want something like <code>try (InputStreamResource resource = new InputStreamResource(Files.newInputStream(Path.of(filePath)))&zwnj;&#8203;) {return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + filePath()).contentType(mediaType).contentLength(file.length&zwnj;&#8203;()).body(resource);}</code> A little tweak might be necessary to putting the file name in the header"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687375163,"post_id":76524438,"comment_id":134929616,"body_markdown":"That’s not the responsibility of the GC but the *caller* which will process the `ResponseEntity`.","body":"That’s not the responsibility of the GC but the <i>caller</i> which will process the <code>ResponseEntity</code>."}],"owner":{"account_id":16708431,"reputation":23,"user_id":12076312,"display_name":"Akhouri Soumya Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687357967,"creation_date":1687357967,"question_id":76524438,"body_markdown":"In an approach similar to the one given below to download a file using InputStreamResource, how can we ensure that there is no resource leak from the FileInputStream. \r\n\r\n\r\n```\r\n@GetMapping(&quot;/download&quot;)\r\npublic ResponseEntity&lt;InputStreamResource&gt; downloadFile() throws IOException {\r\n  MediaType mediaType = MediaTypeUtils.getMediaTypeForFileName(this.servletContext, fileName);\r\n\r\n  File file = new File(filePath);\r\n  InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n\r\n  return ResponseEntity.ok()\r\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\r\n      .contentType(mediaType)\r\n      .contentLength(file.length())\r\n      .body(resource);\r\n}\r\n```\r\n\r\nWill the GC always take care of the FileInputStream created from `new FileInputStream(file)` or is there a chance that leaks can occur. If so, then how to handle it?\r\n\r\nAlmost every approach I&#39;ve tried to close the FileInputStream explicitly or by using try-with-resource blocks leads to java.io.IOException: Stream Closed, which I think happens because the stream is closed before the responseEntity can be returned.","title":"How to handle FileInputStream while using an InputStreamResource to return a file in Springboot?","body":"<p>In an approach similar to the one given below to download a file using InputStreamResource, how can we ensure that there is no resource leak from the FileInputStream.</p>\n<pre><code>@GetMapping(&quot;/download&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; downloadFile() throws IOException {\n  MediaType mediaType = MediaTypeUtils.getMediaTypeForFileName(this.servletContext, fileName);\n\n  File file = new File(filePath);\n  InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n\n  return ResponseEntity.ok()\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\n      .contentType(mediaType)\n      .contentLength(file.length())\n      .body(resource);\n}\n</code></pre>\n<p>Will the GC always take care of the FileInputStream created from <code>new FileInputStream(file)</code> or is there a chance that leaks can occur. If so, then how to handle it?</p>\n<p>Almost every approach I've tried to close the FileInputStream explicitly or by using try-with-resource blocks leads to java.io.IOException: Stream Closed, which I think happens because the stream is closed before the responseEntity can be returned.</p>\n"},{"tags":["java","builder","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1687357940,"creation_date":1588890906,"answer_id":61668919,"question_id":61658719,"body_markdown":"The generated code for `@SuperBuilder` is complex and loaded with type parameters. Therefore, it is advisable to `delombok` your class and use the output as a reference.\r\n\r\nYou can do this with this command:\r\n\r\n    java -jar path/to/lombok.jar delombok -p path/to/src/main/java/Child.java\r\n\r\nThe output will show what code lombok generates. I assume the `Child` class is not abstract (I think you have a typo in your questions). You want to customize the `build()` method, so you are interested in the `ChildBuilderImpl`, because this class contains that method. You can copy the class header to your source file and add your custom `build()` method:\r\n\r\n    private static final class ChildBuilderImpl extends Child.ChildBuilder&lt;Child, Child.ChildBuilderImpl&gt; {\r\n        @java.lang.Override\r\n        public Child build() {\r\n            // Do validation here, e.g.:\r\n            if (((Child.ChildBuilder&lt;?, ?&gt;)this).b == 0)\r\n                throw new IllegalArgumentException(&quot;b must not be 0&quot;);\r\n            return new Child(this);\r\n        }\r\n    }\r\n\r\nRemark: I would prefer performing the validation in the constructor, because otherwise you could programmatically invoke the constructor without the values getting validated. However, customizing the `@SuperBuilder` constructor is not possible at the moment; it will be possible with the next lombok release. I&#39;ll update this question when it is released.\r\n\r\nUpdate: You can customize the constructor since Lombok v1.18.16.","title":"Customize lombok super builder","body":"<p>The generated code for <code>@SuperBuilder</code> is complex and loaded with type parameters. Therefore, it is advisable to <code>delombok</code> your class and use the output as a reference.</p>\n<p>You can do this with this command:</p>\n<pre><code>java -jar path/to/lombok.jar delombok -p path/to/src/main/java/Child.java\n</code></pre>\n<p>The output will show what code lombok generates. I assume the <code>Child</code> class is not abstract (I think you have a typo in your questions). You want to customize the <code>build()</code> method, so you are interested in the <code>ChildBuilderImpl</code>, because this class contains that method. You can copy the class header to your source file and add your custom <code>build()</code> method:</p>\n<pre><code>private static final class ChildBuilderImpl extends Child.ChildBuilder&lt;Child, Child.ChildBuilderImpl&gt; {\n    @java.lang.Override\n    public Child build() {\n        // Do validation here, e.g.:\n        if (((Child.ChildBuilder&lt;?, ?&gt;)this).b == 0)\n            throw new IllegalArgumentException(&quot;b must not be 0&quot;);\n        return new Child(this);\n    }\n}\n</code></pre>\n<p>Remark: I would prefer performing the validation in the constructor, because otherwise you could programmatically invoke the constructor without the values getting validated. However, customizing the <code>@SuperBuilder</code> constructor is not possible at the moment; it will be possible with the next lombok release. I'll update this question when it is released.</p>\n<p>Update: You can customize the constructor since Lombok v1.18.16.</p>\n"}],"owner":{"account_id":3952151,"reputation":392,"user_id":3262047,"accept_rate":50,"display_name":"explorer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2143,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61668919,"answer_count":1,"score":4,"last_activity_date":1687357940,"creation_date":1588857243,"question_id":61658719,"body_markdown":"I have a parent abstract class &quot;Parent&quot; and child class &quot;Child&quot;. I am using @SuperBuilder to generate builder APIs. Now, I want to perform some validations on the members of class &quot;Parent&quot; and &quot;Child&quot; as part of build. I couldn&#39;t find any solution to customize lombok super builder. As per [lombok][1] doc, it seems to be possible. Can someone please shed some light?\r\n\r\n    @SuperBuilder\r\n    public abstract class Parent {\r\n        int x;\r\n        int y;\r\n        int z;\r\n        int a;\r\n    }\r\n\r\n    @SuperBuilder\r\n    public abstract class Child extends Parent {\r\n        int b;\r\n        int c;\r\n        int d;\r\n   \r\n        // I want something like\r\n        public static class ChildBuilder {\r\n             \r\n           public Child build() {\r\n               Child child = // Get child somehow;\r\n               validate(child);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/SuperBuilder","title":"Customize lombok super builder","body":"<p>I have a parent abstract class \"Parent\" and child class \"Child\". I am using @SuperBuilder to generate builder APIs. Now, I want to perform some validations on the members of class \"Parent\" and \"Child\" as part of build. I couldn't find any solution to customize lombok super builder. As per <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">lombok</a> doc, it seems to be possible. Can someone please shed some light?</p>\n\n<pre><code>@SuperBuilder\npublic abstract class Parent {\n    int x;\n    int y;\n    int z;\n    int a;\n}\n\n@SuperBuilder\npublic abstract class Child extends Parent {\n    int b;\n    int c;\n    int d;\n\n    // I want something like\n    public static class ChildBuilder {\n\n       public Child build() {\n           Child child = // Get child somehow;\n           validate(child);\n       }\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687358329,"post_id":76521991,"comment_id":134926113,"body_markdown":"Please add your **full `StatusConverter`** implementation (with full I mean including the imports and package declaration). Specify which Spring Data version you are using (or Spring Boot and provide the dependencies) and if possible add your entity as well.","body":"Please add your <b>full <code>StatusConverter</code></b> implementation (with full I mean including the imports and package declaration). Specify which Spring Data version you are using (or Spring Boot and provide the dependencies) and if possible add your entity as well."}],"answers":[{"tags":[],"owner":{"account_id":2149557,"reputation":7697,"user_id":1906362,"accept_rate":50,"display_name":"Woody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687357700,"creation_date":1687357700,"answer_id":76524397,"question_id":76521991,"body_markdown":"This was because I didn&#39;t use @Convert on the column definition.","title":"Jpa custom findBy method enum value conversion","body":"<p>This was because I didn't use @Convert on the column definition.</p>\n"}],"owner":{"account_id":2149557,"reputation":7697,"user_id":1906362,"accept_rate":50,"display_name":"Woody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687357700,"creation_date":1687340978,"question_id":76521991,"body_markdown":"I have the following enum used by a JPA Entity :\r\n\r\n```\r\n@RequiredArgsConstructor\r\nenum Status {\r\n  ACTIVE(&quot;Active&quot;),\r\n  INACTIVE(&quot;Inactive&quot;);\r\n\r\n  final String activeStatus;\r\n\r\n  public String getStatus() { return activeStatus; }\r\n}\r\n```\r\nIt has an AttributeConverter which converts to a String when I write to the DB and the works in the other direction as well so the value of `activeStatus` is persisted and the String value e.g. &quot;Inactive&quot; is turned into the correct enum instance Status.INACTIVE.\r\n\r\nThe trouble I&#39;m having is that my custom findBy method doesn&#39;t find anything :\r\n\r\n```\r\nList&lt;Entity&gt; findByStatus(Status status);\r\n```\r\n\r\nThis seems to be because the generated query is using the string &quot;ACTIVE&quot; and not using the converter.  I could just use the string value, but it seems like I must be missing how to do this ?  I tried adding an @Convert annotation specifying the converter to my findBy method :\r\n```\r\n@Convert(converter = StatusConverter.class)\r\nList&lt;Entity&gt; findByStatus(Status status);\r\n```\r\nbut it didn&#39;t make any difference","title":"Jpa custom findBy method enum value conversion","body":"<p>I have the following enum used by a JPA Entity :</p>\n<pre><code>@RequiredArgsConstructor\nenum Status {\n  ACTIVE(&quot;Active&quot;),\n  INACTIVE(&quot;Inactive&quot;);\n\n  final String activeStatus;\n\n  public String getStatus() { return activeStatus; }\n}\n</code></pre>\n<p>It has an AttributeConverter which converts to a String when I write to the DB and the works in the other direction as well so the value of <code>activeStatus</code> is persisted and the String value e.g. &quot;Inactive&quot; is turned into the correct enum instance Status.INACTIVE.</p>\n<p>The trouble I'm having is that my custom findBy method doesn't find anything :</p>\n<pre><code>List&lt;Entity&gt; findByStatus(Status status);\n</code></pre>\n<p>This seems to be because the generated query is using the string &quot;ACTIVE&quot; and not using the converter.  I could just use the string value, but it seems like I must be missing how to do this ?  I tried adding an @Convert annotation specifying the converter to my findBy method :</p>\n<pre><code>@Convert(converter = StatusConverter.class)\nList&lt;Entity&gt; findByStatus(Status status);\n</code></pre>\n<p>but it didn't make any difference</p>\n"},{"tags":["java","datetime","parsing","logic","date-arithmetic"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685340370,"post_id":76354129,"comment_id":134642544,"body_markdown":"No matter is using the old and cumbersome `Calendar` or the modern `ZonedDateTime` adding 4 hours to convert from EDT (North American Eastern Daylight Time) to UTC is wrong. You are getting a moment in time 4 hours later and still in Eastern Time. Both classes can do the conversion for you, though, you just need to apply UTC time zone to them.","body":"No matter is using the old and cumbersome <code>Calendar</code> or the modern <code>ZonedDateTime</code> adding 4 hours to convert from EDT (North American Eastern Daylight Time) to UTC is wrong. You are getting a moment in time 4 hours later and still in Eastern Time. Both classes can do the conversion for you, though, you just need to apply UTC time zone to them."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685356110,"post_id":76354129,"comment_id":134644729,"body_markdown":"You decide yourself whether you prefer the 5 lines or the 2 lines or which you find clearer to read. And probably nothing that matters: from `Calendar.getInstance()` you are not guaranteed to get a Gregoran calendar. Since converting between time zones or adding 4 hours is the same in all calendar systems that I can think of, it shouldn’t matter for your particular use case.","body":"You decide yourself whether you prefer the 5 lines or the 2 lines or which you find clearer to read. And probably nothing that matters: from <code>Calendar.getInstance()</code> you are not guaranteed to get a Gregoran calendar. Since converting between time zones or adding 4 hours is the same in all calendar systems that I can think of, it shouldn’t matter for your particular use case."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685371957,"post_id":76354129,"comment_id":134647598,"body_markdown":"@OleV.V., I&#39;m not concerned about design implications, which I&#39;ve clearly outlined.  I&#39;m interested in why one abstraction is considered to produce a more logical result than the other.  As you can see, there is no difference in their results, they are the exact same value.  This is now the second response which is implying that I will encounter some sort of design flaw.  Where is the flaw?  I provided the entire code which is needed to produce the result; what have I forgotten to type, there is no more logic required.  Please, apply the topic.","body":"@OleV.V., I&#39;m not concerned about design implications, which I&#39;ve clearly outlined.  I&#39;m interested in why one abstraction is considered to produce a more logical result than the other.  As you can see, there is no difference in their results, they are the exact same value.  This is now the second response which is implying that I will encounter some sort of design flaw.  Where is the flaw?  I provided the entire code which is needed to produce the result; what have I forgotten to type, there is no more logic required.  Please, apply the topic."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685372416,"post_id":76354129,"comment_id":134647700,"body_markdown":"@OleV.V., Additionally, _&quot;... adding 4 hours to convert ... to UTC is wrong. ... you are getting a moment in time 4 hours later and still in Eastern Time&quot;_.  That&#39;s not correct, for the example, it&#39;s 11 am in EDT, and 3 pm at the UTC.  That is EDT plus 4.  If I understand correctly, you&#39;re saying it&#39;s because the time-zone still says EDT.  I didn&#39;t change the time-zone, though, I was simply looking to derive a UTC value.  Your saying that _that_ is the error in the logic?  That&#39;s a bit much, almost pretentious.","body":"@OleV.V., Additionally, <i>&quot;... adding 4 hours to convert ... to UTC is wrong. ... you are getting a moment in time 4 hours later and still in Eastern Time&quot;</i>.  That&#39;s not correct, for the example, it&#39;s 11 am in EDT, and 3 pm at the UTC.  That is EDT plus 4.  If I understand correctly, you&#39;re saying it&#39;s because the time-zone still says EDT.  I didn&#39;t change the time-zone, though, I was simply looking to derive a UTC value.  Your saying that <i>that</i> is the error in the logic?  That&#39;s a bit much, almost pretentious."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685331761,"creation_date":1685331761,"answer_id":76354558,"question_id":76354129,"body_markdown":"No, they are not using a &quot;more accurate year measurement.&quot;  There is no aspect in which Calendar is _incorrect_ or will result in values that are simply wrong.\r\n\r\nCalendar is obsolete because it is difficult to use correctly, e.g. numbering months from 0 to 11 instead of 1 to 12. \r\nIt also conflates physical and civil times, which it&#39;s important to draw a distinction between.\r\n\r\nIt&#39;s possible to write 100% correct code with java.util.Calendar.  Most people won&#39;t, though.","title":"What are the implications of using ZoneDateTime versus Calendar, when converting and augmenting values?","body":"<p>No, they are not using a &quot;more accurate year measurement.&quot;  There is no aspect in which Calendar is <em>incorrect</em> or will result in values that are simply wrong.</p>\n<p>Calendar is obsolete because it is difficult to use correctly, e.g. numbering months from 0 to 11 instead of 1 to 12.\nIt also conflates physical and civil times, which it's important to draw a distinction between.</p>\n<p>It's possible to write 100% correct code with java.util.Calendar.  Most people won't, though.</p>\n"}],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1687357295,"creation_date":1685321601,"question_id":76354129,"body_markdown":"I am unsure of what unforeseeable implications, specifically invalidation, will occur when utilizing a _[Calendar](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html)_ object, versus using a _[ZonedDateTime](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html)_ object.\r\n\r\nI am wondering if insight can be provided to why the conversion, or parsing, of a value must be done using one framework versus the other.\r\n\r\nI&#39;ve reviewed the _Java Tutorials_, in reference to _&quot;[legacy date-time code](https://docs.oracle.com/javase/tutorial/datetime/iso/index.html)&quot;_, and I am unable to procure where an invalidation may happen.\r\n\r\nTo paraphrase, the tutorial mentions the following.\r\n\r\n&gt; _&quot;The Calendar class was not type safe&quot;._\r\n\r\nI am not concerned with type safety, parsing is only a few steps.\r\n\r\n&gt; _&quot;Because the classes were mutable, they could not be used in multithreaded applications&quot;._\r\n\r\nMutable state is not a topic.\r\n\r\n&gt; &quot;Bugs in application code were common due to the unusual numbering of months and the lack of type safety&quot;.\r\n\r\nI&#39;m not concerned with an index versus an enumeration.\r\n\r\nNone of these points defy an antithesis for abstraction.\r\n\r\nAs a demonstration, I&#39;ll utilize both classes collectively, in an attempt to discuss their logic.\r\n\r\nI can parse a formatted _String_ value using _[SimpleDateFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/SimpleDateFormat.html)_, and _Calendar_.\r\n\r\n```java\r\nString string = &quot;MMMM dd, yyyy &#39;@&#39; h:mm:ss a z&quot;;\r\nSimpleDateFormat format = new SimpleDateFormat(string);\r\nString value = &quot;May 28, 2023 @ 6:50:01 pm EDT&quot;;\r\nCalendar calendar = Calendar.getInstance();\r\ncalendar.setTime(format.parse(value));\r\n```\r\n\r\nIf I print the data from _calendar_ I receive a valid result.\r\n\r\n```java\r\nSystem.out.println(calendar.getTimeInMillis());\r\nSystem.out.printf(&quot;%tc&quot;, calendar.getTimeInMillis());\r\n```\r\n\r\n```none\r\n1685314201000\r\nSun May 28 18:50:01 EDT 2023\r\n```\r\n\r\nAnd, I could parse the same formatted _String_ value using _[DateTimeFormatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html)_, and _ZonedDateTime_.  \r\nGranted, I have to uppercase the _&quot;PM&quot;_ within _value_&amp;mdash;this is not a set-back.  \r\nThe _DateTimeParseException_ had even specified a character index.\r\n\r\n```java\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(string);\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(value, format);\r\n```\r\n\r\nSimilarly, if I print the data from _zonedDateTime_, I get a valid result.\r\n\r\n```java\r\nSystem.out.println(zonedDateTime.toInstant().toEpochMilli());\r\nSystem.out.printf(&quot;%tc%n&quot;, zonedDateTime.toInstant().toEpochMilli());\r\nSystem.out.println(zonedDateTime);\r\n```\r\n\r\n```none\r\n1685314201000\r\nSun May 28 18:50:01 EDT 2023\r\n2023-05-28T18:50:01-04:00[America/New_York]\r\n```\r\n\r\nIf you review the data side-by-side, you&#39;ll find they are equivalent, thus both are valid.\r\n\r\nIf I wanted to augment the values, let&#39;s say, by adding 4 hours, _since EDT is UTC-4_, to derive a UTC value; I can achieve this with both classes.\r\n\r\nFor the _Calendar_ class I can use the _[add](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#add(int,int))_ method.  \r\nWhich, has an extensible [specification](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#field-manipulation-heading) from within the _Calendar_ class.\r\n\r\n```java\r\ncalendar.add(Calendar.HOUR_OF_DAY, 4);\r\n```\r\n\r\n```none\r\n1685328601000\r\nSun May 28 22:50:01 EDT 2023\r\n```\r\n\r\nEquivalently, for _zonedDateTime_, I can use the _[plusHours](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#plusHours(long))_ method.\r\n\r\n```java\r\nzonedDateTime = zonedDateTime.plusHours(4);\r\n```\r\n\r\n```none\r\n1685328601000\r\nSun May 28 22:50:01 EDT 2023\r\n2023-05-28T22:50:01-04:00[America/New_York]\r\n```\r\n\r\nAgain, I&#39;m arriving at equal values, in terms of _Calendar_ versus _ZonedDateTime_.\r\n\r\nIf I subtract _1,685,314,201,000_ from _1,685,328,601,000_, I get _14,400,000_.  \r\n_14,400,000_ is equivalent to, _4 hours_ &amp;times; (_60 minutes_ &amp;times; (_60 seconds_ &amp;times; _1000 milliseconds_)).\r\n\r\nThis brings me to my conclusion, on the adverse effects of using one class over another, in terms of basic parsing, and augmentation.\r\n\r\nWhat is the unforeseen error that will be calculated when using one class versus the other?\r\n\r\nFor example, is one class using a more accurate year measurement, such as _365.25 days_, over _365.2425_?\r\n\r\nAside from the design implications stated by Java, where does one class prove as idiomatic over another&amp;mdash;considering both will generate equivalent values.  \r\n\r\nI mean _idiomatic_ from the philosophical stand-point, and not _idiomatic_ in the paradigmatic, ideological, protestant way.\r\n\r\nEmpirical evidence need not apply.","title":"What are the implications of using ZoneDateTime versus Calendar, when converting and augmenting values?","body":"<p>I am unsure of what unforeseeable implications, specifically invalidation, will occur when utilizing a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a></em> object, versus using a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a></em> object.</p>\n<p>I am wondering if insight can be provided to why the conversion, or parsing, of a value must be done using one framework versus the other.</p>\n<p>I've reviewed the <em>Java Tutorials</em>, in reference to <em>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/index.html\" rel=\"nofollow noreferrer\">legacy date-time code</a>&quot;</em>, and I am unable to procure where an invalidation may happen.</p>\n<p>To paraphrase, the tutorial mentions the following.</p>\n<blockquote>\n<p><em>&quot;The Calendar class was not type safe&quot;.</em></p>\n</blockquote>\n<p>I am not concerned with type safety, parsing is only a few steps.</p>\n<blockquote>\n<p><em>&quot;Because the classes were mutable, they could not be used in multithreaded applications&quot;.</em></p>\n</blockquote>\n<p>Mutable state is not a topic.</p>\n<blockquote>\n<p>&quot;Bugs in application code were common due to the unusual numbering of months and the lack of type safety&quot;.</p>\n</blockquote>\n<p>I'm not concerned with an index versus an enumeration.</p>\n<p>None of these points defy an antithesis for abstraction.</p>\n<p>As a demonstration, I'll utilize both classes collectively, in an attempt to discuss their logic.</p>\n<p>I can parse a formatted <em>String</em> value using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a></em>, and <em>Calendar</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;MMMM dd, yyyy '@' h:mm:ss a z&quot;;\nSimpleDateFormat format = new SimpleDateFormat(string);\nString value = &quot;May 28, 2023 @ 6:50:01 pm EDT&quot;;\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(format.parse(value));\n</code></pre>\n<p>If I print the data from <em>calendar</em> I receive a valid result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(calendar.getTimeInMillis());\nSystem.out.printf(&quot;%tc&quot;, calendar.getTimeInMillis());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685314201000\nSun May 28 18:50:01 EDT 2023\n</code></pre>\n<p>And, I could parse the same formatted <em>String</em> value using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></em>, and <em>ZonedDateTime</em>.<br />\nGranted, I have to uppercase the <em>&quot;PM&quot;</em> within <em>value</em>—this is not a set-back.<br />\nThe <em>DateTimeParseException</em> had even specified a character index.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(string);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(value, format);\n</code></pre>\n<p>Similarly, if I print the data from <em>zonedDateTime</em>, I get a valid result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(zonedDateTime.toInstant().toEpochMilli());\nSystem.out.printf(&quot;%tc%n&quot;, zonedDateTime.toInstant().toEpochMilli());\nSystem.out.println(zonedDateTime);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685314201000\nSun May 28 18:50:01 EDT 2023\n2023-05-28T18:50:01-04:00[America/New_York]\n</code></pre>\n<p>If you review the data side-by-side, you'll find they are equivalent, thus both are valid.</p>\n<p>If I wanted to augment the values, let's say, by adding 4 hours, <em>since EDT is UTC-4</em>, to derive a UTC value; I can achieve this with both classes.</p>\n<p>For the <em>Calendar</em> class I can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#add(int,int)\" rel=\"nofollow noreferrer\">add</a></em> method.<br />\nWhich, has an extensible <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#field-manipulation-heading\" rel=\"nofollow noreferrer\">specification</a> from within the <em>Calendar</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>calendar.add(Calendar.HOUR_OF_DAY, 4);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685328601000\nSun May 28 22:50:01 EDT 2023\n</code></pre>\n<p>Equivalently, for <em>zonedDateTime</em>, I can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#plusHours(long)\" rel=\"nofollow noreferrer\">plusHours</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>zonedDateTime = zonedDateTime.plusHours(4);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685328601000\nSun May 28 22:50:01 EDT 2023\n2023-05-28T22:50:01-04:00[America/New_York]\n</code></pre>\n<p>Again, I'm arriving at equal values, in terms of <em>Calendar</em> versus <em>ZonedDateTime</em>.</p>\n<p>If I subtract <em>1,685,314,201,000</em> from <em>1,685,328,601,000</em>, I get <em>14,400,000</em>.<br />\n<em>14,400,000</em> is equivalent to, <em>4 hours</em> × (<em>60 minutes</em> × (<em>60 seconds</em> × <em>1000 milliseconds</em>)).</p>\n<p>This brings me to my conclusion, on the adverse effects of using one class over another, in terms of basic parsing, and augmentation.</p>\n<p>What is the unforeseen error that will be calculated when using one class versus the other?</p>\n<p>For example, is one class using a more accurate year measurement, such as <em>365.25 days</em>, over <em>365.2425</em>?</p>\n<p>Aside from the design implications stated by Java, where does one class prove as idiomatic over another—considering both will generate equivalent values.</p>\n<p>I mean <em>idiomatic</em> from the philosophical stand-point, and not <em>idiomatic</em> in the paradigmatic, ideological, protestant way.</p>\n<p>Empirical evidence need not apply.</p>\n"},{"tags":["java","android","parcel"],"answers":[{"tags":[],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687357144,"creation_date":1687357144,"answer_id":76524312,"question_id":76524228,"body_markdown":"I have solved this by adding a `setDataPosition(0)` call:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tTextView tv = findViewById(R.id.value);\r\n\r\n\t\tParcel p = Parcel.obtain();\r\n\t\tp.writeString(&quot;hello&quot;);\r\n\t\tp.setDataPosition(0);\r\n\t\tString val = p.readString();\r\n\t\ttv.setText(val);\r\n\t\tp.recycle();\r\n\t}\r\n}\r\n```","title":"Parcel readString() method returns null","body":"<p>I have solved this by adding a <code>setDataPosition(0)</code> call:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView tv = findViewById(R.id.value);\n\n        Parcel p = Parcel.obtain();\n        p.writeString(&quot;hello&quot;);\n        p.setDataPosition(0);\n        String val = p.readString();\n        tv.setText(val);\n        p.recycle();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687357144,"creation_date":1687356645,"question_id":76524228,"body_markdown":"I am trying to understand how the Parcel object works. So I have made this code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tTextView tv = findViewById(R.id.value);\r\n\r\n\t\tParcel p = Parcel.obtain();\r\n\t\tp.writeString(&quot;hello&quot;);\r\n\t\tString val = p.readString();\r\n\t\ttv.setText(val);\r\n\t\tp.recycle();\r\n\t}\r\n}\r\n```\r\nDebugging the code I have noticed that readString() returns null. Why?","title":"Parcel readString() method returns null","body":"<p>I am trying to understand how the Parcel object works. So I have made this code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView tv = findViewById(R.id.value);\n\n        Parcel p = Parcel.obtain();\n        p.writeString(&quot;hello&quot;);\n        String val = p.readString();\n        tv.setText(val);\n        p.recycle();\n    }\n}\n</code></pre>\n<p>Debugging the code I have noticed that readString() returns null. Why?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1521393961,"post_id":49350091,"comment_id":85701339,"body_markdown":"Possible duplicate of [Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path](https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d\">Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1521393982,"post_id":49350091,"comment_id":85701349,"body_markdown":"A quick google of the error message would have brought up info that would have solved your problem.","body":"A quick google of the error message would have brought up info that would have solved your problem."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1521460452,"creation_date":1521436757,"answer_id":49356246,"question_id":49350091,"body_markdown":"The error says it all :\r\n\r\n\tException in thread &quot;main&quot; java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \r\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:199) \r\n\r\nThe following phrases from the error implies that there is an error in the line containing **webdriver.chrome.driver**\r\n\r\nThe error can be either of the following :\r\n\r\n- Error in the [_System Class Method_](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setProperty(java.lang.String,%20java.lang.String)) `setProperty()`(including sequence) :\r\n\r\n\t\tSystem.setProperty()\r\n&gt;This line should be the very **first line** in your script.\r\n\r\n- Error in the specified [_Key_](https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html) :\r\n\r\n\t\t&quot;WebDriver.Chrome.driver&quot;\r\n\t\t\r\n- Error in the _Value_ field :\r\n\r\n\t\t&quot;E:\\\\chromedriver.exe&quot;\r\n\r\n &gt;You have to pass the absolute path of the _WebDriver_  through either of the following options :\r\n\r\n - Escaping the back slash (`\\\\`) e.g. `&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;`\r\n - Single forward slash (`/`) e.g. `&quot;C:/path/to/chromedriver.exe&quot;`\r\n\t\t\r\nYour code seems to be having two issues as follows :\r\n\r\n - First issue is in specifying the _Key_ which instead of `&quot;WebDriver.Chrome.driver&quot;` should have been **`&quot;webdriver.chrome.driver&quot;`** as follows :\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n\t\t\r\n - Second issue is in the _sequence_ of mentioning the _Key_ **`&quot;webDriver.chrome.driver&quot;`** in your program which should be before **`WebDriver driver = new ChromeDriver();`** as follows :\r\n\r\n\t\tSystem.setProperty(&quot;WebDriver.Chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>The error says it all :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \nat com.google.common.base.Preconditions.checkState(Preconditions.java:199) \n</code></pre>\n\n<p>The following phrases from the error implies that there is an error in the line containing <strong>webdriver.chrome.driver</strong></p>\n\n<p>The error can be either of the following :</p>\n\n<ul>\n<li><p>Error in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setProperty(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><em>System Class Method</em></a> <code>setProperty()</code>(including sequence) :</p>\n\n<pre><code>System.setProperty()\n</code></pre>\n\n<blockquote>\n  <p>This line should be the very <strong>first line</strong> in your script.</p>\n</blockquote></li>\n<li><p>Error in the specified <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\"><em>Key</em></a> :</p>\n\n<pre><code>\"WebDriver.Chrome.driver\"\n</code></pre></li>\n<li><p>Error in the <em>Value</em> field :</p>\n\n<pre><code>\"E:\\\\chromedriver.exe\"\n</code></pre>\n\n<blockquote>\n  <p>You have to pass the absolute path of the <em>WebDriver</em>  through either of the following options :</p>\n</blockquote>\n\n<ul>\n<li>Escaping the back slash (<code>\\\\</code>) e.g. <code>\"C:\\\\path\\\\to\\\\chromedriver.exe\"</code></li>\n<li>Single forward slash (<code>/</code>) e.g. <code>\"C:/path/to/chromedriver.exe\"</code></li>\n</ul></li>\n</ul>\n\n<p>Your code seems to be having two issues as follows :</p>\n\n<ul>\n<li><p>First issue is in specifying the <em>Key</em> which instead of <code>\"WebDriver.Chrome.driver\"</code> should have been <strong><code>\"webdriver.chrome.driver\"</code></strong> as follows :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\chromedriver.exe\");\n</code></pre></li>\n<li><p>Second issue is in the <em>sequence</em> of mentioning the <em>Key</em> <strong><code>\"webDriver.chrome.driver\"</code></strong> in your program which should be before <strong><code>WebDriver driver = new ChromeDriver();</code></strong> as follows :</p>\n\n<pre><code>System.setProperty(\"WebDriver.Chrome.driver\", \"E:\\\\chromedriver.exe\");\nWebDriver driver = new ChromeDriver();\ndriver.get(\"https://www.google.com\");\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25312260,"reputation":1,"user_id":19134849,"display_name":"Sonu Chamoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652781318,"creation_date":1652781318,"answer_id":72271853,"question_id":49350091,"body_markdown":"I have seen many people are using wrong sequence.\r\nthe sequence  should be.\r\n1. First set the property and then launch the browser\r\n\r\n System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/chrome/chromedriver.exe&quot;);\r\n  \t\tWebDriver driver = new ChromeDriver();\r\n\r\n\t\t  driver.navigate().to(&quot;https://www.google.com&quot;);\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>I have seen many people are using wrong sequence.\nthe sequence  should be.</p>\n<ol>\n<li>First set the property and then launch the browser</li>\n</ol>\n<p>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/chrome/chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();</p>\n<pre><code>      driver.navigate().to(&quot;https://www.google.com&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26569806,"reputation":11,"user_id":20196191,"display_name":"Vanshika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665302417,"creation_date":1665302417,"answer_id":74003043,"question_id":49350091,"body_markdown":"Download the chromedriver version corresponding to the chrome version in your system from https://chromedriver.chromium.org/downloads . Unzip the file and run the below code in the IDE.\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Selintroduction {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//Invoking browser\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\tWebDriver driver = new ChromeDriver();\r\n\r\n\t}\r\n\r\n}\r\n\r\n(Path would depend on your file location in the PC.)","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>Download the chromedriver version corresponding to the chrome version in your system from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> . Unzip the file and run the below code in the IDE.</p>\n<p>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;</p>\n<p>public class Selintroduction {</p>\n<pre><code>public static void main(String[] args) {\n\n    //Invoking browser\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\n\n}\n</code></pre>\n<p>}</p>\n<p>(Path would depend on your file location in the PC.)</p>\n"},{"tags":[],"owner":{"account_id":6560864,"reputation":31,"user_id":5072005,"display_name":"arjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669391890,"creation_date":1669130789,"answer_id":74535099,"question_id":49350091,"body_markdown":"I was facing the same error when my code was like so:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32.exe&quot;);\r\n```\r\nIt works after adding `&quot;chromedriver&quot;` before `&quot;.exe&quot;` like so:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>I was facing the same error when my code was like so:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32.exe&quot;);\n</code></pre>\n<p>It works after adding <code>&quot;chromedriver&quot;</code> before <code>&quot;.exe&quot;</code> like so:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28866719,"reputation":1,"user_id":22109331,"display_name":"meen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687357099,"creation_date":1687357099,"answer_id":76524305,"question_id":49350091,"body_markdown":"try to use WebDriverManager.chromedriver().setup();\r\n\t\t   WebDriver driver = new ChromeDriver();\r\n\r\nif the path is not working, please use latest selenium webdriver like 4.10 and \r\nuse above code ","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>try to use WebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver();</p>\n<p>if the path is not working, please use latest selenium webdriver like 4.10 and\nuse above code</p>\n"}],"owner":{"account_id":13169715,"reputation":31,"user_id":9512577,"display_name":"Prashant Morade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27394,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49356246,"answer_count":5,"score":2,"last_activity_date":1687357099,"creation_date":1521389679,"question_id":49350091,"body_markdown":"    Exception in thread &quot;main&quot; java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html \t\r\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:199) \t\r\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:109) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService.access$0(ChromeDriverService.java:1) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137) \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:296) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88) \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116) \t\r\n    at practise_locators.DatePicker.main(DatePicker.java:11)\r\n\r\n\r\nHere is my code:\r\n\r\n    package practise_locators;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class DatePicker {\r\n    \r\n        public static void main(String[] args){\r\n            WebDriver driver = new ChromeDriver();\r\n            System.setProperty(&quot;WebDriver.Chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n            driver.get(&quot;https://www.google.com&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<pre><code>Exception in thread \"main\" java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \nat com.google.common.base.Preconditions.checkState(Preconditions.java:199)  \nat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:109)  \nat org.openqa.selenium.chrome.ChromeDriverService.access$0(ChromeDriverService.java:1)  \nat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)   at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:296)   \nat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)     at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116)    \nat practise_locators.DatePicker.main(DatePicker.java:11)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>package practise_locators;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class DatePicker {\n\n    public static void main(String[] args){\n        WebDriver driver = new ChromeDriver();\n        System.setProperty(\"WebDriver.Chrome.driver\", \"E:\\\\chromedriver.exe\");\n        driver.get(\"https://www.google.com\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","lambda","functional-programming","functional-interface"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687351970,"post_id":76523385,"comment_id":134924422,"body_markdown":"What is the return type of `Thing::getReason`? I guess by modelling the type as `Optional&lt;?&gt;` you are losing out on the type info. Is your goal just to check if the underlying value of the optional a String? Does this help [How can I know if Object is String type object?](https://stackoverflow.com/questions/4344871/how-can-i-know-if-object-is-string-type-object)?","body":"What is the return type of <code>Thing::getReason</code>? I guess by modelling the type as <code>Optional&lt;?&gt;</code> you are losing out on the type info. Is your goal just to check if the underlying value of the optional a String? Does this help <a href=\"https://stackoverflow.com/questions/4344871/how-can-i-know-if-object-is-string-type-object\">How can I know if Object is String type object?</a>?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687352089,"post_id":76523385,"comment_id":134924454,"body_markdown":"To add to my earlier point, since you are returning a Function, you won&#39;t know if the type of the value (i.e., checking if the Object represented by the wildcard `?`) is String until you invoke the function.","body":"To add to my earlier point, since you are returning a Function, you won&#39;t know if the type of the value (i.e., checking if the Object represented by the wildcard <code>?</code>) is String until you invoke the function."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1687352237,"post_id":76523385,"comment_id":134924489,"body_markdown":"We might be having a [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). A context has a `Thing` and it has various fields like reason, destination etc., (you haven&#39;t specified their types). Starting with this, what is your problem and what are you trying to achieve?","body":"We might be having a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. A context has a <code>Thing</code> and it has various fields like reason, destination etc., (you haven&#39;t specified their types). Starting with this, what is your problem and what are you trying to achieve?"},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1687356775,"post_id":76523385,"comment_id":134925700,"body_markdown":"@Thiyagu So, right now, those fields can either be a String or Long, but might eventually become more types. I think I want to have a Function&lt;Context, Optional&lt;?&gt;&gt; and transform it to Function&lt;Context, Optional&lt;String&gt;&gt; based on a mapper method, such that in a different method I can pass in the Function&lt;Context, Optional&lt;String&gt;&gt;. The reasons for this are somewhat more complex than I can really encompass here, but that is the crux of the problem. I&#39;m adding in to the example of the method I want to be able to pass a function into.","body":"@Thiyagu So, right now, those fields can either be a String or Long, but might eventually become more types. I think I want to have a Function&lt;Context, Optional&lt;?&gt;&gt; and transform it to Function&lt;Context, Optional&lt;String&gt;&gt; based on a mapper method, such that in a different method I can pass in the Function&lt;Context, Optional&lt;String&gt;&gt;. The reasons for this are somewhat more complex than I can really encompass here, but that is the crux of the problem. I&#39;m adding in to the example of the method I want to be able to pass a function into."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687357109,"post_id":76523385,"comment_id":134925794,"body_markdown":"Can you explore if you can do the type checking at the place where you invoke the function? Pass the result of `accessor.apply(msg)` to some function and there you check if the result is of the required type. If not, you can return back an empty Optional.","body":"Can you explore if you can do the type checking at the place where you invoke the function? Pass the result of <code>accessor.apply(msg)</code> to some function and there you check if the result is of the required type. If not, you can return back an empty Optional."},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1687357320,"post_id":76523385,"comment_id":134925863,"body_markdown":"I think I can sort of see how that might work. I will dig into that soon and see if I can figure it out.","body":"I think I can sort of see how that might work. I will dig into that soon and see if I can figure it out."}],"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687356845,"creation_date":1687351159,"question_id":76523385,"body_markdown":"I have a number of accessor methods that interrogate various objects and return a Function&lt;Context, ?&gt;, like such:\r\n\r\n      public static Function&lt;ExmonMessageCtx, Optional&lt;?&gt;&gt; reason() {\r\n        return ctx -&gt;\r\n            ctx.getThing().map(Thing::getReason);\r\n      }\r\n\r\n  \r\n  The ultimate type of these accessor methods is either a String or Long but that could expand to different types.\r\n  \r\n  I also have a &quot;master&quot; accessor method like such:\r\n  \r\n\r\n      public static Function&lt;Context, Optional&lt;?&gt;&gt; masterAccessor(String name) {\r\n          switch (name) {\r\n          case &quot;reason&quot;:\r\n              return reason();\r\n    \t  case &quot;destination&quot;:\r\n    \t      return destination():\r\n    \t\t  ...\r\n    \t  default:\r\n    \t      return ctx -&gt; Optional.empty():\r\n    \t}\r\n\t\r\nWhat I would like to be able to do is to take this master accessor function and apply another function such that it will return a Function&lt;Context, Optional&lt;String&gt;&gt; if, for example, I want to map it against Strings. If the particular name given actually would result in one of the field accessors that uses a Long, it would return an Optional.empty().\r\n\r\nSo, what I am trying to figure out is how to make that type mapping method. \r\n\r\nI&#39;ve tried to create a mapping method like this \r\n\r\n    public static Function&lt;Context, Optional&lt;String&gt;&gt; stringType(String name, Optional&lt;?&gt; value) {\r\n          switch (name) {\r\n          case &quot;reason&quot;:\r\n          case &quot;destination&quot;:\r\n    \t  ...\r\n              return ctx -&gt; Optional.of((String) value.get());\r\n          default:\r\n              return ctx -&gt; Optional.empty();\r\n          }\r\n    }\r\n\r\nbut then I&#39;m not sure how to apply it to the master accessor function. Obviously, I&#39;m still trying to understand this functional programming approach so I&#39;m sure I&#39;m failing to grasp something inherit to this, but that&#39;s why I&#39;m here. Maybe this approach is wrong but my mandate here is that the masterAccessor method should not really change and I definitely shouldn&#39;t have different master accessors for each type (like a stringMasterAccessor and longMasterAccessor).\r\n\r\nEdit: I want to end up with a function that I can pass in to a method like the one below:\r\n\r\n      public static Predicate&lt;Context&gt; stringEquals(\r\n          Function&lt;Context, Optional&lt;String&gt;&gt; accessor, String str) {\r\n        return predicate(accessor, val -&gt; str.equals(val));\r\n\r\n      public static &lt;T&gt; Predicate&lt;Context&gt; predicate(\r\n          Function&lt;Context, Optional&lt;T&gt;&gt; accessor, Predicate&lt;T&gt; predicate) {\r\n        return msg -&gt; accessor.apply(msg).map(v -&gt; predicate.test(v)).orElse(false);\r\n\r\n  }\r\n      }","title":"Mapping wild card Function interface to a typed Function interface","body":"<p>I have a number of accessor methods that interrogate various objects and return a Function&lt;Context, ?&gt;, like such:</p>\n<pre><code>  public static Function&lt;ExmonMessageCtx, Optional&lt;?&gt;&gt; reason() {\n    return ctx -&gt;\n        ctx.getThing().map(Thing::getReason);\n  }\n</code></pre>\n<p>The ultimate type of these accessor methods is either a String or Long but that could expand to different types.</p>\n<p>I also have a &quot;master&quot; accessor method like such:</p>\n<pre><code>  public static Function&lt;Context, Optional&lt;?&gt;&gt; masterAccessor(String name) {\n      switch (name) {\n      case &quot;reason&quot;:\n          return reason();\n      case &quot;destination&quot;:\n          return destination():\n          ...\n      default:\n          return ctx -&gt; Optional.empty():\n    }\n</code></pre>\n<p>What I would like to be able to do is to take this master accessor function and apply another function such that it will return a Function&lt;Context, Optional&gt; if, for example, I want to map it against Strings. If the particular name given actually would result in one of the field accessors that uses a Long, it would return an Optional.empty().</p>\n<p>So, what I am trying to figure out is how to make that type mapping method.</p>\n<p>I've tried to create a mapping method like this</p>\n<pre><code>public static Function&lt;Context, Optional&lt;String&gt;&gt; stringType(String name, Optional&lt;?&gt; value) {\n      switch (name) {\n      case &quot;reason&quot;:\n      case &quot;destination&quot;:\n      ...\n          return ctx -&gt; Optional.of((String) value.get());\n      default:\n          return ctx -&gt; Optional.empty();\n      }\n}\n</code></pre>\n<p>but then I'm not sure how to apply it to the master accessor function. Obviously, I'm still trying to understand this functional programming approach so I'm sure I'm failing to grasp something inherit to this, but that's why I'm here. Maybe this approach is wrong but my mandate here is that the masterAccessor method should not really change and I definitely shouldn't have different master accessors for each type (like a stringMasterAccessor and longMasterAccessor).</p>\n<p>Edit: I want to end up with a function that I can pass in to a method like the one below:</p>\n<pre><code>  public static Predicate&lt;Context&gt; stringEquals(\n      Function&lt;Context, Optional&lt;String&gt;&gt; accessor, String str) {\n    return predicate(accessor, val -&gt; str.equals(val));\n\n  public static &lt;T&gt; Predicate&lt;Context&gt; predicate(\n      Function&lt;Context, Optional&lt;T&gt;&gt; accessor, Predicate&lt;T&gt; predicate) {\n    return msg -&gt; accessor.apply(msg).map(v -&gt; predicate.test(v)).orElse(false);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","promise","vert.x","vertx-verticle","java-vertx-web"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1691329689,"post_id":76524119,"comment_id":135474118,"body_markdown":"you should be using `return` after each `promise.fail()`","body":"you should be using <code>return</code> after each <code>promise.fail()</code>"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687356799,"creation_date":1687356799,"answer_id":76524252,"question_id":76524119,"body_markdown":"Well, java executes each line of a method one by one until 1) `return` called 2) an exception is thrown 3) method ends.\r\n\r\nSince `promise.fail` just sets the failure to the promise it doesn&#39;t meet any of 3 conditions, so you program would be executed further. Though, you could easily test it by yourself.","title":"Do function execution continues after failing Promise in Java Vertx","body":"<p>Well, java executes each line of a method one by one until 1) <code>return</code> called 2) an exception is thrown 3) method ends.</p>\n<p>Since <code>promise.fail</code> just sets the failure to the promise it doesn't meet any of 3 conditions, so you program would be executed further. Though, you could easily test it by yourself.</p>\n"}],"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687356799,"creation_date":1687355907,"question_id":76524119,"body_markdown":"I have a function which I&#39;m trying to reduce complexity of. \r\n\r\n```\r\npublic Future&lt;JsonArray&gt; getAllCompanies() {\r\n\r\n\t\tString url = ...\r\n\r\n\t\treturn Future.future(\r\n\t\t\t\tpromise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\r\n\t\t\t\t.putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\r\n\t\t\t\t.basicAuthentication(username, password).send(ar -&gt; {\r\n\t\t\t\t\tif (ar.succeeded()) {\r\n\t\t\t\t\t\tHttpResponse&lt;Buffer&gt; response = ar.result();\r\n\t\t\t\t\t\tif (response.statusCode() == 200 || response.statusCode() == 201) {\r\n\t\t\t\t\t\t\tlogger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\r\n\t\t\t\t\t\t\tJsonObject json = null;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tjson = response.bodyAsJsonObject();\r\n\t\t\t\t\t\t\t} catch (DecodeException e) {\r\n\t\t\t\t\t\t\t\tlogger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\r\n\t\t\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\t\t\tpromise.fail(JSON_DECODE_FAILED);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (json != null) {\r\n\t\t\t\t\t\t\t\tJsonArray results = json.getJsonArray(RESULT);\r\n\r\n\t\t\t\t\t\t\t\tlogger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\r\n\t\t\t\t\t\t\t\tpromise.complete(results);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\r\n\t\t\t\t\t\t\t\t\tresponse.statusCode());\r\n\t\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\t\tpromise.fail(HTTP_STATUS_CODE_FAILURE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\r\n\t\t\t\t\t\tpromise.fail(HTTP_REQUEST_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t}\r\n```\r\n\r\nAnd I&#39;m doing it by bringing false conditions to the top and removing else block which brings down the nested code. \r\n\r\nThis is the updated code:\r\n\r\n```\r\npublic Future&lt;JsonArray&gt; getAllCompanies() {\r\n\r\n\t\tString url = ...\r\n\r\n\t\treturn Future.future(\r\n\t\t\t\tpromise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\r\n\t\t\t\t.putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\r\n\t\t\t\t.basicAuthentication(username, password).send(ar -&gt; {\r\n\t\t\t\t\tif (!ar.succeeded()) {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\r\n\t\t\t\t\t\tpromise.fail(HTTP_REQUEST_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tHttpResponse&lt;Buffer&gt; response = ar.result();\r\n\t\t\t\t\tif (response.statusCode() != 200 &amp;&amp; response.statusCode() != 201) {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\r\n\t\t\t\t\t\t\t\tresponse.statusCode());\r\n\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\tpromise.fail(HTTP_STATUS_CODE_FAILURE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlogger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\r\n\t\t\t\t\tJsonObject json = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tjson = response.bodyAsJsonObject();\r\n\t\t\t\t\t} catch (DecodeException e) {\r\n\t\t\t\t\t\tlogger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\r\n\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\tpromise.fail(JSON_DECODE_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (json != null) {\r\n\t\t\t\t\t\tJsonArray results = json.getJsonArray(RESULT);\r\n\r\n\t\t\t\t\t\tlogger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\r\n\t\t\t\t\t\tpromise.complete(results);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t}\r\n```\r\n\r\nIf the program comes inside the updated code&#39;s first if condition **!ar.succeeded()** and promise.fail is called **promise.fail(HTTP_REQUEST_FAILED);** Do program continues or just returns it? Because I have removed else block, I don&#39;t want it to continute, perhaps I use **return;** statement? I would like to know how **Vertx Future** and **promise** works!\r\n\r\n","title":"Do function execution continues after failing Promise in Java Vertx","body":"<p>I have a function which I'm trying to reduce complexity of.</p>\n<pre><code>public Future&lt;JsonArray&gt; getAllCompanies() {\n\n        String url = ...\n\n        return Future.future(\n                promise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\n                .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\n                .basicAuthentication(username, password).send(ar -&gt; {\n                    if (ar.succeeded()) {\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\n                        if (response.statusCode() == 200 || response.statusCode() == 201) {\n                            logger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\n                            JsonObject json = null;\n                            try {\n                                json = response.bodyAsJsonObject();\n                            } catch (DecodeException e) {\n                                logger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\n                                logger.error(response.bodyAsString());\n                                promise.fail(JSON_DECODE_FAILED);\n                            }\n                            if (json != null) {\n                                JsonArray results = json.getJsonArray(RESULT);\n\n                                logger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\n                                promise.complete(results);\n                            }\n                        } else {\n                            logger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\n                                    response.statusCode());\n                            logger.error(response.bodyAsString());\n                            promise.fail(HTTP_STATUS_CODE_FAILURE);\n                        }\n                    } else {\n                        logger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\n                        promise.fail(HTTP_REQUEST_FAILED);\n                    }\n                }));\n    }\n</code></pre>\n<p>And I'm doing it by bringing false conditions to the top and removing else block which brings down the nested code.</p>\n<p>This is the updated code:</p>\n<pre><code>public Future&lt;JsonArray&gt; getAllCompanies() {\n\n        String url = ...\n\n        return Future.future(\n                promise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\n                .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\n                .basicAuthentication(username, password).send(ar -&gt; {\n                    if (!ar.succeeded()) {\n                        logger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\n                        promise.fail(HTTP_REQUEST_FAILED);\n                    }\n                    HttpResponse&lt;Buffer&gt; response = ar.result();\n                    if (response.statusCode() != 200 &amp;&amp; response.statusCode() != 201) {\n                        logger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\n                                response.statusCode());\n                        logger.error(response.bodyAsString());\n                        promise.fail(HTTP_STATUS_CODE_FAILURE);\n                    }\n                    logger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\n                    JsonObject json = null;\n                    try {\n                        json = response.bodyAsJsonObject();\n                    } catch (DecodeException e) {\n                        logger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\n                        logger.error(response.bodyAsString());\n                        promise.fail(JSON_DECODE_FAILED);\n                    }\n                    if (json != null) {\n                        JsonArray results = json.getJsonArray(RESULT);\n\n                        logger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\n                        promise.complete(results);\n                    }\n                }));\n    }\n</code></pre>\n<p>If the program comes inside the updated code's first if condition <strong>!ar.succeeded()</strong> and promise.fail is called <strong>promise.fail(HTTP_REQUEST_FAILED);</strong> Do program continues or just returns it? Because I have removed else block, I don't want it to continute, perhaps I use <strong>return;</strong> statement? I would like to know how <strong>Vertx Future</strong> and <strong>promise</strong> works!</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687091884,"post_id":76499323,"comment_id":134885874,"body_markdown":"Are you sure that you are using real ad unit ids on production? Is `onAdImpression` called in `FullScreenContentCallback`?","body":"Are you sure that you are using real ad unit ids on production? Is <code>onAdImpression</code> called in <code>FullScreenContentCallback</code>?"},{"owner":{"account_id":28843161,"reputation":11,"user_id":22090831,"display_name":"Tanvi Verma"},"score":0,"creation_date":1687096264,"post_id":76499323,"comment_id":134886329,"body_markdown":"Yes..i am using original ad unit id ..in onAdinmpresion i am get log line.   Every time when  ad is shown on onAdImpression method is being called but ...no impression is recording in admob dash board","body":"Yes..i am using original ad unit id ..in onAdinmpresion i am get log line.   Every time when  ad is shown on onAdImpression method is being called but ...no impression is recording in admob dash board"}],"owner":{"account_id":28843161,"reputation":11,"user_id":22090831,"display_name":"Tanvi Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687356376,"creation_date":1687070280,"question_id":76499323,"body_markdown":"I have InterstitialManger class and  InterstailBackup class for showing inter ads in my app when Interstitial class ads failed to load ads then i am showing ads by InterstialBackup manger class in activities  , Ads are showing perfectly in the app but the problem is impression in not recording , suppose in-app ad is shown 100 times but is admob dashBoard impression count is  7 , 8 , 10 very less.\r\n\r\nHere are my codes \r\n\r\nInterstitialManger class :-- \r\n\r\nSame implementation for InterstialBackup\r\n\r\n\r\n```\r\npublic class InterstitialManager {\r\n  private static final String TAG = &quot;InterstitialManager&quot;;\r\n  public InterstitialAd interstitialAd;\r\n  private boolean adLoaded;\r\n  private String adUnitId;\r\n  InterstitialManagerBackup interstitialManagerBackup ;\r\n\r\n    public InterstitialManager(Context context, String adUnitId) {\r\n        this.adUnitId = adUnitId;\r\n        loadAd(context);\r\n    }\r\n\r\n private void loadAd(Context context) {\r\n     InterstitialAd.load(context, adUnitId, new AdRequest.Builder().build(),\r\n     new InterstitialAdLoadCallback() {\r\n      @Override\r\n      public void onAdLoaded(InterstitialAd ad) {\r\n       interstitialAd = ad;\r\n            adLoaded = true;\r\n                        interstitialManagerBackup = new InterstitialManagerBackup(context,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n                        Log.d(TAG, &quot;Interstitial ad loaded&quot;+interstitialAd.toString());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        super.onAdFailedToLoad(loadAdError);\r\n                        Log.d(TAG, &quot;Interstitial ad failed&quot;+loadAdError.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void showAd(Activity activity) {\r\n        if (adLoaded &amp;&amp; interstitialAd != null) {\r\n            interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                @Override\r\n                public void onAdImpression() {\r\n                    Log.d(TAG, &quot;Interstitial ad impression recorded&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void onAdDismissedFullScreenContent() {\r\n                   \r\n                    interstitialAd = null;\r\n                      loadAd(activity.getApplicationContext());     \r\n                    Log.d(TAG, &quot;Interstitial ad dismissed&quot;);\r\n                }\r\n            });\r\n            interstitialAd.show(activity);\r\n        } else {\r\n            Log.d(TAG, &quot;Interstitial ad not loaded yet. Loading now...&quot;);\r\n            loadAd(activity.getApplicationContext());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIn application class i am loading ad:-\r\n\r\n`\r\n```\r\n public class MyApplication extends Application {\r\n    private InterstitialManager interstitialManager;\r\n    private InterstitialManagerBackup interstitialManagerBackup;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        interstitialManager = new InterstitialManager(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n        interstitialManagerBackup = new InterstitialManagerBackup(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n\r\n    }\r\n\r\n    public InterstitialManager getInterstitialManager() {\r\n        return interstitialManager;\r\n    }\r\n\r\n    public InterstitialManagerBackup getInterstitialManagerBackup() {\r\n        return interstitialManagerBackup;\r\n    }\r\n}`\r\n```\r\n\r\n\r\nIn Activity showing ads like this:-\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n   ` private InterstitialManager interstitialManager;\r\n    Button showAdbutton,nextActButton;\r\n    private InterstitialManagerBackup interstitialManagerBackup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        showAdbutton = findViewById(R.id.btn_show_ad);\r\n        nextActButton = findViewById(R.id.second_act);\r\n\r\n\r\n\r\n        \r\n\r\n        MyApplication application = (MyApplication) getApplication();\r\n        interstitialManager = application.getInterstitialManager();\r\n        interstitialManagerBackup = application.getInterstitialManagerBackup();\r\n\r\n\r\n        showAdbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (interstitialManager.interstitialAd!= null){\r\n                    showInterstitialAd();\r\n                }else{\r\n                    showInterstitailBackup();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void showInterstitialAd() {\r\n        interstitialManager.showAd(this);\r\n    }\r\n    private  void showInterstitailBackup(){\r\n        interstitialManagerBackup.showAd(MainActivity.this);\r\n    }\r\n}\r\n\r\n```\r\nwhat is wrong in this implementation why ads impression is not recording\r\n\r\nI am tried to show ads with above classes, i want the correct ads impression that ads are shown in my app but the count is too low","title":"Admob Interstiial ads impressions are very less in Admob dashboard","body":"<p>I have InterstitialManger class and  InterstailBackup class for showing inter ads in my app when Interstitial class ads failed to load ads then i am showing ads by InterstialBackup manger class in activities  , Ads are showing perfectly in the app but the problem is impression in not recording , suppose in-app ad is shown 100 times but is admob dashBoard impression count is  7 , 8 , 10 very less.</p>\n<p>Here are my codes</p>\n<p>InterstitialManger class :--</p>\n<p>Same implementation for InterstialBackup</p>\n<pre><code>public class InterstitialManager {\n  private static final String TAG = &quot;InterstitialManager&quot;;\n  public InterstitialAd interstitialAd;\n  private boolean adLoaded;\n  private String adUnitId;\n  InterstitialManagerBackup interstitialManagerBackup ;\n\n    public InterstitialManager(Context context, String adUnitId) {\n        this.adUnitId = adUnitId;\n        loadAd(context);\n    }\n\n private void loadAd(Context context) {\n     InterstitialAd.load(context, adUnitId, new AdRequest.Builder().build(),\n     new InterstitialAdLoadCallback() {\n      @Override\n      public void onAdLoaded(InterstitialAd ad) {\n       interstitialAd = ad;\n            adLoaded = true;\n                        interstitialManagerBackup = new InterstitialManagerBackup(context,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\n                        Log.d(TAG, &quot;Interstitial ad loaded&quot;+interstitialAd.toString());\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        super.onAdFailedToLoad(loadAdError);\n                        Log.d(TAG, &quot;Interstitial ad failed&quot;+loadAdError.getMessage());\n                    }\n                });\n    }\n\n    public void showAd(Activity activity) {\n        if (adLoaded &amp;&amp; interstitialAd != null) {\n            interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                @Override\n                public void onAdImpression() {\n                    Log.d(TAG, &quot;Interstitial ad impression recorded&quot;);\n                }\n\n                @Override\n                public void onAdDismissedFullScreenContent() {\n                   \n                    interstitialAd = null;\n                      loadAd(activity.getApplicationContext());     \n                    Log.d(TAG, &quot;Interstitial ad dismissed&quot;);\n                }\n            });\n            interstitialAd.show(activity);\n        } else {\n            Log.d(TAG, &quot;Interstitial ad not loaded yet. Loading now...&quot;);\n            loadAd(activity.getApplicationContext());\n        }\n    }\n}\n</code></pre>\n<p>In application class i am loading ad:-</p>\n<p>`</p>\n<pre><code> public class MyApplication extends Application {\n    private InterstitialManager interstitialManager;\n    private InterstitialManagerBackup interstitialManagerBackup;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        interstitialManager = new InterstitialManager(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;);\n        interstitialManagerBackup = new InterstitialManagerBackup(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\n\n    }\n\n    public InterstitialManager getInterstitialManager() {\n        return interstitialManager;\n    }\n\n    public InterstitialManagerBackup getInterstitialManagerBackup() {\n        return interstitialManagerBackup;\n    }\n}`\n</code></pre>\n<p>In Activity showing ads like this:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n   ` private InterstitialManager interstitialManager;\n    Button showAdbutton,nextActButton;\n    private InterstitialManagerBackup interstitialManagerBackup;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        showAdbutton = findViewById(R.id.btn_show_ad);\n        nextActButton = findViewById(R.id.second_act);\n\n\n\n        \n\n        MyApplication application = (MyApplication) getApplication();\n        interstitialManager = application.getInterstitialManager();\n        interstitialManagerBackup = application.getInterstitialManagerBackup();\n\n\n        showAdbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (interstitialManager.interstitialAd!= null){\n                    showInterstitialAd();\n                }else{\n                    showInterstitailBackup();\n                }\n\n            }\n        });\n\n\n    }\n\n    private void showInterstitialAd() {\n        interstitialManager.showAd(this);\n    }\n    private  void showInterstitailBackup(){\n        interstitialManagerBackup.showAd(MainActivity.this);\n    }\n}\n\n</code></pre>\n<p>what is wrong in this implementation why ads impression is not recording</p>\n<p>I am tried to show ads with above classes, i want the correct ads impression that ads are shown in my app but the count is too low</p>\n"},{"tags":["java","authentication","oauth-2.0","authorization","microservices"],"answers":[{"tags":[],"owner":{"account_id":3528543,"reputation":1924,"user_id":2948891,"display_name":"taleodor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196019,"creation_date":1687196019,"answer_id":76508916,"question_id":76507865,"body_markdown":"`.permitAll()` means permit any role, but you still put `authenticated()` - which means that the user has to be authenticated via Keycloak (in your case) to access.\r\n\r\nWhat you probably want instead is something along these lines (I haven&#39;t tested but hopefully shows the idea - that you need a separate block without `authenticated()`:\r\n\r\n```\r\nhttp.authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest().authenticated())\r\n.and()\r\n\t  \t.authorizeHttpRequests()\r\n\t  \t\t           .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n.and()\r\n        .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n```","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p><code>.permitAll()</code> means permit any role, but you still put <code>authenticated()</code> - which means that the user has to be authenticated via Keycloak (in your case) to access.</p>\n<p>What you probably want instead is something along these lines (I haven't tested but hopefully shows the idea - that you need a separate block without <code>authenticated()</code>:</p>\n<pre><code>http.authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest().authenticated())\n.and()\n        .authorizeHttpRequests()\n                       .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n.and()\n        .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687355726,"creation_date":1687355726,"answer_id":76524088,"question_id":76507865,"body_markdown":"Here is how I solved the issue, thanks to the help from @taleodor.  It wasn’t related to anything interfering with the requests — simply poor design on my end.\r\n\r\nI simply had to modify the security configuration in my API Gateway to pwrmit all requests to my micro-service like below:\r\n\r\n```\r\n   @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\r\n        security.csrf().disable()\r\n                .authorizeExchange(exchange -&gt; exchange\r\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\r\n                        .pathMatchers(&quot;/user-service/v0.1-dev/**&quot;).permitAll()\r\n                        .anyExchange().authenticated());\r\n\r\n        return security.build();\r\n    }\r\n   ```\r\n\r\nThen in the micro-service, the configuration somewhat stayed the same:\r\n```\r\n\r\n@Bean\r\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/auth/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/auth/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest()\r\n                        .authenticated());\r\n\r\n        http.oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThis [article](https://www.solutelabs.com/blog/authentication-and-authorization-in-microservices#:~:text=An%20API%20gateway%20should%20be,microservices%20specific%20to%20the%20application) also helped me solve the issue. This can be a subjective topic, but to summarize it, authentication checks should be done at the API Gateway level and the authorization checks should be done at the micro-service level. ","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p>Here is how I solved the issue, thanks to the help from @taleodor.  It wasn’t related to anything interfering with the requests — simply poor design on my end.</p>\n<p>I simply had to modify the security configuration in my API Gateway to pwrmit all requests to my micro-service like below:</p>\n<pre><code>   @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\n        security.csrf().disable()\n                .authorizeExchange(exchange -&gt; exchange\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\n                        .pathMatchers(&quot;/user-service/v0.1-dev/**&quot;).permitAll()\n                        .anyExchange().authenticated());\n\n        return security.build();\n    }\n</code></pre>\n<p>Then in the micro-service, the configuration somewhat stayed the same:</p>\n<pre><code>\n@Bean\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n                        .requestMatchers(&quot;/auth/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/auth/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest()\n                        .authenticated());\n\n        http.oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>This <a href=\"https://www.solutelabs.com/blog/authentication-and-authorization-in-microservices#:%7E:text=An%20API%20gateway%20should%20be,microservices%20specific%20to%20the%20application\" rel=\"nofollow noreferrer\">article</a> also helped me solve the issue. This can be a subjective topic, but to summarize it, authentication checks should be done at the API Gateway level and the authorization checks should be done at the micro-service level.</p>\n"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687355726,"creation_date":1687186831,"question_id":76507865,"body_markdown":"As the title states, I am facing issues allowing access to what should be publicly accessible endpoints in my microservices architecture. I am using Keycloak for role-based authentication, which works great, except when accessing public endpoints, I keep running into a ```401 Unauthorized``` error, despite using the ```.permitAll()``` method in my ```SecurityFilterChain``` Bean.\r\n\r\nIt is important to note that I am also using the Spring Clouds API gateway to route incoming requests to the load-balanced microservice.\r\n\r\nThe code and configuration classes are pasted below, but this is what I have been trying for the last few days to solve the issue. \r\n\r\n1. I initially implemented the authentication at the API gateway level. However, no matter what I tried, I kept getting the 401 status when accessing the endpoints from my microservice, which led to solution attempt 2.\r\n\r\n2. I implemented the authentication at the microservice level instead, and the role-based authentication worked, but accessing the public endpoints was still an issue.\r\n\r\n3. I tried disabling CSRF in my microservice ```SecurityFilterChain``` Bean, but it also didn&#39;t change anything.\r\n\r\n4. At the moment, I completely removed the public endpoints from the ```SecurityFilterChain``` Bean in my microservice. Instead, I added the public endpoint at the API gateway level in the ```SecurityWebFilterChain``` Bean, which also did not work.\r\n\r\n5. As a last resort, I added the ```PermitAll``` annotation from the ```javax.annotation.security``` package to my endpoints in my ```PublicUserController``` (the controller class for all publically available endpoints) which did not work.\r\n\r\n\r\nOther than tutorials, this is the first time I am implementing something like this on my own so it is still fairly new and I am not sure where to go from here. Any guidance towards the right direction on the issue would be greatly appreciated. I&#39;m happy to clarify anything or add any additional code if needed. Any help/guidance is greatly appreciated.\r\n\r\n# User Service #\r\n#### SecurityConfiguration ####\r\n**Note:** the path I am trying to make public is ```/public/users/**```. It should accept HttpMethod.PUT, HttpMethod.DELETE, and HttpMethod.POST.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfiguration {\r\n\r\n    private final AuthenticationConverter authenticationConverter;\r\n\r\n    @Autowired\r\n    public SecurityConfiguration(AuthenticationConverter authenticationConverter) {\r\n        this.authenticationConverter = authenticationConverter;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest().authenticated())\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n# Api Gateway #\r\n#### UserServiceRouteConfiguration ####\r\n```\r\n@Configuration\r\npublic class UserServiceRouteConfiguration {\r\n\r\n    private final String API_VERSION = &quot;v0.1-dev&quot;;\r\n\r\n    @Bean\r\n    public RouteLocator userServiceRouteLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/subscribers/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/admins/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/public/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n#### SecurityConfiguration ####\r\n**Note:** this is is where I first started implementing the role-based auth, but wasn&#39;t working as mentioned above.\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\r\n        return security.csrf().disable()\r\n                .authorizeExchange(exchange -&gt; exchange\r\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\r\n                        .anyExchange().authenticated())\r\n                .oauth2ResourceServer(ServerHttpSecurity.OAuth2ResourceServerSpec::jwt)\r\n                .build();\r\n    }\r\n}\r\n```","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p>As the title states, I am facing issues allowing access to what should be publicly accessible endpoints in my microservices architecture. I am using Keycloak for role-based authentication, which works great, except when accessing public endpoints, I keep running into a <code>401 Unauthorized</code> error, despite using the <code>.permitAll()</code> method in my <code>SecurityFilterChain</code> Bean.</p>\n<p>It is important to note that I am also using the Spring Clouds API gateway to route incoming requests to the load-balanced microservice.</p>\n<p>The code and configuration classes are pasted below, but this is what I have been trying for the last few days to solve the issue.</p>\n<ol>\n<li><p>I initially implemented the authentication at the API gateway level. However, no matter what I tried, I kept getting the 401 status when accessing the endpoints from my microservice, which led to solution attempt 2.</p>\n</li>\n<li><p>I implemented the authentication at the microservice level instead, and the role-based authentication worked, but accessing the public endpoints was still an issue.</p>\n</li>\n<li><p>I tried disabling CSRF in my microservice <code>SecurityFilterChain</code> Bean, but it also didn't change anything.</p>\n</li>\n<li><p>At the moment, I completely removed the public endpoints from the <code>SecurityFilterChain</code> Bean in my microservice. Instead, I added the public endpoint at the API gateway level in the <code>SecurityWebFilterChain</code> Bean, which also did not work.</p>\n</li>\n<li><p>As a last resort, I added the <code>PermitAll</code> annotation from the <code>javax.annotation.security</code> package to my endpoints in my <code>PublicUserController</code> (the controller class for all publically available endpoints) which did not work.</p>\n</li>\n</ol>\n<p>Other than tutorials, this is the first time I am implementing something like this on my own so it is still fairly new and I am not sure where to go from here. Any guidance towards the right direction on the issue would be greatly appreciated. I'm happy to clarify anything or add any additional code if needed. Any help/guidance is greatly appreciated.</p>\n<h1>User Service</h1>\n<h4>SecurityConfiguration</h4>\n<p><strong>Note:</strong> the path I am trying to make public is <code>/public/users/**</code>. It should accept HttpMethod.PUT, HttpMethod.DELETE, and HttpMethod.POST.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration {\n\n    private final AuthenticationConverter authenticationConverter;\n\n    @Autowired\n    public SecurityConfiguration(AuthenticationConverter authenticationConverter) {\n        this.authenticationConverter = authenticationConverter;\n    }\n\n    @Bean\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest().authenticated())\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n\n        return http.build();\n    }\n}\n</code></pre>\n<h1>Api Gateway</h1>\n<h4>UserServiceRouteConfiguration</h4>\n<pre><code>@Configuration\npublic class UserServiceRouteConfiguration {\n\n    private final String API_VERSION = &quot;v0.1-dev&quot;;\n\n    @Bean\n    public RouteLocator userServiceRouteLocator(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/subscribers/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/admins/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/public/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .build();\n    }\n}\n</code></pre>\n<h4>SecurityConfiguration</h4>\n<p><strong>Note:</strong> this is is where I first started implementing the role-based auth, but wasn't working as mentioned above.</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\n        return security.csrf().disable()\n                .authorizeExchange(exchange -&gt; exchange\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\n                        .anyExchange().authenticated())\n                .oauth2ResourceServer(ServerHttpSecurity.OAuth2ResourceServerSpec::jwt)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","hbase","crud","hbase-shell"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687355609,"creation_date":1687355609,"answer_id":76524074,"question_id":73627474,"body_markdown":"As far as I understand this HBase behaviour and the HBase concepts that lead to it, the main problem is the Long.MAX_VALUE is a special value, that will be changed to the current time on the server side. \r\n\r\nBy design, Long.MAX_VALUE should not be used as a timestamp for any row, but HBase does not provide any protection to avoid it.\r\n\r\nIf you discover HBase client code, e.g. [Put][1], you can see using HConstants.LATEST_TIMESTAMP as the default timestamp for every put. Which means that the server should use the current timestamp.\r\n\r\n      public Put(byte [] row) {\r\n        this(row, HConstants.LATEST_TIMESTAMP);\r\n      }\r\n\r\nAlso, you can read [this comment][2] for LATEST_TIMESTAMP constant with a detailed description of deleting rows.\r\n\r\nThe solution provided in the mailing-archive is based on manually rewriting HFile with the delete marker for the desired row. Also, it contains a gist with an example of code: https://www.mail-archive.com/user@hbase.apache.org/msg44615.html\r\n\r\n  [1]: https://github.com/apache/hbase/blob/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java#L51\r\n  [2]: https://github.com/apache/hbase/blame/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java#L644","title":"Not able to delete a Row which has a timestamp Long.MAX_VALUE from Hbase","body":"<p>As far as I understand this HBase behaviour and the HBase concepts that lead to it, the main problem is the Long.MAX_VALUE is a special value, that will be changed to the current time on the server side.</p>\n<p>By design, Long.MAX_VALUE should not be used as a timestamp for any row, but HBase does not provide any protection to avoid it.</p>\n<p>If you discover HBase client code, e.g. <a href=\"https://github.com/apache/hbase/blob/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java#L51\" rel=\"nofollow noreferrer\">Put</a>, you can see using HConstants.LATEST_TIMESTAMP as the default timestamp for every put. Which means that the server should use the current timestamp.</p>\n<pre><code>  public Put(byte [] row) {\n    this(row, HConstants.LATEST_TIMESTAMP);\n  }\n</code></pre>\n<p>Also, you can read <a href=\"https://github.com/apache/hbase/blame/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java#L644\" rel=\"nofollow noreferrer\">this comment</a> for LATEST_TIMESTAMP constant with a detailed description of deleting rows.</p>\n<p>The solution provided in the mailing-archive is based on manually rewriting HFile with the delete marker for the desired row. Also, it contains a gist with an example of code: <a href=\"https://www.mail-archive.com/user@hbase.apache.org/msg44615.html\" rel=\"nofollow noreferrer\">https://www.mail-archive.com/user@hbase.apache.org/msg44615.html</a></p>\n"}],"owner":{"account_id":15385820,"reputation":912,"user_id":11099895,"display_name":"Shashank Gb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76524074,"answer_count":1,"score":1,"last_activity_date":1687355609,"creation_date":1662496224,"question_id":73627474,"body_markdown":"Somehow I ended up adding a row to `Hbase` with timestamp as `Long.MAX_VALUE`. Now Either not able to `put` with less than that `Long.MAX_VALUE` to the same `key` or `delete` that inserted row.\r\n\r\n**What cause this issue**\r\n\r\nOnce I succesfully added this row (For some curiosity). Is it bad to add a `timestamp` value like this?\r\n```\r\nmm21000000000:422021000000000     column=s:fe:k, timestamp=9223370481975138807, value=m21000000000\r\nmm21000000000:422021000000000     column=s:fe:m21000000000, timestamp=9223370481975138807, value=\\x01\r\n```\r\nNow, If I try to add one more column to same row like this without `timestamp` or less than the `timestamp` as `&lt; Long.MAX_VALUE`, it won&#39;t working. Of course If I add a new `row` with diff `key` it works.\r\n```\r\nput &#39;ue_combo&#39;,&#39;mm21000000000:422021000000000&#39;,&#39;s:le:k&#39;,&#39;3422021000000000&#39; // I&#39;ll be adding this via JAVA\r\n//Briefly\r\nput.addColumn(&quot;s&quot;.getBytes(), &quot;le:k&quot;.getBytes(), ts, &quot;3422021000000000&quot;.getBytes()); //ts is timestamp\r\n```\r\nFinally decided to get rid of that row and tried deleting that row using `key` value and also used `ROWPREFIXFILTER` as shown below\r\n```\r\ndeleteall &#39;table_name&#39;, &#39;mm21000000000:422021000000000&#39;\r\ndeleteall &#39;table_name&#39;, {ROWPREFIXFILTER =&gt; &#39;mm&#39;}\r\n```\r\n**Not at all deleting**\r\n\r\nSolution via shell command or through Hbase APIs via `JAVA` codebase will help. Also able to figure the issue but not able to understand it thoroughly. Is `Hbase` understanding that the row added with `timestamp` as `Long.MAX_VALUE` will be added in future time? `Hbase` only allow in increasing ordered `timestamp` then meaning once a maxed `timestamp` is stored less than that `timestamp` cannot be inserted?\r\n\r\nI found this [mail-archive](https://www.mail-archive.com/user@hbase.apache.org/msg44599.html), didn&#39;t understood much but I think he tries to overriding the `Hbase` code. That&#39;s not possible in my case.\r\n\r\nIf you need anything extra, please mention in the comment","title":"Not able to delete a Row which has a timestamp Long.MAX_VALUE from Hbase","body":"<p>Somehow I ended up adding a row to <code>Hbase</code> with timestamp as <code>Long.MAX_VALUE</code>. Now Either not able to <code>put</code> with less than that <code>Long.MAX_VALUE</code> to the same <code>key</code> or <code>delete</code> that inserted row.</p>\n<p><strong>What cause this issue</strong></p>\n<p>Once I succesfully added this row (For some curiosity). Is it bad to add a <code>timestamp</code> value like this?</p>\n<pre><code>mm21000000000:422021000000000     column=s:fe:k, timestamp=9223370481975138807, value=m21000000000\nmm21000000000:422021000000000     column=s:fe:m21000000000, timestamp=9223370481975138807, value=\\x01\n</code></pre>\n<p>Now, If I try to add one more column to same row like this without <code>timestamp</code> or less than the <code>timestamp</code> as <code>&lt; Long.MAX_VALUE</code>, it won't working. Of course If I add a new <code>row</code> with diff <code>key</code> it works.</p>\n<pre><code>put 'ue_combo','mm21000000000:422021000000000','s:le:k','3422021000000000' // I'll be adding this via JAVA\n//Briefly\nput.addColumn(&quot;s&quot;.getBytes(), &quot;le:k&quot;.getBytes(), ts, &quot;3422021000000000&quot;.getBytes()); //ts is timestamp\n</code></pre>\n<p>Finally decided to get rid of that row and tried deleting that row using <code>key</code> value and also used <code>ROWPREFIXFILTER</code> as shown below</p>\n<pre><code>deleteall 'table_name', 'mm21000000000:422021000000000'\ndeleteall 'table_name', {ROWPREFIXFILTER =&gt; 'mm'}\n</code></pre>\n<p><strong>Not at all deleting</strong></p>\n<p>Solution via shell command or through Hbase APIs via <code>JAVA</code> codebase will help. Also able to figure the issue but not able to understand it thoroughly. Is <code>Hbase</code> understanding that the row added with <code>timestamp</code> as <code>Long.MAX_VALUE</code> will be added in future time? <code>Hbase</code> only allow in increasing ordered <code>timestamp</code> then meaning once a maxed <code>timestamp</code> is stored less than that <code>timestamp</code> cannot be inserted?</p>\n<p>I found this <a href=\"https://www.mail-archive.com/user@hbase.apache.org/msg44599.html\" rel=\"nofollow noreferrer\">mail-archive</a>, didn't understood much but I think he tries to overriding the <code>Hbase</code> code. That's not possible in my case.</p>\n<p>If you need anything extra, please mention in the comment</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1687360714,"post_id":76524067,"comment_id":134926767,"body_markdown":"have you tried `newLineAtOffset()` ? Try twice the font size as Y offset.","body":"have you tried <code>newLineAtOffset()</code> ? Try twice the font size as Y offset."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687361920,"post_id":76524067,"comment_id":134927056,"body_markdown":"`showText` renders from left to right, correct, but it does nothing vertically, it neither goes from bottom to top nor from top to bottom. If you experience a bottom-to-top writing order in your code, some other part of your code causes that. Unfortunately you don&#39;t show your pivotal code. Thus, we cannot tell how to change that direction.","body":"<code>showText</code> renders from left to right, correct, but it does nothing vertically, it neither goes from bottom to top nor from top to bottom. If you experience a bottom-to-top writing order in your code, some other part of your code causes that. Unfortunately you don&#39;t show your pivotal code. Thus, we cannot tell how to change that direction."}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687355547,"creation_date":1687355547,"question_id":76524067,"body_markdown":"It is to my understanding that, when within a text block, the showText() method of PDFBox renders the text from left to right and from down to up.\r\n\r\nIs there a way to change that? I&#39;m implementing a functionality that renders multiple lines of text of different font sizes so when writing one line I do not know the height of the line that will come below and it is causing me problems because they overlap. \r\n\r\nIt would be useful if I can just write some text, set the new current position to the bottom of the written text and write some more text starting from there but rendering it up to down instead of down to up.\r\n","title":"How to change text rendering direction in PDFBox 2.0.27","body":"<p>It is to my understanding that, when within a text block, the showText() method of PDFBox renders the text from left to right and from down to up.</p>\n<p>Is there a way to change that? I'm implementing a functionality that renders multiple lines of text of different font sizes so when writing one line I do not know the height of the line that will come below and it is causing me problems because they overlap.</p>\n<p>It would be useful if I can just write some text, set the new current position to the bottom of the written text and write some more text starting from there but rendering it up to down instead of down to up.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1687353680,"post_id":76523427,"comment_id":134924841,"body_markdown":"Tested the same code on `jdk1.8.0_341` and there was no problem, reached 21k.","body":"Tested the same code on <code>jdk1.8.0_341</code> and there was no problem, reached 21k."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687353851,"post_id":76523427,"comment_id":134924887,"body_markdown":"@MissChanandlerBong That&#39;s a pretty out of date platform to test on.","body":"@MissChanandlerBong That&#39;s a pretty out of date platform to test on."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687354148,"post_id":76523427,"comment_id":134924968,"body_markdown":"You are running into the &quot;premature garbage collection&quot; problem. See linked Q&amp;A. You can test this by adding `mainPane.setOnMouseClicked(e -&gt; System.gc());`. Then clicking on the pane (not the circle) will cause the binding to stop working immediately. Fix it by making the binding an instance variable (so a reference to it is retained).","body":"You are running into the &quot;premature garbage collection&quot; problem. See linked Q&amp;A. You can test this by adding <code>mainPane.setOnMouseClicked(e -&gt; System.gc());</code>. Then clicking on the pane (not the circle) will cause the binding to stop working immediately. Fix it by making the binding an instance variable (so a reference to it is retained)."}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1687353974,"answer_count":0,"score":1,"last_activity_date":1687354577,"creation_date":1687351418,"question_id":76523427,"body_markdown":"This question is a follow-up of [this one][1].\r\n\r\nThe following code draws a `Circle` in an `AnchorPane`. The `Circle` is initialized with `centerX=centerY=radius=50`. When dragging mouse on the `Circle`, the `Circle` moves on the `AnchorPane`, such that its center coordinates remains at a constant position with respect to cursor position. \r\n```\r\nimport javafx.application.Application;\r\nimport javafx.beans.Observable;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.DoubleBinding;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    private final AnchorPane mainPane=new AnchorPane();\r\n\r\n    double x=0,y=0;\r\n    double tx =0, ty =0;\r\n\r\n    int i=0;\r\n\r\n    // create list with an extractor:\r\n    ObservableList&lt;Circle&gt; circles =FXCollections.observableArrayList(circle1 -&gt; new Observable[]{circle1.centerXProperty()});\r\n\r\n    Circle circle = new Circle(50,50,50);\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        \r\n        // Set up stage for show!\r\n        Scene scene = new Scene(mainPane, 1200, 800);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        // set fill color.\r\n        circle.setFill(new Color(1, 0, 0, 0.5));\r\n\r\n        // set up onMousePressed listener.\r\n        circle.setOnMousePressed(mouseEvent -&gt; {\r\n            x=mouseEvent.getX();\r\n            y=mouseEvent.getY();\r\n        });\r\n\r\n        // set up onMouseDragged listener.\r\n        circle.setOnMouseDragged(mouseEvent -&gt; {\r\n            tx=x;\r\n            ty=y;\r\n            x=mouseEvent.getX();\r\n            y=mouseEvent.getY();\r\n            circle.setCenterX(circle.getCenterX()+x-tx);\r\n            circle.setCenterY(circle.getCenterY()+y-ty);\r\n            i++;\r\n        });\r\n\r\n        // add rectangle pane children.\r\n        mainPane.getChildren().addAll(circle);\r\n\r\n        // add rectangle to rectangles.\r\n        circles.add(circle);\r\n\r\n        DoubleBinding centerX = Bindings.createDoubleBinding(\r\n                () -&gt; circles\r\n                        .stream()\r\n                        .mapToDouble(Circle::getCenterX)\r\n                        .min()\r\n                        .orElse(0),\r\n                circles\r\n        );\r\n\r\n        centerX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;center X changed from &quot; + oldMin + &quot; to &quot; + newMin+&quot; , i = &quot;+i));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nA custom `DoubleBinding centerX` tracks the changes in the centerX of the Circle and prints the following message on console:\r\n\r\n`Min X changed from 50.0 to 58.0 , i = 0`\r\n\r\nwhere `i` is an index [the numbers are arbitrary and may change]. \r\n\r\nThis message printing continues well up to approximately `i=7000` and then stops. I would appreciate if someone gives me a hint as to why this happens and how to fix it. Thanks.\r\n\r\n**Addendum**\r\n\r\nThe reason that I captured the `min()` of all `Circle` instances of circles is that I may have more than a `Circle` and I wish to capture the minimum position of the `centerX` values of these `Circle`s. I included only one `Circle` instance in this example for simplicity.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76507114/minimum-of-a-stream-of-doubleproperty-as-a-doubleproperty","title":"Peculiar behavior in custom DoubleBinding (JavaFX)","body":"<p>This question is a follow-up of <a href=\"https://stackoverflow.com/questions/76507114/minimum-of-a-stream-of-doubleproperty-as-a-doubleproperty\">this one</a>.</p>\n<p>The following code draws a <code>Circle</code> in an <code>AnchorPane</code>. The <code>Circle</code> is initialized with <code>centerX=centerY=radius=50</code>. When dragging mouse on the <code>Circle</code>, the <code>Circle</code> moves on the <code>AnchorPane</code>, such that its center coordinates remains at a constant position with respect to cursor position.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.Observable;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.DoubleBinding;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    private final AnchorPane mainPane=new AnchorPane();\n\n    double x=0,y=0;\n    double tx =0, ty =0;\n\n    int i=0;\n\n    // create list with an extractor:\n    ObservableList&lt;Circle&gt; circles =FXCollections.observableArrayList(circle1 -&gt; new Observable[]{circle1.centerXProperty()});\n\n    Circle circle = new Circle(50,50,50);\n\n    @Override\n    public void start(Stage stage) {\n        \n        // Set up stage for show!\n        Scene scene = new Scene(mainPane, 1200, 800);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n        // set fill color.\n        circle.setFill(new Color(1, 0, 0, 0.5));\n\n        // set up onMousePressed listener.\n        circle.setOnMousePressed(mouseEvent -&gt; {\n            x=mouseEvent.getX();\n            y=mouseEvent.getY();\n        });\n\n        // set up onMouseDragged listener.\n        circle.setOnMouseDragged(mouseEvent -&gt; {\n            tx=x;\n            ty=y;\n            x=mouseEvent.getX();\n            y=mouseEvent.getY();\n            circle.setCenterX(circle.getCenterX()+x-tx);\n            circle.setCenterY(circle.getCenterY()+y-ty);\n            i++;\n        });\n\n        // add rectangle pane children.\n        mainPane.getChildren().addAll(circle);\n\n        // add rectangle to rectangles.\n        circles.add(circle);\n\n        DoubleBinding centerX = Bindings.createDoubleBinding(\n                () -&gt; circles\n                        .stream()\n                        .mapToDouble(Circle::getCenterX)\n                        .min()\n                        .orElse(0),\n                circles\n        );\n\n        centerX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;center X changed from &quot; + oldMin + &quot; to &quot; + newMin+&quot; , i = &quot;+i));\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>A custom <code>DoubleBinding centerX</code> tracks the changes in the centerX of the Circle and prints the following message on console:</p>\n<p><code>Min X changed from 50.0 to 58.0 , i = 0</code></p>\n<p>where <code>i</code> is an index [the numbers are arbitrary and may change].</p>\n<p>This message printing continues well up to approximately <code>i=7000</code> and then stops. I would appreciate if someone gives me a hint as to why this happens and how to fix it. Thanks.</p>\n<p><strong>Addendum</strong></p>\n<p>The reason that I captured the <code>min()</code> of all <code>Circle</code> instances of circles is that I may have more than a <code>Circle</code> and I wish to capture the minimum position of the <code>centerX</code> values of these <code>Circle</code>s. I included only one <code>Circle</code> instance in this example for simplicity.</p>\n"},{"tags":["java","tomcat","memory","cloud","openshift"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1687059409,"post_id":76497957,"comment_id":134883206,"body_markdown":"Are you expecting the JVM to release memory back to the OS? I&#39;ve never seen that happen, and rightly so: you just configure what it is allowed to consume (max)","body":"Are you expecting the JVM to release memory back to the OS? I&#39;ve never seen that happen, and rightly so: you just configure what it is allowed to consume (max)"},{"owner":{"account_id":11311436,"reputation":133,"user_id":8294431,"display_name":"Shivam Sharma"},"score":0,"creation_date":1687078020,"post_id":76497957,"comment_id":134884444,"body_markdown":"If memory is not given back then HPA will never scale down the pods, because it has some threshold for it. \nHow can I achieve it then ? if memory doesn&#39;t release","body":"If memory is not given back then HPA will never scale down the pods, because it has some threshold for it.  How can I achieve it then ? if memory doesn&#39;t release"}],"answers":[{"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687354500,"creation_date":1687354500,"answer_id":76523884,"question_id":76497957,"body_markdown":"This is the way that the Java JVM works: it never releases memory. And, assuming a modern JVM, it will generally just allocate as much memory as available in the container on startup. There are a bunch of reasons for this, but the gist of it is that the JVM is doing its own memory management and memory garbage collection so it needs to have as big of a pool of memory available as it can.\r\n\r\nAs such, memory usually isn&#39;t the best option for autoscaling Java applications. Typically you will want to autoscale based on CPU and just set the amount of memory for each pod based on load testing (and generally set memory request to the same amount as memory limit). e.g. If I have a CPU request size of 2000 mCPU, I&#39;ll do performance benchmarking on a 2000 mCPU container and gradually reduce the available memory until I notice a degradation in performance or unacceptable GC. That then establishes my pod resources and I can use HPA to scale up and down based on CPU. \r\n\r\nStandard disclaimers apply: performance tuning is a very application specific thing. But autoscaling Java based applications on memory usage isn&#39;t going to work effectively.","title":"Open shift Pod Memory is not releasing for Java tomcat application | No Memory Leak in application","body":"<p>This is the way that the Java JVM works: it never releases memory. And, assuming a modern JVM, it will generally just allocate as much memory as available in the container on startup. There are a bunch of reasons for this, but the gist of it is that the JVM is doing its own memory management and memory garbage collection so it needs to have as big of a pool of memory available as it can.</p>\n<p>As such, memory usually isn't the best option for autoscaling Java applications. Typically you will want to autoscale based on CPU and just set the amount of memory for each pod based on load testing (and generally set memory request to the same amount as memory limit). e.g. If I have a CPU request size of 2000 mCPU, I'll do performance benchmarking on a 2000 mCPU container and gradually reduce the available memory until I notice a degradation in performance or unacceptable GC. That then establishes my pod resources and I can use HPA to scale up and down based on CPU.</p>\n<p>Standard disclaimers apply: performance tuning is a very application specific thing. But autoscaling Java based applications on memory usage isn't going to work effectively.</p>\n"}],"owner":{"account_id":11311436,"reputation":133,"user_id":8294431,"display_name":"Shivam Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76523884,"answer_count":1,"score":0,"last_activity_date":1687354500,"creation_date":1687032228,"question_id":76497957,"body_markdown":"I have a java tomcat application deployed on open shift environment and I have observed pod memory is not releasing even after the load has stopped (No Traffic). I have waited till 1 day but still,  memory not released due to which pods are never scaling down. In HPA properties also, utilized memory is above 80%.\r\n\r\n**I have already analyzed the heap dump of application and there is no memory leak at all, also never observed any out of memory error/exception.**\r\n\r\nTried using below JVM props which I found on open shift blog (given below) but still the problem is not resolved.\r\nhttps://cloud.redhat.com/blog/scaling-java-containers\r\n\r\n**About Application**   \r\nIt&#39;s bit of traditional application (Advance Java &amp; Servlets) built in monolithic architecture and using tomcat 8 as a application server.\r\n\r\n\r\n*It&#39;d be really helpful if anyone can help or share their expertise in scaling java application on open shift.*\r\n ","title":"Open shift Pod Memory is not releasing for Java tomcat application | No Memory Leak in application","body":"<p>I have a java tomcat application deployed on open shift environment and I have observed pod memory is not releasing even after the load has stopped (No Traffic). I have waited till 1 day but still,  memory not released due to which pods are never scaling down. In HPA properties also, utilized memory is above 80%.</p>\n<p><strong>I have already analyzed the heap dump of application and there is no memory leak at all, also never observed any out of memory error/exception.</strong></p>\n<p>Tried using below JVM props which I found on open shift blog (given below) but still the problem is not resolved.\n<a href=\"https://cloud.redhat.com/blog/scaling-java-containers\" rel=\"nofollow noreferrer\">https://cloud.redhat.com/blog/scaling-java-containers</a></p>\n<p><strong>About Application</strong><br />\nIt's bit of traditional application (Advance Java &amp; Servlets) built in monolithic architecture and using tomcat 8 as a application server.</p>\n<p><em>It'd be really helpful if anyone can help or share their expertise in scaling java application on open shift.</em></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686918897,"post_id":76489930,"comment_id":134868294,"body_markdown":"You control the repeats by acking (commit the offset), or otherwise manually seeking the consumer forward","body":"You control the repeats by acking (commit the offset), or otherwise manually seeking the consumer forward"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686921203,"post_id":76489930,"comment_id":134868792,"body_markdown":"@OneCricketeer\nCould you explain what is going on in case of ack absence ? why method listen is called multiple times ? why this process is not infinite ?","body":"@OneCricketeer Could you explain what is going on in case of ack absence ? why method listen is called multiple times ? why this process is not infinite ?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686924438,"post_id":76489930,"comment_id":134869584,"body_markdown":"As far as I know the delivery in Kafka doesn&#39;t work that way. There is a cursor for consumer on the topic partition and in the perfect world we never need to commit offsets (ack in your terms) and consumer always forward to the next offset after the current delivery. A committed offset makes sense only after restart. At this point the consumer group takes a committed offset and starts consuming from there. Therefore you&#39;ll see those redeliveries only after restart if you don&#39;t ack.","body":"As far as I know the delivery in Kafka doesn&#39;t work that way. There is a cursor for consumer on the topic partition and in the perfect world we never need to commit offsets (ack in your terms) and consumer always forward to the next offset after the current delivery. A committed offset makes sense only after restart. At this point the consumer group takes a committed offset and starts consuming from there. Therefore you&#39;ll see those redeliveries only after restart if you don&#39;t ack."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686925597,"post_id":76489930,"comment_id":134869879,"body_markdown":"@Artem Bilan so why do I see the behaviour I described in the topic ? method &quot;listen&quot; is called multiple times. You can easily run my code to make sure I don&#39;t lie.","body":"@Artem Bilan so why do I see the behaviour I described in the topic ? method &quot;listen&quot; is called multiple times. You can easily run my code to make sure I don&#39;t lie."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686925932,"post_id":76489930,"comment_id":134869952,"body_markdown":"Because you send a new data on application start and consumer reads this one and previously not committed. You&#39;ll see difference when you also log a `KafkaHeaders.OFFSET` header in your `listen()` method.","body":"Because you send a new data on application start and consumer reads this one and previously not committed. You&#39;ll see difference when you also log a <code>KafkaHeaders.OFFSET</code> header in your <code>listen()</code> method."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686926428,"post_id":76489930,"comment_id":134870050,"body_markdown":"@Artem Bilan si if I change the topic name and restart the app - I should receive a single message ?","body":"@Artem Bilan si if I change the topic name and restart the app - I should receive a single message ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686926751,"post_id":76489930,"comment_id":134870132,"body_markdown":"Actual reults:\n1 start - 1;\n2 start - 4;\n3 start - 6;\n4 start - 8;\n5 start - 9;\n6 start - 11;\n7 start - 13;\n\nAny ideas why ?","body":"Actual reults: 1 start - 1; 2 start - 4; 3 start - 6; 4 start - 8; 5 start - 9; 6 start - 11; 7 start - 13;  Any ideas why ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927092,"post_id":76489930,"comment_id":134870200,"body_markdown":"when I setup concurrency to 1 - results became more predictable\n1 start - 1;\n2 start - 2;\n3 start - 3;\n4 start - 4:\n5 start - 5;","body":"when I setup concurrency to 1 - results became more predictable 1 start - 1; 2 start - 2; 3 start - 3; 4 start - 4: 5 start - 5;"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686927095,"post_id":76489930,"comment_id":134870201,"body_markdown":"If you change the topic name, then it is fully different story and you must not receive data from other topics. It is probably better to test the behavior without sending a new message on restart again and again.","body":"If you change the topic name, then it is fully different story and you must not receive data from other topics. It is probably better to test the behavior without sending a new message on restart again and again."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927215,"post_id":76489930,"comment_id":134870233,"body_markdown":"@Artem Bilan looks like it is related to the  concurreny option (please read prvious comment) even with send on startup","body":"@Artem Bilan looks like it is related to the  concurreny option (please read prvious comment) even with send on startup"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1686927257,"post_id":76489930,"comment_id":134870240,"body_markdown":"The concurrency must not matter: you just have `partitions(1)`, so only one consumer will be active.","body":"The concurrency must not matter: you just have <code>partitions(1)</code>, so only one consumer will be active."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927333,"post_id":76489930,"comment_id":134870253,"body_markdown":"@Artem Bilan could you please run the code from the topic  for a single time ?\n\nYou will find &quot;foo:1 finished&quot; twice","body":"@Artem Bilan could you please run the code from the topic  for a single time ?  You will find &quot;foo:1 finished&quot; twice"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1686929559,"post_id":76489930,"comment_id":134870725,"body_markdown":"Probably your `Thread.sleep(5000);` is too long and it causes a rebalance on consumer group and this way a new consumer after rebalance will rewind to its committed offset.","body":"Probably your <code>Thread.sleep(5000);</code> is too long and it causes a rebalance on consumer group and this way a new consumer after rebalance will rewind to its committed offset."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686930337,"post_id":76489930,"comment_id":134870906,"body_markdown":"@Artem Bilan I removed timeout and result still the same","body":"@Artem Bilan I removed timeout and result still the same"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686930392,"post_id":76489930,"comment_id":134870920,"body_markdown":"And concurrency really matters(just try)","body":"And concurrency really matters(just try)"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686930754,"post_id":76489930,"comment_id":134870999,"body_markdown":"Sorry, I cannot: it is not easy to have a dedicated Apache Kafka on Windows. The embedded doesn&#39;t fit our scenario and I would need some effort to start it in the Docker.","body":"Sorry, I cannot: it is not easy to have a dedicated Apache Kafka on Windows. The embedded doesn&#39;t fit our scenario and I would need some effort to start it in the Docker."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686931456,"post_id":76489930,"comment_id":134871128,"body_markdown":"BTW I use bitnami/kafka:latest image","body":"BTW I use bitnami/kafka:latest image"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687003935,"post_id":76489930,"comment_id":134878259,"body_markdown":"I assume you&#39;re using latest Spring-kafka?","body":"I assume you&#39;re using latest Spring-kafka?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1687157363,"post_id":76489930,"comment_id":134892034,"body_markdown":"@OneCricketeer I use spring-boot 3.0.4 and spring-kafka from corresponding release train(I don&#39;t provide version explicitly)","body":"@OneCricketeer I use spring-boot 3.0.4 and spring-kafka from corresponding release train(I don&#39;t provide version explicitly)"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354370,"creation_date":1687354370,"answer_id":76523862,"question_id":76489930,"body_markdown":"&gt;As you can see I setup AckMode.MANUAL and don&#39;t call ack manually. My expectations that message should be redilivered after some timeout ?\r\n\r\nNo; Kafka doesn&#39;t work that way. It maintains 2 pointers, the current position and the committed offset, after the consumer starts, they are unrelated, failing to ack a record will not cause it to be redelivered until you restart the consumer (and then only as long as you haven&#39;t acked a following record in the same partition). Polls only return records from the current position; committing offsets is independent.\r\n\r\nYou have to throw and exception, and the default error handler will re-seek the partition and the record will be redelivered.","title":"When message will be reaccepted by kafkaListener in case of ack absence?","body":"<blockquote>\n<p>As you can see I setup AckMode.MANUAL and don't call ack manually. My expectations that message should be redilivered after some timeout ?</p>\n</blockquote>\n<p>No; Kafka doesn't work that way. It maintains 2 pointers, the current position and the committed offset, after the consumer starts, they are unrelated, failing to ack a record will not cause it to be redelivered until you restart the consumer (and then only as long as you haven't acked a following record in the same partition). Polls only return records from the current position; committing offsets is independent.</p>\n<p>You have to throw and exception, and the default error handler will re-seek the partition and the record will be redelivered.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687354370,"creation_date":1686916429,"question_id":76489930,"body_markdown":"Let&#39;s say I have spring boot application\r\n\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @KafkaListener(id = &quot;so76481597&quot;, topics = &quot;so76481597&quot;)\r\n        void listen(String in, Acknowledgment acknowledgment, @Header(KafkaHeaders.DELIVERY_ATTEMPT) int del) throws InterruptedException {\r\n            log.warn(in + &quot;:&quot; + del);\r\n            Thread.sleep(5000);\r\n            log.warn(in + &quot;:&quot; + del + &quot; finished&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        NewTopic topic() {\r\n            return TopicBuilder.name(&quot;so76481597&quot;).partitions(1).replicas(1).build();\r\n        }\r\n    \r\n        @Bean\r\n        ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\r\n            return args -&gt; {\r\n                template.send(&quot;so76481597&quot;, &quot;foo&quot;);\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; containerCustomizer(\r\n                ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory) {\r\n    \r\n            ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; cust = container -&gt; {\r\n                container.getContainerProperties().setDeliveryAttemptHeader(true);\r\n                container.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n                container.setConcurrency(3);\r\n            };\r\n            factory.setContainerCustomizer(cust);\r\n            return cust;\r\n        }\r\n    }\r\n\r\n\r\nAs you can see I setup AckMode.MANUAL and don&#39;t call ack manually. My expectations that message should be redilivered after some timeout ? \r\n\r\n\r\nCould I control this timeout ?\r\n\r\nCould I control amount of repeats ?\r\n\r\n\r\n\r\nOn practice I see:\r\n\r\n    2023-06-16 14:46:11.081  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:16.096  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:16.097  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:26.108  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:26.128  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:46.174  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n\r\nSo \r\n 1. Next (the same) message is accepted just after previous listener is finished. It is weird a bit for me. What will be if application is shutdown during mesasge habdling ?\r\n 2. Application tries to accept message 9 time and then stopped to try. Can I configure it ?\r\n\r\nUpdate\r\n-\r\nI tried to restart application multiple times and delivery amount was always different. Sometimes - 2 times like here\r\n\r\n    2023-06-16 15:58:26.741  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 15:58:36.755  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 15:58:36.756  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 15:58:46.757  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n\r\n\r\nsometimes - 3, sometimes 7. So the amount is  not determined. Why ?","title":"When message will be reaccepted by kafkaListener in case of ack absence?","body":"<p>Let's say I have spring boot application</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @KafkaListener(id = &quot;so76481597&quot;, topics = &quot;so76481597&quot;)\n    void listen(String in, Acknowledgment acknowledgment, @Header(KafkaHeaders.DELIVERY_ATTEMPT) int del) throws InterruptedException {\n        log.warn(in + &quot;:&quot; + del);\n        Thread.sleep(5000);\n        log.warn(in + &quot;:&quot; + del + &quot; finished&quot;);\n    }\n\n    @Bean\n    NewTopic topic() {\n        return TopicBuilder.name(&quot;so76481597&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\n        return args -&gt; {\n            template.send(&quot;so76481597&quot;, &quot;foo&quot;);\n        };\n    }\n\n    @Bean\n    ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; containerCustomizer(\n            ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory) {\n\n        ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; cust = container -&gt; {\n            container.getContainerProperties().setDeliveryAttemptHeader(true);\n            container.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n            container.setConcurrency(3);\n        };\n        factory.setContainerCustomizer(cust);\n        return cust;\n    }\n}\n</code></pre>\n<p>As you can see I setup AckMode.MANUAL and don't call ack manually. My expectations that message should be redilivered after some timeout ?</p>\n<p>Could I control this timeout ?</p>\n<p>Could I control amount of repeats ?</p>\n<p>On practice I see:</p>\n<pre><code>2023-06-16 14:46:11.081  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:16.096  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:16.097  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:26.108  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:26.128  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:46.174  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n</code></pre>\n<p>So</p>\n<ol>\n<li>Next (the same) message is accepted just after previous listener is finished. It is weird a bit for me. What will be if application is shutdown during mesasge habdling ?</li>\n<li>Application tries to accept message 9 time and then stopped to try. Can I configure it ?</li>\n</ol>\n<h2>Update</h2>\n<p>I tried to restart application multiple times and delivery amount was always different. Sometimes - 2 times like here</p>\n<pre><code>2023-06-16 15:58:26.741  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 15:58:36.755  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 15:58:36.756  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 15:58:46.757  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n</code></pre>\n<p>sometimes - 3, sometimes 7. So the amount is  not determined. Why ?</p>\n"},{"tags":["java","swing","jmenuitem"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687356103,"post_id":76522969,"comment_id":134925498,"body_markdown":"Create a sub menu for the menu item. The popup will be displayed automatically but you can then add a MouseListener to menu item to handle the mouse click. Post an [mre] if you need more help and for all questions in the future.","body":"Create a sub menu for the menu item. The popup will be displayed automatically but you can then add a MouseListener to menu item to handle the mouse click. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help and for all questions in the future."}],"owner":{"account_id":6605774,"reputation":404,"user_id":5102638,"display_name":"opeongo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687354367,"creation_date":1687348267,"question_id":76522969,"body_markdown":"I am using Java/Swing to add a JMenu with JMenuItem&#39;s.  I want to add some optional complex actions to each menu item, but without having to add more cluttering hierarchical menus.\r\n\r\nIs it possible to capture a right-click on a JMenuItem and use this event to open a JPopupMenu context menu?  When I try to right-click on a JMenu item the event is consumed to perform the menu action.  Is it possible to intercept and override this with a mouselistener?\r\n\r\nMy intended behaviour is:\r\n- left-click do menu action\r\n- right-click show popup menu","title":"Right-click on a menu item and popup a context menu","body":"<p>I am using Java/Swing to add a JMenu with JMenuItem's.  I want to add some optional complex actions to each menu item, but without having to add more cluttering hierarchical menus.</p>\n<p>Is it possible to capture a right-click on a JMenuItem and use this event to open a JPopupMenu context menu?  When I try to right-click on a JMenu item the event is consumed to perform the menu action.  Is it possible to intercept and override this with a mouselistener?</p>\n<p>My intended behaviour is:</p>\n<ul>\n<li>left-click do menu action</li>\n<li>right-click show popup menu</li>\n</ul>\n"},{"tags":["java","java-8","crystal-reports","classpath"],"comments":[{"owner":{"account_id":11884350,"reputation":1324,"user_id":8697156,"display_name":"R. McMillan"},"score":0,"creation_date":1687953351,"post_id":76516475,"comment_id":135008309,"body_markdown":"Have you checked the SAP support website for this?  There appears to be a Knowledge Base Article about this specific error and how to troubleshoot, but for some reason I&#39;m unable to access the article through my login.\n\nYou may also need to verify you have the correct JDBC installed, or you may need to reinstall it as well.  This error is usually due to a failure to connect to the database through JDBC.","body":"Have you checked the SAP support website for this?  There appears to be a Knowledge Base Article about this specific error and how to troubleshoot, but for some reason I&#39;m unable to access the article through my login.  You may also need to verify you have the correct JDBC installed, or you may need to reinstall it as well.  This error is usually due to a failure to connect to the database through JDBC."}],"answers":[{"tags":[],"owner":{"account_id":1383262,"reputation":671,"user_id":1315817,"accept_rate":76,"display_name":"Brad Cypert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354278,"creation_date":1687354278,"answer_id":76523852,"question_id":76516475,"body_markdown":"I could be wrong, but my hunch here is that you copied files over to your new laptop that reference your old Java executable. Make sure Java is installed on your new system and see if you can update that reference (likely in a config file). If that doesnt work, consider reinstalling the software.","title":"SAP Crystal Reports Invalid Argument provided","body":"<p>I could be wrong, but my hunch here is that you copied files over to your new laptop that reference your old Java executable. Make sure Java is installed on your new system and see if you can update that reference (likely in a config file). If that doesnt work, consider reinstalling the software.</p>\n"}],"owner":{"account_id":28859584,"reputation":11,"user_id":22103693,"display_name":"Ferengi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687354278,"creation_date":1687276260,"question_id":76516475,"body_markdown":"Hello my favorite people!\r\n\r\nI received a new laptop with Windows 11.  I&#39;ve installed Crystal 2016 (SP09), installed JDK, went through all installations. These are the same versions on the tomcat server so I *think* I should be using the same so there are no issues when I mess with CRs.\r\n\r\nI keep getting this error every time I open the Crystal reports on my new laptop.  Any help would be greatly appreciated!\r\n\r\nError:\r\n&gt; Invalid Argument provided. Details: Java Server startup failure. Verify the PATH (JDK), CLASSPATH, and IORFileLocation properties in the CRConfig.xml file. In addition, verify that you are using JDK 1.5. \r\n&gt;\r\n&gt; ![enter image description here](https://i.stack.imgur.com/D5lU3.png)\r\n\r\n\r\nI compared everything between my old laptop with Windows 10 and it all looks exactly the same. I even copied over the Java folder (`C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java`) which included the `CRConfig.xml` file and moved it from the old to the new laptop but same results. I&#39;m convinced it&#39;s Windows 11 but I haven&#39;t found the cause.  \r\n","title":"SAP Crystal Reports Invalid Argument provided","body":"<p>Hello my favorite people!</p>\n<p>I received a new laptop with Windows 11.  I've installed Crystal 2016 (SP09), installed JDK, went through all installations. These are the same versions on the tomcat server so I <em>think</em> I should be using the same so there are no issues when I mess with CRs.</p>\n<p>I keep getting this error every time I open the Crystal reports on my new laptop.  Any help would be greatly appreciated!</p>\n<p>Error:</p>\n<blockquote>\n<p>Invalid Argument provided. Details: Java Server startup failure. Verify the PATH (JDK), CLASSPATH, and IORFileLocation properties in the CRConfig.xml file. In addition, verify that you are using JDK 1.5.</p>\n<p><img src=\"https://i.stack.imgur.com/D5lU3.png\" alt=\"enter image description here\" /></p>\n</blockquote>\n<p>I compared everything between my old laptop with Windows 10 and it all looks exactly the same. I even copied over the Java folder (<code>C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java</code>) which included the <code>CRConfig.xml</code> file and moved it from the old to the new laptop but same results. I'm convinced it's Windows 11 but I haven't found the cause.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"score":0,"creation_date":1605452557,"post_id":59185613,"comment_id":114648351,"body_markdown":"I would really like to know if you were successful. I was able to install Developer Studio 12.6 using Oracle&#39;s JDK 15.0.1 by creating a link in lib from jrt-fs.jar to dt.jar, or installation would fail. However, after installation I get &quot;Developer Studio is unable to find a supported version of Java&quot;.","body":"I would really like to know if you were successful. I was able to install Developer Studio 12.6 using Oracle&#39;s JDK 15.0.1 by creating a link in lib from jrt-fs.jar to dt.jar, or installation would fail. However, after installation I get &quot;Developer Studio is unable to find a supported version of Java&quot;."},{"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"score":0,"creation_date":1605544187,"post_id":59185613,"comment_id":114676001,"body_markdown":"@seba unfortunately no, I was never able to get it installed, sorry. I just wrote it off as Oracle actively checking to see if you had OpenJDK installed and trying everything it could to get you to uninstall it.","body":"@seba unfortunately no, I was never able to get it installed, sorry. I just wrote it off as Oracle actively checking to see if you had OpenJDK installed and trying everything it could to get you to uninstall it."},{"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"score":0,"creation_date":1605562884,"post_id":59185613,"comment_id":114683710,"body_markdown":"Actually,  after installing as I described many utilities,  like the analyzer, do work.","body":"Actually,  after installing as I described many utilities,  like the analyzer, do work."},{"owner":{"account_id":3434990,"reputation":201,"user_id":3349595,"display_name":"Truong"},"score":0,"creation_date":1620052027,"post_id":59185613,"comment_id":119080359,"body_markdown":"@seba After installing Oracle Java 8, it works like a charm.","body":"@seba After installing Oracle Java 8, it works like a charm."}],"answers":[{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575499465,"creation_date":1575499465,"answer_id":59185656,"question_id":59185613,"body_markdown":"Yes.  Setup the `PATH` to include the Oracle JDK before /usr/bin, and any other location that might contain java executables.  I recommend using a script to set this and then execute the Developer Studio executable.\r\n\r\nIt may also be possible via `JAVA_HOME`.","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>Yes.  Setup the <code>PATH</code> to include the Oracle JDK before /usr/bin, and any other location that might contain java executables.  I recommend using a script to set this and then execute the Developer Studio executable.</p>\n\n<p>It may also be possible via <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":20221505,"reputation":1,"user_id":14830861,"display_name":"Lachs16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354266,"creation_date":1687354266,"answer_id":76523850,"question_id":59185613,"body_markdown":"You can specify the Java Home directory with the `--javahome` parameter. All I had to do was to install the official Java JRE and then specify the installation directory like this:\r\n\r\n    sudo ./developerstudio.sh --javahome /usr/lib/jvm/jre-1.8-oracle-x64/\r\n\r\nThen to execute it you also have to specify the JDK location with the parameter `--jdkhome`. Only version 8 seems to work however.\r\n\r\n    /opt/oracle/developerstudio12.6/bin/devstudio --jdkhome /usr/java/jdk1.8.0_202-amd64/jre/","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>You can specify the Java Home directory with the <code>--javahome</code> parameter. All I had to do was to install the official Java JRE and then specify the installation directory like this:</p>\n<pre><code>sudo ./developerstudio.sh --javahome /usr/lib/jvm/jre-1.8-oracle-x64/\n</code></pre>\n<p>Then to execute it you also have to specify the JDK location with the parameter <code>--jdkhome</code>. Only version 8 seems to work however.</p>\n<pre><code>/opt/oracle/developerstudio12.6/bin/devstudio --jdkhome /usr/java/jdk1.8.0_202-amd64/jre/\n</code></pre>\n"}],"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687354266,"creation_date":1575499197,"question_id":59185613,"body_markdown":"I&#39;m interested in trying out Oracle Developer Studio on Fedora. Fedora&#39;s default Java version  is OpenJDK. If you try to run the installation binary for Developer Studio, it quits with this error relating to OpenJDK:\r\n\r\n&lt;!-- language: none --&gt;\r\n```\r\nSearching for JVM on the system...\r\nThis machine has an open source distribution of java (OpenJDK) installed. OpenJDK is not supported. Please install Oracle JDK to proceed.\r\nTo download Java installation bundle (JDK or JRE), visit http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n```\r\n\r\nI tried downloading and installing Oracle JDK, but even with Oracle JDK installed it gives me this error. Attempting to uninstall OpenJDK threatens to uninstall an extra 395 packages that seem to depend on it, which I&#39;m unwilling to do. Is there a way to run Oracle Developer Studio and have it use the Oracle JDK I have installed?","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>I'm interested in trying out Oracle Developer Studio on Fedora. Fedora's default Java version  is OpenJDK. If you try to run the installation binary for Developer Studio, it quits with this error relating to OpenJDK:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Searching for JVM on the system...\nThis machine has an open source distribution of java (OpenJDK) installed. OpenJDK is not supported. Please install Oracle JDK to proceed.\nTo download Java installation bundle (JDK or JRE), visit http://www.oracle.com/technetwork/java/javase/downloads/index.html\n</code></pre>\n\n<p>I tried downloading and installing Oracle JDK, but even with Oracle JDK installed it gives me this error. Attempting to uninstall OpenJDK threatens to uninstall an extra 395 packages that seem to depend on it, which I'm unwilling to do. Is there a way to run Oracle Developer Studio and have it use the Oracle JDK I have installed?</p>\n"},{"tags":["java","object","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1687342087,"post_id":76522093,"comment_id":134922328,"body_markdown":"Your whole program structure looks like it may be off. You shouldn&#39;t be passing player and enemy object *properties* into any method that needs to interact with these objects directly. Instead, pass the player and enemy objects themselves. But having said this, you shouldn&#39;t even being having to do this. Those objects should be passed into the Game object via a constructor or setter method, and then they should be free to interact with each other within the Game object. Re-think your structure.","body":"Your whole program structure looks like it may be off. You shouldn&#39;t be passing player and enemy object <i>properties</i> into any method that needs to interact with these objects directly. Instead, pass the player and enemy objects themselves. But having said this, you shouldn&#39;t even being having to do this. Those objects should be passed into the Game object via a constructor or setter method, and then they should be free to interact with each other within the Game object. Re-think your structure."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1687342102,"post_id":76522093,"comment_id":134922332,"body_markdown":"As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1687342584,"post_id":76522093,"comment_id":134922411,"body_markdown":"*&quot;Because the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution.&quot;* -- and this is your problem. The main or Game class, *should* be able to call these methods. Don&#39;t try to fix poor program design with a kludge.  Again, re-think your program structure. I have to wonder though if this question is a poor fit for this site as it is quite broad.","body":"<i>&quot;Because the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution.&quot;</i> -- and this is your problem. The main or Game class, <i>should</i> be able to call these methods. Don&#39;t try to fix poor program design with a kludge.  Again, re-think your program structure. I have to wonder though if this question is a poor fit for this site as it is quite broad."},{"owner":{"account_id":26328372,"reputation":1,"user_id":19989309,"display_name":"benshee"},"score":0,"creation_date":1687353743,"post_id":76522093,"comment_id":134924859,"body_markdown":"@HovercraftFullOfEels, thanks for the reminder about the naming in Java. I was so busy with ideas for the program that I overlooked the variable names. I am also thinking about the re-structure, so thank you for your comment!","body":"@HovercraftFullOfEels, thanks for the reminder about the naming in Java. I was so busy with ideas for the program that I overlooked the variable names. I am also thinking about the re-structure, so thank you for your comment!"}],"owner":{"account_id":26328372,"reputation":1,"user_id":19989309,"display_name":"benshee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687354000,"creation_date":1687341811,"question_id":76522093,"body_markdown":"So I am creating a small text based RPG and at the moment I&#39;m trying to implement an HPUpdate into a method. \r\n\r\nBecause the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution. \r\n\r\nI found one, don&#39;t know if it&#39;s correct, but it only seems to update the HP once, after that it always repeats the same HPUPdate. \r\n\r\n&quot;Goblin loses 10 HP!&quot;\r\n&quot;Goblin has 40HP remaining!&quot; \r\n\r\nafter attacking again, it&#39;s the same. \r\n\r\nSo not 30HP remaining, but 40HP again. \r\n\r\nI made a second main class, where it worked, without using a Method. But I want to do it in a method. \r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\n\r\nCharacters Fiona = new Characters(100, 10, 50, &quot;Fiona&quot;); // PLAYER CHARACTER INIT, FIONA = TEMP NAME\r\n\t\tEnemies Goblin = new Enemies(50, 10, 10, &quot;Goblin&quot;); // GOBLIN ENEMY INIT\r\n\r\n```\r\n\r\n```java\r\nbattlesystem(Fiona.getSpd(), Goblin.getSpd(), Fiona.getName(), Goblin.getName(), Fiona.getDmg(),\r\n\t\t\t\tGoblin.getDmg(), Fiona.setHp(setHPChar(Fiona.getHp(), Goblin.getDmg())),\r\n\t\t\t\tGoblin.setHp(setHPEnem(Goblin.getHp(), Fiona.getDmg())), Fiona.Statstostring(), Goblin.Statstostring());\r\n\r\n\t}\r\n\r\n\t// BATTLE_SYSTEM --&gt; WIP\r\n\tpublic static int battlesystem(int playerspeed, int enemyspeed, String playername, String enemyname, int enemyDMG,\r\n\t\t\tint playerDMG, int playerHPUpdate, int enemyHPUpdate, String playerstats, String enemystats) {\r\n\r\n\t\tScanner sc1 = new Scanner(System.in);\r\n\t\tint newplayerhp = 0;\r\n\t\tSystem.out.printf(&quot; Battle start! %n&quot;); // Begin Battle-Scenario\r\n\t\tif (playerspeed &lt;= enemyspeed) {\r\n\t\t\tSystem.out.printf(&quot; Goblin attacks! %n&quot;);\r\n\t\t\tSystem.out.printf(&quot; You lose %d HP! %n&quot;, enemyDMG);\r\n\t\t\tSystem.out.printf(&quot; You have %d HP left!%n&quot;, playerHPUpdate);\r\n\t\t} else {\r\n\r\n\t\t\tSystem.out.printf(&quot; %n What is your Strategy? %n&quot;);\r\n\t\t\tint i = 0;\r\n\t\t\twhile (i &lt; 1) {\r\n\t\t\t\tSystem.out.printf(&quot; %n%n (A)ttack %n (D)efend %n (I)tems %n (S)tats %n (F)lee %n&quot;);\r\n\t\t\t\tString choice = sc1.nextLine();\r\n\t\t\t\tswitch (choice.toUpperCase()) {\r\n\t\t\t\tcase &quot;A&quot;:\r\n\t\t\t\t\tSystem.out.printf(&quot; You decide to attack the Goblin! %n&quot;);\r\n\t\t\t\t\tSystem.out.printf(&quot; %S attacks!&quot;, playername);\r\n\t\t\t\t\tSystem.out.printf(&quot; %S loses %d HP%n&quot;, enemyname, enemyDMG);\r\n\t\t\t\t\tSystem.out.printf(&quot; Goblin has %d HP left!%n&quot;, enemyHPUpdate);\r\n\r\n\t\t\t\t\tbreak;\r\n```\r\n\r\n\r\nEDIT: \r\n\r\nHere&#39;s the UpdateHP-Method:\r\n\r\n    public static int setHPChar(int oldcharHP, int enemDMG) { // UPDATE Character HP through subtraction of the Enemy\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Damage\r\n\r\n\t\tint updateCharHP = oldcharHP - enemDMG; // setHP = getHP - getDMG\r\n\t\treturn updateCharHP;\r\n\r\n\t}\r\n\r\n\tpublic static int setHPEnem(int oldenemHP, int charDMG) { // // UPDATE Enemy HP through subtraction of the Character\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Damage\r\n\r\n\t\tint updateEnemHP = oldenemHP - charDMG; // setHP = getHP - getDMG\r\n\t\treturn updateEnemHP;\r\n\t}\r\n\r\n\r\nHere&#39;s the object class:\r\n\r\n\r\n\r\n```\r\n    private int hp; // Health Points STAT OF OBJECT\r\n\tprivate int dmg; // Damage Points STAT OF OBJECT\r\n\tprivate int spd; // Speed Points STAT OF OBJECT\r\n\tprivate String name; // Name OF OBJECT\r\n\tprivate boolean haskey = false; // BOOLEAN if OBJECT HAS A KEY --&gt; only used in first    Scenario at the moment\r\n\r\n\tpublic int getHp() { // PRINTS Health Points of Character\r\n\r\n\t\treturn hp;\r\n\t}\r\n\r\n\tpublic int setHp(int hp) { // INCREASES OR DECREASES Character Health Points\r\n\t\tthis.hp = hp;\r\n\t\treturn hp;\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nSo to recap, Character attacks Enemy, Enemy loses HP through Characters DMG.\r\n\r\nEnemyHP - CharacterDMG = newEnemyHP.","title":"Need to update HP via setHP in a Method in main-class (use non main-class method (setHP) in main-class method)","body":"<p>So I am creating a small text based RPG and at the moment I'm trying to implement an HPUpdate into a method.</p>\n<p>Because the methods in the main class can't access the getters and setters from the Object-Class, I needed to find a different solution.</p>\n<p>I found one, don't know if it's correct, but it only seems to update the HP once, after that it always repeats the same HPUPdate.</p>\n<p>&quot;Goblin loses 10 HP!&quot;\n&quot;Goblin has 40HP remaining!&quot;</p>\n<p>after attacking again, it's the same.</p>\n<p>So not 30HP remaining, but 40HP again.</p>\n<p>I made a second main class, where it worked, without using a Method. But I want to do it in a method.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nCharacters Fiona = new Characters(100, 10, 50, &quot;Fiona&quot;); // PLAYER CHARACTER INIT, FIONA = TEMP NAME\n        Enemies Goblin = new Enemies(50, 10, 10, &quot;Goblin&quot;); // GOBLIN ENEMY INIT\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>battlesystem(Fiona.getSpd(), Goblin.getSpd(), Fiona.getName(), Goblin.getName(), Fiona.getDmg(),\n                Goblin.getDmg(), Fiona.setHp(setHPChar(Fiona.getHp(), Goblin.getDmg())),\n                Goblin.setHp(setHPEnem(Goblin.getHp(), Fiona.getDmg())), Fiona.Statstostring(), Goblin.Statstostring());\n\n    }\n\n    // BATTLE_SYSTEM --&gt; WIP\n    public static int battlesystem(int playerspeed, int enemyspeed, String playername, String enemyname, int enemyDMG,\n            int playerDMG, int playerHPUpdate, int enemyHPUpdate, String playerstats, String enemystats) {\n\n        Scanner sc1 = new Scanner(System.in);\n        int newplayerhp = 0;\n        System.out.printf(&quot; Battle start! %n&quot;); // Begin Battle-Scenario\n        if (playerspeed &lt;= enemyspeed) {\n            System.out.printf(&quot; Goblin attacks! %n&quot;);\n            System.out.printf(&quot; You lose %d HP! %n&quot;, enemyDMG);\n            System.out.printf(&quot; You have %d HP left!%n&quot;, playerHPUpdate);\n        } else {\n\n            System.out.printf(&quot; %n What is your Strategy? %n&quot;);\n            int i = 0;\n            while (i &lt; 1) {\n                System.out.printf(&quot; %n%n (A)ttack %n (D)efend %n (I)tems %n (S)tats %n (F)lee %n&quot;);\n                String choice = sc1.nextLine();\n                switch (choice.toUpperCase()) {\n                case &quot;A&quot;:\n                    System.out.printf(&quot; You decide to attack the Goblin! %n&quot;);\n                    System.out.printf(&quot; %S attacks!&quot;, playername);\n                    System.out.printf(&quot; %S loses %d HP%n&quot;, enemyname, enemyDMG);\n                    System.out.printf(&quot; Goblin has %d HP left!%n&quot;, enemyHPUpdate);\n\n                    break;\n</code></pre>\n<p>EDIT:</p>\n<p>Here's the UpdateHP-Method:</p>\n<pre><code>public static int setHPChar(int oldcharHP, int enemDMG) { // UPDATE Character HP through subtraction of the Enemy\n                                                            // Damage\n\n    int updateCharHP = oldcharHP - enemDMG; // setHP = getHP - getDMG\n    return updateCharHP;\n\n}\n\npublic static int setHPEnem(int oldenemHP, int charDMG) { // // UPDATE Enemy HP through subtraction of the Character\n                                                            // Damage\n\n    int updateEnemHP = oldenemHP - charDMG; // setHP = getHP - getDMG\n    return updateEnemHP;\n}\n</code></pre>\n<p>Here's the object class:</p>\n<pre><code>    private int hp; // Health Points STAT OF OBJECT\n    private int dmg; // Damage Points STAT OF OBJECT\n    private int spd; // Speed Points STAT OF OBJECT\n    private String name; // Name OF OBJECT\n    private boolean haskey = false; // BOOLEAN if OBJECT HAS A KEY --&gt; only used in first    Scenario at the moment\n\n    public int getHp() { // PRINTS Health Points of Character\n\n        return hp;\n    }\n\n    public int setHp(int hp) { // INCREASES OR DECREASES Character Health Points\n        this.hp = hp;\n        return hp;\n    }\n</code></pre>\n<p>So to recap, Character attacks Enemy, Enemy loses HP through Characters DMG.</p>\n<p>EnemyHP - CharacterDMG = newEnemyHP.</p>\n"},{"tags":["java","sap-commerce-cloud","add-on","hybris-data-hub"],"comments":[{"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"score":0,"creation_date":1687349442,"post_id":76482116,"comment_id":134923814,"body_markdown":"I solved the problem. I did it by installing the new asm addon.","body":"I solved the problem. I did it by installing the new asm addon."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1691491830,"post_id":76482116,"comment_id":135495893,"body_markdown":"Tugba, why did not you accept the answer?","body":"Tugba, why did not you accept the answer?"}],"answers":[{"tags":[],"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353521,"creation_date":1687353521,"answer_id":76523736,"question_id":76482116,"body_markdown":"You need to perform an addon install of the ASM addon against your storefront. This will add the required javascript and styling\r\n\r\n\r\n    ant addoninstall -Daddonnames=&quot;assistedservicestorefront&quot; -DaddonStorefront.&lt;storefrontTemplateName&gt;=&quot;Storefront1&quot;","title":"ASM component is not displaying properly","body":"<p>You need to perform an addon install of the ASM addon against your storefront. This will add the required javascript and styling</p>\n<pre><code>ant addoninstall -Daddonnames=&quot;assistedservicestorefront&quot; -DaddonStorefront.&lt;storefrontTemplateName&gt;=&quot;Storefront1&quot;\n</code></pre>\n"}],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687353521,"creation_date":1686829349,"question_id":76482116,"body_markdown":"Assisted Service Mode component is not working properly.\r\nIt could be frontend problem. How can I solve?\r\n\r\nThis is how it looks on my screen:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/weoYU.png)](https://i.stack.imgur.com/weoYU.png)\r\n\r\nThis is what I expect:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/5K6VO.png)](https://i.stack.imgur.com/5K6VO.png)\r\n","title":"ASM component is not displaying properly","body":"<p>Assisted Service Mode component is not working properly.\nIt could be frontend problem. How can I solve?</p>\n<p>This is how it looks on my screen:</p>\n<p><a href=\"https://i.stack.imgur.com/weoYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/weoYU.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what I expect:</p>\n<p><a href=\"https://i.stack.imgur.com/5K6VO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5K6VO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","javafx","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1687346759,"post_id":76522730,"comment_id":134923204,"body_markdown":"I&#39;d probably give [this](https://github.com/Akman/jpackage-maven-plugin) a try. That&#39;s not the way to read a custom log config - you&#39;d need `getResourceAsStream` when it&#39;s any sort of packaged. Why do you need that anyway btw?","body":"I&#39;d probably give <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">this</a> a try. That&#39;s not the way to read a custom log config - you&#39;d need <code>getResourceAsStream</code> when it&#39;s any sort of packaged. Why do you need that anyway btw?"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687352603,"post_id":76522730,"comment_id":134924560,"body_markdown":"i get fxml file config like this. I need to make a jar file from the application so that a user without a development environment can use a graphical application","body":"i get fxml file config like this. I need to make a jar file from the application so that a user without a development environment can use a graphical application"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687408170,"post_id":76522730,"comment_id":134933159,"body_markdown":"As noted by g00se and by comments on your previous question, do not use `FileInputStream` to read resources. What you&#39;re doing will only work in your development environment and will break once packaged in a JAR file or JRT image. Use `Class#getResource(String)` and/or `Class#getResourceAsStream(String)`.","body":"As noted by g00se and by comments on your previous question, do not use <code>FileInputStream</code> to read resources. What you&#39;re doing will only work in your development environment and will break once packaged in a JAR file or JRT image. Use <code>Class#getResource(String)</code> and/or <code>Class#getResourceAsStream(String)</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687411574,"post_id":76522730,"comment_id":134933460,"body_markdown":"Actually the pom.xml mentions SpringBoot, so if you want to configure logging, you should follow the SpringBoot logging documentation (which won’t tell you to do what you are currently doing or to write code yourself to load logging configuration from a resource).","body":"Actually the pom.xml mentions SpringBoot, so if you want to configure logging, you should follow the SpringBoot logging documentation (which won’t tell you to do what you are currently doing or to write code yourself to load logging configuration from a resource)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687411972,"post_id":76522730,"comment_id":134933516,"body_markdown":"SpringBoot maven plugin can create a single jar for an application, again study the SpringBoot documentation for this.  However, it might not be what you want, as the generated jar is not Java module system aware, so you would need not to have JavaFX modules as maven dependencies and to develop, package and run the app using a JDK or JRE that includes JavaFX modules, such as Azul Zulu JDK FX distributions.","body":"SpringBoot maven plugin can create a single jar for an application, again study the SpringBoot documentation for this.  However, it might not be what you want, as the generated jar is not Java module system aware, so you would need not to have JavaFX modules as maven dependencies and to develop, package and run the app using a JDK or JRE that includes JavaFX modules, such as Azul Zulu JDK FX distributions."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687412255,"post_id":76522730,"comment_id":134933553,"body_markdown":"Maybe you want [maven shade](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) instead, or the jpackage solution mentioned by g00se or something from [packaging in the JavaFX tag](https://stackoverflow.com/tags/javafx/info).","body":"Maybe you want <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">maven shade</a> instead, or the jpackage solution mentioned by g00se or something from <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging in the JavaFX tag</a>."}],"answers":[{"tags":[],"owner":{"account_id":24908121,"reputation":307,"user_id":22024291,"display_name":"Elle Bishop"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1687353329,"creation_date":1687353329,"answer_id":76523707,"question_id":76522730,"body_markdown":"**Creating Executable Jars**\r\n\r\nhttps://taylorial.com/tools/jar/\r\n\r\nCheck out the link above, as it mentions clearly and step by step how to create an executable `.jar` file","title":"How to create jar file of javaFx application and run application via jar file?","body":"<p><strong>Creating Executable Jars</strong></p>\n<p><a href=\"https://taylorial.com/tools/jar/\" rel=\"nofollow noreferrer\">https://taylorial.com/tools/jar/</a></p>\n<p>Check out the link above, as it mentions clearly and step by step how to create an executable <code>.jar</code> file</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687353329,"creation_date":1687346451,"question_id":76522730,"body_markdown":"I have a javaFX application and I want the user to be able to run it without a development environment, that is, just click on the jar file and work with the graphical application\r\n\r\n\r\n\r\n```\r\npublic class RunFrame extends Application {\r\n\r\n    static Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(RunFrame.class.getName());\r\n        } catch (IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage)  {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader();\r\n            URL xmlUrl = getClass().getResource(&quot;/RunFrameScene.fxml&quot;);\r\n            loader.setLocation(xmlUrl);\r\n            Parent root = loader.load();\r\n            stage.setTitle(&quot;App&quot;);\r\n            stage.getIcons().add(new Image(RunFrame .class.getClassLoader().getResourceAsStream(&quot;logo.png&quot;)));\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n            LOGGER.log(Level.INFO,&quot;Success &quot;);\r\n        } catch (Exception e) {\r\n            LOGGER.log(Level.SEVERE,&quot;Error&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class through which the application is launched\r\n\r\n\r\n```\r\npublic class FrameRunApp {\r\n    static Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(FrameRunApp .class.getName());\r\n        }catch (Exception e){\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n            FrameRunApp.main(args);\r\n        }\r\n    }\r\n```\r\nAlso I have a pom.xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.apache.activemq.examples.broker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jms-examples&lt;/artifactId&gt;\r\n        &lt;version&gt;2.27.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;jmx&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;FrameApplication&lt;/name&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI don&#39;t really understand how to create a jar file and just run the app&#39;s application on it, rather than by designing run the app&#39;s launcher method.\r\n","title":"How to create jar file of javaFx application and run application via jar file?","body":"<p>I have a javaFX application and I want the user to be able to run it without a development environment, that is, just click on the jar file and work with the graphical application</p>\n<pre><code>public class RunFrame extends Application {\n\n    static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(RunFrame.class.getName());\n        } catch (IOException e) {\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage)  {\n        try {\n            FXMLLoader loader = new FXMLLoader();\n            URL xmlUrl = getClass().getResource(&quot;/RunFrameScene.fxml&quot;);\n            loader.setLocation(xmlUrl);\n            Parent root = loader.load();\n            stage.setTitle(&quot;App&quot;);\n            stage.getIcons().add(new Image(RunFrame .class.getClassLoader().getResourceAsStream(&quot;logo.png&quot;)));\n            stage.setScene(new Scene(root));\n            stage.show();\n            LOGGER.log(Level.INFO,&quot;Success &quot;);\n        } catch (Exception e) {\n            LOGGER.log(Level.SEVERE,&quot;Error&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>The class through which the application is launched</p>\n<pre><code>public class FrameRunApp {\n    static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(FrameRunApp .class.getName());\n        }catch (Exception e){\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n\n    public static void main(String[] args) {\n            FrameRunApp.main(args);\n        }\n    }\n</code></pre>\n<p>Also I have a pom.xml file</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache.activemq.examples.broker&lt;/groupId&gt;\n        &lt;artifactId&gt;jms-examples&lt;/artifactId&gt;\n        &lt;version&gt;2.27.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;jmx&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;FrameApplication&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I don't really understand how to create a jar file and just run the app's application on it, rather than by designing run the app's launcher method.</p>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353023,"creation_date":1687353023,"answer_id":76523661,"question_id":76523477,"body_markdown":"&gt; So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?\r\n\r\nI don&#39;t think it is possible.\r\n\r\nWhy? Because to measure virtual thread CPU time, the runtime would need to make syscalls to find and record the current (non-virtual) thread&#39;s CPU time ... *each time there is a virtual thread switch*. The overhead of those syscalls would (largely) defeat to point of implementing virtual threads in the first place.","title":"How to measure CPU time in java virtual threads?","body":"<blockquote>\n<p>So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?</p>\n</blockquote>\n<p>I don't think it is possible.</p>\n<p>Why? Because to measure virtual thread CPU time, the runtime would need to make syscalls to find and record the current (non-virtual) thread's CPU time ... <em>each time there is a virtual thread switch</em>. The overhead of those syscalls would (largely) defeat to point of implementing virtual threads in the first place.</p>\n"}],"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687353023,"creation_date":1687351727,"question_id":76523477,"body_markdown":"In java, to measure CPU time used for a thread, one usually does something like: \r\n\r\n    var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\r\n    //Some lengthy operation\r\n    var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\r\n\r\nThis works fine. But since the introduction of virtual threads (JDK 21), this method only works for platform threads, not for virtual threads.\r\n\r\nSo this always reports 0:\r\n\r\n    var vThread = Thread.ofVirtual().start(() -&gt; {\r\n      var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\r\n      //Some lengthy operation\r\n      var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\r\n      //totalCPU is always 0\r\n    });\r\n    vThread.join();\r\n\r\n\r\nSo, the question is how are we supposed to measure CPU times with the introduction of virtual threads?\r\n\r\n","title":"How to measure CPU time in java virtual threads?","body":"<p>In java, to measure CPU time used for a thread, one usually does something like:</p>\n<pre><code>var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\n//Some lengthy operation\nvar totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\n</code></pre>\n<p>This works fine. But since the introduction of virtual threads (JDK 21), this method only works for platform threads, not for virtual threads.</p>\n<p>So this always reports 0:</p>\n<pre><code>var vThread = Thread.ofVirtual().start(() -&gt; {\n  var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\n  //Some lengthy operation\n  var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\n  //totalCPU is always 0\n});\nvThread.join();\n</code></pre>\n<p>So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?</p>\n"},{"tags":["java","ubuntu","jenkins"],"comments":[{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1577176245,"post_id":59465780,"comment_id":105111659,"body_markdown":"Can this thread help you: https://issues.jenkins-ci.org/browse/JENKINS-16273","body":"Can this thread help you: <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-16273\" rel=\"nofollow noreferrer\">issues.jenkins-ci.org/browse/JENKINS-16273</a>"},{"owner":{"account_id":17044282,"reputation":11,"user_id":12331486,"display_name":"Opher Lubzens"},"score":0,"creation_date":1577182149,"post_id":59465780,"comment_id":105113767,"body_markdown":"tried. didn&#39;t help, thanks.","body":"tried. didn&#39;t help, thanks."}],"answers":[{"tags":[],"owner":{"account_id":4607011,"reputation":31,"user_id":3736182,"display_name":"Guolirong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590139890,"creation_date":1590139890,"answer_id":61951909,"question_id":59465780,"body_markdown":"Using this option:    -jnlpCredentials USER:PASSWORD\r\n\r\nUSER is your Jenkins user ID","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>Using this option:    -jnlpCredentials USER:PASSWORD</p>\n\n<p>USER is your Jenkins user ID</p>\n"},{"tags":[],"owner":{"account_id":1946027,"reputation":617,"user_id":1751166,"display_name":"PravyNandas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668898675,"creation_date":1668898675,"answer_id":74504402,"question_id":59465780,"body_markdown":"In latest version the option is -auth USER:PASSWORD\r\n\r\nUSER - username of the jenkins master\r\nPASSWORD - that user&#39;s password (Or API key setup from account details)","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>In latest version the option is -auth USER:PASSWORD</p>\n<p>USER - username of the jenkins master\nPASSWORD - that user's password (Or API key setup from account details)</p>\n"},{"tags":[],"owner":{"account_id":28866205,"reputation":1,"user_id":22108913,"display_name":"Leo Bernat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687352750,"creation_date":1687352750,"answer_id":76523621,"question_id":59465780,"body_markdown":"Error : \r\nFailed to obtain https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\r\njava.io.IOException: Failed to load https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp: 403 null\r\n\r\nFix : \r\n1. Navigate to https://jenkins.site/manage/configureSecurity/\r\n2. Anonymous user need to have Read, connect &amp; Discover permission","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>Error :\nFailed to obtain <a href=\"https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp</a>\njava.io.IOException: Failed to load <a href=\"https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp</a>: 403 null</p>\n<p>Fix :</p>\n<ol>\n<li>Navigate to <a href=\"https://jenkins.site/manage/configureSecurity/\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/configureSecurity/</a></li>\n<li>Anonymous user need to have Read, connect &amp; Discover permission</li>\n</ol>\n"}],"owner":{"account_id":17044282,"reputation":11,"user_id":12331486,"display_name":"Opher Lubzens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687352750,"creation_date":1577175152,"question_id":59465780,"body_markdown":"I installed jenkins on Ubuntu and when I try to run the agents to create nodes I get back an IOException:\r\n\r\n    Failing to obtain http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp\r\n    java.io.IOException: Failed to load http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp: 403 Forbidden\r\n            at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:499)\r\n            at hudson.remoting.Launcher.run(Launcher.java:325)\r\n            at hudson.remoting.Launcher.main(Launcher.java:283)\r\n\r\n\r\nAs far as I can tell iptables isn&#39;t up and I can&#39;t find the reason behind it.","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>I installed jenkins on Ubuntu and when I try to run the agents to create nodes I get back an IOException:</p>\n\n<pre><code>Failing to obtain http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp\njava.io.IOException: Failed to load http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp: 403 Forbidden\n        at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:499)\n        at hudson.remoting.Launcher.run(Launcher.java:325)\n        at hudson.remoting.Launcher.main(Launcher.java:283)\n</code></pre>\n\n<p>As far as I can tell iptables isn't up and I can't find the reason behind it.</p>\n"},{"tags":["java","spring","spring-data","spring-data-mongodb","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533074085,"creation_date":1533074085,"answer_id":51622661,"question_id":51622300,"body_markdown":"I think instead of using the `AutoConfigureMockMvc` annotation you could configure `MockMvc` manually and configure Spring security as follows:\r\n\r\n    import static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.*;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class BookCustomRepositoryIntegrationTest {\r\n        \r\n        @Before\r\n        public void setup() {\r\n            mockMvc = MockMvcBuilders\r\n                    .webAppContextSetup(context)\r\n                    .apply(springSecurity()) 1\r\n                    .build();\r\n        }\r\n        // ...\r\n    }\r\n\r\nAs the [documentation][1] states:\r\n\r\n&gt;In order to use Spring Security with Spring MVC Test it is necessary to add the Spring Security FilterChainProxy as a Filter. It is also necessary to add Spring Security’s TestSecurityContextHolderPostProcessor to support Running as a User in Spring MVC Test with Annotations. This can be done using Spring Security’s SecurityMockMvcConfigurers.springSecurity().\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html/test-mockmvc.html","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I think instead of using the <code>AutoConfigureMockMvc</code> annotation you could configure <code>MockMvc</code> manually and configure Spring security as follows:</p>\n\n<pre><code>import static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.*;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class BookCustomRepositoryIntegrationTest {\n\n    @Before\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity()) 1\n                .build();\n    }\n    // ...\n}\n</code></pre>\n\n<p>As the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/test-mockmvc.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>In order to use Spring Security with Spring MVC Test it is necessary to add the Spring Security FilterChainProxy as a Filter. It is also necessary to add Spring Security’s TestSecurityContextHolderPostProcessor to support Running as a User in Spring MVC Test with Annotations. This can be done using Spring Security’s SecurityMockMvcConfigurers.springSecurity().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1534522707,"creation_date":1534522707,"answer_id":51899431,"question_id":51622300,"body_markdown":"Your case does not work, because SecurityContextPersistenceFilter and FilterChainProxy filters clear SecurityContextHolder, but the `TestSecurityContextHolder` (filled by `WithSecurityContextTestExecutionListener`) still contains SecurityContext.\r\n\r\nTry this approach:\r\n\r\n    @Test\r\n    @WithMockUser\r\n    public void reproduceBug() throws Exception {\r\n        repository.findAll();\r\n        mockMvc.perform(get(&quot;/books&quot;)\r\n                .contentType(APPLICATION_JSON_UTF8))\r\n                .andExpect(status().isOk());\r\n        SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\r\n        repository.findAll();\r\n    }\r\n\r\n","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>Your case does not work, because SecurityContextPersistenceFilter and FilterChainProxy filters clear SecurityContextHolder, but the <code>TestSecurityContextHolder</code> (filled by <code>WithSecurityContextTestExecutionListener</code>) still contains SecurityContext.</p>\n\n<p>Try this approach:</p>\n\n<pre><code>@Test\n@WithMockUser\npublic void reproduceBug() throws Exception {\n    repository.findAll();\n    mockMvc.perform(get(\"/books\")\n            .contentType(APPLICATION_JSON_UTF8))\n            .andExpect(status().isOk());\n    SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\n    repository.findAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003860,"reputation":69,"user_id":7385326,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617181881,"creation_date":1617176838,"answer_id":66883704,"question_id":51622300,"body_markdown":"I just now found a nice solution to this problem. You can register a MockMvcBuilderCustomizer bean in your test configuration and all works fine.\r\n\r\n    public class MockMvcTestSecurityContextPropagationCustomizer implements MockMvcBuilderCustomizer {\r\n\r\n    @Override\r\n    public void customize(ConfigurableMockMvcBuilder&lt;?&gt; builder) {\r\n        builder.alwaysDo(result -&gt; {\r\n            log.debug(&quot;resetting SecurityContextHolder to TestSecurityContextHolder&quot;);\r\n            SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n[spring-boot]","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I just now found a nice solution to this problem. You can register a MockMvcBuilderCustomizer bean in your test configuration and all works fine.</p>\n<pre><code>public class MockMvcTestSecurityContextPropagationCustomizer implements MockMvcBuilderCustomizer {\n\n@Override\npublic void customize(ConfigurableMockMvcBuilder&lt;?&gt; builder) {\n    builder.alwaysDo(result -&gt; {\n        log.debug(&quot;resetting SecurityContextHolder to TestSecurityContextHolder&quot;);\n        SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\n    });\n}\n</code></pre>\n<p>}</p>\n<p>[spring-boot]</p>\n"},{"tags":[],"owner":{"account_id":5888943,"reputation":1,"user_id":4636142,"display_name":"Marwen Mighri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664724013,"creation_date":1664722313,"answer_id":73926790,"question_id":51622300,"body_markdown":"a good practice would be to separate the tests with the RestController from the tests of the other layers of the application. In your case i think you should not mix rest calls tests with respositories calls tests ..\r\n\r\ni guess you should make a mock mvc call to test your &quot;repository.findAll()&quot; \r\n\r\nI&#39;m working with Spring Boot 2.6.7 ( spring-security-test-5.6.3.jar ) and Junit 5 and the TestSecurityContextHolder holds the security context even after performing a MockMVC http request.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = MyApp.class, webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    public class MyTests {\r\n    \r\n    ...\r\n    \r\n    \t@Test\r\n    \t@WithMockUser\r\n    \tpublic void test_make_many_mockmvc_calls() {\r\n    \t\r\n    \t\t\t//The first call\r\n    \t\t\tmockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\r\n    \t\t\t\t.contentType(MediaType.APPLICATION_JSON)//\r\n    \t\t\t\t.accept(MediaType.APPLICATION_JSON))//\r\n    \t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk());\r\n    \t\r\n    \t\t\t//Another call\r\n    \t\t\tmockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\r\n    \t\t\t\t.contentType(MediaType.APPLICATION_JSON)//\r\n    \t\t\t\t.accept(MediaType.APPLICATION_JSON))//\r\n    \t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk());\r\n    \t}\r\n    ...\r\n    }\r\n\r\n\r\nbut if you wont a good workaround u need to add some stuff.. in fact your repository.findAll() will resolve security informations using the SecurityEvaluationContextExtension witch use the main SecurityContextHolder ( not the TestSecurityContextHolder ).\r\n\r\nSo i guess you should make something like this :\r\n\r\n    public class MyCustomSecurityEvaluationContextExtension implements EvaluationContextExtension {\r\n    ...\r\n    \t@Override\r\n    \tpublic SecurityExpressionRoot getRootObject() {\r\n    \t\t\r\n    \t\t//Override the way you retrieve the Authentication object\r\n    \t}\r\n    ...\r\n    }\r\n\r\n","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>a good practice would be to separate the tests with the RestController from the tests of the other layers of the application. In your case i think you should not mix rest calls tests with respositories calls tests ..</p>\n<p>i guess you should make a mock mvc call to test your &quot;repository.findAll()&quot;</p>\n<p>I'm working with Spring Boot 2.6.7 ( spring-security-test-5.6.3.jar ) and Junit 5 and the TestSecurityContextHolder holds the security context even after performing a MockMVC http request.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = MyApp.class, webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class MyTests {\n\n...\n\n    @Test\n    @WithMockUser\n    public void test_make_many_mockmvc_calls() {\n    \n            //The first call\n            mockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\n                .contentType(MediaType.APPLICATION_JSON)//\n                .accept(MediaType.APPLICATION_JSON))//\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    \n            //Another call\n            mockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\n                .contentType(MediaType.APPLICATION_JSON)//\n                .accept(MediaType.APPLICATION_JSON))//\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n...\n}\n</code></pre>\n<p>but if you wont a good workaround u need to add some stuff.. in fact your repository.findAll() will resolve security informations using the SecurityEvaluationContextExtension witch use the main SecurityContextHolder ( not the TestSecurityContextHolder ).</p>\n<p>So i guess you should make something like this :</p>\n<pre><code>public class MyCustomSecurityEvaluationContextExtension implements EvaluationContextExtension {\n...\n    @Override\n    public SecurityExpressionRoot getRootObject() {\n        \n        //Override the way you retrieve the Authentication object\n    }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123066,"reputation":31,"user_id":317288,"display_name":"GregAngel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687352463,"creation_date":1687352463,"answer_id":76523580,"question_id":51622300,"body_markdown":"Inspired by [@brass-monkey](https://stackoverflow.com/users/5118762/brass-monkey), as it&#39;s the simplest solution, here is the code that works for me:\r\n\r\n```java\r\n    @BeforeEach\r\n    void setUp() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(applicationContext)\r\n                .apply(springSecurity())\r\n                .alwaysDo(result -&gt; SecurityContextHolder.setContext(TestSecurityContextHolder.getContext()))\r\n                .build();\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5118762/brass-monkey","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>Inspired by <a href=\"https://stackoverflow.com/users/5118762/brass-monkey\">@brass-monkey</a>, as it's the simplest solution, here is the code that works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeEach\n    void setUp() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(applicationContext)\n                .apply(springSecurity())\n                .alwaysDo(result -&gt; SecurityContextHolder.setContext(TestSecurityContextHolder.getContext()))\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2823,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1687352463,"creation_date":1533072306,"question_id":51622300,"body_markdown":"I&#39;m trying to run some integration test using SpringBoot + Spring Data Mongo + SpringMVC\n\nI&#39;ve simplified and generified the code but it should be able to reproduce the behavior with the following test.\n\nAs you can see from `BookRepository` interface I want the user to be able to retrieve only the books that he owns (`@Query(&quot;{ &#39;ownerName&#39; : &#39;?#{principal?.username})`) and I&#39;m writing a test to perform a `POST` to save a Book and then verify the book has the owner set appropriately. \n\nFor the purpose of the question here I&#39;ve simplified the test to just to a `GET` and then calling `findAll()`\n\n## Problem\nAfter performing any `MockMvc` request, the `SecurityContext` is cleared using `ThreadLocalSecurityContextHolderStrategy#clearContext()` which cause the following exception to be thrown when I try to call `repository.findAll();`\n\n`java.lang.IllegalArgumentException: Authentication object cannot be null`\n\n\n\n### BookRepository.java\n    @RepositoryRestResource\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n          \n        @Query(&quot;{ &#39;ownerName&#39; : ?#{principal?.username} }&quot;)\n        List&lt;Book&gt; findAll();  \n     \n    }\n\n\n### BookCustomRepositoryIntegrationTest.java\n\n    /**\n     * Integrate data mongo + mvc\n     */\n    @RunWith(SpringRunner.class)\n    @SpringBootTest\n    @AutoConfigureMockMvc\n    public class BookCustomRepositoryIntegrationTest {\n        \n        @Autowired\n        BookRepository repository;\n    \n        @Autowired\n        MockMvc mockMvc;  \n    \n        @Test\n        @WithMockUser\n        public void reproduceBug() throws Exception {\n\n            repository.findAll(); //Runs allright\n    \n            mockMvc.perform(get(&quot;/books&quot;)\n                    .contentType(APPLICATION_JSON_UTF8))\n                    .andExpect(status().isOk());\n    \n            repository.findAll(); //Throws exception: java.lang.IllegalArgumentException: Authentication object cannot be null\n    \n    \n        }\n    \n    }","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I'm trying to run some integration test using SpringBoot + Spring Data Mongo + SpringMVC</p>\n<p>I've simplified and generified the code but it should be able to reproduce the behavior with the following test.</p>\n<p>As you can see from <code>BookRepository</code> interface I want the user to be able to retrieve only the books that he owns (<code>@Query(&quot;{ 'ownerName' : '?#{principal?.username})</code>) and I'm writing a test to perform a <code>POST</code> to save a Book and then verify the book has the owner set appropriately.</p>\n<p>For the purpose of the question here I've simplified the test to just to a <code>GET</code> and then calling <code>findAll()</code></p>\n<h2>Problem</h2>\n<p>After performing any <code>MockMvc</code> request, the <code>SecurityContext</code> is cleared using <code>ThreadLocalSecurityContextHolderStrategy#clearContext()</code> which cause the following exception to be thrown when I try to call <code>repository.findAll();</code></p>\n<p><code>java.lang.IllegalArgumentException: Authentication object cannot be null</code></p>\n<h3>BookRepository.java</h3>\n<pre><code>@RepositoryRestResource\npublic interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n      \n    @Query(&quot;{ 'ownerName' : ?#{principal?.username} }&quot;)\n    List&lt;Book&gt; findAll();  \n \n}\n</code></pre>\n<h3>BookCustomRepositoryIntegrationTest.java</h3>\n<pre><code>/**\n * Integrate data mongo + mvc\n */\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class BookCustomRepositoryIntegrationTest {\n    \n    @Autowired\n    BookRepository repository;\n\n    @Autowired\n    MockMvc mockMvc;  \n\n    @Test\n    @WithMockUser\n    public void reproduceBug() throws Exception {\n\n        repository.findAll(); //Runs allright\n\n        mockMvc.perform(get(&quot;/books&quot;)\n                .contentType(APPLICATION_JSON_UTF8))\n                .andExpect(status().isOk());\n\n        repository.findAll(); //Throws exception: java.lang.IllegalArgumentException: Authentication object cannot be null\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","osgi","felix"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687332307,"post_id":76520890,"comment_id":134920089,"body_markdown":"is that a springboot Component annotation? Spring beans are singletons","body":"is that a springboot Component annotation? Spring beans are singletons"},{"owner":{"account_id":6652869,"reputation":53,"user_id":5134320,"accept_rate":40,"display_name":"Karthikeyan V"},"score":0,"creation_date":1687332531,"post_id":76520890,"comment_id":134920140,"body_markdown":"@Stultuske This is not a springboot component and it uses osgi annotations. Im using karaf to deploy it.","body":"@Stultuske This is not a springboot component and it uses osgi annotations. Im using karaf to deploy it."}],"answers":[{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687352322,"creation_date":1687352322,"answer_id":76523550,"question_id":76520890,"body_markdown":"You will want to use [ServiceScope.PROTOTYPE](https://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/component/annotations/ServiceScope.html#PROTOTYPE) service components (and remove `immediate=true`. This feature was introduced in DS 1.3. ","title":"How to create multiple unique instance of an osgi component?","body":"<p>You will want to use <a href=\"https://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/component/annotations/ServiceScope.html#PROTOTYPE\" rel=\"nofollow noreferrer\">ServiceScope.PROTOTYPE</a> service components (and remove <code>immediate=true</code>. This feature was introduced in DS 1.3.</p>\n"}],"owner":{"account_id":6652869,"reputation":53,"user_id":5134320,"accept_rate":40,"display_name":"Karthikeyan V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687352322,"creation_date":1687332153,"question_id":76520890,"body_markdown":"I have a component UrlManager. Whenever this binds in other components I need to get unique instance of UrlManager. How can I do it ? My DS version is 1.2.\r\nNote: Im using Osgi component annotations.\r\n\r\n  \r\n``` \r\n    import org.osgi.service.component.annotations.Component;\r\n    @Component(immediate=true, name=&quot;UrlManager&quot;, service={UrlManager.class})\r\n    public class UrlManager implements Urls\r\n    {\r\n       public String getId()\r\n       {\r\n       }\r\n    } \r\n\r\n    \r\n```\r\n\r\n   ","title":"How to create multiple unique instance of an osgi component?","body":"<p>I have a component UrlManager. Whenever this binds in other components I need to get unique instance of UrlManager. How can I do it ? My DS version is 1.2.\nNote: Im using Osgi component annotations.</p>\n<pre><code>    import org.osgi.service.component.annotations.Component;\n    @Component(immediate=true, name=&quot;UrlManager&quot;, service={UrlManager.class})\n    public class UrlManager implements Urls\n    {\n       public String getId()\n       {\n       }\n    } \n\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1639407824,"creation_date":1639407824,"answer_id":70336729,"question_id":70334420,"body_markdown":"Try\r\n\r\n    management:\r\n      health:\r\n        mail:\r\n          enabled: false","title":"How to disable the mail health check in Spring Boot?","body":"<p>Try</p>\n<pre><code>management:\n  health:\n    mail:\n      enabled: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718157,"reputation":1597,"user_id":3093796,"display_name":"Amit Chaurasia"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687352280,"creation_date":1687352280,"answer_id":76523542,"question_id":70334420,"body_markdown":"Add below to the application.properties file present in your resources folder.\r\n\r\n    management.health.mail.enabled=false\r\n\r\nThis answer is just an extension to the accepted answer from Nick.","title":"How to disable the mail health check in Spring Boot?","body":"<p>Add below to the application.properties file present in your resources folder.</p>\n<pre><code>management.health.mail.enabled=false\n</code></pre>\n<p>This answer is just an extension to the accepted answer from Nick.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10475,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70336729,"answer_count":2,"score":11,"last_activity_date":1687352280,"creation_date":1639397282,"question_id":70334420,"body_markdown":"I would like to disable the mail health check in spring boot as the values will be set during runtime. I&#39;ve found this mentioned in certain GitHub issues for Spring Boot but the configs mentioned vary. \r\n\r\nThis is my exception after starting my Spring Boot application. \r\n\r\n      2021-12-13 11:58:52.173 |tion(3)-192.168.1.89 |WARN  |o.s.boot.actuate.mail.MailHealthIndicator   | Mail health check failed\r\n    com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: localhost, 25; timeout -1\r\n      at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\r\n      at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\r\n      at javax.mail.Service.connect(Service.java:342)\r\n      at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\r\n      at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)\r\n      at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)\r\n      at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n      at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n      at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\r\n      at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n      at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\r\n      at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\r\n      at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n      at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n      at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n      at sun.reflect.GeneratedMethodAccessor441.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n      at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n      at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n      at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n      at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n      at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n      at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n      at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n      at java.net.Socket.connect(Socket.java:607)\r\n      at java.net.Socket.connect(Socket.java:556)\r\n      at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\r\n      at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\r\n      at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\r\n      ... 48 common frames omitted\r\n\r\nI&#39;ve tried adding this to my config but it is throwing the same exception. \r\n\r\n    mail:\r\n      test-connection: false\r\n      properties:\r\n        management:\r\n          health:\r\n            mail:\r\n              enabled: false\r\n\r\nWhat is the correct config to disable the mail health checks in Spring Boot? ","title":"How to disable the mail health check in Spring Boot?","body":"<p>I would like to disable the mail health check in spring boot as the values will be set during runtime. I've found this mentioned in certain GitHub issues for Spring Boot but the configs mentioned vary.</p>\n<p>This is my exception after starting my Spring Boot application.</p>\n<pre><code>  2021-12-13 11:58:52.173 |tion(3)-192.168.1.89 |WARN  |o.s.boot.actuate.mail.MailHealthIndicator   | Mail health check failed\ncom.sun.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\n  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\n  at javax.mail.Service.connect(Service.java:342)\n  at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\n  at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)\n  at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)\n  at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\n  at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\n  at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)\n  at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\n  at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\n  at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n  at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\n  at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\n  at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\n  at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\n  at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n  at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n  at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n  at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n  at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n  at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n  at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n  at sun.reflect.GeneratedMethodAccessor441.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n  at sun.rmi.transport.Transport$1.run(Transport.java:200)\n  at sun.rmi.transport.Transport$1.run(Transport.java:197)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n  at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException: Connection refused: connect\n  at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n  at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n  at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n  at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n  at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n  at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n  at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n  at java.net.Socket.connect(Socket.java:607)\n  at java.net.Socket.connect(Socket.java:556)\n  at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\n  at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\n  ... 48 common frames omitted\n</code></pre>\n<p>I've tried adding this to my config but it is throwing the same exception.</p>\n<pre><code>mail:\n  test-connection: false\n  properties:\n    management:\n      health:\n        mail:\n          enabled: false\n</code></pre>\n<p>What is the correct config to disable the mail health checks in Spring Boot?</p>\n"},{"tags":["java","flux","influxql"],"owner":{"account_id":28865174,"reputation":11,"user_id":22108105,"display_name":"lorenzo mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687351825,"creation_date":1687351825,"question_id":76523492,"body_markdown":"I need to convert this query written in InfluxQL\r\nUSE MyDB; DROP SERIES FROM MyDB.autogen.MyTable WHERE MyTakKey = &#39;MyTagValue&#39;\r\n\r\nI need to convert into flux.\r\n\r\nString influxQuery = &quot;from(bucket:&quot;MyDB/autogen&quot;)&quot; + &quot; |\\&gt; range(start: 1970-01-01T00:00:00Z, stop: 2023-06-30T00:00:00Z)&quot; + &quot; |\\&gt; filter(fn: (r) =\\&gt; r.\\_measurement == &quot;&quot; + measurement + &quot;&quot; &quot; + &quot; and r.MyTakKey == &quot;&quot; + &quot;MyTagValue&quot; + &quot;&quot;)&quot; + &quot; |\\&gt; drop(columns:&quot; + field + &quot;)&quot;;","title":"How to translate a simple query from influxQL to Flux","body":"<p>I need to convert this query written in InfluxQL\nUSE MyDB; DROP SERIES FROM MyDB.autogen.MyTable WHERE MyTakKey = 'MyTagValue'</p>\n<p>I need to convert into flux.</p>\n<p>String influxQuery = &quot;from(bucket:&quot;MyDB/autogen&quot;)&quot; + &quot; |&gt; range(start: 1970-01-01T00:00:00Z, stop: 2023-06-30T00:00:00Z)&quot; + &quot; |&gt; filter(fn: (r) =&gt; r._measurement == &quot;&quot; + measurement + &quot;&quot; &quot; + &quot; and r.MyTakKey == &quot;&quot; + &quot;MyTagValue&quot; + &quot;&quot;)&quot; + &quot; |&gt; drop(columns:&quot; + field + &quot;)&quot;;</p>\n"},{"tags":["java","transactions","timeout","keycloak","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590838536,"creation_date":1590838536,"answer_id":62101841,"question_id":62064818,"body_markdown":"I can answer my own answer. \r\n\r\nThere is no possibility to customize the transaction timeout for this process, since ImportSynchronization.sync is called from `KeycloakModelUtils.runJobInTransaction`, that can only configured via default-timeout as mentioned above.\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>I can answer my own answer. </p>\n\n<p>There is no possibility to customize the transaction timeout for this process, since ImportSynchronization.sync is called from <code>KeycloakModelUtils.runJobInTransaction</code>, that can only configured via default-timeout as mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":26948582,"reputation":1,"user_id":20518174,"display_name":"Tom Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687351776,"creation_date":1687351776,"answer_id":76523486,"question_id":62064818,"body_markdown":"If someone wonders how this might be fixed in Keycloak 21.1.1++, here is what I did:\r\n- enable quarkus config file\r\n  - add `KC_QUARKUS_PROPERTIES_ENABLED=true` as env variable or `kc.quarkus-properties-enabled` flag\r\n- make a `quarkus.properties` file, and add hte following:\r\n\r\n```\r\nquarkus.transaction-manager.default-transaction-timeout=PT6H\r\n```\r\nThe `quarkus.properties` file must be copied to the `conf` folder in the Keycloak distribution.\r\n\r\nSources: tons of debugging :)\r\n\r\nhttps://www.keycloak.org/migration/migrating-to-quarkus\r\n\r\nhttps://quarkus.io/guides/transaction#configuring-the-transaction-timeout\r\n\r\nRegarding the duration format:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>If someone wonders how this might be fixed in Keycloak 21.1.1++, here is what I did:</p>\n<ul>\n<li>enable quarkus config file\n<ul>\n<li>add <code>KC_QUARKUS_PROPERTIES_ENABLED=true</code> as env variable or <code>kc.quarkus-properties-enabled</code> flag</li>\n</ul>\n</li>\n<li>make a <code>quarkus.properties</code> file, and add hte following:</li>\n</ul>\n<pre><code>quarkus.transaction-manager.default-transaction-timeout=PT6H\n</code></pre>\n<p>The <code>quarkus.properties</code> file must be copied to the <code>conf</code> folder in the Keycloak distribution.</p>\n<p>Sources: tons of debugging :)</p>\n<p><a href=\"https://www.keycloak.org/migration/migrating-to-quarkus\" rel=\"nofollow noreferrer\">https://www.keycloak.org/migration/migrating-to-quarkus</a></p>\n<p><a href=\"https://quarkus.io/guides/transaction#configuring-the-transaction-timeout\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/transaction#configuring-the-transaction-timeout</a></p>\n<p>Regarding the duration format:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-</a></p>\n"}],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687351776,"creation_date":1590669232,"question_id":62064818,"body_markdown":"I am trying to do a ***sync*** process via the *keycloak ImportSynchronization* interface. \r\n(wildlfy 18.0.1.Final)\r\nit provides the following method to override:\r\n```\r\n    @Override\r\n    public SynchronizationResult sync(\r\n        final KeycloakSessionFactory sessionFactory,\r\n        final String realmId,\r\n        final UserStorageProviderModel model) {\r\n    ...}\r\n```\r\n\r\nThis sync process takes *much more time than our default transaction timeout* (300 sec = 5 min).\r\n\r\n***I am aware of this possible opportunity:***\r\n```&lt;subsystem xmlns=&quot;urn:jboss:domain:transactions:5.0&quot;&gt;\r\n            &lt;core-environment node-identifier=&quot;${jboss.tx.node.id:1}&quot;&gt;\r\n                &lt;process-id&gt;\r\n                    &lt;uuid/&gt;\r\n                &lt;/process-id&gt;\r\n            &lt;/core-environment&gt;\r\n            &lt;recovery-environment socket-binding=&quot;txn-recovery-environment&quot; status-socket-binding=&quot;txn-status-manager&quot;/&gt;\r\n            &lt;coordinator-environment statistics-enabled=&quot;${wildfly.transactions.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;\r\n                                     default-timeout=&quot;${env.TRANSACTION_TIMEOUT_SEC:300}&quot;/&gt;\r\n            &lt;object-store path=&quot;tx-object-store&quot; relative-to=&quot;jboss.server.data.dir&quot;/&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\n***BUT this is not what I want, unfortunately.***\r\n\r\nI ***don&#39;t want*** to increase the timeout for all of our processes, just for this one. Meaning I am searching for a custom transaction timeout solution. (something like @TransactionTimeout...)\r\n\r\n---\r\nI&#39;ve tried the following\r\n\r\n```\r\n\r\n@Override\r\n\tpublic SynchronizationResult doCleanup(final KeycloakSessionFactory keycloakSessionFactory, final String realmId)  {\r\n        final SynchronizationResult synchronizationResult = new SynchronizationResult();\r\n\r\n        try {\r\n\r\n            final RealmModel realmModel = this.getRealmModelInTx(realmId, keycloakSessionFactory);\r\n\r\n            Thread.sleep(&lt;more than tx timeout&gt;);\r\n\r\n\t\t\tfinal int userEntityCountBeforeCleanup = this.getUserCountInTx(realmModel, keycloakSessionFactory);\r\n...}\r\n\r\n```\r\n\r\nand ***in both methods, I created a new keycloakSession and a new transactionManager*** and ***closed*** them like here:\r\n\r\n```\r\n\tprivate CleanupTransactionHandler createSession(final KeycloakSessionFactory  keycloakSessionFactory) {\r\n\t\tKeycloakTransactionManager transactionManager = null;\r\n\t\tfinal KeycloakSession keycloakSession = keycloakSessionFactory.create();\r\n\r\n\t\tlog.tracef(&quot;KeycloakSession has been created [%s].&quot;, keycloakSession.hashCode());\r\n\t\ttransactionManager = keycloakSession.getTransactionManager();\r\n\t\ttransactionManager.begin();\r\n\t\tlog.tracef(&quot;KeycloakTransactionManager&#39;s transaction has been begun [%s].&quot;, transactionManager.hashCode());\r\n\t\treturn new CleanupTransactionHandler(keycloakSession,transactionManager);\r\n\t}\r\n\r\n\tprivate void closeSession(final KeycloakSession keycloakSession) {\r\n\t\tkeycloakSession.close();\r\n\t\tlog.tracef(&quot;KeycloakSession has been closed [%s].&quot;, keycloakSession.hashCode());\r\n\t}\r\n\r\n\tprivate void rollback(final KeycloakTransactionManager keycloakTransactionManager) {\r\n\t\tkeycloakTransactionManager.rollback();\r\n\t\tlog.tracef(&quot;KeycloakTransactionManager&#39;s transaction has been rolled back [%s].&quot;, keycloakTransactionManager.hashCode());\r\n\t}\r\n```\r\n\r\n\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>I am trying to do a <strong><em>sync</em></strong> process via the <em>keycloak ImportSynchronization</em> interface. \n(wildlfy 18.0.1.Final)\nit provides the following method to override:</p>\n\n<pre><code>    @Override\n    public SynchronizationResult sync(\n        final KeycloakSessionFactory sessionFactory,\n        final String realmId,\n        final UserStorageProviderModel model) {\n    ...}\n</code></pre>\n\n<p>This sync process takes <em>much more time than our default transaction timeout</em> (300 sec = 5 min).</p>\n\n<p><strong><em>I am aware of this possible opportunity:</em></strong></p>\n\n<pre><code>            &lt;core-environment node-identifier=\"${jboss.tx.node.id:1}\"&gt;\n                &lt;process-id&gt;\n                    &lt;uuid/&gt;\n                &lt;/process-id&gt;\n            &lt;/core-environment&gt;\n            &lt;recovery-environment socket-binding=\"txn-recovery-environment\" status-socket-binding=\"txn-status-manager\"/&gt;\n            &lt;coordinator-environment statistics-enabled=\"${wildfly.transactions.statistics-enabled:${wildfly.statistics-enabled:false}}\"\n                                     default-timeout=\"${env.TRANSACTION_TIMEOUT_SEC:300}\"/&gt;\n            &lt;object-store path=\"tx-object-store\" relative-to=\"jboss.server.data.dir\"/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n\n<p><strong><em>BUT this is not what I want, unfortunately.</em></strong></p>\n\n<p>I <strong><em>don't want</em></strong> to increase the timeout for all of our processes, just for this one. Meaning I am searching for a custom transaction timeout solution. (something like @TransactionTimeout...)</p>\n\n<hr>\n\n<p>I've tried the following</p>\n\n<pre><code>\n@Override\n    public SynchronizationResult doCleanup(final KeycloakSessionFactory keycloakSessionFactory, final String realmId)  {\n        final SynchronizationResult synchronizationResult = new SynchronizationResult();\n\n        try {\n\n            final RealmModel realmModel = this.getRealmModelInTx(realmId, keycloakSessionFactory);\n\n            Thread.sleep(&lt;more than tx timeout&gt;);\n\n            final int userEntityCountBeforeCleanup = this.getUserCountInTx(realmModel, keycloakSessionFactory);\n...}\n\n</code></pre>\n\n<p>and <strong><em>in both methods, I created a new keycloakSession and a new transactionManager</em></strong> and <strong><em>closed</em></strong> them like here:</p>\n\n<pre><code>    private CleanupTransactionHandler createSession(final KeycloakSessionFactory  keycloakSessionFactory) {\n        KeycloakTransactionManager transactionManager = null;\n        final KeycloakSession keycloakSession = keycloakSessionFactory.create();\n\n        log.tracef(\"KeycloakSession has been created [%s].\", keycloakSession.hashCode());\n        transactionManager = keycloakSession.getTransactionManager();\n        transactionManager.begin();\n        log.tracef(\"KeycloakTransactionManager's transaction has been begun [%s].\", transactionManager.hashCode());\n        return new CleanupTransactionHandler(keycloakSession,transactionManager);\n    }\n\n    private void closeSession(final KeycloakSession keycloakSession) {\n        keycloakSession.close();\n        log.tracef(\"KeycloakSession has been closed [%s].\", keycloakSession.hashCode());\n    }\n\n    private void rollback(final KeycloakTransactionManager keycloakTransactionManager) {\n        keycloakTransactionManager.rollback();\n        log.tracef(\"KeycloakTransactionManager's transaction has been rolled back [%s].\", keycloakTransactionManager.hashCode());\n    }\n</code></pre>\n"},{"tags":["java","functional-programming","refactoring"],"answers":[{"tags":[],"owner":{"account_id":22747974,"reputation":5,"user_id":16908509,"display_name":"Silop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651753218,"creation_date":1651753218,"answer_id":72127087,"question_id":72104643,"body_markdown":"I came up with somewhat of a solution.\r\n\r\nI created a new class which implemented BiConsumer&lt;List&lt;String&gt;, Integer&gt;.\r\n\r\n```\r\npublic Mangler(final Cracker c)\r\n{\r\n    this.c = c;\r\n}\r\n\r\npublic void start(String s, int i)\r\n{\r\n    accept(Mangle.getAllMangles(s), i - 1); \r\n}\r\n\r\n@Override\r\npublic void accept(List&lt;String&gt; strings, Integer integer)\r\n{\r\n    if (integer == 0) {\r\n        strings.forEach(x -&gt; c.checkAllVictims(x));\r\n        return;\r\n    }\r\n    strings.forEach(x -&gt; this.accept(Mangle.getAllMangles(x), integer - 1));\r\n}\r\n```\r\nWhich I could then call in the crack() function of my Cracker class:\r\n```\r\nMangler m = new Mangler(this);\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 1));\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 2));\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 3));\r\n```\r\nI also changed the parallelism to apply only to the dictionary of the Cracker instead of making the whole class a Runnable.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>I came up with somewhat of a solution.</p>\n<p>I created a new class which implemented BiConsumer&lt;List, Integer&gt;.</p>\n<pre><code>public Mangler(final Cracker c)\n{\n    this.c = c;\n}\n\npublic void start(String s, int i)\n{\n    accept(Mangle.getAllMangles(s), i - 1); \n}\n\n@Override\npublic void accept(List&lt;String&gt; strings, Integer integer)\n{\n    if (integer == 0) {\n        strings.forEach(x -&gt; c.checkAllVictims(x));\n        return;\n    }\n    strings.forEach(x -&gt; this.accept(Mangle.getAllMangles(x), integer - 1));\n}\n</code></pre>\n<p>Which I could then call in the crack() function of my Cracker class:</p>\n<pre><code>Mangler m = new Mangler(this);\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 1));\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 2));\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 3));\n</code></pre>\n<p>I also changed the parallelism to apply only to the dictionary of the Cracker instead of making the whole class a Runnable.</p>\n"},{"tags":[],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687351443,"creation_date":1687351443,"answer_id":76523430,"question_id":72104643,"body_markdown":"See https://stackoverflow.com/questions/19429667/implement-recursive-lambda-function-using-java-8\r\nas well as https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html\r\nand https://dzone.com/articles/do-it-java-8-recursive-lambdas\r\nand https://coderanch.com/t/634917/java/Recursion-Lambda-Java.\r\nSeems that you should find at least one viable solution.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>See <a href=\"https://stackoverflow.com/questions/19429667/implement-recursive-lambda-function-using-java-8\">Implement recursive lambda function using Java 8</a>\nas well as <a href=\"https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html\" rel=\"nofollow noreferrer\">https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html</a>\nand <a href=\"https://dzone.com/articles/do-it-java-8-recursive-lambdas\" rel=\"nofollow noreferrer\">https://dzone.com/articles/do-it-java-8-recursive-lambdas</a>\nand <a href=\"https://coderanch.com/t/634917/java/Recursion-Lambda-Java\" rel=\"nofollow noreferrer\">https://coderanch.com/t/634917/java/Recursion-Lambda-Java</a>.\nSeems that you should find at least one viable solution.</p>\n"}],"owner":{"account_id":22747974,"reputation":5,"user_id":16908509,"display_name":"Silop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687351443,"creation_date":1651606747,"question_id":72104643,"body_markdown":"I have written a function which I see great potential in being a recursive lambda function but I just can&#39;t wrap my head around how to implement it myself. The reason why I want to convert it to a recursive lambda function is the ability for me to run it for as long as I want where as currently I would have to copy paste another segment of code.\r\n```\r\n    private void crack()\r\n    {\r\n        System.out.println(&quot;Trying 1 mangle&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(this::checkAllVictims)\r\n        );\r\n        System.out.println(&quot;Trying 2 mangles&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(\r\n                        y -&gt; Mangle.getAllMangles(y).forEach(this::checkAllVictims)\r\n                )\r\n        );\r\n        System.out.println(&quot;Trying 3 mangles&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(\r\n                        y -&gt; Mangle.getAllMangles(y).forEach(\r\n                                z -&gt; Mangle.getAllMangles(z).forEach(this::checkAllVictims)\r\n                        )\r\n                )\r\n        );\r\n    }\r\n```\r\nHow would one go about refactoring this function the best way possible?\r\n\r\nFrom a course on functional programming with Elixir a year ago I did something similar but I do not know how to apply the same principle here.\r\n\r\n```\r\ndef to_church(0) do\r\n    fn(_), y -&gt; y end\r\nend\r\ndef to_church(n) do\r\n    fn(f, x) -&gt; f.(to_church(n - 1).(f, x)) end\r\nend\r\n```\r\nThe whole Elixir code can be found [here](https://github.com/ID1019/functional-programming/blob/master/exercises/lambda/src/church.ex) if more context is needed.\r\n\r\n\r\nAnother issue I have had, which is not the main issue of this question but would be a cherry on top to have answered, is that when running the above code in parallel as part of a Runnable object in an ExecutorService thread pool (run() calls crack()) all the threads except the first one allocated stops executing after printing &quot;Trying 1 mangle&quot;. They simply just dissapear without a trace and I do not know why.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>I have written a function which I see great potential in being a recursive lambda function but I just can't wrap my head around how to implement it myself. The reason why I want to convert it to a recursive lambda function is the ability for me to run it for as long as I want where as currently I would have to copy paste another segment of code.</p>\n<pre><code>    private void crack()\n    {\n        System.out.println(&quot;Trying 1 mangle&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(this::checkAllVictims)\n        );\n        System.out.println(&quot;Trying 2 mangles&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(\n                        y -&gt; Mangle.getAllMangles(y).forEach(this::checkAllVictims)\n                )\n        );\n        System.out.println(&quot;Trying 3 mangles&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(\n                        y -&gt; Mangle.getAllMangles(y).forEach(\n                                z -&gt; Mangle.getAllMangles(z).forEach(this::checkAllVictims)\n                        )\n                )\n        );\n    }\n</code></pre>\n<p>How would one go about refactoring this function the best way possible?</p>\n<p>From a course on functional programming with Elixir a year ago I did something similar but I do not know how to apply the same principle here.</p>\n<pre><code>def to_church(0) do\n    fn(_), y -&gt; y end\nend\ndef to_church(n) do\n    fn(f, x) -&gt; f.(to_church(n - 1).(f, x)) end\nend\n</code></pre>\n<p>The whole Elixir code can be found <a href=\"https://github.com/ID1019/functional-programming/blob/master/exercises/lambda/src/church.ex\" rel=\"nofollow noreferrer\">here</a> if more context is needed.</p>\n<p>Another issue I have had, which is not the main issue of this question but would be a cherry on top to have answered, is that when running the above code in parallel as part of a Runnable object in an ExecutorService thread pool (run() calls crack()) all the threads except the first one allocated stops executing after printing &quot;Trying 1 mangle&quot;. They simply just dissapear without a trace and I do not know why.</p>\n"},{"tags":["java","cmd","project","javac"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687351298,"post_id":76523401,"comment_id":134924273,"body_markdown":"&quot;But then I would have to compile all the files with the classes it&#39;s using, recursively.&quot; indeed","body":"&quot;But then I would have to compile all the files with the classes it&#39;s using, recursively.&quot; indeed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687353211,"post_id":76523401,"comment_id":134924716,"body_markdown":"*Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.* You should be using Maven or Gradle","body":"<i>Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.</i> You should be using Maven or Gradle"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1687353918,"post_id":76523401,"comment_id":134924907,"body_markdown":"I see. Never did such a thing before... can you refer me to an article or a good tutorial on how to compile and run java projects using Gradle or Maven?","body":"I see. Never did such a thing before... can you refer me to an article or a good tutorial on how to compile and run java projects using Gradle or Maven?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687353932,"post_id":76523401,"comment_id":134924909,"body_markdown":"And build it locally, providing a jar distro (perhaps with a runner script).","body":"And build it locally, providing a jar distro (perhaps with a runner script)."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687353975,"post_id":76523401,"comment_id":134924924,"body_markdown":"The maven and Gradle docs should be sufficient to get started.","body":"The maven and Gradle docs should be sufficient to get started."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687354161,"post_id":76523401,"comment_id":134924973,"body_markdown":"Yes, and when you&#39;ve looked at the Maven docs, [here](https://technojeeves.com/tech/maven-chess-project.zip) is your project as Maven. All you need to do is replace the dummy files with your own and it will compile and run for you. Package names, should all be lower case, but I&#39;ve left in your originals","body":"Yes, and when you&#39;ve looked at the Maven docs, <a href=\"https://technojeeves.com/tech/maven-chess-project.zip\" rel=\"nofollow noreferrer\">here</a> is your project as Maven. All you need to do is replace the dummy files with your own and it will compile and run for you. Package names, should all be lower case, but I&#39;ve left in your originals"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1687355743,"post_id":76523401,"comment_id":134925400,"body_markdown":"@g00se, one more question - is there any way to integrate maven into my existing project without creating a new one with maven and copying the source file in there? Since i&#39;ve already uploaded the project to github","body":"@g00se, one more question - is there any way to integrate maven into my existing project without creating a new one with maven and copying the source file in there? Since i&#39;ve already uploaded the project to github"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687355869,"post_id":76523401,"comment_id":134925429,"body_markdown":"As long as your keep the right paths, but tbh, it&#39;s better to keep a working project and build a new one alongside rather than risk wrecking something that already works. VS Code says it import Maven projects without issue, but if you put the github link up, I&#39;ll help put your code into the Maven skeleton","body":"As long as your keep the right paths, but tbh, it&#39;s better to keep a working project and build a new one alongside rather than risk wrecking something that already works. VS Code says it import Maven projects without issue, but if you put the github link up, I&#39;ll help put your code into the Maven skeleton"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687351404,"creation_date":1687351248,"question_id":76523401,"body_markdown":"I made a project (Chess GUI game) that includes a few directories, in java.\r\nHere is the project tree:\r\n\r\n```\r\n├───images\r\n│       black_bishop.png\r\n│       black_king.png\r\n│       black_knight.png\r\n│       black_pawn.png\r\n│       black_queen.png\r\n│       black_rook.png\r\n│       white_bishop.png\r\n│       white_king.png\r\n│       white_knight.png\r\n│       white_pawn.png\r\n│       white_queen.png\r\n│       white_rook.png\r\n│\r\n└───source\r\n    ├───GameGUI\r\n    │       ChessBoardPanel.java\r\n    │       ChessCellPanel.java\r\n    │       Game.java\r\n    │       PieceLabel.java\r\n    │\r\n    ├───MainComponents\r\n    │       Board.java\r\n    │       Cell.java\r\n    │       Move.java\r\n    │       Piece.java\r\n    │\r\n    └───Pieces\r\n            Bishop.java\r\n            King.java\r\n            Knight.java\r\n            Pawn.java\r\n            Queen.java\r\n            Rook.java\r\n```\r\n\r\nWhen trying to compile the file with the main method, which is `Game.java`, I go to the directory (in cmd using `cd`), and use `javac Game.java`.\r\n\r\nBut it doesn&#39;t compile and shows the following error:\r\n\r\n```\r\nsource\\GameGUI\\Game.java:18: error: cannot find symbol\r\n                frame.add(new ChessBoardPanel());\r\n                              ^\r\n  symbol: class ChessBoardPanel\r\n1 error\r\n```\r\n\r\nI suppose it&#39;s because I have to compile the `ChessBoardPanel.java` file as well. But then I would have to compile all the files with the classes it&#39;s using, recursively.\r\n\r\nI can do it by hand I guess, but my question is, is there a faster way? I just haven&#39;t tried to compile it and run manually since I was using vscode&#39;s extension to run it directly.\r\n\r\nIm asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed. ","title":"Compile entire java project through cmd","body":"<p>I made a project (Chess GUI game) that includes a few directories, in java.\nHere is the project tree:</p>\n<pre><code>├───images\n│       black_bishop.png\n│       black_king.png\n│       black_knight.png\n│       black_pawn.png\n│       black_queen.png\n│       black_rook.png\n│       white_bishop.png\n│       white_king.png\n│       white_knight.png\n│       white_pawn.png\n│       white_queen.png\n│       white_rook.png\n│\n└───source\n    ├───GameGUI\n    │       ChessBoardPanel.java\n    │       ChessCellPanel.java\n    │       Game.java\n    │       PieceLabel.java\n    │\n    ├───MainComponents\n    │       Board.java\n    │       Cell.java\n    │       Move.java\n    │       Piece.java\n    │\n    └───Pieces\n            Bishop.java\n            King.java\n            Knight.java\n            Pawn.java\n            Queen.java\n            Rook.java\n</code></pre>\n<p>When trying to compile the file with the main method, which is <code>Game.java</code>, I go to the directory (in cmd using <code>cd</code>), and use <code>javac Game.java</code>.</p>\n<p>But it doesn't compile and shows the following error:</p>\n<pre><code>source\\GameGUI\\Game.java:18: error: cannot find symbol\n                frame.add(new ChessBoardPanel());\n                              ^\n  symbol: class ChessBoardPanel\n1 error\n</code></pre>\n<p>I suppose it's because I have to compile the <code>ChessBoardPanel.java</code> file as well. But then I would have to compile all the files with the classes it's using, recursively.</p>\n<p>I can do it by hand I guess, but my question is, is there a faster way? I just haven't tried to compile it and run manually since I was using vscode's extension to run it directly.</p>\n<p>Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.</p>\n"},{"tags":["java","django","postgresql","subprocess"],"answers":[{"tags":[],"owner":{"account_id":2654977,"reputation":21,"user_id":2295858,"display_name":"langlais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687351357,"creation_date":1687351357,"answer_id":76523415,"question_id":76516505,"body_markdown":"Finally managed to make it work by loading configuration from a file and first creating the driver, and then using it to open the connection. See the following code - java side:\r\n\r\n```\r\n    protected boolean loadConfiguration() {\r\n        Properties properties = new Properties();\r\n\r\n        try (FileInputStream fileInputStream = new FileInputStream(CONFIG_FILE)) {\r\n            properties.load(fileInputStream);\r\n            mURL = properties.getProperty(&quot;url&quot;);\r\n            mUser = properties.getProperty(&quot;user&quot;);\r\n            mPassword = properties.getProperty(&quot;password&quot;);\r\n            return connect() != null;\r\n        } catch (IOException e) {\r\n            WTrace.errTrace(&quot;Error reading config: &quot; + e.getLocalizedMessage());\r\n        }\r\n        return connect() != null;\r\n    }\r\n    \r\n    protected Connection connect() {\r\n        if (mConn == null) {\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            } catch (ClassNotFoundException ex) {\r\n                System.err.println(&quot;Cannot load DB driver: &quot; + ex.getLocalizedMessage());\r\n            }\r\n            Properties info = new Properties(); \r\n            info.put(&quot;user&quot;, mUser); \r\n            info.put(&quot;password&quot;, mPassword);\r\n\r\n            Driver driver;\r\n            try {\r\n                driver = DriverManager.getDriver(mURL);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Get DB driver error: &quot; + ex.getLocalizedMessage());\r\n                return null;\r\n            }\r\n            try {\r\n                mConn = driver.connect(mURL, info);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Connect error: &quot; + ex.getLocalizedMessage());\r\n            }\r\n            System.err.println(&quot;Connection: &quot; + mConn == null ? &quot;fail&quot; : &quot;OK&quot;);\r\n        }\r\n        return mConn;\r\n    }\r\n```\r\n","title":"Running a java jar from Django with subprocess.run","body":"<p>Finally managed to make it work by loading configuration from a file and first creating the driver, and then using it to open the connection. See the following code - java side:</p>\n<pre><code>    protected boolean loadConfiguration() {\n        Properties properties = new Properties();\n\n        try (FileInputStream fileInputStream = new FileInputStream(CONFIG_FILE)) {\n            properties.load(fileInputStream);\n            mURL = properties.getProperty(&quot;url&quot;);\n            mUser = properties.getProperty(&quot;user&quot;);\n            mPassword = properties.getProperty(&quot;password&quot;);\n            return connect() != null;\n        } catch (IOException e) {\n            WTrace.errTrace(&quot;Error reading config: &quot; + e.getLocalizedMessage());\n        }\n        return connect() != null;\n    }\n    \n    protected Connection connect() {\n        if (mConn == null) {\n            try {\n                Class.forName(&quot;org.postgresql.Driver&quot;);\n            } catch (ClassNotFoundException ex) {\n                System.err.println(&quot;Cannot load DB driver: &quot; + ex.getLocalizedMessage());\n            }\n            Properties info = new Properties(); \n            info.put(&quot;user&quot;, mUser); \n            info.put(&quot;password&quot;, mPassword);\n\n            Driver driver;\n            try {\n                driver = DriverManager.getDriver(mURL);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Get DB driver error: &quot; + ex.getLocalizedMessage());\n                return null;\n            }\n            try {\n                mConn = driver.connect(mURL, info);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Connect error: &quot; + ex.getLocalizedMessage());\n            }\n            System.err.println(&quot;Connection: &quot; + mConn == null ? &quot;fail&quot; : &quot;OK&quot;);\n        }\n        return mConn;\n    }\n</code></pre>\n"}],"owner":{"account_id":2654977,"reputation":21,"user_id":2295858,"display_name":"langlais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687351357,"creation_date":1687276600,"question_id":76516505,"body_markdown":"I am going mad over something that should be very simple.\r\n\r\nI have a jar program that needs to read stuff from a database, called from Django. It takes the db connection url as an arg. When I run it in the command line, all&#39;s fine:\r\n\r\n```\r\nC:\\Dev\\mcl&gt;java -jar mcl.jar &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\r\n```\r\n\r\nHowever when I run it within Django from a thread, it doesn&#39;t find the postgres driver. I use:\r\n\r\n```\r\nresult = subprocess.run([&#39;java.exe&#39;, &#39;-jar&#39;, &#39;mcl.jar&#39;, &#39;&quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;&#39;], cwd=r&#39;C:\\\\Dev\\\\mcl&#39;, capture_output=True, shell=True, text=True)\r\n\r\n```\r\n\r\nIt doesn&#39;t work, I get: \r\nNo suitable driver found for &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\r\n\r\nI have tried many things, embedding the postgres jar in mcl.jar, changing the arguments in the subprocess.run call but nothing works.\r\n\r\nIn the java I have tried with and without\r\n```\r\nClass.forName(&quot;org.postgresql.Driver&quot;);\r\n```\r\nThe Java code is:\r\n\r\n```\r\n          try {\r\n                mConn = DriverManager.getConnection(mURL);\r\n                mConn.setAutoCommit(true);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Database connection error: &quot; + ex.getLocalizedMessage());\r\n                mConn = null;\r\n            }\r\n```\r\n\r\nThere must be something specific to Django environment, but what?\r\n","title":"Running a java jar from Django with subprocess.run","body":"<p>I am going mad over something that should be very simple.</p>\n<p>I have a jar program that needs to read stuff from a database, called from Django. It takes the db connection url as an arg. When I run it in the command line, all's fine:</p>\n<pre><code>C:\\Dev\\mcl&gt;java -jar mcl.jar &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\n</code></pre>\n<p>However when I run it within Django from a thread, it doesn't find the postgres driver. I use:</p>\n<pre><code>result = subprocess.run(['java.exe', '-jar', 'mcl.jar', '&quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;'], cwd=r'C:\\\\Dev\\\\mcl', capture_output=True, shell=True, text=True)\n\n</code></pre>\n<p>It doesn't work, I get:\nNo suitable driver found for &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&amp;password=&quot;</p>\n<p>I have tried many things, embedding the postgres jar in mcl.jar, changing the arguments in the subprocess.run call but nothing works.</p>\n<p>In the java I have tried with and without</p>\n<pre><code>Class.forName(&quot;org.postgresql.Driver&quot;);\n</code></pre>\n<p>The Java code is:</p>\n<pre><code>          try {\n                mConn = DriverManager.getConnection(mURL);\n                mConn.setAutoCommit(true);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Database connection error: &quot; + ex.getLocalizedMessage());\n                mConn = null;\n            }\n</code></pre>\n<p>There must be something specific to Django environment, but what?</p>\n"},{"tags":["java","android","xml","editor"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687393090,"post_id":76523277,"comment_id":134932031,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28865836,"reputation":1,"user_id":22108620,"display_name":"Kali Linux"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687351068,"creation_date":1687350327,"question_id":76523277,"body_markdown":"I made an Android application a while ago. Now i moved to Python. All I have of my old Android project is the APK file that built back then. \r\nLooking at it now i do not like the way that the UI looks. So i want to edit some elements. \r\nTo do that i used a Linux machine to decompile(disassemble) the APK file using ApkTool. Now i have a bunch of folders and whatnot. \r\nMy question came when i tried to view the XML code of the decompiled APK and have a preview of the current UI on the other side of my screen (you know how android studio does it). is there any way that i can get a software of any kind that lets me convert my APK file into a 100% Android project. i just want to change a few UI elements. \r\nGoing into the res/layout folder that got generated and looking at the XML files, i feel like those are not really the UI files that i would have normally worked on in Android Studio. \r\nPlus, installing Android Studio is pretty tiresome (i have experience with that). So is there any other software that can do what i want? i would prefer if it was on a Linux machine. But windows is okay too. \r\nSo to simplify my question: Is there any way that i can disassemble an APK file, view its layout files (XML) and make some changes to the layout elements (buttons and whatnot)?\r\n\r\nI literally spent hours every day trying to find a solution to this online. I even asked ChatGPT and BARD. I am stuck as stuck can ever get. ","title":"Change UI elements of and APK file","body":"<p>I made an Android application a while ago. Now i moved to Python. All I have of my old Android project is the APK file that built back then.\nLooking at it now i do not like the way that the UI looks. So i want to edit some elements.\nTo do that i used a Linux machine to decompile(disassemble) the APK file using ApkTool. Now i have a bunch of folders and whatnot.\nMy question came when i tried to view the XML code of the decompiled APK and have a preview of the current UI on the other side of my screen (you know how android studio does it). is there any way that i can get a software of any kind that lets me convert my APK file into a 100% Android project. i just want to change a few UI elements.\nGoing into the res/layout folder that got generated and looking at the XML files, i feel like those are not really the UI files that i would have normally worked on in Android Studio.\nPlus, installing Android Studio is pretty tiresome (i have experience with that). So is there any other software that can do what i want? i would prefer if it was on a Linux machine. But windows is okay too.\nSo to simplify my question: Is there any way that i can disassemble an APK file, view its layout files (XML) and make some changes to the layout elements (buttons and whatnot)?</p>\n<p>I literally spent hours every day trying to find a solution to this online. I even asked ChatGPT and BARD. I am stuck as stuck can ever get.</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687341587,"post_id":76522027,"comment_id":134922241,"body_markdown":"The formats are very different… You may stay *not satisified* because this requires checks. There&#39;s a chance you can minimze the amount of checks, so… How does your code look?","body":"The formats are very different… You may stay <i>not satisified</i> because this requires checks. There&#39;s a chance you can minimze the amount of checks, so… How does your code look?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687347189,"post_id":76522027,"comment_id":134923308,"body_markdown":"Do you want to keep the input format and only convert the values to UTC? How do you know if `&quot;2023-06-14T19:19:52.13844&quot;` is not UTC already? It has no zone or offset…","body":"Do you want to keep the input format and only convert the values to UTC? How do you know if <code>&quot;2023-06-14T19:19:52.13844&quot;</code> is not UTC already? It has no zone or offset…"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687350831,"creation_date":1687345129,"answer_id":76522538,"question_id":76522027,"body_markdown":"For your formats and inputs, the following works:\r\n\r\n    import java.time.*;\r\n    import java.time.temporal.*;\r\n    import java.time.format.*;\r\n    \r\n    public class MultiPats {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String sDate = args[0];\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSS]&quot;\r\n                        + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX]&quot; + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;]&quot;);\r\n                Object x = formatter.parse(args[0]);\r\n                TemporalAccessor ta = formatter.parseBest(args[0], ZonedDateTime::from, OffsetDateTime::from,\r\n                        LocalDateTime::from);\r\n                if (ta instanceof ZonedDateTime) {\r\n                    System.out.printf(&quot;%s = ZDT = %s. In UTC: %s%n&quot;, sDate, ta.query(ZonedDateTime::from), ta.query(ZonedDateTime::from).withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)));\r\n                } else if (ta instanceof OffsetDateTime) {\r\n                    System.out.printf(&quot;%s = ODT = %s. In UTC: %n&quot;, sDate, ta.query(OffsetDateTime::from), ta.query(OffsetDateTime::from).withOffsetSameInstant(ZoneOffset.UTC));\r\n                } else if (ta instanceof LocalDateTime) {\r\n                    System.out.printf(&quot;%s = LDT = %s%n&quot;, sDate, ta.query(LocalDateTime::from));\r\n    \r\n                }\r\n    \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Convert DateTime String to UTC DateTime String","body":"<p>For your formats and inputs, the following works:</p>\n<pre><code>import java.time.*;\nimport java.time.temporal.*;\nimport java.time.format.*;\n\npublic class MultiPats {\n    public static void main(String[] args) {\n        try {\n            String sDate = args[0];\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSSSS]&quot;\n                    + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSSXXX]&quot; + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSS'Z']&quot;);\n            Object x = formatter.parse(args[0]);\n            TemporalAccessor ta = formatter.parseBest(args[0], ZonedDateTime::from, OffsetDateTime::from,\n                    LocalDateTime::from);\n            if (ta instanceof ZonedDateTime) {\n                System.out.printf(&quot;%s = ZDT = %s. In UTC: %s%n&quot;, sDate, ta.query(ZonedDateTime::from), ta.query(ZonedDateTime::from).withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)));\n            } else if (ta instanceof OffsetDateTime) {\n                System.out.printf(&quot;%s = ODT = %s. In UTC: %n&quot;, sDate, ta.query(OffsetDateTime::from), ta.query(OffsetDateTime::from).withOffsetSameInstant(ZoneOffset.UTC));\n            } else if (ta instanceof LocalDateTime) {\n                System.out.printf(&quot;%s = LDT = %s%n&quot;, sDate, ta.query(LocalDateTime::from));\n\n            }\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687349479,"creation_date":1687349479,"answer_id":76523150,"question_id":76522027,"body_markdown":"You may want to check the length of the `String`s in order to find out if you need a pattern that is not build-in / predefined. Checking that may become a real pain if you are expecting (a lot) more than your 4 examples.\r\n\r\nHowever, one of your examples (`&quot;2023-06-14T19:19:52.13844&quot;`) defines a time of day along with a date but lacks zone and offset. You can parse it and declare it UTC time, but you cannot be sure that time actually was in UTC, exclusively judging from the values of the `String`. If you know the origin zone or offset, you would have to add it, convert to UTC and then format without zone and offset.\r\n\r\n### example code\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// define some formatters for input parsing and output formatting\r\n\tvar dtf25 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSS&quot;);\r\n\tvar dtf26 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSz&quot;);\r\n\tvar dtf29 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;);\r\n\t\r\n\t// no conversion needed, this is already in UTC\r\n\tSystem.out.println(OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138Z&quot;));\r\n\t// no conversion possible, origin zone or offset are unknown\r\n\tSystem.out.println(\r\n\t\t\tLocalDateTime.parse(&quot;2023-06-14T19:19:52.13844&quot;)\r\n\t\t\t\t\t\t .format(dtf25)\r\n\t\t\t\t\t);\r\n\t// parse, convert zone and print in the source format\r\n\tSystem.out.println(\r\n\t\t\tZonedDateTime.parse(&quot;2023-06-14T19:19:52.138PDT&quot;, dtf26)\r\n\t\t\t\t\t\t .withZoneSameInstant(ZoneOffset.UTC)\r\n\t\t\t\t\t\t .format(dtf26)\r\n\t\t\t\t\t);\r\n\t// parse, convert zone and print in the source format\r\n\tSystem.out.println(\r\n\t\t\tOffsetDateTime.parse(&quot;2023-06-14T19:19:52.138-07:00&quot;)\r\n\t\t\t\t\t\t  .withOffsetSameInstant(ZoneOffset.UTC)\r\n\t\t\t\t\t\t  .format(dtf29)\r\n\t\t\t\t\t);\r\n}\r\n```\r\n\r\n### output\r\n\r\n```none\r\n2023-06-14T19:19:52.138Z\r\n2023-06-14T19:19:52.13844\r\n2023-06-15T02:19:52.138Z\r\n2023-06-15T02:19:52.138+00:00\r\n```","title":"Convert DateTime String to UTC DateTime String","body":"<p>You may want to check the length of the <code>String</code>s in order to find out if you need a pattern that is not build-in / predefined. Checking that may become a real pain if you are expecting (a lot) more than your 4 examples.</p>\n<p>However, one of your examples (<code>&quot;2023-06-14T19:19:52.13844&quot;</code>) defines a time of day along with a date but lacks zone and offset. You can parse it and declare it UTC time, but you cannot be sure that time actually was in UTC, exclusively judging from the values of the <code>String</code>. If you know the origin zone or offset, you would have to add it, convert to UTC and then format without zone and offset.</p>\n<h3>example code</h3>\n<pre><code>public static void main(String[] args) {\n    // define some formatters for input parsing and output formatting\n    var dtf25 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSSS&quot;);\n    var dtf26 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSz&quot;);\n    var dtf29 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxxx&quot;);\n    \n    // no conversion needed, this is already in UTC\n    System.out.println(OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138Z&quot;));\n    // no conversion possible, origin zone or offset are unknown\n    System.out.println(\n            LocalDateTime.parse(&quot;2023-06-14T19:19:52.13844&quot;)\n                         .format(dtf25)\n                    );\n    // parse, convert zone and print in the source format\n    System.out.println(\n            ZonedDateTime.parse(&quot;2023-06-14T19:19:52.138PDT&quot;, dtf26)\n                         .withZoneSameInstant(ZoneOffset.UTC)\n                         .format(dtf26)\n                    );\n    // parse, convert zone and print in the source format\n    System.out.println(\n            OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138-07:00&quot;)\n                          .withOffsetSameInstant(ZoneOffset.UTC)\n                          .format(dtf29)\n                    );\n}\n</code></pre>\n<h3>output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-14T19:19:52.138Z\n2023-06-14T19:19:52.13844\n2023-06-15T02:19:52.138Z\n2023-06-15T02:19:52.138+00:00\n</code></pre>\n"}],"owner":{"account_id":14587036,"reputation":15,"user_id":10535476,"display_name":"spurohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687350831,"creation_date":1687341284,"question_id":76522027,"body_markdown":"I am trying to write a simple piece of Java code that takes a datetime string along with the format and converts it into UTC into same format. I am able to achieve this using lot of checks and try catch but not satisfied.\r\n\r\nIs there any cleaner way in which I can handle this. Obviously the method only does something meaningful for date formats that have timezone or offset information. I want to gracefully process any inputs.\r\n\r\nSome samples -\r\n\r\n    \r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSS\r\nInput 2023-06-14T19:19:52.13844\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX\r\nInput 2023-06-14T19:19:52.138-07:00\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;\r\nInput 2023-06-14T19:19:52.138Z\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSz\r\nInput 2023-06-14T19:19:52.138PDT\r\n\r\nThanks in advance.","title":"Convert DateTime String to UTC DateTime String","body":"<p>I am trying to write a simple piece of Java code that takes a datetime string along with the format and converts it into UTC into same format. I am able to achieve this using lot of checks and try catch but not satisfied.</p>\n<p>Is there any cleaner way in which I can handle this. Obviously the method only does something meaningful for date formats that have timezone or offset information. I want to gracefully process any inputs.</p>\n<p>Some samples -</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSSS\nInput 2023-06-14T19:19:52.13844</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSXXX\nInput 2023-06-14T19:19:52.138-07:00</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\nInput 2023-06-14T19:19:52.138Z</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSz\nInput 2023-06-14T19:19:52.138PDT</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","logging","aop"],"answers":[{"tags":[],"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609437632,"creation_date":1609437250,"answer_id":65524162,"question_id":65523527,"body_markdown":"Add this dependency:\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthen, create an `Around` aspect for your controllers&#39; methods&#39; execution:\r\n```\r\n    @Around(&quot;within(path.to.your.controller.*)&quot;)\r\n    public Object pointcutWithin(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        logger.info(&quot; ###### pointcutWithin() before&quot;);\r\n        long start = System.nanoTime();\r\n\r\n        Object result = joinPoint.proceed();\r\n\r\n        logger.info(&quot; ###### pointcutWithin() after&quot;);\r\n        long end = System.nanoTime();\r\n\r\n        long timeElapsedInMillis = (end - start) / 1000000;\r\n        logger.info(&quot; ###### elapsed time in millis: &quot;+timeElapsedInMillis);\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nAs for persisting: first, get the req and resp like so:\r\n```\r\nMyRequest req = (MyRequest) joinPoint.getArgs()[0];\r\n\r\nMyResponse resp = (MyResponse) result;\r\n```\r\n\r\nthen it&#39;s up to you what you actually want t o persist. For classes with simple fields I&#39;d go with a `varchar`, just remember to override their `toString` methods.","title":"How to save requests and responses to database in spring boot","body":"<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then, create an <code>Around</code> aspect for your controllers' methods' execution:</p>\n<pre><code>    @Around(&quot;within(path.to.your.controller.*)&quot;)\n    public Object pointcutWithin(ProceedingJoinPoint joinPoint) throws Throwable {\n        logger.info(&quot; ###### pointcutWithin() before&quot;);\n        long start = System.nanoTime();\n\n        Object result = joinPoint.proceed();\n\n        logger.info(&quot; ###### pointcutWithin() after&quot;);\n        long end = System.nanoTime();\n\n        long timeElapsedInMillis = (end - start) / 1000000;\n        logger.info(&quot; ###### elapsed time in millis: &quot;+timeElapsedInMillis);\n\n        return result;\n    }\n</code></pre>\n<p>As for persisting: first, get the req and resp like so:</p>\n<pre><code>MyRequest req = (MyRequest) joinPoint.getArgs()[0];\n\nMyResponse resp = (MyResponse) result;\n</code></pre>\n<p>then it's up to you what you actually want t o persist. For classes with simple fields I'd go with a <code>varchar</code>, just remember to override their <code>toString</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609438338,"creation_date":1609437571,"answer_id":65524216,"question_id":65523527,"body_markdown":"&gt; First question is what type I should use in my entity for request and\r\n&gt; response ( string, blob, etc)\r\n&gt; \r\n\r\nIt mainly depends on the database vendor and request/response length. &lt;br&gt;\r\nString may be limited for some vendors and blob is so required. \r\nOn the other hand, matching on blob is slower.  \r\nAnother alternative is using a nosql format such as JSON.  \r\n \r\n \r\n&gt; Second question, how to get request,response and its controller name\r\n&gt; to create the entity to save to database ?\r\n\r\nThere are really several ways.  \r\nYou could take advantage of built-in Spring Boot [http tracing features][1] but it has a limitation : posted/received of request/responses are not available. \r\n\r\n&gt; 5.8. HTTP Tracing\r\n&gt; \r\n&gt; HTTP Tracing can be enabled by providing a bean of type\r\n&gt; HttpTraceRepository in your application’s configuration. For\r\n&gt; convenience, Spring Boot offers an InMemoryHttpTraceRepository that\r\n&gt; stores traces for the last 100 request-response exchanges, by default.\r\n&gt; InMemoryHttpTraceRepository is limited compared to other tracing\r\n&gt; solutions and we recommend using it only for development environments.\r\n&gt; For production environments, use of a production-ready tracing or\r\n&gt; observability solution, such as Zipkin or Spring Cloud Sleuth, is\r\n&gt; recommended. Alternatively, create your own HttpTraceRepository that\r\n&gt; meets your needs.\r\n&gt; \r\n&gt; The httptrace endpoint can be used to obtain information about the\r\n&gt; request-response exchanges that are stored in the HttpTraceRepository.\r\n&gt; \r\n&gt; 5.8.1. Custom HTTP tracing\r\n&gt; \r\n&gt; To customize the items that are included in each trace, use the\r\n&gt; management.trace.http.include configuration property. For advanced\r\n&gt; customization, consider registering your own HttpExchangeTracer\r\n&gt; implementation.\r\n&gt; \r\n\r\nAlternatives are implementing a filter for requests/responses and log in it.  \r\nFor example : \r\n\r\n    @Component\r\n    public class RequestResponseStoringFilter implements Filter {\r\n        \r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res,\r\n          FilterChain chain) throws IOException, ServletException {\r\n    \r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            chain.doFilter(req, resp);\r\n        } finally {\r\n           // Measure elapsed time\r\n            long elapsed = System.currentTimeMillis() - start;\r\n           // store request data and store response data in a DB\r\n           .....\r\n        }\r\n\r\n      }\r\n    \r\n      @Override\r\n      public void destroy() {}\r\n    \r\n      @Override\r\n      public void init(FilterConfig arg0) throws ServletException {}\r\n    \r\n    }\r\n\r\n&gt; Lastly, is it possible to calculate response time (time spent in the\r\n&gt; controller) of the controller ?\r\n\r\nThe way implement a Filter can do that as shown above.  \r\nThe httptrace endpoint way provides that with the `timeTaken` field.   &lt;br&gt;\r\nFIY, here is the content of a [HttpTrace][2] instance :    \r\n\r\n&lt;pre&gt;\r\nHttpTrace.Principal\tgetPrincipal() \r\nHttpTrace.Request\tgetRequest() \r\nHttpTrace.Response\tgetResponse() \r\nHttpTrace.Session\tgetSession() \r\nInstant\tgetTimestamp() \r\nLong\tgetTimeTaken() \r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-http-tracing\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/trace/http/HttpTrace.html\r\n","title":"How to save requests and responses to database in spring boot","body":"<blockquote>\n<p>First question is what type I should use in my entity for request and\nresponse ( string, blob, etc)</p>\n</blockquote>\n<p>It mainly depends on the database vendor and request/response length. <br>\nString may be limited for some vendors and blob is so required.\nOn the other hand, matching on blob is slower.<br />\nAnother alternative is using a nosql format such as JSON.</p>\n<blockquote>\n<p>Second question, how to get request,response and its controller name\nto create the entity to save to database ?</p>\n</blockquote>\n<p>There are really several ways.<br />\nYou could take advantage of built-in Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-http-tracing\" rel=\"nofollow noreferrer\">http tracing features</a> but it has a limitation : posted/received of request/responses are not available.</p>\n<blockquote>\n<p>5.8. HTTP Tracing</p>\n<p>HTTP Tracing can be enabled by providing a bean of type\nHttpTraceRepository in your application’s configuration. For\nconvenience, Spring Boot offers an InMemoryHttpTraceRepository that\nstores traces for the last 100 request-response exchanges, by default.\nInMemoryHttpTraceRepository is limited compared to other tracing\nsolutions and we recommend using it only for development environments.\nFor production environments, use of a production-ready tracing or\nobservability solution, such as Zipkin or Spring Cloud Sleuth, is\nrecommended. Alternatively, create your own HttpTraceRepository that\nmeets your needs.</p>\n<p>The httptrace endpoint can be used to obtain information about the\nrequest-response exchanges that are stored in the HttpTraceRepository.</p>\n<p>5.8.1. Custom HTTP tracing</p>\n<p>To customize the items that are included in each trace, use the\nmanagement.trace.http.include configuration property. For advanced\ncustomization, consider registering your own HttpExchangeTracer\nimplementation.</p>\n</blockquote>\n<p>Alternatives are implementing a filter for requests/responses and log in it.<br />\nFor example :</p>\n<pre><code>@Component\npublic class RequestResponseStoringFilter implements Filter {\n    \n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res,\n      FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) res;\n\n    long start = System.currentTimeMillis();\n    try {\n        chain.doFilter(req, resp);\n    } finally {\n       // Measure elapsed time\n        long elapsed = System.currentTimeMillis() - start;\n       // store request data and store response data in a DB\n       .....\n    }\n\n  }\n\n  @Override\n  public void destroy() {}\n\n  @Override\n  public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n<blockquote>\n<p>Lastly, is it possible to calculate response time (time spent in the\ncontroller) of the controller ?</p>\n</blockquote>\n<p>The way implement a Filter can do that as shown above.<br />\nThe httptrace endpoint way provides that with the <code>timeTaken</code> field.   <br>\nFIY, here is the content of a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/trace/http/HttpTrace.html\" rel=\"nofollow noreferrer\">HttpTrace</a> instance :</p>\n<pre>\nHttpTrace.Principal getPrincipal() \nHttpTrace.Request   getRequest() \nHttpTrace.Response  getResponse() \nHttpTrace.Session   getSession() \nInstant getTimestamp() \nLong    getTimeTaken() \n</pre>\n"},{"tags":[],"owner":{"account_id":1924336,"reputation":155,"user_id":1735146,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609480992,"creation_date":1609477894,"answer_id":65527391,"question_id":65523527,"body_markdown":"This kinda expands on the other answers, but I think It warrants a separate answer.\r\n\r\nIf your pulling in spring-boot-starter-web, then you&#39;re already pulling in spring-aop. If your going to go down the point cut route though, I&#39;d highly recommend just using the Micrometer `@Timed` annotation which comes with `spring-boot-starter-actuator`. I&#39;ve written my own metric pointcuts a many times, but if your just after timings and counts of successes and failures, `@Timed` works great. \r\n\r\nI&#39;d also highly recommend looking into using a time series database (e.g [influx](https://www.influxdata.com/products/influxdb/)) for storing things like response times and other performance metrics. Keep your raw payloads and other possible auditing concerns in a separate DB. There are some very powerful things you can do with influx and running [Grafana](https://grafana.com/) or [Chronograf](https://www.influxdata.com/time-series-platform/chronograf/) on top of it. Without a doubt one of the best things my current company has done is years is adopting Influx/Chronograf.\r\n\r\nWith regards to the request/response capture, I had a weird edge case in my work flow once where the http trace just wasn&#39;t working for some hard requirements. You can capture the contents directly in a chain filter yourself with a `ContentCachingRequestWrapper`\r\nThen you can access them with:\r\n```\r\n @Component\r\nclass MyPayloadCapturingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\r\n\r\n        filterChain.doFilter(requestWrapper, responseWrapper)\r\n\r\n        def requestBody = new String(requestWrapper.contentAsByteArray)\r\n        def responseBody = new String(responseWrapper.contentAsByteArray)\r\n        //..do something with them\r\n    }\r\n}\r\n```\r\nnote the `OncePerRequestFilter`, I found times when my Filter was firing multiple times for the same request. This prevents that. ","title":"How to save requests and responses to database in spring boot","body":"<p>This kinda expands on the other answers, but I think It warrants a separate answer.</p>\n<p>If your pulling in spring-boot-starter-web, then you're already pulling in spring-aop. If your going to go down the point cut route though, I'd highly recommend just using the Micrometer <code>@Timed</code> annotation which comes with <code>spring-boot-starter-actuator</code>. I've written my own metric pointcuts a many times, but if your just after timings and counts of successes and failures, <code>@Timed</code> works great.</p>\n<p>I'd also highly recommend looking into using a time series database (e.g <a href=\"https://www.influxdata.com/products/influxdb/\" rel=\"nofollow noreferrer\">influx</a>) for storing things like response times and other performance metrics. Keep your raw payloads and other possible auditing concerns in a separate DB. There are some very powerful things you can do with influx and running <a href=\"https://grafana.com/\" rel=\"nofollow noreferrer\">Grafana</a> or <a href=\"https://www.influxdata.com/time-series-platform/chronograf/\" rel=\"nofollow noreferrer\">Chronograf</a> on top of it. Without a doubt one of the best things my current company has done is years is adopting Influx/Chronograf.</p>\n<p>With regards to the request/response capture, I had a weird edge case in my work flow once where the http trace just wasn't working for some hard requirements. You can capture the contents directly in a chain filter yourself with a <code>ContentCachingRequestWrapper</code>\nThen you can access them with:</p>\n<pre><code> @Component\nclass MyPayloadCapturingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\n\n        filterChain.doFilter(requestWrapper, responseWrapper)\n\n        def requestBody = new String(requestWrapper.contentAsByteArray)\n        def responseBody = new String(responseWrapper.contentAsByteArray)\n        //..do something with them\n    }\n}\n</code></pre>\n<p>note the <code>OncePerRequestFilter</code>, I found times when my Filter was firing multiple times for the same request. This prevents that.</p>\n"},{"tags":[],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687350790,"creation_date":1687350790,"answer_id":76523337,"question_id":65523527,"body_markdown":"Minor improvements to the Eric&#39;s answer : https://stackoverflow.com/a/65527391/2933389.\r\n\r\n```java\r\n@Component\r\npublic class MyPayloadCapturingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\r\n\r\n        filterChain.doFilter(requestWrapper, responseWrapper)\r\n        // In the absence of the below line, client will get an empty response body. This helps to copy the response body for the intermidatory operation (audit).\r\n        responseWrapper.copyBodyToResponse();\r\n\r\n        String requestBody = new String(requestWrapper.contentAsByteArray)\r\n        String responseBody = new String(responseWrapper.contentAsByteArray)\r\n        //..do something with them\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to save requests and responses to database in spring boot","body":"<p>Minor improvements to the Eric's answer : <a href=\"https://stackoverflow.com/a/65527391/2933389\">https://stackoverflow.com/a/65527391/2933389</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyPayloadCapturingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\n\n        filterChain.doFilter(requestWrapper, responseWrapper)\n        // In the absence of the below line, client will get an empty response body. This helps to copy the response body for the intermidatory operation (audit).\n        responseWrapper.copyBodyToResponse();\n\n        String requestBody = new String(requestWrapper.contentAsByteArray)\n        String responseBody = new String(responseWrapper.contentAsByteArray)\n        //..do something with them\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687350790,"creation_date":1609433324,"question_id":65523527,"body_markdown":"I would like to write an aspect or something like that and whenever a request comes to the controller it saves the request and the response to the database. \r\n\r\nFirst question is what type I should use in my entity for request and response ( string, blob, etc)\r\n\r\nSecond question, how to get request,response and its controller name  to create the entity to save to database ?\r\n\r\n\r\nLastly, is it possible to calculate response time (time spent in the controller) of the controller ? ","title":"How to save requests and responses to database in spring boot","body":"<p>I would like to write an aspect or something like that and whenever a request comes to the controller it saves the request and the response to the database.</p>\n<p>First question is what type I should use in my entity for request and response ( string, blob, etc)</p>\n<p>Second question, how to get request,response and its controller name  to create the entity to save to database ?</p>\n<p>Lastly, is it possible to calculate response time (time spent in the controller) of the controller ?</p>\n"},{"tags":["java","android","kotlin","koin"],"owner":{"account_id":7491585,"reputation":1597,"user_id":5693082,"display_name":"dotGitignore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687348978,"creation_date":1687348978,"question_id":76523079,"body_markdown":"I am currently implementing a [Koin Annotations][1] to my project and I would like to know how to declare the `KoinViewModel` and shared its data between java class fragments?\r\n\r\n    @KoinViewModel\r\n    class TestViewModel: ViewModel() {\r\n        private val _testData : MutableLiveData&lt;String&gt; by lazy { MutableLiveData(&quot;init&quot;) }\r\n        val testData: LiveData&lt;String&gt; = _testData\r\n    \r\n        fun updateTestData(s: String) {\r\n            _testData.postValue(s)\r\n        }\r\n    }\r\n\r\n\r\neg:\r\n\r\n    public class TestJavaFragment  extends Fragment {\r\n    \r\n        private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            testViewModelLazy.updateTestData(&quot;newValue&quot;);\r\n        }\r\n    }\r\n \r\nI know this is incorrect because I am not getting the updated value of `testData` to another fragment class.\r\n\r\neg:\r\n\r\n    public class TestJavaFragment2 extends Fragment {\r\n        private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            testViewModelLazy.getTestData().observe(getViewLifecycleOwner(), s -&gt; {\r\n                // here I am getting the &quot;init&quot; again.\r\n                Log.i(&quot;TestJavaFragment2&quot;, s);\r\n            });\r\n        }\r\n    }\r\n\r\ndependency versions:\r\n\r\n    dependencies {\r\n        api(&quot;io.insert-koin:koin-android:3.4.1&quot;)\r\n        api(&quot;io.insert-koin:koin-annotations:1.2.1&quot;)\r\n        ksp(&quot;io.insert-koin:koin-ksp-compiler:1.2.1&quot;)\r\n    }\r\n\r\nAny help is appreciated, Thank you!\r\n\r\n  [1]: https://insert-koin.io/docs/setup/annotations/","title":"How to use KOIN ViewModel in Java classes?","body":"<p>I am currently implementing a <a href=\"https://insert-koin.io/docs/setup/annotations/\" rel=\"nofollow noreferrer\">Koin Annotations</a> to my project and I would like to know how to declare the <code>KoinViewModel</code> and shared its data between java class fragments?</p>\n<pre><code>@KoinViewModel\nclass TestViewModel: ViewModel() {\n    private val _testData : MutableLiveData&lt;String&gt; by lazy { MutableLiveData(&quot;init&quot;) }\n    val testData: LiveData&lt;String&gt; = _testData\n\n    fun updateTestData(s: String) {\n        _testData.postValue(s)\n    }\n}\n</code></pre>\n<p>eg:</p>\n<pre><code>public class TestJavaFragment  extends Fragment {\n\n    private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        testViewModelLazy.updateTestData(&quot;newValue&quot;);\n    }\n}\n</code></pre>\n<p>I know this is incorrect because I am not getting the updated value of <code>testData</code> to another fragment class.</p>\n<p>eg:</p>\n<pre><code>public class TestJavaFragment2 extends Fragment {\n    private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        testViewModelLazy.getTestData().observe(getViewLifecycleOwner(), s -&gt; {\n            // here I am getting the &quot;init&quot; again.\n            Log.i(&quot;TestJavaFragment2&quot;, s);\n        });\n    }\n}\n</code></pre>\n<p>dependency versions:</p>\n<pre><code>dependencies {\n    api(&quot;io.insert-koin:koin-android:3.4.1&quot;)\n    api(&quot;io.insert-koin:koin-annotations:1.2.1&quot;)\n    ksp(&quot;io.insert-koin:koin-ksp-compiler:1.2.1&quot;)\n}\n</code></pre>\n<p>Any help is appreciated, Thank you!</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1687347560,"post_id":76522844,"comment_id":134923390,"body_markdown":"Have you tried building parent pom with mvn clean install? if yes then try with  force (-U) for both parent and child","body":"Have you tried building parent pom with mvn clean install? if yes then try with  force (-U) for both parent and child"}],"answers":[{"tags":[],"owner":{"account_id":24834381,"reputation":26,"user_id":18713197,"display_name":"서혜영"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687348600,"creation_date":1687348600,"answer_id":76523021,"question_id":76522844,"body_markdown":"A version change from 1.3 to 1.3.0 is required.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nLink:\r\nhttps://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0","title":"Spring boot: Upgrading logback 1.2.12 to 1.3","body":"<p>A version change from 1.3 to 1.3.0 is required.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Link:\n<a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0</a></p>\n"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76523021,"answer_count":1,"score":0,"last_activity_date":1687348600,"creation_date":1687347311,"question_id":76522844,"body_markdown":"I use spring boot 2.7.12 and our company, for security reason, is asking to use at least the v1.3 of logback. \r\nI see that spring-boot-starter-logging (v2.7.12) is using version 1.2.12 of logback-classic.\r\n\r\nI would like to force the version to 1.3 but when I try to add this in parent pom:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n      ...\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nI have this error in child pom:\r\n\r\n    Missing artifact ch.qos.logback:logback-classic:jar:1.3\r\n\r\n\r\nI do not understand how to solve it.\r\n\r\nCan you help me please?","title":"Spring boot: Upgrading logback 1.2.12 to 1.3","body":"<p>I use spring boot 2.7.12 and our company, for security reason, is asking to use at least the v1.3 of logback.\nI see that spring-boot-starter-logging (v2.7.12) is using version 1.2.12 of logback-classic.</p>\n<p>I would like to force the version to 1.3 but when I try to add this in parent pom:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n  ...\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have this error in child pom:</p>\n<pre><code>Missing artifact ch.qos.logback:logback-classic:jar:1.3\n</code></pre>\n<p>I do not understand how to solve it.</p>\n<p>Can you help me please?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687335575,"post_id":76521067,"comment_id":134920838,"body_markdown":"Either 1. initialize the switch state before setting onCheckedChangeListener, or 2. use onClickListener instead.","body":"Either 1. initialize the switch state before setting onCheckedChangeListener, or 2. use onClickListener instead."},{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1687339362,"post_id":76521067,"comment_id":134921755,"body_markdown":"i forget about the onClickListner that also works on swtich , thanks a lot","body":"i forget about the onClickListner that also works on swtich , thanks a lot"}],"answers":[{"tags":[],"owner":{"display_name":"user22101027"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687348370,"creation_date":1687348370,"answer_id":76522986,"question_id":76521067,"body_markdown":"    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Switch;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Switch restartSwitch;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            restartSwitch = findViewById(R.id.restartSwitch);\r\n    \r\n            restartSwitch.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (restartSwitch.isChecked()) {\r\n                        restartApp();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void restartApp() {\r\n            PackageManager packageManager = getPackageManager();\r\n            Intent intent = packageManager.getLaunchIntentForPackage(getPackageName());\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n","title":"Restart App programmatically when Switch is Pressed","body":"<pre><code>import android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Switch;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Switch restartSwitch;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        restartSwitch = findViewById(R.id.restartSwitch);\n\n        restartSwitch.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (restartSwitch.isChecked()) {\n                    restartApp();\n                }\n            }\n        });\n    }\n\n    private void restartApp() {\n        PackageManager packageManager = getPackageManager();\n        Intent intent = packageManager.getLaunchIntentForPackage(getPackageName());\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76522986,"answer_count":1,"score":0,"last_activity_date":1687348370,"creation_date":1687333553,"question_id":76521067,"body_markdown":"I would like to restart the app whenever the switch is pressed, regardless of its current position. However, the issue is that the app restarts even when I navigate to the fragment containing the switch. I specifically want the restart to occur only when the switch is clicked. Here&#39;s what I have attempted so far: \r\n\r\n     nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n    \r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\r\n                    editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\r\n                    editor.apply();\r\n                    restartMainActivity()\r\n                }\r\n            });\r\n            nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));\r\n    \r\n     private void restartMainActivity() {\r\n            Intent intent = new Intent(requireActivity(), MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n            requireActivity().finish();\r\n        }\r\n\r\nCould you please assist me in achieving the desired behavior where the app restarts only upon clicking the switch?\r\n\r\n   \r\n","title":"Restart App programmatically when Switch is Pressed","body":"<p>I would like to restart the app whenever the switch is pressed, regardless of its current position. However, the issue is that the app restarts even when I navigate to the fragment containing the switch. I specifically want the restart to occur only when the switch is clicked. Here's what I have attempted so far:</p>\n<pre><code> nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\n                editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\n                editor.apply();\n                restartMainActivity()\n            }\n        });\n        nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));\n\n private void restartMainActivity() {\n        Intent intent = new Intent(requireActivity(), MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n        requireActivity().finish();\n    }\n</code></pre>\n<p>Could you please assist me in achieving the desired behavior where the app restarts only upon clicking the switch?</p>\n"},{"tags":["java","websocket","cloudflare"],"comments":[{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1687398574,"post_id":76522961,"comment_id":134932472,"body_markdown":"Maybe caused by Cloudflare’s default timeout 100 seconds.","body":"Maybe caused by Cloudflare’s default timeout 100 seconds."},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1687771244,"post_id":76522961,"comment_id":134978025,"body_markdown":"I don&#39;t think that is the case - because heartbeat/ping-pong is implemented as per the API&#39;s. And the disconnects happen randomly - not every 100 seconds","body":"I don&#39;t think that is the case - because heartbeat/ping-pong is implemented as per the API&#39;s. And the disconnects happen randomly - not every 100 seconds"}],"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687348221,"creation_date":1687348221,"question_id":76522961,"body_markdown":"I am working on an app where I am connecting via Websocket to different exchanges to listen for order updates.  \r\nWhat I am seeing is occasional disconnects happening for the exchanges that are using cloudflare - bitfinex, coinbase and okx to be exact. For the other exchanges that I am connecting to (and they dont seem to be using cloudflare based on the investigation) the issue is not present.  \r\nThe reason/code that I am receiving is\r\nreason: Unexpected Status of SSLEngineResult after an unwrap() operation\r\ncode: 1006.  \r\nI have implemented a reconnection mechanism and it works fine, but I am trying to understand why this happens in the first place.  \r\nAlso ping/pong mechanisms are implemented as well (although for Bitfinex/Coinbase they are not clearly explained in the API).   \r\n\r\nI am using Java 11 + Spring Boot 2 along with the default implementation of Tomcat Websockets (also tested Java 17 + Spring Boot 3 but same behavior).  \r\nThe service is running on AWS -a Kubernetes Pod which is in a Private VPC and is using NAT Gateway to access the Websocket API’s.  \r\n\r\nThanks a lot for the help.  \r\nBest Regards","title":"Cloudflare Random WebSocket Disconnections","body":"<p>I am working on an app where I am connecting via Websocket to different exchanges to listen for order updates.<br />\nWhat I am seeing is occasional disconnects happening for the exchanges that are using cloudflare - bitfinex, coinbase and okx to be exact. For the other exchanges that I am connecting to (and they dont seem to be using cloudflare based on the investigation) the issue is not present.<br />\nThe reason/code that I am receiving is\nreason: Unexpected Status of SSLEngineResult after an unwrap() operation\ncode: 1006.<br />\nI have implemented a reconnection mechanism and it works fine, but I am trying to understand why this happens in the first place.<br />\nAlso ping/pong mechanisms are implemented as well (although for Bitfinex/Coinbase they are not clearly explained in the API).</p>\n<p>I am using Java 11 + Spring Boot 2 along with the default implementation of Tomcat Websockets (also tested Java 17 + Spring Boot 3 but same behavior).<br />\nThe service is running on AWS -a Kubernetes Pod which is in a Private VPC and is using NAT Gateway to access the Websocket API’s.</p>\n<p>Thanks a lot for the help.<br />\nBest Regards</p>\n"},{"tags":["java","linux","docker","docker-compose","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":52964,"reputation":4211,"user_id":2162529,"accept_rate":67,"display_name":"Pierre-Gilles Levallois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687347661,"creation_date":1687347661,"answer_id":76522898,"question_id":72225833,"body_markdown":"Setting the `buildkit` option to `false` is not sufficient, if you are behind a proxy, you should set **both** `HTTP_PROXY`and HTTPS_PROXY` env vars to get it work.\r\n\r\non Windows, in a CMD :\r\n\r\n    set HTTP_PROXY=YourProxyUrl:Port\r\n    set HTTPS_PROXY=YourProxyUrl:Port\r\n\r\non Windows in a GitBash shell, or on a MacOs shell : \r\n\r\n    export HTTP_PROXY=YourProxyUrl:Port\r\n    export HTTPS_PROXY=YourProxyUrl:Port\r\n\r\n\r\n  ","title":"error: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout","body":"<p>Setting the <code>buildkit</code> option to <code>false</code> is not sufficient, if you are behind a proxy, you should set <strong>both</strong> <code>HTTP_PROXY</code>and HTTPS_PROXY` env vars to get it work.</p>\n<p>on Windows, in a CMD :</p>\n<pre><code>set HTTP_PROXY=YourProxyUrl:Port\nset HTTPS_PROXY=YourProxyUrl:Port\n</code></pre>\n<p>on Windows in a GitBash shell, or on a MacOs shell :</p>\n<pre><code>export HTTP_PROXY=YourProxyUrl:Port\nexport HTTPS_PROXY=YourProxyUrl:Port\n</code></pre>\n"}],"owner":{"account_id":14498670,"reputation":394,"user_id":10472512,"display_name":"megh_sat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1687347661,"creation_date":1652426766,"question_id":72225833,"body_markdown":"I&#39;m trying to build a docker image for my java file on my M1 max MacBook, my dockerfile:\r\n\r\n```\r\nFROM openjdk:8-alpine\r\nCOPY . /src/java\r\nWORKDIR /src/java\r\nRUN [&quot;javac&quot;,&quot;greenchallenge.java&quot;]\r\nENTRYPOINT [&quot;java&quot;,&quot;greenchallenge&quot;]\r\n```\r\n\r\nSteps followed to build the image:\r\n1. Created a new builder using: ```docker buildx create --name pibuilder```\r\n (*I wanted to use the multi architecture feature*)\r\n2. Initialed the builder using: ```docker buildx use pibuilder ```.\r\n3. Built the image and pushed it using: \r\n```\r\ndocker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7 -t my_java:latest -t my_java:1.0.0 --push .\r\n\r\n```\r\n\r\nAfter running **step-3**, I got the below log:\r\n```\r\n[+] Building 47.2s (7/7) FINISHED                                               \r\n =&gt; [internal] booting buildkit                                           15.8s\r\n =&gt; =&gt; pulling image moby/buildkit:buildx-stable-1                        15.2s\r\n =&gt; =&gt; creating container buildx_buildkit_javabuildernew40                 0.6s\r\n =&gt; [internal] load build definition from dockerfile                       0.0s\r\n =&gt; =&gt; transferring dockerfile: 351B                                       0.0s\r\n =&gt; [internal] load .dockerignore                                          0.0s\r\n =&gt; =&gt; transferring context: 2B                                            0.0s\r\n =&gt; ERROR [linux/arm/v7 internal] load metadata for docker.io/library/op  31.3s\r\n =&gt; CANCELED [linux/amd64 internal] load metadata for docker.io/library/  31.3s\r\n =&gt; CANCELED [linux/arm64 internal] load metadata for docker.io/library/  31.3s\r\n =&gt; [auth] library/openjdk:pull token for registry-1.docker.io             0.0s\r\n------\r\n &gt; [linux/arm/v7 internal] load metadata for docker.io/library/openjdk:8-alpine:\r\n------\r\ndockerfile:1\r\n--------------------\r\n   1 | &gt;&gt;&gt; FROM openjdk:8-alpine\r\n   2 |     COPY . /src/java\r\n   3 |     WORKDIR /src/java\r\n--------------------\r\nerror: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout\r\n```\r\n**Note:** I&#39;m using work Environment, I bypassed proxy as well. \r\n**Note:** As mentioned [here][1] I set ```&quot;buildkit&quot;:false``` and used ```docker login``` in terminal. \r\n\r\nHope you help me to solve the error, thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65361083/docker-build-failed-to-fetch-oauth-token-for-openjdk","title":"error: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout","body":"<p>I'm trying to build a docker image for my java file on my M1 max MacBook, my dockerfile:</p>\n<pre><code>FROM openjdk:8-alpine\nCOPY . /src/java\nWORKDIR /src/java\nRUN [&quot;javac&quot;,&quot;greenchallenge.java&quot;]\nENTRYPOINT [&quot;java&quot;,&quot;greenchallenge&quot;]\n</code></pre>\n<p>Steps followed to build the image:</p>\n<ol>\n<li>Created a new builder using: <code>docker buildx create --name pibuilder</code>\n(<em>I wanted to use the multi architecture feature</em>)</li>\n<li>Initialed the builder using: <code>docker buildx use pibuilder </code>.</li>\n<li>Built the image and pushed it using:</li>\n</ol>\n<pre><code>docker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7 -t my_java:latest -t my_java:1.0.0 --push .\n\n</code></pre>\n<p>After running <strong>step-3</strong>, I got the below log:</p>\n<pre><code>[+] Building 47.2s (7/7) FINISHED                                               \n =&gt; [internal] booting buildkit                                           15.8s\n =&gt; =&gt; pulling image moby/buildkit:buildx-stable-1                        15.2s\n =&gt; =&gt; creating container buildx_buildkit_javabuildernew40                 0.6s\n =&gt; [internal] load build definition from dockerfile                       0.0s\n =&gt; =&gt; transferring dockerfile: 351B                                       0.0s\n =&gt; [internal] load .dockerignore                                          0.0s\n =&gt; =&gt; transferring context: 2B                                            0.0s\n =&gt; ERROR [linux/arm/v7 internal] load metadata for docker.io/library/op  31.3s\n =&gt; CANCELED [linux/amd64 internal] load metadata for docker.io/library/  31.3s\n =&gt; CANCELED [linux/arm64 internal] load metadata for docker.io/library/  31.3s\n =&gt; [auth] library/openjdk:pull token for registry-1.docker.io             0.0s\n------\n &gt; [linux/arm/v7 internal] load metadata for docker.io/library/openjdk:8-alpine:\n------\ndockerfile:1\n--------------------\n   1 | &gt;&gt;&gt; FROM openjdk:8-alpine\n   2 |     COPY . /src/java\n   3 |     WORKDIR /src/java\n--------------------\nerror: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout\n</code></pre>\n<p><strong>Note:</strong> I'm using work Environment, I bypassed proxy as well.\n<strong>Note:</strong> As mentioned <a href=\"https://stackoverflow.com/questions/65361083/docker-build-failed-to-fetch-oauth-token-for-openjdk\">here</a> I set <code>&quot;buildkit&quot;:false</code> and used <code>docker login</code> in terminal.</p>\n<p>Hope you help me to solve the error, thanks in advance.</p>\n"},{"tags":["java","macos","uri"],"owner":{"account_id":1612514,"reputation":159,"user_id":1491077,"accept_rate":100,"display_name":"Fredrik Rafn Strandberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687347608,"creation_date":1687347608,"question_id":76522890,"body_markdown":"We need help to get an URI handler for a Java application on macOS working.\r\n\r\nWe are implementing SSO for an existing Java application and after login in a browser we want to use an URI handler to be able to return to the Java application with some values passed.\r\n\r\nWe were able to implement this on Windows by registering an URI handler in the Windows registry. When navigating to the URI in the browser, a new instance of our application is started with the URI passed as parameters to the main method. The new instance can then send the necessary values from the URI to the already running instance and then exit.\r\n\r\nOn macOS we are able to register an URI scheme in the Info.plist file like this:\r\n\r\n    &lt;key&gt;CFBundleURLTypes&lt;/key&gt;\r\n    &lt;array&gt;\r\n        &lt;dict&gt;\r\n            &lt;key&gt;CFBundleURLName&lt;/key&gt;\r\n            &lt;string&gt;com.company.ourscheme/string&gt;\r\n            &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;\r\n            &lt;array&gt;\r\n                &lt;string&gt;ourscheme&lt;/string&gt;\r\n            &lt;/array&gt;\r\n        &lt;/dict&gt;\r\n    &lt;/array&gt;\r\n\r\nAs we understand it, [the URI will not be passed as an argument to our Main method][1] (it isn&#39;t for us). So, we have tried using [the setOpenURIHandler in java.desktop][2]\r\n\r\n    Desktop.getDesktop().setOpenURIHandler((event) -&gt; {\r\n         System.out.println(&quot;Open URI: &quot; + event.getURI());\r\n         // do something with the URI\r\n    });\r\n\r\nas described by [the answer given by Alex Suzuki here][3]. The requirements are:\r\n\r\n 1. The Java app is a bundled application (our application is)\r\n 2. Use a CFBundleDocumentTypes array\r\n\r\n We have registered for public.data like this:\r\n\r\n    &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\r\n    &lt;array&gt;\r\n        &lt;dict&gt;\r\n            &lt;key&gt;CFBundleTypeIconFiles&lt;/key&gt;\r\n            &lt;array/&gt;\r\n            &lt;key&gt;CFBundleTypeName&lt;/key&gt;\r\n            &lt;string&gt;public.data&lt;/string&gt;\r\n            &lt;key&gt;LSHandlerRank&lt;/key&gt;\r\n            &lt;string&gt;Alternate&lt;/string&gt;\r\n            &lt;key&gt;LSItemContentTypes&lt;/key&gt;\r\n            &lt;array&gt;\r\n                &lt;string&gt;public.data&lt;/string&gt;\r\n            &lt;/array&gt;\r\n        &lt;/dict&gt;\r\n    &lt;/array&gt;\r\n\r\nWe have tried to minimize our application so it basically just opens a dialog and waits. The callback method would print and log any callback and any URI provided.\r\n\r\nWhen we enter an URI in the browser:\r\n\r\n&gt; ourscheme://testing\r\n\r\nor use open on the command line:\r\n\r\n&gt; open ourscheme://testing\r\n\r\nWe never get any callback at all. If the application is not running, it is started (but no callback). If the application is already running it does get focus (but no callback).\r\n\r\nWe have tested with a variety of URI&#39;s in case the DocumentTypes registration requires the URI to represent an existing document type, such as:\r\n\r\n&gt; ourscheme://file.txt\r\n\r\nAny idea what we are doing wrong? Are we on the right track here or is there any other strategies on how to solve this?\r\n\r\nWorth to mention is perhaps that we have wrapped our Java application in a small C program which is our executable. The C program just launches Java with some parameters like this (I removed some error handling in the example, but the file is only 33 rows long):\r\n\r\n    int main(int argc, char *argv[])\r\n    {\r\n       // Set some variables used below ...\r\n    \r\n      char *args[] = {java, concat(&quot;-Duser.dir=&quot;, userdir), &quot;-Dsun.awt.disablegrab=true&quot;, concat(&quot;-Xdock:icon=&quot;, icon), &quot;-Xdock:name=Our Product&quot;, &quot;-Dcom.apple.macos.use-file-dialog-packages=true&quot;, &quot;-Dcom.apple.macos.useSmallTabs=true&quot;, &quot;-Dapple.laf.useScreenMenuBar=false&quot;,     &quot;-Dcom.apple.mrj.application.apple.menu.about.name=Our Product&quot;, &quot;-Xms64M&quot;, &quot;-Xmx1024M&quot;, &quot;-jar&quot;, jar, &quot;custom-argument&quot;, NULL};\r\n     \r\n      execv(java, args)\r\n      \r\n      return 0;\r\n    }\r\n\r\nCould this C wrapper somehow affect the URI handler registration?\r\n\r\nThank you in advance for any help!\r\n\r\n**Environment:**\r\n\r\nmacOS Monterey (M1, Aarch64) and Java 17\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3953716/custom-protocol-handler-not-passing-argument-on-osx\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setOpenURIHandler(java.awt.desktop.OpenURIHandler)\r\n  [3]: https://stackoverflow.com/questions/20074610/handle-custom-url-schemes-in-an-os-x-java-application/20225859#20225859","title":"Custom URI handler on macOS for bundled Java application","body":"<p>We need help to get an URI handler for a Java application on macOS working.</p>\n<p>We are implementing SSO for an existing Java application and after login in a browser we want to use an URI handler to be able to return to the Java application with some values passed.</p>\n<p>We were able to implement this on Windows by registering an URI handler in the Windows registry. When navigating to the URI in the browser, a new instance of our application is started with the URI passed as parameters to the main method. The new instance can then send the necessary values from the URI to the already running instance and then exit.</p>\n<p>On macOS we are able to register an URI scheme in the Info.plist file like this:</p>\n<pre><code>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleURLName&lt;/key&gt;\n        &lt;string&gt;com.company.ourscheme/string&gt;\n        &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;ourscheme&lt;/string&gt;\n        &lt;/array&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n<p>As we understand it, <a href=\"https://stackoverflow.com/questions/3953716/custom-protocol-handler-not-passing-argument-on-osx\">the URI will not be passed as an argument to our Main method</a> (it isn't for us). So, we have tried using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setOpenURIHandler(java.awt.desktop.OpenURIHandler)\" rel=\"nofollow noreferrer\">the setOpenURIHandler in java.desktop</a></p>\n<pre><code>Desktop.getDesktop().setOpenURIHandler((event) -&gt; {\n     System.out.println(&quot;Open URI: &quot; + event.getURI());\n     // do something with the URI\n});\n</code></pre>\n<p>as described by <a href=\"https://stackoverflow.com/questions/20074610/handle-custom-url-schemes-in-an-os-x-java-application/20225859#20225859\">the answer given by Alex Suzuki here</a>. The requirements are:</p>\n<ol>\n<li>The Java app is a bundled application (our application is)</li>\n<li>Use a CFBundleDocumentTypes array</li>\n</ol>\n<p>We have registered for public.data like this:</p>\n<pre><code>&lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleTypeIconFiles&lt;/key&gt;\n        &lt;array/&gt;\n        &lt;key&gt;CFBundleTypeName&lt;/key&gt;\n        &lt;string&gt;public.data&lt;/string&gt;\n        &lt;key&gt;LSHandlerRank&lt;/key&gt;\n        &lt;string&gt;Alternate&lt;/string&gt;\n        &lt;key&gt;LSItemContentTypes&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;public.data&lt;/string&gt;\n        &lt;/array&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n<p>We have tried to minimize our application so it basically just opens a dialog and waits. The callback method would print and log any callback and any URI provided.</p>\n<p>When we enter an URI in the browser:</p>\n<blockquote>\n<p>ourscheme://testing</p>\n</blockquote>\n<p>or use open on the command line:</p>\n<blockquote>\n<p>open ourscheme://testing</p>\n</blockquote>\n<p>We never get any callback at all. If the application is not running, it is started (but no callback). If the application is already running it does get focus (but no callback).</p>\n<p>We have tested with a variety of URI's in case the DocumentTypes registration requires the URI to represent an existing document type, such as:</p>\n<blockquote>\n<p>ourscheme://file.txt</p>\n</blockquote>\n<p>Any idea what we are doing wrong? Are we on the right track here or is there any other strategies on how to solve this?</p>\n<p>Worth to mention is perhaps that we have wrapped our Java application in a small C program which is our executable. The C program just launches Java with some parameters like this (I removed some error handling in the example, but the file is only 33 rows long):</p>\n<pre><code>int main(int argc, char *argv[])\n{\n   // Set some variables used below ...\n\n  char *args[] = {java, concat(&quot;-Duser.dir=&quot;, userdir), &quot;-Dsun.awt.disablegrab=true&quot;, concat(&quot;-Xdock:icon=&quot;, icon), &quot;-Xdock:name=Our Product&quot;, &quot;-Dcom.apple.macos.use-file-dialog-packages=true&quot;, &quot;-Dcom.apple.macos.useSmallTabs=true&quot;, &quot;-Dapple.laf.useScreenMenuBar=false&quot;,     &quot;-Dcom.apple.mrj.application.apple.menu.about.name=Our Product&quot;, &quot;-Xms64M&quot;, &quot;-Xmx1024M&quot;, &quot;-jar&quot;, jar, &quot;custom-argument&quot;, NULL};\n \n  execv(java, args)\n  \n  return 0;\n}\n</code></pre>\n<p>Could this C wrapper somehow affect the URI handler registration?</p>\n<p>Thank you in advance for any help!</p>\n<p><strong>Environment:</strong></p>\n<p>macOS Monterey (M1, Aarch64) and Java 17</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"score":0,"creation_date":1403173170,"post_id":24304129,"comment_id":37560252,"body_markdown":"If i&#39;m not wrong, Collections.max() and Collections.min() also iterate through each element.","body":"If i&#39;m not wrong, Collections.max() and Collections.min() also iterate through each element."},{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":0,"creation_date":1403173214,"post_id":24304129,"comment_id":37560278,"body_markdown":"`max` and `min` make no sense per se, because `Collection` is a generic type. for instance if you have `Collection&lt;Object&gt;`, what would be `max` and `min`? take a look here: http://stackoverflow.com/questions/122105/what-is-the-best-way-to-filter-a-java-collection","body":"<code>max</code> and <code>min</code> make no sense per se, because <code>Collection</code> is a generic type. for instance if you have <code>Collection&lt;Object&gt;</code>, what would be <code>max</code> and <code>min</code>? take a look here: <a href=\"http://stackoverflow.com/questions/122105/what-is-the-best-way-to-filter-a-java-collection\" title=\"what is the best way to filter a java collection\">stackoverflow.com/questions/122105/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1403173396,"creation_date":1403173092,"answer_id":24304199,"question_id":24304129,"body_markdown":"If you have java 8, use stream&#39;s `allMatch` function ([reference][1]):\r\n\r\n     ArrayList&lt;Integer&gt; col = ...;\r\n     col.stream().allMatch(i -&gt; i&gt;0); //for example all integers bigger than zero\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"how to check if all elements of java collection match some condition?","body":"<p>If you have java 8, use stream's <code>allMatch</code> function (<a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\">reference</a>):</p>\n\n<pre><code> ArrayList&lt;Integer&gt; col = ...;\n col.stream().allMatch(i -&gt; i&gt;0); //for example all integers bigger than zero\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1768620,"reputation":4271,"user_id":1613902,"accept_rate":45,"display_name":"Pracede"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403173437,"creation_date":1403173270,"answer_id":24304247,"question_id":24304129,"body_markdown":"You cannot check values without iterating on all elements of the ***list***. \r\n\r\n    for(Integer value : myArrayList){\r\n    \r\n        if(value &gt; MY_MIN_VALUE){\r\n            // do my job\r\n        }\r\n    }\r\n\r\nI hope this will help","title":"how to check if all elements of java collection match some condition?","body":"<p>You cannot check values without iterating on all elements of the <strong><em>list</em></strong>. </p>\n\n<pre><code>for(Integer value : myArrayList){\n\n    if(value &gt; MY_MIN_VALUE){\n        // do my job\n    }\n}\n</code></pre>\n\n<p>I hope this will help</p>\n"},{"tags":[],"owner":{"account_id":41811,"reputation":15440,"user_id":121595,"accept_rate":48,"display_name":"amorfis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1403174302,"creation_date":1403174302,"answer_id":24304572,"question_id":24304129,"body_markdown":"You can use Google guavas `Iterables.all` \n\n     Iterables.all(collection, new Predicate() {\n        boolean apply(T element)  {\n           .... //check your condition \n       } \n     } \n","title":"how to check if all elements of java collection match some condition?","body":"<p>You can use Google guavas <code>Iterables.all</code> </p>\n\n<pre><code> Iterables.all(collection, new Predicate() {\n    boolean apply(T element)  {\n       .... //check your condition \n   } \n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26898896,"reputation":1,"user_id":20476368,"display_name":"Michael Pichler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687346800,"creation_date":1687346800,"answer_id":76522773,"question_id":24304129,"body_markdown":"The answer `col.stream().allMatch` is the best solution for the original task, i.e. to check if all elements fulfill some condition.\r\n\r\nIf you instead want to find the min or max int value of a Stream/Collection you must first convert it to an `IntStream` using `col.stream().mapToInt(ToIntFunction)` where the ToIntFunction can be `MyObject::getIntvalue` or `o -&gt; o.getIntValue()` or `Integer::intValue` if you already have a List&amp;lt;Integer&amp;gt; as explained on https://stackoverflow.com/questions/24633913/how-do-i-get-an-intstream-from-a-listinteger","title":"how to check if all elements of java collection match some condition?","body":"<p>The answer <code>col.stream().allMatch</code> is the best solution for the original task, i.e. to check if all elements fulfill some condition.</p>\n<p>If you instead want to find the min or max int value of a Stream/Collection you must first convert it to an <code>IntStream</code> using <code>col.stream().mapToInt(ToIntFunction)</code> where the ToIntFunction can be <code>MyObject::getIntvalue</code> or <code>o -&gt; o.getIntValue()</code> or <code>Integer::intValue</code> if you already have a List&lt;Integer&gt; as explained on <a href=\"https://stackoverflow.com/questions/24633913/how-do-i-get-an-intstream-from-a-listinteger\">How do I get an IntStream from a List&lt;Integer&gt;?</a></p>\n"}],"owner":{"account_id":1677932,"reputation":485,"user_id":1543001,"accept_rate":62,"display_name":"Chirag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31088,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":24304199,"answer_count":4,"score":26,"last_activity_date":1687346800,"creation_date":1403172849,"question_id":24304129,"body_markdown":"I have an `ArrayList&lt;Integer&gt;`. I want to check if all elements of the list are greater then or less then certain condition. I can do it by iterating on each element. But I want to know if there is any method in Collection class to get the answer like we can do to find maximum or minimum with `Collections.max()` and `Collections.min()` respectively.","title":"how to check if all elements of java collection match some condition?","body":"<p>I have an <code>ArrayList&lt;Integer&gt;</code>. I want to check if all elements of the list are greater then or less then certain condition. I can do it by iterating on each element. But I want to know if there is any method in Collection class to get the answer like we can do to find maximum or minimum with <code>Collections.max()</code> and <code>Collections.min()</code> respectively.</p>\n"},{"tags":["java","spring-boot","servlets","apache-commons-fileupload"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1688383026,"post_id":76517385,"comment_id":135062386,"body_markdown":"To avoid the x-y problem (https://xyproblem.info/), do you **really need** commons-fileupload? See https://stackoverflow.com/a/68820846/2886891","body":"To avoid the x-y problem (<a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>), do you <b>really need</b> commons-fileupload? See <a href=\"https://stackoverflow.com/a/68820846/2886891\">stackoverflow.com/a/68820846/2886891</a>"}],"answers":[{"tags":[],"owner":{"account_id":17959846,"reputation":51,"user_id":13051065,"display_name":"odinx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687286560,"creation_date":1687286560,"answer_id":76517610,"question_id":76517385,"body_markdown":"Apache is planning to release a [new version][1] of FileUpload that supports Jakarta, which should resolve the issues with migrating from javax to jakarta.\r\n\r\nPlease note that the dependency declaration will be changed for the new version. You can refer to the [previous link][1] for more information:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload2-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release","title":"commons-fileupload and jakarta.servlet","body":"<p>Apache is planning to release a <a href=\"https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release\" rel=\"nofollow noreferrer\">new version</a> of FileUpload that supports Jakarta, which should resolve the issues with migrating from javax to jakarta.</p>\n<p>Please note that the dependency declaration will be changed for the new version. You can refer to the <a href=\"https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release\" rel=\"nofollow noreferrer\">previous link</a> for more information:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload2-jakarta&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17959846,"reputation":51,"user_id":13051065,"display_name":"odinx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2975,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76517610,"answer_count":1,"score":1,"last_activity_date":1687345824,"creation_date":1687284335,"question_id":76517385,"body_markdown":"We are currently in the process of migrating our application to Spring Boot 3. We have been using the Commons FileUpload streaming API to directly load large multipart files into a remote file share. However, we have encountered an issue where the **`javax.servlet.http.HttpServletRequest`** has been migrated to **`jakarta.servlet.http.HttpServletRequest`**. As a result, the FileUpload library is no longer functioning since it requires **`javax.servlet.http.HttpServletRequest`**.\r\n\r\nDoes Servlet API or Spring framework provide a similar functionality for file streaming without the need to save all files in memory beforehand?","title":"commons-fileupload and jakarta.servlet","body":"<p>We are currently in the process of migrating our application to Spring Boot 3. We have been using the Commons FileUpload streaming API to directly load large multipart files into a remote file share. However, we have encountered an issue where the <strong><code>javax.servlet.http.HttpServletRequest</code></strong> has been migrated to <strong><code>jakarta.servlet.http.HttpServletRequest</code></strong>. As a result, the FileUpload library is no longer functioning since it requires <strong><code>javax.servlet.http.HttpServletRequest</code></strong>.</p>\n<p>Does Servlet API or Spring framework provide a similar functionality for file streaming without the need to save all files in memory beforehand?</p>\n"},{"tags":["java","boolean","autoboxing"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":10,"creation_date":1291120291,"post_id":4313513,"comment_id":4684902,"body_markdown":"Why don&#39;t you try it out yourself?","body":"Why don&#39;t you try it out yourself?"},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1291124426,"post_id":4313513,"comment_id":4685636,"body_markdown":"@Jesper: I did, see my own answer below","body":"@Jesper: I did, see my own answer below"}],"answers":[{"tags":[],"owner":{"account_id":28934,"reputation":7258,"user_id":77722,"accept_rate":90,"display_name":"Tobias"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1291118769,"creation_date":1291118769,"answer_id":4313525,"question_id":4313513,"body_markdown":"Use ApacheCommons BooleanUtils.isTrue() or .isFalse()","title":"Boolean != false","body":"<p>Use ApacheCommons BooleanUtils.isTrue() or .isFalse()</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1291118887,"creation_date":1291118887,"answer_id":4313548,"question_id":4313513,"body_markdown":"It will throw a `NullPointerException` ([autounboxing][1] of `null` throws NPE).\r\n\r\nBut that only means that you must not allow a `null` value. Either use a default, or don&#39;t use autounboxing and make a non-null check. Because using a `null` value of a boolean means you have 3, not 2 values. (Better ways of handling it were proposed by Michael and Tobiask)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html","title":"Boolean != false","body":"<p>It will throw a <code>NullPointerException</code> (<a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\" rel=\"noreferrer\">autounboxing</a> of <code>null</code> throws NPE).</p>\n\n<p>But that only means that you must not allow a <code>null</code> value. Either use a default, or don't use autounboxing and make a non-null check. Because using a <code>null</code> value of a boolean means you have 3, not 2 values. (Better ways of handling it were proposed by Michael and Tobiask)</p>\n"},{"tags":[],"owner":{"account_id":58153,"reputation":5728,"user_id":2922388,"accept_rate":65,"display_name":"Gopi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291118891,"creation_date":1291118891,"answer_id":4313550,"question_id":4313513,"body_markdown":"As Boolean will give you an object, you must always check for NULL before working on the object","title":"Boolean != false","body":"<p>As Boolean will give you an object, you must always check for NULL before working on the object</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1291118934,"creation_date":1291118934,"answer_id":4313559,"question_id":4313513,"body_markdown":"If you want to handle `Boolean` instances as well as primitives and be null-safe, you can use this:\r\n\r\n    if(Boolean.TRUE.equals(someBool))","title":"Boolean != false","body":"<p>If you want to handle <code>Boolean</code> instances as well as primitives and be null-safe, you can use this:</p>\n\n<pre><code>if(Boolean.TRUE.equals(someBool))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291119007,"creation_date":1291119007,"answer_id":4313569,"question_id":4313513,"body_markdown":"If `someBool` is `Boolean` \r\n\r\n    if (someBull != null &amp;&amp; someBull) {\r\n      //Yeah, true.\r\n    }\r\n\r\nSince Boolean can be `null` make sure you avoid `NullPointerException` by checking for not null.","title":"Boolean != false","body":"<p>If <code>someBool</code> is <code>Boolean</code> </p>\n\n<pre><code>if (someBull != null &amp;&amp; someBull) {\n  //Yeah, true.\n}\n</code></pre>\n\n<p>Since Boolean can be <code>null</code> make sure you avoid <code>NullPointerException</code> by checking for not null.</p>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1291119015,"creation_date":1291119015,"answer_id":4313570,"question_id":4313513,"body_markdown":"If its null then you&#39;ll get a NullPointerException","title":"Boolean != false","body":"<p>If its null then you'll get a NullPointerException</p>\n"},{"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1291119058,"creation_date":1291119058,"answer_id":4313575,"question_id":4313513,"body_markdown":"I did a little test:\r\n\r\n\r\n\t\tBoolean o = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(o ? &quot;yes&quot; : &quot;no&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tSystem.out.println((o != false) ? &quot;yes&quot; : &quot;no&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\nThe output is surprising:\r\n\r\n    java.lang.NullPointerException\r\n    \tat btest.main(btest.java:10)\r\n    java.lang.NullPointerException\r\n    \tat btest.main(btest.java:15)\r\n\r\nThe first NPE is to be expected, because o will be autounboxed (and that fails because it&#39;s null). The second happens for the same reason, but it doesn&#39;t feel natural. Anyway, the solution is to do:\r\n\r\n    System.out.println(!Boolean.FALSE.equals(o) ? &quot;yes&quot; : &quot;no&quot;);","title":"Boolean != false","body":"<p>I did a little test:</p>\n\n<pre><code>    Boolean o = null;\n    try {\n        System.out.println(o ? \"yes\" : \"no\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    try {\n        System.out.println((o != false) ? \"yes\" : \"no\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The output is surprising:</p>\n\n<pre><code>java.lang.NullPointerException\n    at btest.main(btest.java:10)\njava.lang.NullPointerException\n    at btest.main(btest.java:15)\n</code></pre>\n\n<p>The first NPE is to be expected, because o will be autounboxed (and that fails because it's null). The second happens for the same reason, but it doesn't feel natural. Anyway, the solution is to do:</p>\n\n<pre><code>System.out.println(!Boolean.FALSE.equals(o) ? \"yes\" : \"no\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":678144,"reputation":600,"user_id":525655,"display_name":"aksarben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291222456,"creation_date":1291222456,"answer_id":4326815,"question_id":4313513,"body_markdown":"Good illustrations of the difference between the primitive **boolean** &amp; the object **Boolean**. The former can be only **true** or **false**. The latter can be **true**, **false**, or **unknown/undefined**. (i.e., null). Which you use depends on whether you want to deal with two use cases or three.","title":"Boolean != false","body":"<p>Good illustrations of the difference between the primitive <strong>boolean</strong> &amp; the object <strong>Boolean</strong>. The former can be only <strong>true</strong> or <strong>false</strong>. The latter can be <strong>true</strong>, <strong>false</strong>, or <strong>unknown/undefined</strong>. (i.e., null). Which you use depends on whether you want to deal with two use cases or three.</p>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1369644678,"creation_date":1369644678,"answer_id":16769521,"question_id":4313513,"body_markdown":"You can however compare a null Boolean with a Boolean instance. For example :\r\n\r\n\tBoolean myBool = null;\r\n\tSystem.out.println(myBool == Boolean.FALSE);\r\n\tSystem.out.println(myBool == Boolean.TRUE);\r\n\r\nprints :\r\n\r\n    false\r\n    false","title":"Boolean != false","body":"<p>You can however compare a null Boolean with a Boolean instance. For example :</p>\n\n<pre><code>Boolean myBool = null;\nSystem.out.println(myBool == Boolean.FALSE);\nSystem.out.println(myBool == Boolean.TRUE);\n</code></pre>\n\n<p>prints :</p>\n\n<pre><code>false\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208983,"reputation":2546,"user_id":459783,"accept_rate":41,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502217539,"creation_date":1502215986,"answer_id":45575323,"question_id":4313513,"body_markdown":"It&#39;s old, but `Boolean.valueOf(null)` is `false`, just like `Boolean.valueOf(false)` is `false`.","title":"Boolean != false","body":"<p>It's old, but <code>Boolean.valueOf(null)</code> is <code>false</code>, just like <code>Boolean.valueOf(false)</code> is <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504312799,"creation_date":1504312799,"answer_id":46009474,"question_id":4313513,"body_markdown":"Actually the Boolean constructor accepts null, returns FALSE and doesn&#39;t throw a NullPointerTantrum. \r\n\r\n     new Boolean(null);\r\n     &lt;false&gt;\r\n\r\n\r\nThis has the added bonus of also giving a thruthy response to the string `&quot;true&quot;` which is not the case for `Boolean.TRUE.equals` but we are more restricted again having only constructors for Strings and Booleans. \r\n\r\nSomething you can overcome with string concatenation, which is also null-proof.\r\n\r\n     new Boolean(&quot;&quot;+null);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+false);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+new Object());\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+6);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+new Integer(9));\r\n     &lt;false&gt;\r\n\r\nEnsuring that all the TRUE options, available in java, still remains.\r\n\r\n     new Boolean(&quot;&quot;+true);\r\n     &lt;true&gt;\r\n\r\n     new Boolean(&quot;&quot;+&quot;true&quot;);\r\n     &lt;true&gt;\r\n","title":"Boolean != false","body":"<p>Actually the Boolean constructor accepts null, returns FALSE and doesn't throw a NullPointerTantrum. </p>\n\n<pre><code> new Boolean(null);\n &lt;false&gt;\n</code></pre>\n\n<p>This has the added bonus of also giving a thruthy response to the string <code>\"true\"</code> which is not the case for <code>Boolean.TRUE.equals</code> but we are more restricted again having only constructors for Strings and Booleans. </p>\n\n<p>Something you can overcome with string concatenation, which is also null-proof.</p>\n\n<pre><code> new Boolean(\"\"+null);\n &lt;false&gt;\n\n new Boolean(\"\"+false);\n &lt;false&gt;\n\n new Boolean(\"\"+new Object());\n &lt;false&gt;\n\n new Boolean(\"\"+6);\n &lt;false&gt;\n\n new Boolean(\"\"+new Integer(9));\n &lt;false&gt;\n</code></pre>\n\n<p>Ensuring that all the TRUE options, available in java, still remains.</p>\n\n<pre><code> new Boolean(\"\"+true);\n &lt;true&gt;\n\n new Boolean(\"\"+\"true\");\n &lt;true&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4408231,"reputation":1174,"user_id":3591946,"accept_rate":85,"display_name":"Kohei Nozaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524866289,"creation_date":1524866289,"answer_id":50070804,"question_id":4313513,"body_markdown":"If it&#39;s Java 7+ you can use\r\n\r\n    import java.util.Objects;\r\n\r\nAnd\r\n\r\n    if (Objects.equals(someBool, true))\r\n","title":"Boolean != false","body":"<p>If it's Java 7+ you can use</p>\n\n<pre><code>import java.util.Objects;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>if (Objects.equals(someBool, true))\n</code></pre>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49558,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":4313548,"answer_count":12,"score":35,"last_activity_date":1687345754,"creation_date":1291118675,"question_id":4313513,"body_markdown":"In Java, you would usually say that\r\n\r\n`if(someBool != false)`\r\n\r\nis the same as\r\n\r\n`if(someBool)`\r\n\r\nBut what if `someBool` is not of type `boolean` but  `Boolean`, and its value is `null`?","title":"Boolean != false","body":"<p>In Java, you would usually say that</p>\n\n<p><code>if(someBool != false)</code></p>\n\n<p>is the same as</p>\n\n<p><code>if(someBool)</code></p>\n\n<p>But what if <code>someBool</code> is not of type <code>boolean</code> but  <code>Boolean</code>, and its value is <code>null</code>?</p>\n"},{"tags":["java","performance","boolean","nullable"],"answers":[{"tags":[],"owner":{"account_id":1530673,"reputation":3748,"user_id":1427942,"display_name":"Eich"},"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1476111386,"creation_date":1365633439,"answer_id":15937737,"question_id":15937715,"body_markdown":"`boolean` can only be `true` or `false` because it&#39;s a [primitive datatype](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) (+ a `boolean` variables default value is `false`). You can use the class `Boolean` instead if you want to use `null` values. Boolean is a reference type, that&#39;s the reason you can assign `null` to a Boolean &quot;variable&quot;. Example:\r\n\r\n    Boolean testvar = null;\r\n    if (testvar == null) { ...}","title":"Java check if boolean is null","body":"<p><code>boolean</code> can only be <code>true</code> or <code>false</code> because it's a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">primitive datatype</a> (+ a <code>boolean</code> variables default value is <code>false</code>). You can use the class <code>Boolean</code> instead if you want to use <code>null</code> values. Boolean is a reference type, that's the reason you can assign <code>null</code> to a Boolean \"variable\". Example:</p>\n\n<pre><code>Boolean testvar = null;\nif (testvar == null) { ...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1677079405,"creation_date":1365633445,"answer_id":15937739,"question_id":15937715,"body_markdown":" - A `boolean` cannot be `null` in Java.\r\n - A `Boolean`, however, can be `null`.\r\n - If a `boolean` is not assigned a value (say a *member* of a class)\r\n   then it will be `false` by default.","title":"Java check if boolean is null","body":"<ul>\n<li>A <code>boolean</code> cannot be <code>null</code> in Java.</li>\n<li>A <code>Boolean</code>, however, can be <code>null</code>.</li>\n<li>If a <code>boolean</code> is not assigned a value (say a <em>member</em> of a class)\nthen it will be <code>false</code> by default.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365672600,"creation_date":1365633551,"answer_id":15937764,"question_id":15937715,"body_markdown":"`null` is a value assigned to a reference type. `null` is a reserved value, indicating that a reference does not resemble an instance of an object.\r\n\r\nA `boolean` is not an instance of an Object. It is a primitive type, like `int` and `float`. In the same way that: `int x` has a value of `0`, `boolean x` has a value of `false`.","title":"Java check if boolean is null","body":"<p><code>null</code> is a value assigned to a reference type. <code>null</code> is a reserved value, indicating that a reference does not resemble an instance of an object.</p>\n\n<p>A <code>boolean</code> is not an instance of an Object. It is a primitive type, like <code>int</code> and <code>float</code>. In the same way that: <code>int x</code> has a value of <code>0</code>, <code>boolean x</code> has a value of <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":1890809,"reputation":1104,"user_id":1708941,"display_name":"Kenogu Labz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365633572,"creation_date":1365633572,"answer_id":15937768,"question_id":15937715,"body_markdown":"`boolean` is a primitive type, and therefore can not be null.\r\n\r\nIts boxed type, `Boolean`, can be null.\r\n\r\nThe function is probably returning a `Boolean` as opposed to a `boolean`, so assigning the result to a `Boolean`-type variable will allow you to test for nullity.","title":"Java check if boolean is null","body":"<p><code>boolean</code> is a primitive type, and therefore can not be null.</p>\n\n<p>Its boxed type, <code>Boolean</code>, can be null.</p>\n\n<p>The function is probably returning a <code>Boolean</code> as opposed to a <code>boolean</code>, so assigning the result to a <code>Boolean</code>-type variable will allow you to test for nullity.</p>\n"},{"tags":[],"owner":{"account_id":1310033,"reputation":2369,"user_id":1258206,"accept_rate":50,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365634198,"creation_date":1365633604,"answer_id":15937771,"question_id":15937715,"body_markdown":"In Java, `null` only applies to object references; since `boolean` is a primitive type, it cannot be assigned `null`.\r\n\r\nIt&#39;s hard to get context from your example, but I&#39;m guessing that if `hideInNav` is not in the object returned by `getProperties()`, the (default value?) you&#39;ve indicated will be `false`.  I suspect this is the bug that you&#39;re seeing, as `false` is not equal to `null`, so `hideNavigation` is getting the empty string?\r\n\r\nYou might get some better answers with a bit more context to your code sample.","title":"Java check if boolean is null","body":"<p>In Java, <code>null</code> only applies to object references; since <code>boolean</code> is a primitive type, it cannot be assigned <code>null</code>.</p>\n\n<p>It's hard to get context from your example, but I'm guessing that if <code>hideInNav</code> is not in the object returned by <code>getProperties()</code>, the (default value?) you've indicated will be <code>false</code>.  I suspect this is the bug that you're seeing, as <code>false</code> is not equal to <code>null</code>, so <code>hideNavigation</code> is getting the empty string?</p>\n\n<p>You might get some better answers with a bit more context to your code sample.</p>\n"},{"tags":[],"owner":{"account_id":2584301,"reputation":1317,"user_id":2240355,"display_name":"Joban"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376720108,"creation_date":1365634095,"answer_id":15937867,"question_id":15937715,"body_markdown":"The only thing that can be a `null` is a non-primivite.\n\nA `boolean` which can only hold `TRUE` or `FALSE` is a primitive. The `TRUE`/`FALSE` in memory are actually numbers (`0` and `1`)\n\n&gt; 0 = FALSE\n&gt;\n&gt; 1 = TRUE\n\nSo when you instantiate an object it will be null\n`String str; // will equal null`\n\nOn the other hand if you instaniate a primitive it will be assigned to 0 default.\n\n`boolean isTrue; // will be 0`\n\n`int i; // will be 0`","title":"Java check if boolean is null","body":"<p>The only thing that can be a <code>null</code> is a non-primivite.</p>\n<p>A <code>boolean</code> which can only hold <code>TRUE</code> or <code>FALSE</code> is a primitive. The <code>TRUE</code>/<code>FALSE</code> in memory are actually numbers (<code>0</code> and <code>1</code>)</p>\n<blockquote>\n<p>0 = FALSE</p>\n<p>1 = TRUE</p>\n</blockquote>\n<p>So when you instantiate an object it will be null\n<code>String str; // will equal null</code></p>\n<p>On the other hand if you instaniate a primitive it will be assigned to 0 default.</p>\n<p><code>boolean isTrue; // will be 0</code></p>\n<p><code>int i; // will be 0</code></p>\n"},{"tags":[],"owner":{"account_id":2859365,"reputation":81,"user_id":2454920,"display_name":"Nikunj Trivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593423546,"creation_date":1593422838,"answer_id":62635115,"question_id":15937715,"body_markdown":"**boolean** is a primitive data type in Java and **primitive data types can not be null like other primitives int, float etc**, they should be containing default values if not assigned.\r\n\r\nIn Java, only objects can assigned to null, it means the corresponding object has no reference and so does not contain any representation in memory.\r\n\r\nHence If you want to work with object as *null* , you should be using Boolean class which wraps ***a primitive boolean type value*** inside its object.\r\n\r\n&gt; These are called wrapper classes in Java\r\n\r\nFor Example:\r\n\r\n    Boolean bool = readValue(...); // Read Your Value\r\n    if (bool  == null) { do This ...}","title":"Java check if boolean is null","body":"<p><strong>boolean</strong> is a primitive data type in Java and <strong>primitive data types can not be null like other primitives int, float etc</strong>, they should be containing default values if not assigned.</p>\n<p>In Java, only objects can assigned to null, it means the corresponding object has no reference and so does not contain any representation in memory.</p>\n<p>Hence If you want to work with object as <em>null</em> , you should be using Boolean class which wraps <em><strong>a primitive boolean type value</strong></em> inside its object.</p>\n<blockquote>\n<p>These are called wrapper classes in Java</p>\n</blockquote>\n<p>For Example:</p>\n<pre><code>Boolean bool = readValue(...); // Read Your Value\nif (bool  == null) { do This ...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345690,"creation_date":1687345690,"answer_id":76522631,"question_id":15937715,"body_markdown":"You can use `Objects.equals()` from `java.util.Objects`\r\n\r\n    if(Objects.equals(value1, value1){\r\n     //your code\r\n    }\r\n\r\nIn documentation it said, this will check null and value as well. \r\n\r\nImplementation from Java doc:\r\n\r\n    Returns true if the arguments are equal to each other and false otherwise. \r\n    Consequently, if both arguments are null, true is returned and if exactly one \r\n    argument is null, false is returned. Otherwise, equality is determined by using \r\n    the equals method of the first argument.\r\n\r\n    Params: a – an object \r\n            b – an object to be compared with a for equality\r\n    Returns: true if the arguments are equal to each other and false otherwise\r\n    See Also: Object.equals(Object)\r\n    \r\n    public static boolean equals(Object a, Object b) {\r\n        return (a == b) || (a != null &amp;&amp; a.equals(b));\r\n    }","title":"Java check if boolean is null","body":"<p>You can use <code>Objects.equals()</code> from <code>java.util.Objects</code></p>\n<pre><code>if(Objects.equals(value1, value1){\n //your code\n}\n</code></pre>\n<p>In documentation it said, this will check null and value as well.</p>\n<p>Implementation from Java doc:</p>\n<pre><code>Returns true if the arguments are equal to each other and false otherwise. \nConsequently, if both arguments are null, true is returned and if exactly one \nargument is null, false is returned. Otherwise, equality is determined by using \nthe equals method of the first argument.\n\nParams: a – an object \n        b – an object to be compared with a for equality\nReturns: true if the arguments are equal to each other and false otherwise\nSee Also: Object.equals(Object)\n\npublic static boolean equals(Object a, Object b) {\n    return (a == b) || (a != null &amp;&amp; a.equals(b));\n}\n</code></pre>\n"}],"owner":{"account_id":2309970,"reputation":2023,"user_id":2028317,"accept_rate":92,"display_name":"Delmon Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320165,"favorite_count":0,"down_vote_count":3,"up_vote_count":102,"accepted_answer_id":15937737,"answer_count":8,"score":99,"last_activity_date":1687345690,"creation_date":1365633341,"question_id":15937715,"body_markdown":"How do you check if a boolean is null or not? So if I know &quot;hideInNav&quot; is null. How do I stop \r\nit from further executing? Something like the below doesn&#39;t seem to work but why? \r\n\r\n    boolean hideInNav = parent.getProperties().get(&quot;hideInNav&quot;, false);\r\n    String hideNavigation = hideInNav != null ? hideInNav : &quot;&quot;;\r\n\r\n","title":"Java check if boolean is null","body":"<p>How do you check if a boolean is null or not? So if I know \"hideInNav\" is null. How do I stop \nit from further executing? Something like the below doesn't seem to work but why? </p>\n\n<pre><code>boolean hideInNav = parent.getProperties().get(\"hideInNav\", false);\nString hideNavigation = hideInNav != null ? hideInNav : \"\";\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1543497354,"post_id":53539728,"comment_id":93946803,"body_markdown":"The pattern in `@JsonFormat` seems to be a `SimpleDateFormat` pattern which indicates said class is being used internally. `SimpleDateFormat` has a method to set it to non-lenient (`setLenient(false)`) to make it throw a `java.text.ParseException` for a date like this. So the question would be: how do you tell `@JsonFormat` to use a non-lenient format here?","body":"The pattern in <code>@JsonFormat</code> seems to be a <code>SimpleDateFormat</code> pattern which indicates said class is being used internally. <code>SimpleDateFormat</code> has a method to set it to non-lenient (<code>setLenient(false)</code>) to make it throw a <code>java.text.ParseException</code> for a date like this. So the question would be: how do you tell <code>@JsonFormat</code> to use a non-lenient format here?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1543498014,"post_id":53539728,"comment_id":93947194,"body_markdown":"`@JsonFormat` already seems to have the `lenient` property as of Jackson 2.9.0: http://static.javadoc.io/com.fasterxml.jackson.core/jackson-annotations/2.9.0/com/fasterxml/jackson/annotation/JsonFormat.html - so `@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;, lenient = false)` should do the trick, provided that you&#39;re using Jackson 2.9.0 or higher.","body":"<code>@JsonFormat</code> already seems to have the <code>lenient</code> property as of Jackson 2.9.0: <a href=\"http://static.javadoc.io/com.fasterxml.jackson.core/jackson-annotations/2.9.0/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">static.javadoc.io/com.fasterxml.jackson.core/&hellip;</a> - so <code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM&#47;dd&#47;yyyy&quot;, lenient = false)</code> should do the trick, provided that you&#39;re using Jackson 2.9.0 or higher."}],"answers":[{"tags":[],"owner":{"account_id":5384313,"reputation":2155,"user_id":4288730,"display_name":"hasnae"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1543497729,"creation_date":1543497729,"answer_id":53540029,"question_id":53539728,"body_markdown":"You can use a custom deserializer :\r\n\r\n    public class DateDeSerializer extends StdDeserializer&lt;Date&gt; {\r\n    \r\n        public DateDeSerializer() {\r\n            super(Date.class);\r\n        }\r\n    \r\n        @Override\r\n        public Date deserialize(JsonParser p, DeserializationContext ctxt)\r\n            throws IOException, JsonProcessingException {\r\n            String value = p.readValueAs(String.class);\r\n            try {\r\n                return new SimpleDateFormat(&quot;MM/dd/yyyy&quot;).parse(value);\r\n            } catch (DateTimeParseException e) {\r\n                //throw an error\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n and use like :\r\n\r\n\r\n    @JsonDeserialize(using = DateDeSerializer .class)\r\n     private Date startDate;","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>You can use a custom deserializer :</p>\n\n<pre><code>public class DateDeSerializer extends StdDeserializer&lt;Date&gt; {\n\n    public DateDeSerializer() {\n        super(Date.class);\n    }\n\n    @Override\n    public Date deserialize(JsonParser p, DeserializationContext ctxt)\n        throws IOException, JsonProcessingException {\n        String value = p.readValueAs(String.class);\n        try {\n            return new SimpleDateFormat(\"MM/dd/yyyy\").parse(value);\n        } catch (DateTimeParseException e) {\n            //throw an error\n        }\n    }\n\n}\n</code></pre>\n\n<p>and use like :</p>\n\n<pre><code>@JsonDeserialize(using = DateDeSerializer .class)\n private Date startDate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20327,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543497770,"creation_date":1543497770,"answer_id":53540043,"question_id":53539728,"body_markdown":"You can use something like that:\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n    @JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\r\n    private LocalDate startDate;\r\n\r\nBut I don&#39;t know if it can work with class `Date`","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>You can use something like that:</p>\n\n<pre><code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n@JsonFormat(pattern = \"MM/dd/yyyy\")\nprivate LocalDate startDate;\n</code></pre>\n\n<p>But I don't know if it can work with class <code>Date</code></p>\n"},{"tags":[],"owner":{"account_id":3928715,"reputation":442,"user_id":3248142,"display_name":"G.Noulas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543499080,"creation_date":1543499080,"answer_id":53540453,"question_id":53539728,"body_markdown":"    @CustomDateValidator\r\n    private LocalDate startDate;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = CustomDateValidator.class)\r\n    @Target( { ElementType.METHOD, ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface CustomDateConstraint {\r\n        String message() default &quot;Invalid date format&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class CustomDateValidator implements\r\n      ConstraintValidator&lt;CustomDateConstraint, LocalDate&gt; {\r\n     \r\n    \tprivate static final String DATE_PATTERN = &quot;MM/dd/yyyy&quot;;\r\n     \r\n        @Override\r\n        public void initialize(CustomDateConstraint customDate) {\r\n        }\r\n     \r\n        @Override\r\n        public boolean isValid(LocalDate customDateField,\r\n          ConstraintValidatorContext cxt) {\r\n    \t\t  SimpleDateFormat sdf = new SimpleDateFormat(DATE_PATTERN);\r\n    \t\t   try\r\n            {\r\n    \t\t\tsdf.setLenient(false);\r\n                Date d = sdf.parse(customDateField);\r\n                return true;\r\n            }\r\n            catch (ParseException e)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n     \r\n    }","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<pre><code>@CustomDateValidator\nprivate LocalDate startDate;\n\n@Documented\n@Constraint(validatedBy = CustomDateValidator.class)\n@Target( { ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomDateConstraint {\n    String message() default \"Invalid date format\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class CustomDateValidator implements\n  ConstraintValidator&lt;CustomDateConstraint, LocalDate&gt; {\n\n    private static final String DATE_PATTERN = \"MM/dd/yyyy\";\n\n    @Override\n    public void initialize(CustomDateConstraint customDate) {\n    }\n\n    @Override\n    public boolean isValid(LocalDate customDateField,\n      ConstraintValidatorContext cxt) {\n          SimpleDateFormat sdf = new SimpleDateFormat(DATE_PATTERN);\n           try\n        {\n            sdf.setLenient(false);\n            Date d = sdf.parse(customDateField);\n            return true;\n        }\n        catch (ParseException e)\n        {\n            return false;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1687345635,"creation_date":1687237860,"answer_id":76511562,"question_id":53539728,"body_markdown":"Try using below\r\n\r\n&gt; @Pattern(regexp = &quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;, message = &quot;Invalid date\r\n&gt; format. The expected format is yyyy-MM-dd&quot;)\r\n\r\nDo the change in regex and message according to expectation.\r\nNote:  this is applicable for String data type only. so if you can convert it to String, it would be easy for you to manage such validation.","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>Try using below</p>\n<blockquote>\n<p>@Pattern(regexp = &quot;\\d{4}-\\d{2}-\\d{2}&quot;, message = &quot;Invalid date\nformat. The expected format is yyyy-MM-dd&quot;)</p>\n</blockquote>\n<p>Do the change in regex and message according to expectation.\nNote:  this is applicable for String data type only. so if you can convert it to String, it would be easy for you to manage such validation.</p>\n"}],"owner":{"account_id":204450,"reputation":11422,"user_id":452680,"accept_rate":91,"display_name":"Saravanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47795,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1687345635,"creation_date":1543496752,"question_id":53539728,"body_markdown":"I need to validate the given date has valid month, date and year. Basically, date format would be `MM/dd/yyyy`. But date coming like `13/40/2018` then I need to throw an error message like:\r\n\r\n&gt; invalid start date\r\n\r\nIs there any annotation available in spring to get this done?\r\n\r\n    @NotNull(message = ExceptionConstants.INVALID_START_DATE)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;)\r\n    private Date startDate;","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>I need to validate the given date has valid month, date and year. Basically, date format would be <code>MM/dd/yyyy</code>. But date coming like <code>13/40/2018</code> then I need to throw an error message like:</p>\n<blockquote>\n<p>invalid start date</p>\n</blockquote>\n<p>Is there any annotation available in spring to get this done?</p>\n<pre><code>@NotNull(message = ExceptionConstants.INVALID_START_DATE)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;)\nprivate Date startDate;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1687344774,"post_id":76522468,"comment_id":134922804,"body_markdown":"Do you use Spring?","body":"Do you use Spring?"},{"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"score":0,"creation_date":1687344907,"post_id":76522468,"comment_id":134922823,"body_markdown":"Yes. I&#39;m using Spring Boot to be exact.","body":"Yes. I&#39;m using Spring Boot to be exact."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687344919,"post_id":76522468,"comment_id":134922825,"body_markdown":"please share the complete stacktrace","body":"please share the complete stacktrace"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1687345233,"post_id":76522468,"comment_id":134922900,"body_markdown":"The parameter oldValue and newValue should be primitive types, not objects","body":"The parameter oldValue and newValue should be primitive types, not objects"},{"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"score":0,"creation_date":1687345513,"post_id":76522468,"comment_id":134922966,"body_markdown":"That indeed did the trick. Thanks. I saw your comment after posting the answer &#128077;","body":"That indeed did the trick. Thanks. I saw your comment after posting the answer 👍"}],"answers":[{"tags":[],"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687345445,"creation_date":1687345445,"answer_id":76522587,"question_id":76522468,"body_markdown":"**I&#39;ve got the solution.** The problem occured after the update of Spring Boot to the version 3. It&#39;s no longer possible to use the self-made java entities in native queries - **Customer** in this case.\r\n\r\nThe solution in this case was to replace the Customer entity with just the id of it.","title":"Could not resolve NativeQuery parameter type | Spring Boot update version 3","body":"<p><strong>I've got the solution.</strong> The problem occured after the update of Spring Boot to the version 3. It's no longer possible to use the self-made java entities in native queries - <strong>Customer</strong> in this case.</p>\n<p>The solution in this case was to replace the Customer entity with just the id of it.</p>\n"}],"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76522587,"answer_count":1,"score":1,"last_activity_date":1687345554,"creation_date":1687344701,"question_id":76522468,"body_markdown":"I&#39;m trying to query a *PostgreSQL* database using a native query in *Hibernate*. Unfortunately whenever I try I get the error: **Could not resolve NativeQuery parameter type : org.hibernate.query.internal.QueryParameterPositionalImpl@22**.\r\n\r\nThat&#39;s the query:\r\n```\r\n@Modifying(clearAutomatically = true, flushAutomatically = true)\r\n@Query(value = &quot;update table_name set column1=?3 where column1=?2 and parameter=?1&quot;, nativeQuery = true)\r\nint myQuery(String parameter, Customer oldValue, Customer newValue);\r\n```\r\n\r\nIs it dependent on the SQL-Dialect settings in Intellij? I&#39;ve set it to *Generic SQL*. Has anyone stumbled upon this problem before? Thanks in advice :)","title":"Could not resolve NativeQuery parameter type | Spring Boot update version 3","body":"<p>I'm trying to query a <em>PostgreSQL</em> database using a native query in <em>Hibernate</em>. Unfortunately whenever I try I get the error: <strong>Could not resolve NativeQuery parameter type : org.hibernate.query.internal.QueryParameterPositionalImpl@22</strong>.</p>\n<p>That's the query:</p>\n<pre><code>@Modifying(clearAutomatically = true, flushAutomatically = true)\n@Query(value = &quot;update table_name set column1=?3 where column1=?2 and parameter=?1&quot;, nativeQuery = true)\nint myQuery(String parameter, Customer oldValue, Customer newValue);\n</code></pre>\n<p>Is it dependent on the SQL-Dialect settings in Intellij? I've set it to <em>Generic SQL</em>. Has anyone stumbled upon this problem before? Thanks in advice :)</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498863319,"creation_date":1498863319,"answer_id":44855770,"question_id":44853827,"body_markdown":"All that `updateDocument` does is delete documents that contain the term, and then add the new document. So, you can just use `deleteDocuments`, which you can pass a Query to instead, followed by `addDocument` to accomplish the same thing.\r\n\r\n    writer.deleteDocuments(LongPoint.newExactQuery(&quot;foo_number&quot;, 1000));\r\n    writer.addDocument(newDoc);","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>All that <code>updateDocument</code> does is delete documents that contain the term, and then add the new document. So, you can just use <code>deleteDocuments</code>, which you can pass a Query to instead, followed by <code>addDocument</code> to accomplish the same thing.</p>\n\n<pre><code>writer.deleteDocuments(LongPoint.newExactQuery(\"foo_number\", 1000));\nwriter.addDocument(newDoc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18287082,"reputation":1,"user_id":13314733,"display_name":"Hrozhek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345421,"creation_date":1687345421,"answer_id":76522586,"question_id":44853827,"body_markdown":"This problem should be addressed in the nearest Lucene release (9.7.0 I guess). There were a pull request that added an updateDocuments(Query, Iterable) method to IndexWriter.","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>This problem should be addressed in the nearest Lucene release (9.7.0 I guess). There were a pull request that added an updateDocuments(Query, Iterable) method to IndexWriter.</p>\n"}],"owner":{"account_id":2542455,"reputation":119,"user_id":2207975,"accept_rate":0,"display_name":"pandaren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687345421,"creation_date":1498851734,"question_id":44853827,"body_markdown":"I am trying to update a document in my index using writer.update(Term t, Document doc) method.\r\nUpdate is successful if I specify a TextField in Term, but fails when I supply a LongPoint in Term\r\n&lt;br&gt;\r\nA sample of my code:&lt;br&gt;\r\n\r\n    package com.luceneserver.core;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.lucene.document.Document;\r\n    import org.apache.lucene.document.Field.Store;\r\n    import org.apache.lucene.document.LongPoint;\r\n    import org.apache.lucene.document.StoredField;\r\n    import org.apache.lucene.document.TextField;\r\n    import org.apache.lucene.index.DirectoryReader;\r\n    import org.apache.lucene.index.IndexReader;\r\n    import org.apache.lucene.index.IndexWriter;\r\n    import org.apache.lucene.index.IndexWriterConfig;\r\n    import org.apache.lucene.index.Term;\r\n    import org.apache.lucene.search.IndexSearcher;\r\n    import org.apache.lucene.search.MatchAllDocsQuery;\r\n    import org.apache.lucene.search.ScoreDoc;\r\n    import org.apache.lucene.store.RAMDirectory;\r\n    \r\n    public class SampleDocUpdates {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tIndexWriter writer = new IndexWriter(new RAMDirectory(), new IndexWriterConfig());\r\n    \t\tIndexReader reader;\r\n    \t\tIndexSearcher searcher;\r\n    \t\t\r\n    \t\t\r\n    \t\t// first document in the index\r\n    \t\tDocument initialDoc = new Document();\r\n    \t\t// adding a text field\r\n    \t\tinitialDoc.add(new TextField(&quot;foo_text&quot;, &quot;abc&quot;, Store.YES));\r\n    \t\t// adding a numeric field\r\n    \t\tinitialDoc.add(new LongPoint(&quot;foo_number&quot;, 1000));\r\n    \t\t// adding stored field to display hits\r\n    \t\tinitialDoc.add(new StoredField(&quot;foo_number&quot;, 1000));\r\n    \t\t\r\n    \t\t\r\n    \t\twriter.addDocument(initialDoc);\r\n    \t\t\r\n    \t\t\r\n    \t\t// second document in index which should update the first one..\r\n    \t\tDocument newDoc = new Document();\r\n    \t\tnewDoc.add(new TextField(&quot;foo_text&quot;, &quot;def&quot;, Store.YES));\r\n    \t\tnewDoc.add(new LongPoint(&quot;foo_number&quot;, 2000));\r\n    \t\tnewDoc.add(new StoredField(&quot;foo_number&quot;, 2000));\r\n    \t\t\r\n    \t\t\r\n    \t\t// update doc with foo_text:abc with the newDoc instance.\r\n    \t\twriter.updateDocument(new Term(&quot;foo_text&quot;, &quot;abc&quot;), newDoc);\r\n    \t\t\r\n    \t\treader = DirectoryReader.open(writer);\r\n    \t\tsearcher = new IndexSearcher(reader);\r\n    \t\t\r\n    \t\tScoreDoc[] scoreDocs = searcher.search(new MatchAllDocsQuery(), 1000).scoreDocs;\r\n    \t\t\r\n    \t\tfor (ScoreDoc scoreDoc : scoreDocs) {\r\n    \t\t\tSystem.out.println(searcher.doc(scoreDoc.doc).get(&quot;foo_text&quot;)+&quot;\\t&quot;+searcher.doc(scoreDoc.doc).get(&quot;foo_number&quot;));\r\n    \t\t\t//&#39;def\t2000&#39;\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThis code successfully updates the initial document with second document...  \r\nbut if I use \r\n&gt;writer.updateDocument(new Term(&quot;foo_number&quot;, 1000), newDoc);  \r\n\r\nIt fails... My requirement is to update documents by uniquely identifying the documents based on the LongPoint field..  \r\nThe documentation (lucene 6.3.0) has only updateDocuments() with Terms as selection criteria and not a LongPoint field.  \r\nIs there any alternative way to achieve this?\r\n\r\n","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>I am trying to update a document in my index using writer.update(Term t, Document doc) method.\nUpdate is successful if I specify a TextField in Term, but fails when I supply a LongPoint in Term\n<br>\nA sample of my code:<br></p>\n\n<pre><code>package com.luceneserver.core;\n\nimport java.io.IOException;\n\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.document.Field.Store;\nimport org.apache.lucene.document.LongPoint;\nimport org.apache.lucene.document.StoredField;\nimport org.apache.lucene.document.TextField;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.IndexWriterConfig;\nimport org.apache.lucene.index.Term;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.MatchAllDocsQuery;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.store.RAMDirectory;\n\npublic class SampleDocUpdates {\n\n    public static void main(String[] args) throws IOException {\n        IndexWriter writer = new IndexWriter(new RAMDirectory(), new IndexWriterConfig());\n        IndexReader reader;\n        IndexSearcher searcher;\n\n\n        // first document in the index\n        Document initialDoc = new Document();\n        // adding a text field\n        initialDoc.add(new TextField(\"foo_text\", \"abc\", Store.YES));\n        // adding a numeric field\n        initialDoc.add(new LongPoint(\"foo_number\", 1000));\n        // adding stored field to display hits\n        initialDoc.add(new StoredField(\"foo_number\", 1000));\n\n\n        writer.addDocument(initialDoc);\n\n\n        // second document in index which should update the first one..\n        Document newDoc = new Document();\n        newDoc.add(new TextField(\"foo_text\", \"def\", Store.YES));\n        newDoc.add(new LongPoint(\"foo_number\", 2000));\n        newDoc.add(new StoredField(\"foo_number\", 2000));\n\n\n        // update doc with foo_text:abc with the newDoc instance.\n        writer.updateDocument(new Term(\"foo_text\", \"abc\"), newDoc);\n\n        reader = DirectoryReader.open(writer);\n        searcher = new IndexSearcher(reader);\n\n        ScoreDoc[] scoreDocs = searcher.search(new MatchAllDocsQuery(), 1000).scoreDocs;\n\n        for (ScoreDoc scoreDoc : scoreDocs) {\n            System.out.println(searcher.doc(scoreDoc.doc).get(\"foo_text\")+\"\\t\"+searcher.doc(scoreDoc.doc).get(\"foo_number\"));\n            //'def  2000'\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>This code successfully updates the initial document with second document...<br>\nbut if I use </p>\n\n<blockquote>\n  <p>writer.updateDocument(new Term(\"foo_number\", 1000), newDoc);  </p>\n</blockquote>\n\n<p>It fails... My requirement is to update documents by uniquely identifying the documents based on the LongPoint field..<br>\nThe documentation (lucene 6.3.0) has only updateDocuments() with Terms as selection criteria and not a LongPoint field.<br>\nIs there any alternative way to achieve this?</p>\n"},{"tags":["java","eclipse","executable-jar"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1379451430,"post_id":18859617,"comment_id":27829436,"body_markdown":"Why not use normal file I/O? If you don&#39;t want to hard code the location, then you can pass it as jvm parameter with `-D` or just calculate it from your actual location.","body":"Why not use normal file I/O? If you don&#39;t want to hard code the location, then you can pass it as jvm parameter with <code>-D</code> or just calculate it from your actual location."}],"answers":[{"tags":[],"owner":{"account_id":2455089,"reputation":5300,"user_id":2140489,"accept_rate":50,"display_name":"Manas Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379452202,"creation_date":1379451466,"answer_id":18859757,"question_id":18859617,"body_markdown":"    properties.load(this.getClass().getResourceAsStream(configFileSrc));\r\n\r\nThis should work. \r\n\r\nIn my case, configFileSrc = &quot;/apiconfig/appconfig.properties&quot;\r\n\r\n![enter image description here][1]\r\n\r\nI had to add **staticresources** dir in the build path.\r\n\r\nThanks\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9o1X9.jpg","title":"How to read a local properties file from an executable jar?","body":"<pre><code>properties.load(this.getClass().getResourceAsStream(configFileSrc));\n</code></pre>\n\n<p>This should work. </p>\n\n<p>In my case, configFileSrc = \"/apiconfig/appconfig.properties\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/9o1X9.jpg\" alt=\"enter image description here\"></p>\n\n<p>I had to add <strong>staticresources</strong> dir in the build path.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"display_name":"user2418182"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379453202,"creation_date":1379453202,"answer_id":18860185,"question_id":18859617,"body_markdown":"Yes. Make sure you specify the path of the config directory relative to the directory where the jar is located. Since you said above that the config directory is a sub directory of the jar location, this will probably just be\r\n\r\n    &lt;configDir&gt;\r\n\r\nwhere `&lt;configDir&gt;` is your configuration directory name.\r\n\r\nYou will also need to use an absolute resource name for the lookup, by adding a slash to the properties file name:\r\n\r\n    props.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;/myApp.properties&quot;));\r\n\r\nThis is because the relative name your specify will have the package path of the class appended to it, which you don&#39;t want.\r\n\r\nIs there any specific reason you need to use the contextClassLoader? A simpler invocation would be to use the classLoader of the class containing the lookup. And, since the class can delegate to it&#39;s classLoader, you can simply say:\r\n\r\n    props.load(getClass().getResourceAsStream(&quot;/myApp.properties&quot;));\r\n\r\nFinally - have you considered putting the properties file in the jar itself? If it&#39;s not going to change at all, this would be a better option. You wouldn&#39;t need to specify the classPath in that case. Note that if you want, you could put it in a sub-directory *in the jar* , but you would have to change the resource path you looked for, and again use an absolute resource name\r\n\r\nHere is some info on absolute and relative resource names:\r\n\r\n [http://docs.oracle.com/javase/1.5.0/docs/guide/lang/resources.html][1]\r\n\r\nHope this helps!\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/lang/resources.html","title":"How to read a local properties file from an executable jar?","body":"<p>Yes. Make sure you specify the path of the config directory relative to the directory where the jar is located. Since you said above that the config directory is a sub directory of the jar location, this will probably just be</p>\n\n<pre><code>&lt;configDir&gt;\n</code></pre>\n\n<p>where <code>&lt;configDir&gt;</code> is your configuration directory name.</p>\n\n<p>You will also need to use an absolute resource name for the lookup, by adding a slash to the properties file name:</p>\n\n<pre><code>props.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(\"/myApp.properties\"));\n</code></pre>\n\n<p>This is because the relative name your specify will have the package path of the class appended to it, which you don't want.</p>\n\n<p>Is there any specific reason you need to use the contextClassLoader? A simpler invocation would be to use the classLoader of the class containing the lookup. And, since the class can delegate to it's classLoader, you can simply say:</p>\n\n<pre><code>props.load(getClass().getResourceAsStream(\"/myApp.properties\"));\n</code></pre>\n\n<p>Finally - have you considered putting the properties file in the jar itself? If it's not going to change at all, this would be a better option. You wouldn't need to specify the classPath in that case. Note that if you want, you could put it in a sub-directory <em>in the jar</em> , but you would have to change the resource path you looked for, and again use an absolute resource name</p>\n\n<p>Here is some info on absolute and relative resource names:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/lang/resources.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/guide/lang/resources.html</a></p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653030322,"creation_date":1653008913,"answer_id":72312558,"question_id":18859617,"body_markdown":"The real problem here is that you need to make up your mind where your application is going to load the properties from *when the application is deployed*.\r\n\r\n(How it works in Eclipse is kind of irrelevant ... unless you expect your users to install Eclipse to run your app!)\r\n\r\n - If you want it to load the properties from the JAR file, they need to be in the JAR file.\r\n\r\n - If you want it to load the properties from the file system, they need to be in the file system.  That means you have two subsidiary issues:\r\n\r\n   1. Where in the file system will your application look?  Bear in mind that this has to work for **all** of the OS platforms you support, and that different OSes have different conventions for where &quot;configuration settings* should be stored.\r\n\r\n   2. Is there a *default* version of the properties file, and how will you install it?\r\n\r\n - If you want to load it from the CLASSPATH and not the JAR file, that means you cannot make your application an *executable JAR*.  (Running as `java -jar ...` will **ignore** all attempts to set an external classpath.)  \r\n\r\n - If you opt for a non-executable JAR file AND loading the properties from the classpath, you have more problems:\r\n\r\n   1. How do you set the classpath?\r\n   2. How do you install the properties file &quot;alongside&quot; the JAR file?\r\n   3. Are there security concerns with a (potentially) user writable directory on the application&#39;s classpath?\r\n\r\n   This is probably the worst option.\r\n\r\n--------------------\r\n\r\nOnce you have decided how (from where) your application needs to load its properties when deployed, the code for implementing your scheme is relatively straightforward.  (Modulo the problems mentioned above.)  \r\n\r\nYou could even combine a couple of options; e.g. look for the properties file in the file system and then fall back to a &quot;default&quot; properties file in the JAR file.  Or you could make the file system location of the properties file a command line option or supply it via an environment variable or via `-D` and the system properties.","title":"How to read a local properties file from an executable jar?","body":"<p>The real problem here is that you need to make up your mind where your application is going to load the properties from <em>when the application is deployed</em>.</p>\n<p>(How it works in Eclipse is kind of irrelevant ... unless you expect your users to install Eclipse to run your app!)</p>\n<ul>\n<li><p>If you want it to load the properties from the JAR file, they need to be in the JAR file.</p>\n</li>\n<li><p>If you want it to load the properties from the file system, they need to be in the file system.  That means you have two subsidiary issues:</p>\n<ol>\n<li><p>Where in the file system will your application look?  Bear in mind that this has to work for <strong>all</strong> of the OS platforms you support, and that different OSes have different conventions for where &quot;configuration settings* should be stored.</p>\n</li>\n<li><p>Is there a <em>default</em> version of the properties file, and how will you install it?</p>\n</li>\n</ol>\n</li>\n<li><p>If you want to load it from the CLASSPATH and not the JAR file, that means you cannot make your application an <em>executable JAR</em>.  (Running as <code>java -jar ...</code> will <strong>ignore</strong> all attempts to set an external classpath.)</p>\n</li>\n<li><p>If you opt for a non-executable JAR file AND loading the properties from the classpath, you have more problems:</p>\n<ol>\n<li>How do you set the classpath?</li>\n<li>How do you install the properties file &quot;alongside&quot; the JAR file?</li>\n<li>Are there security concerns with a (potentially) user writable directory on the application's classpath?</li>\n</ol>\n<p>This is probably the worst option.</p>\n</li>\n</ul>\n<hr />\n<p>Once you have decided how (from where) your application needs to load its properties when deployed, the code for implementing your scheme is relatively straightforward.  (Modulo the problems mentioned above.)</p>\n<p>You could even combine a couple of options; e.g. look for the properties file in the file system and then fall back to a &quot;default&quot; properties file in the JAR file.  Or you could make the file system location of the properties file a command line option or supply it via an environment variable or via <code>-D</code> and the system properties.</p>\n"}],"owner":{"account_id":533072,"reputation":2976,"user_id":903724,"accept_rate":55,"display_name":"user903724"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687345405,"creation_date":1379450924,"question_id":18859617,"body_markdown":"I developed and tested my program on Eclipse Indigo.  No problem finding the properties file when run.\r\nI created a runnable jar using Eclipse export.\r\nThe program cannot find the properties file when the program is run from the jar.\r\nThe properties file is not in the jar, it is in a subdirectory of the directory where the jar is deployed.\r\nAs noted above, this directory is on the classpath in the Eclipse run configuration.\r\n\r\n    \r\n\r\n&gt; C:/myApp/myApp.jar  C:/myApp/properties/myApp.properties\r\n\r\n    props.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;myApp.properties&quot;));\r\n\r\nDo I just need to edit the Jar manifest to put the config directory on the classpath?","title":"How to read a local properties file from an executable jar?","body":"<p>I developed and tested my program on Eclipse Indigo.  No problem finding the properties file when run.\nI created a runnable jar using Eclipse export.\nThe program cannot find the properties file when the program is run from the jar.\nThe properties file is not in the jar, it is in a subdirectory of the directory where the jar is deployed.\nAs noted above, this directory is on the classpath in the Eclipse run configuration.</p>\n\n<blockquote>\n  <p>C:/myApp/myApp.jar  C:/myApp/properties/myApp.properties</p>\n</blockquote>\n\n<pre><code>props.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(\"myApp.properties\"));\n</code></pre>\n\n<p>Do I just need to edit the Jar manifest to put the config directory on the classpath?</p>\n"},{"tags":["java","spring","database","spring-boot","repository"],"comments":[{"owner":{"account_id":23735746,"reputation":23,"user_id":17754455,"display_name":"Muhammadsaied"},"score":0,"creation_date":1687344646,"post_id":76522452,"comment_id":134922776,"body_markdown":"please Like it and give me answer for this.if i made mistake please correct it","body":"please Like it and give me answer for this.if i made mistake please correct it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687345004,"post_id":76522452,"comment_id":134922848,"body_markdown":"You want a datasource but disabled the auto configuration. Remove the exclude from `@SpringBootApplication`. Place your `@SpringBootApplication` annotated class in the `paymentgateway` package and remove the `@ComponentScan`. The `@Repository` is useless on Spring Data repository interfaces and you don&#39;t need `@EnableTransactionManagement` as that is automatic. Finally don&#39;t use `@Data` fo entities as that generates a wrong toString/equals/hashCode for JPA (and lead to some surprising side effects).","body":"You want a datasource but disabled the auto configuration. Remove the exclude from <code>@SpringBootApplication</code>. Place your <code>@SpringBootApplication</code> annotated class in the <code>paymentgateway</code> package and remove the <code>@ComponentScan</code>. The <code>@Repository</code> is useless on Spring Data repository interfaces and you don&#39;t need <code>@EnableTransactionManagement</code> as that is automatic. Finally don&#39;t use <code>@Data</code> fo entities as that generates a wrong toString/equals/hashCode for JPA (and lead to some surprising side effects)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345332,"creation_date":1687345332,"answer_id":76522572,"question_id":76522452,"body_markdown":"A couple of things, but the main problem being excluding the `DataSourceAutoConfiguration.class` in your setup. Remove that exclude as you need a datasource. No `DataSource` no JPA, no Spring Data JPA repositories. \r\n\r\nAnother thing is to remove the `@ComponentScan` and place your `@SpringBootApplication` annotated class in the top-level `paymentgateway` package. That way it will automatically discover the repositories, services etc. etc. instead of you having to add more and more annotations to make it work. \r\n\r\nSpring Boot automatically enables transactions so you don&#39;t need `@EnableTransactionManagement`. Yours is disabled due to the first issue as there is nothing that needs to be transactions (no datasource, no JPA etc.)\r\n\r\nSpring Data repositories don&#39;t need an `@Repository` annotation as they are discovered through different means. So they only add clutter/overhead to your code, so remove them. \r\n\r\nDon&#39;t use `@Data` for your `@Entities` it generates wrong `toString`, `equals` and `hashCode` methods for JPA. Not to mention that it can lead to surprising side effects like an 1+N select problem due to this. See https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/ for more info. The short answer is define your own `equals`/`hashcode` and use `@Getter`/`@Setter`. ","title":"Getting error when i am using @trasactional with service methodand Also I Have problem to use @EnableTransactionManagement","body":"<p>A couple of things, but the main problem being excluding the <code>DataSourceAutoConfiguration.class</code> in your setup. Remove that exclude as you need a datasource. No <code>DataSource</code> no JPA, no Spring Data JPA repositories.</p>\n<p>Another thing is to remove the <code>@ComponentScan</code> and place your <code>@SpringBootApplication</code> annotated class in the top-level <code>paymentgateway</code> package. That way it will automatically discover the repositories, services etc. etc. instead of you having to add more and more annotations to make it work.</p>\n<p>Spring Boot automatically enables transactions so you don't need <code>@EnableTransactionManagement</code>. Yours is disabled due to the first issue as there is nothing that needs to be transactions (no datasource, no JPA etc.)</p>\n<p>Spring Data repositories don't need an <code>@Repository</code> annotation as they are discovered through different means. So they only add clutter/overhead to your code, so remove them.</p>\n<p>Don't use <code>@Data</code> for your <code>@Entities</code> it generates wrong <code>toString</code>, <code>equals</code> and <code>hashCode</code> methods for JPA. Not to mention that it can lead to surprising side effects like an 1+N select problem due to this. See <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/</a> for more info. The short answer is define your own <code>equals</code>/<code>hashcode</code> and use <code>@Getter</code>/<code>@Setter</code>.</p>\n"}],"owner":{"account_id":23735746,"reputation":23,"user_id":17754455,"display_name":"Muhammadsaied"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687345332,"creation_date":1687344607,"question_id":76522452,"body_markdown":"Field passengerInfoRepository in paymentgateway.service.FlightBookingService required a bean of type &#39;paymentgateway.repository.PassengerInfoRepository&#39; that could not be found.\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;paymentgateway.repository.PassengerInfoRepository&#39; in your configuration.\r\n\r\n\r\n\r\nController Class\r\n```\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n@RestController\r\n@EnableTransactionManagement\r\n@ComponentScan(basePackages = {&quot;paymentgateway.repository, paymentgateway.service&quot;})\r\npublic class PaymentgatewayApplication {\r\n\tprivate static final Logger logger = LogManager.getLogger(PaymentgatewayApplication.class);\r\n\r\n\t@Autowired//declared whether dependency \r\n\tprivate FlightBookingService flightBookingService;\r\n\t\r\n\t@PostMapping(&quot;/bookFlightTicket&quot;)\r\n\tpublic FlightBookingAcknowledgement bookFlightTicket(@RequestBody FlightBookingRequest flightBookingRequest) {\r\n\t\tlogger.trace(&quot;Flightbooking in service: {} &quot;, flightBookingService.bookFlightTicket(flightBookingRequest));\r\n\t\treturn flightBookingService.bookFlightTicket(flightBookingRequest);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PaymentgatewayApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nService class \r\n```\r\n@Service\r\npublic class FlightBookingService {\r\n\t\r\n\t@Autowired\r\n\tprivate PassengerInfoRepository passengerInfoRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate PaymentInfoRepository paymentInfoRepository;\r\n\t\r\n\t@Transactional//(readOnly = false , isolation = Isolation.READ_COMMITTED,propagation = Propagation.REQUIRED)\r\n\tpublic FlightBookingAcknowledgement bookFlightTicket(FlightBookingRequest flightBookingRequest) {\r\n\t\t\r\n\t\t\r\n\t\tPassengerInfo passengerInfo =  flightBookingRequest.getPassengerInfo();\r\n\t\t\r\n\t\t passengerInfo = passengerInfoRepository.save(passengerInfo);\r\n\t\t\r\n\t\tPaymentInfo paymentInfo = flightBookingRequest.getPaymentInfo();\r\n\t\t\r\n\t\tPaymentUtils.validateCreditLimit(paymentInfo.getAccountNo(), passengerInfo.getFare());\r\n\t\t\r\n\t\tpaymentInfo.setAmount(passengerInfo.getFare());\r\n\t\tpaymentInfo.setPassengerId(passengerInfo.getPId());\r\n\t\tpaymentInfoRepository.save(paymentInfo);\r\n\t\t\r\n\t\treturn new FlightBookingAcknowledgement(&quot;success&quot;, passengerInfo.getFare(),UUID.randomUUID().toString().split(&quot;-&quot;)[0],passengerInfo);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nTwo Repository \r\n\r\n```\r\n\r\n@Repository\r\npublic interface PassengerInfoRepository extends JpaRepository&lt;PassengerInfo, Long&gt; {\r\n\r\n}\r\n\r\n\r\n@Repository\r\npublic interface PaymentInfoRepository extends JpaRepository&lt;PaymentInfo, String&gt;{\r\n\r\n}\r\n```\r\nappliction.properties.\r\n\r\n```\r\nserver.port = 8081\r\n\r\n```\r\nconfiguartio.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/GT\r\nspring.datasource.username=said\r\nspring.datasource.password=said  \r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform = org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.show-sql: true\r\n```\r\nentity:\r\n```\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;PASSENGER_INFO&quot;)\r\npublic class PassengerInfo {\r\n\r\n\t@Id\r\n\t@GeneratedValue\t\r\n\tprivate Long pId;\r\n\tprivate String name; \r\n\tprivate String email;\r\n\tprivate String source;\r\n\tprivate String destination;\r\n\t\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n\tprivate Date travelDate;\r\n\tprivate String pickupTime;\r\n\tprivate String arrivalTime;\r\n\tprivate double fare;\r\n}\r\n```\r\n\r\n```\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;PAYMENT_INFO&quot;)\r\npublic class PaymentInfo {\r\n\r\n\t@Id\r\n\t@GeneratedValue(generator = &quot;uuid2&quot;)\r\n\t@GenericGenerator(name = &quot;uuid2&quot; , strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n\tprivate String paymentId;\r\n\tprivate String accountNo;\r\n\tprivate double amount ;\r\n\tprivate String cardType;\r\n\tprivate Long passengerId;\r\n}\r\n```","title":"Getting error when i am using @trasactional with service methodand Also I Have problem to use @EnableTransactionManagement","body":"<p>Field passengerInfoRepository in paymentgateway.service.FlightBookingService required a bean of type 'paymentgateway.repository.PassengerInfoRepository' that could not be found.\nThe injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'paymentgateway.repository.PassengerInfoRepository' in your configuration.</p>\n<p>Controller Class</p>\n<pre><code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n@RestController\n@EnableTransactionManagement\n@ComponentScan(basePackages = {&quot;paymentgateway.repository, paymentgateway.service&quot;})\npublic class PaymentgatewayApplication {\n    private static final Logger logger = LogManager.getLogger(PaymentgatewayApplication.class);\n\n    @Autowired//declared whether dependency \n    private FlightBookingService flightBookingService;\n    \n    @PostMapping(&quot;/bookFlightTicket&quot;)\n    public FlightBookingAcknowledgement bookFlightTicket(@RequestBody FlightBookingRequest flightBookingRequest) {\n        logger.trace(&quot;Flightbooking in service: {} &quot;, flightBookingService.bookFlightTicket(flightBookingRequest));\n        return flightBookingService.bookFlightTicket(flightBookingRequest);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentgatewayApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class FlightBookingService {\n    \n    @Autowired\n    private PassengerInfoRepository passengerInfoRepository;\n    \n    @Autowired\n    private PaymentInfoRepository paymentInfoRepository;\n    \n    @Transactional//(readOnly = false , isolation = Isolation.READ_COMMITTED,propagation = Propagation.REQUIRED)\n    public FlightBookingAcknowledgement bookFlightTicket(FlightBookingRequest flightBookingRequest) {\n        \n        \n        PassengerInfo passengerInfo =  flightBookingRequest.getPassengerInfo();\n        \n         passengerInfo = passengerInfoRepository.save(passengerInfo);\n        \n        PaymentInfo paymentInfo = flightBookingRequest.getPaymentInfo();\n        \n        PaymentUtils.validateCreditLimit(paymentInfo.getAccountNo(), passengerInfo.getFare());\n        \n        paymentInfo.setAmount(passengerInfo.getFare());\n        paymentInfo.setPassengerId(passengerInfo.getPId());\n        paymentInfoRepository.save(paymentInfo);\n        \n        return new FlightBookingAcknowledgement(&quot;success&quot;, passengerInfo.getFare(),UUID.randomUUID().toString().split(&quot;-&quot;)[0],passengerInfo);\n        \n    }\n\n}\n</code></pre>\n<p>Two Repository</p>\n<pre><code>\n@Repository\npublic interface PassengerInfoRepository extends JpaRepository&lt;PassengerInfo, Long&gt; {\n\n}\n\n\n@Repository\npublic interface PaymentInfoRepository extends JpaRepository&lt;PaymentInfo, String&gt;{\n\n}\n</code></pre>\n<p>appliction.properties.</p>\n<pre><code>server.port = 8081\n\n</code></pre>\n<p>configuartio.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/GT\nspring.datasource.username=said\nspring.datasource.password=said  \nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform = org.hibernate.dialect.MySQL8Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.show-sql: true\n</code></pre>\n<p>entity:</p>\n<pre><code>\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;PASSENGER_INFO&quot;)\npublic class PassengerInfo {\n\n    @Id\n    @GeneratedValue \n    private Long pId;\n    private String name; \n    private String email;\n    private String source;\n    private String destination;\n    \n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n    private Date travelDate;\n    private String pickupTime;\n    private String arrivalTime;\n    private double fare;\n}\n</code></pre>\n<pre><code>\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;PAYMENT_INFO&quot;)\npublic class PaymentInfo {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot; , strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private String paymentId;\n    private String accountNo;\n    private double amount ;\n    private String cardType;\n    private Long passengerId;\n}\n</code></pre>\n"},{"tags":["java","kotlin","validation"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":1,"creation_date":1687251862,"post_id":76512670,"comment_id":134906823,"body_markdown":"This answer in this question maybe is not valid to your question, but the general discussion might be beneficial as it is on the same subject: [How to test for equality of complex object graphs?](https://stackoverflow.com/questions/1411612/how-to-test-for-equality-of-complex-object-graphs).","body":"This answer in this question maybe is not valid to your question, but the general discussion might be beneficial as it is on the same subject: <a href=\"https://stackoverflow.com/questions/1411612/how-to-test-for-equality-of-complex-object-graphs\">How to test for equality of complex object graphs?</a>."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1687259851,"post_id":76512670,"comment_id":134908633,"body_markdown":"@AlexT this just uses reflection to check the contents of the fields, but does nothing about logging them. The OP is using asserts mainly for just logging the data and discarding the AssertionErrors.\n\nso OP, try to look into AssertJ&#39;s source to see how they&#39;re printing it, and copypaste that code :)","body":"@AlexT this just uses reflection to check the contents of the fields, but does nothing about logging them. The OP is using asserts mainly for just logging the data and discarding the AssertionErrors.  so OP, try to look into AssertJ&#39;s source to see how they&#39;re printing it, and copypaste that code :)"},{"owner":{"account_id":2981345,"reputation":884,"user_id":2531232,"accept_rate":75,"display_name":"evanjdooner"},"score":0,"creation_date":1687260711,"post_id":76512670,"comment_id":134908830,"body_markdown":"An interesting point from @AlexT&#39;s link is that Hamcrest does actually support using matchers for validation without throwing errors, including the readable comparison. I might look into that option.","body":"An interesting point from @AlexT&#39;s link is that Hamcrest does actually support using matchers for validation without throwing errors, including the readable comparison. I might look into that option."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1687265456,"post_id":76512670,"comment_id":134909919,"body_markdown":"FYI, rule 3: https://stackoverflow.com/help/on-topic","body":"FYI, rule 3: <a href=\"https://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"},{"owner":{"account_id":2981345,"reputation":884,"user_id":2531232,"accept_rate":75,"display_name":"evanjdooner"},"score":0,"creation_date":1687335446,"post_id":76512670,"comment_id":134920806,"body_markdown":"Thanks, @Tenfour04 I&#39;ll reword the question.","body":"Thanks, @Tenfour04 I&#39;ll reword the question."}],"answers":[{"tags":[],"owner":{"account_id":15831863,"reputation":36,"user_id":13157139,"display_name":"Mukhtar Amirkhanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345245,"creation_date":1687345245,"answer_id":76522557,"question_id":76512670,"body_markdown":"You can call the isEqualToIgnoringGivenFields method inside the Objects class, which is inside the AssertJ library. Since the method is private, it will need to be called using reflection. Example:\r\n\r\nComparator.java\r\n\r\n    package objectComparator;\r\n    \r\n    import org.assertj.core.error.ErrorMessageFactory;\r\n    import org.assertj.core.error.ShouldBeEqualToIgnoringFields;\r\n    import org.assertj.core.internal.Objects;\r\n    import org.assertj.core.internal.TypeComparators;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.*;\r\n    \r\n    public class Comparator {\r\n        public static String compare(Object actual, Object other) {\r\n            try {\r\n                Objects objects = Objects.instance();\r\n                // Получаем класс объекта Objects\r\n                Class&lt;?&gt; clazz = objects.getClass();\r\n                // Получаем приватный метод по имени\r\n                Method privateMethod = clazz\r\n                        .getDeclaredMethod(&quot;isEqualToIgnoringGivenFields&quot;, Object.class, Object.class, Map.class, TypeComparators.class, String[].class);\r\n                // Разрешаем доступ к приватному методу\r\n                privateMethod.setAccessible(true);\r\n                // Вызываем приватный метод с передачей аргументов\r\n                Objects.ByFieldsComparison comparison = (Objects.ByFieldsComparison) privateMethod.invoke(objects, actual, other, new HashMap&lt;String, java.util.Comparator&lt;?&gt;&gt;(), new TypeComparators(), new String[0]);\r\n    \r\n                ErrorMessageFactory error = ShouldBeEqualToIgnoringFields.shouldBeEqualToIgnoringGivenFields(actual,\r\n                        (List&lt;String&gt;) getComparisonField(comparison, &quot;fieldsNames&quot;),\r\n                        (List&lt;Object&gt;) getComparisonField(comparison, &quot;expectedValues&quot;),\r\n                        (List&lt;Object&gt;) getComparisonField(comparison, &quot;rejectedValues&quot;),\r\n                        Collections.emptyList());\r\n    \r\n                return error.create();\r\n            } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        private static List&lt;?&gt; getComparisonField(Objects.ByFieldsComparison comparison, String fieldName) {\r\n            try {\r\n                // Получаем класс объекта ByFieldsComparison\r\n                Class&lt;?&gt; clazz = comparison.getClass();\r\n                // Получаем приватное поле по имени\r\n                Field privateField = clazz.getDeclaredField(fieldName);\r\n                // Разрешаем доступ к приватному полю\r\n                privateField.setAccessible(true);\r\n                // Получаем значение приватного поля\r\n                return (List&lt;?&gt;) privateField.get(comparison);\r\n            } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nCalling the ShouldBeEqualToIgnoringFields.shouldBeEqualToIgnoringGivenFields method is optional. You can remove the call to this method. And parse the result as you need.\r\n\r\nMain.java\r\n\r\n    package objectComparator;\r\n        \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            Person bart = new Person(5, &quot;Bart&quot;);\r\n            Person liza = new Person(4, &quot;Liza&quot;);\r\n    \r\n            System.out.println(Comparator.compare(bart, liza));\r\n        }\r\n    }\r\n\r\nPerson.java (Sample POJO class)\r\n\r\n    package objectComparator;\r\n    \r\n    public class Person {\r\n        private int age;\r\n        private String name;\r\n    \r\n        public Person(int age, String name) {\r\n            this.age = age;\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n","title":"How to get a readable output of the difference between two objects - like AssertJ, but without throwing an AssertionError?","body":"<p>You can call the isEqualToIgnoringGivenFields method inside the Objects class, which is inside the AssertJ library. Since the method is private, it will need to be called using reflection. Example:</p>\n<p>Comparator.java</p>\n<pre><code>package objectComparator;\n\nimport org.assertj.core.error.ErrorMessageFactory;\nimport org.assertj.core.error.ShouldBeEqualToIgnoringFields;\nimport org.assertj.core.internal.Objects;\nimport org.assertj.core.internal.TypeComparators;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.*;\n\npublic class Comparator {\n    public static String compare(Object actual, Object other) {\n        try {\n            Objects objects = Objects.instance();\n            // Получаем класс объекта Objects\n            Class&lt;?&gt; clazz = objects.getClass();\n            // Получаем приватный метод по имени\n            Method privateMethod = clazz\n                    .getDeclaredMethod(&quot;isEqualToIgnoringGivenFields&quot;, Object.class, Object.class, Map.class, TypeComparators.class, String[].class);\n            // Разрешаем доступ к приватному методу\n            privateMethod.setAccessible(true);\n            // Вызываем приватный метод с передачей аргументов\n            Objects.ByFieldsComparison comparison = (Objects.ByFieldsComparison) privateMethod.invoke(objects, actual, other, new HashMap&lt;String, java.util.Comparator&lt;?&gt;&gt;(), new TypeComparators(), new String[0]);\n\n            ErrorMessageFactory error = ShouldBeEqualToIgnoringFields.shouldBeEqualToIgnoringGivenFields(actual,\n                    (List&lt;String&gt;) getComparisonField(comparison, &quot;fieldsNames&quot;),\n                    (List&lt;Object&gt;) getComparisonField(comparison, &quot;expectedValues&quot;),\n                    (List&lt;Object&gt;) getComparisonField(comparison, &quot;rejectedValues&quot;),\n                    Collections.emptyList());\n\n            return error.create();\n        } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static List&lt;?&gt; getComparisonField(Objects.ByFieldsComparison comparison, String fieldName) {\n        try {\n            // Получаем класс объекта ByFieldsComparison\n            Class&lt;?&gt; clazz = comparison.getClass();\n            // Получаем приватное поле по имени\n            Field privateField = clazz.getDeclaredField(fieldName);\n            // Разрешаем доступ к приватному полю\n            privateField.setAccessible(true);\n            // Получаем значение приватного поля\n            return (List&lt;?&gt;) privateField.get(comparison);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Calling the ShouldBeEqualToIgnoringFields.shouldBeEqualToIgnoringGivenFields method is optional. You can remove the call to this method. And parse the result as you need.</p>\n<p>Main.java</p>\n<pre><code>package objectComparator;\n    \npublic class Main {\n    public static void main(String args[]) {\n        Person bart = new Person(5, &quot;Bart&quot;);\n        Person liza = new Person(4, &quot;Liza&quot;);\n\n        System.out.println(Comparator.compare(bart, liza));\n    }\n}\n</code></pre>\n<p>Person.java (Sample POJO class)</p>\n<pre><code>package objectComparator;\n\npublic class Person {\n    private int age;\n    private String name;\n\n    public Person(int age, String name) {\n        this.age = age;\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2981345,"reputation":884,"user_id":2531232,"accept_rate":75,"display_name":"evanjdooner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1687345245,"creation_date":1687249000,"question_id":76512670,"body_markdown":"My company is currently using AssertJ matchers for production validation, because it prints a readable diff of the two values compared. However, this means we have a lot of try/immediate catch blocks around just for this validation, where we discard the stack trace because we just want to log the diff.\r\n\r\nIs there a way to fluently compare two values and get a readable output without throwing an Error? If there&#39;s a good way using the standard library, that would be great. But I&#39;m happy to consider any suggestions.\r\n\r\nFor reference, AssertJ is called like this:\r\n\r\n\r\n```\r\nAssertions.assertThat(valueB)\r\n    .usingComparatorForType(BigInteger::compareTo, BigInteger::class.java)\r\n    .isEqualToComparingFieldByField(valueA)\r\n```\r\n\r\n\r\nand outputs something like this:\r\n\r\n\r\n```\r\nError during validation between value A and value B: \r\nExpecting values:\r\n  &lt;[1, 2, 3, 4, 5]&gt;\r\nin fields:\r\n  &lt;[&quot;field1&quot;,\r\n    &quot;field2&quot;,\r\n    &quot;field3&quot;,\r\n    &quot;field4&quot;,\r\n    &quot;field5&quot;]&gt;\r\nbut were:\r\n  &lt;[5, 6, 7, 8, 9]&gt;\r\nin &lt;ValueA(field1=5, field2=6, field3=7, field4=8, field5=9)&gt;.\r\nComparison was performed on all fields\r\n```","title":"How to get a readable output of the difference between two objects - like AssertJ, but without throwing an AssertionError?","body":"<p>My company is currently using AssertJ matchers for production validation, because it prints a readable diff of the two values compared. However, this means we have a lot of try/immediate catch blocks around just for this validation, where we discard the stack trace because we just want to log the diff.</p>\n<p>Is there a way to fluently compare two values and get a readable output without throwing an Error? If there's a good way using the standard library, that would be great. But I'm happy to consider any suggestions.</p>\n<p>For reference, AssertJ is called like this:</p>\n<pre><code>Assertions.assertThat(valueB)\n    .usingComparatorForType(BigInteger::compareTo, BigInteger::class.java)\n    .isEqualToComparingFieldByField(valueA)\n</code></pre>\n<p>and outputs something like this:</p>\n<pre><code>Error during validation between value A and value B: \nExpecting values:\n  &lt;[1, 2, 3, 4, 5]&gt;\nin fields:\n  &lt;[&quot;field1&quot;,\n    &quot;field2&quot;,\n    &quot;field3&quot;,\n    &quot;field4&quot;,\n    &quot;field5&quot;]&gt;\nbut were:\n  &lt;[5, 6, 7, 8, 9]&gt;\nin &lt;ValueA(field1=5, field2=6, field3=7, field4=8, field5=9)&gt;.\nComparison was performed on all fields\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","microsoft-teams","microsoft-graph-sdks","microsoft-graph-teams"],"answers":[{"tags":[],"owner":{"account_id":11752811,"reputation":10047,"user_id":8601372,"display_name":"Hilton Giesenow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687345203,"creation_date":1687345203,"answer_id":76522547,"question_id":76516803,"body_markdown":"Per [this](https://learn.microsoft.com/en-us/graph/api/chatmessage-post?view=graph-rest-1.0&amp;tabs=http) doc, you can use either &#39;delegated&#39; permissions, in which case the message be sent &quot;on behalf of&quot; a specific user, or &#39;Application&#39; permission to have it appear to come from &#39;an app&#39;. However, the doc also says:\r\n\r\n&gt; Note: Application permissions are only supported for migration. In the future, Microsoft may require you or your customers to pay additional fees based on the amount of data imported.\r\n\r\nSo there are better ways to consider for doing this. The easiest alternative is a [webhook](https://learn.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook?tabs=dotnet).","title":"How to send messages to MS Teams using Java SDK","body":"<p>Per <a href=\"https://learn.microsoft.com/en-us/graph/api/chatmessage-post?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">this</a> doc, you can use either 'delegated' permissions, in which case the message be sent &quot;on behalf of&quot; a specific user, or 'Application' permission to have it appear to come from 'an app'. However, the doc also says:</p>\n<blockquote>\n<p>Note: Application permissions are only supported for migration. In the future, Microsoft may require you or your customers to pay additional fees based on the amount of data imported.</p>\n</blockquote>\n<p>So there are better ways to consider for doing this. The easiest alternative is a <a href=\"https://learn.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook?tabs=dotnet\" rel=\"nofollow noreferrer\">webhook</a>.</p>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687345203,"creation_date":1687279302,"question_id":76516803,"body_markdown":"We are trying to send messages using MS graph to MS teams. The SDK used is based on Java\r\n\r\n**environment details :** \r\n\r\nJava version : openjdk 17\r\n\r\nmicrosoft-graph : 5.60.0\r\n\r\nazure-identity : 1.9.1\r\n\r\nthe docs followed are : (using client secret)\r\n\r\nhttps://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=java#usernamepassword-provider\r\nhttps://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk\r\n\r\nwe have set the proper permission in the azure active directory app registration (API permission ) ( delegated and application both)\r\n\r\nhere is the Java code written \r\n\r\n\t\r\n\r\n\tfinal String clientId = &quot;3cb5543544444444a9eb&quot;;\r\n\tfinal String tenantId = &quot;5435435-235435435435&quot;; // or &quot;common&quot; for multi-tenant apps\r\n\r\n\tfinal String clientSecret = &quot;rewewrewiewrerewrewrz&quot;;\r\n\r\n\tfinal List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n\r\n\tfinal ClientSecretCredential credential = new ClientSecretCredentialBuilder()\r\n\t    .clientId(clientId).tenantId(tenantId).clientSecret(clientSecret).build();\r\n\r\n\tif (null == scopes || null == credential) {\r\n\t    throw new Exception(&quot;Unexpected error&quot;);\r\n\t}\r\n\tfinal TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(\r\n\t    scopes, credential);\r\n\r\n\tfinal GraphServiceClient&lt;okhttp3.Request&gt; graphClient = GraphServiceClient.builder()\r\n\t    .authenticationProvider(authProvider).buildClient();\r\n\t\r\n\tChatMessage chatMessage = new ChatMessage();\r\n\tItemBody body = new ItemBody();\r\n\tbody.content = &quot;Hello World&quot;;\r\n\tchatMessage.body = body;\r\n\r\n\tgraphClient.teams(&quot;4w45234324324fgf4d22-b5e4-94d0&quot;).channels(&quot;19%0thredfafdafdsfdstajhhgjhg4524554354354cv2&quot;).messages()\r\n\t\t.buildRequest()\r\n\t\t.post(chatMessage);\r\n\r\n\r\nhowever, getting below error : \r\n\r\n    20:30:48.715 [ForkJoinPool.commonPool-worker-1] INFO\r\n    com.azure.identity.ClientSecretCredential -- Azure Identity =&gt;\r\n    getToken() result for scopes [https://graph.microsoft.com/.default]:\r\n    SUCCESS Jun 20, 2023 8:30:49 PM\r\n    com.microsoft.graph.logger.DefaultLogger logError SEVERE:\r\n    CoreHttpProvider[sendRequestInternal] - 408Graph service exception Jun\r\n    20, 2023 8:30:49 PM com.microsoft.graph.logger.DefaultLogger logError\r\n    SEVERE: Throwable detail:\r\n    com.microsoft.graph.http.GraphServiceException: Error code:\r\n    Unauthorized Error message: Message POST is allowed in\r\n    application-only context only for import purposes. Refer to\r\n    https://docs.microsoft.com/microsoftteams/platform/graph-api/import-messages/import-external-messages-to-teams\r\n    for more details.\r\n\r\n    POST\r\n    https://graph.microsoft.com/v1.0/teams/470b384c-c484-4d22-b5e4-94085c55d1d0/channels/19%3aec755a15c5514be3b630c8613572f132%40thread.tacv2/messages\r\n    SdkVersion : graph-java/v5.60.0 SdkVersion : graph-java/v5.60.0 [...]\r\n\r\n    401 : Unauthorized [...]\r\n\r\n\r\nAs per the error message , does it mean that, the teams and channel should be in migrated state and if not, then we cant send messages using Java SDK to channel . \r\nanother point is , it says , Unauthorized .  but using postman client , if I hit the Teams API , then it works using the same secret and credentials ..  \r\n\r\nnot getting how to make it work using Java code \r\n\r\nplease suggest on what is missing \r\n","title":"How to send messages to MS Teams using Java SDK","body":"<p>We are trying to send messages using MS graph to MS teams. The SDK used is based on Java</p>\n<p><strong>environment details :</strong></p>\n<p>Java version : openjdk 17</p>\n<p>microsoft-graph : 5.60.0</p>\n<p>azure-identity : 1.9.1</p>\n<p>the docs followed are : (using client secret)</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=java#usernamepassword-provider\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=java#usernamepassword-provider</a>\n<a href=\"https://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk</a></p>\n<p>we have set the proper permission in the azure active directory app registration (API permission ) ( delegated and application both)</p>\n<p>here is the Java code written</p>\n<pre><code>final String clientId = &quot;3cb5543544444444a9eb&quot;;\nfinal String tenantId = &quot;5435435-235435435435&quot;; // or &quot;common&quot; for multi-tenant apps\n\nfinal String clientSecret = &quot;rewewrewiewrerewrewrz&quot;;\n\nfinal List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\nfinal ClientSecretCredential credential = new ClientSecretCredentialBuilder()\n    .clientId(clientId).tenantId(tenantId).clientSecret(clientSecret).build();\n\nif (null == scopes || null == credential) {\n    throw new Exception(&quot;Unexpected error&quot;);\n}\nfinal TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(\n    scopes, credential);\n\nfinal GraphServiceClient&lt;okhttp3.Request&gt; graphClient = GraphServiceClient.builder()\n    .authenticationProvider(authProvider).buildClient();\n\nChatMessage chatMessage = new ChatMessage();\nItemBody body = new ItemBody();\nbody.content = &quot;Hello World&quot;;\nchatMessage.body = body;\n\ngraphClient.teams(&quot;4w45234324324fgf4d22-b5e4-94d0&quot;).channels(&quot;19%0thredfafdafdsfdstajhhgjhg4524554354354cv2&quot;).messages()\n    .buildRequest()\n    .post(chatMessage);\n</code></pre>\n<p>however, getting below error :</p>\n<pre><code>20:30:48.715 [ForkJoinPool.commonPool-worker-1] INFO\ncom.azure.identity.ClientSecretCredential -- Azure Identity =&gt;\ngetToken() result for scopes [https://graph.microsoft.com/.default]:\nSUCCESS Jun 20, 2023 8:30:49 PM\ncom.microsoft.graph.logger.DefaultLogger logError SEVERE:\nCoreHttpProvider[sendRequestInternal] - 408Graph service exception Jun\n20, 2023 8:30:49 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: Throwable detail:\ncom.microsoft.graph.http.GraphServiceException: Error code:\nUnauthorized Error message: Message POST is allowed in\napplication-only context only for import purposes. Refer to\nhttps://docs.microsoft.com/microsoftteams/platform/graph-api/import-messages/import-external-messages-to-teams\nfor more details.\n\nPOST\nhttps://graph.microsoft.com/v1.0/teams/470b384c-c484-4d22-b5e4-94085c55d1d0/channels/19%3aec755a15c5514be3b630c8613572f132%40thread.tacv2/messages\nSdkVersion : graph-java/v5.60.0 SdkVersion : graph-java/v5.60.0 [...]\n\n401 : Unauthorized [...]\n</code></pre>\n<p>As per the error message , does it mean that, the teams and channel should be in migrated state and if not, then we cant send messages using Java SDK to channel .\nanother point is , it says , Unauthorized .  but using postman client , if I hit the Teams API , then it works using the same secret and credentials ..</p>\n<p>not getting how to make it work using Java code</p>\n<p>please suggest on what is missing</p>\n"},{"tags":["java","html","regex","parsing"],"comments":[{"owner":{"account_id":7553150,"reputation":495,"user_id":5733853,"accept_rate":0,"display_name":"VahidHoseini"},"score":4,"creation_date":1474916516,"post_id":240546,"comment_id":66718682,"body_markdown":"use this with following guide : compile &#39;org.jsoup:jsoup:1.9.2&#39;","body":"use this with following guide : compile &#39;org.jsoup:jsoup:1.9.2&#39;"},{"owner":{"account_id":7553150,"reputation":495,"user_id":5733853,"accept_rate":0,"display_name":"VahidHoseini"},"score":2,"creation_date":1474916548,"post_id":240546,"comment_id":66718707,"body_markdown":"http://stackoverflow.com/a/3149645/5733853","body":"<a href=\"http://stackoverflow.com/a/3149645/5733853\">stackoverflow.com/a/3149645/5733853</a>"},{"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1547824272,"post_id":240546,"comment_id":95337357,"body_markdown":"See also: https://stackoverflow.com/a/21838532/363573","body":"See also: <a href=\"https://stackoverflow.com/a/21838532/363573\">stackoverflow.com/a/21838532/363573</a>"}],"answers":[{"tags":[],"owner":{"account_id":80,"reputation":34261,"user_id":96,"accept_rate":68,"display_name":"Chris Marasti-Georg"},"down_vote_count":1,"up_vote_count":99,"is_accepted":false,"score":98,"last_activity_date":1474380024,"creation_date":1225126833,"answer_id":240630,"question_id":240546,"body_markdown":"If the user enters `&lt;b&gt;hey!&lt;/b&gt;`, do you want to display `&lt;b&gt;hey!&lt;/b&gt;` or `hey!`?  If the first, escape less-thans, and html-encode ampersands (and optionally quotes) and you&#39;re fine.  A modification to your code to implement the second option would be:\r\n\r\n    replaceAll(&quot;\\\\&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)\r\n\r\n\r\nbut you will run into issues if the user enters something malformed, like `&lt;bhey!&lt;/b&gt;`.\r\n\r\nYou can also check out [JTidy][1] which will parse &quot;dirty&quot; html input, and should give you a way to remove the tags, keeping the text.\r\n\r\nThe problem with trying to strip html is that browsers have very lenient parsers, more lenient than any library you can find will, so even if you do your best to strip all tags (using the replace method above, a DOM library, or JTidy), you will *still* need to make sure to encode any remaining HTML special characters to keep your output safe.\r\n\r\n\r\n  [1]: http://jtidy.sourceforge.net/","title":"Remove HTML tags from a String","body":"<p>If the user enters <code>&lt;b&gt;hey!&lt;/b&gt;</code>, do you want to display <code>&lt;b&gt;hey!&lt;/b&gt;</code> or <code>hey!</code>?  If the first, escape less-thans, and html-encode ampersands (and optionally quotes) and you're fine.  A modification to your code to implement the second option would be:</p>\n\n<pre><code>replaceAll(\"\\\\&lt;[^&gt;]*&gt;\",\"\")\n</code></pre>\n\n<p>but you will run into issues if the user enters something malformed, like <code>&lt;bhey!&lt;/b&gt;</code>.</p>\n\n<p>You can also check out <a href=\"http://jtidy.sourceforge.net/\" rel=\"noreferrer\">JTidy</a> which will parse \"dirty\" html input, and should give you a way to remove the tags, keeping the text.</p>\n\n<p>The problem with trying to strip html is that browsers have very lenient parsers, more lenient than any library you can find will, so even if you do your best to strip all tags (using the replace method above, a DOM library, or JTidy), you will <em>still</em> need to make sure to encode any remaining HTML special characters to keep your output safe.</p>\n"},{"tags":[],"owner":{"account_id":3019,"reputation":7919,"user_id":4276,"display_name":"Tim Howland"},"down_vote_count":11,"up_vote_count":23,"is_accepted":false,"score":12,"last_activity_date":1369302173,"creation_date":1225127036,"answer_id":240636,"question_id":240546,"body_markdown":"HTML Escaping is really hard to do right- I&#39;d definitely suggest using library code to do this, as it&#39;s a lot more subtle than you&#39;d think. Check out Apache&#39;s [StringEscapeUtils][1] for a pretty good library for handling this in Java.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html","title":"Remove HTML tags from a String","body":"<p>HTML Escaping is really hard to do right- I'd definitely suggest using library code to do this, as it's a lot more subtle than you'd think. Check out Apache's <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a> for a pretty good library for handling this in Java.</p>\n"},{"tags":[],"owner":{"account_id":14581,"reputation":2168,"user_id":30119,"display_name":"foxy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1225151557,"creation_date":1225151557,"answer_id":241757,"question_id":240546,"body_markdown":"You might want to replace `&lt;br/&gt;` and `&lt;/p&gt;` tags with newlines before stripping the HTML to prevent it becoming an illegible mess as Tim suggests.\r\n\r\nThe only way I can think of removing HTML tags but leaving non-HTML between angle brackets would be check against a [list of HTML tags][1]. Something along these lines...\r\n\r\n    replaceAll(&quot;\\\\&lt;[\\s]*tag[^&gt;]*&gt;&quot;,&quot;&quot;)\r\n\r\nThen HTML-decode special characters such as `&amp;amp;`. The result should not be considered to be sanitized.\r\n\r\n\r\n  [1]: http://www.w3schools.com/tags/default.asp","title":"Remove HTML tags from a String","body":"<p>You might want to replace <code>&lt;br/&gt;</code> and <code>&lt;/p&gt;</code> tags with newlines before stripping the HTML to prevent it becoming an illegible mess as Tim suggests.</p>\n\n<p>The only way I can think of removing HTML tags but leaving non-HTML between angle brackets would be check against a <a href=\"http://www.w3schools.com/tags/default.asp\" rel=\"noreferrer\">list of HTML tags</a>. Something along these lines...</p>\n\n<pre><code>replaceAll(\"\\\\&lt;[\\s]*tag[^&gt;]*&gt;\",\"\")\n</code></pre>\n\n<p>Then HTML-decode special characters such as <code>&amp;amp;</code>. The result should not be considered to be sanitized.</p>\n"},{"tags":[],"owner":{"display_name":"Mark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328203583,"creation_date":1232244977,"answer_id":454511,"question_id":240546,"body_markdown":"It sounds like you want to go from HTML to plain text.  \r\nIf that is the case look at www.htmlparser.org.  Here is an example that strips all the tags out from the html file found at a URL.  \r\nIt makes use of *org.htmlparser.beans.StringBean*.\r\n\r\n    static public String getUrlContentsAsText(String url) {\r\n    \tString content = &quot;&quot;;\r\n    \tStringBean stringBean = new StringBean();\r\n    \tstringBean.setURL(url);\r\n    \tcontent = stringBean.getStrings();\r\n    \treturn content;\r\n    }","title":"Remove HTML tags from a String","body":"<p>It sounds like you want to go from HTML to plain text.<br>\nIf that is the case look at www.htmlparser.org.  Here is an example that strips all the tags out from the html file found at a URL.<br>\nIt makes use of <em>org.htmlparser.beans.StringBean</em>.</p>\n\n<pre><code>static public String getUrlContentsAsText(String url) {\n    String content = \"\";\n    StringBean stringBean = new StringBean();\n    stringBean.setURL(url);\n    content = stringBean.getStrings();\n    return content;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1683165219,"creation_date":1232288212,"answer_id":455196,"question_id":240546,"body_markdown":"Another way is to use  *javax.swing.text.html.HTMLEditorKit* to extract the text.\r\n\r\n    import java.io.*;\r\n    import javax.swing.text.html.*;\r\n    import javax.swing.text.html.parser.*;\r\n    \r\n    public class Html2Text extends HTMLEditorKit.ParserCallback {\r\n    \tStringBuffer s;\r\n    \r\n    \tpublic Html2Text() {\r\n    \t}\r\n    \r\n    \tpublic void parse(Reader in) throws IOException {\r\n    \t\ts = new StringBuffer();\r\n    \t\tParserDelegator delegator = new ParserDelegator();\r\n    \t\t// the third parameter is TRUE to ignore charset directive\r\n    \t\tdelegator.parse(in, this, Boolean.TRUE);\r\n    \t}\r\n    \r\n    \tpublic void handleText(char[] text, int pos) {\r\n    \t\ts.append(text);\r\n    \t}\r\n    \r\n    \tpublic String getText() {\r\n    \t\treturn s.toString();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t// the HTML to convert\r\n    \t\t\tFileReader in = new FileReader(&quot;java-new.html&quot;);\r\n    \t\t\tHtml2Text parser = new Html2Text();\r\n    \t\t\tparser.parse(in);\r\n    \t\t\tin.close();\r\n    \t\t\tSystem.out.println(parser.getText());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0424.html","title":"Remove HTML tags from a String","body":"<p>Another way is to use  <em>javax.swing.text.html.HTMLEditorKit</em> to extract the text.</p>\n<pre><code>import java.io.*;\nimport javax.swing.text.html.*;\nimport javax.swing.text.html.parser.*;\n\npublic class Html2Text extends HTMLEditorKit.ParserCallback {\n    StringBuffer s;\n\n    public Html2Text() {\n    }\n\n    public void parse(Reader in) throws IOException {\n        s = new StringBuffer();\n        ParserDelegator delegator = new ParserDelegator();\n        // the third parameter is TRUE to ignore charset directive\n        delegator.parse(in, this, Boolean.TRUE);\n    }\n\n    public void handleText(char[] text, int pos) {\n        s.append(text);\n    }\n\n    public String getText() {\n        return s.toString();\n    }\n\n    public static void main(String[] args) {\n        try {\n            // the HTML to convert\n            FileReader in = new FileReader(&quot;java-new.html&quot;);\n            Html2Text parser = new Html2Text();\n            parser.parse(in);\n            in.close();\n            System.out.println(parser.getText());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":127450,"reputation":51,"user_id":324610,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328203606,"creation_date":1272057775,"answer_id":2702056,"question_id":240546,"body_markdown":"Here&#39;s a lightly more fleshed out update to try to handle some formatting for breaks and lists. I used Amaya&#39;s output as a guide.  \r\n\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.StringReader;\r\n    import java.util.Stack;\r\n    import java.util.logging.Logger;\r\n    \r\n    import javax.swing.text.MutableAttributeSet;\r\n    import javax.swing.text.html.HTML;\r\n    import javax.swing.text.html.HTMLEditorKit;\r\n    import javax.swing.text.html.parser.ParserDelegator;\r\n    \r\n    public class HTML2Text extends HTMLEditorKit.ParserCallback {\r\n    \tprivate static final Logger log = Logger\r\n    \t\t\t.getLogger(Logger.GLOBAL_LOGGER_NAME);\r\n    \r\n    \tprivate StringBuffer stringBuffer;\r\n    \r\n    \tprivate Stack&lt;IndexType&gt; indentStack;\r\n    \r\n    \tpublic static class IndexType {\r\n    \t\tpublic String type;\r\n    \t\tpublic int counter; // used for ordered lists\r\n    \r\n    \t\tpublic IndexType(String type) {\r\n    \t\t\tthis.type = type;\r\n    \t\t\tcounter = 0;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic HTML2Text() {\r\n    \t\tstringBuffer = new StringBuffer();\r\n    \t\tindentStack = new Stack&lt;IndexType&gt;();\r\n    \t}\r\n    \r\n    \tpublic static String convert(String html) {\r\n    \t\tHTML2Text parser = new HTML2Text();\r\n    \t\tReader in = new StringReader(html);\r\n    \t\ttry {\r\n    \t\t\t// the HTML to convert\r\n    \t\t\tparser.parse(in);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.severe(e.getMessage());\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tin.close();\r\n    \t\t\t} catch (IOException ioe) {\r\n    \t\t\t\t// this should never happen\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn parser.getText();\r\n    \t}\r\n    \r\n    \tpublic void parse(Reader in) throws IOException {\r\n    \t\tParserDelegator delegator = new ParserDelegator();\r\n    \t\t// the third parameter is TRUE to ignore charset directive\r\n    \t\tdelegator.parse(in, this, Boolean.TRUE);\r\n    \t}\r\n    \r\n    \tpublic void handleStartTag(HTML.Tag t, MutableAttributeSet a, int pos) {\r\n    \t\tlog.info(&quot;StartTag:&quot; + t.toString());\r\n    \t\tif (t.toString().equals(&quot;p&quot;)) {\r\n    \t\t\tif (stringBuffer.length() &gt; 0\r\n    \t\t\t\t\t&amp;&amp; !stringBuffer.substring(stringBuffer.length() - 1)\r\n    \t\t\t\t\t\t\t.equals(&quot;\\n&quot;)) {\r\n    \t\t\t\tnewLine();\r\n    \t\t\t}\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;ol&quot;)) {\r\n    \t\t\tindentStack.push(new IndexType(&quot;ol&quot;));\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;ul&quot;)) {\r\n    \t\t\tindentStack.push(new IndexType(&quot;ul&quot;));\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;li&quot;)) {\r\n    \t\t\tIndexType parent = indentStack.peek();\r\n    \t\t\tif (parent.type.equals(&quot;ol&quot;)) {\r\n    \t\t\t\tString numberString = &quot;&quot; + (++parent.counter) + &quot;.&quot;;\r\n    \t\t\t\tstringBuffer.append(numberString);\r\n    \t\t\t\tfor (int i = 0; i &lt; (4 - numberString.length()); i++) {\r\n    \t\t\t\t\tstringBuffer.append(&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tstringBuffer.append(&quot;*   &quot;);\r\n    \t\t\t}\r\n    \t\t\tindentStack.push(new IndexType(&quot;li&quot;));\r\n    \t\t} else if (t.toString().equals(&quot;dl&quot;)) {\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;dt&quot;)) {\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;dd&quot;)) {\r\n    \t\t\tindentStack.push(new IndexType(&quot;dd&quot;));\r\n    \t\t\tnewLine();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void newLine() {\r\n    \t\tstringBuffer.append(&quot;\\n&quot;);\r\n    \t\tfor (int i = 0; i &lt; indentStack.size(); i++) {\r\n    \t\t\tstringBuffer.append(&quot;    &quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void handleEndTag(HTML.Tag t, int pos) {\r\n    \t\tlog.info(&quot;EndTag:&quot; + t.toString());\r\n    \t\tif (t.toString().equals(&quot;p&quot;)) {\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;ol&quot;)) {\r\n    \t\t\tindentStack.pop();\r\n    \t\t\t;\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;ul&quot;)) {\r\n    \t\t\tindentStack.pop();\r\n    \t\t\t;\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;li&quot;)) {\r\n    \t\t\tindentStack.pop();\r\n    \t\t\t;\r\n    \t\t\tnewLine();\r\n    \t\t} else if (t.toString().equals(&quot;dd&quot;)) {\r\n    \t\t\tindentStack.pop();\r\n    \t\t\t;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void handleSimpleTag(HTML.Tag t, MutableAttributeSet a, int pos) {\r\n    \t\tlog.info(&quot;SimpleTag:&quot; + t.toString());\r\n    \t\tif (t.toString().equals(&quot;br&quot;)) {\r\n    \t\t\tnewLine();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void handleText(char[] text, int pos) {\r\n    \t\tlog.info(&quot;Text:&quot; + new String(text));\r\n    \t\tstringBuffer.append(text);\r\n    \t}\r\n    \r\n    \tpublic String getText() {\r\n    \t\treturn stringBuffer.toString();\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tString html = &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;paragraph at start&lt;/p&gt;hello&lt;br /&gt;What is happening?&lt;p&gt;this is a&lt;br /&gt;mutiline paragraph&lt;/p&gt;&lt;ol&gt;  &lt;li&gt;This&lt;/li&gt;  &lt;li&gt;is&lt;/li&gt;  &lt;li&gt;an&lt;/li&gt;  &lt;li&gt;ordered&lt;/li&gt;  &lt;li&gt;list    &lt;p&gt;with&lt;/p&gt;    &lt;ul&gt;      &lt;li&gt;another&lt;/li&gt;      &lt;li&gt;list        &lt;dl&gt;          &lt;dt&gt;This&lt;/dt&gt;          &lt;dt&gt;is&lt;/dt&gt;            &lt;dd&gt;sdasd&lt;/dd&gt;            &lt;dd&gt;sdasda&lt;/dd&gt;            &lt;dd&gt;asda              &lt;p&gt;aasdas&lt;/p&gt;            &lt;/dd&gt;            &lt;dd&gt;sdada&lt;/dd&gt;          &lt;dt&gt;fsdfsdfsd&lt;/dt&gt;        &lt;/dl&gt;        &lt;dl&gt;          &lt;dt&gt;vbcvcvbcvb&lt;/dt&gt;          &lt;dt&gt;cvbcvbc&lt;/dt&gt;            &lt;dd&gt;vbcbcvbcvb&lt;/dd&gt;          &lt;dt&gt;cvbcv&lt;/dt&gt;          &lt;dt&gt;&lt;/dt&gt;        &lt;/dl&gt;        &lt;dl&gt;          &lt;dt&gt;&lt;/dt&gt;        &lt;/dl&gt;&lt;/li&gt;      &lt;li&gt;cool&lt;/li&gt;    &lt;/ul&gt;    &lt;p&gt;stuff&lt;/p&gt;  &lt;/li&gt;  &lt;li&gt;cool&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    \t\tSystem.out.println(convert(html));\r\n    \t}\r\n    }","title":"Remove HTML tags from a String","body":"<p>Here's a lightly more fleshed out update to try to handle some formatting for breaks and lists. I used Amaya's output as a guide.  </p>\n\n<pre><code>import java.io.IOException;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.util.Stack;\nimport java.util.logging.Logger;\n\nimport javax.swing.text.MutableAttributeSet;\nimport javax.swing.text.html.HTML;\nimport javax.swing.text.html.HTMLEditorKit;\nimport javax.swing.text.html.parser.ParserDelegator;\n\npublic class HTML2Text extends HTMLEditorKit.ParserCallback {\n    private static final Logger log = Logger\n            .getLogger(Logger.GLOBAL_LOGGER_NAME);\n\n    private StringBuffer stringBuffer;\n\n    private Stack&lt;IndexType&gt; indentStack;\n\n    public static class IndexType {\n        public String type;\n        public int counter; // used for ordered lists\n\n        public IndexType(String type) {\n            this.type = type;\n            counter = 0;\n        }\n    }\n\n    public HTML2Text() {\n        stringBuffer = new StringBuffer();\n        indentStack = new Stack&lt;IndexType&gt;();\n    }\n\n    public static String convert(String html) {\n        HTML2Text parser = new HTML2Text();\n        Reader in = new StringReader(html);\n        try {\n            // the HTML to convert\n            parser.parse(in);\n        } catch (Exception e) {\n            log.severe(e.getMessage());\n        } finally {\n            try {\n                in.close();\n            } catch (IOException ioe) {\n                // this should never happen\n            }\n        }\n        return parser.getText();\n    }\n\n    public void parse(Reader in) throws IOException {\n        ParserDelegator delegator = new ParserDelegator();\n        // the third parameter is TRUE to ignore charset directive\n        delegator.parse(in, this, Boolean.TRUE);\n    }\n\n    public void handleStartTag(HTML.Tag t, MutableAttributeSet a, int pos) {\n        log.info(\"StartTag:\" + t.toString());\n        if (t.toString().equals(\"p\")) {\n            if (stringBuffer.length() &gt; 0\n                    &amp;&amp; !stringBuffer.substring(stringBuffer.length() - 1)\n                            .equals(\"\\n\")) {\n                newLine();\n            }\n            newLine();\n        } else if (t.toString().equals(\"ol\")) {\n            indentStack.push(new IndexType(\"ol\"));\n            newLine();\n        } else if (t.toString().equals(\"ul\")) {\n            indentStack.push(new IndexType(\"ul\"));\n            newLine();\n        } else if (t.toString().equals(\"li\")) {\n            IndexType parent = indentStack.peek();\n            if (parent.type.equals(\"ol\")) {\n                String numberString = \"\" + (++parent.counter) + \".\";\n                stringBuffer.append(numberString);\n                for (int i = 0; i &lt; (4 - numberString.length()); i++) {\n                    stringBuffer.append(\" \");\n                }\n            } else {\n                stringBuffer.append(\"*   \");\n            }\n            indentStack.push(new IndexType(\"li\"));\n        } else if (t.toString().equals(\"dl\")) {\n            newLine();\n        } else if (t.toString().equals(\"dt\")) {\n            newLine();\n        } else if (t.toString().equals(\"dd\")) {\n            indentStack.push(new IndexType(\"dd\"));\n            newLine();\n        }\n    }\n\n    private void newLine() {\n        stringBuffer.append(\"\\n\");\n        for (int i = 0; i &lt; indentStack.size(); i++) {\n            stringBuffer.append(\"    \");\n        }\n    }\n\n    public void handleEndTag(HTML.Tag t, int pos) {\n        log.info(\"EndTag:\" + t.toString());\n        if (t.toString().equals(\"p\")) {\n            newLine();\n        } else if (t.toString().equals(\"ol\")) {\n            indentStack.pop();\n            ;\n            newLine();\n        } else if (t.toString().equals(\"ul\")) {\n            indentStack.pop();\n            ;\n            newLine();\n        } else if (t.toString().equals(\"li\")) {\n            indentStack.pop();\n            ;\n            newLine();\n        } else if (t.toString().equals(\"dd\")) {\n            indentStack.pop();\n            ;\n        }\n    }\n\n    public void handleSimpleTag(HTML.Tag t, MutableAttributeSet a, int pos) {\n        log.info(\"SimpleTag:\" + t.toString());\n        if (t.toString().equals(\"br\")) {\n            newLine();\n        }\n    }\n\n    public void handleText(char[] text, int pos) {\n        log.info(\"Text:\" + new String(text));\n        stringBuffer.append(text);\n    }\n\n    public String getText() {\n        return stringBuffer.toString();\n    }\n\n    public static void main(String args[]) {\n        String html = \"&lt;html&gt;&lt;body&gt;&lt;p&gt;paragraph at start&lt;/p&gt;hello&lt;br /&gt;What is happening?&lt;p&gt;this is a&lt;br /&gt;mutiline paragraph&lt;/p&gt;&lt;ol&gt;  &lt;li&gt;This&lt;/li&gt;  &lt;li&gt;is&lt;/li&gt;  &lt;li&gt;an&lt;/li&gt;  &lt;li&gt;ordered&lt;/li&gt;  &lt;li&gt;list    &lt;p&gt;with&lt;/p&gt;    &lt;ul&gt;      &lt;li&gt;another&lt;/li&gt;      &lt;li&gt;list        &lt;dl&gt;          &lt;dt&gt;This&lt;/dt&gt;          &lt;dt&gt;is&lt;/dt&gt;            &lt;dd&gt;sdasd&lt;/dd&gt;            &lt;dd&gt;sdasda&lt;/dd&gt;            &lt;dd&gt;asda              &lt;p&gt;aasdas&lt;/p&gt;            &lt;/dd&gt;            &lt;dd&gt;sdada&lt;/dd&gt;          &lt;dt&gt;fsdfsdfsd&lt;/dt&gt;        &lt;/dl&gt;        &lt;dl&gt;          &lt;dt&gt;vbcvcvbcvb&lt;/dt&gt;          &lt;dt&gt;cvbcvbc&lt;/dt&gt;            &lt;dd&gt;vbcbcvbcvb&lt;/dd&gt;          &lt;dt&gt;cvbcv&lt;/dt&gt;          &lt;dt&gt;&lt;/dt&gt;        &lt;/dl&gt;        &lt;dl&gt;          &lt;dt&gt;&lt;/dt&gt;        &lt;/dl&gt;&lt;/li&gt;      &lt;li&gt;cool&lt;/li&gt;    &lt;/ul&gt;    &lt;p&gt;stuff&lt;/p&gt;  &lt;/li&gt;  &lt;li&gt;cool&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n        System.out.println(convert(html));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":7,"up_vote_count":660,"is_accepted":true,"score":653,"last_activity_date":1687345185,"creation_date":1277904288,"answer_id":3149645,"question_id":240546,"body_markdown":"Use a HTML parser instead of regex. This is dead simple with [Jsoup][1].\r\n\r\n    public static String html2text(String html) {\r\n        return Jsoup.parse(html).text();\r\n    }\r\n\r\nJsoup also [supports][2] removing HTML tags against a customizable whitelist, which is very useful if you want to allow only e.g. `&lt;b&gt;`, `&lt;i&gt;` and `&lt;u&gt;`.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\r\n- https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers\r\n- https://stackoverflow.com/questions/2658922/xss-prevention-in-jsp-servlet-web-application\r\n\r\n  [1]: https://jsoup.org\r\n  [2]: https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer","title":"Remove HTML tags from a String","body":"<p>Use a HTML parser instead of regex. This is dead simple with <a href=\"https://jsoup.org\" rel=\"nofollow noreferrer\">Jsoup</a>.</p>\n<pre><code>public static String html2text(String html) {\n    return Jsoup.parse(html).text();\n}\n</code></pre>\n<p>Jsoup also <a href=\"https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer\" rel=\"nofollow noreferrer\">supports</a> removing HTML tags against a customizable whitelist, which is very useful if you want to allow only e.g. <code>&lt;b&gt;</code>, <code>&lt;i&gt;</code> and <code>&lt;u&gt;</code>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">RegEx match open tags except XHTML self-contained tags</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers\">What are the pros and cons of the leading Java HTML parsers?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2658922/xss-prevention-in-jsp-servlet-web-application\">XSS prevention in JSP/Servlet web application</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":96550,"reputation":4298,"user_id":262376,"accept_rate":44,"display_name":"rjha94"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1281119014,"creation_date":1281119014,"answer_id":3426610,"question_id":240546,"body_markdown":"One more way can be to use com.google.gdata.util.common.html.HtmlToText class \r\nlike \r\n\r\n    MyWriter.toConsole(HtmlToText.htmlToPlainText(htmlResponse));\r\n\r\nThis is not bullet proof code though and when I run it on wikipedia entries I am getting style info also. However I believe for small/simple jobs this would be effective.","title":"Remove HTML tags from a String","body":"<p>One more way can be to use com.google.gdata.util.common.html.HtmlToText class \nlike </p>\n\n<pre><code>MyWriter.toConsole(HtmlToText.htmlToPlainText(htmlResponse));\n</code></pre>\n\n<p>This is not bullet proof code though and when I run it on wikipedia entries I am getting style info also. However I believe for small/simple jobs this would be effective.</p>\n"},{"tags":[],"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1281655467,"creation_date":1281655467,"answer_id":3472783,"question_id":240546,"body_markdown":"The accepted answer did not work for me for the test case I indicated: the result of &quot;a &lt; b or b &gt; c&quot; is &quot;a b or b &gt; c&quot;.\r\n\r\nSo, I used TagSoup instead.  Here&#39;s a shot that worked for my test case (and a couple of others):\r\n\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.util.logging.Logger;\r\n\r\n    import org.ccil.cowan.tagsoup.Parser;\r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.ContentHandler;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.Locator;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.XMLReader;\r\n\r\n    /**\r\n     * Take HTML and give back the text part while dropping the HTML tags.\r\n     *\r\n     * There is some risk that using TagSoup means we&#39;ll permute non-HTML text.\r\n     * However, it seems to work the best so far in test cases.\r\n     *\r\n     * @author dan\r\n     * @see &lt;a href=&quot;http://home.ccil.org/~cowan/XML/tagsoup/&quot;&gt;TagSoup&lt;/a&gt; \r\n     */\r\n    public class Html2Text2 implements ContentHandler {\r\n\tprivate StringBuffer sb;\r\n\r\n\tpublic Html2Text2() {\r\n\t}\r\n\r\n\tpublic void parse(String str) throws IOException, SAXException {\r\n\t    XMLReader reader = new Parser();\r\n\t    reader.setContentHandler(this);\r\n\t    sb = new StringBuffer();\r\n\t    reader.parse(new InputSource(new StringReader(str)));\r\n\t}\r\n\r\n\tpublic String getText() {\r\n\t    return sb.toString();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void characters(char[] ch, int start, int length)\r\n\t\tthrows SAXException {\r\n\t    for (int idx = 0; idx &lt; length; idx++) {\r\n\t\tsb.append(ch[idx+start]);\r\n\t    }\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void ignorableWhitespace(char[] ch, int start, int length)\r\n\t\tthrows SAXException {\r\n\t    sb.append(ch);\r\n\t}\r\n\r\n\t// The methods below do not contribute to the text\r\n\t@Override\r\n\tpublic void endDocument() throws SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void endElement(String uri, String localName, String qName)\r\n\t\tthrows SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void endPrefixMapping(String prefix) throws SAXException {\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void processingInstruction(String target, String data)\r\n\t\tthrows SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setDocumentLocator(Locator locator) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void skippedEntity(String name) throws SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void startDocument() throws SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void startElement(String uri, String localName, String qName,\r\n\t\tAttributes atts) throws SAXException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void startPrefixMapping(String prefix, String uri)\r\n\t\tthrows SAXException {\r\n\t}\r\n    }\r\n","title":"Remove HTML tags from a String","body":"<p>The accepted answer did not work for me for the test case I indicated: the result of \"a &lt; b or b > c\" is \"a b or b > c\".</p>\n\n<p>So, I used TagSoup instead.  Here's a shot that worked for my test case (and a couple of others):</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.StringReader;\nimport java.util.logging.Logger;\n\nimport org.ccil.cowan.tagsoup.Parser;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.ContentHandler;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.Locator;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.XMLReader;\n\n/**\n * Take HTML and give back the text part while dropping the HTML tags.\n *\n * There is some risk that using TagSoup means we'll permute non-HTML text.\n * However, it seems to work the best so far in test cases.\n *\n * @author dan\n * @see &lt;a href=\"http://home.ccil.org/~cowan/XML/tagsoup/\"&gt;TagSoup&lt;/a&gt; \n */\npublic class Html2Text2 implements ContentHandler {\nprivate StringBuffer sb;\n\npublic Html2Text2() {\n}\n\npublic void parse(String str) throws IOException, SAXException {\n    XMLReader reader = new Parser();\n    reader.setContentHandler(this);\n    sb = new StringBuffer();\n    reader.parse(new InputSource(new StringReader(str)));\n}\n\npublic String getText() {\n    return sb.toString();\n}\n\n@Override\npublic void characters(char[] ch, int start, int length)\n    throws SAXException {\n    for (int idx = 0; idx &lt; length; idx++) {\n    sb.append(ch[idx+start]);\n    }\n}\n\n@Override\npublic void ignorableWhitespace(char[] ch, int start, int length)\n    throws SAXException {\n    sb.append(ch);\n}\n\n// The methods below do not contribute to the text\n@Override\npublic void endDocument() throws SAXException {\n}\n\n@Override\npublic void endElement(String uri, String localName, String qName)\n    throws SAXException {\n}\n\n@Override\npublic void endPrefixMapping(String prefix) throws SAXException {\n}\n\n\n@Override\npublic void processingInstruction(String target, String data)\n    throws SAXException {\n}\n\n@Override\npublic void setDocumentLocator(Locator locator) {\n}\n\n@Override\npublic void skippedEntity(String name) throws SAXException {\n}\n\n@Override\npublic void startDocument() throws SAXException {\n}\n\n@Override\npublic void startElement(String uri, String localName, String qName,\n    Attributes atts) throws SAXException {\n}\n\n@Override\npublic void startPrefixMapping(String prefix, String uri)\n    throws SAXException {\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169633,"reputation":523,"user_id":395815,"display_name":"Serge"},"down_vote_count":3,"up_vote_count":29,"is_accepted":false,"score":26,"last_activity_date":1288865589,"creation_date":1288865589,"answer_id":4095615,"question_id":240546,"body_markdown":"I think that the simpliest way to filter the html tags is:\r\n\r\n\tprivate static final Pattern REMOVE_TAGS = Pattern.compile(&quot;&lt;.+?&gt;&quot;);\r\n\r\n\tpublic static String removeTags(String string) {\r\n\t\tif (string == null || string.length() == 0) {\r\n\t\t\treturn string;\r\n\t\t}\r\n\r\n\t\tMatcher m = REMOVE_TAGS.matcher(string);\r\n\t\treturn m.replaceAll(&quot;&quot;);\r\n\t}\r\n","title":"Remove HTML tags from a String","body":"<p>I think that the simpliest way to filter the html tags is:</p>\n\n<pre><code>private static final Pattern REMOVE_TAGS = Pattern.compile(\"&lt;.+?&gt;\");\n\npublic static String removeTags(String string) {\n    if (string == null || string.length() == 0) {\n        return string;\n    }\n\n    Matcher m = REMOVE_TAGS.matcher(string);\n    return m.replaceAll(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":669463,"reputation":19,"user_id":507112,"display_name":"Rizwan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1302209840,"creation_date":1289958247,"answer_id":4200787,"question_id":240546,"body_markdown":"you can simply make a method with multiple replaceAll() like\r\n\r\n    String RemoveTag(String html){\r\n       html = html.replaceAll(&quot;\\\\&lt;.*?&gt;&quot;,&quot;&quot;)\r\n       html = html.replaceAll(&quot;&amp;nbsp;&quot;,&quot;&quot;);\r\n       html = html.replaceAll(&quot;&amp;amp;&quot;.&quot;&quot;);\r\n       ----------\r\n       ----------\r\n       return html;\r\n    }\r\n\r\nUse this link for most common replacements you need:\r\nhttp://tunes.org/wiki/html_20special_20characters_20and_20symbols.html\r\n\r\nIt is simple but effective. I use this method first to remove the junk but not the very first line i.e replaceAll(&quot;\\\\&lt;.*?&gt;&quot;,&quot;&quot;), and later i use specific keywords to search for indexes and then use .substring(start, end) method to strip away unnecessary stuff. As this is more robust and you can pin point exactly what you need in the entire html page.\r\n","title":"Remove HTML tags from a String","body":"<p>you can simply make a method with multiple replaceAll() like</p>\n\n<pre><code>String RemoveTag(String html){\n   html = html.replaceAll(\"\\\\&lt;.*?&gt;\",\"\")\n   html = html.replaceAll(\"&amp;nbsp;\",\"\");\n   html = html.replaceAll(\"&amp;amp;\".\"\");\n   ----------\n   ----------\n   return html;\n}\n</code></pre>\n\n<p>Use this link for most common replacements you need:\n<a href=\"http://tunes.org/wiki/html_20special_20characters_20and_20symbols.html\" rel=\"nofollow\">http://tunes.org/wiki/html_20special_20characters_20and_20symbols.html</a></p>\n\n<p>It is simple but effective. I use this method first to remove the junk but not the very first line i.e replaceAll(\"\\&lt;.*?>\",\"\"), and later i use specific keywords to search for indexes and then use .substring(start, end) method to strip away unnecessary stuff. As this is more robust and you can pin point exactly what you need in the entire html page.</p>\n"},{"tags":[],"owner":{"account_id":763234,"reputation":41,"user_id":787614,"display_name":"rqualis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307464523,"creation_date":1307456002,"answer_id":6266528,"question_id":240546,"body_markdown":"I know this is old, but I was just working on a project that required me to filter HTML and this worked fine:\r\n\r\n    noHTMLString.replaceAll(&quot;\\\\&amp;.*?\\\\;&quot;, &quot;&quot;);\r\n\r\ninstead of this:\r\n\r\n    html = html.replaceAll(&quot;&amp;nbsp;&quot;,&quot;&quot;);\r\n    html = html.replaceAll(&quot;&amp;amp;&quot;.&quot;&quot;);\r\n\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>I know this is old, but I was just working on a project that required me to filter HTML and this worked fine:</p>\n\n<pre><code>noHTMLString.replaceAll(\"\\\\&amp;.*?\\\\;\", \"\");\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>html = html.replaceAll(\"&amp;nbsp;\",\"\");\nhtml = html.replaceAll(\"&amp;amp;\".\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83411,"reputation":3965,"user_id":233878,"display_name":"Ken Goodridge"},"down_vote_count":1,"up_vote_count":303,"is_accepted":false,"score":302,"last_activity_date":1645693870,"creation_date":1308314888,"answer_id":6385950,"question_id":240546,"body_markdown":"If you&#39;re writing for **Android** you can do this...\r\n\r\nandroidx.core.text.HtmlCompat.fromHtml(instruction,HtmlCompat.FROM_HTML_MODE_LEGACY).toString()","title":"Remove HTML tags from a String","body":"<p>If you're writing for <strong>Android</strong> you can do this...</p>\n<p>androidx.core.text.HtmlCompat.fromHtml(instruction,HtmlCompat.FROM_HTML_MODE_LEGACY).toString()</p>\n"},{"tags":[],"owner":{"account_id":791961,"reputation":199,"user_id":881338,"display_name":"Josh"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1404144826,"creation_date":1312578709,"answer_id":6962693,"question_id":240546,"body_markdown":"Also very simple using [Jericho][1], and you can retain some of the formatting (line breaks and links, for example).\r\n\r\n        Source htmlSource = new Source(htmlText);\r\n        Segment htmlSeg = new Segment(htmlSource, 0, htmlSource.length());\r\n        Renderer htmlRend = new Renderer(htmlSeg);\r\n        System.out.println(htmlRend.toString());\r\n\r\n\r\n  [1]: http://jericho.htmlparser.net/docs/index.html","title":"Remove HTML tags from a String","body":"<p>Also very simple using <a href=\"http://jericho.htmlparser.net/docs/index.html\" rel=\"noreferrer\">Jericho</a>, and you can retain some of the formatting (line breaks and links, for example).</p>\n\n<pre><code>    Source htmlSource = new Source(htmlText);\n    Segment htmlSeg = new Segment(htmlSource, 0, htmlSource.length());\n    Renderer htmlRend = new Renderer(htmlSeg);\n    System.out.println(htmlRend.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":358141,"reputation":73,"user_id":698723,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328203620,"creation_date":1312900815,"answer_id":6997978,"question_id":240546,"body_markdown":"My 5 cents:\r\n\r\n    String[] temp = yourString.split(&quot;&amp;amp;&quot;);\r\n    String tmp = &quot;&quot;;\r\n    if (temp.length &gt; 1) {\r\n    \r\n    \tfor (int i = 0; i &lt; temp.length; i++) {\r\n    \t\ttmp += temp[i] + &quot;&amp;&quot;;\r\n    \t}\r\n    \tyourString = tmp.substring(0, tmp.length() - 1);\r\n    }\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>My 5 cents:</p>\n\n<pre><code>String[] temp = yourString.split(\"&amp;amp;\");\nString tmp = \"\";\nif (temp.length &gt; 1) {\n\n    for (int i = 0; i &lt; temp.length; i++) {\n        tmp += temp[i] + \"&amp;\";\n    }\n    yourString = tmp.substring(0, tmp.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":907102,"reputation":339,"user_id":941748,"accept_rate":60,"display_name":"blackStar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1328203731,"creation_date":1318765078,"answer_id":7784001,"question_id":240546,"body_markdown":"Here is another way to do it:\r\n\r\n    public static String removeHTML(String input) {\r\n    \tint i = 0;\r\n    \tString[] str = input.split(&quot;&quot;);\r\n    \r\n    \tString s = &quot;&quot;;\r\n    \tboolean inTag = false;\r\n    \r\n    \tfor (i = input.indexOf(&quot;&lt;&quot;); i &lt; input.indexOf(&quot;&gt;&quot;); i++) {\r\n    \t\tinTag = true;\r\n    \t}\r\n    \tif (!inTag) {\r\n    \t\tfor (i = 0; i &lt; str.length; i++) {\r\n    \t\t\ts = s + str[i];\r\n    \t\t}\r\n    \t}\r\n    \treturn s;\r\n    }","title":"Remove HTML tags from a String","body":"<p>Here is another way to do it:</p>\n\n<pre><code>public static String removeHTML(String input) {\n    int i = 0;\n    String[] str = input.split(\"\");\n\n    String s = \"\";\n    boolean inTag = false;\n\n    for (i = input.indexOf(\"&lt;\"); i &lt; input.indexOf(\"&gt;\"); i++) {\n        inTag = true;\n    }\n    if (!inTag) {\n        for (i = 0; i &lt; str.length; i++) {\n            s = s + str[i];\n        }\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182532,"reputation":2344,"user_id":417297,"accept_rate":75,"display_name":"Maksim Sorokin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346748178,"creation_date":1346748178,"answer_id":12259801,"question_id":240546,"body_markdown":"One could also use [Apache Tika][1] for this purpose. By default it preserves whitespaces from the stripped html, which may be desired in certain situations:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    InputStream htmlInputStream = ..\r\n    HtmlParser htmlParser = new HtmlParser();\r\n    HtmlContentHandler htmlContentHandler = new HtmlContentHandler();\r\n    htmlParser.parse(htmlInputStream, htmlContentHandler, new Metadata())\r\n    System.out.println(htmlContentHandler.getBodyText().trim())\r\n\r\n  [1]: http://tika.apache.org/","title":"Remove HTML tags from a String","body":"<p>One could also use <a href=\"http://tika.apache.org/\" rel=\"nofollow\">Apache Tika</a> for this purpose. By default it preserves whitespaces from the stripped html, which may be desired in certain situations:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>InputStream htmlInputStream = ..\nHtmlParser htmlParser = new HtmlParser();\nHtmlContentHandler htmlContentHandler = new HtmlContentHandler();\nhtmlParser.parse(htmlInputStream, htmlContentHandler, new Metadata())\nSystem.out.println(htmlContentHandler.getBodyText().trim())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366909344,"creation_date":1366909033,"answer_id":16220579,"question_id":240546,"body_markdown":"To get **formateed plain html text** you can do that:\r\n\r\n    String BR_ESCAPED = &quot;&amp;lt;br/&amp;gt;&quot;;\r\n    Element el=Jsoup.parse(html).select(&quot;body&quot;);\r\n    el.select(&quot;br&quot;).append(BR_ESCAPED);\r\n    el.select(&quot;p&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    el.select(&quot;h1&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    el.select(&quot;h2&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    el.select(&quot;h3&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    el.select(&quot;h4&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    el.select(&quot;h5&quot;).append(BR_ESCAPED+BR_ESCAPED);\r\n    String nodeValue=el.text();\r\n    nodeValue=nodeValue.replaceAll(BR_ESCAPED, &quot;&lt;br/&gt;&quot;);\r\n    nodeValue=nodeValue.replaceAll(&quot;(\\\\s*&lt;br[^&gt;]*&gt;){3,}&quot;, &quot;&lt;br/&gt;&lt;br/&gt;&quot;);\r\n\r\n\r\nTo get **formateed plain text** change &amp;lt;br/&amp;gt; by \\n and change last line by:\r\n\r\n    nodeValue=nodeValue.replaceAll(&quot;(\\\\s*\\n){3,}&quot;, &quot;&lt;br/&gt;&lt;br/&gt;&quot;);\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>To get <strong>formateed plain html text</strong> you can do that:</p>\n\n<pre><code>String BR_ESCAPED = \"&amp;lt;br/&amp;gt;\";\nElement el=Jsoup.parse(html).select(\"body\");\nel.select(\"br\").append(BR_ESCAPED);\nel.select(\"p\").append(BR_ESCAPED+BR_ESCAPED);\nel.select(\"h1\").append(BR_ESCAPED+BR_ESCAPED);\nel.select(\"h2\").append(BR_ESCAPED+BR_ESCAPED);\nel.select(\"h3\").append(BR_ESCAPED+BR_ESCAPED);\nel.select(\"h4\").append(BR_ESCAPED+BR_ESCAPED);\nel.select(\"h5\").append(BR_ESCAPED+BR_ESCAPED);\nString nodeValue=el.text();\nnodeValue=nodeValue.replaceAll(BR_ESCAPED, \"&lt;br/&gt;\");\nnodeValue=nodeValue.replaceAll(\"(\\\\s*&lt;br[^&gt;]*&gt;){3,}\", \"&lt;br/&gt;&lt;br/&gt;\");\n</code></pre>\n\n<p>To get <strong>formateed plain text</strong> change &lt;br/&gt; by \\n and change last line by:</p>\n\n<pre><code>nodeValue=nodeValue.replaceAll(\"(\\\\s*\\n){3,}\", \"&lt;br/&gt;&lt;br/&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392668388,"creation_date":1392668388,"answer_id":21838532,"question_id":240546,"body_markdown":"Alternatively, one can use [HtmlCleaner][1]:\r\n\r\n\r\n    private CharSequence removeHtmlFrom(String html) {\r\n        return new HtmlCleaner().clean(html).getText();\r\n    }\r\n\r\n  [1]: http://htmlcleaner.sourceforge.net/index.php","title":"Remove HTML tags from a String","body":"<p>Alternatively, one can use <a href=\"http://htmlcleaner.sourceforge.net/index.php\" rel=\"noreferrer\">HtmlCleaner</a>:</p>\n\n<pre><code>private CharSequence removeHtmlFrom(String html) {\n    return new HtmlCleaner().clean(html).getText();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100972,"reputation":2254,"user_id":271887,"accept_rate":88,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1452247185,"creation_date":1399954355,"answer_id":23622675,"question_id":240546,"body_markdown":"The accepted answer of doing simply `Jsoup.parse(html).text()` has 2 potential issues (with JSoup 1.7.3):\r\n\r\n - It removes line breaks from the text\r\n - It converts text `&amp;lt;script&amp;gt;` into `&lt;script&gt;`\r\n\r\nIf you use this to protect against XSS, this is a bit annoying. Here is my best shot at an improved solution, using both JSoup and Apache StringEscapeUtils:\r\n\r\n    // breaks multi-level of escaping, preventing &amp;amp;lt;script&amp;amp;gt; to be rendered as &lt;script&gt;\r\n    String replace = input.replace(&quot;&amp;amp;&quot;, &quot;&quot;);\r\n    // decode any encoded html, preventing &amp;lt;script&amp;gt; to be rendered as &lt;script&gt;\r\n    String html = StringEscapeUtils.unescapeHtml(replace);\r\n    // remove all html tags, but maintain line breaks\r\n    String clean = Jsoup.clean(html, &quot;&quot;, Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\r\n    // decode html again to convert character entities back into text\r\n    return StringEscapeUtils.unescapeHtml(clean);\r\n\r\nNote that the last step is because I need to use the output as plain text. If you need only HTML output then you should be able to remove it.\r\n\r\nAnd here is a bunch of test cases (input to output):\r\n\r\n    {&quot;regular string&quot;, &quot;regular string&quot;},\r\n    {&quot;&lt;a href=\\&quot;link\\&quot;&gt;A link&lt;/a&gt;&quot;, &quot;A link&quot;},\r\n    {&quot;&lt;script src=\\&quot;http://evil.url.com\\&quot;/&gt;&quot;, &quot;&quot;},\r\n    {&quot;&amp;lt;script&amp;gt;&quot;, &quot;&quot;},\r\n    {&quot;&amp;amp;lt;script&amp;amp;gt;&quot;, &quot;lt;scriptgt;&quot;}, // best effort\r\n    {&quot;\\&quot; &#39; &gt; &lt; \\n \\\\ &#233; &#229; &#224; &#252; and &amp; preserved&quot;, &quot;\\&quot; &#39; &gt; &lt; \\n \\\\ &#233; &#229; &#224; &#252; and &amp; preserved&quot;}\r\n\r\nIf you find a way to make it better, please let me know.\r\n\r\n\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>The accepted answer of doing simply <code>Jsoup.parse(html).text()</code> has 2 potential issues (with JSoup 1.7.3):</p>\n\n<ul>\n<li>It removes line breaks from the text</li>\n<li>It converts text <code>&amp;lt;script&amp;gt;</code> into <code>&lt;script&gt;</code></li>\n</ul>\n\n<p>If you use this to protect against XSS, this is a bit annoying. Here is my best shot at an improved solution, using both JSoup and Apache StringEscapeUtils:</p>\n\n<pre><code>// breaks multi-level of escaping, preventing &amp;amp;lt;script&amp;amp;gt; to be rendered as &lt;script&gt;\nString replace = input.replace(\"&amp;amp;\", \"\");\n// decode any encoded html, preventing &amp;lt;script&amp;gt; to be rendered as &lt;script&gt;\nString html = StringEscapeUtils.unescapeHtml(replace);\n// remove all html tags, but maintain line breaks\nString clean = Jsoup.clean(html, \"\", Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\n// decode html again to convert character entities back into text\nreturn StringEscapeUtils.unescapeHtml(clean);\n</code></pre>\n\n<p>Note that the last step is because I need to use the output as plain text. If you need only HTML output then you should be able to remove it.</p>\n\n<p>And here is a bunch of test cases (input to output):</p>\n\n<pre><code>{\"regular string\", \"regular string\"},\n{\"&lt;a href=\\\"link\\\"&gt;A link&lt;/a&gt;\", \"A link\"},\n{\"&lt;script src=\\\"http://evil.url.com\\\"/&gt;\", \"\"},\n{\"&amp;lt;script&amp;gt;\", \"\"},\n{\"&amp;amp;lt;script&amp;amp;gt;\", \"lt;scriptgt;\"}, // best effort\n{\"\\\" ' &gt; &lt; \\n \\\\ é å à ü and &amp; preserved\", \"\\\" ' &gt; &lt; \\n \\\\ é å à ü and &amp; preserved\"}\n</code></pre>\n\n<p>If you find a way to make it better, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":3510552,"reputation":7,"user_id":2934974,"display_name":"Satya Prakash"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1409760138,"creation_date":1409760138,"answer_id":25648860,"question_id":240546,"body_markdown":"Remove HTML tags from string. Somewhere we need to parse some string which is received by some responses like Httpresponse from the server.\r\n\r\n \r\n\r\nSo we need to parse it.\r\n\r\n \r\n\r\nHere I will show how to remove html tags from string.\r\n\r\n        // sample text with tags\r\n\r\n        string str = &quot;&lt;html&gt;&lt;head&gt;sdfkashf sdf&lt;/head&gt;&lt;body&gt;sdfasdf&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n \r\n\r\n        // regex which match tags\r\n\r\n        System.Text.RegularExpressions.Regex rx = new System.Text.RegularExpressions.Regex(&quot;&lt;[^&gt;]*&gt;&quot;);\r\n\r\n \r\n\r\n        // replace all matches with empty strin\r\n\r\n        str = rx.Replace(str, &quot;&quot;);\r\n\r\n \r\n\r\n        //now str contains string without html tags","title":"Remove HTML tags from a String","body":"<p>Remove HTML tags from string. Somewhere we need to parse some string which is received by some responses like Httpresponse from the server.</p>\n\n<p>So we need to parse it.</p>\n\n<p>Here I will show how to remove html tags from string.</p>\n\n<pre><code>    // sample text with tags\n\n    string str = \"&lt;html&gt;&lt;head&gt;sdfkashf sdf&lt;/head&gt;&lt;body&gt;sdfasdf&lt;/body&gt;&lt;/html&gt;\";\n\n\n\n    // regex which match tags\n\n    System.Text.RegularExpressions.Regex rx = new System.Text.RegularExpressions.Regex(\"&lt;[^&gt;]*&gt;\");\n\n\n\n    // replace all matches with empty strin\n\n    str = rx.Replace(str, \"\");\n\n\n\n    //now str contains string without html tags\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4744455,"reputation":2719,"user_id":3836137,"accept_rate":40,"display_name":"Ameen Maheen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1435256623,"creation_date":1430713770,"answer_id":30022636,"question_id":240546,"body_markdown":"On Android, try this:\r\n\r\n    String result = Html.fromHtml(html).toString();\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>On Android, try this:</p>\n\n<pre><code>String result = Html.fromHtml(html).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6903394,"reputation":11,"user_id":5302242,"display_name":"RobMen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441400020,"creation_date":1441400020,"answer_id":32406442,"question_id":240546,"body_markdown":"One way to retain new-line info with JSoup is to precede all new line tags with some dummy string, execute JSoup and replace dummy string with &quot;\\n&quot;.\r\n\r\n    String html = &quot;&lt;p&gt;Line one&lt;/p&gt;&lt;p&gt;Line two&lt;/p&gt;Line three&lt;br/&gt;etc.&quot;;\r\n    String NEW_LINE_MARK = &quot;NEWLINESTART1234567890NEWLINEEND&quot;;\r\n    for (String tag: new String[]{&quot;&lt;/p&gt;&quot;,&quot;&lt;br/&gt;&quot;,&quot;&lt;/h1&gt;&quot;,&quot;&lt;/h2&gt;&quot;,&quot;&lt;/h3&gt;&quot;,&quot;&lt;/h4&gt;&quot;,&quot;&lt;/h5&gt;&quot;,&quot;&lt;/h6&gt;&quot;,&quot;&lt;/li&gt;&quot;}) {\r\n        html = html.replace(tag, NEW_LINE_MARK+tag);\r\n    }\r\n    \t\t\r\n    String text = Jsoup.parse(html).text();\r\n    \t\t\r\n    text = text.replace(NEW_LINE_MARK + &quot; &quot;, &quot;\\n\\n&quot;);\r\n    text = text.replace(NEW_LINE_MARK, &quot;\\n\\n&quot;);\r\n","title":"Remove HTML tags from a String","body":"<p>One way to retain new-line info with JSoup is to precede all new line tags with some dummy string, execute JSoup and replace dummy string with \"\\n\".</p>\n\n<pre><code>String html = \"&lt;p&gt;Line one&lt;/p&gt;&lt;p&gt;Line two&lt;/p&gt;Line three&lt;br/&gt;etc.\";\nString NEW_LINE_MARK = \"NEWLINESTART1234567890NEWLINEEND\";\nfor (String tag: new String[]{\"&lt;/p&gt;\",\"&lt;br/&gt;\",\"&lt;/h1&gt;\",\"&lt;/h2&gt;\",\"&lt;/h3&gt;\",\"&lt;/h4&gt;\",\"&lt;/h5&gt;\",\"&lt;/h6&gt;\",\"&lt;/li&gt;\"}) {\n    html = html.replace(tag, NEW_LINE_MARK+tag);\n}\n\nString text = Jsoup.parse(html).text();\n\ntext = text.replace(NEW_LINE_MARK + \" \", \"\\n\\n\");\ntext = text.replace(NEW_LINE_MARK, \"\\n\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1448280680,"creation_date":1448280680,"answer_id":33870804,"question_id":240546,"body_markdown":"Use **`Html.fromHtml`**\r\n\r\n***HTML*** Tags are\r\n\r\n    &lt;a href=”…”&gt; &lt;b&gt;,  &lt;big&gt;, &lt;blockquote&gt;, &lt;br&gt;, &lt;cite&gt;, &lt;dfn&gt;\r\n    &lt;div align=”…”&gt;,  &lt;em&gt;, &lt;font size=”…” color=”…” face=”…”&gt;\r\n    &lt;h1&gt;,  &lt;h2&gt;, &lt;h3&gt;, &lt;h4&gt;,  &lt;h5&gt;, &lt;h6&gt;\r\n    &lt;i&gt;, &lt;p&gt;, &lt;small&gt;\r\n    &lt;strike&gt;,  &lt;strong&gt;, &lt;sub&gt;, &lt;sup&gt;, &lt;tt&gt;, &lt;u&gt;\r\n\r\nAs per **[Android’s official Documentations][1]** any  tags in the **HTML** will display as a generic replacement **String** which your program can then go through and replace with real ***strings***.\r\n\r\n**`Html.formHtml`** method takes an **`Html.TagHandler`** and an Html.ImageGetter as arguments as well as the text to parse.\r\n\r\nExample\r\n-------\r\n\r\n    String Str_Html=&quot; &lt;p&gt;This is about me text that the user can put into their profile&lt;/p&gt; &quot;;\r\n\r\nThen\r\n\r\n    Your_TextView_Obj.setText(Html.fromHtml(Str_Html).toString());\r\n\r\nOutput\r\n\r\n**This is about me text that the user can put into their profile**\r\n\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/intl/es/reference/android/text/Html.html","title":"Remove HTML tags from a String","body":"<p>Use <strong><code>Html.fromHtml</code></strong></p>\n\n<p><strong><em>HTML</em></strong> Tags are</p>\n\n<pre><code>&lt;a href=”…”&gt; &lt;b&gt;,  &lt;big&gt;, &lt;blockquote&gt;, &lt;br&gt;, &lt;cite&gt;, &lt;dfn&gt;\n&lt;div align=”…”&gt;,  &lt;em&gt;, &lt;font size=”…” color=”…” face=”…”&gt;\n&lt;h1&gt;,  &lt;h2&gt;, &lt;h3&gt;, &lt;h4&gt;,  &lt;h5&gt;, &lt;h6&gt;\n&lt;i&gt;, &lt;p&gt;, &lt;small&gt;\n&lt;strike&gt;,  &lt;strong&gt;, &lt;sub&gt;, &lt;sup&gt;, &lt;tt&gt;, &lt;u&gt;\n</code></pre>\n\n<p>As per <strong><a href=\"http://developer.android.com/intl/es/reference/android/text/Html.html\" rel=\"noreferrer\">Android’s official Documentations</a></strong> any  tags in the <strong>HTML</strong> will display as a generic replacement <strong>String</strong> which your program can then go through and replace with real <strong><em>strings</em></strong>.</p>\n\n<p><strong><code>Html.formHtml</code></strong> method takes an <strong><code>Html.TagHandler</code></strong> and an Html.ImageGetter as arguments as well as the text to parse.</p>\n\n<h2>Example</h2>\n\n<pre><code>String Str_Html=\" &lt;p&gt;This is about me text that the user can put into their profile&lt;/p&gt; \";\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>Your_TextView_Obj.setText(Html.fromHtml(Str_Html).toString());\n</code></pre>\n\n<p>Output</p>\n\n<p><strong>This is about me text that the user can put into their profile</strong></p>\n"},{"tags":[],"owner":{"account_id":11227979,"reputation":121,"user_id":8237054,"display_name":"Sandeep1699"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1498881448,"creation_date":1498822971,"answer_id":44845644,"question_id":240546,"body_markdown":"This should work - \r\n\r\nuse this\r\n    \r\n      text.replaceAll(&#39;&lt;.*?&gt;&#39; , &quot; &quot;) -&gt; This will replace all the html tags with a space.\r\n\r\nand this\r\n    \r\n      text.replaceAll(&#39;&amp;.*?;&#39; , &quot;&quot;)-&gt; this will replace all the tags which starts with &quot;&amp;&quot; and ends with &quot;;&quot; like &amp;nbsp;, &amp;amp;, &amp;gt; etc.\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>This should work - </p>\n\n<p>use this</p>\n\n<pre><code>  text.replaceAll('&lt;.*?&gt;' , \" \") -&gt; This will replace all the html tags with a space.\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>  text.replaceAll('&amp;.*?;' , \"\")-&gt; this will replace all the tags which starts with \"&amp;\" and ends with \";\" like &amp;nbsp;, &amp;amp;, &amp;gt; etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10247066,"reputation":121,"user_id":8115060,"display_name":"Guilherme Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562003041,"creation_date":1516969646,"answer_id":48461365,"question_id":240546,"body_markdown":"    classeString.replaceAll(&quot;\\\\&lt;(/?[^\\\\&gt;]+)\\\\&gt;&quot;, &quot;\\\\ &quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim() ","title":"Remove HTML tags from a String","body":"<pre><code>classeString.replaceAll(\"\\\\&lt;(/?[^\\\\&gt;]+)\\\\&gt;\", \"\\\\ \").replaceAll(\"\\\\s+\", \" \").trim() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529480204,"creation_date":1529480204,"answer_id":50942752,"question_id":240546,"body_markdown":"Here is one more variant of how to replace all(HTML Tags |  HTML Entities | Empty Space in HTML content)\r\n\r\n`content.replaceAll(&quot;(&lt;.*?&gt;)|(&amp;.*?;)|([ ]{2,})&quot;, &quot;&quot;);` where content is a String.\r\n\r\n","title":"Remove HTML tags from a String","body":"<p>Here is one more variant of how to replace all(HTML Tags |  HTML Entities | Empty Space in HTML content)</p>\n\n<p><code>content.replaceAll(\"(&lt;.*?&gt;)|(&amp;.*?;)|([ ]{2,})\", \"\");</code> where content is a String.</p>\n"},{"tags":[],"owner":{"account_id":12984002,"reputation":131,"user_id":9385470,"display_name":"Anurag SL"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1562002661,"creation_date":1553848640,"answer_id":55413383,"question_id":240546,"body_markdown":"**You can simply use the Android&#39;s default HTML filter**\r\n\r\n\r\n        public String htmlToStringFilter(String textToFilter){\r\n\r\n        return Html.fromHtml(textToFilter).toString();\r\n\r\n        }\r\n\r\nThe above method will return the HTML filtered string for your input.","title":"Remove HTML tags from a String","body":"<p><strong>You can simply use the Android's default HTML filter</strong></p>\n\n<pre><code>    public String htmlToStringFilter(String textToFilter){\n\n    return Html.fromHtml(textToFilter).toString();\n\n    }\n</code></pre>\n\n<p>The above method will return the HTML filtered string for your input.</p>\n"},{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590405290,"creation_date":1590405290,"answer_id":62001289,"question_id":240546,"body_markdown":"I know it is been a while since this question as been asked, but I found another solution, this is what worked for me:\r\n\r\n    Pattern REMOVE_TAGS = Pattern.compile(&quot;&lt;.+?&gt;&quot;);\r\n        Source source= new Source(htmlAsString);\r\n     Matcher m = REMOVE_TAGS.matcher(sourceStep.getTextExtractor().toString());\r\n                            String clearedHtml= m.replaceAll(&quot;&quot;);\r\n\r\n \r\n\r\n ","title":"Remove HTML tags from a String","body":"<p>I know it is been a while since this question as been asked, but I found another solution, this is what worked for me:</p>\n\n<pre><code>Pattern REMOVE_TAGS = Pattern.compile(\"&lt;.+?&gt;\");\n    Source source= new Source(htmlAsString);\n Matcher m = REMOVE_TAGS.matcher(sourceStep.getTextExtractor().toString());\n                        String clearedHtml= m.replaceAll(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594835609,"creation_date":1594835609,"answer_id":62920964,"question_id":240546,"body_markdown":"Worth noting that if you&#39;re trying to accomplish this in a [Service Stack](https://servicestack.net/) project, it&#39;s already a built-in string extension\r\n\r\n```\r\nusing ServiceStack.Text;\r\n// ...\r\n&quot;The &lt;b&gt;quick&lt;/b&gt; brown &lt;p&gt; fox &lt;/p&gt; jumps over the lazy dog&quot;.StripHtml();\r\n```\r\n","title":"Remove HTML tags from a String","body":"<p>Worth noting that if you're trying to accomplish this in a <a href=\"https://servicestack.net/\" rel=\"nofollow noreferrer\">Service Stack</a> project, it's already a built-in string extension</p>\n<pre><code>using ServiceStack.Text;\n// ...\n&quot;The &lt;b&gt;quick&lt;/b&gt; brown &lt;p&gt; fox &lt;/p&gt; jumps over the lazy dog&quot;.StripHtml();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598217292,"creation_date":1598217292,"answer_id":63552068,"question_id":240546,"body_markdown":"I often find that I only need to strip out comments and script elements. This has worked reliably for me for 15 years and can easily be extended to handle any element name in HTML or XML:\r\n\r\n    // delete all comments\r\n    response = response.replaceAll(&quot;&lt;!--[^&gt;]*--&gt;&quot;, &quot;&quot;);\r\n    // delete all script elements\r\n    response = response.replaceAll(&quot;&lt;(script|SCRIPT)[^+]*?&gt;[^&gt;]*?&lt;(/script|SCRIPT)&gt;&quot;, &quot;&quot;);\r\n","title":"Remove HTML tags from a String","body":"<p>I often find that I only need to strip out comments and script elements. This has worked reliably for me for 15 years and can easily be extended to handle any element name in HTML or XML:</p>\n<pre><code>// delete all comments\nresponse = response.replaceAll(&quot;&lt;!--[^&gt;]*--&gt;&quot;, &quot;&quot;);\n// delete all script elements\nresponse = response.replaceAll(&quot;&lt;(script|SCRIPT)[^+]*?&gt;[^&gt;]*?&lt;(/script|SCRIPT)&gt;&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":950044,"reputation":1436,"user_id":976371,"accept_rate":96,"display_name":"jiamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599123795,"creation_date":1599123795,"answer_id":63720307,"question_id":240546,"body_markdown":"Sometimes the html string come from xml  with such `&amp;lt`. When using Jsoup we need parse it and then clean it.\r\n\r\n\r\n    Document doc = Jsoup.parse(htmlstrl);\r\n    Whitelist wl = Whitelist.none();\r\n    String plain = Jsoup.clean(doc.text(), wl);\r\n\r\nWhile only using `Jsoup.parse(htmlstrl).text()` can&#39;t remove tags.","title":"Remove HTML tags from a String","body":"<p>Sometimes the html string come from xml  with such <code>&amp;lt</code>. When using Jsoup we need parse it and then clean it.</p>\n<pre><code>Document doc = Jsoup.parse(htmlstrl);\nWhitelist wl = Whitelist.none();\nString plain = Jsoup.clean(doc.text(), wl);\n</code></pre>\n<p>While only using <code>Jsoup.parse(htmlstrl).text()</code> can't remove tags.</p>\n"},{"tags":[],"owner":{"account_id":13200385,"reputation":43,"user_id":9533811,"display_name":"Muneeb Ahmed"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1599755815,"creation_date":1599748576,"answer_id":63832019,"question_id":240546,"body_markdown":"**Try this for javascript:**\r\n```javascript\r\nconst strippedString = htmlString.replace(/(&lt;([^&gt;]+)&gt;)/gi, &quot;&quot;);\r\nconsole.log(strippedString);\r\n```","title":"Remove HTML tags from a String","body":"<p><strong>Try this for javascript:</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>const strippedString = htmlString.replace(/(&lt;([^&gt;]+)&gt;)/gi, &quot;&quot;);\nconsole.log(strippedString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614613486,"creation_date":1614613486,"answer_id":66425176,"question_id":240546,"body_markdown":"You can use this method to remove the HTML tags from the String,\r\n\r\n\r\n    public static String stripHtmlTags(String html) {\r\n\r\n        return html.replaceAll(&quot;&lt;.*?&gt;&quot;, &quot;&quot;);\r\n\r\n    }","title":"Remove HTML tags from a String","body":"<p>You can use this method to remove the HTML tags from the String,</p>\n<pre><code>public static String stripHtmlTags(String html) {\n\n    return html.replaceAll(&quot;&lt;.*?&gt;&quot;, &quot;&quot;);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16216968,"reputation":1,"user_id":11709551,"display_name":"Ahmad Nabeel Butt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630934602,"creation_date":1630926027,"answer_id":69073444,"question_id":240546,"body_markdown":"You can use this code to remove HTML tags including line breaks.\r\n\r\n    function remove_html_tags(html) {\r\n        html = html.replace(/&lt;div&gt;/g, &quot;&quot;).replace(/&lt;\\/div&gt;/g, &quot;&lt;br&gt;&quot;);\r\n        html = html.replace(/&lt;br&gt;/g, &quot;$br$&quot;);\r\n        html = html.replace(/(?:\\r\\n|\\r|\\n)/g, &#39;$br$&#39;);\r\n        var tmp = document.createElement(&quot;DIV&quot;);\r\n        tmp.innerHTML = html;\r\n        html = tmp.textContent || tmp.innerText;\r\n        html = html.replace(/\\$br\\$/g, &quot;\\n&quot;);\r\n        return html;\r\n    }\r\n","title":"Remove HTML tags from a String","body":"<p>You can use this code to remove HTML tags including line breaks.</p>\n<pre><code>function remove_html_tags(html) {\n    html = html.replace(/&lt;div&gt;/g, &quot;&quot;).replace(/&lt;\\/div&gt;/g, &quot;&lt;br&gt;&quot;);\n    html = html.replace(/&lt;br&gt;/g, &quot;$br$&quot;);\n    html = html.replace(/(?:\\r\\n|\\r|\\n)/g, '$br$');\n    var tmp = document.createElement(&quot;DIV&quot;);\n    tmp.innerHTML = html;\n    html = tmp.textContent || tmp.innerText;\n    html = html.replace(/\\$br\\$/g, &quot;\\n&quot;);\n    return html;\n}\n</code></pre>\n"}],"owner":{"account_id":5541,"reputation":8777,"user_id":8973,"accept_rate":77,"display_name":"Mason"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569653,"favorite_count":0,"down_vote_count":0,"up_vote_count":486,"accepted_answer_id":3149645,"answer_count":35,"score":486,"last_activity_date":1687345185,"creation_date":1225125569,"question_id":240546,"body_markdown":"Is there a good way to remove HTML from a Java string? A simple regex like \r\n\r\n```js\r\nreplaceAll(&quot;\\\\&lt;.*?&gt;&quot;, &quot;&quot;) \r\n```\r\n\r\nwill work, but some things like `&amp;amp;` won&#39;t be converted correctly and non-HTML between the two angle brackets will be removed (i.e. the `.*?` in the regex will disappear).","title":"Remove HTML tags from a String","body":"<p>Is there a good way to remove HTML from a Java string? A simple regex like</p>\n<pre class=\"lang-js prettyprint-override\"><code>replaceAll(&quot;\\\\&lt;.*?&gt;&quot;, &quot;&quot;) \n</code></pre>\n<p>will work, but some things like <code>&amp;amp;</code> won't be converted correctly and non-HTML between the two angle brackets will be removed (i.e. the <code>.*?</code> in the regex will disappear).</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687344629,"creation_date":1687344629,"question_id":76522456,"body_markdown":"i am trying to return the latest record in a table based on the date it was uploaded - when run the query returns null. \r\n\r\nmy config is fine as i tested it with asc order and it worked fine + my other queries inside the class work too. \r\n\r\ncan anyone tell me why this doesnt work, thanks.\r\n\r\n```\r\npublic Train getLatestTrain() {\r\n    Criteria criteria = getSession().createCriteria(Train.class)\r\n    criteria.addOrder(Order.desc(&quot;dateUploaded&quot;))\r\n    criteria.setMaxResults(1);\r\n\r\n    return (Train) criteria.uniqueResult();\r\n} \r\n```\r\ncan provide config files if needed ","title":"hibernate query latest record returns null","body":"<p>i am trying to return the latest record in a table based on the date it was uploaded - when run the query returns null.</p>\n<p>my config is fine as i tested it with asc order and it worked fine + my other queries inside the class work too.</p>\n<p>can anyone tell me why this doesnt work, thanks.</p>\n<pre><code>public Train getLatestTrain() {\n    Criteria criteria = getSession().createCriteria(Train.class)\n    criteria.addOrder(Order.desc(&quot;dateUploaded&quot;))\n    criteria.setMaxResults(1);\n\n    return (Train) criteria.uniqueResult();\n} \n</code></pre>\n<p>can provide config files if needed</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":3,"creation_date":1614263845,"post_id":66370082,"comment_id":117337250,"body_markdown":"Use `java.time.LocalDate` instead of `java.util.Date`.","body":"Use <code>java.time.LocalDate</code> instead of <code>java.util.Date</code>."},{"owner":{"account_id":222772,"reputation":7235,"user_id":481602,"accept_rate":83,"display_name":"Sebastien Diot"},"score":0,"creation_date":1614265441,"post_id":66370082,"comment_id":117338088,"body_markdown":"@daniu That would solve my problem, but that&#39;s kind of a work-around, rather than the solution I&#39;m looking for. I *could have* code that expected &quot;getInitialAbrechMonat()&quot; to return a Date, given our code-base is 20+ years old...","body":"@daniu That would solve my problem, but that&#39;s kind of a work-around, rather than the solution I&#39;m looking for. I <i>could have</i> code that expected &quot;getInitialAbrechMonat()&quot; to return a Date, given our code-base is 20+ years old..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1614267730,"post_id":66370082,"comment_id":117339240,"body_markdown":"Swagger or not, I recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). This also means that I disagree that it’s a workaround. It’s an upgrade that you would want anyway.","body":"Swagger or not, I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. This also means that I disagree that it’s a workaround. It’s an upgrade that you would want anyway."},{"owner":{"account_id":222772,"reputation":7235,"user_id":481602,"accept_rate":83,"display_name":"Sebastien Diot"},"score":0,"creation_date":1614601691,"post_id":66370082,"comment_id":117426161,"body_markdown":"Well, using LocalDate doesn&#39;t even work out-of-the-box: &quot; org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.time.LocalDate` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;2021-02-01&#39;)&quot;","body":"Well, using LocalDate doesn&#39;t even work out-of-the-box: &quot; org.springframework.http.converter.HttpMessageNotReadableExc&zwnj;&#8203;eption: JSON parse error: Cannot construct instance of <code>java.time.LocalDate</code> (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;2021-02-01&#39;)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":27599092,"reputation":1,"user_id":21064701,"display_name":"Artem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467050,"creation_date":1674467050,"answer_id":75207752,"question_id":66370082,"body_markdown":"    @Schema(type = &quot;string&quot;, format = &quot;date&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate date;","title":"How to tell Swagger V3 that my &quot;Java Date&quot; is just a &quot;date&quot;, not a &quot;datetime&quot;?","body":"<pre><code>@Schema(type = &quot;string&quot;, format = &quot;date&quot;)\n@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate LocalDate date;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687344586,"creation_date":1687344586,"answer_id":76522449,"question_id":66370082,"body_markdown":"It can be configured as below as well mentioning required format in description which would help API users to understand better.\r\n\r\n    @JsonFormat (pattern = &quot;ddMMyy&quot;)    \r\n    @Schema (type = &quot;string&quot;, example = &quot;010123&quot;, description = &quot;Date in format ddMMyy&quot;)\r\n    Date sampleDate;\r\n\r\nSwagger schema will show something like below\r\n\r\n    sampleDate\tstring\r\n                example: 010123\r\n                Date in format ddMMyy","title":"How to tell Swagger V3 that my &quot;Java Date&quot; is just a &quot;date&quot;, not a &quot;datetime&quot;?","body":"<p>It can be configured as below as well mentioning required format in description which would help API users to understand better.</p>\n<pre><code>@JsonFormat (pattern = &quot;ddMMyy&quot;)    \n@Schema (type = &quot;string&quot;, example = &quot;010123&quot;, description = &quot;Date in format ddMMyy&quot;)\nDate sampleDate;\n</code></pre>\n<p>Swagger schema will show something like below</p>\n<pre><code>sampleDate  string\n            example: 010123\n            Date in format ddMMyy\n</code></pre>\n"}],"owner":{"account_id":222772,"reputation":7235,"user_id":481602,"accept_rate":83,"display_name":"Sebastien Diot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687344586,"creation_date":1614261993,"question_id":66370082,"body_markdown":"I have this annotated (Spring-Boot, REST-Service, swagger-annotations-2.1.2) Java code:\r\n\r\n    @JsonProperty(&quot;InitialAbrechMonat&quot;)\r\n    @Schema(name = &quot;InitialAbrechMonat&quot;, description = &quot;blabla&quot;, format = &quot;date&quot;,\r\n            pattern = &quot;yyyy-MM-dd&quot;, example = &quot;2020-12-01&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n    public Date getInitialAbrechMonat() {\r\n\r\nNot sure if *format = &quot;date&quot;* in @Schema does anything, but I&#39;ve seen a *format = &quot;date-time&quot;* somewhere, so I tried. Anyway, Swagger both ignores my &quot;example&quot;, &quot;pattern&quot; and &quot;format&quot; and shows me this:\r\n\r\n    &quot;InitialAbrechMonat&quot;: &quot;2021-02-25T13:50:35.705Z&quot;,\r\n\r\nIn the &quot;Example Value | Schema&quot; section of the generated web documentation/UI.\r\n\r\nI want to see either the example I actually gave, or at least a date formatted as &quot;yyyy-MM-dd&quot;, so as not to confuse my users.\r\n\r\nEDIT: I added &quot;pattern&quot; and &quot;format&quot; only *after* seeing it ignored my &quot;example&quot;.","title":"How to tell Swagger V3 that my &quot;Java Date&quot; is just a &quot;date&quot;, not a &quot;datetime&quot;?","body":"<p>I have this annotated (Spring-Boot, REST-Service, swagger-annotations-2.1.2) Java code:</p>\n<pre><code>@JsonProperty(&quot;InitialAbrechMonat&quot;)\n@Schema(name = &quot;InitialAbrechMonat&quot;, description = &quot;blabla&quot;, format = &quot;date&quot;,\n        pattern = &quot;yyyy-MM-dd&quot;, example = &quot;2020-12-01&quot;)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\npublic Date getInitialAbrechMonat() {\n</code></pre>\n<p>Not sure if <em>format = &quot;date&quot;</em> in @Schema does anything, but I've seen a <em>format = &quot;date-time&quot;</em> somewhere, so I tried. Anyway, Swagger both ignores my &quot;example&quot;, &quot;pattern&quot; and &quot;format&quot; and shows me this:</p>\n<pre><code>&quot;InitialAbrechMonat&quot;: &quot;2021-02-25T13:50:35.705Z&quot;,\n</code></pre>\n<p>In the &quot;Example Value | Schema&quot; section of the generated web documentation/UI.</p>\n<p>I want to see either the example I actually gave, or at least a date formatted as &quot;yyyy-MM-dd&quot;, so as not to confuse my users.</p>\n<p>EDIT: I added &quot;pattern&quot; and &quot;format&quot; only <em>after</em> seeing it ignored my &quot;example&quot;.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3998784,"reputation":3574,"user_id":3295442,"display_name":"McLovin"},"score":1,"creation_date":1405718421,"post_id":24833846,"comment_id":38556960,"body_markdown":"Why are you executing a process instead of just using a `FileReader`?","body":"Why are you executing a process instead of just using a <code>FileReader</code>?"},{"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"score":0,"creation_date":1405718983,"post_id":24833846,"comment_id":38557145,"body_markdown":"Yes you can do this just by closing the stream through which you are making the changes in file!!","body":"Yes you can do this just by closing the stream through which you are making the changes in file!!"},{"owner":{"account_id":2545004,"reputation":1357,"user_id":2364403,"accept_rate":77,"display_name":"Vivin"},"score":0,"creation_date":1405719019,"post_id":24833846,"comment_id":38557159,"body_markdown":"Use BufferedWriter http://docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.html. I wont advice closing and opening again the stream everytime.","body":"Use BufferedWriter <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.htm&zwnj;&#8203;l</a>. I wont advice closing and opening again the stream everytime."},{"owner":{"account_id":1585313,"reputation":1529,"user_id":1469828,"accept_rate":68,"display_name":"typeof programmer"},"score":0,"creation_date":1405719425,"post_id":24833846,"comment_id":38557279,"body_markdown":"Thanks all! How to read the file line by lien first if using BufferedReader?","body":"Thanks all! How to read the file line by lien first if using BufferedReader?"}],"answers":[{"tags":[],"owner":{"account_id":3211731,"reputation":3690,"user_id":2711596,"display_name":"Debasis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1405719083,"creation_date":1405719083,"answer_id":24834095,"question_id":24833846,"body_markdown":"The following steps could achieve what you are looking for.\r\n\r\n  - Instantiate a FileWriter object to create a tmp file.\r\n\r\n         FileWriter fw = new FileWriter(&quot;tmp&quot;);\r\n\r\n\r\n  - Read line by line from the source file.\r\n\r\n  - Modify this line (string object) in memory.\r\n\r\n  - Write out this string in the tmp file.\r\n\r\n          fw.write(line);\r\n\r\n  - Close the file handles.\r\n\r\n  - Rename the tmp file to the source file name.\r\n\r\n         sourceFile.renameTo(targetFile);","title":"How to update a file content in Java","body":"<p>The following steps could achieve what you are looking for.</p>\n\n<ul>\n<li><p>Instantiate a FileWriter object to create a tmp file.</p>\n\n<pre><code> FileWriter fw = new FileWriter(\"tmp\");\n</code></pre></li>\n<li><p>Read line by line from the source file.</p></li>\n<li><p>Modify this line (string object) in memory.</p></li>\n<li><p>Write out this string in the tmp file.</p>\n\n<pre><code>  fw.write(line);\n</code></pre></li>\n<li><p>Close the file handles.</p></li>\n<li><p>Rename the tmp file to the source file name.</p>\n\n<pre><code> sourceFile.renameTo(targetFile);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":461611,"reputation":583,"user_id":863419,"accept_rate":81,"display_name":"Jimmysnn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405719571,"creation_date":1405719571,"answer_id":24834178,"question_id":24833846,"body_markdown":" This question has been answered [here][1]. I repeat the answer.\r\n\r\n    public static void replaceSelected(String replaceWith, String type) {\r\n        try {\r\n            // input the file content to the String &quot;input&quot;\r\n            BufferedReader file = new BufferedReader(new FileReader(&quot;notes.txt&quot;));\r\n            String line;String input = &quot;&quot;;\r\n    \r\n            while ((line = file.readLine()) != null) input += line + &#39;\\n&#39;;\r\n    \r\n            System.out.println(input); // check that it&#39;s inputted right\r\n    \r\n            // this if structure determines whether or not to replace &quot;0&quot; or &quot;1&quot;\r\n            if (Integer.parseInt(type) == 0) {\r\n                input = input.replace(replaceWith + &quot;1&quot;, replaceWith + &quot;0&quot;); \r\n            }\r\n            else if (Integer.parseInt(type) == 1) {\r\n                input = input.replace(replaceWith + &quot;0&quot;, replaceWith + &quot;1&quot;);\r\n            } \r\n    \r\n            // check if the new input is right\r\n            System.out.println(&quot;----------------------------------&quot;  + &#39;\\n&#39; + input);\r\n    \r\n            // write the new String with the replaced line OVER the same file\r\n            FileOutputStream File = new FileOutputStream(&quot;notes.txt&quot;);\r\n            File.write(input.getBytes());\r\n    \r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Problem reading file.&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        replaceSelected(&quot;Do the dishes&quot;,&quot;1&quot;);    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20039980/java-replace-line-in-text-file","title":"How to update a file content in Java","body":"<p>This question has been answered <a href=\"https://stackoverflow.com/questions/20039980/java-replace-line-in-text-file\">here</a>. I repeat the answer.</p>\n\n<pre><code>public static void replaceSelected(String replaceWith, String type) {\n    try {\n        // input the file content to the String \"input\"\n        BufferedReader file = new BufferedReader(new FileReader(\"notes.txt\"));\n        String line;String input = \"\";\n\n        while ((line = file.readLine()) != null) input += line + '\\n';\n\n        System.out.println(input); // check that it's inputted right\n\n        // this if structure determines whether or not to replace \"0\" or \"1\"\n        if (Integer.parseInt(type) == 0) {\n            input = input.replace(replaceWith + \"1\", replaceWith + \"0\"); \n        }\n        else if (Integer.parseInt(type) == 1) {\n            input = input.replace(replaceWith + \"0\", replaceWith + \"1\");\n        } \n\n        // check if the new input is right\n        System.out.println(\"----------------------------------\"  + '\\n' + input);\n\n        // write the new String with the replaced line OVER the same file\n        FileOutputStream File = new FileOutputStream(\"notes.txt\");\n        File.write(input.getBytes());\n\n    } catch (Exception e) {\n        System.out.println(\"Problem reading file.\");\n    }\n}\n\npublic static void main(String[] args) {\n    replaceSelected(\"Do the dishes\",\"1\");    \n}\n</code></pre>\n"}],"owner":{"account_id":1585313,"reputation":1529,"user_id":1469828,"accept_rate":68,"display_name":"typeof programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16980,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24834095,"answer_count":2,"score":2,"last_activity_date":1687343831,"creation_date":1405717747,"question_id":24833846,"body_markdown":"First, I output the content of the file, here is my code. And then, I will do some string work to edit each line. What if I what to save the changes, how to do it? Can I do it without creating a tmp file?\r\n\r\n    String executeThis = &quot;cat&quot; + &quot; &quot; + &quot;/var/lib/iscsi/nodes/&quot;\r\n      + iscsiInfo.selectedTargets2.get(i) + &quot;/&quot; + myString + &quot;/default&quot;;\r\n    String inputThis = &quot;&quot;;\r\n    Process process = ServerHelper.callProcessWithInput(executeThis, inputThis);\r\n        \r\n    try {        \r\n      logger.debug(&quot;stdOutput for editing targets credential:&quot;);\r\n      BufferedReader stdOutput = new BufferedReader(\r\n        new InputStreamReader(process.getInputStream()));\r\n        \r\n      String s = null;        \r\n      while ((s = stdOutput.readLine()) != null) {\r\n        logger.info(&quot;The content is@@@@@@@@@@@@@@@@@@@@@@@@&quot;+s)\r\n        // do something to edit each line and update the file\r\n      }        \r\n    } catch (IOException e) {\r\n      logger.fatal(e);\r\n    }","title":"How to update a file content in Java","body":"<p>First, I output the content of the file, here is my code. And then, I will do some string work to edit each line. What if I what to save the changes, how to do it? Can I do it without creating a tmp file?</p>\n\n<pre><code>String executeThis = \"cat\" + \" \" + \"/var/lib/iscsi/nodes/\"\n  + iscsiInfo.selectedTargets2.get(i) + \"/\" + myString + \"/default\";\nString inputThis = \"\";\nProcess process = ServerHelper.callProcessWithInput(executeThis, inputThis);\n\ntry {        \n  logger.debug(\"stdOutput for editing targets credential:\");\n  BufferedReader stdOutput = new BufferedReader(\n    new InputStreamReader(process.getInputStream()));\n\n  String s = null;        \n  while ((s = stdOutput.readLine()) != null) {\n    logger.info(\"The content is@@@@@@@@@@@@@@@@@@@@@@@@\"+s)\n    // do something to edit each line and update the file\n  }        \n} catch (IOException e) {\n  logger.fatal(e);\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","docker","keycloak"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687343710,"creation_date":1687343710,"answer_id":76522342,"question_id":76522140,"body_markdown":"The usage of Keycloak adapters [was deprecated][1] more than a year ago.\r\n\r\n\r\nI&#39;ve successfully moved to Spring Cloud OAuth2 Login module, check these resources:\r\n\r\n - https://docs.spring.io/spring-security/reference/servlet/oauth2/login/index.html\r\n - https://www.baeldung.com/spring-security-openid-connect\r\n\r\n\r\n\r\n  [1]: https://www.keycloak.org/2022/02/adapter-deprecation","title":"Cannot invoke &quot;org.keycloak.common.util.KeycloakUriBuilder.clone()&quot; return value of &quot;org.keycloak.adapters.KeycloakDeployment.getAuthUrl()&quot; is null","body":"<p>The usage of Keycloak adapters <a href=\"https://www.keycloak.org/2022/02/adapter-deprecation\" rel=\"nofollow noreferrer\">was deprecated</a> more than a year ago.</p>\n<p>I've successfully moved to Spring Cloud OAuth2 Login module, check these resources:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/login/index.html</a></li>\n<li><a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-openid-connect</a></li>\n</ul>\n"}],"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76522342,"answer_count":1,"score":0,"last_activity_date":1687343710,"creation_date":1687342093,"question_id":76522140,"body_markdown":"i just started working with keycloak docker with spring boot, i&#39;m trying to create an authentification server using keycloak and spring security , i created a docker comopse file with the keycloak image and connect it with posgresql database , then added the right propreties to my app, it was working i get to log in and the keycloak generate a token so there was no problem , then after i checked again i get a 500 server error \r\n**java.lang.NullPointerException: Cannot invoke &quot;org.keycloak.common.util.KeycloakUriBuilder.clone()&quot; because the return value of &quot;org.keycloak.adapters.KeycloakDeployment.getAuthUrl()&quot; is null**\r\n\r\nthis is the docker compose file :\r\n```\r\nversion: &#39;3&#39;\r\n\r\nvolumes:\r\n  postgres_data:\r\n    driver: local\r\n\r\nservices:\r\n  postgres:\r\n    image: postgres\r\n    volumes:\r\n      - postgres_data:/var/lib/postgresql/data\r\n    environment:\r\n      POSTGRES_DB: keycloak_local\r\n      POSTGRES_USER: keycloak\r\n      POSTGRES_PASSWORD: keycloak\r\n  keycloak:\r\n    image: quay.io/keycloak/keycloak:legacy\r\n    environment:\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres\r\n      DB_DATABASE: keycloak_local\r\n      DB_USER: keycloak\r\n      DB_SCHEMA: public\r\n      DB_PASSWORD: keycloak\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n    ports:\r\n      - 8080:8080\r\n    depends_on:\r\n      - postgres\r\n```\r\nand this is the app properties:\r\n```\r\nserver.port = 8090\r\nkeycloak.realm=lbv-realm\r\nkeycloak.resource=auth-client\r\nkeycloak.auth-server-url=http://localhost:8080/auth\r\nkeycloak.ssl-required=none\r\nkeycloak.public-client=true\t\r\n```\r\nthis is the keycloak configuration:\r\n```\r\n\r\n\t@Bean\r\n\tpublic KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n\t\treturn new KeycloakSpringBootConfigResolver();\r\n\t}\r\n```\r\nand this is the login function :\r\n```\r\n\tpublic ResponseEntity&lt;LoginResponse&gt; login(LoginRequest loginrequest) {\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\t\tMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tmap.add(&quot;client_id&quot;,client_id );\r\n\t\tmap.add(&quot;client_secret&quot;, client_secret);\r\n\t\tmap.add(&quot;grant_type&quot;, grant_type);\r\n\t\tmap.add(&quot;username&quot;, loginrequest.getUsername());\r\n\t\tmap.add(&quot;password&quot;, loginrequest.getPassword());\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; httpEntity = new HttpEntity&lt;&gt;(map,headers);\r\n\t\tResponseEntity&lt;LoginResponse&gt; response = restTemplate.postForEntity(&quot;http://localhost:8080/auth/realms/lbv/protocol/openid-connect/token&quot;, httpEntity, LoginResponse.class);\r\n\t\treturn new ResponseEntity&lt;&gt;(response.getBody(),HttpStatus.OK);\r\n\t}\r\n```\r\nand the controller:\r\n```\r\n\t@PostMapping(&quot;/login&quot;)\r\n\tpublic ResponseEntity&lt;LoginResponse&gt; login (@RequestBody LoginRequest loginrequest) {\r\n\t\treturn loginservice.login(loginrequest);\r\n\t}\r\n```","title":"Cannot invoke &quot;org.keycloak.common.util.KeycloakUriBuilder.clone()&quot; return value of &quot;org.keycloak.adapters.KeycloakDeployment.getAuthUrl()&quot; is null","body":"<p>i just started working with keycloak docker with spring boot, i'm trying to create an authentification server using keycloak and spring security , i created a docker comopse file with the keycloak image and connect it with posgresql database , then added the right propreties to my app, it was working i get to log in and the keycloak generate a token so there was no problem , then after i checked again i get a 500 server error\n<strong>java.lang.NullPointerException: Cannot invoke &quot;org.keycloak.common.util.KeycloakUriBuilder.clone()&quot; because the return value of &quot;org.keycloak.adapters.KeycloakDeployment.getAuthUrl()&quot; is null</strong></p>\n<p>this is the docker compose file :</p>\n<pre><code>version: '3'\n\nvolumes:\n  postgres_data:\n    driver: local\n\nservices:\n  postgres:\n    image: postgres\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_DB: keycloak_local\n      POSTGRES_USER: keycloak\n      POSTGRES_PASSWORD: keycloak\n  keycloak:\n    image: quay.io/keycloak/keycloak:legacy\n    environment:\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres\n      DB_DATABASE: keycloak_local\n      DB_USER: keycloak\n      DB_SCHEMA: public\n      DB_PASSWORD: keycloak\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n    ports:\n      - 8080:8080\n    depends_on:\n      - postgres\n</code></pre>\n<p>and this is the app properties:</p>\n<pre><code>server.port = 8090\nkeycloak.realm=lbv-realm\nkeycloak.resource=auth-client\nkeycloak.auth-server-url=http://localhost:8080/auth\nkeycloak.ssl-required=none\nkeycloak.public-client=true \n</code></pre>\n<p>this is the keycloak configuration:</p>\n<pre><code>\n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n</code></pre>\n<p>and this is the login function :</p>\n<pre><code>    public ResponseEntity&lt;LoginResponse&gt; login(LoginRequest loginrequest) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n        map.add(&quot;client_id&quot;,client_id );\n        map.add(&quot;client_secret&quot;, client_secret);\n        map.add(&quot;grant_type&quot;, grant_type);\n        map.add(&quot;username&quot;, loginrequest.getUsername());\n        map.add(&quot;password&quot;, loginrequest.getPassword());\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; httpEntity = new HttpEntity&lt;&gt;(map,headers);\n        ResponseEntity&lt;LoginResponse&gt; response = restTemplate.postForEntity(&quot;http://localhost:8080/auth/realms/lbv/protocol/openid-connect/token&quot;, httpEntity, LoginResponse.class);\n        return new ResponseEntity&lt;&gt;(response.getBody(),HttpStatus.OK);\n    }\n</code></pre>\n<p>and the controller:</p>\n<pre><code>    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;LoginResponse&gt; login (@RequestBody LoginRequest loginrequest) {\n        return loginservice.login(loginrequest);\n    }\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":2,"creation_date":1687343669,"post_id":76522285,"comment_id":134922588,"body_markdown":"Are you sure you&#39;re executing as `sa`?","body":"Are you sure you&#39;re executing as <code>sa</code>?"}],"owner":{"account_id":3395507,"reputation":46,"user_id":2849239,"display_name":"Ervin Gegprifti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687343592,"creation_date":1687343292,"question_id":76522285,"body_markdown":"When I try to execute the `sys.sp_cdc_enable_db` from java I get the following error:\r\n```\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Could not update the metadata that indicates database source_cdc_db is enabled for Change Data Capture. The failure occurred when executing the command &#39;SetCDCTracked(Value = 1)&#39;.\r\nThe error returned was 15517: &#39;Cannot execute as the database principal because the principal &quot;**cdc**&quot; does not exist, this type of principal cannot be impersonated, or you do not have permission.&#39;. Use the action and error to determine the cause of the failure and resubmit the request.\r\n```\r\nI do have installed on my machine the Microsoft SQL Server Developer (64-bit),Version 16.0.1000.6.\r\n\r\nHas anyone encountered this error? Any idea on the solution?\r\n\r\n\r\nMost of the solution cases I&#39;ve looked at have the problem of ...principal &quot;**dbo**&quot; does not exist... but in my case this is different, it is complaining about ...principal &quot;**cdc**&quot; does not exist...\r\n\r\nThis is for testing purposes and no real production db has been used. Normally I created a user and gave the db-owner database permission and sysadmin permission and had this same error. Then I tried the &#39;sa&#39; user but the same error again.\r\n\r\nI am stresing out that I have no problem executing\r\n```\r\nUSE source_cdc_db;\r\nEXEC sys.sp_cdc_enable_db;\r\nGO\r\n```\r\nfrom Sql Server MM","title":"Problem running sys.sp_cdc_enable_db to enable CDC on Sql Server from java","body":"<p>When I try to execute the <code>sys.sp_cdc_enable_db</code> from java I get the following error:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Could not update the metadata that indicates database source_cdc_db is enabled for Change Data Capture. The failure occurred when executing the command 'SetCDCTracked(Value = 1)'.\nThe error returned was 15517: 'Cannot execute as the database principal because the principal &quot;**cdc**&quot; does not exist, this type of principal cannot be impersonated, or you do not have permission.'. Use the action and error to determine the cause of the failure and resubmit the request.\n</code></pre>\n<p>I do have installed on my machine the Microsoft SQL Server Developer (64-bit),Version 16.0.1000.6.</p>\n<p>Has anyone encountered this error? Any idea on the solution?</p>\n<p>Most of the solution cases I've looked at have the problem of ...principal &quot;<strong>dbo</strong>&quot; does not exist... but in my case this is different, it is complaining about ...principal &quot;<strong>cdc</strong>&quot; does not exist...</p>\n<p>This is for testing purposes and no real production db has been used. Normally I created a user and gave the db-owner database permission and sysadmin permission and had this same error. Then I tried the 'sa' user but the same error again.</p>\n<p>I am stresing out that I have no problem executing</p>\n<pre><code>USE source_cdc_db;\nEXEC sys.sp_cdc_enable_db;\nGO\n</code></pre>\n<p>from Sql Server MM</p>\n"},{"tags":["java","elasticsearch","spring-data","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687343545,"creation_date":1687343545,"answer_id":76522325,"question_id":76506210,"body_markdown":"I ended up changing the field types from `Text` to `Keyword` and adjusting the code as follows:\r\n\r\n```java\r\nvar queryBuilder = new BoolQueryBuilder();\r\n\r\n// match exact phrase using keyword analyzer\r\nqueryBuilder\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_1, filterText).analyzer(&quot;keyword&quot;))\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_2, filterText).analyzer(&quot;keyword&quot;))\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_3, filterText).analyzer(&quot;keyword&quot;));\r\n\r\n// match beginning/end/middle of text with wildcard\r\nvar wildcardFilter = String.format(&quot;*%s*&quot;, filterText);\r\nqueryBuilder.\r\n    .should(QueryBuilders.wildcardQuery(FIELD_1, wildcardFilter))\r\n    .should(QueryBuilders.wildcardQuery(FIELD_2, wildcardFilter))\r\n    .should(QueryBuilders.wildcardQuery(FIELD_3, wildcardFilter));\r\n\r\n// at least one optional clause (&quot;should&quot;) has to match \r\nqueryBuilder.minimumShouldMatch(1);\r\nqueryBuilder.must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\r\n```\r\n\r\nseems to work pretty well for most of the cases I tested against.\r\n\r\nProbably it&#39;s not the best way to achieve this, but it gets the job done.","title":"How to perform a text/phrase search with spring-data and elasticsearch?","body":"<p>I ended up changing the field types from <code>Text</code> to <code>Keyword</code> and adjusting the code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var queryBuilder = new BoolQueryBuilder();\n\n// match exact phrase using keyword analyzer\nqueryBuilder\n    .should(QueryBuilders.matchPhraseQuery(FIELD_1, filterText).analyzer(&quot;keyword&quot;))\n    .should(QueryBuilders.matchPhraseQuery(FIELD_2, filterText).analyzer(&quot;keyword&quot;))\n    .should(QueryBuilders.matchPhraseQuery(FIELD_3, filterText).analyzer(&quot;keyword&quot;));\n\n// match beginning/end/middle of text with wildcard\nvar wildcardFilter = String.format(&quot;*%s*&quot;, filterText);\nqueryBuilder.\n    .should(QueryBuilders.wildcardQuery(FIELD_1, wildcardFilter))\n    .should(QueryBuilders.wildcardQuery(FIELD_2, wildcardFilter))\n    .should(QueryBuilders.wildcardQuery(FIELD_3, wildcardFilter));\n\n// at least one optional clause (&quot;should&quot;) has to match \nqueryBuilder.minimumShouldMatch(1);\nqueryBuilder.must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\n</code></pre>\n<p>seems to work pretty well for most of the cases I tested against.</p>\n<p>Probably it's not the best way to achieve this, but it gets the job done.</p>\n"}],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687343545,"creation_date":1687174325,"question_id":76506210,"body_markdown":"I have an Index with documents with multiple text fields.\r\nI want to perform a search that should match documents that \r\n- either start with that _exact_ text,\r\n- either contain that _exact_ text,\r\n- or end with that _exact_ text\r\n\r\non a few pre-defined fields, and another _static_ condition.\r\n\r\n\r\nIn the first place I thought about implementing a search with the use of queryStringQuery and wildcards\r\n\r\n```java\r\nvar queryBuilder = new BoolQueryBuilder();\r\nqueryBuilder\r\n    .must(QueryBuilders.queryStringQuery(String.format(&quot;*%s*&quot;, QueryParser.escape(filterText)))\r\n         .field(FIELD_1)\r\n         .field(FIELD_2)\r\n         .field(FIELD_3)\r\n         .analyzeWildcard(true))\r\n    .must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\r\nvar nativeQuery = new NativeSearchQueryBuilder().withQuery(queryBuilder).withPageable(pageable).build();\r\nelasticsearchOperations.search(nativeReq, MyEntity.class);\r\n```\r\n\r\nThis solution worked fine as long as the filterText is one word, but once the default/standard analyzer tokenises the text I get unexpected results (for my use-case).\r\n\r\nI&#39;ve been thinking about searching with phrase queries as such:\r\n```java\r\nvar queryBuilder = new BoolQueryBuilder();\r\nvar insideQuery = new BoolQueryBuilder();\r\ninsideQuery\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_1, filterText))\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_2, filterText))\r\n    .should(QueryBuilders.matchPhraseQuery(FIELD_3, filterText));\r\nqueryBuilder\r\n    .should(insideQuery).minimShouldMatch(1)\r\n    .must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\r\n```\r\n\r\nBut I still get unexpected results.\r\n\r\nI also tried a solution similar with the first one and tried to force es to use the [keyword analyzer](https://www.elastic.co/guide/en/elasticsearch/reference/7.17/analysis-keyword-analyzer.html) but I did not manage to do so (0 results), maybe because my mappings define that fields as text not keywords?!\r\n\r\nCan you please help me/point me to a solution that will match my exact use-case? ","title":"How to perform a text/phrase search with spring-data and elasticsearch?","body":"<p>I have an Index with documents with multiple text fields.\nI want to perform a search that should match documents that</p>\n<ul>\n<li>either start with that <em>exact</em> text,</li>\n<li>either contain that <em>exact</em> text,</li>\n<li>or end with that <em>exact</em> text</li>\n</ul>\n<p>on a few pre-defined fields, and another <em>static</em> condition.</p>\n<p>In the first place I thought about implementing a search with the use of queryStringQuery and wildcards</p>\n<pre class=\"lang-java prettyprint-override\"><code>var queryBuilder = new BoolQueryBuilder();\nqueryBuilder\n    .must(QueryBuilders.queryStringQuery(String.format(&quot;*%s*&quot;, QueryParser.escape(filterText)))\n         .field(FIELD_1)\n         .field(FIELD_2)\n         .field(FIELD_3)\n         .analyzeWildcard(true))\n    .must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\nvar nativeQuery = new NativeSearchQueryBuilder().withQuery(queryBuilder).withPageable(pageable).build();\nelasticsearchOperations.search(nativeReq, MyEntity.class);\n</code></pre>\n<p>This solution worked fine as long as the filterText is one word, but once the default/standard analyzer tokenises the text I get unexpected results (for my use-case).</p>\n<p>I've been thinking about searching with phrase queries as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var queryBuilder = new BoolQueryBuilder();\nvar insideQuery = new BoolQueryBuilder();\ninsideQuery\n    .should(QueryBuilders.matchPhraseQuery(FIELD_1, filterText))\n    .should(QueryBuilders.matchPhraseQuery(FIELD_2, filterText))\n    .should(QueryBuilders.matchPhraseQuery(FIELD_3, filterText));\nqueryBuilder\n    .should(insideQuery).minimShouldMatch(1)\n    .must(QueryBuilders.termQuery(FIELD_X, &quot;...&quot;)));\n</code></pre>\n<p>But I still get unexpected results.</p>\n<p>I also tried a solution similar with the first one and tried to force es to use the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.17/analysis-keyword-analyzer.html\" rel=\"nofollow noreferrer\">keyword analyzer</a> but I did not manage to do so (0 results), maybe because my mappings define that fields as text not keywords?!</p>\n<p>Can you please help me/point me to a solution that will match my exact use-case?</p>\n"},{"tags":["java","selenium-webdriver","electron","selenium-chromedriver","chromium"],"answers":[{"tags":[],"owner":{"account_id":18757976,"reputation":21,"user_id":13677526,"display_name":"sowmiya abi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675921856,"creation_date":1675921856,"answer_id":75394707,"question_id":75384556,"body_markdown":"Its has been resolved now. It happened due to version mismatch. I have installed the latest version of chromium driver. But, our electron application supports the lower version of chromium driver [100.0.4896.143]. We can check this by knowing the electron package which is used by dev team.","title":"Electron application got launched and disappeared within fraction of second","body":"<p>Its has been resolved now. It happened due to version mismatch. I have installed the latest version of chromium driver. But, our electron application supports the lower version of chromium driver [100.0.4896.143]. We can check this by knowing the electron package which is used by dev team.</p>\n"}],"owner":{"account_id":18757976,"reputation":21,"user_id":13677526,"display_name":"sowmiya abi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687343485,"creation_date":1675852696,"question_id":75384556,"body_markdown":"I am trying the launch the electron based application using chromium. But, once it got launched within fraction of second it got disappeared. Below is my code. How we can keep the application to stay for next action.&#160;\r\n\r\nAnd also got below exception in my console. I am using chromium version : 110.0.5481.78\r\n and current chrome browser version: 110.0.5481.77\r\n\r\nIn electron releases I didnt find the chromium release for Version 110.0.5481.78. [https://github.com/electron/electron/releases]\r\n    \r\n```System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromium path&quot;);\r\n&#160;ChromeOptions options = new ChromeOptions();\r\n&#160; options.setBinary(&quot;C://folder//folderpath//executableFilePath.exe&quot;); &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;options.setCapability(&quot;chromeOptions&quot;, options);\r\n&#160;WebDriver weBdriver = new ChromeDriver(options); ```  \r\n\r\nConsole logs:\r\n\r\n   ```  org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 110\r\n        Current browser version is 100.0.4896.143 with binary path C:\\Program Files\\file\\file.exe\r\n        Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n        System info: host: &#39;&#39;, ip: &#39;&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.5&#39;\r\n        Driver info: driver.version: ChromeDriver\r\n        remote stacktrace: Backtrace:\r\n        \tCr_z_deflate [0x00007FF6EB3BACE2+123234]\r\n        \t(No symbol) [0x00007FF6EB316F82]\r\n        \t(No symbol) [0x00007FF6EB1C772D]\r\n        \t(No symbol) [0x00007FF6EB1F0840]\r\n        \t(No symbol) [0x00007FF6EB1EB5F4]\r\n        \t(No symbol) [0x00007FF6EB1E8F79]\r\n        \t(No symbol) [0x00007FF6EB2251EA]\r\n        \t(No symbol) [0x00007FF6EB21D413]\r\n        \t(No symbol) [0x00007FF6EB1F329E]\r\n        \t(No symbol) [0x00007FF6EB1F454E]\r\n        \tGetHandleVerifier [0x00007FF6EB725030+3484560]\r\n        \tGetHandleVerifier [0x00007FF6EB76197B+3732699]\r\n        \tGetHandleVerifier [0x00007FF6EB765405+3747685]\r\n        \tGetHandleVerifier [0x00007FF6EB496EEA+805450]\r\n        \t(No symbol) [0x00007FF6EB323643]\r\n        \t(No symbol) [0x00007FF6EB32BC44]\r\n        \t(No symbol) [0x00007FF6EB32BD74]\r\n        \t(No symbol) [0x00007FF6EB3385FD]\r\n        \tBaseThreadInitThunk [0x00007FF9D6A87034+20]\r\n        \tRtlUserThreadStart [0x00007FF9D7802651+33]\r\n        \r\n        \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        \tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n        \tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n        \tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n        \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n        \tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\r\n        \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n        \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n        \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n        \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        \tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n        \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        \tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n        \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n        \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n        \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n        \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n        \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n        \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n        \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n        \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n        \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n        \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\r\n        \t ``` ","title":"Electron application got launched and disappeared within fraction of second","body":"<p>I am trying the launch the electron based application using chromium. But, once it got launched within fraction of second it got disappeared. Below is my code. How we can keep the application to stay for next action. </p>\n<p>And also got below exception in my console. I am using chromium version : 110.0.5481.78\nand current chrome browser version: 110.0.5481.77</p>\n<p>In electron releases I didnt find the chromium release for Version 110.0.5481.78. [https://github.com/electron/electron/releases]</p>\n<pre><code> ChromeOptions options = new ChromeOptions();\n  options.setBinary(&quot;C://folder//folderpath//executableFilePath.exe&quot;);            \n  options.setCapability(&quot;chromeOptions&quot;, options);\n WebDriver weBdriver = new ChromeDriver(options); ```  \n\nConsole logs:\n\n   ```  org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 110\n        Current browser version is 100.0.4896.143 with binary path C:\\Program Files\\file\\file.exe\n        Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n        System info: host: '', ip: '', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.5'\n        Driver info: driver.version: ChromeDriver\n        remote stacktrace: Backtrace:\n            Cr_z_deflate [0x00007FF6EB3BACE2+123234]\n            (No symbol) [0x00007FF6EB316F82]\n            (No symbol) [0x00007FF6EB1C772D]\n            (No symbol) [0x00007FF6EB1F0840]\n            (No symbol) [0x00007FF6EB1EB5F4]\n            (No symbol) [0x00007FF6EB1E8F79]\n            (No symbol) [0x00007FF6EB2251EA]\n            (No symbol) [0x00007FF6EB21D413]\n            (No symbol) [0x00007FF6EB1F329E]\n            (No symbol) [0x00007FF6EB1F454E]\n            GetHandleVerifier [0x00007FF6EB725030+3484560]\n            GetHandleVerifier [0x00007FF6EB76197B+3732699]\n            GetHandleVerifier [0x00007FF6EB765405+3747685]\n            GetHandleVerifier [0x00007FF6EB496EEA+805450]\n            (No symbol) [0x00007FF6EB323643]\n            (No symbol) [0x00007FF6EB32BC44]\n            (No symbol) [0x00007FF6EB32BD74]\n            (No symbol) [0x00007FF6EB3385FD]\n            BaseThreadInitThunk [0x00007FF9D6A87034+20]\n            RtlUserThreadStart [0x00007FF9D7802651+33]\n        \n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n            at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n            at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n            at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n            at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n            at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n            at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\n            at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n            at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n            at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n            at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n            at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n            at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n            at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n            at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\n            at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n            at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n            at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n            at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n            at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n            at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\n            at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\n            at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\n             ``` \n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1687352784,"post_id":76521722,"comment_id":134924601,"body_markdown":"It&#39;s possible to set M options for your Gradle project: https://www.jetbrains.com/help/idea/gradle.html#gradle_vm_options","body":"It&#39;s possible to set M options for your Gradle project: <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_vm_options\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/gradle.html#gradle_vm_options</a>"}],"answers":[{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687342874,"creation_date":1687342874,"answer_id":76522232,"question_id":76521722,"body_markdown":"It is possible to change IntelliJ heap memory size from Main menu bar -&gt; Help tab -&gt; Change Memory Settings -&gt; Change &quot;Maximum Heap Size&quot; value to something bigger than 4096. Then restart IDE.","title":"java.lang.OutOfMemoryError: Java heap space while building gradle project","body":"<p>It is possible to change IntelliJ heap memory size from Main menu bar -&gt; Help tab -&gt; Change Memory Settings -&gt; Change &quot;Maximum Heap Size&quot; value to something bigger than 4096. Then restart IDE.</p>\n"}],"owner":{"account_id":9973312,"reputation":173,"user_id":8007803,"accept_rate":40,"display_name":"lupin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687342874,"creation_date":1687338997,"question_id":76521722,"body_markdown":"How to solve this exception while building a gradle project in intellij? There is no option to configure the memory space for project.","title":"java.lang.OutOfMemoryError: Java heap space while building gradle project","body":"<p>How to solve this exception while building a gradle project in intellij? There is no option to configure the memory space for project.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687395249,"post_id":76522228,"comment_id":134932250,"body_markdown":"Are you getting some more details in log stack trace?","body":"Are you getting some more details in log stack trace?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687426707,"post_id":76522228,"comment_id":134936408,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":23153143,"reputation":1,"user_id":22107859,"display_name":"Alexander Tupiza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687342825,"creation_date":1687342825,"question_id":76522228,"body_markdown":"it my first project with spring security 6 and i use a custom filterchain, when i login in my thymeleaf form send the user and the password to my controller &quot;login1&quot; dont get inside and i redirect the same login page with code 302, but when in my Config security change .loginProcessingUrl(&quot;/login1&quot;) to .loginProcessingUrl(&quot;/login1!&quot;), my program works, but i dont know why if (&quot;login1!&quot;) doesnt exist in my controller class , can somebody  help me ?\r\n\r\nwhen i try login sometime redirect to a blank page or the same login page\r\n```\r\nhere is mi login1.html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Spring Security Example &lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div th:if=&quot;${param.error}&quot;&gt;\r\n            Invalid username and password.\r\n        &lt;/div&gt;\r\n        &lt;div th:if=&quot;${param.logout}&quot;&gt;\r\n            You have been logged out\r\n        &lt;/div&gt;\r\n        &lt;form th:action=&quot;@{/login1}&quot; method=&quot;post&quot;&gt;\r\n           \r\n            &lt;div&gt;&lt;label&gt; User Email : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\nhere is my controller\r\npackage com.prueba.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.servlet.view.RedirectView;\r\n\r\nimport com.prueba.dao.Userdao;\r\nimport com.prueba.model.UserEntity;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n\t@Autowired\r\n\tAuthenticationManager authenticationManager;\r\n\r\n\t@Autowired\r\n\tUserdao dao;\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String home() {\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/login1&quot;) // llamamos a login\r\n\tpublic String login() {\r\n\t\treturn &quot;login1&quot;;\r\n\t}\r\n\r\n\r\n\t@PostMapping(value = &quot;/login1&quot;) // metemos parametros en login y luego devolvemos hello\r\n\tprivate String acceso1(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password) {\r\n\t\t//System.out.println(&quot;entre&quot;);\r\n\t\t\r\n\t\tUsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(username, password);\r\n\t\t//System.out.println(auth.getPrincipal().toString());\r\n\t\t\r\n\t\tboolean a = authenticationManager.authenticate(auth).isAuthenticated();\r\n\t\t//System.out.println(&quot;es authenticado &quot; + a);\r\n\t\t\r\n\t\tauthenticationManager.authenticate(auth);\r\n\t\t//System.out.println(&quot;estoyaqui&quot;);\r\n\t\treturn &quot;hello&quot;;\r\n\r\n\t}\r\n\r\n\t@GetMapping(&quot;/lista&quot;)\r\n\tpublic void lista() {\r\n\t\tfor (UserEntity t : dao.findAll()) {\r\n\t\t\tSystem.out.println(t.toString());\r\n\t\t}\r\n\t}\r\n\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String hello() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\nhere is my ConfigSecurity\r\npackage com.prueba.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\n\r\nimport com.prueba.service.LoginSuccesHandlerImp;\r\n\r\n@Configuration//decimos que vamos a confirgurar metodos propios de spring\r\npublic class ConfigSecurity {\r\n\r\n\t@Autowired\r\n\tUserDetailsService userDetailsService;\r\n\r\n\t@Autowired\r\n\tLoginSuccesHandlerImp loginSuccesHandlerImp;\r\n\t\r\n\t@Bean\r\n\tSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n        return http\r\n                .csrf(config -&gt; config.disable())\r\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                authorizeHttpRequests\r\n                \t\t.anyRequest().authenticated()\r\n                \t\t\r\n                \t\t\r\n                \t\t)\r\n                \t\t.formLogin((form) -&gt; form\r\n\t            \t\t\t\t.loginPage(&quot;/login1&quot;)\r\n\t            \t\t\t\t.permitAll()\r\n\t            \t\t\t\t.loginProcessingUrl(&quot;/login1&quot;)\r\n\t            \t\t\t\t//.successHandler(loginSuccesHandlerImp)\r\n\t            \t\t\t\r\n\t            \t\t\t\t\r\n\t            \t\t\t\t.failureUrl(&quot;/login?error=true&quot;)\r\n\t            \t\t\t\t\r\n\t            \t\t\t\t\r\n\t            \t\t\t)\r\n\t            \t\t\t.logout((logout) -&gt; logout.permitAll())\r\n\t            \t\t\t\r\n\t            \t\t\t\r\n                \r\n                .sessionManagement(session -&gt; {\r\n                    session.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n                })\r\n               \r\n                \r\n                .build();\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder password() {\r\n\t\t\r\n\t\treturn  NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\t@Bean\r\n\tAuthenticationManager autheticationManager(HttpSecurity http,PasswordEncoder passwordEncoder) throws Exception {\r\n\t\t//enviamos un objeto del tipo AuthenticationManagerBuilder.class\r\n\t\t//le enviamos el usuario que vamos autenticar que esta arriba userDetailsService ()\r\n\t\tSystem.out.println(&quot;entro aqui 3&quot;);\r\n\t\t\r\n\t\treturn http.\r\n\t\t\t\tgetSharedObject(AuthenticationManagerBuilder.class)\r\n\t\t\t\t.userDetailsService(userDetailsService)\r\n\t\t\t\t.passwordEncoder(passwordEncoder)\r\n\t\t\t\t.and()\r\n\t\t\t\t.build();\r\n\t\t\r\n\t}\r\n\t@Bean\r\n\tpublic AuthenticationSuccessHandler appAuthenticationSuccessHandler(){\r\n\t     return new LoginSuccesHandlerImp();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\nhere is my UserDetailsServiceImp\r\npackage com.prueba.service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.prueba.dao.Userdao;\r\nimport com.prueba.model.UserEntity;\r\n\r\n@Service\r\n\r\npublic class UserDetailsServiceImp implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tUserdao dao;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tUserEntity user1 = dao.findByName(username).orElseThrow(()-&gt;new UsernameNotFoundException(&quot;usuario no encontrado&quot;));\r\n\t\tSystem.out.println(&quot;user1&quot;+ user1.toString());\r\n\t\t\r\n\t\t\r\n\t\tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\t    authorities.add(new SimpleGrantedAuthority(user1.getRol()));\r\n\t    var user2 = new User(user1.getUsername()\r\n\t\t\t\t,user1.getPassword()\r\n\t\t\t\t,true\r\n\t\t\t\t,true\r\n\t\t\t\t,true\r\n\t\t\t\t,true\r\n\t\t\t\t,authorities);\r\n\t    System.out.println(user2.toString());\r\n\t\treturn user2;\r\n\t}\r\n\r\n```\r\n\r\n```\r\nits my pom.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.prueba.inicio&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ProyectoEjed&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Pruebaaax&lt;/name&gt;\r\n\t&lt;description&gt;Shop with security and JWT&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n","title":"spring security, when i have a success access in login its redirect me to the same login page","body":"<p>it my first project with spring security 6 and i use a custom filterchain, when i login in my thymeleaf form send the user and the password to my controller &quot;login1&quot; dont get inside and i redirect the same login page with code 302, but when in my Config security change .loginProcessingUrl(&quot;/login1&quot;) to .loginProcessingUrl(&quot;/login1!&quot;), my program works, but i dont know why if (&quot;login1!&quot;) doesnt exist in my controller class , can somebody  help me ?</p>\n<p>when i try login sometime redirect to a blank page or the same login page</p>\n<pre><code>here is mi login1.html\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Spring Security Example &lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div th:if=&quot;${param.error}&quot;&gt;\n            Invalid username and password.\n        &lt;/div&gt;\n        &lt;div th:if=&quot;${param.logout}&quot;&gt;\n            You have been logged out\n        &lt;/div&gt;\n        &lt;form th:action=&quot;@{/login1}&quot; method=&quot;post&quot;&gt;\n           \n            &lt;div&gt;&lt;label&gt; User Email : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre><code>here is my controller\npackage com.prueba.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.view.RedirectView;\n\nimport com.prueba.dao.Userdao;\nimport com.prueba.model.UserEntity;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @Autowired\n    Userdao dao;\n\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;home&quot;;\n    }\n\n    @GetMapping(&quot;/login1&quot;) // llamamos a login\n    public String login() {\n        return &quot;login1&quot;;\n    }\n\n\n    @PostMapping(value = &quot;/login1&quot;) // metemos parametros en login y luego devolvemos hello\n    private String acceso1(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password) {\n        //System.out.println(&quot;entre&quot;);\n        \n        UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(username, password);\n        //System.out.println(auth.getPrincipal().toString());\n        \n        boolean a = authenticationManager.authenticate(auth).isAuthenticated();\n        //System.out.println(&quot;es authenticado &quot; + a);\n        \n        authenticationManager.authenticate(auth);\n        //System.out.println(&quot;estoyaqui&quot;);\n        return &quot;hello&quot;;\n\n    }\n\n    @GetMapping(&quot;/lista&quot;)\n    public void lista() {\n        for (UserEntity t : dao.findAll()) {\n            System.out.println(t.toString());\n        }\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n\n</code></pre>\n<pre><code>here is my ConfigSecurity\npackage com.prueba.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\n\nimport com.prueba.service.LoginSuccesHandlerImp;\n\n@Configuration//decimos que vamos a confirgurar metodos propios de spring\npublic class ConfigSecurity {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Autowired\n    LoginSuccesHandlerImp loginSuccesHandlerImp;\n    \n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        \n        \n        \n        \n\n        return http\n                .csrf(config -&gt; config.disable())\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                authorizeHttpRequests\n                        .anyRequest().authenticated()\n                        \n                        \n                        )\n                        .formLogin((form) -&gt; form\n                                .loginPage(&quot;/login1&quot;)\n                                .permitAll()\n                                .loginProcessingUrl(&quot;/login1&quot;)\n                                //.successHandler(loginSuccesHandlerImp)\n                            \n                                \n                                .failureUrl(&quot;/login?error=true&quot;)\n                                \n                                \n                            )\n                            .logout((logout) -&gt; logout.permitAll())\n                            \n                            \n                \n                .sessionManagement(session -&gt; {\n                    session.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n                })\n               \n                \n                .build();\n        \n    \n        \n        \n    }\n    \n    @Bean\n    public PasswordEncoder password() {\n        \n        return  NoOpPasswordEncoder.getInstance();\n    }\n    @Bean\n    AuthenticationManager autheticationManager(HttpSecurity http,PasswordEncoder passwordEncoder) throws Exception {\n        //enviamos un objeto del tipo AuthenticationManagerBuilder.class\n        //le enviamos el usuario que vamos autenticar que esta arriba userDetailsService ()\n        System.out.println(&quot;entro aqui 3&quot;);\n        \n        return http.\n                getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder)\n                .and()\n                .build();\n        \n    }\n    @Bean\n    public AuthenticationSuccessHandler appAuthenticationSuccessHandler(){\n         return new LoginSuccesHandlerImp();\n    }\n}\n\n</code></pre>\n<pre><code>here is my UserDetailsServiceImp\npackage com.prueba.service;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.prueba.dao.Userdao;\nimport com.prueba.model.UserEntity;\n\n@Service\n\npublic class UserDetailsServiceImp implements UserDetailsService {\n\n    @Autowired\n    Userdao dao;\n    \n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        UserEntity user1 = dao.findByName(username).orElseThrow(()-&gt;new UsernameNotFoundException(&quot;usuario no encontrado&quot;));\n        System.out.println(&quot;user1&quot;+ user1.toString());\n        \n        \n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        authorities.add(new SimpleGrantedAuthority(user1.getRol()));\n        var user2 = new User(user1.getUsername()\n                ,user1.getPassword()\n                ,true\n                ,true\n                ,true\n                ,true\n                ,authorities);\n        System.out.println(user2.toString());\n        return user2;\n    }\n\n</code></pre>\n<pre><code>its my pom.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.prueba.inicio&lt;/groupId&gt;\n    &lt;artifactId&gt;ProyectoEjed&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Pruebaaax&lt;/name&gt;\n    &lt;description&gt;Shop with security and JWT&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":15285793,"reputation":1958,"user_id":11028850,"display_name":"Sakshi Gatyan"},"score":0,"creation_date":1687440586,"post_id":76522084,"comment_id":134939554,"body_markdown":"This seems like an internal issue I would suggest opening an issue on GCP [issuetracker](https://cloud.google.com/support/docs/issue-trackers) or file a support case explaining the scenario.","body":"This seems like an internal issue I would suggest opening an issue on GCP <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"nofollow noreferrer\">issuetracker</a> or file a support case explaining the scenario."},{"owner":{"account_id":4597030,"reputation":120,"user_id":3728760,"display_name":"Itay A"},"score":0,"creation_date":1687983283,"post_id":76522084,"comment_id":135014657,"body_markdown":"Thank you, @SakshiGatyan I will give that a try.","body":"Thank you, @SakshiGatyan I will give that a try."},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1688563677,"post_id":76522084,"comment_id":135090099,"body_markdown":"Can you provide more details on what do you mean about &quot;empty messages&quot;? Are you looking at it after your GroupByKey?","body":"Can you provide more details on what do you mean about &quot;empty messages&quot;? Are you looking at it after your GroupByKey?"},{"owner":{"account_id":4597030,"reputation":120,"user_id":3728760,"display_name":"Itay A"},"score":0,"creation_date":1692608706,"post_id":76522084,"comment_id":135641614,"body_markdown":"@BrunoVolpato I am currently examining the code after GroupByKey. Occasionally, I encounter Null objects, although I am confident that no Null things exist with the Inputs. \nThis issue does not occur when I run the code on my computer.\nAs SakshiGatyan said, it is an issue on GCP. However, at this time, we have decided not to proceed with that particular code.\nThanks","body":"@BrunoVolpato I am currently examining the code after GroupByKey. Occasionally, I encounter Null objects, although I am confident that no Null things exist with the Inputs.  This issue does not occur when I run the code on my computer. As SakshiGatyan said, it is an issue on GCP. However, at this time, we have decided not to proceed with that particular code. Thanks"}],"owner":{"account_id":4597030,"reputation":120,"user_id":3728760,"display_name":"Itay A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687342772,"creation_date":1687341729,"question_id":76522084,"body_markdown":"**For example**:\r\n\r\nI am receiving and analyzing stream data in JSON format from GCP pub-sub, consisting of 320K unique messages. However, I encountered an issue with the duplication window, as it resulted in an additional 8.5K empty Messages.  \r\nThe number of additional empty elements is not consistent\r\n\r\n**How did I know there was an extra element?**\r\n\r\n1. I am checking the value for each collection and writing it on logs so I can see all the non-empty 320K messages and the additional 8.5K empty messages.\r\n\r\n2. Dataflow UI - refer to the attached image.\r\n\r\n   [![enter image description here](https://i.stack.imgur.com/QwuqY.png)](https://i.stack.imgur.com/QwuqY.png)\r\n\r\n**This is the code:**\r\n\r\n```\r\nRepeatedly triggerPersonWindow = Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane());\r\n\r\nWindow&lt;KV&lt;String, PubSubRelationsMessage&gt;&gt; personWindow = Window.&lt;KV&lt;String, PubSubRelationsMessage&gt;&gt;into(FixedWindows.of(Duration.standardMinutes(10)))\r\n                .triggering(triggerPersonWindow)\r\n                .withAllowedLateness(Duration.ZERO)\r\n                .discardingFiredPanes();\r\n\r\n\r\nPCollectionTuple separateRelationMessages = parsedRelationMessages.get(ParseSplitPersonCompanyMessage.parsedRelationMessageTag)\r\n                .apply(&quot;Person Window&quot;, personWindow)\r\n                .apply(&quot;PS Deduplication&quot;, GroupByKey.create())\r\n                .apply(&quot;Separate Messages&quot;, ParDo.of(new SeparateRelationMessages())\r\n                        .withOutputTags(SeparateRelationMessages.updateDeleteFlowTag, TupleTagList.of(SeparateRelationMessages.addedTag).and(GlobalTupleTag.InputError).and(GlobalTupleTag.GeneralError)));\r\n```\r\n\r\nApache Beam Version 2.37.0\r\n\r\nGradle 7.2\r\n\r\nJava 17\r\n\r\n**I attempted to:**\r\n\r\n- Upgrading the versions of Apache Beam, Gradle, and Java.\r\n\r\n- Reducing the number of DF workers to just one worker.\r\n\r\nUnfortunately, nothing has helped solve the issue.\r\n\r\nThanks :)","title":"Why are Apache Beam Transforms causing extra null elements in PCollection Window on GCP Dataflow?","body":"<p><strong>For example</strong>:</p>\n<p>I am receiving and analyzing stream data in JSON format from GCP pub-sub, consisting of 320K unique messages. However, I encountered an issue with the duplication window, as it resulted in an additional 8.5K empty Messages.<br />\nThe number of additional empty elements is not consistent</p>\n<p><strong>How did I know there was an extra element?</strong></p>\n<ol>\n<li><p>I am checking the value for each collection and writing it on logs so I can see all the non-empty 320K messages and the additional 8.5K empty messages.</p>\n</li>\n<li><p>Dataflow UI - refer to the attached image.</p>\n<p><a href=\"https://i.stack.imgur.com/QwuqY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QwuqY.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><strong>This is the code:</strong></p>\n<pre><code>Repeatedly triggerPersonWindow = Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane());\n\nWindow&lt;KV&lt;String, PubSubRelationsMessage&gt;&gt; personWindow = Window.&lt;KV&lt;String, PubSubRelationsMessage&gt;&gt;into(FixedWindows.of(Duration.standardMinutes(10)))\n                .triggering(triggerPersonWindow)\n                .withAllowedLateness(Duration.ZERO)\n                .discardingFiredPanes();\n\n\nPCollectionTuple separateRelationMessages = parsedRelationMessages.get(ParseSplitPersonCompanyMessage.parsedRelationMessageTag)\n                .apply(&quot;Person Window&quot;, personWindow)\n                .apply(&quot;PS Deduplication&quot;, GroupByKey.create())\n                .apply(&quot;Separate Messages&quot;, ParDo.of(new SeparateRelationMessages())\n                        .withOutputTags(SeparateRelationMessages.updateDeleteFlowTag, TupleTagList.of(SeparateRelationMessages.addedTag).and(GlobalTupleTag.InputError).and(GlobalTupleTag.GeneralError)));\n</code></pre>\n<p>Apache Beam Version 2.37.0</p>\n<p>Gradle 7.2</p>\n<p>Java 17</p>\n<p><strong>I attempted to:</strong></p>\n<ul>\n<li><p>Upgrading the versions of Apache Beam, Gradle, and Java.</p>\n</li>\n<li><p>Reducing the number of DF workers to just one worker.</p>\n</li>\n</ul>\n<p>Unfortunately, nothing has helped solve the issue.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":21025753,"reputation":1,"user_id":15877732,"display_name":"AmcPL"},"score":0,"creation_date":1620557106,"post_id":67456751,"comment_id":119231042,"body_markdown":"and only two temp i want use value from string to name Arraylist :)","body":"and only two temp i want use value from string to name Arraylist :)"},{"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"score":0,"creation_date":1620557131,"post_id":67456751,"comment_id":119231048,"body_markdown":"easy way would be to rename variable `temp` to something else, like `anotherTemp`","body":"easy way would be to rename variable <code>temp</code> to something else, like <code>anotherTemp</code>"},{"owner":{"account_id":21025753,"reputation":1,"user_id":15877732,"display_name":"AmcPL"},"score":0,"creation_date":1620557312,"post_id":67456751,"comment_id":119231095,"body_markdown":"no work bro :( or I&#39;m stupid","body":"no work bro :( or I&#39;m stupid"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1687342745,"post_id":67456751,"comment_id":134922431,"body_markdown":"&#39;String temp&#39; declares a variable named &#39;temp&#39;.  &#39;ArrayList&lt;&gt; temp&#39; declares a variable named &#39;temp&#39;.  Surely you can see that the name &#39;temp&#39; is now ambiguous?","body":"&#39;String temp&#39; declares a variable named &#39;temp&#39;.  &#39;ArrayList&lt;&gt; temp&#39; declares a variable named &#39;temp&#39;.  Surely you can see that the name &#39;temp&#39; is now ambiguous?"}],"answers":[{"tags":[],"owner":{"account_id":5228434,"reputation":6067,"user_id":10780861,"display_name":"Nisanth Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620671255,"creation_date":1620671255,"answer_id":67475812,"question_id":67456751,"body_markdown":"It is not possible to declare two variables with the same name in Java. Might work for two people inside a house to be named John and John but unfortunately not in java.\r\n\r\nThe only solution here would be to rename one or the other variable into something other than temp. If you have already tried this, what error are you facing ?","title":"Java variable temp is already defined in method Man_w_t(java.util.ArrayList&lt;java.lang.String&gt;)","body":"<p>It is not possible to declare two variables with the same name in Java. Might work for two people inside a house to be named John and John but unfortunately not in java.</p>\n<p>The only solution here would be to rename one or the other variable into something other than temp. If you have already tried this, what error are you facing ?</p>\n"}],"owner":{"account_id":21025753,"reputation":1,"user_id":15877732,"display_name":"AmcPL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687342481,"creation_date":1620556762,"question_id":67456751,"body_markdown":"I looking for help with a problem I want to use the name of ArrayList from string any suggestion on how to repair this error :)\r\nI link my code fragment \r\n\r\n    String temp = lista_Prac.get(num-1);\r\n    ArrayList&lt;String&gt;  temp = new ArrayList&lt;String&gt;();","title":"Java variable temp is already defined in method Man_w_t(java.util.ArrayList&lt;java.lang.String&gt;)","body":"<p>I looking for help with a problem I want to use the name of ArrayList from string any suggestion on how to repair this error :)\nI link my code fragment</p>\n<pre><code>String temp = lista_Prac.get(num-1);\nArrayList&lt;String&gt;  temp = new ArrayList&lt;String&gt;();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","global-filter"],"comments":[{"owner":{"account_id":28626667,"reputation":11,"user_id":21918514,"display_name":"Sandeep"},"score":0,"creation_date":1687427568,"post_id":76507665,"comment_id":134936636,"body_markdown":"Able to solve it based on the answer from this link\nhttps://stackoverflow.com/questions/75186400/spring-webflux-post-request-data-is-getting-truncated-intermittently","body":"Able to solve it based on the answer from this link <a href=\"https://stackoverflow.com/questions/75186400/spring-webflux-post-request-data-is-getting-truncated-intermittently\" title=\"spring webflux post request data is getting truncated intermittently\">stackoverflow.com/questions/75186400/&hellip;</a>"}],"owner":{"account_id":28626667,"reputation":11,"user_id":21918514,"display_name":"Sandeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687342385,"creation_date":1687185516,"question_id":76507665,"body_markdown":"I am trying to use `ServerHttpRequestDecorator` and `ServerHttpResponseDecorator` to log the request and response bodies. I am facing a strange problem, the doNext method of the ServerHttpRequestDecorator is being called twice and due to that whole payload is not getting logged, its being logged in two parts\r\n\r\nFull payload:\r\n```json\r\n{\r\n\t&quot;id&quot;:&quot;789654&quot;,\r\n\t&quot;communication&quot;:&quot;email&quot;,\r\n\t&quot;document&quot;:[\r\n\t\t{\r\n\t\t\t&quot;identificationNumber&quot;:&quot;4563217&quot;,\r\n\t\t\t&quot;expiryDate&quot;:&quot;04042024&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;firstName&quot;:&quot;KADE&quot;,\r\n\t&quot;lastName&quot;:&quot;NESSLEIN&quot;,\r\n\t&quot;clientType&quot;: &quot;EXISTING&quot;\r\n}\r\n```\r\nIncomplete payload Part 1: \r\n\r\n{\r\n\t&quot;id&quot;:&quot;789654&quot;,\r\n\t&quot;communication&quot;:&quot;email&quot;,\r\n\t&quot;document&quot;:[\r\n\t\t{\r\n\t\t\t&quot;identificationNumber&quot;:&quot;4563217&quot;,\r\n\t\t\t&quot;expiryDat\r\n\r\n\r\n\r\nIncomplete payload Part 2: \r\n\r\ne&quot;:&quot;04042024&quot;\r\n        }\r\n    ],\r\n    &quot;firstName&quot;:&quot;KADE&quot;,\r\n    &quot;lastName&quot;:&quot;NESSLEIN&quot;,\r\n    &quot;clientType&quot;: &quot;EXISTING&quot;\r\n} \r\n\r\n`ServerHttpRequestDecorator` and `ServerHttpResponseDecorator` code\r\n\r\n```\r\nprivate ServerHttpRequest getDecoratedRequest(ServerHttpRequest request) {\r\n\r\n        return new ServerHttpRequestDecorator(request) {\r\n            @Override\r\n            public Flux&lt;DataBuffer&gt; getBody() {\r\n\r\n                log.debug(&quot;requestId: {}, method: {} , url: {}&quot;, request.getId(), request.getMethodValue(), request.getURI());\r\n                return super.getBody().publishOn(Schedulers.boundedElastic()).doOnNext(dataBuffer -&gt; {\r\n\r\n                    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\r\n\r\n                        Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\r\n                        String requestBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), StandardCharsets.UTF_8.toString());//MODIFY REQUEST and Return the Modified request\r\n                        log.debug(&quot;for requestId: {}, request body :{}&quot;, request.getId(), requestBody);\r\n                    } catch (Exception e) {\r\n                        log.error(e.getMessage());\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n```\r\n```java\r\nprivate ServerHttpResponseDecorator getDecoratedResponse(String path, ServerHttpResponse response, ServerHttpRequest request, DataBufferFactory dataBufferFactory) {\r\n        return new ServerHttpResponseDecorator(response) {\r\n\r\n            @Override\r\n            public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\r\n\r\n                if (body instanceof Flux) {\r\n\r\n                    Flux&lt;? extends DataBuffer&gt; fluxBody = (Flux&lt;? extends DataBuffer&gt;) body;\r\n\r\n                    return super.writeWith(fluxBody.buffer().map(dataBuffers -&gt; {\r\n\r\n                        DefaultDataBuffer joinedBuffers = new DefaultDataBufferFactory().join(dataBuffers);\r\n                        byte[] content = new byte[joinedBuffers.readableByteCount()];\r\n                        joinedBuffers.read(content);\r\n                         String responseBody = new String(content, StandardCharsets.UTF_8);//MODIFY RESPONSE and Return the Modified response\r\n                        log.debug(&quot;requestId: {}, method: {}, url: {}, \\nresponse body :{}&quot;, request.getId(), request.getMethodValue(), request.getURI(), responseBody);\r\n\r\n                        return dataBufferFactory.wrap(responseBody.getBytes());\r\n                    })).onErrorResume(err -&gt; {\r\n\r\n                        log.error(&quot;error while decorating Response: {}&quot;,err.getMessage());\r\n                        return Mono.empty();\r\n                    });\r\n\r\n                }\r\n                return super.writeWith(body);\r\n            }\r\n        };\r\n    }\r\n```\r\nSometimes payload is being logged completely but sometimes its broken and being logged in parts. \r\nKindly let me know how I can fix it to get the whole payload getting logged at all times.\r\n\r\nMany thanks,\r\nSandeep\r\n\r\n\r\nI am expecting to have the full payload logged at all times.","title":"Facing issue while trying to log request using ServerHttpRequestDecorator in Filter","body":"<p>I am trying to use <code>ServerHttpRequestDecorator</code> and <code>ServerHttpResponseDecorator</code> to log the request and response bodies. I am facing a strange problem, the doNext method of the ServerHttpRequestDecorator is being called twice and due to that whole payload is not getting logged, its being logged in two parts</p>\n<p>Full payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;:&quot;789654&quot;,\n    &quot;communication&quot;:&quot;email&quot;,\n    &quot;document&quot;:[\n        {\n            &quot;identificationNumber&quot;:&quot;4563217&quot;,\n            &quot;expiryDate&quot;:&quot;04042024&quot;\n        }\n    ],\n    &quot;firstName&quot;:&quot;KADE&quot;,\n    &quot;lastName&quot;:&quot;NESSLEIN&quot;,\n    &quot;clientType&quot;: &quot;EXISTING&quot;\n}\n</code></pre>\n<p>Incomplete payload Part 1:</p>\n<p>{\n&quot;id&quot;:&quot;789654&quot;,\n&quot;communication&quot;:&quot;email&quot;,\n&quot;document&quot;:[\n{\n&quot;identificationNumber&quot;:&quot;4563217&quot;,\n&quot;expiryDat</p>\n<p>Incomplete payload Part 2:</p>\n<p>e&quot;:&quot;04042024&quot;\n}\n],\n&quot;firstName&quot;:&quot;KADE&quot;,\n&quot;lastName&quot;:&quot;NESSLEIN&quot;,\n&quot;clientType&quot;: &quot;EXISTING&quot;\n}</p>\n<p><code>ServerHttpRequestDecorator</code> and <code>ServerHttpResponseDecorator</code> code</p>\n<pre><code>private ServerHttpRequest getDecoratedRequest(ServerHttpRequest request) {\n\n        return new ServerHttpRequestDecorator(request) {\n            @Override\n            public Flux&lt;DataBuffer&gt; getBody() {\n\n                log.debug(&quot;requestId: {}, method: {} , url: {}&quot;, request.getId(), request.getMethodValue(), request.getURI());\n                return super.getBody().publishOn(Schedulers.boundedElastic()).doOnNext(dataBuffer -&gt; {\n\n                    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n\n                        Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\n                        String requestBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), StandardCharsets.UTF_8.toString());//MODIFY REQUEST and Return the Modified request\n                        log.debug(&quot;for requestId: {}, request body :{}&quot;, request.getId(), requestBody);\n                    } catch (Exception e) {\n                        log.error(e.getMessage());\n                    }\n                });\n            }\n        };\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private ServerHttpResponseDecorator getDecoratedResponse(String path, ServerHttpResponse response, ServerHttpRequest request, DataBufferFactory dataBufferFactory) {\n        return new ServerHttpResponseDecorator(response) {\n\n            @Override\n            public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\n\n                if (body instanceof Flux) {\n\n                    Flux&lt;? extends DataBuffer&gt; fluxBody = (Flux&lt;? extends DataBuffer&gt;) body;\n\n                    return super.writeWith(fluxBody.buffer().map(dataBuffers -&gt; {\n\n                        DefaultDataBuffer joinedBuffers = new DefaultDataBufferFactory().join(dataBuffers);\n                        byte[] content = new byte[joinedBuffers.readableByteCount()];\n                        joinedBuffers.read(content);\n                         String responseBody = new String(content, StandardCharsets.UTF_8);//MODIFY RESPONSE and Return the Modified response\n                        log.debug(&quot;requestId: {}, method: {}, url: {}, \\nresponse body :{}&quot;, request.getId(), request.getMethodValue(), request.getURI(), responseBody);\n\n                        return dataBufferFactory.wrap(responseBody.getBytes());\n                    })).onErrorResume(err -&gt; {\n\n                        log.error(&quot;error while decorating Response: {}&quot;,err.getMessage());\n                        return Mono.empty();\n                    });\n\n                }\n                return super.writeWith(body);\n            }\n        };\n    }\n</code></pre>\n<p>Sometimes payload is being logged completely but sometimes its broken and being logged in parts.\nKindly let me know how I can fix it to get the whole payload getting logged at all times.</p>\n<p>Many thanks,\nSandeep</p>\n<p>I am expecting to have the full payload logged at all times.</p>\n"},{"tags":["java","jenkins","groovy","shared-libraries","jenkins-groovy"],"comments":[{"owner":{"account_id":26967292,"reputation":200,"user_id":20533909,"display_name":"grzegorzgrzegorz"},"score":0,"creation_date":1687615119,"post_id":76505922,"comment_id":134963209,"body_markdown":"Did you try to use Global Pipeline Libraries configuration?","body":"Did you try to use Global Pipeline Libraries configuration?"}],"owner":{"account_id":18232468,"reputation":37,"user_id":13271129,"display_name":"Manisai Bashetty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687342096,"creation_date":1687171909,"question_id":76505922,"body_markdown":"    (root)\r\n    +- src                     # Groovy source files\r\n    |   +- org\r\n    |        +- barHelper.groovy     # for org.Bar class\r\n    +- vars\r\n    |   +- foo.groovy          # for global &#39;foo&#39; variable\r\n    \r\n    I have common class in another repository with name commonhelper.groovy \r\n    (root)\r\n    +- src                     # Groovy source files\r\n    |   +- org\r\n    |        +- commonhelper.groovy \r\n\r\nthere was a method in commonhelper.groovy named methodA(). I want to used methodA() from commonhelper.groovy in barHelper.groovy\r\n\r\nIn the beginning of the file we tried to use import statements like package com.bar\r\n\r\nIs there any solution to acheive this?","title":"Load Jenkins Pipeline Shared Library from different repository","body":"<pre><code>(root)\n+- src                     # Groovy source files\n|   +- org\n|        +- barHelper.groovy     # for org.Bar class\n+- vars\n|   +- foo.groovy          # for global 'foo' variable\n\nI have common class in another repository with name commonhelper.groovy \n(root)\n+- src                     # Groovy source files\n|   +- org\n|        +- commonhelper.groovy \n</code></pre>\n<p>there was a method in commonhelper.groovy named methodA(). I want to used methodA() from commonhelper.groovy in barHelper.groovy</p>\n<p>In the beginning of the file we tried to use import statements like package com.bar</p>\n<p>Is there any solution to acheive this?</p>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":3865181,"reputation":301,"user_id":3201879,"display_name":"soulcoder"},"score":0,"creation_date":1530169582,"post_id":51075682,"comment_id":89142154,"body_markdown":"In 2nd thread when you try to delete record from aggregate, does you somehow manipulate also on Product table? There is product_fk related in the 2nd select query. Do you have cascades set on?","body":"In 2nd thread when you try to delete record from aggregate, does you somehow manipulate also on Product table? There is product_fk related in the 2nd select query. Do you have cascades set on?"},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1530171712,"post_id":51075682,"comment_id":89143394,"body_markdown":"@soulcoder we are not manipulating anything on product table, as in both query delete query uses join from product table, and insert query has product_fk column only.","body":"@soulcoder we are not manipulating anything on product table, as in both query delete query uses join from product table, and insert query has product_fk column only."},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1530172513,"post_id":51075682,"comment_id":89143869,"body_markdown":"@soulcoder that&#39;s true, this means product table is already locked by some other process right ?","body":"@soulcoder that&#39;s true, this means product table is already locked by some other process right ?"}],"answers":[{"tags":[],"owner":{"account_id":14893222,"reputation":1,"user_id":10754285,"display_name":"user10754285"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687340651,"creation_date":1687340582,"answer_id":76521941,"question_id":51075682,"body_markdown":"it locked when execute sql.\r\n\r\nlook this example.\r\n\r\ndelete sql will delete record 1 and 3, and replace sql will update 3 and 1.\r\n\r\nif the execute sequence like this:\r\n1. tr1 delete record 1.\r\n2. tr2 replace record 3.\r\n3. tr1 try delete record 3 and wait tr2 release lock.\r\n4. tr2 try replace record 1 and detect dead lock.\r\n\r\nyour delete and replace involve too may records, it may occurs situation above.","title":"Understand MySQL deadlock log from InnoDB engine status","body":"<p>it locked when execute sql.</p>\n<p>look this example.</p>\n<p>delete sql will delete record 1 and 3, and replace sql will update 3 and 1.</p>\n<p>if the execute sequence like this:</p>\n<ol>\n<li>tr1 delete record 1.</li>\n<li>tr2 replace record 3.</li>\n<li>tr1 try delete record 3 and wait tr2 release lock.</li>\n<li>tr2 try replace record 1 and detect dead lock.</li>\n</ol>\n<p>your delete and replace involve too may records, it may occurs situation above.</p>\n"}],"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687341601,"creation_date":1530165776,"question_id":51075682,"body_markdown":"Yesterday on my production I got deadlock related issue for my application,\r\n\r\nI took the InnoDB engine status to check the which query generated the deadlock, but I am not able to understand why this is generated.\r\n\r\nThere were 2 threads running at same time.\r\n\r\n-  1st thread tries to execute query `replace into aggregate` from `temp table`\r\n-  2nd thread tries `delete record from aggregate`\r\n\r\nCan someone please help me how can I reproduce the same issue, or what causes this issue.\r\n\r\nBelow is the engine status\r\n\r\n    ------------------------\r\n    LATEST DETECTED DEADLOCK\r\n    ------------------------\r\n    2018-06-27 03:23:08 0x20ec\r\n    *** (1) TRANSACTION:\r\n    TRANSACTION 82199210, ACTIVE 59 sec fetching rows\r\n    mysql tables in use 2, locked 2\r\n    LOCK WAIT 16 lock struct(s), heap size 1136, 618 row lock(s)\r\n    MySQL thread id 94048, OS thread handle 13292, query id 1096831619 localhost 127.0.0.1 cpro Sending data\r\n    DELETE aggr FROM aggregate aggr INNER JOIN product p ON aggr.product_fk=p.product_pk WHERE p.id=2 AND date BETWEEN &#39;2018-04-27 00:00:00&#39; AND &#39;2018-06-26 23:59:59.999&#39;\r\n    *** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82199210 lock_mode X locks rec but not gap waiting\r\n    Record lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\r\n     0: len 3; hex 8fc49b; asc    ;;\r\n     1: len 4; hex 8000000d; asc     ;;\r\n     2: len 8; hex 6172726976616c73; asc arrivals;;\r\n     3: len 4; hex 0000803f; asc    ?;;\r\n     4: len 6; hex 00001a2b5ff2; asc    +_ ;;\r\n    \r\n    *** (2) TRANSACTION:\r\n    TRANSACTION 82197992, ACTIVE 499 sec inserting\r\n    mysql tables in use 2, locked 1\r\n    2251 lock struct(s), heap size 237776, 30436 row lock(s), undo log entries 24811\r\n    MySQL thread id 94049, OS thread handle 8428, query id 1096943836 localhost 127.0.0.1 cpro Creating sort index\r\n    replace into aggregate SELECT  date, PRODUCT_FK, DATA_POINT, LOS, SUM(`HOUR`) FROM aggregate_temp GROUP BY date, PRODUCT_FK, DATA_POINT, LOS\r\n    *** (2) HOLDS THE LOCK(S):\r\n    RECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82197992 lock_mode X locks rec but not gap\r\n    Record lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\r\n     0: len 3; hex 8fc49b; asc    ;;\r\n     1: len 4; hex 8000000d; asc     ;;\r\n     2: len 8; hex 6172726976616c73; asc arrivals;;\r\n     3: len 4; hex 0000803f; asc    ?;;\r\n     4: len 6; hex 00001a2b5ff2; asc    +_ ;;\r\n    \r\n    *** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82197992 lock_mode X waiting\r\n    Record lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\r\n     0: len 3; hex 8fc49b; asc    ;;\r\n     1: len 4; hex 8000000d; asc     ;;\r\n     2: len 8; hex 6172726976616c73; asc arrivals;;\r\n     3: len 4; hex 0000803f; asc    ?;;\r\n     4: len 6; hex 00001a2b5ff2; asc    +_ ;;\r\n    \r\n    *** WE ROLL BACK TRANSACTION (1)\r\n    ------------\r\n    TRANSACTIONS\r\n    ------------\r\n    Trx id counter 82207138\r\n    Purge done for trx&#39;s n:o &lt; 82207138 undo n:o &lt; 0 state: running but idle\r\n    History list length 2996\r\n    LIST OF TRANSACTIONS FOR EACH SESSION:\r\n    ---TRANSACTION 281885670630400, not started\r\n    0 lock struct(s), heap size 1136, 0 row lock(s)","title":"Understand MySQL deadlock log from InnoDB engine status","body":"<p>Yesterday on my production I got deadlock related issue for my application,</p>\n<p>I took the InnoDB engine status to check the which query generated the deadlock, but I am not able to understand why this is generated.</p>\n<p>There were 2 threads running at same time.</p>\n<ul>\n<li>1st thread tries to execute query <code>replace into aggregate</code> from <code>temp table</code></li>\n<li>2nd thread tries <code>delete record from aggregate</code></li>\n</ul>\n<p>Can someone please help me how can I reproduce the same issue, or what causes this issue.</p>\n<p>Below is the engine status</p>\n<pre><code>------------------------\nLATEST DETECTED DEADLOCK\n------------------------\n2018-06-27 03:23:08 0x20ec\n*** (1) TRANSACTION:\nTRANSACTION 82199210, ACTIVE 59 sec fetching rows\nmysql tables in use 2, locked 2\nLOCK WAIT 16 lock struct(s), heap size 1136, 618 row lock(s)\nMySQL thread id 94048, OS thread handle 13292, query id 1096831619 localhost 127.0.0.1 cpro Sending data\nDELETE aggr FROM aggregate aggr INNER JOIN product p ON aggr.product_fk=p.product_pk WHERE p.id=2 AND date BETWEEN '2018-04-27 00:00:00' AND '2018-06-26 23:59:59.999'\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82199210 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\n 0: len 3; hex 8fc49b; asc    ;;\n 1: len 4; hex 8000000d; asc     ;;\n 2: len 8; hex 6172726976616c73; asc arrivals;;\n 3: len 4; hex 0000803f; asc    ?;;\n 4: len 6; hex 00001a2b5ff2; asc    +_ ;;\n\n*** (2) TRANSACTION:\nTRANSACTION 82197992, ACTIVE 499 sec inserting\nmysql tables in use 2, locked 1\n2251 lock struct(s), heap size 237776, 30436 row lock(s), undo log entries 24811\nMySQL thread id 94049, OS thread handle 8428, query id 1096943836 localhost 127.0.0.1 cpro Creating sort index\nreplace into aggregate SELECT  date, PRODUCT_FK, DATA_POINT, LOS, SUM(`HOUR`) FROM aggregate_temp GROUP BY date, PRODUCT_FK, DATA_POINT, LOS\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82197992 lock_mode X locks rec but not gap\nRecord lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\n 0: len 3; hex 8fc49b; asc    ;;\n 1: len 4; hex 8000000d; asc     ;;\n 2: len 8; hex 6172726976616c73; asc arrivals;;\n 3: len 4; hex 0000803f; asc    ?;;\n 4: len 6; hex 00001a2b5ff2; asc    +_ ;;\n\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 45178 page no 57766 n bits 576 index UNIQUE_aggregate of table `data`.`aggregate` trx id 82197992 lock_mode X waiting\nRecord lock, heap no 447 PHYSICAL RECORD: n_fields 5; compact format; info bits 32\n 0: len 3; hex 8fc49b; asc    ;;\n 1: len 4; hex 8000000d; asc     ;;\n 2: len 8; hex 6172726976616c73; asc arrivals;;\n 3: len 4; hex 0000803f; asc    ?;;\n 4: len 6; hex 00001a2b5ff2; asc    +_ ;;\n\n*** WE ROLL BACK TRANSACTION (1)\n------------\nTRANSACTIONS\n------------\nTrx id counter 82207138\nPurge done for trx's n:o &lt; 82207138 undo n:o &lt; 0 state: running but idle\nHistory list length 2996\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 281885670630400, not started\n0 lock struct(s), heap size 1136, 0 row lock(s)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","electron","selenium-chromedriver"],"comments":[{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1687395394,"post_id":76522063,"comment_id":134932266,"body_markdown":"You know that Electron is Javascript, right? I don&#39;t understand why you would choose to do it like that.","body":"You know that Electron is Javascript, right? I don&#39;t understand why you would choose to do it like that."},{"owner":{"account_id":10291782,"reputation":1,"user_id":7593324,"display_name":"Daniel"},"score":0,"creation_date":1687442748,"post_id":76522063,"comment_id":134940063,"body_markdown":"We want to do like that because in our team we do not have js developers/testers. They devs are with java, front end is developed in other team and testers stick with java/C#. And now you tell me what should i doo? Fire all?","body":"We want to do like that because in our team we do not have js developers/testers. They devs are with java, front end is developed in other team and testers stick with java/C#. And now you tell me what should i doo? Fire all?"},{"owner":{"account_id":10291782,"reputation":1,"user_id":7593324,"display_name":"Daniel"},"score":0,"creation_date":1687442819,"post_id":76522063,"comment_id":134940085,"body_markdown":"@pguardiario you didn&#39;t add any value to this question.","body":"@pguardiario you didn&#39;t add any value to this question."},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1687481069,"post_id":76522063,"comment_id":134946620,"body_markdown":"You would have to make electron launch with --remote-debugger somehow and then google for how to connect to a running window.","body":"You would have to make electron launch with --remote-debugger somehow and then google for how to connect to a running window."}],"owner":{"account_id":10291782,"reputation":1,"user_id":7593324,"display_name":"Daniel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687341561,"creation_date":1687341561,"question_id":76522063,"body_markdown":"We have Electron version 23.1.1 and corresponding chromium version is 110.0.5481.104.\r\nLink for this: `https://github.com/electron/electron/releases/tag/v23.1.1`\r\nI downloaded chromedriver-v23.1.1-win32-x64.zip from the above page.\r\n&gt; I started a small test but the only step I get is opening the application and than this message in console &quot;Caused by: org.openqa.selenium.NoSuchWindowException: no such window: target window already closed&quot;.\r\n\r\nI am open to use anything but I don&#39;t want to ditch java for JavaScript?\r\nThis is my code.\r\n```\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Capabilities;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Set;\r\n\r\npublic class LoginTest {\r\n\r\n    private final Logger LOGGER = LoggerFactory.getLogger(LoginTest.class);\r\n    private WebDriver driver = null;\r\n    private ChromeOptions options;\r\n    private WebElement inputPOSUser;\r\n    private WebElement clickNextButton;\r\n    @Before\r\n    public void Setup(){\r\n        options = new ChromeOptions();\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\CustomChromeDriver\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n        System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\r\n        options.setBinary(&quot;C:\\\\PATH\\\\TO\\\\ELECTRONAPP.exe&quot;);\r\n        options.addArguments(&quot;start-maximized&quot;); \r\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;); //9222\r\n        if (driver == null){\r\n            driver = new ChromeDriver(options);\r\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10) );\r\n\r\n            //for printing browser name and version\r\n            Capabilities cp = ((RemoteWebDriver) driver).getCapabilities();\r\n            System.out.println(&quot;Browser: &quot; + cp.getBrowserName());\r\n            System.out.println(&quot;Version: &quot; + cp.getBrowserVersion());\r\n            try {\r\n                Thread.sleep(10000);\r\n//                switchToNewWindow(driver);\r\n                inputPOSUser=  wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;login-username-input&quot;)));\r\n                driver.findElement(By.id(&quot;login-login-button&quot;));\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Test\r\n    public void TestL(){\r\n\r\n        LOGGER.info(&quot;Step&quot;);\r\n        String User = &quot;newuser&quot;;\r\n        driver.get(&quot;http://localhost:4202/login&quot;);\r\n        inputPOSUser.sendKeys(User);\r\n        LOGGER.info(&quot;entered login name&quot;);\r\n        clickNextButton.click();\r\n    }\r\n\r\n\r\n    @After\r\n    public void teardown() {\r\n        if (driver != null)\r\n            driver.quit();\r\n    }\r\n\r\n    public  void switchToNewWindow(WebDriver driver)\r\n    {\r\n        String mainWindow = driver.getWindowHandle();\r\n        Set&lt;String&gt; openedWindows = driver.getWindowHandles();\r\n        if(openedWindows.size() &gt; 1)\r\n        {\r\n            for(String newWindow : openedWindows)\r\n            {\r\n                driver.switchTo().window(newWindow);\r\n            }\r\n            driver.close();\r\n            LOGGER.info(&quot;Closing the current Opened Window - Invoice&quot;);\r\n            driver.switchTo().window(mainWindow);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the console\r\n```\r\n&quot;\r\nlog4j:WARN No appenders could be found for logger (LoginTest).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\nStarting ChromeDriver 110.0.5481.104 (46de4a7f41979e829b430bc1ee30ef483aa227ac-refs/branch-heads/5481_77@{#19}) on port 7863\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1687340263.626][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND InitSession {\r\n   &quot;capabilities&quot;: {\r\n      &quot;firstMatch&quot;: [ {\r\n         &quot;browserName&quot;: &quot;chrome&quot;,\r\n         &quot;goog:chromeOptions&quot;: {\r\n            &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;enable-automation&quot;, &quot;--no-sandbox&quot;, &quot;--remote-debugging-port=9222&quot; ],\r\n            &quot;binary&quot;: &quot;C:\\\\AFC\\\\PointOfSale\\\\PointOfSale.exe&quot;,\r\n            &quot;extensions&quot;: [  ]\r\n         }\r\n      } ]\r\n   },\r\n   &quot;desiredCapabilities&quot;: {\r\n      &quot;browserName&quot;: &quot;chrome&quot;,\r\n      &quot;goog:chromeOptions&quot;: {\r\n         &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;enable-automation&quot;, &quot;--no-sandbox&quot;, &quot;--remote-debugging-port=9222&quot; ],\r\n         &quot;binary&quot;: &quot;C:\\\\AFC\\\\PointOfSale\\\\PointOfSale.exe&quot;,\r\n         &quot;extensions&quot;: [  ]\r\n      }\r\n   }\r\n}\r\n[1687340263.629][INFO]: Populating Preferences file: {\r\n   &quot;alternate_error_pages&quot;: {\r\n      &quot;enabled&quot;: false\r\n   },\r\n   &quot;autofill&quot;: {\r\n      &quot;enabled&quot;: false\r\n   },\r\n   &quot;browser&quot;: {\r\n      &quot;check_default_browser&quot;: false\r\n   },\r\n   &quot;distribution&quot;: {\r\n      &quot;import_bookmarks&quot;: false,\r\n      &quot;import_history&quot;: false,\r\n      &quot;import_search_engine&quot;: false,\r\n      &quot;make_chrome_default_for_user&quot;: false,\r\n      &quot;skip_first_run_ui&quot;: true\r\n   },\r\n   &quot;dns_prefetching&quot;: {\r\n      &quot;enabled&quot;: false\r\n   },\r\n   &quot;profile&quot;: {\r\n      &quot;content_settings&quot;: {\r\n         &quot;pattern_pairs&quot;: {\r\n            &quot;https://*,*&quot;: {\r\n               &quot;media-stream&quot;: {\r\n                  &quot;audio&quot;: &quot;Default&quot;,\r\n                  &quot;video&quot;: &quot;Default&quot;\r\n               }\r\n            }\r\n         }\r\n      },\r\n      &quot;default_content_setting_values&quot;: {\r\n         &quot;geolocation&quot;: 1\r\n      },\r\n      &quot;default_content_settings&quot;: {\r\n         &quot;geolocation&quot;: 1,\r\n         &quot;mouselock&quot;: 1,\r\n         &quot;notifications&quot;: 1,\r\n         &quot;popups&quot;: 1,\r\n         &quot;ppapi-broker&quot;: 1\r\n      },\r\n      &quot;password_manager_enabled&quot;: false\r\n   },\r\n   &quot;safebrowsing&quot;: {\r\n      &quot;enabled&quot;: false\r\n   },\r\n   &quot;search&quot;: {\r\n      &quot;suggest_enabled&quot;: false\r\n   },\r\n   &quot;translate&quot;: {\r\n      &quot;enabled&quot;: false\r\n   }\r\n}\r\n[1687340263.633][INFO]: Populating Local State file: {\r\n   &quot;background_mode&quot;: {\r\n      &quot;enabled&quot;: false\r\n   },\r\n   &quot;ssl&quot;: {\r\n      &quot;rev_checking&quot;: {\r\n         &quot;enabled&quot;: false\r\n      }\r\n   }\r\n}\r\n[1687340263.637][INFO]: Launching chrome: &quot;C:\\AFC\\PointOfSale\\PointOfSale.exe&quot; --allow-pre-commit-input --disable-background-networking --disable-backgrounding-occluded-windows --disable-client-side-phishing-detection --disable-default-apps --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-sync --enable-automation --enable-blink-features=ShadowDOMV0 --enable-logging --log-level=0 --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=9222 --start-maximized --test-type=webdriver --use-mock-keychain --user-data-dir=&quot;C:\\Users\\UserProfile\\AppData\\Local\\Temp\\scoped_dir117580_1083242216&quot; data:,\r\n[1687340263.651][DEBUG]: DevTools HTTP Request: http://localhost:9222/json/version\r\n[1687340264.226][DEBUG]: DevTools HTTP Response: {\r\n   &quot;Browser&quot;: &quot;Chrome/110.0.5481.104&quot;,\r\n   &quot;Protocol-Version&quot;: &quot;1.3&quot;,\r\n   &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) PointOfSale/1.0.0 Chrome/110.0.5481.104 Electron/23.1.1 Safari/537.36&quot;,\r\n   &quot;V8-Version&quot;: &quot;11.0.226.16&quot;,\r\n   &quot;WebKit-Version&quot;: &quot;537.36 (@46de4a7f41979e829b430bc1ee30ef483aa227ac)&quot;,\r\n   &quot;webSocketDebuggerUrl&quot;: &quot;ws://localhost:9222/devtools/browser/bd8c11d3-9ff1-4a4c-9ce9-fdb9619d0210&quot;\r\n}\r\n\r\n[1687340264.226][DEBUG]: DevTools HTTP Request: http://localhost:9222/json/list\r\n[1687340264.228][DEBUG]: DevTools HTTP Response: [ {\r\n   &quot;description&quot;: &quot;&quot;,\r\n   &quot;devtoolsFrontendUrl&quot;: &quot;/devtools/inspector.html?ws=localhost:9222/devtools/page/3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n   &quot;id&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n   &quot;title&quot;: &quot;&quot;,\r\n   &quot;type&quot;: &quot;page&quot;,\r\n   &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;,\r\n   &quot;webSocketDebuggerUrl&quot;: &quot;ws://localhost:9222/devtools/page/3D5D926A00E7B99A43C30D657DB31A66&quot;\r\n} ]\r\n\r\n[1687340264.255][INFO]: resolved localhost to [&quot;::1&quot;,&quot;127.0.0.1&quot;]\r\n[1687340264.257][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n[1687340264.258][DEBUG]: DevTools WebSocket Command: Target.getTargets (id=1) (session_id=) browser {\r\n}\r\n[1687340264.259][DEBUG]: DevTools WebSocket Response: Target.getTargets (id=1) (session_id=) browser {\r\n   &quot;targetInfos&quot;: [ {\r\n      &quot;attached&quot;: false,\r\n      &quot;browserContextId&quot;: &quot;9EEB1F223152D98321FD4F4558501009&quot;,\r\n      &quot;canAccessOpener&quot;: false,\r\n      &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n      &quot;title&quot;: &quot;&quot;,\r\n      &quot;type&quot;: &quot;page&quot;,\r\n      &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;\r\n   } ]\r\n}\r\n[1687340264.259][DEBUG]: DevTools WebSocket Command: Target.attachToTarget (id=2) (session_id=) browser {\r\n   &quot;flatten&quot;: true,\r\n   &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\r\n}\r\n[1687340264.260][DEBUG]: DevTools WebSocket Event: Target.attachedToTarget (session_id=) browser {\r\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;,\r\n   &quot;targetInfo&quot;: {\r\n      &quot;attached&quot;: true,\r\n      &quot;browserContextId&quot;: &quot;9EEB1F223152D98321FD4F4558501009&quot;,\r\n      &quot;canAccessOpener&quot;: false,\r\n      &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n      &quot;title&quot;: &quot;&quot;,\r\n      &quot;type&quot;: &quot;page&quot;,\r\n      &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;\r\n   },\r\n   &quot;waitingForDebugger&quot;: false\r\n}\r\n[1687340264.260][DEBUG]: DevTools WebSocket Response: Target.attachToTarget (id=2) (session_id=) browser {\r\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;\r\n}\r\n[1687340264.260][DEBUG]: DevTools WebSocket Command: Page.addScriptToEvaluateOnNewDocument (id=3) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;source&quot;: &quot;(function () {window.cdc_adoQpoasnfa76pfcZLmcfl_Array = window.Array;window.cdc_adoQpoasnfa76pfcZLmcfl_Promise = window.Promise;window.cdc_adoQpoasnfa76pfcZLmcfl_Symbol = window.Symbol;}) ();&quot;\r\n}\r\n[1687340264.260][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=4) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;expression&quot;: &quot;(function () {window.cdc_adoQpoasnfa76pfcZLmcfl_Array = window.Array;window.cdc_adoQpoasnfa76pfcZLmcfl_Promise = window.Promise;window.cdc_adoQpoasnfa76pfcZLmcfl_Symbol = window.Symbol;}) ();&quot;\r\n}\r\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Log.enable (id=5) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Target.setAutoAttach (id=6) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;autoAttach&quot;: true,\r\n   &quot;flatten&quot;: true,\r\n   &quot;waitForDebuggerOnStart&quot;: false\r\n}\r\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Page.enable (id=7) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.262][DEBUG]: DevTools WebSocket Command: Page.enable (id=8) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.addScriptToEvaluateOnNewDocument (id=3) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;identifier&quot;: &quot;1&quot;\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=4) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;result&quot;: {\r\n      &quot;type&quot;: &quot;undefined&quot;\r\n   }\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Log.enable (id=5) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Target.setAutoAttach (id=6) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.enable (id=7) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.enable (id=8) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.294][DEBUG]: DevTools WebSocket Command: Runtime.enable (id=9) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.295][DEBUG]: DevTools WebSocket Event: Page.domContentEventFired (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;timestamp&quot;: 1207352.837148\r\n}\r\n[1687340264.298][DEBUG]: DevTools WebSocket Event: Runtime.executionContextCreated (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;context&quot;: {\r\n      &quot;auxData&quot;: {\r\n         &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n         &quot;isDefault&quot;: false,\r\n         &quot;type&quot;: &quot;isolated&quot;\r\n      },\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;Electron Isolated Context&quot;,\r\n      &quot;origin&quot;: &quot;file://&quot;,\r\n      &quot;uniqueId&quot;: &quot;-4165743087318469963.1924850320221961557&quot;\r\n   }\r\n}\r\n[1687340264.298][DEBUG]: DevTools WebSocket Event: Runtime.executionContextCreated (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;context&quot;: {\r\n      &quot;auxData&quot;: {\r\n         &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\r\n         &quot;isDefault&quot;: true,\r\n         &quot;type&quot;: &quot;default&quot;\r\n      },\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;&quot;,\r\n      &quot;origin&quot;: &quot;file://&quot;,\r\n      &quot;uniqueId&quot;: &quot;-966553648842666591.1831066268359020716&quot;\r\n   }\r\n}\r\n[1687340264.298][DEBUG]: DevTools WebSocket Response: Runtime.enable (id=9) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.298][DEBUG]: DevTools WebSocket Command: Page.enable (id=10) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.300][DEBUG]: DevTools WebSocket Response: Page.enable (id=10) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.300][DEBUG]: DevTools WebSocket Command: Runtime.enable (id=11) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.310][DEBUG]: DevTools WebSocket Event: Page.loadEventFired (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;timestamp&quot;: 1207352.842856\r\n}\r\n[1687340264.310][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=12) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;awaitPromise&quot;: false,\r\n   &quot;expression&quot;: &quot;document.readyState&quot;,\r\n   &quot;returnByValue&quot;: true\r\n}\r\n[1687340264.310][DEBUG]: DevTools WebSocket Event: Page.frameStoppedLoading (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\r\n}\r\n[1687340264.310][DEBUG]: DevTools WebSocket Response: Runtime.enable (id=11) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n}\r\n[1687340264.311][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=12) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;result&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;value&quot;: &quot;complete&quot;\r\n   }\r\n}\r\n[1687340264.312][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=13) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;awaitPromise&quot;: true,\r\n   &quot;expression&quot;: &quot;(function() { // Copyright 2012 The Chromium Authors\\n// Use of this source code is governed by a BSD-style license that can be\\n// found in the LICENSE file.\\n\\n/**\\n * Enum for WebDriver status codes....&quot;,\r\n   &quot;returnByValue&quot;: true\r\n}\r\n[1687340264.315][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=13) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\r\n   &quot;result&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;value&quot;: {\r\n         &quot;status&quot;: 0,\r\n         &quot;value&quot;: 1\r\n      }\r\n   }\r\n}\r\n[1687340264.315][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE InitSession {\r\n   &quot;capabilities&quot;: {\r\n      &quot;acceptInsecureCerts&quot;: false,\r\n      &quot;browserName&quot;: &quot;chrome&quot;,\r\n      &quot;browserVersion&quot;: &quot;110.0.5481.104&quot;,\r\n      &quot;chrome&quot;: {\r\n         &quot;chromedriverVersion&quot;: &quot;110.0.5481.104 (46de4a7f41979e829b430bc1ee30ef483aa227ac-refs/branch-heads/5481_77@{#19})&quot;,\r\n         &quot;userDataDir&quot;: &quot;C:\\\\Users\\\\UserProfile\\\\AppData\\\\Local\\\\Temp\\\\scoped_dir117580_1083242216&quot;\r\n      },\r\n      &quot;goog:chromeOptions&quot;: {\r\n         &quot;debuggerAddress&quot;: &quot;localhost:9222&quot;\r\n      },\r\n      &quot;networkConnectionEnabled&quot;: false,\r\n      &quot;pageLoadStrategy&quot;: &quot;normal&quot;,\r\n      &quot;platformName&quot;: &quot;windows&quot;,\r\n      &quot;proxy&quot;: {\r\n      },\r\n      &quot;setWindowRect&quot;: true,\r\n      &quot;strictFileInteractability&quot;: false,\r\n      &quot;timeouts&quot;: {\r\n         &quot;implicit&quot;: 0,\r\n         &quot;pageLoad&quot;: 300000,\r\n         &quot;script&quot;: 30000\r\n      },\r\n      &quot;unhandledPromptBehavior&quot;: &quot;dismiss and notify&quot;,\r\n      &quot;webauthn:extension:credBlob&quot;: true,\r\n      &quot;webauthn:extension:largeBlob&quot;: true,\r\n      &quot;webauthn:virtualAuthenticators&quot;: true\r\n   },\r\n   &quot;sessionId&quot;: &quot;34022d8904f2f63ebd53781d89c6b5a3&quot;\r\n}\r\n[1687340265.977][DEBUG]: DevTools WebSocket Event: Target.detachedFromTarget (session_id=) browser {\r\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;,\r\n   &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\r\n}\r\n[1687340274.428][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND GetWindow {\r\n}\r\n[1687340274.453][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE GetWindow ERROR no such window: target window already closed\r\nfrom unknown error: web view not found\r\n  (Session info: chrome=110.0.5481.104)\r\n[1687340274.462][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND Quit {\r\n}\r\n[1687340274.515][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE Quit\r\n[1687340274.515][DEBUG]: Log type &#39;driver&#39; lost 1 entries on destruction\r\n[1687340274.515][DEBUG]: Log type &#39;browser&#39; lost 0 entries on destruction\r\n\r\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\r\nfrom unknown error: web view not found\r\n  (Session info: chrome=110.0.5481.104)\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [34022d8904f2f63ebd53781d89c6b5a3, getCurrentWindowHandle {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.104, chrome: {chromedriverVersion: 110.0.5481.104 (46de4a7f419..., userDataDir: C:\\Users\\UserProfile\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:9222}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:9222/devtool..., se:cdpVersion: 110.0.5481.104, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 34022d8904f2f63ebd53781d89c6b5a3\r\n\r\n```\r\n\r\n","title":"How can I test an Electron application using Java?","body":"<p>We have Electron version 23.1.1 and corresponding chromium version is 110.0.5481.104.\nLink for this: <code>https://github.com/electron/electron/releases/tag/v23.1.1</code>\nI downloaded chromedriver-v23.1.1-win32-x64.zip from the above page.</p>\n<blockquote>\n<p>I started a small test but the only step I get is opening the application and than this message in console &quot;Caused by: org.openqa.selenium.NoSuchWindowException: no such window: target window already closed&quot;.</p>\n</blockquote>\n<p>I am open to use anything but I don't want to ditch java for JavaScript?\nThis is my code.</p>\n<pre><code>\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Capabilities;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.time.Duration;\nimport java.util.Set;\n\npublic class LoginTest {\n\n    private final Logger LOGGER = LoggerFactory.getLogger(LoginTest.class);\n    private WebDriver driver = null;\n    private ChromeOptions options;\n    private WebElement inputPOSUser;\n    private WebElement clickNextButton;\n    @Before\n    public void Setup(){\n        options = new ChromeOptions();\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\CustomChromeDriver\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\n        options.setBinary(&quot;C:\\\\PATH\\\\TO\\\\ELECTRONAPP.exe&quot;);\n        options.addArguments(&quot;start-maximized&quot;); \n        options.addArguments(&quot;--remote-debugging-port=9222&quot;); //9222\n        if (driver == null){\n            driver = new ChromeDriver(options);\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10) );\n\n            //for printing browser name and version\n            Capabilities cp = ((RemoteWebDriver) driver).getCapabilities();\n            System.out.println(&quot;Browser: &quot; + cp.getBrowserName());\n            System.out.println(&quot;Version: &quot; + cp.getBrowserVersion());\n            try {\n                Thread.sleep(10000);\n//                switchToNewWindow(driver);\n                inputPOSUser=  wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;login-username-input&quot;)));\n                driver.findElement(By.id(&quot;login-login-button&quot;));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n        }\n\n\n    }\n\n    @Test\n    public void TestL(){\n\n        LOGGER.info(&quot;Step&quot;);\n        String User = &quot;newuser&quot;;\n        driver.get(&quot;http://localhost:4202/login&quot;);\n        inputPOSUser.sendKeys(User);\n        LOGGER.info(&quot;entered login name&quot;);\n        clickNextButton.click();\n    }\n\n\n    @After\n    public void teardown() {\n        if (driver != null)\n            driver.quit();\n    }\n\n    public  void switchToNewWindow(WebDriver driver)\n    {\n        String mainWindow = driver.getWindowHandle();\n        Set&lt;String&gt; openedWindows = driver.getWindowHandles();\n        if(openedWindows.size() &gt; 1)\n        {\n            for(String newWindow : openedWindows)\n            {\n                driver.switchTo().window(newWindow);\n            }\n            driver.close();\n            LOGGER.info(&quot;Closing the current Opened Window - Invoice&quot;);\n            driver.switchTo().window(mainWindow);\n        }\n    }\n\n}\n\n</code></pre>\n<p>This is the console</p>\n<pre><code>&quot;\nlog4j:WARN No appenders could be found for logger (LoginTest).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nStarting ChromeDriver 110.0.5481.104 (46de4a7f41979e829b430bc1ee30ef483aa227ac-refs/branch-heads/5481_77@{#19}) on port 7863\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1687340263.626][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND InitSession {\n   &quot;capabilities&quot;: {\n      &quot;firstMatch&quot;: [ {\n         &quot;browserName&quot;: &quot;chrome&quot;,\n         &quot;goog:chromeOptions&quot;: {\n            &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;enable-automation&quot;, &quot;--no-sandbox&quot;, &quot;--remote-debugging-port=9222&quot; ],\n            &quot;binary&quot;: &quot;C:\\\\AFC\\\\PointOfSale\\\\PointOfSale.exe&quot;,\n            &quot;extensions&quot;: [  ]\n         }\n      } ]\n   },\n   &quot;desiredCapabilities&quot;: {\n      &quot;browserName&quot;: &quot;chrome&quot;,\n      &quot;goog:chromeOptions&quot;: {\n         &quot;args&quot;: [ &quot;start-maximized&quot;, &quot;enable-automation&quot;, &quot;--no-sandbox&quot;, &quot;--remote-debugging-port=9222&quot; ],\n         &quot;binary&quot;: &quot;C:\\\\AFC\\\\PointOfSale\\\\PointOfSale.exe&quot;,\n         &quot;extensions&quot;: [  ]\n      }\n   }\n}\n[1687340263.629][INFO]: Populating Preferences file: {\n   &quot;alternate_error_pages&quot;: {\n      &quot;enabled&quot;: false\n   },\n   &quot;autofill&quot;: {\n      &quot;enabled&quot;: false\n   },\n   &quot;browser&quot;: {\n      &quot;check_default_browser&quot;: false\n   },\n   &quot;distribution&quot;: {\n      &quot;import_bookmarks&quot;: false,\n      &quot;import_history&quot;: false,\n      &quot;import_search_engine&quot;: false,\n      &quot;make_chrome_default_for_user&quot;: false,\n      &quot;skip_first_run_ui&quot;: true\n   },\n   &quot;dns_prefetching&quot;: {\n      &quot;enabled&quot;: false\n   },\n   &quot;profile&quot;: {\n      &quot;content_settings&quot;: {\n         &quot;pattern_pairs&quot;: {\n            &quot;https://*,*&quot;: {\n               &quot;media-stream&quot;: {\n                  &quot;audio&quot;: &quot;Default&quot;,\n                  &quot;video&quot;: &quot;Default&quot;\n               }\n            }\n         }\n      },\n      &quot;default_content_setting_values&quot;: {\n         &quot;geolocation&quot;: 1\n      },\n      &quot;default_content_settings&quot;: {\n         &quot;geolocation&quot;: 1,\n         &quot;mouselock&quot;: 1,\n         &quot;notifications&quot;: 1,\n         &quot;popups&quot;: 1,\n         &quot;ppapi-broker&quot;: 1\n      },\n      &quot;password_manager_enabled&quot;: false\n   },\n   &quot;safebrowsing&quot;: {\n      &quot;enabled&quot;: false\n   },\n   &quot;search&quot;: {\n      &quot;suggest_enabled&quot;: false\n   },\n   &quot;translate&quot;: {\n      &quot;enabled&quot;: false\n   }\n}\n[1687340263.633][INFO]: Populating Local State file: {\n   &quot;background_mode&quot;: {\n      &quot;enabled&quot;: false\n   },\n   &quot;ssl&quot;: {\n      &quot;rev_checking&quot;: {\n         &quot;enabled&quot;: false\n      }\n   }\n}\n[1687340263.637][INFO]: Launching chrome: &quot;C:\\AFC\\PointOfSale\\PointOfSale.exe&quot; --allow-pre-commit-input --disable-background-networking --disable-backgrounding-occluded-windows --disable-client-side-phishing-detection --disable-default-apps --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-sync --enable-automation --enable-blink-features=ShadowDOMV0 --enable-logging --log-level=0 --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=9222 --start-maximized --test-type=webdriver --use-mock-keychain --user-data-dir=&quot;C:\\Users\\UserProfile\\AppData\\Local\\Temp\\scoped_dir117580_1083242216&quot; data:,\n[1687340263.651][DEBUG]: DevTools HTTP Request: http://localhost:9222/json/version\n[1687340264.226][DEBUG]: DevTools HTTP Response: {\n   &quot;Browser&quot;: &quot;Chrome/110.0.5481.104&quot;,\n   &quot;Protocol-Version&quot;: &quot;1.3&quot;,\n   &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) PointOfSale/1.0.0 Chrome/110.0.5481.104 Electron/23.1.1 Safari/537.36&quot;,\n   &quot;V8-Version&quot;: &quot;11.0.226.16&quot;,\n   &quot;WebKit-Version&quot;: &quot;537.36 (@46de4a7f41979e829b430bc1ee30ef483aa227ac)&quot;,\n   &quot;webSocketDebuggerUrl&quot;: &quot;ws://localhost:9222/devtools/browser/bd8c11d3-9ff1-4a4c-9ce9-fdb9619d0210&quot;\n}\n\n[1687340264.226][DEBUG]: DevTools HTTP Request: http://localhost:9222/json/list\n[1687340264.228][DEBUG]: DevTools HTTP Response: [ {\n   &quot;description&quot;: &quot;&quot;,\n   &quot;devtoolsFrontendUrl&quot;: &quot;/devtools/inspector.html?ws=localhost:9222/devtools/page/3D5D926A00E7B99A43C30D657DB31A66&quot;,\n   &quot;id&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\n   &quot;title&quot;: &quot;&quot;,\n   &quot;type&quot;: &quot;page&quot;,\n   &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;,\n   &quot;webSocketDebuggerUrl&quot;: &quot;ws://localhost:9222/devtools/page/3D5D926A00E7B99A43C30D657DB31A66&quot;\n} ]\n\n[1687340264.255][INFO]: resolved localhost to [&quot;::1&quot;,&quot;127.0.0.1&quot;]\n[1687340264.257][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\n[1687340264.258][DEBUG]: DevTools WebSocket Command: Target.getTargets (id=1) (session_id=) browser {\n}\n[1687340264.259][DEBUG]: DevTools WebSocket Response: Target.getTargets (id=1) (session_id=) browser {\n   &quot;targetInfos&quot;: [ {\n      &quot;attached&quot;: false,\n      &quot;browserContextId&quot;: &quot;9EEB1F223152D98321FD4F4558501009&quot;,\n      &quot;canAccessOpener&quot;: false,\n      &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\n      &quot;title&quot;: &quot;&quot;,\n      &quot;type&quot;: &quot;page&quot;,\n      &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;\n   } ]\n}\n[1687340264.259][DEBUG]: DevTools WebSocket Command: Target.attachToTarget (id=2) (session_id=) browser {\n   &quot;flatten&quot;: true,\n   &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\n}\n[1687340264.260][DEBUG]: DevTools WebSocket Event: Target.attachedToTarget (session_id=) browser {\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;,\n   &quot;targetInfo&quot;: {\n      &quot;attached&quot;: true,\n      &quot;browserContextId&quot;: &quot;9EEB1F223152D98321FD4F4558501009&quot;,\n      &quot;canAccessOpener&quot;: false,\n      &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\n      &quot;title&quot;: &quot;&quot;,\n      &quot;type&quot;: &quot;page&quot;,\n      &quot;url&quot;: &quot;file:///C:/AFC/PointOfSale/resources/app.asar/html/start.html&quot;\n   },\n   &quot;waitingForDebugger&quot;: false\n}\n[1687340264.260][DEBUG]: DevTools WebSocket Response: Target.attachToTarget (id=2) (session_id=) browser {\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;\n}\n[1687340264.260][DEBUG]: DevTools WebSocket Command: Page.addScriptToEvaluateOnNewDocument (id=3) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;source&quot;: &quot;(function () {window.cdc_adoQpoasnfa76pfcZLmcfl_Array = window.Array;window.cdc_adoQpoasnfa76pfcZLmcfl_Promise = window.Promise;window.cdc_adoQpoasnfa76pfcZLmcfl_Symbol = window.Symbol;}) ();&quot;\n}\n[1687340264.260][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=4) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;expression&quot;: &quot;(function () {window.cdc_adoQpoasnfa76pfcZLmcfl_Array = window.Array;window.cdc_adoQpoasnfa76pfcZLmcfl_Promise = window.Promise;window.cdc_adoQpoasnfa76pfcZLmcfl_Symbol = window.Symbol;}) ();&quot;\n}\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Log.enable (id=5) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Target.setAutoAttach (id=6) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;autoAttach&quot;: true,\n   &quot;flatten&quot;: true,\n   &quot;waitForDebuggerOnStart&quot;: false\n}\n[1687340264.261][DEBUG]: DevTools WebSocket Command: Page.enable (id=7) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.262][DEBUG]: DevTools WebSocket Command: Page.enable (id=8) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.addScriptToEvaluateOnNewDocument (id=3) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;identifier&quot;: &quot;1&quot;\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=4) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;result&quot;: {\n      &quot;type&quot;: &quot;undefined&quot;\n   }\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Log.enable (id=5) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Target.setAutoAttach (id=6) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.enable (id=7) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Response: Page.enable (id=8) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.294][DEBUG]: DevTools WebSocket Command: Runtime.enable (id=9) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.295][DEBUG]: DevTools WebSocket Event: Page.domContentEventFired (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;timestamp&quot;: 1207352.837148\n}\n[1687340264.298][DEBUG]: DevTools WebSocket Event: Runtime.executionContextCreated (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;context&quot;: {\n      &quot;auxData&quot;: {\n         &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\n         &quot;isDefault&quot;: false,\n         &quot;type&quot;: &quot;isolated&quot;\n      },\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Electron Isolated Context&quot;,\n      &quot;origin&quot;: &quot;file://&quot;,\n      &quot;uniqueId&quot;: &quot;-4165743087318469963.1924850320221961557&quot;\n   }\n}\n[1687340264.298][DEBUG]: DevTools WebSocket Event: Runtime.executionContextCreated (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;context&quot;: {\n      &quot;auxData&quot;: {\n         &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;,\n         &quot;isDefault&quot;: true,\n         &quot;type&quot;: &quot;default&quot;\n      },\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;&quot;,\n      &quot;origin&quot;: &quot;file://&quot;,\n      &quot;uniqueId&quot;: &quot;-966553648842666591.1831066268359020716&quot;\n   }\n}\n[1687340264.298][DEBUG]: DevTools WebSocket Response: Runtime.enable (id=9) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.298][DEBUG]: DevTools WebSocket Command: Page.enable (id=10) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.300][DEBUG]: DevTools WebSocket Response: Page.enable (id=10) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.300][DEBUG]: DevTools WebSocket Command: Runtime.enable (id=11) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.310][DEBUG]: DevTools WebSocket Event: Page.loadEventFired (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;timestamp&quot;: 1207352.842856\n}\n[1687340264.310][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=12) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;awaitPromise&quot;: false,\n   &quot;expression&quot;: &quot;document.readyState&quot;,\n   &quot;returnByValue&quot;: true\n}\n[1687340264.310][DEBUG]: DevTools WebSocket Event: Page.frameStoppedLoading (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;frameId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\n}\n[1687340264.310][DEBUG]: DevTools WebSocket Response: Runtime.enable (id=11) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n}\n[1687340264.311][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=12) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;result&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;value&quot;: &quot;complete&quot;\n   }\n}\n[1687340264.312][DEBUG]: DevTools WebSocket Command: Runtime.evaluate (id=13) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;awaitPromise&quot;: true,\n   &quot;expression&quot;: &quot;(function() { // Copyright 2012 The Chromium Authors\\n// Use of this source code is governed by a BSD-style license that can be\\n// found in the LICENSE file.\\n\\n/**\\n * Enum for WebDriver status codes....&quot;,\n   &quot;returnByValue&quot;: true\n}\n[1687340264.315][DEBUG]: DevTools WebSocket Response: Runtime.evaluate (id=13) (session_id=C5798C306B0019F541FAFF88D3DDC14B) 3D5D926A00E7B99A43C30D657DB31A66 {\n   &quot;result&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;value&quot;: {\n         &quot;status&quot;: 0,\n         &quot;value&quot;: 1\n      }\n   }\n}\n[1687340264.315][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE InitSession {\n   &quot;capabilities&quot;: {\n      &quot;acceptInsecureCerts&quot;: false,\n      &quot;browserName&quot;: &quot;chrome&quot;,\n      &quot;browserVersion&quot;: &quot;110.0.5481.104&quot;,\n      &quot;chrome&quot;: {\n         &quot;chromedriverVersion&quot;: &quot;110.0.5481.104 (46de4a7f41979e829b430bc1ee30ef483aa227ac-refs/branch-heads/5481_77@{#19})&quot;,\n         &quot;userDataDir&quot;: &quot;C:\\\\Users\\\\UserProfile\\\\AppData\\\\Local\\\\Temp\\\\scoped_dir117580_1083242216&quot;\n      },\n      &quot;goog:chromeOptions&quot;: {\n         &quot;debuggerAddress&quot;: &quot;localhost:9222&quot;\n      },\n      &quot;networkConnectionEnabled&quot;: false,\n      &quot;pageLoadStrategy&quot;: &quot;normal&quot;,\n      &quot;platformName&quot;: &quot;windows&quot;,\n      &quot;proxy&quot;: {\n      },\n      &quot;setWindowRect&quot;: true,\n      &quot;strictFileInteractability&quot;: false,\n      &quot;timeouts&quot;: {\n         &quot;implicit&quot;: 0,\n         &quot;pageLoad&quot;: 300000,\n         &quot;script&quot;: 30000\n      },\n      &quot;unhandledPromptBehavior&quot;: &quot;dismiss and notify&quot;,\n      &quot;webauthn:extension:credBlob&quot;: true,\n      &quot;webauthn:extension:largeBlob&quot;: true,\n      &quot;webauthn:virtualAuthenticators&quot;: true\n   },\n   &quot;sessionId&quot;: &quot;34022d8904f2f63ebd53781d89c6b5a3&quot;\n}\n[1687340265.977][DEBUG]: DevTools WebSocket Event: Target.detachedFromTarget (session_id=) browser {\n   &quot;sessionId&quot;: &quot;C5798C306B0019F541FAFF88D3DDC14B&quot;,\n   &quot;targetId&quot;: &quot;3D5D926A00E7B99A43C30D657DB31A66&quot;\n}\n[1687340274.428][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND GetWindow {\n}\n[1687340274.453][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE GetWindow ERROR no such window: target window already closed\nfrom unknown error: web view not found\n  (Session info: chrome=110.0.5481.104)\n[1687340274.462][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] COMMAND Quit {\n}\n[1687340274.515][INFO]: [34022d8904f2f63ebd53781d89c6b5a3] RESPONSE Quit\n[1687340274.515][DEBUG]: Log type 'driver' lost 1 entries on destruction\n[1687340274.515][DEBUG]: Log type 'browser' lost 0 entries on destruction\n\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\nfrom unknown error: web view not found\n  (Session info: chrome=110.0.5481.104)\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [34022d8904f2f63ebd53781d89c6b5a3, getCurrentWindowHandle {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.104, chrome: {chromedriverVersion: 110.0.5481.104 (46de4a7f419..., userDataDir: C:\\Users\\UserProfile\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:9222}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:9222/devtool..., se:cdpVersion: 110.0.5481.104, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 34022d8904f2f63ebd53781d89c6b5a3\n\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9056575,"reputation":747,"user_id":6744675,"display_name":"IndyStef"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1471943608,"creation_date":1471943608,"answer_id":39097051,"question_id":39086471,"body_markdown":"I found the problem. For completeness of this thread, I&#39;ll share the answer, including the code. \r\nThe issue was that I used the application property spring.data.mongodb.uri wrong: it did not have the username and password in the URI, because I mistakenly believed that spring.data.mongodb.username and spring.data.mongodb.password covered that. So, either use the uri with username and password, or use the host and database (and maybe also port) spring properties explicitly.\r\nHere is the code. It will work in the spring boot app with mongoDB support (use initializr or IntelliJ to create that project).\r\nI have a model:\r\n\r\n    package net.IndyStef.model;\r\n\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    @Document(collection = &quot;person&quot;)\r\n    public class Person {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private String name;\r\n    private Integer age;\r\n\r\n    public Person() {\r\n    }\r\n\r\n    public Person(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Person(String id, String name, Integer age) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    ... getters/setters omitted for breverity ...\r\n    }\r\n\r\nThe data is read and written through a repository:\r\n\r\n    package net.IndyStef.repository;\r\n\r\n    import net.okrongli.model.Person;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    \r\n    /**\r\n     * Created by IndyStef on 23/08/16.\r\n     */\r\n    public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    }\r\n\r\nThe database name, host, and credentials are in the application.properties file:\r\n\r\n    spring.data.mongodb.host=192.168.1.90\r\n    spring.data.mongodb.database=people\r\n    spring.data.mongodb.username=user\r\n    spring.data.mongodb.password=password\r\n    #spring.data.mongodb.uri=mongodb://192.168.1.90/people\r\n\r\nImportant is to not mix the uri with database and username. If you use uri, it needs to include the username and password, like this:\r\n\r\n    spring.data.mongodb.uri=mongodb://user:password@192.168.1.90/people\r\n\r\nTo test this, I used a simple Spring command line runner:\r\n\r\n    package net.IndyStef;\r\n    \r\n    import net.IndyStef.model.Person;\r\n    import net.IndyStef.repository.PersonRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import java.util.List;\r\n    \r\n    @SpringBootApplication\r\n    public class MongoDbTestApplication implements CommandLineRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MongoDbTestApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tprivate PersonRepository repository;\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n    \r\n            repository.save(new Person(&quot;peter.pan&quot;, &quot;Peter Pan&quot;, 865));\r\n    \r\n            List&lt;Person&gt; people = repository.findAll();\r\n    \r\n            for (Person person: people) {\r\n                System.out.println(person);\r\n            }\r\n        }\r\n    }\r\n\r\nI hope this explanation helps others that couldn&#39;t figure it out, like myself for a couple of days.\r\n\r\nThanks,\r\n\r\nStefan\r\n","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>I found the problem. For completeness of this thread, I'll share the answer, including the code. \nThe issue was that I used the application property spring.data.mongodb.uri wrong: it did not have the username and password in the URI, because I mistakenly believed that spring.data.mongodb.username and spring.data.mongodb.password covered that. So, either use the uri with username and password, or use the host and database (and maybe also port) spring properties explicitly.\nHere is the code. It will work in the spring boot app with mongoDB support (use initializr or IntelliJ to create that project).\nI have a model:</p>\n\n<pre><code>package net.IndyStef.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = \"person\")\npublic class Person {\n\n@Id\nprivate String id;\n\nprivate String name;\nprivate Integer age;\n\npublic Person() {\n}\n\npublic Person(String id) {\n    this.id = id;\n}\n\npublic Person(String id, String name, Integer age) {\n    this.id = id;\n    this.name = name;\n    this.age = age;\n}\n\n... getters/setters omitted for breverity ...\n}\n</code></pre>\n\n<p>The data is read and written through a repository:</p>\n\n<pre><code>package net.IndyStef.repository;\n\nimport net.okrongli.model.Person;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\n/**\n * Created by IndyStef on 23/08/16.\n */\npublic interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n}\n</code></pre>\n\n<p>The database name, host, and credentials are in the application.properties file:</p>\n\n<pre><code>spring.data.mongodb.host=192.168.1.90\nspring.data.mongodb.database=people\nspring.data.mongodb.username=user\nspring.data.mongodb.password=password\n#spring.data.mongodb.uri=mongodb://192.168.1.90/people\n</code></pre>\n\n<p>Important is to not mix the uri with database and username. If you use uri, it needs to include the username and password, like this:</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://user:password@192.168.1.90/people\n</code></pre>\n\n<p>To test this, I used a simple Spring command line runner:</p>\n\n<pre><code>package net.IndyStef;\n\nimport net.IndyStef.model.Person;\nimport net.IndyStef.repository.PersonRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.util.List;\n\n@SpringBootApplication\npublic class MongoDbTestApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoDbTestApplication.class, args);\n    }\n\n    @Autowired\n    private PersonRepository repository;\n\n    @Override\n    public void run(String... args) {\n\n        repository.save(new Person(\"peter.pan\", \"Peter Pan\", 865));\n\n        List&lt;Person&gt; people = repository.findAll();\n\n        for (Person person: people) {\n            System.out.println(person);\n        }\n    }\n}\n</code></pre>\n\n<p>I hope this explanation helps others that couldn't figure it out, like myself for a couple of days.</p>\n\n<p>Thanks,</p>\n\n<p>Stefan</p>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1538579568,"creation_date":1538579568,"answer_id":52630280,"question_id":39086471,"body_markdown":"As of Spring Boot 1.5.15, you can add the following line to your `application.properties` file:\r\n\r\n    spring.data.mongodb.uri=mongodb://username:password@localhost:27017/?authSource=admin&amp;authMechanism=SCRAM-SHA-1\r\n    spring.data.mongodb.database=mycollection","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>As of Spring Boot 1.5.15, you can add the following line to your <code>application.properties</code> file:</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://username:password@localhost:27017/?authSource=admin&amp;authMechanism=SCRAM-SHA-1\nspring.data.mongodb.database=mycollection\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16130702,"reputation":111,"user_id":11644458,"display_name":"Sharan Toor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1566398920,"creation_date":1560452434,"answer_id":56587020,"question_id":39086471,"body_markdown":"This is what worked for me at then end:\r\n```\r\nspring.data.mongodb.uri=mongodb://user:password@******.mongodb.net:27017/dbname?ssl=true&amp;authSource=admin&amp;authMechanism=SCRAM-SHA-1\r\n```\r\n\r\nI had to add `ssl=true`, otherwise I was getting error:\r\n&gt;com.mongodb.MongoSocketReadException: Prematurely reached end of stream","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>This is what worked for me at then end:</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://user:password@******.mongodb.net:27017/dbname?ssl=true&amp;authSource=admin&amp;authMechanism=SCRAM-SHA-1\n</code></pre>\n\n<p>I had to add <code>ssl=true</code>, otherwise I was getting error:</p>\n\n<blockquote>\n  <p>com.mongodb.MongoSocketReadException: Prematurely reached end of stream</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9260816,"reputation":47,"user_id":6877970,"display_name":"ridhopratama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669560608,"creation_date":1669560608,"answer_id":74591004,"question_id":39086471,"body_markdown":"In my case, I am using minikube to run spring app with remote mongo db in mongo atlas\r\n\r\nEnd up locating full uri in secret. so no partial concatenating from configMaps &amp; secret.\r\n\r\nFrom\r\n\r\n    spring.data.mongodb.uri=${MONGODB_PREFIX_URL}://${MONGODB_COLLECTION_NAME}:${MONGODB_PASSWORD}@cluster0.kut8aym.mongodb.net/?retryWrites=true&amp;w=majority\r\n\r\nTo become\r\n\r\n    spring.data.mongodb.uri=${MONGODB_URI}\r\n\r\n","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>In my case, I am using minikube to run spring app with remote mongo db in mongo atlas</p>\n<p>End up locating full uri in secret. so no partial concatenating from configMaps &amp; secret.</p>\n<p>From</p>\n<pre><code>spring.data.mongodb.uri=${MONGODB_PREFIX_URL}://${MONGODB_COLLECTION_NAME}:${MONGODB_PASSWORD}@cluster0.kut8aym.mongodb.net/?retryWrites=true&amp;w=majority\n</code></pre>\n<p>To become</p>\n<pre><code>spring.data.mongodb.uri=${MONGODB_URI}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28864754,"reputation":11,"user_id":22107760,"display_name":"antongub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687341236,"creation_date":1687341236,"answer_id":76522021,"question_id":39086471,"body_markdown":"If you&#39;re using a different database for authenticating then consider in Spring Boot 3.1.0 there is currently a bug where the authentication-database Property gets ignored inside the application.properties (See: https://github.com/spring-projects/spring-boot/issues/35632 and https://github.com/spring-projects/spring-boot/issues/35567).  \r\n\r\n\r\n\r\nThe bug will be solved in the next release but for the current release just use the uri property for your application.properties. So a simple example would look like:\r\n`spring.data.mongodb.uri=mongodb://username:password@localhost:27017/defaultdatabase?authSource=admin`\r\n\r\nIf you got some more specific options for the URI, the following is the [Mongo connection URI format](https://www.mongodb.com/docs/manual/reference/connection-string/):\r\n`mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database.collection][?options]]`","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>If you're using a different database for authenticating then consider in Spring Boot 3.1.0 there is currently a bug where the authentication-database Property gets ignored inside the application.properties (See: <a href=\"https://github.com/spring-projects/spring-boot/issues/35632\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35632</a> and <a href=\"https://github.com/spring-projects/spring-boot/issues/35567\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35567</a>).</p>\n<p>The bug will be solved in the next release but for the current release just use the uri property for your application.properties. So a simple example would look like:\n<code>spring.data.mongodb.uri=mongodb://username:password@localhost:27017/defaultdatabase?authSource=admin</code></p>\n<p>If you got some more specific options for the URI, the following is the <a href=\"https://www.mongodb.com/docs/manual/reference/connection-string/\" rel=\"nofollow noreferrer\">Mongo connection URI format</a>:\n<code>mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database.collection][?options]]</code></p>\n"}],"owner":{"account_id":9056575,"reputation":747,"user_id":6744675,"display_name":"IndyStef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44402,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":39097051,"answer_count":5,"score":20,"last_activity_date":1687341236,"creation_date":1471890938,"question_id":39086471,"body_markdown":"I have some trouble connecting to a remote mongodb from a java spring boot application.\r\nThe MongoDB server has no firewall set up, and I can connect to mongo remotely from another machine. I have a database with collections and a user set up.\r\nWhen I try to connect to the database from my java app with the user credentials, I get an exception:\r\n\r\n    com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=null, userName=&#39;sokrates&#39;, source=&#39;homeControl&#39;, password=&lt;hidden&gt;, mechanismProperties={}}\r\n\tat com.mongodb.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:61) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:32) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.InternalStreamConnectionInitializer.authenticateAll(InternalStreamConnectionInitializer.java:99) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:44) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\r\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 18: &#39;Authentication failed.&#39; on server localhost:27017. The full response is { &quot;ok&quot; : 0.0, &quot;code&quot; : 18, &quot;errmsg&quot; : &quot;Authentication failed.&quot; }\r\n\tat com.mongodb.connection.CommandHelper.createCommandFailureException(CommandHelper.java:170) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.CommandHelper.receiveCommandResult(CommandHelper.java:123) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:95) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\tat com.mongodb.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:45) ~[mongodb-driver-core-3.2.2.jar:na]\r\n\t... 6 common frames omitted\r\n\r\nWhen I use the same code to connect to a local MongoDB, with the same setup, database, collections and user, all is OK.\r\n\r\nI had a little trouble with setting an admin user up on the mongo installation. Also, the local mongo runs on OSX, whereas the production mongo (that fails to authenticate) runs on Ubuntu Server 16.04.\r\nI have researched other MongoDB authentication threads for two days now, but none could solve this issue for me. Any help with this is appreciated :-)\r\n\r\nThanks,\r\n\r\nStefan","title":"Authentication error when accessing mongodb through Spring Boot app","body":"<p>I have some trouble connecting to a remote mongodb from a java spring boot application.\nThe MongoDB server has no firewall set up, and I can connect to mongo remotely from another machine. I have a database with collections and a user set up.\nWhen I try to connect to the database from my java app with the user credentials, I get an exception:</p>\n\n<pre><code>com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=null, userName='sokrates', source='homeControl', password=&lt;hidden&gt;, mechanismProperties={}}\nat com.mongodb.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:61) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:32) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.InternalStreamConnectionInitializer.authenticateAll(InternalStreamConnectionInitializer.java:99) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:44) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128) ~[mongodb-driver-core-3.2.2.jar:na]\nat java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\nCaused by: com.mongodb.MongoCommandException: Command failed with error 18: 'Authentication failed.' on server localhost:27017. The full response is { \"ok\" : 0.0, \"code\" : 18, \"errmsg\" : \"Authentication failed.\" }\nat com.mongodb.connection.CommandHelper.createCommandFailureException(CommandHelper.java:170) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.CommandHelper.receiveCommandResult(CommandHelper.java:123) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:95) ~[mongodb-driver-core-3.2.2.jar:na]\nat com.mongodb.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:45) ~[mongodb-driver-core-3.2.2.jar:na]\n... 6 common frames omitted\n</code></pre>\n\n<p>When I use the same code to connect to a local MongoDB, with the same setup, database, collections and user, all is OK.</p>\n\n<p>I had a little trouble with setting an admin user up on the mongo installation. Also, the local mongo runs on OSX, whereas the production mongo (that fails to authenticate) runs on Ubuntu Server 16.04.\nI have researched other MongoDB authentication threads for two days now, but none could solve this issue for me. Any help with this is appreciated :-)</p>\n\n<p>Thanks,</p>\n\n<p>Stefan</p>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687340564,"creation_date":1687340564,"question_id":76521936,"body_markdown":"I&#39;m trying to use Swagger annotations to generate a schema for a Java class that represents a Bhagavad Gita verse. Here&#39;s the class definition:\r\n```java\r\npackage org.projectsanatan.restsanatan.books;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Schema(name = &quot;Bhagavad Gita Verse&quot;, description = &quot;Verse schema for Bhagavad Gita&quot;)\r\npublic class BhagavadGitaVerse {\r\n\r\n\t@SerializedName(value=&quot;chapter_id&quot;)\r\n\t@Schema(name = &quot;chapter_id&quot;, description = &quot;The chapter ID of the verse&quot;)\r\n\tprivate int chapterId;\r\n\r\n\t@SerializedName(value=&quot;verse_number&quot;)\r\n\t@Schema(name = &quot;verse_number&quot;, description = &quot;The verse number&quot;)\r\n\tprivate int verseNumber;\r\n\r\n\t@SerializedName(value=&quot;language&quot;)\r\n\t@Schema(name = &quot;language&quot;, description = &quot;Language of the verse&quot;)\r\n\tprivate String language = &quot;&quot;;\r\n\r\n\t@SerializedName(value=&quot;author&quot;)\r\n\t@Schema(name = &quot;author&quot;, description = &quot;Author of the verse&quot;, nullable = true)\r\n\tprivate String author = &quot;&quot;;\r\n\r\n\t@SerializedName(value=&quot;verse&quot;)\r\n\t@Schema(name = &quot;verse&quot;, description = &quot;The verse text&quot;)\r\n\tprivate String verse = &quot;&quot;;\r\n\r\n\t@SerializedName(value=&quot;transliteration&quot;)\r\n\t@Schema(name = &quot;transliteration&quot;, description = &quot;The transliteration of the verse if available&quot;, nullable = true)\r\n\tprivate String verseTransliteration = &quot;&quot;;\r\n\r\n\t@SerializedName(value=&quot;word_meanings&quot;)\r\n\t@ArraySchema(arraySchema = @Schema(\r\n\t\t\tdescription = &quot;List of word-meaning pairs&quot;,\r\n\t\t\timplementation = WordMeaningPair.class\r\n\t),\r\n\t\t\tschema = @Schema(\r\n\t\t\t\t\tdescription = &quot;A single word-meaning pair&quot;,\r\n\t\t\t\t\timplementation = WordMeaningPair.class\r\n\t\t\t))\r\n\tprivate List&lt;WordMeaningPair&gt; wordMeanings = new ArrayList&lt;&gt;();\r\n\r\n\tpublic BhagavadGitaVerse(int chapterId, int verseNumber) {\r\n\t\tthis.setChapterId(chapterId);\r\n\t\tthis.setVerseNumber(verseNumber);\r\n\t}\r\n\r\n\tpublic int getChapterId() {\r\n\t\treturn chapterId;\r\n\t}\r\n\r\n\tpublic void setChapterId(int chapterId) {\r\n\t\tthis.chapterId = chapterId;\r\n\t}\r\n\r\n\tpublic int getVerseNumber() {\r\n\t\treturn verseNumber;\r\n\t}\r\n\r\n\tpublic void setVerseNumber(int verseNumber) {\r\n\t\tthis.verseNumber = verseNumber;\r\n\t}\r\n\r\n\tpublic String getLanguage() {\r\n\t\treturn language;\r\n\t}\r\n\r\n\tpublic void setLanguage(String language) {\r\n\t\tthis.language = language;\r\n\t}\r\n\r\n\tpublic String getAuthor() {\r\n\t\treturn author;\r\n\t}\r\n\r\n\tpublic void setAuthor(String author) {\r\n\t\tthis.author = author;\r\n\t}\r\n\r\n\tpublic String getVerse() {\r\n\t\treturn verse;\r\n\t}\r\n\r\n\tpublic void setVerse(String verse) {\r\n\t\tthis.verse = verse;\r\n\t}\r\n\r\n\tpublic String getVerseTransliteration() {\r\n\t\treturn verseTransliteration;\r\n\t}\r\n\r\n\tpublic void setVerseTransliteration(String verseTransliteration) {\r\n\t\tthis.verseTransliteration = verseTransliteration;\r\n\t}\r\n\r\n\tpublic List&lt;WordMeaningPair&gt; getWordMeanings() {\r\n\t\treturn wordMeanings;\r\n\t}\r\n\r\n\tpublic void setWordMeanings(List&lt;WordMeaningPair&gt; wordMeanings) {\r\n\t\tthis.wordMeanings = wordMeanings;\r\n\t}\r\n\r\n\tpublic void addWordMeaning(String key, String value) {\r\n\t\tthis.wordMeanings.add(new WordMeaningPair(key, value));\r\n\t}\r\n\r\n\tpublic void addWordMeaning(WordMeaningPair wm) {\r\n\t\tthis.wordMeanings.add(wm);\r\n\t}\r\n\r\n\tpublic void removeWordMeaning(WordMeaningPair wm) {\r\n\t\tthis.wordMeanings.remove(wm);\r\n\t}\r\n\r\n\tprivate static class WordMeaningPair {\r\n\r\n\t\t@SerializedName(value=&quot;word&quot;)\r\n\t\t@Schema(description = &quot;The word&quot;)\r\n\t\tprivate String word;\r\n\r\n\t\t@SerializedName(value=&quot;meaning&quot;)\r\n\t\t@Schema(description = &quot;The meaning&quot;)\r\n\t\tprivate String meaning;\r\n\r\n\t\tpublic WordMeaningPair() {\r\n\r\n\t\t}\r\n\r\n\t\tpublic WordMeaningPair(String word, String meaning) {\r\n\t\t\tthis.setWord(word);\r\n\t\t\tthis.setMeaning(meaning);\r\n\t\t}\r\n\r\n\t\tpublic String getWord() {\r\n\t\t\treturn word;\r\n\t\t}\r\n\r\n\t\tpublic void setWord(String word) {\r\n\t\t\tthis.word = word;\r\n\t\t}\r\n\r\n\t\tpublic String getMeaning() {\r\n\t\t\treturn meaning;\r\n\t\t}\r\n\r\n\t\tpublic void setMeaning(String meaning) {\r\n\t\t\tthis.meaning = meaning;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAs you can see, the class has properties that correspond to the fields in a Bhagavad Gita verse, including a list of WordMeaningPair objects that represent the meanings of the words in the verse.\r\n\r\nI want to use Swagger annotations to generate a schema for this class, but I&#39;m having a problem with the wordMeanings property. When I run the Swagger code generation tool, it creates a separate schema component for WordMeaningPair, instead of including it as a property inside the BhagavadGitaVerse schema. Here&#39;s the generated YAML:\r\n```yaml\r\n    Bhagavad Gita Verse:\r\n      type: object\r\n      properties:\r\n        chapter_id:\r\n          type: integer\r\n          description: The chapter ID of the verse\r\n          format: int32\r\n        verse_number:\r\n          type: integer\r\n          description: The verse number\r\n          format: int32\r\n        language:\r\n          type: string\r\n          description: Language of the verse\r\n        author:\r\n          type: string\r\n          description: Author of the verse\r\n          nullable: true\r\n        verse:\r\n          type: string\r\n          description: The verse text\r\n        transliteration:\r\n          type: string\r\n          description: The transliteration of the verse if available\r\n          nullable: true\r\n        wordMeanings:\r\n          type: array\r\n          description: List of word-meaning pairs\r\n          items:\r\n            $ref: &#39;#/components/schemas/WordMeaningPair&#39;\r\n      description: Verse schema for Bhagavad Gita\r\n    WordMeaningPair:\r\n      type: object\r\n      properties:\r\n        word:\r\n          type: string\r\n          description: The word\r\n        meaning:\r\n          type: string\r\n          description: The meaning\r\n      description: A single word-meaning pair\r\n```\r\nAs you can see, the generated YAML has a definition for a schema just for having it in one schema reference. I want it in the single BhagavadGitaVerse schema because its going to be used in only in that component. My generated YAML should look something like this:\r\n```yaml\r\n    BgVerse:\r\n      type: object\r\n      properties:\r\n        chapter_id:\r\n          type: integer\r\n        verse_number:\r\n          type: integer\r\n        language:\r\n          type: string\r\n        verse:\r\n          type: string\r\n        transliteration:\r\n          type: string\r\n        word_meanings:\r\n          type: array\r\n          items:\r\n            type: object\r\n            properties:\r\n              word:\r\n                type: string\r\n              meaning:\r\n                type: string\r\n```\r\n\r\nI have tried changing a lot of the annotations and looked up the docs and other sources as well, but couldn&#39;t find anything relevant.","title":"Swagger failure to generate nested schema by automatic generation","body":"<p>I'm trying to use Swagger annotations to generate a schema for a Java class that represents a Bhagavad Gita verse. Here's the class definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.projectsanatan.restsanatan.books;\n\nimport com.google.gson.annotations.SerializedName;\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Schema(name = &quot;Bhagavad Gita Verse&quot;, description = &quot;Verse schema for Bhagavad Gita&quot;)\npublic class BhagavadGitaVerse {\n\n    @SerializedName(value=&quot;chapter_id&quot;)\n    @Schema(name = &quot;chapter_id&quot;, description = &quot;The chapter ID of the verse&quot;)\n    private int chapterId;\n\n    @SerializedName(value=&quot;verse_number&quot;)\n    @Schema(name = &quot;verse_number&quot;, description = &quot;The verse number&quot;)\n    private int verseNumber;\n\n    @SerializedName(value=&quot;language&quot;)\n    @Schema(name = &quot;language&quot;, description = &quot;Language of the verse&quot;)\n    private String language = &quot;&quot;;\n\n    @SerializedName(value=&quot;author&quot;)\n    @Schema(name = &quot;author&quot;, description = &quot;Author of the verse&quot;, nullable = true)\n    private String author = &quot;&quot;;\n\n    @SerializedName(value=&quot;verse&quot;)\n    @Schema(name = &quot;verse&quot;, description = &quot;The verse text&quot;)\n    private String verse = &quot;&quot;;\n\n    @SerializedName(value=&quot;transliteration&quot;)\n    @Schema(name = &quot;transliteration&quot;, description = &quot;The transliteration of the verse if available&quot;, nullable = true)\n    private String verseTransliteration = &quot;&quot;;\n\n    @SerializedName(value=&quot;word_meanings&quot;)\n    @ArraySchema(arraySchema = @Schema(\n            description = &quot;List of word-meaning pairs&quot;,\n            implementation = WordMeaningPair.class\n    ),\n            schema = @Schema(\n                    description = &quot;A single word-meaning pair&quot;,\n                    implementation = WordMeaningPair.class\n            ))\n    private List&lt;WordMeaningPair&gt; wordMeanings = new ArrayList&lt;&gt;();\n\n    public BhagavadGitaVerse(int chapterId, int verseNumber) {\n        this.setChapterId(chapterId);\n        this.setVerseNumber(verseNumber);\n    }\n\n    public int getChapterId() {\n        return chapterId;\n    }\n\n    public void setChapterId(int chapterId) {\n        this.chapterId = chapterId;\n    }\n\n    public int getVerseNumber() {\n        return verseNumber;\n    }\n\n    public void setVerseNumber(int verseNumber) {\n        this.verseNumber = verseNumber;\n    }\n\n    public String getLanguage() {\n        return language;\n    }\n\n    public void setLanguage(String language) {\n        this.language = language;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getVerse() {\n        return verse;\n    }\n\n    public void setVerse(String verse) {\n        this.verse = verse;\n    }\n\n    public String getVerseTransliteration() {\n        return verseTransliteration;\n    }\n\n    public void setVerseTransliteration(String verseTransliteration) {\n        this.verseTransliteration = verseTransliteration;\n    }\n\n    public List&lt;WordMeaningPair&gt; getWordMeanings() {\n        return wordMeanings;\n    }\n\n    public void setWordMeanings(List&lt;WordMeaningPair&gt; wordMeanings) {\n        this.wordMeanings = wordMeanings;\n    }\n\n    public void addWordMeaning(String key, String value) {\n        this.wordMeanings.add(new WordMeaningPair(key, value));\n    }\n\n    public void addWordMeaning(WordMeaningPair wm) {\n        this.wordMeanings.add(wm);\n    }\n\n    public void removeWordMeaning(WordMeaningPair wm) {\n        this.wordMeanings.remove(wm);\n    }\n\n    private static class WordMeaningPair {\n\n        @SerializedName(value=&quot;word&quot;)\n        @Schema(description = &quot;The word&quot;)\n        private String word;\n\n        @SerializedName(value=&quot;meaning&quot;)\n        @Schema(description = &quot;The meaning&quot;)\n        private String meaning;\n\n        public WordMeaningPair() {\n\n        }\n\n        public WordMeaningPair(String word, String meaning) {\n            this.setWord(word);\n            this.setMeaning(meaning);\n        }\n\n        public String getWord() {\n            return word;\n        }\n\n        public void setWord(String word) {\n            this.word = word;\n        }\n\n        public String getMeaning() {\n            return meaning;\n        }\n\n        public void setMeaning(String meaning) {\n            this.meaning = meaning;\n        }\n    }\n}\n</code></pre>\n<p>As you can see, the class has properties that correspond to the fields in a Bhagavad Gita verse, including a list of WordMeaningPair objects that represent the meanings of the words in the verse.</p>\n<p>I want to use Swagger annotations to generate a schema for this class, but I'm having a problem with the wordMeanings property. When I run the Swagger code generation tool, it creates a separate schema component for WordMeaningPair, instead of including it as a property inside the BhagavadGitaVerse schema. Here's the generated YAML:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    Bhagavad Gita Verse:\n      type: object\n      properties:\n        chapter_id:\n          type: integer\n          description: The chapter ID of the verse\n          format: int32\n        verse_number:\n          type: integer\n          description: The verse number\n          format: int32\n        language:\n          type: string\n          description: Language of the verse\n        author:\n          type: string\n          description: Author of the verse\n          nullable: true\n        verse:\n          type: string\n          description: The verse text\n        transliteration:\n          type: string\n          description: The transliteration of the verse if available\n          nullable: true\n        wordMeanings:\n          type: array\n          description: List of word-meaning pairs\n          items:\n            $ref: '#/components/schemas/WordMeaningPair'\n      description: Verse schema for Bhagavad Gita\n    WordMeaningPair:\n      type: object\n      properties:\n        word:\n          type: string\n          description: The word\n        meaning:\n          type: string\n          description: The meaning\n      description: A single word-meaning pair\n</code></pre>\n<p>As you can see, the generated YAML has a definition for a schema just for having it in one schema reference. I want it in the single BhagavadGitaVerse schema because its going to be used in only in that component. My generated YAML should look something like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    BgVerse:\n      type: object\n      properties:\n        chapter_id:\n          type: integer\n        verse_number:\n          type: integer\n        language:\n          type: string\n        verse:\n          type: string\n        transliteration:\n          type: string\n        word_meanings:\n          type: array\n          items:\n            type: object\n            properties:\n              word:\n                type: string\n              meaning:\n                type: string\n</code></pre>\n<p>I have tried changing a lot of the annotations and looked up the docs and other sources as well, but couldn't find anything relevant.</p>\n"},{"tags":["java","backoffice","hybris-data-hub"],"owner":{"account_id":13648022,"reputation":45,"user_id":9846632,"display_name":"VIJAYAKUMAR MAJJAGI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687339822,"creation_date":1687239218,"question_id":76511647,"body_markdown":"No error message is returned when saving more characters than the max length on the text filed for the classification attributes in Backoffice. How to do validation for classification attribute in Hybris ?","title":"How to validate the classification attributes in Hybris?","body":"<p>No error message is returned when saving more characters than the max length on the text filed for the classification attributes in Backoffice. How to do validation for classification attribute in Hybris ?</p>\n"},{"tags":["java","spring-boot","jdbctemplate"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1687328561,"post_id":76520413,"comment_id":134919348,"body_markdown":"Does this answer your question? [Can I set a JDBC timeout for a single query?](https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query\">Can I set a JDBC timeout for a single query?</a>"},{"owner":{"account_id":5138913,"reputation":83,"user_id":4116874,"accept_rate":89,"display_name":"TweaknFreak"},"score":0,"creation_date":1687339811,"post_id":76520413,"comment_id":134921832,"body_markdown":"That doesnt solve my issue @birca123 since I also need a RowMapper if the query execution goes through","body":"That doesnt solve my issue @birca123 since I also need a RowMapper if the query execution goes through"}],"owner":{"account_id":5138913,"reputation":83,"user_id":4116874,"accept_rate":89,"display_name":"TweaknFreak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687339757,"creation_date":1687327794,"question_id":76520413,"body_markdown":"So the scenario is I want to rollback if a particular query if it crosses a particular time threshold using JDBCTemplate in Spring boot. However I dont want to use the timeout function from JDBC class since it&#39;ll be reflected project wide for all db transactions. Also if the query does get executed a RowMapper needs to be invoked to map the ResultSet to an object. So is it possible to only enable it for a query? Most answers are using PreparedStatement but does that support RowMapper?","title":"Specify a query timeout for only a single query JDBCTemplate","body":"<p>So the scenario is I want to rollback if a particular query if it crosses a particular time threshold using JDBCTemplate in Spring boot. However I dont want to use the timeout function from JDBC class since it'll be reflected project wide for all db transactions. Also if the query does get executed a RowMapper needs to be invoked to map the ResultSet to an object. So is it possible to only enable it for a query? Most answers are using PreparedStatement but does that support RowMapper?</p>\n"},{"tags":["java","database","oracle","sys"],"comments":[{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":3,"creation_date":1334128758,"post_id":10101517,"comment_id":12940303,"body_markdown":"Please show the code which you use to connect.","body":"Please show the code which you use to connect."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1470890159,"post_id":10101517,"comment_id":65135203,"body_markdown":"When you say &quot;in java&quot;, do you mean &quot;via JDBC&quot;?","body":"When you say &quot;in java&quot;, do you mean &quot;via JDBC&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1181272,"reputation":11208,"user_id":1544250,"accept_rate":82,"display_name":"Korhan Ozturk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1334129890,"creation_date":1334129383,"answer_id":10101657,"question_id":10101517,"body_markdown":"If you have attempted to connect to the database like this: `connect SYS/&lt;password&gt;` you have used a syntax that is no longer valid (After Oracle 9i). \r\n\r\nInstead try to connect as the following: \r\n      \r\n    connect SYS/&lt;password&gt; as SYSDBA or connect SYS/&lt;password&gt; as SYSOPER","title":"How to connect in java as SYS to Oracle?","body":"<p>If you have attempted to connect to the database like this: <code>connect SYS/&lt;password&gt;</code> you have used a syntax that is no longer valid (After Oracle 9i). </p>\n\n<p>Instead try to connect as the following: </p>\n\n<pre><code>connect SYS/&lt;password&gt; as SYSDBA or connect SYS/&lt;password&gt; as SYSOPER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1383653,"reputation":491,"user_id":1316139,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1334166994,"creation_date":1334166994,"answer_id":10111354,"question_id":10101517,"body_markdown":"This code works \r\n\r\n    String driverName = &quot;oracle.jdbc.driver.OracleDriver&quot;;\r\n    Class.forName(driverName).newInstance();\r\n    String nameForConnect = &quot;sys as sysdba&quot;;\r\n    String pass = &quot;password&quot;;\r\n    String url = &quot;jdbc:oracle:thin:@192.168.0.1:1521:ORCL&quot;;\r\n    Connection conn = DriverManager.getConnection(url, nameForConnect, pass);","title":"How to connect in java as SYS to Oracle?","body":"<p>This code works </p>\n\n<pre><code>String driverName = \"oracle.jdbc.driver.OracleDriver\";\nClass.forName(driverName).newInstance();\nString nameForConnect = \"sys as sysdba\";\nString pass = \"password\";\nString url = \"jdbc:oracle:thin:@192.168.0.1:1521:ORCL\";\nConnection conn = DriverManager.getConnection(url, nameForConnect, pass);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284035,"reputation":796,"user_id":1237482,"accept_rate":56,"display_name":"simplycurious"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1334167460,"creation_date":1334167460,"answer_id":10111464,"question_id":10101517,"body_markdown":"try this :\r\n\r\n    import java.sql as jsql\r\n    import java.lang as lang\r\n    driver, url, user, passwd = (\r\n    &quot;oracle.jdbc.driver.OracleDriver&quot;,\r\n    &quot;jdbc:oracle:thin:@localhost:1234:xxx1&quot;,\r\n    &quot;sys as sysdba&quot;,\r\n    &quot;xxx1&quot;)\r\n     lang.Class.forName(driver)\r\n     c = jsql.DriverManager.getConnection(url,user,passwd)","title":"How to connect in java as SYS to Oracle?","body":"<p>try this :</p>\n\n<pre><code>import java.sql as jsql\nimport java.lang as lang\ndriver, url, user, passwd = (\n\"oracle.jdbc.driver.OracleDriver\",\n\"jdbc:oracle:thin:@localhost:1234:xxx1\",\n\"sys as sysdba\",\n\"xxx1\")\n lang.Class.forName(driver)\n c = jsql.DriverManager.getConnection(url,user,passwd)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213964,"reputation":1041,"user_id":467648,"display_name":"lkdg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363821675,"creation_date":1334229412,"answer_id":10122467,"question_id":10101517,"body_markdown":"Are you able to use an OracleDataSource Object?\r\n\r\n\r\n    public class Database {    \r\n        static OracleDataSource ods;    \r\n        public static Connection openConnection(String URL, String user, String password,     String option) throws SQLException\r\n    \t{\r\n    \t\t\tConnection conn = null;\r\n    \t\t\tProperties properties = new Properties();\r\n    \t\t\tproperties.put(&quot;user&quot;, user);\r\n    \t\t\tproperties.put(&quot;password&quot;, password);\r\n    \t\t\t\r\n    \t\t\tods = new OracleDataSource();\r\n    \t\t\tods.setURL(URL);\r\n    \t\t    \r\n    \t\t\tif(option != null)\r\n    \t\t    {\r\n    \t\t    \tproperties.put(&quot;internal_logon&quot;, option);\r\n    \t\t    }\r\n    \t\t\t\r\n    \t\t\tods.setConnectionProperties(properties);\r\n    \t        conn = ods.getConnection();\r\n    \t\t   \r\n    \t\t    return conn;\r\n    \t}\r\n    }\r\n\r\nAnd call it like this:\r\n\r\n    Connection con = null;    \r\n    con = Database.openConnection(&quot;YourJDBCConnectionURL&quot;, &quot;YourSYSUser&quot;, &quot;YourSYSPassword&quot;, &quot;sysdba&quot;);\r\n","title":"How to connect in java as SYS to Oracle?","body":"<p>Are you able to use an OracleDataSource Object?</p>\n\n<pre><code>public class Database {    \n    static OracleDataSource ods;    \n    public static Connection openConnection(String URL, String user, String password,     String option) throws SQLException\n    {\n            Connection conn = null;\n            Properties properties = new Properties();\n            properties.put(\"user\", user);\n            properties.put(\"password\", password);\n\n            ods = new OracleDataSource();\n            ods.setURL(URL);\n\n            if(option != null)\n            {\n                properties.put(\"internal_logon\", option);\n            }\n\n            ods.setConnectionProperties(properties);\n            conn = ods.getConnection();\n\n            return conn;\n    }\n}\n</code></pre>\n\n<p>And call it like this:</p>\n\n<pre><code>Connection con = null;    \ncon = Database.openConnection(\"YourJDBCConnectionURL\", \"YourSYSUser\", \"YourSYSPassword\", \"sysdba\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1441052,"reputation":944,"user_id":1642148,"accept_rate":71,"display_name":"RahulArackal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1575194070,"creation_date":1386222638,"answer_id":20392447,"question_id":10101517,"body_markdown":"Answers already there,\r\n\r\nyou are trying to connect as `sys` but the Server allows \r\n\r\neither\r\n\r\n    sys as sysdba\r\n\r\nor\r\n\r\n    sys as sysoper\r\n\r\n\r\njust change user parameter as either one from above\r\n\r\n    user=&#39;sys as sysdba&#39;\r\n\r\nor \r\n\r\n    user=&#39;sys as sysoper&#39;\r\n\r\n","title":"How to connect in java as SYS to Oracle?","body":"<p>Answers already there,</p>\n\n<p>you are trying to connect as <code>sys</code> but the Server allows </p>\n\n<p>either</p>\n\n<pre><code>sys as sysdba\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sys as sysoper\n</code></pre>\n\n<p>just change user parameter as either one from above</p>\n\n<pre><code>user='sys as sysdba'\n</code></pre>\n\n<p>or </p>\n\n<pre><code>user='sys as sysoper'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7042038,"reputation":387,"user_id":5394210,"display_name":"Ravibhushan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497092096,"creation_date":1497092096,"answer_id":44472501,"question_id":10101517,"body_markdown":"If you want to connect your database with user other than &quot;sys&quot; as &quot;sysdba&quot; then you have to change the driver from &quot;thin&quot; to &quot;oci&quot; to make the successful connection.\r\n\r\n    try {\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\tString DB_URL=&quot;jdbc:oracle:oci:@localhost:1521:orcl&quot;;\r\n\t\t\tOracleDataSource ds1=new OracleDataSource();\r\n\t\t    Properties prop1 = new Properties();\r\n\t\t    prop1.setProperty(&quot;user&quot;,&quot;ravi&quot;);\r\n\t\t    prop1.setProperty(&quot;password&quot;,&quot;******&quot;);\r\n\t\t    prop1.setProperty(&quot;internal_logon&quot;,&quot;sysdba&quot;);\r\n\t\t    ds1.setConnectionProperties(prop1);\r\n\t\t    ds1.setURL(DB_URL);\r\n\t\t    OracleConnection conn1 = (OracleConnection)ds1.getConnection();\r\n\t\t    Statement stmt = conn1.createStatement();\r\n\t\t\tResultSet rs = stmt.executeQuery(&quot;select * from dba_users&quot;);\r\n\t\t\twhile (rs.next())\r\n\t\t\t\tSystem.out.println(rs.getString(1));\r\n\t\t\tconn1.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n","title":"How to connect in java as SYS to Oracle?","body":"<p>If you want to connect your database with user other than \"sys\" as \"sysdba\" then you have to change the driver from \"thin\" to \"oci\" to make the successful connection.</p>\n\n<pre><code>try {\n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n        String DB_URL=\"jdbc:oracle:oci:@localhost:1521:orcl\";\n        OracleDataSource ds1=new OracleDataSource();\n        Properties prop1 = new Properties();\n        prop1.setProperty(\"user\",\"ravi\");\n        prop1.setProperty(\"password\",\"******\");\n        prop1.setProperty(\"internal_logon\",\"sysdba\");\n        ds1.setConnectionProperties(prop1);\n        ds1.setURL(DB_URL);\n        OracleConnection conn1 = (OracleConnection)ds1.getConnection();\n        Statement stmt = conn1.createStatement();\n        ResultSet rs = stmt.executeQuery(\"select * from dba_users\");\n        while (rs.next())\n            System.out.println(rs.getString(1));\n        conn1.close();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017917,"reputation":670,"user_id":4032261,"accept_rate":100,"display_name":"Neha Gangwar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515674188,"creation_date":1515674188,"answer_id":48207262,"question_id":10101517,"body_markdown":"You need to put sysdba with user String parameter like\r\n\r\n    String user=&quot;sys as sysdba&quot;","title":"How to connect in java as SYS to Oracle?","body":"<p>You need to put sysdba with user String parameter like</p>\n\n<pre><code>String user=\"sys as sysdba\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17363545,"reputation":21,"user_id":12579252,"display_name":"user12579252"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606170552,"creation_date":1606170552,"answer_id":64977503,"question_id":10101517,"body_markdown":"            /*It works for me*/\r\n            /*also oci and thin is important if you want to connect with database which is installed in your clien (Computer) add oci if you want to install to server add thin*/\r\n\r\n            String dbURL2 = &quot;jdbc:oracle:oci:@172.16.24.123:1521:XE&quot;;\r\n            String username = &quot;sys as sysdba&quot;;\r\n            String password = &quot;XX Change it to your system password&quot;;\r\n            \r\n            try {\r\n            Connection connection = DriverManager.getConnection(dbURL2, username, password);\r\n                System.out.println(&quot;Connected to Oracle data&quot;);\r\n            \r\n        } catch (SQLException e) {\r\n                System.out.println(&quot;Opps ! error&quot;);\r\n                e.printStackTrace();\r\n            \r\n        }","title":"How to connect in java as SYS to Oracle?","body":"<pre><code>        /*It works for me*/\n        /*also oci and thin is important if you want to connect with database which is installed in your clien (Computer) add oci if you want to install to server add thin*/\n\n        String dbURL2 = &quot;jdbc:oracle:oci:@172.16.24.123:1521:XE&quot;;\n        String username = &quot;sys as sysdba&quot;;\n        String password = &quot;XX Change it to your system password&quot;;\n        \n        try {\n        Connection connection = DriverManager.getConnection(dbURL2, username, password);\n            System.out.println(&quot;Connected to Oracle data&quot;);\n        \n    } catch (SQLException e) {\n            System.out.println(&quot;Opps ! error&quot;);\n            e.printStackTrace();\n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607463500,"creation_date":1607463500,"answer_id":65207290,"question_id":10101517,"body_markdown":"My two cents as I ran into the same exception. Following did the trick for me:\r\n\r\n \r\n\r\n               try (Connection conn = DriverManager.getConnection(\r\n                    &quot;jdbc:oracle:thin:@myserverip:1521:XE&quot;, &quot;sys as sysdba&quot;, &quot;Hello123&quot;)) {   \r\n               // this worked too - &quot;jdbc:oracle:thin:@myserverip:1521:XE&quot;, &quot;system&quot;\r\n                  if (conn != null) {\r\n                      System.out.println(&quot;Connected to the database!&quot;);\r\n                  } else {\r\n                    System.out.println(&quot;Failed to make connection!&quot;);\r\n                  }\r\n     \r\n                } catch (SQLException e) {\r\n                  System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n                } catch (Exception e) {\r\n                e.printStackTrace();\r\n               }","title":"How to connect in java as SYS to Oracle?","body":"<p>My two cents as I ran into the same exception. Following did the trick for me:</p>\n<pre><code>           try (Connection conn = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@myserverip:1521:XE&quot;, &quot;sys as sysdba&quot;, &quot;Hello123&quot;)) {   \n           // this worked too - &quot;jdbc:oracle:thin:@myserverip:1521:XE&quot;, &quot;system&quot;\n              if (conn != null) {\n                  System.out.println(&quot;Connected to the database!&quot;);\n              } else {\n                System.out.println(&quot;Failed to make connection!&quot;);\n              }\n \n            } catch (SQLException e) {\n              System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n            } catch (Exception e) {\n            e.printStackTrace();\n           }\n</code></pre>\n"}],"owner":{"account_id":365724,"reputation":23428,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45567,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":10111464,"answer_count":9,"score":32,"last_activity_date":1687339067,"creation_date":1334128546,"question_id":10101517,"body_markdown":"I receive this error:\r\n\r\n    java.sql.SQLException: ORA-28009: connection as SYS should be as SYSDBA or SYSOPER\r\n\r\nHow to fix? (I need to be `SYS`).\r\nThanks.","title":"How to connect in java as SYS to Oracle?","body":"<p>I receive this error:</p>\n\n<pre><code>java.sql.SQLException: ORA-28009: connection as SYS should be as SYSDBA or SYSOPER\n</code></pre>\n\n<p>How to fix? (I need to be <code>SYS</code>).\nThanks.</p>\n"},{"tags":["java","html","selenium-webdriver","xpath"],"owner":{"account_id":3458139,"reputation":396,"user_id":3312628,"accept_rate":77,"display_name":"Leder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687339059,"creation_date":1687339059,"question_id":76521730,"body_markdown":"This is my solved question on Selenium click Element in desktop view:\r\n[stackoverflow question][1]\r\n\r\nIn mobile view I tried the same ```iframe``` switch, now commented out, in order to ```.click()``` selenium element:\r\n\r\n```\r\n\r\n       // utilities.desktop.Driver.getDriver().switchTo().defaultContent(); // you are now outside both frames\r\n        // utilities.desktop.Driver.getDriver().switchTo().frame(zahlungPage.oneKlarna_fixedsum_best&#228;tigung_frameElement);\r\n\r\n        // Thread.sleep(2000);\r\n\r\n        wait.until(ExpectedConditions.visibilityOf(zahlungPage.oneKlarna_ratenkauf_6));\r\n        zahlungPage.oneKlarna_ratenkauf_6.click();\r\n\r\n```\r\n\r\nThis Element does not appear in Selenium:\r\n\r\n```\r\n    @FindBy(xpath = &quot;//input[@value=&#39;fixedsumcredit_kp&#39;]&quot;)\r\n    public WebElement oneKlarna_ratenkauf_6;\r\n\r\n```\r\n\r\npresent in HTML as follows:\r\n\r\n```\r\n&lt;input id=&quot;-0198e3aa-d2b1-46ce-bdf0-192e60662cd3-fixedsumcredit_kp&quot; type=&quot;radio&quot; name=&quot;-0198e3aa-d2b1-46ce-bdf0-192e60662cd3&quot; value=&quot;fixedsumcredit_kp&quot; style=&quot;height: 100%; opacity: 0; position: absolute; width: 100%; top: 0px; left: 0px; z-index: 1; cursor: pointer; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);&quot;&gt;\r\n```\r\n\r\nerror in console is this:\r\n\r\n```\r\n      org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of Proxy element for: DefaultElementLocator &#39;By.xpath: //input[@value=&#39;fixedsumcredit_kp&#39;]&#39; (tried for 10 second(s) with 2000 milliseconds interval)\r\n\r\n```\r\n\r\n\r\nAnybody an idea what to try next in mobile view of the webshop in order to click the element similar to the click in desktop view?\r\n\r\n  [1]: https://stackoverflow.com/questions/76490487/html-element-not-clickable-via-java-selenium-jsexecutor/76512397#76512397","title":"Selenium java clicks on the desktop view inside of ```iframe``` Element... mobile view doesn&#39;t","body":"<p>This is my solved question on Selenium click Element in desktop view:\n<a href=\"https://stackoverflow.com/questions/76490487/html-element-not-clickable-via-java-selenium-jsexecutor/76512397#76512397\">stackoverflow question</a></p>\n<p>In mobile view I tried the same <code>iframe</code> switch, now commented out, in order to <code>.click()</code> selenium element:</p>\n<pre><code>\n       // utilities.desktop.Driver.getDriver().switchTo().defaultContent(); // you are now outside both frames\n        // utilities.desktop.Driver.getDriver().switchTo().frame(zahlungPage.oneKlarna_fixedsum_bestätigung_frameElement);\n\n        // Thread.sleep(2000);\n\n        wait.until(ExpectedConditions.visibilityOf(zahlungPage.oneKlarna_ratenkauf_6));\n        zahlungPage.oneKlarna_ratenkauf_6.click();\n\n</code></pre>\n<p>This Element does not appear in Selenium:</p>\n<pre><code>    @FindBy(xpath = &quot;//input[@value='fixedsumcredit_kp']&quot;)\n    public WebElement oneKlarna_ratenkauf_6;\n\n</code></pre>\n<p>present in HTML as follows:</p>\n<pre><code>&lt;input id=&quot;-0198e3aa-d2b1-46ce-bdf0-192e60662cd3-fixedsumcredit_kp&quot; type=&quot;radio&quot; name=&quot;-0198e3aa-d2b1-46ce-bdf0-192e60662cd3&quot; value=&quot;fixedsumcredit_kp&quot; style=&quot;height: 100%; opacity: 0; position: absolute; width: 100%; top: 0px; left: 0px; z-index: 1; cursor: pointer; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);&quot;&gt;\n</code></pre>\n<p>error in console is this:</p>\n<pre><code>      org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of Proxy element for: DefaultElementLocator 'By.xpath: //input[@value='fixedsumcredit_kp']' (tried for 10 second(s) with 2000 milliseconds interval)\n\n</code></pre>\n<p>Anybody an idea what to try next in mobile view of the webshop in order to click the element similar to the click in desktop view?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687267012,"creation_date":1687265244,"answer_id":76514872,"question_id":76514748,"body_markdown":"Looking at your logs you seem to be using Selenium Grid functionality, did you read the documentation yet? Are you taking their recommendations into account with your design? As this might be a CPU limitation as opposed to a memory limitation.\r\n\r\n&gt; By default, the maximum amount of concurrent sessions a Node supports\r\n&gt; is limited by the number of CPUs available. For example, if the Node\r\n&gt; machine has 8CPUs, it can run up to 8 concurrent browser sessions\r\n&gt; (with the exception of Safari, which is always one). Additionally, it\r\n&gt; is expected that each browser session should use around 1GB RAM.\r\n&gt; \r\n&gt; Note that the default values (1CPU/1GB RAM per browser) are a\r\n&gt; recommendation and they could not apply to your context. It is\r\n&gt; recommended to use them as a reference, but measuring performance\r\n&gt; continuously will help to determine the ideal values for your\r\n&gt; environment.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/grid/getting_started/#grid-sizes\r\n\r\nTaking the above documentation into account when you state:\r\n\r\n&gt; We can get up to 32 sessions, but as soon as we try to increase the\r\n&gt; session count further, all sessions start becoming janky\r\n\r\nAnd taking your CPU information provided:\r\n\r\n&gt; running on a 32-Core Ryzen™ 9\r\n\r\nThings seem to be clearing up.","title":"Selenium: Chrome starts crashing and unable to create session when more than 32 sessions are active at the same time","body":"<p>Looking at your logs you seem to be using Selenium Grid functionality, did you read the documentation yet? Are you taking their recommendations into account with your design? As this might be a CPU limitation as opposed to a memory limitation.</p>\n<blockquote>\n<p>By default, the maximum amount of concurrent sessions a Node supports\nis limited by the number of CPUs available. For example, if the Node\nmachine has 8CPUs, it can run up to 8 concurrent browser sessions\n(with the exception of Safari, which is always one). Additionally, it\nis expected that each browser session should use around 1GB RAM.</p>\n<p>Note that the default values (1CPU/1GB RAM per browser) are a\nrecommendation and they could not apply to your context. It is\nrecommended to use them as a reference, but measuring performance\ncontinuously will help to determine the ideal values for your\nenvironment.</p>\n</blockquote>\n<p><a href=\"https://www.selenium.dev/documentation/grid/getting_started/#grid-sizes\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>Taking the above documentation into account when you state:</p>\n<blockquote>\n<p>We can get up to 32 sessions, but as soon as we try to increase the\nsession count further, all sessions start becoming janky</p>\n</blockquote>\n<p>And taking your CPU information provided:</p>\n<blockquote>\n<p>running on a 32-Core Ryzen™ 9</p>\n</blockquote>\n<p>Things seem to be clearing up.</p>\n"},{"tags":[],"owner":{"account_id":1015925,"reputation":11,"user_id":1027496,"display_name":"geco0ol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687338870,"creation_date":1687338870,"answer_id":76521700,"question_id":76514748,"body_markdown":"@BernardV\r\nThe manual indicates the way how to override the number of sessions, by using those two parameters, and states that it is &quot;not recommended&quot; not that it is forbidden. \r\n\r\n    &quot;--override-max-sessions\r\n          The # of available processors is the recommended max sessions value (1 \r\n          browser session per processor). **Setting this flag to true allows the \r\n          recommended max value to be overwritten**. Session stability and \r\n          reliability might suffer as the host could run out of resources.\r\n          Default: false\r\n    --max-sessions\r\n          Maximum number of concurrent sessions. Default value is the number of \r\n          available processors.&quot;\r\n\r\nI&#39;ve tried this, because on other system it used to run perfectly fine like that. Your answer doesn;t bring any light on chrome crash btw, which also occurs even when running with (cpu count) sessions. Thx for your time, but really, I would appreciate some answers from users that have experienced this condition.","title":"Selenium: Chrome starts crashing and unable to create session when more than 32 sessions are active at the same time","body":"<p>@BernardV\nThe manual indicates the way how to override the number of sessions, by using those two parameters, and states that it is &quot;not recommended&quot; not that it is forbidden.</p>\n<pre><code>&quot;--override-max-sessions\n      The # of available processors is the recommended max sessions value (1 \n      browser session per processor). **Setting this flag to true allows the \n      recommended max value to be overwritten**. Session stability and \n      reliability might suffer as the host could run out of resources.\n      Default: false\n--max-sessions\n      Maximum number of concurrent sessions. Default value is the number of \n      available processors.&quot;\n</code></pre>\n<p>I've tried this, because on other system it used to run perfectly fine like that. Your answer doesn;t bring any light on chrome crash btw, which also occurs even when running with (cpu count) sessions. Thx for your time, but really, I would appreciate some answers from users that have experienced this condition.</p>\n"}],"owner":{"account_id":2085187,"reputation":414,"user_id":1856343,"accept_rate":58,"display_name":"Guntram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687338870,"creation_date":1687264418,"question_id":76514748,"body_markdown":"We are trying to process many pages through Selenium at the same time. We can get up to 32 sessions, but as soon as we try to increase the session count further, all sessions start becoming janky, they are error prone and crash. Also, we get many errors that the sesssion cannot be started (error log at the bottom)\r\n\r\nI&#39;ve tried more then 5 versions of selenium (between 102 and latest 114) with the appropriate chrome driver and chrome version, but sooner or later the whole thing ends up with the errors above. Chrome is always crashing. I&#39;ve also tried running in hub - node configuration, or standalone. \r\n\r\nWhy is chrome crashing? I am certain that memory is not a problem because I&#39;ve also tried increasing jvm heapsize adding &quot;-Xms64g -Xmx80g&quot; in the command line above, but it didn;t help. Following selenium&#39;s requirements I have installed and use oracle jdk (not jre) but still no help or whatsoever. What can I do to run multiple sessions (more then 32 i.e.)?\r\n\r\n**OS:** \r\nUbuntu 22.04.2 LTS, running on a 32-Core Ryzen™ 9 and 128GB RAM. \r\n\r\n**java:**\r\njava version &quot;20.0.1&quot; 2023-04-18\r\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n\r\n**Google Chrome 114.0.5735.133**\r\n\r\n**command to launch selenium:**\r\n\r\n    xvfb-run -a java -Dwebdriver.chrome.driver=&quot;/home/forge/domain/storage/selenium/chromedriver-114.0.5735.16&quot; -jar &quot;/home/forge/domain/storage/selenium/selenium-server-4.10.0.jar&quot; standalone --override-max-sessions true --max-sessions 60 --port 4646 --allow-cors true\r\n\r\n**error log:**\r\n\r\n    10:39:23.636 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: \r\n    Chrome failed to start: exited abnormally.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n    Host info: host: &#39;domain&#39;, ip: &#39;127.0.0.1&#39;\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-75-generic&#39;, java.version: &#39;20.0.1&#39;\r\n    Driver info: driver.version: unknown\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-75-generic&#39;, java.version: &#39;20.0.1&#39;\r\n    Driver info: driver.version: unknown\r\n    10:39:23.636 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. \r\n    Message: unknown error: Chrome failed to start: exited abnormally.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n    Host info: host: &#39;domain&#39;, ip: &#39;127.0.0.1&#39;\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-75-generic&#39;, java.version: &#39;20.0.1&#39;\r\n    Driver info: driver.version: unknown\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-75-generic&#39;, java.version: &#39;20.0.1&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:210)\r\n    \tat org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\r\n    \tat org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\r\n    \tat org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:467)\r\n    \tat org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:643)\r\n    \tat org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:560)\r\n    \tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:814)\r\n    \tat org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\t\r\n**mem stats**\r\nMem:       131576260    15530844    76271352       82296    39774064   114669600\r\nSwap:        5237752           0     5237752\r\n\r\nI am creating the session like \r\nRemoteWebDriver::create($host, $capabilities,3600000,3600000);\r\n\r\n\t\t\t\t&#39;--remote-allow-origins=*&#39;,\r\n                &#39;--window-size=1920,1080&#39;,\r\n                &#39;--enable-experimental-extension-apis&#39;,\r\n                &#39;--disable-infobars&#39;,\r\n                &#39;--disable-notifications&#39;,\r\n                &#39;--disable-device-discovery-notifications&#39;,\r\n                &#39;--disable-gpu&#39;,\r\n                &#39;--allow-outdated-plugins&#39;,\r\n                &#39;--disable-web-security&#39;,\r\n                &#39;--allow-running-insecure-content&#39;,\r\n                &#39;--allow-file-access-from-log_files&#39;,\r\n                &#39;--audio-output-channels=0&#39;,\r\n                &#39;--ignore-certificate-error&#39;,\r\n                &#39;--disable-dev-shm-usage&#39;,\r\n                &#39;--disable-browser-side-navigation&#39;,\r\n                &#39;--dns-prefetch-disable&#39;,\r\n                &#39;--disable-geolocation&#39;,\r\n                &#39;--disable-search-geolocation-disclosure&#39;,\r\n                &#39;--enable-strict-powerful-feature-restrictions&#39;,\r\n                &#39;--disable-translate&#39;,\r\n                &#39;--disable-sync&#39;,\r\n                &#39;--mute-audio&#39;,\r\n                &#39;--lang=en-US&#39;,\r\n                &#39;--use-fake-ui-for-media-stream&#39;,\r\n                &#39;--use-fake-device-for-media-stream&#39;,\r\n                &#39;--allow-file-access-from-files&#39;,\r\n                &#39;--reduce-security-for-testing&#39;,\r\n                &#39;--allow-insecure-localhost&#39;,\r\n                &#39;--allow-legacy-extension-manifests&#39;,\r\n                &#39;--allow-loopback-in-peer-connection&#39;,\r\n                &#39;--allow-outdated-plugins&#39;,\r\n                &#39;--allow-unsecure-dlls&#39;,\r\n                &#39;--alsa-mute-device-name&#39;,\r\n                &#39;--also-emit-success-logs&#39;,\r\n                &#39;--alsa-mute-element-name&#39;,\r\n                &#39;--no-first-run&#39;,\r\n                &#39;--disable-default-apps&#39;,\r\n                &#39;--disable-extensions-http-throttling&#39;,\r\n                &#39;--disable-blink-features=AutomationControlled&#39;,","title":"Selenium: Chrome starts crashing and unable to create session when more than 32 sessions are active at the same time","body":"<p>We are trying to process many pages through Selenium at the same time. We can get up to 32 sessions, but as soon as we try to increase the session count further, all sessions start becoming janky, they are error prone and crash. Also, we get many errors that the sesssion cannot be started (error log at the bottom)</p>\n<p>I've tried more then 5 versions of selenium (between 102 and latest 114) with the appropriate chrome driver and chrome version, but sooner or later the whole thing ends up with the errors above. Chrome is always crashing. I've also tried running in hub - node configuration, or standalone.</p>\n<p>Why is chrome crashing? I am certain that memory is not a problem because I've also tried increasing jvm heapsize adding &quot;-Xms64g -Xmx80g&quot; in the command line above, but it didn;t help. Following selenium's requirements I have installed and use oracle jdk (not jre) but still no help or whatsoever. What can I do to run multiple sessions (more then 32 i.e.)?</p>\n<p><strong>OS:</strong>\nUbuntu 22.04.2 LTS, running on a 32-Core Ryzen™ 9 and 128GB RAM.</p>\n<p><strong>java:</strong>\njava version &quot;20.0.1&quot; 2023-04-18\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)</p>\n<p><strong>Google Chrome 114.0.5735.133</strong></p>\n<p><strong>command to launch selenium:</strong></p>\n<pre><code>xvfb-run -a java -Dwebdriver.chrome.driver=&quot;/home/forge/domain/storage/selenium/chromedriver-114.0.5735.16&quot; -jar &quot;/home/forge/domain/storage/selenium/selenium-server-4.10.0.jar&quot; standalone --override-max-sessions true --max-sessions 60 --port 4646 --allow-cors true\n</code></pre>\n<p><strong>error log:</strong></p>\n<pre><code>10:39:23.636 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: \nChrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'domain', ip: '127.0.0.1'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-75-generic', java.version: '20.0.1'\nDriver info: driver.version: unknown\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-75-generic', java.version: '20.0.1'\nDriver info: driver.version: unknown\n10:39:23.636 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. \nMessage: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'domain', ip: '127.0.0.1'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-75-generic', java.version: '20.0.1'\nDriver info: driver.version: unknown\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-75-generic', java.version: '20.0.1'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:210)\n    at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\n    at org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\n    at org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:467)\n    at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:643)\n    at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:560)\n    at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:814)\n    at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:773)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n<p><strong>mem stats</strong>\nMem:       131576260    15530844    76271352       82296    39774064   114669600\nSwap:        5237752           0     5237752</p>\n<p>I am creating the session like\nRemoteWebDriver::create($host, $capabilities,3600000,3600000);</p>\n<pre><code>            '--remote-allow-origins=*',\n            '--window-size=1920,1080',\n            '--enable-experimental-extension-apis',\n            '--disable-infobars',\n            '--disable-notifications',\n            '--disable-device-discovery-notifications',\n            '--disable-gpu',\n            '--allow-outdated-plugins',\n            '--disable-web-security',\n            '--allow-running-insecure-content',\n            '--allow-file-access-from-log_files',\n            '--audio-output-channels=0',\n            '--ignore-certificate-error',\n            '--disable-dev-shm-usage',\n            '--disable-browser-side-navigation',\n            '--dns-prefetch-disable',\n            '--disable-geolocation',\n            '--disable-search-geolocation-disclosure',\n            '--enable-strict-powerful-feature-restrictions',\n            '--disable-translate',\n            '--disable-sync',\n            '--mute-audio',\n            '--lang=en-US',\n            '--use-fake-ui-for-media-stream',\n            '--use-fake-device-for-media-stream',\n            '--allow-file-access-from-files',\n            '--reduce-security-for-testing',\n            '--allow-insecure-localhost',\n            '--allow-legacy-extension-manifests',\n            '--allow-loopback-in-peer-connection',\n            '--allow-outdated-plugins',\n            '--allow-unsecure-dlls',\n            '--alsa-mute-device-name',\n            '--also-emit-success-logs',\n            '--alsa-mute-element-name',\n            '--no-first-run',\n            '--disable-default-apps',\n            '--disable-extensions-http-throttling',\n            '--disable-blink-features=AutomationControlled',\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1647946145,"post_id":69258024,"comment_id":126493498,"body_markdown":"For now Postman does not support STOMP, only RAW. So for this day you can connect and send message without any additional methods (subscriber, publisher, etc.)","body":"For now Postman does not support STOMP, only RAW. So for this day you can connect and send message without any additional methods (subscriber, publisher, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":28864597,"reputation":11,"user_id":22107635,"display_name":"helloworld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687338619,"creation_date":1687338619,"answer_id":76521668,"question_id":69258024,"body_markdown":"You can use this website to test web sockets locally: \r\nhttp://jxy.me/websocket-debug-tool/","title":"How do i connect to topic/queue via postman for a spring boot WebSocket app?","body":"<p>You can use this website to test web sockets locally:\n<a href=\"http://jxy.me/websocket-debug-tool/\" rel=\"nofollow noreferrer\">http://jxy.me/websocket-debug-tool/</a></p>\n"}],"owner":{"account_id":9082127,"reputation":121,"user_id":6761607,"display_name":"Hapaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687338619,"creation_date":1632155914,"question_id":69258024,"body_markdown":" 1. I want to subscribe to /topic/greetings. how do i do that in postman using raw method and socket.io?\r\n 2. Is there any other alternative for testing websockets locally?\r\n\r\nMy code is from here. \r\n[Spring boot getting started websocket app][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-stomp-websocket/\r\nOnly difference is my WS config class.\r\n\r\nIm connecting to websocket in postman: **ws://localhost:8080/greetings** and then i don&#39;t really know what should i do.\r\n\r\n    package com.example.messagingstompwebsocket;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\n    import org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n    import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n    \r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/greetings&quot;);\r\n            registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\n","title":"How do i connect to topic/queue via postman for a spring boot WebSocket app?","body":"<ol>\n<li>I want to subscribe to /topic/greetings. how do i do that in postman using raw method and socket.io?</li>\n<li>Is there any other alternative for testing websockets locally?</li>\n</ol>\n<p>My code is from here.\n<a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">Spring boot getting started websocket app</a></p>\n<p>Only difference is my WS config class.</p>\n<p>Im connecting to websocket in postman: <strong>ws://localhost:8080/greetings</strong> and then i don't really know what should i do.</p>\n<pre><code>package com.example.messagingstompwebsocket;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/greetings&quot;);\n        registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\n    }\n}\n</code></pre>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687341672,"post_id":9927281,"comment_id":134922251,"body_markdown":"There is no need to flush inside loops like this You are losing the benefit of any buffering.","body":"There is no need to flush inside loops like this You are losing the benefit of any buffering."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1333031603,"creation_date":1333030978,"answer_id":9927310,"question_id":9927281,"body_markdown":"`flush()` is *probably* not required in your example.\r\n\r\nWhat it does is ensure that anything written to the writer prior to the call to `flush()` is written to the underlying stream, rather than sit in some internal buffer.\r\n\r\nThe method comes in handy in several types of circumstances:\r\n\r\n1. If another process (or thread) needs to examine the file while it&#39;s being written to, and it&#39;s important that the other process sees all the recent writes.\r\n\r\n1. If the writing process might crash, and it&#39;s important that no writes to the file get lost.\r\n\r\n1. If you&#39;re writing to the console, and need to make sure that every message is shown as soon as it&#39;s written.","title":"How to use flush() for PrintWriter","body":"<p><code>flush()</code> is <em>probably</em> not required in your example.</p>\n\n<p>What it does is ensure that anything written to the writer prior to the call to <code>flush()</code> is written to the underlying stream, rather than sit in some internal buffer.</p>\n\n<p>The method comes in handy in several types of circumstances:</p>\n\n<ol>\n<li><p>If another process (or thread) needs to examine the file while it's being written to, and it's important that the other process sees all the recent writes.</p></li>\n<li><p>If the writing process might crash, and it's important that no writes to the file get lost.</p></li>\n<li><p>If you're writing to the console, and need to make sure that every message is shown as soon as it's written.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333031022,"creation_date":1333031022,"answer_id":9927325,"question_id":9927281,"body_markdown":"The second option is better to use, as it will create an autoflushable PrintWriter object. And if you use first case, then I don&#39;t think **flush()** is required in your example case.","title":"How to use flush() for PrintWriter","body":"<p>The second option is better to use, as it will create an autoflushable PrintWriter object. And if you use first case, then I don't think <strong>flush()</strong> is required in your example case.</p>\n"},{"tags":[],"owner":{"account_id":11406710,"reputation":23,"user_id":8361949,"display_name":"G&#246;rkem Demirkol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687338293,"creation_date":1687338293,"answer_id":76521633,"question_id":9927281,"body_markdown":"**Close method flushes before closing.** If you use **close()**, **flush()** is not necessary in your first and second example (except u wanna use flush before closing).\r\n\r\nOn top of that your second example also flushes automatically when using the methods: println, printf, or format","title":"How to use flush() for PrintWriter","body":"<p><strong>Close method flushes before closing.</strong> If you use <strong>close()</strong>, <strong>flush()</strong> is not necessary in your first and second example (except u wanna use flush before closing).</p>\n<p>On top of that your second example also flushes automatically when using the methods: println, printf, or format</p>\n"}],"owner":{"account_id":240486,"reputation":264,"user_id":510746,"accept_rate":50,"display_name":"janekey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41435,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":9927310,"answer_count":3,"score":15,"last_activity_date":1687338293,"creation_date":1333030873,"question_id":9927281,"body_markdown":"I have some codes like this:\r\n\r\n    PrintWriter pw = new PrintWriter(new BufferedReader(....));\r\n    for(int i=0; i&lt;10; i++) {\r\n        pw.println(&quot;a&quot;);\r\n        pw.flush();// flush each time when println()?\r\n    }\r\n    pw.close();\r\n\r\nIs the **flush()** in each &#39;for&#39; statement necessarily? I heard that flush() would auto invoke  when invoke **close()** .\r\nIf I write code like this: \r\n\r\n    PrintWriter pw = new PrintWriter(new BufferedReader(....), true);\r\n\r\nand I wouldn&#39;t write **pw.flush()** anymore? Thanks.\r\n","title":"How to use flush() for PrintWriter","body":"<p>I have some codes like this:</p>\n\n<pre><code>PrintWriter pw = new PrintWriter(new BufferedReader(....));\nfor(int i=0; i&lt;10; i++) {\n    pw.println(\"a\");\n    pw.flush();// flush each time when println()?\n}\npw.close();\n</code></pre>\n\n<p>Is the <strong>flush()</strong> in each 'for' statement necessarily? I heard that flush() would auto invoke  when invoke <strong>close()</strong> .\nIf I write code like this: </p>\n\n<pre><code>PrintWriter pw = new PrintWriter(new BufferedReader(....), true);\n</code></pre>\n\n<p>and I wouldn't write <strong>pw.flush()</strong> anymore? Thanks.</p>\n"},{"tags":["java","android","icons","android-manifest","shortcut"],"owner":{"account_id":19276063,"reputation":11,"user_id":14089060,"display_name":"Vikram Sawant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687337765,"creation_date":1687337765,"question_id":76521572,"body_markdown":"I have multiple icon buttons on my ChangeAppIcon Activity, When Clicked on any iconbutton it should change app icon. \r\nTo make my question more specific i want to do it like telegram where premium user can change there app icons. \r\n\r\nI tried using activity-alias for and set its target activity as .Mainactivity, this worked but not upto the mark as on changing the icon 1st time it worked well but for 2nd time app is getting disappeared from recent Apps. \r\n\r\n    //this methid is called inside onclick of any button\r\n       private void changeIcon(int iconResId) {\r\n            if(previousicon == iconResId){\r\n                return;\r\n            }\r\n            PackageManager manager = getPackageManager();\r\n    \r\n            // Enable the new icon\r\n            manager.setComponentEnabledSetting(\r\n                    new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivityAlias&quot; + iconResId),\r\n                    PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\r\n                    PackageManager.DONT_KILL_APP);\r\n    \r\n            // Disable all previously enabled icons\r\n            for (int i = 1; i &lt;= 4; i++) {\r\n                if (i != iconResId) {\r\n                    manager.setComponentEnabledSetting(\r\n                            new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivityAlias&quot; + i),\r\n                            PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\r\n                            PackageManager.DONT_KILL_APP);\r\n                }\r\n            }\r\n    \r\n            manager.setComponentEnabledSetting(\r\n                    new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivity&quot;),\r\n                    PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\r\n    \r\n            Toast.makeText(ChangeAppIcon.this, &quot;Icon Changed&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\nThis is how i defined Manfiest for activity alias : \r\n\r\n    &lt;activity-alias\r\n                android:name=&quot;.MainActivityAlias4&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:icon=&quot;@drawable/icon4&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:roundIcon=&quot;@drawable/icon4&quot;\r\n                android:targetActivity=&quot;.MainActivity&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity-alias&gt;\r\n            &lt;activity-alias\r\n                android:name=&quot;.MainActivityAlias3&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:icon=&quot;@drawable/icon3&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:roundIcon=&quot;@drawable/icon3&quot;\r\n                android:targetActivity=&quot;.MainActivity&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity-alias&gt;\r\n            &lt;activity-alias\r\n                android:name=&quot;.MainActivityAlias2&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:icon=&quot;@drawable/icon2&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:roundIcon=&quot;@drawable/icon2&quot;\r\n                android:targetActivity=&quot;.MainActivity&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity-alias&gt;\r\n          ... //further same for MainActivityAlias1\r\n\r\nplease tell me is my code wrong or there is some another method to do so, As its not impossible because not only telegram but many other apps has this feature where user changes the app icon form the given list.\r\n","title":"How to change Android(java) App icon programmatically?","body":"<p>I have multiple icon buttons on my ChangeAppIcon Activity, When Clicked on any iconbutton it should change app icon.\nTo make my question more specific i want to do it like telegram where premium user can change there app icons.</p>\n<p>I tried using activity-alias for and set its target activity as .Mainactivity, this worked but not upto the mark as on changing the icon 1st time it worked well but for 2nd time app is getting disappeared from recent Apps.</p>\n<pre><code>//this methid is called inside onclick of any button\n   private void changeIcon(int iconResId) {\n        if(previousicon == iconResId){\n            return;\n        }\n        PackageManager manager = getPackageManager();\n\n        // Enable the new icon\n        manager.setComponentEnabledSetting(\n                new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivityAlias&quot; + iconResId),\n                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\n                PackageManager.DONT_KILL_APP);\n\n        // Disable all previously enabled icons\n        for (int i = 1; i &lt;= 4; i++) {\n            if (i != iconResId) {\n                manager.setComponentEnabledSetting(\n                        new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivityAlias&quot; + i),\n                        PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\n                        PackageManager.DONT_KILL_APP);\n            }\n        }\n\n        manager.setComponentEnabledSetting(\n                new ComponentName(ChangeAppIcon.this, &quot;com.waf.congratulationmessages.MainActivity&quot;),\n                PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\n\n        Toast.makeText(ChangeAppIcon.this, &quot;Icon Changed&quot;, Toast.LENGTH_LONG).show();\n    }\n</code></pre>\n<p>This is how i defined Manfiest for activity alias :</p>\n<pre><code>&lt;activity-alias\n            android:name=&quot;.MainActivityAlias4&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@drawable/icon4&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:roundIcon=&quot;@drawable/icon4&quot;\n            android:targetActivity=&quot;.MainActivity&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n        &lt;activity-alias\n            android:name=&quot;.MainActivityAlias3&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@drawable/icon3&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:roundIcon=&quot;@drawable/icon3&quot;\n            android:targetActivity=&quot;.MainActivity&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n        &lt;activity-alias\n            android:name=&quot;.MainActivityAlias2&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@drawable/icon2&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:roundIcon=&quot;@drawable/icon2&quot;\n            android:targetActivity=&quot;.MainActivity&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n      ... //further same for MainActivityAlias1\n</code></pre>\n<p>please tell me is my code wrong or there is some another method to do so, As its not impossible because not only telegram but many other apps has this feature where user changes the app icon form the given list.</p>\n"},{"tags":["java","eclipse","formatter","braces"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":12,"creation_date":1304516372,"post_id":5884273,"comment_id":6768222,"body_markdown":"Maybe a baseball bat could solve the problem? Nope? No, ok, violence is not the solution, but the code style you&#39;ve chosen is an abomination. **If** compact code is the motivation, then leaving out braces around single-statement blocks *might* be the better solution.","body":"Maybe a baseball bat could solve the problem? Nope? No, ok, violence is not the solution, but the code style you&#39;ve chosen is an abomination. <b>If</b> compact code is the motivation, then leaving out braces around single-statement blocks <i>might</i> be the better solution."},{"owner":{"account_id":85212,"reputation":11234,"user_id":237733,"accept_rate":94,"display_name":"Mark Pope"},"score":6,"creation_date":1304516408,"post_id":5884273,"comment_id":6768234,"body_markdown":"Ouch :( I feel for you man!","body":"Ouch :( I feel for you man!"},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":1,"creation_date":1304516620,"post_id":5884273,"comment_id":6768298,"body_markdown":"I do not know how to make any code formatter format code like this.  In all of my experience, I have never seen code formatted this way.  Putting the curly-brace on the same line as the first line of code inside the function makes it difficult to use copy-cut-paste functions to move around lines of code.  It&#39;s really a bad decision, and should be changed.  Sorry I don&#39;t have an answer.","body":"I do not know how to make any code formatter format code like this.  In all of my experience, I have never seen code formatted this way.  Putting the curly-brace on the same line as the first line of code inside the function makes it difficult to use copy-cut-paste functions to move around lines of code.  It&#39;s really a bad decision, and should be changed.  Sorry I don&#39;t have an answer."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1304516634,"post_id":5884273,"comment_id":6768302,"body_markdown":"On a more serious note: I&#39;d suggest you don&#39;t try to bend the rules. Even if you follow the letter of the rule, you won&#39;t have the advantages that a unified code style brings (and they are plenty!). Swallow your pride and follow the coding convention. Your second sample might not be the most space-saving one, but at least it&#39;s consistent and doesn&#39;t look like some newlines where swallowed.","body":"On a more serious note: I&#39;d suggest you don&#39;t try to bend the rules. Even if you follow the letter of the rule, you won&#39;t have the advantages that a unified code style brings (and they are plenty!). Swallow your pride and follow the coding convention. Your second sample might not be the most space-saving one, but at least it&#39;s consistent and doesn&#39;t look like some newlines where swallowed."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1304516886,"post_id":5884273,"comment_id":6768394,"body_markdown":"@Joachim: His team decided on the first one.  The second and third are disallowed by their team.  Personally, I think I&#39;d fire any team that made this decision.  It&#39;s royally asinine.","body":"@Joachim: His team decided on the first one.  The second and third are disallowed by their team.  Personally, I think I&#39;d fire any team that made this decision.  It&#39;s royally asinine."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1304516981,"post_id":5884273,"comment_id":6768421,"body_markdown":"@Erik: my understanding was that the bullet item is company standard and the first option is what &quot;the team&quot; decided to make of that company standard. So while the first item is not up for discussion, the latter might be (smaller circle of decision makes, higher chance of success). So I would bring back the argument &quot;the style we&#39;ve chosen is so abstruse that no sane code formatting tool supports it&quot; to overthrow the decision.#","body":"@Erik: my understanding was that the bullet item is company standard and the first option is what &quot;the team&quot; decided to make of that company standard. So while the first item is not up for discussion, the latter might be (smaller circle of decision makes, higher chance of success). So I would bring back the argument &quot;the style we&#39;ve chosen is so abstruse that no sane code formatting tool supports it&quot; to overthrow the decision.#"},{"owner":{"account_id":328558,"reputation":535,"user_id":651582,"accept_rate":50,"display_name":"Asturio"},"score":0,"creation_date":1304517152,"post_id":5884273,"comment_id":6768466,"body_markdown":"Actually the second sample is the decision of the company. But the team decided for the first (as both are &quot;allowed&quot; by the coding convention). I&#39;d be really fine with the second one, but our team want to stick with the first one. The baseball bat solution seems to be the best one :_) . @Joachim: I&#39;ll try to argument on that point.","body":"Actually the second sample is the decision of the company. But the team decided for the first (as both are &quot;allowed&quot; by the coding convention). I&#39;d be really fine with the second one, but our team want to stick with the first one. The baseball bat solution seems to be the best one :_) . @Joachim: I&#39;ll try to argument on that point."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":3,"creation_date":1304518282,"post_id":5884273,"comment_id":6768776,"body_markdown":"@Asturio: If the second sample is the decision of the company, then why is the first one allowed?  This seems odd to me.  Your team shouldn&#39;t have changed it -- especially to something so asinine.  Make sure that you have expressed your dissent to your team.  If your team leader doesn&#39;t accept it, go over his head.  Whatever you do, don&#39;t actually write code like this!","body":"@Asturio: If the second sample is the decision of the company, then why is the first one allowed?  This seems odd to me.  Your team shouldn&#39;t have changed it -- especially to something so asinine.  Make sure that you have expressed your dissent to your team.  If your team leader doesn&#39;t accept it, go over his head.  Whatever you do, don&#39;t actually write code like this!"},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":1,"creation_date":1304524600,"post_id":5884273,"comment_id":6770851,"body_markdown":"I would not upvote any answer that actually suggests a way of trying to accomplish this abomination.  You should make sure your team members reads your question here and the opinions of others.","body":"I would not upvote any answer that actually suggests a way of trying to accomplish this abomination.  You should make sure your team members reads your question here and the opinions of others."},{"owner":{"account_id":328558,"reputation":535,"user_id":651582,"accept_rate":50,"display_name":"Asturio"},"score":0,"creation_date":1304541946,"post_id":5884273,"comment_id":6775555,"body_markdown":"@Robin: Agreed. No upvote for answers (even if I mark the only one as a possible solution). Is that ok?","body":"@Robin: Agreed. No upvote for answers (even if I mark the only one as a possible solution). Is that ok?"}],"answers":[{"tags":[],"owner":{"account_id":377418,"reputation":888,"user_id":3021355,"display_name":"spot35"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304518258,"creation_date":1304518258,"answer_id":5884727,"question_id":5884273,"body_markdown":"Could you turn off the relevant parts of the code formatter and make use of the Templates instead.  For example when typing \r\n\r\n    private_\r\n\r\nand hitting ctrl+space would invoke the private_method template.  You could then modify the private template to be something like this -\r\n\r\n    private ${return_type} ${name}(${}) \r\n    { ${cursor}\r\n    }\r\n\r\nYou&#39;d have to do similar things to the other block statements and you&#39;d have to modify your coding style to start using the templates more often, but I reckon it could work.","title":"Eclipse Java Formatter. New line before curly braces, but not after","body":"<p>Could you turn off the relevant parts of the code formatter and make use of the Templates instead.  For example when typing </p>\n\n<pre><code>private_\n</code></pre>\n\n<p>and hitting ctrl+space would invoke the private_method template.  You could then modify the private template to be something like this -</p>\n\n<pre><code>private ${return_type} ${name}(${}) \n{ ${cursor}\n}\n</code></pre>\n\n<p>You'd have to do similar things to the other block statements and you'd have to modify your coding style to start using the templates more often, but I reckon it could work.</p>\n"},{"tags":[],"owner":{"account_id":328558,"reputation":535,"user_id":651582,"accept_rate":50,"display_name":"Asturio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687337724,"creation_date":1307529613,"answer_id":6277469,"question_id":5884273,"body_markdown":"So, here an Information about this Topic. I have done some more research. The here so abominated Brace-Style (sample 1) has a name: [The Horstmann Brace Style](http://weblogs.java.net/blog/cayhorstmann/archive/2010/06/28/horstmann-brace-style) or here [Horstmann](http://horstmann.com/unblog/2010-06-28/braces.html). There is a small group of people defending it, as it combines the advantages from the K&amp;R and the Allman (sample 2) Style. As the braces are lined up, and there is no &quot;waste&quot; of space.\r\n\r\nBut this is not the only true. This style miserable for the VCS. If you need to add a Line between the opening brace and the first statement, you need first to break the line, and put your new line there. In the diff or merge you will see then not &quot;one line been added&quot;, but &quot;one line been exchanged by two lines&quot;. But the actually old statement was changed by you.\r\n\r\nSo another argument, not to use this style.\r\n","title":"Eclipse Java Formatter. New line before curly braces, but not after","body":"<p>So, here an Information about this Topic. I have done some more research. The here so abominated Brace-Style (sample 1) has a name: <a href=\"http://weblogs.java.net/blog/cayhorstmann/archive/2010/06/28/horstmann-brace-style\" rel=\"nofollow noreferrer\">The Horstmann Brace Style</a> or here <a href=\"http://horstmann.com/unblog/2010-06-28/braces.html\" rel=\"nofollow noreferrer\">Horstmann</a>. There is a small group of people defending it, as it combines the advantages from the K&amp;R and the Allman (sample 2) Style. As the braces are lined up, and there is no &quot;waste&quot; of space.</p>\n<p>But this is not the only true. This style miserable for the VCS. If you need to add a Line between the opening brace and the first statement, you need first to break the line, and put your new line there. In the diff or merge you will see then not &quot;one line been added&quot;, but &quot;one line been exchanged by two lines&quot;. But the actually old statement was changed by you.</p>\n<p>So another argument, not to use this style.</p>\n"}],"owner":{"account_id":328558,"reputation":535,"user_id":651582,"accept_rate":50,"display_name":"Asturio"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6277469,"answer_count":2,"score":2,"last_activity_date":1687337724,"creation_date":1304516249,"question_id":5884273,"body_markdown":"we have here at work a very strange coding convention, and I didn&#39;t managed to setup the Java Formatter in Eclipse right to do what I want. The convention says:\r\n&lt;ul&gt;\r\n  &lt;li&gt;Before a curly brace &quot;{&quot; there should always be a new Line&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n[UPDATE]\r\nThere is no rule in our convention saying, if after a &quot;{&quot; should be a line break or not. The examples actually use a line break (and almost ANY convention I saw so far says or implies that after a &quot;{&quot; and a &quot;}&quot; should always be a line break). So sample 1 and 2 are both &quot;syntactically correct&quot;.\r\n[/UPDATE]\r\n\r\nAs this blows the code, our team have decided to write code like this (no, this wasn&#39;t my choice!):\r\n\r\n    public void methode(final boolean b)\r\n    { if (b)\r\n      { do.something();\r\n      }\r\n      else\r\n      { do.somethingElse();\r\n      }\r\n    }\r\n\r\nBut in the formatter I only managed to get this:\r\n\r\n    public void methode(final boolean b)\r\n    {\r\n      if (b)\r\n      { \r\n        do.something();\r\n      }\r\n      else\r\n      { \r\n        do.somethingElse();\r\n      }\r\n    }\r\n\r\nor this:\r\n\r\n    public void methode(final boolean b) { \r\n      if (b) { \r\n        do.something();\r\n      }\r\n      else {\r\n        do.somethingElse();\r\n      }\r\n    }\r\n\r\nIs there a way to tell the formatter to break lines before a &quot;{&quot; but not after that? I know the first style is awful, and I would be pleased to use one of the last two, but this is a company decision. ","title":"Eclipse Java Formatter. New line before curly braces, but not after","body":"<p>we have here at work a very strange coding convention, and I didn't managed to setup the Java Formatter in Eclipse right to do what I want. The convention says:</p>\n\n<ul>\n  <li>Before a curly brace \"{\" there should always be a new Line</li>\n</ul>\n\n<p>[UPDATE]\nThere is no rule in our convention saying, if after a \"{\" should be a line break or not. The examples actually use a line break (and almost ANY convention I saw so far says or implies that after a \"{\" and a \"}\" should always be a line break). So sample 1 and 2 are both \"syntactically correct\".\n[/UPDATE]</p>\n\n<p>As this blows the code, our team have decided to write code like this (no, this wasn't my choice!):</p>\n\n<pre><code>public void methode(final boolean b)\n{ if (b)\n  { do.something();\n  }\n  else\n  { do.somethingElse();\n  }\n}\n</code></pre>\n\n<p>But in the formatter I only managed to get this:</p>\n\n<pre><code>public void methode(final boolean b)\n{\n  if (b)\n  { \n    do.something();\n  }\n  else\n  { \n    do.somethingElse();\n  }\n}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>public void methode(final boolean b) { \n  if (b) { \n    do.something();\n  }\n  else {\n    do.somethingElse();\n  }\n}\n</code></pre>\n\n<p>Is there a way to tell the formatter to break lines before a \"{\" but not after that? I know the first style is awful, and I would be pleased to use one of the last two, but this is a company decision. </p>\n"},{"tags":["python","java","android","kotlin","chaquopy"],"answers":[{"tags":[],"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687188493,"creation_date":1687188493,"answer_id":76508070,"question_id":76505351,"body_markdown":"You didn&#39;t explain what `function` is, but if it&#39;s an `EditText`, then you should instead write `function.getText().toString()`.\r\n\r\nIf that isn&#39;t the problem, please edit the question to explain what went wrong, including any error message, and post a comment below this answer to notify me. If your app crashed, you can find the stack trace by following [these instructions](https://stackoverflow.com/questions/23353173).","title":"how to call a Python function with arguments from Kotlin(or Java) using Chaquopy","body":"<p>You didn't explain what <code>function</code> is, but if it's an <code>EditText</code>, then you should instead write <code>function.getText().toString()</code>.</p>\n<p>If that isn't the problem, please edit the question to explain what went wrong, including any error message, and post a comment below this answer to notify me. If your app crashed, you can find the stack trace by following <a href=\"https://stackoverflow.com/questions/23353173\">these instructions</a>.</p>\n"}],"owner":{"account_id":28810618,"reputation":1,"user_id":22065395,"display_name":"MilkyDwarf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687337719,"creation_date":1687167157,"question_id":76505351,"body_markdown":"I&#39;m trying to figure out chaquopy and understand how to call a function without arguments, but for my application I need to call a function with a String argument taken from EditText. How can I write this?\r\n\r\n```\r\nval py: Python = Python.getInstance()\r\n     val pyObj: PyObject = py.getModule(&quot;script&quot;)\r\n\r\n\r\n     CoroutineScope(Dispatchers.Main).launch {\r\n         for (i in 1..1000000) {\r\n             val integral: PyObject = pyObj.callAttr(&quot;main&quot;,function.toString() )\r\n             setLatex(sText, integral.toString())\r\n             delay(200)\r\n         }\r\n```\r\n\r\n```\r\nimport sympy as sym\r\nfrom sympy import *\r\ndef main(function):\r\n\r\n   return sym.latex(function)\r\n```\r\n","title":"how to call a Python function with arguments from Kotlin(or Java) using Chaquopy","body":"<p>I'm trying to figure out chaquopy and understand how to call a function without arguments, but for my application I need to call a function with a String argument taken from EditText. How can I write this?</p>\n<pre><code>val py: Python = Python.getInstance()\n     val pyObj: PyObject = py.getModule(&quot;script&quot;)\n\n\n     CoroutineScope(Dispatchers.Main).launch {\n         for (i in 1..1000000) {\n             val integral: PyObject = pyObj.callAttr(&quot;main&quot;,function.toString() )\n             setLatex(sText, integral.toString())\n             delay(200)\n         }\n</code></pre>\n<pre><code>import sympy as sym\nfrom sympy import *\ndef main(function):\n\n   return sym.latex(function)\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687337692,"creation_date":1687266638,"answer_id":76515085,"question_id":76514838,"body_markdown":"jOOQ is a very opinionated API with respect to object orientation and how you should interact with it. In particular, you should hardly implement any types yourself if they&#39;re not clearly designated for extension purposes.\r\n\r\nExtensible API elements include:\r\n\r\n- [`ExecuteListener`][1] and many other listeners registered with the [`Configuration`][2] as well as other SPIs from `Configuration`\r\n- Anything that starts with `Custom`, e.g. [`CustomQueryPart`][3], see [custom syntax elements][4]\r\n- Anything that starts with `Default`, such as [`DefaultConnection`][5] (these can usually work without extension, but do allow it)\r\n- Anything that starts with `Abstract`, such as [`AbstractConverter`][6] (these are meant to be extended, and can&#39;t work by themselves, being `abstract`)\r\n\r\nThere&#39;s a special case that you shouldn&#39;t extend manually yourself, but indirectly via your generated code, including:\r\n\r\n- Any base type for generated code, such as [`TableImpl`][7]\r\n\r\nThat&#39;s it. Everything else is not supposed to be extended, and in fact, this information will be formally conveyed in the future by sealing the type hierarchy (see e.g. details of [#14756][8]).\r\n\r\nThis official take is also documented here, in the [manual&#39;s section about semantic versioning and compatibility][9], specifically:\r\n\r\n&gt; jOOQ&#39;s DSL interfaces should not be implemented by client code! Extend only those extension points that are explicitly documented as &quot;extendable&quot; (e.g. [custom QueryParts][4]).\r\n\r\nTo answer your specific question, `DataType` is part of jOOQ&#39;s DSL and not meant for extension. Of course, as long as it is not a `sealed` type yet, you can do it. The sealing won&#39;t happen in a minor release in order not to break client code. But do note that in every minor release, there will be new methods that will break your implementation, so if you still implement your own, know what you&#39;re doing. Also, you might run into an occasional `ClassCastException`, because jOOQ occasionally assumes you don&#39;t extend its types, so it unsafely casts a public API type to an internal type that you can&#39;t access.\r\n\r\nIt&#39;s not unlikely that you have a use-case that could be implemented entirely differently, or with new generic SPIs and extension points, so perhaps, [a feature request][10] might be the best way forward here\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ExecuteListener.html\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Configuration.html\r\n  [3]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/CustomQueryPart.html\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-queryparts/\r\n  [5]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/tools/jdbc/DefaultConnection.html\r\n  [6]: https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/AbstractConverter.html\r\n  [7]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/TableImpl.html\r\n  [8]: https://github.com/jOOQ/jOOQ/issues/14756\r\n  [9]: https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/\r\n  [10]: https://github.com/jOOQ/jOOQ/issues/new/choose","title":"When using JOOQ, is the DataType interface considered &quot;public api&quot; for implementation?","body":"<p>jOOQ is a very opinionated API with respect to object orientation and how you should interact with it. In particular, you should hardly implement any types yourself if they're not clearly designated for extension purposes.</p>\n<p>Extensible API elements include:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ExecuteListener.html\" rel=\"nofollow noreferrer\"><code>ExecuteListener</code></a> and many other listeners registered with the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Configuration.html\" rel=\"nofollow noreferrer\"><code>Configuration</code></a> as well as other SPIs from <code>Configuration</code></li>\n<li>Anything that starts with <code>Custom</code>, e.g. <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/CustomQueryPart.html\" rel=\"nofollow noreferrer\"><code>CustomQueryPart</code></a>, see <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-queryparts/\" rel=\"nofollow noreferrer\">custom syntax elements</a></li>\n<li>Anything that starts with <code>Default</code>, such as <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/tools/jdbc/DefaultConnection.html\" rel=\"nofollow noreferrer\"><code>DefaultConnection</code></a> (these can usually work without extension, but do allow it)</li>\n<li>Anything that starts with <code>Abstract</code>, such as <a href=\"https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/AbstractConverter.html\" rel=\"nofollow noreferrer\"><code>AbstractConverter</code></a> (these are meant to be extended, and can't work by themselves, being <code>abstract</code>)</li>\n</ul>\n<p>There's a special case that you shouldn't extend manually yourself, but indirectly via your generated code, including:</p>\n<ul>\n<li>Any base type for generated code, such as <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/TableImpl.html\" rel=\"nofollow noreferrer\"><code>TableImpl</code></a></li>\n</ul>\n<p>That's it. Everything else is not supposed to be extended, and in fact, this information will be formally conveyed in the future by sealing the type hierarchy (see e.g. details of <a href=\"https://github.com/jOOQ/jOOQ/issues/14756\" rel=\"nofollow noreferrer\">#14756</a>).</p>\n<p>This official take is also documented here, in the <a href=\"https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/\" rel=\"nofollow noreferrer\">manual's section about semantic versioning and compatibility</a>, specifically:</p>\n<blockquote>\n<p>jOOQ's DSL interfaces should not be implemented by client code! Extend only those extension points that are explicitly documented as &quot;extendable&quot; (e.g. <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-queryparts/\" rel=\"nofollow noreferrer\">custom QueryParts</a>).</p>\n</blockquote>\n<p>To answer your specific question, <code>DataType</code> is part of jOOQ's DSL and not meant for extension. Of course, as long as it is not a <code>sealed</code> type yet, you can do it. The sealing won't happen in a minor release in order not to break client code. But do note that in every minor release, there will be new methods that will break your implementation, so if you still implement your own, know what you're doing. Also, you might run into an occasional <code>ClassCastException</code>, because jOOQ occasionally assumes you don't extend its types, so it unsafely casts a public API type to an internal type that you can't access.</p>\n<p>It's not unlikely that you have a use-case that could be implemented entirely differently, or with new generic SPIs and extension points, so perhaps, <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">a feature request</a> might be the best way forward here</p>\n"}],"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76515085,"answer_count":1,"score":1,"last_activity_date":1687337692,"creation_date":1687265029,"question_id":76514838,"body_markdown":"This is an extension of this question: https://stackoverflow.com/questions/76509358\r\n\r\nAs of JOOQ 3.18.4, when one looks at the `DataType` interface, there seems to be no &quot;extension point&quot; for implementing new `DataType`s, which would be useful for implementing user-defined or vendor-specific data types.\r\n\r\nThere are already issues related to this (see https://github.com/jOOQ/jOOQ/issues/11806)\r\n\r\nSo my question is: as of now, could the `DataType` interface be considered &quot;internal&quot;, but is public for implementation reasons (like an sealed interface before that was a thing), or it could be considered &quot;public&quot; and up to new client code implementations?\r\n\r\n","title":"When using JOOQ, is the DataType interface considered &quot;public api&quot; for implementation?","body":"<p>This is an extension of this question: <a href=\"https://stackoverflow.com/questions/76509358\">Custom type for create table statement in JOOQ</a></p>\n<p>As of JOOQ 3.18.4, when one looks at the <code>DataType</code> interface, there seems to be no &quot;extension point&quot; for implementing new <code>DataType</code>s, which would be useful for implementing user-defined or vendor-specific data types.</p>\n<p>There are already issues related to this (see <a href=\"https://github.com/jOOQ/jOOQ/issues/11806\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/11806</a>)</p>\n<p>So my question is: as of now, could the <code>DataType</code> interface be considered &quot;internal&quot;, but is public for implementation reasons (like an sealed interface before that was a thing), or it could be considered &quot;public&quot; and up to new client code implementations?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687173967,"post_id":76506035,"comment_id":134895329,"body_markdown":"I don&#39;t use this api, but you should probably be following bean conventions:  your class should have an empty() ctor and probably create its own instances of `Address` and `Description` (which can be used or *replaced* as necessary)","body":"I don&#39;t use this api, but you should probably be following bean conventions:  your class should have an empty() ctor and probably create its own instances of <code>Address</code> and <code>Description</code> (which can be used or <i>replaced</i> as necessary)"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1687209694,"post_id":76506035,"comment_id":134902078,"body_markdown":"Maybe related to https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields","body":"Maybe related to <a href=\"https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields\" title=\"gson optional and required fields\">stackoverflow.com/questions/21626690/&hellip;</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1687209935,"post_id":76506035,"comment_id":134902103,"body_markdown":"Could you please explain a bit more in detail what you want to achieve? For example should a default `Description` be set? But if so, what should be the values of its fields? Isn&#39;t it cleaner that a missing field has the value `null` instead of a default value? Then your application can handle missing values in some proper way. Otherwise your application cannot properly differentiate between a default value for a missing field, and a field value which is present in JSON but which happens to be the same as the default value.","body":"Could you please explain a bit more in detail what you want to achieve? For example should a default <code>Description</code> be set? But if so, what should be the values of its fields? Isn&#39;t it cleaner that a missing field has the value <code>null</code> instead of a default value? Then your application can handle missing values in some proper way. Otherwise your application cannot properly differentiate between a default value for a missing field, and a field value which is present in JSON but which happens to be the same as the default value."},{"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"score":0,"creation_date":1687337442,"post_id":76506035,"comment_id":134921293,"body_markdown":"@Marcono1234 I have updated an example code. I would like to serialize data, but during my custom serialization error occur, when nested field is missing - I got NullPointerException. I am looking for an elegant, an possibly generic way to solve nulls. For me missing value is accepted, but I would like to handle it. I will have more similar classes for serialization/deserialization.","body":"@Marcono1234 I have updated an example code. I would like to serialize data, but during my custom serialization error occur, when nested field is missing - I got NullPointerException. I am looking for an elegant, an possibly generic way to solve nulls. For me missing value is accepted, but I would like to handle it. I will have more similar classes for serialization/deserialization."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687338578,"post_id":76506035,"comment_id":134921562,"body_markdown":"[This](https://stackoverflow.com/questions/42523266/gson-serialization-exclude-some-fields-if-null-but-not-all-of-them) could be of interest","body":"<a href=\"https://stackoverflow.com/questions/42523266/gson-serialization-exclude-some-fields-if-null-but-not-all-of-them\">This</a> could be of interest"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1687339042,"post_id":76506035,"comment_id":134921681,"body_markdown":"I believe you over-coplicated things. Do you have to use Gson? I use Json-Jackson, and with that library I can provide you almost one liner solution. I believe that with gson you also can do much simpler solution. I just don&#39;t have experience with Gson as much","body":"I believe you over-coplicated things. Do you have to use Gson? I use Json-Jackson, and with that library I can provide you almost one liner solution. I believe that with gson you also can do much simpler solution. I just don&#39;t have experience with Gson as much"}],"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687337322,"creation_date":1687172758,"question_id":76506035,"body_markdown":"I am using gson to deserialize/serialize data. Currently I use simple deserialization to just get the json data to pojo representation as is. Next I use custom serialization to parse json output.\r\n\r\nI have some problems with nested fields. When the json data has some **missing nested field** I am unable to access them in the Serialization step, with **NullPointerException error**. Example - I have an address nested field, which can contains of city, zipcode and so on. If the incoming json has no `address` field, I got `NullPointerException` when accerssing `address.city`.\r\n\r\nAs a result, if some json field are missing, I just want to populate missing values as output in serrialization, but I would like to add a reasonable null error handling. No obligatory checks are required.\r\n\r\nmyCustomer pojo example:\r\n\r\n![image](https://i.stack.imgur.com/IGQ1U.png)\r\n\r\n```\r\nimport com.google.gson.*;\r\nimport org.junit.Test;\r\n\r\nimport java.lang.reflect.Type;\r\nimport java.util.Date;\r\n\r\npublic class MyGsonTest {\r\n\r\n    // my deserialization class\r\n    class MyCustomer {\r\n\r\n        // fields\r\n        String id;\r\n        String name;\r\n        Date birthdate;\r\n\r\n        // nested fields\r\n        Address address;\r\n        Description description;\r\n\r\n        class Address {\r\n            String city;\r\n            String zipCode;\r\n            Street street;\r\n\r\n            // nested fields can have multiple in-depth levels, but I have simplified it for the presentation purposes\r\n            class Street {\r\n                String apartment;\r\n                String number;\r\n            }\r\n\r\n        }\r\n\r\n        class Description {\r\n            String info;\r\n            String moreInfo;\r\n        }\r\n\r\n    }\r\n\r\n    // my custom deserialization class\r\n    public class MyCustomerSerializer implements JsonSerializer&lt;MyCustomer&gt; {\r\n\r\n        @Override\r\n        public JsonElement serialize(MyCustomer myCustomer, Type type, JsonSerializationContext jsonSerializationContext) {\r\n\r\n            // create initial/empty JsonObject\r\n            JsonObject jo = new JsonObject();\r\n\r\n            // next add some properties...\r\n\r\n            // ok - we access created/deserialized nested field\r\n            jo.addProperty(&quot;city&quot;, myCustomer.address.city);\r\n            jo.addProperty(&quot;zipcode&quot;, myCustomer.address.zipCode); // ok iven if underlying field is missing\r\n\r\n            /*\r\n            !!!\r\n            NullPointerException - deserialized nested field is null (no leaf-level fields)\r\n            !!!\r\n             */\r\n            jo.addProperty(&quot;info&quot;, myCustomer.description.info);\r\n            jo.addProperty(&quot;moreInfo&quot;, myCustomer.description.moreInfo);\r\n\r\n            return jo;\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testRun() {\r\n\r\n        // create gson instance with gson builder\r\n        GsonBuilder gsonBuilder = new GsonBuilder()\r\n            // register custom deserializer for MyCustomer class\r\n            .registerTypeAdapter(MyCustomer.class, new MyCustomerSerializer());\r\n        Gson gson = gsonBuilder.create();\r\n\r\n\r\n        // get example data\r\n        // missing: &#39;city.zipCode&#39; and entire &#39;description&#39;\r\n        String myCustomer1String = &quot;{&#39;id&#39;:&#39;a123&#39;,&#39;name&#39;:&#39;John&#39;,&#39;birthdate&#39;:&#39;1987-01-01&#39;,&#39;address&#39;:{&#39;city&#39;:&#39;Colorado&#39;}}&quot;;\r\n\r\n        // deserialize - create customer pojo instance\r\n        MyCustomer myCustomer = gson.fromJson(myCustomer1String, MyCustomer.class);\r\n\r\n        // serialization - error occur here\r\n        String myCustomerParsed = gson.toJson(myCustomer);\r\n\r\n    }\r\n}```\r\n","title":"Gson serialization - handling missing fields","body":"<p>I am using gson to deserialize/serialize data. Currently I use simple deserialization to just get the json data to pojo representation as is. Next I use custom serialization to parse json output.</p>\n<p>I have some problems with nested fields. When the json data has some <strong>missing nested field</strong> I am unable to access them in the Serialization step, with <strong>NullPointerException error</strong>. Example - I have an address nested field, which can contains of city, zipcode and so on. If the incoming json has no <code>address</code> field, I got <code>NullPointerException</code> when accerssing <code>address.city</code>.</p>\n<p>As a result, if some json field are missing, I just want to populate missing values as output in serrialization, but I would like to add a reasonable null error handling. No obligatory checks are required.</p>\n<p>myCustomer pojo example:</p>\n<p><img src=\"https://i.stack.imgur.com/IGQ1U.png\" alt=\"image\" /></p>\n<pre><code>import com.google.gson.*;\nimport org.junit.Test;\n\nimport java.lang.reflect.Type;\nimport java.util.Date;\n\npublic class MyGsonTest {\n\n    // my deserialization class\n    class MyCustomer {\n\n        // fields\n        String id;\n        String name;\n        Date birthdate;\n\n        // nested fields\n        Address address;\n        Description description;\n\n        class Address {\n            String city;\n            String zipCode;\n            Street street;\n\n            // nested fields can have multiple in-depth levels, but I have simplified it for the presentation purposes\n            class Street {\n                String apartment;\n                String number;\n            }\n\n        }\n\n        class Description {\n            String info;\n            String moreInfo;\n        }\n\n    }\n\n    // my custom deserialization class\n    public class MyCustomerSerializer implements JsonSerializer&lt;MyCustomer&gt; {\n\n        @Override\n        public JsonElement serialize(MyCustomer myCustomer, Type type, JsonSerializationContext jsonSerializationContext) {\n\n            // create initial/empty JsonObject\n            JsonObject jo = new JsonObject();\n\n            // next add some properties...\n\n            // ok - we access created/deserialized nested field\n            jo.addProperty(&quot;city&quot;, myCustomer.address.city);\n            jo.addProperty(&quot;zipcode&quot;, myCustomer.address.zipCode); // ok iven if underlying field is missing\n\n            /*\n            !!!\n            NullPointerException - deserialized nested field is null (no leaf-level fields)\n            !!!\n             */\n            jo.addProperty(&quot;info&quot;, myCustomer.description.info);\n            jo.addProperty(&quot;moreInfo&quot;, myCustomer.description.moreInfo);\n\n            return jo;\n        }\n    }\n\n    @Test\n    public void testRun() {\n\n        // create gson instance with gson builder\n        GsonBuilder gsonBuilder = new GsonBuilder()\n            // register custom deserializer for MyCustomer class\n            .registerTypeAdapter(MyCustomer.class, new MyCustomerSerializer());\n        Gson gson = gsonBuilder.create();\n\n\n        // get example data\n        // missing: 'city.zipCode' and entire 'description'\n        String myCustomer1String = &quot;{'id':'a123','name':'John','birthdate':'1987-01-01','address':{'city':'Colorado'}}&quot;;\n\n        // deserialize - create customer pojo instance\n        MyCustomer myCustomer = gson.fromJson(myCustomer1String, MyCustomer.class);\n\n        // serialization - error occur here\n        String myCustomerParsed = gson.toJson(myCustomer);\n\n    }\n}```\n</code></pre>\n"},{"tags":["java","javafx","build","jar","release"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687337039,"creation_date":1687337039,"answer_id":76521470,"question_id":76521364,"body_markdown":"The classes `javax.naming.*` are in module `java.naming`, try adding module  `java.naming` to the list.","title":"&quot;JRE does not support JNDI&quot; while start my jar file with custom JRE after jlink","body":"<p>The classes <code>javax.naming.*</code> are in module <code>java.naming</code>, try adding module  <code>java.naming</code> to the list.</p>\n"}],"owner":{"account_id":27470264,"reputation":23,"user_id":21161705,"display_name":"Алексей Благодатских"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76521470,"answer_count":1,"score":0,"last_activity_date":1687337039,"creation_date":1687336026,"question_id":76521364,"body_markdown":"please help me, I&#39;ve got a little program on JavaFX, it works good, so that I wanted to deliver it to users, including people without java at all. I build it to the Jar file, it works well with start.bat (where I add javafx modules to start), and last thing I must have a JRE folder in this folder. If I copy all folder with JRE17.0 it weight more than 400mb (but works well on the computers without java), and I know that my program could be have a size about 135mb with custom JRE. So, with jdeps I found all module dependences (successfully), and link it to the folder &quot;java runtime&quot;, everything works well, jlink created folder with custom JRE with success. And when I start ready project on a computer without pre-installed java, with this custom JRE, I got such problem:\r\n\r\nWARN StatusConsoleListener JNDI lookup class is not available because this JRE does not support JNDI. JNDI string lookups will not be available, continuing configuration. Ignoring java.lang.NoClassDefFoundError: javax/naming/Context\r\nException in Application start method\r\n\r\n\r\nI even couldn&#39;t find similar problem in google... May be I forgot about some very important module, I don&#39;t know... I used this commands to create my custom JRE.\r\n\r\njdeps --ignore-missing-deps --list-deps --multi-release 17 --module-path libs --add-modules ALL-MODULE-PATH ExpensesViewer.jar\r\n\r\njlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.datatransfer,java.desktop,java.logging,java.management,java.net.http,java.scripting,java.sql,java.transaction.xa,java.xml,jdk.jsobject,jdk.unsupported,jdk.unsupported.desktop --output java-runtime \r\n\r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)","title":"&quot;JRE does not support JNDI&quot; while start my jar file with custom JRE after jlink","body":"<p>please help me, I've got a little program on JavaFX, it works good, so that I wanted to deliver it to users, including people without java at all. I build it to the Jar file, it works well with start.bat (where I add javafx modules to start), and last thing I must have a JRE folder in this folder. If I copy all folder with JRE17.0 it weight more than 400mb (but works well on the computers without java), and I know that my program could be have a size about 135mb with custom JRE. So, with jdeps I found all module dependences (successfully), and link it to the folder &quot;java runtime&quot;, everything works well, jlink created folder with custom JRE with success. And when I start ready project on a computer without pre-installed java, with this custom JRE, I got such problem:</p>\n<p>WARN StatusConsoleListener JNDI lookup class is not available because this JRE does not support JNDI. JNDI string lookups will not be available, continuing configuration. Ignoring java.lang.NoClassDefFoundError: javax/naming/Context\nException in Application start method</p>\n<p>I even couldn't find similar problem in google... May be I forgot about some very important module, I don't know... I used this commands to create my custom JRE.</p>\n<p>jdeps --ignore-missing-deps --list-deps --multi-release 17 --module-path libs --add-modules ALL-MODULE-PATH ExpensesViewer.jar</p>\n<p>jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.datatransfer,java.desktop,java.logging,java.management,java.net.http,java.scripting,java.sql,java.transaction.xa,java.xml,jdk.jsobject,jdk.unsupported,jdk.unsupported.desktop --output java-runtime</p>\n<p>java version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":1,"creation_date":1687247890,"post_id":76512419,"comment_id":134905980,"body_markdown":"Maybe this will help: https://stackoverflow.com/a/24313507/2996452 - so basically wait for the other task to complete with `Thread.join()`","body":"Maybe this will help: <a href=\"https://stackoverflow.com/a/24313507/2996452\">stackoverflow.com/a/24313507/2996452</a> - so basically wait for the other task to complete with <code>Thread.join()</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687336562,"post_id":76512419,"comment_id":134921091,"body_markdown":"Shutdown hooks must not engage in time-intensive operations of any kind. This is stated clearly in the documentation.","body":"Shutdown hooks must not engage in time-intensive operations of any kind. This is stated clearly in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687290196,"creation_date":1687250144,"answer_id":76512812,"question_id":76512419,"body_markdown":"From java 8 you can use [CompletableFuture][1] to do this. Generally you want to do some action, and the main program should wait for the result.\r\n\r\n\r\n\r\nIf you don’t want to return anything from your callback function and just want to run some piece of code after the completion of the Future, then you can use thenAccept() and thenRun() methods. These methods are consumers and are often used as the last callback in the callback chain.\r\n\r\n`CompletableFuture.thenAccept()` takes a `Consumer&lt;T&gt;` and returns `CompletableFuture&lt;Void&gt;`. It has access to the result of the `CompletableFuture` on which it is attached. \r\n\r\nin your case you can do something like below:\r\n\r\n// thenAccept() example\r\n\r\n        CompletableFuture.supplyAsync(() -&gt; {\r\n    \t    return schedulerManager.shutdown();\r\n       }).thenAccept(product -&gt; {\r\n    \t    System.out.println(&quot;Scheduler manager is down!&quot;;)\r\n        });\r\n\r\nHere you can see some more examples - [click][2].\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://www.callicoder.com/java-8-completablefuture-tutorial/","title":"Make program shutdown pause in Java","body":"<p>From java 8 you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> to do this. Generally you want to do some action, and the main program should wait for the result.</p>\n<p>If you don’t want to return anything from your callback function and just want to run some piece of code after the completion of the Future, then you can use thenAccept() and thenRun() methods. These methods are consumers and are often used as the last callback in the callback chain.</p>\n<p><code>CompletableFuture.thenAccept()</code> takes a <code>Consumer&lt;T&gt;</code> and returns <code>CompletableFuture&lt;Void&gt;</code>. It has access to the result of the <code>CompletableFuture</code> on which it is attached.</p>\n<p>in your case you can do something like below:</p>\n<p>// thenAccept() example</p>\n<pre><code>    CompletableFuture.supplyAsync(() -&gt; {\n        return schedulerManager.shutdown();\n   }).thenAccept(product -&gt; {\n        System.out.println(&quot;Scheduler manager is down!&quot;;)\n    });\n</code></pre>\n<p>Here you can see some more examples - <a href=\"https://www.callicoder.com/java-8-completablefuture-tutorial/\" rel=\"nofollow noreferrer\">click</a>.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687336979,"creation_date":1687336053,"answer_id":76521369,"question_id":76512419,"body_markdown":"You can&#39;t prevent closing the streams during JVM shutdown. And the shutdown hook is not the right place to persist job state. You will never know which moment of the processing has been interrupted.\r\n\r\nMy proposal is to persist the job state prior to processing using state like `JOB_STARTED`. And persist again after the processing with `JOB_SUCCESSFUL`. This way if the application has been closed in the middle of processing you will know which jobs need to be restarted.\r\n\r\nBTW this is how `Spring Batch` handles job state.\r\n\r\nAdditionally you can implement a REST endpoint using Spring Boot MVC. Endpoint like `shutdown` can check if any jobs are still running, wait until completed and then exit application.","title":"Make program shutdown pause in Java","body":"<p>You can't prevent closing the streams during JVM shutdown. And the shutdown hook is not the right place to persist job state. You will never know which moment of the processing has been interrupted.</p>\n<p>My proposal is to persist the job state prior to processing using state like <code>JOB_STARTED</code>. And persist again after the processing with <code>JOB_SUCCESSFUL</code>. This way if the application has been closed in the middle of processing you will know which jobs need to be restarted.</p>\n<p>BTW this is how <code>Spring Batch</code> handles job state.</p>\n<p>Additionally you can implement a REST endpoint using Spring Boot MVC. Endpoint like <code>shutdown</code> can check if any jobs are still running, wait until completed and then exit application.</p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687336979,"creation_date":1687247036,"question_id":76512419,"body_markdown":"In Java how can we &quot;pause&quot; any program shutdown request and wait for a method to return before shutting down (or after a given timeout)\r\n\r\n```\r\n\r\nimport picocli.CommandLine;\r\n// Imports \r\n@CommandLine.Command(\r\n        name = &quot;main&quot;,\r\n        description = &quot;Example main command&quot;\r\n)\r\npublic class MainCommand implements Callable&lt;Integer&gt; {\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        \r\n        // Register the shutdown hook\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            try {\r\n                schedulerManager.shutdown(); // must wait for this to return or timeout\r\n            } catch (IOException | SchedulerException e) {\r\n                Logger.error(&quot;Scheduler shutdown failed: &quot; + e.getMessage());\r\n            }\r\n        }));\r\n        \r\n        while (true) {\r\n            Thread.sleep(1000);  // Sleep for 1 second.\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe shutdown method in the scheduler here will first attempt to persist jobs into the database:\r\n\r\n```\r\npublic void shutdown() throws SchedulerException, IOException {\r\n    persistSchedulerState();\r\n    shutdownScheduler();\r\n}\r\n```\r\n\r\nThis is where it fails, the database is unable to persists since the streams have been closed. ","title":"Make program shutdown pause in Java","body":"<p>In Java how can we &quot;pause&quot; any program shutdown request and wait for a method to return before shutting down (or after a given timeout)</p>\n<pre><code>\nimport picocli.CommandLine;\n// Imports \n@CommandLine.Command(\n        name = &quot;main&quot;,\n        description = &quot;Example main command&quot;\n)\npublic class MainCommand implements Callable&lt;Integer&gt; {\n    @Override\n    public Integer call() throws Exception {\n        \n        // Register the shutdown hook\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            try {\n                schedulerManager.shutdown(); // must wait for this to return or timeout\n            } catch (IOException | SchedulerException e) {\n                Logger.error(&quot;Scheduler shutdown failed: &quot; + e.getMessage());\n            }\n        }));\n        \n        while (true) {\n            Thread.sleep(1000);  // Sleep for 1 second.\n        }\n    }\n\n}\n</code></pre>\n<p>The shutdown method in the scheduler here will first attempt to persist jobs into the database:</p>\n<pre><code>public void shutdown() throws SchedulerException, IOException {\n    persistSchedulerState();\n    shutdownScheduler();\n}\n</code></pre>\n<p>This is where it fails, the database is unable to persists since the streams have been closed.</p>\n"},{"tags":["java","stripe-payments","webhooks"],"answers":[{"tags":[],"owner":{"account_id":6911980,"reputation":17014,"user_id":5307473,"display_name":"Ywain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452504826,"creation_date":1452504826,"answer_id":34718086,"question_id":34692942,"body_markdown":"If the customer ID, invoice ID and charge ID are different, then it&#39;s not the same event.\r\n\r\nYou probably have multiple customers with subscriptions set up on your account.\r\n\r\nStripe will send an [`invoice.payment_succeeded`][1] event each time payment succeeds for _any_ invoice.\r\n\r\nIf you have multiple customers with subscriptions, Stripe will automatically create an invoice for each of them at the start of each billing periods, and attempt payment for these invoices approximately one hour after creation.\r\n\r\nYou can look up the [`attempt_count`][2] attribute on any [invoice object][3] to know whether this is the first payment attempt or not for a given invoice.\r\n\r\n  [1]: https://stripe.com/docs/api#event_types-invoice.payment_succeeded\r\n  [2]: https://stripe.com/docs/api#invoice_object-attempt_count\r\n  [3]: https://stripe.com/docs/api#invoice_object","title":"Stripe invoice.payment_succeeded webhook is triggered multiple times","body":"<p>If the customer ID, invoice ID and charge ID are different, then it's not the same event.</p>\n\n<p>You probably have multiple customers with subscriptions set up on your account.</p>\n\n<p>Stripe will send an <a href=\"https://stripe.com/docs/api#event_types-invoice.payment_succeeded\" rel=\"nofollow\"><code>invoice.payment_succeeded</code></a> event each time payment succeeds for <em>any</em> invoice.</p>\n\n<p>If you have multiple customers with subscriptions, Stripe will automatically create an invoice for each of them at the start of each billing periods, and attempt payment for these invoices approximately one hour after creation.</p>\n\n<p>You can look up the <a href=\"https://stripe.com/docs/api#invoice_object-attempt_count\" rel=\"nofollow\"><code>attempt_count</code></a> attribute on any <a href=\"https://stripe.com/docs/api#invoice_object\" rel=\"nofollow\">invoice object</a> to know whether this is the first payment attempt or not for a given invoice.</p>\n"},{"tags":[],"owner":{"account_id":15386724,"reputation":23,"user_id":11100603,"display_name":"Gobinda Saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687336035,"creation_date":1687336035,"answer_id":76521368,"question_id":34692942,"body_markdown":"**Did you return status 200 at the end of the event?**\r\n\r\nThis event can also be fired several times for not being successfully executed. Stripe will try to complete the request so, there should be return status to notify stripe whether it is completed or failed. ","title":"Stripe invoice.payment_succeeded webhook is triggered multiple times","body":"<p><strong>Did you return status 200 at the end of the event?</strong></p>\n<p>This event can also be fired several times for not being successfully executed. Stripe will try to complete the request so, there should be return status to notify stripe whether it is completed or failed.</p>\n"}],"owner":{"account_id":2194870,"reputation":553,"user_id":1940844,"accept_rate":29,"display_name":"KayKay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7345,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1687336035,"creation_date":1452339303,"question_id":34692942,"body_markdown":"I am using Stripe (test mode) to develop the payment module in my application. I have done the following,\r\n\r\n1. Subscribing a customer to an existing plan created in stripe using Customer.create(customerParams). Which I understand that it will create a customer, subscribe to the plan, creates the invoice, charges the invoice.\r\n\r\n2. I have added a webhook for invoice.payment_succeeded (paymentSuccess) and invoice.payment_failure (paymentFailure) only. Created a webhook in my application.\r\n\r\nI get the following,\r\n\r\n1. My paymentSuccess webhook is called successfully after the Customer.create(customerParams) is called, using which I can retrieve event, invoice, charge and customer details to process it in my application. The paid flag is set to true.\r\n\r\n2. This webhook is called more than once (even more than 3 times) in a specific interval (around 30 mins or so), with different invoice id, customer id, charge id. \r\n\r\nMy questions:\r\n\r\n1. Why there is a multiple webhook call for the same event?\r\n2. If it is a retry for the failed payment, actually there is no failed payment. The call was always for invoice.payment_succeeded.\r\n3. Even if the event is repeated, why the customer_id, invoice_id are different each time as it is supposed to be the same since the payment has been done only once.\r\n\r\nAny help would be greatly appreciated. Thanks in advance.","title":"Stripe invoice.payment_succeeded webhook is triggered multiple times","body":"<p>I am using Stripe (test mode) to develop the payment module in my application. I have done the following,</p>\n\n<ol>\n<li><p>Subscribing a customer to an existing plan created in stripe using Customer.create(customerParams). Which I understand that it will create a customer, subscribe to the plan, creates the invoice, charges the invoice.</p></li>\n<li><p>I have added a webhook for invoice.payment_succeeded (paymentSuccess) and invoice.payment_failure (paymentFailure) only. Created a webhook in my application.</p></li>\n</ol>\n\n<p>I get the following,</p>\n\n<ol>\n<li><p>My paymentSuccess webhook is called successfully after the Customer.create(customerParams) is called, using which I can retrieve event, invoice, charge and customer details to process it in my application. The paid flag is set to true.</p></li>\n<li><p>This webhook is called more than once (even more than 3 times) in a specific interval (around 30 mins or so), with different invoice id, customer id, charge id. </p></li>\n</ol>\n\n<p>My questions:</p>\n\n<ol>\n<li>Why there is a multiple webhook call for the same event?</li>\n<li>If it is a retry for the failed payment, actually there is no failed payment. The call was always for invoice.payment_succeeded.</li>\n<li>Even if the event is repeated, why the customer_id, invoice_id are different each time as it is supposed to be the same since the payment has been done only once.</li>\n</ol>\n\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1655600423,"post_id":72673663,"comment_id":128369930,"body_markdown":"Are you upgrading the framework or the framework and a program to the that SprintBoot version?","body":"Are you upgrading the framework or the framework and a program to the that SprintBoot version?"},{"owner":{"account_id":25589943,"reputation":11,"user_id":19366911,"display_name":"Baris Aaron"},"score":0,"creation_date":1655601023,"post_id":72673663,"comment_id":128369974,"body_markdown":"@Dale  WARN 16724 --- [ main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException:","body":"@Dale  WARN 16724 --- [ main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceI&zwnj;&#8203;nitializationConfigu&zwnj;&#8203;ration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException:"},{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":2,"creation_date":1655609979,"post_id":72673663,"comment_id":128370765,"body_markdown":"“Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).”\n\nSeems like the database url is missing.","body":"“Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.  Reason: Failed to determine a suitable driver class   Action:  Consider the following:     If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.     If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).”  Seems like the database url is missing."}],"answers":[{"tags":[],"owner":{"account_id":25590253,"reputation":16,"user_id":19367150,"display_name":"Monu Neolia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687335620,"creation_date":1687335620,"answer_id":76521307,"question_id":72673663,"body_markdown":"You can add the properties in the **application.properties** file\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/database_name\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\n\r\n#Hibernate configuration\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.show-sql=true\r\n```\r\n\r\nPlease change the **username**, **password**, and **database_name** according to your needs. \r\n\r\nIf the solution works for you please **upvote** it. ","title":"how to handle Spring-boot installation errors?","body":"<p>You can add the properties in the <strong>application.properties</strong> file</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/database_name\nspring.datasource.username=username\nspring.datasource.password=password\n\n#Hibernate configuration\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.show-sql=true\n</code></pre>\n<p>Please change the <strong>username</strong>, <strong>password</strong>, and <strong>database_name</strong> according to your needs.</p>\n<p>If the solution works for you please <strong>upvote</strong> it.</p>\n"}],"owner":{"account_id":25589943,"reputation":11,"user_id":19366911,"display_name":"Baris Aaron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687335620,"creation_date":1655600308,"question_id":72673663,"body_markdown":"I have just installed today java spring but I came along a lot of problem normally when I start default spring version comes with 2.3.2(old version) I want to set up as 2.7.0.(upgraded)\r\n\r\nI arranged upper edition,error sign comes always.Pom.xml file stand like OK but I do not know wheather fine.\r\n\r\nI installed org.codehaus... maven file\r\n\r\n\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;baris&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\nmaven output:\r\n\r\n    cd C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-17.0.1&quot; cmd /c &quot;\\&quot;C:\\\\Program Files\\\\NetBeans-12.6\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\&quot; -Dexec.vmArgs= \\&quot;-Dexec.args=${exec.vmArgs} -classpath %classpath ${exec.mainClass} ${exec.appArgs}\\&quot; \\&quot;-Dexec.executable=C:\\\\Program Files\\\\Java\\\\jdk-17.0.1\\\\bin\\\\java.exe\\&quot; -Dexec.mainClass=baris.demo.DemoApplication -Dexec.classpathScope=runtime -DskipTests=true -Dexec.appArgs= \\&quot;-Dmaven.ext.class.path=C:\\\\Program Files\\\\NetBeans-12.6\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:3.0.0:exec&quot;\r\n    Running NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -----------------------------&lt; baris:demo &gt;-----------------------------\r\n    [INFO] Building demo 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:3.0.0:exec (default-cli) @ demo ---\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.7.0)\r\n    \r\n    2022-06-19 03:45:20.730  INFO 18280 --- [           main] baris.demo.DemoApplication               : Starting DemoApplication using Java 17.0.1 on bz with PID 18280 (C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris\\target\\classes started by pc in C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris)\r\n    2022-06-19 03:45:20.734  INFO 18280 --- [           main] baris.demo.DemoApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-06-19 03:45:21.842  INFO 18280 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-06-19 03:45:21.867  INFO 18280 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.\r\n    2022-06-19 03:45:22.972  INFO 18280 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-06-19 03:45:22.988  INFO 18280 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-06-19 03:45:22.989  INFO 18280 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\r\n    2022-06-19 03:45:23.199  INFO 18280 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-06-19 03:45:23.200  INFO 18280 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2400 ms\r\n    2022-06-19 03:45:23.288  WARN 18280 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    2022-06-19 03:45:23.294  INFO 18280 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-06-19 03:45:23.315  INFO 18280 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-06-19 03:45:23.348 ERROR 18280 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n    \r\n    [ERROR] Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.250 s\r\n    [INFO] Finished at: 2022-06-19T03:45:24+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project demo: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n","title":"how to handle Spring-boot installation errors?","body":"<p>I have just installed today java spring but I came along a lot of problem normally when I start default spring version comes with 2.3.2(old version) I want to set up as 2.7.0.(upgraded)</p>\n<p>I arranged upper edition,error sign comes always.Pom.xml file stand like OK but I do not know wheather fine.</p>\n<p>I installed org.codehaus... maven file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;baris&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>maven output:</p>\n<pre><code>cd C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-17.0.1&quot; cmd /c &quot;\\&quot;C:\\\\Program Files\\\\NetBeans-12.6\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\&quot; -Dexec.vmArgs= \\&quot;-Dexec.args=${exec.vmArgs} -classpath %classpath ${exec.mainClass} ${exec.appArgs}\\&quot; \\&quot;-Dexec.executable=C:\\\\Program Files\\\\Java\\\\jdk-17.0.1\\\\bin\\\\java.exe\\&quot; -Dexec.mainClass=baris.demo.DemoApplication -Dexec.classpathScope=runtime -DskipTests=true -Dexec.appArgs= \\&quot;-Dmaven.ext.class.path=C:\\\\Program Files\\\\NetBeans-12.6\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:3.0.0:exec&quot;\nRunning NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------------&lt; baris:demo &gt;-----------------------------\n[INFO] Building demo 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:3.0.0:exec (default-cli) @ demo ---\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.0)\n\n2022-06-19 03:45:20.730  INFO 18280 --- [           main] baris.demo.DemoApplication               : Starting DemoApplication using Java 17.0.1 on bz with PID 18280 (C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris\\target\\classes started by pc in C:\\Users\\pc\\Documents\\NetBeansProjects\\initbaris)\n2022-06-19 03:45:20.734  INFO 18280 --- [           main] baris.demo.DemoApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-06-19 03:45:21.842  INFO 18280 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-06-19 03:45:21.867  INFO 18280 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.\n2022-06-19 03:45:22.972  INFO 18280 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-06-19 03:45:22.988  INFO 18280 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-06-19 03:45:22.989  INFO 18280 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\n2022-06-19 03:45:23.199  INFO 18280 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-06-19 03:45:23.200  INFO 18280 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2400 ms\n2022-06-19 03:45:23.288  WARN 18280 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n2022-06-19 03:45:23.294  INFO 18280 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-06-19 03:45:23.315  INFO 18280 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-19 03:45:23.348 ERROR 18280 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.250 s\n[INFO] Finished at: 2022-06-19T03:45:24+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project demo: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9636,"page":356,"page_size":100}
