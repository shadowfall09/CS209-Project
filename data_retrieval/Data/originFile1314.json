{"items":[{"tags":["java","checkstyle"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653436204,"post_id":72370542,"comment_id":127851155,"body_markdown":"IIRC there’s nothing for this by default; perhaps someone has written one.","body":"IIRC there’s nothing for this by default; perhaps someone has written one."}],"answers":[{"tags":[],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653572040,"creation_date":1653524543,"answer_id":72385425,"question_id":72370542,"body_markdown":"I ended up adding a simple `RegexpMultiline` module which should work for now thought it may not catch all cases:\r\n\r\n```xml\r\n&lt;!-- Enforces blank lines after block-closing curly braces (with exceptions). --&gt;\r\n&lt;module name=&quot;RegexpMultiline&quot;&gt;\r\n    &lt;property name=&quot;format&quot; value=&quot;}\\n(?![ \\t]*(else|case|catch|finally|[})]|\\*)|$)&quot;/&gt;\r\n&lt;/module&gt;\r\n\r\n```","title":"Checkstyle: enforce empty line after close curly / before return","body":"<p>I ended up adding a simple <code>RegexpMultiline</code> module which should work for now thought it may not catch all cases:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Enforces blank lines after block-closing curly braces (with exceptions). --&gt;\n&lt;module name=&quot;RegexpMultiline&quot;&gt;\n    &lt;property name=&quot;format&quot; value=&quot;}\\n(?![ \\t]*(else|case|catch|finally|[})]|\\*)|$)&quot;/&gt;\n&lt;/module&gt;\n\n</code></pre>\n"}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72385425,"answer_count":1,"score":1,"last_activity_date":1653572040,"creation_date":1653435630,"question_id":72370542,"body_markdown":"Looking for a Checkstyle rule to enforce empty lines in some situations:\r\n\r\n**Empty Line After Close Curly**\r\n\r\n```java\r\nif (something)\r\n{\r\n    // not important\r\n}\r\ndoSomethingElse();\r\n```\r\n\r\n**Empty Line Before Return**\r\n\r\n```java\r\nfinal var result = doSomething();\r\nreturn result;\r\n```\r\n","title":"Checkstyle: enforce empty line after close curly / before return","body":"<p>Looking for a Checkstyle rule to enforce empty lines in some situations:</p>\n<p><strong>Empty Line After Close Curly</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>if (something)\n{\n    // not important\n}\ndoSomethingElse();\n</code></pre>\n<p><strong>Empty Line Before Return</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>final var result = doSomething();\nreturn result;\n</code></pre>\n"},{"tags":["java","linux","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1557927739,"post_id":56147352,"comment_id":98930986,"body_markdown":"Please update to 2.0.15, and share any log messages you get. Consider also sharing your .pdfbox.cache file. (in your user directory)","body":"Please update to 2.0.15, and share any log messages you get. Consider also sharing your .pdfbox.cache file. (in your user directory)"},{"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"score":1,"creation_date":1558447001,"post_id":56147352,"comment_id":99098576,"body_markdown":"Sorry, It was my mistake. I was using 1.8.* version.","body":"Sorry, It was my mistake. I was using 1.8.* version."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1558451312,"post_id":56147352,"comment_id":99101419,"body_markdown":"The 1.8 version had many flaws with fonts. Which is why that was much improved in 2.0.*.","body":"The 1.8 version had many flaws with fonts. Which is why that was much improved in 2.0.*."}],"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653571798,"creation_date":1557916732,"question_id":56147352,"body_markdown":"I am having an issue while converting PDF to Tiff on linux system(Windows is working fine), I feel few fonts are not loaded/found.\r\n\r\nI am attaching the original PDF file and output Tiff file. You can see the difference in the fonts of PDF and output tiff.\r\n\r\n[Original PDFfile][1]\r\n\r\n[Converted Tiff][2]\r\n\r\n  [1]: https://drive.google.com/open?id=1kk8pUyo2ExJRI_iizGR6-ceQRkvveSXb\r\n  [2]: https://drive.google.com/open?id=1_0fTf8GKBHNiPOzjtERSEALdmhjTts_a\r\n\r\n\r\nYou can clearly see the difference in 2 files. Is there any font which is missing on the linux(same is working fine with other PDF tools)? ","title":"Converting PDF to Tiff using PDFBox 2.0.14 on linux font issue","body":"<p>I am having an issue while converting PDF to Tiff on linux system(Windows is working fine), I feel few fonts are not loaded/found.</p>\n\n<p>I am attaching the original PDF file and output Tiff file. You can see the difference in the fonts of PDF and output tiff.</p>\n\n<p><a href=\"https://drive.google.com/open?id=1kk8pUyo2ExJRI_iizGR6-ceQRkvveSXb\" rel=\"nofollow noreferrer\">Original PDFfile</a></p>\n\n<p><a href=\"https://drive.google.com/open?id=1_0fTf8GKBHNiPOzjtERSEALdmhjTts_a\" rel=\"nofollow noreferrer\">Converted Tiff</a></p>\n\n<p>You can clearly see the difference in 2 files. Is there any font which is missing on the linux(same is working fine with other PDF tools)? </p>\n"},{"tags":["java","numbers","rounding"],"comments":[{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":1,"creation_date":1653569605,"post_id":72392140,"comment_id":127886682,"body_markdown":"Sounds like you simply want to round to the nearest multiple of 0.5. Is that correct?","body":"Sounds like you simply want to round to the nearest multiple of 0.5. Is that correct?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1653569639,"post_id":72392140,"comment_id":127886701,"body_markdown":"I don&#39;t understand what the &quot;1 or 2&quot;, &quot;3, 4, 6 or 7&quot; or &quot;8 or 9&quot; mean. Likewise &quot;If number is closer to 0&quot; - closer to 0 than what? Some examples would be really helpful here, along with a rewording to make it as clear as possible.","body":"I don&#39;t understand what the &quot;1 or 2&quot;, &quot;3, 4, 6 or 7&quot; or &quot;8 or 9&quot; mean. Likewise &quot;If number is closer to 0&quot; - closer to 0 than what? Some examples would be really helpful here, along with a rewording to make it as clear as possible."}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653570122,"creation_date":1653570122,"answer_id":72392258,"question_id":72392140,"body_markdown":"I assume that you are looking at numbers in the range 0.0 to 1.0. You could work with the range boundaries you give. If num &lt; 0.3 return 0.0, or if num &lt; 0.8 return 0.5, otherwise return 1.0","title":"Java custom rounding of double","body":"<p>I assume that you are looking at numbers in the range 0.0 to 1.0. You could work with the range boundaries you give. If num &lt; 0.3 return 0.0, or if num &lt; 0.8 return 0.5, otherwise return 1.0</p>\n"}],"owner":{"account_id":25396410,"reputation":1,"user_id":19206604,"display_name":"EAG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653570449,"answer_count":1,"score":0,"last_activity_date":1653571679,"creation_date":1653569538,"question_id":72392140,"body_markdown":"I need to do a custom rounding that works that way:\r\n- If number is closer to 0, it is rounded down (1 or 2)\r\n- If number is closer to 0.5, it is rounded to 0.5 (3, 4, 6 or 7)\r\n- If number is closer to 1, it is rounded up (8 or 9)\r\n  \r\n What would be the best approach to this problem?\r\n\r\nEdit: this question was already answered in &quot;Java round to nearest .5&quot;. Thanks for the answers.","title":"Java custom rounding of double","body":"<p>I need to do a custom rounding that works that way:</p>\n<ul>\n<li>If number is closer to 0, it is rounded down (1 or 2)</li>\n<li>If number is closer to 0.5, it is rounded to 0.5 (3, 4, 6 or 7)</li>\n<li>If number is closer to 1, it is rounded up (8 or 9)</li>\n</ul>\n<p>What would be the best approach to this problem?</p>\n<p>Edit: this question was already answered in &quot;Java round to nearest .5&quot;. Thanks for the answers.</p>\n"},{"tags":["java","spring","spring-boot","gradle","build"],"comments":[{"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"score":0,"creation_date":1653548701,"post_id":72378620,"comment_id":127880066,"body_markdown":"facing same issue.\nadding dep from dir, preventing loading for property files from active project.","body":"facing same issue. adding dep from dir, preventing loading for property files from active project."}],"answers":[{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653571266,"creation_date":1653571266,"answer_id":72392526,"question_id":72378620,"body_markdown":"Found the issue:\r\nin my case the lib jar contained `spring.components` under META-INF dir\r\nwhich messes with the startup of the application.\r\n\r\nIf you check you classes under `@ComponentScan(basePackege= &quot;your-packge&quot;)` will also be not getting configured because of the above issue.\r\n\r\nUse lib without spring application.","title":"Dependent jar not able to locate the resolve a property value from application.yml file","body":"<p>Found the issue:\nin my case the lib jar contained <code>spring.components</code> under META-INF dir\nwhich messes with the startup of the application.</p>\n<p>If you check you classes under <code>@ComponentScan(basePackege= &quot;your-packge&quot;)</code> will also be not getting configured because of the above issue.</p>\n<p>Use lib without spring application.</p>\n"}],"owner":{"account_id":5415704,"reputation":11,"user_id":4310902,"display_name":"Vicky Km"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653571266,"creation_date":1653485562,"question_id":72378620,"body_markdown":"I have a gradle project which requires two local jars as dependency. I am adding them using fileTree\r\n\r\n&gt;implementation fileTree(dir: &#39;..//libs&#39;, include: &#39;*.jar&#39;)\r\n\r\nThe problem I am facing is , **the dependent jar requires a property value from the application.yml file available in the main project**. And I am getting this error, even though I have the property available in my application.yml file located in the resources folder.\r\n\r\n \r\n&gt;java.lang.IllegalArgumentException: Could not resolve placeholder &#39;test.key&#39; in value &quot;${test.key}&quot;\r\n\r\nIs there any way to give the property file location to my dependent jar? Or any other ways to make this work?","title":"Dependent jar not able to locate the resolve a property value from application.yml file","body":"<p>I have a gradle project which requires two local jars as dependency. I am adding them using fileTree</p>\n<blockquote>\n<p>implementation fileTree(dir: '..//libs', include: '*.jar')</p>\n</blockquote>\n<p>The problem I am facing is , <strong>the dependent jar requires a property value from the application.yml file available in the main project</strong>. And I am getting this error, even though I have the property available in my application.yml file located in the resources folder.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not resolve placeholder 'test.key' in value &quot;${test.key}&quot;</p>\n</blockquote>\n<p>Is there any way to give the property file location to my dependent jar? Or any other ways to make this work?</p>\n"},{"tags":["java","rest","jasperserver"],"comments":[{"owner":{"account_id":7774424,"reputation":2461,"user_id":5882963,"display_name":"Narcis"},"score":0,"creation_date":1490172329,"post_id":42609384,"comment_id":72988855,"body_markdown":"The error message says you are sending your XML as `application/octet-stream`. Your code works fine on my jaspersever 6.2.1 instance with the httpclient-4.3.6. Maybe you have extra code that resets the content-type header.","body":"The error message says you are sending your XML as <code>application&#47;octet-stream</code>. Your code works fine on my jaspersever 6.2.1 instance with the httpclient-4.3.6. Maybe you have extra code that resets the content-type header."},{"owner":{"account_id":1323919,"reputation":151,"user_id":1269171,"accept_rate":25,"display_name":"Ralph"},"score":0,"creation_date":1490191101,"post_id":42609384,"comment_id":73002257,"body_markdown":"I don&#39;t think I have extra code that might mess things up. I have it working right now. I do remember adding a HTTP Basic authentication header to the initial request. I think that made it work but then it fails on the next request which is to retrieve the request status. In the end, I solved that problem by using the login service and keep track of the session cookie. I couldn&#39;t get multiple requests to work with HTTP basic. Don&#39;t know why. It seems the server does not keep track of username/password based sessions while the login service does (based on the session cookie)","body":"I don&#39;t think I have extra code that might mess things up. I have it working right now. I do remember adding a HTTP Basic authentication header to the initial request. I think that made it work but then it fails on the next request which is to retrieve the request status. In the end, I solved that problem by using the login service and keep track of the session cookie. I couldn&#39;t get multiple requests to work with HTTP basic. Don&#39;t know why. It seems the server does not keep track of username/password based sessions while the login service does (based on the session cookie)"}],"answers":[{"tags":[],"owner":{"account_id":18021824,"reputation":1,"user_id":13098828,"display_name":"ARK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653570967,"creation_date":1653570967,"answer_id":72392459,"question_id":42609384,"body_markdown":"Use `&quot;Content-Type&quot;:&quot;application/json&quot;` in header its work","title":"JasperReports Server REST returns 415 Unsupported Media Type","body":"<p>Use <code>&quot;Content-Type&quot;:&quot;application/json&quot;</code> in header its work</p>\n"}],"owner":{"account_id":1323919,"reputation":151,"user_id":1269171,"accept_rate":25,"display_name":"Ralph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653570967,"creation_date":1488723065,"question_id":42609384,"body_markdown":"I have created a Jasper Report on JasperReports Server. If I click it in the administrator web page, the report is correctly generated (by first querying my database) and rendered. I&#39;d also like to run the report through the /reportExecutions REST call but I cannot get it to work. I&#39;m using the following code to make the POST request:\r\n\r\n    String xml = &quot;&quot;\r\n      + &quot;&lt;reportExecutionRequest&gt;&quot;\r\n      + &quot;...&quot;\r\n      + &quot;&lt;/reportExecutionRequest&gt;&quot;;\r\n\r\n    HttpPost post = new HttpPost(\r\n      new URI(&quot;http://localhost:8080/rest_v2/reportExecutions&quot;));\r\n    post.setHeader(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n    post.setEntity(new StringEntity(xml));\r\n\r\n    HttpResponse response = client.execute(post);\r\n\r\nMy response always give me a 415 Unsupported Media Type error even though I specify the content type to be &quot;application/xml&quot; in the POST header. If I look at the Java stack trace output of the JasperReports server, it indicates the following:\r\n\r\n    Caused by: com.sun.jersey.api.MessageException: \r\n    A message body reader for Java class \r\n    com.jaspersoft.jasperserver.jaxrs.report. \r\n    ReportExecutionRequest, and Java type class\r\n    com.jaspersoft.jasperserver.jaxrs.report.ReportExecutionRequest,\r\n    and MIME media type application/octet-stream was not found.\r\n\r\nSo, it looks it&#39;s receiving something with a content type &quot;application/octet-stream&quot; for which it cannot find a message body reader. Any ideas what I&#39;m doing wrong?\r\n\r\nThanks.","title":"JasperReports Server REST returns 415 Unsupported Media Type","body":"<p>I have created a Jasper Report on JasperReports Server. If I click it in the administrator web page, the report is correctly generated (by first querying my database) and rendered. I'd also like to run the report through the /reportExecutions REST call but I cannot get it to work. I'm using the following code to make the POST request:</p>\n\n<pre><code>String xml = \"\"\n  + \"&lt;reportExecutionRequest&gt;\"\n  + \"...\"\n  + \"&lt;/reportExecutionRequest&gt;\";\n\nHttpPost post = new HttpPost(\n  new URI(\"http://localhost:8080/rest_v2/reportExecutions\"));\npost.setHeader(\"Content-Type\", \"application/xml\");\npost.setEntity(new StringEntity(xml));\n\nHttpResponse response = client.execute(post);\n</code></pre>\n\n<p>My response always give me a 415 Unsupported Media Type error even though I specify the content type to be \"application/xml\" in the POST header. If I look at the Java stack trace output of the JasperReports server, it indicates the following:</p>\n\n<pre><code>Caused by: com.sun.jersey.api.MessageException: \nA message body reader for Java class \ncom.jaspersoft.jasperserver.jaxrs.report. \nReportExecutionRequest, and Java type class\ncom.jaspersoft.jasperserver.jaxrs.report.ReportExecutionRequest,\nand MIME media type application/octet-stream was not found.\n</code></pre>\n\n<p>So, it looks it's receiving something with a content type \"application/octet-stream\" for which it cannot find a message body reader. Any ideas what I'm doing wrong?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1653568884,"post_id":72391086,"comment_id":127886365,"body_markdown":"Your test is invoking Sort.threadedSort(..).  That method is implemented to throw the exception you have shown.  You have to replace that exception-throwing with an actual implementation.","body":"Your test is invoking Sort.threadedSort(..).  That method is implemented to throw the exception you have shown.  You have to replace that exception-throwing with an actual implementation."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653565349,"creation_date":1653565349,"answer_id":72391257,"question_id":72391086,"body_markdown":"From your own post:\r\n\r\n```\r\npublic class Sort {\r\n\r\n   /**\r\n          * You are to implement this method. The method should invoke one or\r\n       * more threads to read and sort the data from the collection of Files.\r\n         * The method should return a sorted list of all of the String data \r\n       * contained in the files.\r\n            * \r\n       * @param files\r\n        * @return\r\n        * @throws IOException \r\n               */\r\n         public static String[] threadedSort(File[] files) throws IOException {\r\n          throw new java.lang.IllegalStateException(&quot;Method not implemented&quot;);\r\n           }\r\n```\r\nThat&#39;s the exception that you&#39;re seeing, and it&#39;s there because you didn&#39;t do what the comment told you to do yet.","title":"why i am getting this Exception in thread &quot;main&quot; java.lang.IllegalStateException: Method not implemented","body":"<p>From your own post:</p>\n<pre><code>public class Sort {\n\n   /**\n          * You are to implement this method. The method should invoke one or\n       * more threads to read and sort the data from the collection of Files.\n         * The method should return a sorted list of all of the String data \n       * contained in the files.\n            * \n       * @param files\n        * @return\n        * @throws IOException \n               */\n         public static String[] threadedSort(File[] files) throws IOException {\n          throw new java.lang.IllegalStateException(&quot;Method not implemented&quot;);\n           }\n</code></pre>\n<p>That's the exception that you're seeing, and it's there because you didn't do what the comment told you to do yet.</p>\n"}],"owner":{"account_id":21599973,"reputation":5,"user_id":15928298,"display_name":"Bharat Chaudhari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653570807,"creation_date":1653564505,"question_id":72391086,"body_markdown":"Why I am getting this exception while run the main class?\r\n```none\r\nThe data returned by Sort.sort is sorted.\r\nSort.sort took 0.5760083 seconds to read and sort the data.\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Method not implemented\r\n\tat Sort.threadedSort(Sort.java:21)\r\n\tat SortTest.main(SortTest.java:41)\r\nC:\\Users\\DELL\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\DELL\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\r\nBUILD FAILED (total time: 0 seconds)\r\n```\r\nThis is my `MergeSort` class\r\n```java\r\npublic class MergeSort {\r\n\r\n    // The mergeSort method returns a sorted copy of the\r\n    // String objects contained in the String array data.\r\n    /**\r\n     * Sorts the String objects using the merge sort algorithm.\r\n     * \r\n     * @param data the String objects to be sorted\r\n     * @return the String objects sorted in ascending order\r\n     */\r\n    public static String[] mergeSort(String[] data) {\r\n        if (data.length &gt; 1) {\r\n            String[] left = new String[data.length / 2];\r\n            String[] right = new String[data.length - left.length];\r\n            System.arraycopy(data, 0, left, 0, left.length);\r\n            System.arraycopy(data, left.length, right, 0, right.length);\r\n            left = mergeSort(left);\r\n            right = mergeSort(right);\r\n            return merge(left, right);\r\n        }\r\n        else {\r\n            return data;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The merge method accepts two String arrays that are assumed\r\n     * to be sorted in ascending order. The method will return a\r\n     * sorted array of String objects containing all String objects\r\n     * from the two input collections.\r\n     * \r\n     * @param left a sorted collection of String objects\r\n     * @param right a sorted collection of String objects\r\n     * @return a sorted collection of String objects\r\n     */\r\n    public static String[] merge(String[] left, String[] right) {\r\n        String[] data = new String[left.length + right.length];\r\n        int lIndex = 0;\r\n        int rIndex = 0;\r\n        for (int i=0; i&lt;data.length; i++) {\r\n            if (lIndex == left.length) {\r\n                data[i] = right[rIndex];\r\n                rIndex++;\r\n            }\r\n            else if (rIndex == right.length) {\r\n                data[i] = left[lIndex];\r\n                lIndex++;\r\n            }\r\n            else if (left[lIndex].compareTo(right[rIndex]) &lt; 0) {\r\n                data[i] = left[lIndex];\r\n                lIndex++;\r\n            }\r\n            else {\r\n                data[i] = right[rIndex];\r\n                rIndex++;\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\n```\r\nThis is my `Sort` class.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Sort {\r\n\r\n    /**\r\n     * You are to implement this method. The method should invoke one or\r\n     * more threads to read and sort the data from the collection of Files.\r\n     * The method should return a sorted list of all of the String data \r\n     * contained in the files.\r\n     * \r\n     * @param files\r\n     * @return\r\n     * @throws IOException \r\n     */\r\n    public static String[] threadedSort(File[] files) throws IOException {\r\n        throw new java.lang.IllegalStateException(&quot;Method not implemented&quot;);\r\n    }\r\n\r\n    /**\r\n     * Given an array of files, this method will return a sorted \r\n     * list of the String data contained in each of the files.\r\n     * \r\n     * @param files the files to be read\r\n     * @return the sorted data\r\n     * @throws IOException thrown if any errors occur reading the file\r\n     */\r\n    public static String[] sort(File[] files) throws IOException {\r\n        String[] sortedData = new String[0];\r\n        for (File file : files) {\r\n            String[] data = getData(file);\r\n            data = MergeSort.mergeSort(data);\r\n            sortedData = MergeSort.merge(sortedData, data);\r\n        }\r\n        return sortedData;\r\n    }\r\n\r\n    /**\r\n     * This method will read in the string data from the specified \r\n     * file and return the data as an array of String objects.\r\n     * \r\n     * @param file the file containing the String data\r\n     * @return String array containing the String data\r\n     * @throws IOException thrown if any errors occur reading the file\r\n     */\r\n    private static String[] getData(File file) throws IOException {\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n        BufferedReader in = new BufferedReader(new FileReader(file));\r\n        // Read the data from the file until the end of file is reached\r\n        while (true) {\r\n            String line = in.readLine();\r\n            if (line == null) {\r\n                // the end of file was reached\r\n                break;\r\n            }\r\n            else {\r\n                data.add(line);\r\n            }\r\n        }\r\n        //Close the input stream and return the data\r\n        in.close();\r\n        return data.toArray(new String[0]);\r\n    }\r\n}\r\n```\r\nThis is my `SortTest` class:\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\n/**\r\n * The class SortTest is used to test the threaded and non-threaded\r\n * sort methods. This program will call each method to sort the data\r\n * contained in the four test files. This program will then test the\r\n * results to ensure that the results are sorted in ascending order.\r\n * \r\n * Simply run this program to verify that you have correctly implemented\r\n * the threaded sort method. The program will not verify if your sort\r\n * uses threads, but will verify if your implementation correctly \r\n * sorted the data contained in the four files.\r\n * \r\n * There should be no reason to make modifications to this class.\r\n */\r\npublic class SortTest {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File[] files = {new File(&quot;enable1.txt&quot;),\r\n                        new File(&quot;enable2k.txt&quot;),\r\n                        new File(&quot;lower.txt&quot;),\r\n                        new File(&quot;mixed.txt&quot;)};\r\n        // Run Sort.sort on the files\r\n        long startTime = System.nanoTime();\r\n        String[] sortedData = Sort.sort(files);\r\n        long stopTime = System.nanoTime();\r\n        double elapsedTime = (stopTime - startTime) / 1000000000.0;\r\n\r\n        // Test to ensure the data is sorted\r\n        for (int i=0; i&lt;sortedData.length-1; i++) {\r\n            if (sortedData[i].compareTo(sortedData[i+1]) &gt; 0) {\r\n                System.out.println(&quot;The data returned by Sort.sort is not sorted.&quot;);\r\n                throw new java.lang.IllegalStateException(&quot;The data returned by Sort.sort is not sorted&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;The data returned by Sort.sort is sorted.&quot;);\r\n        System.out.println(&quot;Sort.sort took &quot; + elapsedTime + &quot; seconds to read and sort the data.&quot;);\r\n\r\n        // Run Sort.threadedSort on the files and test to ensure the data is sorted\r\n        startTime = System.nanoTime();\r\n        String[] threadSortedData = Sort.threadedSort(files);\r\n        stopTime = System.nanoTime();\r\n        double threadedElapsedTime = (stopTime - startTime)/ 1000000000.0;\r\n\r\n        // Test to ensure the data is sorted\r\n        if (sortedData.length != threadSortedData.length) {\r\n            System.out.println(&quot;The data return by Sort.threadedSort is missing data&quot;);\r\n            throw new java.lang.IllegalStateException(&quot;The data returned by Sort.threadedSort is not sorted&quot;);\r\n        }\r\n        for (int i=0; i&lt;threadSortedData.length-1; i++) {\r\n            if (threadSortedData[i].compareTo(threadSortedData[i+1]) &gt; 0) {\r\n                System.out.println(&quot;The data return by Sort.threadedSort is not sorted&quot;);\r\n                throw new java.lang.IllegalStateException(&quot;The data returned by Sort.threadedSort is not sorted&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;The data returned by Sort.threadedSort is sorted.&quot;);\r\n        System.out.println(&quot;Sort.threadedSort took &quot; + threadedElapsedTime + &quot; seconds to read and sort the data.&quot;);\r\n    }\r\n}\r\n```\r\n","title":"why i am getting this Exception in thread &quot;main&quot; java.lang.IllegalStateException: Method not implemented","body":"<p>Why I am getting this exception while run the main class?</p>\n<pre class=\"lang-none prettyprint-override\"><code>The data returned by Sort.sort is sorted.\nSort.sort took 0.5760083 seconds to read and sort the data.\nException in thread &quot;main&quot; java.lang.IllegalStateException: Method not implemented\n    at Sort.threadedSort(Sort.java:21)\n    at SortTest.main(SortTest.java:41)\nC:\\Users\\DELL\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\DELL\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>This is my <code>MergeSort</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MergeSort {\n\n    // The mergeSort method returns a sorted copy of the\n    // String objects contained in the String array data.\n    /**\n     * Sorts the String objects using the merge sort algorithm.\n     * \n     * @param data the String objects to be sorted\n     * @return the String objects sorted in ascending order\n     */\n    public static String[] mergeSort(String[] data) {\n        if (data.length &gt; 1) {\n            String[] left = new String[data.length / 2];\n            String[] right = new String[data.length - left.length];\n            System.arraycopy(data, 0, left, 0, left.length);\n            System.arraycopy(data, left.length, right, 0, right.length);\n            left = mergeSort(left);\n            right = mergeSort(right);\n            return merge(left, right);\n        }\n        else {\n            return data;\n        }\n    }\n\n    /**\n     * The merge method accepts two String arrays that are assumed\n     * to be sorted in ascending order. The method will return a\n     * sorted array of String objects containing all String objects\n     * from the two input collections.\n     * \n     * @param left a sorted collection of String objects\n     * @param right a sorted collection of String objects\n     * @return a sorted collection of String objects\n     */\n    public static String[] merge(String[] left, String[] right) {\n        String[] data = new String[left.length + right.length];\n        int lIndex = 0;\n        int rIndex = 0;\n        for (int i=0; i&lt;data.length; i++) {\n            if (lIndex == left.length) {\n                data[i] = right[rIndex];\n                rIndex++;\n            }\n            else if (rIndex == right.length) {\n                data[i] = left[lIndex];\n                lIndex++;\n            }\n            else if (left[lIndex].compareTo(right[rIndex]) &lt; 0) {\n                data[i] = left[lIndex];\n                lIndex++;\n            }\n            else {\n                data[i] = right[rIndex];\n                rIndex++;\n            }\n        }\n        return data;\n    }\n}\n</code></pre>\n<p>This is my <code>Sort</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Sort {\n\n    /**\n     * You are to implement this method. The method should invoke one or\n     * more threads to read and sort the data from the collection of Files.\n     * The method should return a sorted list of all of the String data \n     * contained in the files.\n     * \n     * @param files\n     * @return\n     * @throws IOException \n     */\n    public static String[] threadedSort(File[] files) throws IOException {\n        throw new java.lang.IllegalStateException(&quot;Method not implemented&quot;);\n    }\n\n    /**\n     * Given an array of files, this method will return a sorted \n     * list of the String data contained in each of the files.\n     * \n     * @param files the files to be read\n     * @return the sorted data\n     * @throws IOException thrown if any errors occur reading the file\n     */\n    public static String[] sort(File[] files) throws IOException {\n        String[] sortedData = new String[0];\n        for (File file : files) {\n            String[] data = getData(file);\n            data = MergeSort.mergeSort(data);\n            sortedData = MergeSort.merge(sortedData, data);\n        }\n        return sortedData;\n    }\n\n    /**\n     * This method will read in the string data from the specified \n     * file and return the data as an array of String objects.\n     * \n     * @param file the file containing the String data\n     * @return String array containing the String data\n     * @throws IOException thrown if any errors occur reading the file\n     */\n    private static String[] getData(File file) throws IOException {\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\n        BufferedReader in = new BufferedReader(new FileReader(file));\n        // Read the data from the file until the end of file is reached\n        while (true) {\n            String line = in.readLine();\n            if (line == null) {\n                // the end of file was reached\n                break;\n            }\n            else {\n                data.add(line);\n            }\n        }\n        //Close the input stream and return the data\n        in.close();\n        return data.toArray(new String[0]);\n    }\n}\n</code></pre>\n<p>This is my <code>SortTest</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\n\n/**\n * The class SortTest is used to test the threaded and non-threaded\n * sort methods. This program will call each method to sort the data\n * contained in the four test files. This program will then test the\n * results to ensure that the results are sorted in ascending order.\n * \n * Simply run this program to verify that you have correctly implemented\n * the threaded sort method. The program will not verify if your sort\n * uses threads, but will verify if your implementation correctly \n * sorted the data contained in the four files.\n * \n * There should be no reason to make modifications to this class.\n */\npublic class SortTest {\n\n    public static void main(String[] args) throws IOException {\n        File[] files = {new File(&quot;enable1.txt&quot;),\n                        new File(&quot;enable2k.txt&quot;),\n                        new File(&quot;lower.txt&quot;),\n                        new File(&quot;mixed.txt&quot;)};\n        // Run Sort.sort on the files\n        long startTime = System.nanoTime();\n        String[] sortedData = Sort.sort(files);\n        long stopTime = System.nanoTime();\n        double elapsedTime = (stopTime - startTime) / 1000000000.0;\n\n        // Test to ensure the data is sorted\n        for (int i=0; i&lt;sortedData.length-1; i++) {\n            if (sortedData[i].compareTo(sortedData[i+1]) &gt; 0) {\n                System.out.println(&quot;The data returned by Sort.sort is not sorted.&quot;);\n                throw new java.lang.IllegalStateException(&quot;The data returned by Sort.sort is not sorted&quot;);\n            }\n        }\n        System.out.println(&quot;The data returned by Sort.sort is sorted.&quot;);\n        System.out.println(&quot;Sort.sort took &quot; + elapsedTime + &quot; seconds to read and sort the data.&quot;);\n\n        // Run Sort.threadedSort on the files and test to ensure the data is sorted\n        startTime = System.nanoTime();\n        String[] threadSortedData = Sort.threadedSort(files);\n        stopTime = System.nanoTime();\n        double threadedElapsedTime = (stopTime - startTime)/ 1000000000.0;\n\n        // Test to ensure the data is sorted\n        if (sortedData.length != threadSortedData.length) {\n            System.out.println(&quot;The data return by Sort.threadedSort is missing data&quot;);\n            throw new java.lang.IllegalStateException(&quot;The data returned by Sort.threadedSort is not sorted&quot;);\n        }\n        for (int i=0; i&lt;threadSortedData.length-1; i++) {\n            if (threadSortedData[i].compareTo(threadSortedData[i+1]) &gt; 0) {\n                System.out.println(&quot;The data return by Sort.threadedSort is not sorted&quot;);\n                throw new java.lang.IllegalStateException(&quot;The data returned by Sort.threadedSort is not sorted&quot;);\n            }\n        }\n        System.out.println(&quot;The data returned by Sort.threadedSort is sorted.&quot;);\n        System.out.println(&quot;Sort.threadedSort took &quot; + threadedElapsedTime + &quot; seconds to read and sort the data.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","bluetoothlescanner"],"answers":[{"tags":[],"owner":{"account_id":6401911,"reputation":21,"user_id":4964283,"display_name":"Min Thura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653054627,"creation_date":1653054627,"answer_id":72320051,"question_id":72319073,"body_markdown":"As you can see the latest name in the Bluetooth settings of the mobile device, I believe there is no issue with the Bluetooth manager of the system. The issue will be in the scanning function of the code as it is not actually refreshing the scan list yet and it might saved the last known BLE list somewhere in the cache. If you are using third-party library, you might need to check their documentation or codes about how the scan function actually works. There may be like force-refresh option or something in the library. As far as I know, to save the device&#39;s battery, there is a delay to actually refresh the scan list.","title":"How to refresh Bluetooth device name [Scan Cache]?","body":"<p>As you can see the latest name in the Bluetooth settings of the mobile device, I believe there is no issue with the Bluetooth manager of the system. The issue will be in the scanning function of the code as it is not actually refreshing the scan list yet and it might saved the last known BLE list somewhere in the cache. If you are using third-party library, you might need to check their documentation or codes about how the scan function actually works. There may be like force-refresh option or something in the library. As far as I know, to save the device's battery, there is a delay to actually refresh the scan list.</p>\n"},{"tags":[],"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653405271,"creation_date":1653395745,"answer_id":72362989,"question_id":72319073,"body_markdown":"I had the same problem and solved it by reading the new name from the raw scan data. In this way you never have to use device.getName() which returns the old name from the cache. This is Android Java code for the scan callback function.\r\n\r\n```\r\n  private ScanCallback newscancallback()\r\n    {\r\n    ScanCallback scb;\r\n  \r\n    // Device scan callback.\r\n    scb = new ScanCallback()\r\n      {\r\n      @Override\r\n      public void onScanResult(int callbackType, ScanResult result)\r\n        {\r\n        super.onScanResult(callbackType, result);\r\n        int n,k,len,getout;\r\n        BluetoothDevice dev;\r\n        byte[] rec;\r\n        StringBuilder nameb;\r\n        String name;\r\n        \r\n        \r\n        dev = result.getDevice();\r\n               \r\n        // do not use dev.getName() which returns cached name\r\n        // read current name from raw scan record instead \r\n\r\n        name = null;\r\n        rec = result.getScanRecord().getBytes();\r\n        len = rec.length;\r\n        nameb = new StringBuilder();\r\n        n = 0;\r\n        getout = 0;\r\n        // search scan record for name\r\n        while(n &lt; len-2 &amp;&amp; rec[n] != 0 &amp;&amp; getout == 0)\r\n          {\r\n          // rec[n] is length of next item\r\n          // rec[n+1] is item type - look for 8 or 9=name\r\n          // rec[n+2].. is the name, length rec[n]-1\r\n          if(rec[n] &gt; 1 &amp;&amp; (rec[n+1] == 8 || rec[n+1] == 9)\r\n            {  // found name\r\n            for(k = 0 ; k &lt; rec[n]-1 ; ++k)\r\n              nameb.append((char)rec[n+2+k]);\r\n            name = nameb.toString();\r\n            getout = 1;\r\n            }\r\n          else  // go to next item\r\n            n += rec[n] + 1;\r\n          }\r\n               \r\n        // name is now null or the new name from the scan record\r\n\r\n        }\r\n    \r\n      @Override\r\n      public void onScanFailed(int errcode)\r\n        {\r\n        }\r\n    \r\n      @Override\r\n      public void onBatchScanResults(List&lt;ScanResult&gt; result)\r\n        {\r\n        }\r\n      };\r\n    return (scb);\r\n    }\r\n\r\n```","title":"How to refresh Bluetooth device name [Scan Cache]?","body":"<p>I had the same problem and solved it by reading the new name from the raw scan data. In this way you never have to use device.getName() which returns the old name from the cache. This is Android Java code for the scan callback function.</p>\n<pre><code>  private ScanCallback newscancallback()\n    {\n    ScanCallback scb;\n  \n    // Device scan callback.\n    scb = new ScanCallback()\n      {\n      @Override\n      public void onScanResult(int callbackType, ScanResult result)\n        {\n        super.onScanResult(callbackType, result);\n        int n,k,len,getout;\n        BluetoothDevice dev;\n        byte[] rec;\n        StringBuilder nameb;\n        String name;\n        \n        \n        dev = result.getDevice();\n               \n        // do not use dev.getName() which returns cached name\n        // read current name from raw scan record instead \n\n        name = null;\n        rec = result.getScanRecord().getBytes();\n        len = rec.length;\n        nameb = new StringBuilder();\n        n = 0;\n        getout = 0;\n        // search scan record for name\n        while(n &lt; len-2 &amp;&amp; rec[n] != 0 &amp;&amp; getout == 0)\n          {\n          // rec[n] is length of next item\n          // rec[n+1] is item type - look for 8 or 9=name\n          // rec[n+2].. is the name, length rec[n]-1\n          if(rec[n] &gt; 1 &amp;&amp; (rec[n+1] == 8 || rec[n+1] == 9)\n            {  // found name\n            for(k = 0 ; k &lt; rec[n]-1 ; ++k)\n              nameb.append((char)rec[n+2+k]);\n            name = nameb.toString();\n            getout = 1;\n            }\n          else  // go to next item\n            n += rec[n] + 1;\n          }\n               \n        // name is now null or the new name from the scan record\n\n        }\n    \n      @Override\n      public void onScanFailed(int errcode)\n        {\n        }\n    \n      @Override\n      public void onBatchScanResults(List&lt;ScanResult&gt; result)\n        {\n        }\n      };\n    return (scb);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72362989,"answer_count":2,"score":0,"last_activity_date":1653570595,"creation_date":1653050307,"question_id":72319073,"body_markdown":"I am working on an application where I am connecting with the `BLE device` and sending `commands`.\r\nOne of that commands we have `a command for changing the Bluetooth device name`.\r\n\r\nCommunication is working fine, but the problem is when we send the command for changing the name it was working, BLE confirms the input and sends us the output, but when we disconnect and run LE Scan it was showing the same name as the `previous`, it should show the `new name of the device`.\r\n\r\nIf I want to get the latest name of the device I need to open the Bluetooth page manually in the device and scan over there in the scan result it was showing the latest name, when I open the app again which is in the background and its scanning under `LE scan` function with `10-sec` delay, it was showing the new name in the list.\r\n\r\nHow can I ask Bluetooth manager or system to `refresh the cache or refresh data for that Bluetooth device` ?.\r\n\r\nI don&#39;t know it was right to create ticket, but i have created ticket in google issue tracker : https://issuetracker.google.com/issues/233924346 \r\n\r\nThanks. \r\n\r\n\r\n","title":"How to refresh Bluetooth device name [Scan Cache]?","body":"<p>I am working on an application where I am connecting with the <code>BLE device</code> and sending <code>commands</code>.\nOne of that commands we have <code>a command for changing the Bluetooth device name</code>.</p>\n<p>Communication is working fine, but the problem is when we send the command for changing the name it was working, BLE confirms the input and sends us the output, but when we disconnect and run LE Scan it was showing the same name as the <code>previous</code>, it should show the <code>new name of the device</code>.</p>\n<p>If I want to get the latest name of the device I need to open the Bluetooth page manually in the device and scan over there in the scan result it was showing the latest name, when I open the app again which is in the background and its scanning under <code>LE scan</code> function with <code>10-sec</code> delay, it was showing the new name in the list.</p>\n<p>How can I ask Bluetooth manager or system to <code>refresh the cache or refresh data for that Bluetooth device</code> ?.</p>\n<p>I don't know it was right to create ticket, but i have created ticket in google issue tracker : <a href=\"https://issuetracker.google.com/issues/233924346\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/233924346</a></p>\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1524002084,"post_id":49888048,"comment_id":86792178,"body_markdown":"Well, you can make a start by getting the value corresponding to `A1`: `myMap.get(&quot;A1&quot;)`.  What&#39;s next?","body":"Well, you can make a start by getting the value corresponding to <code>A1</code>: <code>myMap.get(&quot;A1&quot;)</code>.  What&#39;s next?"},{"owner":{"account_id":13387863,"reputation":23,"user_id":9661155,"display_name":"ssubr"},"score":0,"creation_date":1524002325,"post_id":49888048,"comment_id":86792270,"body_markdown":"hi oliver, i did write a few lines of code to get the list of maps, then iterate through item, then get the values for the required key and add to the list i wanted. someone suggested there could be an easier way in java 8 using &quot;streams&quot;. i am not familiar with this concept, i searched and couldn&#39;t get a clear understanding. hence thought of asking here","body":"hi oliver, i did write a few lines of code to get the list of maps, then iterate through item, then get the values for the required key and add to the list i wanted. someone suggested there could be an easier way in java 8 using &quot;streams&quot;. i am not familiar with this concept, i searched and couldn&#39;t get a clear understanding. hence thought of asking here"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":4,"creation_date":1524002619,"post_id":49888048,"comment_id":86792379,"body_markdown":"You should probably update/rewrite your question accordingly then.  i.e. &quot;here is my iterative solution, but I can&#39;t figure out how to use streams&quot;.","body":"You should probably update/rewrite your question accordingly then.  i.e. &quot;here is my iterative solution, but I can&#39;t figure out how to use streams&quot;."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1524003685,"post_id":49888048,"comment_id":86792753,"body_markdown":"A `Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;` is a horrible construct. When you have more than 2 data structures nested (Map, Collection, Map), you should refactor your code to use custom Objects.","body":"A <code>Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;</code> is a horrible construct. When you have more than 2 data structures nested (Map, Collection, Map), you should refactor your code to use custom Objects."}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524005282,"creation_date":1524003798,"answer_id":49888353,"question_id":49888048,"body_markdown":"You can achieve the required result like so:\r\n\r\n    String itemNumber = &quot;1234&quot;;\r\n\r\n    List&lt;String&gt; result = \r\n           myMap.values()\r\n                .stream()\r\n                .flatMap(Collection::stream)\r\n                .map(Map::entrySet)\r\n                .flatMap(Collection::stream)\r\n                .filter(e -&gt; e.getKey().equals(itemNumber))\r\n                .map(Map.Entry::getValue)\r\n                .collect(Collectors.toList());\r\n\r\nThis is most likely to be used numerous times, in which case it would be wise to encapsulate the logic into a method as such:\r\n\r\n    static List&lt;String&gt; getListOfValuesByItemNumber( \r\n                Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; map,\r\n                String itemNumber){\r\n\r\n            return map.values()\r\n                    .stream()\r\n                    .flatMap(Collection::stream)\r\n                    .map(Map::entrySet)\r\n                    .flatMap(Collection::stream)\r\n                    .filter(e -&gt; e.getKey().equals(itemNumber))\r\n                    .map(Map.Entry::getValue)\r\n                    .collect(Collectors.toList());\r\n    }\r\n\r\nThen simply pass a reference to the map and the item number as the second parameter and retrieve back a list of values where the map entry key is equal to the item number.\r\n\r\n\r\n----------\r\nFurther, a non-stream approach would be:\r\n\r\n    static List&lt;String&gt; getListOfValuesByItemNumber(\r\n                Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; map,\r\n                                                         String itemNumber){\r\n             List&lt;String&gt; accumulator = new ArrayList&lt;&gt;();\r\n                  map.values()\r\n                     .forEach(collection -&gt; \r\n                             collection.forEach(m -&gt; m.forEach((k, v) -&gt; {\r\n                                 if(k.equals(itemNumber))\r\n                                     accumulator.add(v);\r\n                             })));\r\n             return accumulator;\r\n    }","title":"java: how to extract values from a Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;","body":"<p>You can achieve the required result like so:</p>\n\n<pre><code>String itemNumber = \"1234\";\n\nList&lt;String&gt; result = \n       myMap.values()\n            .stream()\n            .flatMap(Collection::stream)\n            .map(Map::entrySet)\n            .flatMap(Collection::stream)\n            .filter(e -&gt; e.getKey().equals(itemNumber))\n            .map(Map.Entry::getValue)\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>This is most likely to be used numerous times, in which case it would be wise to encapsulate the logic into a method as such:</p>\n\n<pre><code>static List&lt;String&gt; getListOfValuesByItemNumber( \n            Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; map,\n            String itemNumber){\n\n        return map.values()\n                .stream()\n                .flatMap(Collection::stream)\n                .map(Map::entrySet)\n                .flatMap(Collection::stream)\n                .filter(e -&gt; e.getKey().equals(itemNumber))\n                .map(Map.Entry::getValue)\n                .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>Then simply pass a reference to the map and the item number as the second parameter and retrieve back a list of values where the map entry key is equal to the item number.</p>\n\n<hr>\n\n<p>Further, a non-stream approach would be:</p>\n\n<pre><code>static List&lt;String&gt; getListOfValuesByItemNumber(\n            Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; map,\n                                                     String itemNumber){\n         List&lt;String&gt; accumulator = new ArrayList&lt;&gt;();\n              map.values()\n                 .forEach(collection -&gt; \n                         collection.forEach(m -&gt; m.forEach((k, v) -&gt; {\n                             if(k.equals(itemNumber))\n                                 accumulator.add(v);\n                         })));\n         return accumulator;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524004026,"creation_date":1524004026,"answer_id":49888407,"question_id":49888048,"body_markdown":"If I understand you correctly, this is what you want:\r\n\r\n    public static List&lt;String&gt; extractFieldValues(\r\n        Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; horribleMess,\r\n        String fieldName) {\r\n    \r\n        return horribleMess.values()\r\n                           .stream()\r\n                           .flatMap(Collection::stream)\r\n                           .map(map -&gt; map.get(fieldName))\r\n                           .collect(Collectors.toList());\r\n    }\r\n\r\nBut as indicated in a comment above, a Map/Collection/Map nesting is a maintenance nightmare you should get rid of through refactoring.","title":"java: how to extract values from a Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;","body":"<p>If I understand you correctly, this is what you want:</p>\n\n<pre><code>public static List&lt;String&gt; extractFieldValues(\n    Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt; horribleMess,\n    String fieldName) {\n\n    return horribleMess.values()\n                       .stream()\n                       .flatMap(Collection::stream)\n                       .map(map -&gt; map.get(fieldName))\n                       .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>But as indicated in a comment above, a Map/Collection/Map nesting is a maintenance nightmare you should get rid of through refactoring.</p>\n"},{"tags":[],"owner":{"account_id":16139251,"reputation":1,"user_id":11650872,"display_name":"Patel Vaidik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653570593,"creation_date":1653570364,"answer_id":72392314,"question_id":49888048,"body_markdown":"\r\nSolution is,\r\n\r\n```\r\nList&lt;String&gt; ItemNumberLists = ( map.values() ).stream()\r\n                                               .flatMap( Collection::stream )\r\n                                               .map( s -&gt; s.get(&quot;a&quot;) )\r\n                                               .collect( Collectors.toList() );\r\n```\r\n\r\nIf you still doubt ask in a comment.\r\n\r\n  [1]: https://i.stack.imgur.com/W4y2d.png","title":"java: how to extract values from a Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;","body":"<p>Solution is,</p>\n<pre><code>List&lt;String&gt; ItemNumberLists = ( map.values() ).stream()\n                                               .flatMap( Collection::stream )\n                                               .map( s -&gt; s.get(&quot;a&quot;) )\n                                               .collect( Collectors.toList() );\n</code></pre>\n<p>If you still doubt ask in a comment.</p>\n"}],"owner":{"account_id":13387863,"reputation":23,"user_id":9661155,"display_name":"ssubr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49888353,"answer_count":3,"score":2,"last_activity_date":1653570593,"creation_date":1524001949,"question_id":49888048,"body_markdown":"I inherited some code and there is a map which is defined as `Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt;`\r\n\r\nHere is a sample set of values stored in this map:\r\n\r\n    {\r\n        A1: [\r\n            {Item Number: &quot;1234&quot;,Tax Code: &quot;1&quot;},\r\n            {Item Number: &quot;2345&quot;,Tax Code: &quot;2&quot;},\r\n            {Item Number: &quot;1234&quot;,Tax Code: &quot;1&quot;}\r\n        ],\r\n        B2: [\r\n            {Store Number: &quot;111&quot;,Status: &quot;2&quot;},\r\n            {Store Number: &quot;222&quot;,Status: &quot;3&quot;}\r\n        ]\r\n    }\r\n\r\nHow can I get, say, A1.Item Number as a list of strings? I was planning to covert this to json and use json path. But since the map itself is available to me, is there an easier way?\r\n\r\nI am using java 8.\r\n\r\nThanks!","title":"java: how to extract values from a Map&lt;String,Collection&lt;Map&lt;String,String&gt;&gt;&gt;","body":"<p>I inherited some code and there is a map which is defined as <code>Map&lt;String, Collection&lt;Map&lt;String, String&gt;&gt;&gt;</code></p>\n\n<p>Here is a sample set of values stored in this map:</p>\n\n<pre><code>{\n    A1: [\n        {Item Number: \"1234\",Tax Code: \"1\"},\n        {Item Number: \"2345\",Tax Code: \"2\"},\n        {Item Number: \"1234\",Tax Code: \"1\"}\n    ],\n    B2: [\n        {Store Number: \"111\",Status: \"2\"},\n        {Store Number: \"222\",Status: \"3\"}\n    ]\n}\n</code></pre>\n\n<p>How can I get, say, A1.Item Number as a list of strings? I was planning to covert this to json and use json path. But since the map itself is available to me, is there an easier way?</p>\n\n<p>I am using java 8.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1532543599,"post_id":51525531,"comment_id":90019855,"body_markdown":"There&#39;s no way to determine the size of a stream, without doing the things you mention you can&#39;t do.  If a stream doesn&#39;t complete normally, you should get an IOException, so just read and if you don&#39;t get one then you read the whole stream.","body":"There&#39;s no way to determine the size of a stream, without doing the things you mention you can&#39;t do.  If a stream doesn&#39;t complete normally, you should get an IOException, so just read and if you don&#39;t get one then you read the whole stream."},{"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"score":0,"creation_date":1532543600,"post_id":51525531,"comment_id":90019856,"body_markdown":"why not just store the bytes read from the input stream while reading? You can use read(bytes[] ) and which returns the bytes read and keep track of that and check in the end against the expected size","body":"why not just store the bytes read from the input stream while reading? You can use read(bytes[] ) and which returns the bytes read and keep track of that and check in the end against the expected size"},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":2,"creation_date":1532543636,"post_id":51525531,"comment_id":90019874,"body_markdown":"It may not be possible to determine the &quot;size&quot; of an InputStream. For example, System.in is an  InputStream - how do you propose to determine its size before the user start typing?","body":"It may not be possible to determine the &quot;size&quot; of an InputStream. For example, System.in is an  InputStream - how do you propose to determine its size before the user start typing?"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1532543806,"post_id":51525531,"comment_id":90019948,"body_markdown":"For a general `InputStream` this is kinda iffy to do. But if you use a specific implementation (such as `ByteArrayInputStream` as you mention) then you can get the size.","body":"For a general <code>InputStream</code> this is kinda iffy to do. But if you use a specific implementation (such as <code>ByteArrayInputStream</code> as you mention) then you can get the size."}],"answers":[{"tags":[],"owner":{"account_id":13817616,"reputation":2000,"user_id":9973881,"display_name":"Michael Powers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532546648,"creation_date":1532546648,"answer_id":51526275,"question_id":51525531,"body_markdown":"In the context of using the JSch API, before calling ChannelSftp.get() you can call [ChannelSftp.lstat()](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#lstat-java.lang.String-).\r\n\r\nThis returns a [SftpATTRS object](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpATTRS.html) which contains a .getSize() method which returns the size of the file in bytes. This should tell you how many bytes you need to get in order to retrieve the entire file.\r\n\r\nJust keep in mind if the files you&#39;re getting are changing in size frequently there could be a race condition between getting the file size and starting the file transfer. So this method should be fine if you&#39;re simply using this as a progress indicator, but if you&#39;re allocating static buffers or something like that you may need to rethink your approach.","title":"Lowest impact method of getting size from InputStream","body":"<p>In the context of using the JSch API, before calling ChannelSftp.get() you can call <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#lstat-java.lang.String-\" rel=\"nofollow noreferrer\">ChannelSftp.lstat()</a>.</p>\n\n<p>This returns a <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpATTRS.html\" rel=\"nofollow noreferrer\">SftpATTRS object</a> which contains a .getSize() method which returns the size of the file in bytes. This should tell you how many bytes you need to get in order to retrieve the entire file.</p>\n\n<p>Just keep in mind if the files you're getting are changing in size frequently there could be a race condition between getting the file size and starting the file transfer. So this method should be fine if you're simply using this as a progress indicator, but if you're allocating static buffers or something like that you may need to rethink your approach.</p>\n"},{"tags":[],"owner":{"account_id":9820750,"reputation":871,"user_id":7275579,"display_name":"Aswath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653570504,"creation_date":1653570504,"answer_id":72392342,"question_id":51525531,"body_markdown":"Based on @Michael&#39;s suggestion \r\n\r\nHere&#39;s how we can do in kotlin\r\n\r\n```\r\n        val session: Session = getSession() // Jsch Session\r\n        session.connect()\r\n\r\n        val channel = session.openChannel(&quot;sftp&quot;) as ChannelSftp\r\n        channel.connect()\r\n\r\n        val contentSize: Long = channel.lstat(&quot;/upload/some_file.csv&quot;).size\r\n\r\n        val inputStream = channel.get(&quot;/upload/some_file.csv&quot;)\r\n```","title":"Lowest impact method of getting size from InputStream","body":"<p>Based on @Michael's suggestion</p>\n<p>Here's how we can do in kotlin</p>\n<pre><code>        val session: Session = getSession() // Jsch Session\n        session.connect()\n\n        val channel = session.openChannel(&quot;sftp&quot;) as ChannelSftp\n        channel.connect()\n\n        val contentSize: Long = channel.lstat(&quot;/upload/some_file.csv&quot;).size\n\n        val inputStream = channel.get(&quot;/upload/some_file.csv&quot;)\n</code></pre>\n"}],"owner":{"account_id":5186840,"reputation":104,"user_id":4150981,"accept_rate":40,"display_name":"Evan Cooper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653570504,"creation_date":1532543414,"question_id":51525531,"body_markdown":"I am trying to get the size of an InputStream for use as a comparison against a file transfer, to ensure that all file data is transferred. I&#39;m using Jcraft&#39;s ChannelSftp and SftpProgressMonitor, but `SftpProgressMonitor.init()` does not provide `max` for InputStreams, so I&#39;d like to find it internally.\r\n\r\nAt this point in the system, I know that the InputStream will not be written to any further, I can&#39;t easily access the original file to read that size, and I&#39;ve seen many of the other implementations that read into a byte array or ByteArrayOutputStream. What method would have the least overall impact on the system if I want to maintain an InputStream for the actual SFTP calls? The files being written can be quite large (into 1+ GB) so a simple implementation might have significant impact.","title":"Lowest impact method of getting size from InputStream","body":"<p>I am trying to get the size of an InputStream for use as a comparison against a file transfer, to ensure that all file data is transferred. I'm using Jcraft's ChannelSftp and SftpProgressMonitor, but <code>SftpProgressMonitor.init()</code> does not provide <code>max</code> for InputStreams, so I'd like to find it internally.</p>\n\n<p>At this point in the system, I know that the InputStream will not be written to any further, I can't easily access the original file to read that size, and I've seen many of the other implementations that read into a byte array or ByteArrayOutputStream. What method would have the least overall impact on the system if I want to maintain an InputStream for the actual SFTP calls? The files being written can be quite large (into 1+ GB) so a simple implementation might have significant impact.</p>\n"},{"tags":["java","android","kotlin","mapbox-android"],"answers":[{"tags":[],"owner":{"account_id":7903329,"reputation":201,"user_id":5969676,"display_name":"RickertBrandsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652952572,"creation_date":1652179248,"answer_id":72184854,"question_id":72154628,"body_markdown":"You could try to do something like this in your fragment\r\n\r\n     /**\r\n      * Create circle on the place of the point parameter on Earth\r\n      *\r\n      * @param mapView Mapbox&#39;s mapView\r\n      * @param point on Earth   -&gt; can be created like this &quot;Point point = Point.fromLngLat(50.0, 50.0);&quot;\r\n      */\r\n     public void createCircleAnnotation(MapView mapView, Point point) {\r\n         \r\n         AnnotationPlugin annotationApi = AnnotationPluginImplKt.getAnnotations(mapView);\r\n         CircleAnnotationManager circleAnnotationManager = CircleAnnotationManagerKt.createCircleAnnotationManager(annotationApi, new AnnotationConfig());\r\n\r\n         // circle annotations options\r\n         CircleAnnotationOptions circleAnnotationOptions = new CircleAnnotationOptions()\r\n                 .withPoint(point)\r\n                 .withCircleRadius(8.0)\r\n                 .withCircleColor(&quot;#ee4e8b&quot;)\r\n                 .withCircleBlur(0.5)\r\n                 .withCircleStrokeWidth(2.0)\r\n                 .withCircleStrokeColor(&quot;#ffffff&quot;);\r\n    \r\n         circleAnnotationManager.create(circleAnnotationOptions);\r\n     }\r\n\r\nThe method is placing single circle annotation on to certain point on  the Earth defined by the point variable. The only two things, you need to do, is to provide mapbox&#39;s MapView into the parameter and the Point variable.\r\n\r\n\r\nThe truth is that docs are a bit inaccurate even for Kotlin (mainly because of the multiple versions especially v10 vs previous versions), but with the help of decompiling of Kotlin bytecode, it is kind of possible to find a solution to almost everything for Java","title":"How to add a single annotation / marker with Mapbox Maps SDK for Android in Java","body":"<p>You could try to do something like this in your fragment</p>\n<pre><code> /**\n  * Create circle on the place of the point parameter on Earth\n  *\n  * @param mapView Mapbox's mapView\n  * @param point on Earth   -&gt; can be created like this &quot;Point point = Point.fromLngLat(50.0, 50.0);&quot;\n  */\n public void createCircleAnnotation(MapView mapView, Point point) {\n     \n     AnnotationPlugin annotationApi = AnnotationPluginImplKt.getAnnotations(mapView);\n     CircleAnnotationManager circleAnnotationManager = CircleAnnotationManagerKt.createCircleAnnotationManager(annotationApi, new AnnotationConfig());\n\n     // circle annotations options\n     CircleAnnotationOptions circleAnnotationOptions = new CircleAnnotationOptions()\n             .withPoint(point)\n             .withCircleRadius(8.0)\n             .withCircleColor(&quot;#ee4e8b&quot;)\n             .withCircleBlur(0.5)\n             .withCircleStrokeWidth(2.0)\n             .withCircleStrokeColor(&quot;#ffffff&quot;);\n\n     circleAnnotationManager.create(circleAnnotationOptions);\n }\n</code></pre>\n<p>The method is placing single circle annotation on to certain point on  the Earth defined by the point variable. The only two things, you need to do, is to provide mapbox's MapView into the parameter and the Point variable.</p>\n<p>The truth is that docs are a bit inaccurate even for Kotlin (mainly because of the multiple versions especially v10 vs previous versions), but with the help of decompiling of Kotlin bytecode, it is kind of possible to find a solution to almost everything for Java</p>\n"}],"owner":{"account_id":21675254,"reputation":11,"user_id":15992329,"display_name":"Daisy One"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653570119,"creation_date":1651942388,"question_id":72154628,"body_markdown":"So, I have problem converting `kotlin` to `java` lang from their guideline. I have tried it on many way such as converting kotlin to java file but still cannot got it.\r\n\r\nI have this code which is work with no annotation / marker. I call this method in `onCreateView`\r\n\r\n```java\r\nprivate void setMap() {\r\n    mapView = view.findViewById(R.id.mapView);\r\n    mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS);\r\n}\r\n```\r\n","title":"How to add a single annotation / marker with Mapbox Maps SDK for Android in Java","body":"<p>So, I have problem converting <code>kotlin</code> to <code>java</code> lang from their guideline. I have tried it on many way such as converting kotlin to java file but still cannot got it.</p>\n<p>I have this code which is work with no annotation / marker. I call this method in <code>onCreateView</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setMap() {\n    mapView = view.findViewById(R.id.mapView);\n    mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS);\n}\n</code></pre>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1653518865,"post_id":72384487,"comment_id":127875426,"body_markdown":"Have you tried injecting the `UriInfo`? That should provide you with all the information you need.","body":"Have you tried injecting the <code>UriInfo</code>? That should provide you with all the information you need."},{"owner":{"account_id":1174568,"reputation":1170,"user_id":1150878,"accept_rate":75,"display_name":"Duffmaster33"},"score":0,"creation_date":1653519728,"post_id":72384487,"comment_id":127875565,"body_markdown":"I saw an example with UriInfo to get query params programmatically but not how that could be used to automatically forward all submitted query params to the other API.  Do you have an example of how to accomplish what I need using UriInfo?","body":"I saw an example with UriInfo to get query params programmatically but not how that could be used to automatically forward all submitted query params to the other API.  Do you have an example of how to accomplish what I need using UriInfo?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1653525583,"post_id":72384487,"comment_id":127876351,"body_markdown":"How do you send the new request? Are you using a client which creates a new request and response?","body":"How do you send the new request? Are you using a client which creates a new request and response?"},{"owner":{"account_id":1174568,"reputation":1170,"user_id":1150878,"accept_rate":75,"display_name":"Duffmaster33"},"score":0,"creation_date":1653570167,"post_id":72384487,"comment_id":127886887,"body_markdown":"Yes, I included the code we use in my question, but we use RESTeasy to create a client.  The only thing I didn&#39;t include was how we call this client so I just edited it to include that code as well.","body":"Yes, I included the code we use in my question, but we use RESTeasy to create a client.  The only thing I didn&#39;t include was how we call this client so I just edited it to include that code as well."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1653576199,"post_id":72384487,"comment_id":127889251,"body_markdown":"I guess one question is why not use a `ContainerRequestFilter` instead of trying to re-do a call?","body":"I guess one question is why not use a <code>ContainerRequestFilter</code> instead of trying to re-do a call?"}],"owner":{"account_id":1174568,"reputation":1170,"user_id":1150878,"accept_rate":75,"display_name":"Duffmaster33"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653570079,"creation_date":1653515112,"question_id":72384487,"body_markdown":"We have a proxy API set up where we accept any path after our proxy (i.e. `/proxy/some/path`) and then everything after the proxy path should be forwarded on to another API using RESTeasy (so it would call `/some/path` in my example).\r\n\r\nThis is necessary for us for several reasons including avoiding CORS issues and it works most of the time for what we need.  However, some routes require query parameters some or all of the time, and because we are handling all routes the same, this causes a RESTeasy error today since the URL gets URL encoded to something like `/some/path%3ffilter=value`.\r\n\r\nOur endpoint today looks like: \r\n\r\n    @Path(&quot;proxy/{someUri : .*}&quot;)\r\n    @GET\r\n    public Response proxyGet(\r\n            @PathParam(&quot;someUri&quot;) String someUri,\r\n            @HeaderParam(COOKIE) String cookieHeader,\r\n            @Context HttpServletRequest request\r\n    ) {\r\n        return prepareProxyResponse(someUri, cookieHeader, request, null);\r\n    }\r\n\r\nOur RESTeasy interface looks like:\r\n\r\n    @GET\r\n    @Path(&quot;/{requestPath}&quot;)\r\n    Response proxyGet(\r\n            @PathParam(&quot;requestPath&quot;) String requestPath,\r\n            @HeaderParam(COOKIE) String sessionCookie,\r\n            @HeaderParam(CONTENT_TYPE) String contentType\r\n    );\r\n\r\nThe code that calls this looks like:\r\n\r\n    return client.proxyGet(fullPath, cookieHeader, contentTypeHeader);\r\n\r\nPrior to understanding this issue, we just took the request URI and added the query string to it so the requestPath above looked like `some/path?filter=value` which gets mangled.  Removing the query string avoids that, however, it also means we cannot pass any query params through.\r\n\r\nIs there a way to accept any query params and submit them to the other API using RESTeasy?  I know we can break these out where needed to manually specify query params with @QueryParam but since there are many (and more getting added regularly) this will be a lot of effort.  I think accomplishing what we are trying to do is not possible based on my research in other questions and the docs, but wanted to double-check before we embarked on a long process to convert. Thanks!","title":"RESTeasy: Pass through all query params","body":"<p>We have a proxy API set up where we accept any path after our proxy (i.e. <code>/proxy/some/path</code>) and then everything after the proxy path should be forwarded on to another API using RESTeasy (so it would call <code>/some/path</code> in my example).</p>\n<p>This is necessary for us for several reasons including avoiding CORS issues and it works most of the time for what we need.  However, some routes require query parameters some or all of the time, and because we are handling all routes the same, this causes a RESTeasy error today since the URL gets URL encoded to something like <code>/some/path%3ffilter=value</code>.</p>\n<p>Our endpoint today looks like:</p>\n<pre><code>@Path(&quot;proxy/{someUri : .*}&quot;)\n@GET\npublic Response proxyGet(\n        @PathParam(&quot;someUri&quot;) String someUri,\n        @HeaderParam(COOKIE) String cookieHeader,\n        @Context HttpServletRequest request\n) {\n    return prepareProxyResponse(someUri, cookieHeader, request, null);\n}\n</code></pre>\n<p>Our RESTeasy interface looks like:</p>\n<pre><code>@GET\n@Path(&quot;/{requestPath}&quot;)\nResponse proxyGet(\n        @PathParam(&quot;requestPath&quot;) String requestPath,\n        @HeaderParam(COOKIE) String sessionCookie,\n        @HeaderParam(CONTENT_TYPE) String contentType\n);\n</code></pre>\n<p>The code that calls this looks like:</p>\n<pre><code>return client.proxyGet(fullPath, cookieHeader, contentTypeHeader);\n</code></pre>\n<p>Prior to understanding this issue, we just took the request URI and added the query string to it so the requestPath above looked like <code>some/path?filter=value</code> which gets mangled.  Removing the query string avoids that, however, it also means we cannot pass any query params through.</p>\n<p>Is there a way to accept any query params and submit them to the other API using RESTeasy?  I know we can break these out where needed to manually specify query params with @QueryParam but since there are many (and more getting added regularly) this will be a lot of effort.  I think accomplishing what we are trying to do is not possible based on my research in other questions and the docs, but wanted to double-check before we embarked on a long process to convert. Thanks!</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1653569989,"post_id":72391894,"comment_id":127886821,"body_markdown":"On your host system, where is the file `japp.jar`?  (In the same directory as the Dockerfile, or somewhere else?)  Note that you can&#39;t use multiple `FROM` lines to combine images, so your current Dockerfile _only_ contains Java and not Node; the commented-out fragment would probably work better.","body":"On your host system, where is the file <code>japp.jar</code>?  (In the same directory as the Dockerfile, or somewhere else?)  Note that you can&#39;t use multiple <code>FROM</code> lines to combine images, so your current Dockerfile <i>only</i> contains Java and not Node; the commented-out fragment would probably work better."},{"owner":{"account_id":23490632,"reputation":646,"user_id":17541709,"display_name":"Fadi"},"score":0,"creation_date":1653570203,"post_id":72391894,"comment_id":127886904,"body_markdown":"@DavidMaze thanks! in your experience how can I replace the commented out section with eclipse-temurin:11?","body":"@DavidMaze thanks! in your experience how can I replace the commented out section with eclipse-temurin:11?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1653570648,"post_id":72391894,"comment_id":127887084,"body_markdown":"I&#39;d probably run basically exactly the set of commands you have there.  Or do the inverse and install Node on the Java image.  Or figure out how to run the two parts in two separate containers, communicating via some network channel.","body":"I&#39;d probably run basically exactly the set of commands you have there.  Or do the inverse and install Node on the Java image.  Or figure out how to run the two parts in two separate containers, communicating via some network channel."}],"owner":{"account_id":23490632,"reputation":646,"user_id":17541709,"display_name":"Fadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653569906,"creation_date":1653568475,"question_id":72391894,"body_markdown":"I&#39;m very much new to docker. I have a node application that process/read a java file. I&#39;m trying to create a docker image that runs node and java. I node configs are working well but I&#39;m always getting errors when building the docker file because of java - it shows\r\n\r\n```none\r\nfailed to compute cache key: &quot;/japp.jar&quot; not found: not found&quot; \r\n```\r\n\r\nMy Dockerfile contains:\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    FROM node:14.18.1 \r\n    RUN apt-get update &amp;&amp; apt-get -y upgrade\r\n    WORKDIR /code\r\n    EXPOSE 8443\r\n    COPY package.json /code/package.json\r\n    RUN npm install\r\n    COPY . /code\r\n    \r\n    # Jave Config\r\n    \r\n    FROM eclipse-temurin:11\r\n    RUN mkdir /opt/app\r\n    COPY japp.jar /opt/app\r\n    ENTRYPOINT  [&quot;java&quot;, &quot;-jar&quot;, &quot;/opt/app/japp.jar&quot;]\r\n    \r\n    CMD [&quot;node&quot;,&quot;app.js&quot;] \r\n\r\nI was trying to follow the docs [here][2] but no luck.\r\n\r\n\r\nIn the past, I was using the following for Java config and that was working fine, but it shows some vulnerability so I need to switch to eclipse-temurin:11\r\n\r\n\r\n    # RUN echo &#39;deb http://ftp.debian.org/debian stretch-backports main&#39; | tee /etc/apt/sources.list.d/stretch-backports.list\r\n    # RUN apt-get update &amp;&amp; apt-get -y upgrade &amp;&amp; \\\r\n    #     apt-get install -y openjdk-11-jre-headless &amp;&amp; \\\r\n    #     apt-get clean;\r\n\r\n\r\n  [2]: https://hub.docker.com/_/eclipse-temurin","title":"japp.jar is not found when building docker image","body":"<p>I'm very much new to docker. I have a node application that process/read a java file. I'm trying to create a docker image that runs node and java. I node configs are working well but I'm always getting errors when building the docker file because of java - it shows</p>\n<pre class=\"lang-none prettyprint-override\"><code>failed to compute cache key: &quot;/japp.jar&quot; not found: not found&quot; \n</code></pre>\n<p>My Dockerfile contains:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM node:14.18.1 \nRUN apt-get update &amp;&amp; apt-get -y upgrade\nWORKDIR /code\nEXPOSE 8443\nCOPY package.json /code/package.json\nRUN npm install\nCOPY . /code\n\n# Jave Config\n\nFROM eclipse-temurin:11\nRUN mkdir /opt/app\nCOPY japp.jar /opt/app\nENTRYPOINT  [&quot;java&quot;, &quot;-jar&quot;, &quot;/opt/app/japp.jar&quot;]\n\nCMD [&quot;node&quot;,&quot;app.js&quot;] \n</code></pre>\n<p>I was trying to follow the docs <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">here</a> but no luck.</p>\n<p>In the past, I was using the following for Java config and that was working fine, but it shows some vulnerability so I need to switch to eclipse-temurin:11</p>\n<pre><code># RUN echo 'deb http://ftp.debian.org/debian stretch-backports main' | tee /etc/apt/sources.list.d/stretch-backports.list\n# RUN apt-get update &amp;&amp; apt-get -y upgrade &amp;&amp; \\\n#     apt-get install -y openjdk-11-jre-headless &amp;&amp; \\\n#     apt-get clean;\n</code></pre>\n"},{"tags":["java","callback","processbuilder"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653529595,"post_id":72384438,"comment_id":127876837,"body_markdown":"*The problem is that this code design is rather inefficient* The documentation doesn&#39;t say that.  It says the default implementation polls.   Did you look at the actual implementation to see how it works?  Both Windows and Unix-style systems have an efficient way to wait on process termination without polling.  If you can&#39;t find the source, it should be easy enough to decide empirically whether it&#39;s inefficient: spawn a process that sleeps for 10 minutes, have the parent wait, and watch the CPU usage.","body":"<i>The problem is that this code design is rather inefficient</i> The documentation doesn&#39;t say that.  It says the default implementation polls.   Did you look at the actual implementation to see how it works?  Both Windows and Unix-style systems have an efficient way to wait on process termination without polling.  If you can&#39;t find the source, it should be easy enough to decide empirically whether it&#39;s inefficient: spawn a process that sleeps for 10 minutes, have the parent wait, and watch the CPU usage."},{"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"score":0,"creation_date":1654027129,"post_id":72384438,"comment_id":127993354,"body_markdown":"@danglingelse, the comment reads,  &quot;Concrete implementations of this class are strongly encouraged to override this method with a more efficient implementation.&quot; When the code&#39;s author says there&#39;s a problem, that&#39;s a pretty clear indication there&#39;s a problem. And yes, I&#39;m looking at the source code. A callback is a more efficient design pattern than polling. As any parent on a long road trip with kids can tell you, repeated &quot;Are we there yet?&quot; queries is a waste of effort.","body":"@danglingelse, the comment reads,  &quot;Concrete implementations of this class are strongly encouraged to override this method with a more efficient implementation.&quot; When the code&#39;s author says there&#39;s a problem, that&#39;s a pretty clear indication there&#39;s a problem. And yes, I&#39;m looking at the source code. A callback is a more efficient design pattern than polling. As any parent on a long road trip with kids can tell you, repeated &quot;Are we there yet?&quot; queries is a waste of effort."},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1654027769,"post_id":72384438,"comment_id":127993590,"body_markdown":"Right, But you need appropriate kernel support to detect process termination, which makes it a platform-specific issue.","body":"Right, But you need appropriate kernel support to detect process termination, which makes it a platform-specific issue."}],"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653569750,"creation_date":1653514759,"question_id":72384438,"body_markdown":"I&#39;m writing a separate thread to monitor an OS process spawned by Java&#39;s `ProcessBuilder`. The process can sometimes get out of control. After a given timeout period, I want to kill the process if it&#39;s still running. I can paste my code in if it&#39;s helpful (please ask), but the only detail directly relevant to the question is that I&#39;m using `Process::waitFor` to specify the timeout after which the process will be killed.\r\n\r\nThe problem is that this code design is relatively inefficient. As even the documentation for `Process::waitFor` says,\r\n\r\n&gt;     The default implementation of this methods polls the {@code exitValue}\r\n&gt;     to check if the process has terminated. Concrete implementations of this\r\n&gt;     class are strongly encouraged to override this method with a more\r\n&gt;     efficient implementation.\r\n\r\nI&#39;m thinking a much more efficient design would be to specify a callback to be executed after the process completes. I could execute my own timeout method that would kill the process if it were still running. But the callback, if run, would cancel the timeout kill method. \r\n\r\nCan I implement a callback pattern for a process spawned by `ProcessBuilder`?\r\n\r\nI&#39;m looking at the `ProcessBuilder.start(Redirect[] redirects)` and wondering if I could just tack the execution of the callback at the end of this method. Problem is that the class is final, so I can&#39;t subclass it. I&#39;d have to copy and modify. But I&#39;d also have to duplicate such dependencies as `ProcessEnvironment` and `ProcessImpl`, which are not public, as well as being final. Ugh.\r\n\r\nIs maybe there some way to extend the abstract class Process to use a callback? That class seems to have/be the only space left by the authors of Java for fixing up the inefficient code they&#39;ve left.\r\n\r\nOr perhaps there&#39;s another way to make `Process::waitFor` more efficient?","title":"How to have Process spawned by ProcessBuilder run a callback on completion/termination?","body":"<p>I'm writing a separate thread to monitor an OS process spawned by Java's <code>ProcessBuilder</code>. The process can sometimes get out of control. After a given timeout period, I want to kill the process if it's still running. I can paste my code in if it's helpful (please ask), but the only detail directly relevant to the question is that I'm using <code>Process::waitFor</code> to specify the timeout after which the process will be killed.</p>\n<p>The problem is that this code design is relatively inefficient. As even the documentation for <code>Process::waitFor</code> says,</p>\n<blockquote>\n<pre><code>The default implementation of this methods polls the {@code exitValue}\nto check if the process has terminated. Concrete implementations of this\nclass are strongly encouraged to override this method with a more\nefficient implementation.\n</code></pre>\n</blockquote>\n<p>I'm thinking a much more efficient design would be to specify a callback to be executed after the process completes. I could execute my own timeout method that would kill the process if it were still running. But the callback, if run, would cancel the timeout kill method.</p>\n<p>Can I implement a callback pattern for a process spawned by <code>ProcessBuilder</code>?</p>\n<p>I'm looking at the <code>ProcessBuilder.start(Redirect[] redirects)</code> and wondering if I could just tack the execution of the callback at the end of this method. Problem is that the class is final, so I can't subclass it. I'd have to copy and modify. But I'd also have to duplicate such dependencies as <code>ProcessEnvironment</code> and <code>ProcessImpl</code>, which are not public, as well as being final. Ugh.</p>\n<p>Is maybe there some way to extend the abstract class Process to use a callback? That class seems to have/be the only space left by the authors of Java for fixing up the inefficient code they've left.</p>\n<p>Or perhaps there's another way to make <code>Process::waitFor</code> more efficient?</p>\n"},{"tags":["java","spring","forms","validation","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1653569360,"post_id":72391577,"comment_id":127886574,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653569385,"creation_date":1653569385,"answer_id":72392100,"question_id":72391577,"body_markdown":"you can do without using annotations, but I believe it would be like taking the long way around, as annotations are made to ease the validation process.\r\n\r\nthere is the JSR 380 specification, it greatly simplifies your validation work.\r\n\r\nplease read this: https://www.baeldung.com/javax-validation\r\n\r\nhaving understood what javax validation is, you can implement validations directly in your java classes, and in the controller you can validate using @Valid, as in the following example:\r\n\r\n    @RequestMapping(&quot;/login&quot;)\r\n    public String showLogin(@Valid Member member, Errors errors, Model model) {\r\n       if(errors.hasErrors()) {\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n       return &quot;login&quot;;\r\n    }\r\n\r\nthis way, spring will validate your &#39;member&#39; class and if it contains any errors, it will return the error messages to the page.","title":"Can I validate a form in spring mvc without using anotation?","body":"<p>you can do without using annotations, but I believe it would be like taking the long way around, as annotations are made to ease the validation process.</p>\n<p>there is the JSR 380 specification, it greatly simplifies your validation work.</p>\n<p>please read this: <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javax-validation</a></p>\n<p>having understood what javax validation is, you can implement validations directly in your java classes, and in the controller you can validate using @Valid, as in the following example:</p>\n<pre><code>@RequestMapping(&quot;/login&quot;)\npublic String showLogin(@Valid Member member, Errors errors, Model model) {\n   if(errors.hasErrors()) {\n        return &quot;login&quot;;\n    }\n   return &quot;login&quot;;\n}\n</code></pre>\n<p>this way, spring will validate your 'member' class and if it contains any errors, it will return the error messages to the page.</p>\n"}],"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653569385,"creation_date":1653566832,"question_id":72391577,"body_markdown":"I read some document on the Internet about form validation in Spring MVC. And I don&#39;t know what happend if I use only Java core code (don&#39;t use anotation and something like BindingResult, hasError()...) for validation). Is there any convention that we must use anotation for validation. \r\nFor example, I use Java core code in my Controller class:\r\n\r\n        @RequestMapping(&quot;/login&quot;)\r\n\t    public String showLogin(@ModelAttribute(&quot;member&quot;) Member member, Model model) {\r\n           if(&quot;&quot;.equals(member.getUsername()){\r\n\t\t       model.addAttribute(&quot;error&quot;, &quot;username is empty&quot;);\r\n           }\r\n\t\t   return &quot;login&quot;;\r\n\t    }\r\n  \r\nAnd then I show error in my login.jsp file.\r\n \r\nI&#39;m a fresher java web developer, please explain it to me. ","title":"Can I validate a form in spring mvc without using anotation?","body":"<p>I read some document on the Internet about form validation in Spring MVC. And I don't know what happend if I use only Java core code (don't use anotation and something like BindingResult, hasError()...) for validation). Is there any convention that we must use anotation for validation.\nFor example, I use Java core code in my Controller class:</p>\n<pre><code>    @RequestMapping(&quot;/login&quot;)\n    public String showLogin(@ModelAttribute(&quot;member&quot;) Member member, Model model) {\n       if(&quot;&quot;.equals(member.getUsername()){\n           model.addAttribute(&quot;error&quot;, &quot;username is empty&quot;);\n       }\n       return &quot;login&quot;;\n    }\n</code></pre>\n<p>And then I show error in my login.jsp file.</p>\n<p>I'm a fresher java web developer, please explain it to me.</p>\n"},{"tags":["java","eclipse","maven","aspectj","load-time-weaving"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":2,"creation_date":1653434053,"post_id":72368791,"comment_id":127850795,"body_markdown":"Perhaps it would be best to state your actual question a little more elaborately than just in the title of the post.","body":"Perhaps it would be best to state your actual question a little more elaborately than just in the title of the post."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653491460,"post_id":72368791,"comment_id":127866706,"body_markdown":"For loadtime weaving you need a java agent, looking at your pom.xml you are actually using compile timeweaving. So which is it?","body":"For loadtime weaving you need a java agent, looking at your pom.xml you are actually using compile timeweaving. So which is it?"},{"owner":{"account_id":15519710,"reputation":64,"user_id":11196240,"display_name":"Seymour"},"score":0,"creation_date":1653491964,"post_id":72368791,"comment_id":127866922,"body_markdown":"@M.Deinum I am using compile-time weaving indeed. I am new to pom.xml configuration and Maven in general, but I was able to accomplish compile-time weaving; however, I was not able to figure out load-time weaving. I have shared the code that I already got working in case that would be of any help.","body":"@M.Deinum I am using compile-time weaving indeed. I am new to pom.xml configuration and Maven in general, but I was able to accomplish compile-time weaving; however, I was not able to figure out load-time weaving. I have shared the code that I already got working in case that would be of any help."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653569322,"creation_date":1653569322,"answer_id":72392089,"question_id":72368791,"body_markdown":"Wherever and in whichever way you are running your code, you simply need to add `-javaagent:/path/to/aspectjweaver.jar` to the Java command line. Furthermore, for LTW you need an `aop.xml` in the right place. For Maven that means:\r\n\r\n  * `aop.xml` should be located in `src/main/resources`.\r\n  * If you need LTW in a JUnit test or so, you need to add the `-javaagent` parameter to your Surefire plugin (unit tests) or Failsafe plugin (integration tests) configuration.\r\n  * If you want to start your compiled program using Exec Maven plugin, as seems to be the case, you need to add the `-javaagent` parameter to the plugin configuration there, too.\r\n\r\nOutside of Maven, again you need to add `-javaagent` to the command line.\r\n\r\nSorry for the generic answer, but it is just a reflection of your generic question. If you have a more precise follow-up question, you can comment on this answer.\r\n\r\nSome resources:\r\n  * [AspectJ load-time weaving](https://www.eclipse.org/aspectj/doc/released/devguide/ltw.html)\r\n  * [Maven Surefire `argLine` parameter](https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine)\r\n  * [Exec Maven `arguments` parameter for the `exec` goal](https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#arguments)","title":"How is Load-Time Weaving to a .jar file with AspectJ done?","body":"<p>Wherever and in whichever way you are running your code, you simply need to add <code>-javaagent:/path/to/aspectjweaver.jar</code> to the Java command line. Furthermore, for LTW you need an <code>aop.xml</code> in the right place. For Maven that means:</p>\n<ul>\n<li><code>aop.xml</code> should be located in <code>src/main/resources</code>.</li>\n<li>If you need LTW in a JUnit test or so, you need to add the <code>-javaagent</code> parameter to your Surefire plugin (unit tests) or Failsafe plugin (integration tests) configuration.</li>\n<li>If you want to start your compiled program using Exec Maven plugin, as seems to be the case, you need to add the <code>-javaagent</code> parameter to the plugin configuration there, too.</li>\n</ul>\n<p>Outside of Maven, again you need to add <code>-javaagent</code> to the command line.</p>\n<p>Sorry for the generic answer, but it is just a reflection of your generic question. If you have a more precise follow-up question, you can comment on this answer.</p>\n<p>Some resources:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/released/devguide/ltw.html\" rel=\"nofollow noreferrer\">AspectJ load-time weaving</a></li>\n<li><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\">Maven Surefire <code>argLine</code> parameter</a></li>\n<li><a href=\"https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#arguments\" rel=\"nofollow noreferrer\">Exec Maven <code>arguments</code> parameter for the <code>exec</code> goal</a></li>\n</ul>\n"}],"owner":{"account_id":15519710,"reputation":64,"user_id":11196240,"display_name":"Seymour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72392089,"answer_count":1,"score":0,"last_activity_date":1653569322,"creation_date":1653422206,"question_id":72368791,"body_markdown":"Some project background: I am working with an application that runs on Java. My goal is to collect real-time data to send it to an API running on a local server. The application is packaged into a .jar file and I have no access to source code. (Aside from the question, I have attempted to decompile the class to add additional functionality; however, that did not end well, $access000...)\r\n\r\nHaving just learned about AOP, I ran to test my options. I spend over a week figuring out Maven Setup and AspectJ with it.\r\n\r\nI set up a &quot;helloworld&quot; project in which I have been able to successfully weave aspects (from a .java file) into another .java file. My next step is to create an executable .jar file with the main class and weave the aspect .java class into it - then I would have achieved my desired outcome.\r\n\r\n### *Is it possible to take a precompiled .jar file, put it into the project and write aspects for it?* ###\r\n\r\nI am not sure if I am misunderstanding something, I believe that should be something feasable. \r\n\r\n## From AspectJ Development Environment Guide: ##\r\n\r\n&gt; In AspectJ tools, the aspectpath is where to find binary aspects. Like the classpath, _it can include archives_ ( **.jar** and .zip files) and directories containing .class files in a package layout (since binary aspects are in .class files).\r\n\r\nSome Reference information:\r\n\r\n- I am using Eclipse (4.23.0).\r\n- The project is a Maven project that I have added AspectJ support to (through conversion to an AspectJ project).\r\n- I have gone over a bunch of websites and StackOverflow responses figuring out AspectJ for Eclipse and found [This Question](https://stackoverflow.com/questions/69979971/error-when-opening-aj-file-in-sts-4-eclipse-4-21-0/70024351#70024351). TL;DR: I used this site as AspectJ (Temporary Fix) Source for Eclipse: https://aspectj.dev/eclipse/ajdt/421\r\n\r\n# **Project Structure** #\r\n```\r\n├── pom.xml\r\n└── src\r\n    ├── main\r\n    │   └── java\r\n    │       └── com\r\n    │           └── hellomaven\r\n    │               └── quickstart\r\n    │                   ├── App.java\r\n    │                   └── AppAspect.java\r\n    └── test\r\n        ├── java\r\n        └── resources\r\n```\r\n          \r\n# **POM.xml** #\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.hellomaven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quickstart&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;helloMaven&lt;/name&gt;\r\n      &lt;description&gt;test&lt;/description&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;junit.version&gt;4.5&lt;/junit.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.9&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\r\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;weaveDependencies&gt;\r\n                  &lt;weaveDependency&gt;\r\n                    &lt;groupId&gt;com.hellomaven.quickstart.App&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hello&lt;/artifactId&gt;\r\n                  &lt;/weaveDependency&gt;\r\n                &lt;/weaveDependencies&gt;\r\n              &lt;/configuration&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                    &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n              &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                  &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                  &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                  &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                  &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.3&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;mainClass&gt;com.hellomaven.quickstart&lt;/mainClass&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n&lt;!-- end snippet --&gt;\r\n\r\n# **App.java** #\r\n\r\n```\r\npackage com.hellomaven.quickstart;\r\n\r\npublic class App {\r\n\tpublic static void main(String[] args) {\r\n\t\thello(&quot;World&quot;);\r\n\t}\r\n\t\r\n\tpublic static void hello(String world) {\r\n\t\tSystem.out.println(&quot;Hello &quot; + world);\r\n\t}\r\n}\r\n```\r\n\r\n# **AppAspect.java** #\r\n\r\n```\r\npackage com.hellomaven.quickstart;\r\n\r\nimport org.aspectj.lang.annotation.*;\r\n\r\n@Aspect\r\npublic class AppAspect {\r\n\t\r\n\t@Before(&quot;execution(public static void hello(..))&quot;)\r\n\tpublic void testAspectBefore() {\r\n\t\tSystem.out.println(&quot;Before ok.&quot;);\r\n\t}\r\n}\r\n```","title":"How is Load-Time Weaving to a .jar file with AspectJ done?","body":"<p>Some project background: I am working with an application that runs on Java. My goal is to collect real-time data to send it to an API running on a local server. The application is packaged into a .jar file and I have no access to source code. (Aside from the question, I have attempted to decompile the class to add additional functionality; however, that did not end well, $access000...)</p>\n<p>Having just learned about AOP, I ran to test my options. I spend over a week figuring out Maven Setup and AspectJ with it.</p>\n<p>I set up a &quot;helloworld&quot; project in which I have been able to successfully weave aspects (from a .java file) into another .java file. My next step is to create an executable .jar file with the main class and weave the aspect .java class into it - then I would have achieved my desired outcome.</p>\n<h3><em>Is it possible to take a precompiled .jar file, put it into the project and write aspects for it?</em></h3>\n<p>I am not sure if I am misunderstanding something, I believe that should be something feasable.</p>\n<h2>From AspectJ Development Environment Guide:</h2>\n<blockquote>\n<p>In AspectJ tools, the aspectpath is where to find binary aspects. Like the classpath, <em>it can include archives</em> ( <strong>.jar</strong> and .zip files) and directories containing .class files in a package layout (since binary aspects are in .class files).</p>\n</blockquote>\n<p>Some Reference information:</p>\n<ul>\n<li>I am using Eclipse (4.23.0).</li>\n<li>The project is a Maven project that I have added AspectJ support to (through conversion to an AspectJ project).</li>\n<li>I have gone over a bunch of websites and StackOverflow responses figuring out AspectJ for Eclipse and found <a href=\"https://stackoverflow.com/questions/69979971/error-when-opening-aj-file-in-sts-4-eclipse-4-21-0/70024351#70024351\">This Question</a>. TL;DR: I used this site as AspectJ (Temporary Fix) Source for Eclipse: <a href=\"https://aspectj.dev/eclipse/ajdt/421\" rel=\"nofollow noreferrer\">https://aspectj.dev/eclipse/ajdt/421</a></li>\n</ul>\n<h1><strong>Project Structure</strong></h1>\n<pre><code>├── pom.xml\n└── src\n    ├── main\n    │   └── java\n    │       └── com\n    │           └── hellomaven\n    │               └── quickstart\n    │                   ├── App.java\n    │                   └── AppAspect.java\n    └── test\n        ├── java\n        └── resources\n</code></pre>\n<h1><strong>POM.xml</strong></h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.hellomaven&lt;/groupId&gt;\n  &lt;artifactId&gt;quickstart&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;helloMaven&lt;/name&gt;\n  &lt;description&gt;test&lt;/description&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;junit.version&gt;4.5&lt;/junit.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.9&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n            &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;weaveDependencies&gt;\n              &lt;weaveDependency&gt;\n                &lt;groupId&gt;com.hellomaven.quickstart.App&lt;/groupId&gt;\n                &lt;artifactId&gt;hello&lt;/artifactId&gt;\n              &lt;/weaveDependency&gt;\n            &lt;/weaveDependencies&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;process-sources&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n              &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n              &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n              &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n              &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;mainClass&gt;com.hellomaven.quickstart&lt;/mainClass&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h1><strong>App.java</strong></h1>\n<pre><code>package com.hellomaven.quickstart;\n\npublic class App {\n    public static void main(String[] args) {\n        hello(&quot;World&quot;);\n    }\n    \n    public static void hello(String world) {\n        System.out.println(&quot;Hello &quot; + world);\n    }\n}\n</code></pre>\n<h1><strong>AppAspect.java</strong></h1>\n<pre><code>package com.hellomaven.quickstart;\n\nimport org.aspectj.lang.annotation.*;\n\n@Aspect\npublic class AppAspect {\n    \n    @Before(&quot;execution(public static void hello(..))&quot;)\n    public void testAspectBefore() {\n        System.out.println(&quot;Before ok.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","http","post","openapi"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653562223,"post_id":72390577,"comment_id":127884176,"body_markdown":"What is `String string` supposed to be? Did you try removing it?","body":"What is <code>String string</code> supposed to be? Did you try removing it?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1653562303,"post_id":72390577,"comment_id":127884201,"body_markdown":"The POST is just receiving a String in the payload.  Why should I remove it ?","body":"The POST is just receiving a String in the payload.  Why should I remove it ?"}],"answers":[{"tags":[],"owner":{"account_id":446084,"reputation":20205,"user_id":838912,"accept_rate":80,"display_name":"Kiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653563310,"creation_date":1653562342,"answer_id":72390640,"question_id":72390577,"body_markdown":"[RequestParam][1] annotation is missing. Please use below method. You need to invoke POST method with request param key `string`\r\n\r\nAnd ResponseBody annotation is also missing.\r\n\r\n    @Operation(summary = &quot;test&quot;)\r\n            @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n            public @ResponseBody String test(@RequestParam(&quot;string&quot;) String string) {\r\n                log.info(&quot;/test&quot;);\r\n                return &quot;ok !!&quot;;\r\n            }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html","title":"In spring boot, GET request is returning 200 but POST request is returning 403","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">RequestParam</a> annotation is missing. Please use below method. You need to invoke POST method with request param key <code>string</code></p>\n<p>And ResponseBody annotation is also missing.</p>\n<pre><code>@Operation(summary = &quot;test&quot;)\n        @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\n        public @ResponseBody String test(@RequestParam(&quot;string&quot;) String string) {\n            log.info(&quot;/test&quot;);\n            return &quot;ok !!&quot;;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653566339,"creation_date":1653562356,"answer_id":72390642,"question_id":72390577,"body_markdown":"Either you have to use `@RequestParam` within your `test` method or you have to remove `String string` argument :\r\n\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n        public String test(@RequestParam(name= &quot;string&quot;)String string) {\r\n            log.info(&quot;/test&quot;);\r\n            return &quot;ok !!&quot;;\r\n        }","title":"In spring boot, GET request is returning 200 but POST request is returning 403","body":"<p>Either you have to use <code>@RequestParam</code> within your <code>test</code> method or you have to remove <code>String string</code> argument :</p>\n<pre><code>@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\n    public String test(@RequestParam(name= &quot;string&quot;)String string) {\n        log.info(&quot;/test&quot;);\n        return &quot;ok !!&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653569087,"creation_date":1653569087,"answer_id":72392030,"question_id":72390577,"body_markdown":"this works:\r\n\r\n            @Operation(summary = &quot;test&quot;)\r\n            @PostMapping(&quot;/test&quot;)\r\n            public  String test(@RequestBody String string) {\r\n                log.info(&quot;/test&quot;);\r\n                return &quot;ok !!&quot;;\r\n            }\r\n\r\nthis will expect the string as a body.\r\nplease make sure you refresh the swagger interface after you apply the fix.\r\n\r\nfor header:\r\n\r\n            @Operation(summary = &quot;test&quot;)\r\n            @PostMapping(&quot;/test&quot;)\r\n            public  String test(@RequestHeader(&quot;someHeader&quot;) String string){\r\n                log.info(&quot;/test&quot;);\r\n                return &quot;ok !!&quot;;\r\n            }\r\n\r\n\r\nfor path variable:\r\n\r\n\r\n            @Operation(summary = &quot;test&quot;)\r\n            @PostMapping(&quot;/test/{somePath}&quot;)\r\n            public  String test(@PathVariable(&quot;somePath&quot;) String string){\r\n                log.info(&quot;/test&quot;);\r\n                return &quot;ok !!&quot;;\r\n            }\r\n\r\n","title":"In spring boot, GET request is returning 200 but POST request is returning 403","body":"<p>this works:</p>\n<pre><code>        @Operation(summary = &quot;test&quot;)\n        @PostMapping(&quot;/test&quot;)\n        public  String test(@RequestBody String string) {\n            log.info(&quot;/test&quot;);\n            return &quot;ok !!&quot;;\n        }\n</code></pre>\n<p>this will expect the string as a body.\nplease make sure you refresh the swagger interface after you apply the fix.</p>\n<p>for header:</p>\n<pre><code>        @Operation(summary = &quot;test&quot;)\n        @PostMapping(&quot;/test&quot;)\n        public  String test(@RequestHeader(&quot;someHeader&quot;) String string){\n            log.info(&quot;/test&quot;);\n            return &quot;ok !!&quot;;\n        }\n</code></pre>\n<p>for path variable:</p>\n<pre><code>        @Operation(summary = &quot;test&quot;)\n        @PostMapping(&quot;/test/{somePath}&quot;)\n        public  String test(@PathVariable(&quot;somePath&quot;) String string){\n            log.info(&quot;/test&quot;);\n            return &quot;ok !!&quot;;\n        }\n</code></pre>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653569087,"creation_date":1653561998,"question_id":72390577,"body_markdown":"I&#39;ve a spring boot application with **springdoc-openapi-ui** dependency, and without security.\r\nThe HTTP GET request is going through (status 200).  But the HTTP POST request is not going through (status 403).  What could be the reason for the 403 return code on the POST request?\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.chartinvest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ta&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;open-api&gt;1.6.8&lt;/open-api&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${open-api}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**Spring controller class**\r\n\r\n    @RestController\r\n    public class TaController {\r\n    \r\n    \t@RequestMapping(value = &quot;/ping&quot;, method = RequestMethod.GET)\r\n    \tpublic @ResponseBody String pingGet() {\r\n    \t\tlog.info(&quot;/ping&quot;);\r\n    \t\treturn &quot;ok&quot;;\r\n    \t}\r\n    \r\n    \t@Operation(summary = &quot;test&quot;)\r\n    \t@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n    \tpublic String test(String string) {\r\n    \t\tlog.info(&quot;/test&quot;);\r\n    \t\treturn &quot;ok !!&quot;;\r\n    \t}\r\n\r\n\r\n**swagger**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/utTbV.png","title":"In spring boot, GET request is returning 200 but POST request is returning 403","body":"<p>I've a spring boot application with <strong>springdoc-openapi-ui</strong> dependency, and without security.\nThe HTTP GET request is going through (status 200).  But the HTTP POST request is not going through (status 403).  What could be the reason for the 403 return code on the POST request?</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.chartinvest&lt;/groupId&gt;\n    &lt;artifactId&gt;ta&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;open-api&gt;1.6.8&lt;/open-api&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${open-api}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Spring controller class</strong></p>\n<pre><code>@RestController\npublic class TaController {\n\n    @RequestMapping(value = &quot;/ping&quot;, method = RequestMethod.GET)\n    public @ResponseBody String pingGet() {\n        log.info(&quot;/ping&quot;);\n        return &quot;ok&quot;;\n    }\n\n    @Operation(summary = &quot;test&quot;)\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\n    public String test(String string) {\n        log.info(&quot;/test&quot;);\n        return &quot;ok !!&quot;;\n    }\n</code></pre>\n<p><strong>swagger</strong></p>\n<p><a href=\"https://i.stack.imgur.com/utTbV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/utTbV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-api","gmail-api","service-accounts","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653568209,"creation_date":1653567858,"answer_id":72391771,"question_id":72391666,"body_markdown":"I recommend following the [official tutorial][1].  If you follow this tutorial just swap out admin sdk for gmail scopes when you configure the service account in your workspace domain.  The code will be the same it just needs to be configured for a different api.\r\n\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.jackson.JacksonFactory;\r\n    import com.google.api.services.admin.directory.Directory;\r\n    import com.google.api.services.admin.directory.DirectoryScopes;\r\n    ...\r\n    \r\n    /** Email of the Service Account */\r\n    private static final String SERVICE_ACCOUNT_EMAIL = &quot;&lt;some-id&gt;@developer.gserviceaccount.com&quot;;\r\n    \r\n    /** Path to the Service Account&#39;s Private Key file */\r\n    private static final String SERVICE_ACCOUNT_PKCS12_FILE_PATH = &quot;/path/to/&lt;public_key_fingerprint&gt;-privatekey.p12&quot;;\r\n    \r\n    /**\r\n     * Build and returns a Directory service object authorized with the service accounts\r\n     * that act on behalf of the given user.\r\n     *\r\n     * @param userEmail The email of the user. Needs permissions to access the Admin APIs.\r\n     * @return Directory service object that is ready to make requests.\r\n     */\r\n    public static Directory getDirectoryService(String userEmail) throws GeneralSecurityException,\r\n        IOException, URISyntaxException {\r\n      HttpTransport httpTransport = new NetHttpTransport();\r\n      JacksonFactory jsonFactory = new JacksonFactory();\r\n      GoogleCredential credential = new GoogleCredential.Builder()\r\n          .setTransport(httpTransport)\r\n          .setJsonFactory(jsonFactory)\r\n          .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\r\n          .setServiceAccountScopes(DirectoryScopes.ADMIN_DIRECTORY_USERS)\r\n          .setServiceAccountUser(userEmail)\r\n          .setServiceAccountPrivateKeyFromP12File(\r\n              new java.io.File(SERVICE_ACCOUNT_PKCS12_FILE_PATH))\r\n          .build();\r\n      Directory service = new Directory.Builder(httpTransport, jsonFactory, null)\r\n          .setHttpRequestInitializer(credential).build();\r\n      return service;\r\n    }\r\n\r\n\r\nThat sample should be up to date.  If its not you should flag it and post a message on the client library issue forum so that they know it needs to be updated [Google api java clinet](https://github.com/googleapis/google-api-java-client)\r\n\r\n\r\n  [1]: https://developers.google.com/admin-sdk/directory/v1/guides/delegation","title":"GMail API Server to Server Authentication","body":"<p>I recommend following the <a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/delegation\" rel=\"nofollow noreferrer\">official tutorial</a>.  If you follow this tutorial just swap out admin sdk for gmail scopes when you configure the service account in your workspace domain.  The code will be the same it just needs to be configured for a different api.</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson.JacksonFactory;\nimport com.google.api.services.admin.directory.Directory;\nimport com.google.api.services.admin.directory.DirectoryScopes;\n...\n\n/** Email of the Service Account */\nprivate static final String SERVICE_ACCOUNT_EMAIL = &quot;&lt;some-id&gt;@developer.gserviceaccount.com&quot;;\n\n/** Path to the Service Account's Private Key file */\nprivate static final String SERVICE_ACCOUNT_PKCS12_FILE_PATH = &quot;/path/to/&lt;public_key_fingerprint&gt;-privatekey.p12&quot;;\n\n/**\n * Build and returns a Directory service object authorized with the service accounts\n * that act on behalf of the given user.\n *\n * @param userEmail The email of the user. Needs permissions to access the Admin APIs.\n * @return Directory service object that is ready to make requests.\n */\npublic static Directory getDirectoryService(String userEmail) throws GeneralSecurityException,\n    IOException, URISyntaxException {\n  HttpTransport httpTransport = new NetHttpTransport();\n  JacksonFactory jsonFactory = new JacksonFactory();\n  GoogleCredential credential = new GoogleCredential.Builder()\n      .setTransport(httpTransport)\n      .setJsonFactory(jsonFactory)\n      .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\n      .setServiceAccountScopes(DirectoryScopes.ADMIN_DIRECTORY_USERS)\n      .setServiceAccountUser(userEmail)\n      .setServiceAccountPrivateKeyFromP12File(\n          new java.io.File(SERVICE_ACCOUNT_PKCS12_FILE_PATH))\n      .build();\n  Directory service = new Directory.Builder(httpTransport, jsonFactory, null)\n      .setHttpRequestInitializer(credential).build();\n  return service;\n}\n</code></pre>\n<p>That sample should be up to date.  If its not you should flag it and post a message on the client library issue forum so that they know it needs to be updated <a href=\"https://github.com/googleapis/google-api-java-client\" rel=\"nofollow noreferrer\">Google api java clinet</a></p>\n"}],"owner":{"account_id":3086093,"reputation":35,"user_id":2622505,"display_name":"pma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653568209,"creation_date":1653567326,"question_id":72391666,"body_markdown":"i am trying to implement a task by which to access GMail through the Google API (Java client). The scope of the task is that it will retrieve a user&#39;s emails, labels etc. It&#39;s my first time interacting with the Google Cloud Platform and i am trying to read through the documentation. Up to now i have fully understood about the &quot;OAuth 2.0 for Server to Server Applications&quot; and i have created a new service account. I am trying to use the tutorials from Google but the classes mentioned in these are deprecated.\r\n\r\nMy question is, is there any up to date documentation or code example online? Can anyone please provide any pointers on this?\r\n\r\nBest regards and thank you so much in advance.","title":"GMail API Server to Server Authentication","body":"<p>i am trying to implement a task by which to access GMail through the Google API (Java client). The scope of the task is that it will retrieve a user's emails, labels etc. It's my first time interacting with the Google Cloud Platform and i am trying to read through the documentation. Up to now i have fully understood about the &quot;OAuth 2.0 for Server to Server Applications&quot; and i have created a new service account. I am trying to use the tutorials from Google but the classes mentioned in these are deprecated.</p>\n<p>My question is, is there any up to date documentation or code example online? Can anyone please provide any pointers on this?</p>\n<p>Best regards and thank you so much in advance.</p>\n"},{"tags":["java","android","request"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1653501636,"post_id":72382247,"comment_id":127870574,"body_markdown":"The quote begins &quot;Technological&quot; and the author is &quot;Aldous Huxley&quot;. &quot;Set&quot; follows those lines. What are you expecting?","body":"The quote begins &quot;Technological&quot; and the author is &quot;Aldous Huxley&quot;. &quot;Set&quot; follows those lines. What are you expecting?"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653568188,"creation_date":1653568188,"answer_id":72391835,"question_id":72382247,"body_markdown":"Your request is using an [asynchronous callback](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value/70178210#70178210), so the code in your request callback does not run in the order it is written. If you were expecting it to print &quot;Getting Data&quot;, &quot;Set&quot;, then the quote/author that is not what it is going to do.\r\n\r\nWhat happens instead when you call the code is:\r\n\r\n1. It prints &quot;Getting data&quot;\r\n2. It *starts* the API request to get new data\r\n3. It prints whatever was **previously** saved in the quote/author fields\r\n4. The function returns\r\n5. Some time much later, when the network request is complete new data is actually retrieved and it calls your `myRequest` code, prints &quot;Set&quot; and updates the saved fields. \r\n\r\nLook at the time stamps in your log, the &quot;Set&quot; printout is about 100 ms after the Getting data + author/quote prints.\r\n\r\nIf you want to reliably process the new data, you have to move all processing to inside the callback. For example:\r\n\r\n```java\r\nSystem.out.println(&quot;Getting data&quot;);\r\nString myUrl = &quot;https://api.quotable.io/random&quot;;\r\n\r\nStringRequest myRequest = new StringRequest(Request.Method.GET, myUrl,\r\n        response -&gt; {\r\n            try{\r\n                // Create a JSON object containing information from the API.\r\n                JSONObject object = new JSONObject(response);\r\n                currentQuote = object.getString(&quot;content&quot;);\r\n                currentQuoteAuthor = object.getString(&quot;author&quot;);\r\n                System.out.println(&quot;Set&quot;);\r\n \r\n                // print the data, put it in a textview, post it to LiveData,\r\n                // etc from here, not outside the callback\r\n                System.out.println(currentQuote);\r\n                System.out.println(currentQuoteAuthor);\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        },\r\n        volleyError -&gt; Toast.makeText(MainActivity.this, volleyError.getMessage(), Toast.LENGTH_SHORT).show()\r\n);\r\n\r\n// This STARTS the request, but it is a network request so\r\n// it is slow and does not FINISH until some time later in the\r\n// future. When it FINISHES it will call the code in myRequest\r\nRequestQueue requestQueue = Volley.newRequestQueue(this);\r\nrequestQueue.add(myRequest);\r\n\r\n// The request has NOT been completed yet at this point - if\r\n// you access the fields set inside the request callback they\r\n// will not have been updated yet.\r\n```\r\n\r\nWhen you call this, it will\r\n\r\n1. Print &quot;Getting data&quot;\r\n2. *Start* the API request to get new data\r\n3. Return from the function\r\n4. Some time later in the future it will get the new data, print &quot;Set&quot;, then print the new quote/author\r\n\r\n\r\n","title":"How to make StringRequest work 100% of time Android","body":"<p>Your request is using an <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value/70178210#70178210\">asynchronous callback</a>, so the code in your request callback does not run in the order it is written. If you were expecting it to print &quot;Getting Data&quot;, &quot;Set&quot;, then the quote/author that is not what it is going to do.</p>\n<p>What happens instead when you call the code is:</p>\n<ol>\n<li>It prints &quot;Getting data&quot;</li>\n<li>It <em>starts</em> the API request to get new data</li>\n<li>It prints whatever was <strong>previously</strong> saved in the quote/author fields</li>\n<li>The function returns</li>\n<li>Some time much later, when the network request is complete new data is actually retrieved and it calls your <code>myRequest</code> code, prints &quot;Set&quot; and updates the saved fields.</li>\n</ol>\n<p>Look at the time stamps in your log, the &quot;Set&quot; printout is about 100 ms after the Getting data + author/quote prints.</p>\n<p>If you want to reliably process the new data, you have to move all processing to inside the callback. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Getting data&quot;);\nString myUrl = &quot;https://api.quotable.io/random&quot;;\n\nStringRequest myRequest = new StringRequest(Request.Method.GET, myUrl,\n        response -&gt; {\n            try{\n                // Create a JSON object containing information from the API.\n                JSONObject object = new JSONObject(response);\n                currentQuote = object.getString(&quot;content&quot;);\n                currentQuoteAuthor = object.getString(&quot;author&quot;);\n                System.out.println(&quot;Set&quot;);\n \n                // print the data, put it in a textview, post it to LiveData,\n                // etc from here, not outside the callback\n                System.out.println(currentQuote);\n                System.out.println(currentQuoteAuthor);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        },\n        volleyError -&gt; Toast.makeText(MainActivity.this, volleyError.getMessage(), Toast.LENGTH_SHORT).show()\n);\n\n// This STARTS the request, but it is a network request so\n// it is slow and does not FINISH until some time later in the\n// future. When it FINISHES it will call the code in myRequest\nRequestQueue requestQueue = Volley.newRequestQueue(this);\nrequestQueue.add(myRequest);\n\n// The request has NOT been completed yet at this point - if\n// you access the fields set inside the request callback they\n// will not have been updated yet.\n</code></pre>\n<p>When you call this, it will</p>\n<ol>\n<li>Print &quot;Getting data&quot;</li>\n<li><em>Start</em> the API request to get new data</li>\n<li>Return from the function</li>\n<li>Some time later in the future it will get the new data, print &quot;Set&quot;, then print the new quote/author</li>\n</ol>\n"}],"owner":{"account_id":25389410,"reputation":21,"user_id":19200657,"display_name":"Paladise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653568188,"creation_date":1653501380,"question_id":72382247,"body_markdown":"I have a StringRequest reading from an API, but it only sometimes works:\r\n\r\n```\r\nSystem.out.println(&quot;Getting data&quot;);\r\nString myUrl = &quot;https://api.quotable.io/random&quot;;\r\n\r\nStringRequest myRequest = new StringRequest(Request.Method.GET, myUrl,\r\n        response -&gt; {\r\n            try{\r\n                // Create a JSON object containing information from the API.\r\n                JSONObject object = new JSONObject(response);\r\n                currentQuote = object.getString(&quot;content&quot;);\r\n                currentQuoteAuthor = object.getString(&quot;author&quot;);\r\n                System.out.println(&quot;Set&quot;);\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        },\r\n        volleyError -&gt; Toast.makeText(MainActivity.this, volleyError.getMessage(), Toast.LENGTH_SHORT).show()\r\n);\r\n\r\nRequestQueue requestQueue = Volley.newRequestQueue(this);\r\nrequestQueue.add(myRequest);\r\nSystem.out.println(currentQuote);\r\nSystem.out.println(currentQuoteAuthor);\r\n```\r\n\r\noutput\r\n\r\n```\r\n2022-05-25 13:50:34.758 10165-10165/com.example.lab I/System.out: Getting data\r\n2022-05-25 13:50:34.768 10165-10165/com.example.lab I/System.out: When the world is so complicated, the simple gift of friendship is within all of our hands.\r\n2022-05-25 13:50:34.768 10165-10165/com.example.lab I/System.out: Maria Shriver\r\n2022-05-25 13:50:34.822 10165-10165/com.example.lab I/System.out: Set\r\n2022-05-25 13:50:37.038 10165-10165/com.example.lab I/System.out: Getting data\r\n2022-05-25 13:50:37.050 10165-10165/com.example.lab I/System.out: Character develops itself in the stream of life.\r\n2022-05-25 13:50:37.050 10165-10165/com.example.lab I/System.out: Johann Wolfgang von Goethe\r\n2022-05-25 13:50:37.121 10165-10165/com.example.lab I/System.out: Set\r\n2022-05-25 13:50:54.003 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\r\n2022-05-25 13:50:54.009 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\r\n2022-05-25 13:50:55.652 10165-10165/com.example.lab I/System.out: Getting data\r\n2022-05-25 13:50:55.656 10165-10165/com.example.lab I/System.out: Technological progress has merely provided us with more efficient means for going backwards.\r\n2022-05-25 13:50:55.656 10165-10165/com.example.lab I/System.out: Aldous Huxley\r\n2022-05-25 13:50:55.751 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\r\n2022-05-25 13:50:55.757 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\r\n2022-05-25 13:50:55.759 10165-10165/com.example.lab I/System.out: Set\r\n```\r\n\r\nAs you can see, in the final line of output, it is able to print &quot;set&quot;, but doesn&#39;t output either the quote or the author. Any ideas?","title":"How to make StringRequest work 100% of time Android","body":"<p>I have a StringRequest reading from an API, but it only sometimes works:</p>\n<pre><code>System.out.println(&quot;Getting data&quot;);\nString myUrl = &quot;https://api.quotable.io/random&quot;;\n\nStringRequest myRequest = new StringRequest(Request.Method.GET, myUrl,\n        response -&gt; {\n            try{\n                // Create a JSON object containing information from the API.\n                JSONObject object = new JSONObject(response);\n                currentQuote = object.getString(&quot;content&quot;);\n                currentQuoteAuthor = object.getString(&quot;author&quot;);\n                System.out.println(&quot;Set&quot;);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        },\n        volleyError -&gt; Toast.makeText(MainActivity.this, volleyError.getMessage(), Toast.LENGTH_SHORT).show()\n);\n\nRequestQueue requestQueue = Volley.newRequestQueue(this);\nrequestQueue.add(myRequest);\nSystem.out.println(currentQuote);\nSystem.out.println(currentQuoteAuthor);\n</code></pre>\n<p>output</p>\n<pre><code>2022-05-25 13:50:34.758 10165-10165/com.example.lab I/System.out: Getting data\n2022-05-25 13:50:34.768 10165-10165/com.example.lab I/System.out: When the world is so complicated, the simple gift of friendship is within all of our hands.\n2022-05-25 13:50:34.768 10165-10165/com.example.lab I/System.out: Maria Shriver\n2022-05-25 13:50:34.822 10165-10165/com.example.lab I/System.out: Set\n2022-05-25 13:50:37.038 10165-10165/com.example.lab I/System.out: Getting data\n2022-05-25 13:50:37.050 10165-10165/com.example.lab I/System.out: Character develops itself in the stream of life.\n2022-05-25 13:50:37.050 10165-10165/com.example.lab I/System.out: Johann Wolfgang von Goethe\n2022-05-25 13:50:37.121 10165-10165/com.example.lab I/System.out: Set\n2022-05-25 13:50:54.003 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\n2022-05-25 13:50:54.009 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\n2022-05-25 13:50:55.652 10165-10165/com.example.lab I/System.out: Getting data\n2022-05-25 13:50:55.656 10165-10165/com.example.lab I/System.out: Technological progress has merely provided us with more efficient means for going backwards.\n2022-05-25 13:50:55.656 10165-10165/com.example.lab I/System.out: Aldous Huxley\n2022-05-25 13:50:55.751 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\n2022-05-25 13:50:55.757 10165-10225/com.example.lab D/EGL_emulation: eglMakeCurrent: 0xddc05ba0: ver 3 0 (tinfo 0xddc03420)\n2022-05-25 13:50:55.759 10165-10165/com.example.lab I/System.out: Set\n</code></pre>\n<p>As you can see, in the final line of output, it is able to print &quot;set&quot;, but doesn't output either the quote or the author. Any ideas?</p>\n"},{"tags":["java","spring-boot","maven","spring-data-jpa","slf4j"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653564235,"post_id":72390966,"comment_id":127884821,"body_markdown":"Which Maven version do you use? Are you running from plain command line ? Which JDK version do you use?","body":"Which Maven version do you use? Are you running from plain command line ? Which JDK version do you use?"},{"owner":{"account_id":347746,"reputation":487,"user_id":682059,"accept_rate":65,"display_name":"Crushing"},"score":0,"creation_date":1653564737,"post_id":72390966,"comment_id":127884989,"body_markdown":"mvn 3.6.3, Java version: 1.8.0_272.  I run both `mvn clean install` and `mvn spring-boot:run`","body":"mvn 3.6.3, Java version: 1.8.0_272.  I run both <code>mvn clean install</code> and <code>mvn spring-boot:run</code>"}],"answers":[{"tags":[],"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653567729,"creation_date":1653567389,"answer_id":72391676,"question_id":72390966,"body_markdown":"if you are using intellij , a tool which i often use is [maven helper][1]\r\n\r\n\r\nthis allows analyzing the pom and its dependencies visually ,\r\nfor example selecting the slf-api from the leftside will show all the paces where its used , if it is marked in white it means its a compile dependency\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7179-maven-helper\r\n  [2]: https://i.stack.imgur.com/pkb12.png\r\n\r\n\r\nP.S\r\nyou must make sure &quot;thierlibrary&quot; was not shaded , otherwise you cannot solve it with normal maven exclusions","title":"Resolving slf4j multiple bindings, tracing which artifact is root cause?","body":"<p>if you are using intellij , a tool which i often use is <a href=\"https://plugins.jetbrains.com/plugin/7179-maven-helper\" rel=\"nofollow noreferrer\">maven helper</a></p>\n<p>this allows analyzing the pom and its dependencies visually ,\nfor example selecting the slf-api from the leftside will show all the paces where its used , if it is marked in white it means its a compile dependency</p>\n<p><a href=\"https://i.stack.imgur.com/pkb12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pkb12.png\" alt=\"enter image description here\" /></a></p>\n<p>P.S\nyou must make sure &quot;thierlibrary&quot; was not shaded , otherwise you cannot solve it with normal maven exclusions</p>\n"},{"tags":[],"owner":{"account_id":347746,"reputation":487,"user_id":682059,"accept_rate":65,"display_name":"Crushing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653568003,"creation_date":1653568003,"answer_id":72391802,"question_id":72390966,"body_markdown":"I resolved this by looking at the exploded bundled jar and brute forcing all the dependencies into my project pom and using the standalone jar. Everything is happy for now.. ","title":"Resolving slf4j multiple bindings, tracing which artifact is root cause?","body":"<p>I resolved this by looking at the exploded bundled jar and brute forcing all the dependencies into my project pom and using the standalone jar. Everything is happy for now..</p>\n"}],"owner":{"account_id":347746,"reputation":487,"user_id":682059,"accept_rate":65,"display_name":"Crushing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653568003,"creation_date":1653563875,"question_id":72390966,"body_markdown":"I&#39;ve tried to follow the other slf4j and other answers from the web to no avail.  I think my scenario is a little different.. I started with a maven spring-boot jpa app, all works good.  I am working with some company&#39;s sdk but it&#39;s not maven. They provide a jar and jar-with-dependencies. This package will be `com.example:theirlib:jar:1.0`\r\n\r\nWhen I install standalone jar, it cannot find required dependencies. I tried to add them to pom but run into unsupported repository layout legacy.  The permanent solutions to this looks to be log4j related, without manually installing those jars. \r\n```\r\nThe following artifacts could not be resolved: javax.jms:jms:jar:1.1, com.sun.jdmk:jmxtools:jar:1.2.1, com.sun.jmx:jmxri:jar:1.2.1: Could not transfer artifact javax.jms:jms:jar:1.1 from/to java.net (https://maven-repository.dev.java.net/nonav/repository): Cannot access https://maven-repository.dev.java.net/nonav/repository with type legacy using the available connector factories: BasicRepositoryConnectorFactory: Cannot access https://maven-repository.dev.java.net/nonav/repository with type legacy using the available layout factories: Maven2RepositoryLayoutFactory: Unsupported repository layout legacy -&gt; [Help 1]\r\n``` \r\n\r\nBut those were just the first build errors so I tried the jar-with-dependencies, which throws multiple slf4j bindings error.\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/user/.m2/repository/com/example/theirlib/1.0/theirlib-1.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: slf4j-api 1.6.x (or later) is incompatible with this binding.\r\nSLF4J: Your binding is version 1.5.5 or earlier.\r\nSLF4J: Upgrade your binding to version 1.6.x.\r\n...\r\n```\r\nI am struggling to find the correct artifacts to put in exclusions, if exclusions even works since the installed jar is bundled w/ dependencies??  This seemed like an easier path to solve than trying to include all the correct dependencies and versions for `theirlib` in this code. Alternatively, I tried to exclusions with the spring dependency but still fail.  \r\n\r\nFirst I looked at the dependency tree:\r\n```\r\n[INFO] com.crush.sample:demo:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.0:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.0:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.20:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.0:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.20:compile\r\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.6.9.Final:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\r\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\r\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n[INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.0:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.0:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.20:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:5.3.20:compile\r\n[INFO] |  |  |  \\- org.springframework:spring-expression:jar:5.3.20:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.20:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:5.3.20:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.20:compile\r\n[INFO] +- com.example:theirlib:jar:1.0:compile  // jar with dependencies\r\n[INFO] +- org.postgresql:postgresql:jar:9.4.1208:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:2.7.0:test\r\n[INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\r\n[INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\r\n[INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\r\n[INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\r\n[INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\r\n[INFO]    |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.11:compile\r\n[INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n[INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n[INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:2.7.0:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.0:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO]    +- org.assertj:assertj-core:jar:3.22.0:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.5.1:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.10:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:5.3.20:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\r\n[INFO]    +- org.springframework:spring-test:jar:5.3.20:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\r\n```\r\nAnd now try many combinations of exclusions:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.crush.sample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;theirlib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t            &lt;version&gt;9.4.1208&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat&#39;s the best way to solve this? ","title":"Resolving slf4j multiple bindings, tracing which artifact is root cause?","body":"<p>I've tried to follow the other slf4j and other answers from the web to no avail.  I think my scenario is a little different.. I started with a maven spring-boot jpa app, all works good.  I am working with some company's sdk but it's not maven. They provide a jar and jar-with-dependencies. This package will be <code>com.example:theirlib:jar:1.0</code></p>\n<p>When I install standalone jar, it cannot find required dependencies. I tried to add them to pom but run into unsupported repository layout legacy.  The permanent solutions to this looks to be log4j related, without manually installing those jars.</p>\n<pre><code>The following artifacts could not be resolved: javax.jms:jms:jar:1.1, com.sun.jdmk:jmxtools:jar:1.2.1, com.sun.jmx:jmxri:jar:1.2.1: Could not transfer artifact javax.jms:jms:jar:1.1 from/to java.net (https://maven-repository.dev.java.net/nonav/repository): Cannot access https://maven-repository.dev.java.net/nonav/repository with type legacy using the available connector factories: BasicRepositoryConnectorFactory: Cannot access https://maven-repository.dev.java.net/nonav/repository with type legacy using the available layout factories: Maven2RepositoryLayoutFactory: Unsupported repository layout legacy -&gt; [Help 1]\n</code></pre>\n<p>But those were just the first build errors so I tried the jar-with-dependencies, which throws multiple slf4j bindings error.</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/user/.m2/repository/com/example/theirlib/1.0/theirlib-1.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: slf4j-api 1.6.x (or later) is incompatible with this binding.\nSLF4J: Your binding is version 1.5.5 or earlier.\nSLF4J: Upgrade your binding to version 1.6.x.\n...\n</code></pre>\n<p>I am struggling to find the correct artifacts to put in exclusions, if exclusions even works since the installed jar is bundled w/ dependencies??  This seemed like an easier path to solve than trying to include all the correct dependencies and versions for <code>theirlib</code> in this code. Alternatively, I tried to exclusions with the spring dependency but still fail.</p>\n<p>First I looked at the dependency tree:</p>\n<pre><code>[INFO] com.crush.sample:demo:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.0:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.20:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.0:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.20:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.6.9.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n[INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.0:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.0:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.20:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:5.3.20:compile\n[INFO] |  |  |  \\- org.springframework:spring-expression:jar:5.3.20:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.20:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:5.3.20:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.20:compile\n[INFO] +- com.example:theirlib:jar:1.0:compile  // jar with dependencies\n[INFO] +- org.postgresql:postgresql:jar:9.4.1208:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:2.7.0:test\n[INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\n[INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\n[INFO]    |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.11:compile\n[INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:2.7.0:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.0:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO]    +- org.assertj:assertj-core:jar:3.22.0:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.5.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.10:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:5.3.20:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\n[INFO]    +- org.springframework:spring-test:jar:5.3.20:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\n</code></pre>\n<p>And now try many combinations of exclusions:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.crush.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;theirlib&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;version&gt;9.4.1208&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What's the best way to solve this?</p>\n"},{"tags":["java","web-services","security","ssl-certificate","x509"],"owner":{"account_id":11469132,"reputation":11,"user_id":8406490,"display_name":"H&#233;ber Ribeiro de Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653567786,"creation_date":1653567786,"question_id":72391760,"body_markdown":"I need to communicate with a third party which has a .asmx web service. This web service is using https. I have the required certificate (.pfx).\r\n\r\nI have added the certificate to the %JAVA_HOME% cacerts using keytool and now I want to invoke the service. And when I do that I get this error:\r\n\r\n(403) Forbidden\r\n\r\nSo how can I tell my service to use the right certificate?","title":"How to invoke a Web Service which requires a certificate in Java?","body":"<p>I need to communicate with a third party which has a .asmx web service. This web service is using https. I have the required certificate (.pfx).</p>\n<p>I have added the certificate to the %JAVA_HOME% cacerts using keytool and now I want to invoke the service. And when I do that I get this error:</p>\n<p>(403) Forbidden</p>\n<p>So how can I tell my service to use the right certificate?</p>\n"},{"tags":["java","spring","spring-boot","maven","meta-inf"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653569145,"post_id":72391697,"comment_id":127886492,"body_markdown":"First question: Why do you use such an old spring boot version? And no can not simply remove predefined factories... because those jar files are build by the Spring Team... ?","body":"First question: Why do you use such an old spring boot version? And no can not simply remove predefined factories... because those jar files are build by the Spring Team... ?"},{"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"score":0,"creation_date":1653571438,"post_id":72391697,"comment_id":127887394,"body_markdown":"@khmarbaise because the above version was already used in the project.Any other way possible to remove the EventPublishingRunListener?.Since it causing issue in the project.","body":"@khmarbaise because the above version was already used in the project.Any other way possible to remove the EventPublishingRunListener?.Since it causing issue in the project."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653579517,"post_id":72391697,"comment_id":127890550,"body_markdown":"Really ? In which way because it&#39;s by default part of spring...the question is why is it causing issues... Also I would strongly recommend to upgrade as soon as possible...","body":"Really ? In which way because it&#39;s by default part of spring...the question is why is it causing issues... Also I would strongly recommend to upgrade as soon as possible..."},{"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"score":0,"creation_date":1653629671,"post_id":72391697,"comment_id":127901663,"body_markdown":"@khmarbaise Actually i want to add executor in SimpleApplicationEventMulticaster as some listener is causing exception and stopping the complete application.So i figured out that it is called by EventPublishingRunListener(Read Only file).Therefore, i created new custom listener with executor and added in springRun listener.Now, this EventPublishingRunListener is also calling SimpleApplicationEventMulticaster which is causing issue.","body":"@khmarbaise Actually i want to add executor in SimpleApplicationEventMulticaster as some listener is causing exception and stopping the complete application.So i figured out that it is called by EventPublishingRunListener(Read Only file).Therefore, i created new custom listener with executor and added in springRun listener.Now, this EventPublishingRunListener is also calling SimpleApplicationEventMulticaster which is causing issue."}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653567471,"creation_date":1653567471,"question_id":72391697,"body_markdown":"I have created custom SpringApplicationRunListener and added in Meta-INF of project file as org.springframework.boot.SpringApplicationRunListener=\\\r\n  com.dt.testExec\r\n\r\nNow,i want to ignore the pre defined property inside .m2/local/org/springframework/boot/spring-boot/2.1.0.RELEASE/spring-boot-2.1.0.RELEASE-sources.jar!/META-INF/spring.factories \r\n\r\norg.springframework.boot.SpringApplicationRunListener=\\\r\norg.springframework.boot.context.event.EventPublishingRunListener\r\n\r\nAs, when i am running the project, 2 runListener are coming when context gets loaded but i want my custom one i.e &quot;testExec&quot; and not EventPublishingRunListener ?\r\n\r\nOr any other way to remove/stop this &quot;EventPublishingRunListener&quot; from &quot;List&lt;SpringApplicationRunListener&gt; listeners&quot; when project gets started?\r\n\r\nIt would be great if anyone can help.\r\n","title":"How to ignore/remove property from spring.factories file from predefined jar?","body":"<p>I have created custom SpringApplicationRunListener and added in Meta-INF of project file as org.springframework.boot.SpringApplicationRunListener=<br />\ncom.dt.testExec</p>\n<p>Now,i want to ignore the pre defined property inside .m2/local/org/springframework/boot/spring-boot/2.1.0.RELEASE/spring-boot-2.1.0.RELEASE-sources.jar!/META-INF/spring.factories</p>\n<p>org.springframework.boot.SpringApplicationRunListener=<br />\norg.springframework.boot.context.event.EventPublishingRunListener</p>\n<p>As, when i am running the project, 2 runListener are coming when context gets loaded but i want my custom one i.e &quot;testExec&quot; and not EventPublishingRunListener ?</p>\n<p>Or any other way to remove/stop this &quot;EventPublishingRunListener&quot; from &quot;List listeners&quot; when project gets started?</p>\n<p>It would be great if anyone can help.</p>\n"},{"tags":["java","algorithm","recursion","data-structures"],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653567392,"creation_date":1653567392,"answer_id":72391677,"question_id":72389339,"body_markdown":"The Map needs to ConcurrentHashMap, so that it allows concurrent updates.\r\n\r\nFirst for loop with nesting can call the recursive method like below, might not need another for loop:\r\n\r\n```\r\n    Map&lt;String, Integer&gt; calculateClicksByDomainMap = new ConcurrentHashMap&lt;&gt;();\r\n    for (final String count : counts) {\r\n      String[] separateClickCountsAtComma = count.split(&quot;\\\\,&quot;);\r\n      for (int j = 0; j &lt; separateClickCountsAtComma.length; j += 2) {\r\n        Integer clickCount = Integer.parseInt(separateClickCountsAtComma[j]);\r\n        String domain = separateClickCountsAtComma[j + 1];\r\n        calculateClicksByDomainMap.put(domain, clickCount);\r\n        splitStringOnOccurenceOfDot(domain.substring(domain.indexOf(&quot;.&quot;)+1), clickCount, calculateClicksByDomainMap);\r\n      }\r\n    }\r\n```\r\n\r\nRather than returning a value, recursion add/update map itself.\r\n\r\n```\r\n  public static void splitStringOnOccurenceOfDot(String domainName, Integer domainCount, Map&lt;String, Integer&gt; calculateClicksByDomainMap) {\r\n    if(calculateClicksByDomainMap.containsKey(domainName)) {\r\n      \r\n      Integer newCount = calculateClicksByDomainMap.get(domainName) + domainCount;\r\n      calculateClicksByDomainMap.put(domainName, newCount);\r\n    } else {\r\n      calculateClicksByDomainMap.put(domainName, domainCount);\r\n    }\r\n    if(domainName.contains(&quot;.&quot;)) {\r\n      splitStringOnOccurenceOfDot(domainName.substring(domainName.indexOf(&quot;.&quot;)+1), domainCount, calculateClicksByDomainMap);\r\n    }\r\n  }\r\n\r\n```","title":"Java - How to implement a data structure that contains the number of clicks that were recorded on each domain AND each subdomain under it","body":"<p>The Map needs to ConcurrentHashMap, so that it allows concurrent updates.</p>\n<p>First for loop with nesting can call the recursive method like below, might not need another for loop:</p>\n<pre><code>    Map&lt;String, Integer&gt; calculateClicksByDomainMap = new ConcurrentHashMap&lt;&gt;();\n    for (final String count : counts) {\n      String[] separateClickCountsAtComma = count.split(&quot;\\\\,&quot;);\n      for (int j = 0; j &lt; separateClickCountsAtComma.length; j += 2) {\n        Integer clickCount = Integer.parseInt(separateClickCountsAtComma[j]);\n        String domain = separateClickCountsAtComma[j + 1];\n        calculateClicksByDomainMap.put(domain, clickCount);\n        splitStringOnOccurenceOfDot(domain.substring(domain.indexOf(&quot;.&quot;)+1), clickCount, calculateClicksByDomainMap);\n      }\n    }\n</code></pre>\n<p>Rather than returning a value, recursion add/update map itself.</p>\n<pre><code>  public static void splitStringOnOccurenceOfDot(String domainName, Integer domainCount, Map&lt;String, Integer&gt; calculateClicksByDomainMap) {\n    if(calculateClicksByDomainMap.containsKey(domainName)) {\n      \n      Integer newCount = calculateClicksByDomainMap.get(domainName) + domainCount;\n      calculateClicksByDomainMap.put(domainName, newCount);\n    } else {\n      calculateClicksByDomainMap.put(domainName, domainCount);\n    }\n    if(domainName.contains(&quot;.&quot;)) {\n      splitStringOnOccurenceOfDot(domainName.substring(domainName.indexOf(&quot;.&quot;)+1), domainCount, calculateClicksByDomainMap);\n    }\n  }\n\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72391677,"answer_count":1,"score":0,"last_activity_date":1653567392,"creation_date":1653555813,"question_id":72389339,"body_markdown":"I have a problem statement as described below:\r\nWrite a function that takes this input as a parameter and returns a data structure containing the number of \r\n * clicks that were recorded on each domain AND each subdomain under it. \r\n * For example, a click on &quot;mail.yahoo.com&quot; counts toward the totals for &quot;mail.yahoo.com&quot;, &quot;yahoo.com&quot;, and &quot;com&quot;.\r\n * (Subdomains are added to the left of their parent domain. So &quot;mail&quot; and &quot;mail.yahoo&quot; are not valid domains.\r\n * Note that &quot;mobile.sports&quot; appears as a separate domain near the bottom of the input.)\r\n\r\nBelow is the input data:\r\n\r\n```\r\n String[] counts = {\r\n\t\t\t      &quot;900,google.com&quot;,\r\n\t\t\t      &quot;60,mail.yahoo.com&quot;,\r\n\t\t\t      &quot;10,mobile.sports.yahoo.com&quot;,\r\n\t\t\t      &quot;40,sports.yahoo.com&quot;,\r\n\t\t\t      &quot;300,yahoo.com&quot;,\r\n\t\t\t      &quot;10,stackoverflow.com&quot;,\r\n\t\t\t      &quot;20,overflow.com&quot;,\r\n\t\t\t      &quot;5,com.com&quot;,\r\n\t\t\t      &quot;2,en.wikipedia.org&quot;,\r\n\t\t\t      &quot;1,m.wikipedia.org&quot;,\r\n\t\t\t      &quot;1,mobile.sports&quot;,\r\n\t\t\t      &quot;1,google.co.uk&quot;\r\n\t\t\t    };\r\n```\r\n\r\nBelow is the expected output:\r\n```\r\ncalculateClicksByDomain(counts) =&gt;\r\ncom:                     1345\r\ngoogle.com:              900\r\nstackoverflow.com:       10\r\noverflow.com:            20\r\nyahoo.com:               410\r\nmail.yahoo.com:          60\r\nmobile.sports.yahoo.com: 10\r\nsports.yahoo.com:        50\r\ncom.com:                 5\r\norg:                     3\r\nwikipedia.org:           3\r\nen.wikipedia.org:        2\r\nm.wikipedia.org:         1\r\nmobile.sports:           1\r\nsports:                  1\r\nuk:                      1\r\nco.uk:                   1\r\ngoogle.co.uk:            1\r\n```\r\n\r\n\r\nI tried to write a solution for above problem statement:\r\n```\r\nMap&lt;String, Integer&gt; calculateClicksByDomainMap = new HashMap&lt;&gt;();\r\n\t\tfor(int i = 0; i &lt; counts.length; i++) {\r\n\t\t\tString[] seperateClickCountsAtComma = counts[i].split(&quot;\\\\,&quot;);\r\n\t\t\tfor(int j = 0; j &lt; seperateClickCountsAtComma.length; j += 2) {\r\n\t\t\t\tString clickCounts = seperateClickCountsAtComma[j];\r\n\t\t\t\tString domain = seperateClickCountsAtComma[j+1];\r\n\t\t\t\tcalculateClicksByDomainMap.put(domain, Integer.parseInt(clickCounts));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(Entry&lt;String, Integer&gt; domainCounts : calculateClicksByDomainMap.entrySet()) {\r\n\t\t\tString domainName = domainCounts.getKey();\r\n\t\t\tInteger domainCount = domainCounts.getValue();\t\t\t\r\n\t\t\tsplitStringOnOccurenceOfDot(domainName);\r\n\t\t\t//System.out.println(domainName + &quot; &quot; + domainCount);\r\n\t\t\t\t//String test[] = domainName.split(&quot;\\\\.&quot;);\r\n\t\t\t\t//System.out.println(test[0] + &quot;=======&quot; + test[1] + &quot;-----&quot;);\r\n\t\t}\r\n\r\n\r\npublic static String splitStringOnOccurenceOfDot(String domainName) {\r\n\t\tif(!domainName.contains(&quot;.&quot;)) {\r\n\t\t\treturn domainName;\r\n\t\t}\r\n\t\tString[] subdomain  = domainName.split(&quot;\\\\.&quot;);\r\n\t\tdomainName = subdomain[1];\r\n\t\tSystem.out.println(domainName + &quot;===============&quot; );\r\n\t\treturn splitStringOnOccurenceOfDot(domainName);\r\n\t}\r\n```\r\n\r\nHowever, I&#39;m not sure how to split the string using recursion.\r\nCan anyone help me what is the efficient way to write code in order to get the expected output?\r\nI there a way to solve it using recursion?\r\nThank you for your time.","title":"Java - How to implement a data structure that contains the number of clicks that were recorded on each domain AND each subdomain under it","body":"<p>I have a problem statement as described below:\nWrite a function that takes this input as a parameter and returns a data structure containing the number of</p>\n<ul>\n<li>clicks that were recorded on each domain AND each subdomain under it.</li>\n<li>For example, a click on &quot;mail.yahoo.com&quot; counts toward the totals for &quot;mail.yahoo.com&quot;, &quot;yahoo.com&quot;, and &quot;com&quot;.</li>\n<li>(Subdomains are added to the left of their parent domain. So &quot;mail&quot; and &quot;mail.yahoo&quot; are not valid domains.</li>\n<li>Note that &quot;mobile.sports&quot; appears as a separate domain near the bottom of the input.)</li>\n</ul>\n<p>Below is the input data:</p>\n<pre><code> String[] counts = {\n                  &quot;900,google.com&quot;,\n                  &quot;60,mail.yahoo.com&quot;,\n                  &quot;10,mobile.sports.yahoo.com&quot;,\n                  &quot;40,sports.yahoo.com&quot;,\n                  &quot;300,yahoo.com&quot;,\n                  &quot;10,stackoverflow.com&quot;,\n                  &quot;20,overflow.com&quot;,\n                  &quot;5,com.com&quot;,\n                  &quot;2,en.wikipedia.org&quot;,\n                  &quot;1,m.wikipedia.org&quot;,\n                  &quot;1,mobile.sports&quot;,\n                  &quot;1,google.co.uk&quot;\n                };\n</code></pre>\n<p>Below is the expected output:</p>\n<pre><code>calculateClicksByDomain(counts) =&gt;\ncom:                     1345\ngoogle.com:              900\nstackoverflow.com:       10\noverflow.com:            20\nyahoo.com:               410\nmail.yahoo.com:          60\nmobile.sports.yahoo.com: 10\nsports.yahoo.com:        50\ncom.com:                 5\norg:                     3\nwikipedia.org:           3\nen.wikipedia.org:        2\nm.wikipedia.org:         1\nmobile.sports:           1\nsports:                  1\nuk:                      1\nco.uk:                   1\ngoogle.co.uk:            1\n</code></pre>\n<p>I tried to write a solution for above problem statement:</p>\n<pre><code>Map&lt;String, Integer&gt; calculateClicksByDomainMap = new HashMap&lt;&gt;();\n        for(int i = 0; i &lt; counts.length; i++) {\n            String[] seperateClickCountsAtComma = counts[i].split(&quot;\\\\,&quot;);\n            for(int j = 0; j &lt; seperateClickCountsAtComma.length; j += 2) {\n                String clickCounts = seperateClickCountsAtComma[j];\n                String domain = seperateClickCountsAtComma[j+1];\n                calculateClicksByDomainMap.put(domain, Integer.parseInt(clickCounts));\n            }\n        }\n        \n        for(Entry&lt;String, Integer&gt; domainCounts : calculateClicksByDomainMap.entrySet()) {\n            String domainName = domainCounts.getKey();\n            Integer domainCount = domainCounts.getValue();          \n            splitStringOnOccurenceOfDot(domainName);\n            //System.out.println(domainName + &quot; &quot; + domainCount);\n                //String test[] = domainName.split(&quot;\\\\.&quot;);\n                //System.out.println(test[0] + &quot;=======&quot; + test[1] + &quot;-----&quot;);\n        }\n\n\npublic static String splitStringOnOccurenceOfDot(String domainName) {\n        if(!domainName.contains(&quot;.&quot;)) {\n            return domainName;\n        }\n        String[] subdomain  = domainName.split(&quot;\\\\.&quot;);\n        domainName = subdomain[1];\n        System.out.println(domainName + &quot;===============&quot; );\n        return splitStringOnOccurenceOfDot(domainName);\n    }\n</code></pre>\n<p>However, I'm not sure how to split the string using recursion.\nCan anyone help me what is the efficient way to write code in order to get the expected output?\nI there a way to solve it using recursion?\nThank you for your time.</p>\n"},{"tags":["java","mongodb","spring-data-jpa"],"comments":[{"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"score":0,"creation_date":1653568509,"post_id":72391667,"comment_id":127886212,"body_markdown":"please include package names for each and your spring application class","body":"please include package names for each and your spring application class"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653567327,"creation_date":1653567327,"question_id":72391667,"body_markdown":"I have a spring-boot application with mongodb. I&#39;m trying to add paging search capability. But a error happens:\r\n\r\n```\r\nParameter 1 of constructor in com.life.library.adapter.port.out.mongo.MongoPortImpl required a bean of type &#39;com.life.library.adapter.port.out.mongo.repository.BookRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.life.library.adapter.port.out.mongo.repository.BookRepository&#39; in your configuration.\r\n```\r\n\r\nMy repositories:\r\n```java\r\npublic interface BookSearchRepository {\r\n  Page&lt;BookDocument&gt; search();\r\n}\r\n\r\n@Repository\r\npublic interface BookRepository\r\n    extends PagingAndSortingRepository&lt;BookDocument, String&gt;, BookSearchRepository {\r\n}\r\n\r\n```\r\n\r\nImplementation of `BookSearchRepository` repository:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class BookSearchRepositoryImpl implements BookSearchRepository {\r\n\r\n  private final MongoTemplate mongoTemplate;\r\n\r\n  @Override\r\n  public Page&lt;BookDocument&gt; search(){\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nClass, where I am trying to make autowaring of `BookRepository`:\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MongoPortImpl implements CreatePort, GetPort, SavePort {\r\n\r\n  private final BookRepository bookRepository;\r\n}\r\n```","title":"Spring needs defining a bean, but bean is exists","body":"<p>I have a spring-boot application with mongodb. I'm trying to add paging search capability. But a error happens:</p>\n<pre><code>Parameter 1 of constructor in com.life.library.adapter.port.out.mongo.MongoPortImpl required a bean of type 'com.life.library.adapter.port.out.mongo.repository.BookRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.life.library.adapter.port.out.mongo.repository.BookRepository' in your configuration.\n</code></pre>\n<p>My repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookSearchRepository {\n  Page&lt;BookDocument&gt; search();\n}\n\n@Repository\npublic interface BookRepository\n    extends PagingAndSortingRepository&lt;BookDocument, String&gt;, BookSearchRepository {\n}\n\n</code></pre>\n<p>Implementation of <code>BookSearchRepository</code> repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class BookSearchRepositoryImpl implements BookSearchRepository {\n\n  private final MongoTemplate mongoTemplate;\n\n  @Override\n  public Page&lt;BookDocument&gt; search(){\n    ...\n  }\n}\n</code></pre>\n<p>Class, where I am trying to make autowaring of <code>BookRepository</code>:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MongoPortImpl implements CreatePort, GetPort, SavePort {\n\n  private final BookRepository bookRepository;\n}\n</code></pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1653595824,"post_id":72391614,"comment_id":127895979,"body_markdown":"Assuming that `keyword` and `categoryIds` are the properties of `ProductListQuery`, you can remove `@Param` and reference the properties directly in the statement. i.e. you can write `keyword` instead of `query.keyword`.","body":"Assuming that <code>keyword</code> and <code>categoryIds</code> are the properties of <code>ProductListQuery</code>, you can remove <code>@Param</code> and reference the properties directly in the statement. i.e. you can write <code>keyword</code> instead of <code>query.keyword</code>."}],"owner":{"account_id":25396105,"reputation":1,"user_id":19206344,"display_name":"鱼毓屿御"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653567049,"creation_date":1653567049,"question_id":72391614,"body_markdown":"I have a problem when I am doing an interface test\r\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException\r\nI want to ask if these two files need to be modified,If there are other documents that need to be checked, I can also send them, thank you!\r\n**ProductMapper.java**\r\n```\r\nList&lt;Product&gt; selectList(@Param(&quot;query&quot;) ProductListQuery query);\r\n```\r\n**ProductMapper.xml**\r\n```\r\n  &lt;select id=&quot;selectList&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;com.fish.springboot.mall.model.query.ProductListQuery&quot;&gt;\r\n    select\r\n    &lt;include refid=&quot;Base_Column_List&quot;/&gt;\r\n    from fish_mall_product\r\n    &lt;where&gt;\r\n      &lt;if test=&quot;query.keyword != null&quot;&gt;\r\n        and name like #{query.keyword}\r\n      &lt;/if&gt;\r\n      &lt;if test=&quot;query.categoryIds != null&quot;&gt;\r\n        and category_id in\r\n        &lt;foreach collection=&quot;query.categoryIds&quot; close=&quot;)&quot; item=&quot;item&quot; open=&quot;(&quot; separator=&quot;,&quot;&gt;\r\n          #{item}\r\n        &lt;/foreach&gt;\r\n      &lt;/if&gt;\r\n      and status = 1\r\n    &lt;/where&gt;\r\n    order by update_time desc\r\n  &lt;/select&gt;\r\n```\r\n","title":"nested exception is org.apache.ibatis.reflection.ReflectionException: There is no getter for property named &#39;query&#39; in","body":"<p>I have a problem when I am doing an interface test\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException\nI want to ask if these two files need to be modified,If there are other documents that need to be checked, I can also send them, thank you!\n<strong>ProductMapper.java</strong></p>\n<pre><code>List&lt;Product&gt; selectList(@Param(&quot;query&quot;) ProductListQuery query);\n</code></pre>\n<p><strong>ProductMapper.xml</strong></p>\n<pre><code>  &lt;select id=&quot;selectList&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;com.fish.springboot.mall.model.query.ProductListQuery&quot;&gt;\n    select\n    &lt;include refid=&quot;Base_Column_List&quot;/&gt;\n    from fish_mall_product\n    &lt;where&gt;\n      &lt;if test=&quot;query.keyword != null&quot;&gt;\n        and name like #{query.keyword}\n      &lt;/if&gt;\n      &lt;if test=&quot;query.categoryIds != null&quot;&gt;\n        and category_id in\n        &lt;foreach collection=&quot;query.categoryIds&quot; close=&quot;)&quot; item=&quot;item&quot; open=&quot;(&quot; separator=&quot;,&quot;&gt;\n          #{item}\n        &lt;/foreach&gt;\n      &lt;/if&gt;\n      and status = 1\n    &lt;/where&gt;\n    order by update_time desc\n  &lt;/select&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","jakarta-ee","jetbrains-ide","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1653561630,"creation_date":1653561630,"answer_id":72390499,"question_id":72389071,"body_markdown":"- Install and enable [Jakarta EE: Server Faces ​(JSF)](https://plugins.jetbrains.com/plugin/18583-jakarta-ee-server-faces-jsf-) plugin and other Jakarta plugins if needed\r\n- Right-click on a project root directory in [Project tool window](https://www.jetbrains.com/help/idea/project-tool-window.html)\r\n- Select `Add Framework Support...`\r\n- Choose the needed components and click OK","title":"Add a new Jakarta EE specification to existing project in IntelliJ IDEA","body":"<ul>\n<li>Install and enable <a href=\"https://plugins.jetbrains.com/plugin/18583-jakarta-ee-server-faces-jsf-\" rel=\"nofollow noreferrer\">Jakarta EE: Server Faces ​(JSF)</a> plugin and other Jakarta plugins if needed</li>\n<li>Right-click on a project root directory in <a href=\"https://www.jetbrains.com/help/idea/project-tool-window.html\" rel=\"nofollow noreferrer\">Project tool window</a></li>\n<li>Select <code>Add Framework Support...</code></li>\n<li>Choose the needed components and click OK</li>\n</ul>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653566776,"creation_date":1653554450,"question_id":72389071,"body_markdown":"When creating new project in *IntelliJ IDEA* you can choose the specifications you need in your project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e8R2R.jpg\r\n\r\nBut I want to add new specification (like JSF) **to currently existing project without adding it manually into pom.xml file** (because of boilerplate files the wizard creates automatically like web.xml or faces-config.xml and etc.).\r\n\r\nHow can I do that by *IntelliJ* **wizard**?","title":"Add a new Jakarta EE specification to existing project in IntelliJ IDEA","body":"<p>When creating new project in <em>IntelliJ IDEA</em> you can choose the specifications you need in your project:</p>\n<p><a href=\"https://i.stack.imgur.com/e8R2R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8R2R.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But I want to add new specification (like JSF) <strong>to currently existing project without adding it manually into pom.xml file</strong> (because of boilerplate files the wizard creates automatically like web.xml or faces-config.xml and etc.).</p>\n<p>How can I do that by <em>IntelliJ</em> <strong>wizard</strong>?</p>\n"},{"tags":["java","android","opencv","audio","object-detection"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1653564101,"post_id":72390970,"comment_id":127884773,"body_markdown":"Ok, what&#39;s the problem with this code?","body":"Ok, what&#39;s the problem with this code?"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653564171,"post_id":72390970,"comment_id":127884798,"body_markdown":"The code I uploaded works fine about object detection. My question is which code I have to put in to make sound alarm when detecting car.","body":"The code I uploaded works fine about object detection. My question is which code I have to put in to make sound alarm when detecting car."},{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":1,"creation_date":1653564698,"post_id":72390970,"comment_id":127884970,"body_markdown":"Does this answer your question? [How to play ringtone/alarm sound in Android](https://stackoverflow.com/questions/2618182/how-to-play-ringtone-alarm-sound-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2618182/how-to-play-ringtone-alarm-sound-in-android\">How to play ringtone/alarm sound in Android</a>"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653565789,"post_id":72390970,"comment_id":127885320,"body_markdown":"Sadly, this doesn&#39;t help me. What I want is when car is detected, it just plays a bit of sound. I think ```mediaPlayer``` fits to mine so I followed the way you linked. But doesn&#39;t make any sound.","body":"Sadly, this doesn&#39;t help me. What I want is when car is detected, it just plays a bit of sound. I think <code>mediaPlayer</code> fits to mine so I followed the way you linked. But doesn&#39;t make any sound."}],"answers":[{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653566761,"creation_date":1653566761,"answer_id":72391564,"question_id":72390970,"body_markdown":"You can use any solution below once you have detected a car from your image.\r\n&gt; To sound an alarm \r\n\r\n     try {\r\n           val uri: Uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM)\r\n           val r: Ringtone = RingtoneManager.getRingtone(applicationContext, uri)\r\n           r.play()\r\n         } catch (e: Exception) {\r\n           e.printStackTrace()\r\n         }\r\n\r\n&gt; For a short beep\r\n \r\n\r\n    ToneGenerator(RingtoneManager.TYPE_NOTIFICATION, 200).also {\r\n                it.startTone(ToneGenerator.TONE_CDMA_EMERGENCY_RINGBACK)\r\n            }","title":"Make sound alarm on object detection application","body":"<p>You can use any solution below once you have detected a car from your image.</p>\n<blockquote>\n<p>To sound an alarm</p>\n</blockquote>\n<pre><code> try {\n       val uri: Uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM)\n       val r: Ringtone = RingtoneManager.getRingtone(applicationContext, uri)\n       r.play()\n     } catch (e: Exception) {\n       e.printStackTrace()\n     }\n</code></pre>\n<blockquote>\n<p>For a short beep</p>\n</blockquote>\n<pre><code>ToneGenerator(RingtoneManager.TYPE_NOTIFICATION, 200).also {\n            it.startTone(ToneGenerator.TONE_CDMA_EMERGENCY_RINGBACK)\n        }\n</code></pre>\n"}],"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653566761,"creation_date":1653563892,"question_id":72390970,"body_markdown":"I want to make an object detection app with sound alarm when I detect on specific objects.\r\nI first want to try with tutorial https://github.com/bendahouwael/Vehicle-Detection-App-Android. This code is an application that detects car. \r\n\r\n  First I want to make sound alarm when it detects car. Have any ideas?\r\nHere&#39;s the code about ```objectDetectorClass.java``` in that github link.\r\n```\r\npackage com.example.imagepro;\r\n\r\nimport android.content.res.AssetFileDescriptor;\r\nimport android.content.res.AssetManager;\r\nimport android.graphics.Bitmap;\r\n\r\nimport org.checkerframework.checker.units.qual.A;\r\nimport org.opencv.android.Utils;\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.Point;\r\nimport org.opencv.core.Scalar;\r\nimport org.opencv.imgproc.Imgproc;\r\nimport org.tensorflow.lite.Interpreter;\r\nimport org.tensorflow.lite.gpu.GpuDelegate;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.lang.reflect.Array;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.channels.FileChannel;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.TreeMap;\r\n\r\npublic class objectDetectorClass {\r\n    private Interpreter interpreter;\r\n    private List&lt;String&gt; labelList;\r\n    private int INPUT_SIZE;\r\n    private int PIXEL_SIZE=3;\r\n    private int IMAGE_MEAN=0;\r\n    private  float IMAGE_STD=255.0f;\r\n    private GpuDelegate gpuDelegate;\r\n    private int height=0;\r\n    private  int width=0;\r\n\r\n    objectDetectorClass(AssetManager assetManager,String modelPath, String labelPath,int inputSize) throws IOException{\r\n        INPUT_SIZE=inputSize;\r\n        Interpreter.Options options=new Interpreter.Options();\r\n        gpuDelegate=new GpuDelegate();\r\n        options.addDelegate(gpuDelegate);\r\n        options.setNumThreads(4);\r\n        interpreter=new Interpreter(loadModelFile(assetManager,modelPath),options);\r\n        labelList=loadLabelList(assetManager,labelPath);\r\n    }\r\n\r\n    private List&lt;String&gt; loadLabelList(AssetManager assetManager, String labelPath) throws IOException {\r\n        List&lt;String&gt; labelList=new ArrayList&lt;&gt;();\r\n        BufferedReader reader=new BufferedReader(new InputStreamReader(assetManager.open(labelPath)));\r\n        String line;\r\n        while ((line=reader.readLine())!=null ){\r\n\r\n            labelList.add(line);\r\n        }\r\n        reader.close();\r\n        return labelList;\r\n    }\r\n\r\n    private ByteBuffer loadModelFile(AssetManager assetManager, String modelPath) throws IOException {\r\n        AssetFileDescriptor fileDescriptor=assetManager.openFd(modelPath);\r\n        FileInputStream inputStream=new FileInputStream(fileDescriptor.getFileDescriptor());\r\n        FileChannel fileChannel=inputStream.getChannel();\r\n        long startOffset =fileDescriptor.getStartOffset();\r\n        long declaredLength=fileDescriptor.getDeclaredLength();\r\n\r\n        return fileChannel.map(FileChannel.MapMode.READ_ONLY,startOffset,declaredLength);\r\n    }\r\n    public Mat recognizeImage(Mat mat_image){\r\n        Mat rotated_mat_image=new Mat();\r\n        Core.flip(mat_image.t(),rotated_mat_image,1);\r\n        Bitmap bitmap=null;\r\n        bitmap=Bitmap.createBitmap(rotated_mat_image.cols(),rotated_mat_image.rows(),Bitmap.Config.ARGB_8888);\r\n        Utils.matToBitmap(rotated_mat_image,bitmap);\r\n        height=bitmap.getHeight();\r\n        width=bitmap.getWidth();\r\n         Bitmap scaledBitmap=Bitmap.createScaledBitmap(bitmap,INPUT_SIZE,INPUT_SIZE,false);\r\n        ByteBuffer byteBuffer=convertBitmapToByteBuffer(scaledBitmap);\r\n        Object[] input=new Object[1];\r\n        input[0]=byteBuffer;\r\n        Map&lt;Integer,Object&gt; output_map=new TreeMap&lt;&gt;();\r\n        float[][][]boxes =new float[1][10][4];\r\n        float[][] scores=new float[1][10];\r\n        float[][] classes=new float[1][10];\r\n        output_map.put(0,boxes);\r\n        output_map.put(1,classes);\r\n        output_map.put(2,scores);\r\n        interpreter.runForMultipleInputsOutputs(input,output_map);\r\n        Object value=output_map.get(0);\r\n        Object Object_class=output_map.get(1);\r\n        Object score=output_map.get(2);\r\n        for (int i=0;i&lt;10;i++){\r\n            float class_value=(float) Array.get(Array.get(Object_class,0),i);\r\n            float score_value=(float) Array.get(Array.get(score,0),i);\r\n            if(score_value&gt;0.5){\r\n                Object box1=Array.get(Array.get(value,0),i);\r\n                float top=(float) Array.get(box1,0)*height;\r\n                float left=(float) Array.get(box1,1)*width;\r\n                float bottom=(float) Array.get(box1,2)*height;\r\n                float right=(float) Array.get(box1,3)*width;\r\n                if(class_value==2 || class_value==3 || class_value==5 || class_value==7 ){\r\n                Imgproc.rectangle(rotated_mat_image,new Point(left,top),new Point(right,bottom),new Scalar(0, 255, 0, 255),2);\r\n                Imgproc.putText(rotated_mat_image,labelList.get((int) class_value),new Point(left,top),3,1,new Scalar(255, 0, 0, 255),2);}\r\n            }\r\n\r\n        }\r\n        Core.flip(rotated_mat_image.t(),mat_image,0);\r\n        return mat_image;\r\n    }\r\n\r\n    private ByteBuffer convertBitmapToByteBuffer(Bitmap bitmap) {\r\n        ByteBuffer byteBuffer;\r\n\r\n        int quant=0;\r\n        int size_images=INPUT_SIZE;\r\n        if(quant==0){\r\n            byteBuffer=ByteBuffer.allocateDirect(1*size_images*size_images*3);\r\n        }\r\n        else {\r\n            byteBuffer=ByteBuffer.allocateDirect(4*1*size_images*size_images*3);\r\n        }\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n        int[] intValues=new int[size_images*size_images];\r\n        bitmap.getPixels(intValues,0,bitmap.getWidth(),0,0,bitmap.getWidth(),bitmap.getHeight());\r\n        int pixel=0;\r\n        for (int i=0;i&lt;size_images;++i){\r\n            for (int j=0;j&lt;size_images;++j){\r\n                final  int val=intValues[pixel++];\r\n                if(quant==0){\r\n                    byteBuffer.put((byte) ((val&gt;&gt;16)&amp;0xFF));\r\n                    byteBuffer.put((byte) ((val&gt;&gt;8)&amp;0xFF));\r\n                    byteBuffer.put((byte) (val&amp;0xFF));\r\n                }\r\n                else {\r\n                    byteBuffer.putFloat((((val &gt;&gt; 16) &amp; 0xFF))/255.0f);\r\n                    byteBuffer.putFloat((((val &gt;&gt; 8) &amp; 0xFF))/255.0f);\r\n                    byteBuffer.putFloat((((val) &amp; 0xFF))/255.0f);\r\n                }\r\n            }\r\n        }\r\n    return byteBuffer;\r\n    }\r\n}\r\n```\r\n\r\nThank you for reading!","title":"Make sound alarm on object detection application","body":"<p>I want to make an object detection app with sound alarm when I detect on specific objects.\nI first want to try with tutorial <a href=\"https://github.com/bendahouwael/Vehicle-Detection-App-Android\" rel=\"nofollow noreferrer\">https://github.com/bendahouwael/Vehicle-Detection-App-Android</a>. This code is an application that detects car.</p>\n<p>First I want to make sound alarm when it detects car. Have any ideas?\nHere's the code about <code>objectDetectorClass.java</code> in that github link.</p>\n<pre><code>package com.example.imagepro;\n\nimport android.content.res.AssetFileDescriptor;\nimport android.content.res.AssetManager;\nimport android.graphics.Bitmap;\n\nimport org.checkerframework.checker.units.qual.A;\nimport org.opencv.android.Utils;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Point;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgproc.Imgproc;\nimport org.tensorflow.lite.Interpreter;\nimport org.tensorflow.lite.gpu.GpuDelegate;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.lang.reflect.Array;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.channels.FileChannel;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.TreeMap;\n\npublic class objectDetectorClass {\n    private Interpreter interpreter;\n    private List&lt;String&gt; labelList;\n    private int INPUT_SIZE;\n    private int PIXEL_SIZE=3;\n    private int IMAGE_MEAN=0;\n    private  float IMAGE_STD=255.0f;\n    private GpuDelegate gpuDelegate;\n    private int height=0;\n    private  int width=0;\n\n    objectDetectorClass(AssetManager assetManager,String modelPath, String labelPath,int inputSize) throws IOException{\n        INPUT_SIZE=inputSize;\n        Interpreter.Options options=new Interpreter.Options();\n        gpuDelegate=new GpuDelegate();\n        options.addDelegate(gpuDelegate);\n        options.setNumThreads(4);\n        interpreter=new Interpreter(loadModelFile(assetManager,modelPath),options);\n        labelList=loadLabelList(assetManager,labelPath);\n    }\n\n    private List&lt;String&gt; loadLabelList(AssetManager assetManager, String labelPath) throws IOException {\n        List&lt;String&gt; labelList=new ArrayList&lt;&gt;();\n        BufferedReader reader=new BufferedReader(new InputStreamReader(assetManager.open(labelPath)));\n        String line;\n        while ((line=reader.readLine())!=null ){\n\n            labelList.add(line);\n        }\n        reader.close();\n        return labelList;\n    }\n\n    private ByteBuffer loadModelFile(AssetManager assetManager, String modelPath) throws IOException {\n        AssetFileDescriptor fileDescriptor=assetManager.openFd(modelPath);\n        FileInputStream inputStream=new FileInputStream(fileDescriptor.getFileDescriptor());\n        FileChannel fileChannel=inputStream.getChannel();\n        long startOffset =fileDescriptor.getStartOffset();\n        long declaredLength=fileDescriptor.getDeclaredLength();\n\n        return fileChannel.map(FileChannel.MapMode.READ_ONLY,startOffset,declaredLength);\n    }\n    public Mat recognizeImage(Mat mat_image){\n        Mat rotated_mat_image=new Mat();\n        Core.flip(mat_image.t(),rotated_mat_image,1);\n        Bitmap bitmap=null;\n        bitmap=Bitmap.createBitmap(rotated_mat_image.cols(),rotated_mat_image.rows(),Bitmap.Config.ARGB_8888);\n        Utils.matToBitmap(rotated_mat_image,bitmap);\n        height=bitmap.getHeight();\n        width=bitmap.getWidth();\n         Bitmap scaledBitmap=Bitmap.createScaledBitmap(bitmap,INPUT_SIZE,INPUT_SIZE,false);\n        ByteBuffer byteBuffer=convertBitmapToByteBuffer(scaledBitmap);\n        Object[] input=new Object[1];\n        input[0]=byteBuffer;\n        Map&lt;Integer,Object&gt; output_map=new TreeMap&lt;&gt;();\n        float[][][]boxes =new float[1][10][4];\n        float[][] scores=new float[1][10];\n        float[][] classes=new float[1][10];\n        output_map.put(0,boxes);\n        output_map.put(1,classes);\n        output_map.put(2,scores);\n        interpreter.runForMultipleInputsOutputs(input,output_map);\n        Object value=output_map.get(0);\n        Object Object_class=output_map.get(1);\n        Object score=output_map.get(2);\n        for (int i=0;i&lt;10;i++){\n            float class_value=(float) Array.get(Array.get(Object_class,0),i);\n            float score_value=(float) Array.get(Array.get(score,0),i);\n            if(score_value&gt;0.5){\n                Object box1=Array.get(Array.get(value,0),i);\n                float top=(float) Array.get(box1,0)*height;\n                float left=(float) Array.get(box1,1)*width;\n                float bottom=(float) Array.get(box1,2)*height;\n                float right=(float) Array.get(box1,3)*width;\n                if(class_value==2 || class_value==3 || class_value==5 || class_value==7 ){\n                Imgproc.rectangle(rotated_mat_image,new Point(left,top),new Point(right,bottom),new Scalar(0, 255, 0, 255),2);\n                Imgproc.putText(rotated_mat_image,labelList.get((int) class_value),new Point(left,top),3,1,new Scalar(255, 0, 0, 255),2);}\n            }\n\n        }\n        Core.flip(rotated_mat_image.t(),mat_image,0);\n        return mat_image;\n    }\n\n    private ByteBuffer convertBitmapToByteBuffer(Bitmap bitmap) {\n        ByteBuffer byteBuffer;\n\n        int quant=0;\n        int size_images=INPUT_SIZE;\n        if(quant==0){\n            byteBuffer=ByteBuffer.allocateDirect(1*size_images*size_images*3);\n        }\n        else {\n            byteBuffer=ByteBuffer.allocateDirect(4*1*size_images*size_images*3);\n        }\n        byteBuffer.order(ByteOrder.nativeOrder());\n        int[] intValues=new int[size_images*size_images];\n        bitmap.getPixels(intValues,0,bitmap.getWidth(),0,0,bitmap.getWidth(),bitmap.getHeight());\n        int pixel=0;\n        for (int i=0;i&lt;size_images;++i){\n            for (int j=0;j&lt;size_images;++j){\n                final  int val=intValues[pixel++];\n                if(quant==0){\n                    byteBuffer.put((byte) ((val&gt;&gt;16)&amp;0xFF));\n                    byteBuffer.put((byte) ((val&gt;&gt;8)&amp;0xFF));\n                    byteBuffer.put((byte) (val&amp;0xFF));\n                }\n                else {\n                    byteBuffer.putFloat((((val &gt;&gt; 16) &amp; 0xFF))/255.0f);\n                    byteBuffer.putFloat((((val &gt;&gt; 8) &amp; 0xFF))/255.0f);\n                    byteBuffer.putFloat((((val) &amp; 0xFF))/255.0f);\n                }\n            }\n        }\n    return byteBuffer;\n    }\n}\n</code></pre>\n<p>Thank you for reading!</p>\n"},{"tags":["java","jackson","retrofit"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653566535,"creation_date":1653553304,"answer_id":72388847,"question_id":72384607,"body_markdown":"You can read your json to a `JsonNode` and iterate over its properties names with a `Iterator&lt;String&gt;` iterator obtained calling the [`JsonNode#fieldNames`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#fieldNames--) method, selecting only the properties with a *numeric* name (this depends from what you mean for numeric, up to you the definition of a `isNumber` method):\r\n\r\n~~~\r\nMap&lt;String, JsonMember&gt; map = new HashMap&lt;&gt;();\r\n//reading the jsonnode labelled with &quot;associations&quot;\r\nJsonNode node = mapper.readTree(json).at(&quot;/associations&quot;);\r\nIterator&lt;String&gt; iterator = node.fieldNames();\r\n        \r\nwhile (iterator.hasNext()) {\r\n      String next = iterator.next();\r\n      if (isNumber(next)) { //&lt;-- ok next is numeric\r\n         map.put(next, mapper.treeToValue(node.get(next), JsonMember.class));\r\n      }\r\n}\r\n~~~","title":"Retrofit - Deserilize Json response map into a property","body":"<p>You can read your json to a <code>JsonNode</code> and iterate over its properties names with a <code>Iterator&lt;String&gt;</code> iterator obtained calling the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#fieldNames--\" rel=\"nofollow noreferrer\"><code>JsonNode#fieldNames</code></a> method, selecting only the properties with a <em>numeric</em> name (this depends from what you mean for numeric, up to you the definition of a <code>isNumber</code> method):</p>\n<pre><code>Map&lt;String, JsonMember&gt; map = new HashMap&lt;&gt;();\n//reading the jsonnode labelled with &quot;associations&quot;\nJsonNode node = mapper.readTree(json).at(&quot;/associations&quot;);\nIterator&lt;String&gt; iterator = node.fieldNames();\n        \nwhile (iterator.hasNext()) {\n      String next = iterator.next();\n      if (isNumber(next)) { //&lt;-- ok next is numeric\n         map.put(next, mapper.treeToValue(node.get(next), JsonMember.class));\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":10656426,"reputation":486,"user_id":7845889,"display_name":"Sebastian Luna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653566535,"creation_date":1653516036,"question_id":72384607,"body_markdown":"I&#39;m having a problem deserializing the response that I&#39;m getting from retrofit.\r\nMy problem is that I get the following response:\r\n\r\n           &quot;associations&quot;: {\r\n                &quot;1&quot;: {\r\n                    &quot;uri&quot;: &quot;https://api.ap.org/media/v/content/690b9f679b1d4d8abc8042ca53140625?qt=FckGhfkHkvF&amp;et=0a1aza3c0&amp;ai=881778bb579d79e17f54b046a86a81cf&quot;,\r\n                    &quot;altids&quot;: {\r\n                        &quot;itemid&quot;: &quot;690b9f679b1d4d8abc8042ca53140625&quot;,\r\n                        &quot;etag&quot;: &quot;690b9f679b1d4d8abc8042ca53140625_0a1aza3c0&quot;\r\n                    },\r\n                    &quot;version&quot;: 0,\r\n                    &quot;type&quot;: &quot;picture&quot;,\r\n                    &quot;headline&quot;: &quot;Facebook Ads-Targeting Info&quot;\r\n                }\r\n            }\r\n\r\nMy entity looks like the following:\r\n\r\n    public class Associations{\r\n    \r\n    \tprivate Map&lt;String, JsonMember&gt; association;\r\n    \r\n    \tpublic Map&lt;String, JsonMember&gt; getAssociation() {\r\n    \t\treturn association;\r\n    \t}\r\n    \r\n    \tpublic void setAssociation(Map&lt;String, JsonMember&gt; association) {\r\n    \t\tthis.association = association;\r\n    \t}\r\n    }\r\n\r\nI want that association takes the value from the map, but I don&#39;t know how to specify that it takes the object inside that association. Those association keys can be returned as any number, so I can&#39;t hard code the &quot;1&quot;.\r\nAny ideas?\r\nThanks for your help!","title":"Retrofit - Deserilize Json response map into a property","body":"<p>I'm having a problem deserializing the response that I'm getting from retrofit.\nMy problem is that I get the following response:</p>\n<pre><code>       &quot;associations&quot;: {\n            &quot;1&quot;: {\n                &quot;uri&quot;: &quot;https://api.ap.org/media/v/content/690b9f679b1d4d8abc8042ca53140625?qt=FckGhfkHkvF&amp;et=0a1aza3c0&amp;ai=881778bb579d79e17f54b046a86a81cf&quot;,\n                &quot;altids&quot;: {\n                    &quot;itemid&quot;: &quot;690b9f679b1d4d8abc8042ca53140625&quot;,\n                    &quot;etag&quot;: &quot;690b9f679b1d4d8abc8042ca53140625_0a1aza3c0&quot;\n                },\n                &quot;version&quot;: 0,\n                &quot;type&quot;: &quot;picture&quot;,\n                &quot;headline&quot;: &quot;Facebook Ads-Targeting Info&quot;\n            }\n        }\n</code></pre>\n<p>My entity looks like the following:</p>\n<pre><code>public class Associations{\n\n    private Map&lt;String, JsonMember&gt; association;\n\n    public Map&lt;String, JsonMember&gt; getAssociation() {\n        return association;\n    }\n\n    public void setAssociation(Map&lt;String, JsonMember&gt; association) {\n        this.association = association;\n    }\n}\n</code></pre>\n<p>I want that association takes the value from the map, but I don't know how to specify that it takes the object inside that association. Those association keys can be returned as any number, so I can't hard code the &quot;1&quot;.\nAny ideas?\nThanks for your help!</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-cloud-dataflow","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653566463,"creation_date":1653566463,"answer_id":72391492,"question_id":72389410,"body_markdown":"I think the issue you see with global interceptor is that you&#39;re only intercepting output channel. Function is invoked via input channel.\r\n\r\nYou can also achieve this with function. Simply define another function called `log` and then compose it before and after the actual function.\r\n\r\nFor example; \r\n```\r\n@Bean\r\npublic Function&lt;Message&lt;?&gt;, Message&lt;?&gt;&gt; log() {\r\n\treturn m -&gt; {\r\n\t\tSystem.out.println(&quot;Logging &quot; + m);\r\n\t\treturn m;\r\n\t};\r\n}\r\n...\r\nspring.cloud.function.definition=log|uppercase|log\r\n```\r\n\r\nYou can then also simplify the binding name to be more manageable. \r\n\r\n```\r\nspring.cloud.stream.function.bindings.log|uppercase|log-in-0=input\r\nspring.cloud.stream.function.bindings.log|uppercase|log-out-0=output\r\n```\r\n\r\nAnd you&#39;ll get the following in your logs\r\n```\r\nLogging GenericMessage [payload=byte[5], headers={amqp_receivedDeliveryMode=PERSISTENT...\r\nLogging GenericMessage [payload=HELLO, headers={amqp_receivedDeliveryMode=PERSISTENT,...\r\n```\r\nThe benefit of this approach is that you can easily manage when to log and when not to log by simply changing properties. And it&#39;s also per function (not global)\r\n\r\nThat said, feel free to create an issue so we can make this ore configurable.","title":"How to log around Spring Cloud Stream functions?","body":"<p>I think the issue you see with global interceptor is that you're only intercepting output channel. Function is invoked via input channel.</p>\n<p>You can also achieve this with function. Simply define another function called <code>log</code> and then compose it before and after the actual function.</p>\n<p>For example;</p>\n<pre><code>@Bean\npublic Function&lt;Message&lt;?&gt;, Message&lt;?&gt;&gt; log() {\n    return m -&gt; {\n        System.out.println(&quot;Logging &quot; + m);\n        return m;\n    };\n}\n...\nspring.cloud.function.definition=log|uppercase|log\n</code></pre>\n<p>You can then also simplify the binding name to be more manageable.</p>\n<pre><code>spring.cloud.stream.function.bindings.log|uppercase|log-in-0=input\nspring.cloud.stream.function.bindings.log|uppercase|log-out-0=output\n</code></pre>\n<p>And you'll get the following in your logs</p>\n<pre><code>Logging GenericMessage [payload=byte[5], headers={amqp_receivedDeliveryMode=PERSISTENT...\nLogging GenericMessage [payload=HELLO, headers={amqp_receivedDeliveryMode=PERSISTENT,...\n</code></pre>\n<p>The benefit of this approach is that you can easily manage when to log and when not to log by simply changing properties. And it's also per function (not global)</p>\n<p>That said, feel free to create an issue so we can make this ore configurable.</p>\n"}],"owner":{"account_id":7608311,"reputation":13,"user_id":5770173,"display_name":"Gioele Gentile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72391492,"answer_count":1,"score":0,"last_activity_date":1653566463,"creation_date":1653556252,"question_id":72389410,"body_markdown":"I have a simple Spring cloud Stream function\r\n\r\n\tpackage com.example    \r\n\r\n\t@Configuration\r\n\tpublic class Processor {\r\n\t\r\n\t\t@Bean\r\n\t\tpublic Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; mapper() {\r\n\t\t\treturn msg -&gt; {\r\n\t\t\t\t// do stuff\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI want to log the input message and the output message transparently.\r\nI tried ```@GlobalChannelInterceptor``` exactly as suggested in [this answer][1], but with not luck. Both the input and output messages are intercepted in the ```preSend``` ```postSend``` ```afterSendCompletion``` methods **after** the function is completed.\r\n\r\nI also tried using AspectJ as follows:\r\n\r\n    @Slf4j\r\n    @Aspect\r\n    @Component\r\n    public class MyAspect {\r\n\r\n\t\t@Before(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\r\n\t\tpublic void logBefore(JoinPoint joinPoint, Message&lt;?&gt; message) {\r\n\t\t\tlog.info(&quot;before {}&quot;, message);\r\n\t\t}\r\n\t\r\n\t\t@Around(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\r\n\t\tpublic Object logAround(ProceedingJoinPoint joinPoint, Message&lt;?&gt; message) throws Throwable {\r\n\t\t\tlog.info(&quot;around {}&quot;, message);\r\n\t\t\treturn joinPoint.proceed();\r\n\t\t}\r\n\t\r\n\t\t@After(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\r\n\t\tpublic void logAfter(JoinPoint joinPoint, Message&lt;?&gt; message) {\r\n\t\t\tlog.info(&quot;after {}&quot;, message);\r\n\t\t}\r\n\r\n    }\r\n\r\nBut this hooks are never called. No logs are shown and I can&#39;t hit them with debugger.\r\n\r\n\r\nAny suggestions on how I can log around Spring Cloud Functions?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37466442/5770173","title":"How to log around Spring Cloud Stream functions?","body":"<p>I have a simple Spring cloud Stream function</p>\n<pre><code>package com.example    \n\n@Configuration\npublic class Processor {\n\n    @Bean\n    public Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; mapper() {\n        return msg -&gt; {\n            // do stuff\n        };\n    }\n\n}\n</code></pre>\n<p>I want to log the input message and the output message transparently.\nI tried <code>@GlobalChannelInterceptor</code> exactly as suggested in <a href=\"https://stackoverflow.com/a/37466442/5770173\">this answer</a>, but with not luck. Both the input and output messages are intercepted in the <code>preSend</code> <code>postSend</code> <code>afterSendCompletion</code> methods <strong>after</strong> the function is completed.</p>\n<p>I also tried using AspectJ as follows:</p>\n<pre><code>@Slf4j\n@Aspect\n@Component\npublic class MyAspect {\n\n    @Before(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\n    public void logBefore(JoinPoint joinPoint, Message&lt;?&gt; message) {\n        log.info(&quot;before {}&quot;, message);\n    }\n\n    @Around(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\n    public Object logAround(ProceedingJoinPoint joinPoint, Message&lt;?&gt; message) throws Throwable {\n        log.info(&quot;around {}&quot;, message);\n        return joinPoint.proceed();\n    }\n\n    @After(&quot;execution(* com.example.Processor.*(..)) &amp;&amp; args(message,..)&quot;)\n    public void logAfter(JoinPoint joinPoint, Message&lt;?&gt; message) {\n        log.info(&quot;after {}&quot;, message);\n    }\n\n}\n</code></pre>\n<p>But this hooks are never called. No logs are shown and I can't hit them with debugger.</p>\n<p>Any suggestions on how I can log around Spring Cloud Functions?</p>\n"},{"tags":["java","api","groovy","automation"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653501202,"creation_date":1653501202,"answer_id":72382215,"question_id":72382089,"body_markdown":"There are many libraries to help with Json Serialization and Deserialization. [Jackson Object Mapper][1] is one of the most popular ones.\r\n\r\nThe code would be something like this.  To begin with you would need Java Pojo which represents your json Object e.g. let&#39;s consider this example from [this tutorial][2], where you can create a Car Java Object from a Car json string.\r\n\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\r\n    Car car = objectMapper.readValue(json, Car.class);\t// you should have a Car Class(Pojo) with color, and type attributes\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://www.baeldung.com/jackson-object-mapper-tutorial","title":"Get Json Value from text","body":"<p>There are many libraries to help with Json Serialization and Deserialization. <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">Jackson Object Mapper</a> is one of the most popular ones.</p>\n<p>The code would be something like this.  To begin with you would need Java Pojo which represents your json Object e.g. let's consider this example from <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">this tutorial</a>, where you can create a Car Java Object from a Car json string.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\nCar car = objectMapper.readValue(json, Car.class);  // you should have a Car Class(Pojo) with color, and type attributes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653502714,"creation_date":1653502714,"answer_id":72382478,"question_id":72382089,"body_markdown":"&gt; Final json: {&quot;txnId&quot;:null,\r\n&gt; &quot;envelope&quot;:{&quot;uniqueId&quot;:234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot;\r\n&gt; etc...}}\r\n&gt; \r\n&gt; How can i get this uniqueId value = 234234_2344432_23442\r\n\r\nYou could do something like this:\r\n\r\n    import groovy.json.JsonSlurper\r\n    \r\n    ...\r\n    \r\n    String jsonString = &#39;{&quot;txnId&quot;:null, &quot;envelope&quot;:{&quot;uniqueId&quot;:&quot;234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot;}}&#39;\r\n    def slurper = new JsonSlurper()\r\n    def json = slurper.parseText(jsonString)\r\n    \r\n    def envelope = json.envelope\r\n\r\n    String rootId = envelope.rootID\r\n    assert rootId == &#39;34534554534&#39;\r\n    \r\n    String uniqueId = envelope.uniqueId\r\n    assert uniqueId == &#39;234234_2344432_23442&#39;\r\n\r\n","title":"Get Json Value from text","body":"<blockquote>\n<p>Final json: {&quot;txnId&quot;:null,\n&quot;envelope&quot;:{&quot;uniqueId&quot;:234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot;\netc...}}</p>\n<p>How can i get this uniqueId value = 234234_2344432_23442</p>\n</blockquote>\n<p>You could do something like this:</p>\n<pre><code>import groovy.json.JsonSlurper\n\n...\n\nString jsonString = '{&quot;txnId&quot;:null, &quot;envelope&quot;:{&quot;uniqueId&quot;:&quot;234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot;}}'\ndef slurper = new JsonSlurper()\ndef json = slurper.parseText(jsonString)\n\ndef envelope = json.envelope\n\nString rootId = envelope.rootID\nassert rootId == '34534554534'\n\nString uniqueId = envelope.uniqueId\nassert uniqueId == '234234_2344432_23442'\n</code></pre>\n"}],"owner":{"account_id":18646271,"reputation":47,"user_id":13590836,"display_name":"Arilay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653566295,"creation_date":1653500415,"question_id":72382089,"body_markdown":"I have a REST response, which contains text and JSON value. I need to get uniqueId from JSON value, what will be the best way?\r\n\r\nMy JSON is very big, but looks like this:\r\n\r\npaymentResponse = Published your custom Transaction json to topic env_txn_endtoend_01 Final json: {&quot;txnId&quot;:null, &quot;envelope&quot;:{&quot;uniqueId&quot;:234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot; etc...}}\r\n\r\nHow can I get this uniqueId value = 234234_2344432_23442?\r\n","title":"Get Json Value from text","body":"<p>I have a REST response, which contains text and JSON value. I need to get uniqueId from JSON value, what will be the best way?</p>\n<p>My JSON is very big, but looks like this:</p>\n<p>paymentResponse = Published your custom Transaction json to topic env_txn_endtoend_01 Final json: {&quot;txnId&quot;:null, &quot;envelope&quot;:{&quot;uniqueId&quot;:234234_2344432_23442&quot;,&quot;rootID&quot;:&quot;34534554534&quot; etc...}}</p>\n<p>How can I get this uniqueId value = 234234_2344432_23442?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1653546083,"post_id":72386941,"comment_id":127879420,"body_markdown":"Please share full trace log","body":"Please share full trace log"}],"answers":[{"tags":[],"owner":{"account_id":20111209,"reputation":55,"user_id":14747574,"display_name":"Mrks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653566212,"creation_date":1653566212,"answer_id":72391430,"question_id":72386941,"body_markdown":"Might be the fact that you are trying to reach url that is only accessible via vpn?\r\nPlease share the full error log &amp; more information what you are trying to do.","title":"error &quot;org.openqa.selenium.WebDriverException unkown error : net :: ERR_CONNECTION_CLOSED in chrome&quot;","body":"<p>Might be the fact that you are trying to reach url that is only accessible via vpn?\nPlease share the full error log &amp; more information what you are trying to do.</p>\n"}],"owner":{"account_id":25392944,"reputation":1,"user_id":19203602,"display_name":"UdayKiran Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653566212,"creation_date":1653541627,"question_id":72386941,"body_markdown":"Code is running fine in local but in jenkins I&#39; getting this errror org.openqa.selenium.WebDriverException unkown error : net :: ERR_CONNECTION_CLOSED in chrome\r\n\r\nLanguage java","title":"error &quot;org.openqa.selenium.WebDriverException unkown error : net :: ERR_CONNECTION_CLOSED in chrome&quot;","body":"<p>Code is running fine in local but in jenkins I' getting this errror org.openqa.selenium.WebDriverException unkown error : net :: ERR_CONNECTION_CLOSED in chrome</p>\n<p>Language java</p>\n"},{"tags":["java","html","spring-boot","checkbox","controller"],"comments":[{"owner":{"account_id":10901645,"reputation":181,"user_id":8013745,"display_name":"Adam Howard"},"score":0,"creation_date":1653564734,"post_id":72391101,"comment_id":127884988,"body_markdown":"You may need values assigned to your checkbox in your template.","body":"You may need values assigned to your checkbox in your template."},{"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"score":0,"creation_date":1653565786,"post_id":72391101,"comment_id":127885319,"body_markdown":"OK, I did, but it did not fix the problem","body":"OK, I did, but it did not fix the problem"},{"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"score":0,"creation_date":1653566481,"post_id":72391101,"comment_id":127885537,"body_markdown":"WOW. Found partial answer over here https://stackoverflow.com/questions/37359851/how-to-receive-html-check-box-value-in-spring-mvc-controller Still do not know how to manage it from controller on new page","body":"WOW. Found partial answer over here <a href=\"https://stackoverflow.com/questions/37359851/how-to-receive-html-check-box-value-in-spring-mvc-controller\" title=\"how to receive html check box value in spring mvc controller\">stackoverflow.com/questions/37359851/&hellip;</a> Still do not know how to manage it from controller on new page"},{"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"score":0,"creation_date":1653573056,"post_id":72391101,"comment_id":127888043,"body_markdown":"Second portion of the answer: https://frontbackend.com/thymeleaf/how-to-add-checked-attribute-to-input-conditionally-in-thymeleaf The question can be closed. Thank you!","body":"Second portion of the answer: <a href=\"https://frontbackend.com/thymeleaf/how-to-add-checked-attribute-to-input-conditionally-in-thymeleaf\" rel=\"nofollow noreferrer\">frontbackend.com/thymeleaf/&hellip;</a> The question can be closed. Thank you!"}],"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653564701,"creation_date":1653564589,"question_id":72391101,"body_markdown":"I have Form with CheckBoxes on my index.html.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n                &lt;form name=&quot;formCheckBox&quot; id=&quot;formCheckBox&quot; action=&quot;/filter&quot; method=&quot;POST&quot;&gt;     \r\n                    &lt;div&gt;\r\n                      &lt;input type=&quot;checkbox&quot; id=&quot;onechange&quot; name=&quot;onechange&quot; onclick=&quot;this.form.submit();&quot;&gt;\r\n                      &lt;label for=&quot;onechange&quot;&gt;one change&lt;/label&gt;\r\n                    &lt;/div&gt;            \r\n                    &lt;div&gt;\r\n                      &lt;input type=&quot;checkbox&quot; id=&quot;nochanges&quot; name=&quot;nochanges&quot; onclick=&quot;this.form.submit();&quot;&gt;\r\n                      &lt;label for=&quot;nochanges&quot;&gt;no changes&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m trying to read values of both Checkboxes (on or off) in Controller after clicking on any Checkbox (need a page update). And feels like It does not go to Controller at all. So, how to read it in Controller and How to send those values back on my new page filter.html?\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/filter&quot;)\r\n        public String checkBoxAction (@RequestParam(&quot;onechange&quot;) String onechange,\r\n                                      @RequestParam(&quot;nochange&quot;) String nochange){\r\n            System.out.println(onechange);\r\n            System.out.println(nochange);\r\n            return (&quot;/filter&quot;);\r\n        }\r\n\r\n","title":"SpringBoot. Controller does not read CheckBox values","body":"<p>I have Form with CheckBoxes on my index.html.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>            &lt;form name=\"formCheckBox\" id=\"formCheckBox\" action=\"/filter\" method=\"POST\"&gt;     \n                &lt;div&gt;\n                  &lt;input type=\"checkbox\" id=\"onechange\" name=\"onechange\" onclick=\"this.form.submit();\"&gt;\n                  &lt;label for=\"onechange\"&gt;one change&lt;/label&gt;\n                &lt;/div&gt;            \n                &lt;div&gt;\n                  &lt;input type=\"checkbox\" id=\"nochanges\" name=\"nochanges\" onclick=\"this.form.submit();\"&gt;\n                  &lt;label for=\"nochanges\"&gt;no changes&lt;/label&gt;\n                &lt;/div&gt;\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm trying to read values of both Checkboxes (on or off) in Controller after clicking on any Checkbox (need a page update). And feels like It does not go to Controller at all. So, how to read it in Controller and How to send those values back on my new page filter.html?</p>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/filter&quot;)\n    public String checkBoxAction (@RequestParam(&quot;onechange&quot;) String onechange,\n                                  @RequestParam(&quot;nochange&quot;) String nochange){\n        System.out.println(onechange);\n        System.out.println(nochange);\n        return (&quot;/filter&quot;);\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium4"],"answers":[{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653564331,"creation_date":1653564331,"answer_id":72391049,"question_id":72389896,"body_markdown":"In my case,  when I update selenium-firefox-driver as below solved the issue.\r\nEarlier, I had 3.141.59.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"In Selenium 4 and above versions wait.until throws java: method until in class org.openqa.selenium.support.ui.FluentWait&lt;T&gt; cannot be applied","body":"<p>In my case,  when I update selenium-firefox-driver as below solved the issue.\nEarlier, I had 3.141.59.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72391049,"answer_count":1,"score":0,"last_activity_date":1653564331,"creation_date":1653558576,"question_id":72389896,"body_markdown":"\r\nI used \r\n\r\n  \r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\r\n    wait.until(ExpectedConditions.visibilityOf(driver.findElement(By.linkText(&quot;Home&quot;))));\r\n\r\nBut in wait.until line it throws below error when running the code.\r\n\r\n&gt; java: method until in class\r\n&gt; org.openqa.selenium.support.ui.FluentWait&lt;T&gt; cannot be applied to\r\n&gt; given types;   required: java.util.function.Function&lt;? super\r\n&gt; org.openqa.selenium.WebDriver,V&gt;   found:   \r\n&gt; org.openqa.selenium.support.ui.ExpectedCondition&lt;org.openqa.selenium.WebElement&gt;\r\n&gt; reason: cannot infer type-variable(s) V\r\n&gt;     (argument mismatch; org.openqa.selenium.support.ui.ExpectedCondition&lt;org.openqa.selenium.WebElement&gt;\r\n&gt; cannot be converted to java.util.function.Function&lt;? super\r\n&gt; org.openqa.selenium.WebDriver,V&gt;)\r\n\r\nI tried all the solutions in https://stackoverflow.com/questions/43571319/until-in-fluentwait-cannot-be-applied-java but no avail. Thank you.","title":"In Selenium 4 and above versions wait.until throws java: method until in class org.openqa.selenium.support.ui.FluentWait&lt;T&gt; cannot be applied","body":"<p>I used</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\nwait.until(ExpectedConditions.visibilityOf(driver.findElement(By.linkText(&quot;Home&quot;))));\n</code></pre>\n<p>But in wait.until line it throws below error when running the code.</p>\n<blockquote>\n<p>java: method until in class\norg.openqa.selenium.support.ui.FluentWait cannot be applied to\ngiven types;   required: java.util.function.Function&lt;? super\norg.openqa.selenium.WebDriver,V&gt;   found:<br />\norg.openqa.selenium.support.ui.ExpectedCondition&lt;org.openqa.selenium.WebElement&gt;\nreason: cannot infer type-variable(s) V\n(argument mismatch; org.openqa.selenium.support.ui.ExpectedCondition&lt;org.openqa.selenium.WebElement&gt;\ncannot be converted to java.util.function.Function&lt;? super\norg.openqa.selenium.WebDriver,V&gt;)</p>\n</blockquote>\n<p>I tried all the solutions in <a href=\"https://stackoverflow.com/questions/43571319/until-in-fluentwait-cannot-be-applied-java\">until in FluentWait cannot be applied - java</a> but no avail. Thank you.</p>\n"},{"tags":["java","xml","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653564321,"creation_date":1653564321,"answer_id":72391046,"question_id":72390822,"body_markdown":"Your JAXB API and implementation versions don&#39;t match. [jaxb-core 4.0.0-M4][1] depends on [jakarta.xml.bind:jakarta.xml.bind-api 4.0.0][2]. That&#39;s completely incompatible with your JAXB API version. The biggest difference is that your JAXB API version uses the `javax` package prefix and the Jakarta API version uses the `jakarta` package prefix. I&#39;m guessing that Spring wants to use an implementation compatible with the API version you&#39;re using (Spring hasn&#39;t switched to Jakarta EE 9 yet).\r\n\r\nI was checking to see if there was a Spring Boot starter for JAXB or something like that, but I couldn&#39;t find any. That means you&#39;ll probably need to provide your own implementation. I suggest that you switch to the Jakarta EE 8 version instead: https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/2.3.3 for the API, and https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.6 for the implementation. Both are the latest versions that still use the `javax` package prefix.\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core/4.0.0-M4\r\n  [2]: https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/4.0.0","title":"java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory","body":"<p>Your JAXB API and implementation versions don't match. <a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core/4.0.0-M4\" rel=\"nofollow noreferrer\">jaxb-core 4.0.0-M4</a> depends on <a href=\"https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/4.0.0\" rel=\"nofollow noreferrer\">jakarta.xml.bind:jakarta.xml.bind-api 4.0.0</a>. That's completely incompatible with your JAXB API version. The biggest difference is that your JAXB API version uses the <code>javax</code> package prefix and the Jakarta API version uses the <code>jakarta</code> package prefix. I'm guessing that Spring wants to use an implementation compatible with the API version you're using (Spring hasn't switched to Jakarta EE 9 yet).</p>\n<p>I was checking to see if there was a Spring Boot starter for JAXB or something like that, but I couldn't find any. That means you'll probably need to provide your own implementation. I suggest that you switch to the Jakarta EE 8 version instead: <a href=\"https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/2.3.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/2.3.3</a> for the API, and <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.6\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.6</a> for the implementation. Both are the latest versions that still use the <code>javax</code> package prefix.</p>\n"}],"owner":{"account_id":14581523,"reputation":338,"user_id":10531776,"display_name":"raviTeja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72391046,"answer_count":1,"score":0,"last_activity_date":1653564321,"creation_date":1653563212,"question_id":72390822,"body_markdown":"I am new  to Java and Gradle, I am trying to build a simple REST API, here are my dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:2.7.0&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:2.6.7&quot;)\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-core:4.0.0-M4&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:4.0.0-M4&#39;\r\n}\r\n```\r\n\r\nI am receiving the following error:\r\n```java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory```\r\n\r\nI have seen similar  questions but could not find a solution\r\n","title":"java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory","body":"<p>I am new  to Java and Gradle, I am trying to build a simple REST API, here are my dependencies</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:2.6.7&quot;)\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n    implementation 'com.sun.xml.bind:jaxb-core:4.0.0-M4'\n    implementation 'com.sun.xml.bind:jaxb-impl:4.0.0-M4'\n}\n</code></pre>\n<p>I am receiving the following error:\n<code>java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory</code></p>\n<p>I have seen similar  questions but could not find a solution</p>\n"},{"tags":["java","azure","single-sign-on","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":22301765,"reputation":4718,"user_id":16526895,"display_name":"Kartik Bhiwapurkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653564299,"creation_date":1653564299,"answer_id":72391041,"question_id":72347173,"body_markdown":"•\tYou might be getting the option for selecting the user account after switching to MSAL4J in your browser even after the SSO is enabled because either `clearing the token cache is enabled in your code` or **MsalInteractionRequiredException** option is thrown and specified accordingly due to which the **application asks for a token interactively**.\r\n\r\nThus, please **check which accounts information is stored in the cache** as below: -\r\n\r\n     ConfidentialClientApplication pca = new ConfidentialClientApplication.Builder(\r\n                labResponse.getAppId()).\r\n                authority(TestConstants.ORGANIZATIONS_AUTHORITY).\r\n                build();\r\n\r\n      Set&lt;IAccount&gt; accounts = pca.getAccounts().join(); ’\r\n\r\nThen, from the above information, `if you want to remove the accounts whose prompts you don’t want to see during the user account selection such that the default account should get selected and signed in automatically, execute the below code` by modifying the required information: -\r\n\r\n       Set&lt;IAccount&gt; accounts = pca.getAccounts().join();\r\n\r\n        IAccount accountToBeRemoved = accounts.stream().filter(\r\n                x -&gt; x.username().equalsIgnoreCase(\r\n                        UPN_OF_USER_TO_BE_REMOVED)).findFirst().orElse(null);\r\n\r\n        pca.removeAccount(accountToBeRemoved).join();\r\n\r\n•\tAnd for the **MsalInteractiveRequiredException** class in the code, kindly refer to the below official documentation link for the **AcquireTokenSilently** and other reasons responsible for the behaviour. Also, refer to the sample code given below for your reference regarding the same: -\r\n\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/msal-error-handling-java#msalinteractionrequiredexception\r\n\r\n       IAuthenticationResult result;\r\n        try {\r\n            ConfidentialClientApplication application = \r\n         ConfidentialClientApplication\r\n                    .builder(&quot;clientId&quot;)\r\n                    .b2cAuthority(&quot;authority&quot;)\r\n                    .build();\r\n\r\n            SilentParameters parameters = SilentParameters\r\n                    .builder(Collections.singleton(&quot;scope&quot;))\r\n                    .build();\r\n\r\n            result = application.acquireTokenSilently(parameters).join();\r\n        }\r\n        catch (Exception ex){\r\n            if(ex instanceof MsalInteractionRequiredException){\r\n                // AcquireToken by either AuthorizationCodeParameters or DeviceCodeParameters\r\n            } else{\r\n                // Log and handle exception accordingly\r\n            }\r\n        }","title":"Azure Select Account shown when user already logged in session","body":"<p>•   You might be getting the option for selecting the user account after switching to MSAL4J in your browser even after the SSO is enabled because either <code>clearing the token cache is enabled in your code</code> or <strong>MsalInteractionRequiredException</strong> option is thrown and specified accordingly due to which the <strong>application asks for a token interactively</strong>.</p>\n<p>Thus, please <strong>check which accounts information is stored in the cache</strong> as below: -</p>\n<pre><code> ConfidentialClientApplication pca = new ConfidentialClientApplication.Builder(\n            labResponse.getAppId()).\n            authority(TestConstants.ORGANIZATIONS_AUTHORITY).\n            build();\n\n  Set&lt;IAccount&gt; accounts = pca.getAccounts().join(); ’\n</code></pre>\n<p>Then, from the above information, <code>if you want to remove the accounts whose prompts you don’t want to see during the user account selection such that the default account should get selected and signed in automatically, execute the below code</code> by modifying the required information: -</p>\n<pre><code>   Set&lt;IAccount&gt; accounts = pca.getAccounts().join();\n\n    IAccount accountToBeRemoved = accounts.stream().filter(\n            x -&gt; x.username().equalsIgnoreCase(\n                    UPN_OF_USER_TO_BE_REMOVED)).findFirst().orElse(null);\n\n    pca.removeAccount(accountToBeRemoved).join();\n</code></pre>\n<p>•   And for the <strong>MsalInteractiveRequiredException</strong> class in the code, kindly refer to the below official documentation link for the <strong>AcquireTokenSilently</strong> and other reasons responsible for the behaviour. Also, refer to the sample code given below for your reference regarding the same: -</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-error-handling-java#msalinteractionrequiredexception\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-error-handling-java#msalinteractionrequiredexception</a></p>\n<pre><code>   IAuthenticationResult result;\n    try {\n        ConfidentialClientApplication application = \n     ConfidentialClientApplication\n                .builder(&quot;clientId&quot;)\n                .b2cAuthority(&quot;authority&quot;)\n                .build();\n\n        SilentParameters parameters = SilentParameters\n                .builder(Collections.singleton(&quot;scope&quot;))\n                .build();\n\n        result = application.acquireTokenSilently(parameters).join();\n    }\n    catch (Exception ex){\n        if(ex instanceof MsalInteractionRequiredException){\n            // AcquireToken by either AuthorizationCodeParameters or DeviceCodeParameters\n        } else{\n            // Log and handle exception accordingly\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2476760,"reputation":21,"user_id":2157242,"display_name":"lordpixel79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653564299,"creation_date":1653302410,"question_id":72347173,"body_markdown":"We&#39;ve migrated from adal4j to msal4j in our java web applications.\r\n\r\nAll works well but the big difference is that when the user is already logged (maybe in other applications but same browser session) we always see the &quot;select user&quot; page and the user is not logged automatically and redirected to redirect uri as before with adal4j.\r\n\r\nThis is how we redirect to autentication page:\r\n\r\n    private static void redirectToAuthorizationEndpoint(IdentityContextAdapter contextAdapter) throws IOException {\r\n        final IdentityContextData context = contextAdapter.getContext();\r\n\r\n        final String state = UUID.randomUUID().toString();\r\n        final String nonce = UUID.randomUUID().toString();\r\n\r\n        context.setStateAndNonce(state, nonce);\r\n        contextAdapter.setContext(context);\r\n\r\n        final ConfidentialClientApplication client = getConfidentialClientInstance();\r\n        AuthorizationRequestUrlParameters parameters = AuthorizationRequestUrlParameters\r\n                .builder(props.getProperty(&quot;aad.redirectURI&quot;), Collections.singleton(props.getProperty(&quot;aad.scopes&quot;))).responseMode(ResponseMode.QUERY)\r\n                .prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce).build();\r\n\r\n        final String authorizeUrl = client.getAuthorizationRequestUrl(parameters).toString();\r\n        contextAdapter.redirectUser(authorizeUrl);\r\n    }\r\n\r\nI&#39;ve tried to remove `.prompt(Prompt.SELECT_ACCOUNT)`\r\nbut I receive an error\r\n\r\nAny ideas? ","title":"Azure Select Account shown when user already logged in session","body":"<p>We've migrated from adal4j to msal4j in our java web applications.</p>\n<p>All works well but the big difference is that when the user is already logged (maybe in other applications but same browser session) we always see the &quot;select user&quot; page and the user is not logged automatically and redirected to redirect uri as before with adal4j.</p>\n<p>This is how we redirect to autentication page:</p>\n<pre><code>private static void redirectToAuthorizationEndpoint(IdentityContextAdapter contextAdapter) throws IOException {\n    final IdentityContextData context = contextAdapter.getContext();\n\n    final String state = UUID.randomUUID().toString();\n    final String nonce = UUID.randomUUID().toString();\n\n    context.setStateAndNonce(state, nonce);\n    contextAdapter.setContext(context);\n\n    final ConfidentialClientApplication client = getConfidentialClientInstance();\n    AuthorizationRequestUrlParameters parameters = AuthorizationRequestUrlParameters\n            .builder(props.getProperty(&quot;aad.redirectURI&quot;), Collections.singleton(props.getProperty(&quot;aad.scopes&quot;))).responseMode(ResponseMode.QUERY)\n            .prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce).build();\n\n    final String authorizeUrl = client.getAuthorizationRequestUrl(parameters).toString();\n    contextAdapter.redirectUser(authorizeUrl);\n}\n</code></pre>\n<p>I've tried to remove <code>.prompt(Prompt.SELECT_ACCOUNT)</code>\nbut I receive an error</p>\n<p>Any ideas?</p>\n"},{"tags":["java","list","oop","arraylist"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1653477569,"post_id":72376582,"comment_id":127860655,"body_markdown":"Related (and possible duplicate): [What does it mean to &quot;program to an interface&quot;?](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)","body":"Related (and possible duplicate): <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653483785,"post_id":72376582,"comment_id":127863177,"body_markdown":"@maloomeister You misunderstood the question. `List` doesn&#39;t declare methods `trimToSize()` and `ensureCapacity()`.","body":"@maloomeister You misunderstood the question. <code>List</code> doesn&#39;t declare methods <code>trimToSize()</code> and <code>ensureCapacity()</code>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1653484052,"post_id":72376582,"comment_id":127863299,"body_markdown":"@AlexanderIvanchenko no, that link was on purpose. I know that `List` doesn&#39;t declare those methods. But the linked Q&amp;A has a lot of information which I thought would easily clear up the confusion about &quot;_i see that only ArrayList has ensureCapacity and trimToSize methods, but why i cant use them on my ArrayList when i create it from List interface?_&quot; I understood the question in the way: &quot;_what&#39;s the difference between_ `List&lt;String&gt; list = new ArrayList&lt;&gt;()` and `ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;()`?&quot;.","body":"@AlexanderIvanchenko no, that link was on purpose. I know that <code>List</code> doesn&#39;t declare those methods. But the linked Q&amp;A has a lot of information which I thought would easily clear up the confusion about &quot;<i>i see that only ArrayList has ensureCapacity and trimToSize methods, but why i cant use them on my ArrayList when i create it from List interface?</i>&quot; I understood the question in the way: &quot;<i>what&#39;s the difference between</i> <code>List&lt;String&gt; list = new ArrayList&lt;&gt;()</code> and <code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;()</code>?&quot;."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653484428,"post_id":72376582,"comment_id":127863462,"body_markdown":"@maloomeister The point remains. Provided link doesn&#39;t contain information about `trimToSize()` and `ensureCapacity()` and doesn&#39;t explain why they are residing on a class level and not accessible via interface.","body":"@maloomeister The point remains. Provided link doesn&#39;t contain information about <code>trimToSize()</code> and <code>ensureCapacity()</code> and doesn&#39;t explain why they are residing on a class level and not accessible via interface."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653484580,"post_id":72376582,"comment_id":127863538,"body_markdown":"@maloomeister *what&#39;s the difference between List&lt;String&gt; list = new ArrayList&lt;&gt;() and ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;()* - the question is not framed like that, its only your interpretation. Let&#39;s OP say their word.","body":"@maloomeister <i>what&#39;s the difference between List&lt;String&gt; list = new ArrayList&lt;&gt;() and ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;()</i> - the question is not framed like that, its only your interpretation. Let&#39;s OP say their word."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1653484826,"post_id":72376582,"comment_id":127863640,"body_markdown":"@AlexanderIvanchenko again, seems relatively clear. OP clearly already came to the conclusion that &quot;_only ArrayList has ensureCapacity and trimToSize methods_&quot;. So this is obviously a given. However, it is not asked about the _why is that_, instead the question is &quot;_why i cant use them on my ArrayList when i create it from List interface?_&quot;.  But nevertheless, there is no point going back and forth here now.","body":"@AlexanderIvanchenko again, seems relatively clear. OP clearly already came to the conclusion that &quot;<i>only ArrayList has ensureCapacity and trimToSize methods</i>&quot;. So this is obviously a given. However, it is not asked about the <i>why is that</i>, instead the question is &quot;<i>why i cant use them on my ArrayList when i create it from List interface?</i>&quot;.  But nevertheless, there is no point going back and forth here now."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653486243,"post_id":72376582,"comment_id":127864253,"body_markdown":"@AlexanderIvanchenko you&#39;re not seeing the forest for the trees, in this case. The specific instance of this problem may involve those two methods, but the overall problem is still a misunderstanding of polymorphism and abstraction.","body":"@AlexanderIvanchenko you&#39;re not seeing the forest for the trees, in this case. The specific instance of this problem may involve those two methods, but the overall problem is still a misunderstanding of polymorphism and abstraction."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653487675,"creation_date":1653483541,"answer_id":72378124,"question_id":72376582,"body_markdown":"Both methods `trimToSize()` and `ensureCapacity()` are available only in the `ArrayList` class.\r\n\r\nThere&#39;s no such methods in the `List` interface.\r\n\r\nThe reason for that: these methods are meant to change the size of the underlying array. `trimToSize()` creates a new array of length equal to the  size of the list, and `ensureCapacity()` will create a new underlying array of the given length.\r\n\r\nThese methods don&#39;t make sens for the `LinkedList` which isn&#39;t backed by an array, therefore they are not declared in the `List` interface.\r\n\r\nIt&#39;s also worth to point out that `trimToSize()` should be used with caution because you can create a cycle or continuous growth and trimming and `ArrayList` would perform very badly.\r\n\r\nConsider this: about `50%` of elements were removed from your `ArrayList` and you what to release this unoccupied heap space with `trimToSize()`. A new underlying array twice smaller would be created and all existing elements would be copied into it. But with the next added item `ArrayList` would become two times bigger again (it means a new array should be allocated in memory and all elements should be copied into it). Doesn&#39;t sound very performant. \r\n\r\nIn general, `trimToSize()` is something that might be worth knowing about because it&#39;s a part of the JDK, and because someone might ask you about it, for instance, during an interview. But you would never use it.\r\n\r\n&gt; But why I can&#39;t use them on my `ArrayList` when I create it from `List` interface?\r\n\r\nWhen a variable is of type `List` you can use only methods that are declared in the list interface. The type of reference defines how you can interact with the object. A reference isn&#39;t an object itself. And it does not change the object anyhow, your `ArrayList` still remains to be an `ArrayList`. A reference type `List` defines a way to interact with the object (which is still an `ArrayList`).\r\n\r\nIn order to access its methods that are not defined in the `List` interface, you can cast it:\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nArrayList&lt;String&gt; list2 = (ArrayList) list;\r\nlist2.trimToSize();\r\nlist2.ensureCapacity(100);\r\n```\r\nBut note that this casting is unsafe, it will succeed only if variable `list` points to an `ArrayList` and not `LinkedList`. And as I&#39;ve said earlier, it&#39;s OK to play with these methods, but you would hardly need them in the future.","title":"List Interface and ArrayList Class: ensureCapacity() and trimToSize() methods","body":"<p>Both methods <code>trimToSize()</code> and <code>ensureCapacity()</code> are available only in the <code>ArrayList</code> class.</p>\n<p>There's no such methods in the <code>List</code> interface.</p>\n<p>The reason for that: these methods are meant to change the size of the underlying array. <code>trimToSize()</code> creates a new array of length equal to the  size of the list, and <code>ensureCapacity()</code> will create a new underlying array of the given length.</p>\n<p>These methods don't make sens for the <code>LinkedList</code> which isn't backed by an array, therefore they are not declared in the <code>List</code> interface.</p>\n<p>It's also worth to point out that <code>trimToSize()</code> should be used with caution because you can create a cycle or continuous growth and trimming and <code>ArrayList</code> would perform very badly.</p>\n<p>Consider this: about <code>50%</code> of elements were removed from your <code>ArrayList</code> and you what to release this unoccupied heap space with <code>trimToSize()</code>. A new underlying array twice smaller would be created and all existing elements would be copied into it. But with the next added item <code>ArrayList</code> would become two times bigger again (it means a new array should be allocated in memory and all elements should be copied into it). Doesn't sound very performant.</p>\n<p>In general, <code>trimToSize()</code> is something that might be worth knowing about because it's a part of the JDK, and because someone might ask you about it, for instance, during an interview. But you would never use it.</p>\n<blockquote>\n<p>But why I can't use them on my <code>ArrayList</code> when I create it from <code>List</code> interface?</p>\n</blockquote>\n<p>When a variable is of type <code>List</code> you can use only methods that are declared in the list interface. The type of reference defines how you can interact with the object. A reference isn't an object itself. And it does not change the object anyhow, your <code>ArrayList</code> still remains to be an <code>ArrayList</code>. A reference type <code>List</code> defines a way to interact with the object (which is still an <code>ArrayList</code>).</p>\n<p>In order to access its methods that are not defined in the <code>List</code> interface, you can cast it:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nArrayList&lt;String&gt; list2 = (ArrayList) list;\nlist2.trimToSize();\nlist2.ensureCapacity(100);\n</code></pre>\n<p>But note that this casting is unsafe, it will succeed only if variable <code>list</code> points to an <code>ArrayList</code> and not <code>LinkedList</code>. And as I've said earlier, it's OK to play with these methods, but you would hardly need them in the future.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653564080,"creation_date":1653564080,"answer_id":72391003,"question_id":72376582,"body_markdown":"I think there is something important you are missing about Java. You say:\r\n\r\n&gt; When I&#39;m creating `ArrayList` from the class, I can do that.\r\n&gt;\r\n&gt; And when I&#39;m creating `ArrayList` using the `List` interface, I can&#39;t.\r\n\r\nThis is not correct.  In both cases you are creating an `ArrayList` using `new ArrayList&lt;&gt;()`.  The two objects are being created in exactly the same way.  \r\n\r\nThe difference between the two versions is in what happens **after** the `ArrayList` objects are created.\r\n\r\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\nassigns the new object to a variable whose type is `ArrayList&lt;String&gt;`, but\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nassigns the new object to a variable whose type is `List&lt;String&gt;`.\r\n\r\nThe difference is in the types of the respective *variables* ... not the types of the objects.\r\n\r\n   - For `arrayList`, the compiler knows that the object that the variable refers to will be an `ArrayList` or a subtype of `ArrayList`.  Therefore it knows that that object will support all of the methods defined by `ArrayList` and/or its superclasses.  That includes `ArrayList.trimToSize()`.\r\n\r\n   - For `list`, the compiler **only** knows that the object in the variable is *some* class that implements the `List` interface.  So it only knows that it has methods in the `List` API.  The compiler *doesn&#39;t* know if the object is actually an `ArrayList`, or a `LinkedList`, or a `CopyOnWriteList` or any other class that implements `List`.  So methods that are NOT in the `List` API cannot be applied to it.\r\n\r\n     Hence the compilation errors.\r\n\r\n------------------------\r\n\r\n&gt; But why I can&#39;t use them on my `ArrayList` when I create it from List interface?\r\n\r\n&lt;sup&gt;(You didn&#39;t ... see above.)&lt;/sup&gt;\r\n\r\nBecause you assign the `ArrayList` object to a `List` variable, you are saying to the compiler:\r\n\r\n&gt; *&quot;Forget that this is an `ArrayList`.  Think of it as a `List`.&quot;*","title":"List Interface and ArrayList Class: ensureCapacity() and trimToSize() methods","body":"<p>I think there is something important you are missing about Java. You say:</p>\n<blockquote>\n<p>When I'm creating <code>ArrayList</code> from the class, I can do that.</p>\n<p>And when I'm creating <code>ArrayList</code> using the <code>List</code> interface, I can't.</p>\n</blockquote>\n<p>This is not correct.  In both cases you are creating an <code>ArrayList</code> using <code>new ArrayList&lt;&gt;()</code>.  The two objects are being created in exactly the same way.</p>\n<p>The difference between the two versions is in what happens <strong>after</strong> the <code>ArrayList</code> objects are created.</p>\n<pre><code>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>assigns the new object to a variable whose type is <code>ArrayList&lt;String&gt;</code>, but</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>assigns the new object to a variable whose type is <code>List&lt;String&gt;</code>.</p>\n<p>The difference is in the types of the respective <em>variables</em> ... not the types of the objects.</p>\n<ul>\n<li><p>For <code>arrayList</code>, the compiler knows that the object that the variable refers to will be an <code>ArrayList</code> or a subtype of <code>ArrayList</code>.  Therefore it knows that that object will support all of the methods defined by <code>ArrayList</code> and/or its superclasses.  That includes <code>ArrayList.trimToSize()</code>.</p>\n</li>\n<li><p>For <code>list</code>, the compiler <strong>only</strong> knows that the object in the variable is <em>some</em> class that implements the <code>List</code> interface.  So it only knows that it has methods in the <code>List</code> API.  The compiler <em>doesn't</em> know if the object is actually an <code>ArrayList</code>, or a <code>LinkedList</code>, or a <code>CopyOnWriteList</code> or any other class that implements <code>List</code>.  So methods that are NOT in the <code>List</code> API cannot be applied to it.</p>\n<p>Hence the compilation errors.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>But why I can't use them on my <code>ArrayList</code> when I create it from List interface?</p>\n</blockquote>\n<p><sup>(You didn't ... see above.)</sup></p>\n<p>Because you assign the <code>ArrayList</code> object to a <code>List</code> variable, you are saying to the compiler:</p>\n<blockquote>\n<p><em>&quot;Forget that this is an <code>ArrayList</code>.  Think of it as a <code>List</code>.&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":22940848,"reputation":29,"user_id":17073644,"display_name":"PRD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653564080,"creation_date":1653477191,"question_id":72376582,"body_markdown":"I&#39;m creating two `Arraylist`s, and then I want to apply `ensureCapacity()` and `trimToSize()`, but \r\n```\r\nArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\narrayList.trimToSize();\r\narrayList.ensureCapacity(100);\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nlist.trimToSize();\r\nlist.ensureCapacity(100);\r\n```\r\nwhen I&#39;m creating `Arraylist` from Class, I can do that.\r\n \r\nAnd when I&#39;m creating `Arraylist` using `List` Interface, I can&#39;t.\r\n \r\nCan you tell me please why so? \r\n\r\nI&#39;ve looked into Javadoc and I see that only `ArrayList` has `ensureCapacity()` and `trimToSize()` methods.\r\n\r\nBut why I can&#39;t use them on my `ArrayList` when I create it from `List` interface?","title":"List Interface and ArrayList Class: ensureCapacity() and trimToSize() methods","body":"<p>I'm creating two <code>Arraylist</code>s, and then I want to apply <code>ensureCapacity()</code> and <code>trimToSize()</code>, but</p>\n<pre><code>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\narrayList.trimToSize();\narrayList.ensureCapacity(100);\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.trimToSize();\nlist.ensureCapacity(100);\n</code></pre>\n<p>when I'm creating <code>Arraylist</code> from Class, I can do that.</p>\n<p>And when I'm creating <code>Arraylist</code> using <code>List</code> Interface, I can't.</p>\n<p>Can you tell me please why so?</p>\n<p>I've looked into Javadoc and I see that only <code>ArrayList</code> has <code>ensureCapacity()</code> and <code>trimToSize()</code> methods.</p>\n<p>But why I can't use them on my <code>ArrayList</code> when I create it from <code>List</code> interface?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1496607093,"creation_date":1496606600,"answer_id":44358281,"question_id":44358082,"body_markdown":"You can use `BottomNavigationView.setSelectedItemId(ITEM_ID)` to select desired `MenuItem`:\r\n\r\nIn `onBackPressed()`, use `mBottomNav.setSelectedItemId(R.id.menu_home)` or `mBottomNav.setSelectedItemId(homeItem.getItemId())`.\r\n\r\n**Update `onBackPressed()` method as below:**\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        MenuItem homeItem = mBottomNav.getMenu().getItem(0);\r\n\r\n        if (mSelectedItem != homeItem.getItemId()) {\r\n            \r\n            selectFragment(homeItem);\r\n\r\n            // Select home item\r\n            mBottomNav.setSelectedItemId(homeItem.getItemId());\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\nHope this will help~","title":"BottomNavigationView Back button not working properly","body":"<p>You can use <code>BottomNavigationView.setSelectedItemId(ITEM_ID)</code> to select desired <code>MenuItem</code>:</p>\n\n<p>In <code>onBackPressed()</code>, use <code>mBottomNav.setSelectedItemId(R.id.menu_home)</code> or <code>mBottomNav.setSelectedItemId(homeItem.getItemId())</code>.</p>\n\n<p><strong>Update <code>onBackPressed()</code> method as below:</strong></p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    MenuItem homeItem = mBottomNav.getMenu().getItem(0);\n\n    if (mSelectedItem != homeItem.getItemId()) {\n\n        selectFragment(homeItem);\n\n        // Select home item\n        mBottomNav.setSelectedItemId(homeItem.getItemId());\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n\n<p>Hope this will help~</p>\n"},{"tags":[],"owner":{"account_id":13880262,"reputation":2330,"user_id":10020799,"display_name":"L Kemp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536353076,"creation_date":1532943897,"answer_id":51591188,"question_id":44358082,"body_markdown":"If you want to go back to all the items on the stack (not only home), try the following code:\r\n\r\n    FragmentTransaction transaction = mFragmentManager.beginTransaction();\r\n    transaction.replace(R.id.container, fragment);\r\n    if (!isFirstFragment) {\r\n    \ttransaction.addToBackStack(null);\r\n    }\r\n    transaction.commit();\r\n\r\nThen, add this code onBackPressed:\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n    \tint count = getSupportFragmentManager().getBackStackEntryCount();\r\n    \tif (count == 0) {\r\n    \t\tsuper.onBackPressed();\r\n    \t} else {\r\n    \t\tint index = ((getSupportFragmentManager().getBackStackEntryCount()) -1);\r\n    \t\tgetSupportFragmentManager().popBackStack();\r\n    \t\tFragmentManager.BackStackEntry backEntry = getSupportFragmentManager().getBackStackEntryAt(index);\r\n    \t\tint stackId = backEntry.getId();\r\n    \t\tmBottomNavigationView.getMenu().getItem(stackId).setChecked(true);\r\n    \t}\r\n    }\r\n\r\n","title":"BottomNavigationView Back button not working properly","body":"<p>If you want to go back to all the items on the stack (not only home), try the following code:</p>\n\n<pre><code>FragmentTransaction transaction = mFragmentManager.beginTransaction();\ntransaction.replace(R.id.container, fragment);\nif (!isFirstFragment) {\n    transaction.addToBackStack(null);\n}\ntransaction.commit();\n</code></pre>\n\n<p>Then, add this code onBackPressed:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    int count = getSupportFragmentManager().getBackStackEntryCount();\n    if (count == 0) {\n        super.onBackPressed();\n    } else {\n        int index = ((getSupportFragmentManager().getBackStackEntryCount()) -1);\n        getSupportFragmentManager().popBackStack();\n        FragmentManager.BackStackEntry backEntry = getSupportFragmentManager().getBackStackEntryAt(index);\n        int stackId = backEntry.getId();\n        mBottomNavigationView.getMenu().getItem(stackId).setChecked(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24762049,"reputation":1,"user_id":18646329,"display_name":"Олег Копищик"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653564024,"creation_date":1653563799,"answer_id":72390951,"question_id":44358082,"body_markdown":"I want to share my solution. I just added a counter `checkBackSteck`\r\n\r\nbinding.bnb - this is `buttonNavigationView`\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n    private val checkBackStack = ArrayList&lt;Int&gt;()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n        checkBackStack.add(0)\r\n        val mainFragment = MainFragment()\r\n        val libraryFragment = LibraryFragment()\r\n        val menuFragment = MenuFragment()\r\n        val statisticFragment = StatisticFragment()\r\n        val profileFragment = ProfileFragment()\r\n\r\n        binding.apply {\r\n            bnb.setOnItemSelectedListener {\r\n\r\n                when(it.itemId){\r\n                    R.id.bnb_home -&gt; {\r\n                        supportFragmentManager.beginTransaction()\r\n                            .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\r\n                            .replace(R.id.fragmentContainerView, mainFragment)\r\n                            .addToBackStack(null)\r\n                            .commit()\r\n                        checkBackStack.add(0)\r\n                        true\r\n                    }\r\n                    R.id.bnb_library -&gt; {\r\n                        supportFragmentManager.beginTransaction()\r\n                            .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\r\n                            .replace(R.id.fragmentContainerView, libraryFragment)\r\n                            .addToBackStack(null)\r\n                            .commit()\r\n                        checkBackStack.add(1)\r\n                        true\r\n                    }\r\n                    R.id.bnb_menu -&gt;{\r\n                        supportFragmentManager.beginTransaction()\r\n                            .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\r\n                            .replace(R.id.fragmentContainerView, menuFragment)\r\n                            .addToBackStack(null)\r\n                            .commit()\r\n                        checkBackStack.add(2)\r\n                        true\r\n                    }\r\n                    R.id.bnb_statistic -&gt; {\r\n                        supportFragmentManager.beginTransaction()\r\n                            .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\r\n                            .replace(R.id.fragmentContainerView, statisticFragment)\r\n                            .addToBackStack(null)\r\n                            .commit()\r\n                        checkBackStack.add(3)\r\n                        true\r\n                    }\r\n                    R.id.bnb_profile -&gt; {\r\n                        supportFragmentManager.beginTransaction()\r\n                            .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\r\n                            .replace(R.id.fragmentContainerView, profileFragment)\r\n                            .addToBackStack(null)\r\n                            .commit()\r\n                        checkBackStack.add(4)\r\n                        true\r\n                    }\r\n\r\n                    else -&gt; false\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        if (checkBackStack.size == 1){\r\n            super.onBackPressed()\r\n        } else {\r\n            supportFragmentManager.popBackStack()\r\n            binding.bnb.menu.getItem(checkBackStack.get(checkBackStack.count() - 2)).isChecked = true\r\n            checkBackStack.removeAt(checkBackStack.count() - 1)\r\n        }\r\n    }\r\n}","title":"BottomNavigationView Back button not working properly","body":"<p>I want to share my solution. I just added a counter <code>checkBackSteck</code></p>\n<p>binding.bnb - this is <code>buttonNavigationView</code></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var binding: ActivityMainBinding\nprivate val checkBackStack = ArrayList&lt;Int&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityMainBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n    checkBackStack.add(0)\n    val mainFragment = MainFragment()\n    val libraryFragment = LibraryFragment()\n    val menuFragment = MenuFragment()\n    val statisticFragment = StatisticFragment()\n    val profileFragment = ProfileFragment()\n\n    binding.apply {\n        bnb.setOnItemSelectedListener {\n\n            when(it.itemId){\n                R.id.bnb_home -&gt; {\n                    supportFragmentManager.beginTransaction()\n                        .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\n                        .replace(R.id.fragmentContainerView, mainFragment)\n                        .addToBackStack(null)\n                        .commit()\n                    checkBackStack.add(0)\n                    true\n                }\n                R.id.bnb_library -&gt; {\n                    supportFragmentManager.beginTransaction()\n                        .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\n                        .replace(R.id.fragmentContainerView, libraryFragment)\n                        .addToBackStack(null)\n                        .commit()\n                    checkBackStack.add(1)\n                    true\n                }\n                R.id.bnb_menu -&gt;{\n                    supportFragmentManager.beginTransaction()\n                        .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\n                        .replace(R.id.fragmentContainerView, menuFragment)\n                        .addToBackStack(null)\n                        .commit()\n                    checkBackStack.add(2)\n                    true\n                }\n                R.id.bnb_statistic -&gt; {\n                    supportFragmentManager.beginTransaction()\n                        .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\n                        .replace(R.id.fragmentContainerView, statisticFragment)\n                        .addToBackStack(null)\n                        .commit()\n                    checkBackStack.add(3)\n                    true\n                }\n                R.id.bnb_profile -&gt; {\n                    supportFragmentManager.beginTransaction()\n                        .setCustomAnimations(R.anim.fragment_in, R.anim.fragment_out)\n                        .replace(R.id.fragmentContainerView, profileFragment)\n                        .addToBackStack(null)\n                        .commit()\n                    checkBackStack.add(4)\n                    true\n                }\n\n                else -&gt; false\n            }\n        }\n    }\n}\n\noverride fun onBackPressed() {\n    if (checkBackStack.size == 1){\n        super.onBackPressed()\n    } else {\n        supportFragmentManager.popBackStack()\n        binding.bnb.menu.getItem(checkBackStack.get(checkBackStack.count() - 2)).isChecked = true\n        checkBackStack.removeAt(checkBackStack.count() - 1)\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9825,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44358281,"answer_count":3,"score":6,"last_activity_date":1653564024,"creation_date":1496605230,"question_id":44358082,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nWhen is press back button my fragment is changing to home page, but bottom icon is not changing. I posted my all code here. If i select more then two navigation button from bottom navigation view items then when i press back button it&#39;ll redirect to last selected button item.\r\n\r\nBut now what happening is that suppose i&#39;m on the last item say &#39;Notification&#39; [as you can see in screenshot], now when i press back button it&#39;ll directly take me to &#39;Home&#39; button, but what i want is that it should take me first to &#39;Search&#39; button item and then to &#39;Home&#39; not directly to &#39;home&#39;.\r\n\r\nHow can i achieve this??\r\n\r\nHere is the layout:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n                &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                    xmlns:design=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                    android:id=&quot;@+id/activity_main&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    tools:context=&quot;com.segunfamisa.sample.bottomnav.MainActivity&quot;&gt;\r\n                \r\n                    &lt;FrameLayout\r\n                        android:id=&quot;@+id/container&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;0dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:background=&quot;#f1f1f1&quot;&gt;\r\n                \r\n                    &lt;/FrameLayout&gt;\r\n                \r\n                    &lt;android.support.design.widget.BottomNavigationView\r\n                        android:id=&quot;@+id/navigation&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;start&quot;\r\n                        design:menu=&quot;@menu/bottom_nav_items&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n      \r\n   \r\nHere is the activity:\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n        private static final String SELECTED_ITEM = &quot;arg_selected_item&quot;;\r\n    \r\n        private BottomNavigationView mBottomNav;\r\n        private int mSelectedItem;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mBottomNav = (BottomNavigationView) findViewById(R.id.navigation);\r\n            mBottomNav.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    selectFragment(item);\r\n                    return true;\r\n                }\r\n            });\r\n    \r\n            MenuItem selectedItem;\r\n            if (savedInstanceState != null) {\r\n                mSelectedItem = savedInstanceState.getInt(SELECTED_ITEM, 0);\r\n                selectedItem = mBottomNav.getMenu().findItem(mSelectedItem);\r\n            } else\r\n            {\r\n                selectedItem = mBottomNav.getMenu().getItem(0);\r\n            }\r\n    \r\n            selectFragment(selectedItem);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSaveInstanceState(Bundle outState) {\r\n            outState.putInt(SELECTED_ITEM, mSelectedItem);\r\n            super.onSaveInstanceState(outState);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            MenuItem homeItem = mBottomNav.getMenu().getItem(0);\r\n    \r\n            if (mSelectedItem != homeItem.getItemId()) {\r\n                // select home item\r\n               // homeItem.setCheckable(true);\r\n    \r\n                Log.d(&quot;backpressids&quot;,&quot;****  &quot;+mSelectedItem);\r\n                selectFragment(homeItem);\r\n    \r\n            } else {\r\n    \r\n                super.onBackPressed();\r\n    \r\n            }\r\n        }\r\n    \r\n        private void selectFragment(MenuItem item) {\r\n            Fragment frag = null;\r\n            item.setCheckable(true);\r\n            // init corresponding fragment\r\n            switch (item.getItemId()) {\r\n                case R.id.menu_home:\r\n    \r\n                    TabFragmentOne fragmentone = new TabFragmentOne();\r\n                    FragmentTransaction ft =  getSupportFragmentManager().beginTransaction();\r\n                    ft.replace(R.id.container, fragmentone);\r\n                    ft.commit();\r\n    \r\n                  \r\n                    break;\r\n                case R.id.menu_notifications:\r\n                   \r\n    \r\n                    TabFragmentThree fragmentone_Three = new TabFragmentThree();\r\n                    FragmentTransaction ft_three =  getSupportFragmentManager().beginTransaction();\r\n                    ft_three.replace(R.id.container, fragmentone_Three);\r\n                    ft_three.commit();\r\n    \r\n                    break;\r\n                case R.id.menu_search:\r\n    \r\n    \r\n                    TabFragmentTwo tabFragmentTwo = new TabFragmentTwo();\r\n                    FragmentTransaction ft_two =  getSupportFragmentManager().beginTransaction();\r\n                    ft_two.replace(R.id.container,tabFragmentTwo);\r\n                    ft_two.commit();\r\n    \r\n                   \r\n                    break;\r\n            }\r\n    \r\n            // update selected item\r\n            mSelectedItem = item.getItemId();\r\n    \r\n          \r\n            updateToolbarText(item.getTitle());\r\n    \r\n            if (frag != null) {\r\n                TabFragmentOne fragmentone = new TabFragmentOne();\r\n                FragmentTransaction ft =  getSupportFragmentManager().beginTransaction();\r\n                ft.replace(R.id.container, fragmentone);\r\n                ft.commit();\r\n            }\r\n        }\r\n    \r\n        private void updateToolbarText(CharSequence text) {\r\n            ActionBar actionBar = getSupportActionBar();\r\n            if (actionBar != null) {\r\n                actionBar.setTitle(text);\r\n            }\r\n        }\r\n    \r\n       \r\n    }\r\n\r\nplease help me any one.....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5uKXw.png","title":"BottomNavigationView Back button not working properly","body":"<p><a href=\"https://i.stack.imgur.com/5uKXw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5uKXw.png\" alt=\"enter image description here\"></a></p>\n\n<p>When is press back button my fragment is changing to home page, but bottom icon is not changing. I posted my all code here. If i select more then two navigation button from bottom navigation view items then when i press back button it'll redirect to last selected button item.</p>\n\n<p>But now what happening is that suppose i'm on the last item say 'Notification' [as you can see in screenshot], now when i press back button it'll directly take me to 'Home' button, but what i want is that it should take me first to 'Search' button item and then to 'Home' not directly to 'home'.</p>\n\n<p>How can i achieve this??</p>\n\n<p>Here is the layout:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n            &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                xmlns:design=\"http://schemas.android.com/apk/res-auto\"\n                android:id=\"@+id/activity_main\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"\n                tools:context=\"com.segunfamisa.sample.bottomnav.MainActivity\"&gt;\n\n                &lt;FrameLayout\n                    android:id=\"@+id/container\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\"\n                    android:layout_weight=\"1\"\n                    android:background=\"#f1f1f1\"&gt;\n\n                &lt;/FrameLayout&gt;\n\n                &lt;android.support.design.widget.BottomNavigationView\n                    android:id=\"@+id/navigation\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"start\"\n                    design:menu=\"@menu/bottom_nav_items\" /&gt;\n            &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Here is the activity:</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n    private static final String SELECTED_ITEM = \"arg_selected_item\";\n\n    private BottomNavigationView mBottomNav;\n    private int mSelectedItem;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mBottomNav = (BottomNavigationView) findViewById(R.id.navigation);\n        mBottomNav.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                selectFragment(item);\n                return true;\n            }\n        });\n\n        MenuItem selectedItem;\n        if (savedInstanceState != null) {\n            mSelectedItem = savedInstanceState.getInt(SELECTED_ITEM, 0);\n            selectedItem = mBottomNav.getMenu().findItem(mSelectedItem);\n        } else\n        {\n            selectedItem = mBottomNav.getMenu().getItem(0);\n        }\n\n        selectFragment(selectedItem);\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        outState.putInt(SELECTED_ITEM, mSelectedItem);\n        super.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onBackPressed() {\n        MenuItem homeItem = mBottomNav.getMenu().getItem(0);\n\n        if (mSelectedItem != homeItem.getItemId()) {\n            // select home item\n           // homeItem.setCheckable(true);\n\n            Log.d(\"backpressids\",\"****  \"+mSelectedItem);\n            selectFragment(homeItem);\n\n        } else {\n\n            super.onBackPressed();\n\n        }\n    }\n\n    private void selectFragment(MenuItem item) {\n        Fragment frag = null;\n        item.setCheckable(true);\n        // init corresponding fragment\n        switch (item.getItemId()) {\n            case R.id.menu_home:\n\n                TabFragmentOne fragmentone = new TabFragmentOne();\n                FragmentTransaction ft =  getSupportFragmentManager().beginTransaction();\n                ft.replace(R.id.container, fragmentone);\n                ft.commit();\n\n\n                break;\n            case R.id.menu_notifications:\n\n\n                TabFragmentThree fragmentone_Three = new TabFragmentThree();\n                FragmentTransaction ft_three =  getSupportFragmentManager().beginTransaction();\n                ft_three.replace(R.id.container, fragmentone_Three);\n                ft_three.commit();\n\n                break;\n            case R.id.menu_search:\n\n\n                TabFragmentTwo tabFragmentTwo = new TabFragmentTwo();\n                FragmentTransaction ft_two =  getSupportFragmentManager().beginTransaction();\n                ft_two.replace(R.id.container,tabFragmentTwo);\n                ft_two.commit();\n\n\n                break;\n        }\n\n        // update selected item\n        mSelectedItem = item.getItemId();\n\n\n        updateToolbarText(item.getTitle());\n\n        if (frag != null) {\n            TabFragmentOne fragmentone = new TabFragmentOne();\n            FragmentTransaction ft =  getSupportFragmentManager().beginTransaction();\n            ft.replace(R.id.container, fragmentone);\n            ft.commit();\n        }\n    }\n\n    private void updateToolbarText(CharSequence text) {\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setTitle(text);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>please help me any one.....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1652724132,"post_id":72263616,"comment_id":127670222,"body_markdown":"How is `items` declared?","body":"How is <code>items</code> declared?"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652724197,"post_id":72263616,"comment_id":127670247,"body_markdown":"`items` is essentially a `List&lt;Container&gt;` where `Container` can hold either `A` or `B`.","body":"<code>items</code> is essentially a <code>List&lt;Container&gt;</code> where <code>Container</code> can hold either <code>A</code> or <code>B</code>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1652724804,"post_id":72263616,"comment_id":127670461,"body_markdown":"A [mcve] would be helpful","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1652725592,"post_id":72263616,"comment_id":127670720,"body_markdown":"Apart from the code actually producing `Map&lt;Class&lt;?&gt;, List&lt;? extends Parent&gt;&gt;` doesn&#39;t specifying the type on the left hand of the assignment fixes the problem?","body":"Apart from the code actually producing <code>Map&lt;Class&lt;?&gt;, List&lt;? extends Parent&gt;&gt;</code> doesn&#39;t specifying the type on the left hand of the assignment fixes the problem?"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652726818,"post_id":72263616,"comment_id":127671092,"body_markdown":"Here is an example https://replit.com/@rgurn/MinExample?v=1#Main.java @Robert. user16320675, this should be made clear by the example code I published.","body":"Here is an example <a href=\"https://replit.com/@rgurn/MinExample?v=1#Main.java\" rel=\"nofollow noreferrer\">replit.com/@rgurn/MinExample?v=1#Main.java</a> @Robert. user16320675, this should be made clear by the example code I published."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652726889,"post_id":72263616,"comment_id":127671116,"body_markdown":"The problem @user16320675 is that I would like that list to preserve the subclasses childA and childB, rather than be a `List&lt;Parent&gt;`. Is there any way to do that?","body":"The problem @user16320675 is that I would like that list to preserve the subclasses childA and childB, rather than be a <code>List&lt;Parent&gt;</code>. Is there any way to do that?"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652727218,"post_id":72263616,"comment_id":127671198,"body_markdown":"@user16320675 ahh I see, this is where my holes in understanding Java are showing. So you cannot have a List&lt;? extends Parent&gt; at all? In that case I suppose I cannot have that nice &#39;one-liner&#39; to create that map to each subclass of `Parent`","body":"@user16320675 ahh I see, this is where my holes in understanding Java are showing. So you cannot have a List&lt;? extends Parent&gt; at all? In that case I suppose I cannot have that nice &#39;one-liner&#39; to create that map to each subclass of <code>Parent</code>"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1652727231,"post_id":72263616,"comment_id":127671202,"body_markdown":"@ragurney, you can&#39;t preserve `ChildA` and `ChildB` directly in a list. If you write a `Pair&lt;F, S&gt;` class, you can create a `Pair&lt;List&lt;ChildA&gt;, List&lt;ChildB&gt;&gt;` though.","body":"@ragurney, you can&#39;t preserve <code>ChildA</code> and <code>ChildB</code> directly in a list. If you write a <code>Pair&lt;F, S&gt;</code> class, you can create a <code>Pair&lt;List&lt;ChildA&gt;, List&lt;ChildB&gt;&gt;</code> though."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652727311,"post_id":72263616,"comment_id":127671228,"body_markdown":"Thanks all, it seems I cannot do what I wanted due to my misunderstanding of `List`. @user16320675 if you would like to write up your comment as an answer I&#39;d be happy to accept it.","body":"Thanks all, it seems I cannot do what I wanted due to my misunderstanding of <code>List</code>. @user16320675 if you would like to write up your comment as an answer I&#39;d be happy to accept it."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1652727952,"post_id":72263616,"comment_id":127671399,"body_markdown":"It would help if you would show expected output for input.","body":"It would help if you would show expected output for input."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652728198,"post_id":72263616,"comment_id":127671469,"body_markdown":"The ACTUAL output is: `Map&lt;? extends Class, List&lt;Parent&gt;&gt;` but I want `Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;` so I could then do something like: `map.get(A.class)` -&gt; `List&lt;A&gt;`","body":"The ACTUAL output is: <code>Map&lt;? extends Class, List&lt;Parent&gt;&gt;</code> but I want <code>Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;</code> so I could then do something like: <code>map.get(A.class)</code> -&gt; <code>List&lt;A&gt;</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652728263,"post_id":72263616,"comment_id":127671502,"body_markdown":"if using `Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;`, get() will not return a `List&lt;A&gt;)`","body":"if using <code>Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;</code>, get() will not return a <code>List&lt;A&gt;)</code>"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1652728384,"post_id":72263616,"comment_id":127671535,"body_markdown":"Yes, and this is the question I was asking: is there any way to actually get a collection like what I want from `Items`. It sounds like no. I&#39;ll probably resort to `Pair` or something like that.","body":"Yes, and this is the question I was asking: is there any way to actually get a collection like what I want from <code>Items</code>. It sounds like no. I&#39;ll probably resort to <code>Pair</code> or something like that."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652730797,"creation_date":1652728401,"answer_id":72264472,"question_id":72263616,"body_markdown":"OK, here is what I came up with. Do it the way you were but you will need to rebuild the lists by casting.\r\n```\r\nList&lt;Item&gt; items = List.of(new Item(&quot;a&quot;, new A()),\r\n\t\t\t\tnew Item(&quot;b&quot;, new B()));\r\n\t\r\nMap&lt;Class&lt;?&gt;, List&lt;Parent&gt;&gt; map = items\r\n\t\t\t\t.stream()\r\n\t\t\t\t.map(item -&gt; item.isA() ? item.getA() : item.getB())\r\n\t\t\t\t.collect(Collectors.groupingBy(p-&gt;p.getClass()));\r\n\t\t\r\nList&lt;A&gt; list = new ArrayList&lt;&gt;();\r\n\r\nfor (Parent p :map.get(A.class)) {\r\n\t list.add(A.class.cast(p));\r\n}\r\n```\r\nThis doesn&#39;t scale well but you can always cast the contents of the List&lt;Parent&gt; using the map Key.  You should not get any class cast exceptions since you are separating them in the map according to class.\r\n","title":"Java Stream.map() on Subclasses with Wildcards Not Working","body":"<p>OK, here is what I came up with. Do it the way you were but you will need to rebuild the lists by casting.</p>\n<pre><code>List&lt;Item&gt; items = List.of(new Item(&quot;a&quot;, new A()),\n                new Item(&quot;b&quot;, new B()));\n    \nMap&lt;Class&lt;?&gt;, List&lt;Parent&gt;&gt; map = items\n                .stream()\n                .map(item -&gt; item.isA() ? item.getA() : item.getB())\n                .collect(Collectors.groupingBy(p-&gt;p.getClass()));\n        \nList&lt;A&gt; list = new ArrayList&lt;&gt;();\n\nfor (Parent p :map.get(A.class)) {\n     list.add(A.class.cast(p));\n}\n</code></pre>\n<p>This doesn't scale well but you can always cast the contents of the List using the map Key.  You should not get any class cast exceptions since you are separating them in the map according to class.</p>\n"},{"tags":[],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652729859,"creation_date":1652729859,"answer_id":72264721,"question_id":72263616,"body_markdown":"After the sad realization I had a misunderstanding of `List` and couldn&#39;t do what I initially tried, I ended up going with a `Pair` based approach like @M. Prokhorov suggested:\r\n\r\n```java\r\n    Pair&lt;ArrayList&lt;A&gt;, ArrayList&lt;B&gt;&gt; collection = items.stream()\r\n        .map(i -&gt; i.isA() ? i.getA() : i.getB())\r\n        .collect(() -&gt; Pair.of(new ArrayList&lt;A&gt;(), new ArrayList&lt;B&gt;()), (p, u) -&gt; {\r\n          if (u instanceof A) {\r\n            p.getFirst().add((A) u);\r\n          } else {\r\n            p.getSecond().add((B) u);\r\n          }\r\n        }, (p1, p2) -&gt; {\r\n          p1.getFirst().addAll(p2.getFirst());\r\n          p1.getSecond().addAll(p2.getSecond());\r\n        });\r\n\r\nList&lt;A&gt; aList = collection.getFirst();\r\nList&lt;B&gt; bList = collection.getSecond();\r\n```\r\n\r\nOverall I&#39;m not too happy about it. Something just feels off, maybe I should just KISS. If anyone has a better method of doing this I&#39;d be happy to see it. ","title":"Java Stream.map() on Subclasses with Wildcards Not Working","body":"<p>After the sad realization I had a misunderstanding of <code>List</code> and couldn't do what I initially tried, I ended up going with a <code>Pair</code> based approach like @M. Prokhorov suggested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Pair&lt;ArrayList&lt;A&gt;, ArrayList&lt;B&gt;&gt; collection = items.stream()\n        .map(i -&gt; i.isA() ? i.getA() : i.getB())\n        .collect(() -&gt; Pair.of(new ArrayList&lt;A&gt;(), new ArrayList&lt;B&gt;()), (p, u) -&gt; {\n          if (u instanceof A) {\n            p.getFirst().add((A) u);\n          } else {\n            p.getSecond().add((B) u);\n          }\n        }, (p1, p2) -&gt; {\n          p1.getFirst().addAll(p2.getFirst());\n          p1.getSecond().addAll(p2.getSecond());\n        });\n\nList&lt;A&gt; aList = collection.getFirst();\nList&lt;B&gt; bList = collection.getSecond();\n</code></pre>\n<p>Overall I'm not too happy about it. Something just feels off, maybe I should just KISS. If anyone has a better method of doing this I'd be happy to see it.</p>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652730097,"creation_date":1652730097,"answer_id":72264755,"question_id":72263616,"body_markdown":"Although I still don&#39;t think you need it, this a clean implementation of Item.class:\r\n\r\n    public class Item {\r\n        private final Parent item;\r\n    \r\n        public Item(Parent item) {\r\n            this.item = item;\r\n        }\r\n\r\n        public Parent get() {\r\n            return item;\r\n        }\r\n    \r\n        public boolean isA() {\r\n            return item instanceof A;\r\n        }\r\n    \r\n        public boolean isB() {\r\n            return item instanceof B;\r\n        }\r\n    \r\n        public A getA() {\r\n            return (A) item;\r\n        }\r\n    \r\n        public B getB() {\r\n            return (B) item;\r\n        }\r\n    \r\n        public String getType() {\r\n            return getClass().getSimpleName();\r\n        }\r\n    }\r\n\r\nYour `.map`-call does nothing except for mapping an `Item` to a `Parent` (whether or not item is A, it just adds the attribute `item` back in).\r\n\r\nBut you cannot collect your `Stream` as the desired `Map` anyway ([there is no such `Map` in java][1]), so I made one for you:\r\n\r\n    public class ClassMap&lt;V&gt; {\r\n        private final HashMap&lt;Class&lt;? extends V&gt;, List&lt;? extends V&gt;&gt; map;\r\n    \r\n        public ClassMap() {\r\n            this.map = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public ClassMap(@NonNull List&lt;V&gt; input) {\r\n            this();\r\n            for (V v : input) add(v);\r\n        }\r\n    \r\n        public &lt;W extends V&gt; void add(@NonNull W item) {\r\n            Class&lt;W&gt; clazz = (Class&lt;W&gt;) item.getClass();\r\n            List&lt;W&gt; list = (List&lt;W&gt;) map.get(clazz);\r\n            if (list == null) map.put(clazz, list = new ArrayList&lt;&gt;());\r\n            list.add(item);\r\n        }\r\n    \r\n        public &lt;W extends V&gt; List&lt;W&gt; get(@NonNull Class&lt;W&gt; clazz) {\r\n            return (List&lt;W&gt;) map.get(clazz);\r\n        }\r\n    \r\n        public int size() {\r\n            return map.size();\r\n        }\r\n    }\r\n\r\nYou can create one like this: `ClassMap&lt;Parent&gt; map = new ClassMap&lt;&gt;(items.stream().map(Item::get).collect(Collectors.toList()));`.\r\n\r\n  [1]: https://stackoverflow.com/a/13375802","title":"Java Stream.map() on Subclasses with Wildcards Not Working","body":"<p>Although I still don't think you need it, this a clean implementation of Item.class:</p>\n<pre><code>public class Item {\n    private final Parent item;\n\n    public Item(Parent item) {\n        this.item = item;\n    }\n\n    public Parent get() {\n        return item;\n    }\n\n    public boolean isA() {\n        return item instanceof A;\n    }\n\n    public boolean isB() {\n        return item instanceof B;\n    }\n\n    public A getA() {\n        return (A) item;\n    }\n\n    public B getB() {\n        return (B) item;\n    }\n\n    public String getType() {\n        return getClass().getSimpleName();\n    }\n}\n</code></pre>\n<p>Your <code>.map</code>-call does nothing except for mapping an <code>Item</code> to a <code>Parent</code> (whether or not item is A, it just adds the attribute <code>item</code> back in).</p>\n<p>But you cannot collect your <code>Stream</code> as the desired <code>Map</code> anyway (<a href=\"https://stackoverflow.com/a/13375802\">there is no such <code>Map</code> in java</a>), so I made one for you:</p>\n<pre><code>public class ClassMap&lt;V&gt; {\n    private final HashMap&lt;Class&lt;? extends V&gt;, List&lt;? extends V&gt;&gt; map;\n\n    public ClassMap() {\n        this.map = new HashMap&lt;&gt;();\n    }\n\n    public ClassMap(@NonNull List&lt;V&gt; input) {\n        this();\n        for (V v : input) add(v);\n    }\n\n    public &lt;W extends V&gt; void add(@NonNull W item) {\n        Class&lt;W&gt; clazz = (Class&lt;W&gt;) item.getClass();\n        List&lt;W&gt; list = (List&lt;W&gt;) map.get(clazz);\n        if (list == null) map.put(clazz, list = new ArrayList&lt;&gt;());\n        list.add(item);\n    }\n\n    public &lt;W extends V&gt; List&lt;W&gt; get(@NonNull Class&lt;W&gt; clazz) {\n        return (List&lt;W&gt;) map.get(clazz);\n    }\n\n    public int size() {\n        return map.size();\n    }\n}\n</code></pre>\n<p>You can create one like this: <code>ClassMap&lt;Parent&gt; map = new ClassMap&lt;&gt;(items.stream().map(Item::get).collect(Collectors.toList()));</code>.</p>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653563960,"creation_date":1653563960,"answer_id":72390985,"question_id":72263616,"body_markdown":"Since Java 12, you can use a [teeing collector][1] and collect into a pair by using standard collector chains rather than your own function-based custom collector:\r\n\r\n    import static java.util.stream.Collectors.filtering;\r\n    import static java.util.stream.Collectors.mapping;\r\n    import static java.util.stream.Collectors.toList;\r\n\r\n    Pair&lt;List&lt;A&gt;, List&lt;B&gt;&gt; lists = items.stream().collect(\r\n        Collectors.teeing(\r\n            filtering(Parent::isA, mapping(Parent::getA, toList())),\r\n            filtering(Parent::isB, mapping(Parent::getB, toList())),\r\n            Pair::of\r\n        )\r\n    );\r\n\r\n    List&lt;A&gt; as = lists.getFirst();\r\n    List&lt;B&gt; bs = lists.getSecond();\r\n\r\nThis, of course, assumes that `Parent::isA`, `Parent::isB` and other methods exist, but this can be rolled added easily in form of static utility functions.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Java Stream.map() on Subclasses with Wildcards Not Working","body":"<p>Since Java 12, you can use a <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">teeing collector</a> and collect into a pair by using standard collector chains rather than your own function-based custom collector:</p>\n<pre><code>import static java.util.stream.Collectors.filtering;\nimport static java.util.stream.Collectors.mapping;\nimport static java.util.stream.Collectors.toList;\n\nPair&lt;List&lt;A&gt;, List&lt;B&gt;&gt; lists = items.stream().collect(\n    Collectors.teeing(\n        filtering(Parent::isA, mapping(Parent::getA, toList())),\n        filtering(Parent::isB, mapping(Parent::getB, toList())),\n        Pair::of\n    )\n);\n\nList&lt;A&gt; as = lists.getFirst();\nList&lt;B&gt; bs = lists.getSecond();\n</code></pre>\n<p>This, of course, assumes that <code>Parent::isA</code>, <code>Parent::isB</code> and other methods exist, but this can be rolled added easily in form of static utility functions.</p>\n"}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1653563960,"creation_date":1652723895,"question_id":72263616,"body_markdown":"I have two classes `ChildA` and `ChildB` which are subclasses of `Parent`.\r\n\r\nI am given a list of `Parent` and want to use Stream to map them to a `Map&lt;? extends Parent, List&lt;? extends Parent&gt;&gt;` \r\n\r\nThe issue is it seems the `.map` part is removing the subclass. Here is some sample code illustrating my problem:\r\n\r\n```java\r\nitems.stream()\r\n        .map(item -&gt; item.isA() ? item.getA() : item.getB()) //&lt;--- issue here, returns List&lt;Parent&gt; instead of List&lt;? extends Parent&gt;\r\n        .collect(Collectors.groupingBy(i -&gt; i.getClass()));\r\n```\r\n\r\nWith the above, the output is: `Map&lt;? extends Class, List&lt;Parent&gt;&gt;` but I want `Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;` so I could then do something like:\r\n\r\n `map.get(A.class)` -&gt; `List&lt;A&gt;`\r\n\r\nSo I can easily assign two variables:\r\n```\r\nList&lt;A&gt; a = map.get(a.class);\r\nList&lt;b&gt; b = map.get(b.class);\r\n```\r\n\r\nWhere as right now I would have to do something like:\r\n`map.get(A.class).stream().map(A::cast).collect(Collectors.toList());`\r\n \r\nIs there a way to get my desired result?\r\n\r\nEDIT: \r\n\r\nHere is a minimum reproducible example: https://replit.com/@rgurn/MinExample?v=1#Main.java \r\n\r\nNote it was not my design choice to make the container class `Item` and I cannot change it.","title":"Java Stream.map() on Subclasses with Wildcards Not Working","body":"<p>I have two classes <code>ChildA</code> and <code>ChildB</code> which are subclasses of <code>Parent</code>.</p>\n<p>I am given a list of <code>Parent</code> and want to use Stream to map them to a <code>Map&lt;? extends Parent, List&lt;? extends Parent&gt;&gt;</code></p>\n<p>The issue is it seems the <code>.map</code> part is removing the subclass. Here is some sample code illustrating my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>items.stream()\n        .map(item -&gt; item.isA() ? item.getA() : item.getB()) //&lt;--- issue here, returns List&lt;Parent&gt; instead of List&lt;? extends Parent&gt;\n        .collect(Collectors.groupingBy(i -&gt; i.getClass()));\n</code></pre>\n<p>With the above, the output is: <code>Map&lt;? extends Class, List&lt;Parent&gt;&gt;</code> but I want <code>Map&lt;?extends Class, List&lt;? extends Parent&gt;&gt;</code> so I could then do something like:</p>\n<p><code>map.get(A.class)</code> -&gt; <code>List&lt;A&gt;</code></p>\n<p>So I can easily assign two variables:</p>\n<pre><code>List&lt;A&gt; a = map.get(a.class);\nList&lt;b&gt; b = map.get(b.class);\n</code></pre>\n<p>Where as right now I would have to do something like:\n<code>map.get(A.class).stream().map(A::cast).collect(Collectors.toList());</code></p>\n<p>Is there a way to get my desired result?</p>\n<p>EDIT:</p>\n<p>Here is a minimum reproducible example: <a href=\"https://replit.com/@rgurn/MinExample?v=1#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@rgurn/MinExample?v=1#Main.java</a></p>\n<p>Note it was not my design choice to make the container class <code>Item</code> and I cannot change it.</p>\n"},{"tags":["java","multithreading","synchronization","deadlock","synchronized"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653563824,"post_id":72390925,"comment_id":127884676,"body_markdown":"Related: https://stackoverflow.com/questions/25949145/synchronized-keyword-internal-implementation","body":"Related: <a href=\"https://stackoverflow.com/questions/25949145/synchronized-keyword-internal-implementation\" title=\"synchronized keyword internal implementation\">stackoverflow.com/questions/25949145/&hellip;</a>"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1653564351,"post_id":72390925,"comment_id":127884863,"body_markdown":"Most objects in Java can have locking primitives associated with them. Including class objects. Basically, when you tag an instance-level method with `synchronized`, it works similarly to acquiring and/or waiting for a monitor on the instance that the method belongs to. When you tag a static method, it works similarly as if acquiring and/or waiting for a monitor on the `Class&lt;T&gt;` object this method is declared in.","body":"Most objects in Java can have locking primitives associated with them. Including class objects. Basically, when you tag an instance-level method with <code>synchronized</code>, it works similarly to acquiring and/or waiting for a monitor on the instance that the method belongs to. When you tag a static method, it works similarly as if acquiring and/or waiting for a monitor on the <code>Class&lt;T&gt;</code> object this method is declared in."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653566817,"post_id":72390925,"comment_id":127885642,"body_markdown":"Re, &quot;...all threads...are actually...one single Java thread...&quot; Are you suggesting that threads in Java work differently from threads in other programming languages? They don&#39;t. In all the major Java implementations, each Java thread is &quot;backed&quot; by its own native thread, and each Java intrinsic lock is backed by its own native &quot;mutex&quot; (or, whatever the OS calls it). If you _really_ want to understand how mutexes can work between threads running on different CPUs, you&#39;re going to need a book. https://www.amazon.com/dp/0124159508/ But, ...","body":"Re, &quot;...all threads...are actually...one single Java thread...&quot; Are you suggesting that threads in Java work differently from threads in other programming languages? They don&#39;t. In all the major Java implementations, each Java thread is &quot;backed&quot; by its own native thread, and each Java intrinsic lock is backed by its own native &quot;mutex&quot; (or, whatever the OS calls it). If you <i>really</i> want to understand how mutexes can work between threads running on different CPUs, you&#39;re going to need a book. <a href=\"https://rads.stackoverflow.com/amzn/click/com/0124159508\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/dp/0124159508</a> But, ..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653567177,"post_id":72390925,"comment_id":127885757,"body_markdown":"...The TLDR version is, every multi-CPU hardware architecture has special op-codes that support things like mutexes. The op-codes have names like [_CAS_](https://en.wikipedia.org/wiki/Compare-and-swap), or [_LL_ and _SC_](https://en.wikipedia.org/wiki/Load-link/store-conditional), and the memory system hardware is designed to work with the CPU hardware to ensure that those instructions behave as advertised.","body":"...The TLDR version is, every multi-CPU hardware architecture has special op-codes that support things like mutexes. The op-codes have names like <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"nofollow noreferrer\"><i>CAS</i></a>, or <a href=\"https://en.wikipedia.org/wiki/Load-link/store-conditional\" rel=\"nofollow noreferrer\"><i>LL</i> and <i>SC</i></a>, and the memory system hardware is designed to work with the CPU hardware to ensure that those instructions behave as advertised."}],"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653563650,"creation_date":1653563650,"question_id":72390925,"body_markdown":"How can JVM allow this? I don&#39;t understand it.\r\n\r\nMy hypothesis is that the all threads that we create are actually behind one single Java thread that manage which and how the behind thread actually executes in the processor. But this way it&#39;s like you don&#39;t have parallel execution, which I don&#39;t think is what happens I guess.\r\n\r\nOtherwise, if it&#39;s not that(and so the threads are not behind one Java thread, but they are independent), how can two created threads that are for example in that moment at the same time both inside two CPUs and want to access the same method, be aware of it and not access the method? I think there must be something that controls that. How is this synchronization done?\r\n\r\n","title":"How can Java achieve to let execute a certain &quot;synchronized&quot; method by ONLY one thread at a time?","body":"<p>How can JVM allow this? I don't understand it.</p>\n<p>My hypothesis is that the all threads that we create are actually behind one single Java thread that manage which and how the behind thread actually executes in the processor. But this way it's like you don't have parallel execution, which I don't think is what happens I guess.</p>\n<p>Otherwise, if it's not that(and so the threads are not behind one Java thread, but they are independent), how can two created threads that are for example in that moment at the same time both inside two CPUs and want to access the same method, be aware of it and not access the method? I think there must be something that controls that. How is this synchronization done?</p>\n"},{"tags":["java","database","oracle10g","weblogic","jndi"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1308831618,"post_id":6452923,"comment_id":7579170,"body_markdown":"When you get an objects (DataSource) from your lookup, then the lookup (JNDI) is working in general. So I guess it is an configuration problem of the connection itself.","body":"When you get an objects (DataSource) from your lookup, then the lookup (JNDI) is working in general. So I guess it is an configuration problem of the connection itself."},{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":0,"creation_date":1308918800,"post_id":6452923,"comment_id":7598775,"body_markdown":"have you configured mydatasource in the weblogic console?","body":"have you configured mydatasource in the weblogic console?"},{"owner":{"account_id":290453,"reputation":4967,"user_id":592015,"accept_rate":75,"display_name":"Cris"},"score":0,"creation_date":1308942909,"post_id":6452923,"comment_id":7605736,"body_markdown":"Check in the jndi tree of the weblogic server via weblogic console if the datasource is bound to the jndi tree","body":"Check in the jndi tree of the weblogic server via weblogic console if the datasource is bound to the jndi tree"},{"owner":{"display_name":"user800854"},"score":0,"creation_date":1310989329,"post_id":6452923,"comment_id":7976312,"body_markdown":"yes i have configured mydatasource in weblogic console","body":"yes i have configured mydatasource in weblogic console"}],"answers":[{"tags":[],"owner":{"account_id":3182184,"reputation":1,"user_id":2688651,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376641881,"creation_date":1376640381,"answer_id":18268683,"question_id":6452923,"body_markdown":"Append this to clarify more about exception reason  \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    catch(Exception sqlExp)\r\n    {        \r\n       throw new SQLException(&quot;getConnection :: Exception&quot;+sqlExp);\r\n    }","title":"How to connect data base using jndi datasource in weblogic","body":"<p>Append this to clarify more about exception reason  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>catch(Exception sqlExp)\n{        \n   throw new SQLException(\"getConnection :: Exception\"+sqlExp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1808870,"reputation":7519,"user_id":1645339,"accept_rate":60,"display_name":"venergiac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376663578,"creation_date":1376663578,"answer_id":18275772,"question_id":6452923,"body_markdown":" 1. post the exception as suggested by Stano\r\n 2. on weblogic console test the connection \r\nhttp://docs.oracle.com/cd/E23943_01/web.1111/e13737/jdbc_datasources.htm#CHDIIFHH\r\n\r\n 3. did you target the datasource to weblogic server where the application works?\r\n","title":"How to connect data base using jndi datasource in weblogic","body":"<ol>\n<li>post the exception as suggested by Stano</li>\n<li><p>on weblogic console test the connection \n<a href=\"http://docs.oracle.com/cd/E23943_01/web.1111/e13737/jdbc_datasources.htm#CHDIIFHH\" rel=\"nofollow\">http://docs.oracle.com/cd/E23943_01/web.1111/e13737/jdbc_datasources.htm#CHDIIFHH</a></p></li>\n<li><p>did you target the datasource to weblogic server where the application works?</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1804475,"reputation":454,"user_id":1641920,"display_name":"A_BOSS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414490585,"creation_date":1414490585,"answer_id":26605474,"question_id":6452923,"body_markdown":"         //try this code:\r\n\r\n         Connection con = null;\r\n         DataSource datasource = null;\r\n        \r\n         Context initialContext = new InitialContext();\r\n\r\n         // &quot;jdbc/MyDBname&quot; &gt;&gt; is a JNDI Name of DataSource on weblogic\r\n        \r\n         datasource = (DataSource) initialContext.lookup(&quot;jdbc/MyDBname&quot;);\r\n        \r\n         con = datasource.getConnection();","title":"How to connect data base using jndi datasource in weblogic","body":"<pre><code>     //try this code:\n\n     Connection con = null;\n     DataSource datasource = null;\n\n     Context initialContext = new InitialContext();\n\n     // \"jdbc/MyDBname\" &gt;&gt; is a JNDI Name of DataSource on weblogic\n\n     datasource = (DataSource) initialContext.lookup(\"jdbc/MyDBname\");\n\n     con = datasource.getConnection();\n</code></pre>\n"}],"owner":{"display_name":"user800854"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653563160,"creation_date":1308826637,"question_id":6452923,"body_markdown":"How to connect data base using jndi datasource in weblogic. i am using following code but it is giving null value for connection\r\n\r\n\r\n    Context ctx = null;\r\n        Hashtable evn = new Hashtable();\r\n        \t\t    evn.put(Context.INITIAL_CONTEXT_FACTORY,&quot;weblogic.jndi.WLInitialContextFactory&quot;);\r\n        evn.put(Context.PROVIDER_URL,&quot;t3://localhost:7001&quot;);    \r\n        \r\n        Connection conn = null;\r\n        try {\r\n         ctx = new InitialContext(evn);\r\n         javax.sql.DataSource ds \r\n        \t\t          = (javax.sql.DataSource) ctx.lookup (&quot;mydatasource&quot;);\r\n              conn = ds.getConnection();\r\n        \t\t      }catch (Exception e) {\r\n        \t\t    \t  System.out.println();\r\n        \t\t\t\t// TODO: handle exception\r\n        \t\t    \t  \t\t\t}","title":"How to connect data base using jndi datasource in weblogic","body":"<p>How to connect data base using jndi datasource in weblogic. i am using following code but it is giving null value for connection</p>\n\n<pre><code>Context ctx = null;\n    Hashtable evn = new Hashtable();\n                evn.put(Context.INITIAL_CONTEXT_FACTORY,\"weblogic.jndi.WLInitialContextFactory\");\n    evn.put(Context.PROVIDER_URL,\"t3://localhost:7001\");    \n\n    Connection conn = null;\n    try {\n     ctx = new InitialContext(evn);\n     javax.sql.DataSource ds \n                      = (javax.sql.DataSource) ctx.lookup (\"mydatasource\");\n          conn = ds.getConnection();\n                  }catch (Exception e) {\n                      System.out.println();\n                    // TODO: handle exception\n                                }\n</code></pre>\n"},{"tags":["java","actionscript-3","http","httpwebrequest"],"answers":[{"tags":[],"owner":{"account_id":34048,"reputation":860843,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1245351665,"creation_date":1245351665,"answer_id":1014579,"question_id":1014528,"body_markdown":"Looks like you want (a part of) NIO -- there&#39;s a good tutorial [here][1], the asynchronous networking part starts at p. 30 and there are many useful links at the end.\r\n\r\n\r\n  [1]: http://www.cs.brown.edu/courses/cs161/papers/j-nio-ltr.pdf","title":"Asynchronous HTTP Client for Java","body":"<p>Looks like you want (a part of) NIO -- there's a good tutorial <a href=\"http://www.cs.brown.edu/courses/cs161/papers/j-nio-ltr.pdf\" rel=\"noreferrer\">here</a>, the asynchronous networking part starts at p. 30 and there are many useful links at the end.</p>\n"},{"tags":[],"owner":{"account_id":2699,"reputation":18897,"user_id":3788,"accept_rate":68,"display_name":"poundifdef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245353622,"creation_date":1245353622,"answer_id":1014736,"question_id":1014528,"body_markdown":"So, it is probably worth considering that actionscript and Java don&#39;t server the same niche. For example, Java does make some things more tedious - but usually that is to give the user more options in how, for example, an HTTP connection is executed, whereas actionscript might abstract details or possible errors away for ease of use. But, your point still stands.\r\n\r\nI myself am not aware of an asynchronous HTTP client for Java. Alex Martelli&#39;s answer talks about Java&#39;s NIO, which is a good answer if you are interested in implementing the HTTP protocol in your own code. NIO will let you use sockets to connect to the web server - but then you have to manually create your own GET requests and parse the incoming HTTP headers/data.\r\n\r\nAnother option is to use the java.net.URL classes - and you can find many tutorials for those online and on stackoverflow. You can wrap those in threads - so your java program has multiple threads of execution.\r\n\r\nBut then you run into the problem of synchronization. Which I agree, is a pain, but then it offers a more granular level of flexibility.\r\n\r\n(I realize that this doesn&#39;t answer your question - and if anybody actually knows of a java facility to do asynchronous http requests, I&#39;d be interested to know!)","title":"Asynchronous HTTP Client for Java","body":"<p>So, it is probably worth considering that actionscript and Java don't server the same niche. For example, Java does make some things more tedious - but usually that is to give the user more options in how, for example, an HTTP connection is executed, whereas actionscript might abstract details or possible errors away for ease of use. But, your point still stands.</p>\n\n<p>I myself am not aware of an asynchronous HTTP client for Java. Alex Martelli's answer talks about Java's NIO, which is a good answer if you are interested in implementing the HTTP protocol in your own code. NIO will let you use sockets to connect to the web server - but then you have to manually create your own GET requests and parse the incoming HTTP headers/data.</p>\n\n<p>Another option is to use the java.net.URL classes - and you can find many tutorials for those online and on stackoverflow. You can wrap those in threads - so your java program has multiple threads of execution.</p>\n\n<p>But then you run into the problem of synchronization. Which I agree, is a pain, but then it offers a more granular level of flexibility.</p>\n\n<p>(I realize that this doesn't answer your question - and if anybody actually knows of a java facility to do asynchronous http requests, I'd be interested to know!)</p>\n"},{"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596674590,"creation_date":1245354718,"answer_id":1014825,"question_id":1014528,"body_markdown":"AFAIK the TCPMon tool takes a similar approach to what you describe.  You can take a look at the source code in their [SVN browser](https://github.com/antvale/tcpmon)\r\n\r\nAlso have a look at [WGET-java](http://code.google.com/p/wget-java/) for the guts of the blocking code.\r\n\r\nBut do you have to write this in Java?  There are a lot of other approaches using JRuby or Rhino to accomplish something like this easily that will run on the JVM but aren&#39;t written in Java.","title":"Asynchronous HTTP Client for Java","body":"<p>AFAIK the TCPMon tool takes a similar approach to what you describe.  You can take a look at the source code in their <a href=\"https://github.com/antvale/tcpmon\" rel=\"nofollow noreferrer\">SVN browser</a></p>\n<p>Also have a look at <a href=\"http://code.google.com/p/wget-java/\" rel=\"nofollow noreferrer\">WGET-java</a> for the guts of the blocking code.</p>\n<p>But do you have to write this in Java?  There are a lot of other approaches using JRuby or Rhino to accomplish something like this easily that will run on the JVM but aren't written in Java.</p>\n"},{"tags":[],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245356363,"creation_date":1245356363,"answer_id":1014970,"question_id":1014528,"body_markdown":"[httpunit][1] and [htmlunit][2] are 2 customizable and configurable Java http clients able to anything a browser such as simulate firefox, headless browsing, scheduled software clients and agents.\r\n\r\n\r\n  [1]: http://httpunit.sourceforge.net/\r\n  [2]: http://htmlunit.sourceforge.net/","title":"Asynchronous HTTP Client for Java","body":"<p><a href=\"http://httpunit.sourceforge.net/\" rel=\"nofollow noreferrer\">httpunit</a> and <a href=\"http://htmlunit.sourceforge.net/\" rel=\"nofollow noreferrer\">htmlunit</a> are 2 customizable and configurable Java http clients able to anything a browser such as simulate firefox, headless browsing, scheduled software clients and agents.</p>\n"},{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245356777,"creation_date":1245356777,"answer_id":1015015,"question_id":1014528,"body_markdown":"I&#39;d recommend firing separate threads for that.","title":"Asynchronous HTTP Client for Java","body":"<p>I'd recommend firing separate threads for that.</p>\n"},{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1258441077,"creation_date":1245387449,"answer_id":1016393,"question_id":1014528,"body_markdown":"If you haven&#39;t looked at it already, check out the Java 5 java.util.concurrent -- it makes multi-threaded apps much easier to develop.  You can set up a ThreadPoolExecutor that manages, say, four Threads.  You then feed the pool any number of tasks to complete.  Each task is a Runnable.  The ThreadPoolExecutor will queue up the Runnable tasks and feed them to available Threads in parallel.  The Pool&#39;s afterExecute() method is called when each Runnable task completes.  \r\n\r\nI vividly remember writing a fetch thread pool for a web browser written in Java back in 1999, and it was a **bear** to get right.  Last month I wrote a load tester for a web server.  The tester has a ThreadPoolExecutor that has n threads, and the Runnable tasks I feed it each fetch a page using Apache HTTP Client.  It took just an hour or two to get it working reasonably well.  I think you&#39;ll like java.util.concurrent coupled with Apache HTTP Client, though it sounds like you&#39;ll need to do some customization for progress indication.\r\n\r\n(Note that Apache HTTP Client does its own thread pooling, and the default configuration limits you to 20 threads max, and only two to each web server.)\r\n\r\nUpdate: Here&#39;s the link to [Apache HTTP Client][1].  Be sure to read up on [MultiThreadedHttpConnectionManager][2], it&#39;s what handles the connection pool, and it&#39;s not shown in the most basic example.\r\n\r\n    \r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/\r\n  [2]: http://hc.apache.org/httpclient-3.x/threading.html","title":"Asynchronous HTTP Client for Java","body":"<p>If you haven't looked at it already, check out the Java 5 java.util.concurrent -- it makes multi-threaded apps much easier to develop.  You can set up a ThreadPoolExecutor that manages, say, four Threads.  You then feed the pool any number of tasks to complete.  Each task is a Runnable.  The ThreadPoolExecutor will queue up the Runnable tasks and feed them to available Threads in parallel.  The Pool's afterExecute() method is called when each Runnable task completes.  </p>\n\n<p>I vividly remember writing a fetch thread pool for a web browser written in Java back in 1999, and it was a <strong>bear</strong> to get right.  Last month I wrote a load tester for a web server.  The tester has a ThreadPoolExecutor that has n threads, and the Runnable tasks I feed it each fetch a page using Apache HTTP Client.  It took just an hour or two to get it working reasonably well.  I think you'll like java.util.concurrent coupled with Apache HTTP Client, though it sounds like you'll need to do some customization for progress indication.</p>\n\n<p>(Note that Apache HTTP Client does its own thread pooling, and the default configuration limits you to 20 threads max, and only two to each web server.)</p>\n\n<p>Update: Here's the link to <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">Apache HTTP Client</a>.  Be sure to read up on <a href=\"http://hc.apache.org/httpclient-3.x/threading.html\" rel=\"nofollow noreferrer\">MultiThreadedHttpConnectionManager</a>, it's what handles the connection pool, and it's not shown in the most basic example.</p>\n"},{"tags":[],"owner":{"display_name":"tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247915110,"creation_date":1247915110,"answer_id":1147267,"question_id":1014528,"body_markdown":"Take also a look into http://www.javaworld.com/javaworld/jw-03-2008/jw-03-asynchhttp.html \r\nThis article discusses async HTTP based on a HttpClient named xLightweb","title":"Asynchronous HTTP Client for Java","body":"<p>Take also a look into <a href=\"http://www.javaworld.com/javaworld/jw-03-2008/jw-03-asynchhttp.html\" rel=\"nofollow noreferrer\">http://www.javaworld.com/javaworld/jw-03-2008/jw-03-asynchhttp.html</a> \nThis article discusses async HTTP based on a HttpClient named xLightweb</p>\n"},{"tags":[],"owner":{"display_name":"Jean Sini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249668389,"creation_date":1249668389,"answer_id":1246203,"question_id":1014528,"body_markdown":"I just stumbled upon the asynchronous HTTP client implemented within Geronimo. You might also want to take a look it, at http://svn.apache.org/viewvc/geronimo/sandbox/AsyncHttpClient/ - Caveat: the latest commit seems over a year old. \r\n\r\nAnother project building an asynchronous HTTP client is xsocket: xsocket.sourceforge.net","title":"Asynchronous HTTP Client for Java","body":"<p>I just stumbled upon the asynchronous HTTP client implemented within Geronimo. You might also want to take a look it, at <a href=\"http://svn.apache.org/viewvc/geronimo/sandbox/AsyncHttpClient/\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/geronimo/sandbox/AsyncHttpClient/</a> - Caveat: the latest commit seems over a year old. </p>\n\n<p>Another project building an asynchronous HTTP client is xsocket: xsocket.sourceforge.net</p>\n"},{"tags":[],"owner":{"account_id":4615,"reputation":51078,"user_id":7012,"accept_rate":83,"display_name":"Avi Flax"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1258239691,"creation_date":1258239691,"answer_id":1735911,"question_id":1014528,"body_markdown":"The [Jetty HTTP client][1] is asynchronous.\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Jetty/Tutorial/HttpClient","title":"Asynchronous HTTP Client for Java","body":"<p>The <a href=\"http://wiki.eclipse.org/Jetty/Tutorial/HttpClient\" rel=\"noreferrer\">Jetty HTTP client</a> is asynchronous.</p>\n"},{"tags":[],"owner":{"account_id":26862,"reputation":6868,"user_id":70288,"accept_rate":91,"display_name":"Robert Campbell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1258239856,"creation_date":1258239856,"answer_id":1735917,"question_id":1014528,"body_markdown":"Version 4.0 of Apache Commons HttpClient (now in [HttpComponents/HttpCore][1]) also support Java&#39;s NIO (non-blocking IO). I think this is your best bet.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core/httpcore-nio/index.html","title":"Asynchronous HTTP Client for Java","body":"<p>Version 4.0 of Apache Commons HttpClient (now in <a href=\"http://hc.apache.org/httpcomponents-core/httpcore-nio/index.html\" rel=\"noreferrer\">HttpComponents/HttpCore</a>) also support Java's NIO (non-blocking IO). I think this is your best bet.</p>\n"},{"tags":[],"owner":{"account_id":41596,"reputation":1102,"user_id":120959,"display_name":"lenkite"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1653562616,"creation_date":1271403512,"answer_id":2651363,"question_id":1014528,"body_markdown":"You have several choices for Async HTTP Clients in Java\r\n\r\n 1. Java 8: Use the [async-http-client](https://github.com/AsyncHttpClient/async-http-client) formerly called ning http client library. \r\n 2. Java 11 and above: JDK now comes with the [java.net.http. HttpClient](https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html) which is fully asynchronous.\r\n 3. Square&#39;s [OkHttpClient](https://square.github.io/okhttp/). Supports both sync blocking and async calls with callbacks. Quite popular on Android.","title":"Asynchronous HTTP Client for Java","body":"<p>You have several choices for Async HTTP Clients in Java</p>\n<ol>\n<li>Java 8: Use the <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">async-http-client</a> formerly called ning http client library.</li>\n<li>Java 11 and above: JDK now comes with the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">java.net.http. HttpClient</a> which is fully asynchronous.</li>\n<li>Square's <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttpClient</a>. Supports both sync blocking and async calls with callbacks. Quite popular on Android.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":639746,"reputation":1,"user_id":405652,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280406109,"creation_date":1280406109,"answer_id":3362357,"question_id":1014528,"body_markdown":"Asyncweb provides an asynchronous http client along with its http server. Available for download from the following location:\r\n\r\nhttps://svn.apache.org/repos/asf/mina/asyncweb/trunk","title":"Asynchronous HTTP Client for Java","body":"<p>Asyncweb provides an asynchronous http client along with its http server. Available for download from the following location:</p>\n\n<p><a href=\"https://svn.apache.org/repos/asf/mina/asyncweb/trunk\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/mina/asyncweb/trunk</a></p>\n"},{"tags":[],"owner":{"account_id":2480259,"reputation":7173,"user_id":2159867,"accept_rate":73,"display_name":"prasun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448941561,"creation_date":1447689272,"answer_id":33739431,"question_id":1014528,"body_markdown":"there are libraries and frameworks written on top of NIO/Netty - [RxNetty][1] and [Vertx][2] which can be helpful to write asynchronous HTTP client\r\n\r\nBelow is an example code using vertx\r\n\r\n    public class Client extends AbstractVerticle {\r\n    \r\n      @Override\r\n      public void start() throws Exception {\r\n        //lambda callback would be called when the response comes back\r\n        vertx.createHttpClient().getNow(8080, &quot;localhost&quot;, &quot;/&quot;, resp -&gt; {\r\n          System.out.println(&quot;Got response &quot; + resp.statusCode());\r\n          resp.bodyHandler(body -&gt; {\r\n            System.out.println(&quot;Got data &quot; + body.toString(&quot;ISO-8859-1&quot;));\r\n          });\r\n        });\r\n       //this code statement will execute before response comes back\r\n       System.out.println(&quot;I am not blocked&quot;);\r\n      }\r\n    }\r\n\r\nyou can find the full blown example code from [here][3]\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxNetty\r\n  [2]: http://vertx.io/docs/\r\n  [3]: https://github.com/vert-x3/vertx-examples/blob/master/core-examples/src/main/java/io/vertx/example/core/http/simple/Client.java","title":"Asynchronous HTTP Client for Java","body":"<p>there are libraries and frameworks written on top of NIO/Netty - <a href=\"https://github.com/ReactiveX/RxNetty\" rel=\"nofollow\">RxNetty</a> and <a href=\"http://vertx.io/docs/\" rel=\"nofollow\">Vertx</a> which can be helpful to write asynchronous HTTP client</p>\n\n<p>Below is an example code using vertx</p>\n\n<pre><code>public class Client extends AbstractVerticle {\n\n  @Override\n  public void start() throws Exception {\n    //lambda callback would be called when the response comes back\n    vertx.createHttpClient().getNow(8080, \"localhost\", \"/\", resp -&gt; {\n      System.out.println(\"Got response \" + resp.statusCode());\n      resp.bodyHandler(body -&gt; {\n        System.out.println(\"Got data \" + body.toString(\"ISO-8859-1\"));\n      });\n    });\n   //this code statement will execute before response comes back\n   System.out.println(\"I am not blocked\");\n  }\n}\n</code></pre>\n\n<p>you can find the full blown example code from <a href=\"https://github.com/vert-x3/vertx-examples/blob/master/core-examples/src/main/java/io/vertx/example/core/http/simple/Client.java\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":21587,"reputation":1303,"user_id":52565,"accept_rate":50,"display_name":"helifreak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30054,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":13,"score":20,"last_activity_date":1653562616,"creation_date":1245351223,"question_id":1014528,"body_markdown":"As a relative newbie in the Java world, I am finding many things frustratingly obtuse to accomplish that are relatively trivial in many other frameworks. A primary example is a simple solution for asynchronous http requests. Seeing as one doesn&#39;t seem to already exist, what is the best approach? Creating my own threads using a blocking type lib like httpclient or the built-in java http stuff, or should I use the newer non-blocking io java stuff - it seems particularly complex for something which should be simple.\r\n\r\nWhat I am looking for is something easy to use from a developer point of view - something similar to URLLoader in AS3 - where you simply create a URLRequest - attach a bunch of event handlers to handle the completion, errors, progress, etc, and call a method to fire it off.\r\n\r\nIf you are not familiar with URLLoader in AS3, its so super easy and looks something like this:\r\n\r\n    private void getURL(String url)\r\n\t{\r\n\t\tURLLoader loader = new URLLoader();\r\n\t\tloader.addEventListener(Event.Complete, completeHandler);\r\n\t\tloader.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpStatusHandler);\r\n\t\tloader.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);\r\n\r\n\t\tURLRequest request = new URLRequest(url);\r\n\r\n        // fire it off - this is asynchronous so we handle\r\n        // completion with event handlers\r\n\t\tloader.load(request);\r\n\t}\r\n\r\n\tprivate void completeHandler(Event event)\r\n\t{\r\n\t\tURLLoader loader = (URLLoader)event.target;\r\n\t\tObject results = loader.data;\r\n\t\r\n\t\t// process results\r\n\t}\r\n\r\n\tprivate void httpStatusHandler(Event event)\r\n\t{\r\n\t\t// check status code\r\n\t}\r\n\r\n\tprivate void ioErrorHandler(Event event)\r\n\t{\r\n\t\t// handle errors\r\n\t}","title":"Asynchronous HTTP Client for Java","body":"<p>As a relative newbie in the Java world, I am finding many things frustratingly obtuse to accomplish that are relatively trivial in many other frameworks. A primary example is a simple solution for asynchronous http requests. Seeing as one doesn't seem to already exist, what is the best approach? Creating my own threads using a blocking type lib like httpclient or the built-in java http stuff, or should I use the newer non-blocking io java stuff - it seems particularly complex for something which should be simple.</p>\n\n<p>What I am looking for is something easy to use from a developer point of view - something similar to URLLoader in AS3 - where you simply create a URLRequest - attach a bunch of event handlers to handle the completion, errors, progress, etc, and call a method to fire it off.</p>\n\n<p>If you are not familiar with URLLoader in AS3, its so super easy and looks something like this:</p>\n\n<pre><code>private void getURL(String url)\n{\n    URLLoader loader = new URLLoader();\n    loader.addEventListener(Event.Complete, completeHandler);\n    loader.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpStatusHandler);\n    loader.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);\n\n    URLRequest request = new URLRequest(url);\n\n    // fire it off - this is asynchronous so we handle\n    // completion with event handlers\n    loader.load(request);\n}\n\nprivate void completeHandler(Event event)\n{\n    URLLoader loader = (URLLoader)event.target;\n    Object results = loader.data;\n\n    // process results\n}\n\nprivate void httpStatusHandler(Event event)\n{\n    // check status code\n}\n\nprivate void ioErrorHandler(Event event)\n{\n    // handle errors\n}\n</code></pre>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1409299669,"post_id":25564045,"comment_id":39921979,"body_markdown":"What&#39;s the problem exactly?","body":"What&#39;s the problem exactly?"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1409300857,"post_id":25564045,"comment_id":39922548,"body_markdown":"You have a hard-coded Client id ... I admit I don&#39;t know ActiveMQ, but I could imagine this to be a reason.","body":"You have a hard-coded Client id ... I admit I don&#39;t know ActiveMQ, but I could imagine this to be a reason."},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1409301026,"post_id":25564045,"comment_id":39922610,"body_markdown":"&quot;If another connection with the same clientID is already running when this method is called, the JMS provider should detect the duplicate ID and throw an InvalidClientIDException.&quot;","body":"&quot;If another connection with the same clientID is already running when this method is called, the JMS provider should detect the duplicate ID and throw an InvalidClientIDException.&quot;"},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1409307495,"post_id":25564045,"comment_id":39925838,"body_markdown":"It&#39;s not really clear what the problem is, what isn&#39;t working?  What error do you get if any?","body":"It&#39;s not really clear what the problem is, what isn&#39;t working?  What error do you get if any?"}],"answers":[{"tags":[],"owner":{"account_id":1418844,"reputation":830,"user_id":1343904,"accept_rate":88,"display_name":"Ben Win"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409300326,"creation_date":1409299875,"answer_id":25564185,"question_id":25564045,"body_markdown":"Assuming your question is \r\n\r\n&gt; Can anyone help to figure out the way for sending message to multiple consumers\r\n\r\nand without reading through your complete code, an approach could be to put your clients in a collection\r\n\r\n    static Vector&lt;consumer&gt; vecConsumer;\r\n\r\nwhere you put in every new client and give a reference to all existing clients.\r\nThe broadcasting is just like sending to a single client, encapsulated in, for an example, a `foreach` loop\r\n\r\n    for(consumer cons : vecConsumer)\r\n    {\r\n          //send stuff or put in sending queue\r\n    }","title":"Sending message to multiple consumer in ActiveMQ","body":"<p>Assuming your question is </p>\n\n<blockquote>\n  <p>Can anyone help to figure out the way for sending message to multiple consumers</p>\n</blockquote>\n\n<p>and without reading through your complete code, an approach could be to put your clients in a collection</p>\n\n<pre><code>static Vector&lt;consumer&gt; vecConsumer;\n</code></pre>\n\n<p>where you put in every new client and give a reference to all existing clients.\nThe broadcasting is just like sending to a single client, encapsulated in, for an example, a <code>foreach</code> loop</p>\n\n<pre><code>for(consumer cons : vecConsumer)\n{\n      //send stuff or put in sending queue\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1421731620,"creation_date":1409457006,"answer_id":25588781,"question_id":25564045,"body_markdown":"Queue semantics deliver a message once-and-only-once across all consumers.  This is per the JMS spec (a great read to understand the basics).\r\n\r\nTopic semantics deliver a message to every consumer.  So, a Topic may be the answer to your needs.","title":"Sending message to multiple consumer in ActiveMQ","body":"<p>Queue semantics deliver a message once-and-only-once across all consumers.  This is per the JMS spec (a great read to understand the basics).</p>\n\n<p>Topic semantics deliver a message to every consumer.  So, a Topic may be the answer to your needs.</p>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653562401,"creation_date":1585032722,"answer_id":60826167,"question_id":25564045,"body_markdown":"Topics is the best route. One producer to many consumers or one publisher to many subscribers. With Queues you have go write a loop to to get all the possible consumers and use different destinations to send the messages. Your motive would also determine whether to use Queues or Topics. \r\n\r\n1. If u you think your consumers can be offline or have network issues then choose queues. In this case when they come back on they will receive the pending messages\r\n2. With topics there is no way they will receive the message when there is a disconnection unless u explicitly persist the message however new messages would overwrite them","title":"Sending message to multiple consumer in ActiveMQ","body":"<p>Topics is the best route. One producer to many consumers or one publisher to many subscribers. With Queues you have go write a loop to to get all the possible consumers and use different destinations to send the messages. Your motive would also determine whether to use Queues or Topics.</p>\n<ol>\n<li>If u you think your consumers can be offline or have network issues then choose queues. In this case when they come back on they will receive the pending messages</li>\n<li>With topics there is no way they will receive the message when there is a disconnection unless u explicitly persist the message however new messages would overwrite them</li>\n</ol>\n"}],"owner":{"account_id":2379550,"reputation":1785,"user_id":2081867,"accept_rate":83,"display_name":"mahbub_siddique"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5549,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":25564185,"answer_count":3,"score":2,"last_activity_date":1653562401,"creation_date":1409299283,"question_id":25564045,"body_markdown":"I am new to ActiveMQ. I have tried to implement producer-consumer (sender-receiver) in activemq. In my code, I am easily send &amp; receive the messages from single producer to single consumer via ActiveMQ. But, the problem is, I can&#39;t send the message to multiple consumers from the same producer.\r\n\r\nHere is my **producer** &amp; **consumer** class. \r\n\r\n **MsgProducer.java**     \r\n\r\n    package jms_service;\r\n    \r\n    import javax.jms.JMSException;\r\n    import javax.jms.Session;\r\n    import javax.jms.TextMessage;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    \r\n    public class MsgProducer {\r\n    \r\n    \t  private static String url = &quot;failover://tcp://localhost:61616&quot;;\r\n    \t  public static javax.jms.ConnectionFactory connFactory;\r\n    \t  public static javax.jms.Connection connection;\r\n    \t  public static javax.jms.Session mqSession;\r\n    \t  public static javax.jms.Topic topic;\r\n    \t  public static javax.jms.MessageProducer producer;\r\n    \t  \r\n    \t  public static void main(String[] args) throws JMSException {\r\n    \t\t  \r\n    \t\t  connFactory = new ActiveMQConnectionFactory(url);  \r\n    \t      connection = connFactory.createConnection(&quot;system&quot;,&quot;manager&quot;);\r\n    \t      connection.start(); \r\n    \t      mqSession = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);  \r\n    \t    \r\n    \t      topic = mqSession.createTopic(&quot;RealTimeData&quot;);\r\n    \t\t  producer = mqSession.createProducer(topic);                  \r\n    \t      producer.setTimeToLive(30000);\r\n    \t      \r\n    \t      TextMessage message = mqSession.createTextMessage();      \r\n    \t \r\n    \t      int seq_id =1;\r\n    \t      \r\n    \t      while(true)\r\n              \t{             \r\n    \t            message.setText(&quot;Hello world | &quot; +&quot;seq_id #&quot;+seq_id);               \r\n    \t             producer.send(message);\r\n    \t             seq_id++;\r\n    \r\n    \t             System.out.println(&quot;sent_msg =&gt;&gt; &quot;+ message.getText());\r\n    \t           //  if(seq_id&gt;100000) break;\r\n    \t              \r\n    \t              \ttry {\r\n    \t              \t\tThread.sleep(1000);\r\n    \t              \t\t} \r\n    \t              \tcatch (InterruptedException e) { e.printStackTrace();}           \r\n              \t  }\t      \r\n    \t        \r\n    \t}\r\n    \t  \t  \r\n    }\r\n\r\n\r\n **MsgConsumer.java**\r\n\r\n    package jms_service;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    \r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.MessageListener;\r\n    import javax.jms.Session;\r\n    import javax.jms.TextMessage;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    \r\n    public class MsgConsumer {\r\n    \t\r\n    \t      private static String url = &quot;failover://tcp://localhost:61616&quot;;\t  \r\n    \t\t  public static javax.jms.ConnectionFactory connFactory;\r\n    \t\t  public static javax.jms.Connection connection;\r\n    \t\t  public static javax.jms.Session mqSession;\r\n    \t\t  public static javax.jms.Topic topic;\r\n    \t\t  public static javax.jms.MessageConsumer consumer;\r\n    \t   \r\n    \t    public static void main(String[] args) throws JMSException, InterruptedException {\r\n    \t    \r\n    \t        connFactory = new ActiveMQConnectionFactory(url);\r\n    \t        connection = connFactory.createConnection(&quot;system&quot;, &quot;manager&quot;);\r\n    \t        connection.setClientID(&quot;0002&quot;);\r\n    \t        //connection.start();\t            \r\n    \t        mqSession = connection.createSession(true, Session.CLIENT_ACKNOWLEDGE);\r\n    \t        topic = mqSession.createTopic(&quot;RealTimeData&quot;);\r\n    \t        consumer = mqSession.createDurableSubscriber(topic, &quot;SUBS01&quot;);\r\n    \t        connection.start();\r\n    \t        \r\n    \t        MessageListener listner = new MessageListener() {\r\n    \t            public void onMessage(Message message) {\r\n    \t                try {\r\n    \t                    if (message instanceof TextMessage) {\r\n    \t                        TextMessage txtmsg = (TextMessage) message;\r\n    \t                        Calendar cal = Calendar.getInstance();\r\n    \t                        //cal.getTime();\r\n    \t                        SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    \t                        String time = sdf.format(cal.getTime());\r\n    \t                        \r\n    \t                        String msg=&quot;received_message =&gt;&gt; &quot;+ txtmsg.getText() + &quot; | received_at :: &quot;+time;\r\n    \t                        System.out.println(msg);\r\n    \t                    \t\r\n    \t                        //consumer.sendData(msg);\r\n    \t                    }\r\n    \t                    \r\n    \t                \t} catch (JMSException e) {\r\n    \t                \t\tSystem.out.println(&quot;Caught:&quot; + e);\r\n    \t                \t\te.printStackTrace();\r\n    \t                \t\t}\r\n    \t            \t}\r\n    \t        };\r\n    \r\n    \t        consumer.setMessageListener(listner);  \r\n    \r\n    \t  }\r\n    \t    \r\n    \t    \r\n    }\r\n\r\n\r\nCan anyone help to figure out the way for sending message to multiple consumers.\r\nThanks in advance.","title":"Sending message to multiple consumer in ActiveMQ","body":"<p>I am new to ActiveMQ. I have tried to implement producer-consumer (sender-receiver) in activemq. In my code, I am easily send &amp; receive the messages from single producer to single consumer via ActiveMQ. But, the problem is, I can't send the message to multiple consumers from the same producer.</p>\n\n<p>Here is my <strong>producer</strong> &amp; <strong>consumer</strong> class. </p>\n\n<p><strong>MsgProducer.java</strong>     </p>\n\n<pre><code>package jms_service;\n\nimport javax.jms.JMSException;\nimport javax.jms.Session;\nimport javax.jms.TextMessage;\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class MsgProducer {\n\n      private static String url = \"failover://tcp://localhost:61616\";\n      public static javax.jms.ConnectionFactory connFactory;\n      public static javax.jms.Connection connection;\n      public static javax.jms.Session mqSession;\n      public static javax.jms.Topic topic;\n      public static javax.jms.MessageProducer producer;\n\n      public static void main(String[] args) throws JMSException {\n\n          connFactory = new ActiveMQConnectionFactory(url);  \n          connection = connFactory.createConnection(\"system\",\"manager\");\n          connection.start(); \n          mqSession = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);  \n\n          topic = mqSession.createTopic(\"RealTimeData\");\n          producer = mqSession.createProducer(topic);                  \n          producer.setTimeToLive(30000);\n\n          TextMessage message = mqSession.createTextMessage();      \n\n          int seq_id =1;\n\n          while(true)\n            {             \n                message.setText(\"Hello world | \" +\"seq_id #\"+seq_id);               \n                 producer.send(message);\n                 seq_id++;\n\n                 System.out.println(\"sent_msg =&gt;&gt; \"+ message.getText());\n               //  if(seq_id&gt;100000) break;\n\n                    try {\n                        Thread.sleep(1000);\n                        } \n                    catch (InterruptedException e) { e.printStackTrace();}           \n              }       \n\n    }\n\n}\n</code></pre>\n\n<p><strong>MsgConsumer.java</strong></p>\n\n<pre><code>package jms_service;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.MessageListener;\nimport javax.jms.Session;\nimport javax.jms.TextMessage;\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class MsgConsumer {\n\n          private static String url = \"failover://tcp://localhost:61616\";     \n          public static javax.jms.ConnectionFactory connFactory;\n          public static javax.jms.Connection connection;\n          public static javax.jms.Session mqSession;\n          public static javax.jms.Topic topic;\n          public static javax.jms.MessageConsumer consumer;\n\n        public static void main(String[] args) throws JMSException, InterruptedException {\n\n            connFactory = new ActiveMQConnectionFactory(url);\n            connection = connFactory.createConnection(\"system\", \"manager\");\n            connection.setClientID(\"0002\");\n            //connection.start();               \n            mqSession = connection.createSession(true, Session.CLIENT_ACKNOWLEDGE);\n            topic = mqSession.createTopic(\"RealTimeData\");\n            consumer = mqSession.createDurableSubscriber(topic, \"SUBS01\");\n            connection.start();\n\n            MessageListener listner = new MessageListener() {\n                public void onMessage(Message message) {\n                    try {\n                        if (message instanceof TextMessage) {\n                            TextMessage txtmsg = (TextMessage) message;\n                            Calendar cal = Calendar.getInstance();\n                            //cal.getTime();\n                            SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss\");\n                            String time = sdf.format(cal.getTime());\n\n                            String msg=\"received_message =&gt;&gt; \"+ txtmsg.getText() + \" | received_at :: \"+time;\n                            System.out.println(msg);\n\n                            //consumer.sendData(msg);\n                        }\n\n                        } catch (JMSException e) {\n                            System.out.println(\"Caught:\" + e);\n                            e.printStackTrace();\n                            }\n                    }\n            };\n\n            consumer.setMessageListener(listner);  \n\n      }\n\n\n}\n</code></pre>\n\n<p>Can anyone help to figure out the way for sending message to multiple consumers.\nThanks in advance.</p>\n"},{"tags":["java","swing","jframe","stack-overflow"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":6,"creation_date":1653251205,"post_id":72341065,"comment_id":127799947,"body_markdown":"Why does `GameFrame` add a new `GameFrame` to itself?`","body":"Why does <code>GameFrame</code> add a new <code>GameFrame</code> to itself?`"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1653251466,"post_id":72341065,"comment_id":127799988,"body_markdown":"This seems to be update to [Java Snake Game Restart Button Bug](https://stackoverflow.com/q/72340663) (now deleted and posted from different account). If you want to clarify problem with your implementation, instead of posting new question simply edit previous one.","body":"This seems to be update to <a href=\"https://stackoverflow.com/q/72340663\">Java Snake Game Restart Button Bug</a> (now deleted and posted from different account). If you want to clarify problem with your implementation, instead of posting new question simply edit previous one."}],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653251496,"creation_date":1653251496,"answer_id":72341099,"question_id":72341065,"body_markdown":"As @tkausl mentioned - you are calling `new GameFrame()` as infinity loop inside the constructor. These causes the `StackOverflowException`.\r\nIf you want to have a `JFrame` in the `GameFrame` you should simple call the constructor of these class directly.","title":"I have a Exception (StackOverflowError)","body":"<p>As @tkausl mentioned - you are calling <code>new GameFrame()</code> as infinity loop inside the constructor. These causes the <code>StackOverflowException</code>.\nIf you want to have a <code>JFrame</code> in the <code>GameFrame</code> you should simple call the constructor of these class directly.</p>\n"},{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653251516,"creation_date":1653251516,"answer_id":72341102,"question_id":72341065,"body_markdown":"In Java, the `new` keyword calls the constructor of the class. So when you do\r\n```java\r\npublic GameFrame() {\r\n       this.add(new GameFrame());\r\n       ...\r\n}\r\n```\r\nyou&#39;re recursively calling the GameFrame constructor &quot;infinitely&quot; many times (or as many times as needed to cause a StackOverflowError to be exact). If you want to access the current instance of a class, use the `this` keyword (https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html). So your new code would become\r\n```java\r\npublic GameFrame() {\r\n       this.add(this);\r\n       ...\r\n}\r\n```","title":"I have a Exception (StackOverflowError)","body":"<p>In Java, the <code>new</code> keyword calls the constructor of the class. So when you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GameFrame() {\n       this.add(new GameFrame());\n       ...\n}\n</code></pre>\n<p>you're recursively calling the GameFrame constructor &quot;infinitely&quot; many times (or as many times as needed to cause a StackOverflowError to be exact). If you want to access the current instance of a class, use the <code>this</code> keyword (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html</a>). So your new code would become</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GameFrame() {\n       this.add(this);\n       ...\n}\n</code></pre>\n"}],"owner":{"account_id":22856338,"reputation":1,"user_id":17001149,"display_name":"Anonym"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1653562191,"answer_count":2,"score":-3,"last_activity_date":1653562167,"creation_date":1653251085,"question_id":72341065,"body_markdown":"I have this kind of error: \r\n\r\n&gt; Exception in thread &quot;main&quot; Exception in thread &quot;main&quot; Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n\r\nMy Code (actually by BroCode): \r\n```\r\npublic class SnakeGame {\r\n\r\n    public static void main(String[] args) {\r\n        GameFrame frame = new GameFrame();\r\n\r\n    }\r\n}\r\n``` \r\n \r\n```\r\nimport javax.swing.JFrame;\r\n\r\npublic class GameFrame extends JFrame {\r\n\r\n    public GameFrame() {\r\n        this.add(new GameFrame());\r\n        this.setTitle(&quot;Snake&quot;);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setResizable(false);\r\n        this.pack();\r\n        this.setVisible(true);\r\n        this.setLocationRelativeTo(null);\r\n    }\r\n}\r\n```\r\n \r\n```\r\nimport javax.swing.JPanel;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\r\n    public GamePanel() {\r\n\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n    }\r\n}\r\n``` \r\n","title":"I have a Exception (StackOverflowError)","body":"<p>I have this kind of error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; Exception in thread &quot;main&quot; Exception in thread &quot;main&quot; java.lang.StackOverflowError</p>\n</blockquote>\n<p>My Code (actually by BroCode):</p>\n<pre><code>public class SnakeGame {\n\n    public static void main(String[] args) {\n        GameFrame frame = new GameFrame();\n\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.JFrame;\n\npublic class GameFrame extends JFrame {\n\n    public GameFrame() {\n        this.add(new GameFrame());\n        this.setTitle(&quot;Snake&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.pack();\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.JPanel;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class GamePanel extends JPanel implements ActionListener {\n\n    public GamePanel() {\n\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","java-io","javax.imageio"],"comments":[{"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"score":0,"creation_date":1394700242,"post_id":22373213,"comment_id":34009695,"body_markdown":"Can you provide detail of result and saveP and change .png to png","body":"Can you provide detail of result and saveP and change .png to png"},{"owner":{"account_id":4097541,"reputation":101,"user_id":3363881,"display_name":"user3363881"},"score":0,"creation_date":1394700439,"post_id":22373213,"comment_id":34009801,"body_markdown":"All the Details of result are on the Object &quot;BufferedImage@137695c&quot;","body":"All the Details of result are on the Object &quot;BufferedImage@137695c&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2986884,"reputation":3972,"user_id":2535457,"accept_rate":89,"display_name":"schnawel007"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1394704490,"creation_date":1394700252,"answer_id":22373259,"question_id":22373213,"body_markdown":"    private static void savePNG( final BufferedImage image, final String path ){\r\n            try {\r\n                RenderedImage rendImage = image;\r\n                ImageIO.write(rendImage, &quot;PNG&quot;, new File(path));\r\n            } catch ( IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nTest this function. This one works for me. \r\n\r\nThe important change is that the second parameter to `ImageIO.write` is changed from `&quot;.png&quot;` to `&quot;PNG&quot;` (lowercase `&quot;png&quot;` would also work), refer to the output of `ImageIO.getWriterFormatNames()` for valid names.","title":"Java ImageIO.write return false","body":"<pre><code>private static void savePNG( final BufferedImage image, final String path ){\n        try {\n            RenderedImage rendImage = image;\n            ImageIO.write(rendImage, \"PNG\", new File(path));\n        } catch ( IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>Test this function. This one works for me. </p>\n\n<p>The important change is that the second parameter to <code>ImageIO.write</code> is changed from <code>\".png\"</code> to <code>\"PNG\"</code> (lowercase <code>\"png\"</code> would also work), refer to the output of <code>ImageIO.getWriterFormatNames()</code> for valid names.</p>\n"},{"tags":[],"owner":{"account_id":1936505,"reputation":5620,"user_id":1743852,"accept_rate":75,"display_name":"Alya&#39;a Gamal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394700362,"creation_date":1394700362,"answer_id":22373297,"question_id":22373213,"body_markdown":"`FormateName` should be `&quot;png&quot;` not `&quot;.png&quot;`","title":"Java ImageIO.write return false","body":"<p><code>FormateName</code> should be <code>\"png\"</code> not <code>\".png\"</code></p>\n"},{"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653561928,"creation_date":1653561928,"answer_id":72390559,"question_id":22373213,"body_markdown":"For anyone who experiences this issue with JPEG files, please make sure that your buffered image does not have an alpha channel. Otherwise, `com.sun.imageio.plugins.jpeg.JPEGImageWriterSpi#canEncodeImage` will reject your image.\r\n\r\nFor example, instead of `BufferedImage.TYPE_INT_ARGB` use `BufferedImage.TYPE_INT_RGB` or something else that does not have an alpha channel.\r\n","title":"Java ImageIO.write return false","body":"<p>For anyone who experiences this issue with JPEG files, please make sure that your buffered image does not have an alpha channel. Otherwise, <code>com.sun.imageio.plugins.jpeg.JPEGImageWriterSpi#canEncodeImage</code> will reject your image.</p>\n<p>For example, instead of <code>BufferedImage.TYPE_INT_ARGB</code> use <code>BufferedImage.TYPE_INT_RGB</code> or something else that does not have an alpha channel.</p>\n"}],"owner":{"account_id":4097541,"reputation":101,"user_id":3363881,"display_name":"user3363881"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3978,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":22373259,"answer_count":3,"score":7,"last_activity_date":1653561928,"creation_date":1394700152,"question_id":22373213,"body_markdown":"I want to save a BufferedImage (named &quot;result&quot;):\r\n\r\n    boolean bres = ImageIO.write(result, &quot;.png&quot;, new File(saveP)); \r\n\r\nBut bres is always null. \r\n\r\nThis\r\n\r\n    ImageIO.getWriterFormatNames()\r\n\r\nreturns that:\r\n\r\n    jpg BMP bmp JPG jpeg wbmp png JPEG PNG WBMP GIF gif\r\n\r\nI should be able to save as an png.\r\n\r\nAnd the type of the BufferedImage is &quot;2&quot;\r\n\r\n    BufferedImage@137695c: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 720 height = 576 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0\r\n\r\n\r\nType 2 is &quot;ARGB&quot;.\r\n\r\nWhy i can&#39;t save the BufferedImage?\r\n\r\n\r\nEDIT: saveP = &quot;ex000567.png&quot;\r\n","title":"Java ImageIO.write return false","body":"<p>I want to save a BufferedImage (named \"result\"):</p>\n\n<pre><code>boolean bres = ImageIO.write(result, \".png\", new File(saveP)); \n</code></pre>\n\n<p>But bres is always null. </p>\n\n<p>This</p>\n\n<pre><code>ImageIO.getWriterFormatNames()\n</code></pre>\n\n<p>returns that:</p>\n\n<pre><code>jpg BMP bmp JPG jpeg wbmp png JPEG PNG WBMP GIF gif\n</code></pre>\n\n<p>I should be able to save as an png.</p>\n\n<p>And the type of the BufferedImage is \"2\"</p>\n\n<pre><code>BufferedImage@137695c: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 720 height = 576 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0\n</code></pre>\n\n<p>Type 2 is \"ARGB\".</p>\n\n<p>Why i can't save the BufferedImage?</p>\n\n<p>EDIT: saveP = \"ex000567.png\"</p>\n"},{"tags":["java","spring","spring-boot","entitymanager","application.properties"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653562067,"post_id":72390551,"comment_id":127884127,"body_markdown":"You may need to re-phrase your question little bit as it is unclear to me at least.","body":"You may need to re-phrase your question little bit as it is unclear to me at least."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653585205,"post_id":72390551,"comment_id":127892535,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":16403477,"reputation":1,"user_id":11848718,"display_name":"Abdellah Abair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653561859,"creation_date":1653561859,"question_id":72390551,"body_markdown":"I have username aba and password aba123 in the application properties,\r\nBefore authentication, I get the user trigramme and set it in the application properties:\r\n\r\n                spring.datasource.url=jdbc:sybase:Tds:${HOSTNAME}:2500/Manager\r\n                spring.datasource.username=aba \r\n                spring.datasource.password=aba123   \r\n          \r\n        \r\n          @PersistenceContext\r\n                     private EntityManager em;\r\n                     System.setProperty(&quot;spring.datasource.username&quot;, &quot;vca&quot; );\r\n                     System.setProperty(&quot;spring.datasource.username&quot;, &quot;vcavca&quot; );\r\n                     \r\n                     Query query = em.createNativeQuery(&quot;{call S0_DISCObureaucz_java()}&quot;);\r\n                     List&lt;Object[]&gt; storedProcedureResults = query.getResultList();\r\n\r\n&gt; However, it does not function. Could you kindly assist me?\r\n","title":"I&#39;ll replace the datasource username in application.properties and work with it after completing spring boot authentication","body":"<p>I have username aba and password aba123 in the application properties,\nBefore authentication, I get the user trigramme and set it in the application properties:</p>\n<pre><code>            spring.datasource.url=jdbc:sybase:Tds:${HOSTNAME}:2500/Manager\n            spring.datasource.username=aba \n            spring.datasource.password=aba123   \n      \n    \n      @PersistenceContext\n                 private EntityManager em;\n                 System.setProperty(&quot;spring.datasource.username&quot;, &quot;vca&quot; );\n                 System.setProperty(&quot;spring.datasource.username&quot;, &quot;vcavca&quot; );\n                 \n                 Query query = em.createNativeQuery(&quot;{call S0_DISCObureaucz_java()}&quot;);\n                 List&lt;Object[]&gt; storedProcedureResults = query.getResultList();\n</code></pre>\n<blockquote>\n<p>However, it does not function. Could you kindly assist me?</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":1,"creation_date":1645568107,"post_id":71226921,"comment_id":125905394,"body_markdown":"Another approach would be to do the enrichment in your ItemWriter.","body":"Another approach would be to do the enrichment in your ItemWriter."},{"owner":{"account_id":15994558,"reputation":73,"user_id":11542777,"display_name":"Ujala Jha"},"score":0,"creation_date":1645596766,"post_id":71226921,"comment_id":125910712,"body_markdown":"Okay. Agreed as it&#39;s taking input as list of items wrt chunk size.","body":"Okay. Agreed as it&#39;s taking input as list of items wrt chunk size."},{"owner":{"account_id":1647411,"reputation":1882,"user_id":1518685,"accept_rate":51,"display_name":"AstroSharp"},"score":0,"creation_date":1668230197,"post_id":71226921,"comment_id":131360405,"body_markdown":"check this question: \nhttps://stackoverflow.com/questions/35049613/spring-batch-processing-multiple-record-at-once","body":"check this question:  <a href=\"https://stackoverflow.com/questions/35049613/spring-batch-processing-multiple-record-at-once\" title=\"spring batch processing multiple record at once\">stackoverflow.com/questions/35049613/&hellip;</a>"}],"owner":{"account_id":15994558,"reputation":73,"user_id":11542777,"display_name":"Ujala Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1653561566,"creation_date":1645556407,"question_id":71226921,"body_markdown":"I have a scenario where I have million records in employee staging table, I need to enrich the value and store it in employee final table. Now I am using chunk processing with chunk size of 10,000.\r\n\r\nIn processor where I have to do enriching I want to collect all employee-id for that chunk and do 1 API call per chunk and enrich value. Instead of million call for million records. \r\n\r\nI am observing that reader I am using right now which is extending RepositoryItemReader is not returning List&lt;EmployeeStaging&gt; as I am using JPA I am using RepositoryItemReader.\r\nSo processing is happening 1 time per item even after chunk size as 10,000.\r\n\r\nCan we get the whole List&lt;EmployeeStaging&gt; from reader and do processing on it?\r\nOr is there any other approach, cause I cant really make 1 call per record. \r\n\r\n```\r\npublic class EmployeeStagingReader extends RepositoryItemReader&lt;EmployeeStaging&gt;{\r\n     public EmployeeStagingReader(EmployeeStagingRepository repo){\r\n       super();\r\n       this.setRepository(repo);\r\n       this.setMethodName(&quot;findAll&quot;);\r\n       final Map&lt;String,Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\r\n       sorts.put(&quot;ID&quot;,Sort.Direction.ASC)\r\n       this.setSort(sorts);\r\n  }\r\n}\r\n\r\n\r\npublic class EmployeeProcessor implements ItemProcessor&lt;List&lt;EmployeeStaging&gt;, List&lt;EmployeeFinal&gt;&gt; {\r\n  \r\n        //Want to Perform transformation  of stagingemployee list of records and return employeefinal list of records\r\n\r\n    }\r\n}\r\n\r\n\r\n@Bean\r\npublic Step step1() {\r\n\treturn this.stepBuilderFactory.get(&quot;step1&quot;)\r\n\t\t\t\t.&lt;List&lt;EmployeeStaging&gt;, List&lt;EmployeeFinal&gt;&gt;chunk(1000)\r\n\t\t\t\t.reader(EmployeeStagingReader())\r\n\t\t\t\t.processor(EmployeeProcessor())\r\n\t\t\t\t.writer(EmployeeFinalWriter())\r\n\t\t\t\t.build();\r\n}\r\n```","title":"Can We Process Whole Chunk Together in Spring Batch Processor","body":"<p>I have a scenario where I have million records in employee staging table, I need to enrich the value and store it in employee final table. Now I am using chunk processing with chunk size of 10,000.</p>\n<p>In processor where I have to do enriching I want to collect all employee-id for that chunk and do 1 API call per chunk and enrich value. Instead of million call for million records.</p>\n<p>I am observing that reader I am using right now which is extending RepositoryItemReader is not returning List as I am using JPA I am using RepositoryItemReader.\nSo processing is happening 1 time per item even after chunk size as 10,000.</p>\n<p>Can we get the whole List from reader and do processing on it?\nOr is there any other approach, cause I cant really make 1 call per record.</p>\n<pre><code>public class EmployeeStagingReader extends RepositoryItemReader&lt;EmployeeStaging&gt;{\n     public EmployeeStagingReader(EmployeeStagingRepository repo){\n       super();\n       this.setRepository(repo);\n       this.setMethodName(&quot;findAll&quot;);\n       final Map&lt;String,Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\n       sorts.put(&quot;ID&quot;,Sort.Direction.ASC)\n       this.setSort(sorts);\n  }\n}\n\n\npublic class EmployeeProcessor implements ItemProcessor&lt;List&lt;EmployeeStaging&gt;, List&lt;EmployeeFinal&gt;&gt; {\n  \n        //Want to Perform transformation  of stagingemployee list of records and return employeefinal list of records\n\n    }\n}\n\n\n@Bean\npublic Step step1() {\n    return this.stepBuilderFactory.get(&quot;step1&quot;)\n                .&lt;List&lt;EmployeeStaging&gt;, List&lt;EmployeeFinal&gt;&gt;chunk(1000)\n                .reader(EmployeeStagingReader())\n                .processor(EmployeeProcessor())\n                .writer(EmployeeFinalWriter())\n                .build();\n}\n</code></pre>\n"},{"tags":["java","arraylist","bubble-sort"],"comments":[{"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"score":0,"creation_date":1653533096,"post_id":72386053,"comment_id":127877397,"body_markdown":"I think you should probably start by sorting them by first letter and then sort by the next letter down if two names have the same first letter. This could continue as long as there are still names that are similar.","body":"I think you should probably start by sorting them by first letter and then sort by the next letter down if two names have the same first letter. This could continue as long as there are still names that are similar."}],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653561429,"creation_date":1653561429,"answer_id":72390454,"question_id":72386053,"body_markdown":"Please try this one:\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class BubbleSortAlph {\r\n\r\n        public static void alphabetOrder(List&lt;Student&gt; users) {\r\n\r\n            int k = 0;\r\n            boolean exchangeMade = true;\r\n            while ((k &lt; users.size() - 1) &amp;&amp; exchangeMade) {\r\n                exchangeMade = false; // no exchange has been made yet\r\n                k++; // increment the index\r\n                for (int j = 0; j &lt; users.size() - k; j++) {\r\n                    if (users.get(j).getName().compareTo(users.get(j + 1).getName()) &gt; 0) {\r\n                        swap(users, j, j + 1);\r\n                        exchangeMade = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        public static void swap(List&lt;Student&gt; users, int x, int y) {\r\n            Student temp = users.get(x); // set temp value to element at index x\r\n            users.set(x, users.get(y)); // set value at index x to the value at index y\r\n            users.set(y, temp); // set value at index y to the temp value\r\n\r\n        } // end of swap method\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Student&gt; users = new ArrayList&lt;&gt;();\r\n\r\n            Student student1 = new Student(&quot;1234&quot;);\r\n            Student student2 = new Student(&quot;234&quot;);\r\n            Student student3 = new Student(&quot;_1234&quot;);\r\n            Student student4 = new Student(&quot;a&quot;);\r\n            Student student5 = new Student(&quot;b&quot;);\r\n            Student student6 = new Student(&quot;ab&quot;);\r\n\r\n            users.add(student5);\r\n            users.add(student1);\r\n            users.add(student3);\r\n            users.add(student4);\r\n            users.add(student6);\r\n            users.add(student2);\r\n\r\n            alphabetOrder(users);\r\n\r\n            for (Student student : users) {\r\n                System.out.println(student.getName());\r\n            }\r\n        }\r\n    }\r\n    \r\nYou can verify the result here: [online sort tool][1]\r\n\r\n\r\n  [1]: https://onlinestringtools.com/sort-strings","title":"Using a Bubble Sort Algorithm, Sort an arrayList of objects alphabetically","body":"<p>Please try this one:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class BubbleSortAlph {\n\n    public static void alphabetOrder(List&lt;Student&gt; users) {\n\n        int k = 0;\n        boolean exchangeMade = true;\n        while ((k &lt; users.size() - 1) &amp;&amp; exchangeMade) {\n            exchangeMade = false; // no exchange has been made yet\n            k++; // increment the index\n            for (int j = 0; j &lt; users.size() - k; j++) {\n                if (users.get(j).getName().compareTo(users.get(j + 1).getName()) &gt; 0) {\n                    swap(users, j, j + 1);\n                    exchangeMade = true;\n                }\n            }\n        }\n    }\n\n\n    public static void swap(List&lt;Student&gt; users, int x, int y) {\n        Student temp = users.get(x); // set temp value to element at index x\n        users.set(x, users.get(y)); // set value at index x to the value at index y\n        users.set(y, temp); // set value at index y to the temp value\n\n    } // end of swap method\n\n    public static void main(String[] args) {\n        List&lt;Student&gt; users = new ArrayList&lt;&gt;();\n\n        Student student1 = new Student(&quot;1234&quot;);\n        Student student2 = new Student(&quot;234&quot;);\n        Student student3 = new Student(&quot;_1234&quot;);\n        Student student4 = new Student(&quot;a&quot;);\n        Student student5 = new Student(&quot;b&quot;);\n        Student student6 = new Student(&quot;ab&quot;);\n\n        users.add(student5);\n        users.add(student1);\n        users.add(student3);\n        users.add(student4);\n        users.add(student6);\n        users.add(student2);\n\n        alphabetOrder(users);\n\n        for (Student student : users) {\n            System.out.println(student.getName());\n        }\n    }\n}\n</code></pre>\n<p>You can verify the result here: <a href=\"https://onlinestringtools.com/sort-strings\" rel=\"nofollow noreferrer\">online sort tool</a></p>\n"}],"owner":{"account_id":21021792,"reputation":45,"user_id":18874122,"display_name":"ChefCurry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72390454,"answer_count":1,"score":1,"last_activity_date":1653561429,"creation_date":1653532167,"question_id":72386053,"body_markdown":"Basically I have a student class that reads a textile which takes in the name, age and student number. I have all this stored in an arraylist with the class. \r\n\r\n      //method for ordering student accounts by last name (bubble sort) alphabetically\r\n     public static void alphabetOrder(ArrayList&lt;Student&gt; users)throws IOException{\r\n      \r\n        int k = 0;\r\n        boolean exchangeMade = true;\r\n        while ((k &lt; users.size() - 1) &amp;&amp; exchangeMade) {\r\n            exchangeMade = false; // no exchange has been made yet\r\n            k++; // increment the index\r\n            for (int j = 0; j &lt; users.size() - k; j++) {\r\n                if(users.get(j).getName().compareTo(users.get(j+1).getName()){\r\n                    swap(users, j, j+1);\r\n                    exchangeMade = true;\r\n                }\r\n            } \r\n        }\r\n\r\n\r\n      public static void swap(ArrayList&lt;Student&gt; users, int x, int y) {\r\n        Student temp = users.get(x); // set temp value to element at index x\r\n        users.set(x, users.get(y)); // set value at index x to the value at index y\r\n        users.set(y, temp); // set value at index y to the temp value \r\n        \r\n    } // end of swap method\r\n     \r\n\r\nThe getName(). method gets the last name of the student. I&#39;m unsure on how to sort this. Would it be better to use name.charAt(i) and then do some ordering by that.\r\n     ","title":"Using a Bubble Sort Algorithm, Sort an arrayList of objects alphabetically","body":"<p>Basically I have a student class that reads a textile which takes in the name, age and student number. I have all this stored in an arraylist with the class.</p>\n<pre><code>  //method for ordering student accounts by last name (bubble sort) alphabetically\n public static void alphabetOrder(ArrayList&lt;Student&gt; users)throws IOException{\n  \n    int k = 0;\n    boolean exchangeMade = true;\n    while ((k &lt; users.size() - 1) &amp;&amp; exchangeMade) {\n        exchangeMade = false; // no exchange has been made yet\n        k++; // increment the index\n        for (int j = 0; j &lt; users.size() - k; j++) {\n            if(users.get(j).getName().compareTo(users.get(j+1).getName()){\n                swap(users, j, j+1);\n                exchangeMade = true;\n            }\n        } \n    }\n\n\n  public static void swap(ArrayList&lt;Student&gt; users, int x, int y) {\n    Student temp = users.get(x); // set temp value to element at index x\n    users.set(x, users.get(y)); // set value at index x to the value at index y\n    users.set(y, temp); // set value at index y to the temp value \n    \n} // end of swap method\n \n</code></pre>\n<p>The getName(). method gets the last name of the student. I'm unsure on how to sort this. Would it be better to use name.charAt(i) and then do some ordering by that.</p>\n"},{"tags":["java","spring","spring-mvc","criteria"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1532887229,"post_id":51583079,"comment_id":90131486,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Expression.html#in-java.util.Collection-","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Expression.html#in-java.util.Collection-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/criteria/&hellip;</a>"},{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1532887260,"post_id":51583079,"comment_id":90131495,"body_markdown":"`in(ids.toArray())`?","body":"<code>in(ids.toArray())</code>?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1532887353,"post_id":51583079,"comment_id":90131523,"body_markdown":"@мυѕτавєւмo `ids` is sufficient. There is another in() method taking a Collection as argument.","body":"@мυѕτавєւмo <code>ids</code> is sufficient. There is another in() method taking a Collection as argument."},{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1532887466,"post_id":51583079,"comment_id":90131560,"body_markdown":"@JBNizet that&#39;s nice, I&#39;m not familiar with the API, so I saw it would be helpful to convert the list to an array :)","body":"@JBNizet that&#39;s nice, I&#39;m not familiar with the API, so I saw it would be helpful to convert the list to an array :)"}],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653561410,"creation_date":1532887540,"answer_id":51583134,"question_id":51583079,"body_markdown":"U can use `Predicate`\r\n\r\n   \r\n\r\n    CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\r\n    Root&lt;User&gt; userRoot = userQuery.from(User.class);\r\n    Expression&lt;String&gt; userExpression = userRoot.get(&quot;id&quot;);\r\n    Predicate userPredicate = userExpression.in(ids);\r\n    userQuery.where(userPredicate );","title":"Criteria API IN with ArrayList","body":"<p>U can use <code>Predicate</code></p>\n<pre><code>CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\nRoot&lt;User&gt; userRoot = userQuery.from(User.class);\nExpression&lt;String&gt; userExpression = userRoot.get(&quot;id&quot;);\nPredicate userPredicate = userExpression.in(ids);\nuserQuery.where(userPredicate );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13824305,"reputation":177,"user_id":9979013,"display_name":"Vaibhav Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1628193245,"creation_date":1532888764,"answer_id":51583304,"question_id":51583079,"body_markdown":"    \r\nThis will work, using only ids as parameter in &#39;&#237;n&#39; method\r\n\r\n----------\r\n\r\n\r\n    List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\r\n        ids.add(1L);\r\n        ids.add(2L);\r\n        ids.add(3L);\r\n    CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\r\n        Root&lt;User&gt; userRoot = userQuery.from(User.class);\r\n        userQuery.select(userRoot);\r\n        userQuery.where(userRoot.get(&quot;id&quot;).in(ids));","title":"Criteria API IN with ArrayList","body":"<p>This will work, using only ids as parameter in 'ín' method</p>\n<hr />\n<pre><code>List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\n    ids.add(1L);\n    ids.add(2L);\n    ids.add(3L);\nCriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\n    Root&lt;User&gt; userRoot = userQuery.from(User.class);\n    userQuery.select(userRoot);\n    userQuery.where(userRoot.get(&quot;id&quot;).in(ids));\n</code></pre>\n"}],"owner":{"account_id":11494742,"reputation":198,"user_id":8424489,"accept_rate":83,"display_name":"EnzyWeiss "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6373,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":51583304,"answer_count":2,"score":2,"last_activity_date":1653561410,"creation_date":1532887075,"question_id":51583079,"body_markdown":"Can Criteria use List in &quot;IN&quot; expression?\r\n\r\nFor example:\r\n\r\n    List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\r\n            ids.add(1L);\r\n            ids.add(2L);\r\n            ids.add(3L);\r\n\r\nI want to find all id with 1, 2, 3\r\n\r\n    CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\r\n        Root&lt;User&gt; userRoot = userQuery.from(User.class);\r\n        userQuery.select(userRoot);\r\n        userQuery.where(userRoot.get(&quot;id&quot;).in(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;));\r\n\r\nHow to use List instead of this?","title":"Criteria API IN with ArrayList","body":"<p>Can Criteria use List in \"IN\" expression?</p>\n\n<p>For example:</p>\n\n<pre><code>List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\n        ids.add(1L);\n        ids.add(2L);\n        ids.add(3L);\n</code></pre>\n\n<p>I want to find all id with 1, 2, 3</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; userQuery = criteriaBuilder.createQuery(User.class);\n    Root&lt;User&gt; userRoot = userQuery.from(User.class);\n    userQuery.select(userRoot);\n    userQuery.where(userRoot.get(\"id\").in(\"1\",\"2\",\"3\"));\n</code></pre>\n\n<p>How to use List instead of this?</p>\n"},{"tags":["java","spring","junit","spring-aop","spring-test"],"comments":[{"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"score":0,"creation_date":1653147053,"post_id":72320912,"comment_id":127782555,"body_markdown":"why not seperating 2,6 to a different class and then use junit&#39;s `@BeforeAll` / `@BeforeEach` ?","body":"why not seperating 2,6 to a different class and then use junit&#39;s <code>@BeforeAll</code> / <code>@BeforeEach</code> ?"},{"owner":{"account_id":2397018,"reputation":11,"user_id":2095633,"display_name":"saikat sadhukhan"},"score":0,"creation_date":1653310371,"post_id":72320912,"comment_id":127813203,"body_markdown":"We run our test suits in the jenkin pipeline. Jenkin pipeline does not support different test classes","body":"We run our test suits in the jenkin pipeline. Jenkin pipeline does not support different test classes"},{"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"score":0,"creation_date":1653401445,"post_id":72320912,"comment_id":127840292,"body_markdown":"hmm really ? , how is that configured ? usually what i do in a jenkins pipeline is simply run mvn test - this will run all the tests","body":"hmm really ? , how is that configured ? usually what i do in a jenkins pipeline is simply run mvn test - this will run all the tests"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653560663,"creation_date":1653560663,"answer_id":72390318,"question_id":72320912,"body_markdown":"You can only apply Spring AOP to Spring beans/components. I.e., your test would need to e.g. have a `@Component` annotation in order to be picked up by a correspondingly configured component scan or be instantiated in a `@Bean` factory method. I am not a Spring user, i.e. I do not have much experience in using Spring from tests either. But what I do know is that you could simply use native AspectJ, either applied by compile-time or load-time weaving, in order to achieve what you want. That would be pretty straightforward to implement. I can certainly help you, if you present an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, so I do not have to start from scratch.\r\n\r\nIf you want to use a non-AOP solution, why not simply use the existing `@BeforeAll` and/or `@BeforeEach` annotations, just like _@asafb_ suggested before? I see no reason why that would not work.","title":"Can I Write Aspect for my Junit Test Cases in SpringBoot","body":"<p>You can only apply Spring AOP to Spring beans/components. I.e., your test would need to e.g. have a <code>@Component</code> annotation in order to be picked up by a correspondingly configured component scan or be instantiated in a <code>@Bean</code> factory method. I am not a Spring user, i.e. I do not have much experience in using Spring from tests either. But what I do know is that you could simply use native AspectJ, either applied by compile-time or load-time weaving, in order to achieve what you want. That would be pretty straightforward to implement. I can certainly help you, if you present an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, so I do not have to start from scratch.</p>\n<p>If you want to use a non-AOP solution, why not simply use the existing <code>@BeforeAll</code> and/or <code>@BeforeEach</code> annotations, just like <em>@asafb</em> suggested before? I see no reason why that would not work.</p>\n"}],"owner":{"account_id":2397018,"reputation":11,"user_id":2095633,"display_name":"saikat sadhukhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653560663,"creation_date":1653058141,"question_id":72320912,"body_markdown":"I have a branch of Test cases that are using the same code repeatedly for different test scenarios/methods. It&#39;s like infra related maintenance code. Suppose need to validate some business logic before we need to perform some infra-related operation. Same after the execution of business logic like cleaning all the infra-related configs. Thought we can use Aspects. As our main services are written in spring boot.\r\n\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    @EnableAspectJAutoProxy(proxyTargetClass=true) \r\n    public class RegressionTest{\r\n    \r\n    \t@Test\r\n        @Order(1)\r\n    \tpublic void Test1(){\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n        @Order(2)\r\n    \tpublic void Test2(){\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n        @Order(3)\r\n    \tpublic void Test3(){\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n        @Order(4)\r\n    \tpublic void Test4(){\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n        @Order(5)\r\n    \tpublic void Test5(){\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n        @Order(6)\r\n    \tpublic void Test6(){\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nIn the above example suppose want to run some common code before and after some test cases with the different values( 1 , 5 use some maintenance code with a different activity, and 2,6 use some different ). Depends on the test case. I planning to use Aspect so that no need to write same code repeatedly. Please suggest if you have a better suggestion or how can I use aspect-oriented programming in this scenario.","title":"Can I Write Aspect for my Junit Test Cases in SpringBoot","body":"<p>I have a branch of Test cases that are using the same code repeatedly for different test scenarios/methods. It's like infra related maintenance code. Suppose need to validate some business logic before we need to perform some infra-related operation. Same after the execution of business logic like cleaning all the infra-related configs. Thought we can use Aspects. As our main services are written in spring boot.</p>\n<pre><code>@TestInstance(Lifecycle.PER_CLASS)\n@TestMethodOrder(OrderAnnotation.class)\n@EnableAspectJAutoProxy(proxyTargetClass=true) \npublic class RegressionTest{\n\n    @Test\n    @Order(1)\n    public void Test1(){\n    \n    }\n    \n    @Test\n    @Order(2)\n    public void Test2(){\n    \n    }\n    \n    @Test\n    @Order(3)\n    public void Test3(){\n    \n    }\n    \n    @Test\n    @Order(4)\n    public void Test4(){\n    \n    }\n    \n    @Test\n    @Order(5)\n    public void Test5(){\n    \n    }\n    \n    @Test\n    @Order(6)\n    public void Test6(){\n    \n    }\n\n}\n</code></pre>\n<p>In the above example suppose want to run some common code before and after some test cases with the different values( 1 , 5 use some maintenance code with a different activity, and 2,6 use some different ). Depends on the test case. I planning to use Aspect so that no need to write same code repeatedly. Please suggest if you have a better suggestion or how can I use aspect-oriented programming in this scenario.</p>\n"},{"tags":["java","spring","spring-boot","gitlab"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1653479598,"post_id":72377072,"comment_id":127861451,"body_markdown":"You need to provide the `application-flags.load-ip-db-in-memory`.","body":"You need to provide the <code>application-flags.load-ip-db-in-memory</code>."},{"owner":{"account_id":15464461,"reputation":161,"user_id":11156237,"display_name":"Serhat Yılmaz"},"score":1,"creation_date":1653479929,"post_id":72377072,"comment_id":127861571,"body_markdown":"Plus, If you use `@Value` annotation to inject it from `properties` files, you can use default values in order to prevent this exception.\n`@Value(&quot;${application-flags.load-ip-db-in-memory:&lt;your-default-value-here&gt;}&quot;)`","body":"Plus, If you use <code>@Value</code> annotation to inject it from <code>properties</code> files, you can use default values in order to prevent this exception. <code>@Value(&quot;${application-flags.load-ip-db-in-memory:&lt;your-defau&zwnj;&#8203;lt-value-here&gt;}&quot;)</code>"},{"owner":{"account_id":18328013,"reputation":355,"user_id":13347225,"display_name":"Piyush Mittal"},"score":0,"creation_date":1653560573,"post_id":72377072,"comment_id":127883697,"body_markdown":"I added my config file in question. please check it and tell if anything wrong in it.","body":"I added my config file in question. please check it and tell if anything wrong in it."}],"answers":[{"tags":[],"owner":{"account_id":15464461,"reputation":161,"user_id":11156237,"display_name":"Serhat Yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653481907,"creation_date":1653481907,"answer_id":72377711,"question_id":72377072,"body_markdown":"This problem may occur from different reasons. \r\n\r\n 1. If you provide the variables from environment variable `${application-flags.load-ip-db-in-memory}`, your current terminal that you execute `java -jar &lt;application&gt;.jar` has the property. You can check it out by writing `printenv` on shell screen.\r\n 2. If you execute the application on IDE, you need to provide it on configuration section of the IDE. For example on IntellijA[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r9ake.png\r\n 3. As mentioned in comments you can set defaults for that exception.","title":"Spring application deployment failing","body":"<p>This problem may occur from different reasons.</p>\n<ol>\n<li>If you provide the variables from environment variable <code>${application-flags.load-ip-db-in-memory}</code>, your current terminal that you execute <code>java -jar &lt;application&gt;.jar</code> has the property. You can check it out by writing <code>printenv</code> on shell screen.</li>\n<li>If you execute the application on IDE, you need to provide it on configuration section of the IDE. For example on IntellijA<a href=\"https://i.stack.imgur.com/r9ake.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r9ake.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>3. As mentioned in comments you can set defaults for that exception.</p>\n"},{"tags":[],"owner":{"account_id":23522585,"reputation":1,"user_id":17569519,"display_name":"Zakaria Daoudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653492176,"creation_date":1653492176,"answer_id":72380358,"question_id":72377072,"body_markdown":"the @Value(&quot;${application-flags.load-ip-db-in-memory}&quot;)\r\n\r\n is null\r\ncheck if you are wrong \r\n\r\nor you can use \r\n@Value(&quot;${application-flags.load-ip-db-in-memory : here default value if its not in the app.prop }&quot;)\r\nprivate String someDefault;\r\n","title":"Spring application deployment failing","body":"<p>the @Value(&quot;${application-flags.load-ip-db-in-memory}&quot;)</p>\n<p>is null\ncheck if you are wrong</p>\n<p>or you can use\n@Value(&quot;${application-flags.load-ip-db-in-memory : here default value if its not in the app.prop }&quot;)\nprivate String someDefault;</p>\n"}],"owner":{"account_id":18328013,"reputation":355,"user_id":13347225,"display_name":"Piyush Mittal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653560505,"creation_date":1653479328,"question_id":72377072,"body_markdown":"I am trying to deploy a Kubernetes cluster of a spring application using argocd And I am getting errors in it. I am using an GitLab ci pipeline first to build its docker image and then using argocd for the continuous deployment. The error is:\r\n\r\n```\r\nSpringapi error logs\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-05-25 16:24:33.389 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;consentDataController&#39;: Unsatisfied dependency expressed through field &#39;ipScoreService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;IPScoreService&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;application-flags.load-ip-db-in-memory&#39; in value &quot;${application-flags.load-ip-db-in-memory}&quot;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n\tat com.dronapay.api.ApiApplication.main(ApiApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[api.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[api.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[api.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[api.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;IPScoreService&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;application-flags.load-ip-db-in-memory&#39; in value &quot;${application-flags.load-ip-db-in-memory}&quot;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\t... 28 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;application-flags.load-ip-db-in-memory&#39; in value &quot;${application-flags.load-ip-db-in-memory}&quot;\r\n\tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\t... 39 common frames omitted\r\n```\r\n\r\nI am not getting anything to solve this issue if anyone has any idea about it then please reply.\r\n\r\nHere is my config file:\r\n\r\nThis is my application.yml file where everything is configured.                       \r\n ```spring:\r\n  config:\r\n    activate:\r\n      on-profile: prod\r\n  datasource:\r\n    URL: &lt;DB_HOST&gt;\r\n    username: &lt;DBUSER&gt;\r\n    password: &lt;DBPWD&gt;\r\n    hikari:\r\n      minimimIdle: 2\r\n      maximumPoolSize: 10\r\n      idleTimeout: 300000\r\n      maxLifetime: 2000000\r\n      connectionTimeout: 30000\r\n  redis:\r\n    host: &lt;Redis_Host&gt;\r\n    port: 6379\r\n    database: 0\r\n    password: &lt;pass&gt;\r\n    timeout: 60000\r\n  jpa:\r\n    open-in-view: true\r\n    show-sql: false\r\n    generate-ddl: false\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate:\r\n      naming:\r\n        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n      dialect: org.hibernate.dialect.PostgreSQLDialect\r\n      ddl-auto: none\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 3MB\r\nserver:\r\n  port: 8080\r\n  error:\r\n    include-message: always\r\nkafka:\r\n  #bootstrap-servers: localhost:19092\r\n  bootstrap-servers: &lt;kafka_bootstrap_host&gt;:9092\r\n  consumer:\r\n    group-id: &quot;api&quot;\r\ningress-topic: ingress\r\negress-topic: scored\r\nlists-topic: listed\r\nfile-upload-path: /mnt/d/docker_data/uploaded\r\nauth:\r\n  apikey: false\r\n  apikeyfile: apikey.txt\r\napplication-flags:\r\n  kafka: false\r\n  double-debit: false\r\n  load-ip-db-in-memory: false\r\nlogging:\r\n  config: /mnt/d/docker_data/logback.xml\r\n```\r\n\r\nThanks\r\n","title":"Spring application deployment failing","body":"<p>I am trying to deploy a Kubernetes cluster of a spring application using argocd And I am getting errors in it. I am using an GitLab ci pipeline first to build its docker image and then using argocd for the continuous deployment. The error is:</p>\n<pre><code>Springapi error logs\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-05-25 16:24:33.389 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'consentDataController': Unsatisfied dependency expressed through field 'ipScoreService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IPScoreService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'application-flags.load-ip-db-in-memory' in value &quot;${application-flags.load-ip-db-in-memory}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4]\n    at com.dronapay.api.ApiApplication.main(ApiApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[api.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[api.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[api.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[api.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IPScoreService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'application-flags.load-ip-db-in-memory' in value &quot;${application-flags.load-ip-db-in-memory}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    ... 28 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'application-flags.load-ip-db-in-memory' in value &quot;${application-flags.load-ip-db-in-memory}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.9.jar!/:5.3.9]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.9.jar!/:5.3.9]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.9.jar!/:5.3.9]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    ... 39 common frames omitted\n</code></pre>\n<p>I am not getting anything to solve this issue if anyone has any idea about it then please reply.</p>\n<p>Here is my config file:</p>\n<p>This is my application.yml file where everything is configured.</p>\n<pre><code> config:\n   activate:\n     on-profile: prod\n datasource:\n   URL: &lt;DB_HOST&gt;\n   username: &lt;DBUSER&gt;\n   password: &lt;DBPWD&gt;\n   hikari:\n     minimimIdle: 2\n     maximumPoolSize: 10\n     idleTimeout: 300000\n     maxLifetime: 2000000\n     connectionTimeout: 30000\n redis:\n   host: &lt;Redis_Host&gt;\n   port: 6379\n   database: 0\n   password: &lt;pass&gt;\n   timeout: 60000\n jpa:\n   open-in-view: true\n   show-sql: false\n   generate-ddl: false\n   database-platform: org.hibernate.dialect.PostgreSQLDialect\n   hibernate:\n     naming:\n       implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\n       physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n     dialect: org.hibernate.dialect.PostgreSQLDialect\n     ddl-auto: none\n servlet:\n   multipart:\n     max-file-size: 3MB\nserver:\n port: 8080\n error:\n   include-message: always\nkafka:\n #bootstrap-servers: localhost:19092\n bootstrap-servers: &lt;kafka_bootstrap_host&gt;:9092\n consumer:\n   group-id: &quot;api&quot;\ningress-topic: ingress\negress-topic: scored\nlists-topic: listed\nfile-upload-path: /mnt/d/docker_data/uploaded\nauth:\n apikey: false\n apikeyfile: apikey.txt\napplication-flags:\n kafka: false\n double-debit: false\n load-ip-db-in-memory: false\nlogging:\n config: /mnt/d/docker_data/logback.xml\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1653558325,"post_id":72389345,"comment_id":127882915,"body_markdown":"Does this help https://stackoverflow.com/questions/9797935/how-to-query-documents-using-id-field-in-java-mongodb-driver","body":"Does this help <a href=\"https://stackoverflow.com/questions/9797935/how-to-query-documents-using-id-field-in-java-mongodb-driver\" title=\"how to query documents using id field in java mongodb driver\">stackoverflow.com/questions/9797935/&hellip;</a>"},{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1653560427,"post_id":72389345,"comment_id":127883649,"body_markdown":"Does this answer your question? [Mongo Java query for and/or combination](https://stackoverflow.com/questions/30236639/mongo-java-query-for-and-or-combination)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30236639/mongo-java-query-for-and-or-combination\">Mongo Java query for and/or combination</a>"}],"owner":{"account_id":25394620,"reputation":1,"user_id":19205072,"display_name":"Shweta Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653560266,"creation_date":1653555831,"question_id":72389345,"body_markdown":"I have a collection as sample below\r\n\r\n \r\n\r\n    {\r\n        _id: ObjectId(&quot;60e8216624446e5662ebbcfb&quot;),\r\n    \r\n        appUserId: &#39;abc&#39;,\r\n        changeAmount: 1,\r\n        changeMultiplier: 1,\r\n        changeRoundOffUpTo: 100,\r\n        createdAt: 2021-07-09T10:13:58.671Z,\r\n        description: &#39;&#39;,\r\n        roundUpAmount: 1,\r\n        status: 4,\r\n        updatedAt: 2022-01-06T04:03:20.163Z,\r\n        bucketId: ObjectId(&quot;60e80a4124446e5662e37abc&quot;),\r\n        timestamp: 2021-07-09T10:13:58.671Z\r\n      }\r\n\r\nSo I get bucketId I have to find all the collections with that bucket Id\r\nwe have something **bucketId: mongoose_2.Types.ObjectId(bucketId)** in mongo is there anything in java which can find by bucketId\r\nI tried with \r\nfindAllByBucketId(Its taking only id not object&quot;)\r\n\r\n","title":"find with objectId as foreign key in java","body":"<p>I have a collection as sample below</p>\n<pre><code>{\n    _id: ObjectId(&quot;60e8216624446e5662ebbcfb&quot;),\n\n    appUserId: 'abc',\n    changeAmount: 1,\n    changeMultiplier: 1,\n    changeRoundOffUpTo: 100,\n    createdAt: 2021-07-09T10:13:58.671Z,\n    description: '',\n    roundUpAmount: 1,\n    status: 4,\n    updatedAt: 2022-01-06T04:03:20.163Z,\n    bucketId: ObjectId(&quot;60e80a4124446e5662e37abc&quot;),\n    timestamp: 2021-07-09T10:13:58.671Z\n  }\n</code></pre>\n<p>So I get bucketId I have to find all the collections with that bucket Id\nwe have something <strong>bucketId: mongoose_2.Types.ObjectId(bucketId)</strong> in mongo is there anything in java which can find by bucketId\nI tried with\nfindAllByBucketId(Its taking only id not object&quot;)</p>\n"},{"tags":["java","linux","spring-boot","processbuilder","opa"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1653558716,"post_id":72389641,"comment_id":127883046,"body_markdown":"Is the file `data.json` present in the linux server?","body":"Is the file <code>data.json</code> present in the linux server?"},{"owner":{"account_id":25174873,"reputation":57,"user_id":19017210,"display_name":"YaziD"},"score":0,"creation_date":1653558788,"post_id":72389641,"comment_id":127883070,"body_markdown":"yes, data.json present in the Linux server","body":"yes, data.json present in the Linux server"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1653559001,"post_id":72389641,"comment_id":127883157,"body_markdown":"Did you tried redirecting the logs from process?","body":"Did you tried redirecting the logs from process?"},{"owner":{"account_id":25174873,"reputation":57,"user_id":19017210,"display_name":"YaziD"},"score":0,"creation_date":1653559041,"post_id":72389641,"comment_id":127883170,"body_markdown":"no, how do I do it? can you explain it","body":"no, how do I do it? can you explain it"}],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653560049,"creation_date":1653559598,"answer_id":72390101,"question_id":72389641,"body_markdown":"You can redirect the process output to a `file` with the following code:\r\n\r\n    public void updatePolicy() throws IOException, InterruptedException {\r\n            ProcessBuilder pb = new ProcessBuilder();\r\n            pb.command(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;--data-binary&quot;, &quot;@policy.rego&quot;, policyUrl);\r\n            pb.redirectOutput(new File(&quot;outputfilePath&quot;));\r\n            pb.redirectError(new File(&quot;errorFilePath&quot;));\r\n            Process p = pb.start();\r\n            p.waitFor();\r\n            }\r\n\r\n    public void pushDataToOPA() throws IOException, InterruptedException {\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;-H&quot;, &quot;\\&quot;Content-Type: application/json\\&quot;&quot;, &quot;-d&quot;,\r\n                    &quot;@data.json&quot;, dataUrl);\r\n            pb.redirectOutput(new File(&quot;outputfilePath&quot;));\r\n            pb.redirectError(new File(&quot;errorFilePath&quot;));\r\n            Process p = pb.start();\r\n            p.waitFor();\r\n        }\r\n\r\nFor more details on how to redirect logs read [here][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-lang-processbuilder-class-java/","title":"ProcessBuilder is not working correctly when I deploy my Spring boot Application to a Linux server","body":"<p>You can redirect the process output to a <code>file</code> with the following code:</p>\n<pre><code>public void updatePolicy() throws IOException, InterruptedException {\n        ProcessBuilder pb = new ProcessBuilder();\n        pb.command(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;--data-binary&quot;, &quot;@policy.rego&quot;, policyUrl);\n        pb.redirectOutput(new File(&quot;outputfilePath&quot;));\n        pb.redirectError(new File(&quot;errorFilePath&quot;));\n        Process p = pb.start();\n        p.waitFor();\n        }\n\npublic void pushDataToOPA() throws IOException, InterruptedException {\n        ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;-H&quot;, &quot;\\&quot;Content-Type: application/json\\&quot;&quot;, &quot;-d&quot;,\n                &quot;@data.json&quot;, dataUrl);\n        pb.redirectOutput(new File(&quot;outputfilePath&quot;));\n        pb.redirectError(new File(&quot;errorFilePath&quot;));\n        Process p = pb.start();\n        p.waitFor();\n    }\n</code></pre>\n<p>For more details on how to redirect logs read <a href=\"https://www.geeksforgeeks.org/java-lang-processbuilder-class-java/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25174873,"reputation":57,"user_id":19017210,"display_name":"YaziD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72390101,"answer_count":1,"score":0,"last_activity_date":1653560049,"creation_date":1653557334,"question_id":72389641,"body_markdown":"     public void pushDataToOPA() throws IOException, InterruptedException {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;-H&quot;, &quot;\\&quot;Content-Type: application/json\\&quot;&quot;, &quot;-d&quot;,\r\n                &quot;@data.json&quot;, dataUrl);\r\n        Process p = pb.start();\r\n        p.waitFor();\r\n\r\n    }\r\n\r\nWhen I deploy my spring boot application to a Linux server, this data.json file is not put to the target (dataUrl) when this pushDataToOPA method is called. But when I run my application in locally, it successfully puts the JSON file to the same target (dataUrl).\r\n\r\n\r\n     public void updatePolicy() throws IOException, InterruptedException {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;--data-binary&quot;, &quot;@policy.rego&quot;, policyUrl);\r\n        Process p = pb.start();\r\n        p.waitFor();\r\n    }\r\n\r\nbut this method is working on both sides.\r\n\r\n","title":"ProcessBuilder is not working correctly when I deploy my Spring boot Application to a Linux server","body":"<pre><code> public void pushDataToOPA() throws IOException, InterruptedException {\n    ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;-H&quot;, &quot;\\&quot;Content-Type: application/json\\&quot;&quot;, &quot;-d&quot;,\n            &quot;@data.json&quot;, dataUrl);\n    Process p = pb.start();\n    p.waitFor();\n\n}\n</code></pre>\n<p>When I deploy my spring boot application to a Linux server, this data.json file is not put to the target (dataUrl) when this pushDataToOPA method is called. But when I run my application in locally, it successfully puts the JSON file to the same target (dataUrl).</p>\n<pre><code> public void updatePolicy() throws IOException, InterruptedException {\n    ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;, &quot;-X&quot;, &quot;PUT&quot;, &quot;--data-binary&quot;, &quot;@policy.rego&quot;, policyUrl);\n    Process p = pb.start();\n    p.waitFor();\n}\n</code></pre>\n<p>but this method is working on both sides.</p>\n"},{"tags":["java","playframework","sbt"],"answers":[{"tags":[],"owner":{"account_id":16076012,"reputation":1,"user_id":13672469,"display_name":"J&#233;r&#244;me C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653483807,"creation_date":1653483549,"answer_id":72378126,"question_id":72375684,"body_markdown":"I have no direct explanations, but that&#39;s work if you put on your `application.conf` file the `http.port` variable, and not directly `play.server.http.port`. \r\n\r\nA clue may be found in the file, on [Production Configuration page][1], presented by \r\n&gt; The configurations above are specific to the Akka HTTP and Netty server backend\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/ProductionConfiguration#Server-configuration-options","title":"Java Play overwrites port in application.conf","body":"<p>I have no direct explanations, but that's work if you put on your <code>application.conf</code> file the <code>http.port</code> variable, and not directly <code>play.server.http.port</code>.</p>\n<p>A clue may be found in the file, on <a href=\"https://www.playframework.com/documentation/2.8.x/ProductionConfiguration#Server-configuration-options\" rel=\"nofollow noreferrer\">Production Configuration page</a>, presented by</p>\n<blockquote>\n<p>The configurations above are specific to the Akka HTTP and Netty server backend</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20110345,"reputation":305,"user_id":14746858,"display_name":"Helix112"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653559755,"creation_date":1653559755,"answer_id":72390135,"question_id":72375684,"body_markdown":"As per of the play [documentation][1] : \r\n\r\n&gt; In run mode ***the HTTP server part*** of Play starts before the application\r\n&gt; has been compiled. This means that the HTTP server cannot access the\r\n&gt; application.conf file when it starts. If you want to override HTTP\r\n&gt; server settings while using the run command you cannot use the\r\n&gt; application.conf file\r\n\r\nI would propose you do this way `sbt run -Dhttp.port=5511` as you stated earlier. If you are worried about passing everytime the arguments with run task then you can change your root project settings in the `build.sbt` file only once. Do not forget to to `sbt reload` so your `build.sbt` changes take effect. \r\n\r\n    lazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava)\r\n       .settings(PlayKeys.playDefaultPort := 5511)\r\n\r\n\r\nAnother alternative : you can add the following line in your build.sbt file \r\n\r\n    PlayKeys.devSettings += &quot;play.server.http.port&quot; -&gt; &quot;8080&quot;\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/ConfigFile#HTTP-server-settings-in-application.conf\r\n","title":"Java Play overwrites port in application.conf","body":"<p>As per of the play <a href=\"https://www.playframework.com/documentation/2.8.x/ConfigFile#HTTP-server-settings-in-application.conf\" rel=\"nofollow noreferrer\">documentation</a> :</p>\n<blockquote>\n<p>In run mode <em><strong>the HTTP server part</strong></em> of Play starts before the application\nhas been compiled. This means that the HTTP server cannot access the\napplication.conf file when it starts. If you want to override HTTP\nserver settings while using the run command you cannot use the\napplication.conf file</p>\n</blockquote>\n<p>I would propose you do this way <code>sbt run -Dhttp.port=5511</code> as you stated earlier. If you are worried about passing everytime the arguments with run task then you can change your root project settings in the <code>build.sbt</code> file only once. Do not forget to to <code>sbt reload</code> so your <code>build.sbt</code> changes take effect.</p>\n<pre><code>lazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava)\n   .settings(PlayKeys.playDefaultPort := 5511)\n</code></pre>\n<p>Another alternative : you can add the following line in your build.sbt file</p>\n<pre><code>PlayKeys.devSettings += &quot;play.server.http.port&quot; -&gt; &quot;8080&quot;\n</code></pre>\n"}],"owner":{"account_id":9118599,"reputation":457,"user_id":6784881,"display_name":"Talos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72390135,"answer_count":2,"score":0,"last_activity_date":1653559755,"creation_date":1653473436,"question_id":72375684,"body_markdown":"I want to specify port on which Java Play exposes its endpoints in the `application.conf` file – complete snippet of the `application.conf`, format taken from Java Play [documentation](https://www.playframework.com/documentation/2.8.x/ProductionConfiguration#Server-configuration-options)\r\n\r\n```\r\nplay.server.http.port = 5511\r\n```\r\n\r\nHowever, if I run command\r\n* `sbt run`\r\n\r\nexposed port is 9000, not 5511.\r\n\r\nI was able to achieve correct behaviour by running\r\n* `sbt run -Dhttp.port=5511`\r\n\r\nso there must be problem in the `application.conf`.\r\nIf I try to read the value programmatically, say from controller, it also gets the wrong value of 9000. However, if I add some artificial value to the `application.conf`, say `foo = &quot;ABC&quot;`, it correctly reads this value.\r\n\r\n&lt;hr&gt;\r\nJava play version: 2.8.15&lt;br&gt;\r\nSBT version: 1.6.2&lt;br&gt;\r\nPlugins: only java play\r\n","title":"Java Play overwrites port in application.conf","body":"<p>I want to specify port on which Java Play exposes its endpoints in the <code>application.conf</code> file – complete snippet of the <code>application.conf</code>, format taken from Java Play <a href=\"https://www.playframework.com/documentation/2.8.x/ProductionConfiguration#Server-configuration-options\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>play.server.http.port = 5511\n</code></pre>\n<p>However, if I run command</p>\n<ul>\n<li><code>sbt run</code></li>\n</ul>\n<p>exposed port is 9000, not 5511.</p>\n<p>I was able to achieve correct behaviour by running</p>\n<ul>\n<li><code>sbt run -Dhttp.port=5511</code></li>\n</ul>\n<p>so there must be problem in the <code>application.conf</code>.\nIf I try to read the value programmatically, say from controller, it also gets the wrong value of 9000. However, if I add some artificial value to the <code>application.conf</code>, say <code>foo = &quot;ABC&quot;</code>, it correctly reads this value.</p>\n<hr>\nJava play version: 2.8.15<br>\nSBT version: 1.6.2<br>\nPlugins: only java play\n"},{"tags":["java","mysql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1653559420,"post_id":72368051,"comment_id":127883312,"body_markdown":"For the record, this question was asked also here: https://github.com/jOOQ/jOOQ/issues/13602","body":"For the record, this question was asked also here: <a href=\"https://github.com/jOOQ/jOOQ/issues/13602\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/13602</a>"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653418780,"creation_date":1653418780,"answer_id":72368151,"question_id":72368051,"body_markdown":"Try\r\n\r\n    byte[] varBinary = &quot;0001&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\n","title":"Java string to query a varbinary(64) column","body":"<p>Try</p>\n<pre><code>byte[] varBinary = &quot;0001&quot;.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653559747,"creation_date":1653559747,"answer_id":72390134,"question_id":72368051,"body_markdown":"I think what&#39;s happening here is: If your column is of some `byte[]` type (e.g. `VARBINARY`), then the `Loader` API will attempt to decode base64 encoded binary data, see https://github.com/jOOQ/jOOQ/issues/5858\r\n\r\nAmong all the binary string representations, this seems to be one of the most popular ones, but it&#39;s probably not what you were expecting. You were expecting jOOQ to pass along the `String` directly to the JDBC driver.\r\n\r\nA thorough solution for arbitrary string encodings might be implemented in the near future, see: https://github.com/jOOQ/jOOQ/issues/3221, where you can define explicit `String` to custom type conversion when loading data from CSV (or JSON, etc.)\r\n\r\nUntil then, I think the problem is clear? For now, you should either:\r\n\r\n- Place base64 encoded binary data in your CSV\r\n- Pre-process your CSV and pass the binary data to an `Object[]` or `Record` representation, and load that, instead","title":"Java string to query a varbinary(64) column","body":"<p>I think what's happening here is: If your column is of some <code>byte[]</code> type (e.g. <code>VARBINARY</code>), then the <code>Loader</code> API will attempt to decode base64 encoded binary data, see <a href=\"https://github.com/jOOQ/jOOQ/issues/5858\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/5858</a></p>\n<p>Among all the binary string representations, this seems to be one of the most popular ones, but it's probably not what you were expecting. You were expecting jOOQ to pass along the <code>String</code> directly to the JDBC driver.</p>\n<p>A thorough solution for arbitrary string encodings might be implemented in the near future, see: <a href=\"https://github.com/jOOQ/jOOQ/issues/3221\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/3221</a>, where you can define explicit <code>String</code> to custom type conversion when loading data from CSV (or JSON, etc.)</p>\n<p>Until then, I think the problem is clear? For now, you should either:</p>\n<ul>\n<li>Place base64 encoded binary data in your CSV</li>\n<li>Pre-process your CSV and pass the binary data to an <code>Object[]</code> or <code>Record</code> representation, and load that, instead</li>\n</ul>\n"}],"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72390134,"answer_count":2,"score":1,"last_activity_date":1653559747,"creation_date":1653418195,"question_id":72368051,"body_markdown":"For a unit test, I need to query a MySQL table for a specific value in a varbinary(64) column. The data is loaded from a csv using jooq. \r\n\r\n    VARBIN_VALS,...\r\n    0001,...\r\n    0002,...\r\n\r\nI see the value 0001 when I select on the table after loading the test data. I want to find the record with VARBIN_VALS 0001 so I&#39;m trying to construct the bytes array from a java string. I&#39;ve tried several variations:\r\n\r\n    &quot;0001&quot;.getBytes()\r\n    &quot;0001&quot;.getBytes(StandardCharsets.UTF_8)\r\n    &quot;0001&quot;.getBytes(Charsets.UTF_16)\r\n\r\nbut nothing is matching. As far as I can tell mysql is using utf8mb4. How to convert a java string to bytes array that would match what jooq did?\r\n\r\nTest data loaded with:\r\n\r\n    ContextObject.loadInto(TABLE_A).\r\n    loadCSV(SourceFile).fields(...).execute();\r\n\r\nAnd the query is:\r\n\r\n    ctx.select(TABLE_A.FIELD_OF_INTEREST).\r\n    from(TABLE_A).\r\n    where(TABLE_A.VARBIN_FIELD.eq(bytesArray)).\r\n    fetch(TABLE_A.FIELD_OF_INTEREST);\r\n\r\n","title":"Java string to query a varbinary(64) column","body":"<p>For a unit test, I need to query a MySQL table for a specific value in a varbinary(64) column. The data is loaded from a csv using jooq.</p>\n<pre><code>VARBIN_VALS,...\n0001,...\n0002,...\n</code></pre>\n<p>I see the value 0001 when I select on the table after loading the test data. I want to find the record with VARBIN_VALS 0001 so I'm trying to construct the bytes array from a java string. I've tried several variations:</p>\n<pre><code>&quot;0001&quot;.getBytes()\n&quot;0001&quot;.getBytes(StandardCharsets.UTF_8)\n&quot;0001&quot;.getBytes(Charsets.UTF_16)\n</code></pre>\n<p>but nothing is matching. As far as I can tell mysql is using utf8mb4. How to convert a java string to bytes array that would match what jooq did?</p>\n<p>Test data loaded with:</p>\n<pre><code>ContextObject.loadInto(TABLE_A).\nloadCSV(SourceFile).fields(...).execute();\n</code></pre>\n<p>And the query is:</p>\n<pre><code>ctx.select(TABLE_A.FIELD_OF_INTEREST).\nfrom(TABLE_A).\nwhere(TABLE_A.VARBIN_FIELD.eq(bytesArray)).\nfetch(TABLE_A.FIELD_OF_INTEREST);\n</code></pre>\n"},{"tags":["java","date","casting","clojure","interop"],"answers":[{"tags":[],"owner":{"account_id":273108,"reputation":9589,"user_id":564509,"accept_rate":67,"display_name":"Eugene Pakhomov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653559424,"creation_date":1653559424,"answer_id":72390066,"question_id":72389595,"body_markdown":"Add a `.` right at the end of `SimpleDateFormat`. Right now, you&#39;re calling the class as a function, hence that exception. Adding a dot at the end makes it an instantiation.\r\n\r\nYou can do the same with `(new java.util.Date)` - it can be replaced with `(java.util.Date.)`.","title":"java.lang.Class cannot be cast to clojure.lang.IFn when date capturing and string formatting","body":"<p>Add a <code>.</code> right at the end of <code>SimpleDateFormat</code>. Right now, you're calling the class as a function, hence that exception. Adding a dot at the end makes it an instantiation.</p>\n<p>You can do the same with <code>(new java.util.Date)</code> - it can be replaced with <code>(java.util.Date.)</code>.</p>\n"}],"owner":{"account_id":10302575,"reputation":127,"user_id":7600834,"display_name":"Sirgeorge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72390066,"answer_count":1,"score":1,"last_activity_date":1653559424,"creation_date":1653557102,"question_id":72389595,"body_markdown":"I&#39;m not really seeing where I&#39;m going wrong here, especially since I hit upon a minor variation at one point that allowed this, but couldn&#39;t explain why it worked. Please also tell me, in a more overall sense, what the issue is in general when you are having casting problems of a Java class to a Clojure Interface Function (IFn) and how you can debug it. Thank you.\r\n\r\n```Clojure\r\n(defn date\r\n  []\r\n  (new java.util.Date))\r\n\r\n(defn x\r\n  []\r\n  (.format(java.text.SimpleDateFormat &quot;YYYY-MM-DD&quot;)(new java.util.Date)))\r\n```","title":"java.lang.Class cannot be cast to clojure.lang.IFn when date capturing and string formatting","body":"<p>I'm not really seeing where I'm going wrong here, especially since I hit upon a minor variation at one point that allowed this, but couldn't explain why it worked. Please also tell me, in a more overall sense, what the issue is in general when you are having casting problems of a Java class to a Clojure Interface Function (IFn) and how you can debug it. Thank you.</p>\n<pre><code>(defn date\n  []\n  (new java.util.Date))\n\n(defn x\n  []\n  (.format(java.text.SimpleDateFormat &quot;YYYY-MM-DD&quot;)(new java.util.Date)))\n</code></pre>\n"},{"tags":["java","maven","apache-camel","apache-camel-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653563826,"post_id":72389998,"comment_id":127884677,"body_markdown":"And what does that mean: `..Maven not able to download jars`  errors? Log file? Have you tried to build on plain command line? Which Maven version etc..","body":"And what does that mean: <code>..Maven not able to download jars</code>  errors? Log file? Have you tried to build on plain command line? Which Maven version etc.."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1653565097,"post_id":72389998,"comment_id":127885108,"body_markdown":"it worked at sudden, no co mates were able to download. \nand now everyone can, no server issue nothing; and now all are stunned !!!!","body":"it worked at sudden, no co mates were able to download.  and now everyone can, no server issue nothing; and now all are stunned !!!!"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653559060,"creation_date":1653559060,"question_id":72389998,"body_markdown":"I changed camel version to 3.0.0 from 2X during Java Migration.\r\n\r\n    &lt;version.apache.camel&gt;3.0.0&lt;/version.apache.camel&gt;\r\n\r\nWhen i build everything then i get following in eclipse\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut all camel class turns not readable. \r\n\r\nI explode jar in maven directory using decompiler and i get following :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAny idea how to fix this issue with 3.0.0? Is maven repository creating issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DGoRr.png\r\n  [2]: https://i.stack.imgur.com/oR2sD.png\r\n  [3]: https://i.stack.imgur.com/g17Gq.png","title":"Java Migration: Apache Camel moved to 3.0 but Maven not able to download jars","body":"<p>I changed camel version to 3.0.0 from 2X during Java Migration.</p>\n<pre><code>&lt;version.apache.camel&gt;3.0.0&lt;/version.apache.camel&gt;\n</code></pre>\n<p>When i build everything then i get following in eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/DGoRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGoRr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oR2sD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oR2sD.png\" alt=\"enter image description here\" /></a></p>\n<p>but all camel class turns not readable.</p>\n<p>I explode jar in maven directory using decompiler and i get following :</p>\n<p><a href=\"https://i.stack.imgur.com/g17Gq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g17Gq.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea how to fix this issue with 3.0.0? Is maven repository creating issue?</p>\n"},{"tags":["java","linux","multithreading","parallel-processing","launcher"],"comments":[{"owner":{"account_id":10166585,"reputation":443,"user_id":7508309,"display_name":"Consti P"},"score":0,"creation_date":1653560372,"post_id":72389905,"comment_id":127883629,"body_markdown":"Could you post the command please? (Output of `System.out.println(&quot;\\n&quot;+processBuilder.command());`)","body":"Could you post the command please? (Output of <code>System.out.println(&quot;\\n&quot;+processBuilder.command());</code>)"},{"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"score":0,"creation_date":1653560980,"post_id":72389905,"comment_id":127883812,"body_markdown":"[/bin/bash, -c, /home/gattolfo/Applications/Tiled-1.8.4-x86_64_45370181d608e5498c38076f1821f989.AppImage]  OR [/bin/bash, -c, /bin/sh &quot;/home/gattolfo/Programmi/jmonkeyplatform/bin/jmonkeyplatform&quot;]\n i simpli take a exec param from .desktop","body":"[/bin/bash, -c, /home/gattolfo/Applications/Tiled-1.8.4-x86_64_45370181d608e&zwnj;&#8203;5498c38076f1821f989.&zwnj;&#8203;AppImage]  OR [/bin/bash, -c, /bin/sh &quot;/home/gattolfo/Programmi/jmonkeyplatform/bin/jmonkeyplatfor&zwnj;&#8203;m&quot;]  i simpli take a exec param from .desktop"},{"owner":{"account_id":10166585,"reputation":443,"user_id":7508309,"display_name":"Consti P"},"score":0,"creation_date":1653561717,"post_id":72389905,"comment_id":127884009,"body_markdown":"Hm, this looks relatively normal, if you don&#39;t see any output/exception, I&#39;m out of ideas, sorry","body":"Hm, this looks relatively normal, if you don&#39;t see any output/exception, I&#39;m out of ideas, sorry"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653572361,"post_id":72389905,"comment_id":127887753,"body_markdown":"In no case will you see the reason for any errors as you don&#39;t process stderr","body":"In no case will you see the reason for any errors as you don&#39;t process stderr"},{"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"score":0,"creation_date":1653590771,"post_id":72389905,"comment_id":127894376,"body_markdown":"stderr what is that?","body":"stderr what is that?"}],"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653558790,"creation_date":1653558610,"question_id":72389905,"body_markdown":"I&#39;m trying to run programs starting them from java, the main problem is that many do not start (mainly .AppImage) others open but crash after a very short time, such as JMonkey.sh (the ide), I don&#39;t know what I&#39;m wrong ...\r\n\r\n```\r\nprocessBuilder = new ProcessBuilder();\r\nString exec = &quot;&quot;;\r\nexec = DefaultLaunchExec.defaultLaunch.get(app.getExecProgram())+ app.getExecPath();\r\n        \r\nprocessBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,exec); //exec == path of the program\r\nSystem.out.println(&quot;\\n&quot;+processBuilder.command());\r\n        \r\ntry {\r\n\r\n    process = processBuilder.start();\r\n                \r\n\tStringBuilder output = new StringBuilder();\r\n\r\n\tBufferedReader reader = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(process.getInputStream()));\r\n\r\n\tString line;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t    output.append(line + &quot;\\n&quot;);\r\n        System.out.println(line);\r\n\t}\r\n\r\n} catch (IOException e) {\r\n    System.out.println(e);\r\n}\r\n        \r\nDefaultLaunchExec.appRunning.remove(this);\r\n\r\n```","title":"Execute linux App from java using ProcessBulder","body":"<p>I'm trying to run programs starting them from java, the main problem is that many do not start (mainly .AppImage) others open but crash after a very short time, such as JMonkey.sh (the ide), I don't know what I'm wrong ...</p>\n<pre><code>processBuilder = new ProcessBuilder();\nString exec = &quot;&quot;;\nexec = DefaultLaunchExec.defaultLaunch.get(app.getExecProgram())+ app.getExecPath();\n        \nprocessBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,exec); //exec == path of the program\nSystem.out.println(&quot;\\n&quot;+processBuilder.command());\n        \ntry {\n\n    process = processBuilder.start();\n                \n    StringBuilder output = new StringBuilder();\n\n    BufferedReader reader = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n\n    String line;\n    while ((line = reader.readLine()) != null) {\n        output.append(line + &quot;\\n&quot;);\n        System.out.println(line);\n    }\n\n} catch (IOException e) {\n    System.out.println(e);\n}\n        \nDefaultLaunchExec.appRunning.remove(this);\n\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1653556692,"post_id":72389272,"comment_id":127882407,"body_markdown":"what is the `g2` variable? please describe all things that you are asking about. If `g2` is a canvas object then try with the `g2.drawText()` method.","body":"what is the <code>g2</code> variable? please describe all things that you are asking about. If <code>g2</code> is a canvas object then try with the <code>g2.drawText()</code> method."},{"owner":{"account_id":25394667,"reputation":1,"user_id":19205115,"display_name":"Java"},"score":0,"creation_date":1653556921,"post_id":72389272,"comment_id":127882488,"body_markdown":"g2 is Graphics2D g2 = (Graphics2D) g; in paintComponent btw I can draw anything exept this","body":"g2 is Graphics2D g2 = (Graphics2D) g; in paintComponent btw I can draw anything exept this"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1653571730,"post_id":72389272,"comment_id":127887515,"body_markdown":"Post a proper [mre] demonstrating the problem. 4 lines of code doesn&#39;t show us the context of how/where/when that code is used. So all you need is a JFrame with a JPanel showing how you override the paintComponent(...) method.","body":"Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. 4 lines of code doesn&#39;t show us the context of how/where/when that code is used. So all you need is a JFrame with a JPanel showing how you override the paintComponent(...) method."},{"owner":{"account_id":25394667,"reputation":1,"user_id":19205115,"display_name":"Java"},"score":0,"creation_date":1653573484,"post_id":72389272,"comment_id":127888206,"body_markdown":"ok I will edit it","body":"ok I will edit it"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653558640,"creation_date":1653558640,"answer_id":72389910,"question_id":72389272,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nYour tiny bit of code is wrong in two places.\r\n\r\n    Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 50);\r\n    g2.setFont(font);\r\n    g2.drawString(&quot;Hello World!&quot;, 100, 100);\r\n    // g2.dispose();\r\n\r\nYour `Font` constructor takes a String, `Font` type, and int point size.\r\n\r\nYou don&#39;t dispose of a `paintComponent` `Graphics` object.\r\n\r\nI can just imagine how many other errors and misconceptions there are in the rest of your code.","title":"I can&#39;t use drawString in Java graphics","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Your tiny bit of code is wrong in two places.</p>\n<pre><code>Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 50);\ng2.setFont(font);\ng2.drawString(&quot;Hello World!&quot;, 100, 100);\n// g2.dispose();\n</code></pre>\n<p>Your <code>Font</code> constructor takes a String, <code>Font</code> type, and int point size.</p>\n<p>You don't dispose of a <code>paintComponent</code> <code>Graphics</code> object.</p>\n<p>I can just imagine how many other errors and misconceptions there are in the rest of your code.</p>\n"}],"owner":{"account_id":25394667,"reputation":1,"user_id":19205115,"display_name":"Java"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653558640,"creation_date":1653555446,"question_id":72389272,"body_markdown":"I am making a Java game. I can draw images and other things, but drawString gives me an error:\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: sun.font.SunFontManager\r\nat java.lang.Class.forName0(Native Method)\r\nat java.lang.Class.forName(Class.java:348)\r\nat sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\nat java.awt.Font.getFont2D(Font.java:491)\r\nits longer...\r\n```\r\n\r\nThis is the code:\r\n\r\n```java\r\nFont font = new Font(&quot;Arial&quot;,50,Font.PLAIN);\r\ng2.setFont(font);\r\ng2.drawString(&quot;Hello World!&quot;, 100, 100);\r\ng2.dispose();\r\n```","title":"I can&#39;t use drawString in Java graphics","body":"<p>I am making a Java game. I can draw images and other things, but drawString gives me an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: sun.font.SunFontManager\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:348)\nat sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\nat java.awt.Font.getFont2D(Font.java:491)\nits longer...\n</code></pre>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Font font = new Font(&quot;Arial&quot;,50,Font.PLAIN);\ng2.setFont(font);\ng2.drawString(&quot;Hello World!&quot;, 100, 100);\ng2.dispose();\n</code></pre>\n"},{"tags":["java","spring-boot","microservices"],"answers":[{"tags":[],"owner":{"account_id":16689839,"reputation":557,"user_id":12062831,"display_name":"gsan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653558569,"creation_date":1653558569,"answer_id":72389893,"question_id":72389833,"body_markdown":"[This answer][1] explains how to configure two data sources for a single Spring Boot application. \r\n\r\nAlso, [this][2] tutorial explains the same concept with a detailed example. \r\n\r\nThe copying procedure could be done by fetching all the objects from each table on the main DB, deleting id values, and saving them to the second DB. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30344608/12062831\r\n  [2]: https://www.baeldung.com/spring-data-jpa-multiple-databases","title":"How to dynamically get a database connection in spring boot app with 2 databases?","body":"<p><a href=\"https://stackoverflow.com/a/30344608/12062831\">This answer</a> explains how to configure two data sources for a single Spring Boot application.</p>\n<p>Also, <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">this</a> tutorial explains the same concept with a detailed example.</p>\n<p>The copying procedure could be done by fetching all the objects from each table on the main DB, deleting id values, and saving them to the second DB.</p>\n"}],"owner":{"account_id":14073147,"reputation":31,"user_id":13641467,"display_name":"sumanth kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72389893,"answer_count":1,"score":1,"last_activity_date":1653558569,"creation_date":1653558304,"question_id":72389833,"body_markdown":"I am very new to spring, Consider a situation where two databases are being used in a spring app and they are configured (one is MySql and the other is PostGre), one service uses a table in MySql and other service uses a table in PostGre, now I want to know how do I provide them the required database connection during runtime?\r\n\r\nAny help is appreciated. TIA   ","title":"How to dynamically get a database connection in spring boot app with 2 databases?","body":"<p>I am very new to spring, Consider a situation where two databases are being used in a spring app and they are configured (one is MySql and the other is PostGre), one service uses a table in MySql and other service uses a table in PostGre, now I want to know how do I provide them the required database connection during runtime?</p>\n<p>Any help is appreciated. TIA</p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653540526,"creation_date":1653540526,"answer_id":72386831,"question_id":72378101,"body_markdown":"Make `JsonGenerator` as mock object, then verify its method call.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass TestDateTimeSerializerTest {\r\n    @Mock\r\n    JsonGenerator generator;       // JsonGenerator is mock\r\n    @Mock\r\n    SerializerProvider provider;\r\n\r\n    @Test\r\n    void test() throws IOException {\r\n        TestDateTimeSerializer serializer = new TestDateTimeSerializer();\r\n        LocalDateTime now = LocalDateTime.now();\r\n        \r\n        // run your method\r\n        serializer.serialize(now, generator, provider);\r\n\r\n        // assert mocked generator&#39;s method call\r\n        verify(generator).writeString(ArgumentMatchers.anyString());\r\n    }\r\n}\r\n```\r\n\r\nMockito API doc : https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#1\r\n\r\nyou can find more example and usage.","title":"Unit tests for a custom Date Serializer","body":"<p>Make <code>JsonGenerator</code> as mock object, then verify its method call.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestDateTimeSerializerTest {\n    @Mock\n    JsonGenerator generator;       // JsonGenerator is mock\n    @Mock\n    SerializerProvider provider;\n\n    @Test\n    void test() throws IOException {\n        TestDateTimeSerializer serializer = new TestDateTimeSerializer();\n        LocalDateTime now = LocalDateTime.now();\n        \n        // run your method\n        serializer.serialize(now, generator, provider);\n\n        // assert mocked generator's method call\n        verify(generator).writeString(ArgumentMatchers.anyString());\n    }\n}\n</code></pre>\n<p>Mockito API doc : <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#1\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#1</a></p>\n<p>you can find more example and usage.</p>\n"},{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653558509,"creation_date":1653558509,"answer_id":72389882,"question_id":72378101,"body_markdown":"Please try this:\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n\r\n    import java.time.LocalDateTime;\r\n\r\n    import static java.time.format.DateTimeFormatter.ISO_LOCAL_DATE_TIME;\r\n    import static org.junit.Assert.*;\r\n\r\n    public class TestDateTimeSerializerSerializerTest {\r\n\r\n            private ObjectMapper mapper;\r\n            protected TestDateTimeSerializer serializer;\r\n\r\n            @Before\r\n            public void setup() {\r\n                mapper = new ObjectMapper();\r\n                serializer = new TestDateTimeSerializer();\r\n\r\n                SimpleModule module = new SimpleModule();\r\n                module.addSerializer(LocalDateTime.class, serializer);\r\n                mapper.registerModule(module);\r\n            }\r\n\r\n            @Test\r\n            public void testSerializeNonNull() throws JsonProcessingException {\r\n                LocalDateTime ldt = LocalDateTime.parse(&quot;2016-10-06T10:40:21.124&quot;, ISO_LOCAL_DATE_TIME);\r\n\r\n                String serialized = mapper.writeValueAsString(ldt);\r\n\r\n                assertEquals(&quot;equal strings&quot;, &quot;\\&quot;2016-10-06T10:40:21.124Z\\&quot;&quot;, serialized);\r\n            }\r\n\r\n            @Test\r\n            public void testSerializeNull() throws JsonProcessingException {\r\n                LocalDateTime ldt = null;\r\n\r\n                String serialized = mapper.writeValueAsString(ldt);\r\n\r\n                assertEquals(&quot;equal strings&quot;, &quot;null&quot;, serialized);\r\n            }\r\n\r\n        }","title":"Unit tests for a custom Date Serializer","body":"<p>Please try this:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.time.LocalDateTime;\n\nimport static java.time.format.DateTimeFormatter.ISO_LOCAL_DATE_TIME;\nimport static org.junit.Assert.*;\n\npublic class TestDateTimeSerializerSerializerTest {\n\n        private ObjectMapper mapper;\n        protected TestDateTimeSerializer serializer;\n\n        @Before\n        public void setup() {\n            mapper = new ObjectMapper();\n            serializer = new TestDateTimeSerializer();\n\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(LocalDateTime.class, serializer);\n            mapper.registerModule(module);\n        }\n\n        @Test\n        public void testSerializeNonNull() throws JsonProcessingException {\n            LocalDateTime ldt = LocalDateTime.parse(&quot;2016-10-06T10:40:21.124&quot;, ISO_LOCAL_DATE_TIME);\n\n            String serialized = mapper.writeValueAsString(ldt);\n\n            assertEquals(&quot;equal strings&quot;, &quot;\\&quot;2016-10-06T10:40:21.124Z\\&quot;&quot;, serialized);\n        }\n\n        @Test\n        public void testSerializeNull() throws JsonProcessingException {\n            LocalDateTime ldt = null;\n\n            String serialized = mapper.writeValueAsString(ldt);\n\n            assertEquals(&quot;equal strings&quot;, &quot;null&quot;, serialized);\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":9466440,"reputation":99,"user_id":7038630,"display_name":"lukaszFD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653558509,"creation_date":1653483442,"question_id":72378101,"body_markdown":"I have recently started writing tests in Java and I am having some problem with the tests for the following class. How to write correctly tests for TestDateTimeSerializer class in such a form. \r\n\r\n``` \r\npublic class TestDateTimeSerializer extends JsonSerializer&lt;LocalDateTime&gt; {\r\n    public static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n\r\n    @Override\r\n    public void serialize(LocalDateTime dt, JsonGenerator gen, SerializerProvider serializerProvider) throws IOException {\r\n        if (dt == null) {\r\n            gen.writeNull();\r\n        } else {\r\n            gen.writeString(dt.format(FORMATTER));\r\n        }\r\n    }\r\n}\r\n```\r\nthis class is used here \r\n\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true) \r\n@JsonFormat(with = JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\r\npublic class TestRequest implements ITestResponse {\r\n    @JsonProperty(&quot;TestID&quot;)\r\n    private Long testID;\r\n    @JsonSerialize(using = TestDateTimeSerializer.class)\r\n    private LocalDateTime lastUpdateDate;\r\n}\r\n```\r\n","title":"Unit tests for a custom Date Serializer","body":"<p>I have recently started writing tests in Java and I am having some problem with the tests for the following class. How to write correctly tests for TestDateTimeSerializer class in such a form.</p>\n<pre><code>public class TestDateTimeSerializer extends JsonSerializer&lt;LocalDateTime&gt; {\n    public static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\n\n    @Override\n    public void serialize(LocalDateTime dt, JsonGenerator gen, SerializerProvider serializerProvider) throws IOException {\n        if (dt == null) {\n            gen.writeNull();\n        } else {\n            gen.writeString(dt.format(FORMATTER));\n        }\n    }\n}\n</code></pre>\n<p>this class is used here</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true) \n@JsonFormat(with = JsonFormat.Feature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\npublic class TestRequest implements ITestResponse {\n    @JsonProperty(&quot;TestID&quot;)\n    private Long testID;\n    @JsonSerialize(using = TestDateTimeSerializer.class)\n    private LocalDateTime lastUpdateDate;\n}\n</code></pre>\n"},{"tags":["java","spring","exception","spring-webflux","reactor"],"comments":[{"owner":{"account_id":17240248,"reputation":913,"user_id":12482704,"display_name":"Ridwan Ajibola"},"score":0,"creation_date":1653555755,"post_id":72388549,"comment_id":127882116,"body_markdown":"Add the full error screenshot for more clarity","body":"Add the full error screenshot for more clarity"}],"answers":[{"tags":[],"owner":{"account_id":14740930,"reputation":1,"user_id":10645607,"display_name":"piotrdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653558230,"creation_date":1653558230,"answer_id":72389816,"question_id":72388549,"body_markdown":"Ok, I solved it. I mocked client wrongly. \r\nInstead of:\r\n```\r\nMockito.when(client.patch(any(), any())).thenThrow(new RuntimeException());\r\n```\r\nit should be: \r\n```\r\nMockito.when(client.patch(any(), any())).thenReturn(Mono.error(RuntimeException::new));\r\n```\r\nas the client returns `Mono&lt;Void&gt;`","title":"Exception in not mapped inside flatMap","body":"<p>Ok, I solved it. I mocked client wrongly.\nInstead of:</p>\n<pre><code>Mockito.when(client.patch(any(), any())).thenThrow(new RuntimeException());\n</code></pre>\n<p>it should be:</p>\n<pre><code>Mockito.when(client.patch(any(), any())).thenReturn(Mono.error(RuntimeException::new));\n</code></pre>\n<p>as the client returns <code>Mono&lt;Void&gt;</code></p>\n"}],"owner":{"account_id":14740930,"reputation":1,"user_id":10645607,"display_name":"piotrdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653558230,"creation_date":1653551717,"question_id":72388549,"body_markdown":"I have a piece of code that calls an external service. And  I wanted to map error from this service. I tried to do that this way:\r\n```\r\npublic Mono&lt;Void&gt; patch(String userId, Payload payload) {\r\n        return Mono.just(payload)\r\n                .flatMap(it -&gt; client.patch(userId, PatchRequest.buildRequest(payload, userId))\r\n                        .onErrorMap(throwable -&gt; GeneralActionException.ofFailedSetup()));\r\n    }\r\n``` \r\nBut when I mocked the client to return RuntimeException\r\n```\r\nMockito.when(client.patch(any(), any())).thenThrow(new RuntimeException());\r\n\r\n```\r\nIt turned out my test:\r\n```\r\nStepVerifier.create(sut.patch(userId, payload))\r\n                .verifyError(GeneralActionException.class);\r\n```\r\nfailed, because the returned error was RuntimeException:\r\n\r\nHowever when I change the code a little, just like that:\r\n```\r\npublic Mono&lt;Void&gt; patch(String userId, Payload payload) {\r\n        return Mono.just(payload)\r\n                .flatMap(it -&gt; client.patch(userId, PatchRequest.buildRequest(payload, userId)))\r\n                .onErrorMap(throwable -&gt; GeneralActionException.ofFailedSetup());\r\n}\r\n```\r\nIt turned out the test succeeded. The question is why? Because I don&#39;t understand why it works differently in both cases and especially why in the first example when error mapping is inside `flatMap` it doesn&#39;t map it to `GeneralException`?\r\n\r\n","title":"Exception in not mapped inside flatMap","body":"<p>I have a piece of code that calls an external service. And  I wanted to map error from this service. I tried to do that this way:</p>\n<pre><code>public Mono&lt;Void&gt; patch(String userId, Payload payload) {\n        return Mono.just(payload)\n                .flatMap(it -&gt; client.patch(userId, PatchRequest.buildRequest(payload, userId))\n                        .onErrorMap(throwable -&gt; GeneralActionException.ofFailedSetup()));\n    }\n</code></pre>\n<p>But when I mocked the client to return RuntimeException</p>\n<pre><code>Mockito.when(client.patch(any(), any())).thenThrow(new RuntimeException());\n\n</code></pre>\n<p>It turned out my test:</p>\n<pre><code>StepVerifier.create(sut.patch(userId, payload))\n                .verifyError(GeneralActionException.class);\n</code></pre>\n<p>failed, because the returned error was RuntimeException:</p>\n<p>However when I change the code a little, just like that:</p>\n<pre><code>public Mono&lt;Void&gt; patch(String userId, Payload payload) {\n        return Mono.just(payload)\n                .flatMap(it -&gt; client.patch(userId, PatchRequest.buildRequest(payload, userId)))\n                .onErrorMap(throwable -&gt; GeneralActionException.ofFailedSetup());\n}\n</code></pre>\n<p>It turned out the test succeeded. The question is why? Because I don't understand why it works differently in both cases and especially why in the first example when error mapping is inside <code>flatMap</code> it doesn't map it to <code>GeneralException</code>?</p>\n"},{"tags":["java","visual-studio-code","javafx","javaimports"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1653518488,"post_id":72384699,"comment_id":127875353,"body_markdown":"Have you tried following the instructions at https://openjfx.io/openjfx-docs/#install-javafx There is a vscode section with various options, including Maven.","body":"Have you tried following the instructions at <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#install-javafx</a> There is a vscode section with various options, including Maven."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1653519304,"post_id":72384699,"comment_id":127875495,"body_markdown":"See also [_Getting Started with JavaFX: JavaFX and Visual Studio Code_](https://openjfx.io/openjfx-docs/#IDE-VSCode).","body":"See also <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\"><i>Getting Started with JavaFX: JavaFX and Visual Studio Code</i></a>."},{"owner":{"account_id":23462302,"reputation":19,"user_id":17516985,"display_name":"Maya"},"score":0,"creation_date":1653519479,"post_id":72384699,"comment_id":127875527,"body_markdown":"@James_D yes, that&#39;s the first step I took, didn&#39;t help :(","body":"@James_D yes, that&#39;s the first step I took, didn&#39;t help :("},{"owner":{"account_id":23462302,"reputation":19,"user_id":17516985,"display_name":"Maya"},"score":0,"creation_date":1653519532,"post_id":72384699,"comment_id":127875535,"body_markdown":"@trashgod yep, I&#39;ve seen and followed the steps on that page too","body":"@trashgod yep, I&#39;ve seen and followed the steps on that page too"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1653519932,"post_id":72384699,"comment_id":127875609,"body_markdown":"Probably the best thing to do to get help would be to show your complete configuration here: post the `pom.xml` (if you want to use maven) file and the `launch.json` file,properly formatted as code, plus a simple sample application. Generally speaking, your error message means the module path is incorrect.","body":"Probably the best thing to do to get help would be to show your complete configuration here: post the <code>pom.xml</code> (if you want to use maven) file and the <code>launch.json</code> file,properly formatted as code, plus a simple sample application. Generally speaking, your error message means the module path is incorrect."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653519979,"post_id":72384699,"comment_id":127875620,"body_markdown":"I recall going through the NetBeans portion of the guide more than once as my usage evolved. Also, try the example cited [here](https://stackoverflow.com/a/71288497/230513) to verify correct library installation.","body":"I recall going through the NetBeans portion of the guide more than once as my usage evolved. Also, try the example cited <a href=\"https://stackoverflow.com/a/71288497/230513\">here</a> to verify correct library installation."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1653520630,"post_id":72384699,"comment_id":127875722,"body_markdown":"Sorry: correction. That error doesn’t indicate a problem with the module path, but with the imported libraries (as you identified).","body":"Sorry: correction. That error doesn’t indicate a problem with the module path, but with the imported libraries (as you identified)."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1653542574,"post_id":72384699,"comment_id":127878729,"body_markdown":"Can you show your pom.xml and launch.json? By the way, can you successfully run the the example that trashgod mentioned?","body":"Can you show your pom.xml and launch.json? By the way, can you successfully run the the example that trashgod mentioned?"},{"owner":{"account_id":23462302,"reputation":19,"user_id":17516985,"display_name":"Maya"},"score":0,"creation_date":1653549754,"post_id":72384699,"comment_id":127880350,"body_markdown":"@James_D I&#39;ve added my launch.json and my example code. I&#39;d prefer not to work with Maven if I can.","body":"@James_D I&#39;ve added my launch.json and my example code. I&#39;d prefer not to work with Maven if I can."},{"owner":{"account_id":23462302,"reputation":19,"user_id":17516985,"display_name":"Maya"},"score":0,"creation_date":1653549871,"post_id":72384699,"comment_id":127880383,"body_markdown":"@MingJie-MSFT I&#39;ve added the launch.json, and no, I can&#39;t. I get the same error that I get when trying to run my own example code, &quot;java.lang.module.FindException: Module javafx.controls not found&quot;.","body":"@MingJie-MSFT I&#39;ve added the launch.json, and no, I can&#39;t. I get the same error that I get when trying to run my own example code, &quot;java.lang.module.FindException: Module javafx.controls not found&quot;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653554113,"post_id":72384699,"comment_id":127881611,"body_markdown":"If you are struggling and having startup issues, I wouldn&#39;t spend time trying to solve it, just switch to Idea and use the [new JavaFX project wizard](https://www.jetbrains.com/help/idea/javafx.htm) and you will have a working project very quickly, just my opinion.","body":"If you are struggling and having startup issues, I wouldn&#39;t spend time trying to solve it, just switch to Idea and use the <a href=\"https://www.jetbrains.com/help/idea/javafx.htm\" rel=\"nofollow noreferrer\">new JavaFX project wizard</a> and you will have a working project very quickly, just my opinion."}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653557836,"creation_date":1653550248,"answer_id":72388286,"question_id":72384699,"body_markdown":"&gt; &quot;vmArgs&quot;: &quot;--module-path /Users/mahya/Documents/University/Spring 2022/Advanced Programming/Assignments/A3/lib/javafx-sdk-18.0.1 --add-modules javafx.controls,javafx.fxml&quot;,\r\n\r\n\r\n\r\nYou should be accurate to the lib directory.\r\n\r\nAdding `/lib` after `javafx-sdk-18.0.1`.\r\n\r\nFor example, this is my &quot;vmArgs&quot;:\r\n\r\n    &quot;vmArgs&quot;: &quot;--module-path C:/Users/mingjiez/Downloads/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n\r\n\r\n\r\n\r\n**Supplementary notes:**\r\n\r\nI copied your code and launch.json(Part has been modified according to my settings).\r\n\r\nI can run the code without any problem.\r\n\r\n**launch.json**\r\n\r\n            {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch test&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;hellofx.test&quot;,\r\n            &quot;projectName&quot;: &quot;HelloFx_6aa3362c&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path C:/Users/mingjiez/Downloads/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;\r\n        },\r\n\r\n\r\n**result:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI think there must be something setting wrong while you didn&#39;t mention.\r\n\r\n**You can cheke the dependency in Java Project.**\r\n\r\nTo add JavaFX as dependencies to your project, you can simply copy all the jar files from the lib folder of your downloaded JavaFX SDK, for instance /Users/your-user/Downloads/javafx-sdk-17.0.1/lib/ to the lib folder of your project. Or alternatively, you can add them via the Java Projects explorer. Click the + button beside the Referenced Library\\ies, select the JavaFX library jars to add them.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2yDov.png\r\n  [2]: https://i.stack.imgur.com/ddGpq.png","title":"Trouble importing external libraries into a Visual Studio project","body":"<blockquote>\n<p>&quot;vmArgs&quot;: &quot;--module-path /Users/mahya/Documents/University/Spring 2022/Advanced Programming/Assignments/A3/lib/javafx-sdk-18.0.1 --add-modules javafx.controls,javafx.fxml&quot;,</p>\n</blockquote>\n<p>You should be accurate to the lib directory.</p>\n<p>Adding <code>/lib</code> after <code>javafx-sdk-18.0.1</code>.</p>\n<p>For example, this is my &quot;vmArgs&quot;:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path C:/Users/mingjiez/Downloads/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\n</code></pre>\n<p><strong>Supplementary notes:</strong></p>\n<p>I copied your code and launch.json(Part has been modified according to my settings).</p>\n<p>I can run the code without any problem.</p>\n<p><strong>launch.json</strong></p>\n<pre><code>        {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch test&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;hellofx.test&quot;,\n        &quot;projectName&quot;: &quot;HelloFx_6aa3362c&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path C:/Users/mingjiez/Downloads/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;\n    },\n</code></pre>\n<p><strong>result:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2yDov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2yDov.png\" alt=\"enter image description here\" /></a></p>\n<p>I think there must be something setting wrong while you didn't mention.</p>\n<p><strong>You can cheke the dependency in Java Project.</strong></p>\n<p>To add JavaFX as dependencies to your project, you can simply copy all the jar files from the lib folder of your downloaded JavaFX SDK, for instance /Users/your-user/Downloads/javafx-sdk-17.0.1/lib/ to the lib folder of your project. Or alternatively, you can add them via the Java Projects explorer. Click the + button beside the Referenced Library\\ies, select the JavaFX library jars to add them.</p>\n<p><a href=\"https://i.stack.imgur.com/ddGpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddGpq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23462302,"reputation":19,"user_id":17516985,"display_name":"Maya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653557836,"creation_date":1653516931,"question_id":72384699,"body_markdown":"I&#39;ve been searching for how to set up JavaFX on my MacBook for three days and VSCode still tells me &quot;import JavaFX couldn&#39;t be resolved.&quot;\r\n\r\nI&#39;ve tried setting up my project twice, once with Maven and once without. I downloaded the required JavaFX libraries through Maven and added the required dependencies to my `pom.xml`, but it didn&#39;t work. I don&#39;t know much about Maven and there weren&#39;t a lot of instructions online, so I decided to ditch it. I then downloaded the JavaFX SDK directly, added the .jar files to the &quot;referenced libraries&quot; of my project, added the `vrm-arg` line in `launch.json`, and tried cleaning my Java workspace through VSCode; and yet still VSCode can&#39;t find the libraries. I faced the same problem with setting up [tag:json], so if anyone could instruct me on the whole &quot;adding new libraries to your project&quot; I&#39;d be beyond grateful. I just can&#39;t find what step I&#39;m missing.\r\n\r\nBy the way, I am using Java 17. I also tried downloading Java 8 so that I wouldn&#39;t have to set up JavaFX separately, but the &quot;download JDK&quot; tab of VSCode wouldn&#39;t work, and downloading from the website seemed like just as much fuss. Also, that loophole wouldn&#39;t help me with [tag:json].\r\n\r\nHere&#39;s my `launch.json`:\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path /Users/mahya/Lib/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;A3_bdb16e50&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nAnd here&#39;s the example code I&#39;ve been working with (VSCode automatically created it when I made a JavaFX project with Maven):\r\n```\r\nimport javafx.application.*;\r\nimport javafx.scene.*;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.*;\r\n\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        var javaVersion = SystemInfo.javaVersion();\r\n        var javafxVersion = SystemInfo.javafxVersion();\r\n\r\n        var label = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n        var scene = new Scene(new StackPane(label), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\nclass SystemInfo {\r\n\r\n    public static String javaVersion() {\r\n        return System.getProperty(&quot;java.version&quot;);\r\n    }\r\n\r\n    public static String javafxVersion() {\r\n        return System.getProperty(&quot;javafx.version&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Trouble importing external libraries into a Visual Studio project","body":"<p>I've been searching for how to set up JavaFX on my MacBook for three days and VSCode still tells me &quot;import JavaFX couldn't be resolved.&quot;</p>\n<p>I've tried setting up my project twice, once with Maven and once without. I downloaded the required JavaFX libraries through Maven and added the required dependencies to my <code>pom.xml</code>, but it didn't work. I don't know much about Maven and there weren't a lot of instructions online, so I decided to ditch it. I then downloaded the JavaFX SDK directly, added the .jar files to the &quot;referenced libraries&quot; of my project, added the <code>vrm-arg</code> line in <code>launch.json</code>, and tried cleaning my Java workspace through VSCode; and yet still VSCode can't find the libraries. I faced the same problem with setting up <a href=\"/questions/tagged/json\" class=\"post-tag\" title=\"show questions tagged &#39;json&#39;\" rel=\"tag\">json</a>, so if anyone could instruct me on the whole &quot;adding new libraries to your project&quot; I'd be beyond grateful. I just can't find what step I'm missing.</p>\n<p>By the way, I am using Java 17. I also tried downloading Java 8 so that I wouldn't have to set up JavaFX separately, but the &quot;download JDK&quot; tab of VSCode wouldn't work, and downloading from the website seemed like just as much fuss. Also, that loophole wouldn't help me with <a href=\"/questions/tagged/json\" class=\"post-tag\" title=\"show questions tagged &#39;json&#39;\" rel=\"tag\">json</a>.</p>\n<p>Here's my <code>launch.json</code>:</p>\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path /Users/mahya/Lib/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\n            &quot;mainClass&quot;: &quot;App&quot;,\n            &quot;projectName&quot;: &quot;A3_bdb16e50&quot;\n        }\n    ]\n}\n</code></pre>\n<p>And here's the example code I've been working with (VSCode automatically created it when I made a JavaFX project with Maven):</p>\n<pre><code>import javafx.application.*;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.*;\n\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        var javaVersion = SystemInfo.javaVersion();\n        var javafxVersion = SystemInfo.javafxVersion();\n\n        var label = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        var scene = new Scene(new StackPane(label), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\nclass SystemInfo {\n\n    public static String javaVersion() {\n        return System.getProperty(&quot;java.version&quot;);\n    }\n\n    public static String javafxVersion() {\n        return System.getProperty(&quot;javafx.version&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","console","passwords","masking"],"answers":[{"tags":[],"owner":{"account_id":20110345,"reputation":305,"user_id":14746858,"display_name":"Helix112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653557127,"creation_date":1653557127,"answer_id":72389600,"question_id":72388096,"body_markdown":"The class [Console][1] has a method `readPassword()` that might be helpful in your case.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/io/Console.html","title":"how to hide password while typing in console in java","body":"<p>The class <a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">Console</a> has a method <code>readPassword()</code> that might be helpful in your case.</p>\n"},{"tags":[],"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653557540,"creation_date":1653557540,"answer_id":72389680,"question_id":72388096,"body_markdown":"```char[] password = System.console().readPassword(&quot;password:&quot;);```\r\n\r\nnotice: you can&#39;t run this code in IDE, you have to execute on terminal.","title":"how to hide password while typing in console in java","body":"<p><code>char[] password = System.console().readPassword(&quot;password:&quot;);</code></p>\n<p>notice: you can't run this code in IDE, you have to execute on terminal.</p>\n"}],"owner":{"account_id":25393615,"reputation":1,"user_id":19204193,"display_name":"varunvikash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1653557540,"creation_date":1653549086,"question_id":72388096,"body_markdown":"I am developing a online order management system in java connecting MySql to run in console where I need to login using userid and password. so, here I need to mask the password while typing in console. can anyone pls, help me with this?","title":"how to hide password while typing in console in java","body":"<p>I am developing a online order management system in java connecting MySql to run in console where I need to login using userid and password. so, here I need to mask the password while typing in console. can anyone pls, help me with this?</p>\n"},{"tags":["java","variables","junit","annotations","integration-testing"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653557853,"post_id":72389650,"comment_id":127882791,"body_markdown":"`I want to access the actualAPIResponse inside another java class. How can I do that ?` , do you mean another java method of same Test class?","body":"<code>I want to access the actualAPIResponse inside another java class. How can I do that ?</code> , do you mean another java method of same Test class?"},{"owner":{"account_id":25262716,"reputation":31,"user_id":19093394,"display_name":"dazzyCrazzy"},"score":0,"creation_date":1653558458,"post_id":72389650,"comment_id":127882964,"body_markdown":"No, inside another java class","body":"No, inside another java class"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1653558959,"post_id":72389650,"comment_id":127883133,"body_markdown":"create `actualAPIResponse` as class member field of current class &amp; access it via getter setter in another class","body":"create <code>actualAPIResponse</code> as class member field of current class &amp; access it via getter setter in another class"}],"owner":{"account_id":25262716,"reputation":31,"user_id":19093394,"display_name":"dazzyCrazzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653557430,"creation_date":1653557430,"question_id":72389650,"body_markdown":"How can I access the value of @Test method outside of that method.\r\n\r\n```\r\n @Test(groups = {&quot;cookie&quot;})\r\n    public void loginAndExecute(@NonNull TestCaseInput testCaseInput) {\r\n        LoginComponents loginComponents = null;\r\n        initializeDriver();\r\n    \r\n        try {\r\n            loginComponents = PageModelBuilder.builder(this.driver).withDesktopClass(DesktopLoginComponents.class).build();\r\n            Map&lt;String,String&gt; mp = loginComponents.getSecret();\r\n            actualAPIResponse = loginComponents.loginAndValidate(mp);\r\n           }\r\n}\r\n```\r\nI want to access the actualAPIResponse inside another java class. How can I do that ?","title":"Access @Test method variables outside of that in integration test","body":"<p>How can I access the value of @Test method outside of that method.</p>\n<pre><code> @Test(groups = {&quot;cookie&quot;})\n    public void loginAndExecute(@NonNull TestCaseInput testCaseInput) {\n        LoginComponents loginComponents = null;\n        initializeDriver();\n    \n        try {\n            loginComponents = PageModelBuilder.builder(this.driver).withDesktopClass(DesktopLoginComponents.class).build();\n            Map&lt;String,String&gt; mp = loginComponents.getSecret();\n            actualAPIResponse = loginComponents.loginAndValidate(mp);\n           }\n}\n</code></pre>\n<p>I want to access the actualAPIResponse inside another java class. How can I do that ?</p>\n"},{"tags":["java","arrays","for-loop","optimization","conways-game-of-life"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1653505462,"post_id":72382934,"comment_id":127871875,"body_markdown":"So, your array has X and Y coordinates.  Adjacent cells are X-1, X+1, Y-1, Y+1, each taken separately.","body":"So, your array has X and Y coordinates.  Adjacent cells are X-1, X+1, Y-1, Y+1, each taken separately."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653505815,"creation_date":1653505815,"answer_id":72383001,"question_id":72382934,"body_markdown":"It&#39;s just counting, it&#39;s not really hard.  Use two loops to count all eight adjacent cells, skip the middle one when you find that cell.\r\n\r\n\r\n       /**\r\n        * Returns the number of &quot;cells&quot; that are alive and adjacent to\r\n        * the cell at the given X,Y coordinates.\r\n        * \r\n        */\r\n       public int aliveAdjacent( int x, int y ) {\r\n          int count = 0;\r\n          for( int xd = -1; xd &lt;= 1; xd++ )\r\n             for( int yd = -1; yd &lt;= 1; yd++ ) {\r\n                if( xd == 0 &amp;&amp; yd == 0 ) continue;\r\n                if( isAlive( wrap(x+xd, width), wrap(y+yd,heigth) ) ) count++;\r\n             }\r\n          return count;\r\n       }","title":"What is a good and simple way to get state of neighbours in a 2d array in java for conway&#39;s game of life?","body":"<p>It's just counting, it's not really hard.  Use two loops to count all eight adjacent cells, skip the middle one when you find that cell.</p>\n<pre><code>   /**\n    * Returns the number of &quot;cells&quot; that are alive and adjacent to\n    * the cell at the given X,Y coordinates.\n    * \n    */\n   public int aliveAdjacent( int x, int y ) {\n      int count = 0;\n      for( int xd = -1; xd &lt;= 1; xd++ )\n         for( int yd = -1; yd &lt;= 1; yd++ ) {\n            if( xd == 0 &amp;&amp; yd == 0 ) continue;\n            if( isAlive( wrap(x+xd, width), wrap(y+yd,heigth) ) ) count++;\n         }\n      return count;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653557087,"creation_date":1653557087,"answer_id":72389593,"question_id":72382934,"body_markdown":"Adding to markspace&#39;s answer, it is important to ensure that the counting of alive cells does not interfere with their updating (letting cells be born or die) in the same generation. In other words: If you count 3 neighbors of a dead cell, you _must not_ immediately set it to alive, because it must still be counted as dead for its other neighbors.\r\n\r\nYou could, for example, first count the neighbors for _every_ cell and then, in a second nested loop, update every cell according to its previously counted number of neighbors. But you can do better with a more elaborate algorithm: you do not absolutely need an array of counters of the same size as your grid.","title":"What is a good and simple way to get state of neighbours in a 2d array in java for conway&#39;s game of life?","body":"<p>Adding to markspace's answer, it is important to ensure that the counting of alive cells does not interfere with their updating (letting cells be born or die) in the same generation. In other words: If you count 3 neighbors of a dead cell, you <em>must not</em> immediately set it to alive, because it must still be counted as dead for its other neighbors.</p>\n<p>You could, for example, first count the neighbors for <em>every</em> cell and then, in a second nested loop, update every cell according to its previously counted number of neighbors. But you can do better with a more elaborate algorithm: you do not absolutely need an array of counters of the same size as your grid.</p>\n"}],"owner":{"account_id":23579391,"reputation":1,"user_id":17618613,"display_name":"Valentin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653557087,"creation_date":1653505355,"question_id":72382934,"body_markdown":"I am about to learn java right now (I came from C++), and I am trying myself in GUI-Programming. \r\n\r\nMy goal is to create a playable version of &quot;conway&#39;s game of life&quot; (which is a good beginner project i think).\r\n\r\nWhat i have managed to do is, that i stored all of my cells in a 2d array (Here is my gode for that)\r\n```\r\npublic class Panel extends JPanel\r\n{\r\n    private int PanelX = 1777, PanelY = 1000;\r\n    public boolean[][] grid = new boolean[192][108];\r\n       \r\n    public Panel()\r\n    {\r\n        this.setBackground(Color.black);\r\n        this.setSize(PanelX, PanelY);\r\n        this.setVisible(true);  \r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g)\r\n     {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        g2d.setColor(Color.green);     \r\n        prepareGrid();                                  // sets the entire index of grid[][] to zero for start and reset \r\n        drawGrid(g2d);                                  // draws the grid \r\n    }\r\n\r\n    private void prepareGrid()\r\n    {\r\n        for (int i = 0; i&lt;191; i++)\r\n        {\r\n            for (int t = 0; t&lt;107; t++)\r\n            {\r\n                grid[i][t] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void drawGrid(Graphics g)\r\n    {\r\n        for (int i=0; i&lt;=191; i++)\r\n        {\r\n            for (int t=0; t&lt;=107; t++)\r\n            {\r\n                if (grid[i][t] == false) \r\n                {\r\n                    g.drawRect(i*10, t*10, 10, 10);\r\n                }                                                                              \r\n                if(grid[i][t] == true) \r\n                {\r\n                    g.fillRect(i*10, t*10, 10, 10);\r\n                }\r\n            }\r\n        }\r\n    } \r\n}\r\n```\r\nSo what it does it creates an 2 dimensional array which stores all cells as either false = no cell, or true = cell. When an array index (for example grid[100][100] is true, it draws a filled rectangle on that position as a &quot;living cell&quot;.\r\n\r\nTo implement the game and the rules of the game now, I need a way to access all the neighbor positions of an index of that 2d array, but I do not know how to to that. Could anyone help me with that ? :)\r\n\r\n-&gt; And if you have major optimizations for my code, feel free to write them as well.","title":"What is a good and simple way to get state of neighbours in a 2d array in java for conway&#39;s game of life?","body":"<p>I am about to learn java right now (I came from C++), and I am trying myself in GUI-Programming.</p>\n<p>My goal is to create a playable version of &quot;conway's game of life&quot; (which is a good beginner project i think).</p>\n<p>What i have managed to do is, that i stored all of my cells in a 2d array (Here is my gode for that)</p>\n<pre><code>public class Panel extends JPanel\n{\n    private int PanelX = 1777, PanelY = 1000;\n    public boolean[][] grid = new boolean[192][108];\n       \n    public Panel()\n    {\n        this.setBackground(Color.black);\n        this.setSize(PanelX, PanelY);\n        this.setVisible(true);  \n    }\n\n    @Override\n    protected void paintComponent(Graphics g)\n     {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        g2d.setColor(Color.green);     \n        prepareGrid();                                  // sets the entire index of grid[][] to zero for start and reset \n        drawGrid(g2d);                                  // draws the grid \n    }\n\n    private void prepareGrid()\n    {\n        for (int i = 0; i&lt;191; i++)\n        {\n            for (int t = 0; t&lt;107; t++)\n            {\n                grid[i][t] = false;\n            }\n        }\n    }\n\n    private void drawGrid(Graphics g)\n    {\n        for (int i=0; i&lt;=191; i++)\n        {\n            for (int t=0; t&lt;=107; t++)\n            {\n                if (grid[i][t] == false) \n                {\n                    g.drawRect(i*10, t*10, 10, 10);\n                }                                                                              \n                if(grid[i][t] == true) \n                {\n                    g.fillRect(i*10, t*10, 10, 10);\n                }\n            }\n        }\n    } \n}\n</code></pre>\n<p>So what it does it creates an 2 dimensional array which stores all cells as either false = no cell, or true = cell. When an array index (for example grid[100][100] is true, it draws a filled rectangle on that position as a &quot;living cell&quot;.</p>\n<p>To implement the game and the rules of the game now, I need a way to access all the neighbor positions of an index of that 2d array, but I do not know how to to that. Could anyone help me with that ? :)</p>\n<p>-&gt; And if you have major optimizations for my code, feel free to write them as well.</p>\n"},{"tags":["java","android","django","ssl","https"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653560102,"post_id":72389589,"comment_id":127883544,"body_markdown":"`SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);` can you use TLSv1.3 instead of SSL &amp; give it a go?","body":"<code>SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);</code> can you use TLSv1.3 instead of SSL &amp; give it a go?"},{"owner":{"account_id":24793116,"reputation":1,"user_id":18675994,"display_name":"pukiwawa"},"score":0,"creation_date":1653608770,"post_id":72389589,"comment_id":127898913,"body_markdown":"@AshishPatil I tried. Still doesn&#39;t work...","body":"@AshishPatil I tried. Still doesn&#39;t work..."}],"owner":{"account_id":24793116,"reputation":1,"user_id":18675994,"display_name":"pukiwawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653557074,"creation_date":1653557074,"question_id":72389589,"body_markdown":"I am pretty new to Java and Android. Working on Python all the time.\r\nI am trying to make an Android Apps via Android Studio BumbleBee (2021.1.1 Patch 3) that can make GET and POST request to a https(SSL) server. The server is run by Django 3.2, deploy on IIS(version 10.0) powered by Window Server 2019.\r\nGET requests are fine but POST requests are not!\r\n\r\nWhat i am trying to do is to make a POST request to login to the website.\r\nMy idea is to send a GET request to obtain the csrftoken and csrfmiddlewaretoken for subsequent POST request. (From my understanding, Django POST requires csrfmiddlewaretoken in the POST data and csrftoken in the cookies).\r\n\r\nEverything works fine when i tried on http://localhost:8000 OR i use @csrf_exempt decoration on both HTTP and HTTPS(SSL) server. \r\n\r\nBut the actual server which run by Django is HTTPS(SSL) instead of HTTP and i want to remain the csrf function.\r\n\r\nSince i keep failing on Android Studio, I tried to make POST request to https by Java(on Eclipse IDE Version: 2022-03 (4.23.0)) and it keeps returned an error of 403.\r\n\r\nI tried with SSL Socket Factory in Java but still it does not work. I am not sure if i am doing the right way..\r\n\r\nCan anyone guide me, if possible step by step or share the relevant knowledge to me, on how to make connection from JAVA(and Android Studio) to HTTPS Server?\r\n\r\nMany thanks in advance!\r\n\r\nBelow is my code on Java:\r\n\r\n```\r\npackage stream;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.PrintWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\npublic class csrf {\r\n\tpublic static void main(String[] args) {\r\n\t\tString baseUrl = &quot;ANY https url&quot;;//for example https://www.somehttpsurl.com/login\r\n\r\n\t\ttry {\r\n\t\t\tURL url = new URL(baseUrl);\r\n\t\t\tHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n\t\t\t// set the header\r\n\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Accept-Language&quot;, &quot;zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;User-Agent&quot;,\r\n\t\t\t\t\t&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Content_type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Cookie&quot;, &quot;&quot;);\r\n\t\t\tconn.connect();\r\n\t\t\t\r\n\t\t\t// get the login form\r\n\t\t\tString data = &quot;&quot;;\r\n\t\t\tif (conn.getResponseCode() == 200) {\r\n\t\t\t\tdata = inputStreamToString(conn.getInputStream());\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(conn.getResponseCode());\r\n\t\t\t}\r\n\t\t\tconn.disconnect();\r\n\t\t\t//get cookie\r\n\t\t\tString cookie = getRespCookie(conn);\r\n\t\t\t\r\n\t\t\t//get csrfmiddlewaretoken from form\r\n\t\t\tString csrfmiddlewaretoken = extractCsrfmiddlewaretokenFromString(data);\r\n\t\t\t\r\n\t\t\t//prepare POST params\r\n\t\t\tString params = &quot;csrfmiddlewaretoken=&quot;+csrfmiddlewaretoken+\r\n\t\t\t\t\t&quot;&amp;username=someone&quot;+&quot;&amp;password=somepassword&quot;;\r\n\t\t\t\r\n\t\t\t//get SSL?\r\n\t\t\tTrustManager[] tm = { new MyX509TrustManager() };\r\n\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsslContext.init(null,  tm,  new java.security.SecureRandom());\r\n\t\t\tSystem.out.println(sslContext.toString());\r\n\t\t\t\r\n\t\t\tSSLSocketFactory ssf = sslContext.getSocketFactory();\t\t\r\n\t\t\t\r\n\t\t\t//starting to post with data\r\n\t\t\tURL url1 = new URL(baseUrl);\r\n\t\t\tHttpsURLConnection conn1 = (HttpsURLConnection) url1.openConnection();\r\n\t\t\tconn1.setSSLSocketFactory(ssf);\r\n\t\t\tconn1.setRequestMethod(&quot;POST&quot;);\t\t\t\r\n\t\t\tconn1.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\t\t\tconn1.setRequestProperty(&quot;Accept-Language&quot;, &quot;zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3&quot;);\r\n\t\t\tconn1.setRequestProperty(&quot;User-Agent&quot;,\r\n\t\t\t\t\t&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36&quot;);\r\n\t\t\tconn1.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n\t\t\tconn1.setRequestProperty(&quot;Content_type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t\t\tconn1.setRequestProperty(&quot;Cookie&quot;, cookie);\r\n\t\t\tconn1.setDoInput(true);\r\n\t\t\tconn1.setDoOutput(true);\t\t\t\r\n\t\t\tconn1.connect();\r\n\t\t\t\r\n\t\t\tPrintWriter pw = new PrintWriter(conn1.getOutputStream());\r\n\t\t\tpw.write(params);\r\n\t\t\tpw.flush();\t\t\r\n\t\t\tpw.close();\t\t\t\r\n\t\t\t\t\t\r\n\t\t\tif (conn1.getResponseCode() == 200) {\r\n\t\t\t\tdata = inputStreamToString(conn1.getInputStream());\r\n\t\t\t\tSystem.out.println(data);\r\n\t\t\t} else {\t\t\t\r\n\t\t\t\tInputStream err = conn1.getErrorStream();\r\n\t\t\t\t\r\n\t\t\t\ttry (var in = new Scanner(err)) {\r\n\t\t\t\t\tSystem.out.println(in.nextLine());\r\n\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconn1.disconnect();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\tpublic static String getRespCookie(HttpURLConnection con) {\r\n\t\tString cookie = &quot;&quot;;\r\n\t\t\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; headerFields = con.getHeaderFields();\r\n\t\tif (headerFields != null) {\r\n\t\t\tList&lt;String&gt; cookies = headerFields.get(&quot;Set-Cookie&quot;);\r\n\t\t\tif (cookies != null) {\r\n\t\t\t\tfor (String cookie_item:cookies) {\r\n\t\t\t\t\tcookie += cookie_item + &quot;;&quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cookie;\r\n\t}\r\n\r\n\tpublic static String extractCsrfmiddlewaretokenFromString(String data) {\r\n\t\tString csrfmiddlewaretoken = &quot;&quot;;\r\n\t\tint length = 64;//csrfmiddlewaretoken length is 64\r\n\t\tString keyword = &quot;name=\\&quot;csrfmiddlewaretoken\\&quot; value=\\&quot;&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcsrfmiddlewaretoken = data.substring(data.indexOf(keyword)+keyword.length(),\r\n\t\t\t\t\tdata.indexOf(keyword)+keyword.length()+length);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn csrfmiddlewaretoken;\r\n\t}\r\n\r\n\tpublic static String inputStreamToString(InputStream is) {\r\n\t\tString str = &quot;&quot;;\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tint len = 0;\r\n\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n\t\ttry {\r\n\t\t\twhile ((len = is.read(buffer)) != -1) {\r\n\t\t\t\tbaos.write(buffer, 0, len);\r\n\t\t\t}\r\n\t\t\tbyte[] dataArray = baos.toByteArray();\r\n\t\t\tstr = new String(dataArray, &quot;utf-8&quot;);\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn str;\r\n\t}\r\n\r\n}\r\n\r\nclass MyX509TrustManager implements X509TrustManager {\r\n\r\n\t@Override\r\n\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\t\r\n}\r\n```\r\n","title":"POST Request to HTTPS(SSL) url from Android/Java","body":"<p>I am pretty new to Java and Android. Working on Python all the time.\nI am trying to make an Android Apps via Android Studio BumbleBee (2021.1.1 Patch 3) that can make GET and POST request to a https(SSL) server. The server is run by Django 3.2, deploy on IIS(version 10.0) powered by Window Server 2019.\nGET requests are fine but POST requests are not!</p>\n<p>What i am trying to do is to make a POST request to login to the website.\nMy idea is to send a GET request to obtain the csrftoken and csrfmiddlewaretoken for subsequent POST request. (From my understanding, Django POST requires csrfmiddlewaretoken in the POST data and csrftoken in the cookies).</p>\n<p>Everything works fine when i tried on http://localhost:8000 OR i use @csrf_exempt decoration on both HTTP and HTTPS(SSL) server.</p>\n<p>But the actual server which run by Django is HTTPS(SSL) instead of HTTP and i want to remain the csrf function.</p>\n<p>Since i keep failing on Android Studio, I tried to make POST request to https by Java(on Eclipse IDE Version: 2022-03 (4.23.0)) and it keeps returned an error of 403.</p>\n<p>I tried with SSL Socket Factory in Java but still it does not work. I am not sure if i am doing the right way..</p>\n<p>Can anyone guide me, if possible step by step or share the relevant knowledge to me, on how to make connection from JAVA(and Android Studio) to HTTPS Server?</p>\n<p>Many thanks in advance!</p>\n<p>Below is my code on Java:</p>\n<pre><code>package stream;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\npublic class csrf {\n    public static void main(String[] args) {\n        String baseUrl = &quot;ANY https url&quot;;//for example https://www.somehttpsurl.com/login\n\n        try {\n            URL url = new URL(baseUrl);\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n            // set the header\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n            conn.setRequestProperty(&quot;Accept-Language&quot;, &quot;zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3&quot;);\n            conn.setRequestProperty(&quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36&quot;);\n            conn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\n            conn.setRequestProperty(&quot;Content_type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            conn.setRequestProperty(&quot;Cookie&quot;, &quot;&quot;);\n            conn.connect();\n            \n            // get the login form\n            String data = &quot;&quot;;\n            if (conn.getResponseCode() == 200) {\n                data = inputStreamToString(conn.getInputStream());              \n            } else {\n                System.out.println(conn.getResponseCode());\n            }\n            conn.disconnect();\n            //get cookie\n            String cookie = getRespCookie(conn);\n            \n            //get csrfmiddlewaretoken from form\n            String csrfmiddlewaretoken = extractCsrfmiddlewaretokenFromString(data);\n            \n            //prepare POST params\n            String params = &quot;csrfmiddlewaretoken=&quot;+csrfmiddlewaretoken+\n                    &quot;&amp;username=someone&quot;+&quot;&amp;password=somepassword&quot;;\n            \n            //get SSL?\n            TrustManager[] tm = { new MyX509TrustManager() };\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null,  tm,  new java.security.SecureRandom());\n            System.out.println(sslContext.toString());\n            \n            SSLSocketFactory ssf = sslContext.getSocketFactory();       \n            \n            //starting to post with data\n            URL url1 = new URL(baseUrl);\n            HttpsURLConnection conn1 = (HttpsURLConnection) url1.openConnection();\n            conn1.setSSLSocketFactory(ssf);\n            conn1.setRequestMethod(&quot;POST&quot;);         \n            conn1.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n            conn1.setRequestProperty(&quot;Accept-Language&quot;, &quot;zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3&quot;);\n            conn1.setRequestProperty(&quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36&quot;);\n            conn1.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\n            conn1.setRequestProperty(&quot;Content_type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            conn1.setRequestProperty(&quot;Cookie&quot;, cookie);\n            conn1.setDoInput(true);\n            conn1.setDoOutput(true);            \n            conn1.connect();\n            \n            PrintWriter pw = new PrintWriter(conn1.getOutputStream());\n            pw.write(params);\n            pw.flush();     \n            pw.close();         \n                    \n            if (conn1.getResponseCode() == 200) {\n                data = inputStreamToString(conn1.getInputStream());\n                System.out.println(data);\n            } else {            \n                InputStream err = conn1.getErrorStream();\n                \n                try (var in = new Scanner(err)) {\n                    System.out.println(in.nextLine());\n                    System.out.println(&quot;\\n&quot;);\n                }\n            }\n            \n            \n            conn1.disconnect();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n    \n    public static String getRespCookie(HttpURLConnection con) {\n        String cookie = &quot;&quot;;\n        \n        Map&lt;String, List&lt;String&gt;&gt; headerFields = con.getHeaderFields();\n        if (headerFields != null) {\n            List&lt;String&gt; cookies = headerFields.get(&quot;Set-Cookie&quot;);\n            if (cookies != null) {\n                for (String cookie_item:cookies) {\n                    cookie += cookie_item + &quot;;&quot;;\n                }\n            }\n        }\n        return cookie;\n    }\n\n    public static String extractCsrfmiddlewaretokenFromString(String data) {\n        String csrfmiddlewaretoken = &quot;&quot;;\n        int length = 64;//csrfmiddlewaretoken length is 64\n        String keyword = &quot;name=\\&quot;csrfmiddlewaretoken\\&quot; value=\\&quot;&quot;;\n        \n        try {\n            csrfmiddlewaretoken = data.substring(data.indexOf(keyword)+keyword.length(),\n                    data.indexOf(keyword)+keyword.length()+length);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return csrfmiddlewaretoken;\n    }\n\n    public static String inputStreamToString(InputStream is) {\n        String str = &quot;&quot;;\n        byte[] buffer = new byte[1024];\n        int len = 0;\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        try {\n            while ((len = is.read(buffer)) != -1) {\n                baos.write(buffer, 0, len);\n            }\n            byte[] dataArray = baos.toByteArray();\n            str = new String(dataArray, &quot;utf-8&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return str;\n    }\n\n}\n\nclass MyX509TrustManager implements X509TrustManager {\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653524404,"post_id":72385284,"comment_id":127876206,"body_markdown":"So doing just a little bit hacking, Costa Rica seems to be -6, but &quot;Central Standard Time&quot; seems to -5 &#129320;.  While Costa Rica is listed as &quot;Central Standard Time&quot;, it actually has it&#39;s own timezone (`America/Costa_Rica`), I mean &quot;America/*&quot; has 167 individual timezones and &quot;US/*&quot; has 12. From what (little) I understand &quot;Central Standard Time&quot; is somewhat meaningless in your context (don&#39;t quote me on that, time zones confuse my to hell)","body":"So doing just a little bit hacking, Costa Rica seems to be -6, but &quot;Central Standard Time&quot; seems to -5 🤨.  While Costa Rica is listed as &quot;Central Standard Time&quot;, it actually has it&#39;s own timezone (<code>America&#47;Costa_Rica</code>), I mean &quot;America/*&quot; has 167 individual timezones and &quot;US/*&quot; has 12. From what (little) I understand &quot;Central Standard Time&quot; is somewhat meaningless in your context (don&#39;t quote me on that, time zones confuse my to hell)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1653528053,"post_id":72385284,"comment_id":127876655,"body_markdown":"What database? What exactly is the table column’s data type? How are you retrieving from the database, what SQL, what JDBC code? Into what Java data type are you receiving from the database? Why are you still using the terrible legacy date-time classes when hundreds of Answers have advised using only *java.time* classes?","body":"What database? What exactly is the table column’s data type? How are you retrieving from the database, what SQL, what JDBC code? Into what Java data type are you receiving from the database? Why are you still using the terrible legacy date-time classes when hundreds of Answers have advised using only <i>java.time</i> classes?"},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1653580999,"post_id":72385284,"comment_id":127891125,"body_markdown":"@BasilBourque Oracle DATE column using JPA\\Hibernate. Using java.util.Date because it&#39;s a legacy app.","body":"@BasilBourque Oracle DATE column using JPA\\Hibernate. Using java.util.Date because it&#39;s a legacy app."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653581116,"post_id":72385284,"comment_id":127891170,"body_markdown":"Those details need to go into your Question as edits, not Comments.","body":"Those details need to go into your Question as edits, not Comments."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653557031,"creation_date":1653525306,"answer_id":72385481,"question_id":72385284,"body_markdown":"So, after a bit of hacking and googling, it would appear (at least to me), that &quot;Central Standard Time&quot; isn&#39;t what you want to use (nor should you use it generally).\r\n\r\nFrom [time-and-date/Central Standard Time (CST)](https://www.timeanddate.com/time/zones/cst)\r\n\r\n&gt; &lt;b&gt;Caution: This is NOT the current local time in most locations in that time zone&lt;/b&gt;&lt;br&gt;\r\n&lt;b&gt;North America&lt;/b&gt;: Only some locations are currently on CST because most places in this time zone are currently on summer time / daylight saving time and are observing CDT.\r\n\r\nAnd then add in [time-and-date/Time Zone in Costa Rica](https://www.timeanddate.com/time/zone/costa-rica)\r\n\r\n&gt; Costa Rica observes Central Standard Time all year. There are no Daylight Saving Time clock changes.\r\n\r\nThat&#39;s not confusing at all &#128580;.  So, as I &quot;understand&quot; it, CST is normally -6 hours and CDT is -5 hours, but Costa Rica is always -6 hours.\r\n\r\nSo, based on the observations of your code, `CST` seems to be having the day light savings value applied to it, regardless of what you do.\r\n\r\nSo, what to do about it?  Well, the simple answer is, don&#39;t use it, in fact, stop using the `java.util.Date` and related APIs altogether and instead, make use of the replacement `java.time` APIS and the `America/Costa_Rica` time zone directly, for example...\r\n\r\n    final String DATE_TIME_PATTERN = &quot;yyyy/MM/dd HH:mm:ss&quot;;\r\n    final String LA_TIMEZONE_ID = &quot;America/Los_Angeles&quot;;\r\n    final String dateStringValue = &quot;2022/05/24 15:18:10&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    LocalDateTime ldt = LocalDateTime.parse(dateStringValue, formatter);\r\n\r\n    ZoneId zoneId = ZoneId.of(LA_TIMEZONE_ID);\r\n    ZonedDateTime zdt = ldt.atZone(zoneId);\r\n\r\n    System.out.println(&quot;     Local = &quot; + ldt);\r\n    System.out.println(&quot;       zdt = &quot; + zdt);\r\n    System.out.println(&quot;Costa_Rica = &quot; + zdt.withZoneSameInstant(ZoneId.of(&quot;America/Costa_Rica&quot;)));\r\n    System.out.println(&quot;US/Central = &quot; + zdt.withZoneSameInstant(ZoneId.of(&quot;US/Central&quot;)));\r\n\r\nwhich prints...\r\n\r\n         Local = 2022-05-24T15:18:10\r\n           zdt = 2022-05-24T15:18:10-07:00[America/Los_Angeles]\r\n    Costa_Rica = 2022-05-24T16:18:10-06:00[America/Costa_Rica]\r\n    US/Central = 2022-05-24T17:18:10-05:00[US/Central]\r\n\r\nThis is probably also a good (and over due) reason to dump the old `java.util.Date` and related classes and update to the `java.time` APIs, see the [date/time trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) for more details\r\n\r\n[Handling Daylight Savings Time in Java](https://www.baeldung.com/java-daylight-savings) might also be worth a read","title":"Java and converting displayed value into local time zone and daylight savings","body":"<p>So, after a bit of hacking and googling, it would appear (at least to me), that &quot;Central Standard Time&quot; isn't what you want to use (nor should you use it generally).</p>\n<p>From <a href=\"https://www.timeanddate.com/time/zones/cst\" rel=\"nofollow noreferrer\">time-and-date/Central Standard Time (CST)</a></p>\n<blockquote>\n<p><b>Caution: This is NOT the current local time in most locations in that time zone</b><br>\n<b>North America</b>: Only some locations are currently on CST because most places in this time zone are currently on summer time / daylight saving time and are observing CDT.</p>\n</blockquote>\n<p>And then add in <a href=\"https://www.timeanddate.com/time/zone/costa-rica\" rel=\"nofollow noreferrer\">time-and-date/Time Zone in Costa Rica</a></p>\n<blockquote>\n<p>Costa Rica observes Central Standard Time all year. There are no Daylight Saving Time clock changes.</p>\n</blockquote>\n<p>That's not confusing at all 🙄.  So, as I &quot;understand&quot; it, CST is normally -6 hours and CDT is -5 hours, but Costa Rica is always -6 hours.</p>\n<p>So, based on the observations of your code, <code>CST</code> seems to be having the day light savings value applied to it, regardless of what you do.</p>\n<p>So, what to do about it?  Well, the simple answer is, don't use it, in fact, stop using the <code>java.util.Date</code> and related APIs altogether and instead, make use of the replacement <code>java.time</code> APIS and the <code>America/Costa_Rica</code> time zone directly, for example...</p>\n<pre><code>final String DATE_TIME_PATTERN = &quot;yyyy/MM/dd HH:mm:ss&quot;;\nfinal String LA_TIMEZONE_ID = &quot;America/Los_Angeles&quot;;\nfinal String dateStringValue = &quot;2022/05/24 15:18:10&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\nLocalDateTime ldt = LocalDateTime.parse(dateStringValue, formatter);\n\nZoneId zoneId = ZoneId.of(LA_TIMEZONE_ID);\nZonedDateTime zdt = ldt.atZone(zoneId);\n\nSystem.out.println(&quot;     Local = &quot; + ldt);\nSystem.out.println(&quot;       zdt = &quot; + zdt);\nSystem.out.println(&quot;Costa_Rica = &quot; + zdt.withZoneSameInstant(ZoneId.of(&quot;America/Costa_Rica&quot;)));\nSystem.out.println(&quot;US/Central = &quot; + zdt.withZoneSameInstant(ZoneId.of(&quot;US/Central&quot;)));\n</code></pre>\n<p>which prints...</p>\n<pre><code>     Local = 2022-05-24T15:18:10\n       zdt = 2022-05-24T15:18:10-07:00[America/Los_Angeles]\nCosta_Rica = 2022-05-24T16:18:10-06:00[America/Costa_Rica]\nUS/Central = 2022-05-24T17:18:10-05:00[US/Central]\n</code></pre>\n<p>This is probably also a good (and over due) reason to dump the old <code>java.util.Date</code> and related classes and update to the <code>java.time</code> APIs, see the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">date/time trail</a> for more details</p>\n<p><a href=\"https://www.baeldung.com/java-daylight-savings\" rel=\"nofollow noreferrer\">Handling Daylight Savings Time in Java</a> might also be worth a read</p>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72385481,"answer_count":1,"score":-1,"last_activity_date":1653557031,"creation_date":1653523060,"question_id":72385284,"body_markdown":"I know this is an oft asked type of question, and I&#39;ve been looking around the web for solutions, but to no avail. The problem is that we&#39;re fetching a date value from the database and want to display it in a PDF in local time. The raw formatted value is &quot;2022/05/24 15:18:10&quot; and using Costa Rica as an example client time zone (we&#39;re in LA), we&#39;d want this &quot;2022/05/24 16:18:10&quot;. However, we&#39;re getting this: &quot;2022/05/24 17:18:10&quot;.\r\n\r\nOne of the odd things I&#39;m seeing when I run the code below is that it seems that our server time zone is PST, according to Java, but is actually PDT.\r\n\r\n        creationDate from db=Tue May 24 15:18:10 PDT 2022\r\n        Desired creationDate output=2022/05/24 16:18:10\r\n        cal.getTimeZone.getDisplayName()=Pacific Standard Time\r\n        formatted creationDate=2022/05/24 17:18:10\r\n\r\nSo one question is: why are we seeing PST instead of PDT and the second question is how do I fix this?\r\n\r\nExample code:\r\n\r\n        public static void main(\r\n          String[] args)\r\n        {\r\n          final String DATE_TIME_PATTERN = &quot;yyyy/MM/dd HH:mm:ss&quot;;\r\n          final String LA_TIMEZONE_ID = &quot;America/Los_Angeles&quot;;\r\n          DateFormat df = new SimpleDateFormat(DATE_TIME_PATTERN);\r\n          TimeZone serverTimeZone = TimeZone.getTimeZone(LA_TIMEZONE_ID);\r\n          Calendar cal = Calendar.getInstance(/* serverTimeZone */); // works same with or without param\r\n          TimeZone clientTimeZone = TimeZone.getTimeZone(&quot;CST&quot;); // Costa Rica = Central Standard Time\r\n          Date creationDate;\r\n          \r\n          df.setTimeZone(clientTimeZone);\r\n      \r\n          // Values as fetched from database.\r\n          cal.set(Calendar.DAY_OF_MONTH, 24);\r\n          cal.set(Calendar.MONTH, Calendar.MAY);\r\n          cal.set(Calendar.YEAR, 2022);\r\n          cal.set(Calendar.HOUR_OF_DAY, 15);\r\n          cal.set(Calendar.MINUTE, 18);\r\n          cal.set(Calendar.SECOND, 10);\r\n          creationDate = cal.getTime();\r\n      \r\n          System.out.println(&quot;creationDate from db=&quot; + creationDate.toString());\r\n          System.out.println(&quot;Desired creationDate output=2022/05/24 16:18:10&quot;);\r\n          System.out.println(&quot;cal.getTimeZone.getDisplayName()=&quot; + cal.getTimeZone().getDisplayName());\r\n          System.out.println(&quot;formatted creationDate=&quot; + df.format(creationDate));\r\n        }","title":"Java and converting displayed value into local time zone and daylight savings","body":"<p>I know this is an oft asked type of question, and I've been looking around the web for solutions, but to no avail. The problem is that we're fetching a date value from the database and want to display it in a PDF in local time. The raw formatted value is &quot;2022/05/24 15:18:10&quot; and using Costa Rica as an example client time zone (we're in LA), we'd want this &quot;2022/05/24 16:18:10&quot;. However, we're getting this: &quot;2022/05/24 17:18:10&quot;.</p>\n<p>One of the odd things I'm seeing when I run the code below is that it seems that our server time zone is PST, according to Java, but is actually PDT.</p>\n<pre><code>    creationDate from db=Tue May 24 15:18:10 PDT 2022\n    Desired creationDate output=2022/05/24 16:18:10\n    cal.getTimeZone.getDisplayName()=Pacific Standard Time\n    formatted creationDate=2022/05/24 17:18:10\n</code></pre>\n<p>So one question is: why are we seeing PST instead of PDT and the second question is how do I fix this?</p>\n<p>Example code:</p>\n<pre><code>    public static void main(\n      String[] args)\n    {\n      final String DATE_TIME_PATTERN = &quot;yyyy/MM/dd HH:mm:ss&quot;;\n      final String LA_TIMEZONE_ID = &quot;America/Los_Angeles&quot;;\n      DateFormat df = new SimpleDateFormat(DATE_TIME_PATTERN);\n      TimeZone serverTimeZone = TimeZone.getTimeZone(LA_TIMEZONE_ID);\n      Calendar cal = Calendar.getInstance(/* serverTimeZone */); // works same with or without param\n      TimeZone clientTimeZone = TimeZone.getTimeZone(&quot;CST&quot;); // Costa Rica = Central Standard Time\n      Date creationDate;\n      \n      df.setTimeZone(clientTimeZone);\n  \n      // Values as fetched from database.\n      cal.set(Calendar.DAY_OF_MONTH, 24);\n      cal.set(Calendar.MONTH, Calendar.MAY);\n      cal.set(Calendar.YEAR, 2022);\n      cal.set(Calendar.HOUR_OF_DAY, 15);\n      cal.set(Calendar.MINUTE, 18);\n      cal.set(Calendar.SECOND, 10);\n      creationDate = cal.getTime();\n  \n      System.out.println(&quot;creationDate from db=&quot; + creationDate.toString());\n      System.out.println(&quot;Desired creationDate output=2022/05/24 16:18:10&quot;);\n      System.out.println(&quot;cal.getTimeZone.getDisplayName()=&quot; + cal.getTimeZone().getDisplayName());\n      System.out.println(&quot;formatted creationDate=&quot; + df.format(creationDate));\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","api"],"owner":{"account_id":13570570,"reputation":11,"user_id":9789424,"display_name":"Yan Hairul Firdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653556907,"creation_date":1653556907,"question_id":72389551,"body_markdown":"excuse me everyone, I&#39;m currently having problems connecting my spring boot application with an open api IoT. to send data to the open api, the request body must be encrypted and sent in json form. I have followed the available documentation, but the response says that the request parameter must be in json format.\r\n\r\nhere is my program code:\r\n\r\n    HttpPost httppost = new HttpPost(url);\r\n    httppost.addHeader(&quot;x-random-key&quot;, randomSecretKey);\r\n    httppost.addHeader(&quot;x-access-key&quot;, xAccessKey);\r\n    httppost.addHeader(&quot;Content-type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n    httppost.addHeader(&quot;sys_code&quot;, &quot;901&quot;);\r\n    httppost.addHeader(&quot;lang&quot;, &quot;_en_US&quot;);\r\n\r\n    String encryptedRequestBody = encrypt(request.toString(), randomMessage);\r\n    StringEntity strEntity = new StringEntity(encryptedRequestBody);\r\n    strEntity.setContentType(&quot;application/json&quot;);\r\n    httppost.setEntity(strEntity);\r\n\r\n    CloseableHttpResponse response = httpclient.execute(httppost);\r\n    HttpEntity entity = response.getEntity();\r\n    InputStream inputStream = entity.getContent();","title":"post encrypted json to external api in java","body":"<p>excuse me everyone, I'm currently having problems connecting my spring boot application with an open api IoT. to send data to the open api, the request body must be encrypted and sent in json form. I have followed the available documentation, but the response says that the request parameter must be in json format.</p>\n<p>here is my program code:</p>\n<pre><code>HttpPost httppost = new HttpPost(url);\nhttppost.addHeader(&quot;x-random-key&quot;, randomSecretKey);\nhttppost.addHeader(&quot;x-access-key&quot;, xAccessKey);\nhttppost.addHeader(&quot;Content-type&quot;, &quot;application/json;charset=UTF-8&quot;);\nhttppost.addHeader(&quot;sys_code&quot;, &quot;901&quot;);\nhttppost.addHeader(&quot;lang&quot;, &quot;_en_US&quot;);\n\nString encryptedRequestBody = encrypt(request.toString(), randomMessage);\nStringEntity strEntity = new StringEntity(encryptedRequestBody);\nstrEntity.setContentType(&quot;application/json&quot;);\nhttppost.setEntity(strEntity);\n\nCloseableHttpResponse response = httpclient.execute(httppost);\nHttpEntity entity = response.getEntity();\nInputStream inputStream = entity.getContent();\n</code></pre>\n"},{"tags":["java","file","class"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1331262752,"post_id":9628413,"comment_id":12220217,"body_markdown":"Why are you insisting on using this design? It seems creative, to be sure, but a little bit odd to me, and perhaps not the best way to solve this issue.","body":"Why are you insisting on using this design? It seems creative, to be sure, but a little bit odd to me, and perhaps not the best way to solve this issue."},{"owner":{"account_id":212122,"reputation":291673,"user_id":464744,"accept_rate":86,"display_name":"Blender"},"score":2,"creation_date":1331262768,"post_id":9628413,"comment_id":12220221,"body_markdown":"Use a settings file for settings, not a `.class` file. The INI format is good, but XML is better for more complex settings.","body":"Use a settings file for settings, not a <code>.class</code> file. The INI format is good, but XML is better for more complex settings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1331262912,"post_id":9628413,"comment_id":12220243,"body_markdown":"I also strongly recommend XML. If you use JAXB, it could create your classes for you right from the stored data and back again!","body":"I also strongly recommend XML. If you use JAXB, it could create your classes for you right from the stored data and back again!"},{"owner":{"account_id":990996,"reputation":399,"user_id":1008331,"accept_rate":75,"display_name":"simaremare"},"score":0,"creation_date":1331263102,"post_id":9628413,"comment_id":12220280,"body_markdown":"agree with XML, make it as a &#39;config&#39;-like,.","body":"agree with XML, make it as a &#39;config&#39;-like,."},{"owner":{"account_id":1127995,"reputation":1173,"user_id":1114786,"accept_rate":88,"display_name":"Val Akkapeddi"},"score":0,"creation_date":1331263247,"post_id":9628413,"comment_id":12220296,"body_markdown":"Can you actually provide some psuedocode on how you expect to be able to use and consume this dynamically generated class?  Like, are these &quot;custom values&quot; property:value pairs that you&#39;re providing, or just values that you wish to assign to properties of Problem already known to your code?  Basically, what is the problem that you&#39;re trying to solve with this?","body":"Can you actually provide some psuedocode on how you expect to be able to use and consume this dynamically generated class?  Like, are these &quot;custom values&quot; property:value pairs that you&#39;re providing, or just values that you wish to assign to properties of Problem already known to your code?  Basically, what is the problem that you&#39;re trying to solve with this?"},{"owner":{"account_id":1294008,"reputation":901,"user_id":1245545,"accept_rate":91,"display_name":"Shawn Shroyer"},"score":0,"creation_date":1331263930,"post_id":9628413,"comment_id":12220385,"body_markdown":"I&#39;ll put some psuedo up in a second. But I want it to be able for the user to use a formula class if they need to and stuff like that. I haven&#39;t really researched much of XML so that may and or may not be my answer.","body":"I&#39;ll put some psuedo up in a second. But I want it to be able for the user to use a formula class if they need to and stuff like that. I haven&#39;t really researched much of XML so that may and or may not be my answer."},{"owner":{"account_id":5436770,"reputation":402,"user_id":4326020,"accept_rate":57,"display_name":"Jax"},"score":0,"creation_date":1445529860,"post_id":9628413,"comment_id":54371280,"body_markdown":"Mozilla RhinoScript writes .class files. View the relevant code in the project (its open source) and modify to your hearts content.","body":"Mozilla RhinoScript writes .class files. View the relevant code in the project (its open source) and modify to your hearts content."}],"answers":[{"tags":[],"owner":{"account_id":306208,"reputation":19010,"user_id":616815,"accept_rate":100,"display_name":"Ken Wayne VanderLinde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1331263142,"creation_date":1331263142,"answer_id":9628468,"question_id":9628413,"body_markdown":"It&#39;s not really what you asked for, but this problem sounds like you want to build an object with a bunch of values, then save the result for later. If this is the case, then you would probably be interested in [object serialization][1], which allows you to basically save an object as a byte stream, and then load the object at a later time.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/serialization/index.html\r\n  [2]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"Writing a .class file?","body":"<p>It's not really what you asked for, but this problem sounds like you want to build an object with a bunch of values, then save the result for later. If this is the case, then you would probably be interested in <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/serialization/index.html\" rel=\"nofollow\">object serialization</a>, which allows you to basically save an object as a byte stream, and then load the object at a later time.</p>\n"},{"tags":[],"owner":{"account_id":269102,"reputation":8444,"user_id":558243,"accept_rate":84,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331263433,"creation_date":1331263433,"answer_id":9628508,"question_id":9628413,"body_markdown":"As Ken Wayne suggested, you need object serialization.\r\n\r\nA few good libraries for object serialization are \r\n\r\nJAXB (XML Serialization) : http://jaxb.java.net/\r\n\r\nJava normal serialization : http://java.sun.com/developer/technicalArticles/Programming/serialization/\r\n\r\nAnd as suggested by everyone else, .class file is probably not the best way to go through this.\r\n","title":"Writing a .class file?","body":"<p>As Ken Wayne suggested, you need object serialization.</p>\n\n<p>A few good libraries for object serialization are </p>\n\n<p>JAXB (XML Serialization) : <a href=\"http://jaxb.java.net/\" rel=\"nofollow\">http://jaxb.java.net/</a></p>\n\n<p>Java normal serialization : <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow\">http://java.sun.com/developer/technicalArticles/Programming/serialization/</a></p>\n\n<p>And as suggested by everyone else, .class file is probably not the best way to go through this.</p>\n"}],"owner":{"account_id":1294008,"reputation":901,"user_id":1245545,"accept_rate":91,"display_name":"Shawn Shroyer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":9628468,"answer_count":2,"score":0,"last_activity_date":1653556839,"creation_date":1331262584,"question_id":9628413,"body_markdown":"Currently, I&#39;m working on a project where a user can enter in custom values in a GUI then those values will be translated into a .class file for the runtime to read when the program starts up. I realize that writing a .txt file would be much easier, but that is not what I want to do. The new .class file I will be making will extend from an abstract class called &quot;Problem&quot; also. Can someone point me in the right direction for writing the aforementioned file? Thanks in advance for helpers!\r\nBy the way, even if I have to construct a .java file then compile that somehow, that could be a solution also. But still, I don&#39;t know how to do that :/\r\n\r\nMore code:\r\n\r\n    package resources;\r\n    \r\n    import java.awt.Image;\r\n    import java.io.File;\r\n    import java.io.Serializable;\r\n    \r\n    public abstract class Problem implements Comparable&lt;Problem&gt;, Serializable{\r\n        \r\n        private static final long serialVersionUID = 42L;\r\n        private File locatedAt;\r\n        public static final int EASY = 0;\r\n        public static final int MEDIUM = 1;\r\n        public static final int HARD = 2;\r\n        \r\n        public abstract String getTitle();\r\n        public abstract String getQuestion();\r\n        public abstract Image getQuestionImage();\r\n        public abstract int getDifficulty();\r\n        public abstract Topic getTopic();\r\n        public abstract String getAuthor();\r\n        public abstract boolean isCorrect(String answer);\r\n        \r\n        public final int compareTo(Problem p){\r\n            return this.getTitle().compareTo(p.getTitle());\r\n        }\r\n        \r\n        public final String toString(){\r\n            return getTitle();\r\n        }\r\n        \r\n        public final void setLocatedAt(File file){\r\n            locatedAt = file;\r\n        }\r\n    }\r\n\r\n\r\n    package resources;\r\n    \r\n    import java.util.StringTokenizer;\r\n    \r\n    public abstract class NumericProblem extends Problem{\r\n    \r\n        /**\r\n         * You must specify the number of significant digits the answer should contain.\r\n         * If you don&#39;t want to check for significant digits, simply return 0\r\n         * \r\n         * @return the number of significant digits the answer should have\r\n         * \r\n         * @since V 1.0\r\n         */\r\n        public abstract boolean checkSigfigs();\r\n        \r\n        /**\r\n         * You must specify the amount of error from the answer the user can be within \r\n         * to remain correct. Your number should be represented as X% and not the decimal \r\n         * format.\r\n         * \r\n         * @return the amount of error the submitted answer can deviate from the specified answer\r\n         * \r\n         * @since V 1.0\r\n         */\r\n        public abstract double getErrorPercentage();\r\n        \r\n        /**\r\n         * You must specify the type of units the problem should contain.\r\n         * If the answer doesn&#39;t have any units return &quot;&quot;. Also if the units shouldn&#39;t\r\n         * be checked, return null.\r\n         * \r\n         * @return the unit type the answer should contain\r\n         * \r\n         * @since V 1.0\r\n         */\r\n        public abstract String getUnits();\r\n        \r\n        /**\r\n         * You must specify the answer for the problem being asked. The number is\r\n         * represented as a String because of significant digits. \r\n         * \r\n         * @return the answer for the given problem\r\n         * \r\n         * @since V 1.0\r\n         */\r\n        public abstract String getAnswer();\r\n        \r\n        \r\n        public final boolean isCorrect(String userAnswer){\r\n            \r\n            String answer = getAnswer().trim();\r\n            \r\n            userAnswer = userAnswer.trim();\r\n            \r\n            StringTokenizer tokener = new StringTokenizer(userAnswer, &quot; &quot;);\r\n            if(tokener.countTokens() != 2){\r\n                System.err.println(&quot;Failed at formatting&quot;);\r\n                return false;\r\n            }\r\n            \r\n            userAnswer = tokener.nextToken();\r\n            String userUnits = tokener.nextToken();\r\n            \r\n            System.out.println(sigfigsIn(answer));\r\n            System.out.println(sigfigsIn(userAnswer));\r\n            \r\n            // Checks sigificant digits\r\n            if(checkSigfigs()){\r\n                if(!(sigfigsIn(userAnswer) == sigfigsIn(answer))){\r\n                    System.err.println(&quot;Failed at sig figs&quot;);\r\n                    return false;\r\n                }\r\n            }\r\n            \r\n            // Checks numeric\r\n            if(!checkNumeric(userAnswer, answer)){\r\n                System.err.println(&quot;Failed at numeric&quot;);\r\n                return false;\r\n            }\r\n    \r\n            //Checks units\r\n            if(getUnits() != null){\r\n                if(!userUnits.equals(getUnits())){\r\n                    System.err.println(&quot;Failed at units&quot;);\r\n                    return false;\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;Passed!&quot;);\r\n            return true;\r\n        }\r\n        \r\n        private int sigfigsIn(String aNumber){\r\n            \r\n            // Removes all unnecessary zeroes before answer\r\n            boolean done = false;\r\n            boolean periodHappened = false;\r\n            \r\n            while(!done)\r\n            {\r\n                if(aNumber.charAt(0) == &#39;0&#39;){\r\n                    aNumber = aNumber.replaceFirst(&quot;0&quot;, &quot;&quot;);\r\n                }else if (aNumber.charAt(0) == &#39;.&#39;){\r\n                    aNumber = aNumber.replaceFirst(&quot;.&quot;, &quot;&quot;);\r\n                    periodHappened = true;\r\n                }else{\r\n                    done = true;\r\n                }\r\n            }\r\n            \r\n            // If it&#39;s a number like 300 with only one sig fig, do dis\r\n            if(!periodHappened){\r\n                if(!aNumber.contains(&quot;.&quot;)){\r\n                    done = false;\r\n                    while(!done){\r\n                        if(aNumber.charAt(aNumber.length() - 1) == &#39;0&#39;){\r\n                            aNumber = aNumber.substring(0, aNumber.length() - 1);\r\n                        }else{\r\n                            done = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n           \r\n            return aNumber.replaceAll(&quot;\\\\.&quot;, &quot;&quot;).length();\r\n            \r\n        }\r\n        \r\n        private boolean checkNumeric(String Answer, String UserAnswer){\r\n            \r\n            double answer = Double.parseDouble(Answer);\r\n            double userAnswer = Double.parseDouble(UserAnswer);\r\n            double ep = getErrorPercentage() / 100;\r\n            \r\n            if((answer * (1+ep) &gt;= userAnswer) &amp;&amp; (userAnswer &gt;= answer * (1-ep)))\r\n                return true;\r\n            \r\n            return false;\r\n         \r\n        }\r\n    \r\n\r\n        \r\n    package problems;\r\n    \r\n    import java.awt.Image;\r\n    import resources.NumericProblem;\r\n    import resources.Problem;\r\n    import resources.Topic;\r\n    import resources.Formula;\r\n    \r\n    public class ANumericProblem extends NumericProblem{\r\n    \r\n        private final Formula formula;\r\n        \r\n        public ANumericProblem(){\r\n            formula = Formula.createRandomFormula();\r\n        }\r\n        \r\n        @Override\r\n        public boolean checkSigfigs() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public double getErrorPercentage() {\r\n            return 200;\r\n        }\r\n    \r\n        @Override\r\n        public String getUnits() {\r\n            return &quot;mols&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getAnswer() {\r\n            return Formula.getMols();\r\n        }\r\n    \r\n        @Override\r\n        public String getTitle() {\r\n            return &quot;Formula&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getQuestion() {\r\n            return &quot;How many moles are in 4.9g of &quot; + formula.getFormula();\r\n        }\r\n    \r\n        @Override\r\n        public Image getQuestionImage() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int getDifficulty() {\r\n            return Problem.EASY;\r\n        }\r\n    \r\n        @Override\r\n        public Topic getTopic() {\r\n            return new Topic(&quot;Grams to Moles&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public String getAuthor() {\r\n            return &quot;Shawn&quot;;\r\n        }\r\n    \r\n    }\r\n    \r\n           \r\n        }\r\n\r\n","title":"Writing a .class file?","body":"<p>Currently, I'm working on a project where a user can enter in custom values in a GUI then those values will be translated into a .class file for the runtime to read when the program starts up. I realize that writing a .txt file would be much easier, but that is not what I want to do. The new .class file I will be making will extend from an abstract class called \"Problem\" also. Can someone point me in the right direction for writing the aforementioned file? Thanks in advance for helpers!\nBy the way, even if I have to construct a .java file then compile that somehow, that could be a solution also. But still, I don't know how to do that :/</p>\n\n<p>More code:</p>\n\n<pre><code>package resources;\n\nimport java.awt.Image;\nimport java.io.File;\nimport java.io.Serializable;\n\npublic abstract class Problem implements Comparable&lt;Problem&gt;, Serializable{\n\n    private static final long serialVersionUID = 42L;\n    private File locatedAt;\n    public static final int EASY = 0;\n    public static final int MEDIUM = 1;\n    public static final int HARD = 2;\n\n    public abstract String getTitle();\n    public abstract String getQuestion();\n    public abstract Image getQuestionImage();\n    public abstract int getDifficulty();\n    public abstract Topic getTopic();\n    public abstract String getAuthor();\n    public abstract boolean isCorrect(String answer);\n\n    public final int compareTo(Problem p){\n        return this.getTitle().compareTo(p.getTitle());\n    }\n\n    public final String toString(){\n        return getTitle();\n    }\n\n    public final void setLocatedAt(File file){\n        locatedAt = file;\n    }\n}\n\n\npackage resources;\n\nimport java.util.StringTokenizer;\n\npublic abstract class NumericProblem extends Problem{\n\n    /**\n     * You must specify the number of significant digits the answer should contain.\n     * If you don't want to check for significant digits, simply return 0\n     * \n     * @return the number of significant digits the answer should have\n     * \n     * @since V 1.0\n     */\n    public abstract boolean checkSigfigs();\n\n    /**\n     * You must specify the amount of error from the answer the user can be within \n     * to remain correct. Your number should be represented as X% and not the decimal \n     * format.\n     * \n     * @return the amount of error the submitted answer can deviate from the specified answer\n     * \n     * @since V 1.0\n     */\n    public abstract double getErrorPercentage();\n\n    /**\n     * You must specify the type of units the problem should contain.\n     * If the answer doesn't have any units return \"\". Also if the units shouldn't\n     * be checked, return null.\n     * \n     * @return the unit type the answer should contain\n     * \n     * @since V 1.0\n     */\n    public abstract String getUnits();\n\n    /**\n     * You must specify the answer for the problem being asked. The number is\n     * represented as a String because of significant digits. \n     * \n     * @return the answer for the given problem\n     * \n     * @since V 1.0\n     */\n    public abstract String getAnswer();\n\n\n    public final boolean isCorrect(String userAnswer){\n\n        String answer = getAnswer().trim();\n\n        userAnswer = userAnswer.trim();\n\n        StringTokenizer tokener = new StringTokenizer(userAnswer, \" \");\n        if(tokener.countTokens() != 2){\n            System.err.println(\"Failed at formatting\");\n            return false;\n        }\n\n        userAnswer = tokener.nextToken();\n        String userUnits = tokener.nextToken();\n\n        System.out.println(sigfigsIn(answer));\n        System.out.println(sigfigsIn(userAnswer));\n\n        // Checks sigificant digits\n        if(checkSigfigs()){\n            if(!(sigfigsIn(userAnswer) == sigfigsIn(answer))){\n                System.err.println(\"Failed at sig figs\");\n                return false;\n            }\n        }\n\n        // Checks numeric\n        if(!checkNumeric(userAnswer, answer)){\n            System.err.println(\"Failed at numeric\");\n            return false;\n        }\n\n        //Checks units\n        if(getUnits() != null){\n            if(!userUnits.equals(getUnits())){\n                System.err.println(\"Failed at units\");\n                return false;\n            }\n        }\n\n        System.out.println(\"Passed!\");\n        return true;\n    }\n\n    private int sigfigsIn(String aNumber){\n\n        // Removes all unnecessary zeroes before answer\n        boolean done = false;\n        boolean periodHappened = false;\n\n        while(!done)\n        {\n            if(aNumber.charAt(0) == '0'){\n                aNumber = aNumber.replaceFirst(\"0\", \"\");\n            }else if (aNumber.charAt(0) == '.'){\n                aNumber = aNumber.replaceFirst(\".\", \"\");\n                periodHappened = true;\n            }else{\n                done = true;\n            }\n        }\n\n        // If it's a number like 300 with only one sig fig, do dis\n        if(!periodHappened){\n            if(!aNumber.contains(\".\")){\n                done = false;\n                while(!done){\n                    if(aNumber.charAt(aNumber.length() - 1) == '0'){\n                        aNumber = aNumber.substring(0, aNumber.length() - 1);\n                    }else{\n                        done = true;\n                    }\n                }\n            }\n        }\n\n        return aNumber.replaceAll(\"\\\\.\", \"\").length();\n\n    }\n\n    private boolean checkNumeric(String Answer, String UserAnswer){\n\n        double answer = Double.parseDouble(Answer);\n        double userAnswer = Double.parseDouble(UserAnswer);\n        double ep = getErrorPercentage() / 100;\n\n        if((answer * (1+ep) &gt;= userAnswer) &amp;&amp; (userAnswer &gt;= answer * (1-ep)))\n            return true;\n\n        return false;\n\n    }\n\n\n\npackage problems;\n\nimport java.awt.Image;\nimport resources.NumericProblem;\nimport resources.Problem;\nimport resources.Topic;\nimport resources.Formula;\n\npublic class ANumericProblem extends NumericProblem{\n\n    private final Formula formula;\n\n    public ANumericProblem(){\n        formula = Formula.createRandomFormula();\n    }\n\n    @Override\n    public boolean checkSigfigs() {\n        return true;\n    }\n\n    @Override\n    public double getErrorPercentage() {\n        return 200;\n    }\n\n    @Override\n    public String getUnits() {\n        return \"mols\";\n    }\n\n    @Override\n    public String getAnswer() {\n        return Formula.getMols();\n    }\n\n    @Override\n    public String getTitle() {\n        return \"Formula\";\n    }\n\n    @Override\n    public String getQuestion() {\n        return \"How many moles are in 4.9g of \" + formula.getFormula();\n    }\n\n    @Override\n    public Image getQuestionImage() {\n        return null;\n    }\n\n    @Override\n    public int getDifficulty() {\n        return Problem.EASY;\n    }\n\n    @Override\n    public Topic getTopic() {\n        return new Topic(\"Grams to Moles\");\n    }\n\n    @Override\n    public String getAuthor() {\n        return \"Shawn\";\n    }\n\n}\n\n\n    }\n</code></pre>\n"},{"tags":["java","linux","text-files","readonly"],"comments":[{"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"score":0,"creation_date":1420246673,"post_id":27750633,"comment_id":43912386,"body_markdown":"How are your currently running your program?","body":"How are your currently running your program?"},{"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"score":0,"creation_date":1420246943,"post_id":27750633,"comment_id":43912433,"body_markdown":"@Malt What do you mean by this? I am unsure of how knowing that is useful to my question.","body":"@Malt What do you mean by this? I am unsure of how knowing that is useful to my question."},{"owner":{"account_id":3305367,"reputation":414,"user_id":2780354,"accept_rate":80,"display_name":"CyanogenCX"},"score":0,"creation_date":1420247113,"post_id":27750633,"comment_id":43912460,"body_markdown":"@DanielH maybe he can help you if he knows whether you are running the program through an ide or console","body":"@DanielH maybe he can help you if he knows whether you are running the program through an ide or console"},{"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"score":0,"creation_date":1420247424,"post_id":27750633,"comment_id":43912514,"body_markdown":"@CyanogenCX Alright, my apologizes.","body":"@CyanogenCX Alright, my apologizes."},{"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"score":0,"creation_date":1420247471,"post_id":27750633,"comment_id":43912527,"body_markdown":"@Malt I have a GUI (swing) that allows a user choose from a list of IP Addresses (they are used for connection purposes later on). When the user chooses one I need to edit the text file I mentioned above by placing this address into it. I figured I would use a BufferedWriter or a PrintWriter to make changes accordingly after the program has been given &quot;sudo&quot; access.","body":"@Malt I have a GUI (swing) that allows a user choose from a list of IP Addresses (they are used for connection purposes later on). When the user chooses one I need to edit the text file I mentioned above by placing this address into it. I figured I would use a BufferedWriter or a PrintWriter to make changes accordingly after the program has been given &quot;sudo&quot; access."},{"owner":{"account_id":3305367,"reputation":414,"user_id":2780354,"accept_rate":80,"display_name":"CyanogenCX"},"score":0,"creation_date":1420247510,"post_id":27750633,"comment_id":43912533,"body_markdown":"@DanielH It&#39;s all good, however I have no idea of how to answer your question.","body":"@DanielH It&#39;s all good, however I have no idea of how to answer your question."},{"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"score":0,"creation_date":1420247615,"post_id":27750633,"comment_id":43912556,"body_markdown":"@CyanogenCX no worries, maybe someone else will be able too.","body":"@CyanogenCX no worries, maybe someone else will be able too."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420251387,"creation_date":1420249902,"answer_id":27750957,"question_id":27750633,"body_markdown":"&gt; My question is how do I give my java program &quot;sudo&quot; privileges to be able to write to this file and save those edits.\r\n\r\nI think that the simple answer is that you can&#39;t.\r\n\r\nSudo works by checking a file to see if the user allowed to run a command, and optionally confirming his / her identity by asking for his / her password.  If both of these check out, then the `sudo` command executes the requested command as a different user; typically `root`.\r\n\r\nHowever, in order to do this, the &quot;sudo&quot; program itself is implemented as a &quot;setuid&quot; program; i.e. a program that *itself* that runs with elevated privileges.  Without this, it cannot run the requested program &quot;as root&quot;, and it can&#39;t even read the &quot;/etc/sudoers&quot; file.\r\n\r\nSo can we emulate &quot;sudo&quot; in Java?\r\n\r\nBasically, no.  To do this, you would need to make the `java` command a &quot;setuid&quot; program.  But the `java` command can execute ANY java program written by anyone.  So a &quot;setuid&quot; `java` would allow anyone to run any java program with administrator privileges.  That would be **insanely** insecure.\r\n\r\n---------------\r\n\r\nSo what are the alternatives?\r\n\r\n1. You could use `ProcessBuilder` to &quot;exec&quot; the `sudo` command as an external command.  However, passing a password to `sudo` via its command line is not possible.  So you would need to either:\r\n\r\n   - configure the `sudoers` file to allow the (specific) command to be executed without a password (potentially dangerous), or \r\n\r\n   - figure out a way to use the `--askPass` hook to request the user&#39;s password securely from Java, or\r\n\r\n   - use the `--stdin` option to read the user&#39;s password from standard input instead of the user&#39;s terminal.\r\n\r\n2. Write a custom &quot;setuid&quot; (or &quot;setgid&quot;) wrapper to execute the admin command.  Note: &quot;setuid&quot; shell scripts are fundamentally insecure.  A C / C++ wrapper is potentially the safest approach ... but you need to be sure that the wrapper can&#39;t be tricked into doing something dangerous / nasty by supplying clever arguments or environment variables.\r\n\r\n3. Don&#39;t do it in Java.  Get the user to run the privileged command from the command line; e.g. using `sudo`.  You could potentially make it easier for the user by providing a script (shell, perl, whatever) to handle anything complicated, do sanity checking, etcetera.\r\n\r\nMy recommendation is approach #3 (in general).  It is the most secure and transparent approach.  (As an administrator / power-user, I would be *very uncomfortable* with some complicated / opaque Java application asking for my password to run `sudo` commands on my system.)\r\n\r\nWARNING\r\n-------\r\n\r\nDoing this kind of thing safely and securely requires a good understanding of how UNIx / Linux security works.  There are numerous mistakes you could make (too many to list) that could compromise security, and allow users to run arbitrary programs as root, or other dangerous / destructive things.  Be careful, and get an real UNIX / Linux expert to review your implemented mechanism.\r\n","title":"Edit read-only file in java","body":"<blockquote>\n  <p>My question is how do I give my java program \"sudo\" privileges to be able to write to this file and save those edits.</p>\n</blockquote>\n\n<p>I think that the simple answer is that you can't.</p>\n\n<p>Sudo works by checking a file to see if the user allowed to run a command, and optionally confirming his / her identity by asking for his / her password.  If both of these check out, then the <code>sudo</code> command executes the requested command as a different user; typically <code>root</code>.</p>\n\n<p>However, in order to do this, the \"sudo\" program itself is implemented as a \"setuid\" program; i.e. a program that <em>itself</em> that runs with elevated privileges.  Without this, it cannot run the requested program \"as root\", and it can't even read the \"/etc/sudoers\" file.</p>\n\n<p>So can we emulate \"sudo\" in Java?</p>\n\n<p>Basically, no.  To do this, you would need to make the <code>java</code> command a \"setuid\" program.  But the <code>java</code> command can execute ANY java program written by anyone.  So a \"setuid\" <code>java</code> would allow anyone to run any java program with administrator privileges.  That would be <strong>insanely</strong> insecure.</p>\n\n<hr>\n\n<p>So what are the alternatives?</p>\n\n<ol>\n<li><p>You could use <code>ProcessBuilder</code> to \"exec\" the <code>sudo</code> command as an external command.  However, passing a password to <code>sudo</code> via its command line is not possible.  So you would need to either:</p>\n\n<ul>\n<li><p>configure the <code>sudoers</code> file to allow the (specific) command to be executed without a password (potentially dangerous), or </p></li>\n<li><p>figure out a way to use the <code>--askPass</code> hook to request the user's password securely from Java, or</p></li>\n<li><p>use the <code>--stdin</code> option to read the user's password from standard input instead of the user's terminal.</p></li>\n</ul></li>\n<li><p>Write a custom \"setuid\" (or \"setgid\") wrapper to execute the admin command.  Note: \"setuid\" shell scripts are fundamentally insecure.  A C / C++ wrapper is potentially the safest approach ... but you need to be sure that the wrapper can't be tricked into doing something dangerous / nasty by supplying clever arguments or environment variables.</p></li>\n<li><p>Don't do it in Java.  Get the user to run the privileged command from the command line; e.g. using <code>sudo</code>.  You could potentially make it easier for the user by providing a script (shell, perl, whatever) to handle anything complicated, do sanity checking, etcetera.</p></li>\n</ol>\n\n<p>My recommendation is approach #3 (in general).  It is the most secure and transparent approach.  (As an administrator / power-user, I would be <em>very uncomfortable</em> with some complicated / opaque Java application asking for my password to run <code>sudo</code> commands on my system.)</p>\n\n<h2>WARNING</h2>\n\n<p>Doing this kind of thing safely and securely requires a good understanding of how UNIx / Linux security works.  There are numerous mistakes you could make (too many to list) that could compromise security, and allow users to run arbitrary programs as root, or other dangerous / destructive things.  Be careful, and get an real UNIX / Linux expert to review your implemented mechanism.</p>\n"}],"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27750957,"answer_count":1,"score":0,"last_activity_date":1653556810,"creation_date":1420246435,"question_id":27750633,"body_markdown":"I have a protect, read-only, text file on my Linux operating system that I have to make edits to. Of course I can goto the terminal and type:\r\n\r\n    sudo gedit /etc/ppp/options\r\n\r\nI would then have to type my sudo password. My question is how do I give my java program &quot;sudo&quot; privileges to be able to write to this file and save those edits? I figured once I have given the program these privileges I could then use a BufferedWriter or PrintWriter to make edits.\r\n\r\nTo clarify, my program prompts the user for their administrative (sudo) password. How could I use this to grant access to this file for writing purposes?","title":"Edit read-only file in java","body":"<p>I have a protect, read-only, text file on my Linux operating system that I have to make edits to. Of course I can goto the terminal and type:</p>\n\n<pre><code>sudo gedit /etc/ppp/options\n</code></pre>\n\n<p>I would then have to type my sudo password. My question is how do I give my java program \"sudo\" privileges to be able to write to this file and save those edits? I figured once I have given the program these privileges I could then use a BufferedWriter or PrintWriter to make edits.</p>\n\n<p>To clarify, my program prompts the user for their administrative (sudo) password. How could I use this to grant access to this file for writing purposes?</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"score":0,"creation_date":1435664811,"post_id":31137303,"comment_id":50285205,"body_markdown":"log4j is just for write the logs and not for read and modify the log file. Instead for log4j better if you can use simple file read/write operation as per your need.","body":"log4j is just for write the logs and not for read and modify the log file. Instead for log4j better if you can use simple file read/write operation as per your need."},{"owner":{"account_id":6385261,"reputation":173,"user_id":4953388,"accept_rate":0,"display_name":"Rajyalakshmi S"},"score":0,"creation_date":1435665929,"post_id":31137303,"comment_id":50286003,"body_markdown":"Thank you Naveen. I will try using File operations.","body":"Thank you Naveen. I will try using File operations."}],"answers":[{"tags":[],"owner":{"account_id":1804754,"reputation":1284,"user_id":1642136,"display_name":"iullianr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435664857,"creation_date":1435664857,"answer_id":31137429,"question_id":31137303,"body_markdown":"You should not use Log4J for this, it is not its purpose. You should use a different storage (a separate file or a DB) to save this information in order to re-process it.\r\nLog4J and logging in general is used to track down application execution to spot potential issues, etc. It has itw own mechanisms or writing, it rotates the log files, it adds a lot of other information, is proper for a completely different stuff.","title":"Log4j With Java Application Reading And writing","body":"<p>You should not use Log4J for this, it is not its purpose. You should use a different storage (a separate file or a DB) to save this information in order to re-process it.\nLog4J and logging in general is used to track down application execution to spot potential issues, etc. It has itw own mechanisms or writing, it rotates the log files, it adds a lot of other information, is proper for a completely different stuff.</p>\n"}],"owner":{"account_id":6385261,"reputation":173,"user_id":4953388,"accept_rate":0,"display_name":"Rajyalakshmi S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653556800,"creation_date":1435664515,"question_id":31137303,"body_markdown":"I have a scenario like this: This is with Java and Log4J\r\n\r\nI have a list of id&#39;s and by passing this id&#39;s I will fetch the id&#39;s metadata. After getting the information I need to push this to other application.\r\n\r\nMy requirement is like this:\r\n\r\n1. When a ID cannot be pushed, because of any problem occurs like network failures or some problem with that other application, then I need to write all these id&#39;s which are not pushed to a log file.\r\n\r\n2. From the next run I must read this log file and push all the id&#39;s which are failed to be pushed in the previous run. If it is successful, then need to delete the log, if not then keep it and/or more id&#39;s not pushed. \r\n\r\nNow, I have implemented a Log4j system which simply logs our application messages to a log file:\r\n\r\nCode is below:\r\n\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=C:\\\\logs\\\\logging.log\r\n    log4j.appender.file.MaxFileSize=10MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nPlease give me a suggestion How I can achieve this using Java code.\r\n    ","title":"Log4j With Java Application Reading And writing","body":"<p>I have a scenario like this: This is with Java and Log4J</p>\n\n<p>I have a list of id's and by passing this id's I will fetch the id's metadata. After getting the information I need to push this to other application.</p>\n\n<p>My requirement is like this:</p>\n\n<ol>\n<li><p>When a ID cannot be pushed, because of any problem occurs like network failures or some problem with that other application, then I need to write all these id's which are not pushed to a log file.</p></li>\n<li><p>From the next run I must read this log file and push all the id's which are failed to be pushed in the previous run. If it is successful, then need to delete the log, if not then keep it and/or more id's not pushed. </p></li>\n</ol>\n\n<p>Now, I have implemented a Log4j system which simply logs our application messages to a log file:</p>\n\n<p>Code is below:</p>\n\n<pre><code>log4j.rootLogger=DEBUG, stdout, file\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=C:\\\\logs\\\\logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n\n<p>Please give me a suggestion How I can achieve this using Java code.</p>\n"},{"tags":["java","http","proxy","windows-subsystem-for-linux","quarkus"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1653492883,"post_id":72380179,"comment_id":127867320,"body_markdown":"Are you using the old REST client https://quarkus.io/guides/rest-client or the new reactive one https://quarkus.io/guides/rest-client-reactive (which mentions proxy support)?","body":"Are you using the old REST client <a href=\"https://quarkus.io/guides/rest-client\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client</a> or the new reactive one <a href=\"https://quarkus.io/guides/rest-client-reactive\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client-reactive</a> (which mentions proxy support)?"},{"owner":{"account_id":16188512,"reputation":1553,"user_id":13091658,"display_name":"Naphat Amundsen"},"score":0,"creation_date":1653507635,"post_id":72380179,"comment_id":127872482,"body_markdown":"@ewramner Great point, I am infact using the old rest client in the one that doesn&#39;t work, and the new rest client in the other. I will attempt to change the old one to use the reactive extensions instead.","body":"@ewramner Great point, I am infact using the old rest client in the one that doesn&#39;t work, and the new rest client in the other. I will attempt to change the old one to use the reactive extensions instead."},{"owner":{"account_id":16188512,"reputation":1553,"user_id":13091658,"display_name":"Naphat Amundsen"},"score":1,"creation_date":1653509039,"post_id":72380179,"comment_id":127872923,"body_markdown":"@ewramner Thank you so much! I simply changed `quarkus-rest-client` to `quarkus-rest-client-reactive-jackson` in pom.xml and now the requests go through the proxy! If you rewrite your comment as an answer I can mark it as as correct :)","body":"@ewramner Thank you so much! I simply changed <code>quarkus-rest-client</code> to <code>quarkus-rest-client-reactive-jackson</code> in pom.xml and now the requests go through the proxy! If you rewrite your comment as an answer I can mark it as as correct :)"}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653556773,"creation_date":1653556773,"answer_id":72389525,"question_id":72380179,"body_markdown":"Quarkus comes with two REST clients, the old [classic version][1] and the newer [reactive one][2]. The reactive client has proxy support; the classic does not advertise it. Try to switch to the reactive client.\r\n\r\n(copied from comment)\r\n\r\n\r\n  [1]: https://quarkus.io/guides/rest-client\r\n  [2]: https://quarkus.io/guides/rest-client-reactive","title":"Quarkus rest client not respecting -Dhttp.proxyHost -Dhttp.proxyPort proxy options","body":"<p>Quarkus comes with two REST clients, the old <a href=\"https://quarkus.io/guides/rest-client\" rel=\"nofollow noreferrer\">classic version</a> and the newer <a href=\"https://quarkus.io/guides/rest-client-reactive\" rel=\"nofollow noreferrer\">reactive one</a>. The reactive client has proxy support; the classic does not advertise it. Try to switch to the reactive client.</p>\n<p>(copied from comment)</p>\n"}],"owner":{"account_id":16188512,"reputation":1553,"user_id":13091658,"display_name":"Naphat Amundsen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72389525,"answer_count":1,"score":1,"last_activity_date":1653556773,"creation_date":1653491511,"question_id":72380179,"body_markdown":"I want to specify my Quarkus application (v2.8.3.Final) to use an HTTP proxy *without changing any code*\r\n\r\nTo attempt this I pass the `-Dhttp.proxyHost` and `-Dhttp.proxyPort` options to the terminal, like this:\r\n```\r\n./mvnw quarkus:dev -Dquarkus.http.host=0.0.0.0 -Dquarkus.http.port=9000 -Ddebug=9001 -Dhttp.proxyHost=localhost -Dhttp.proxyPort=6969\r\n```\r\n\r\n- This *works* for other Java applications that are based on Jersey and Tomcat\r\n- This *works* on another Quarkus application as well, (created at another point, but I have ensured that the Quarkus versions are the same, v2.8.3.Final in `pom.xml`)\r\n\r\n#### Comparing the working quarkus app and the problematic one\r\nTo compare the working quarkus application (*A*), and the other (*B*) I have implemented a resource that sends a request to `http://google.com`\r\n\r\n```\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\n   .\r\n   .\r\n   .\r\n\r\n    @GET\r\n    @Path(&quot;/google&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String google() {\r\n        Client client = ClientBuilder.newClient();\r\n        return client.target(&quot;http://www.google.com&quot;)\r\n                     .request(MediaType.TEXT_PLAIN)\r\n                     .get()\r\n                     .readEntity(String.class);\r\n    }\r\n```\r\nand I have ensured that the Quarkus versions are the same. Here is a *minimal* snippet from `pom.xml`\r\n```\r\n  &lt;properties&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.8.3.Final&lt;/quarkus.platform.version&gt;\r\n  &lt;/properties&gt;\r\n```\r\nApplication *A* successfully passes its requests to the proxy server, while *B* wont. Both applications are very similiar when comparing their `pom.xml` files and `application.properties` files. I am struggling to point out relevant differences. I would like to at least get some pointers on where I could look to fix this problem.\r\n\r\n#### Other things I have attempted in addition to passing `-Dhttp.proxyHost` and `-Dhttp.proxyPort`:\r\n- In application properties, specify \r\n  - `org.jboss.resteasy.jaxrs.client.proxy.host=http://localhost`, \r\n  - `org.jboss.resteasy.jaxrs.client.proxy.port=6969`\r\n  - result: requests not going through proxy\r\n  - source: https://stackoverflow.com/questions/65686908/quarkus-restclient-with-proxy-configuration\r\n\r\n- In application properties, specify \r\n  - `quarkus.rest-client.proxy-address=http://localhost:6969`, \r\n  - result: requests not going through proxy\r\n  - source: https://quarkus.io/guides/all-config\r\n\r\n- In application properties specify `client/mp-rest/proxyAddress=http://localhost:6969`\r\n  - result: request not going through proxy\r\n\r\n- Other ways to pass the system properties `-Dhttp.proxyHost` and `-Dhttp.proxyPort`\r\n  - E.g. by setting the environment variable `JAVA_TOOL_OPTIONS=&quot;-Dhttp.proxyHost -Dhttp.proxyPort&quot;`\r\n  - result: requests not going through proxy\r\n\r\n- Built and started a docker container with Dockerfile.jvm generated from quarkus (which is included when create a new quarkus project), then setting the env variable `HTTP_PROXY=localhost:6969`.\r\n  - It simply prints that it passes the `-Dhttp.proxyHost` and `-Dhttp.proxyPort` options to the application (what I have done from the beginning)\r\n  - result: requests not going through proxy\r\n\r\n**System info**\r\n- OS: Windows 11, but I do everything within WSL2 (Ubuntu 20.04.3 LTS).\r\n- CPU: Intel Core i7-10850H","title":"Quarkus rest client not respecting -Dhttp.proxyHost -Dhttp.proxyPort proxy options","body":"<p>I want to specify my Quarkus application (v2.8.3.Final) to use an HTTP proxy <em>without changing any code</em></p>\n<p>To attempt this I pass the <code>-Dhttp.proxyHost</code> and <code>-Dhttp.proxyPort</code> options to the terminal, like this:</p>\n<pre><code>./mvnw quarkus:dev -Dquarkus.http.host=0.0.0.0 -Dquarkus.http.port=9000 -Ddebug=9001 -Dhttp.proxyHost=localhost -Dhttp.proxyPort=6969\n</code></pre>\n<ul>\n<li>This <em>works</em> for other Java applications that are based on Jersey and Tomcat</li>\n<li>This <em>works</em> on another Quarkus application as well, (created at another point, but I have ensured that the Quarkus versions are the same, v2.8.3.Final in <code>pom.xml</code>)</li>\n</ul>\n<h4>Comparing the working quarkus app and the problematic one</h4>\n<p>To compare the working quarkus application (<em>A</em>), and the other (<em>B</em>) I have implemented a resource that sends a request to <code>http://google.com</code></p>\n<pre><code>import javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.core.MediaType;\n\n   .\n   .\n   .\n\n    @GET\n    @Path(&quot;/google&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String google() {\n        Client client = ClientBuilder.newClient();\n        return client.target(&quot;http://www.google.com&quot;)\n                     .request(MediaType.TEXT_PLAIN)\n                     .get()\n                     .readEntity(String.class);\n    }\n</code></pre>\n<p>and I have ensured that the Quarkus versions are the same. Here is a <em>minimal</em> snippet from <code>pom.xml</code></p>\n<pre><code>  &lt;properties&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.8.3.Final&lt;/quarkus.platform.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Application <em>A</em> successfully passes its requests to the proxy server, while <em>B</em> wont. Both applications are very similiar when comparing their <code>pom.xml</code> files and <code>application.properties</code> files. I am struggling to point out relevant differences. I would like to at least get some pointers on where I could look to fix this problem.</p>\n<h4>Other things I have attempted in addition to passing <code>-Dhttp.proxyHost</code> and <code>-Dhttp.proxyPort</code>:</h4>\n<ul>\n<li><p>In application properties, specify</p>\n<ul>\n<li><code>org.jboss.resteasy.jaxrs.client.proxy.host=http://localhost</code>,</li>\n<li><code>org.jboss.resteasy.jaxrs.client.proxy.port=6969</code></li>\n<li>result: requests not going through proxy</li>\n<li>source: <a href=\"https://stackoverflow.com/questions/65686908/quarkus-restclient-with-proxy-configuration\">Quarkus / Restclient with proxy configuration</a></li>\n</ul>\n</li>\n<li><p>In application properties, specify</p>\n<ul>\n<li><code>quarkus.rest-client.proxy-address=http://localhost:6969</code>,</li>\n<li>result: requests not going through proxy</li>\n<li>source: <a href=\"https://quarkus.io/guides/all-config\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/all-config</a></li>\n</ul>\n</li>\n<li><p>In application properties specify <code>client/mp-rest/proxyAddress=http://localhost:6969</code></p>\n<ul>\n<li>result: request not going through proxy</li>\n</ul>\n</li>\n<li><p>Other ways to pass the system properties <code>-Dhttp.proxyHost</code> and <code>-Dhttp.proxyPort</code></p>\n<ul>\n<li>E.g. by setting the environment variable <code>JAVA_TOOL_OPTIONS=&quot;-Dhttp.proxyHost -Dhttp.proxyPort&quot;</code></li>\n<li>result: requests not going through proxy</li>\n</ul>\n</li>\n<li><p>Built and started a docker container with Dockerfile.jvm generated from quarkus (which is included when create a new quarkus project), then setting the env variable <code>HTTP_PROXY=localhost:6969</code>.</p>\n<ul>\n<li>It simply prints that it passes the <code>-Dhttp.proxyHost</code> and <code>-Dhttp.proxyPort</code> options to the application (what I have done from the beginning)</li>\n<li>result: requests not going through proxy</li>\n</ul>\n</li>\n</ul>\n<p><strong>System info</strong></p>\n<ul>\n<li>OS: Windows 11, but I do everything within WSL2 (Ubuntu 20.04.3 LTS).</li>\n<li>CPU: Intel Core i7-10850H</li>\n</ul>\n"},{"tags":["java","eclipse","file","newline"],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441612372,"creation_date":1441506897,"answer_id":32419485,"question_id":32419418,"body_markdown":"The `println()` method adds a new line. Try the `print()` method instead.\r\n\r\n---\r\n\r\nYou can then manually control any newlines you need using:\r\n\r\n    print(String.format(&quot;%n&quot;));\r\n    print(System.getProperty(&quot;line.separator&quot;));\r\n    print(System.lineSeparator()); // Java 7+\r\n\r\nSee https://stackoverflow.com/questions/207947/java-how-do-i-get-a-platform-independent-new-line-character","title":"Java: Producing too many new lines character when writing to a file + Exception error?","body":"<p>The <code>println()</code> method adds a new line. Try the <code>print()</code> method instead.</p>\n\n<hr>\n\n<p>You can then manually control any newlines you need using:</p>\n\n<pre><code>print(String.format(\"%n\"));\nprint(System.getProperty(\"line.separator\"));\nprint(System.lineSeparator()); // Java 7+\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/207947/java-how-do-i-get-a-platform-independent-new-line-character\">How do I get a platform-dependent new line character?</a></p>\n"},{"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441612683,"creation_date":1441612683,"answer_id":32433728,"question_id":32419418,"body_markdown":"Exception is because of &quot;negative&quot; split, elemnt[1] is absent. (You show only part of code, I guess)","title":"Java: Producing too many new lines character when writing to a file + Exception error?","body":"<p>Exception is because of \"negative\" split, elemnt[1] is absent. (You show only part of code, I guess)</p>\n"}],"owner":{"account_id":5491013,"reputation":17,"user_id":4364324,"accept_rate":20,"display_name":"Tony Tran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653556744,"creation_date":1441506027,"question_id":32419418,"body_markdown":"Hey so I&#39;m working on a personal project for myself and I&#39;m having an issue. the following is a snippet of my code\r\n\r\n    while (inFile.hasNext()) {\r\n\t\t\t\tSystem.out.println(&quot;am i entering the loop&quot;);\r\n\t\t\t\tString aLine = inFile.nextLine();\r\n\t\t\t\tString[] aLineArray = aLine.split(&quot;\\\\s&quot;);\r\n\t\t\t\tString aName = aLineArray[0];\r\n\t\t\t\tString anIndex = aLineArray[1];\r\n\t\t\t\tSystem.out.println(anIndex);\r\n\t\t\t\ttemp.println(aName + &quot; &quot; + anIndex + &quot;\\n&quot;);\r\n\t\t\t}\r\nas you can see what I&#39;m trying to do is split on the white space on each line of a text file, and write those 2 Strings with a space in between to another file.. Now this is what I&#39;ve come to since it&#39;s actually producing something, which is an error\r\n\r\n    am i entering the loop\r\n    4\r\n    am i entering the loop\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1\r\n\tat pokemon.Pokedex.organizeByID(Pokedex.java:156)\r\n\tat pokemon.Pokedex.main(Pokedex.java:12)\r\n\r\n\r\n here&#39;s the snippet of code I was using before where I had issues with the &quot;too many new lines&quot; I&#39;ve commented out the previous code to make it easier (assuming it will help)\r\n\r\n    while (inFile.hasNext()) {\r\n\t\t\t\tSystem.out.println(&quot;am i entering the loop&quot;);\r\n\t\t\t\tString aLine = inFile.nextLine();\r\n\t\t\t\t/*String[] aLineArray = aLine.split(&quot;\\\\s&quot;);\r\n\t\t\t\tString aName = aLineArray[0];\r\n\t\t\t\tString anIndex = aLineArray[1];\r\n\t\t\t\tSystem.out.println(anIndex);\r\n\t\t\t\ttemp.println(aName + &quot; &quot; + anIndex + &quot;\\n&quot;);*/\r\n\t\t\t\ttemp.println(aLine);\r\n\t\t\t}\r\nAny how the above produces a file, does exactly what it should be doing except instead of having a file like \r\nname index\r\nname index\r\nit&#39;s \r\nname index\r\n\r\nname index\r\nNow I&#39;m looking for a workaround to either a: remove that blank line (as that second snippet seems to be the most simplest way of going about this, b. resolve that error, as I have no idea what it means IndexOutOfBounds makes me assume that there aren&#39;t 2 words per line, but there is, I&#39;ll try to link to the file as well. \r\nc. Is there a way to open a file, read through it, reading all of it&#39;s contents along the way and then resetting the read pointer? Or to open a file and close and then reopen? Because it didn&#39;t work for me, I tried the inFile.hasNext() after opening, closing, and then reopening the file, and it didn&#39;t enter the while loop, because the condition was false, I assumed the pointer would be reset? \r\n\r\nHere&#39;s the rest of my code if it helps\r\n\r\n    public static void organizeByID(String file) throws IOException {\r\n\t\t\t//prints out a list of pokemon organized by ID based on file input\r\n\t\t\tFile newFile = new File (file);\r\n\t\t\tScanner inFile = new Scanner(newFile);\r\n\r\n\t\t\tArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\t\t\tArrayList&lt;String&gt; organized = new ArrayList&lt;String&gt;();\r\n\t\t\tPrintWriter temp = new PrintWriter(&quot;temp.txt&quot;, &quot;UTF-8&quot;);\r\n\t\t\twhile (inFile.hasNext()) {\r\n\t\t\t\tSystem.out.println(&quot;am i entering the loop&quot;);\r\n\t\t\t\tString aLine = inFile.nextLine();\r\n\t\t\t\t/*String[] aLineArray = aLine.split(&quot;\\\\s&quot;);\r\n\t\t\t\tString aName = aLineArray[0];\r\n\t\t\t\tString anIndex = aLineArray[1];\r\n\t\t\t\tSystem.out.println(anIndex);\r\n\t\t\t\ttemp.println(aName + &quot; &quot; + anIndex + &quot;\\n&quot;);*/\r\n\t\t\t\ttemp.println(aLine);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Why am i not entering here&quot;);\r\n\t\t\t\r\n\t\t\tFile openFile = new File (&quot;temp.txt&quot;);\r\n\t\t\tScanner line = new Scanner(openFile);\r\n\t\t\tint i = 0;\r\n\t\t\tArrayList&lt;Integer&gt; newList = new ArrayList&lt;Integer&gt;();\r\n\t\t\t\r\n\t\t\twhile (line.hasNext() == true) {\r\n\t\t\t\tSystem.out.println(&quot;test&quot;);\r\n\t\t\t\t\r\n\t\t\t\tString PokeName = line.nextLine();\r\n\t\t\t\tif (PokeName != &quot;&quot;) {\r\n\t\t\t\t\t//pokeDic[] creates an array of strings out of a split between the name and type of the pokemon\r\n\t\t\t\t\tString pokeDic[] = PokeName.split(&quot; &quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//add the line to a file?\r\n\t\t\t\t\t//create a new object using pokeDic[0] and pokeDic[1] as arguments, which are name and type\r\n\t\t\t\t\t\r\n\t\t\t\t\t//String type = p.getType();\r\n\t\t\t\t\tString name = pokeDic[0];\r\n\t\t\t\t\t//System.out.println(name + &quot; &quot; + type);\r\n\t\t\t\t\tint pokeIndex = Integer.parseInt(pokeDic[1]);\r\n\t\t\t\t\tString index = String.valueOf(pokeIndex);\r\n\t\t\t\t\t//System.out.println(&quot;This is a list of pokemon from the file &quot; + file + &quot;organized by pokedex index.&quot;);\r\n\t\t\t\t\t//System.out.println(name + &quot; &quot; + ID);\r\n\t\t\t\t\tString fileInformation = name + &quot; &quot; + index;\r\n\t\t\t\t\tnewList.add(pokeIndex);\r\n\t\t\t\t\tSystem.out.println(newList);\r\n\t\t\t\t\tif (newList.get(i) == pokeIndex) {\r\n\t\t\t\t\t\torganized.add(fileInformation + &#39;\\n&#39;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (newList.get(i) &gt; pokeIndex) {\r\n\t\t\t\t\t\torganized.add(i-1, fileInformation + &quot;\\n&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (newList.get(i) &lt; pokeIndex) {\r\n\t\t\t\t\t\torganized.add(i+1, fileInformation + &quot;\\n&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;wtf is going on.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(organized);\r\n\t\t\t\t\ti++;}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;wrong&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\ttemp.close();\r\n\t\t\tCollections.sort(newList);\r\n\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(organized);\r\n\t\t\tSystem.out.println(newList);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\nNow I realize that there are probably ALOT of issues with my code but i&#39;d like to get it running and working before cleaning it up. \r\nI&#39;m using Eclipse, JDK 1.8? My txt files are open , read, and written to with notepad. I have notepad++ not sure if it would help by switching to it? If you could try to explain some of the bigger concepts that you&#39;re suggesting please do, I&#39;m currently taking Data Structures I and we&#39;re just doing a refresher on Java currently. If there&#39;s any other information you need please do mention so. \r\n\r\nhere&#39;s fire.txt\r\nhttps://drive.google.com/file/d/0ByEhymKkTbLkc1dtRE1GaWNXX0E/view?usp=sharing\r\n\r\ntemp is a file that is created, so I&#39;m not gonna link to that, the code will generate it. Thanks ahead of time.\r\nIf you need me to clarify anything in my code (I&#39;ll understand, my code isn&#39;t exactly very clear and concise) feel free to say something. \r\n\r\n\r\ntrying System.lineSeparator \r\n\r\n    while (inFile.hasNext()) {\r\n\t\t\t\tSystem.out.println(&quot;am i entering the loop&quot;);\r\n\t\t\t\tString aLine = inFile.nextLine();\r\n\t\t\t\t/*String[] aLineArray = aLine.split(&quot;\\\\s&quot;);\r\n\t\t\t\tString aName = aLineArray[0];\r\n\t\t\t\tString anIndex = aLineArray[1];\r\n\t\t\t\tSystem.out.println(anIndex);\r\n\t\t\t\ttemp.println(aName + &quot; &quot; + anIndex + &quot;\\n&quot;);*/\r\n\t\t\t\ttemp.print(aLine);\r\n\t\t\t\ttemp.print(System.lineSeparator());\r\n\t\t\t}\r\n\r\nyields the same thing\r\n\r\nie \r\nCharmander 4\r\n\r\nCharmeleon 5","title":"Java: Producing too many new lines character when writing to a file + Exception error?","body":"<p>Hey so I'm working on a personal project for myself and I'm having an issue. the following is a snippet of my code</p>\n\n<pre><code>while (inFile.hasNext()) {\n            System.out.println(\"am i entering the loop\");\n            String aLine = inFile.nextLine();\n            String[] aLineArray = aLine.split(\"\\\\s\");\n            String aName = aLineArray[0];\n            String anIndex = aLineArray[1];\n            System.out.println(anIndex);\n            temp.println(aName + \" \" + anIndex + \"\\n\");\n        }\n</code></pre>\n\n<p>as you can see what I'm trying to do is split on the white space on each line of a text file, and write those 2 Strings with a space in between to another file.. Now this is what I've come to since it's actually producing something, which is an error</p>\n\n<pre><code>am i entering the loop\n4\nam i entering the loop\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 1\nat pokemon.Pokedex.organizeByID(Pokedex.java:156)\nat pokemon.Pokedex.main(Pokedex.java:12)\n</code></pre>\n\n<p>here's the snippet of code I was using before where I had issues with the \"too many new lines\" I've commented out the previous code to make it easier (assuming it will help)</p>\n\n<pre><code>while (inFile.hasNext()) {\n            System.out.println(\"am i entering the loop\");\n            String aLine = inFile.nextLine();\n            /*String[] aLineArray = aLine.split(\"\\\\s\");\n            String aName = aLineArray[0];\n            String anIndex = aLineArray[1];\n            System.out.println(anIndex);\n            temp.println(aName + \" \" + anIndex + \"\\n\");*/\n            temp.println(aLine);\n        }\n</code></pre>\n\n<p>Any how the above produces a file, does exactly what it should be doing except instead of having a file like \nname index\nname index\nit's \nname index</p>\n\n<p>name index\nNow I'm looking for a workaround to either a: remove that blank line (as that second snippet seems to be the most simplest way of going about this, b. resolve that error, as I have no idea what it means IndexOutOfBounds makes me assume that there aren't 2 words per line, but there is, I'll try to link to the file as well. \nc. Is there a way to open a file, read through it, reading all of it's contents along the way and then resetting the read pointer? Or to open a file and close and then reopen? Because it didn't work for me, I tried the inFile.hasNext() after opening, closing, and then reopening the file, and it didn't enter the while loop, because the condition was false, I assumed the pointer would be reset? </p>\n\n<p>Here's the rest of my code if it helps</p>\n\n<pre><code>public static void organizeByID(String file) throws IOException {\n        //prints out a list of pokemon organized by ID based on file input\n        File newFile = new File (file);\n        Scanner inFile = new Scanner(newFile);\n\n        ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; organized = new ArrayList&lt;String&gt;();\n        PrintWriter temp = new PrintWriter(\"temp.txt\", \"UTF-8\");\n        while (inFile.hasNext()) {\n            System.out.println(\"am i entering the loop\");\n            String aLine = inFile.nextLine();\n            /*String[] aLineArray = aLine.split(\"\\\\s\");\n            String aName = aLineArray[0];\n            String anIndex = aLineArray[1];\n            System.out.println(anIndex);\n            temp.println(aName + \" \" + anIndex + \"\\n\");*/\n            temp.println(aLine);\n        }\n\n        System.out.println(\"Why am i not entering here\");\n\n        File openFile = new File (\"temp.txt\");\n        Scanner line = new Scanner(openFile);\n        int i = 0;\n        ArrayList&lt;Integer&gt; newList = new ArrayList&lt;Integer&gt;();\n\n        while (line.hasNext() == true) {\n            System.out.println(\"test\");\n\n            String PokeName = line.nextLine();\n            if (PokeName != \"\") {\n                //pokeDic[] creates an array of strings out of a split between the name and type of the pokemon\n                String pokeDic[] = PokeName.split(\" \");\n\n                //add the line to a file?\n                //create a new object using pokeDic[0] and pokeDic[1] as arguments, which are name and type\n\n                //String type = p.getType();\n                String name = pokeDic[0];\n                //System.out.println(name + \" \" + type);\n                int pokeIndex = Integer.parseInt(pokeDic[1]);\n                String index = String.valueOf(pokeIndex);\n                //System.out.println(\"This is a list of pokemon from the file \" + file + \"organized by pokedex index.\");\n                //System.out.println(name + \" \" + ID);\n                String fileInformation = name + \" \" + index;\n                newList.add(pokeIndex);\n                System.out.println(newList);\n                if (newList.get(i) == pokeIndex) {\n                    organized.add(fileInformation + '\\n');\n\n                }\n                else if (newList.get(i) &gt; pokeIndex) {\n                    organized.add(i-1, fileInformation + \"\\n\");\n                }\n                else if (newList.get(i) &lt; pokeIndex) {\n                    organized.add(i+1, fileInformation + \"\\n\");\n\n                }\n                else {\n                    System.out.println(\"wtf is going on.\");\n                }\n                System.out.println(organized);\n                i++;}\n            else {\n                    System.out.println(\"wrong\");\n                }\n\n\n\n\n\n        }\n        temp.close();\n        Collections.sort(newList);\n\n\n        System.out.println(organized);\n        System.out.println(newList);\n\n\n\n\n\n\n    }\n</code></pre>\n\n<p>Now I realize that there are probably ALOT of issues with my code but i'd like to get it running and working before cleaning it up. \nI'm using Eclipse, JDK 1.8? My txt files are open , read, and written to with notepad. I have notepad++ not sure if it would help by switching to it? If you could try to explain some of the bigger concepts that you're suggesting please do, I'm currently taking Data Structures I and we're just doing a refresher on Java currently. If there's any other information you need please do mention so. </p>\n\n<p>here's fire.txt\n<a href=\"https://drive.google.com/file/d/0ByEhymKkTbLkc1dtRE1GaWNXX0E/view?usp=sharing\" rel=\"nofollow\">https://drive.google.com/file/d/0ByEhymKkTbLkc1dtRE1GaWNXX0E/view?usp=sharing</a></p>\n\n<p>temp is a file that is created, so I'm not gonna link to that, the code will generate it. Thanks ahead of time.\nIf you need me to clarify anything in my code (I'll understand, my code isn't exactly very clear and concise) feel free to say something. </p>\n\n<p>trying System.lineSeparator </p>\n\n<pre><code>while (inFile.hasNext()) {\n            System.out.println(\"am i entering the loop\");\n            String aLine = inFile.nextLine();\n            /*String[] aLineArray = aLine.split(\"\\\\s\");\n            String aName = aLineArray[0];\n            String anIndex = aLineArray[1];\n            System.out.println(anIndex);\n            temp.println(aName + \" \" + anIndex + \"\\n\");*/\n            temp.print(aLine);\n            temp.print(System.lineSeparator());\n        }\n</code></pre>\n\n<p>yields the same thing</p>\n\n<p>ie \nCharmander 4</p>\n\n<p>Charmeleon 5</p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1456149502,"post_id":35555358,"comment_id":58798898,"body_markdown":"As an aside, you might want to be careful using `IOUtils` (from commons-io) in a school assignment unless you know for sure that third-party libraries are allowed. As I recall, all of my assignments forbid me from using any third-party libraries.","body":"As an aside, you might want to be careful using <code>IOUtils</code> (from commons-io) in a school assignment unless you know for sure that third-party libraries are allowed. As I recall, all of my assignments forbid me from using any third-party libraries."},{"owner":{"account_id":3188986,"reputation":25,"user_id":2693824,"display_name":"Niek"},"score":0,"creation_date":1456150280,"post_id":35555358,"comment_id":58799467,"body_markdown":"Nothing mentioned about that ;)","body":"Nothing mentioned about that ;)"}],"answers":[{"tags":[],"owner":{"account_id":1155320,"reputation":61,"user_id":5963152,"display_name":"z1pm4n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1456149513,"creation_date":1456149513,"answer_id":35555537,"question_id":35555358,"body_markdown":"The way your getting your filepath isn&#39;t the same, I&#39;m pretty sure you&#39;re not writing the file you trying to read later.  \r\n\r\n    String path = context.getRealPath(&quot;/&quot;);\r\n    path = path.substring(0, path.length() - 71);\r\n    path = path + &quot;\\\\v2iac14\\\\src\\\\main\\\\resources\\\\accountIDs.txt&quot;;  \r\n\r\nYou might probaby be better to keep the same path construction in both functions.  \r\nDon&#39;t forget to mutualized the code !  \r\n\r\n    InputStream inputStream = getClass().getClassLoader().getResourceAsStream(path);  \r\n\r\n","title":"Java text file not updating before opening","body":"<p>The way your getting your filepath isn't the same, I'm pretty sure you're not writing the file you trying to read later.  </p>\n\n<pre><code>String path = context.getRealPath(\"/\");\npath = path.substring(0, path.length() - 71);\npath = path + \"\\\\v2iac14\\\\src\\\\main\\\\resources\\\\accountIDs.txt\";  \n</code></pre>\n\n<p>You might probaby be better to keep the same path construction in both functions.<br>\nDon't forget to mutualized the code !  </p>\n\n<pre><code>InputStream inputStream = getClass().getClassLoader().getResourceAsStream(path);  \n</code></pre>\n"}],"owner":{"account_id":3188986,"reputation":25,"user_id":2693824,"display_name":"Niek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35555537,"answer_count":1,"score":0,"last_activity_date":1653556687,"creation_date":1456148988,"question_id":35555358,"body_markdown":"So for a school project I need to save user account details in a text file, and if you login the program has to read from the text file to see if the user exists.\r\n\r\nNow the writing and reading works, but my problem is that the contents of the text file don&#39;t update until I open the file in eclipse.\r\nAfter I open the file I can see the new content suddenly appear in the file.\r\n\r\nThis is my code right now:\r\n\r\n\t\t\tString path = context.getRealPath(&quot;/&quot;);\r\n\t\t\tpath = path.substring(0, path.length() - 71);\r\n\t\t\tpath = path + &quot;\\\\v2iac14\\\\src\\\\main\\\\resources\\\\accountIDs.txt&quot;;\r\n\r\n\t\t\tFile file = new File(path);\r\n\r\n\t\t\tif (!file.exists()) {\r\n\t\t\t\tfile.createNewFile();\r\n\t\t\t}\r\n\t\t\t\r\n            FileWriter fOut = new FileWriter(file, true);\r\n            fOut.append(&quot;e:&quot; + username + &quot;;p:&quot; + password + &quot;;i:&quot; + id + &quot;;c:-----;&quot;);\r\n            fOut.flush();\r\n            fOut.close();\r\n\r\nAnd how I read the file:\r\n\r\n        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;accountIDs.txt&quot;);\r\n\t\tString result = null;\r\n\t\ttry {\r\n\t\t\tresult = IOUtils.toString(inputStream);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\r\nI already tried multiple methods of writing to the file but the problem stays the same..","title":"Java text file not updating before opening","body":"<p>So for a school project I need to save user account details in a text file, and if you login the program has to read from the text file to see if the user exists.</p>\n\n<p>Now the writing and reading works, but my problem is that the contents of the text file don't update until I open the file in eclipse.\nAfter I open the file I can see the new content suddenly appear in the file.</p>\n\n<p>This is my code right now:</p>\n\n<pre><code>        String path = context.getRealPath(\"/\");\n        path = path.substring(0, path.length() - 71);\n        path = path + \"\\\\v2iac14\\\\src\\\\main\\\\resources\\\\accountIDs.txt\";\n\n        File file = new File(path);\n\n        if (!file.exists()) {\n            file.createNewFile();\n        }\n\n        FileWriter fOut = new FileWriter(file, true);\n        fOut.append(\"e:\" + username + \";p:\" + password + \";i:\" + id + \";c:-----;\");\n        fOut.flush();\n        fOut.close();\n</code></pre>\n\n<p>And how I read the file:</p>\n\n<pre><code>    InputStream inputStream = getClass().getClassLoader().getResourceAsStream(\"accountIDs.txt\");\n    String result = null;\n    try {\n        result = IOUtils.toString(inputStream);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return result;\n</code></pre>\n\n<p>I already tried multiple methods of writing to the file but the problem stays the same..</p>\n"},{"tags":["java","file","arraylist","serialization"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1481314666,"post_id":41068171,"comment_id":69343554,"body_markdown":"Show the `Person` class, please","body":"Show the <code>Person</code> class, please"},{"owner":{"account_id":9629778,"reputation":1257,"user_id":7148152,"display_name":"Quagaar"},"score":4,"creation_date":1481314923,"post_id":41068171,"comment_id":69343694,"body_markdown":"You&#39;re writing the complete ArrayList to the file, so readObject will return an ArrayList and not a Person.","body":"You&#39;re writing the complete ArrayList to the file, so readObject will return an ArrayList and not a Person."},{"owner":{"account_id":9810545,"reputation":538,"user_id":7268884,"accept_rate":100,"display_name":"twistezo"},"score":0,"creation_date":1481314993,"post_id":41068171,"comment_id":69343728,"body_markdown":"@cricket_007 i just added my &#39;person&#39; class","body":"@cricket_007 i just added my &#39;person&#39; class"},{"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"score":0,"creation_date":1481315435,"post_id":41068171,"comment_id":69343930,"body_markdown":"Please also include a main method or separate test class that runs your program, not just an out of context code snippet","body":"Please also include a main method or separate test class that runs your program, not just an out of context code snippet"},{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1481315537,"post_id":41068171,"comment_id":69343986,"body_markdown":"Try using `persons = (ArrayList&lt;Person&gt;) ois.readObject();` instead of `Person result = (Person) ois.readObject();\n        persons.add(result);`","body":"Try using <code>persons = (ArrayList&lt;Person&gt;) ois.readObject();</code> instead of <code>Person result = (Person) ois.readObject();         persons.add(result);</code>"},{"owner":{"account_id":9810545,"reputation":538,"user_id":7268884,"accept_rate":100,"display_name":"twistezo"},"score":0,"creation_date":1481315847,"post_id":41068171,"comment_id":69344138,"body_markdown":"@BradleyD i just added my main class","body":"@BradleyD i just added my main class"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1481316375,"post_id":41068171,"comment_id":69344440,"body_markdown":"Do you have anything against using JSON serialization or you want to stick to standard library?","body":"Do you have anything against using JSON serialization or you want to stick to standard library?"},{"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"score":0,"creation_date":1481317494,"post_id":41068171,"comment_id":69344947,"body_markdown":"change the file extension from .dat to .ser","body":"change the file extension from .dat to .ser"},{"owner":{"account_id":9810545,"reputation":538,"user_id":7268884,"accept_rate":100,"display_name":"twistezo"},"score":0,"creation_date":1481380032,"post_id":41068171,"comment_id":69359484,"body_markdown":"@ChetanJadhavCD Your advice is good but i found one thing which make crash my every trying. It&#39;s missing variable: &quot;private static final long serialVersionUID = 1L&quot; in Person (Serializable class).\nSecond problem: Scenario: Save 5 Person to ArrayList -&gt; Load 5 Person -&gt; Close app -&gt; Change number of people to save to 10 Person -&gt; Save 10 Person -&gt; And after this, app still read only 5 Person from file. What&#39;s wrong ?","body":"@ChetanJadhavCD Your advice is good but i found one thing which make crash my every trying. It&#39;s missing variable: &quot;private static final long serialVersionUID = 1L&quot; in Person (Serializable class). Second problem: Scenario: Save 5 Person to ArrayList -&gt; Load 5 Person -&gt; Close app -&gt; Change number of people to save to 10 Person -&gt; Save 10 Person -&gt; And after this, app still read only 5 Person from file. What&#39;s wrong ?"}],"answers":[{"tags":[],"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506553811,"creation_date":1481317859,"answer_id":41068947,"question_id":41068171,"body_markdown":"Here you go...  please take note of the following:\r\n\r\nYES, Chetan Jadhav CD&#39;s suggestion WORKS.  B\r\nUse an IDE like Eclipse to help you debug your code and make your life easier.\r\nBe clear about what your error is (show stack trace, etc..)  Note the modification to your catch clause that prints:\r\n\r\n    System.out.println(&quot;Saving ERROR: &quot; + ex.getMessage()); \r\n\r\nPut all your code in one file before you ask for help to make everyone&#39;s life easier. \r\nMake each &#39;Person&#39; at least someone unique by numbering them with your index Use .ser for a serializable file, rather than .dat\r\n\r\n   \r\n\r\n    import java.util.List;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Data {\r\n        private static final String SER_FILE = &quot;C:\\\\view\\\\data.ser&quot;;\r\n        static List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Data.savePersons();\r\n            Data.loadPersons();\r\n        }\r\n    \r\n        public static void savePersons() throws IOException {\r\n            \r\n            /** Make 5 &#39;Person&#39; object for example */\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                Person personTest = new Person(&quot;name&quot; + i, &quot;surname&quot; + i, &quot;email&quot; +i, &quot;1234567890-&quot; +i);\r\n                persons.add(personTest);\r\n            }\r\n    \r\n            try (ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(SER_FILE, true));) {\r\n                \r\n            \toos.writeObject(persons);\r\n                System.out.println(&quot;Saving &#39;&quot; + persons.size() + &quot;&#39; Object to Array&quot;);\r\n                System.out.println(&quot;persons.size() = &quot; + persons.size());\r\n                System.out.println(&quot;savePersons() = OK&quot;);\r\n    \r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Saving ERROR: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    \r\n        public static void loadPersons() throws IOException {\r\n    \r\n            /** Clean &#39;persons&#39; array for TEST of load data */\r\n            persons.removeAll(persons);\r\n    \r\n            try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(SER_FILE));){\r\n                \r\n                persons = (List&lt;Person&gt;) ois.readObject(); \r\n                //persons.add(result);\r\n    \r\n                System.out.println(&quot;-------------------------&quot;);\r\n                System.out.println(&quot;Loading &#39;&quot; + persons.size() + &quot;&#39; Object from Array&quot;);\r\n                System.out.println(&quot;persons.size() = &quot; + persons.size());\r\n                System.out.println(&quot;loadPersons() = OK&quot;);\r\n\r\n                persons.stream().forEach(System.out::println);\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;-------------------------&quot;);\r\n                System.out.println(&quot;Loading ERROR: &quot; + e.getMessage());\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    class Person implements Serializable {\r\n        /**\r\n         * \r\n         */\r\n        private static final long serialVersionUID = 1L;\r\n        private String name;\r\n        private String surname;\r\n        private String mail;\r\n        private String telephone;\r\n    \r\n        public Person(String n, String s, String m, String t) {\r\n            name = n;\r\n            surname = s;\r\n            mail = m;\r\n            telephone = t;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n    \r\n        public String getMail() {\r\n            return mail;\r\n        }\r\n    \r\n        public String getTelephone() {\r\n            return telephone;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Person [name=&quot; + name + &quot;, surname=&quot; + surname + &quot;, mail=&quot; + mail + &quot;, telephone=&quot; + telephone + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Writing and Reading to/from a file Objects stored in ArrayList","body":"<p>Here you go...  please take note of the following:</p>\n\n<p>YES, Chetan Jadhav CD's suggestion WORKS.  B\nUse an IDE like Eclipse to help you debug your code and make your life easier.\nBe clear about what your error is (show stack trace, etc..)  Note the modification to your catch clause that prints:</p>\n\n<pre><code>System.out.println(\"Saving ERROR: \" + ex.getMessage()); \n</code></pre>\n\n<p>Put all your code in one file before you ask for help to make everyone's life easier. \nMake each 'Person' at least someone unique by numbering them with your index Use .ser for a serializable file, rather than .dat</p>\n\n<pre><code>import java.util.List;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class Data {\n    private static final String SER_FILE = \"C:\\\\view\\\\data.ser\";\n    static List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n\n    public static void main(String[] args) throws IOException {\n        Data.savePersons();\n        Data.loadPersons();\n    }\n\n    public static void savePersons() throws IOException {\n\n        /** Make 5 'Person' object for example */\n        for (int i = 0; i &lt; 5; i++) {\n            Person personTest = new Person(\"name\" + i, \"surname\" + i, \"email\" +i, \"1234567890-\" +i);\n            persons.add(personTest);\n        }\n\n        try (ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(SER_FILE, true));) {\n\n            oos.writeObject(persons);\n            System.out.println(\"Saving '\" + persons.size() + \"' Object to Array\");\n            System.out.println(\"persons.size() = \" + persons.size());\n            System.out.println(\"savePersons() = OK\");\n\n        } catch (Exception ex) {\n            System.out.println(\"Saving ERROR: \" + ex.getMessage());\n        }\n    }\n\n    public static void loadPersons() throws IOException {\n\n        /** Clean 'persons' array for TEST of load data */\n        persons.removeAll(persons);\n\n        try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(SER_FILE));){\n\n            persons = (List&lt;Person&gt;) ois.readObject(); \n            //persons.add(result);\n\n            System.out.println(\"-------------------------\");\n            System.out.println(\"Loading '\" + persons.size() + \"' Object from Array\");\n            System.out.println(\"persons.size() = \" + persons.size());\n            System.out.println(\"loadPersons() = OK\");\n\n            persons.stream().forEach(System.out::println);\n\n        } catch (Exception e) {\n            System.out.println(\"-------------------------\");\n            System.out.println(\"Loading ERROR: \" + e.getMessage());\n\n        }\n    }\n}\n\nclass Person implements Serializable {\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String name;\n    private String surname;\n    private String mail;\n    private String telephone;\n\n    public Person(String n, String s, String m, String t) {\n        name = n;\n        surname = s;\n        mail = m;\n        telephone = t;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public String getTelephone() {\n        return telephone;\n    }\n\n    @Override\n    public String toString() {\n        return \"Person [name=\" + name + \", surname=\" + surname + \", mail=\" + mail + \", telephone=\" + telephone + \"]\";\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9810545,"reputation":538,"user_id":7268884,"accept_rate":100,"display_name":"twistezo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41068947,"answer_count":1,"score":0,"last_activity_date":1653556660,"creation_date":1481314537,"question_id":41068171,"body_markdown":"This is a simple example where I&#39;m trying to write and read Objects stored in `ArrayList` to/from file. \r\n\r\nWriting file is working. Reading file is working only for first Object in my `ArrayList`. How should I make this into a loop?\r\n\r\nI tried with something like:  \r\n\r\n    `while(ois !=null) {\r\n        Person result = (Person) ois.readObject();\r\n    \tpersons.add(result);\r\n    }\r\n\r\nbut  it&#39;s not working.\r\n\r\nHere is full test code:\r\n\r\n    public class Data {\r\n\tstatic ArrayList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n\t\r\n\tpublic static void savePersons() throws IOException{\r\n\t\t FileOutputStream fout = null;\r\n\t\t ObjectOutputStream oos = null;\r\n         \r\n\t\t /** Make 5 &#39;Person&#39; object for examle */\r\n         for(int i = 0; i&lt;5; i++){\r\n         Person personTest = new Person(&quot;name&quot;, &quot;surname&quot;, &quot;email&quot;, &quot;1234567890&quot;);\r\n         persons.add(personTest);\r\n         }\r\n         \r\n         try{\r\n             fout = new FileOutputStream(&quot;C:\\\\data.dat&quot;, true);\r\n             oos = new ObjectOutputStream(fout);\r\n             oos.writeObject(persons);\r\n             System.out.println(&quot;Saving &#39;&quot; +persons.size()+ &quot;&#39; Object to Array&quot;);\r\n             System.out.println(&quot;persons.size() = &quot; +persons.size());\r\n             System.out.println(&quot;savePersons() = OK&quot;);\r\n             \r\n         } catch (Exception ex) {\r\n             System.out.println(&quot;Saving ERROR&quot;);\r\n             \r\n         } finally {\r\n             if(oos  != null){\r\n                 oos.close();\r\n             } \r\n         }\r\n\t}\r\n\t\r\n\tpublic static void loadPersons() throws IOException{\r\n\t\tFileInputStream fis = null;\r\n\t\tObjectInputStream ois = null;\r\n\t\t\r\n\t\t/** Clean &#39;persons&#39; array for TEST of load data*/\r\n\t\tpersons.removeAll(persons);\r\n\t\t\r\n\t\ttry {\r\n\t\t    fis = new FileInputStream(&quot;C:\\\\data.dat&quot;);\r\n\t\t    ois = new ObjectInputStream(fis);\r\n\t\t    \r\n\t\t\tPerson result = (Person) ois.readObject();\r\n\t\t    persons.add(result);\r\n\t\t    \r\n\t\t    System.out.println(&quot;-------------------------&quot;);\r\n\t\t    System.out.println(&quot;Loading &#39;&quot; +persons.size()+ &quot;&#39; Object from Array&quot;);\r\n            System.out.println(&quot;persons.size() = &quot; +persons.size());\r\n            System.out.println(&quot;loadPersons() = OK&quot;);\r\n            \r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;-------------------------&quot;);\r\n\t\t    System.out.println(&quot;Loading ERROR&quot;);\r\n\t\t    \r\n\t\t} finally {\r\n\t\t    if(ois != null){\r\n\t\t        ois .close();\r\n\t\t    } \r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nPerson class:\r\n\r\n    public class Person implements Serializable {\r\n\tprivate String name;\r\n\tprivate String surname;\r\n\tprivate String mail;\r\n\tprivate String telephone;\r\n\tPerson person;\r\n\t\r\n\tpublic Person(String n, String s, String m, String t){\r\n\t\tname = n;\r\n\t\tsurname = s;\r\n\t\tmail = m;\r\n\t\ttelephone = t;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return surname;\r\n    }\r\n\r\n    public String getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public String getTelephone() {\r\n        return telephone;\r\n    }}\r\n\r\nMain class:\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t        Data.savePersons();\r\n\t        Data.loadPersons();\r\n\t}}\r\n","title":"Writing and Reading to/from a file Objects stored in ArrayList","body":"<p>This is a simple example where I'm trying to write and read Objects stored in <code>ArrayList</code> to/from file. </p>\n\n<p>Writing file is working. Reading file is working only for first Object in my <code>ArrayList</code>. How should I make this into a loop?</p>\n\n<p>I tried with something like:  </p>\n\n<pre><code>`while(ois !=null) {\n    Person result = (Person) ois.readObject();\n    persons.add(result);\n}\n</code></pre>\n\n<p>but  it's not working.</p>\n\n<p>Here is full test code:</p>\n\n<pre><code>public class Data {\nstatic ArrayList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n\npublic static void savePersons() throws IOException{\n     FileOutputStream fout = null;\n     ObjectOutputStream oos = null;\n\n     /** Make 5 'Person' object for examle */\n     for(int i = 0; i&lt;5; i++){\n     Person personTest = new Person(\"name\", \"surname\", \"email\", \"1234567890\");\n     persons.add(personTest);\n     }\n\n     try{\n         fout = new FileOutputStream(\"C:\\\\data.dat\", true);\n         oos = new ObjectOutputStream(fout);\n         oos.writeObject(persons);\n         System.out.println(\"Saving '\" +persons.size()+ \"' Object to Array\");\n         System.out.println(\"persons.size() = \" +persons.size());\n         System.out.println(\"savePersons() = OK\");\n\n     } catch (Exception ex) {\n         System.out.println(\"Saving ERROR\");\n\n     } finally {\n         if(oos  != null){\n             oos.close();\n         } \n     }\n}\n\npublic static void loadPersons() throws IOException{\n    FileInputStream fis = null;\n    ObjectInputStream ois = null;\n\n    /** Clean 'persons' array for TEST of load data*/\n    persons.removeAll(persons);\n\n    try {\n        fis = new FileInputStream(\"C:\\\\data.dat\");\n        ois = new ObjectInputStream(fis);\n\n        Person result = (Person) ois.readObject();\n        persons.add(result);\n\n        System.out.println(\"-------------------------\");\n        System.out.println(\"Loading '\" +persons.size()+ \"' Object from Array\");\n        System.out.println(\"persons.size() = \" +persons.size());\n        System.out.println(\"loadPersons() = OK\");\n\n    } catch (Exception e) {\n        System.out.println(\"-------------------------\");\n        System.out.println(\"Loading ERROR\");\n\n    } finally {\n        if(ois != null){\n            ois .close();\n        } \n    }\n  }\n}\n</code></pre>\n\n<p>Person class:</p>\n\n<pre><code>public class Person implements Serializable {\nprivate String name;\nprivate String surname;\nprivate String mail;\nprivate String telephone;\nPerson person;\n\npublic Person(String n, String s, String m, String t){\n    name = n;\n    surname = s;\n    mail = m;\n    telephone = t;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic String getSurname() {\n    return surname;\n}\n\npublic String getMail() {\n    return mail;\n}\n\npublic String getTelephone() {\n    return telephone;\n}}\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n        Data.savePersons();\n        Data.loadPersons();\n}}\n</code></pre>\n"},{"tags":["java","eclipse","m2eclipse"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1595086530,"post_id":62970368,"comment_id":111355936,"body_markdown":"If it makes you feel any better, others have encountered this behavior before, but I can&#39;t find any solutions on the web or bugs posted to the Eclipse bug base. I probably need more coffee, but maybe you can do better.","body":"If it makes you feel any better, others have encountered this behavior before, but I can&#39;t find any solutions on the web or bugs posted to the Eclipse bug base. I probably need more coffee, but maybe you can do better."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1595087594,"post_id":62970368,"comment_id":111356286,"body_markdown":"See [this bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965). It is something to do with the fonts installed on your system.","body":"See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965\" rel=\"nofollow noreferrer\">this bug</a>. It is something to do with the fonts installed on your system."},{"owner":{"account_id":18141181,"reputation":13,"user_id":13195024,"display_name":"jinuprakash"},"score":0,"creation_date":1595147978,"post_id":62970368,"comment_id":111368933,"body_markdown":"@greg-449 Thank you soo much :) . Changing the theme to Classic in appearance fixed the issue","body":"@greg-449 Thank you soo much :) . Changing the theme to Classic in appearance fixed the issue"}],"answers":[{"tags":[],"owner":{"account_id":25394804,"reputation":11,"user_id":19205234,"display_name":"Niyi Adunola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653556494,"creation_date":1653556494,"answer_id":72389460,"question_id":62970368,"body_markdown":"This worked for me in no time\r\n In eclipse change manually the font &quot;Segoe UI Symbol&quot; to another font type by navigating to (Windows &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Font &gt; View and Editor Folders &gt; Part title font) Edit... and change font.\r\n","title":"Strange Characters instead of actual titles in Eclipse","body":"<p>This worked for me in no time\nIn eclipse change manually the font &quot;Segoe UI Symbol&quot; to another font type by navigating to (Windows &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Font &gt; View and Editor Folders &gt; Part title font) Edit... and change font.</p>\n"}],"owner":{"account_id":18141181,"reputation":13,"user_id":13195024,"display_name":"jinuprakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676291756,"answer_count":1,"score":1,"last_activity_date":1653556494,"creation_date":1595086190,"question_id":62970368,"body_markdown":"![Snippet of Eclipse][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUElp.png\r\n\r\nStrange characters are being shown in different tabs in  Eclipse IDE. I have tried reinstalling and nothing changed.\r\nBut when I hover over those tabs it shows the actual name.\r\nThe issue seems to be only with the different tabs, rest are fine(menus and project name inside the Workspace explorer)","title":"Strange Characters instead of actual titles in Eclipse","body":"<p><img src=\"https://i.stack.imgur.com/sUElp.png\" alt=\"Snippet of Eclipse\" /></p>\n<p>Strange characters are being shown in different tabs in  Eclipse IDE. I have tried reinstalling and nothing changed.\nBut when I hover over those tabs it shows the actual name.\nThe issue seems to be only with the different tabs, rest are fine(menus and project name inside the Workspace explorer)</p>\n"},{"tags":["java","multithreading","class","oop"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1653555766,"post_id":72389260,"comment_id":127882119,"body_markdown":"you can extend your class from Thread and directly make an object from ThreadState():\nclass ThreadState extends Thread { \n...\n...\npublic static void main(String args[]) {\n    ThreadState r1 = new ThreadState();\n    r1.start();\n  }","body":"you can extend your class from Thread and directly make an object from ThreadState(): class ThreadState extends Thread {  ... ... public static void main(String args[]) {     ThreadState r1 = new ThreadState();     r1.start();   }"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1653559435,"post_id":72389260,"comment_id":127883322,"body_markdown":"@IssaKhodadadi – Although you ***can*** do, it is discouraged to extend `Thread` …","body":"@IssaKhodadadi – Although you <b><i>can</i></b> do, it is discouraged to extend <code>Thread</code> …"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653562290,"post_id":72389260,"comment_id":127884197,"body_markdown":"FYI: This question has nothing to do with threads and threading. It&#39;s a question about Java&#39;s type system and what `interface` means, and you just happened to choose an interface that the `Thread` class cares about for you example. You could have asked about any other interface (e.g., `List&lt;T&gt;`) and any situation in which an object that implements that interface was wanted, and it would be essentially the same question.","body":"FYI: This question has nothing to do with threads and threading. It&#39;s a question about Java&#39;s type system and what <code>interface</code> means, and you just happened to choose an interface that the <code>Thread</code> class cares about for you example. You could have asked about any other interface (e.g., <code>List&lt;T&gt;</code>) and any situation in which an object that implements that interface was wanted, and it would be essentially the same question."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653556397,"creation_date":1653555853,"answer_id":72389350,"question_id":72389260,"body_markdown":"In your code, `r1` is neither a `Runnable` nor a `ThreadState`.\r\n\r\nIt is just a reference to an object of that type.\r\n\r\nIn both cases, with the execution of `new ThreadState()` you create an instance of `ThreadState` that is also an instance of `Runnable`.\r\n\r\nAs a result, your code snippets are equivalent.\r\n\r\n```java\r\npublic class ThreadState implements Runnable \r\n{\r\n  @Override\r\n  public final void run() \r\n  {\r\n    System.out.println( &quot;xxxxx&quot; );\r\n  }\r\n\r\n  public static final void main( String... args ) \r\n  {\r\n    Runnable r1 = new ThreadState();\r\n    if( r1 instanceof ThreadState ) System.out.println( &quot;r1 is ThreadState&quot; ); // will be printed\r\n    Thread t1 = new Thread( r1 );\r\n    t1.start();\r\n  }\r\n}\r\n```\r\nvs.\r\n```java\r\npublic class ThreadState implements Runnable \r\n{\r\n  @Override\r\n  public final void run() \r\n  {\r\n    System.out.println( &quot;xxxxx&quot; );\r\n  }\r\n  public static final void main( String... args[] ) \r\n  {\r\n    ThreadState r1 = new ThreadState();\r\n    if( r1 instanceof Runnable ) System.out.println( &quot;r1 is Runnable&quot; ); // will be printed\r\n    Thread t1 = new Thread( r1 );\r\n    t1.start();\r\n  }\r\n}\r\n```\r\n","title":"Create object from implement Runnable interface in threading - Java","body":"<p>In your code, <code>r1</code> is neither a <code>Runnable</code> nor a <code>ThreadState</code>.</p>\n<p>It is just a reference to an object of that type.</p>\n<p>In both cases, with the execution of <code>new ThreadState()</code> you create an instance of <code>ThreadState</code> that is also an instance of <code>Runnable</code>.</p>\n<p>As a result, your code snippets are equivalent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadState implements Runnable \n{\n  @Override\n  public final void run() \n  {\n    System.out.println( &quot;xxxxx&quot; );\n  }\n\n  public static final void main( String... args ) \n  {\n    Runnable r1 = new ThreadState();\n    if( r1 instanceof ThreadState ) System.out.println( &quot;r1 is ThreadState&quot; ); // will be printed\n    Thread t1 = new Thread( r1 );\n    t1.start();\n  }\n}\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadState implements Runnable \n{\n  @Override\n  public final void run() \n  {\n    System.out.println( &quot;xxxxx&quot; );\n  }\n  public static final void main( String... args[] ) \n  {\n    ThreadState r1 = new ThreadState();\n    if( r1 instanceof Runnable ) System.out.println( &quot;r1 is Runnable&quot; ); // will be printed\n    Thread t1 = new Thread( r1 );\n    t1.start();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25394188,"reputation":1,"user_id":19204695,"display_name":"henrylam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653556397,"creation_date":1653555391,"question_id":72389260,"body_markdown":"I&#39;m new in Java and threading.\r\n\r\nIs there any different to create an runnable object as `Runnable` and `ThreadState`:\r\n\r\n    class ThreadState implements Runnable {\r\n    \r\n      public void run() {\r\n        System.out.println(&quot;xxxxx&quot;);\r\n      }\r\n      public static void main(String args[]) {\r\n        Runnable r1 = new ThreadState();\r\n        Thread t1 = new Thread(r1);\r\n        t1.start();\r\n      }\r\n    }\r\n\r\nAnd\r\n\r\n    class ThreadState implements Runnable {\r\n    \r\n      public void run() {\r\n        System.out.println(&quot;xxxxx&quot;);\r\n      }\r\n      public static void main(String args[]) {\r\n        ThreadState r1 = new ThreadState();\r\n        Thread t1 = new Thread(r1);\r\n        t1.start();\r\n      }\r\n    }\r\n\r\nThanks!","title":"Create object from implement Runnable interface in threading - Java","body":"<p>I'm new in Java and threading.</p>\n<p>Is there any different to create an runnable object as <code>Runnable</code> and <code>ThreadState</code>:</p>\n<pre><code>class ThreadState implements Runnable {\n\n  public void run() {\n    System.out.println(&quot;xxxxx&quot;);\n  }\n  public static void main(String args[]) {\n    Runnable r1 = new ThreadState();\n    Thread t1 = new Thread(r1);\n    t1.start();\n  }\n}\n</code></pre>\n<p>And</p>\n<pre><code>class ThreadState implements Runnable {\n\n  public void run() {\n    System.out.println(&quot;xxxxx&quot;);\n  }\n  public static void main(String args[]) {\n    ThreadState r1 = new ThreadState();\n    Thread t1 = new Thread(r1);\n    t1.start();\n  }\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","file","system"],"comments":[{"owner":{"account_id":12040719,"reputation":2526,"user_id":8807741,"display_name":"SeverityOne"},"score":1,"creation_date":1523456822,"post_id":49777572,"comment_id":86570504,"body_markdown":"What kind of guidance is it that you&#39;re after? You pasted a piece of code, but didn&#39;t actually ask a question.","body":"What kind of guidance is it that you&#39;re after? You pasted a piece of code, but didn&#39;t actually ask a question."},{"owner":{"account_id":12296955,"reputation":1424,"user_id":8972283,"display_name":"Francis Bartkowiak"},"score":0,"creation_date":1523457126,"post_id":49777572,"comment_id":86570773,"body_markdown":"For starters, `Scanner in = (System.in);` is not valid Java. You want to do this: `Scanner in = new Scanner(System.in);`. Next, you offer your users to input integers 1-5, but only give them the information for what 1, 2, and 3 do. Next, I&#39;m not sure why you&#39;re reading a file for input since the input should be coming from the `Scanner`. Maybe your end goal is to read from the file so you can present that information and add to it via the command line? Lastly, you say you&#39;re having trouble writing to a file, but nowhere in your code have you made an attempt to write to a file.","body":"For starters, <code>Scanner in = (System.in);</code> is not valid Java. You want to do this: <code>Scanner in = new Scanner(System.in);</code>. Next, you offer your users to input integers 1-5, but only give them the information for what 1, 2, and 3 do. Next, I&#39;m not sure why you&#39;re reading a file for input since the input should be coming from the <code>Scanner</code>. Maybe your end goal is to read from the file so you can present that information and add to it via the command line? Lastly, you say you&#39;re having trouble writing to a file, but nowhere in your code have you made an attempt to write to a file."},{"owner":{"account_id":11987593,"reputation":17,"user_id":8771706,"display_name":"Alex"},"score":0,"creation_date":1523457286,"post_id":49777572,"comment_id":86570896,"body_markdown":"I need help finding out how to write to files form the user input. and then view said files. I have made an attempt to write to files but i commented it out because it kept on breaking ?","body":"I need help finding out how to write to files form the user input. and then view said files. I have made an attempt to write to files but i commented it out because it kept on breaking ?"},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":1,"creation_date":1523457371,"post_id":49777572,"comment_id":86570970,"body_markdown":"Possible duplicate of [How do I create a file and write to it in Java?](https://stackoverflow.com/questions/2885173/how-do-i-create-a-file-and-write-to-it-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2885173/how-do-i-create-a-file-and-write-to-it-in-java\">How do I create a file and write to it in Java?</a>"},{"owner":{"account_id":11987593,"reputation":17,"user_id":8771706,"display_name":"Alex"},"score":0,"creation_date":1523457499,"post_id":49777572,"comment_id":86571072,"body_markdown":"I&#39;ve seen that post and tried what it suggested with the printwriter function but i&#39;m trying to get the information form the user not just a pre made txt file","body":"I&#39;ve seen that post and tried what it suggested with the printwriter function but i&#39;m trying to get the information form the user not just a pre made txt file"},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":0,"creation_date":1523457745,"post_id":49777572,"comment_id":86571241,"body_markdown":"Then this might help: https://stackoverflow.com/q/11871520/3579095","body":"Then this might help: <a href=\"https://stackoverflow.com/q/11871520/3579095\">stackoverflow.com/q/11871520/3579095</a>"},{"owner":{"account_id":11987593,"reputation":17,"user_id":8771706,"display_name":"Alex"},"score":0,"creation_date":1523457989,"post_id":49777572,"comment_id":86571421,"body_markdown":"thanks yeah that did help, but once the user input is stored into a variable how do i write that information into a text file","body":"thanks yeah that did help, but once the user input is stored into a variable how do i write that information into a text file"}],"answers":[{"tags":[],"owner":{"account_id":1855083,"reputation":51,"user_id":1680848,"display_name":"Lio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1523459040,"creation_date":1523459040,"answer_id":49778539,"question_id":49777572,"body_markdown":"Is not clear that you look for &quot; i&#39;m stuck on just writing to the file&quot; \r\n\r\nhere exemple on how to create/write to a file\r\n\r\n    String export=&quot;/home/tata/test.txt&quot;;\r\n    if (!Files.exists(Paths.get(export)))\r\n    \t\t\t\tFiles.createDirectory(Paths.get(export));\r\n    List&lt;String&gt; toWrite = new ArrayList();\r\n    toWrite.add(&quot;tata&quot;);\r\n    Files.write(Paths.get(export),toWrite);\r\n\r\n\r\nlook at java tm \r\nhttps://docs.oracle.com/javase/tutorial/essential/io/file.html\r\n\r\nlio","title":"writing files in java from user input","body":"<p>Is not clear that you look for \" i'm stuck on just writing to the file\" </p>\n\n<p>here exemple on how to create/write to a file</p>\n\n<pre><code>String export=\"/home/tata/test.txt\";\nif (!Files.exists(Paths.get(export)))\n                Files.createDirectory(Paths.get(export));\nList&lt;String&gt; toWrite = new ArrayList();\ntoWrite.add(\"tata\");\nFiles.write(Paths.get(export),toWrite);\n</code></pre>\n\n<p>look at java tm \n<a href=\"https://docs.oracle.com/javase/tutorial/essential/io/file.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/io/file.html</a></p>\n\n<p>lio</p>\n"}],"owner":{"account_id":11987593,"reputation":17,"user_id":8771706,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1653556388,"creation_date":1523456468,"question_id":49777572,"body_markdown":"I&#39;m trying to write a program which will take user input from a list of options then either: \r\n\r\n - write to a file \r\n - alter an existing file or \r\n - delete a file. \r\n\r\nAt the moment I&#39;m stuck on just writing to the file from the user input. I have to use regex notation for each of the users input as seen in the snippet. Any help or guidance on what i could do will be highly appreciated, and yes there are a lot of errors right now. Thanks! \r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    \r\n    private UserInput[] list;\r\n    class Input {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner in = (System.in);\r\n            string Exit =&quot;False&quot;; \r\n            System.out.println(&quot;person details&quot;);\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Menu Options:&quot;);\r\n            System.out.println(&quot;1. Add new person&quot;);\r\n            System.out.println(&quot;2. Load person details &quot;);\r\n            System.out.println(&quot;3. Delete person Entry&quot;);\r\n            System.out.print(&quot;Please select an option from 1-5\\r\\n&quot;);\r\n            int choice = in.nextLine();\r\n    \r\n    \r\n            if (choice == 1)\r\n                system.out.println(&quot;you want to add a new person deails.&quot;);\r\n                AddStudnet(); \r\n    \r\n    \r\n           else if (choice == 2){\r\n                system.println(&quot;would you like to: &quot;);\r\n                system.println(&quot;1. Load a specific entry&quot;);\r\n                system.println(&quot;2. Load &quot;);\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n    //Error checking the options\r\n            \r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            \r\n            try {\r\n                int input = Integer.parseInt(br.readLine());\r\n                \r\n                if(input &lt; 0 || input &gt; 5) {\r\n                    System.out.println(&quot;You have entered an invalid selection, please try again\\r\\n&quot;);\r\n                } else if(input == 5) {\r\n                    System.out.println(&quot;You have quit the program\\r\\n&quot;);\r\n                    System.exit(1);\r\n                } else {\r\n                    System.out.println(&quot;You have entered &quot; + input + &quot;\\r\\n&quot;);\r\n                }\r\n            } catch (IOException ioe) {\r\n                System.out.println(&quot;IO error trying to read your input!\\r\\n&quot;);\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    //Scanner reader = new Scanner(System.in);{  // Reading from System.in\r\n    //System.out.println(&quot;Please enter your name: &quot;);\r\n    //String n = reader.nextLine();\r\n    //}\r\n    \r\n    \r\n      //      File file = new File(&quot;someFile.txt&quot;, True);\r\n        //    FileWriter writer = new FileWriter(file);\r\n    \r\n          //  writer.write(reader);\r\n    //        writer.close();\r\n    \r\n    \r\n    \r\n    \r\n    public static void addPerson(String args[]) throws IOException{\r\n        class input Per{\r\n    \r\n        scanner in = new scanner (system.in);\r\n        system.out.print(&quot;Please enter you Name: &quot;);\r\n         String name = in.nextLine()\r\n         final Pattern pattern = Pattern.compile(&quot;/^[a-z ,.&#39;-]+$/i&quot;);\r\n         if (!pattern.matcher(name).matches()) {\r\n            throw new IllegalArgumentException(&quot;Invalid String&quot;);\r\n    \r\n         //String Name = regex (&quot;Name&quot;)\r\n    \r\n         //regex below for formatting\r\n    \r\n     \r\n                \r\n        system.out.println(&quot;Please enter your Job title:&quot;);\r\n        //String CourseNum = regex (&quot;JobTitle&quot;);\r\n    \r\n      \r\n    \r\n        system.out.println(&quot;Please enter your Town:&quot;);\r\n       //String Town = regex(&quot;Town&quot;);\r\n    \r\n        system.out.println(&quot;Please enter your postcocde:&quot;);\r\n        //String postcocde = regex(&quot;postcocde&quot;);\r\n    \r\n        system.out.println(&quot;Please enter your street:&quot;);\r\n        //String Street = regex (&quot;Street&quot;);\r\n    \r\n        system.out.println(&quot;Please enter your House Number:&quot;);\r\n        //String HouseNum = regex (&quot;HouseNum&quot;);\r\n    \r\n       \r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    //public static void\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"writing files in java from user input","body":"<p>I'm trying to write a program which will take user input from a list of options then either: </p>\n\n<ul>\n<li>write to a file </li>\n<li>alter an existing file or </li>\n<li>delete a file. </li>\n</ul>\n\n<p>At the moment I'm stuck on just writing to the file from the user input. I have to use regex notation for each of the users input as seen in the snippet. Any help or guidance on what i could do will be highly appreciated, and yes there are a lot of errors right now. Thanks! </p>\n\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\nprivate UserInput[] list;\nclass Input {\n    public static void main(String[] args) {\n\n        Scanner in = (System.in);\n        string Exit =\"False\"; \n        System.out.println(\"person details\");\n        System.out.println(\"\");\n        System.out.println(\"Menu Options:\");\n        System.out.println(\"1. Add new person\");\n        System.out.println(\"2. Load person details \");\n        System.out.println(\"3. Delete person Entry\");\n        System.out.print(\"Please select an option from 1-5\\r\\n\");\n        int choice = in.nextLine();\n\n\n        if (choice == 1)\n            system.out.println(\"you want to add a new person deails.\");\n            AddStudnet(); \n\n\n       else if (choice == 2){\n            system.println(\"would you like to: \");\n            system.println(\"1. Load a specific entry\");\n            system.println(\"2. Load \");\n\n\n        }\n\n\n//Error checking the options\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        try {\n            int input = Integer.parseInt(br.readLine());\n\n            if(input &lt; 0 || input &gt; 5) {\n                System.out.println(\"You have entered an invalid selection, please try again\\r\\n\");\n            } else if(input == 5) {\n                System.out.println(\"You have quit the program\\r\\n\");\n                System.exit(1);\n            } else {\n                System.out.println(\"You have entered \" + input + \"\\r\\n\");\n            }\n        } catch (IOException ioe) {\n            System.out.println(\"IO error trying to read your input!\\r\\n\");\n            System.exit(1);\n        }\n    }\n\n}\n\n\n\n\n\n//Scanner reader = new Scanner(System.in);{  // Reading from System.in\n//System.out.println(\"Please enter your name: \");\n//String n = reader.nextLine();\n//}\n\n\n  //      File file = new File(\"someFile.txt\", True);\n    //    FileWriter writer = new FileWriter(file);\n\n      //  writer.write(reader);\n//        writer.close();\n\n\n\n\npublic static void addPerson(String args[]) throws IOException{\n    class input Per{\n\n    scanner in = new scanner (system.in);\n    system.out.print(\"Please enter you Name: \");\n     String name = in.nextLine()\n     final Pattern pattern = Pattern.compile(\"/^[a-z ,.'-]+$/i\");\n     if (!pattern.matcher(name).matches()) {\n        throw new IllegalArgumentException(\"Invalid String\");\n\n     //String Name = regex (\"Name\")\n\n     //regex below for formatting\n\n\n\n    system.out.println(\"Please enter your Job title:\");\n    //String CourseNum = regex (\"JobTitle\");\n\n\n\n    system.out.println(\"Please enter your Town:\");\n   //String Town = regex(\"Town\");\n\n    system.out.println(\"Please enter your postcocde:\");\n    //String postcocde = regex(\"postcocde\");\n\n    system.out.println(\"Please enter your street:\");\n    //String Street = regex (\"Street\");\n\n    system.out.println(\"Please enter your House Number:\");\n    //String HouseNum = regex (\"HouseNum\");\n\n\n    }\n\n}\n\n\n//public static void\n</code></pre>\n"},{"tags":["java","text","bufferedwriter"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1529797867,"post_id":51005879,"comment_id":89005249,"body_markdown":"`flush` the writer - which `close` will do. Your code is rather inefficient as opening and closing the file is an expensive operation. You also run the risk of leaving the file &quot;open&quot; if something goes wrong - consider using a `try-with-resources` block instead.  A slightly better solution might be to use a producer/consumer approach, where the messages are placed in a queue and then, on a separate thread, you write them out to the file.  This way you could open the file when there are new messages the queue, write/flush until the queue is empty, then close the file and wait for more","body":"<code>flush</code> the writer - which <code>close</code> will do. Your code is rather inefficient as opening and closing the file is an expensive operation. You also run the risk of leaving the file &quot;open&quot; if something goes wrong - consider using a <code>try-with-resources</code> block instead.  A slightly better solution might be to use a producer/consumer approach, where the messages are placed in a queue and then, on a separate thread, you write them out to the file.  This way you could open the file when there are new messages the queue, write/flush until the queue is empty, then close the file and wait for more"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1529797954,"post_id":51005879,"comment_id":89005260,"body_markdown":"&quot;IF&quot; the JVM is forcefully terminated &quot;while&quot; a write operation is in progress, then no, I doubt there is anyway to you could fix the issue - it&#39;s a risk you&#39;ll need to take.  All of this raises questions over why you&#39;re not using the inbuilt logging API or log4j which will do all this for you anyway","body":"&quot;IF&quot; the JVM is forcefully terminated &quot;while&quot; a write operation is in progress, then no, I doubt there is anyway to you could fix the issue - it&#39;s a risk you&#39;ll need to take.  All of this raises questions over why you&#39;re not using the inbuilt logging API or log4j which will do all this for you anyway"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1529797981,"post_id":51005879,"comment_id":89005264,"body_markdown":"`FileWriter fw = new FileWriter(file.getAbsoluteFile());` is irrelevant, just use `FileWriter fw = new FileWriter(file);`","body":"<code>FileWriter fw = new FileWriter(file.getAbsoluteFile());</code> is irrelevant, just use <code>FileWriter fw = new FileWriter(file);</code>"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529801945,"creation_date":1529801945,"answer_id":51006166,"question_id":51005879,"body_markdown":"&gt; To my understanding, once the text file is &quot;opened&quot; by using this log method, it is occupied until the program is shut down.\r\n\r\nNo. It is closed when you call `close()`.\r\n\r\n&gt; And when it is force closed for some reason (like shutting down my PC or closing it through task manager), it will not save any data that was written while it was opening.\r\n\r\nThe data will be flushed when you call close.\r\n\r\n&gt; Is there any way to solve this? \r\n\r\nThere is nothing to solve.","title":"Using BufferedWriter to write data into a .txt file, if the application is force-closed, any data stored to .txt files do not save?","body":"<blockquote>\n  <p>To my understanding, once the text file is \"opened\" by using this log method, it is occupied until the program is shut down.</p>\n</blockquote>\n\n<p>No. It is closed when you call <code>close()</code>.</p>\n\n<blockquote>\n  <p>And when it is force closed for some reason (like shutting down my PC or closing it through task manager), it will not save any data that was written while it was opening.</p>\n</blockquote>\n\n<p>The data will be flushed when you call close.</p>\n\n<blockquote>\n  <p>Is there any way to solve this? </p>\n</blockquote>\n\n<p>There is nothing to solve.</p>\n"}],"owner":{"account_id":5784758,"reputation":179,"user_id":4564356,"accept_rate":67,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653556382,"creation_date":1529797245,"question_id":51005879,"body_markdown":"This is the code I am using:\r\n\r\n    \tpublic static void log(String directory, String name, String input) throws IOException {\r\n\t\tFile path = new File(directory);\r\n\t\tif (!path.exists()) {\r\n\t\t\tpath.mkdirs();\r\n\t\t}\r\n\t\tFile file = new File(directory + &quot;/&quot; + name + &quot;.txt&quot;);\r\n\t\tFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n        BufferedWriter bw = new BufferedWriter(fw);         \r\n        bw.write(input);\r\n        bw.close();\r\n\t}\r\n\r\nI have this application logging to many different .txt files while it is running. To my understanding, once the text file is &quot;opened&quot; by using this log method, it is occupied until the program is shut down. And when it is force closed for some reason (like shutting down my PC or closing it through task manager), it will not save any data that was written while it was opening. Is there any way to solve this? Thank you. ","title":"Using BufferedWriter to write data into a .txt file, if the application is force-closed, any data stored to .txt files do not save?","body":"<p>This is the code I am using:</p>\n\n<pre><code>    public static void log(String directory, String name, String input) throws IOException {\n    File path = new File(directory);\n    if (!path.exists()) {\n        path.mkdirs();\n    }\n    File file = new File(directory + \"/\" + name + \".txt\");\n    FileWriter fw = new FileWriter(file.getAbsoluteFile());\n    BufferedWriter bw = new BufferedWriter(fw);         \n    bw.write(input);\n    bw.close();\n}\n</code></pre>\n\n<p>I have this application logging to many different .txt files while it is running. To my understanding, once the text file is \"opened\" by using this log method, it is occupied until the program is shut down. And when it is force closed for some reason (like shutting down my PC or closing it through task manager), it will not save any data that was written while it was opening. Is there any way to solve this? Thank you. </p>\n"},{"tags":["java","amazon-web-services","sdk","aws-api-gateway","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1653072083,"post_id":72322248,"comment_id":127770421,"body_markdown":"It&#39;s unclear what problem you&#39;re having.  There are plenty of examples of how to interact with AWS services using the Java SDK2 - [here is S3 for example](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3.html).  There isn&#39;t a need to sign anything as the library takes care of that for you.  Can you elaborate?","body":"It&#39;s unclear what problem you&#39;re having.  There are plenty of examples of how to interact with AWS services using the Java SDK2 - <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3.html\" rel=\"nofollow noreferrer\">here is S3 for example</a>.  There isn&#39;t a need to sign anything as the library takes care of that for you.  Can you elaborate?"},{"owner":{"account_id":4833954,"reputation":31,"user_id":4027182,"display_name":"Somehow Buddy"},"score":0,"creation_date":1653079254,"post_id":72322248,"comment_id":127772345,"body_markdown":"the problem is i don&#39;t need to interact with a service.\ni need 2 make an HTTP request 2 an API GW url (like https://***.execute-api.us-east-1.amazonaws.com/LATEST) but without manually generating signature.\n\nthe SDK v1 has support for that signing (like it&#39;s implemented here: https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code).\ni can&#39;t find support for this in SDK v2.\n\neven &#39;autogenerated&#39; client code still depends on SDK v1 and uses the same principle of creating a signed http request)","body":"the problem is i don&#39;t need to interact with a service. i need 2 make an HTTP request 2 an API GW url (like https://***.execute-api.us-east-1.amazonaws.com/LATEST) but without manually generating signature.  the SDK v1 has support for that signing (like it&#39;s implemented here: <a href=\"https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code\" rel=\"nofollow noreferrer\">inspeerity.com/blog/&hellip;</a>). i can&#39;t find support for this in SDK v2.  even &#39;autogenerated&#39; client code still depends on SDK v1 and uses the same principle of creating a signed http request)"},{"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"score":0,"creation_date":1653556189,"post_id":72322248,"comment_id":127882256,"body_markdown":"The [default credential provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html) is the search order normally used by the SDK to find credentials and authenticate for you (e.g. an env var). But what specific issues/errors are you encountering with using the generated code, as that is one of the recommended methods of invocation? https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-call-apigateway-generated-java-sdk.html","body":"The <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">default credential provider chain</a> is the search order normally used by the SDK to find credentials and authenticate for you (e.g. an env var). But what specific issues/errors are you encountering with using the generated code, as that is one of the recommended methods of invocation? <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-call-apigateway-generated-java-sdk.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/apigateway/latest/developerguide/&hellip;</a>"},{"owner":{"account_id":4833954,"reputation":31,"user_id":4027182,"display_name":"Somehow Buddy"},"score":0,"creation_date":1653578935,"post_id":72322248,"comment_id":127890327,"body_markdown":"@qix i know. but...\n1. the &#39;generated client&#39; might not be available\n2. the &#39;generated client&#39; is useless because the API is not defined correctly in terms of data mappings of the response (my case. and i can&#39;t do nothing about it, the API is beyond my control)\n3. the &#39;generated client&#39; still depends on SDK v1. Should I want to use SDK v2 only it renders that &#39;generated client&#39; code useless\n\nThus I was looking for more &#39;general&#39; solution but could not find any SDK v2 helper classes which would allow me not to code HTTP request signatures.","body":"@qix i know. but... 1. the &#39;generated client&#39; might not be available 2. the &#39;generated client&#39; is useless because the API is not defined correctly in terms of data mappings of the response (my case. and i can&#39;t do nothing about it, the API is beyond my control) 3. the &#39;generated client&#39; still depends on SDK v1. Should I want to use SDK v2 only it renders that &#39;generated client&#39; code useless  Thus I was looking for more &#39;general&#39; solution but could not find any SDK v2 helper classes which would allow me not to code HTTP request signatures."}],"owner":{"account_id":4833954,"reputation":31,"user_id":4027182,"display_name":"Somehow Buddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1653556348,"creation_date":1653065042,"question_id":72322248,"body_markdown":"Anybody can point me to the documentation / proper AWS Java SDK v2 where it&#39;s described how to use &#39;default AWS credentials provider chain&#39; (which would pick up the role configured for my EC2 instance)?\r\nThey say in the general documentation that I don&#39;t need to &#39;manually&#39; sign the HTTP request.\r\n\r\nBut I struggle to find documentation/examples of SDK helper(?) classes which would do the signing of the HTTP (specifically in SDK v2). \r\n\r\nA bit more clarification.\r\nWhen I generate API client code (from the deployed API) it still uses SDK v1 classes internally.\r\nThe question is basically: how to port functionality like\r\n\r\n            HttpResponseHandler&lt;DeleteFtpuserResult&gt; responseHandler = protocolFactory.createResponseHandler(new JsonOperationMetadata().withPayloadJson(true)\r\n                .withHasStreamingSuccessResponse(false), new DeleteFtpuserResultJsonUnmarshaller());\r\n\r\n        HttpResponseHandler&lt;SdkBaseException&gt; errorResponseHandler = createErrorResponseHandler(new JsonErrorShapeMetadata().withModeledClass(\r\n                BadRequestException.class).withHttpStatusCode(400));\r\n\r\n        return clientHandler.execute(new ClientExecutionParams&lt;DeleteFtpuserRequest, DeleteFtpuserResult&gt;()\r\n                .withMarshaller(new DeleteFtpuserRequestProtocolMarshaller(protocolFactory)).withResponseHandler(responseHandler)\r\n                .withErrorResponseHandler(errorResponseHandler).withInput(deleteFtpuserRequest));\r\n\r\nto SDK v2?","title":"How to invoke a ReST endpoint (deployed in AWS API Gateway using IAM permissions) using AWS Java SDK v2?","body":"<p>Anybody can point me to the documentation / proper AWS Java SDK v2 where it's described how to use 'default AWS credentials provider chain' (which would pick up the role configured for my EC2 instance)?\nThey say in the general documentation that I don't need to 'manually' sign the HTTP request.</p>\n<p>But I struggle to find documentation/examples of SDK helper(?) classes which would do the signing of the HTTP (specifically in SDK v2).</p>\n<p>A bit more clarification.\nWhen I generate API client code (from the deployed API) it still uses SDK v1 classes internally.\nThe question is basically: how to port functionality like</p>\n<pre><code>        HttpResponseHandler&lt;DeleteFtpuserResult&gt; responseHandler = protocolFactory.createResponseHandler(new JsonOperationMetadata().withPayloadJson(true)\n            .withHasStreamingSuccessResponse(false), new DeleteFtpuserResultJsonUnmarshaller());\n\n    HttpResponseHandler&lt;SdkBaseException&gt; errorResponseHandler = createErrorResponseHandler(new JsonErrorShapeMetadata().withModeledClass(\n            BadRequestException.class).withHttpStatusCode(400));\n\n    return clientHandler.execute(new ClientExecutionParams&lt;DeleteFtpuserRequest, DeleteFtpuserResult&gt;()\n            .withMarshaller(new DeleteFtpuserRequestProtocolMarshaller(protocolFactory)).withResponseHandler(responseHandler)\n            .withErrorResponseHandler(errorResponseHandler).withInput(deleteFtpuserRequest));\n</code></pre>\n<p>to SDK v2?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":9494775,"reputation":11187,"user_id":7058266,"display_name":"Michael Mintz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653556337,"creation_date":1653556337,"answer_id":72389427,"question_id":72388640,"body_markdown":"I suspect your issue is due to not waiting long enough for the element to appear. I ran the following successfully using the exact same selectors you had (although with Python instead of Java):\r\n\r\n```python\r\nfrom seleniumbase import BaseCase\r\n\r\nclass MyTestClass(BaseCase):\r\n    def test_base(self):\r\n        self.open(&quot;https://release.squareoffnow.com/&quot;)\r\n        self.click_link(&quot;Products&quot;)\r\n        self.click(&quot;.store-buy-pro-button&quot;)\r\n        self.click(&quot;.pro-twinpack-button&quot;)\r\n        self.click(&quot;.whole-purchase-button&quot;)\r\n        self.click(&quot;.productAvailability &gt; .click-button&quot;)\r\n        self.click(&quot;.giftpackSubmit&quot;)\r\n        self.click(&quot;.checkout-anchor&quot;)\r\n```\r\n\r\nFull disclosure: This particular framework, [SeleniumBase](https://github.com/seleniumbase/SeleniumBase) is one that I personally built, and it uses smart-waiting to make sure that elements have fully loaded before taking action. Java probably has something similar so that you can wait for the element to be clickable so that you don&#39;t have to sleep for an arbitrary amount of time between steps.","title":"Selenium no such element exists","body":"<p>I suspect your issue is due to not waiting long enough for the element to appear. I ran the following successfully using the exact same selectors you had (although with Python instead of Java):</p>\n<pre class=\"lang-py prettyprint-override\"><code>from seleniumbase import BaseCase\n\nclass MyTestClass(BaseCase):\n    def test_base(self):\n        self.open(&quot;https://release.squareoffnow.com/&quot;)\n        self.click_link(&quot;Products&quot;)\n        self.click(&quot;.store-buy-pro-button&quot;)\n        self.click(&quot;.pro-twinpack-button&quot;)\n        self.click(&quot;.whole-purchase-button&quot;)\n        self.click(&quot;.productAvailability &gt; .click-button&quot;)\n        self.click(&quot;.giftpackSubmit&quot;)\n        self.click(&quot;.checkout-anchor&quot;)\n</code></pre>\n<p>Full disclosure: This particular framework, <a href=\"https://github.com/seleniumbase/SeleniumBase\" rel=\"nofollow noreferrer\">SeleniumBase</a> is one that I personally built, and it uses smart-waiting to make sure that elements have fully loaded before taking action. Java probably has something similar so that you can wait for the element to be clickable so that you don't have to sleep for an arbitrary amount of time between steps.</p>\n"}],"owner":{"account_id":16285921,"reputation":11,"user_id":11760701,"display_name":"Manav Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653556337,"creation_date":1653552097,"question_id":72388640,"body_markdown":"I am trying to perform a simple checkout flow on my staging website, but I cant seem to find the element. I tried to use selenium IDE which works but when it comes to coding in java I keep getting stuck on secure checkout\r\n\r\nthis is the element button I want to click\r\n```\r\n&lt;a class=&quot;checkout-anchor click-button display-flex vertical-align-center justify-center&quot; href=&quot;javascript:void(0);&quot; onclick=&quot;onCheckout()&quot; data-stepid=&quot;cartstep04&quot;&gt;\r\n&lt;img src=&quot;https://release.squareoffnow.com/public/assets/images/checkout/svg/secure.svg&quot; class=&quot;secure-pic ls-is-cached lazyloaded&quot; alt=&quot;&quot;&gt;Secure Checkout&lt;/a&gt;\r\n```\r\nThis is the code i have written so far\r\n```\r\npackage googleTestCases;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Dimension;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class simpleCartFlow {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/manavmehta/Desktop/squareoffSeleniumProjects/chromedriver&quot;);\r\n        WebDriver driver=new ChromeDriver();\r\n        driver.get(&quot;http://release.squareoffnow.com/&quot;);\r\n        driver.manage().window().setSize(new Dimension(1440, 789));\r\n        driver.findElement(By.linkText(&quot;Products&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;.store-buy-pro-button&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;.pro-twinpack-button&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;.whole-purchase-button&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;.productAvailability &gt; .click-button&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;.giftpackSubmit&quot;)).click();\r\n        System.out.println(&quot;button not clicked&quot;);\r\n        driver.findElement(By.cssSelector(&quot;.checkout-anchor&quot;)).click();\r\n        System.out.println(&quot;button clicked&quot;);\r\n\r\n\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\ninstead of using a CSS selector I also tried to use linkText but it still didn&#39;t work\r\n\r\nI keep getting this error [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6MCOq.jpg","title":"Selenium no such element exists","body":"<p>I am trying to perform a simple checkout flow on my staging website, but I cant seem to find the element. I tried to use selenium IDE which works but when it comes to coding in java I keep getting stuck on secure checkout</p>\n<p>this is the element button I want to click</p>\n<pre><code>&lt;a class=&quot;checkout-anchor click-button display-flex vertical-align-center justify-center&quot; href=&quot;javascript:void(0);&quot; onclick=&quot;onCheckout()&quot; data-stepid=&quot;cartstep04&quot;&gt;\n&lt;img src=&quot;https://release.squareoffnow.com/public/assets/images/checkout/svg/secure.svg&quot; class=&quot;secure-pic ls-is-cached lazyloaded&quot; alt=&quot;&quot;&gt;Secure Checkout&lt;/a&gt;\n</code></pre>\n<p>This is the code i have written so far</p>\n<pre><code>package googleTestCases;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Dimension;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class simpleCartFlow {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/manavmehta/Desktop/squareoffSeleniumProjects/chromedriver&quot;);\n        WebDriver driver=new ChromeDriver();\n        driver.get(&quot;http://release.squareoffnow.com/&quot;);\n        driver.manage().window().setSize(new Dimension(1440, 789));\n        driver.findElement(By.linkText(&quot;Products&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;.store-buy-pro-button&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;.pro-twinpack-button&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;.whole-purchase-button&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;.productAvailability &gt; .click-button&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;.giftpackSubmit&quot;)).click();\n        System.out.println(&quot;button not clicked&quot;);\n        driver.findElement(By.cssSelector(&quot;.checkout-anchor&quot;)).click();\n        System.out.println(&quot;button clicked&quot;);\n\n\n        driver.quit();\n    }\n}\n</code></pre>\n<p>instead of using a CSS selector I also tried to use linkText but it still didn't work</p>\n<p>I keep getting this error <a href=\"https://i.stack.imgur.com/6MCOq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MCOq.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit","junit-rule"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1398959110,"creation_date":1398957944,"answer_id":23410815,"question_id":23410738,"body_markdown":"Have you looked at JUnit [assumptions][1] ?\r\n\r\n&gt;  useful for stating assumptions about the conditions in which a test\r\n&gt; is meaningful. A failed assumption does not mean the code is broken,\r\n&gt; but that the test provides no useful information. The default JUnit\r\n&gt; runner treats tests with failing assumptions as ignored\r\n\r\n(which seems to meet your criteria for ignoring these tests). \r\n\r\n\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assume.html\r\n  [2]: http://junit-team.github.io/junit/javadoc/4.10/org/junit/rules/TestRule.html","title":"Run unit tests only on Windows","body":"<p>Have you looked at JUnit <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\" rel=\"nofollow\">assumptions</a> ?</p>\n\n<blockquote>\n  <p>useful for stating assumptions about the conditions in which a test\n  is meaningful. A failed assumption does not mean the code is broken,\n  but that the test provides no useful information. The default JUnit\n  runner treats tests with failing assumptions as ignored</p>\n</blockquote>\n\n<p>(which seems to meet your criteria for ignoring these tests). </p>\n"},{"tags":[],"owner":{"account_id":2671187,"reputation":3406,"user_id":2308571,"display_name":"jgitter"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1398958043,"creation_date":1398958043,"answer_id":23410852,"question_id":23410738,"body_markdown":"Have you looked into assumptions?  In the before method you can do this:\r\n\r\n    @Before\r\n    public void windowsOnly() {\r\n        org.junit.Assume.assumeTrue(isWindows());\r\n    }\r\n\r\nDocumentation: http://junit.sourceforge.net/javadoc/org/junit/Assume.html","title":"Run unit tests only on Windows","body":"<p>Have you looked into assumptions?  In the before method you can do this:</p>\n\n<pre><code>@Before\npublic void windowsOnly() {\n    org.junit.Assume.assumeTrue(isWindows());\n}\n</code></pre>\n\n<p>Documentation: <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\">http://junit.sourceforge.net/javadoc/org/junit/Assume.html</a></p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398958960,"creation_date":1398958960,"answer_id":23411143,"question_id":23410738,"body_markdown":"Presumably you do not need to actually call the Windows API as part of the junit test; you only care that the class which is the target of the unit test calls what it thinks is a the windows API.\r\n\r\nConsider mocking the windows api calls as part of the unit tests.","title":"Run unit tests only on Windows","body":"<p>Presumably you do not need to actually call the Windows API as part of the junit test; you only care that the class which is the target of the unit test calls what it thinks is a the windows API.</p>\n\n<p>Consider mocking the windows api calls as part of the unit tests.</p>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1522214901,"creation_date":1522214901,"answer_id":49526738,"question_id":23410738,"body_markdown":"In Junit5, There are options for configuring or run the test for specific Operating System.\r\n\r\n    @EnabledOnOs({ LINUX, MAC })\r\n    void onLinuxOrMac() {\r\n    \r\n    }\r\n    \r\n    @DisabledOnOs(WINDOWS)\r\n    void notOnWindows() {\r\n        // ...\r\n    }","title":"Run unit tests only on Windows","body":"<p>In Junit5, There are options for configuring or run the test for specific Operating System.</p>\n\n<pre><code>@EnabledOnOs({ LINUX, MAC })\nvoid onLinuxOrMac() {\n\n}\n\n@DisabledOnOs(WINDOWS)\nvoid notOnWindows() {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14593176,"reputation":115,"user_id":10539722,"display_name":"3AKOBAH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653556314,"creation_date":1580921633,"answer_id":60080566,"question_id":23410738,"body_markdown":"If you use Apache Commons Lang&#39;s SystemUtils:\r\nIn your @Before method, or inside tests that you don&#39;t want to run on Win, you can add:\r\n\r\n    Assume.assumeTrue(SystemUtils.IS_OS_WINDOWS);","title":"Run unit tests only on Windows","body":"<p>If you use Apache Commons Lang's SystemUtils:\nIn your @Before method, or inside tests that you don't want to run on Win, you can add:</p>\n<pre><code>Assume.assumeTrue(SystemUtils.IS_OS_WINDOWS);\n</code></pre>\n"}],"owner":{"account_id":329717,"reputation":1741,"user_id":653394,"accept_rate":100,"display_name":"darrenmc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8050,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":23410852,"answer_count":5,"score":25,"last_activity_date":1653556314,"creation_date":1398957672,"question_id":23410738,"body_markdown":"I have a class that makes native Windows API calls through JNA.  How can I write JUnit tests that will execute on a Windows development machine but will be ignored on a Unix build server?\r\n\r\nI can easily get the host OS using `System.getProperty(&quot;os.name&quot;)`\r\n\r\nI can write guard blocks in my tests:\r\n\r\n    @Test public void testSomeWindowsAPICall() throws Exception {\r\n      if (isWindows()) {\r\n        // do tests...\r\n      }\r\n    }\r\n\r\nThis extra boiler plate code is not ideal.\r\n\r\nAlternatively I have created a JUnit rule that only runs the test method on Windows:\r\n\r\n      public class WindowsOnlyRule implements TestRule {\r\n        @Override\r\n        public Statement apply(final Statement base, final Description description) {\r\n          return new Statement() {\r\n            @Override\r\n            public void evaluate() throws Throwable {\r\n              if (isWindows()) {\r\n                base.evaluate();\r\n              }\r\n            }\r\n          };\r\n        }\r\n    \r\n        private boolean isWindows() {\r\n          return System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;);\r\n        }\r\n      }\r\n\r\nAnd this can be enforced by adding this annotated field to my test class:\r\n\r\n    @Rule public WindowsOnlyRule runTestOnlyOnWindows = new WindowsOnlyRule();\r\n\r\nBoth these mechanisms are deficient in my opinion in that on a Unix machine they will silently pass.  It would be nicer if they could be marked somehow at execution time with something similar to `@Ignore`\r\n\r\nDoes anybody have an alternative suggestion?","title":"Run unit tests only on Windows","body":"<p>I have a class that makes native Windows API calls through JNA.  How can I write JUnit tests that will execute on a Windows development machine but will be ignored on a Unix build server?</p>\n\n<p>I can easily get the host OS using <code>System.getProperty(\"os.name\")</code></p>\n\n<p>I can write guard blocks in my tests:</p>\n\n<pre><code>@Test public void testSomeWindowsAPICall() throws Exception {\n  if (isWindows()) {\n    // do tests...\n  }\n}\n</code></pre>\n\n<p>This extra boiler plate code is not ideal.</p>\n\n<p>Alternatively I have created a JUnit rule that only runs the test method on Windows:</p>\n\n<pre><code>  public class WindowsOnlyRule implements TestRule {\n    @Override\n    public Statement apply(final Statement base, final Description description) {\n      return new Statement() {\n        @Override\n        public void evaluate() throws Throwable {\n          if (isWindows()) {\n            base.evaluate();\n          }\n        }\n      };\n    }\n\n    private boolean isWindows() {\n      return System.getProperty(\"os.name\").startsWith(\"Windows\");\n    }\n  }\n</code></pre>\n\n<p>And this can be enforced by adding this annotated field to my test class:</p>\n\n<pre><code>@Rule public WindowsOnlyRule runTestOnlyOnWindows = new WindowsOnlyRule();\n</code></pre>\n\n<p>Both these mechanisms are deficient in my opinion in that on a Unix machine they will silently pass.  It would be nicer if they could be marked somehow at execution time with something similar to <code>@Ignore</code></p>\n\n<p>Does anybody have an alternative suggestion?</p>\n"},{"tags":["java","url","tomcat","jakarta-ee"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1653551924,"post_id":72388504,"comment_id":127880930,"body_markdown":"You need to look at the `/WEB-INF/web.xml` file to see the mapping between URLs and servlets.","body":"You need to look at the <code>&#47;WEB-INF&#47;web.xml</code> file to see the mapping between URLs and servlets."},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1653556151,"post_id":72388504,"comment_id":127882249,"body_markdown":"Can you look in the log file and see what URLs users are hitting?","body":"Can you look in the log file and see what URLs users are hitting?"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":1,"creation_date":1653556177,"post_id":72388504,"comment_id":127882255,"body_markdown":"When you say &quot;URL mapper tool&quot; do you mean a web crawler?","body":"When you say &quot;URL mapper tool&quot; do you mean a web crawler?"},{"owner":{"account_id":23295756,"reputation":29,"user_id":17377189,"display_name":"EOTheDev"},"score":0,"creation_date":1653556262,"post_id":72388504,"comment_id":127882275,"body_markdown":"I updated the post with the /WEB-INF/web.xml but there is no response  (error 404 ) under &quot;http://localhost:8080/notificationcardtrx-webapp/index.jsp&quot;","body":"I updated the post with the /WEB-INF/web.xml but there is no response  (error 404 ) under &quot;<a href=\"http://localhost:8080/notificationcardtrx-webapp/index.jsp\" rel=\"nofollow noreferrer\">localhost:8080/notificationcardtrx-webapp/index.jsp</a>&quot;"},{"owner":{"account_id":23295756,"reputation":29,"user_id":17377189,"display_name":"EOTheDev"},"score":0,"creation_date":1653556760,"post_id":72388504,"comment_id":127882427,"body_markdown":"@StephenOstermiller I can look in the logs of the application but it doesn&#39;t log anything beneath &quot;the application is started&quot; logs since I&#39;m looking for a url to hit to test this application.\nYes, I mean something like a web crawler that could work on the localhost","body":"@StephenOstermiller I can look in the logs of the application but it doesn&#39;t log anything beneath &quot;the application is started&quot; logs since I&#39;m looking for a url to hit to test this application. Yes, I mean something like a web crawler that could work on the localhost"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1653557544,"post_id":72388504,"comment_id":127882703,"body_markdown":"To be able to start a web crawler you need to know at least one URL from the web app.  Can you visit the home page for the web app?","body":"To be able to start a web crawler you need to know at least one URL from the web app.  Can you visit the home page for the web app?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653560632,"post_id":72388504,"comment_id":127883716,"body_markdown":"Did you post the entire web.xml file? There is no servlet definition. It means that there are only JSP pages (which is strange for a modern app).","body":"Did you post the entire web.xml file? There is no servlet definition. It means that there are only JSP pages (which is strange for a modern app)."}],"owner":{"account_id":23295756,"reputation":29,"user_id":17377189,"display_name":"EOTheDev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653556119,"creation_date":1653551524,"question_id":72388504,"body_markdown":"I have a java .war application and I deployed on Tomcat.\r\n\r\nI looked for a way to know all the urls that respond under the &quot;localhost:8080&quot; path. \r\nThe solution may not be strictly linked with tomcat or java, it could be a browser option or other tools like a url mapper.\r\n\r\nDo you have any suggestion?\r\n\r\n\r\nUPDATE: the `/WEB-INF/web.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\n    &lt;display-name&gt;notificationcardtrx-webapp&lt;/display-name&gt;\r\n    \r\n    &lt;!-- Changing the default timeout so now the workstation use the same H2O timeout --&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;120&lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    \r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt; \r\n&lt;/web-app&gt;\r\n","title":"Is there a way to know what URLs are responding on Tomcat .war?","body":"<p>I have a java .war application and I deployed on Tomcat.</p>\n<p>I looked for a way to know all the urls that respond under the &quot;localhost:8080&quot; path.\nThe solution may not be strictly linked with tomcat or java, it could be a browser option or other tools like a url mapper.</p>\n<p>Do you have any suggestion?</p>\n<p>UPDATE: the <code>/WEB-INF/web.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n\n&lt;display-name&gt;notificationcardtrx-webapp&lt;/display-name&gt;\n\n&lt;!-- Changing the default timeout so now the workstation use the same H2O timeout --&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;120&lt;/session-timeout&gt;\n&lt;/session-config&gt;\n\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt; \n</code></pre>\n\n"},{"tags":["java","mysql","eclipse","hosting"],"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1395664157,"post_id":22609355,"comment_id":34425627,"body_markdown":"Try to ping your DB server.","body":"Try to ping your DB server."},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1395664362,"post_id":22609355,"comment_id":34425759,"body_markdown":"Make sure you are connected to the internet ;)","body":"Make sure you are connected to the internet ;)"},{"owner":{"account_id":2662501,"reputation":1697,"user_id":2301843,"display_name":"locoyou"},"score":0,"creation_date":1395664590,"post_id":22609355,"comment_id":34425919,"body_markdown":"Ensure your mysql server is available to the Internet and mydbuser get the prvilige to connect the database","body":"Ensure your mysql server is available to the Internet and mydbuser get the prvilige to connect the database"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395664248,"creation_date":1395664248,"answer_id":22609441,"question_id":22609355,"body_markdown":"The default port for MySQL is 3306.  Are you certain that the hostname and port you&#39;re using is correct?\r\n\r\nTry this: \r\n\r\n        konekcija = DriverManager.getConnection(&quot;jdbc:mysql://penal.ba:2082/mydatabasename&quot;, mydbuser, mydbpassword);\r\n\r\n\r\nCheck this: \r\n\r\nhttps://stackoverflow.com/questions/2121829/mysql-jdbc-communications-link-failure\r\n\r\nCan you connect using the MySQL admin?\r\n","title":"How to connect to online mysql database from Java desktop app","body":"<p>The default port for MySQL is 3306.  Are you certain that the hostname and port you're using is correct?</p>\n\n<p>Try this: </p>\n\n<pre><code>    konekcija = DriverManager.getConnection(\"jdbc:mysql://penal.ba:2082/mydatabasename\", mydbuser, mydbpassword);\n</code></pre>\n\n<p>Check this: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/2121829/mysql-jdbc-communications-link-failure\">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException:Communications link failure</a></p>\n\n<p>Can you connect using the MySQL admin?</p>\n"},{"tags":[],"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395664438,"creation_date":1395664438,"answer_id":22609512,"question_id":22609355,"body_markdown":"Check that, if permission is in the DB server for your IP. If not then **GRANT** the permission for the **IP**\r\n\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;USERNAME&#39;@&#39;%&#39; IDENTIFIED BY &#39;PASSWORD&#39; WITH GRANT OPTION;\r\n\r\nif not working, check the **FIREWALL**.","title":"How to connect to online mysql database from Java desktop app","body":"<p>Check that, if permission is in the DB server for your IP. If not then <strong>GRANT</strong> the permission for the <strong>IP</strong></p>\n\n<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'USERNAME'@'%' IDENTIFIED BY 'PASSWORD' WITH GRANT OPTION;\n</code></pre>\n\n<p>if not working, check the <strong>FIREWALL</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395665630,"creation_date":1395665630,"answer_id":22610008,"question_id":22609355,"body_markdown":"sample code:\r\n\r\n\tString url1 = &quot;jdbc:mysql://localhost:3306/&quot;;\r\n\tString db1 = &quot;userdb&quot;;\r\n\tString driver1 = &quot;com.mysql.jdbc.Driver&quot;;\r\n\tString user1 = &quot;root&quot;;\r\n\tString pass1 = &quot;sarakrish&quot;;\r\n\t  try {\r\n\t\t\t  Class.forName(driver1).newInstance();\r\n\t\t\t  con = DriverManager.getConnection(url1 + db1, user1, pass1);\r\n\r\nyou should try this method:\r\n\r\n\tString url = &quot;jdbc:mysql://penal.ba:2082/&quot;;\r\n\tString db = &quot;mydatabasename&quot;;\r\n\tString driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n\tString user = &quot;mydbuser&quot;;\r\n\tString pass = &quot;mydbpassword&quot;;\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                konekcija = DriverManager.getConnection(url+db,user,pass);","title":"How to connect to online mysql database from Java desktop app","body":"<p>sample code:</p>\n\n<pre><code>String url1 = \"jdbc:mysql://localhost:3306/\";\nString db1 = \"userdb\";\nString driver1 = \"com.mysql.jdbc.Driver\";\nString user1 = \"root\";\nString pass1 = \"sarakrish\";\n  try {\n          Class.forName(driver1).newInstance();\n          con = DriverManager.getConnection(url1 + db1, user1, pass1);\n</code></pre>\n\n<p>you should try this method:</p>\n\n<pre><code>String url = \"jdbc:mysql://penal.ba:2082/\";\nString db = \"mydatabasename\";\nString driver = \"com.mysql.jdbc.Driver\";\nString user = \"mydbuser\";\nString pass = \"mydbpassword\";\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            konekcija = DriverManager.getConnection(url+db,user,pass);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5561173,"reputation":383,"user_id":4410345,"accept_rate":83,"display_name":"Grigoris Loukidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468402782,"creation_date":1468402782,"answer_id":38347951,"question_id":22609355,"body_markdown":"Download the connector J . Add it to your classpath and in the code:\r\n\r\n    // This will load the MySQL driver, each DB has its own driver\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    // Setup the connection with the DB\r\n    connect = DriverManager\r\n      .getConnection(&quot;jdbc:mysql://remoteUri/database-name?&quot;\r\n          + &quot;user=user&amp;password=userpw&quot;);","title":"How to connect to online mysql database from Java desktop app","body":"<p>Download the connector J . Add it to your classpath and in the code:</p>\n\n<pre><code>// This will load the MySQL driver, each DB has its own driver\nClass.forName(\"com.mysql.jdbc.Driver\");\n// Setup the connection with the DB\nconnect = DriverManager\n  .getConnection(\"jdbc:mysql://remoteUri/database-name?\"\n      + \"user=user&amp;password=userpw\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9116513,"reputation":1,"user_id":6783495,"display_name":"danvanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472739005,"creation_date":1472735914,"answer_id":39272618,"question_id":22609355,"body_markdown":"    Connection konekcija = DriverManager.getConnection(&quot;jdbc:mysql://penal.ba:2082/mydatabasename?&quot; + &quot;user=mydbuser&amp;password=mydbpassword&quot;);\r\n    //konekcija should be an object of Connection class.....I think :-p","title":"How to connect to online mysql database from Java desktop app","body":"<pre><code>Connection konekcija = DriverManager.getConnection(\"jdbc:mysql://penal.ba:2082/mydatabasename?\" + \"user=mydbuser&amp;password=mydbpassword\");\n//konekcija should be an object of Connection class.....I think :-p\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7303026,"reputation":104,"user_id":5565001,"accept_rate":75,"display_name":"DW_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472739240,"creation_date":1472739240,"answer_id":39273928,"question_id":22609355,"body_markdown":"If you can&#39;t connect to a remote MySql database, this is due to permissions by the hosting company/server. You can solve this by adding permission for your ip.","title":"How to connect to online mysql database from Java desktop app","body":"<p>If you can't connect to a remote MySql database, this is due to permissions by the hosting company/server. You can solve this by adding permission for your ip.</p>\n"}],"owner":{"account_id":2340283,"reputation":307,"user_id":2051738,"accept_rate":31,"display_name":"Nedimo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1653555935,"creation_date":1395664022,"question_id":22609355,"body_markdown":"I pave paid hosting, and i added my database to it. I am trying to connect to this online database from my java desktop application but,  i got exception: Communications link failure.\r\n\r\nhere is my code:\r\n\r\n\tpublic Kviz_DAO(){\r\n\t\ttry{\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tkonekcija = DriverManager.getConnection(&quot;jdbc:mysql://penal.ba:2082/mydatabasename?&quot;+\r\n\t\t\t\t\t&quot;user=mydbuser&amp;password=mydbpassword&quot;);\r\n\t\t}\r\n\t\tcatch(Exception ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nCan anyone tell me what i&#39;m doing wrong.","title":"How to connect to online mysql database from Java desktop app","body":"<p>I pave paid hosting, and i added my database to it. I am trying to connect to this online database from my java desktop application but,  i got exception: Communications link failure.</p>\n\n<p>here is my code:</p>\n\n<pre><code>public Kviz_DAO(){\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        konekcija = DriverManager.getConnection(\"jdbc:mysql://penal.ba:2082/mydatabasename?\"+\n                \"user=mydbuser&amp;password=mydbpassword\");\n    }\n    catch(Exception ex){\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Can anyone tell me what i'm doing wrong.</p>\n"},{"tags":["java","image","apache-poi"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653552516,"post_id":72388673,"comment_id":127881092,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1653553141,"post_id":72388673,"comment_id":127881304,"body_markdown":"Pictures are not **in** cells in Excel. They hover in a drawing layer over the cells and only are anchored on the cells. So you need calculating the anchor position. See https://stackoverflow.com/questions/57822868/apache-poi-insert-2-images-in-one-cell-with-differend-anchor-properites/57823512#57823512 for an example.","body":"Pictures are not <b>in</b> cells in Excel. They hover in a drawing layer over the cells and only are anchored on the cells. So you need calculating the anchor position. See <a href=\"https://stackoverflow.com/questions/57822868/apache-poi-insert-2-images-in-one-cell-with-differend-anchor-properites/57823512#57823512\" title=\"apache poi insert 2 images in one cell with differend anchor properites\">stackoverflow.com/questions/57822868/&hellip;</a> for an example."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653555898,"creation_date":1653555368,"answer_id":72389256,"question_id":72388673,"body_markdown":"Pictures are not **in** cells in Excel. They hover in a drawing layer over the cells and only are anchored on the cells. So you need calculating the anchor position. That requires following knowledge:\r\n\r\nA [ClientAnchor](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html) has following properties:\r\n\r\nCol1 = top left edge of the shape is ancored on left edge of that column\r\n\r\nRow1 =  top left edge of the shape is ancored on top edge of that row\r\n\r\nCol2 = bottom right edge of the shape is ancored on left edge of that column\r\n\r\nRow2 = bottom right edge of the shape is ancored on top edge of that row\r\n\r\nDx1 = delta x to shift top left edge of the shape away from the left edge of the Col1\r\n\r\nDy1 = delta y to shift top left edge of the shape away from the top edge of the Row1\r\n\r\nDx2 = delta x to shift bottom right edge of the shape away from the left edge of the Col2\r\n\r\nDy2 = delta y to shift bottom right edge of the shape away from the top edge of the Row2\r\n\r\nNote, measurement unit for dx and dy is EMU (English Metric Unit). There is [Units](https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html) to handle those strange measurement units properly.\r\n\r\nAdditional we need some math.\r\n\r\nTake the method `void addImage` from example of https://stackoverflow.com/questions/57822868/apache-poi-insert-2-images-in-one-cell-with-differend-anchor-properites/57823512#57823512 and use it like so:\r\n\r\n    ...\r\n     public static void main(String args[]) throws Exception {\r\n    \r\n      workbook = new XSSFWorkbook();\r\n      sheet = workbook.createSheet();\r\n    \r\n      int gapTopPx = 10;\r\n      int gapLeftPx = 20;\r\n      int gapBetweenPx = 30;\r\n      int gapBelowPx = 40;\r\n      \r\n      sheet.setColumnWidth(0, 30*256);\r\n      int columnWidthPx = Math.round(sheet.getColumnWidthInPixels(0));\r\n      sheet.createRow(0).setHeightInPoints((float)Units.pixelToPoints(gapTopPx+pictureHeightPx*2+gapBetweenPx+gapBelowPx));\r\n      \r\n      sheet.getRow(0).createCell(0).setCellValue(&quot;Two pictures in A1&quot;);\r\n      \r\n      addImage(0, 0, 0, 0, /*all fits in cell A1*/\r\n       /*Dx1 = gap left and Dy1 = gap top*/\r\n       Units.pixelToEMU(gapLeftPx), Units.pixelToEMU(gapTopPx), \r\n       /*Dx2 is gap left plus picture&#39;s width and Dy2 is gap top plus first picture&#39;s height*/\r\n       Units.pixelToEMU(gapLeftPx + pictureWidthPx), Units.pixelToEMU(gapTopPx + pictureHeightPx),\r\n       pictureFileNames[0], pictureTypes[0], ClientAnchor.AnchorType.MOVE_AND_RESIZE);\r\n    \r\n      addImage(0, 0, 0, 0, /*all fits in cell A1*/\r\n       /*Dx1 = gap left and Dy1 = gap top plus first picture&#39;s height plus gap between pictures*/\r\n       Units.pixelToEMU(gapLeftPx), Units.pixelToEMU(gapTopPx + pictureHeightPx + gapBetweenPx), \r\n       /*Dx2 is gapleft plus picture&#39;s width and Dy2 is gap top plus first picture&#39;s height plus gab betweeen pictures plus second picture&#39;s height*/\r\n       Units.pixelToEMU(gapLeftPx + pictureWidthPx), Units.pixelToEMU(gapTopPx + pictureHeightPx + gapBetweenPx + pictureHeightPx),\r\n       pictureFileNames[1], pictureTypes[1], ClientAnchor.AnchorType.MOVE_AND_RESIZE);\r\n       \r\n    \r\n      FileOutputStream fos = new FileOutputStream(excelPath);\r\n      workbook.write(fos);\r\n      fos.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    ...\r\n\r\nThis results in:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WPziJ.png\r\n","title":"How to import multiple image into Excel by Java POI","body":"<p>Pictures are not <strong>in</strong> cells in Excel. They hover in a drawing layer over the cells and only are anchored on the cells. So you need calculating the anchor position. That requires following knowledge:</p>\n<p>A <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html\" rel=\"nofollow noreferrer\">ClientAnchor</a> has following properties:</p>\n<p>Col1 = top left edge of the shape is ancored on left edge of that column</p>\n<p>Row1 =  top left edge of the shape is ancored on top edge of that row</p>\n<p>Col2 = bottom right edge of the shape is ancored on left edge of that column</p>\n<p>Row2 = bottom right edge of the shape is ancored on top edge of that row</p>\n<p>Dx1 = delta x to shift top left edge of the shape away from the left edge of the Col1</p>\n<p>Dy1 = delta y to shift top left edge of the shape away from the top edge of the Row1</p>\n<p>Dx2 = delta x to shift bottom right edge of the shape away from the left edge of the Col2</p>\n<p>Dy2 = delta y to shift bottom right edge of the shape away from the top edge of the Row2</p>\n<p>Note, measurement unit for dx and dy is EMU (English Metric Unit). There is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html\" rel=\"nofollow noreferrer\">Units</a> to handle those strange measurement units properly.</p>\n<p>Additional we need some math.</p>\n<p>Take the method <code>void addImage</code> from example of <a href=\"https://stackoverflow.com/questions/57822868/apache-poi-insert-2-images-in-one-cell-with-differend-anchor-properites/57823512#57823512\">Apache Poi, insert 2 images in one cell with differend anchor properites</a> and use it like so:</p>\n<pre><code>...\n public static void main(String args[]) throws Exception {\n\n  workbook = new XSSFWorkbook();\n  sheet = workbook.createSheet();\n\n  int gapTopPx = 10;\n  int gapLeftPx = 20;\n  int gapBetweenPx = 30;\n  int gapBelowPx = 40;\n  \n  sheet.setColumnWidth(0, 30*256);\n  int columnWidthPx = Math.round(sheet.getColumnWidthInPixels(0));\n  sheet.createRow(0).setHeightInPoints((float)Units.pixelToPoints(gapTopPx+pictureHeightPx*2+gapBetweenPx+gapBelowPx));\n  \n  sheet.getRow(0).createCell(0).setCellValue(&quot;Two pictures in A1&quot;);\n  \n  addImage(0, 0, 0, 0, /*all fits in cell A1*/\n   /*Dx1 = gap left and Dy1 = gap top*/\n   Units.pixelToEMU(gapLeftPx), Units.pixelToEMU(gapTopPx), \n   /*Dx2 is gap left plus picture's width and Dy2 is gap top plus first picture's height*/\n   Units.pixelToEMU(gapLeftPx + pictureWidthPx), Units.pixelToEMU(gapTopPx + pictureHeightPx),\n   pictureFileNames[0], pictureTypes[0], ClientAnchor.AnchorType.MOVE_AND_RESIZE);\n\n  addImage(0, 0, 0, 0, /*all fits in cell A1*/\n   /*Dx1 = gap left and Dy1 = gap top plus first picture's height plus gap between pictures*/\n   Units.pixelToEMU(gapLeftPx), Units.pixelToEMU(gapTopPx + pictureHeightPx + gapBetweenPx), \n   /*Dx2 is gapleft plus picture's width and Dy2 is gap top plus first picture's height plus gab betweeen pictures plus second picture's height*/\n   Units.pixelToEMU(gapLeftPx + pictureWidthPx), Units.pixelToEMU(gapTopPx + pictureHeightPx + gapBetweenPx + pictureHeightPx),\n   pictureFileNames[1], pictureTypes[1], ClientAnchor.AnchorType.MOVE_AND_RESIZE);\n   \n\n  FileOutputStream fos = new FileOutputStream(excelPath);\n  workbook.write(fos);\n  fos.close();\n  workbook.close();\n\n }\n...\n</code></pre>\n<p>This results in:</p>\n<p><a href=\"https://i.stack.imgur.com/WPziJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WPziJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22540849,"reputation":43,"user_id":16731421,"display_name":"Tina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72389256,"answer_count":1,"score":0,"last_activity_date":1653555898,"creation_date":1653552245,"question_id":72388673,"body_markdown":"Is there any way to import multi picture and text into a cell of excel?\r\nI&#39;m using Java POI.\r\nThis is\r\n[my expected result][1]\r\n\r\n  [1]: https://i.stack.imgur.com/wDRej.png","title":"How to import multiple image into Excel by Java POI","body":"<p>Is there any way to import multi picture and text into a cell of excel?\nI'm using Java POI.\nThis is\n<a href=\"https://i.stack.imgur.com/wDRej.png\" rel=\"nofollow noreferrer\">my expected result</a></p>\n"},{"tags":["java","mysql","sql","syntax-error"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653555487,"post_id":72388857,"comment_id":127882029,"body_markdown":"Remove the `t` alias. You don&#39;t need it.","body":"Remove the <code>t</code> alias. You don&#39;t need it."},{"owner":{"account_id":22051617,"reputation":71,"user_id":16315834,"display_name":"ErSeraph"},"score":0,"creation_date":1653555998,"post_id":72388857,"comment_id":127882195,"body_markdown":"But why is this query working in a query tab and not in java? And why only in production server while working perfectly in local and development server?","body":"But why is this query working in a query tab and not in java? And why only in production server while working perfectly in local and development server?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653556247,"post_id":72388857,"comment_id":127882269,"body_markdown":"Because obviously the MySQL version is not the same in development and production.","body":"Because obviously the MySQL version is not the same in development and production."},{"owner":{"account_id":22051617,"reputation":71,"user_id":16315834,"display_name":"ErSeraph"},"score":0,"creation_date":1653556823,"post_id":72388857,"comment_id":127882451,"body_markdown":"Yes, I had also thought about this, in fact you are right, but why the same query if I run it on MySQL Workbanch in production works fine while if Java runs it doesn&#39;t? Consider that both Workbanch and Java queries work on development server","body":"Yes, I had also thought about this, in fact you are right, but why the same query if I run it on MySQL Workbanch in production works fine while if Java runs it doesn&#39;t? Consider that both Workbanch and Java queries work on development server"},{"owner":{"account_id":15119538,"reputation":6878,"user_id":10910692,"display_name":"FanoFN"},"score":0,"creation_date":1653557426,"post_id":72388857,"comment_id":127882664,"body_markdown":"Could be related to this ? https://stackoverflow.com/questions/50351277/java-getmetadata-or-getstring-does-not-listen-to-aliases-in-sql-query","body":"Could be related to this ? <a href=\"https://stackoverflow.com/questions/50351277/java-getmetadata-or-getstring-does-not-listen-to-aliases-in-sql-query\" title=\"java getmetadata or getstring does not listen to aliases in sql query\">stackoverflow.com/questions/50351277/&hellip;</a>"}],"owner":{"account_id":22051617,"reputation":71,"user_id":16315834,"display_name":"ErSeraph"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653555508,"creation_date":1653553359,"question_id":72388857,"body_markdown":"In Java (Spring), I have this\r\n\r\n    String query = &quot;delete FROM TASK_SCHEDULER_REPORT t where ((t.DATA_SCHEDULAZIONE is null) and (t.DT_INSERIMENTO &lt; &#39;&quot;+date.toString()+&quot;&#39;)) or ((t.DATA_SCHEDULAZIONE is not null) and (t.DATA_SCHEDULAZIONE &lt; &#39;&quot;+date.toString()+&quot;&#39;))&quot;;\r\n\r\nThis is a native query and it&#39;s actually working on MySql Workbanch, Spring Boot Dashboard and exported as Jar. But deploying on the production server he says:\r\n\r\n&gt; You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;t where ((t.DATA_SCHEDULAZIONE is null) and (t.DT_INSERIMENTO &lt; &#39;2022-04-25&#39;)) o&#39; at line 1\r\n\r\nWhat is happening?","title":"SQL Syntax error on production server but working everywhere else","body":"<p>In Java (Spring), I have this</p>\n<pre><code>String query = &quot;delete FROM TASK_SCHEDULER_REPORT t where ((t.DATA_SCHEDULAZIONE is null) and (t.DT_INSERIMENTO &lt; '&quot;+date.toString()+&quot;')) or ((t.DATA_SCHEDULAZIONE is not null) and (t.DATA_SCHEDULAZIONE &lt; '&quot;+date.toString()+&quot;'))&quot;;\n</code></pre>\n<p>This is a native query and it's actually working on MySql Workbanch, Spring Boot Dashboard and exported as Jar. But deploying on the production server he says:</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 't where ((t.DATA_SCHEDULAZIONE is null) and (t.DT_INSERIMENTO &lt; '2022-04-25')) o' at line 1</p>\n</blockquote>\n<p>What is happening?</p>\n"},{"tags":["java","file","save"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1559263191,"post_id":56386445,"comment_id":99374391,"body_markdown":"Just put the last prompt and format in a loop. What are you stuck on specifically?","body":"Just put the last prompt and format in a loop. What are you stuck on specifically?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559267838,"creation_date":1559267838,"answer_id":56387757,"question_id":56386445,"body_markdown":"Your problem is the fact that you are utilizing the wrong Scanner method for retrieving String line data from both **file** and **User**.\r\n\r\nUse the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method instead of the [Scanner#next()](https://www.tutorialspoint.com/java/util/scanner_next.htm) method **and** use it in conjunction with the [Scanner#HasNextLine()](https://www.tutorialspoint.com/java/util/scanner_hasnextline.htm) method in your **while** loop condition (instead of the [Scanner#hasNext()](https://www.tutorialspoint.com/java/util/scanner_hasnext.htm) method):\r\n\r\n    String newInput = scanner.nextLine();\r\n\r\nUse the **Scanner#nextLine()** method where you prompt for a file name and prompt for what to add to file!. Also use it within your **while** loop for reading the file (in conjuction with the **Scanner#hasNextLine()** method). Carefully read about the differences between all these methods!\r\n\r\n**Scanner#hasNext()** and **Scanner#next()** methods are more geared towords Token (word) based situations (one word at a time) whereas the **Scanner#hasNextLine()** and **Scanner#nextLine()** methods are used for entire string lines. This is what I believe you *really* want.\r\n\r\n&gt; Other Notes:\r\n\r\nYou may want to remove the white-space after your last forward slashes (//):\r\n\r\n    &quot;C://Meine Dateien// &quot; + fileName + &quot;.txt&quot;; \r\n\r\nunless of course you want t0 add a white-space at the beginning of every every name for every file created by your application.\r\n\r\nWhen using boolean variables in conditions such as those in **if** statements, you can just use: \r\n\r\n    if (myFile.exists()) {   // IF true\r\n\r\ninstead of:\r\n\r\n    if (myFile.exists() == true) {  // IF true\r\n\r\nand:\r\n\r\n    if (!myFile.exists()) {   // IF false\r\n\r\ninstead of: \r\n\r\n    if (myFile.exists() == false) {  // IF false\r\n\r\nEither way works just fine but you will later find that the shorter way is less prone to errors due to typo&#39;s and I think it&#39;s easier to read but that&#39;s just my opinion.\r\n\r\nDon&#39;t forget to close your file **reader**. Use [**Try With Resources**](http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html) to take care of this sort of thing for you with regards to both your reader and writer.","title":"How to develop the code to save more than word in the selected file?","body":"<p>Your problem is the fact that you are utilizing the wrong Scanner method for retrieving String line data from both <strong>file</strong> and <strong>User</strong>.</p>\n\n<p>Use the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method instead of the <a href=\"https://www.tutorialspoint.com/java/util/scanner_next.htm\" rel=\"nofollow noreferrer\">Scanner#next()</a> method <strong>and</strong> use it in conjunction with the <a href=\"https://www.tutorialspoint.com/java/util/scanner_hasnextline.htm\" rel=\"nofollow noreferrer\">Scanner#HasNextLine()</a> method in your <strong>while</strong> loop condition (instead of the <a href=\"https://www.tutorialspoint.com/java/util/scanner_hasnext.htm\" rel=\"nofollow noreferrer\">Scanner#hasNext()</a> method):</p>\n\n<pre><code>String newInput = scanner.nextLine();\n</code></pre>\n\n<p>Use the <strong>Scanner#nextLine()</strong> method where you prompt for a file name and prompt for what to add to file!. Also use it within your <strong>while</strong> loop for reading the file (in conjuction with the <strong>Scanner#hasNextLine()</strong> method). Carefully read about the differences between all these methods!</p>\n\n<p><strong>Scanner#hasNext()</strong> and <strong>Scanner#next()</strong> methods are more geared towords Token (word) based situations (one word at a time) whereas the <strong>Scanner#hasNextLine()</strong> and <strong>Scanner#nextLine()</strong> methods are used for entire string lines. This is what I believe you <em>really</em> want.</p>\n\n<blockquote>\n  <p>Other Notes:</p>\n</blockquote>\n\n<p>You may want to remove the white-space after your last forward slashes (//):</p>\n\n<pre><code>\"C://Meine Dateien// \" + fileName + \".txt\"; \n</code></pre>\n\n<p>unless of course you want t0 add a white-space at the beginning of every every name for every file created by your application.</p>\n\n<p>When using boolean variables in conditions such as those in <strong>if</strong> statements, you can just use: </p>\n\n<pre><code>if (myFile.exists()) {   // IF true\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>if (myFile.exists() == true) {  // IF true\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>if (!myFile.exists()) {   // IF false\n</code></pre>\n\n<p>instead of: </p>\n\n<pre><code>if (myFile.exists() == false) {  // IF false\n</code></pre>\n\n<p>Either way works just fine but you will later find that the shorter way is less prone to errors due to typo's and I think it's easier to read but that's just my opinion.</p>\n\n<p>Don't forget to close your file <strong>reader</strong>. Use <a href=\"http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html\" rel=\"nofollow noreferrer\"><strong>Try With Resources</strong></a> to take care of this sort of thing for you with regards to both your reader and writer.</p>\n"}],"owner":{"account_id":16044938,"reputation":11,"user_id":11580353,"display_name":"Johnmar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653555381,"creation_date":1559255562,"question_id":56386445,"body_markdown":"The goal of my program is to give the user the opportunity to add something in a new or old file. \r\n\r\nBecause of my code the user can add only one word to the file. \r\nI wrote down where the problem is.\r\nI do not know how to make the saving of the words in the file unlimited.\r\nI tried with a for loop... Unfortunately it did not make any sense.\r\n\r\n\r\n```\r\npublic class AddAndSave {\r\n\t\r\n\r\nprivate static Scanner scanner = new Scanner(System.in);\r\n\r\n\tprivate static Formatter formatter = null;\r\n\tprivate static Scanner reader;\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tSystem.out.println(&quot;In which file do you want to add?&quot;);\r\n\t\tString fileName = scanner.next();\r\n\t\tFile myFile = new File(&quot;C://Meine Dateien// &quot; + fileName + &quot;.txt&quot;);\r\n\r\n\t\tif (myFile.exists() == true) {\r\n\t\t\ttry {\r\n\t\t\t\treader = new Scanner(myFile);\r\n\t\t\t\tString fileContent = &quot;&quot;;\r\n\r\n\t\t\t\twhile (reader.hasNext() == true) {\r\n\t\t\t\t\tfileContent = fileContent + reader.next();\r\n\t\t\t\t}\r\n\t\t\t\tformatter = new Formatter(myFile);\r\n\t\t\t\tformatter.format(&quot;%s&quot;, fileContent + &quot;  &quot;);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tformatter = new Formatter(myFile);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;What do you want to add?&quot;);\r\n\t\tString newInput = scanner.next();//hier is the problem\r\n\t\t\r\n\t\t\r\n\t\tformatter.format(&quot;%s&quot;, newInput);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Finish! Thank you for using our programm!&quot;);\r\n\t\tformatter.close();\r\n\t}\r\n}\r\n```","title":"How to develop the code to save more than word in the selected file?","body":"<p>The goal of my program is to give the user the opportunity to add something in a new or old file. </p>\n\n<p>Because of my code the user can add only one word to the file. \nI wrote down where the problem is.\nI do not know how to make the saving of the words in the file unlimited.\nI tried with a for loop... Unfortunately it did not make any sense.</p>\n\n<pre><code>public class AddAndSave {\n\n\nprivate static Scanner scanner = new Scanner(System.in);\n\n    private static Formatter formatter = null;\n    private static Scanner reader;\n\n    public static void main(String args[]) {\n\n        System.out.println(\"In which file do you want to add?\");\n        String fileName = scanner.next();\n        File myFile = new File(\"C://Meine Dateien// \" + fileName + \".txt\");\n\n        if (myFile.exists() == true) {\n            try {\n                reader = new Scanner(myFile);\n                String fileContent = \"\";\n\n                while (reader.hasNext() == true) {\n                    fileContent = fileContent + reader.next();\n                }\n                formatter = new Formatter(myFile);\n                formatter.format(\"%s\", fileContent + \"  \");\n            } catch (FileNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n            try {\n                formatter = new Formatter(myFile);\n            } catch (FileNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n        System.out.println(\"What do you want to add?\");\n        String newInput = scanner.next();//hier is the problem\n\n\n        formatter.format(\"%s\", newInput);\n        System.out.println();\n        System.out.println(\"Finish! Thank you for using our programm!\");\n        formatter.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":6978516,"reputation":36237,"user_id":5352399,"accept_rate":81,"display_name":"Wasi Ahmad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1490377148,"creation_date":1490377148,"answer_id":43005865,"question_id":42991043,"body_markdown":"Adding three more arguments while running java command solved my problem.\r\n\r\n&gt;-DentityExpansionLimit=2147480000 -DtotalEntitySizeLimit=2147480000 -Djdk.xml.totalEntitySizeLimit=2147480000 \r\n\r\nSo, right now I am running my code with the following command.\r\n\r\n&gt;nohup java **-DentityExpansionLimit=2147480000 -DtotalEntitySizeLimit=2147480000 -Djdk.xml.totalEntitySizeLimit=2147480000** -Xmx16g -cp &quot;lib/*.jar&quot; -jar dist/WikiRarchy.jar 32 &amp;\r\n\r\nThe problem was occurring because- by default secure processing limits the number of entities to 50,000,000 and this expansion limit controls entity expansion.","title":"Error: xml.sax.SAXParseException while parsing a xml file using wikixmlj","body":"<p>Adding three more arguments while running java command solved my problem.</p>\n\n<blockquote>\n  <p>-DentityExpansionLimit=2147480000 -DtotalEntitySizeLimit=2147480000 -Djdk.xml.totalEntitySizeLimit=2147480000 </p>\n</blockquote>\n\n<p>So, right now I am running my code with the following command.</p>\n\n<blockquote>\n  <p>nohup java <strong>-DentityExpansionLimit=2147480000 -DtotalEntitySizeLimit=2147480000 -Djdk.xml.totalEntitySizeLimit=2147480000</strong> -Xmx16g -cp \"lib/*.jar\" -jar dist/WikiRarchy.jar 32 &amp;</p>\n</blockquote>\n\n<p>The problem was occurring because- by default secure processing limits the number of entities to 50,000,000 and this expansion limit controls entity expansion.</p>\n"}],"owner":{"account_id":6978516,"reputation":36237,"user_id":5352399,"accept_rate":81,"display_name":"Wasi Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2157,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43005865,"answer_count":1,"score":3,"last_activity_date":1653555263,"creation_date":1490327080,"question_id":42991043,"body_markdown":"I am parsing the wikipedia xml dump using [wikixmlj][1] and getting the following error.     \r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 64243259; columnNumber: 371; JAXP00010004: The accumulated size of entities is &quot;50,000,001&quot; that exceeded the &quot;50,000,000&quot; limit set by &quot;FEATURE_SECURE_PROCESSING&quot;.\r\n            at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)\r\n            at edu.jhu.nlp.wikipedia.WikiXMLSAXParser.parse(WikiXMLSAXParser.java:58)\r\n            at edu.virginia.cs.wikirarchy.ParseWikiPage.run(ParseWikiPage.java:36)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nSo this part of the error is main:\r\n\r\n&gt;The accumulated size of entities is &quot;50,000,001&quot; that exceeded the &quot;50,000,000&quot; limit set by &quot;FEATURE_SECURE_PROCESSING&quot;.\r\n\r\nI am unable to find out a solution of this problem.\r\n\r\n  [1]: https://github.com/delip/wikixmlj","title":"Error: xml.sax.SAXParseException while parsing a xml file using wikixmlj","body":"<p>I am parsing the wikipedia xml dump using <a href=\"https://github.com/delip/wikixmlj\" rel=\"nofollow noreferrer\">wikixmlj</a> and getting the following error.     </p>\n\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 64243259; columnNumber: 371; JAXP00010004: The accumulated size of entities is \"50,000,001\" that exceeded the \"50,000,000\" limit set by \"FEATURE_SECURE_PROCESSING\".\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)\n        at edu.jhu.nlp.wikipedia.WikiXMLSAXParser.parse(WikiXMLSAXParser.java:58)\n        at edu.virginia.cs.wikirarchy.ParseWikiPage.run(ParseWikiPage.java:36)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>So this part of the error is main:</p>\n\n<blockquote>\n  <p>The accumulated size of entities is \"50,000,001\" that exceeded the \"50,000,000\" limit set by \"FEATURE_SECURE_PROCESSING\".</p>\n</blockquote>\n\n<p>I am unable to find out a solution of this problem.</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"score":1,"creation_date":1653555407,"post_id":72389191,"comment_id":127882003,"body_markdown":"Have you tried setting `actAs` from the Array of `Strings` instead of `String`?","body":"Have you tried setting <code>actAs</code> from the Array of <code>Strings</code> instead of <code>String</code>?"},{"owner":{"account_id":10533213,"reputation":125,"user_id":7761918,"display_name":"chungonion"},"score":0,"creation_date":1653556395,"post_id":72389191,"comment_id":127882317,"body_markdown":"`actAs` should be either an array of `String` or `ArrayList` of `String`","body":"<code>actAs</code> should be either an array of <code>String</code> or <code>ArrayList</code> of <code>String</code>"},{"owner":{"account_id":24873892,"reputation":3,"user_id":18748055,"display_name":"Bernardo Lopes"},"score":0,"creation_date":1653567621,"post_id":72389191,"comment_id":127885899,"body_markdown":"Hello, i tried now with an array of Strings and it worked, thank you","body":"Hello, i tried now with an array of Strings and it worked, thank you"}],"owner":{"account_id":24873892,"reputation":3,"user_id":18748055,"display_name":"Bernardo Lopes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653555078,"creation_date":1653555078,"question_id":72389191,"body_markdown":"I am trying to set my JWT token with the following structure:\r\n       \r\n    {\r\n      &quot;https://daml.com/ledger-api&quot;: {\r\n        &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n        &quot;applicationId&quot;: &quot;foobar&quot;,\r\n        &quot;actAs&quot;: [&quot;Alice&quot;]    \r\n      }\r\n    }\r\n\r\nWith my JAVA code i cant set the order of the fields, (the output JWT presents &quot;actAS&quot; before &quot;applicationId&quot;) \r\nIn the field actAs, how can i get the [ ] before the &quot;&quot; ? Like [&quot;Alice&quot;] instead of &quot;[Alice]&quot;?\r\n\r\nJAVA CODE:\r\n       \r\n\r\n    void getJWT() throws UnsupportedEncodingException {\r\n       Map&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\r\n       claims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\r\n       claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\r\n       claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\r\n       Map&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\r\n       claimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\r\n       String jwtToken = Jwts.builder()\r\n            .setClaims(claimsMap)\r\n            .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\r\n            .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\r\n            .compact();\r\n       System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\r\n    }\r\n\r\nThank you","title":"JWT Payload Structure","body":"<p>I am trying to set my JWT token with the following structure:</p>\n<pre><code>{\n  &quot;https://daml.com/ledger-api&quot;: {\n    &quot;ledgerId&quot;: &quot;sandbox&quot;,\n    &quot;applicationId&quot;: &quot;foobar&quot;,\n    &quot;actAs&quot;: [&quot;Alice&quot;]    \n  }\n}\n</code></pre>\n<p>With my JAVA code i cant set the order of the fields, (the output JWT presents &quot;actAS&quot; before &quot;applicationId&quot;)\nIn the field actAs, how can i get the [ ] before the &quot;&quot; ? Like [&quot;Alice&quot;] instead of &quot;[Alice]&quot;?</p>\n<p>JAVA CODE:</p>\n<pre><code>void getJWT() throws UnsupportedEncodingException {\n   Map&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\n   claims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\n   claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\n   claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\n   Map&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\n   claimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\n   String jwtToken = Jwts.builder()\n        .setClaims(claimsMap)\n        .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\n        .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\n        .compact();\n   System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\n}\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data"],"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1545507442,"post_id":44691582,"comment_id":94642972,"body_markdown":"Please accept an answer. You can accept your own answer if it solves your problem.","body":"Please accept an answer. You can accept your own answer if it solves your problem."}],"answers":[{"tags":[],"owner":{"account_id":8867701,"reputation":203,"user_id":6622356,"display_name":"Messaoud GUERNOUTI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498157807,"creation_date":1498131873,"answer_id":44698477,"question_id":44691582,"body_markdown":"I just tried your code and it works fine, please insure that you have the `@EnableWebSecurity` on you Spring security configuration.","title":"Spring boot &amp; Spring security always redirect to Login","body":"<p>I just tried your code and it works fine, please insure that you have the <code>@EnableWebSecurity</code> on you Spring security configuration.</p>\n"},{"tags":[],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1576752615,"creation_date":1498543241,"answer_id":44773158,"question_id":44691582,"body_markdown":"super.configure(http);\r\n\r\nDid the damage. it works after removing &quot;super.configure(http);&quot;","title":"Spring boot &amp; Spring security always redirect to Login","body":"<p>super.configure(http);</p>\n\n<p>Did the damage. it works after removing \"super.configure(http);\"</p>\n"},{"tags":[],"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653554983,"creation_date":1653554983,"answer_id":72389166,"question_id":44691582,"body_markdown":"If you are trying for local development, you can provide username/password like this:\r\n\r\na) username is user\r\n\r\nb) password is a hash string that you can grap on console. For example, it will be located in the line &quot;Using default security password: 784e940a-352b-4129-a01b-c9b3c33b0b34&quot;\r\n","title":"Spring boot &amp; Spring security always redirect to Login","body":"<p>If you are trying for local development, you can provide username/password like this:</p>\n<p>a) username is user</p>\n<p>b) password is a hash string that you can grap on console. For example, it will be located in the line &quot;Using default security password: 784e940a-352b-4129-a01b-c9b3c33b0b34&quot;</p>\n"}],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22848,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44773158,"answer_count":3,"score":5,"last_activity_date":1653554983,"creation_date":1498112393,"question_id":44691582,"body_markdown":"I&#39;m trying to integrate spring security with spring boot web application. my project structure as follows,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4qbAg.png\r\n\r\nand project dependencies as follows,\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Need this to compile JSP,\r\n            tomcat-embed-jasper version is not working, no idea why --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Optional, test for static content, bootstrap CSS--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\nand web security configurations are   \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/user/**&quot;).permitAll()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .failureUrl(&quot;/login?error=true&quot;)\r\n                .successHandler(customAuthenticationSuccessHandler)\r\n                .usernameParameter(&quot;user&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessHandler(customLogoutSuccessHandler)\r\n                .permitAll();\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n\r\n        web\r\n                .ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        super.configure(auth);\r\n        auth.userDetailsService(SecureUserDetailService);\r\n    }\r\n\r\n\r\nI&#39;ve gave permitAll() to `/user/**` URL pattern in spring security configurations. Then used `/user/registration` as request mapping value in UserRegistrationController. But when i accessing the mentioned URL it always redirect to login page.\r\n \r\n","title":"Spring boot &amp; Spring security always redirect to Login","body":"<p>I'm trying to integrate spring security with spring boot web application. my project structure as follows,</p>\n\n<p><a href=\"https://i.stack.imgur.com/4qbAg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4qbAg.png\" alt=\"enter image description here\"></a></p>\n\n<p>and project dependencies as follows,</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Need this to compile JSP,\n        tomcat-embed-jasper version is not working, no idea why --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n        &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n        &lt;version&gt;4.6.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Optional, test for static content, bootstrap CSS--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and web security configurations are   </p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http.authorizeRequests()\n            .antMatchers(\"/user/**\").permitAll()\n            .anyRequest().fullyAuthenticated()\n            .and()\n            .formLogin()\n            .loginPage(\"/login\")\n            .failureUrl(\"/login?error=true\")\n            .successHandler(customAuthenticationSuccessHandler)\n            .usernameParameter(\"user\")\n            .passwordParameter(\"password\")\n            .permitAll()\n            .and()\n            .logout()\n            .logoutUrl(\"/logout\")\n            .logoutSuccessHandler(customLogoutSuccessHandler)\n            .permitAll();\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    super.configure(web);\n\n    web\n            .ignoring()\n            .antMatchers(\"/resources/**\", \"/static/**\", \"/css/**\", \"/js/**\", \"/images/**\");\n\n\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    super.configure(auth);\n    auth.userDetailsService(SecureUserDetailService);\n}\n</code></pre>\n\n<p>I've gave permitAll() to <code>/user/**</code> URL pattern in spring security configurations. Then used <code>/user/registration</code> as request mapping value in UserRegistrationController. But when i accessing the mentioned URL it always redirect to login page.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653465584,"post_id":72373898,"comment_id":127856352,"body_markdown":"What do you mean? What do you expect to happen and what happens instead?","body":"What do you mean? What do you expect to happen and what happens instead?"},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":5,"creation_date":1653465685,"post_id":72373898,"comment_id":127856387,"body_markdown":"That&#39;s not how unit testing works! You don&#39;t mock the class that you&#39;re testing. You mock dependencies that are required by the class you&#39;re testing.","body":"That&#39;s not how unit testing works! You don&#39;t mock the class that you&#39;re testing. You mock dependencies that are required by the class you&#39;re testing."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653465840,"post_id":72373898,"comment_id":127856451,"body_markdown":"your tests are bogus. you mock what you are testing, meaning you are not actually testing it.","body":"your tests are bogus. you mock what you are testing, meaning you are not actually testing it."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1653465845,"post_id":72373898,"comment_id":127856453,"body_markdown":"Your `Square` file won&#39;t compile. You appear to be confused about what `enum`s are. That looks like it should just be a `class`. And, as said in other comments, you don&#39;t mock the class under test, you mock the dependencies.","body":"Your <code>Square</code> file won&#39;t compile. You appear to be confused about what <code>enum</code>s are. That looks like it should just be a <code>class</code>. And, as said in other comments, you don&#39;t mock the class under test, you mock the dependencies."},{"owner":{"account_id":309762,"reputation":8409,"user_id":622391,"display_name":"Simon MᶜKenzie"},"score":0,"creation_date":1653471640,"post_id":72373898,"comment_id":127858591,"body_markdown":"Just to clarify, once you&#39;ve resolved your class/enum issue, the line `Square Square = mock(Square.class);` should be changed to `Square Square = new Square(someNumber);`","body":"Just to clarify, once you&#39;ve resolved your class/enum issue, the line <code>Square Square = mock(Square.class);</code> should be changed to <code>Square Square = new Square(someNumber);</code>"}],"owner":{"account_id":12033319,"reputation":13,"user_id":8802833,"display_name":"shreyas kannan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653554601,"creation_date":1653465462,"question_id":72373898,"body_markdown":"I&#39;m trying to mock the class and call the methods using that, but for some reason the methods are not being initiated.\r\n\r\nThe class to be tested\r\n\r\n    public enum Square {    \r\n        \r\n        SQUARE_SET(3);\r\n        private final int a;\r\n    \r\n        Square(int l) {\r\n            this.a = l*l;\r\n        }\r\n         \r\n        public int getSquare() {\r\n            return a;\r\n        }//can not trigger this method\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder sb = new StringBuilder(&quot;Area :&quot;);\r\n            sb.append(a);\r\n            return sb.toString();\r\n        }//can not trigger this method\r\n    }\r\n\r\nMy code for testing the above class\r\n\r\n    class SquareTest {\r\n    \r\n        int l;\r\n        private int a;\r\n    \r\n        @Test\r\n        void testGetSquare() {\r\n            Square Square = mock(Square.class);\r\n            assertEquals(a, Square.getSquare());\r\n        }\r\n    \r\n        void testToString() {\r\n            Square Square = mock(Square.class);\r\n    \t    StringBuilder sb = new StringBuilder(&quot;Area :&quot;);\r\n    \t    sb.append(a);\r\n    \t    sb.toString();\r\n            when(Square.toString()).thenReturn(sb.toString());\r\n        }\r\n    }","title":"How to test for methods in a enum class? why is my code for testing not triggering the methods mentioned?","body":"<p>I'm trying to mock the class and call the methods using that, but for some reason the methods are not being initiated.</p>\n<p>The class to be tested</p>\n<pre><code>public enum Square {    \n    \n    SQUARE_SET(3);\n    private final int a;\n\n    Square(int l) {\n        this.a = l*l;\n    }\n     \n    public int getSquare() {\n        return a;\n    }//can not trigger this method\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(&quot;Area :&quot;);\n        sb.append(a);\n        return sb.toString();\n    }//can not trigger this method\n}\n</code></pre>\n<p>My code for testing the above class</p>\n<pre><code>class SquareTest {\n\n    int l;\n    private int a;\n\n    @Test\n    void testGetSquare() {\n        Square Square = mock(Square.class);\n        assertEquals(a, Square.getSquare());\n    }\n\n    void testToString() {\n        Square Square = mock(Square.class);\n        StringBuilder sb = new StringBuilder(&quot;Area :&quot;);\n        sb.append(a);\n        sb.toString();\n        when(Square.toString()).thenReturn(sb.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653242152,"creation_date":1652715996,"answer_id":72261957,"question_id":72261956,"body_markdown":"I found no operator, so I wrote it as a manual style.\r\n\r\n```java\r\nSubject&lt;Boolean&gt; isMoving$ = getSubject();\r\n\r\nisMoving$\r\n    .switchMap(value -&gt; isMoving \r\n        ? Observable.just(isMoving) \r\n        : Observable.just(isMoving).delay(5, TimeUnit.MINUTES))\r\n    .distinctUntilChanged()\r\n    .subscribe(isMoving -&gt; isMoving ? turnLightsOn() : turnLightsOff());\r\n``` \r\n\r\n\r\nSpecial note: IntelliJ is confused by this code. If it warns you, you can ignore it.\r\n[![Image of IntelliJ warning][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3eiM.png","title":"Delay specific values","body":"<p>I found no operator, so I wrote it as a manual style.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Subject&lt;Boolean&gt; isMoving$ = getSubject();\n\nisMoving$\n    .switchMap(value -&gt; isMoving \n        ? Observable.just(isMoving) \n        : Observable.just(isMoving).delay(5, TimeUnit.MINUTES))\n    .distinctUntilChanged()\n    .subscribe(isMoving -&gt; isMoving ? turnLightsOn() : turnLightsOff());\n</code></pre>\n<p>Special note: IntelliJ is confused by this code. If it warns you, you can ignore it.\n<a href=\"https://i.stack.imgur.com/A3eiM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3eiM.png\" alt=\"Image of IntelliJ warning\" /></a></p>\n"}],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72261957,"answer_count":1,"score":-1,"last_activity_date":1653554386,"creation_date":1652715996,"question_id":72261956,"body_markdown":"I have a motionSensor, which offers me a `Subject` with a `boolean` value. `true`, when movement was detected and `false` when the sensor doesn&#39;t detect anything after a fixed, non-changeable timerange.\r\n\r\nI want to turn lights on movement, but the lights should stay on for a given period. `false` should be delayed.\r\n \r\nIf a `true`-value was emitted, while the delay is &quot;delaying&quot;, then nothing should happen (aka the lights should stay on).\r\n\r\nConsider this table\r\n\r\n|        time t       |     emitted value    | action |\r\n|---------------------|----------------------|--------------------------|\r\n|          1          |         true         |          turn lights on            |\r\n|          2          |         false        |          do nothing         |\r\n|          3          |         none emitted |          turn lights off           |\r\n|          4          |         true         |          turn lights on            |\r\n|          5          |         false        |          do nothing        |\r\n|          6          |         true         |      do nothing |\r\n\r\nHere is some pseudo-code:\r\n\r\n```java\r\nmotionSensor.isMoving$()\r\n    // delayWhen-method does not exsit\r\n    .delayWhen(Duration.of(5, MINUTES), isMoving -&gt; !isMoving)\r\n    .distinctUntilChanged()\r\n    .subscribe(isMoving -&gt; {\r\n        if (isMoving) {\r\n            turnLightsOn();\r\n        } else {\r\n            turnLightsOff();\r\n        });\r\n```\r\n  \r\nI need it in this [Github Project](https://github.com/AndreKoepke/home-system/blob/fae1ecf1b1faa4db3e6f4f4f17e4a40da3cffbe1/src/main/java/ch/akop/homesystem/message/MotionSensorReactor.java#L33)","title":"Delay specific values","body":"<p>I have a motionSensor, which offers me a <code>Subject</code> with a <code>boolean</code> value. <code>true</code>, when movement was detected and <code>false</code> when the sensor doesn't detect anything after a fixed, non-changeable timerange.</p>\n<p>I want to turn lights on movement, but the lights should stay on for a given period. <code>false</code> should be delayed.</p>\n<p>If a <code>true</code>-value was emitted, while the delay is &quot;delaying&quot;, then nothing should happen (aka the lights should stay on).</p>\n<p>Consider this table</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>time t</th>\n<th>emitted value</th>\n<th>action</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>true</td>\n<td>turn lights on</td>\n</tr>\n<tr>\n<td>2</td>\n<td>false</td>\n<td>do nothing</td>\n</tr>\n<tr>\n<td>3</td>\n<td>none emitted</td>\n<td>turn lights off</td>\n</tr>\n<tr>\n<td>4</td>\n<td>true</td>\n<td>turn lights on</td>\n</tr>\n<tr>\n<td>5</td>\n<td>false</td>\n<td>do nothing</td>\n</tr>\n<tr>\n<td>6</td>\n<td>true</td>\n<td>do nothing</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Here is some pseudo-code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>motionSensor.isMoving$()\n    // delayWhen-method does not exsit\n    .delayWhen(Duration.of(5, MINUTES), isMoving -&gt; !isMoving)\n    .distinctUntilChanged()\n    .subscribe(isMoving -&gt; {\n        if (isMoving) {\n            turnLightsOn();\n        } else {\n            turnLightsOff();\n        });\n</code></pre>\n<p>I need it in this <a href=\"https://github.com/AndreKoepke/home-system/blob/fae1ecf1b1faa4db3e6f4f4f17e4a40da3cffbe1/src/main/java/ch/akop/homesystem/message/MotionSensorReactor.java#L33\" rel=\"nofollow noreferrer\">Github Project</a></p>\n"},{"tags":["java","list","intersection"],"comments":[{"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"score":1,"creation_date":1433338414,"post_id":2400838,"comment_id":49309351,"body_markdown":"@JohnnyCoder seriously?","body":"@JohnnyCoder seriously?"},{"owner":{"account_id":9022797,"reputation":2681,"user_id":6723250,"accept_rate":62,"display_name":"xeruf"},"score":0,"creation_date":1578489187,"post_id":2400838,"comment_id":105454246,"body_markdown":"@Ungeheuer that doesn&#39;t work if you want duplicates only to be included if they are in both lists","body":"@Ungeheuer that doesn&#39;t work if you want duplicates only to be included if they are in both lists"}],"answers":[{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":4,"up_vote_count":133,"is_accepted":true,"score":129,"last_activity_date":1404975885,"creation_date":1268047047,"answer_id":2400844,"question_id":2400838,"body_markdown":"You can use [`retainAll`][1] method:\r\n\r\n    columnsOld.retainAll (columnsNew);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#retainAll(java.util.Collection","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#retainAll(java.util.Collection\" rel=\"noreferrer\"><code>retainAll</code></a> method:</p>\n\n<pre><code>columnsOld.retainAll (columnsNew);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108036,"reputation":550,"user_id":286940,"display_name":"bjornhol"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1268051043,"creation_date":1268051043,"answer_id":2401199,"question_id":2400838,"body_markdown":"Since retainAll won&#39;t touch the argument collection, this would be faster:\r\n\r\n    List&lt;String&gt; columnsOld = DBUtils.GetColumns(db, TableName); \r\n    List&lt;String&gt; columnsNew = DBUtils.GetColumns(db, TableName); \r\n\r\n    for(int i = columnsNew.size() - 1; i &gt; -1; --i){\r\n        String str = columnsNew.get(i);\r\n        if(!columnsOld.remove(str))\r\n            columnsNew.remove(str);\r\n    }\r\n\r\nThe intersection will be the values left in columnsNew. Removing already compared values fom columnsOld will reduce the number of comparisons needed.","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>Since retainAll won't touch the argument collection, this would be faster:</p>\n\n<pre><code>List&lt;String&gt; columnsOld = DBUtils.GetColumns(db, TableName); \nList&lt;String&gt; columnsNew = DBUtils.GetColumns(db, TableName); \n\nfor(int i = columnsNew.size() - 1; i &gt; -1; --i){\n    String str = columnsNew.get(i);\n    if(!columnsOld.remove(str))\n        columnsNew.remove(str);\n}\n</code></pre>\n\n<p>The intersection will be the values left in columnsNew. Removing already compared values fom columnsOld will reduce the number of comparisons needed.</p>\n"},{"tags":[],"owner":{"account_id":2209671,"reputation":97,"user_id":1951926,"display_name":"Gigas"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1357425952,"creation_date":1357425952,"answer_id":14177232,"question_id":2400838,"body_markdown":"How about\r\n\r\n    private List&lt;String&gt; intersect(List&lt;String&gt; A, List&lt;String&gt; B) {\r\n        List&lt;String&gt; rtnList = new LinkedList&lt;&gt;();\r\n        for(String dto : A) {\r\n            if(B.contains(dto)) {\r\n                rtnList.add(dto);\r\n            }\r\n        }\r\n        return rtnList;\r\n    }\r\n","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>How about</p>\n\n<pre><code>private List&lt;String&gt; intersect(List&lt;String&gt; A, List&lt;String&gt; B) {\n    List&lt;String&gt; rtnList = new LinkedList&lt;&gt;();\n    for(String dto : A) {\n        if(B.contains(dto)) {\n            rtnList.add(dto);\n        }\n    }\n    return rtnList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1588937916,"creation_date":1364480841,"answer_id":15684435,"question_id":2400838,"body_markdown":"Using Google&#39;s [Guava][1] library: \r\n\r\n```\r\nSets.intersection(Sets.newHashSet(setA), Sets.newHashSet(setB))\r\n```\r\n\r\n**Note:** This is much more efficient than naively doing the intersection with two lists: it&#39;s O(n+m), versus O(n&#215;m) for the [list version](https://stackoverflow.com/a/2400844/68587). With two million-item lists it&#39;s the difference between *millions* of operations and *trillions* of operations.\r\n\r\n  [1]: https://github.com/google/guava/wiki/CollectionUtilitiesExplained#sets","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>Using Google's <a href=\"https://github.com/google/guava/wiki/CollectionUtilitiesExplained#sets\" rel=\"noreferrer\">Guava</a> library: </p>\n\n<pre><code>Sets.intersection(Sets.newHashSet(setA), Sets.newHashSet(setB))\n</code></pre>\n\n<p><strong>Note:</strong> This is much more efficient than naively doing the intersection with two lists: it's O(n+m), versus O(n×m) for the <a href=\"https://stackoverflow.com/a/2400844/68587\">list version</a>. With two million-item lists it's the difference between <em>millions</em> of operations and <em>trillions</em> of operations.</p>\n"},{"tags":[],"owner":{"account_id":4665224,"reputation":3183,"user_id":3778451,"accept_rate":54,"display_name":"Deutro"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1410448164,"creation_date":1410448164,"answer_id":25791059,"question_id":2400838,"body_markdown":"There is a nice way with streams which can do this in one line of code and you can two lists which are not from the same type which is not possible with the containsAll method afaik:\r\n\r\n    columnsOld.stream().filter(c -&gt; columnsNew.contains(c)).collect(Collectors.toList());\r\n\r\nAn example for lists with different types. If you have a realtion between foo and bar and you can get a bar-object from foo than you can modify your stream:\r\n\r\n    List&lt;foo&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\r\n    List&lt;bar&gt; barList = new ArrayList&lt;&gt;(Arrays.asList(new bar(), new bar()));\r\n\r\n    fooList.stream().filter(f -&gt; barList.contains(f.getBar()).collect(Collectors.toList());\r\n\r\n\r\n\r\n    ","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>There is a nice way with streams which can do this in one line of code and you can two lists which are not from the same type which is not possible with the containsAll method afaik:</p>\n\n<pre><code>columnsOld.stream().filter(c -&gt; columnsNew.contains(c)).collect(Collectors.toList());\n</code></pre>\n\n<p>An example for lists with different types. If you have a realtion between foo and bar and you can get a bar-object from foo than you can modify your stream:</p>\n\n<pre><code>List&lt;foo&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\nList&lt;bar&gt; barList = new ArrayList&lt;&gt;(Arrays.asList(new bar(), new bar()));\n\nfooList.stream().filter(f -&gt; barList.contains(f.getBar()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462579005,"creation_date":1462579005,"answer_id":37083001,"question_id":2400838,"body_markdown":"If you put the second list in a set say HashSet. And just iterate over the first list checking for presence on the set and removing if not present, your first list will eventually have the intersection you need.\r\nIt will be way faster than retainAll or contains on a list.\r\nThe emphasis here is to use a set instead of list. Lookups are O(1).\r\nfirstList.retainAll (new HashSet (secondList)) will also work.","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>If you put the second list in a set say HashSet. And just iterate over the first list checking for presence on the set and removing if not present, your first list will eventually have the intersection you need.\nIt will be way faster than retainAll or contains on a list.\nThe emphasis here is to use a set instead of list. Lookups are O(1).\nfirstList.retainAll (new HashSet (secondList)) will also work.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1616818048,"creation_date":1478650827,"answer_id":40498593,"question_id":2400838,"body_markdown":"using retainAll if don&#39;t care occurrences, otherwise using N.intersection\r\n    \r\n    a = N.asList(12, 16, 16, 17, 19);\r\n    b = N.asList(16, 19, 107);\r\n    a.retainAll(b); // [16, 16, 19]\r\n    N.println(a);\r\n\r\n    a = N.asList(12, 16, 16, 17, 19);\r\n    b = N.asList(16, 19, 107);\r\n    a = N.intersect(a, b);\r\n    N.println(a); // [16, 19]\r\n\r\nN is an utility class in [abacus-common][1]\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>using retainAll if don't care occurrences, otherwise using N.intersection</p>\n<pre><code>a = N.asList(12, 16, 16, 17, 19);\nb = N.asList(16, 19, 107);\na.retainAll(b); // [16, 16, 19]\nN.println(a);\n\na = N.asList(12, 16, 16, 17, 19);\nb = N.asList(16, 19, 107);\na = N.intersect(a, b);\nN.println(a); // [16, 19]\n</code></pre>\n<p>N is an utility class in <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n"},{"tags":[],"owner":{"account_id":2815987,"reputation":3975,"user_id":3314058,"display_name":"Dheeraj Sachan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554797356,"creation_date":1554797356,"answer_id":55587950,"question_id":2400838,"body_markdown":"use org.apache.commons.collections4.ListUtils#intersection\r\n\r\n","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>use org.apache.commons.collections4.ListUtils#intersection</p>\n"},{"tags":[],"owner":{"account_id":2365684,"reputation":339,"user_id":2071402,"display_name":"Mišo Stankay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653554038,"creation_date":1653554038,"answer_id":72388977,"question_id":2400838,"body_markdown":"With [Java 8 Stream API][1] (and Java 9 List.of()) you can do following:\r\n\r\n```java\r\nList&lt;Integer&gt; list1 = List.of(1, 1, 2, 2);\r\nList&lt;Integer&gt; list2 = List.of(2, 2, 3, 3);\r\n\r\nList&lt;Integer&gt; intersection = list1.stream()\r\n    .filter(list2::contains)\r\n    .distinct()\r\n    .collect(Collectors.toList()); \r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>With <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java 8 Stream API</a> (and Java 9 List.of()) you can do following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list1 = List.of(1, 1, 2, 2);\nList&lt;Integer&gt; list2 = List.of(2, 2, 3, 3);\n\nList&lt;Integer&gt; intersection = list1.stream()\n    .filter(list2::contains)\n    .distinct()\n    .collect(Collectors.toList()); \n</code></pre>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112917,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":2400844,"answer_count":9,"score":83,"last_activity_date":1653554038,"creation_date":1268046939,"question_id":2400838,"body_markdown":"Question is simple:\r\n\r\nI have two List&lt;String&gt;\r\n\r\n    List&lt;String&gt; columnsOld = DBUtils.GetColumns(db, TableName);\r\n    List&lt;String&gt; columnsNew = DBUtils.GetColumns(db, TableName);\r\n\r\nAnd I need to get the intersection of these. Is there a quick way to achieve this?\r\n","title":"Efficient intersection of two List&lt;String&gt; in Java?","body":"<p>Question is simple:</p>\n\n<p>I have two List</p>\n\n<pre><code>List&lt;String&gt; columnsOld = DBUtils.GetColumns(db, TableName);\nList&lt;String&gt; columnsNew = DBUtils.GetColumns(db, TableName);\n</code></pre>\n\n<p>And I need to get the intersection of these. Is there a quick way to achieve this?</p>\n"},{"tags":["java","spring","sonarqube","refactoring","code-complexity"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1652682533,"post_id":72254870,"comment_id":127655813,"body_markdown":"You could try to reduce the nesting of those if-statements with some &quot;early outs&quot;, e.g. `if (c != &#39;\\\\&#39;) { outputCharArray[lengthOfOutput++] = c; continue; } c = inputCharArray[index++]; if (c == &#39;u&#39;) { ...; continue } ...`","body":"You could try to reduce the nesting of those if-statements with some &quot;early outs&quot;, e.g. <code>if (c != &#39;\\\\&#39;) { outputCharArray[lengthOfOutput++] = c; continue; } c = inputCharArray[index++]; if (c == &#39;u&#39;) { ...; continue } ...</code>"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1652682677,"post_id":72254870,"comment_id":127655847,"body_markdown":"your single method is doing too much work, create small methods","body":"your single method is doing too much work, create small methods"},{"owner":{"account_id":19736773,"reputation":41,"user_id":14451075,"display_name":"stromboli"},"score":0,"creation_date":1652683201,"post_id":72254870,"comment_id":127655949,"body_markdown":"yes, but how do I break the method, it always has a dependency on the above variable","body":"yes, but how do I break the method, it always has a dependency on the above variable"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1652683372,"post_id":72254870,"comment_id":127655987,"body_markdown":"This question is better suited for https://codereview.stackexchange.com/","body":"This question is better suited for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1652683757,"post_id":72254870,"comment_id":127656099,"body_markdown":"You could have a Map&lt;Character, Character &gt; to hold all the t, \\t etc combinations.","body":"You could have a Map&lt;Character, Character &gt; to hold all the t, \\t etc combinations."}],"owner":{"account_id":19736773,"reputation":41,"user_id":14451075,"display_name":"stromboli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653553771,"creation_date":1652682169,"question_id":72254870,"body_markdown":"I added the getCValue method to reduce the cyclomatic complexity, but the cyclomatic complexity still persists, how can I reduce it? Can I change this code using Regex, if I can how? Please help me.\r\n    \r\n \r\n","title":"How do I reduce the cyclomatic complexity in this code?","body":"<p>I added the getCValue method to reduce the cyclomatic complexity, but the cyclomatic complexity still persists, how can I reduce it? Can I change this code using Regex, if I can how? Please help me.</p>\n"},{"tags":["java","spring","aop"],"answers":[{"tags":[],"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653543803,"creation_date":1653543803,"answer_id":72387209,"question_id":72387138,"body_markdown":"you can try with bellow expression in `@Around`, for example :\r\n```java\r\n    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.*(..))&quot;)\r\n    public void allMethodOfBook() {};\r\n\r\n    @Around(&quot;allMethodOfBook()&quot;)\r\n    public void logBookInfo(){\r\n     ...\r\n    }\r\n```\r\nor try with `||`\r\n```java\r\n    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.add(..))&quot;)\r\n    public void addMethod() {};\r\n    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.delete(..))&quot;)\r\n    public void deleteMethod() {};\r\n\r\n    @Around(&quot;addMethod() || deleteMethod()&quot;)\r\n    public void logBookInfo(){\r\n     ...\r\n    }\r\n```","title":"is it possible to do 1 Advice to multiple PointCut?","body":"<p>you can try with bellow expression in <code>@Around</code>, for example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.*(..))&quot;)\n    public void allMethodOfBook() {};\n\n    @Around(&quot;allMethodOfBook()&quot;)\n    public void logBookInfo(){\n     ...\n    }\n</code></pre>\n<p>or try with <code>||</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.add(..))&quot;)\n    public void addMethod() {};\n    @Pointcut(&quot;execution(* AOPviaAnnotation.Book.delete(..))&quot;)\n    public void deleteMethod() {};\n\n    @Around(&quot;addMethod() || deleteMethod()&quot;)\n    public void logBookInfo(){\n     ...\n    }\n</code></pre>\n"}],"owner":{"account_id":23781497,"reputation":31,"user_id":17794113,"display_name":"q2333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72387209,"answer_count":1,"score":0,"last_activity_date":1653553704,"creation_date":1653543136,"question_id":72387138,"body_markdown":"For ex: i want to log every behavior in a book class.\r\nIs it possilbe to do it with Spring-AOP?\r\n\r\n[![sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iCCHC.png","title":"is it possible to do 1 Advice to multiple PointCut?","body":"<p>For ex: i want to log every behavior in a book class.\nIs it possilbe to do it with Spring-AOP?</p>\n<p><a href=\"https://i.stack.imgur.com/iCCHC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCCHC.png\" alt=\"sample\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653550371,"post_id":72387072,"comment_id":127880523,"body_markdown":"The first issue is: `Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.52.215] failed: Connection timed out: connect -&gt; [Help 1]` this looks like a network error... second why are you using an old Maven version 3.6.X? Get the most recent versions...also the plugins you have defined are old ...check here: https://maven.apache.org/plugins/ and furthermore why using an old JDK version? We have JDK 17 (LTS) in the meantime... https://dev.java/download/releases/","body":"The first issue is: <code>Connect to repo.maven.apache.org:443 [repo.maven.apache.org&#47;151.101.52.215] failed: Connection timed out: connect -&gt; [Help 1]</code> this looks like a network error... second why are you using an old Maven version 3.6.X? Get the most recent versions...also the plugins you have defined are old ...check here: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a> and furthermore why using an old JDK version? We have JDK 17 (LTS) in the meantime... <a href=\"https://dev.java/download/releases/\" rel=\"nofollow noreferrer\">dev.java/download/releases</a>"},{"owner":{"account_id":17989900,"reputation":3,"user_id":13074246,"display_name":"Marshal Guo"},"score":0,"creation_date":1653553019,"post_id":72387072,"comment_id":127881271,"body_markdown":"Thank you, that&#39;s it! The network issue. And I will update my whole set-up ASAP. Thank you again!!","body":"Thank you, that&#39;s it! The network issue. And I will update my whole set-up ASAP. Thank you again!!"}],"answers":[{"tags":[],"owner":{"account_id":17989900,"reputation":3,"user_id":13074246,"display_name":"Marshal Guo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653553241,"creation_date":1653553241,"answer_id":72388835,"question_id":72387072,"body_markdown":"Big thank you to @khmarbaise! The issue is due to a &quot;Connection timed out.&quot; I quit my proxy and tried it again, it worked!! \r\n ","title":"Error: maven-site-plugin:3.7.1 or one of its dependencies could not be resolved","body":"<p>Big thank you to @khmarbaise! The issue is due to a &quot;Connection timed out.&quot; I quit my proxy and tried it again, it worked!!</p>\n"}],"owner":{"account_id":17989900,"reputation":3,"user_id":13074246,"display_name":"Marshal Guo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72388835,"answer_count":1,"score":0,"last_activity_date":1653553241,"creation_date":1653542679,"question_id":72387072,"body_markdown":"This is my first maven program. I have succeeded to run &quot;mvn compile&quot;, &quot;mvn test&quot;, &quot;mvn clean&quot; but this error appears when I &quot;mvn site.&quot;\r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project Hello: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site failed: Plugin org.apache.maven.plugins:maven-site-plugin:3.7.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-site-plugin:jar:3.7.1 -&gt; org.apache.maven.doxia:doxia-module-markdown:jar:1.8 -&gt; com.vladsch.flexmark:flexmark-all:jar:0.18.4 -&gt; com.vladsch.flexmark:flexmark-html-parser:jar:0.18.4: Failed to read artifact descriptor for com.vladsch.flexmark:flexmark-html-parser:jar:0.18.4: Could not transfer artifact com.vladsch.flexmark:flexmark-html-parser:pom:0.18.4 from/to central (https://repo.maven.apache.org/maven2): Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.52.215] failed: Connection timed out: connect -&gt; [Help 1]\r\n\r\nI&#39;m using **jdk-12.0.2** and **apache-maven-3.6.0** The following is my pom.xml and setting.xml.\r\n\r\n**pom.xml:**\r\n\r\n    \r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&gt;     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n&gt;              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n&gt;              xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n&gt;                                  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&gt;       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;       &lt;groupId&gt;com._520it.maven&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;Hello&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&gt;     \t&lt;name&gt;Hello&lt;/name&gt;\r\n&gt;     \t&lt;dependencies&gt;\r\n&gt;     \t  &lt;dependency&gt;\r\n&gt;     \t        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n&gt;     \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n&gt;     \t\t\t&lt;version&gt;4.9&lt;/version&gt;\r\n&gt;     \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     \t\t&lt;/dependency&gt;\t\t\t\r\n&gt;     \t&lt;/dependencies&gt;\r\n&gt;     \t\r\n&gt;     \t&lt;build&gt;\r\n&gt;     \t\t&lt;plugins&gt;\r\n&gt;     \t\t  &lt;plugin&gt;\r\n&gt;                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;                   &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n&gt;                   &lt;version&gt;3.7.1&lt;/version&gt;\r\n&gt;               &lt;/plugin&gt;\r\n&gt;               &lt;plugin&gt;\r\n&gt;                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;                   &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n&gt;                   &lt;version&gt;3.0.0&lt;/version&gt;\r\n&gt;               &lt;/plugin&gt;\r\n&gt;     \t\t&lt;/plugins&gt;\r\n&gt;     \t&lt;/build&gt;\r\n&gt;     &lt;/project&gt;\r\n\r\nFor setting.xml, I didn&#39;t change anything but indicating my jdk version.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error: maven-site-plugin:3.7.1 or one of its dependencies could not be resolved","body":"<p>This is my first maven program. I have succeeded to run &quot;mvn compile&quot;, &quot;mvn test&quot;, &quot;mvn clean&quot; but this error appears when I &quot;mvn site.&quot;</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project Hello: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site failed: Plugin org.apache.maven.plugins:maven-site-plugin:3.7.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-site-plugin:jar:3.7.1 -&gt; org.apache.maven.doxia:doxia-module-markdown:jar:1.8 -&gt; com.vladsch.flexmark:flexmark-all:jar:0.18.4 -&gt; com.vladsch.flexmark:flexmark-html-parser:jar:0.18.4: Failed to read artifact descriptor for com.vladsch.flexmark:flexmark-html-parser:jar:0.18.4: Could not transfer artifact com.vladsch.flexmark:flexmark-html-parser:pom:0.18.4 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.52.215] failed: Connection timed out: connect -&gt; [Help 1]</p>\n</blockquote>\n<p>I'm using <strong>jdk-12.0.2</strong> and <strong>apache-maven-3.6.0</strong> The following is my pom.xml and setting.xml.</p>\n<p><strong>pom.xml:</strong></p>\n<blockquote>\n\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com._520it.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;Hello&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Hello&lt;/name&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.9&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;           \n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.7.1&lt;/version&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n</blockquote>\n<p>For setting.xml, I didn't change anything but indicating my jdk version.</p>\n"},{"tags":["java","sikuli"],"comments":[{"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":0,"creation_date":1392128692,"post_id":21704407,"comment_id":32816440,"body_markdown":"If you are new to something try to read the documentation or manual.","body":"If you are new to something try to read the documentation or manual."},{"owner":{"account_id":3167617,"reputation":680,"user_id":2677251,"accept_rate":44,"display_name":"debiansse"},"score":0,"creation_date":1392128769,"post_id":21704407,"comment_id":32816497,"body_markdown":"documentation is outdated for java sikuli api.","body":"documentation is outdated for java sikuli api."},{"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":0,"creation_date":1392128929,"post_id":21704407,"comment_id":32816623,"body_markdown":"Try to add direct import to `org.sikuli.script.Screen`.","body":"Try to add direct import to <code>org.sikuli.script.Screen</code>."},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1432641321,"post_id":21704407,"comment_id":48996250,"body_markdown":"Latest Sikuli Java API doc.:   http://doc.sikuli.org/javadoc/","body":"Latest Sikuli Java API doc.:   <a href=\"http://doc.sikuli.org/javadoc/\" rel=\"nofollow noreferrer\">doc.sikuli.org/javadoc</a>"}],"answers":[{"tags":[],"owner":{"account_id":384802,"reputation":10056,"user_id":741558,"accept_rate":83,"display_name":"Grooveek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392129194,"creation_date":1392129194,"answer_id":21704715,"question_id":21704407,"body_markdown":"`new org.sikuli.api.DesktopScreenRegion()` creates a `ScreenRegion` on the base full screen where you can click and seek your images\r\n\r\nYour best bet to find how the new API is built is to look at [the sources](https://bitbucket.org/doubleshow/sikuli-api). There aren&#39;t a lot of classes to understand, fortunately.","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p><code>new org.sikuli.api.DesktopScreenRegion()</code> creates a <code>ScreenRegion</code> on the base full screen where you can click and seek your images</p>\n\n<p>Your best bet to find how the new API is built is to look at <a href=\"https://bitbucket.org/doubleshow/sikuli-api\" rel=\"nofollow\">the sources</a>. There aren't a lot of classes to understand, fortunately.</p>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433155416,"creation_date":1431000676,"answer_id":30100735,"question_id":21704407,"body_markdown":"The following Sikuli Java code should work:\r\n\r\n    import org.sikuli.script.*;\r\n    public class HelloWorld {\r\n    \tpublic static void main(String[] args){\r\n    \t\tScreen screen = new Screen();\r\n    \t\ttry{\r\n    \t\t\t\r\n\r\n    screen.click(&quot;D:\\\\Sikuli\\\\WinStartButton.png&quot;);\r\n\r\n//&quot;WinStartButton.png&quot; must exist on the desired location you are using&lt;br&gt;\r\n//OR, instead of above line you can use the following:\r\n\r\n    screen.type(Key.WIN);\r\n\r\n    \t\t}\r\n    \t\tcatch(FindFailed e){\r\n    \t\t\te.getStackTrace();\r\n    \t\t}\r\n    \t\tscreen.type(&quot;Hello World&quot;);\r\n    \t\tscreen.type(Key.ENTER);\r\n    \t}\r\n    }\r\n","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p>The following Sikuli Java code should work:</p>\n\n<pre><code>import org.sikuli.script.*;\npublic class HelloWorld {\n    public static void main(String[] args){\n        Screen screen = new Screen();\n        try{\n\n\nscreen.click(\"D:\\\\Sikuli\\\\WinStartButton.png\");\n</code></pre>\n\n<p>//\"WinStartButton.png\" must exist on the desired location you are using<br>\n//OR, instead of above line you can use the following:</p>\n\n<pre><code>screen.type(Key.WIN);\n\n        }\n        catch(FindFailed e){\n            e.getStackTrace();\n        }\n        screen.type(\"Hello World\");\n        screen.type(Key.ENTER);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6494424,"reputation":1218,"user_id":5027455,"accept_rate":50,"display_name":"mahinlma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435572643,"creation_date":1435572643,"answer_id":31112960,"question_id":21704407,"body_markdown":"\r\n\r\nTry to use image locator in your code,\r\n\r\n\r\n    import org.sikuli.script.*;\r\n\r\n    import org.sikuli.basics.ImageLocator;\r\n\r\n    public class AuthLogin {\r\n    public static void main(String[] args) {\r\n            Screen s = new Screen();\r\n    ImageLocator.setBundlePath(&quot;path to img directory&quot;);\r\n            try{\r\n                    s.click(&quot;win-start.png&quot;, 0);\r\n                    s.wait(&quot;spotlight-input.png&quot;);\r\n                    s.type(null, &quot;hello world\\n&quot;, 0);\r\n            }\r\n            catch(FindFailed e){\r\n                    e.printStackTrace();\r\n            }\r\n     }\r\n\r\n","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p>Try to use image locator in your code,</p>\n\n<pre><code>import org.sikuli.script.*;\n\nimport org.sikuli.basics.ImageLocator;\n\npublic class AuthLogin {\npublic static void main(String[] args) {\n        Screen s = new Screen();\nImageLocator.setBundlePath(\"path to img directory\");\n        try{\n                s.click(\"win-start.png\", 0);\n                s.wait(\"spotlight-input.png\");\n                s.type(null, \"hello world\\n\", 0);\n        }\n        catch(FindFailed e){\n                e.printStackTrace();\n        }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15390007,"reputation":1,"user_id":11103006,"display_name":"cats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550861203,"creation_date":1550859101,"answer_id":54832837,"question_id":21704407,"body_markdown":"I think you should not use the absolute image path directly in the code.\r\nI would create a class which contains the absolute paths as static constants.\r\n\r\nExample :\r\n\r\ninstead of :\r\n\r\n    screen.click( &quot;D:\\\\Sikuli\\\\WinStartButton.png&quot;);\r\n\r\nyou can do it like this :\r\n\r\n    public static final String IMAGE = &quot;D:\\\\Sikuli\\\\WinStartButton.png&quot;;\r\n\r\n    screen.click(IMAGE);\r\n","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p>I think you should not use the absolute image path directly in the code.\nI would create a class which contains the absolute paths as static constants.</p>\n\n<p>Example :</p>\n\n<p>instead of :</p>\n\n<pre><code>screen.click( \"D:\\\\Sikuli\\\\WinStartButton.png\");\n</code></pre>\n\n<p>you can do it like this :</p>\n\n<pre><code>public static final String IMAGE = \"D:\\\\Sikuli\\\\WinStartButton.png\";\n\nscreen.click(IMAGE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18776897,"reputation":142,"user_id":13692427,"display_name":"AmitKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653552891,"creation_date":1653552891,"answer_id":72388770,"question_id":21704407,"body_markdown":"Use Keydown and Keyup method for Enter key pressed \r\nI have tried to organize the entire code. please let me know if its working. \r\n       \r\n\r\n       Screen sikuli = new Screen();\r\n       String message = &quot;hello world&quot;;\r\n       Pattern imgLocator = &quot;&quot;; \r\n       if(sikuli.exists(imgLocator)!=null) {\r\n            sikuli.find(imgLocator);\r\n            sikuli.click(imgLocator);\r\n            sikuli.wait(2);\r\n            sikuli.type(imgLocator, message);\r\n        }\r\n         \r\n        sikuli.keyDown(Key.ENTER);\r\n        sikuli.keyUp(Key.ENTER);","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p>Use Keydown and Keyup method for Enter key pressed\nI have tried to organize the entire code. please let me know if its working.</p>\n<pre><code>   Screen sikuli = new Screen();\n   String message = &quot;hello world&quot;;\n   Pattern imgLocator = &quot;&quot;; \n   if(sikuli.exists(imgLocator)!=null) {\n        sikuli.find(imgLocator);\n        sikuli.click(imgLocator);\n        sikuli.wait(2);\n        sikuli.type(imgLocator, message);\n    }\n     \n    sikuli.keyDown(Key.ENTER);\n    sikuli.keyUp(Key.ENTER);\n</code></pre>\n"}],"owner":{"account_id":3167617,"reputation":680,"user_id":2677251,"accept_rate":44,"display_name":"debiansse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6097,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1653552891,"creation_date":1392128408,"question_id":21704407,"body_markdown":"I am new to Sikuli and I wanted to \r\n\r\n    1. click windows button, and \r\n    2. type &quot;Helloworld&quot;  \r\n    3. press Enter. \r\n\r\nI have coded this and working Successfully in Sikuli IDE\r\n\r\n    click(&quot;1391583846712.png&quot;)\r\n    type(&quot;helloWorld&quot;)\r\n    wait(2)\r\n    type(Key.ENTER)\r\n\r\n\r\nI tried to move this to Java , \r\nFrom the sikuli javadocs I have seen the following code, However it is not working in java sikuli-api-1.0.2  and latest version \r\n\r\n\r\n\r\n    import org.sikuli.script.*;\r\n\r\n    public class TestSikuli {\r\n\r\n        public static void main(String[] args) {\r\n                Screen s = new Screen();\r\n                try{\r\n                        s.click(&quot;imgs/win-start.png&quot;, 0);\r\n                        s.wait(&quot;imgs/spotlight-input.png&quot;);\r\n                        s.type(null, &quot;hello world\\n&quot;, 0);\r\n                }\r\n                catch(FindFailed e){\r\n                        e.printStackTrace();\r\n                }\r\n\r\n        }\r\n\r\n}\r\n\r\nIt tells that Screen is an interface . Please tell me how to make it working in latest java sikuli-api. Please see that I am very new to Sikuli . Any suggestions will be highly appreciated. Also Please point me to the right sikuli java for begineers\r\n","title":"Sikuli click. (ScreenCaptureImage) in java","body":"<p>I am new to Sikuli and I wanted to </p>\n\n<pre><code>1. click windows button, and \n2. type \"Helloworld\"  \n3. press Enter. \n</code></pre>\n\n<p>I have coded this and working Successfully in Sikuli IDE</p>\n\n<pre><code>click(\"1391583846712.png\")\ntype(\"helloWorld\")\nwait(2)\ntype(Key.ENTER)\n</code></pre>\n\n<p>I tried to move this to Java , \nFrom the sikuli javadocs I have seen the following code, However it is not working in java sikuli-api-1.0.2  and latest version </p>\n\n<pre><code>import org.sikuli.script.*;\n\npublic class TestSikuli {\n\n    public static void main(String[] args) {\n            Screen s = new Screen();\n            try{\n                    s.click(\"imgs/win-start.png\", 0);\n                    s.wait(\"imgs/spotlight-input.png\");\n                    s.type(null, \"hello world\\n\", 0);\n            }\n            catch(FindFailed e){\n                    e.printStackTrace();\n            }\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>It tells that Screen is an interface . Please tell me how to make it working in latest java sikuli-api. Please see that I am very new to Sikuli . Any suggestions will be highly appreciated. Also Please point me to the right sikuli java for begineers</p>\n"},{"tags":["java","rx-java"],"answers":[{"tags":[],"owner":{"account_id":13494803,"reputation":541,"user_id":9735961,"display_name":"Samuel T. Chou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653552467,"creation_date":1653552467,"answer_id":72388709,"question_id":72388534,"body_markdown":"Oh, it turns out that testing of RxJava is now suggested using `TestObserver` class?\r\n\r\n```Java\r\nTestObserver testObserver = new TestObserver();\r\nmyCompletable.blockingSubscribe(testObserver);\r\ntestObserver.assertError(MyException.class);\r\n```","title":"How to test Completable error in RxJava 3?","body":"<p>Oh, it turns out that testing of RxJava is now suggested using <code>TestObserver</code> class?</p>\n<pre><code>TestObserver testObserver = new TestObserver();\nmyCompletable.blockingSubscribe(testObserver);\ntestObserver.assertError(MyException.class);\n</code></pre>\n"}],"owner":{"account_id":13494803,"reputation":541,"user_id":9735961,"display_name":"Samuel T. Chou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72388709,"answer_count":1,"score":0,"last_activity_date":1653552467,"creation_date":1653551642,"question_id":72388534,"body_markdown":"I&#39;m writing Unit Tests for Completable functions.\r\n\r\nIn RxJava 2 we have `blockingGet()` as [documented](https://javadoc.io/static/io.reactivex.rxjava2/rxjava/2.2.7/io/reactivex/Completable.html#blockingGet--):\r\n\r\n```Java\r\nThrowable t = myCompletable.blockingGet();\r\nassertTrue(t instanceof MyException);\r\n```\r\n\r\nHowever, in [RxJava 3 documentation](https://javadoc.io/doc/io.reactivex.rxjava3/rxjava/latest/io/reactivex/rxjava3/core/Completable.html) I don&#39;t see `blockingGet()` anymore.\r\n\r\nHow can I achieve above tests in RxJava 3?","title":"How to test Completable error in RxJava 3?","body":"<p>I'm writing Unit Tests for Completable functions.</p>\n<p>In RxJava 2 we have <code>blockingGet()</code> as <a href=\"https://javadoc.io/static/io.reactivex.rxjava2/rxjava/2.2.7/io/reactivex/Completable.html#blockingGet--\" rel=\"nofollow noreferrer\">documented</a>:</p>\n<pre><code>Throwable t = myCompletable.blockingGet();\nassertTrue(t instanceof MyException);\n</code></pre>\n<p>However, in <a href=\"https://javadoc.io/doc/io.reactivex.rxjava3/rxjava/latest/io/reactivex/rxjava3/core/Completable.html\" rel=\"nofollow noreferrer\">RxJava 3 documentation</a> I don't see <code>blockingGet()</code> anymore.</p>\n<p>How can I achieve above tests in RxJava 3?</p>\n"},{"tags":["java","android","listview","scroll","listadapter"],"comments":[{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":0,"creation_date":1650532636,"post_id":71951778,"comment_id":127141924,"body_markdown":"Can you migrate to recylerview?","body":"Can you migrate to recylerview?"},{"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"score":0,"creation_date":1650534008,"post_id":71951778,"comment_id":127142507,"body_markdown":"Is there a recyclerview for android below android 5 and there is then how to use it?","body":"Is there a recyclerview for android below android 5 and there is then how to use it?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650535250,"post_id":71951778,"comment_id":127143041,"body_markdown":"Why do you need min API Level of 21(Android 5)? 99% of ppl don&#39;t use this version. I always prefer to use min api 25(Android 7.1.1).","body":"Why do you need min API Level of 21(Android 5)? 99% of ppl don&#39;t use this version. I always prefer to use min api 25(Android 7.1.1)."},{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":0,"creation_date":1650536920,"post_id":71951778,"comment_id":127143666,"body_markdown":"Anyway recyerview supports below API 21 too. Check [this](https://stackoverflow.com/questions/38774887/unable-to-add-recyclerview-to-api-level-19)","body":"Anyway recyerview supports below API 21 too. Check <a href=\"https://stackoverflow.com/questions/38774887/unable-to-add-recyclerview-to-api-level-19\">this</a>"},{"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"score":0,"creation_date":1650538456,"post_id":71951778,"comment_id":127144195,"body_markdown":"Sambhav, as you said not all didnt use it and i want that 1% to also use my application...","body":"Sambhav, as you said not all didnt use it and i want that 1% to also use my application..."},{"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"score":0,"creation_date":1650538530,"post_id":71951778,"comment_id":127144220,"body_markdown":"Did you two found out the problem? I need the solution please...","body":"Did you two found out the problem? I need the solution please..."},{"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"score":0,"creation_date":1650539071,"post_id":71951778,"comment_id":127144417,"body_markdown":"Kamal, my compiler is an android app and it doesn&#39;t support gradle compiling from internet","body":"Kamal, my compiler is an android app and it doesn&#39;t support gradle compiling from internet"},{"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"score":0,"creation_date":1650539098,"post_id":71951778,"comment_id":127144430,"body_markdown":"It is Java N-IDE (the application)","body":"It is Java N-IDE (the application)"}],"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653552418,"creation_date":1650532048,"question_id":71951778,"body_markdown":"I want to know something...\r\nWhat&#39;s wrong about my ListView, the problem is when I perform a fast scroll sometimes my application stopped...\r\n\r\nIn my MainActivity extending the a4 class ----&gt; that extends Activity class:\r\n\r\n```\r\n    ArrayList&lt;a&gt; AL; \r\n    static ListView LV; \r\n    SearchView SV; \r\n    Toast TOAST; \r\n    TextView TV; \r\n    static boolean isEnglish;\r\n    private static boolean isSearching, canClear; \r\n    static MultiList newAdapter;\r\n    LinearLayout NV;\r\n    static RelativeLayout.LayoutParams PR;\r\n    ImageButton IB;\r\n    ImageView IV;\r\n    \r\n    public void closeSearch(View view) {\r\n        if (!isSearching) return; \r\n        TV.setVisibility(0);\r\n        IB.setVisibility(8);\r\n        SV.onActionViewCollapsed();\r\n    PR.removeRule(9);       \r\n    isSearching = false; \r\n    } \r\n \r\n    public void d(View view) {\r\n        num(true, 5, 0, 8);\r\n    } \r\n \r\n    public void e(View view) { \r\n        num(false, 6, 8, 0); \r\n    } \r\n \r\n    public void goInfo(View view) { \r\n    co(3); \r\n    } \r\n \r\n    public void goIns(View view) { \r\n    co(2); \r\n    } \r\n \r\n    public void goSet(View view) { \r\n    co(4); \r\n    } \r\n \r\n    public void goTools(View view) { \r\n    co(1); \r\n    } \r\n    \r\nvoid num(boolean bl, final int n, int n2, int n3) { \r\n        int n4 = 0;\r\n        isEnglish = bl;\r\n        AL = new ArrayList&lt;a&gt;();\r\n        newAdapter = new MultiList(this, true, AL);\r\nfindViewById(R.id.l1).setVisibility(n2);\r\nfindViewById(R.id.l2).setVisibility(n3);\r\n        LV.setAdapter(newAdapter);\r\n        LV.setOnItemClickListener(new AdapterView.OnItemClickListener(){ \r\n\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int ol, long l) { \r\n                rt(n, ol); \r\n            } \r\n        });\r\n        do {\r\n        if(bl){\r\n        if(n4 &gt;= songs_e.length || n4 &gt;= singers_e.length) return;\r\n        AL.add(new a(songs_e[n4], singers_e[n4]));\r\n        } else {\r\n        if(n4 &gt;= artists.length) return;\r\n        AL.add(new a(artists[n4])); \r\n        }\r\n        ++n4;\r\n        } while (true);      \r\n    } \r\n\r\n    public void onBackPressed() {\r\n    if(isSearching) {\r\n    closeSearch(isViewed);\r\n    } else {\r\n        if (b0 &lt; System.currentTimeMillis() - 1600L) {\r\n            TOAST = Toast.makeText(this, &quot;Tap again to exit &quot; + app, 0);\r\n            TOAST.show();\r\n            b0 = System.currentTimeMillis();\r\n            return; \r\n        } else { \r\n            if (TOAST != null) { \r\n          TOAST.cancel();\r\n          finish();\r\n          return;\r\n          }\r\n         }\r\n        }\r\n}\r\n\r\n@Override\r\nprotected void onCreate(Bundle bundle) {\r\nshow(4, R.layout.slist, q + app, 0);\r\nLV = findViewById(R.id.lv);\r\nSV = findViewById(R.id.search);\r\nTV = findViewById(R.id.mytv);\r\nNV = findViewById(R.id.llp);\r\nPR = (RelativeLayout.LayoutParams)SV.getLayoutParams();\r\nIB = findViewById(R.id.search_close);        \r\nIV = (ImageView)findViewById((View)SV, &quot;android:id/search_close_btn&quot;);\r\nfinal TextView actv = (TextView)findViewById(SV, &quot;android:id/search_src_text&quot;);\r\nactv.setBackgroundColor(-1);\r\nImageView imageView2 = (ImageView)findViewById((View)SV, &quot;android:id/search_button&quot;);\r\n        imageView2.setImageResource(R.drawable.ic_search); \r\n        imageView2.setBackgroundColor(-12369085);\r\nLV.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){\r\n\r\npublic boolean onItemLongClick(AdapterView&lt;?&gt; av, View v, int n, long l){\r\nreturn true;\r\n}\r\n\r\n});\r\nIV.setOnClickListener(new View.OnClickListener(){ \r\n \r\n            public void onClick(View view) {\r\n            if(canClear){\r\n            actv.setText(&quot;&quot;);\r\n            }           \r\n            }\r\n        });\r\nd(isViewed);\r\nnewAdapter.initForMulti(R.layout.abc_listview, R.id.txt1, R.id.txt2, R.id.image, R.drawable.abc_tab);\r\nSV.setLayoutParams(PR);\r\nSV.setQueryHint(&quot;  Search songs and artists . . .&quot;);\r\nSV.setOnSearchClickListener(new View.OnClickListener(){ \r\n \r\n            public void onClick(View view) {\r\n            IV.setImageResource(R.drawable.search_clear_inactive);\r\n            TV.setVisibility(8);\r\n            canClear = false;\r\n            isSearching = true;\r\n            IB.setVisibility(0);\r\n            PR.addRule(9);\r\n            } \r\n        }); \r\n\r\nSV.setOnQueryTextListener(new SearchView.OnQueryTextListener(){ \r\n\r\n            public boolean onQueryTextChange(String string2) {\r\nArrayList&lt;a&gt; arrayList = new ArrayList&lt;a&gt;();\r\nif(string2.equals((Object)&quot;&quot;)) {\r\nIV.setImageResource(R.drawable.search_clear_inactive);\r\ncanClear = false;\r\n} else {\r\nIV.setImageResource(R.drawable.search_clear_active);\r\ncanClear = true;\r\n}\r\n\r\n//Error for Tagalog, text is not for multi\r\nfor (a aa : MainActivity.this.AL) {\r\nif (isEnglish &amp;&amp; !aa.getFirst().toLowerCase().contains(string2) &amp;&amp; !aa.getFirst().toUpperCase().contains(string2) &amp;&amp; !aa.getFirst().contains(string2) &amp;&amp; !aa.getLast().toLowerCase().contains(string2) &amp;&amp; !aa.getLast().toUpperCase().contains(string2) &amp;&amp; !aa.getLast().contains(string2) || !isEnglish &amp;&amp; !aa.getLast().toLowerCase().contains(string2) &amp;&amp; !aa.getLast().toUpperCase().contains(string2) &amp;&amp; !aa.getLast().contains(string2)) continue;\r\narrayList.add(aa);\r\n}\r\nnewAdapter.filterResult((ArrayList&lt;a&gt;)arrayList);\r\nreturn false;\r\n            } \r\n \r\n            public boolean onQueryTextSubmit(String string2) { \r\n                return true; \r\n            } \r\n        });\r\n        MusicUtils.playAsset(this, &quot;audios/a.ogg&quot;);\r\n        IV.setBackgroundColor(-12369085);\r\nsuper.onCreate(bundle);\r\n\r\n} \r\n \r\n    public void onPause() {\r\n    super.onPause();\r\n    closeSearch(isViewed);\r\n    if (in != 5 &amp;&amp; in != 6) {\r\n   LV.setVisibility(4);\r\n   int n = 0;\r\n            do {\r\n            if (n &gt;= 10) return;\r\n                LV.scrollListBy(-999999999);\r\n                ++n; \r\n            } while (true);\r\n         }\r\n    } \r\n\r\n//onRestart not included because it basically contains setVisibility\r\n  final void rt(int n, int n2) { \r\n        in = n; \r\n        Bundle bundle = new Bundle(); \r\n        newAdapter.getLC(n2); \r\n        bundle.putString(&quot;First&quot;, newAdapter.list.getFirst()); \r\n        bundle.putString(&quot;Last&quot;, newAdapter.list.getLast()); \r\n        go(new Intent(this, ContProv.class).putExtras(bundle)); \r\n    }\r\n```\r\n\r\nAnd for the custom list adapter:\r\n\r\n```\r\nprivate static Context Context;\r\nprivate static ArrayList&lt;a&gt; ab; \r\nprivate static int view, mText, mText1, mText2, mImage, mDrawable;\r\nprivate static boolean listType;\r\npublic a list;\r\n\r\npublic MultiList(Context c, boolean isMultiText, ArrayList&lt;a&gt; array) {\r\nif(c != null || array != null) {\r\nContext = c;\r\nlistType = isMultiText;\r\nab = array;\r\n  }\r\n}\r\n\r\npublic final void initForMulti(int layout, int text1ID, int text2ID, int imageID, int imageDrawable) {\r\nview = layout;\r\nmText1 = text1ID;\r\nmText2 = text2ID;\r\nmImage = imageID;\r\nmDrawable = imageDrawable;\r\n}\r\n\r\npublic final void initForNonMulti(int layout, int textID, int imageID, int imageDrawable){\r\nview = layout;\r\nmText = textID;\r\nmImage = imageID;\r\nmDrawable = imageDrawable;\r\n}\r\n\r\npublic void filterResult(ArrayList&lt;a&gt; arrayList) {\r\n        ab = new ArrayList&lt;a&gt;(); \r\n        ab.addAll((ArrayList&lt;a&gt;)arrayList);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\npublic int getCount() { \r\nreturn ab.size(); \r\n} \r\n \r\npublic Object getItem(int n) { \r\nreturn null; \r\n} \r\n \r\npublic long getItemId(int n) { \r\nreturn 0L;\r\n} \r\n\r\npublic a getLC(int n) {\r\nreturn list = ab.get(n);\r\n}\r\n\r\npublic View getView(int n, View v, ViewGroup vg) {\r\na newList = getLC(n);\r\nv = View.inflate(Context, view, null);\r\n((ImageView)v.findViewById(mImage)).setImageResource(mDrawable);\r\nif(listType) {\r\n((TextView)v.findViewById(mText1)).setText(newList.getFirst());\r\n((TextView)v.findViewById(mText2)).setText(newList.getLast());\r\n} else ((TextView)v.findViewById(mText)).setText(newList.getText());\r\nreturn v;\r\n   }\r\n```\r\n\r\nThank you for your help... I will really appreciate it... Also I need tips about the performance of my existing code and please write your answer in java and don&#39;t use support libraries cuz I want my application work for android phones below android 5...\r\n\r\n**Final:**\r\n\r\nI&#39;ve found out that the problem is at my list adapter so I edited it into this:\r\n\r\n```\r\npackage dn.widget;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.BaseAdapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport dn.widget.ListAdapter;\r\nimport dn.widget.a.a;\r\nimport java.util.ArrayList;\r\n\r\npublic class ListAdapter extends BaseAdapter {\r\n\r\nprivate ArrayList&lt;a&gt; AR; \r\nprivate static int N, N2, N3, N4, N5, N6;\r\nprivate boolean LT;\r\npublic a L;\r\n\r\npublic ListAdapter(ArrayList&lt;a&gt; ar, boolean b) {\r\nAR = ar;\r\nLT = b;\r\n}\r\n\r\npublic void isDual(int n, int n2, int n3, int n4, int n5) {\r\nif (LT) {\r\nN = n;\r\nN3 = n2;\r\nN4 = n3;\r\nN5 = n4;\r\nN6 = n5;\r\n  }\r\n}\r\n\r\npublic void isSingle(int n, int n2, int n3, int n4){\r\nif (!LT) {\r\nN = n;\r\nN2 = n2;\r\nN4 = n3;\r\nN5 = n4;\r\n  }\r\n}\r\n\r\npublic void filterResult(ArrayList&lt;a&gt; ar) {\r\nif(AR != null) {\r\nAR = new ArrayList&lt;a&gt;(); \r\nAR.addAll((ArrayList&lt;a&gt;)ar);\r\nnotifyDataSetChanged();\r\n }\r\n}\r\n\r\npublic int getCount() { \r\nreturn AR.size(); \r\n}\r\n \r\npublic Object getItem(int n) { \r\nreturn null; \r\n} \r\n \r\npublic long getItemId(int n) { \r\nreturn 0L;\r\n}\r\n\r\npublic a getLC(int n) {\r\nL = AR.get(n);\r\nreturn L;\r\n}\r\n\r\nstatic class LH {\r\nprivate ImageView I;\r\nprivate TextView T, T1, T2;\r\n}\r\n\r\n@Override\r\npublic View getView(int n, View v, ViewGroup g) {\r\ngetLC(n);\r\nfinal LH h;\r\nif(v == null) {\r\nv = View.inflate(g.getContext(), N, null);\r\nh = new LH();\r\nh.I = v.findViewById(N5);\r\nh.T = v.findViewById(N2);\r\nh.T1 = v.findViewById(N3);\r\nh.T2 = v.findViewById(N4);\r\nh.I.setImageResource(N6);\r\nv.setTag(h);\r\n} else {\r\nh = (LH)v.getTag();\r\n}\r\nif(LT) {\r\nh.T1.setText(L.f());\r\nh.T2.setText(L.l());\r\n} else h.T.setText(L.t());\r\nreturn v;\r\n   }\r\n}\r\n```","title":"ListView Scrolling Problem and Performance Tips","body":"<p>I want to know something...\nWhat's wrong about my ListView, the problem is when I perform a fast scroll sometimes my application stopped...</p>\n<p>In my MainActivity extending the a4 class ----&gt; that extends Activity class:</p>\n<pre><code>    ArrayList&lt;a&gt; AL; \n    static ListView LV; \n    SearchView SV; \n    Toast TOAST; \n    TextView TV; \n    static boolean isEnglish;\n    private static boolean isSearching, canClear; \n    static MultiList newAdapter;\n    LinearLayout NV;\n    static RelativeLayout.LayoutParams PR;\n    ImageButton IB;\n    ImageView IV;\n    \n    public void closeSearch(View view) {\n        if (!isSearching) return; \n        TV.setVisibility(0);\n        IB.setVisibility(8);\n        SV.onActionViewCollapsed();\n    PR.removeRule(9);       \n    isSearching = false; \n    } \n \n    public void d(View view) {\n        num(true, 5, 0, 8);\n    } \n \n    public void e(View view) { \n        num(false, 6, 8, 0); \n    } \n \n    public void goInfo(View view) { \n    co(3); \n    } \n \n    public void goIns(View view) { \n    co(2); \n    } \n \n    public void goSet(View view) { \n    co(4); \n    } \n \n    public void goTools(View view) { \n    co(1); \n    } \n    \nvoid num(boolean bl, final int n, int n2, int n3) { \n        int n4 = 0;\n        isEnglish = bl;\n        AL = new ArrayList&lt;a&gt;();\n        newAdapter = new MultiList(this, true, AL);\nfindViewById(R.id.l1).setVisibility(n2);\nfindViewById(R.id.l2).setVisibility(n3);\n        LV.setAdapter(newAdapter);\n        LV.setOnItemClickListener(new AdapterView.OnItemClickListener(){ \n\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int ol, long l) { \n                rt(n, ol); \n            } \n        });\n        do {\n        if(bl){\n        if(n4 &gt;= songs_e.length || n4 &gt;= singers_e.length) return;\n        AL.add(new a(songs_e[n4], singers_e[n4]));\n        } else {\n        if(n4 &gt;= artists.length) return;\n        AL.add(new a(artists[n4])); \n        }\n        ++n4;\n        } while (true);      \n    } \n\n    public void onBackPressed() {\n    if(isSearching) {\n    closeSearch(isViewed);\n    } else {\n        if (b0 &lt; System.currentTimeMillis() - 1600L) {\n            TOAST = Toast.makeText(this, &quot;Tap again to exit &quot; + app, 0);\n            TOAST.show();\n            b0 = System.currentTimeMillis();\n            return; \n        } else { \n            if (TOAST != null) { \n          TOAST.cancel();\n          finish();\n          return;\n          }\n         }\n        }\n}\n\n@Override\nprotected void onCreate(Bundle bundle) {\nshow(4, R.layout.slist, q + app, 0);\nLV = findViewById(R.id.lv);\nSV = findViewById(R.id.search);\nTV = findViewById(R.id.mytv);\nNV = findViewById(R.id.llp);\nPR = (RelativeLayout.LayoutParams)SV.getLayoutParams();\nIB = findViewById(R.id.search_close);        \nIV = (ImageView)findViewById((View)SV, &quot;android:id/search_close_btn&quot;);\nfinal TextView actv = (TextView)findViewById(SV, &quot;android:id/search_src_text&quot;);\nactv.setBackgroundColor(-1);\nImageView imageView2 = (ImageView)findViewById((View)SV, &quot;android:id/search_button&quot;);\n        imageView2.setImageResource(R.drawable.ic_search); \n        imageView2.setBackgroundColor(-12369085);\nLV.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){\n\npublic boolean onItemLongClick(AdapterView&lt;?&gt; av, View v, int n, long l){\nreturn true;\n}\n\n});\nIV.setOnClickListener(new View.OnClickListener(){ \n \n            public void onClick(View view) {\n            if(canClear){\n            actv.setText(&quot;&quot;);\n            }           \n            }\n        });\nd(isViewed);\nnewAdapter.initForMulti(R.layout.abc_listview, R.id.txt1, R.id.txt2, R.id.image, R.drawable.abc_tab);\nSV.setLayoutParams(PR);\nSV.setQueryHint(&quot;  Search songs and artists . . .&quot;);\nSV.setOnSearchClickListener(new View.OnClickListener(){ \n \n            public void onClick(View view) {\n            IV.setImageResource(R.drawable.search_clear_inactive);\n            TV.setVisibility(8);\n            canClear = false;\n            isSearching = true;\n            IB.setVisibility(0);\n            PR.addRule(9);\n            } \n        }); \n\nSV.setOnQueryTextListener(new SearchView.OnQueryTextListener(){ \n\n            public boolean onQueryTextChange(String string2) {\nArrayList&lt;a&gt; arrayList = new ArrayList&lt;a&gt;();\nif(string2.equals((Object)&quot;&quot;)) {\nIV.setImageResource(R.drawable.search_clear_inactive);\ncanClear = false;\n} else {\nIV.setImageResource(R.drawable.search_clear_active);\ncanClear = true;\n}\n\n//Error for Tagalog, text is not for multi\nfor (a aa : MainActivity.this.AL) {\nif (isEnglish &amp;&amp; !aa.getFirst().toLowerCase().contains(string2) &amp;&amp; !aa.getFirst().toUpperCase().contains(string2) &amp;&amp; !aa.getFirst().contains(string2) &amp;&amp; !aa.getLast().toLowerCase().contains(string2) &amp;&amp; !aa.getLast().toUpperCase().contains(string2) &amp;&amp; !aa.getLast().contains(string2) || !isEnglish &amp;&amp; !aa.getLast().toLowerCase().contains(string2) &amp;&amp; !aa.getLast().toUpperCase().contains(string2) &amp;&amp; !aa.getLast().contains(string2)) continue;\narrayList.add(aa);\n}\nnewAdapter.filterResult((ArrayList&lt;a&gt;)arrayList);\nreturn false;\n            } \n \n            public boolean onQueryTextSubmit(String string2) { \n                return true; \n            } \n        });\n        MusicUtils.playAsset(this, &quot;audios/a.ogg&quot;);\n        IV.setBackgroundColor(-12369085);\nsuper.onCreate(bundle);\n\n} \n \n    public void onPause() {\n    super.onPause();\n    closeSearch(isViewed);\n    if (in != 5 &amp;&amp; in != 6) {\n   LV.setVisibility(4);\n   int n = 0;\n            do {\n            if (n &gt;= 10) return;\n                LV.scrollListBy(-999999999);\n                ++n; \n            } while (true);\n         }\n    } \n\n//onRestart not included because it basically contains setVisibility\n  final void rt(int n, int n2) { \n        in = n; \n        Bundle bundle = new Bundle(); \n        newAdapter.getLC(n2); \n        bundle.putString(&quot;First&quot;, newAdapter.list.getFirst()); \n        bundle.putString(&quot;Last&quot;, newAdapter.list.getLast()); \n        go(new Intent(this, ContProv.class).putExtras(bundle)); \n    }\n</code></pre>\n<p>And for the custom list adapter:</p>\n<pre><code>private static Context Context;\nprivate static ArrayList&lt;a&gt; ab; \nprivate static int view, mText, mText1, mText2, mImage, mDrawable;\nprivate static boolean listType;\npublic a list;\n\npublic MultiList(Context c, boolean isMultiText, ArrayList&lt;a&gt; array) {\nif(c != null || array != null) {\nContext = c;\nlistType = isMultiText;\nab = array;\n  }\n}\n\npublic final void initForMulti(int layout, int text1ID, int text2ID, int imageID, int imageDrawable) {\nview = layout;\nmText1 = text1ID;\nmText2 = text2ID;\nmImage = imageID;\nmDrawable = imageDrawable;\n}\n\npublic final void initForNonMulti(int layout, int textID, int imageID, int imageDrawable){\nview = layout;\nmText = textID;\nmImage = imageID;\nmDrawable = imageDrawable;\n}\n\npublic void filterResult(ArrayList&lt;a&gt; arrayList) {\n        ab = new ArrayList&lt;a&gt;(); \n        ab.addAll((ArrayList&lt;a&gt;)arrayList);\n        notifyDataSetChanged();\n    }\n\npublic int getCount() { \nreturn ab.size(); \n} \n \npublic Object getItem(int n) { \nreturn null; \n} \n \npublic long getItemId(int n) { \nreturn 0L;\n} \n\npublic a getLC(int n) {\nreturn list = ab.get(n);\n}\n\npublic View getView(int n, View v, ViewGroup vg) {\na newList = getLC(n);\nv = View.inflate(Context, view, null);\n((ImageView)v.findViewById(mImage)).setImageResource(mDrawable);\nif(listType) {\n((TextView)v.findViewById(mText1)).setText(newList.getFirst());\n((TextView)v.findViewById(mText2)).setText(newList.getLast());\n} else ((TextView)v.findViewById(mText)).setText(newList.getText());\nreturn v;\n   }\n</code></pre>\n<p>Thank you for your help... I will really appreciate it... Also I need tips about the performance of my existing code and please write your answer in java and don't use support libraries cuz I want my application work for android phones below android 5...</p>\n<p><strong>Final:</strong></p>\n<p>I've found out that the problem is at my list adapter so I edited it into this:</p>\n<pre><code>package dn.widget;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport dn.widget.ListAdapter;\nimport dn.widget.a.a;\nimport java.util.ArrayList;\n\npublic class ListAdapter extends BaseAdapter {\n\nprivate ArrayList&lt;a&gt; AR; \nprivate static int N, N2, N3, N4, N5, N6;\nprivate boolean LT;\npublic a L;\n\npublic ListAdapter(ArrayList&lt;a&gt; ar, boolean b) {\nAR = ar;\nLT = b;\n}\n\npublic void isDual(int n, int n2, int n3, int n4, int n5) {\nif (LT) {\nN = n;\nN3 = n2;\nN4 = n3;\nN5 = n4;\nN6 = n5;\n  }\n}\n\npublic void isSingle(int n, int n2, int n3, int n4){\nif (!LT) {\nN = n;\nN2 = n2;\nN4 = n3;\nN5 = n4;\n  }\n}\n\npublic void filterResult(ArrayList&lt;a&gt; ar) {\nif(AR != null) {\nAR = new ArrayList&lt;a&gt;(); \nAR.addAll((ArrayList&lt;a&gt;)ar);\nnotifyDataSetChanged();\n }\n}\n\npublic int getCount() { \nreturn AR.size(); \n}\n \npublic Object getItem(int n) { \nreturn null; \n} \n \npublic long getItemId(int n) { \nreturn 0L;\n}\n\npublic a getLC(int n) {\nL = AR.get(n);\nreturn L;\n}\n\nstatic class LH {\nprivate ImageView I;\nprivate TextView T, T1, T2;\n}\n\n@Override\npublic View getView(int n, View v, ViewGroup g) {\ngetLC(n);\nfinal LH h;\nif(v == null) {\nv = View.inflate(g.getContext(), N, null);\nh = new LH();\nh.I = v.findViewById(N5);\nh.T = v.findViewById(N2);\nh.T1 = v.findViewById(N3);\nh.T2 = v.findViewById(N4);\nh.I.setImageResource(N6);\nv.setTag(h);\n} else {\nh = (LH)v.getTag();\n}\nif(LT) {\nh.T1.setText(L.f());\nh.T2.setText(L.l());\n} else h.T.setText(L.t());\nreturn v;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653552323,"creation_date":1653552323,"answer_id":72388680,"question_id":72322106,"body_markdown":"an `@ObjectFactory` is used to create the object. After that mapstruct will attempt to fill it with mapping actions.\r\n\r\n# Disable automapping option\r\n\r\nYou can add the following `@BeanMapping(ignoreByDefault = true)` to the mapping method to disable automapping for that mapping method. Only explicitly defined mappings will now be used.\r\n\r\n# BeforeMapping option\r\n\r\nIf you use `@BeforeMapping` you can have it return the value that you want it to have instead. In case it is not found you can return null, in that case mapstruct will create a new ticketAccount based on the dto.\r\n\r\n```java\r\n    @BeforeMapping\r\n    public TicketAccount resolve(TicketAccountDto dto, @TargetType Class&lt;TicketAccount&gt; type) {\r\n        if (null != dto &amp;&amp; dto.getId() != null) {\r\n            return repository.findById(dto.getId()).get();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nwould result in something like:\r\n\r\n```\r\n @Override\r\n    public TicketAccount map(TicketAccountDto dto) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        TicketAccount ticketAccount = ticketAccountResolver.resolve( dto, TicketAccount.class );\r\n\r\n        if (ticketAccount != null) { return ticketAccount; }\r\n// no TicketAccount found, mapstruct will now attempt to initialise it.\r\n        ticketAccount = new TicketAccount(); // if empty constructor exists, otherwise it will initialise the constructor fields first with dto values before calling it with the correct arguments.\r\n        ticketAccount.setDisplayName( dto.getDisplayName() );\r\n        ticketAccount.setId( dto.getId() );\r\n        ticketAccount.setName( dto.getName() );\r\n\r\n        return ticketAccount;\r\n    }\r\n```","title":"mapper overwriting resolved object","body":"<p>an <code>@ObjectFactory</code> is used to create the object. After that mapstruct will attempt to fill it with mapping actions.</p>\n<h1>Disable automapping option</h1>\n<p>You can add the following <code>@BeanMapping(ignoreByDefault = true)</code> to the mapping method to disable automapping for that mapping method. Only explicitly defined mappings will now be used.</p>\n<h1>BeforeMapping option</h1>\n<p>If you use <code>@BeforeMapping</code> you can have it return the value that you want it to have instead. In case it is not found you can return null, in that case mapstruct will create a new ticketAccount based on the dto.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeMapping\n    public TicketAccount resolve(TicketAccountDto dto, @TargetType Class&lt;TicketAccount&gt; type) {\n        if (null != dto &amp;&amp; dto.getId() != null) {\n            return repository.findById(dto.getId()).get();\n        }\n        return null;\n    }\n</code></pre>\n<p>would result in something like:</p>\n<pre><code> @Override\n    public TicketAccount map(TicketAccountDto dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        TicketAccount ticketAccount = ticketAccountResolver.resolve( dto, TicketAccount.class );\n\n        if (ticketAccount != null) { return ticketAccount; }\n// no TicketAccount found, mapstruct will now attempt to initialise it.\n        ticketAccount = new TicketAccount(); // if empty constructor exists, otherwise it will initialise the constructor fields first with dto values before calling it with the correct arguments.\n        ticketAccount.setDisplayName( dto.getDisplayName() );\n        ticketAccount.setId( dto.getId() );\n        ticketAccount.setName( dto.getName() );\n\n        return ticketAccount;\n    }\n</code></pre>\n"}],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72388680,"answer_count":1,"score":1,"last_activity_date":1653552323,"creation_date":1653064264,"question_id":72322106,"body_markdown":"i have a mapper which uses resolve factory to turn a dto (with its id populated) to a domain entity.  It all seems to work but in the generated mapper impl, it overwrites the resolved properties from whats in the dto.\r\n\r\nmapper:\r\n\r\n    @Mapper(componentModel = &quot;springlazy&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR, unmappedSourcePolicy = ReportingPolicy.ERROR, uses = { TicketAccountResolver.class })\r\n    public interface TicketAccountMapper {\r\n    \t/**\r\n    \t * Converts TicketAccount domain class to DTO\r\n    \t *\r\n    \t * @param TicketAccountDto domain class\r\n    \t * @return TicketAccount DTO class. If null provided, would return null as well.\r\n    \t */\r\n    \tTicketAccountDto map(TicketAccount domain);\r\n    \r\n    \t/**\r\n    \t * Converts TicketAccount dto class to domain\r\n    \t *\r\n    \t * @param TicketAccountDto domain class\r\n    \t * @return TicketAccount DTO class. If null provided, would return null as well.\r\n    \t */\r\n    \tTicketAccount map(TicketAccountDto dto);\r\n    }\r\n\r\nresolver:\r\n\r\n    @Component\r\n    public class TicketAccountResolver {\r\n    \t@Autowired\r\n    \tTicketAccountRepository repository;\r\n    \r\n    \t@ObjectFactory\r\n    \tpublic TicketAccount resolve(TicketAccountDto dto, @TargetType Class&lt;TicketAccount&gt; type) {\r\n    \t\tif (null != dto &amp;&amp; dto.getId() != null) {\r\n    \t\t\treturn repository.findById(dto.getId()).get();\r\n    \t\t}\r\n    \t\t// TODO not sure on best approach here, throw exception, return null, or do the below\r\n    \t\treturn new TicketAccount(dto.getId());\r\n    \t}\r\n\r\ngenerated mapper impl:\r\n   \r\n\r\n     @Override\r\n        public TicketAccount map(TicketAccountDto dto) {\r\n            if ( dto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            TicketAccount ticketAccount = ticketAccountResolver.resolve( dto, TicketAccount.class );\r\n    \r\n            ticketAccount.setDisplayName( dto.getDisplayName() );\r\n            ticketAccount.setId( dto.getId() );\r\n            ticketAccount.setName( dto.getName() );\r\n    \r\n            return ticketAccount;\r\n        }\r\n\r\nI need it to return the ticketAccount after resolve is called, not overwrite its fields with dto values.","title":"mapper overwriting resolved object","body":"<p>i have a mapper which uses resolve factory to turn a dto (with its id populated) to a domain entity.  It all seems to work but in the generated mapper impl, it overwrites the resolved properties from whats in the dto.</p>\n<p>mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;springlazy&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR, unmappedSourcePolicy = ReportingPolicy.ERROR, uses = { TicketAccountResolver.class })\npublic interface TicketAccountMapper {\n    /**\n     * Converts TicketAccount domain class to DTO\n     *\n     * @param TicketAccountDto domain class\n     * @return TicketAccount DTO class. If null provided, would return null as well.\n     */\n    TicketAccountDto map(TicketAccount domain);\n\n    /**\n     * Converts TicketAccount dto class to domain\n     *\n     * @param TicketAccountDto domain class\n     * @return TicketAccount DTO class. If null provided, would return null as well.\n     */\n    TicketAccount map(TicketAccountDto dto);\n}\n</code></pre>\n<p>resolver:</p>\n<pre><code>@Component\npublic class TicketAccountResolver {\n    @Autowired\n    TicketAccountRepository repository;\n\n    @ObjectFactory\n    public TicketAccount resolve(TicketAccountDto dto, @TargetType Class&lt;TicketAccount&gt; type) {\n        if (null != dto &amp;&amp; dto.getId() != null) {\n            return repository.findById(dto.getId()).get();\n        }\n        // TODO not sure on best approach here, throw exception, return null, or do the below\n        return new TicketAccount(dto.getId());\n    }\n</code></pre>\n<p>generated mapper impl:</p>\n<pre><code> @Override\n    public TicketAccount map(TicketAccountDto dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        TicketAccount ticketAccount = ticketAccountResolver.resolve( dto, TicketAccount.class );\n\n        ticketAccount.setDisplayName( dto.getDisplayName() );\n        ticketAccount.setId( dto.getId() );\n        ticketAccount.setName( dto.getName() );\n\n        return ticketAccount;\n    }\n</code></pre>\n<p>I need it to return the ticketAccount after resolve is called, not overwrite its fields with dto values.</p>\n"},{"tags":["java","sorting","java-stream","compare","comparator"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653551217,"creation_date":1653551217,"answer_id":72388448,"question_id":72388363,"body_markdown":"Your custom comparator seems good. However in the `sorted` method of `streams` you use another comparator.\r\n\r\nThis is how you can pluggin your custom comparator considering it is in the same class with the following block of code.\r\n\r\n      return articles.stream()\r\n                .sorted(this::compare)\r\n                .collect(Collectors.toList());\r\n    \r\n\r\n","title":"Java sort list with streams first by length then alphabetically","body":"<p>Your custom comparator seems good. However in the <code>sorted</code> method of <code>streams</code> you use another comparator.</p>\n<p>This is how you can pluggin your custom comparator considering it is in the same class with the following block of code.</p>\n<pre><code>  return articles.stream()\n            .sorted(this::compare)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551799,"creation_date":1653551311,"answer_id":72388469,"question_id":72388363,"body_markdown":"Use `Comparator.comparing(KeyExtractor,Comparator)`\r\n\r\n    public List&lt;Article&gt; sortAsc() {\r\n        removeNull();\r\n        return articles.stream()\r\n                .sorted(Comparator.comparing(a -&gt; a.getDescription(), new ComparatorAppController()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\nOr define all the criterias with some `thenComparing*`\r\n\r\n    public static List&lt;Article&gt; sortAsc() {\r\n        return articles.stream()\r\n                .sorted(Comparator.&lt;Article&gt;comparingInt(a -&gt; a.getDescription().length())\r\n                        .thenComparing(Article::getDescription))\r\n                .collect(Collectors.toList());\r\n    }\r\n","title":"Java sort list with streams first by length then alphabetically","body":"<p>Use <code>Comparator.comparing(KeyExtractor,Comparator)</code></p>\n<pre><code>public List&lt;Article&gt; sortAsc() {\n    removeNull();\n    return articles.stream()\n            .sorted(Comparator.comparing(a -&gt; a.getDescription(), new ComparatorAppController()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Or define all the criterias with some <code>thenComparing*</code></p>\n<pre><code>public static List&lt;Article&gt; sortAsc() {\n    return articles.stream()\n            .sorted(Comparator.&lt;Article&gt;comparingInt(a -&gt; a.getDescription().length())\n                    .thenComparing(Article::getDescription))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653552108,"creation_date":1653551731,"answer_id":72388553,"question_id":72388363,"body_markdown":"If you need to sort first by description length and then by description (alphabetical order), then your first comparison is fine but you also need to add a second comparison by description.\r\n\r\nYou can stack a second comparison by using the method `thenComparing()`. It will perform the second comparison only for elements with same length. There is no need to implement a custom `Comparator` for this scenario.\r\n\r\n``` \r\npublic List&lt;Article&gt; sortAsc() {\r\n    removeNull();\r\n    return articles.stream()\r\n            .sorted(Comparator.comparingInt((Article a) -&gt; a.getDescription().length())\r\n                .thenComparing(Article::getDescription))\r\n            .collect(Collectors.toList());\r\n}\r\n```","title":"Java sort list with streams first by length then alphabetically","body":"<p>If you need to sort first by description length and then by description (alphabetical order), then your first comparison is fine but you also need to add a second comparison by description.</p>\n<p>You can stack a second comparison by using the method <code>thenComparing()</code>. It will perform the second comparison only for elements with same length. There is no need to implement a custom <code>Comparator</code> for this scenario.</p>\n<pre><code>public List&lt;Article&gt; sortAsc() {\n    removeNull();\n    return articles.stream()\n            .sorted(Comparator.comparingInt((Article a) -&gt; a.getDescription().length())\n                .thenComparing(Article::getDescription))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551760,"creation_date":1653551760,"answer_id":72388559,"question_id":72388363,"body_markdown":"Why you need to sort in `stream` ,you can simply call &#39;sort&#39; method for your list.\r\n```\r\narticles.sort(new ComparatorAppController()); \r\n```\r\nYou can add n numbers of comparator in `sort` method.\r\neg:-\r\n```\r\narticles.sort(new ComparatorAppController().thenComparing(new SomeOtherComparing())); \r\n```\r\n\r\nYou can also use `thenComparing` in the `stream` also.\r\n```\r\narticles.stream()\r\n            .sorted(Comparator.comparingInt(a -&gt; a.getDescription().length()).thenComparing(new SomeOtherComparing()))\r\n            .collect(Collectors.toList());\r\n```","title":"Java sort list with streams first by length then alphabetically","body":"<p>Why you need to sort in <code>stream</code> ,you can simply call 'sort' method for your list.</p>\n<pre><code>articles.sort(new ComparatorAppController()); \n</code></pre>\n<p>You can add n numbers of comparator in <code>sort</code> method.\neg:-</p>\n<pre><code>articles.sort(new ComparatorAppController().thenComparing(new SomeOtherComparing())); \n</code></pre>\n<p>You can also use <code>thenComparing</code> in the <code>stream</code> also.</p>\n<pre><code>articles.stream()\n            .sorted(Comparator.comparingInt(a -&gt; a.getDescription().length()).thenComparing(new SomeOtherComparing()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551836,"creation_date":1653551836,"answer_id":72388575,"question_id":72388363,"body_markdown":"Delete your comparator and build one using `comparing()` and `thenComparing()`:\r\n\r\n    articles.stream()\r\n      .sorted(Comparator.comparing(a -&gt; a.getDescription().length())\r\n                        .thenComparing(Article::getDescription))\r\n            .collect(Collectors.toList());\r\n","title":"Java sort list with streams first by length then alphabetically","body":"<p>Delete your comparator and build one using <code>comparing()</code> and <code>thenComparing()</code>:</p>\n<pre><code>articles.stream()\n  .sorted(Comparator.comparing(a -&gt; a.getDescription().length())\n                    .thenComparing(Article::getDescription))\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24880915,"reputation":41,"user_id":18754133,"display_name":"freedomisthegoal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72388553,"answer_count":5,"score":2,"last_activity_date":1653552108,"creation_date":1653550719,"question_id":72388363,"body_markdown":"I can sort already by the description length, but how can I alphabetically sort two `Article` if two of them have the same length? (if the description of two articles has the same length, then the sorting should be alphabetical).\r\n\r\n       public List&lt;Article&gt; sortAsc() {\r\n        removeNull();\r\n        return articles.stream()\r\n                .sorted(Comparator.comparingInt(a -&gt; a.getDescription().length()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\n\r\n\r\n    public class ComparatorAppController implements Comparator&lt;String&gt; {\r\n\r\n    /***\r\n     * compare each element\r\n     * @param o1\r\n     * @param o2\r\n     * @return\r\n     */\r\n    public int compare(String o1, String o2) {\r\n        // check length in one direction\r\n        if (o1.length() &gt; o2.length()) {\r\n            return 1;\r\n        }\r\n        // check length in the other direction\r\n        else if (o1.length() &lt; o2.length()) {\r\n            return -1;\r\n        }\r\n        // if same alphabetical order\r\n        return o1.compareTo(o2);\r\n    }\r\n}\r\n\r\nHow can I use my Comparator for this situation? Or should I change it to something else?","title":"Java sort list with streams first by length then alphabetically","body":"<p>I can sort already by the description length, but how can I alphabetically sort two <code>Article</code> if two of them have the same length? (if the description of two articles has the same length, then the sorting should be alphabetical).</p>\n<pre><code>   public List&lt;Article&gt; sortAsc() {\n    removeNull();\n    return articles.stream()\n            .sorted(Comparator.comparingInt(a -&gt; a.getDescription().length()))\n            .collect(Collectors.toList());\n}\n\n\n\n\npublic class ComparatorAppController implements Comparator&lt;String&gt; {\n\n/***\n * compare each element\n * @param o1\n * @param o2\n * @return\n */\npublic int compare(String o1, String o2) {\n    // check length in one direction\n    if (o1.length() &gt; o2.length()) {\n        return 1;\n    }\n    // check length in the other direction\n    else if (o1.length() &lt; o2.length()) {\n        return -1;\n    }\n    // if same alphabetical order\n    return o1.compareTo(o2);\n}\n</code></pre>\n<p>}</p>\n<p>How can I use my Comparator for this situation? Or should I change it to something else?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8678,"page":1314,"page_size":100}
