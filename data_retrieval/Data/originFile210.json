{"items":[{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693501511,"post_id":77017354,"comment_id":135772926,"body_markdown":"First use an up-to-date version of maven-surefire-plugin (version 3.1.2; https://maven.apache.org/surefire/maven-surefire-plugin/plugin-info.html) and remove the manualy added dependency to surefire plugin. Are you using only TestNG as testing framework?","body":"First use an up-to-date version of maven-surefire-plugin (version 3.1.2; <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>) and remove the manualy added dependency to surefire plugin. Are you using only TestNG as testing framework?"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1693640675,"post_id":77017354,"comment_id":135789911,"body_markdown":"The latest released version of TestNG is `7.8.0` (JDK11) and `7.5.1`(JDK8). Please upgrade to it and retry. If the problem persists, then please edit your question and share a sample test code that can be used to reproduce the problem.  The stack-trace seems to indicate that this bug perhaps has been fixed in newer versions","body":"The latest released version of TestNG is <code>7.8.0</code> (JDK11) and <code>7.5.1</code>(JDK8). Please upgrade to it and retry. If the problem persists, then please edit your question and share a sample test code that can be used to reproduce the problem.  The stack-trace seems to indicate that this bug perhaps has been fixed in newer versions"}],"owner":{"account_id":15913659,"reputation":739,"user_id":11482935,"display_name":"monsterpiece"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693498038,"creation_date":1693496268,"question_id":77017354,"body_markdown":"I&#39;m using maven surefire 2.22.0 with testNG 7.1.0 and all my unit tests pass on their own even when run in sequence however when running mvn test I get this error, I haven&#39;t seen much on this error but I&#39;m guessing theres some issue with Maven trying to find or initiate testNG to start running the tests??\r\n\r\nnot sure why they all pass manually though... I&#39;m not passing any special flags in my manual config, hoping someone has some ideas here?\r\n\r\nI&#39;ve edited this to show the full stack trace with mvn test -X\r\n\r\n```\r\nException in provider\r\norg.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:96)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1287)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1144)\r\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:910)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:910)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\r\nCaused by: java.lang.NullPointerException\r\n        at com.ebay.kernel.exception.BaseException.printStackTrace(BaseException.java:139)\r\n        at org.testng.internal.Utils.buildStackTrace(Utils.java:320)\r\n        at org.testng.internal.Utils.longStackTrace(Utils.java:303)\r\n        at org.testng.reporters.TestHTMLReporter.generateTable(TestHTMLReporter.java:169)\r\n        at org.testng.reporters.TestHTMLReporter.generateLog(TestHTMLReporter.java:359)\r\n        at org.testng.reporters.TestHTMLReporter.onFinish(TestHTMLReporter.java:38)\r\n        at org.testng.TestRunner.fireEvent(TestRunner.java:895)\r\n        at org.testng.TestRunner.afterRun(TestRunner.java:859)\r\n        at org.testng.TestRunner.run(TestRunner.java:590)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1039)\r\n        at org.testng.TestNG.run(TestNG.java:1007)\r\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\r\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:192)\r\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:93)\r\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:183)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:161)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:92)\r\n        ... 30 more\r\n\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:278)\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:171)\r\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:546)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1160)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:96)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: java.lang.NullPointerException\r\n    at com.ebay.kernel.exception.BaseException.printStackTrace (BaseException.java:139)\r\n    at org.testng.internal.Utils.buildStackTrace (Utils.java:320)\r\n    at org.testng.internal.Utils.longStackTrace (Utils.java:303)\r\n    at org.testng.reporters.TestHTMLReporter.generateTable (TestHTMLReporter.java:169)\r\n    at org.testng.reporters.TestHTMLReporter.generateLog (TestHTMLReporter.java:359)\r\n    at org.testng.reporters.TestHTMLReporter.onFinish (TestHTMLReporter.java:38)\r\n    at org.testng.TestRunner.fireEvent (TestRunner.java:895)\r\n    at org.testng.TestRunner.afterRun (TestRunner.java:859)\r\n    at org.testng.TestRunner.run (TestRunner.java:590)\r\n    at org.testng.SuiteRunner.runTest (SuiteRunner.java:384)\r\n    at org.testng.SuiteRunner.runSequentially (SuiteRunner.java:378)\r\n    at org.testng.SuiteRunner.privateRun (SuiteRunner.java:337)\r\n    at org.testng.SuiteRunner.run (SuiteRunner.java:286)\r\n    at org.testng.SuiteRunnerWorker.runSuite (SuiteRunnerWorker.java:53)\r\n    at org.testng.SuiteRunnerWorker.run (SuiteRunnerWorker.java:96)\r\n    at org.testng.TestNG.runSuitesSequentially (TestNG.java:1187)\r\n    at org.testng.TestNG.runSuitesLocally (TestNG.java:1109)\r\n    at org.testng.TestNG.runSuites (TestNG.java:1039)\r\n    at org.testng.TestNG.run (TestNG.java:1007)\r\n    at org.apache.maven.surefire.testng.TestNGExecutor.run (TestNGExecutor.java:151)\r\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti (TestNGDirectoryTestSuite.java:192)\r\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute (TestNGDirectoryTestSuite.java:93)\r\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke (TestNGProvider.java:155)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2 (ReflectionUtils.java:183)\r\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke (ProviderFactory.java:161)\r\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider (ProviderFactory.java:85)\r\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:92)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n\r\n\r\n```\r\n\r\nthis is my configuration in my project POM, these are just the relevant sections because the POM is quite large.\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;7.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.0&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n              &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n","title":"Mvn test Exception in provider error when running tests but all tests pass individually","body":"<p>I'm using maven surefire 2.22.0 with testNG 7.1.0 and all my unit tests pass on their own even when run in sequence however when running mvn test I get this error, I haven't seen much on this error but I'm guessing theres some issue with Maven trying to find or initiate testNG to start running the tests??</p>\n<p>not sure why they all pass manually though... I'm not passing any special flags in my manual config, hoping someone has some ideas here?</p>\n<p>I've edited this to show the full stack trace with mvn test -X</p>\n<pre><code>Exception in provider\norg.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:96)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1287)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1144)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:910)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:910)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\nCaused by: java.lang.NullPointerException\n        at com.ebay.kernel.exception.BaseException.printStackTrace(BaseException.java:139)\n        at org.testng.internal.Utils.buildStackTrace(Utils.java:320)\n        at org.testng.internal.Utils.longStackTrace(Utils.java:303)\n        at org.testng.reporters.TestHTMLReporter.generateTable(TestHTMLReporter.java:169)\n        at org.testng.reporters.TestHTMLReporter.generateLog(TestHTMLReporter.java:359)\n        at org.testng.reporters.TestHTMLReporter.onFinish(TestHTMLReporter.java:38)\n        at org.testng.TestRunner.fireEvent(TestRunner.java:895)\n        at org.testng.TestRunner.afterRun(TestRunner.java:859)\n        at org.testng.TestRunner.run(TestRunner.java:590)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n        at org.testng.TestNG.runSuites(TestNG.java:1039)\n        at org.testng.TestNG.run(TestNG.java:1007)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:192)\n        at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:93)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:183)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:161)\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:92)\n        ... 30 more\n\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:278)\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:171)\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:546)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1160)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:96)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: java.lang.NullPointerException\n    at com.ebay.kernel.exception.BaseException.printStackTrace (BaseException.java:139)\n    at org.testng.internal.Utils.buildStackTrace (Utils.java:320)\n    at org.testng.internal.Utils.longStackTrace (Utils.java:303)\n    at org.testng.reporters.TestHTMLReporter.generateTable (TestHTMLReporter.java:169)\n    at org.testng.reporters.TestHTMLReporter.generateLog (TestHTMLReporter.java:359)\n    at org.testng.reporters.TestHTMLReporter.onFinish (TestHTMLReporter.java:38)\n    at org.testng.TestRunner.fireEvent (TestRunner.java:895)\n    at org.testng.TestRunner.afterRun (TestRunner.java:859)\n    at org.testng.TestRunner.run (TestRunner.java:590)\n    at org.testng.SuiteRunner.runTest (SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially (SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun (SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run (SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite (SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run (SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially (TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally (TestNG.java:1109)\n    at org.testng.TestNG.runSuites (TestNG.java:1039)\n    at org.testng.TestNG.run (TestNG.java:1007)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run (TestNGExecutor.java:151)\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti (TestNGDirectoryTestSuite.java:192)\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute (TestNGDirectoryTestSuite.java:93)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke (TestNGProvider.java:155)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray2 (ReflectionUtils.java:183)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke (ProviderFactory.java:161)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider (ProviderFactory.java:85)\n    at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess (InPluginVMSurefireStarter.java:92)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider (AbstractSurefireMojo.java:1287)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1144)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:910)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n\n\n</code></pre>\n<p>this is my configuration in my project POM, these are just the relevant sections because the POM is quite large.</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.1.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.0&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n              &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n              &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n\n</code></pre>\n"},{"tags":["java","pdfbox","velocity","openhtmltopdf"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693504943,"post_id":77016838,"comment_id":135773581,"body_markdown":"try wkhtmltopdf, but make sure you&#39;re sanitizing your input or running this in a container.","body":"try wkhtmltopdf, but make sure you&#39;re sanitizing your input or running this in a container."}],"owner":{"account_id":4863040,"reputation":81,"user_id":3922134,"accept_rate":0,"display_name":"Umair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693497672,"creation_date":1693492407,"question_id":77016838,"body_markdown":"I have to generate configurable reports in pdf format with java. I have velocity template which has the CSS formatting of report and place holders for actual data. \r\n\r\nVelocity is processing the data very efficiently even when data set multiple thousands of records.\r\n\r\nI then convert this processed html string into pdf using openhtmltopdf.pdfbox PdfRendererBuilder. Unfortunately this operation takes around 4 minutes on 10 000 records. I want to reduce this time.\r\n\r\nHow can this pdf generation time be reduced? keeping in mind:\r\n\r\n1. I only have open source libraries in my repo that I can use and do not have many options. I have tried with itext5.5, pdfbox2.0.4, openhtmltopdf. I dont have maven repository access on my development environment.\r\n2. I dont want to rewrite java code for any new upcoming report, I want to write one configurable template, just call that template with data set to generate pdf report. \r\n3. Data volume is huge, so I am looking for optimized solutions.\r\n4. This should support right to left language as well.\r\n","title":"Convert very big html file into pdf with CSS properly rendered efficiently in short time","body":"<p>I have to generate configurable reports in pdf format with java. I have velocity template which has the CSS formatting of report and place holders for actual data.</p>\n<p>Velocity is processing the data very efficiently even when data set multiple thousands of records.</p>\n<p>I then convert this processed html string into pdf using openhtmltopdf.pdfbox PdfRendererBuilder. Unfortunately this operation takes around 4 minutes on 10 000 records. I want to reduce this time.</p>\n<p>How can this pdf generation time be reduced? keeping in mind:</p>\n<ol>\n<li>I only have open source libraries in my repo that I can use and do not have many options. I have tried with itext5.5, pdfbox2.0.4, openhtmltopdf. I dont have maven repository access on my development environment.</li>\n<li>I dont want to rewrite java code for any new upcoming report, I want to write one configurable template, just call that template with data set to generate pdf report.</li>\n<li>Data volume is huge, so I am looking for optimized solutions.</li>\n<li>This should support right to left language as well.</li>\n</ol>\n"},{"tags":["java","cron","jobs","autosys","jil"],"owner":{"account_id":29337824,"reputation":1,"user_id":22477852,"display_name":"user22477852"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693497422,"creation_date":1693488225,"question_id":77016258,"body_markdown":"I have to schedule a job that have to run every day every hour using jil script? Can I write   \r\n\r\n    start_time:&quot;00:00,01:00,02:00,03:00,04:00,05:00,06:00...,22:00,23:00&quot;\r\n\r\nIs the above format right?\r\n\r\n\r\n\r\n\r\n\r\n","title":"schedule a job everyday, everyhour using jil","body":"<p>I have to schedule a job that have to run every day every hour using jil script? Can I write</p>\n<pre><code>start_time:&quot;00:00,01:00,02:00,03:00,04:00,05:00,06:00...,22:00,23:00&quot;\n</code></pre>\n<p>Is the above format right?</p>\n"},{"tags":["java","macos","jvm","sap-commerce-cloud","dylib"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691925422,"post_id":76866456,"comment_id":135554179,"body_markdown":"jre/lib/ext doesn&#39;t exist anymore since Java 9. And in general, it was the wrong location to put files anyway. Depending on why you need it, adding its location to the `DYLD_LIBRARY_PATH` should be sufficient.","body":"jre/lib/ext doesn&#39;t exist anymore since Java 9. And in general, it was the wrong location to put files anyway. Depending on why you need it, adding its location to the <code>DYLD_LIBRARY_PATH</code> should be sufficient."}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692096796,"creation_date":1692096796,"answer_id":76905298,"question_id":76866456,"body_markdown":"You need to replace one that is coming OOTB, in SAP Commerce 2211 it is placed in ***modules/sap-framework-core/sapcorejco/lib/darwinintel64*** directory, feel free to configure the replacement automatically during a\r\nplatform building using the process of customizing.\r\nJust in case, ARM64(mac m1+) specific version of the lib can be downloaded [here][1].\r\n\r\n\r\n  [1]: https://support.sap.com/en/product/connectors/jco.html#Download","title":"libsapjco3.dylib is failing to initialize","body":"<p>You need to replace one that is coming OOTB, in SAP Commerce 2211 it is placed in <em><strong>modules/sap-framework-core/sapcorejco/lib/darwinintel64</strong></em> directory, feel free to configure the replacement automatically during a\nplatform building using the process of customizing.\nJust in case, ARM64(mac m1+) specific version of the lib can be downloaded <a href=\"https://support.sap.com/en/product/connectors/jco.html#Download\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693496342,"creation_date":1691574039,"question_id":76866456,"body_markdown":"I am using Mac.&lt;br&gt;\r\nI know that I am supposed to copy `libsapjco3.dylib` in `VM\\jdkVersion\\jre\\lib\\ext`.&lt;br&gt;\r\nOn Mac I can&#39;t find this location.&lt;br&gt;\r\nWhat is the equivalent location on Mac where I can copy this file.","title":"libsapjco3.dylib is failing to initialize","body":"<p>I am using Mac.<br>\nI know that I am supposed to copy <code>libsapjco3.dylib</code> in <code>VM\\jdkVersion\\jre\\lib\\ext</code>.<br>\nOn Mac I can't find this location.<br>\nWhat is the equivalent location on Mac where I can copy this file.</p>\n"},{"tags":["java","jmeter","dsl"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693496014,"creation_date":1693496014,"answer_id":77017320,"question_id":77016861,"body_markdown":"Something like:\r\n\r\n    httpSampler(secondRequestUrl)\r\n            .method(POST)\r\n            .bodyPart(&quot;param1&quot;, &quot;${paramKey}&quot;, TEXT_PLAIN)\r\n            .bodyPart(&quot;param2&quot;, &quot;10.01&quot;, TEXT_PLAIN)\r\n            //etc\r\n            .bodyFilePart(&quot;foo&quot;, &quot;/path/to/your/file&quot;, APPLICATION_OCTET_STREAM)\r\n\r\nwill generate the HTTP Request sampler looking like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMore information:\r\n\r\n - [JMeter DSL User Guide][3]\r\n - [JMeter DSL: Bringing Performance Testing Closer to Developers][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPiDr.png\r\n  [2]: https://i.stack.imgur.com/5sHfz.png\r\n  [3]: https://abstracta.github.io/jmeter-java-dsl/guide/\r\n  [4]: https://www.blazemeter.com/blog/jmeter-dsl","title":"How to send request with content-type is form-data?","body":"<p>Something like:</p>\n<pre><code>httpSampler(secondRequestUrl)\n        .method(POST)\n        .bodyPart(&quot;param1&quot;, &quot;${paramKey}&quot;, TEXT_PLAIN)\n        .bodyPart(&quot;param2&quot;, &quot;10.01&quot;, TEXT_PLAIN)\n        //etc\n        .bodyFilePart(&quot;foo&quot;, &quot;/path/to/your/file&quot;, APPLICATION_OCTET_STREAM)\n</code></pre>\n<p>will generate the HTTP Request sampler looking like:</p>\n<p><a href=\"https://i.stack.imgur.com/vPiDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPiDr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5sHfz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5sHfz.png\" alt=\"enter image description here\" /></a></p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://abstracta.github.io/jmeter-java-dsl/guide/\" rel=\"nofollow noreferrer\">JMeter DSL User Guide</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-dsl\" rel=\"nofollow noreferrer\">JMeter DSL: Bringing Performance Testing Closer to Developers</a></li>\n</ul>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017320,"answer_count":1,"score":0,"last_activity_date":1693496014,"creation_date":1693492591,"question_id":77016861,"body_markdown":"The problem is: how to send a request with the body which has content-type Form-data and also this request body should contain saved parameter from the previous response\r\n\r\nThe code is:\r\n\r\n```\r\nTestPlanStats stats = testPlan(\r\n    threadGroup(1, 1),\r\n             httpSampler(firstRequestUrl)\r\n                    .method(POST)\r\n                    .contentType(APPLICATION_JSON)\r\n                    .header(AUTHORIZATION, getToken())\r\n                    .body(someBody)\r\n                    .children(new DslJsr223PostProcessor(&quot;Get param&quot;,\r\n                    &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString())\\n&quot; +\r\n                            &quot;def paramValue = jsonResponse.param\\n&quot; +\r\n                            &quot;vars.put(&#39;paramKey&#39;, paramValue)&quot;)),\r\n            httpSampler(secondRequestUrl)\r\n                    .method(POST)\r\n                    .contentType(MULTIPART_FORM_DATA)\r\n                    .body(here need to provide form body with &quot;${paramKey}&quot;)\r\n                    .children(new DslJsr223PostProcessor(&quot;Get response status code&quot;,\r\n                            &quot;int statusCode = prev.getResponseCode();\\n&quot; +\r\n                                    &quot;vars.put(&#39;responseStatusCode&#39;, String.valueOf(statusCode));&quot;\r\n                    )),\r\n            new DslJsr223Sampler(&quot;Print result&quot;,\r\n                    &quot;String result = vars.get(&#39;responseStatusCode&#39;);&quot; +\r\n                            &quot;if (result != null) {\\n&quot; +\r\n                            &quot;    println(&#39;csrfKey: &#39; + result);\\n&quot; +\r\n                            &quot;} else {\\n&quot; +\r\n                            &quot;    println(&#39;result not found&#39;);\\n&quot; +\r\n                            &quot;}&quot;)\r\n\r\n    ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\r\n    influxDbListener(envSetting.getInfluxDbUrl())\r\n            .measurement(&quot;someMeasurement&quot;)\r\n).run();\r\n```\r\n\r\nFrom the first httpSampler(), I save the parameter into the JMeter vars map.\r\n\r\nIn the second httpSampler(), I need to send a request with content-type Form-data and this request should contain saved in the JMeter vars map param &quot;${paramKey}&quot;\r\n\r\nThe request body should contain parameters:\r\n\r\n- param1 = &quot;${paramKey}&quot;\r\n- param2 = 10.01\r\n- param3 = &quot;SomeText1&quot;\r\n- param4 = false\r\n- param5.key1 = 11111\r\n- param5.key2 = &quot;SomeText2&quot;\r\n- param5.key3 = 22222\r\n\r\nThe signature of the method `body(Function&lt;PreProcessorVars, String&gt; bodySupplier)` or `body(String body)`.\r\n\r\nHow do I build a proper request body with these requirements?\r\n","title":"How to send request with content-type is form-data?","body":"<p>The problem is: how to send a request with the body which has content-type Form-data and also this request body should contain saved parameter from the previous response</p>\n<p>The code is:</p>\n<pre><code>TestPlanStats stats = testPlan(\n    threadGroup(1, 1),\n             httpSampler(firstRequestUrl)\n                    .method(POST)\n                    .contentType(APPLICATION_JSON)\n                    .header(AUTHORIZATION, getToken())\n                    .body(someBody)\n                    .children(new DslJsr223PostProcessor(&quot;Get param&quot;,\n                    &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString())\\n&quot; +\n                            &quot;def paramValue = jsonResponse.param\\n&quot; +\n                            &quot;vars.put('paramKey', paramValue)&quot;)),\n            httpSampler(secondRequestUrl)\n                    .method(POST)\n                    .contentType(MULTIPART_FORM_DATA)\n                    .body(here need to provide form body with &quot;${paramKey}&quot;)\n                    .children(new DslJsr223PostProcessor(&quot;Get response status code&quot;,\n                            &quot;int statusCode = prev.getResponseCode();\\n&quot; +\n                                    &quot;vars.put('responseStatusCode', String.valueOf(statusCode));&quot;\n                    )),\n            new DslJsr223Sampler(&quot;Print result&quot;,\n                    &quot;String result = vars.get('responseStatusCode');&quot; +\n                            &quot;if (result != null) {\\n&quot; +\n                            &quot;    println('csrfKey: ' + result);\\n&quot; +\n                            &quot;} else {\\n&quot; +\n                            &quot;    println('result not found');\\n&quot; +\n                            &quot;}&quot;)\n\n    ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\n    influxDbListener(envSetting.getInfluxDbUrl())\n            .measurement(&quot;someMeasurement&quot;)\n).run();\n</code></pre>\n<p>From the first httpSampler(), I save the parameter into the JMeter vars map.</p>\n<p>In the second httpSampler(), I need to send a request with content-type Form-data and this request should contain saved in the JMeter vars map param &quot;${paramKey}&quot;</p>\n<p>The request body should contain parameters:</p>\n<ul>\n<li>param1 = &quot;${paramKey}&quot;</li>\n<li>param2 = 10.01</li>\n<li>param3 = &quot;SomeText1&quot;</li>\n<li>param4 = false</li>\n<li>param5.key1 = 11111</li>\n<li>param5.key2 = &quot;SomeText2&quot;</li>\n<li>param5.key3 = 22222</li>\n</ul>\n<p>The signature of the method <code>body(Function&lt;PreProcessorVars, String&gt; bodySupplier)</code> or <code>body(String body)</code>.</p>\n<p>How do I build a proper request body with these requirements?</p>\n"},{"tags":["java","spring","gradle","gradle.properties"],"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1626175054,"post_id":68361092,"comment_id":120817409,"body_markdown":"could you add the snippet of how you read that prop1, something like -&gt; https://discuss.gradle.org/t/read-a-property-from-gradle-properties/27148/2","body":"could you add the snippet of how you read that prop1, something like -&gt; <a href=\"https://discuss.gradle.org/t/read-a-property-from-gradle-properties/27148/2\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/read-a-property-from-gradle-properties/&zwnj;&#8203;&hellip;</a>"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626175303,"post_id":68361092,"comment_id":120817501,"body_markdown":"where are you using gradle?android  project?","body":"where are you using gradle?android  project?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1626175540,"post_id":68361092,"comment_id":120817581,"body_markdown":"@Gabriel Aguiar - legacy java spring project","body":"@Gabriel Aguiar - legacy java spring project"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626175607,"post_id":68361092,"comment_id":120817601,"body_markdown":"@gstackoverflow show me gradle.properties","body":"@gstackoverflow show me gradle.properties"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626175756,"post_id":68361092,"comment_id":120817657,"body_markdown":"@sschrass  added requested information","body":"@sschrass  added requested information"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1626175795,"post_id":68361092,"comment_id":120817670,"body_markdown":"@Gabriel Aguiar please read topic update","body":"@Gabriel Aguiar please read topic update"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626176278,"post_id":68361092,"comment_id":120817845,"body_markdown":"you hae a gradle-wrapper.properties?","body":"you hae a gradle-wrapper.properties?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626176438,"post_id":68361092,"comment_id":120817907,"body_markdown":"@Gabriel Aguiar yes I have but I used `gradle clean` but not `gradlew clean`","body":"@Gabriel Aguiar yes I have but I used <code>gradle clean</code> but not <code>gradlew clean</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626177216,"post_id":68361092,"comment_id":120818208,"body_markdown":"@Gabriel Aguiar I don&#39;t have `local.properties`","body":"@Gabriel Aguiar I don&#39;t have <code>local.properties</code>"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626177248,"post_id":68361092,"comment_id":120818224,"body_markdown":"@gstackoverflow add this to your gradle.properties and restart your IDE gradle.user.home=C:/Users/you user/.gradle  and change system variable path to C:/Users/you user/.gradle","body":"@gstackoverflow add this to your gradle.properties and restart your IDE gradle.user.home=C:/Users/you user/.gradle  and change system variable path to C:/Users/you user/.gradle"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626178613,"post_id":68361092,"comment_id":120818808,"body_markdown":"@Gabriel Aguiar could you please explain in details what should I do. From my point of view all env variabes are set correctly","body":"@Gabriel Aguiar could you please explain in details what should I do. From my point of view all env variabes are set correctly"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626179968,"post_id":68361092,"comment_id":120819391,"body_markdown":"@gstackoverflow change GRADLE_USER_HOME path to C:/Users/you user/.gradle","body":"@gstackoverflow change GRADLE_USER_HOME path to C:/Users/you user/.gradle"},{"owner":{"display_name":"user15215405"},"score":0,"creation_date":1626180052,"post_id":68361092,"comment_id":120819424,"body_markdown":"@gstackoverflow and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file","body":"@gstackoverflow and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626194409,"post_id":68361092,"comment_id":120826114,"body_markdown":"@Gabriel Aguiar GRADLE_USER_HOME is set properly according my initial post.  Please reread.\n\nBut this phrase is not clear **and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file**\nSounds too complex. My teammates doesn&#39;t have it and it works for them properly","body":"@Gabriel Aguiar GRADLE_USER_HOME is set properly according my initial post.  Please reread.  But this phrase is not clear <b>and add gradle.user.home=C:/Users/you user/.gradle to gradle.properties file</b> Sounds too complex. My teammates doesn&#39;t have it and it works for them properly"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626922961,"post_id":68361092,"comment_id":121022484,"body_markdown":"What `gradle clean --debug` produces? Does `Gradle user home:` value appears?","body":"What <code>gradle clean --debug</code> produces? Does <code>Gradle user home:</code> value appears?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942108,"post_id":68361092,"comment_id":121027328,"body_markdown":"@LMC I see line \n2021-07-22T11:19:56.963+0300 [DEBUG] [org.gradle.api.internal.project.ant.AntLoggingAdapter] Setting project property: env.GRADLE_USER_HOME -&gt; C:\\Users\\myusername\\.gradle","body":"@LMC I see line  2021-07-22T11:19:56.963+0300 [DEBUG] [org.gradle.api.internal.project.ant.AntLoggingAdapter] Setting project property: env.GRADLE_USER_HOME -&gt; C:\\Users\\myusername\\.gradle"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942933,"post_id":68361092,"comment_id":121027642,"body_markdown":"@LMC \nAlso I see:\n`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work\\***\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!\n`","body":"@LMC  Also I see: <code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work\\***\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue! </code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942958,"post_id":68361092,"comment_id":121027656,"body_markdown":"`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work\\***\\c***\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!`","body":"<code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work\\***\\c***\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue!</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626942969,"post_id":68361092,"comment_id":121027660,"body_markdown":"`2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] Looking for project properties from: C:\\work***\\***-common\\gradle.properties\n2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader] project property file does not exists. We continue!\n202`","body":"<code>2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] Looking for project properties from: C:\\work***\\***-common\\gradle.properties 2021-07-22T11:31:11.064+0300 [DEBUG] [org.gradle.initialization.ProjectPropertySettingBuildLoader&zwnj;&#8203;] project property file does not exists. We continue! 202</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626958734,"post_id":68361092,"comment_id":121034308,"body_markdown":"wow! It doesn&#39;t find the file even being there. What if you try in a clean project? I mean, no previous gradle activity there before, with a different user if possible. Should work or, there&#39;s a phantom in your project lol","body":"wow! It doesn&#39;t find the file even being there. What if you try in a clean project? I mean, no previous gradle activity there before, with a different user if possible. Should work or, there&#39;s a phantom in your project lol"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1626976463,"post_id":68361092,"comment_id":121041771,"body_markdown":"@LMC could you please provide detailed steps what to do ? I didn&#39;t get what should I do","body":"@LMC could you please provide detailed steps what to do ? I didn&#39;t get what should I do"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626976635,"post_id":68361092,"comment_id":121041821,"body_markdown":"I see two directories inside projects (Linux), `gradle` and `.gradle`. I say, copy your whole project, delete those directories there and run gradle.","body":"I see two directories inside projects (Linux), <code>gradle</code> and <code>.gradle</code>. I say, copy your whole project, delete those directories there and run gradle."},{"owner":{"account_id":3262040,"reputation":686,"user_id":2747430,"display_name":"guicey"},"score":0,"creation_date":1626984945,"post_id":68361092,"comment_id":121044393,"body_markdown":"1. What do you get if you run the command dir %GRADLE_USER_HOME% , does it show the contents of your .gradle folder with gradle.properties file? 2. Does the .gradle folder have correct access rights? (You can try running the gradle command in a CMD terminal started in Administration mode.) 3. Does your .properties file use correct line endings e.g. CRLF or LF and does the last character in your properties end with CRLF or LF. (I have encountered once that a properties file could not be loaded into a java program running on a linux os because it ended with  CRLF instead of LF.)","body":"1. What do you get if you run the command dir %GRADLE_USER_HOME% , does it show the contents of your .gradle folder with gradle.properties file? 2. Does the .gradle folder have correct access rights? (You can try running the gradle command in a CMD terminal started in Administration mode.) 3. Does your .properties file use correct line endings e.g. CRLF or LF and does the last character in your properties end with CRLF or LF. (I have encountered once that a properties file could not be loaded into a java program running on a linux os because it ended with  CRLF instead of LF.)"}],"answers":[{"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626178334,"creation_date":1626178334,"answer_id":68362166,"question_id":68361092,"body_markdown":"build.gradle.kts\r\n\r\n    repositories {\r\n        maven(&quot;url&quot;) {\r\n            credentials {\r\n                username = rootProject.properties[&quot;user&quot;].toString()\r\n                password = rootProject.properties[&quot;password&quot;].toString()\r\n            }\r\n        }\r\n        maven(&quot;url2&quot;)\r\n        mavenLocal()\r\n    }","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p>build.gradle.kts</p>\n<pre><code>repositories {\n    maven(&quot;url&quot;) {\n        credentials {\n            username = rootProject.properties[&quot;user&quot;].toString()\n            password = rootProject.properties[&quot;password&quot;].toString()\n        }\n    }\n    maven(&quot;url2&quot;)\n    mavenLocal()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987938,"reputation":29,"user_id":4704914,"accept_rate":100,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693495931,"creation_date":1693495931,"answer_id":77017306,"question_id":68361092,"body_markdown":"In my case, the issue was because `org.gradle.unsafe.configuration-cache=true`in gradle.properties.\r\nWhen I removed this line it started to work.","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p>In my case, the issue was because <code>org.gradle.unsafe.configuration-cache=true</code>in gradle.properties.\nWhen I removed this line it started to work.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693495931,"creation_date":1626173803,"question_id":68361092,"body_markdown":"\r\n**CAUTION**: I&#39;ve read all topics with the same error but didn&#39;t found the way to fix\r\n\r\n\r\nI&#39;ve installed gradle locally on my windows PC and I try to run execute `gradle clean` command\r\n\r\n    C:\\work\\onsolve\\acadia&gt;gradle clean\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\work\\****\\build.gradle&#39; line: 7\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;a****a&#39;.\r\n    &gt; Could not get unknown property &#39;prop1&#39; for Credentials [username: null] of type org.gradle.internal.credentials.DefaultPasswordCredentials_Decorated.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 3s\r\n\r\nBut if I copy `gradle.properties` from **GRADLE_USER_HOME**(C:\\Users\\***\\.gradle) to the project folder - error disappears. \r\n\r\nSome additional info from cmd:\r\n\r\n    C:\\work\\onsolve\\acadia&gt;gradle -v\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 6.9\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-05-07 07:28:53 UTC\r\n    Revision:     afe2e24ababc7b0213ccffff44970aa18035fc0e\r\n    \r\n    Kotlin:       1.4.20\r\n    Groovy:       2.5.12\r\n    Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\n    JVM:          1.8.0_291 (Oracle Corporation 25.291-b10)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\n\r\n    C:\\work\\***\\***&gt;set GRADLE_USER_HOME\r\n    GRADLE_USER_HOME=C:\\Users\\***\\.gradle\r\n\r\nWhat have I missed ?\r\n\r\n**P.S.**\r\n\r\nsnippet from **build.gradle**:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            maven {\r\n                url &quot;https://artifactory.***.****.com/artifactory/maven&quot; \r\n                credentials {\r\n                    username = &quot;${artifactory_user}&quot;\r\n                    password = &quot;${artifactory_password}&quot;\r\n                }\r\n            }\r\n        }\r\n        ...\r\n\r\n**gradle.properties** :\r\n\r\n    org.gradle.daemon=false\r\n    artifactory_user=****\r\n    artifactory_password=****","title":"Gradle doesn&#39;t see gradle.properties from GRADLE_USER_HOME","body":"<p><strong>CAUTION</strong>: I've read all topics with the same error but didn't found the way to fix</p>\n<p>I've installed gradle locally on my windows PC and I try to run execute <code>gradle clean</code> command</p>\n<pre><code>C:\\work\\onsolve\\acadia&gt;gradle clean\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\work\\****\\build.gradle' line: 7\n\n* What went wrong:\nA problem occurred evaluating root project 'a****a'.\n&gt; Could not get unknown property 'prop1' for Credentials [username: null] of type org.gradle.internal.credentials.DefaultPasswordCredentials_Decorated.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n</code></pre>\n<p>But if I copy <code>gradle.properties</code> from <strong>GRADLE_USER_HOME</strong>(C:\\Users***.gradle) to the project folder - error disappears.</p>\n<p>Some additional info from cmd:</p>\n<pre><code>C:\\work\\onsolve\\acadia&gt;gradle -v\n\n------------------------------------------------------------\nGradle 6.9\n------------------------------------------------------------\n\nBuild time:   2021-05-07 07:28:53 UTC\nRevision:     afe2e24ababc7b0213ccffff44970aa18035fc0e\n\nKotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          1.8.0_291 (Oracle Corporation 25.291-b10)\nOS:           Windows 10 10.0 amd64\n\n\nC:\\work\\***\\***&gt;set GRADLE_USER_HOME\nGRADLE_USER_HOME=C:\\Users\\***\\.gradle\n</code></pre>\n<p>What have I missed ?</p>\n<p><strong>P.S.</strong></p>\n<p>snippet from <strong>build.gradle</strong>:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven {\n            url &quot;https://artifactory.***.****.com/artifactory/maven&quot; \n            credentials {\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n    ...\n</code></pre>\n<p><strong>gradle.properties</strong> :</p>\n<pre><code>org.gradle.daemon=false\nartifactory_user=****\nartifactory_password=****\n</code></pre>\n"},{"tags":["java","jvm","bytecode"],"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1354888507,"post_id":13764238,"comment_id":18920356,"body_markdown":"As per you comment, there could be scenario in which invokespecial is required while invoking private method.","body":"As per you comment, there could be scenario in which invokespecial is required while invoking private method."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1354888666,"post_id":13764238,"comment_id":18920435,"body_markdown":"possible duplicate of [Method invocation of invokespecial and invokeinterface](http://stackoverflow.com/questions/13721111/method-invocation-of-invokespecial-and-invokeinterface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13721111/method-invocation-of-invokespecial-and-invokeinterface\">Method invocation of invokespecial and invokeinterface</a>"}],"answers":[{"tags":[],"owner":{"account_id":444729,"reputation":27331,"user_id":836738,"display_name":"Tim Pote"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1681858303,"creation_date":1354888008,"answer_id":13764338,"question_id":13764238,"body_markdown":"From [this site](https://www.jrebel.com/blog/using-objects-and-calling-methods-in-java-bytecode)\r\n\r\n&gt;The answer can be easily found if one reads the Java VM Spec carefully:\r\n&gt;\r\n&gt;&gt;The difference between the invokespecial and the invokevirtual instructions is that invokevirtual invokes a method based on the class of the object. The invokespecial instruction is used to invoke instance initialization methods as well as private methods and methods of a superclass of the current class.\r\n&gt;\r\n&gt;In other words, invokespecial is used to call methods without concern for dynamic binding, in order to invoke the particular class version of a method.\r\n\r\nThere are several cases where its important to dispatch a method call &quot;without concern for dynamic binding&quot;:\r\n\r\nFirst, when chaining from one constructor to a super-class constructor.\r\n\r\nSecond, as in `super.foo()` when calling from a method to a super-class&#39;s implementation.  If the class, or any sub-class of it overrode that method, then *invokevirtual* would go to the wrong place.\r\n\r\nThird, when a class wants to pick which `default` version of a method to use as in\r\n\r\n    interface I { void f(); }\r\n    interface J extends I { default void f() { ... } }\r\n    interface K extends I { default void f() { ... } }\r\n    class C implements J, K {\r\n      @Override public void f() { K.super.f(); }\r\n    }\r\n\r\n`class C` above has a diamond inheritance problem, so it needs to pick which default method to invoke.  *invokespecial* allows it to dispatch to `K`&#39;s version, but if `K.super.f` dispatched via *invokevirtual* the call would end up back at `C.f`.","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>From <a href=\"https://www.jrebel.com/blog/using-objects-and-calling-methods-in-java-bytecode\" rel=\"nofollow noreferrer\">this site</a></p>\n<blockquote>\n<p>The answer can be easily found if one reads the Java VM Spec carefully:</p>\n<blockquote>\n<p>The difference between the invokespecial and the invokevirtual instructions is that invokevirtual invokes a method based on the class of the object. The invokespecial instruction is used to invoke instance initialization methods as well as private methods and methods of a superclass of the current class.</p>\n</blockquote>\n<p>In other words, invokespecial is used to call methods without concern for dynamic binding, in order to invoke the particular class version of a method.</p>\n</blockquote>\n<p>There are several cases where its important to dispatch a method call &quot;without concern for dynamic binding&quot;:</p>\n<p>First, when chaining from one constructor to a super-class constructor.</p>\n<p>Second, as in <code>super.foo()</code> when calling from a method to a super-class's implementation.  If the class, or any sub-class of it overrode that method, then <em>invokevirtual</em> would go to the wrong place.</p>\n<p>Third, when a class wants to pick which <code>default</code> version of a method to use as in</p>\n<pre><code>interface I { void f(); }\ninterface J extends I { default void f() { ... } }\ninterface K extends I { default void f() { ... } }\nclass C implements J, K {\n  @Override public void f() { K.super.f(); }\n}\n</code></pre>\n<p><code>class C</code> above has a diamond inheritance problem, so it needs to pick which default method to invoke.  <em>invokespecial</em> allows it to dispatch to <code>K</code>'s version, but if <code>K.super.f</code> dispatched via <em>invokevirtual</em> the call would end up back at <code>C.f</code>.</p>\n"},{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1376151347,"creation_date":1354889565,"answer_id":13764775,"question_id":13764238,"body_markdown":"http://www.artima.com/underthehood/invocationP.html \r\nThe link above gives valuable examples clearly which addresing my question.\r\n\r\n    class Superclass {\r\n    \r\n        private void interestingMethod() {\r\n            System.out.println(&quot;Superclass&#39;s interesting method.&quot;);\r\n        }\r\n    \r\n        void exampleMethod() {\r\n            interestingMethod();\r\n        }\r\n    }\r\n    \r\n    class Subclass extends Superclass {\r\n    \r\n        void interestingMethod() {\r\n            System.out.println(&quot;Subclass&#39;s interesting method.&quot;);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            Subclass me = new Subclass();\r\n            me.exampleMethod();\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhen you invoke main() in Subclass as defined above, it must print &quot;Superclass&#39;s interesting method.&quot; If invokevirtual were used, it would print &quot;Subclass&#39;s interesting method.&quot; Why? Because the virtual machine would choose the interestingMethod() to call based on the actual class of the object, which is Subclass. So it will use Subclass&#39;s interestingMethod(). On the other hand, with invokespecial the virtual machine will select the method based on the type of the reference, so Superclass&#39;s version of interestingMethod() will be invoked. \r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p><a href=\"http://www.artima.com/underthehood/invocationP.html\" rel=\"noreferrer\">http://www.artima.com/underthehood/invocationP.html</a> \nThe link above gives valuable examples clearly which addresing my question.</p>\n\n<pre><code>class Superclass {\n\n    private void interestingMethod() {\n        System.out.println(\"Superclass's interesting method.\");\n    }\n\n    void exampleMethod() {\n        interestingMethod();\n    }\n}\n\nclass Subclass extends Superclass {\n\n    void interestingMethod() {\n        System.out.println(\"Subclass's interesting method.\");\n    }\n\n    public static void main(String args[]) {\n        Subclass me = new Subclass();\n        me.exampleMethod();\n    }\n}\n</code></pre>\n\n<p>When you invoke main() in Subclass as defined above, it must print \"Superclass's interesting method.\" If invokevirtual were used, it would print \"Subclass's interesting method.\" Why? Because the virtual machine would choose the interestingMethod() to call based on the actual class of the object, which is Subclass. So it will use Subclass's interestingMethod(). On the other hand, with invokespecial the virtual machine will select the method based on the type of the reference, so Superclass's version of interestingMethod() will be invoked. </p>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539066726,"creation_date":1539063292,"answer_id":52713958,"question_id":13764238,"body_markdown":"Thanks for reading out that explanation: Please don&#39;t forget to upvote if it helps you out to identify assembly instruction creation during method call\r\nHere I am explaining static vs dynamic binding.\r\n\r\n\r\nFirst of all I am going to tell you that **invokeStatic, invokeSpecial, invokeVirtual, invokeInterface** etc are the assembly instructions which are generate by the compiler after compilation process.\r\nAs we all knows that we got a .class file format after compilation and we can&#39;t read it out. But java provide a tool for that named **&quot;javap&quot;**.\r\n\r\nWe can read out our .class file assembly instructions by using javap command. By default we can&#39;t see private method assembly instructions so we need to use -private with it. Below are the commands to see java compiler generated assembly instructions:\r\n\r\n 1. Imaging you have A.java class\r\n\r\n    class A\r\n    {\r\n    public void printValue()\r\n    {\r\n    System.out.println(&quot;Inside A&quot;);\r\n    }\r\n    \r\n    public static void callMethod(A a)\r\n    {\r\n    \ta.printValue();\r\n    }\r\n    }\r\n\r\n 2. open cmd prompt and go to the folder which contains that java file A.java.\r\n\r\n 3. run javac A.java.\r\n\r\n 4. Now A.class file is generated which contains assembly instructions but you can&#39;t read it.\r\n\r\n 5. Now run javap -c A\r\n\r\n 6. You can see assembly generation for your method call --&gt; **a.printValue();**\r\n\r\n 7. If printValue( ) method is private you need to use javap -c -private A .\r\n\r\n 8. You can make your printValue( ) private / static / public / private static both.\r\n\r\n 9. One more thing to keep in mind that first compiler check the object on which the  method is getting called. Then find its Class Type and found that method in that class if available or not.\r\n\r\n**Note :** Now keep in mind that if our calling method is static then invokeStatic assembly is generated, if its private then invokeSpecial assembly instruction is generated and if its public then invokeVirtual instruction is generated. public method never mean that every time invokeVirtual instruction is generated. In case of super.printValue() call from the subclass of A is exceptional case. i.e. if A is parent class for B and B contains the same method printValue() then it will generate invokeVirtual(dynamic) but if printValue() in B have super.printValue() as its first statement then invokeStatic is generated even if printValue() of A is public.\r\n\r\nLet&#39;s try this too:\r\n\r\n    class B extends A\r\n    {\r\n    public void printValue()\r\n    {\r\n    super.printValue();// invokeStatic\r\n    System.out.println(&quot;Inside B&quot;);\r\n    }\r\n    \r\n    }\r\n    \r\n    public class Test\r\n    {\r\n    public static void main(String[] arr)\r\n    {\r\n    \tA a = new A();\r\n    \tB b = new B();\r\n    \tA.callMethod(a);// invokeVirtual\r\n    \tA.callMethod(b);// invokeVirtual\r\n    }\r\n    }\r\n\r\n**--&gt; save it by Test.java\r\n--&gt; run javac Test.java\r\n--&gt; javap -c -private Test**\r\n\r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>Thanks for reading out that explanation: Please don't forget to upvote if it helps you out to identify assembly instruction creation during method call\nHere I am explaining static vs dynamic binding.</p>\n\n<p>First of all I am going to tell you that <strong>invokeStatic, invokeSpecial, invokeVirtual, invokeInterface</strong> etc are the assembly instructions which are generate by the compiler after compilation process.\nAs we all knows that we got a .class file format after compilation and we can't read it out. But java provide a tool for that named <strong>\"javap\"</strong>.</p>\n\n<p>We can read out our .class file assembly instructions by using javap command. By default we can't see private method assembly instructions so we need to use -private with it. Below are the commands to see java compiler generated assembly instructions:</p>\n\n<ol>\n<li><p>Imaging you have A.java class</p>\n\n<p>class A\n{\npublic void printValue()\n{\nSystem.out.println(\"Inside A\");\n}</p>\n\n<p>public static void callMethod(A a)\n{\n    a.printValue();\n}\n}</p></li>\n<li><p>open cmd prompt and go to the folder which contains that java file A.java.</p></li>\n<li><p>run javac A.java.</p></li>\n<li><p>Now A.class file is generated which contains assembly instructions but you can't read it.</p></li>\n<li><p>Now run javap -c A</p></li>\n<li><p>You can see assembly generation for your method call --> <strong>a.printValue();</strong></p></li>\n<li><p>If printValue( ) method is private you need to use javap -c -private A .</p></li>\n<li><p>You can make your printValue( ) private / static / public / private static both.</p></li>\n<li><p>One more thing to keep in mind that first compiler check the object on which the  method is getting called. Then find its Class Type and found that method in that class if available or not.</p></li>\n</ol>\n\n<p><strong>Note :</strong> Now keep in mind that if our calling method is static then invokeStatic assembly is generated, if its private then invokeSpecial assembly instruction is generated and if its public then invokeVirtual instruction is generated. public method never mean that every time invokeVirtual instruction is generated. In case of super.printValue() call from the subclass of A is exceptional case. i.e. if A is parent class for B and B contains the same method printValue() then it will generate invokeVirtual(dynamic) but if printValue() in B have super.printValue() as its first statement then invokeStatic is generated even if printValue() of A is public.</p>\n\n<p>Let's try this too:</p>\n\n<pre><code>class B extends A\n{\npublic void printValue()\n{\nsuper.printValue();// invokeStatic\nSystem.out.println(\"Inside B\");\n}\n\n}\n\npublic class Test\n{\npublic static void main(String[] arr)\n{\n    A a = new A();\n    B b = new B();\n    A.callMethod(a);// invokeVirtual\n    A.callMethod(b);// invokeVirtual\n}\n}\n</code></pre>\n\n<p><strong>--> save it by Test.java\n--> run javac Test.java\n--> javap -c -private Test</strong></p>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18855,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":13764775,"answer_count":3,"score":62,"last_activity_date":1693495576,"creation_date":1354887569,"question_id":13764238,"body_markdown":"There are three opcodes to invoke Java methods. It is clear that invokeStatic is just for static method invocation.\r\n\r\nAs far as I know invokespecial is used when invoking constructor and private methods. So, do we need to differenticate private and public method invocation at run time? It could be invoked with same opcode say invokevirtual?\r\n\r\nDoes JVM deals with private and public method definition? As far as I know  public and private keywords is just needed at development phase for encapsulation?\r\n","title":"Why invokeSpecial is needed when invokeVirtual exists","body":"<p>There are three opcodes to invoke Java methods. It is clear that invokeStatic is just for static method invocation.</p>\n\n<p>As far as I know invokespecial is used when invoking constructor and private methods. So, do we need to differenticate private and public method invocation at run time? It could be invoked with same opcode say invokevirtual?</p>\n\n<p>Does JVM deals with private and public method definition? As far as I know  public and private keywords is just needed at development phase for encapsulation?</p>\n"},{"tags":["java","apache-spark","apache-spark-encoders"],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693380245,"creation_date":1693380245,"answer_id":77005764,"question_id":77005599,"body_markdown":"If you use `select` after `spark.read.parquet`, only the selected columns will be read, not the others.\r\n\r\nTherefore, athough it is a bit more verbose,\r\n```java\r\nds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).as(Encoders.bean(MyBean.class)\r\n```\r\nshould achieve what you want.\r\n\r\nFeel free to try `ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).explain()` and check that the `ReadSchema` only contains the selected columns. Note that the same goes for filters. If you filter just after reading a parquet file, the filter will be &quot;pushed&quot; and only the selected rows will be read.","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>If you use <code>select</code> after <code>spark.read.parquet</code>, only the selected columns will be read, not the others.</p>\n<p>Therefore, athough it is a bit more verbose,</p>\n<pre class=\"lang-java prettyprint-override\"><code>ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).as(Encoders.bean(MyBean.class)\n</code></pre>\n<p>should achieve what you want.</p>\n<p>Feel free to try <code>ds.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;).explain()</code> and check that the <code>ReadSchema</code> only contains the selected columns. Note that the same goes for filters. If you filter just after reading a parquet file, the filter will be &quot;pushed&quot; and only the selected rows will be read.</p>\n"},{"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693495378,"creation_date":1693411472,"answer_id":77009735,"question_id":77005599,"body_markdown":"You didn&#39;t misunderstand or miss anything about Encoders except perhaps that they, like Datasets, are also lazily involved.  If you manually create the setters and put breakpoints on them they&#39;ll not be called with a simple as().show.\r\n\r\nIn fact you can just use `read.as(beanEncoder).map(identity, beanEncoder).show` and see that it&#39;s only using those columns.\r\n\r\nSimilar to Oli&#39;s point if you do `.explain` on the result of just &quot;as&quot; (with no select to reduce fields), you&#39;ll see all the fields mentioned in the `LocalRelation` or `Scan` results. Add the map and explain and you&#39;ll see the fields in the bean.\r\n\r\nUsing a dataset, even after using `.as`, will let you select fields that aren&#39;t in your mean as well, it&#39;s only really becoming just the bean after something which forces the read structure to change.\r\n\r\n","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>You didn't misunderstand or miss anything about Encoders except perhaps that they, like Datasets, are also lazily involved.  If you manually create the setters and put breakpoints on them they'll not be called with a simple as().show.</p>\n<p>In fact you can just use <code>read.as(beanEncoder).map(identity, beanEncoder).show</code> and see that it's only using those columns.</p>\n<p>Similar to Oli's point if you do <code>.explain</code> on the result of just &quot;as&quot; (with no select to reduce fields), you'll see all the fields mentioned in the <code>LocalRelation</code> or <code>Scan</code> results. Add the map and explain and you'll see the fields in the bean.</p>\n<p>Using a dataset, even after using <code>.as</code>, will let you select fields that aren't in your mean as well, it's only really becoming just the bean after something which forces the read structure to change.</p>\n"}],"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009735,"answer_count":2,"score":0,"last_activity_date":1693495378,"creation_date":1693378671,"question_id":77005599,"body_markdown":"I read a parquet file and I get a Dataset&lt;Row&gt; containing 57 columns. \r\n\r\n`Dataset&lt;Row&gt; ds = spark.read().parquet(locations);`\r\n\r\nI would like to use a custom type instead of Row. I have defined a java bean such as \r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class MyBean implements Serializable {\r\n        MyBean (){ }\r\n        private String col1;\r\n        private String col2;\r\n        private String col3;\r\n     }\r\n\r\nThe field names are perfectly matching the column names in the parquet file (which is annoying because they are in snake case and I would like camelCase in my POJO but that&#39;s not the main issue here).\r\n\r\n\r\nTo convert `Dataset&lt;Row&gt;` to `Dataset&lt;MyBean&gt;` I use `ds.as(Encoders.bean(MyBean.class)`\r\n\r\nHowever if I try to `show` the `Dataset&lt;MyBean&gt;` produced it has all 57 columns. I was expecting 3 columns corresponding to MyBean, hoping it would only read the pieces of the parquet that are of interest to me. \r\n\r\nAt first I thought `as` was a transformation and not an action but `show` is definitely an action, and I also tried .cache().count() beforehand just in case.\r\n\r\nWhat am I missing about Encoders here ?","title":"Using java spark encoder bean to create a typed subset of a Dataset&lt;Row&gt;","body":"<p>I read a parquet file and I get a Dataset containing 57 columns.</p>\n<p><code>Dataset&lt;Row&gt; ds = spark.read().parquet(locations);</code></p>\n<p>I would like to use a custom type instead of Row. I have defined a java bean such as</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\nimport java.io.Serializable;\n\n@Getter\n@Setter\npublic class MyBean implements Serializable {\n    MyBean (){ }\n    private String col1;\n    private String col2;\n    private String col3;\n }\n</code></pre>\n<p>The field names are perfectly matching the column names in the parquet file (which is annoying because they are in snake case and I would like camelCase in my POJO but that's not the main issue here).</p>\n<p>To convert <code>Dataset&lt;Row&gt;</code> to <code>Dataset&lt;MyBean&gt;</code> I use <code>ds.as(Encoders.bean(MyBean.class)</code></p>\n<p>However if I try to <code>show</code> the <code>Dataset&lt;MyBean&gt;</code> produced it has all 57 columns. I was expecting 3 columns corresponding to MyBean, hoping it would only read the pieces of the parquet that are of interest to me.</p>\n<p>At first I thought <code>as</code> was a transformation and not an action but <code>show</code> is definitely an action, and I also tried .cache().count() beforehand just in case.</p>\n<p>What am I missing about Encoders here ?</p>\n"},{"tags":["java","kotlin","generics"],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693495305,"creation_date":1693495305,"answer_id":77017221,"question_id":76980105,"body_markdown":"finally, I solved this issue with such an approach:\r\n\r\n    private fun&lt;X: Operation.Data, Y, Z: Operation.Variables&gt; getCallFrom(query: Query&lt;X, Y, Z&gt;): ApolloQueryCall&lt;Y&gt;? = apolloClient.query(query)","title":"How to make a general function for Appollo call?","body":"<p>finally, I solved this issue with such an approach:</p>\n<pre><code>private fun&lt;X: Operation.Data, Y, Z: Operation.Variables&gt; getCallFrom(query: Query&lt;X, Y, Z&gt;): ApolloQueryCall&lt;Y&gt;? = apolloClient.query(query)\n</code></pre>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77017221,"answer_count":1,"score":-1,"last_activity_date":1693495305,"creation_date":1692992392,"question_id":76980105,"body_markdown":"There is such a code:\r\n\r\n```\r\n    fun getCallFrom(query: Query&lt;*, *, *&gt;): ApolloQueryCall&lt;out Any?&gt; = apolloClient.query(query)\r\n\r\n    fun test() {\r\n        val response1: com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt; = apolloClient.query(\r\n            MyTestQuery(&quot;test&quot;)\r\n        ).await()\r\n        \r\n        val response2: com.apollographql.apollo.api.Response&lt;out Any?&gt; = getCallFrom(\r\n            MyTestQuery(&quot;test&quot;)\r\n        ).await()\r\n    }\r\n```\r\n\r\nYou can see in the `test()` function there are two `responses` (`response1 &amp; response2`) the differences in the type of the responses as for the first one I used `appoloClient.query` and for the second one I used my general function. \r\n\r\nThe problem is that I need to get the same result type from my general function as for the `response1` (`com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt;`).\r\n\r\nI tried to play with different types of passing instead of the `*`, however, nothing worked.\r\n\r\nThe question is - what am I missing here?","title":"How to make a general function for Appollo call?","body":"<p>There is such a code:</p>\n<pre><code>    fun getCallFrom(query: Query&lt;*, *, *&gt;): ApolloQueryCall&lt;out Any?&gt; = apolloClient.query(query)\n\n    fun test() {\n        val response1: com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt; = apolloClient.query(\n            MyTestQuery(&quot;test&quot;)\n        ).await()\n        \n        val response2: com.apollographql.apollo.api.Response&lt;out Any?&gt; = getCallFrom(\n            MyTestQuery(&quot;test&quot;)\n        ).await()\n    }\n</code></pre>\n<p>You can see in the <code>test()</code> function there are two <code>responses</code> (<code>response1 &amp; response2</code>) the differences in the type of the responses as for the first one I used <code>appoloClient.query</code> and for the second one I used my general function.</p>\n<p>The problem is that I need to get the same result type from my general function as for the <code>response1</code> (<code>com.apollographql.apollo.api.Response&lt;MyTestQuery.Data&gt;</code>).</p>\n<p>I tried to play with different types of passing instead of the <code>*</code>, however, nothing worked.</p>\n<p>The question is - what am I missing here?</p>\n"},{"tags":["java","spring-boot","tomcat","netty"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1693495684,"post_id":77016667,"comment_id":135771666,"body_markdown":"with tomcat you can exclude as you did and and netty-handler(5.0.0.Alpah1) maybe it&#39;ll work.","body":"with tomcat you can exclude as you did and and netty-handler(5.0.0.Alpah1) maybe it&#39;ll work."}],"owner":{"account_id":3867185,"reputation":1489,"user_id":3203447,"accept_rate":94,"display_name":"JTK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693494611,"creation_date":1693491131,"question_id":77016667,"body_markdown":"I have a `spring-boot`(3.1.3) application that is using `Webclient` for web requests, by default this is using `Netty` as the embedded web server, there is a vulnerability present in `netty-handler` that I&#39;d like to remove.\r\n\r\nThere is a version of `netty-handler`(5.0.0.Alpah1) that has no flagged vulnerability, I have migrated to `netty-handler`(5.0.0.Alpah1), and it has broken the application:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: io/netty/handler/logging/ByteBufFormat\r\n\r\nIt looks like `Netty 5` is not compatible with `spring-boot-starter-reactor-netty` I have tried overriding other `Netty` dependencies from `spring-boot-starter-reactor-netty`, without success.\r\n\r\n\r\n\r\nReading the `spring-boot` docs, it&#39;s possible to change the embedded web server. \r\n\r\nOut of the 3 other [options][1]: `spring-boot-starter-tomcat`, `spring-boot-starter-jetty`, or `spring-boot-starter-undertow` only `tomcat` has no flagged vulnerability.\r\n\r\nAfter migrating to `spring-boot-starter-tomcat`, \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t &lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI observed, `mvn clean install` hangs on tests, also, when a call is made to another application, using `Webclient` there is an error thrown:\r\n\r\n    org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed \r\n\r\nReading the docs, it appears that even though we can change the embedded web server, `spring-boot-starter-reactor-netty` is required to use the `WebClient` class.\r\n\r\n&quot;[spring-boot-starter-reactor-netty is required to use the `WebClient` class, so you may need to keep a dependency on Netty even when you need to include a different HTTP server][2].&quot;\r\n\r\nAnyway to remove the `netty-handler` vulnerability while still using `WebClient` ?\r\n\r\n\r\n  [1]: https://hantsy.github.io/spring-reactive-sample/start/boot-first.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.webserver.use-another","title":"Remove dependency on netty-handler using WebClient","body":"<p>I have a <code>spring-boot</code>(3.1.3) application that is using <code>Webclient</code> for web requests, by default this is using <code>Netty</code> as the embedded web server, there is a vulnerability present in <code>netty-handler</code> that I'd like to remove.</p>\n<p>There is a version of <code>netty-handler</code>(5.0.0.Alpah1) that has no flagged vulnerability, I have migrated to <code>netty-handler</code>(5.0.0.Alpah1), and it has broken the application:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: io/netty/handler/logging/ByteBufFormat\n</code></pre>\n<p>It looks like <code>Netty 5</code> is not compatible with <code>spring-boot-starter-reactor-netty</code> I have tried overriding other <code>Netty</code> dependencies from <code>spring-boot-starter-reactor-netty</code>, without success.</p>\n<p>Reading the <code>spring-boot</code> docs, it's possible to change the embedded web server.</p>\n<p>Out of the 3 other <a href=\"https://hantsy.github.io/spring-reactive-sample/start/boot-first.html\" rel=\"nofollow noreferrer\">options</a>: <code>spring-boot-starter-tomcat</code>, <code>spring-boot-starter-jetty</code>, or <code>spring-boot-starter-undertow</code> only <code>tomcat</code> has no flagged vulnerability.</p>\n<p>After migrating to <code>spring-boot-starter-tomcat</code>,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n     &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I observed, <code>mvn clean install</code> hangs on tests, also, when a call is made to another application, using <code>Webclient</code> there is an error thrown:</p>\n<pre><code>org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed \n</code></pre>\n<p>Reading the docs, it appears that even though we can change the embedded web server, <code>spring-boot-starter-reactor-netty</code> is required to use the <code>WebClient</code> class.</p>\n<p>&quot;<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.webserver.use-another\" rel=\"nofollow noreferrer\">spring-boot-starter-reactor-netty is required to use the <code>WebClient</code> class, so you may need to keep a dependency on Netty even when you need to include a different HTTP server</a>.&quot;</p>\n<p>Anyway to remove the <code>netty-handler</code> vulnerability while still using <code>WebClient</code> ?</p>\n"},{"tags":["java","kubernetes","ignite"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1693572851,"post_id":77017112,"comment_id":135782625,"body_markdown":"At first glance this one doesn&#39;t look similar to the issue from the user list. It&#39;s not even about &quot;joining&quot;, this node can&#39;t start because of local issues, prior to joining procedures. In general it&#39;s a complex topic, it&#39;s almost impossible to say about the possibility of recovery without analysis of the original failure. Could you share logs prior to the node failure? I&#39;d say it doesn&#39;t look normal, something happened that&#39;s pretty unusual and it was totally unexpected by an Ignite node.","body":"At first glance this one doesn&#39;t look similar to the issue from the user list. It&#39;s not even about &quot;joining&quot;, this node can&#39;t start because of local issues, prior to joining procedures. In general it&#39;s a complex topic, it&#39;s almost impossible to say about the possibility of recovery without analysis of the original failure. Could you share logs prior to the node failure? I&#39;d say it doesn&#39;t look normal, something happened that&#39;s pretty unusual and it was totally unexpected by an Ignite node."}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693494577,"creation_date":1693494577,"question_id":77017112,"body_markdown":"We are using Ignite 2.15 in kubernetes with persistence enabled and have encountered an error where if the Ignite server nodes crash and restart they cannot rejoin the cluster with the error bellow. \r\n\r\nThe issue seems similar to [this error][1].\r\n\r\nIs there a way to fix this issue without loss of data?\r\n\r\n```\r\n[13:30:41,467][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\r\n\t\tclass org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.handleRecordException(AbstractWalRecordsIterator.java:327)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.handleRecordException(FileWriteAheadLogManager.java:3206)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:291)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advance(AbstractWalRecordsIterator.java:176)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:135)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:52)\r\n\t\t\t\tat org.apache.ignite.internal.util.GridCloseableIteratorAdapter.nextX(GridCloseableIteratorAdapter.java:44)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreStateContext.next(GridCacheDatabaseSharedManager.java:3427)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreBinaryState.next(GridCacheDatabaseSharedManager.java:3571)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2186)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:865)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3094)\r\n\t\t\t\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1120)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1725)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1647)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1089)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:983)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:889)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:808)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:678)\r\n\t\t\t\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:647)\r\n\t\t\t\tat org.apache.ignite.Ignition.start(Ignition.java:325)\r\n\t\t\t\tat org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:365)\r\n\t\tCaused by: class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:396)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV2Serializer.readRecord(RecordV2Serializer.java:249)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:273)\r\n\t\t\t\t... 20 more\r\n\t\tCaused by: class org.apache.ignite.internal.processors.cache.persistence.wal.crc.IgniteDataIntegrityViolationException: val: 1872793019 writtenCrc: 2013265920\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.io.FileInput$Crc32CheckingFileInput.close(FileInput.java:105)\r\n\t\t\t\tat org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:381)\r\n\t\t\t\t... 22 more\r\n```\r\n\r\n\r\n  [1]: https://www.mail-archive.com/user@ignite.apache.org/msg22922.html","title":"Ignite Server encounters IgniteDataIntegrityViolationException when trying to join cluster","body":"<p>We are using Ignite 2.15 in kubernetes with persistence enabled and have encountered an error where if the Ignite server nodes crash and restart they cannot rejoin the cluster with the error bellow.</p>\n<p>The issue seems similar to <a href=\"https://www.mail-archive.com/user@ignite.apache.org/msg22922.html\" rel=\"nofollow noreferrer\">this error</a>.</p>\n<p>Is there a way to fix this issue without loss of data?</p>\n<pre><code>[13:30:41,467][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\n        class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.handleRecordException(AbstractWalRecordsIterator.java:327)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.handleRecordException(FileWriteAheadLogManager.java:3206)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:291)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advance(AbstractWalRecordsIterator.java:176)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:135)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.onNext(AbstractWalRecordsIterator.java:52)\n                at org.apache.ignite.internal.util.GridCloseableIteratorAdapter.nextX(GridCloseableIteratorAdapter.java:44)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreStateContext.next(GridCacheDatabaseSharedManager.java:3427)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager$RestoreBinaryState.next(GridCacheDatabaseSharedManager.java:3571)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2186)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:865)\n                at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3094)\n                at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1120)\n                at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1725)\n                at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1647)\n                at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1089)\n                at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:983)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:889)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:808)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:678)\n                at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:647)\n                at org.apache.ignite.Ignition.start(Ignition.java:325)\n                at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:365)\n        Caused by: class org.apache.ignite.IgniteCheckedException: Failed to read WAL record at position: 387902845, size: 536867006, expectedPtr: WALPointer [idx=2727, fileOff=387902845, len=0]\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:396)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV2Serializer.readRecord(RecordV2Serializer.java:249)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.AbstractWalRecordsIterator.advanceRecord(AbstractWalRecordsIterator.java:273)\n                ... 20 more\n        Caused by: class org.apache.ignite.internal.processors.cache.persistence.wal.crc.IgniteDataIntegrityViolationException: val: 1872793019 writtenCrc: 2013265920\n                at org.apache.ignite.internal.processors.cache.persistence.wal.io.FileInput$Crc32CheckingFileInput.close(FileInput.java:105)\n                at org.apache.ignite.internal.processors.cache.persistence.wal.serializer.RecordV1Serializer.readWithCrc(RecordV1Serializer.java:381)\n                ... 22 more\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1693489798,"post_id":77016262,"comment_id":135770282,"body_markdown":"To clarify why your question is a duplicate to the linked one: in option 3-4-5 you use `input.nextInt();` which will result in the next `opzione = input.nextLine();` to only read in the carriage return from your previous input. For more information and how to fix this problem see the linked stackoverflow question.","body":"To clarify why your question is a duplicate to the linked one: in option 3-4-5 you use <code>input.nextInt();</code> which will result in the next <code>opzione = input.nextLine();</code> to only read in the carriage return from your previous input. For more information and how to fix this problem see the linked stackoverflow question."},{"owner":{"account_id":29337832,"reputation":1,"user_id":22477858,"display_name":"Bartolomeo Cenisio"},"score":0,"creation_date":1693493517,"post_id":77016262,"comment_id":135771165,"body_markdown":"Yes, I solved it, Thank you very much;","body":"Yes, I solved it, Thank you very much;"}],"answers":[{"tags":[],"owner":{"account_id":27162042,"reputation":1,"user_id":20700059,"display_name":"user20700059"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693490578,"creation_date":1693490578,"answer_id":77016589,"question_id":77016262,"body_markdown":"Based on the code you provided, I noticed that after executing the Automobile.stampaOpzioni() method, you use the nextInt() method to read user input. Note that the nextInt() method will only read an integer, but after reading the integer, line breaks may remain in the input stream. This means that the next time input.nextLine() is called, it reads the newline character entered earlier without waiting for the user to enter a new string.","title":"Repeat options menu","body":"<p>Based on the code you provided, I noticed that after executing the Automobile.stampaOpzioni() method, you use the nextInt() method to read user input. Note that the nextInt() method will only read an integer, but after reading the integer, line breaks may remain in the input stream. This means that the next time input.nextLine() is called, it reads the newline character entered earlier without waiting for the user to enter a new string.</p>\n"}],"owner":{"account_id":29337832,"reputation":1,"user_id":22477858,"display_name":"Bartolomeo Cenisio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693512283,"answer_count":1,"score":0,"last_activity_date":1693494451,"creation_date":1693488270,"question_id":77016262,"body_markdown":"I&#39;m encountering an issue in this program that I&#39;m unable to explain. Specifically, when I select options 3, 4, or 5 and complete the operation, the options menu gets printed on the screen twice. \r\n\r\nI&#39;ve attempted to address this by using both `if` statements and `switch case` statements, but the problem persists.\r\n\r\n**This is the Class:**\r\n\r\n\r\n    package esercizio4;\r\n    \r\n    public class Automobile {\r\n    \t\r\n    \tprivate String marca;\r\n    \tprivate String modello;\r\n    \tprivate double benzina;\r\n    \tprivate boolean accesa;\r\n    \tprivate double velocita;\r\n    \t\r\n    \tpublic Automobile(String marca, String modello) {\r\n    \t\tthis.marca = marca;\r\n    \t\tthis.modello = modello;\r\n    \t\tsetBenzina(1);\r\n    \t\tsetAccesa(false);\r\n    \t\tsetVelocita(0);\r\n    \t}\r\n    \t\r\n    \tpublic String getMarca() {\r\n    \t\treturn marca;\r\n    \t}\r\n    \t\r\n    \tpublic void setMarca(String marca) {\r\n    \t\tthis.marca = marca;\r\n    \t}\r\n    \t\r\n    \tpublic String getModello() {\r\n    \t\treturn modello;\r\n    \t}\r\n    \t\r\n    \tpublic void setModello(String modello) {\r\n    \t\tthis.modello = modello;\r\n    \t}\r\n    \t\r\n    \tpublic double getBenzina() {\r\n    \t\treturn benzina;\r\n    \t}\r\n    \t\r\n    \tpublic void setBenzina(double benzina) {\r\n    \t\tthis.benzina = benzina;\r\n    \t}\r\n    \t\r\n    \tpublic boolean getAccesa() {\r\n    \t\treturn accesa;\r\n    \t}\r\n    \t\r\n    \tpublic void setAccesa(boolean accesa) {\r\n    \t\tthis.accesa = accesa;\r\n    \t}\r\n    \t\r\n    \tpublic double getVelocita() {\r\n    \t\treturn velocita;\r\n    \t}\r\n    \t\r\n    \tpublic void setVelocita(double velocita) {\r\n    \t\tthis.velocita = velocita;\r\n    \t}\r\n    \t\r\n    \tpublic void accendi() {\r\n    \t\tif(getAccesa() == false &amp;&amp; benzina &gt; 0) {\r\n    \t\t\tsetAccesa(true);\r\n    \t\t\tSystem.out.println(&quot;Hai acceso la macchina&quot;);\r\n    \t\t} \r\n    \t\telse if(getAccesa() == true){ \r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; gi&#224; accesa&quot;);\r\n    \t\t}\r\n    \t\telse if(getAccesa() == false &amp;&amp; benzina == 0) {\r\n    \t\t\tSystem.out.println(&quot;Errore: non c&#39;&#232; benzina&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void spegni() {\r\n    \t\tif(getAccesa() == true) {\r\n    \t\t\tsetAccesa(false);\r\n    \t\t\tSystem.out.println(&quot;Hai spento la macchina&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; gi&#224; spenta&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean isAccesa() {\r\n    \t\tif(getAccesa() == true) {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; accesa&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\treturn accesa;\r\n    \t}\r\n    \t\r\n    \tpublic void addBenzina(int benzina) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tint livMaxSerbatoio = 10;\r\n    \t\tif (benzina &lt; livMaxSerbatoio) {\r\n    \t\t\tthis.benzina += benzina;\r\n    \t\t\tSystem.out.println(&quot;Hai inserito &quot; + benzina + &quot; litri&quot;);\r\n    \t\t} \r\n    \t\telse if(benzina &gt; livMaxSerbatoio){\r\n    \t\t\tSystem.out.println(&quot;Non c&#39;&#232; abbastanza spazio&quot;);\r\n    \t\t} \r\n    \t}\r\n    \t\r\n    \tpublic void viewBenzina() {\r\n    \t\tif(getBenzina() == 10) {\r\n    \t\t\tSystem.out.println(&quot;Il serbatoio &#232; pieno: 10 litri presenti&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Il livello di benzina &#232;: &quot; + getBenzina() + &quot; litri&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t//DA MIGLIORARE\r\n    \tpublic void accelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tif(velocita &lt; 200 &amp;&amp; accesa == true) {\r\n    \t\t\tsetVelocita(getVelocita() + kmh);\r\n    \t\t\tSystem.out.println(&quot;Hai accelerato di &quot; + kmh + &quot;kmh&quot;);\r\n    \t\t\tSystem.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\r\n    \t\t}\r\n    \t\tif(accesa == false) {\r\n    \t\t\tSystem.out.println(&quot;Errore: la macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\telse if(velocita &gt; 200 &amp;&amp; accesa == true) {\r\n    \t\t\tSystem.out.println(&quot;Errore: non puoi andare a piu di 200 kmh&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t//DA MIGLIORARE\r\n    \tpublic void decelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\r\n    \t\tif(velocita &gt; 0 &amp;&amp; accesa == true) {\r\n    \t\t\tsetVelocita(getVelocita() - kmh);\r\n    \t\t\tSystem.out.println(&quot;Hai decelerato di &quot; + kmh + &quot;kmh&quot;);\r\n    \t\t\tSystem.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\r\n    \t\t}\r\n    \t\tif(accesa == false) {\r\n    \t\t\tSystem.out.println(&quot;Errore: la macchina &#232; spenta&quot;);\r\n    \t\t}\r\n    \t\telse if(kmh &gt; getVelocita()) {\r\n    \t\t\tsetVelocita(0);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void ferma() {\r\n    \t\tif(velocita &gt; 0 &amp;&amp; accesa == true) {\t\r\n    \t\t\tfor(int i = (int) getVelocita(); i &gt;= 0; i--) {\r\n    \t\t\t\tsetVelocita(i);\r\n    \t\t\t\t//System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot; kmh&quot;);\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Ti sei fermato&quot;);\r\n    \t\t} else {\t\r\n    \t\t\tSystem.out.println(&quot;Sei gi&#224; fermo&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean isInMoto() {\r\n    \t\tif(getVelocita() &gt; 0) {\r\n    \t\t\tSystem.out.println(&quot;La macchina sta andando a &quot; + getVelocita() + &quot; kmh&quot;);\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;La macchina &#232; ferma&quot;);\r\n    \t\t}\t\t\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic String toString() {\r\n    \t\tString toString = &quot;Informazioni:&quot; + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Marca: &quot; + getMarca() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Modello: &quot; + getModello() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Livello serbatoio: &quot; + getBenzina() + &quot; litri \\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Stato accensione: &quot; + getAccesa() + &quot;\\n&quot; +\r\n    \t\t\t\t\t\t  &quot;Velocit&#224;: &quot; + getVelocita() + &quot; kmh&quot;;\t\t\r\n    \t\treturn toString;\r\n    \t}\r\n    \t\r\n    \tpublic static void stampaOpzioni() {\r\n    \t\tSystem.out.println(&quot;Premi 1 per accendere la macchina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 2 per spegnere la macchina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 3 per aggiungere la benzina&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 4 per accelerare&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 5 per decelerare&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 6 per fermarti&quot;);\r\n    \t\tSystem.out.println(&quot;Premi 7 per visualizzare lo stato attuale&quot;);\r\n    \t\tSystem.out.println(&quot;Premi EXIT per terminare la simulazione&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is the ClassTest:**\r\n\r\n    package esercizio4;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class TestAutomobile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Benvenuto in questa sessione di simulazione di guida&quot;);\r\n    \t\tSystem.out.println(&quot;Crea la tua macchina&quot;);\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Inserisci la marca&quot;);\r\n    \t\tString marca = input.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Inserisci il modello&quot;);\r\n    \t\tString modello = input.nextLine();\r\n    \t\t\r\n    \t\tAutomobile auto = new Automobile(marca, modello);\r\n    \t\t\r\n    \t\tString opzione = &quot;&quot;;\r\n    \t\twhile(!opzione.equalsIgnoreCase(&quot;exit&quot;)) {\r\n    \r\n    \t\t\tAutomobile.stampaOpzioni();\t\t\t\r\n    \t\t\t\r\n    \t\t\topzione = input.nextLine();\r\n    \t\t\t\r\n    \t\t\tswitch(opzione) {\r\n    \t\t\t\tcase &quot;1&quot;:\r\n    \t\t\t\t\tauto.accendi();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;2&quot;:\r\n    \t\t\t\t\tauto.spegni();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;3&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Quanta benzina vuoi aggiungere? (capienza max 10 litri)&quot;);\r\n    \t\t\t\t\tint benzina = input.nextInt();\r\n    \t\t\t\t\tauto.addBenzina(benzina);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;4&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Di quanto vuoi accelerare? (velocit&#224; max 200 kmh)&quot;);\r\n    \t\t\t\t\tint kmh = input.nextInt();\r\n    \t\t\t\t\tauto.accelera(kmh);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;5&quot;:\r\n    \t\t\t\t\tSystem.out.println(&quot;Di quanto vuoi decelerare?&quot;);\r\n    \t\t\t\t\t kmh = input.nextInt();\r\n    \t\t\t\t\tauto.decelera(kmh);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;6&quot;:\r\n    \t\t\t\t\tauto.ferma();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;7&quot;:\r\n    \t\t\t\t\tSystem.out.println(auto);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}//Chiusura while\r\n    \t\t\r\n    \t\tinput.close();\r\n    \t\tSystem.out.println(&quot;Hai terminato la simulazione&quot;);\r\n    \t\tSystem.out.println(&quot;Arrivederci&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is what it appears to me:**\r\n\r\n\r\n&gt; Benvenuto in questa sessione di simulazione di guida Crea la tua\r\n&gt; macchina &lt;br&gt; Inserisci la marca&lt;br&gt; Fiat&lt;br&gt; Inserisci il modello&lt;br&gt;\r\n&gt; Punto&lt;br&gt; Premi 1 per accendere la macchina&lt;br&gt; Premi 2 per spegnere\r\n&gt; la macchina&lt;br&gt; Premi 3 per aggiungere la benzina&lt;br&gt; Premi 4 per\r\n&gt; accelerare&lt;br&gt; Premi 5 per decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt;\r\n&gt; Premi 7 per visualizzare lo stato attuale&lt;br&gt; Premi 3 EXIT per\r\n&gt; terminare la simulazione&lt;br&gt; Quanta benzina vuoi aggiungere? (capienza\r\n&gt; max 10 litri)&lt;br&gt; Hai inserito 8 litri&lt;br&gt; Premi 1 per accendere la\r\n&gt; macchina&lt;br&gt; Premi 2 per spegnere la macchina&lt;br&gt; Premi 3 per\r\n&gt; aggiungere la benzina&lt;br&gt; Premi 4 per accelerare&lt;br&gt; Premi 5 per\r\n&gt; decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt; Premi 7 per visualizzare lo\r\n&gt; stato attuale&lt;br&gt; Premi EXIT per terminare la simulazione&lt;br&gt; Premi 1\r\n&gt; per accendere la macchina&lt;br&gt; Premi 2 per spegnere la macchina&lt;br&gt;\r\n&gt; Premi 3 per aggiungere la benzina&lt;br&gt; Premi 4 per accelerare&lt;br&gt; Premi\r\n&gt; 5 per decelerare&lt;br&gt; Premi 6 per fermarti&lt;br&gt; Premi 7 per visualizzare\r\n&gt; lo stato attuale&lt;br&gt; Premi EXIT per terminare la simulazione&lt;br&gt;\r\n\r\n","title":"Repeat options menu","body":"<p>I'm encountering an issue in this program that I'm unable to explain. Specifically, when I select options 3, 4, or 5 and complete the operation, the options menu gets printed on the screen twice.</p>\n<p>I've attempted to address this by using both <code>if</code> statements and <code>switch case</code> statements, but the problem persists.</p>\n<p><strong>This is the Class:</strong></p>\n<pre><code>package esercizio4;\n\npublic class Automobile {\n    \n    private String marca;\n    private String modello;\n    private double benzina;\n    private boolean accesa;\n    private double velocita;\n    \n    public Automobile(String marca, String modello) {\n        this.marca = marca;\n        this.modello = modello;\n        setBenzina(1);\n        setAccesa(false);\n        setVelocita(0);\n    }\n    \n    public String getMarca() {\n        return marca;\n    }\n    \n    public void setMarca(String marca) {\n        this.marca = marca;\n    }\n    \n    public String getModello() {\n        return modello;\n    }\n    \n    public void setModello(String modello) {\n        this.modello = modello;\n    }\n    \n    public double getBenzina() {\n        return benzina;\n    }\n    \n    public void setBenzina(double benzina) {\n        this.benzina = benzina;\n    }\n    \n    public boolean getAccesa() {\n        return accesa;\n    }\n    \n    public void setAccesa(boolean accesa) {\n        this.accesa = accesa;\n    }\n    \n    public double getVelocita() {\n        return velocita;\n    }\n    \n    public void setVelocita(double velocita) {\n        this.velocita = velocita;\n    }\n    \n    public void accendi() {\n        if(getAccesa() == false &amp;&amp; benzina &gt; 0) {\n            setAccesa(true);\n            System.out.println(&quot;Hai acceso la macchina&quot;);\n        } \n        else if(getAccesa() == true){ \n            System.out.println(&quot;La macchina  gi accesa&quot;);\n        }\n        else if(getAccesa() == false &amp;&amp; benzina == 0) {\n            System.out.println(&quot;Errore: non c' benzina&quot;);\n        }\n    }\n    \n    public void spegni() {\n        if(getAccesa() == true) {\n            setAccesa(false);\n            System.out.println(&quot;Hai spento la macchina&quot;);\n        } else {\n            System.out.println(&quot;La macchina  gi spenta&quot;);\n        }\n    }\n    \n    public boolean isAccesa() {\n        if(getAccesa() == true) {\n            System.out.println(&quot;La macchina  accesa&quot;);\n        } else {\n            System.out.println(&quot;La macchina  spenta&quot;);\n        }\n        return accesa;\n    }\n    \n    public void addBenzina(int benzina) { //Problema: ripropone 2 volte il menu opzioni\n        int livMaxSerbatoio = 10;\n        if (benzina &lt; livMaxSerbatoio) {\n            this.benzina += benzina;\n            System.out.println(&quot;Hai inserito &quot; + benzina + &quot; litri&quot;);\n        } \n        else if(benzina &gt; livMaxSerbatoio){\n            System.out.println(&quot;Non c' abbastanza spazio&quot;);\n        } \n    }\n    \n    public void viewBenzina() {\n        if(getBenzina() == 10) {\n            System.out.println(&quot;Il serbatoio  pieno: 10 litri presenti&quot;);\n        } else {\n            System.out.println(&quot;Il livello di benzina : &quot; + getBenzina() + &quot; litri&quot;);\n        }\n    }\n    //DA MIGLIORARE\n    public void accelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\n        if(velocita &lt; 200 &amp;&amp; accesa == true) {\n            setVelocita(getVelocita() + kmh);\n            System.out.println(&quot;Hai accelerato di &quot; + kmh + &quot;kmh&quot;);\n            System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\n        }\n        if(accesa == false) {\n            System.out.println(&quot;Errore: la macchina  spenta&quot;);\n        }\n        else if(velocita &gt; 200 &amp;&amp; accesa == true) {\n            System.out.println(&quot;Errore: non puoi andare a piu di 200 kmh&quot;);\n        }\n    }\n    //DA MIGLIORARE\n    public void decelera(int kmh) { //Problema: ripropone 2 volte il menu opzioni\n        if(velocita &gt; 0 &amp;&amp; accesa == true) {\n            setVelocita(getVelocita() - kmh);\n            System.out.println(&quot;Hai decelerato di &quot; + kmh + &quot;kmh&quot;);\n            System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot;kmh&quot;);\n        }\n        if(accesa == false) {\n            System.out.println(&quot;Errore: la macchina  spenta&quot;);\n        }\n        else if(kmh &gt; getVelocita()) {\n            setVelocita(0);\n        }\n    }\n    \n    public void ferma() {\n        if(velocita &gt; 0 &amp;&amp; accesa == true) {    \n            for(int i = (int) getVelocita(); i &gt;= 0; i--) {\n                setVelocita(i);\n                //System.out.println(&quot;Stai andando a &quot; + getVelocita() + &quot; kmh&quot;);               \n            }\n            System.out.println(&quot;Ti sei fermato&quot;);\n        } else {    \n            System.out.println(&quot;Sei gi fermo&quot;);\n        }\n    }\n    \n    public boolean isInMoto() {\n        if(getVelocita() &gt; 0) {\n            System.out.println(&quot;La macchina sta andando a &quot; + getVelocita() + &quot; kmh&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;La macchina  ferma&quot;);\n        }       \n        return false;\n    }\n    \n    public String toString() {\n        String toString = &quot;Informazioni:&quot; + &quot;\\n&quot; +\n                          &quot;Marca: &quot; + getMarca() + &quot;\\n&quot; +\n                          &quot;Modello: &quot; + getModello() + &quot;\\n&quot; +\n                          &quot;Livello serbatoio: &quot; + getBenzina() + &quot; litri \\n&quot; +\n                          &quot;Stato accensione: &quot; + getAccesa() + &quot;\\n&quot; +\n                          &quot;Velocit: &quot; + getVelocita() + &quot; kmh&quot;;        \n        return toString;\n    }\n    \n    public static void stampaOpzioni() {\n        System.out.println(&quot;Premi 1 per accendere la macchina&quot;);\n        System.out.println(&quot;Premi 2 per spegnere la macchina&quot;);\n        System.out.println(&quot;Premi 3 per aggiungere la benzina&quot;);\n        System.out.println(&quot;Premi 4 per accelerare&quot;);\n        System.out.println(&quot;Premi 5 per decelerare&quot;);\n        System.out.println(&quot;Premi 6 per fermarti&quot;);\n        System.out.println(&quot;Premi 7 per visualizzare lo stato attuale&quot;);\n        System.out.println(&quot;Premi EXIT per terminare la simulazione&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>This is the ClassTest:</strong></p>\n<pre><code>package esercizio4;\n\nimport java.util.Scanner;\n\npublic class TestAutomobile {\n\n    public static void main(String[] args) {\n        \n        System.out.println(&quot;Benvenuto in questa sessione di simulazione di guida&quot;);\n        System.out.println(&quot;Crea la tua macchina&quot;);\n        \n        Scanner input = new Scanner(System.in);\n        \n        System.out.println(&quot;Inserisci la marca&quot;);\n        String marca = input.nextLine();\n        \n        System.out.println(&quot;Inserisci il modello&quot;);\n        String modello = input.nextLine();\n        \n        Automobile auto = new Automobile(marca, modello);\n        \n        String opzione = &quot;&quot;;\n        while(!opzione.equalsIgnoreCase(&quot;exit&quot;)) {\n\n            Automobile.stampaOpzioni();         \n            \n            opzione = input.nextLine();\n            \n            switch(opzione) {\n                case &quot;1&quot;:\n                    auto.accendi();\n                    break;\n                case &quot;2&quot;:\n                    auto.spegni();\n                    break;\n                case &quot;3&quot;:\n                    System.out.println(&quot;Quanta benzina vuoi aggiungere? (capienza max 10 litri)&quot;);\n                    int benzina = input.nextInt();\n                    auto.addBenzina(benzina);\n                    break;\n                case &quot;4&quot;:\n                    System.out.println(&quot;Di quanto vuoi accelerare? (velocit max 200 kmh)&quot;);\n                    int kmh = input.nextInt();\n                    auto.accelera(kmh);\n                    break;\n                case &quot;5&quot;:\n                    System.out.println(&quot;Di quanto vuoi decelerare?&quot;);\n                     kmh = input.nextInt();\n                    auto.decelera(kmh);\n                    break;\n                case &quot;6&quot;:\n                    auto.ferma();\n                    break;\n                case &quot;7&quot;:\n                    System.out.println(auto);\n                    break;\n            }\n        }//Chiusura while\n        \n        input.close();\n        System.out.println(&quot;Hai terminato la simulazione&quot;);\n        System.out.println(&quot;Arrivederci&quot;);\n        \n        \n    }\n\n}\n</code></pre>\n<p><strong>This is what it appears to me:</strong></p>\n<blockquote>\n<p>Benvenuto in questa sessione di simulazione di guida Crea la tua\nmacchina <br> Inserisci la marca<br> Fiat<br> Inserisci il modello<br>\nPunto<br> Premi 1 per accendere la macchina<br> Premi 2 per spegnere\nla macchina<br> Premi 3 per aggiungere la benzina<br> Premi 4 per\naccelerare<br> Premi 5 per decelerare<br> Premi 6 per fermarti<br>\nPremi 7 per visualizzare lo stato attuale<br> Premi 3 EXIT per\nterminare la simulazione<br> Quanta benzina vuoi aggiungere? (capienza\nmax 10 litri)<br> Hai inserito 8 litri<br> Premi 1 per accendere la\nmacchina<br> Premi 2 per spegnere la macchina<br> Premi 3 per\naggiungere la benzina<br> Premi 4 per accelerare<br> Premi 5 per\ndecelerare<br> Premi 6 per fermarti<br> Premi 7 per visualizzare lo\nstato attuale<br> Premi EXIT per terminare la simulazione<br> Premi 1\nper accendere la macchina<br> Premi 2 per spegnere la macchina<br>\nPremi 3 per aggiungere la benzina<br> Premi 4 per accelerare<br> Premi\n5 per decelerare<br> Premi 6 per fermarti<br> Premi 7 per visualizzare\nlo stato attuale<br> Premi EXIT per terminare la simulazione<br></p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693488708,"post_id":77016210,"comment_id":135769984,"body_markdown":"Indeed. After reinstall the file does not belong to the app anymore hence can not be deleted in the classic way. But you can use SAF to let the user choose the file. ACTION_,OPEN_DOCUMENT.","body":"Indeed. After reinstall the file does not belong to the app anymore hence can not be deleted in the classic way. But you can use SAF to let the user choose the file. ACTION_,OPEN_DOCUMENT."},{"owner":{"account_id":7900776,"reputation":3946,"user_id":5967872,"display_name":"KYL3R"},"score":0,"creation_date":1693488790,"post_id":77016210,"comment_id":135770015,"body_markdown":"In Android 13 you need the Permission-Dialog for deleting Images. The dialog is automatically shown when using the ContentResolver afaik","body":"In Android 13 you need the Permission-Dialog for deleting Images. The dialog is automatically shown when using the ContentResolver afaik"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693488796,"post_id":77016210,"comment_id":135770017,"body_markdown":"It makes no sense to use mkdirs() if you want to delete a file.","body":"It makes no sense to use mkdirs() if you want to delete a file."},{"owner":{"account_id":10974707,"reputation":441,"user_id":8063735,"display_name":"Ashwin Nirmale"},"score":0,"creation_date":1695819700,"post_id":77016210,"comment_id":136074893,"body_markdown":"Check out this answer : https://stackoverflow.com/a/75033288/8063735","body":"Check out this answer : <a href=\"https://stackoverflow.com/a/75033288/8063735\">stackoverflow.com/a/75033288/8063735</a>"}],"answers":[{"tags":[],"owner":{"account_id":29261463,"reputation":55,"user_id":22418346,"display_name":"rahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693494322,"creation_date":1693494322,"answer_id":77017077,"question_id":77016210,"body_markdown":"I modified the code like this, I will check if the file is not deleted, I will use a random name and save this name in the app, and I will use this name many times later.","title":"Delete file in Android 13","body":"<p>I modified the code like this, I will check if the file is not deleted, I will use a random name and save this name in the app, and I will use this name many times later.</p>\n"}],"owner":{"account_id":29261463,"reputation":55,"user_id":22418346,"display_name":"rahim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77017077,"answer_count":1,"score":1,"last_activity_date":1693494322,"creation_date":1693488050,"question_id":77016210,"body_markdown":"I create a png file in the &quot;/Pictures/test/test.png&quot; folder and sometimes I delete it and create a new file and it works fine.\r\n\r\nBut when I delete the app and reinstall it, I can no longer delete the file\r\n\r\nIf I delete the png file by myself once, the app will work again\r\n\r\nI think the app can only delete the files it created and sometimes when I reinstall the app, Android recognizes the app as a stranger.\r\n\r\n    file = new File(Environment.getExternalStorageDirectory(),FolderName);\r\n        if (!file.exists()){\r\n            file.mkdirs();\r\n            if (file.isDirectory()){\r\n               Toast.makeText(this, &quot;Folder created&quot;, Toast.LENGTH_SHORT).show();\r\n            }else{\r\n              Toast.makeText(this, &quot;Folder creation failed&quot;, Toast.LENGTH_SHORT).show();}}\r\n        if (file.exists()){\r\n            File out_c_file= new File(file,FileName);\r\n            if(out_c_file.exists()){out_c_file.delete();}\r\n\r\nThis problem does not exist in Android 6","title":"Delete file in Android 13","body":"<p>I create a png file in the &quot;/Pictures/test/test.png&quot; folder and sometimes I delete it and create a new file and it works fine.</p>\n<p>But when I delete the app and reinstall it, I can no longer delete the file</p>\n<p>If I delete the png file by myself once, the app will work again</p>\n<p>I think the app can only delete the files it created and sometimes when I reinstall the app, Android recognizes the app as a stranger.</p>\n<pre><code>file = new File(Environment.getExternalStorageDirectory(),FolderName);\n    if (!file.exists()){\n        file.mkdirs();\n        if (file.isDirectory()){\n           Toast.makeText(this, &quot;Folder created&quot;, Toast.LENGTH_SHORT).show();\n        }else{\n          Toast.makeText(this, &quot;Folder creation failed&quot;, Toast.LENGTH_SHORT).show();}}\n    if (file.exists()){\n        File out_c_file= new File(file,FileName);\n        if(out_c_file.exists()){out_c_file.delete();}\n</code></pre>\n<p>This problem does not exist in Android 6</p>\n"},{"tags":["java","spring-boot","compression","gzip"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693494982,"post_id":77017072,"comment_id":135771528,"body_markdown":"Basically a duplicate https://stackoverflow.com/q/62784408/2541560","body":"Basically a duplicate <a href=\"https://stackoverflow.com/q/62784408/2541560\">stackoverflow.com/q/62784408/2541560</a>"}],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693494296,"creation_date":1693494296,"question_id":77017072,"body_markdown":"\r\n\r\n\r\n\r\n\r\n\r\nI am working with a Spring Boot application with TomCat embedded and I need to decompres the request that I am receiving in gzip. The request is compress with palo.gzip request and returning a type data Uint8array, and I need to decompress. \r\n\r\nI have changed the bellow settings on the project\r\n\r\n    server.tomcat.compression=on\r\nserver.tomcat.compressableMimeTypes=application/json,test/csv, application/xml,text/html,text/xml,text/plain\r\nserver.compression.enabled=false\r\nserver.compression.mime-types=application/json,test/csv, application/xml,text/html,text/xml,text/plain\r\n\r\n\r\nI have create a filter to decompress the code\r\n\r\n    public class GzipBodyDecompressFilter extends Filter {\r\n    \r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        \r\n    }\r\n    /**\r\n     * Analyzes servlet request for possible gzipped body.\r\n     * When Content-Encoding header has &quot;gzip&quot; value and request method is POST we read all the\r\n     * gzipped stream and is it haz any data unzip it. In case when gzip Content-Encoding header\r\n     * specified but body is not actually in gzip format we will throw ZipException.\r\n     *\r\n     * @param servletRequest  servlet request\r\n     * @param servletResponse servlet response\r\n     * @param chain           filter chain\r\n     * @throws IOException      throws when fails\r\n     * @throws ServletException thrown when fails\r\n     */\r\n    @Override\r\n    public final void doFilter(final ServletRequest servletRequest,\r\n                               final ServletResponse servletResponse,\r\n                               final FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n        boolean isGzipped = request.getHeader(HttpHeaders.CONTENT_ENCODING) != null\r\n                &amp;&amp; request.getHeader(HttpHeaders.CONTENT_ENCODING).contains(&quot;gzip&quot;);\r\n        boolean requestTypeSupported = HttpMethods.POST.equals(request.getMethod());\r\n        if (isGzipped &amp;&amp; !requestTypeSupported) {\r\n            throw new IllegalStateException(request.getMethod()\r\n                    + &quot; is not supports gzipped body of parameters.&quot;\r\n                    + &quot; Only POST requests are currently supported.&quot;);\r\n        }\r\n        if (isGzipped &amp;&amp; requestTypeSupported) {\r\n            request = new GzippedInputStreamWrapper((HttpServletRequest) servletRequest);\r\n        }\r\n        chain.doFilter(request, response);\r\n\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     */\r\n    @Override\r\n    public final void destroy() {\r\n    }\r\n\r\n    /**\r\n     * Wrapper class that detects if the request is gzipped and ungzipps it.\r\n     */\r\n    final class GzippedInputStreamWrapper extends HttpServletRequestWrapper {\r\n        /**\r\n         * Default encoding that is used when post parameters are parsed.\r\n         */\r\n        public static final String DEFAULT_ENCODING = &quot;ISO-8859-1&quot;;\r\n\r\n        /**\r\n         * Serialized bytes array that is a result of unzipping gzipped body.\r\n         */\r\n        private byte[] bytes;\r\n\r\n        /**\r\n         * Constructs a request object wrapping the given request.\r\n         * In case if Content-Encoding contains &quot;gzip&quot; we wrap the input stream into byte array\r\n         * to original input stream has nothing in it but hew wrapped input stream always returns\r\n         * reproducible ungzipped input stream.\r\n         *\r\n         * @param request request which input stream will be wrapped.\r\n         * @throws java.io.IOException when input stream reqtieval failed.\r\n         */\r\n        public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\r\n            super(request);\r\n            try {\r\n                final InputStream in = new GZIPInputStream(request.getInputStream());\r\n                bytes = ByteStreams.toByteArray(in);\r\n            } catch (EOFException e) {\r\n                bytes = new byte[0];\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @return reproduceable input stream that is either equal to initial servlet input\r\n         * stream(if it was not zipped) or returns unzipped input stream.\r\n         * @throws IOException if fails.\r\n         */\r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            final ByteArrayInputStream sourceStream = new ByteArrayInputStream(bytes);\r\n            return new ServletInputStream() {\r\n                public int read() throws IOException {\r\n                    return sourceStream.read();\r\n                }\r\n\r\n                public void close() throws IOException {\r\n                    super.close();\r\n                    sourceStream.close();\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Need to override getParametersMap because we initially read the whole input stream and\r\n         * servlet container won&#39;t have access to the input stream data.\r\n         *\r\n         * @return parsed parameters list. Parameters get parsed only when Content-Type\r\n         * &quot;application/x-www-form-urlencoded&quot; is set.\r\n         */\r\n        @Override\r\n        public Map getParameterMap() {\r\n            String contentEncodingHeader = getHeader(HttpHeaders.CONTENT_TYPE);\r\n            if (!Strings.isNullOrEmpty(contentEncodingHeader)\r\n                    &amp;&amp; contentEncodingHeader.contains(&quot;application/x-www-form-urlencoded&quot;)) {\r\n                Map params = new HashMap(super.getParameterMap());\r\n                try {\r\n                    params.putAll(parseParams(new String(bytes)));\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return params;\r\n            } else {\r\n                return super.getParameterMap();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * parses params from the byte input stream.\r\n         *\r\n         * @param body request body serialized to string.\r\n         * @return parsed parameters map.\r\n         * @throws UnsupportedEncodingException if encoding provided is not supported.\r\n         */\r\n        private Map&lt;String, String[]&gt; parseParams(final String body)\r\n                throws UnsupportedEncodingException {\r\n            String characterEncoding = getCharacterEncoding();\r\n            if (null == characterEncoding) {\r\n                characterEncoding = DEFAULT_ENCODING;\r\n            }\r\n            final Multimap&lt;String, String&gt; parameters = ArrayListMultimap.create();\r\n            for (String pair : body.split(&quot;&amp;&quot;)) {\r\n                if (Strings.isNullOrEmpty(pair)) {\r\n                    continue;\r\n                }\r\n                int idx = pair.indexOf(&quot;=&quot;);\r\n\r\n                String key = null;\r\n                if (idx &gt; 0) {\r\n                    key = URLDecoder.decode(pair.substring(0, idx), characterEncoding);\r\n                } else {\r\n                    key = pair;\r\n                }\r\n                String value = null;\r\n                if (idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1) {\r\n                    value = URLDecoder.decode(pair.substring(idx + 1), characterEncoding);\r\n                } else {\r\n                    value = null;\r\n                }\r\n                parameters.put(key, value);\r\n            }\r\n            return Maps.transformValues(parameters.asMap(),\r\n                    new Function&lt;Collection&lt;String&gt;, String[]&gt;() {\r\n                        @Nullable\r\n                        @Override\r\n                        public String[] apply(final Collection&lt;String&gt; input) {\r\n                            return Iterables.toArray(input, String.class);\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nWhen I received the request, I am always getting this error :\r\n&quot;Not in GZIP format&quot;\r\n\r\nI am debugging and the error is here:\r\n\r\n    CheckedInputStream in = new CheckedInputStream(this_in, crc);\r\n        crc.reset();\r\n        // Check header magic\r\n        if (readUShort(in) != GZIP_MAGIC) {\r\n            throw new ZipException(&quot;Not in GZIP format&quot;);\r\n        }\r\n\r\nreadUShort(in) is 8752 and it should be GZIP_MAGIC=35615\r\n\r\nDo you have some idea why it&#39;s not working?\r\n\r\n\r\n","title":"How can I decompress request on Spring Boot with Tomcat?","body":"<p>I am working with a Spring Boot application with TomCat embedded and I need to decompres the request that I am receiving in gzip. The request is compress with palo.gzip request and returning a type data Uint8array, and I need to decompress.</p>\n<p>I have changed the bellow settings on the project</p>\n<pre><code>server.tomcat.compression=on\n</code></pre>\n<p>server.tomcat.compressableMimeTypes=application/json,test/csv, application/xml,text/html,text/xml,text/plain\nserver.compression.enabled=false\nserver.compression.mime-types=application/json,test/csv, application/xml,text/html,text/xml,text/plain</p>\n<p>I have create a filter to decompress the code</p>\n<pre><code>public class GzipBodyDecompressFilter extends Filter {\n\n@Override\npublic void init(FilterConfig filterConfig) throws ServletException {\n    \n}\n/**\n * Analyzes servlet request for possible gzipped body.\n * When Content-Encoding header has &quot;gzip&quot; value and request method is POST we read all the\n * gzipped stream and is it haz any data unzip it. In case when gzip Content-Encoding header\n * specified but body is not actually in gzip format we will throw ZipException.\n *\n * @param servletRequest  servlet request\n * @param servletResponse servlet response\n * @param chain           filter chain\n * @throws IOException      throws when fails\n * @throws ServletException thrown when fails\n */\n@Override\npublic final void doFilter(final ServletRequest servletRequest,\n                           final ServletResponse servletResponse,\n                           final FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest request = (HttpServletRequest) servletRequest;\n    HttpServletResponse response = (HttpServletResponse) servletResponse;\n    boolean isGzipped = request.getHeader(HttpHeaders.CONTENT_ENCODING) != null\n            &amp;&amp; request.getHeader(HttpHeaders.CONTENT_ENCODING).contains(&quot;gzip&quot;);\n    boolean requestTypeSupported = HttpMethods.POST.equals(request.getMethod());\n    if (isGzipped &amp;&amp; !requestTypeSupported) {\n        throw new IllegalStateException(request.getMethod()\n                + &quot; is not supports gzipped body of parameters.&quot;\n                + &quot; Only POST requests are currently supported.&quot;);\n    }\n    if (isGzipped &amp;&amp; requestTypeSupported) {\n        request = new GzippedInputStreamWrapper((HttpServletRequest) servletRequest);\n    }\n    chain.doFilter(request, response);\n\n}\n\n/**\n * @inheritDoc\n */\n@Override\npublic final void destroy() {\n}\n\n/**\n * Wrapper class that detects if the request is gzipped and ungzipps it.\n */\nfinal class GzippedInputStreamWrapper extends HttpServletRequestWrapper {\n    /**\n     * Default encoding that is used when post parameters are parsed.\n     */\n    public static final String DEFAULT_ENCODING = &quot;ISO-8859-1&quot;;\n\n    /**\n     * Serialized bytes array that is a result of unzipping gzipped body.\n     */\n    private byte[] bytes;\n\n    /**\n     * Constructs a request object wrapping the given request.\n     * In case if Content-Encoding contains &quot;gzip&quot; we wrap the input stream into byte array\n     * to original input stream has nothing in it but hew wrapped input stream always returns\n     * reproducible ungzipped input stream.\n     *\n     * @param request request which input stream will be wrapped.\n     * @throws java.io.IOException when input stream reqtieval failed.\n     */\n    public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\n        super(request);\n        try {\n            final InputStream in = new GZIPInputStream(request.getInputStream());\n            bytes = ByteStreams.toByteArray(in);\n        } catch (EOFException e) {\n            bytes = new byte[0];\n        }\n    }\n\n\n    /**\n     * @return reproduceable input stream that is either equal to initial servlet input\n     * stream(if it was not zipped) or returns unzipped input stream.\n     * @throws IOException if fails.\n     */\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        final ByteArrayInputStream sourceStream = new ByteArrayInputStream(bytes);\n        return new ServletInputStream() {\n            public int read() throws IOException {\n                return sourceStream.read();\n            }\n\n            public void close() throws IOException {\n                super.close();\n                sourceStream.close();\n            }\n        };\n    }\n\n    /**\n     * Need to override getParametersMap because we initially read the whole input stream and\n     * servlet container won't have access to the input stream data.\n     *\n     * @return parsed parameters list. Parameters get parsed only when Content-Type\n     * &quot;application/x-www-form-urlencoded&quot; is set.\n     */\n    @Override\n    public Map getParameterMap() {\n        String contentEncodingHeader = getHeader(HttpHeaders.CONTENT_TYPE);\n        if (!Strings.isNullOrEmpty(contentEncodingHeader)\n                &amp;&amp; contentEncodingHeader.contains(&quot;application/x-www-form-urlencoded&quot;)) {\n            Map params = new HashMap(super.getParameterMap());\n            try {\n                params.putAll(parseParams(new String(bytes)));\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n            return params;\n        } else {\n            return super.getParameterMap();\n        }\n    }\n\n    /**\n     * parses params from the byte input stream.\n     *\n     * @param body request body serialized to string.\n     * @return parsed parameters map.\n     * @throws UnsupportedEncodingException if encoding provided is not supported.\n     */\n    private Map&lt;String, String[]&gt; parseParams(final String body)\n            throws UnsupportedEncodingException {\n        String characterEncoding = getCharacterEncoding();\n        if (null == characterEncoding) {\n            characterEncoding = DEFAULT_ENCODING;\n        }\n        final Multimap&lt;String, String&gt; parameters = ArrayListMultimap.create();\n        for (String pair : body.split(&quot;&amp;&quot;)) {\n            if (Strings.isNullOrEmpty(pair)) {\n                continue;\n            }\n            int idx = pair.indexOf(&quot;=&quot;);\n\n            String key = null;\n            if (idx &gt; 0) {\n                key = URLDecoder.decode(pair.substring(0, idx), characterEncoding);\n            } else {\n                key = pair;\n            }\n            String value = null;\n            if (idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1) {\n                value = URLDecoder.decode(pair.substring(idx + 1), characterEncoding);\n            } else {\n                value = null;\n            }\n            parameters.put(key, value);\n        }\n        return Maps.transformValues(parameters.asMap(),\n                new Function&lt;Collection&lt;String&gt;, String[]&gt;() {\n                    @Nullable\n                    @Override\n                    public String[] apply(final Collection&lt;String&gt; input) {\n                        return Iterables.toArray(input, String.class);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>}</p>\n<p>When I received the request, I am always getting this error :\n&quot;Not in GZIP format&quot;</p>\n<p>I am debugging and the error is here:</p>\n<pre><code>CheckedInputStream in = new CheckedInputStream(this_in, crc);\n    crc.reset();\n    // Check header magic\n    if (readUShort(in) != GZIP_MAGIC) {\n        throw new ZipException(&quot;Not in GZIP format&quot;);\n    }\n</code></pre>\n<p>readUShort(in) is 8752 and it should be GZIP_MAGIC=35615</p>\n<p>Do you have some idea why it's not working?</p>\n"},{"tags":["java","future"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":2,"creation_date":1693492849,"post_id":77016784,"comment_id":135771026,"body_markdown":"Have a look at `CompletableFuture`.","body":"Have a look at <code>CompletableFuture</code>."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1693494593,"post_id":77016784,"comment_id":135771435,"body_markdown":"Your sketch will block until all tasks are complete. Is that what you want? If so, what is the point of submitting a task and getting a `Future` in the first place? You could just run the tasks yourself in the current thread.","body":"Your sketch will block until all tasks are complete. Is that what you want? If so, what is the point of submitting a task and getting a <code>Future</code> in the first place? You could just run the tasks yourself in the current thread."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1693494823,"post_id":77016784,"comment_id":135771485,"body_markdown":"I believe the second example (using `CompletableFuture`) I gave [in my answer here](https://stackoverflow.com/a/826283/3474) does what you want. If your question is different, please edit to distinguish it from the proposed duplicate, reply to me, and we can re-open.","body":"I believe the second example (using <code>CompletableFuture</code>) I gave <a href=\"https://stackoverflow.com/a/826283/3474\">in my answer here</a> does what you want. If your question is different, please edit to distinguish it from the proposed duplicate, reply to me, and we can re-open."}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693494737,"answer_count":0,"score":0,"last_activity_date":1693494237,"creation_date":1693492033,"question_id":77016784,"body_markdown":"I am learning Java Future API. I want to write a generic Future handler code that gets any value from a Future and passes it to a callback function. To elaborate, if below is a generic function that handles Future objects:\r\n\r\n    private static &lt;T&gt; void genericFutureHandler(List&lt;Future&lt;T&gt;&gt; futures, CompletionAction completionAction) throws InterruptedException {\r\n      for (Future&lt;T&gt; f : futures) {\r\n        if (f.isDone()) {\r\n           try {\r\n             T iter = f.get();\r\n             completionAction.showCompletedTaskNumber(iter);\r\n           } catch (ExecutionException e) {\r\n             e.printStackTrace();\r\n           }\r\n       }\r\n    }\r\n\r\nI want my callback to be like:\r\n\r\n    class TaskStatusCompletionAction implements CompletionAction {\r\n    \r\n        @Override\r\n        public void showCompletedTaskNumber(int taskNumber) {\r\n            System.out.println(&quot;Task number : &quot;+taskNumber+&quot; completed&quot;);\r\n        }\r\n    }\r\n    \r\n    interface CompletionAction {\r\n        void showCompletedTaskNumber(int taskNumber);\r\n    }\r\n\r\nHow can I write/design code that transparently handles all future objects, gets their completed value and hands if off to the provided callback? Is anything like that possible or I am asking wrong question?","title":"How to pass generic value returned from Future object to a callback function with specific parameter type","body":"<p>I am learning Java Future API. I want to write a generic Future handler code that gets any value from a Future and passes it to a callback function. To elaborate, if below is a generic function that handles Future objects:</p>\n<pre><code>private static &lt;T&gt; void genericFutureHandler(List&lt;Future&lt;T&gt;&gt; futures, CompletionAction completionAction) throws InterruptedException {\n  for (Future&lt;T&gt; f : futures) {\n    if (f.isDone()) {\n       try {\n         T iter = f.get();\n         completionAction.showCompletedTaskNumber(iter);\n       } catch (ExecutionException e) {\n         e.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p>I want my callback to be like:</p>\n<pre><code>class TaskStatusCompletionAction implements CompletionAction {\n\n    @Override\n    public void showCompletedTaskNumber(int taskNumber) {\n        System.out.println(&quot;Task number : &quot;+taskNumber+&quot; completed&quot;);\n    }\n}\n\ninterface CompletionAction {\n    void showCompletedTaskNumber(int taskNumber);\n}\n</code></pre>\n<p>How can I write/design code that transparently handles all future objects, gets their completed value and hands if off to the provided callback? Is anything like that possible or I am asking wrong question?</p>\n"},{"tags":["java","spring-boot","apache-spark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1554319248,"post_id":55494154,"comment_id":97711769,"body_markdown":"How do you submit your job?","body":"How do you submit your job?"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554319347,"creation_date":1554319347,"answer_id":55502813,"question_id":55494154,"body_markdown":"If you don&#39;t create fat jar, then you need to submit job with correct package specified, like this:\r\n\r\n    spark-submit --packages datastax:spark-cassandra-connector:2.4.1-s_2.11 \\\r\n       ...rest of your options/arguments...\r\n\r\nThis will distribute corresponding SCC packages to all Spark nodes.","title":"How to fix org.apache.spark.SparkException: Job aborted due to stage failure Task &amp; com.datastax.spark.connector.rdd.partitioner.CassandraPartition","body":"<p>If you don't create fat jar, then you need to submit job with correct package specified, like this:</p>\n\n<pre><code>spark-submit --packages datastax:spark-cassandra-connector:2.4.1-s_2.11 \\\n   ...rest of your options/arguments...\n</code></pre>\n\n<p>This will distribute corresponding SCC packages to all Spark nodes.</p>\n"}],"owner":{"account_id":13404647,"reputation":79,"user_id":9673017,"display_name":"Shreya Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693494200,"creation_date":1554291170,"question_id":55494154,"body_markdown":"In my project i am using spark-Cassandra-connector to read the from Cassandra table and process it further into JavaRDD but i am facing issue while processing Cassandra row to javaRDD.\r\n\r\n```\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 0.0 failed 4 times, most recent failure: Lost task 2.3 in stage 0.0 (TID 52, 172.20.0.4, executor 1):\r\n java.lang.ClassNotFoundException: com.datastax.spark.connector.rdd.partitioner.CassandraPartition\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream$$anon$1.resolveClass(JavaSerializer.scala:67)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:114)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:370)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI have configured my spark to user a spark cluster. When i am using master as local the code works fine but as soon as i replace it with the master i am facing issue.\r\nHere is my spark configuration:\r\n```\r\n\r\nSparkConf sparkConf = new SparkConf().setAppName(&quot;Data Transformation&quot;)\r\n\t\t\t\t.set(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;).setMaster(&quot;spark://masterip:7077&quot;);\r\n\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.host&quot;, cassandraContactPoints);\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.port&quot;, cassandraPort);\r\n\t\tsparkConf.set(&quot;spark.cassandra.connection.timeout_ms&quot;, &quot;5000&quot;);\r\n\t\tsparkConf.set(&quot;spark.cassandra.read.timeout_ms&quot;, &quot;200000&quot;);\r\n\t\tsparkConf.set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\r\n\r\n\t\t/*\r\n\t\t * sparkConf.set(&quot;spark.cassandra.auth.username&quot;, &quot;centralrw&quot;);\r\n\t\t * sparkConf.set(&quot;spark.cassandra.auth.password&quot;, &quot;t8b9HRWy&quot;);\r\n\t\t */\r\n\t\tlogger.info(&quot;creating spark context object&quot;);\r\n\t\tsparkContext = new JavaSparkContext(sparkConf);\r\n\t\tlogger.info(&quot;returning sparkcontext object&quot;);\r\n\t\treturn sparkContext;\r\n```\r\n\r\nSpark version - 2.4.0\r\nspark-Cassandra_connector - 2.4.0\r\n\r\n\r\nReceiverConfig:\r\n\r\n```\r\npublic List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; readDataFromGenericTriggerEntityUsingSpark(\r\n\t\t\tJavaSparkContext sparkContext) {\r\n\r\n\t\tList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; genericTriggerEntityList = new ArrayList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt;();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tlogger.info(&quot;Keyspace &amp; table name to read data from cassandra&quot;);\r\n\t\t\tString tableName = &quot;generictriggerentity&quot;;\r\n\t\t\tString keySpace = &quot;centraldatalake&quot;;\r\n\r\n\t\t\tlogger.info(&quot;establishing conection&quot;);\r\n\t\t\tCassandraJavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sparkContext)\r\n\t\t\t\t\t.cassandraTable(keySpace, tableName);\r\n\t\t\tint num = cassandraRDD.getNumPartitions();\r\n\t\t\tSystem.out.println(&quot;num- &quot; + num);\r\n\r\n\t\t\tlogger.info(&quot;Converting extracted rows to JavaRDD&quot;);\r\n\t\t\tJavaRDD&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; rdd = cassandraRDD\r\n\t\t\t\t\t.map(new Function&lt;CassandraRow, Map&lt;String, GenericTriggerEntity&gt;&gt;() {\r\n\r\n\t\t\t\t\t\tprivate static final long serialVersionUID = -165799649937652815L;\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic Map&lt;String, GenericTriggerEntity&gt; call(CassandraRow row) throws Exception {\r\n\t\t\t\t\t\t\tMap&lt;String, GenericTriggerEntity&gt; genericTriggerEntityMap = new HashMap&lt;String, GenericTriggerEntity&gt;();\r\n\t\t\t\t\t\t\tGenericTriggerEntity genericTriggerEntity = new GenericTriggerEntity();\r\n\t\t\t\t\t\t\tif (row.getString(&quot;end&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setEnd(row.getString(&quot;end&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;key&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setKey(row.getString(&quot;key&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;keyspacename&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setKeyspacename(row.getString(&quot;keyspacename&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;partitiondeleted&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setPartitiondeleted(row.getString(&quot;partitiondeleted&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;rowdeleted&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setRowdeleted(row.getString(&quot;rowdeleted&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;rows&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setRows(row.getString(&quot;rows&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;start&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setStart(row.getString(&quot;start&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;tablename&quot;) != null) {\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTablename(row.getString(&quot;tablename&quot;));\r\n\t\t\t\t\t\t\t\tdataTableName = row.getString(&quot;tablename&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (row.getString(&quot;triggerdate&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTriggerdate(row.getString(&quot;triggerdate&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;triggertime&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setTriggertime(row.getString(&quot;triggertime&quot;));\r\n\t\t\t\t\t\t\tif (row.getString(&quot;uuid&quot;) != null)\r\n\t\t\t\t\t\t\t\tgenericTriggerEntity.setUuid(row.getUUID(&quot;uuid&quot;));\r\n\r\n\t\t\t\t\t\t\tgenericTriggerEntityMap.put(dataTableName, genericTriggerEntity);\r\n\t\t\t\t\t\t\treturn genericTriggerEntityMap;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\tList&lt;Partition&gt; partition = rdd.partitions();\r\n\t\t\tSystem.out.println(&quot;partion - &quot; + partition.size());\r\n\r\n\t\t\tlogger.info(&quot;Collecting data into rdd&quot;);\r\n\t\t\tgenericTriggerEntityList = rdd.collect();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tlogger.info(&quot;returning generic trigger entity list&quot;);\r\n\t\treturn genericTriggerEntityList;\r\n\t}\r\n```\r\nwhen i am doing rdd.collect() it gives exception\r\n```\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1\r\n```\r\n\r\nI found a solution of creating a fat jar and including it in my code but i do not want to do that as every time ill make any changes ill have to do the process again and that is not possible.\r\n\r\nPlease suggest some solution to configure in the code or spark cluster.\r\nThanks in advance.","title":"How to fix org.apache.spark.SparkException: Job aborted due to stage failure Task &amp; com.datastax.spark.connector.rdd.partitioner.CassandraPartition","body":"<p>In my project i am using spark-Cassandra-connector to read the from Cassandra table and process it further into JavaRDD but i am facing issue while processing Cassandra row to javaRDD.</p>\n\n<pre><code>org.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 0.0 failed 4 times, most recent failure: Lost task 2.3 in stage 0.0 (TID 52, 172.20.0.4, executor 1):\n java.lang.ClassNotFoundException: com.datastax.spark.connector.rdd.partitioner.CassandraPartition\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.spark.serializer.JavaDeserializationStream$$anon$1.resolveClass(JavaSerializer.scala:67)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:114)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:370)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>I have configured my spark to user a spark cluster. When i am using master as local the code works fine but as soon as i replace it with the master i am facing issue.\nHere is my spark configuration:</p>\n\n<pre><code>\nSparkConf sparkConf = new SparkConf().setAppName(\"Data Transformation\")\n                .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\").setMaster(\"spark://masterip:7077\");\n\n        sparkConf.set(\"spark.cassandra.connection.host\", cassandraContactPoints);\n        sparkConf.set(\"spark.cassandra.connection.port\", cassandraPort);\n        sparkConf.set(\"spark.cassandra.connection.timeout_ms\", \"5000\");\n        sparkConf.set(\"spark.cassandra.read.timeout_ms\", \"200000\");\n        sparkConf.set(\"spark.driver.allowMultipleContexts\", \"true\");\n\n        /*\n         * sparkConf.set(\"spark.cassandra.auth.username\", \"centralrw\");\n         * sparkConf.set(\"spark.cassandra.auth.password\", \"t8b9HRWy\");\n         */\n        logger.info(\"creating spark context object\");\n        sparkContext = new JavaSparkContext(sparkConf);\n        logger.info(\"returning sparkcontext object\");\n        return sparkContext;\n</code></pre>\n\n<p>Spark version - 2.4.0\nspark-Cassandra_connector - 2.4.0</p>\n\n<p>ReceiverConfig:</p>\n\n<pre><code>public List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; readDataFromGenericTriggerEntityUsingSpark(\n            JavaSparkContext sparkContext) {\n\n        List&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; genericTriggerEntityList = new ArrayList&lt;Map&lt;String, GenericTriggerEntity&gt;&gt;();\n\n        try {\n\n            logger.info(\"Keyspace &amp; table name to read data from cassandra\");\n            String tableName = \"generictriggerentity\";\n            String keySpace = \"centraldatalake\";\n\n            logger.info(\"establishing conection\");\n            CassandraJavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sparkContext)\n                    .cassandraTable(keySpace, tableName);\n            int num = cassandraRDD.getNumPartitions();\n            System.out.println(\"num- \" + num);\n\n            logger.info(\"Converting extracted rows to JavaRDD\");\n            JavaRDD&lt;Map&lt;String, GenericTriggerEntity&gt;&gt; rdd = cassandraRDD\n                    .map(new Function&lt;CassandraRow, Map&lt;String, GenericTriggerEntity&gt;&gt;() {\n\n                        private static final long serialVersionUID = -165799649937652815L;\n\n                        @Override\n                        public Map&lt;String, GenericTriggerEntity&gt; call(CassandraRow row) throws Exception {\n                            Map&lt;String, GenericTriggerEntity&gt; genericTriggerEntityMap = new HashMap&lt;String, GenericTriggerEntity&gt;();\n                            GenericTriggerEntity genericTriggerEntity = new GenericTriggerEntity();\n                            if (row.getString(\"end\") != null)\n                                genericTriggerEntity.setEnd(row.getString(\"end\"));\n                            if (row.getString(\"key\") != null)\n                                genericTriggerEntity.setKey(row.getString(\"key\"));\n                            if (row.getString(\"keyspacename\") != null)\n                                genericTriggerEntity.setKeyspacename(row.getString(\"keyspacename\"));\n                            if (row.getString(\"partitiondeleted\") != null)\n                                genericTriggerEntity.setPartitiondeleted(row.getString(\"partitiondeleted\"));\n                            if (row.getString(\"rowdeleted\") != null)\n                                genericTriggerEntity.setRowdeleted(row.getString(\"rowdeleted\"));\n                            if (row.getString(\"rows\") != null)\n                                genericTriggerEntity.setRows(row.getString(\"rows\"));\n                            if (row.getString(\"start\") != null)\n                                genericTriggerEntity.setStart(row.getString(\"start\"));\n                            if (row.getString(\"tablename\") != null) {\n                                genericTriggerEntity.setTablename(row.getString(\"tablename\"));\n                                dataTableName = row.getString(\"tablename\");\n                            }\n                            if (row.getString(\"triggerdate\") != null)\n                                genericTriggerEntity.setTriggerdate(row.getString(\"triggerdate\"));\n                            if (row.getString(\"triggertime\") != null)\n                                genericTriggerEntity.setTriggertime(row.getString(\"triggertime\"));\n                            if (row.getString(\"uuid\") != null)\n                                genericTriggerEntity.setUuid(row.getUUID(\"uuid\"));\n\n                            genericTriggerEntityMap.put(dataTableName, genericTriggerEntity);\n                            return genericTriggerEntityMap;\n                        }\n\n                    });\n\n            List&lt;Partition&gt; partition = rdd.partitions();\n            System.out.println(\"partion - \" + partition.size());\n\n            logger.info(\"Collecting data into rdd\");\n            genericTriggerEntityList = rdd.collect();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        logger.info(\"returning generic trigger entity list\");\n        return genericTriggerEntityList;\n    }\n</code></pre>\n\n<p>when i am doing rdd.collect() it gives exception</p>\n\n<pre><code>org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 21, 10.22.3.55, executor 0): java.lang.ClassNotFoundException: in.dmart.central.data.transform.base.config.ReceiverConfig$1\n</code></pre>\n\n<p>I found a solution of creating a fat jar and including it in my code but i do not want to do that as every time ill make any changes ill have to do the process again and that is not possible.</p>\n\n<p>Please suggest some solution to configure in the code or spark cluster.\nThanks in advance.</p>\n"},{"tags":["java","spring","maven","jboss","nexus"],"comments":[{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1535758241,"post_id":52123521,"comment_id":91198498,"body_markdown":"Please add your pom.xml to the question","body":"Please add your pom.xml to the question"},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1535759613,"post_id":52123521,"comment_id":91198713,"body_markdown":"Added pom.xml. Thanks for the heads up Ivan.","body":"Added pom.xml. Thanks for the heads up Ivan."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1535759922,"post_id":52123521,"comment_id":91198770,"body_markdown":"Error messages say that some dependencies do not have versions set up in pom.xml. Have you tried to provide versions for those dependencies?","body":"Error messages say that some dependencies do not have versions set up in pom.xml. Have you tried to provide versions for those dependencies?"},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":0,"creation_date":1535813993,"post_id":52123521,"comment_id":91208989,"body_markdown":"Please check if you or your colleagues have a `.m2/settings.xml` file, and if so that they are the same.","body":"Please check if you or your colleagues have a <code>.m2&#47;settings.xml</code> file, and if so that they are the same."}],"answers":[{"tags":[],"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535760674,"creation_date":1535760674,"answer_id":52123873,"question_id":52123521,"body_markdown":"You don&#39;t have this entry under your `dependencyManagement` likewise do it for all your dependencies. Version should be added either on `dependencyManagement` or directly under `dependencies`\r\n \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;whatever-version-you-need&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>You don't have this entry under your <code>dependencyManagement</code> likewise do it for all your dependencies. Version should be added either on <code>dependencyManagement</code> or directly under <code>dependencies</code></p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;whatever-version-you-need&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535761506,"creation_date":1535761506,"answer_id":52123922,"question_id":52123521,"body_markdown":"If old devs can build, and you cannot, that means that old devs have some artifacts in their local Maven cache/repository, and you don&#39;t. You probably need `-Pcompanydev` to look in the local repository manager.","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>If old devs can build, and you cannot, that means that old devs have some artifacts in their local Maven cache/repository, and you don't. You probably need <code>-Pcompanydev</code> to look in the local repository manager.</p>\n"},{"tags":[],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535964928,"creation_date":1535964928,"answer_id":52146331,"question_id":52123521,"body_markdown":"Thanks all, this got resolved by connecting to my home wifi (without company firewall, proxy etc), so I was able to progress further with downloading dependencies, but then I ran into another issue which I will raise a new question for. Thanks.","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>Thanks all, this got resolved by connecting to my home wifi (without company firewall, proxy etc), so I was able to progress further with downloading dependencies, but then I ran into another issue which I will raise a new question for. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654609413,"creation_date":1536339964,"answer_id":52226891,"question_id":52123521,"body_markdown":"\r\nThanks all for your contribution and time.\r\n\r\nProblem was fixed by the support team white listing my machine and using corporate wifi.\r\nSimilar issue could arise from corporate proxy blocking downloading dependencies from certain sites. You can update the proxy settings in your maven settings.xml.  ","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>Thanks all for your contribution and time.</p>\n<p>Problem was fixed by the support team white listing my machine and using corporate wifi.\nSimilar issue could arise from corporate proxy blocking downloading dependencies from certain sites. You can update the proxy settings in your maven settings.xml.</p>\n"}],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693494200,"creation_date":1535757048,"question_id":52123521,"body_markdown":"I am having problem doing a build on a new project.\r\nThe build works for the old devs on the project, but after cloning the projects and using the same version of maven. Its not working for me.\r\n\r\nInitially, I was doing a mvn clean install\r\n\r\nBut, after some research I found out the same build error occured with a simple mvn clean.\r\n\r\nThe error is as follows:\r\n\r\n    C:\\workspace\\some-web-app&gt;mvn clean\r\n    [INFO] Scanning for projects...\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\r\n    Downloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\r\n    Downloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-ejb-plugin is missing. @ line 292, column 22\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:jboss-eap-javaee7-with-tools:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/p\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/public/)\r\n    [ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-7.0:pom:1.1.0.Final-redhat-1 from/to nexus-public (https://company-net:8080/nexus/content/groups/\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.enterprise:cdi-api:jar is missing. @ line 136, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-core:jar is missing. @ line 142, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-validator:jar is missing. @ line 148, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.hibernate:hibernate-ehcache:jar is missing. @ line 160, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.servlet:jboss-servlet-api_3.1_spec:jar is missing. @ line 165, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.2_spec:jar is missing. @ line 171, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.ejb:jboss-ejb-api_3.2_spec:jar is missing. @ line 177, column 21\r\n\r\n\r\nThe settings.xml is under C:\\Users\\[User-ID]\\.m2 as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n        &lt;pluginGroups /&gt;\r\n        &lt;proxies /&gt;\r\n        &lt;servers&gt;\r\n    \r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-public&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n              &lt;id&gt;nexus-releases&lt;/id&gt;\r\n              &lt;username&gt;user1&lt;/username&gt;\r\n              &lt;password&gt;pass1&lt;/password&gt;\r\n            &lt;/server&gt;\r\n    \r\n        &lt;/servers&gt;\r\n    \r\n        &lt;mirrors /&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;companydev&lt;/id&gt;\r\n    \r\n                &lt;properties&gt;\r\n                    &lt;unit-test-ldap-server-host&gt;mis-dev&lt;/unit-test-ldap-server-host&gt;\r\n                    &lt;unit-test-database-url&gt;jdbc:mysql://mis-dev:1234/unit_test&lt;/unit-test-database-url&gt;\r\n                &lt;/properties&gt;\r\n    \r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-public&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/groups/public/&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/repositories/snapshots&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;nexus-releases&lt;/id&gt;\r\n                        &lt;url&gt;https://company-net:8080/nexus/content/repositories/releases&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;activeProfiles&gt;\r\n            &lt;activeProfile&gt;companydev&lt;/activeProfile&gt;\r\n        &lt;/activeProfiles&gt;\r\n    \r\n    &lt;/settings&gt;\r\n\r\n\r\nThe POM for the module to be build is:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ams-parent&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;name&gt;ags&lt;/name&gt;\r\n        &lt;description&gt;desc  .........&lt;/description&gt;\r\n        &lt;organization&gt;\r\n            &lt;name&gt;Org Name&lt;/name&gt;\r\n        &lt;/organization&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;deployment&lt;/id&gt;\r\n                &lt;name&gt;Internal Releases&lt;/name&gt;\r\n                &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;deployment&lt;/id&gt;\r\n                &lt;name&gt;Internal Releases&lt;/name&gt;\r\n                &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;properties&gt;\r\n        \r\n            &lt;!-- Explicitly declaring the source encoding eliminates the following\r\n                message: [WARNING] Using platform encoding (UTF-8 actually) to copy\r\n                filtered resources, i.e. build is platform dependent! --&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n            &lt;commons-lang.version&gt;2.4&lt;/commons-lang.version&gt;\r\n    \r\n            &lt;deltaspike.version&gt;1.8.0&lt;/deltaspike.version&gt;\r\n    \r\n            &lt;jboss-spec-javaee-7.0.version&gt;1.1.0.Final-redhat-1&lt;/jboss-spec-javaee-7.0.version&gt;\r\n            &lt;primefaces.version&gt;6.1&lt;/primefaces.version&gt;\r\n            &lt;server-bom.version&gt;7.1.0.GA&lt;/server-bom.version&gt;\r\n    \r\n            &lt;!-- EAP7 version, according to https://stackoverflow.com/questions/38688392/slf4j-logging-with-jboss-wildfly-10 --&gt;\r\n            &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\r\n            &lt;wildfly-maven-plugin.version&gt;1.2.0.Alpha4&lt;/wildfly-maven-plugin.version&gt;\r\n    \r\n            &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\r\n    \r\n            &lt;swagger-core-v3.version&gt;2.0.2&lt;/swagger-core-v3.version&gt;\r\n            &lt;swagger-model-v3.version&gt;2.0.2&lt;/swagger-model-v3.version&gt;\r\n            &lt;swagger-codegen-maven-plugin.version&gt;2.3.1&lt;/swagger-codegen-maven-plugin.version&gt;\r\n            &lt;swagger-core.version&gt;1.5.16&lt;/swagger-core.version&gt;\r\n    \r\n            &lt;cxf-rt-frontend-jaxrs.version&gt;3.1.12&lt;/cxf-rt-frontend-jaxrs.version&gt;\r\n            &lt;cxf-version&gt;3.1.11&lt;/cxf-version&gt;\r\n    \r\n            &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n            &lt;mysql-connector.version&gt;5.1.45&lt;/mysql-connector.version&gt;\r\n    \r\n            &lt;jackson-version&gt;1.9.2&lt;/jackson-version&gt;\r\n            &lt;jax-rs-version&gt;1.1.1&lt;/jax-rs-version&gt;\r\n            &lt;json4s-jackson-version&gt;3.2.4&lt;/json4s-jackson-version&gt;\r\n            &lt;json4s-core-version&gt;3.0.0&lt;/json4s-core-version&gt;\r\n            &lt;fasterxml-json-version&gt;2.8.9&lt;/fasterxml-json-version&gt;\r\n            &lt;scala-lang-version&gt;2.9.1-1&lt;/scala-lang-version&gt;\r\n            &lt;reflections-version&gt;0.9.9-RC1&lt;/reflections-version&gt;\r\n            &lt;javassist-version&gt;3.16.1-GA&lt;/javassist-version&gt;\r\n            &lt;paranamer-version&gt;2.5.2&lt;/paranamer-version&gt;\r\n            &lt;scannotation-version&gt;1.0.3&lt;/scannotation-version&gt;\r\n            &lt;swagger-version&gt;1.5.1-M2&lt;/swagger-version&gt;\r\n            &lt;resteasy-jaxrs-version&gt;3.0.24.Final&lt;/resteasy-jaxrs-version&gt;\r\n            &lt;javax-servlet-version&gt;3.1.0&lt;/javax-servlet-version&gt;\r\n            &lt;mockito.version&gt;1.10.19&lt;/mockito.version&gt;\r\n            &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\r\n    \r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- JBoss distributes a complete set of Java EE APIs including a Bill\r\n                    of Materials (BOM). A BOM specifies the versions of a &quot;stack&quot; (or a collection)\r\n                    of artifacts. We use this here so that we always get the correct versions\r\n                    of artifacts. Here we use the jboss-eap-javaee7-with-tools stack (you can\r\n                    read this as the JBoss stack of the Java EE APIs, with some extras tools\r\n                    for your project, such as Arquillian for testing) --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-eap-javaee7-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${server-bom.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;eap-runtime-artifacts&lt;/artifactId&gt;\r\n                    &lt;version&gt;${server-bom.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- Define the version of the JBoss Java EE APIs we want to use --&gt;\r\n                &lt;!-- JBoss distributes a complete set of Java EE APIs including\r\n                   a Bill of Materials (BOM). A BOM specifies the versions of a &quot;stack&quot; (or\r\n                   a collection) of artifacts. We use this here so that we always get the correct\r\n                   versions of artifacts. Here we use the jboss-javaee-7.0 stack (you can\r\n                   read this as the JBoss stack of the Java EE APIs). You can actually\r\n                   use this stack with any version of JBoss EAP that implements Java EE. --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jboss-spec-javaee-7.0.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.2.0.Final&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;!-- we exclude this because it&#39;s locally resolved at runtime, yet the dependency plugin attempts to download it --&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;sun.jdk&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jconsole&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-servlet-api_3.1_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;${primefaces.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-lang.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- test --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${mysql-connector.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;nl.geodienstencentrum.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sass-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- Cannot use a later version! it uses classes that are incompatible\r\n                         with the maven deploy plugin, and this can&#39;t be easily resolved\r\n                         e.g. see https://stackoverflow.com/questions/43630262/how-to-exclude-a-direct-dependency-of-a-maven-plugin --&gt;\r\n                    &lt;version&gt;2.25&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;!--\r\n                    &lt;configuration&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;property&gt;\r\n                                &lt;name&gt;unit-test-ldap-server-host&lt;/name&gt;\r\n                                &lt;value&gt;${unit-test-ldap-server-host}&lt;/value&gt;\r\n                            &lt;/property&gt;\r\n                            &lt;property&gt;\r\n                                &lt;name&gt;unit-test-database-url&lt;/name&gt;\r\n                                &lt;value&gt;${unit-test-database-url}&lt;/value&gt;\r\n                            &lt;/property&gt;\r\n                        &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                    --&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;ejbVersion&gt;3.1&lt;/ejbVersion&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin--&gt;\r\n                \r\n               &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n            \r\n    \r\n                 &lt;!--\r\n    \r\n    \t\t\tTo be able to share a single suppression files, regardless of how\r\n    \t\t\tmaven is ran, we can&#39;t have this plugin running in the parent pom\r\n    \t\t\t(it has a circular dependency on the build-tools module).\r\n    \r\n    \t\t\tTherefore, each module that should have dependencies checked\r\n    \t\t\tshould include this plugin\r\n    \t\t\t\r\n    \t\t\t!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    \t\t\tHas been disabled temporarily as the suppression of vulnerabilities CVE-2017-7656, CVE-2017-7658, CVE-2017-7657 and\r\n    \t\t\tCVE-2017-9735 do not work resulting in a Jenkins build failure.\r\n    \t\t\t\r\n    \t\t\tDevelopers should uncomment this section, change the phase to compile below and run a standard mvn clean install whenever new\r\n    \t\t\tdependencies have been added in a pom to ensure that no further vulnerabilities are added or at least new suppressions are \r\n    \t\t\tadded.\r\n    \t\t\t!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    \t\t\t\r\n    \t\t\t--&gt;\r\n                &lt;!--plugin&gt;\r\n                    &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;deploy&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                              \r\n                                &lt;cveValidForHours&gt;96&lt;/cveValidForHours&gt;\r\n                                &lt;failBuildOnCVSS&gt;7&lt;/failBuildOnCVSS&gt;\r\n                                &lt;suppressionFile&gt;build-tools/dep-check-supression.xml&lt;/suppressionFile&gt;\r\n                                &lt;assemblyAnalyzerEnabled&gt;false&lt;/assemblyAnalyzerEnabled&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ags-build-tools&lt;/artifactId&gt;\r\n                            &lt;version&gt;${project.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin--&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;ags-build-tools&lt;/module&gt;\r\n            &lt;module&gt;ags-core&lt;/module&gt;\r\n            &lt;module&gt;ags-core-api&lt;/module&gt;\r\n            &lt;module&gt;ags-jpa&lt;/module&gt;\r\n            &lt;module&gt;ags-integration-authorise-api&lt;/module&gt;\r\n            &lt;module&gt;ags-integration-authorise-api-impl&lt;/module&gt;\r\n    \t\t&lt;module&gt;ags-integration-jboss&lt;/module&gt;\r\n            &lt;module&gt;ags-database&lt;/module&gt;\r\n            &lt;module&gt;ags-web&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n I&#39;v added the latest version for the dependencies in the POM to hack d 7 errors related to &quot;&#39;dependencies.dependency.version&#39; &quot;. But, my colleagues did not have to add the version to theirs&#39;. So, my hack is not acceptable! The dependency have a scope of &#39;provided&#39; and should be provided by the container. After research, I learned the dependencies should be downloaded into my .m2 (local repo) for local build, but they should not be packaged into the final artefact during buld. \r\n\r\n\r\nAlso, the second issue which is still unresolved is the &quot;Non-resolvable import POM: Could not transfer artifact&quot;. I am thinking its a proxy issue, but my colleagues reckon using my mobile hot spot should work. Any ideas will be appreciated. Thanks.\r\n\r\nAny ideas what could possibly be the problem?\r\n\r\n\r\n\r\n","title":"Maven Clean Issue - Non-resolvable import POM - Could not transfer artifact from NEXUS","body":"<p>I am having problem doing a build on a new project.\nThe build works for the old devs on the project, but after cloning the projects and using the same version of maven. Its not working for me.</p>\n\n<p>Initially, I was doing a mvn clean install</p>\n\n<p>But, after some research I found out the same build error occured with a simple mvn clean.</p>\n\n<p>The error is as follows:</p>\n\n<pre><code>C:\\workspace\\some-web-app&gt;mvn clean\n[INFO] Scanning for projects...\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/jboss-eap-javaee7-with-tools/7.1.0.GA/jboss-eap-javaee7-with-tools-7.1.0.GA.pom\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/bom/eap-runtime-artifacts/7.1.0.GA/eap-runtime-artifacts-7.1.0.GA.pom\nDownloading from nexus-public: https://company-net:8080/nexus/content/groups/public/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\nDownloading from nexus-releases: https://company-net:8080/nexus/content/repositories/releases/org/jboss/spec/jboss-javaee-7.0/1.1.0.Final-redhat-1/jboss-javaee-7.0-1.1.0.Final-redhat-1.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-ejb-plugin is missing. @ line 292, column 22\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:jboss-eap-javaee7-with-tools:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/p\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.bom:eap-runtime-artifacts:pom:7.1.0.GA from/to nexus-public (https://company-net:8080/nexus/content/groups/public/)\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-7.0:pom:1.1.0.Final-redhat-1 from/to nexus-public (https://company-net:8080/nexus/content/groups/\n[ERROR] 'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ line 136, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-core:jar is missing. @ line 142, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-validator:jar is missing. @ line 148, column 21\n[ERROR] 'dependencies.dependency.version' for org.hibernate:hibernate-ehcache:jar is missing. @ line 160, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.servlet:jboss-servlet-api_3.1_spec:jar is missing. @ line 165, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.faces:jboss-jsf-api_2.2_spec:jar is missing. @ line 171, column 21\n[ERROR] 'dependencies.dependency.version' for org.jboss.spec.javax.ejb:jboss-ejb-api_3.2_spec:jar is missing. @ line 177, column 21\n</code></pre>\n\n<p>The settings.xml is under C:\\Users[User-ID].m2 as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n    &lt;pluginGroups /&gt;\n    &lt;proxies /&gt;\n    &lt;servers&gt;\n\n        &lt;server&gt;\n          &lt;id&gt;nexus-public&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n          &lt;id&gt;nexus-snapshots&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n          &lt;id&gt;nexus-releases&lt;/id&gt;\n          &lt;username&gt;user1&lt;/username&gt;\n          &lt;password&gt;pass1&lt;/password&gt;\n        &lt;/server&gt;\n\n    &lt;/servers&gt;\n\n    &lt;mirrors /&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;companydev&lt;/id&gt;\n\n            &lt;properties&gt;\n                &lt;unit-test-ldap-server-host&gt;mis-dev&lt;/unit-test-ldap-server-host&gt;\n                &lt;unit-test-database-url&gt;jdbc:mysql://mis-dev:1234/unit_test&lt;/unit-test-database-url&gt;\n            &lt;/properties&gt;\n\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-public&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/groups/public/&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-snapshots&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/repositories/snapshots&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;nexus-releases&lt;/id&gt;\n                    &lt;url&gt;https://company-net:8080/nexus/content/repositories/releases&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;companydev&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n\n<p>The POM for the module to be build is:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\n    &lt;artifactId&gt;ams-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;ags&lt;/name&gt;\n    &lt;description&gt;desc  .........&lt;/description&gt;\n    &lt;organization&gt;\n        &lt;name&gt;Org Name&lt;/name&gt;\n    &lt;/organization&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;deployment&lt;/id&gt;\n            &lt;name&gt;Internal Releases&lt;/name&gt;\n            &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;deployment&lt;/id&gt;\n            &lt;name&gt;Internal Releases&lt;/name&gt;\n            &lt;url&gt;http://1.2.3.4:8081/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;properties&gt;\n\n        &lt;!-- Explicitly declaring the source encoding eliminates the following\n            message: [WARNING] Using platform encoding (UTF-8 actually) to copy\n            filtered resources, i.e. build is platform dependent! --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;commons-lang.version&gt;2.4&lt;/commons-lang.version&gt;\n\n        &lt;deltaspike.version&gt;1.8.0&lt;/deltaspike.version&gt;\n\n        &lt;jboss-spec-javaee-7.0.version&gt;1.1.0.Final-redhat-1&lt;/jboss-spec-javaee-7.0.version&gt;\n        &lt;primefaces.version&gt;6.1&lt;/primefaces.version&gt;\n        &lt;server-bom.version&gt;7.1.0.GA&lt;/server-bom.version&gt;\n\n        &lt;!-- EAP7 version, according to https://stackoverflow.com/questions/38688392/slf4j-logging-with-jboss-wildfly-10 --&gt;\n        &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\n        &lt;wildfly-maven-plugin.version&gt;1.2.0.Alpha4&lt;/wildfly-maven-plugin.version&gt;\n\n        &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\n\n        &lt;swagger-core-v3.version&gt;2.0.2&lt;/swagger-core-v3.version&gt;\n        &lt;swagger-model-v3.version&gt;2.0.2&lt;/swagger-model-v3.version&gt;\n        &lt;swagger-codegen-maven-plugin.version&gt;2.3.1&lt;/swagger-codegen-maven-plugin.version&gt;\n        &lt;swagger-core.version&gt;1.5.16&lt;/swagger-core.version&gt;\n\n        &lt;cxf-rt-frontend-jaxrs.version&gt;3.1.12&lt;/cxf-rt-frontend-jaxrs.version&gt;\n        &lt;cxf-version&gt;3.1.11&lt;/cxf-version&gt;\n\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;mysql-connector.version&gt;5.1.45&lt;/mysql-connector.version&gt;\n\n        &lt;jackson-version&gt;1.9.2&lt;/jackson-version&gt;\n        &lt;jax-rs-version&gt;1.1.1&lt;/jax-rs-version&gt;\n        &lt;json4s-jackson-version&gt;3.2.4&lt;/json4s-jackson-version&gt;\n        &lt;json4s-core-version&gt;3.0.0&lt;/json4s-core-version&gt;\n        &lt;fasterxml-json-version&gt;2.8.9&lt;/fasterxml-json-version&gt;\n        &lt;scala-lang-version&gt;2.9.1-1&lt;/scala-lang-version&gt;\n        &lt;reflections-version&gt;0.9.9-RC1&lt;/reflections-version&gt;\n        &lt;javassist-version&gt;3.16.1-GA&lt;/javassist-version&gt;\n        &lt;paranamer-version&gt;2.5.2&lt;/paranamer-version&gt;\n        &lt;scannotation-version&gt;1.0.3&lt;/scannotation-version&gt;\n        &lt;swagger-version&gt;1.5.1-M2&lt;/swagger-version&gt;\n        &lt;resteasy-jaxrs-version&gt;3.0.24.Final&lt;/resteasy-jaxrs-version&gt;\n        &lt;javax-servlet-version&gt;3.1.0&lt;/javax-servlet-version&gt;\n        &lt;mockito.version&gt;1.10.19&lt;/mockito.version&gt;\n        &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- JBoss distributes a complete set of Java EE APIs including a Bill\n                of Materials (BOM). A BOM specifies the versions of a \"stack\" (or a collection)\n                of artifacts. We use this here so that we always get the correct versions\n                of artifacts. Here we use the jboss-eap-javaee7-with-tools stack (you can\n                read this as the JBoss stack of the Java EE APIs, with some extras tools\n                for your project, such as Arquillian for testing) --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-eap-javaee7-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${server-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;eap-runtime-artifacts&lt;/artifactId&gt;\n                &lt;version&gt;${server-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Define the version of the JBoss Java EE APIs we want to use --&gt;\n            &lt;!-- JBoss distributes a complete set of Java EE APIs including\n               a Bill of Materials (BOM). A BOM specifies the versions of a \"stack\" (or\n               a collection) of artifacts. We use this here so that we always get the correct\n               versions of artifacts. Here we use the jboss-javaee-7.0 stack (you can\n               read this as the JBoss stack of the Java EE APIs). You can actually\n               use this stack with any version of JBoss EAP that implements Java EE. --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\n                &lt;version&gt;${jboss-spec-javaee-7.0.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-as-cli&lt;/artifactId&gt;\n                &lt;version&gt;7.2.0.Final&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;!-- we exclude this because it's locally resolved at runtime, yet the dependency plugin attempts to download it --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;sun.jdk&lt;/groupId&gt;\n                        &lt;artifactId&gt;jconsole&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-servlet-api_3.1_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;${primefaces.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\n            &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n            &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;${mysql-connector.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;nl.geodienstencentrum.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sass-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Cannot use a later version! it uses classes that are incompatible\n                     with the maven deploy plugin, and this can't be easily resolved\n                     e.g. see https://stackoverflow.com/questions/43630262/how-to-exclude-a-direct-dependency-of-a-maven-plugin --&gt;\n                &lt;version&gt;2.25&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;!--\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;unit-test-ldap-server-host&lt;/name&gt;\n                            &lt;value&gt;${unit-test-ldap-server-host}&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;unit-test-database-url&lt;/name&gt;\n                            &lt;value&gt;${unit-test-database-url}&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n                --&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;ejbVersion&gt;3.1&lt;/ejbVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin--&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\n                    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n             &lt;!--\n\n            To be able to share a single suppression files, regardless of how\n            maven is ran, we can't have this plugin running in the parent pom\n            (it has a circular dependency on the build-tools module).\n\n            Therefore, each module that should have dependencies checked\n            should include this plugin\n\n            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            Has been disabled temporarily as the suppression of vulnerabilities CVE-2017-7656, CVE-2017-7658, CVE-2017-7657 and\n            CVE-2017-9735 do not work resulting in a Jenkins build failure.\n\n            Developers should uncomment this section, change the phase to compile below and run a standard mvn clean install whenever new\n            dependencies have been added in a pom to ensure that no further vulnerabilities are added or at least new suppressions are \n            added.\n            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n            --&gt;\n            &lt;!--plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;deploy&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n\n                            &lt;cveValidForHours&gt;96&lt;/cveValidForHours&gt;\n                            &lt;failBuildOnCVSS&gt;7&lt;/failBuildOnCVSS&gt;\n                            &lt;suppressionFile&gt;build-tools/dep-check-supression.xml&lt;/suppressionFile&gt;\n                            &lt;assemblyAnalyzerEnabled&gt;false&lt;/assemblyAnalyzerEnabled&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;sc.foc.fo.plc&lt;/groupId&gt;\n                        &lt;artifactId&gt;ags-build-tools&lt;/artifactId&gt;\n                        &lt;version&gt;${project.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;ags-build-tools&lt;/module&gt;\n        &lt;module&gt;ags-core&lt;/module&gt;\n        &lt;module&gt;ags-core-api&lt;/module&gt;\n        &lt;module&gt;ags-jpa&lt;/module&gt;\n        &lt;module&gt;ags-integration-authorise-api&lt;/module&gt;\n        &lt;module&gt;ags-integration-authorise-api-impl&lt;/module&gt;\n        &lt;module&gt;ags-integration-jboss&lt;/module&gt;\n        &lt;module&gt;ags-database&lt;/module&gt;\n        &lt;module&gt;ags-web&lt;/module&gt;\n    &lt;/modules&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I'v added the latest version for the dependencies in the POM to hack d 7 errors related to \"'dependencies.dependency.version' \". But, my colleagues did not have to add the version to theirs'. So, my hack is not acceptable! The dependency have a scope of 'provided' and should be provided by the container. After research, I learned the dependencies should be downloaded into my .m2 (local repo) for local build, but they should not be packaged into the final artefact during buld. </p>\n\n<p>Also, the second issue which is still unresolved is the \"Non-resolvable import POM: Could not transfer artifact\". I am thinking its a proxy issue, but my colleagues reckon using my mobile hot spot should work. Any ideas will be appreciated. Thanks.</p>\n\n<p>Any ideas what could possibly be the problem?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1668433176,"post_id":40979911,"comment_id":131396593,"body_markdown":"Which Point class in java is that ?","body":"Which Point class in java is that ?"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693494188,"creation_date":1481001566,"answer_id":40988332,"question_id":40979911,"body_markdown":"You can use the `com.vividsolutions.jts.geom.Point` class and then you don&#39;t need to specify the `@Type` explicitly.\r\n\r\nCheck out this example on the [Hibernate User Guide][1].\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-types-mapping-example","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>You can use the <code>com.vividsolutions.jts.geom.Point</code> class and then you don't need to specify the <code>@Type</code> explicitly.</p>\n<p>Check out this example on the <a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-types-mapping-example\" rel=\"nofollow noreferrer\">Hibernate User Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":8842598,"reputation":81,"user_id":6604584,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481003491,"creation_date":1481003491,"answer_id":40988665,"question_id":40979911,"body_markdown":"The actual solution is to remove `@Type` and use `@Column(name = &quot;location&quot;, nullable = false, columnDefinition = &quot;Point&quot;)`\r\n\r\nNote that this is for MySQL","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>The actual solution is to remove <code>@Type</code> and use <code>@Column(name = \"location\", nullable = false, columnDefinition = \"Point\")</code></p>\n\n<p>Note that this is for MySQL</p>\n"},{"tags":[],"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570082168,"creation_date":1570082168,"answer_id":58213056,"question_id":40979911,"body_markdown":"Adding the correct dialect to the application.properties fixed this error for me:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>Adding the correct dialect to the application.properties fixed this error for me:</p>\n\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\n</code></pre>\n"}],"owner":{"account_id":8842598,"reputation":81,"user_id":6604584,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3057,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1693494188,"creation_date":1480958767,"question_id":40979911,"body_markdown":"I&#39;m using the frameworks as stated in the topic.\r\n\r\nthis is my part of my jpa properties in application.yml for spring\r\n\r\n    jpa:\r\n      database: mysql\r\n      hibernate:\r\n        naming:\r\n          physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl \r\n      properties:\r\n        hibernate:\r\n          dialect: org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\r\n          globally_quoted_identifiers: true\r\n      show-sql: true\r\n\r\nI&#39;m not sure if this is the right way to trigger SpatialDialect for MySQL5.7\r\n\r\nMy entity&#39;s method for Point\r\n\r\n    @Type(type = &quot;com.iheartcity.apiapp.geometry.MySQLGeometryType&quot;)\r\n    @Column(name = &quot;location&quot;, nullable = false)\r\n    public Point getLocation() {\r\n        return this.location;\r\n    }\r\n    public void setLocation(Point location) {\r\n        this.location = location;\r\n    }\r\n\r\nI created a class MySQLGeometryType.java:\r\n\r\n    package com.iheartcity.apiapp.geometry;\r\n    \r\n    import org.hibernate.spatial.JTSGeometryType;\r\n    import org.hibernate.spatial.dialect.mysql.MySQLGeometryTypeDescriptor;\r\n    \r\n    public class MySQLGeometryType extends JTSGeometryType {\r\n    \r\n        public MySQLGeometryType() {\r\n            super(MySQLGeometryTypeDescriptor.INSTANCE);\r\n        }\r\n    }\r\n\r\nWith the @Type(type = &quot;com.iheartcity.apiapp.geometry.MySQLGeometryType&quot;)\r\n\r\nit works perfectly. However, when I commented it, I start to get error when running the code to retrieve the data.\r\n\r\nHere is the exception:\r\n\r\n    java.io.StreamCorruptedException: invalid stream header: 00000000\r\n    \tat java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\r\n\tat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:301) ~[na:1.8.0_111]\r\n\tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:139) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:114) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:28) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:258) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:254) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:244) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:327) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2775) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1741) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1667) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1458) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1426) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1398) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\r\n\tat org.hibernate.Query.getResultList(Query.java:417) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]","title":"Hibernate-Spatial, JPA, Spring, MySQL 5.7 (unable to retrieve Point)","body":"<p>I'm using the frameworks as stated in the topic.</p>\n\n<p>this is my part of my jpa properties in application.yml for spring</p>\n\n<pre><code>jpa:\n  database: mysql\n  hibernate:\n    naming:\n      physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl \n  properties:\n    hibernate:\n      dialect: org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\n      globally_quoted_identifiers: true\n  show-sql: true\n</code></pre>\n\n<p>I'm not sure if this is the right way to trigger SpatialDialect for MySQL5.7</p>\n\n<p>My entity's method for Point</p>\n\n<pre><code>@Type(type = \"com.iheartcity.apiapp.geometry.MySQLGeometryType\")\n@Column(name = \"location\", nullable = false)\npublic Point getLocation() {\n    return this.location;\n}\npublic void setLocation(Point location) {\n    this.location = location;\n}\n</code></pre>\n\n<p>I created a class MySQLGeometryType.java:</p>\n\n<pre><code>package com.iheartcity.apiapp.geometry;\n\nimport org.hibernate.spatial.JTSGeometryType;\nimport org.hibernate.spatial.dialect.mysql.MySQLGeometryTypeDescriptor;\n\npublic class MySQLGeometryType extends JTSGeometryType {\n\n    public MySQLGeometryType() {\n        super(MySQLGeometryTypeDescriptor.INSTANCE);\n    }\n}\n</code></pre>\n\n<p>With the @Type(type = \"com.iheartcity.apiapp.geometry.MySQLGeometryType\")</p>\n\n<p>it works perfectly. However, when I commented it, I start to get error when running the code to retrieve the data.</p>\n\n<p>Here is the exception:</p>\n\n<pre><code>java.io.StreamCorruptedException: invalid stream header: 00000000\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\nat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:301) ~[na:1.8.0_111]\nat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:139) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:114) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:28) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:258) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:254) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:244) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:327) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2775) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1741) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1667) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.getRow(Loader.java:1556) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.processResultSet(Loader.java:985) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doQuery(Loader.java:943) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2615) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2598) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2425) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1458) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1426) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1398) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]\nat org.hibernate.Query.getResultList(Query.java:417) ~[hibernate-core-5.2.2.Final.jar:5.2.2.Final]at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:808) ~[na:1.8.0_111]\n</code></pre>\n"},{"tags":["java","jmeter","dsl"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693128127,"creation_date":1693128127,"answer_id":76986417,"question_id":76983794,"body_markdown":"If you need to set the path of the 2nd HTTP Request sampler to the JMeter Variable which is generated by 1st HTTP Request sampler you need to use the following syntax:\r\n\r\n    httpSampler(&quot;${urlForSecondRequest}&quot;)\r\n\r\nIn case if &quot;the result is failed&quot;:\r\n\r\n - check [jmeter.log file][1] for any suspicious entries\r\n - instead of testPlan.run() call [testPlan.saveAsJmx() function][2], add [Debug Sampler and View Results Tree listener][3] and see what is the value of your `${urlForSecondRequest}` variable  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [2]: https://abstracta.github.io/jmeter-java-dsl/guide/#save-as-jmx\r\n  [3]: https://www.blazemeter.com/blog/debug-jmeter","title":"How to send requests on the dynamic url in the TestPlanStats stats = testPlan(threadGroup())?","body":"<p>If you need to set the path of the 2nd HTTP Request sampler to the JMeter Variable which is generated by 1st HTTP Request sampler you need to use the following syntax:</p>\n<pre><code>httpSampler(&quot;${urlForSecondRequest}&quot;)\n</code></pre>\n<p>In case if &quot;the result is failed&quot;:</p>\n<ul>\n<li>check <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a> for any suspicious entries</li>\n<li>instead of testPlan.run() call <a href=\"https://abstracta.github.io/jmeter-java-dsl/guide/#save-as-jmx\" rel=\"nofollow noreferrer\">testPlan.saveAsJmx() function</a>, add <a href=\"https://www.blazemeter.com/blog/debug-jmeter\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener</a> and see what is the value of your <code>${urlForSecondRequest}</code> variable</li>\n</ul>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76986417,"answer_count":1,"score":0,"last_activity_date":1693494088,"creation_date":1693065938,"question_id":76983794,"body_markdown":"I need to create a performance test on the full operation flow with the several APIs.\r\n\r\nhttpSampler(urlForFirstRequest) and its children (new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;) - work correctly and provide an URL for the second request. Provided URLs are different for each separate thread as it needed.\r\n\r\nThe problem is: how to create code for sending the second request (on the place &quot;httpSampler(urlForSecondRequest)&quot;) where each separate thread of the test will receive different URLs from the first request (parameter &quot;urlForSecondRequest&quot; is dynamic and the second request should be sent to this saved value)?\r\n\r\n```\r\nTestPlanStats stats = testPlan(\r\n\t\tthreadGroup(testParams.getThreads(), Duration.ofMinutes(testParams.getLoadTime()),\r\n\t\t\t\thttpSampler(urlForFirstRequest)\r\n\t\t\t\t\t\t.method(POST)\r\n\t\t\t\t\t\t.contentType(APPLICATION_JSON)\r\n\t\t\t\t\t\t.header(AUTHORIZATION, getAuthToken())\r\n\t\t\t\t\t\t.body(someBodyForFirstRequest)\r\n\t\t\t\t\t\t.children(\r\n\t\t\t\t\t\t\t\tnew DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;def urlForSecondRequest = jsonResponse.links[1].href;\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;vars.put(&#39;urlForSecondRequest&#39;, urlForSecondRequest);&quot;)\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\thttpSampler(urlForSecondRequest)\r\n\t\t\t\t\t\t.method(POST)\r\n\t\t\t\t\t\t.contentType(APPLICATION_JSON)\r\n\t\t\t\t\t\t.header(AUTHORIZATION, getAuthToken())\r\n\t\t\t\t\t\t.body(someBodyForSecondRequest)\r\n\t\t\t\t\t\t.children(\r\n\t\t\t\t\t\t\t\tnew DslJsr223PostProcessor(&quot;Save token parameter from the response of the second request&quot;,\r\n\t\t\t\t\t\t\t\t\t\t&quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;def token = jsonResponse.token;\\n&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;vars.put(&#39;response&#39;, token);&quot;)\r\n\t\t\t\t\t\t),\r\n\t\t\t\tnew DslJsr223Sampler(&quot;Print result&quot;,\r\n\t\t\t\t\t\t&quot;String result = vars.get(&#39;response&#39;)&quot; +\r\n\t\t\t\t\t\t\t\t&quot;if (result != null) {\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;    println(result);\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;} else {\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;    println(&#39;result not found&#39;);\\n&quot; +\r\n\t\t\t\t\t\t\t\t&quot;}&quot;)\r\n\t\t).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\r\n\t\tinfluxDbListener(envSetting.getInfluxDbUrl())\r\n\t\t\t\t.measurement(&quot;someMeasurement&quot;)\r\n).run();\r\n```\r\nThe code of print result needed to see if the code will works correctly. The parameter &quot;response&quot; will be different for each thread.\r\n\r\nI already tried to use httpSampler(&quot;${urlForSecondRequest}&quot;) but the result is failed. \r\n\r\nHow do I send requests on the dynamic URL which provided from the response of the first request?\r\n","title":"How to send requests on the dynamic url in the TestPlanStats stats = testPlan(threadGroup())?","body":"<p>I need to create a performance test on the full operation flow with the several APIs.</p>\n<p>httpSampler(urlForFirstRequest) and its children (new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;) - work correctly and provide an URL for the second request. Provided URLs are different for each separate thread as it needed.</p>\n<p>The problem is: how to create code for sending the second request (on the place &quot;httpSampler(urlForSecondRequest)&quot;) where each separate thread of the test will receive different URLs from the first request (parameter &quot;urlForSecondRequest&quot; is dynamic and the second request should be sent to this saved value)?</p>\n<pre><code>TestPlanStats stats = testPlan(\n        threadGroup(testParams.getThreads(), Duration.ofMinutes(testParams.getLoadTime()),\n                httpSampler(urlForFirstRequest)\n                        .method(POST)\n                        .contentType(APPLICATION_JSON)\n                        .header(AUTHORIZATION, getAuthToken())\n                        .body(someBodyForFirstRequest)\n                        .children(\n                                new DslJsr223PostProcessor(&quot;Save url parameter from the response of the first request&quot;,\n                                        &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\n                                                &quot;def urlForSecondRequest = jsonResponse.links[1].href;\\n&quot; +\n                                                &quot;vars.put('urlForSecondRequest', urlForSecondRequest);&quot;)\n                                ),\n                httpSampler(urlForSecondRequest)\n                        .method(POST)\n                        .contentType(APPLICATION_JSON)\n                        .header(AUTHORIZATION, getAuthToken())\n                        .body(someBodyForSecondRequest)\n                        .children(\n                                new DslJsr223PostProcessor(&quot;Save token parameter from the response of the second request&quot;,\n                                        &quot;def jsonResponse = new groovy.json.JsonSlurper().parseText(prev.getResponseDataAsString());\\n&quot; +\n                                                &quot;def token = jsonResponse.token;\\n&quot; +\n                                                &quot;vars.put('response', token);&quot;)\n                        ),\n                new DslJsr223Sampler(&quot;Print result&quot;,\n                        &quot;String result = vars.get('response')&quot; +\n                                &quot;if (result != null) {\\n&quot; +\n                                &quot;    println(result);\\n&quot; +\n                                &quot;} else {\\n&quot; +\n                                &quot;    println('result not found');\\n&quot; +\n                                &quot;}&quot;)\n        ).rampTo(testParams.getThreads(), Duration.ofMinutes(testParams.getRumpUpTime())),\n        influxDbListener(envSetting.getInfluxDbUrl())\n                .measurement(&quot;someMeasurement&quot;)\n).run();\n</code></pre>\n<p>The code of print result needed to see if the code will works correctly. The parameter &quot;response&quot; will be different for each thread.</p>\n<p>I already tried to use httpSampler(&quot;${urlForSecondRequest}&quot;) but the result is failed.</p>\n<p>How do I send requests on the dynamic URL which provided from the response of the first request?</p>\n"},{"tags":["java","kotlin","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693493201,"creation_date":1693470398,"answer_id":77014070,"question_id":77011798,"body_markdown":"As of jOOQ 3.18, there&#39;s a pending feature request to return generated IDs from batch `INSERT` statements, which some JDBC drivers (but only a few) support natively:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/3327\r\n\r\nI don&#39;t have high hopes of the same being possible for `UPDATE` statements. But why not just bulk update the entire data set? E.g.:\r\n\r\n```kotlin\r\nTable&lt;*&gt; s = sourceData.`as`(&quot;s&quot;);\r\n```\r\n\r\nYou can construct `sourceData` using [`DSL.values()`][1], jOOQ&#39;s support for the [`VALUES` constructor operator][2], for example:\r\n\r\n```kotlin\r\nTable&lt;*&gt; s = values(writeOffRequestsIds.map { id -&gt; \r\n    row(id, status)\r\n}).`as`(&quot;s&quot;, &quot;id&quot;, &quot;status&quot;)\r\n```\r\n\r\nAnd then:\r\n\r\n```kotlin\r\nctx.update(WRITE_OFF_REQUEST)\r\n   .set(WRITE_OFF_REQUEST.STATUS, s.field(WRITE_OFF_REQUEST.STATUS)))\r\n   .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\r\n   .from(s)\r\n   .where(WRITE_OFF_REQUEST.ID.eq(s.field(WRITE_OFF_REQUEST.ID)))\r\n   .returning()\r\n   .fetch();\r\n```\r\n\r\nThis will work only in some dialects that can support this natively, or emulate it in some way, e.g. (as of jOOQ 3.18) in:\r\n\r\n- CockroachDB\r\n- Db2\r\n- Firebird\r\n- H2\r\n- MariaDB\r\n- Oracle\r\n- PostgreSQL\r\n- SQL Server\r\n- YugabyteDB\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#values(org.jooq.Row1...)\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/","title":"Is there a way to return all updated rows in JOOQ batch update","body":"<p>As of jOOQ 3.18, there's a pending feature request to return generated IDs from batch <code>INSERT</code> statements, which some JDBC drivers (but only a few) support natively:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/3327\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/3327</a></li>\n</ul>\n<p>I don't have high hopes of the same being possible for <code>UPDATE</code> statements. But why not just bulk update the entire data set? E.g.:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Table&lt;*&gt; s = sourceData.`as`(&quot;s&quot;);\n</code></pre>\n<p>You can construct <code>sourceData</code> using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#values(org.jooq.Row1...)\" rel=\"nofollow noreferrer\"><code>DSL.values()</code></a>, jOOQ's support for the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/values/\" rel=\"nofollow noreferrer\"><code>VALUES</code> constructor operator</a>, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Table&lt;*&gt; s = values(writeOffRequestsIds.map { id -&gt; \n    row(id, status)\n}).`as`(&quot;s&quot;, &quot;id&quot;, &quot;status&quot;)\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ctx.update(WRITE_OFF_REQUEST)\n   .set(WRITE_OFF_REQUEST.STATUS, s.field(WRITE_OFF_REQUEST.STATUS)))\n   .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\n   .from(s)\n   .where(WRITE_OFF_REQUEST.ID.eq(s.field(WRITE_OFF_REQUEST.ID)))\n   .returning()\n   .fetch();\n</code></pre>\n<p>This will work only in some dialects that can support this natively, or emulate it in some way, e.g. (as of jOOQ 3.18) in:</p>\n<ul>\n<li>CockroachDB</li>\n<li>Db2</li>\n<li>Firebird</li>\n<li>H2</li>\n<li>MariaDB</li>\n<li>Oracle</li>\n<li>PostgreSQL</li>\n<li>SQL Server</li>\n<li>YugabyteDB</li>\n</ul>\n"}],"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693493201,"creation_date":1693433337,"question_id":77011798,"body_markdown":"i&#39;m trying to perform batch update query with returning of all affected rows. Maybe someone could help\r\n\r\n```\r\nfun updateStatuses(writeOffRequestsIds: Collection&lt;UUID&gt;, status: WriteOffRequestStatus): List&lt;WriteOffRequest&gt; {\r\n    val records = writeOffRequestsIds.map { id -&gt;\r\n        db.update(WRITE_OFF_REQUEST)\r\n            .set(WRITE_OFF_REQUEST.STATUS, status)\r\n            .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\r\n            .where(WRITE_OFF_REQUEST.ID.eq(id))\r\n            .returning()\r\n    }\r\n//doesnt compile here\r\n*return db.batchUpdate(*records.toTypedArray()).fetchInto(WriteOffRequest::class.java)\r\n*}\r\n```\r\n\r\nI&#39;ve tried several different approaches. created collection of UpdateableRecord etc. but it just doesnt work anyway","title":"Is there a way to return all updated rows in JOOQ batch update","body":"<p>i'm trying to perform batch update query with returning of all affected rows. Maybe someone could help</p>\n<pre><code>fun updateStatuses(writeOffRequestsIds: Collection&lt;UUID&gt;, status: WriteOffRequestStatus): List&lt;WriteOffRequest&gt; {\n    val records = writeOffRequestsIds.map { id -&gt;\n        db.update(WRITE_OFF_REQUEST)\n            .set(WRITE_OFF_REQUEST.STATUS, status)\n            .set(WRITE_OFF_REQUEST.UPDATED_AT, LocalDateTime.now())\n            .where(WRITE_OFF_REQUEST.ID.eq(id))\n            .returning()\n    }\n//doesnt compile here\n*return db.batchUpdate(*records.toTypedArray()).fetchInto(WriteOffRequest::class.java)\n*}\n</code></pre>\n<p>I've tried several different approaches. created collection of UpdateableRecord etc. but it just doesnt work anyway</p>\n"},{"tags":["java","spring-boot","thymeleaf","jfilechooser","multipartfile"],"comments":[{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1693496812,"post_id":77016833,"comment_id":135771922,"body_markdown":"Does this answer your question? [How to get full path of selected file on change of &lt;input type=file&gt; using javascript, jquery-ajax?](https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\">How to get full path of selected file on change of &lt;input type=file&gt; using javascript, jquery-ajax?</a>"},{"owner":{"account_id":17458032,"reputation":19,"user_id":12656364,"display_name":"krzysztofskul"},"score":0,"creation_date":1693516733,"post_id":77016833,"comment_id":135775573,"body_markdown":"Yes, I think so. Thanks!","body":"Yes, I think so. Thanks!"}],"owner":{"account_id":17458032,"reputation":19,"user_id":12656364,"display_name":"krzysztofskul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693492370,"creation_date":1693492370,"question_id":77016833,"body_markdown":"How to save the (String) path to the file or folder located on local HDD using Java/SpringBoot/Thymeleaf? Is it possible at all? I use MultiPartFile to upload selected file, but I can&#39;t access the original file path in the controller. I tried JFileChooser also, but it doesn&#39;t work when I deploy my app on AWS..","title":"Save the (String) path to the file located on local HDD","body":"<p>How to save the (String) path to the file or folder located on local HDD using Java/SpringBoot/Thymeleaf? Is it possible at all? I use MultiPartFile to upload selected file, but I can't access the original file path in the controller. I tried JFileChooser also, but it doesn't work when I deploy my app on AWS..</p>\n"},{"tags":["java","python","spring","jython"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1618382853,"post_id":67084901,"comment_id":118581337,"body_markdown":"Even though this is used in a spring batch app, it is not related to spring batch per se. Hence, I will remove the `spring-batch` tag.","body":"Even though this is used in a spring batch app, it is not related to spring batch per se. Hence, I will remove the <code>spring-batch</code> tag."},{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":1,"creation_date":1618464539,"post_id":67084901,"comment_id":118610001,"body_markdown":"It seems doubtful that this can work. yfinance has other dependencies that cannot be used in Jython, such as `pandas` and `numpy`. https://github.com/ranaroussi/yfinance/blob/main/requirements.txt","body":"It seems doubtful that this can work. yfinance has other dependencies that cannot be used in Jython, such as <code>pandas</code> and <code>numpy</code>. <a href=\"https://github.com/ranaroussi/yfinance/blob/main/requirements.txt\" rel=\"nofollow noreferrer\">github.com/ranaroussi/yfinance/blob/main/requirements.txt</a>"}],"answers":[{"tags":[],"owner":{"account_id":8124734,"reputation":93,"user_id":6120090,"display_name":"Daniel B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693492335,"creation_date":1693492335,"answer_id":77016826,"question_id":67084901,"body_markdown":"I may be a bit late but but here is a potential solution for this kind of problem.\r\nMy project setup and scope:\r\n- Netbeans IDE with Java Maven project which uses Jython 2.7.3 on Windows 11 with embedded JythonInterpreter, see [org.python.util.PythonInterpreter][1] for more information. At some point I make a call from Java to a Python script which contains user-defined modules.\r\n\r\nWhen Jython raised an error &quot;ImportError: No module named X&quot; inside the Netbeans console my python script looked as follows:\r\n\r\n    import sys\r\n    import random\r\n    from tester_vate import *\r\n    from crc16 import *\r\n    ...\r\n\r\nSo I added sys.path.append(&#39;Absolute_path_to_python_scripts&#39;):\r\n\r\n    import sys\r\n    sys.path.append(&#39;Absolute_path_to_python_scripts&#39;)\r\n    import random\r\n    from tester_vate import *\r\n    from crc16 import *\r\n\r\nThis one worked for me. It seems that you have to temporarily add a path to the sys module, so that the interpreter can find your modules.\r\n\r\n  [1]: https://www.javadoc.io/static/org.python/jython-standalone/2.7.1/org/python/util/PythonInterpreter.html","title":"Jython ImportError: No module named requests in &lt;script&gt; at line number","body":"<p>I may be a bit late but but here is a potential solution for this kind of problem.\nMy project setup and scope:</p>\n<ul>\n<li>Netbeans IDE with Java Maven project which uses Jython 2.7.3 on Windows 11 with embedded JythonInterpreter, see <a href=\"https://www.javadoc.io/static/org.python/jython-standalone/2.7.1/org/python/util/PythonInterpreter.html\" rel=\"nofollow noreferrer\">org.python.util.PythonInterpreter</a> for more information. At some point I make a call from Java to a Python script which contains user-defined modules.</li>\n</ul>\n<p>When Jython raised an error &quot;ImportError: No module named X&quot; inside the Netbeans console my python script looked as follows:</p>\n<pre><code>import sys\nimport random\nfrom tester_vate import *\nfrom crc16 import *\n...\n</code></pre>\n<p>So I added sys.path.append('Absolute_path_to_python_scripts'):</p>\n<pre><code>import sys\nsys.path.append('Absolute_path_to_python_scripts')\nimport random\nfrom tester_vate import *\nfrom crc16 import *\n</code></pre>\n<p>This one worked for me. It seems that you have to temporarily add a path to the sys module, so that the interpreter can find your modules.</p>\n"}],"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693492335,"creation_date":1618368995,"question_id":67084901,"body_markdown":"I&#39;m trying to run a python script in my Spring Batch app. An item processor is going to execute the aforementioned script. The problem is that my script needs to import a module and Jython is not finding the module. I tried putting the module directory in the classpath (src/main/resources) but this didn&#39;t work.\r\n\r\nThe script works if I run it with python, so we can discard something there.\r\n\r\nHere&#39;s the script:\r\n\r\n    import sys\r\n    print(sys.path)\r\n    import yfinance as yf\r\n    \r\n    print(&quot;Processing: {0}&quot;.format(item.symbol))\r\n    tickerData = yf.Ticker(item.symbol)\r\n    \r\n    dictBalanceSheet = tickerData.get_balance_sheet(as_dict=True)\r\n    keyList = dictBalanceSheet.keys()\r\n    keyList = list(keyList)\r\n    keyList.sort()\r\n    earliestDate = keyList[-1]\r\n    netIncome = tickerData.financials.at[&#39;Net Income&#39;, earliestDate]\r\n    balanceSheet = tickerData.balance_sheet\r\n    numShares = balanceSheet.at[&#39;Common Stock&#39;, earliestDate]\r\n    \r\n    eps = round(netIncome/numShares, 2) #TODO verificar cuentas si la compa&#241;ia entrega dividendos\r\n    item.eps = eps\r\n\r\nMaybe the sys.path output will give you more sight, so here&#39;s the output of the program:\r\n\r\n    [&#39;C:\\\\Users\\\\Edgar Hern\\xc3\\xa1ndez\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\Lib&#39;, &#39;C:\\\\Users\\\\EDGARH~1\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\jython-slim-2.7.2.jar\\\\Lib&#39;, &#39;__classpath__&#39;, &#39;__pyclasspath__/&#39;]\r\n    2021-04-13 22:36:23.841 ERROR 6136 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step evaluatingStep in job job\r\n    \r\n    org.springframework.scripting.ScriptCompilationException: Could not compile path [C:\\Users\\Edgar Hern&#237;ndez\\Documents\\Programacion\\GIT repos\\Stock_Analyzer\\stock-analyzer\\target\\hello-world.py]; nested exception is org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\r\n            at org.springframework.scripting.support.StandardScriptEvaluator.evaluate(StandardScriptEvaluator.java:157) ~[spring-context-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor.process(ScriptItemProcessor.java:64) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor$$FastClassBySpringCGLIB$$b97e2b15.invoke(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.item.support.ScriptItemProcessor$$EnhancerBySpringCGLIB$$ababb933.process(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n            at com.sun.proxy.$Proxy73.run(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar!/:2.4.2]\r\n            at com.stockanalyzer.stockanalyzer.StockAnalyzerApplication.main(StockAnalyzerApplication.java:156) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\r\n\r\nAnd here&#39;s the Item Processor @Bean . The script is in the target directory:\r\n\r\n    @Bean\r\n    \t@StepScope\r\n    \tpublic ScriptItemProcessor&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt; scriptItemProcessor(@Value(&quot;#{jobParameters[&#39;script&#39;]}&quot;) String script) { //TODO cambiar nombre del archivo py\r\n    \t\tSystem.out.println(&quot;script path: &quot; + script);\r\n    \t\treturn new ScriptItemProcessorBuilder&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt;().language(&quot;jython&quot;).scriptResource(new PathResource(script)).build(); //TODO cambiar ruta del archivo py\r\n    \t}","title":"Jython ImportError: No module named requests in &lt;script&gt; at line number","body":"<p>I'm trying to run a python script in my Spring Batch app. An item processor is going to execute the aforementioned script. The problem is that my script needs to import a module and Jython is not finding the module. I tried putting the module directory in the classpath (src/main/resources) but this didn't work.</p>\n<p>The script works if I run it with python, so we can discard something there.</p>\n<p>Here's the script:</p>\n<pre><code>import sys\nprint(sys.path)\nimport yfinance as yf\n\nprint(&quot;Processing: {0}&quot;.format(item.symbol))\ntickerData = yf.Ticker(item.symbol)\n\ndictBalanceSheet = tickerData.get_balance_sheet(as_dict=True)\nkeyList = dictBalanceSheet.keys()\nkeyList = list(keyList)\nkeyList.sort()\nearliestDate = keyList[-1]\nnetIncome = tickerData.financials.at['Net Income', earliestDate]\nbalanceSheet = tickerData.balance_sheet\nnumShares = balanceSheet.at['Common Stock', earliestDate]\n\neps = round(netIncome/numShares, 2) #TODO verificar cuentas si la compaia entrega dividendos\nitem.eps = eps\n</code></pre>\n<p>Maybe the sys.path output will give you more sight, so here's the output of the program:</p>\n<pre><code>['C:\\\\Users\\\\Edgar Hern\\xc3\\xa1ndez\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\Lib', 'C:\\\\Users\\\\EDGARH~1\\\\AppData\\\\Local\\\\Temp\\\\stock-analyzer-0.0.1-SNAPSHOT.jar-spring-boot-libs-8bd68510-6140-4bb8-8ec7-e30f2b9517c4\\\\jython-slim-2.7.2.jar\\\\Lib', '__classpath__', '__pyclasspath__/']\n2021-04-13 22:36:23.841 ERROR 6136 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step evaluatingStep in job job\n\norg.springframework.scripting.ScriptCompilationException: Could not compile path [C:\\Users\\Edgar Hernndez\\Documents\\Programacion\\GIT repos\\Stock_Analyzer\\stock-analyzer\\target\\hello-world.py]; nested exception is org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\n        at org.springframework.scripting.support.StandardScriptEvaluator.evaluate(StandardScriptEvaluator.java:157) ~[spring-context-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.item.support.ScriptItemProcessor.process(ScriptItemProcessor.java:64) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.ScriptItemProcessor$$FastClassBySpringCGLIB$$b97e2b15.invoke(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.item.support.ScriptItemProcessor$$EnhancerBySpringCGLIB$$ababb933.process(&lt;generated&gt;) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.1.jar!/:4.3.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\n        at com.sun.proxy.$Proxy73.run(Unknown Source) ~[na:na]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar!/:2.4.2]\n        at com.stockanalyzer.stockanalyzer.StockAnalyzerApplication.main(StockAnalyzerApplication.java:156) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[stock-analyzer-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.scripting.support.StandardScriptEvalException: ImportError: No module named requests in &lt;script&gt; at line number 4\n</code></pre>\n<p>And here's the Item Processor @Bean . The script is in the target directory:</p>\n<pre><code>@Bean\n    @StepScope\n    public ScriptItemProcessor&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt; scriptItemProcessor(@Value(&quot;#{jobParameters['script']}&quot;) String script) { //TODO cambiar nombre del archivo py\n        System.out.println(&quot;script path: &quot; + script);\n        return new ScriptItemProcessorBuilder&lt;CompanyScoreKeeper,CompanyScoreKeeper&gt;().language(&quot;jython&quot;).scriptResource(new PathResource(script)).build(); //TODO cambiar ruta del archivo py\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jsp"],"answers":[{"tags":[],"owner":{"account_id":3873084,"reputation":3007,"user_id":3207874,"accept_rate":100,"display_name":"user3207874"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574079191,"creation_date":1574079191,"answer_id":58914306,"question_id":58910487,"body_markdown":"# Solution:\r\n\r\nLooks like it was a bug in Tomcat. I was finally able to get it working using Jetty. Steps:\r\n\r\n1) Use Jetty instead of Tomcat. In build.gradle dependencies section, comment out `org.springframework.boot:spring-boot-starter-web` and `org.apache.tomcat.embed:tomcat-embed-jasper` lines and add:\r\n\r\n```\r\ncompile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n   exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\ncompile(&quot;org.springframework.boot:spring-boot-starter-jetty&quot;)\r\ncompile(&quot;org.eclipse.jetty:apache-jsp&quot;)\r\ncompile &quot;javax.servlet:jstl:1.2&quot;\r\n```\r\n\r\n2) Build the war file. Jar files didn&#39;t work for me, since Jetty didn&#39;t find the JSP files when I used jar. If you cant build war files, then make sure you have this in your `build.gradle`:\r\n\r\n```\r\nplugins {\r\n  id &#39;war&#39;\r\n}\r\n```\r\n\r\nIt needs to be right after the `buildscript` code block.\r\n\r\nBuild the war file using\r\n\r\n`gradle build war`\r\n\r\nIt will appear in your `build/libs/` directory.\r\n\r\n3) Run the application:\r\n\r\n`java -jar application.war`\r\n\r\n***\r\n\r\n# Extra stuff\r\n\r\nHere&#39;s my complete `build.gradle` file if it&#39;s useful to anyone. I&#39;m aware there are a few unnecessary lines there.\r\n\r\n```\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.2.RELEASE&quot;)\r\n    }\r\n}\r\n\r\nplugins {\r\n   id &#39;war&#39;\r\n}\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\nmainClassName = &#39;com.project.foo.bar.Application&#39;\r\n\r\n\r\nbootJar {\r\n    baseName = &#39;bar&#39;\r\n    version =  &#39;0.1.0&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n      exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n    }\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-jetty&quot;)    \r\n    //compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    //compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n\r\n    // persistence\r\n    compile(&quot;org.springframework:spring-orm:4.0.3.RELEASE&quot;)\r\n    compile(&quot;commons-dbcp:commons-dbcp:1.4&quot;)\r\n    compile(&quot;org.hibernate:hibernate-core:4.3.11.Final&quot;)\r\n    compile(&quot;org.hibernate:hibernate-entitymanager:4.3.11.Final&quot;)\r\n    runtime(&#39;mysql:mysql-connector-java&#39;)\r\n\r\n    // servlets\r\n    compile(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\r\n    compile(&quot;javax.servlet.jsp:javax.servlet.jsp-api:2.3.1&quot;)\r\n    // runtime(&quot;org.apache.tomcat.embed:tomcat-embed-jasper&quot;)\r\n    compile(&quot;org.eclipse.jetty:apache-jsp&quot;)\r\n    compile &quot;javax.servlet:jstl:1.2&quot;\r\n}\r\n\r\n\r\n```","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<h1>Solution:</h1>\n\n<p>Looks like it was a bug in Tomcat. I was finally able to get it working using Jetty. Steps:</p>\n\n<p>1) Use Jetty instead of Tomcat. In build.gradle dependencies section, comment out <code>org.springframework.boot:spring-boot-starter-web</code> and <code>org.apache.tomcat.embed:tomcat-embed-jasper</code> lines and add:</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-web\") {\n   exclude module: \"spring-boot-starter-tomcat\"\n}\ncompile(\"org.springframework.boot:spring-boot-starter-jetty\")\ncompile(\"org.eclipse.jetty:apache-jsp\")\ncompile \"javax.servlet:jstl:1.2\"\n</code></pre>\n\n<p>2) Build the war file. Jar files didn't work for me, since Jetty didn't find the JSP files when I used jar. If you cant build war files, then make sure you have this in your <code>build.gradle</code>:</p>\n\n<pre><code>plugins {\n  id 'war'\n}\n</code></pre>\n\n<p>It needs to be right after the <code>buildscript</code> code block.</p>\n\n<p>Build the war file using</p>\n\n<p><code>gradle build war</code></p>\n\n<p>It will appear in your <code>build/libs/</code> directory.</p>\n\n<p>3) Run the application:</p>\n\n<p><code>java -jar application.war</code></p>\n\n<hr>\n\n<h1>Extra stuff</h1>\n\n<p>Here's my complete <code>build.gradle</code> file if it's useful to anyone. I'm aware there are a few unnecessary lines there.</p>\n\n<pre><code>\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.2.RELEASE\")\n    }\n}\n\nplugins {\n   id 'war'\n}\napply plugin: 'java'\napply plugin: 'application'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\nmainClassName = 'com.project.foo.bar.Application'\n\n\nbootJar {\n    baseName = 'bar'\n    version =  '0.1.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\") {\n      exclude module: \"spring-boot-starter-tomcat\"\n    }\n    compile(\"org.springframework.boot:spring-boot-starter-jetty\")    \n    //compile(\"org.springframework.boot:spring-boot-starter-web\")\n    //compile(\"org.springframework.boot:spring-boot-starter-security\")\n\n    // persistence\n    compile(\"org.springframework:spring-orm:4.0.3.RELEASE\")\n    compile(\"commons-dbcp:commons-dbcp:1.4\")\n    compile(\"org.hibernate:hibernate-core:4.3.11.Final\")\n    compile(\"org.hibernate:hibernate-entitymanager:4.3.11.Final\")\n    runtime('mysql:mysql-connector-java')\n\n    // servlets\n    compile(\"javax.servlet:javax.servlet-api:4.0.1\")\n    compile(\"javax.servlet.jsp:javax.servlet.jsp-api:2.3.1\")\n    // runtime(\"org.apache.tomcat.embed:tomcat-embed-jasper\")\n    compile(\"org.eclipse.jetty:apache-jsp\")\n    compile \"javax.servlet:jstl:1.2\"\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170417,"reputation":898,"user_id":397103,"display_name":"CTarczon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693492024,"creation_date":1693492024,"answer_id":77016782,"question_id":58910487,"body_markdown":"I just encountered this issue as well. It would only happen after going through a certain codepath in one of our servlet filters but I don&#39;t know how that caused it.\r\n\r\nAfter some deep dive debugging, I found that the JSP compilation stage was doing...something. I don&#39;t know what but the CPU was maxed and the request was hung. This was happening in the tomcat-embed-jasper.jar so yes, Tomcat specific.\r\n\r\nSince it was only happening during compilation after the servlet filter I wondered if we could pre-compile them. Turns out yes!\r\n\r\nI added the `preCompileJspsAtStartup` bean from this answer and now everything works:\r\nhttps://stackoverflow.com/a/35651338/397103\r\n\r\n(Spring Boot 3, Tomcat 10.1.10, Java 17)","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<p>I just encountered this issue as well. It would only happen after going through a certain codepath in one of our servlet filters but I don't know how that caused it.</p>\n<p>After some deep dive debugging, I found that the JSP compilation stage was doing...something. I don't know what but the CPU was maxed and the request was hung. This was happening in the tomcat-embed-jasper.jar so yes, Tomcat specific.</p>\n<p>Since it was only happening during compilation after the servlet filter I wondered if we could pre-compile them. Turns out yes!</p>\n<p>I added the <code>preCompileJspsAtStartup</code> bean from this answer and now everything works:\n<a href=\"https://stackoverflow.com/a/35651338/397103\">https://stackoverflow.com/a/35651338/397103</a></p>\n<p>(Spring Boot 3, Tomcat 10.1.10, Java 17)</p>\n"}],"owner":{"account_id":3873084,"reputation":3007,"user_id":3207874,"accept_rate":100,"display_name":"user3207874"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58914306,"answer_count":2,"score":1,"last_activity_date":1693492024,"creation_date":1574065569,"question_id":58910487,"body_markdown":"The app previously worked on another machine, so the code should all be valid. I&#39;m having difficulties porting it to another machine. Namely, the problem is that when it&#39;s time to serve a JSP view, the app hangs indefinitely.\r\n\r\nThe controller looks like this:\r\n\r\n```\r\n@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n\tpublic String bookings(BookingFilterRequest bookingFilterRequest,\r\n\t\t\t\t\t\t   PeriodRequest periodRequest,\r\n\t\t\t\t\t\t   Model model,\r\n\t\t\t\t\t\t   BindingResult bindingResult) {\r\n\t\t// Fetch data from database, do things\r\n\t\treturn &quot;booking/bookings&quot;; // serve JSP view\r\n\t}\r\n```\r\n\r\nThe code runs fine up until the `return &quot;booking/bookings&quot;` line, which is where it hangs. The JSP view is in the correct folder, otherwise it would give a `not found` error.\r\n\r\nI tried installing the same java and gradle versions that the previous server had, with no change.\r\n\r\nVersion information (default installed versions on new server):\r\n```\r\nopenjdk 11.0.4 2019-07-16\r\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\r\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode)\r\nGradle 4.4.1\r\n```\r\n\r\nOld server had `java 10.0.2` and `gradle 5.0`.\r\n\r\nHow do I get it to run without hanging?\r\n\r\nUpdate:\r\n\r\nIf I wait about 10 minutes, then it magically starts working. But restarting the application makes it hang again, until you wait 10 minutes again.\r\n\r\nUpdate2:\r\n\r\nIf I put console print lines in the JSP file, then they are not printed out. Meaning, the JSP does not get executed.","title":"Spring Boot hangs indefinitely when serving JSP content","body":"<p>The app previously worked on another machine, so the code should all be valid. I'm having difficulties porting it to another machine. Namely, the problem is that when it's time to serve a JSP view, the app hangs indefinitely.</p>\n\n<p>The controller looks like this:</p>\n\n<pre><code>@RequestMapping(value = \"\", method = RequestMethod.GET)\n    public String bookings(BookingFilterRequest bookingFilterRequest,\n                           PeriodRequest periodRequest,\n                           Model model,\n                           BindingResult bindingResult) {\n        // Fetch data from database, do things\n        return \"booking/bookings\"; // serve JSP view\n    }\n</code></pre>\n\n<p>The code runs fine up until the <code>return \"booking/bookings\"</code> line, which is where it hangs. The JSP view is in the correct folder, otherwise it would give a <code>not found</code> error.</p>\n\n<p>I tried installing the same java and gradle versions that the previous server had, with no change.</p>\n\n<p>Version information (default installed versions on new server):</p>\n\n<pre><code>openjdk 11.0.4 2019-07-16\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode)\nGradle 4.4.1\n</code></pre>\n\n<p>Old server had <code>java 10.0.2</code> and <code>gradle 5.0</code>.</p>\n\n<p>How do I get it to run without hanging?</p>\n\n<p>Update:</p>\n\n<p>If I wait about 10 minutes, then it magically starts working. But restarting the application makes it hang again, until you wait 10 minutes again.</p>\n\n<p>Update2:</p>\n\n<p>If I put console print lines in the JSP file, then they are not printed out. Meaning, the JSP does not get executed.</p>\n"},{"tags":["java","spring","http","header","response"],"comments":[{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1536666146,"post_id":52274339,"comment_id":91497588,"body_markdown":"Please check out https://spring.io/guides/gs/rest-service-cors/","body":"Please check out <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service-cors</a>"}],"answers":[{"tags":[],"owner":{"account_id":10933337,"reputation":642,"user_id":8035798,"accept_rate":50,"display_name":"Seymur Asadov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536665675,"creation_date":1536665675,"answer_id":52274954,"question_id":52274339,"body_markdown":"Try this code:\r\n\r\n \r\n\r\n      @CrossOrigin(origins = &quot;*&quot;)\r\n       @RequestMapping(&quot;/some&quot;)\r\n       public Response some(@RequestParam(value=&quot;body&quot;)  String user) {\r\n          return new Response(user);\r\n       }\r\n\r\nor this\r\n   \r\n\r\n    @RequestMapping(&quot;/some&quot;)\r\n    public Response some(@RequestParam(value=&quot;body&quot;)  String user,HttpServletResponse \r\n    response) {\r\n       response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n       return new Response(user);\r\n    }\r\n     \r\n","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>Try this code:</p>\n\n<pre><code>  @CrossOrigin(origins = \"*\")\n   @RequestMapping(\"/some\")\n   public Response some(@RequestParam(value=\"body\")  String user) {\n      return new Response(user);\n   }\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>@RequestMapping(\"/some\")\npublic Response some(@RequestParam(value=\"body\")  String user,HttpServletResponse \nresponse) {\n   response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n   return new Response(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28037304,"reputation":1,"user_id":21415460,"display_name":"Danica Zdravkovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693491784,"creation_date":1693491784,"answer_id":77016753,"question_id":52274339,"body_markdown":"Adding @CrossOrigin(&quot;http://localhost:3000&quot;) at the top of my class or before method in REST controller works. Thanks a lot!\r\nExample:\r\n\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @CrossOrigin(&quot;http://localhost:3000&quot;)\r\n    public class UserController {\r\n    \r\n        private final UserService userService;\r\n    \r\n    \r\n        @PostMapping(&quot;/api/user/login&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        ResponseEntity&lt;Object&gt; customerLogin(@RequestBody UserDto userDto) {\r\n            try {\r\n                UserDto entity = userService.login(userDto);\r\n                return ResponseEntity.status(HttpStatus.OK).body(entity);\r\n    \r\n            } catch (RuntimeException e) {\r\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e.getMessage());\r\n            }\r\n        }\r\n\r\n","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>Adding @CrossOrigin(&quot;http://localhost:3000&quot;) at the top of my class or before method in REST controller works. Thanks a lot!\nExample:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@CrossOrigin(&quot;http://localhost:3000&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n\n    @PostMapping(&quot;/api/user/login&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    ResponseEntity&lt;Object&gt; customerLogin(@RequestBody UserDto userDto) {\n        try {\n            UserDto entity = userService.login(userDto);\n            return ResponseEntity.status(HttpStatus.OK).body(entity);\n\n        } catch (RuntimeException e) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52274954,"answer_count":2,"score":0,"last_activity_date":1693491784,"creation_date":1536663438,"question_id":52274339,"body_markdown":"I am using @RestController to provide a REST service. But I need to set Access-Control-Allow-Origin in the response header. How would I do this?\r\n\r\nMy RestController:\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class restController  {\r\n\r\n       @RequestMapping(&quot;/some&quot;)\r\n       public Response some(@RequestParam(value=&quot;body&quot;)  String user) {\r\n          return new Response(user);\r\n       }\r\n    }\r\n\r\nMy Response:\r\n\r\n    public class Response {\r\n\r\n      long id;\r\n      String user;\r\n\r\n      public Response(String user) {\r\n           this.id = 7;\r\n           this.user = user;\r\n      }\r\n    }\r\n    \r\n@RestController works very well but how can I modify it or the response to set Access-Control-Allow-Origin?","title":"How to set Access-Control-Allow-Origin when using @RestController?","body":"<p>I am using @RestController to provide a REST service. But I need to set Access-Control-Allow-Origin in the response header. How would I do this?</p>\n\n<p>My RestController:</p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class restController  {\n\n   @RequestMapping(\"/some\")\n   public Response some(@RequestParam(value=\"body\")  String user) {\n      return new Response(user);\n   }\n}\n</code></pre>\n\n<p>My Response:</p>\n\n<pre><code>public class Response {\n\n  long id;\n  String user;\n\n  public Response(String user) {\n       this.id = 7;\n       this.user = user;\n  }\n}\n</code></pre>\n\n<p>@RestController works very well but how can I modify it or the response to set Access-Control-Allow-Origin?</p>\n"},{"tags":["java","algorithm","sorting","hashmap"],"comments":[{"owner":{"account_id":1707439,"reputation":236086,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1447377130,"post_id":33682455,"comment_id":55141463,"body_markdown":"http://math.stackexchange.com/questions/302057/generating-a-random-derangement The paper referenced by the answer appears to be a solution","body":"<a href=\"http://math.stackexchange.com/questions/302057/generating-a-random-derangement\" title=\"generating a random derangement\">math.stackexchange.com/questions/302057/&hellip;</a> The paper referenced by the answer appears to be a solution"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447367548,"creation_date":1447366757,"answer_id":33682502,"question_id":33682455,"body_markdown":"Copy your list into a queue, shuffle it, then assign pairs from list and queue. If the element in the queue is the same, put it back at the tail and take the next one.\r\n\r\n    List&lt;String&gt; list = &lt;list with your items&gt;;\r\n    ArrayDeque&lt;String&gt; queue = new ArrayDeque&lt;&gt;(list1);\r\n    Collections.shuffle(queue);\r\n    List&lt;StringPair&gt; result = new ArrayList&lt;&gt;();\r\n    for (String s : list) {\r\n       for (String s2; (s2 = queue.poll()).equals(s);)\r\n         queue.offer(s2);\r\n       result.add(s, s2);\r\n    }\r\n\r\nThe above is a basic outline and probably needs some more work, but it seems like a good approach.","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>Copy your list into a queue, shuffle it, then assign pairs from list and queue. If the element in the queue is the same, put it back at the tail and take the next one.</p>\n\n<pre><code>List&lt;String&gt; list = &lt;list with your items&gt;;\nArrayDeque&lt;String&gt; queue = new ArrayDeque&lt;&gt;(list1);\nCollections.shuffle(queue);\nList&lt;StringPair&gt; result = new ArrayList&lt;&gt;();\nfor (String s : list) {\n   for (String s2; (s2 = queue.poll()).equals(s);)\n     queue.offer(s2);\n   result.add(s, s2);\n}\n</code></pre>\n\n<p>The above is a basic outline and probably needs some more work, but it seems like a good approach.</p>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447367888,"creation_date":1447366944,"answer_id":33682563,"question_id":33682455,"body_markdown":"What you are talking about is called a derangement. As far as I know it&#39;s quite difficult to generate derangements in such a way that they are all equally likely, but there is a reasonably effective way of generating them.\r\n\r\nSimply iterate over the keys and assign a value at random from the set of keys that haven&#39;t already been used, always avoiding the current key.\r\n\r\nYou can actually only get stuck at the very last step. E.g. something like this\r\n\r\n    1 - 2 \r\n    2 - 4 \r\n    3 - 1\r\n    4 - 3\r\n    5 - ???\r\n\r\nIf this happens, just choose one of the values already selected, and swap.\r\n\r\n    1 - 2\r\n    2 - 5 &lt;-- swap\r\n    3 - 1\r\n    4 - 3\r\n    5 - 4 &lt;-- swap\r\n\r\nAn implementation of `Set` with an efficient method for getting random elements is given [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/32548942/3973077","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>What you are talking about is called a derangement. As far as I know it's quite difficult to generate derangements in such a way that they are all equally likely, but there is a reasonably effective way of generating them.</p>\n\n<p>Simply iterate over the keys and assign a value at random from the set of keys that haven't already been used, always avoiding the current key.</p>\n\n<p>You can actually only get stuck at the very last step. E.g. something like this</p>\n\n<pre><code>1 - 2 \n2 - 4 \n3 - 1\n4 - 3\n5 - ???\n</code></pre>\n\n<p>If this happens, just choose one of the values already selected, and swap.</p>\n\n<pre><code>1 - 2\n2 - 5 &lt;-- swap\n3 - 1\n4 - 3\n5 - 4 &lt;-- swap\n</code></pre>\n\n<p>An implementation of <code>Set</code> with an efficient method for getting random elements is given <a href=\"https://stackoverflow.com/a/32548942/3973077\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":194138,"reputation":7712,"user_id":436287,"accept_rate":75,"display_name":"onlynone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693491777,"creation_date":1447367808,"answer_id":33682747,"question_id":33682455,"body_markdown":"The answer isn&#39;t in java, but since this is more of an algorithms question, I&#39;m sure you could figure out how to translate the python to java:\r\n\r\n```python\r\nimport random\r\n\r\n# The original collection, using a set instead of map/hash since we don&#39;t care\r\n# about the values\r\nset1 = set(range(100))\r\n\r\n# Make a copy of set1, we&#39;re using a list here so that random.choice will work\r\nset2 = list(set1)\r\n\r\npairs = []\r\n\r\nfor i in set1:\r\n\r\n  # Deal with the final item being the same in both collections,\r\n  # swap with the first one\r\n  if len(set2) == 1 and i == set2[0]:\r\n    tmp = pairs[0][1]\r\n    pairs[0][1] = set2[0]\r\n    pairs.append([i,tmp])\r\n    break\r\n\r\n  # Pick random items from set2 until you get one that isn&#39;t the same as i\r\n  while True:\r\n    j = random.choice(set2)\r\n    if i != j:\r\n      break\r\n\r\n  # Remove the value from set2 so we won&#39;t pick it again\r\n  # In this example, set2 is actually a list so that random.choice would work on it\r\n  # This could be kind of expensive, might be better using an actual set\r\n  set2.remove(j)\r\n\r\n  # Add our pair to the paired up list\r\n  pairs.append([i,j])\r\n```\r\n","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>The answer isn't in java, but since this is more of an algorithms question, I'm sure you could figure out how to translate the python to java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import random\n\n# The original collection, using a set instead of map/hash since we don't care\n# about the values\nset1 = set(range(100))\n\n# Make a copy of set1, we're using a list here so that random.choice will work\nset2 = list(set1)\n\npairs = []\n\nfor i in set1:\n\n  # Deal with the final item being the same in both collections,\n  # swap with the first one\n  if len(set2) == 1 and i == set2[0]:\n    tmp = pairs[0][1]\n    pairs[0][1] = set2[0]\n    pairs.append([i,tmp])\n    break\n\n  # Pick random items from set2 until you get one that isn't the same as i\n  while True:\n    j = random.choice(set2)\n    if i != j:\n      break\n\n  # Remove the value from set2 so we won't pick it again\n  # In this example, set2 is actually a list so that random.choice would work on it\n  # This could be kind of expensive, might be better using an actual set\n  set2.remove(j)\n\n  # Add our pair to the paired up list\n  pairs.append([i,j])\n</code></pre>\n"}],"owner":{"account_id":3436210,"reputation":1058,"user_id":2879292,"accept_rate":70,"display_name":"Patidati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693491777,"creation_date":1447366514,"question_id":33682455,"body_markdown":"It&#39;s possible this is not most logical/easyiest/effective way of doing this. I would love some input on a better logic, so I&#39;ll rather try to explain the problem.\r\n\r\nList:\r\n\r\n    Jon - null\r\n    Dad - null\r\n    Mom - null\r\n    Thor - null\r\n    July - null\r\n\r\nI want to create a method that matches these with another &#39;key&#39; at random, not having duplicate values or having a key and value which are the same.\r\n\r\nAnother problem is if there are for example 3 keys.\r\n\r\n    1 - null\r\n    2 - null\r\n    3 - null\r\n\r\nIteration 1:\r\n\r\n    1 - 2\r\n    2 - null\r\n    3 - null\r\n\r\nIteration 2:\r\n\r\n    1 - 2\r\n    2 - 1\r\n    3 - null\r\n\r\nIteration 3:\r\n\r\n???\r\n\r\nIt&#39;s possible a HashMap not is the most logical way of storing this.","title":"Algorithm for matching HashMap key with another random HashMap key, never duplicating values or matching itself","body":"<p>It's possible this is not most logical/easyiest/effective way of doing this. I would love some input on a better logic, so I'll rather try to explain the problem.</p>\n\n<p>List:</p>\n\n<pre><code>Jon - null\nDad - null\nMom - null\nThor - null\nJuly - null\n</code></pre>\n\n<p>I want to create a method that matches these with another 'key' at random, not having duplicate values or having a key and value which are the same.</p>\n\n<p>Another problem is if there are for example 3 keys.</p>\n\n<pre><code>1 - null\n2 - null\n3 - null\n</code></pre>\n\n<p>Iteration 1:</p>\n\n<pre><code>1 - 2\n2 - null\n3 - null\n</code></pre>\n\n<p>Iteration 2:</p>\n\n<pre><code>1 - 2\n2 - 1\n3 - null\n</code></pre>\n\n<p>Iteration 3:</p>\n\n<p>???</p>\n\n<p>It's possible a HashMap not is the most logical way of storing this.</p>\n"},{"tags":["java","shiro"],"answers":[{"tags":[],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693491431,"creation_date":1693491431,"answer_id":77016703,"question_id":77008986,"body_markdown":"My problem was that I was using the pre-built maven artifact for the shiro-ehcache package, so I&#39;ve managed to sort this out by building the package from source with Java 11. Since jaxb was dropped from java 11, I also needed the following packages:\r\n \r\n- jaxb-impl\r\n- jaxb-core\r\n- jaxb-api\r\n- jakarta.xml.bind-api\r\n- jakarta.activation\r\n- javax.activation-api","title":"Apache Shiro cannot find ehcache default config with Java 11","body":"<p>My problem was that I was using the pre-built maven artifact for the shiro-ehcache package, so I've managed to sort this out by building the package from source with Java 11. Since jaxb was dropped from java 11, I also needed the following packages:</p>\n<ul>\n<li>jaxb-impl</li>\n<li>jaxb-core</li>\n<li>jaxb-api</li>\n<li>jakarta.xml.bind-api</li>\n<li>jakarta.activation</li>\n<li>javax.activation-api</li>\n</ul>\n"}],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693491431,"creation_date":1693405836,"question_id":77008986,"body_markdown":"I have a web application that uses Apache Shiro. I&#39;m upgrading from Java 8 to 11. That is the only change, but when I try to launch my server, it looks like shiro can&#39;t find the default ehcache.xml config. I get the following error:\r\n\r\n    [main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\r\n    [main] ERROR org.apache.shiro.web.env.EnvironmentLoader - Shiro environment initialization failed\r\n    java.lang.NullPointerException: The url can not be null\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:151)\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:131)\r\n    \tat org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:115)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.getConfiguration(EhcacheShiroManager.java:176)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.ensureCacheManager(EhcacheShiroManager.java:149)\r\n    \tat org.ehcache.integrations.shiro.EhcacheShiroManager.init(EhcacheShiroManager.java:205)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\r\n    \tat org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor.execute(ReflectionBuilder.java:831)\r\n    \tat org.apache.shiro.config.ReflectionBuilder.buildObjects(ReflectionBuilder.java:290)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.buildInstances(IniSecurityManagerFactory.java:181)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:139)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:107)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:98)\r\n    \tat org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:47)\r\n    \tat org.apache.shiro.config.IniFactorySupport.createInstance(IniFactorySupport.java:150)\r\n    \tat org.apache.shiro.util.AbstractFactory.getInstance(AbstractFactory.java:47)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.createWebSecurityManager(IniWebEnvironment.java:296)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.configure(IniWebEnvironment.java:121)\r\n    \tat org.apache.shiro.web.env.IniWebEnvironment.init(IniWebEnvironment.java:73)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\r\n    \tat org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoader.createEnvironment(EnvironmentLoader.java:313)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoader.initEnvironment(EnvironmentLoader.java:139)\r\n    \tat org.apache.shiro.web.env.EnvironmentLoaderListener.contextInitialized(EnvironmentLoaderListener.java:58)\r\n\r\nIn my web.xml I have:\r\n\r\n    &lt;listener&gt;\r\n            &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n...which automatically picks up my shiro.ini config in my WEB-INF directory, which contains (among other things):\r\n\r\n    [main]\r\n    ...\r\n    ...\r\n    cacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\r\n    securityManager.cacheManager = $cacheManager\r\n\r\nWhen I compile and run using java 8, there&#39;s no problems finding the ehcache config and the server starts up normally:\r\n\r\n    [main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\r\n    [main] INFO org.ehcache.xml.XmlConfiguration - Loading Ehcache XML configuration from file:/path/to/my/app/lib/shiro-ehcache3-1.0.0.jar!/org/ehcache/integrations/shiro/ehcache.xml.\r\n\r\nAs I mentioned, the only change is that I&#39;m compiling and running with java 11. All of the same jars are available to both builds, and those shiro specific jars are:\r\n\r\n- shiro-all-1.12.0.jar\r\n- shiro-ehcache3-1.0.0.jar\r\n\r\nI&#39;ve also tried adding `cacheManager.cacheManagerConfigFile = /path/to/custom/configuration.xml` to my shiro.ini as suggested by [the docs here][1] by extracting the default ehcache.xml config file from the ehcache jar, but no matter what path I use in the ini file, the server startup always fails with `org.apache.shiro.ShiroException: java.net.MalformedURLException: no protocol: /path/to/my/app/ehcache.xml`.  \r\n\r\nI&#39;ve also tried setting the `cacheManagerConfigFile` path to the ehcache xml config programmatically in my application entry point, but I get a MalformedURLException for any string that I provide e.g. &quot;/path/to/my/app/ehcache.xml&quot;, &quot;file:///path/to...&quot; or &quot;classpath:ehcache.xml&quot;.\r\n\r\nThe default ehcache.xml config extraction was really just a workaround though (that I can&#39;t get working), so ideally I would like to understand and fix why shiro isn&#39;t finding the default config itself with java 11.\r\n\r\nI&#39;ve reproduced this problem with a minimal example by initialising the ini file programatically like below and putting the ini file into the root of the classpath:  \r\n\r\n    import org.apache.shiro.SecurityUtils;\r\n    import org.apache.shiro.config.IniSecurityManagerFactory;\r\n    import org.apache.shiro.mgt.SecurityManager;\r\n    import org.apache.shiro.util.Factory;\r\n    \r\n    public class Test {\r\n        \r\n        public static void main(String[] args) {\r\n            Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro.ini&quot;);\r\n            SecurityManager securityManager = factory.getInstance();\r\n            SecurityUtils.setSecurityManager(securityManager);\r\n        }\r\n    \r\n    }\r\n\r\nThe shiro.ini in this case only contains:\r\n\r\n    [main]\r\n    cacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\r\n    securityManager.cacheManager = $cacheManager\r\n\r\nJava 8 is fine, Java 11 fails with the &quot;URL can not be null&quot; error. For the example to work, you&#39;ll also need:\r\n- commons-beanutils\r\n- commons-logging\r\n- log4j\r\n- slf4j\r\n- ehcache\r\n\r\n...as well as the 2 shiro jars I mentioned previously. The specific java 11 builds I&#39;ve tried using that fail are Amazon Coretto (11.0.16-amzn) and Temeric (11.0.20-tem), and the java 8 builds that are working for me are 8.0.332-tem and 8.0.382-amzn.\r\n\r\nI&#39;ve also tried compiling and running with Java 17 (17.0.8-amzn), which fails with the same error.\r\n\r\n  [1]: https://github.com/ehcache/ehcache-shiro","title":"Apache Shiro cannot find ehcache default config with Java 11","body":"<p>I have a web application that uses Apache Shiro. I'm upgrading from Java 8 to 11. That is the only change, but when I try to launch my server, it looks like shiro can't find the default ehcache.xml config. I get the following error:</p>\n<pre><code>[main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\n[main] ERROR org.apache.shiro.web.env.EnvironmentLoader - Shiro environment initialization failed\njava.lang.NullPointerException: The url can not be null\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:151)\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:131)\n    at org.ehcache.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:115)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.getConfiguration(EhcacheShiroManager.java:176)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.ensureCacheManager(EhcacheShiroManager.java:149)\n    at org.ehcache.integrations.shiro.EhcacheShiroManager.init(EhcacheShiroManager.java:205)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\n    at org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor.execute(ReflectionBuilder.java:831)\n    at org.apache.shiro.config.ReflectionBuilder.buildObjects(ReflectionBuilder.java:290)\n    at org.apache.shiro.config.IniSecurityManagerFactory.buildInstances(IniSecurityManagerFactory.java:181)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:139)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(IniSecurityManagerFactory.java:107)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:98)\n    at org.apache.shiro.config.IniSecurityManagerFactory.createInstance(IniSecurityManagerFactory.java:47)\n    at org.apache.shiro.config.IniFactorySupport.createInstance(IniFactorySupport.java:150)\n    at org.apache.shiro.util.AbstractFactory.getInstance(AbstractFactory.java:47)\n    at org.apache.shiro.web.env.IniWebEnvironment.createWebSecurityManager(IniWebEnvironment.java:296)\n    at org.apache.shiro.web.env.IniWebEnvironment.configure(IniWebEnvironment.java:121)\n    at org.apache.shiro.web.env.IniWebEnvironment.init(IniWebEnvironment.java:73)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)\n    at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)\n    at org.apache.shiro.web.env.EnvironmentLoader.createEnvironment(EnvironmentLoader.java:313)\n    at org.apache.shiro.web.env.EnvironmentLoader.initEnvironment(EnvironmentLoader.java:139)\n    at org.apache.shiro.web.env.EnvironmentLoaderListener.contextInitialized(EnvironmentLoaderListener.java:58)\n</code></pre>\n<p>In my web.xml I have:</p>\n<pre><code>&lt;listener&gt;\n        &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>...which automatically picks up my shiro.ini config in my WEB-INF directory, which contains (among other things):</p>\n<pre><code>[main]\n...\n...\ncacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\nsecurityManager.cacheManager = $cacheManager\n</code></pre>\n<p>When I compile and run using java 8, there's no problems finding the ehcache config and the server starts up normally:</p>\n<pre><code>[main] INFO org.apache.shiro.web.env.EnvironmentLoader - Starting Shiro environment initialization.\n[main] INFO org.ehcache.xml.XmlConfiguration - Loading Ehcache XML configuration from file:/path/to/my/app/lib/shiro-ehcache3-1.0.0.jar!/org/ehcache/integrations/shiro/ehcache.xml.\n</code></pre>\n<p>As I mentioned, the only change is that I'm compiling and running with java 11. All of the same jars are available to both builds, and those shiro specific jars are:</p>\n<ul>\n<li>shiro-all-1.12.0.jar</li>\n<li>shiro-ehcache3-1.0.0.jar</li>\n</ul>\n<p>I've also tried adding <code>cacheManager.cacheManagerConfigFile = /path/to/custom/configuration.xml</code> to my shiro.ini as suggested by <a href=\"https://github.com/ehcache/ehcache-shiro\" rel=\"nofollow noreferrer\">the docs here</a> by extracting the default ehcache.xml config file from the ehcache jar, but no matter what path I use in the ini file, the server startup always fails with <code>org.apache.shiro.ShiroException: java.net.MalformedURLException: no protocol: /path/to/my/app/ehcache.xml</code>.</p>\n<p>I've also tried setting the <code>cacheManagerConfigFile</code> path to the ehcache xml config programmatically in my application entry point, but I get a MalformedURLException for any string that I provide e.g. &quot;/path/to/my/app/ehcache.xml&quot;, &quot;file:///path/to...&quot; or &quot;classpath:ehcache.xml&quot;.</p>\n<p>The default ehcache.xml config extraction was really just a workaround though (that I can't get working), so ideally I would like to understand and fix why shiro isn't finding the default config itself with java 11.</p>\n<p>I've reproduced this problem with a minimal example by initialising the ini file programatically like below and putting the ini file into the root of the classpath:</p>\n<pre><code>import org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.config.IniSecurityManagerFactory;\nimport org.apache.shiro.mgt.SecurityManager;\nimport org.apache.shiro.util.Factory;\n\npublic class Test {\n    \n    public static void main(String[] args) {\n        Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro.ini&quot;);\n        SecurityManager securityManager = factory.getInstance();\n        SecurityUtils.setSecurityManager(securityManager);\n    }\n\n}\n</code></pre>\n<p>The shiro.ini in this case only contains:</p>\n<pre><code>[main]\ncacheManager = org.ehcache.integrations.shiro.EhcacheShiroManager\nsecurityManager.cacheManager = $cacheManager\n</code></pre>\n<p>Java 8 is fine, Java 11 fails with the &quot;URL can not be null&quot; error. For the example to work, you'll also need:</p>\n<ul>\n<li>commons-beanutils</li>\n<li>commons-logging</li>\n<li>log4j</li>\n<li>slf4j</li>\n<li>ehcache</li>\n</ul>\n<p>...as well as the 2 shiro jars I mentioned previously. The specific java 11 builds I've tried using that fail are Amazon Coretto (11.0.16-amzn) and Temeric (11.0.20-tem), and the java 8 builds that are working for me are 8.0.332-tem and 8.0.382-amzn.</p>\n<p>I've also tried compiling and running with Java 17 (17.0.8-amzn), which fails with the same error.</p>\n"},{"tags":["java","intellij-idea","import","classpath"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":2,"creation_date":1416096179,"post_id":26952078,"comment_id":42445075,"body_markdown":"Are you sure that the library was added to the module? It could be added as a project library but not be on the modules classpath.","body":"Are you sure that the library was added to the module? It could be added as a project library but not be on the modules classpath."},{"owner":{"account_id":3972835,"reputation":2564,"user_id":3276930,"display_name":"a5af"},"score":0,"creation_date":1416151393,"post_id":26952078,"comment_id":42455858,"body_markdown":"yes -- In Project Structure, the library is added as a dependency -- Actually, I think this is a bug in Intellij -- Happens randomly for different libraries/projects -- Recreating the project from scratch usually fixes it","body":"yes -- In Project Structure, the library is added as a dependency -- Actually, I think this is a bug in Intellij -- Happens randomly for different libraries/projects -- Recreating the project from scratch usually fixes it"},{"owner":{"account_id":1349569,"reputation":878,"user_id":1289597,"accept_rate":53,"display_name":"sheldonkreger"},"score":0,"creation_date":1470787676,"post_id":26952078,"comment_id":120399407,"body_markdown":"I tried invalidating caches and restarting, but the only thing that worked for me was wiping out the .idea directory completely, then creating a new project from scratch.","body":"I tried invalidating caches and restarting, but the only thing that worked for me was wiping out the .idea directory completely, then creating a new project from scratch."},{"owner":{"account_id":3054028,"reputation":1076,"user_id":2588059,"accept_rate":29,"display_name":"Hari Krishnan"},"score":1,"creation_date":1508146730,"post_id":26952078,"comment_id":80479614,"body_markdown":"If everything mentioned in the answer is proper.  close the project and re import again. this solved this issue for me.","body":"If everything mentioned in the answer is proper.  close the project and re import again. this solved this issue for me."},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":1,"creation_date":1640275001,"post_id":26952078,"comment_id":124560036,"body_markdown":"In my case the problem was that I had not configured an SDK for the project - after I go to Project Structure and set the appropriate SDK it got resolved.","body":"In my case the problem was that I had not configured an SDK for the project - after I go to Project Structure and set the appropriate SDK it got resolved."}],"answers":[{"tags":[],"owner":{"account_id":5419194,"reputation":5240,"user_id":4313437,"display_name":"sahitya"},"down_vote_count":2,"up_vote_count":497,"is_accepted":false,"score":495,"last_activity_date":1636369260,"creation_date":1418745664,"answer_id":27508764,"question_id":26952078,"body_markdown":"You can try invalidating the cache and restarting IntelliJ, in many cases it will help.\r\n\r\nFile -&gt; Invalidate Caches/Restart","title":"Intellij Cannot resolve symbol on import","body":"<p>You can try invalidating the cache and restarting IntelliJ, in many cases it will help.</p>\n<p>File -&gt; Invalidate Caches/Restart</p>\n"},{"tags":[],"owner":{"account_id":4638297,"reputation":196,"user_id":3758846,"display_name":"minx"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1430391026,"creation_date":1430391026,"answer_id":29965752,"question_id":26952078,"body_markdown":"I faced a similar issue, Mike&#39;s comment helped me move in the direction to solve it. &lt;br&gt;\r\nThough the required library was a part of the module in my project too, it needed a change of scope. In the module dependency, I changed the **scope** to &quot;**Compile**&quot; rather than &quot;**Test**&quot; and it works fine for me now.","title":"Intellij Cannot resolve symbol on import","body":"<p>I faced a similar issue, Mike's comment helped me move in the direction to solve it. <br>\nThough the required library was a part of the module in my project too, it needed a change of scope. In the module dependency, I changed the <strong>scope</strong> to \"<strong>Compile</strong>\" rather than \"<strong>Test</strong>\" and it works fine for me now.</p>\n"},{"tags":[],"owner":{"account_id":5297700,"reputation":139,"user_id":4228404,"display_name":"Artem Moiseyenko"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1441278225,"creation_date":1441271930,"answer_id":32371640,"question_id":26952078,"body_markdown":"Check your module dependencies.\r\n\r\n 1. Project Structure (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;).\r\n 2. Modules\r\n 3. Select your problem module.\r\n 4. Change tab on top of window &quot;Dependencies&quot;.\r\n 5. Check what needed library (maybe, you need to add specified library\r\n    in the tab &#39;libraries&#39;) or module has listed here and it has right\r\n    scope (&#39;complile&#39; mostly).","title":"Intellij Cannot resolve symbol on import","body":"<p>Check your module dependencies.</p>\n\n<ol>\n<li>Project Structure (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>).</li>\n<li>Modules</li>\n<li>Select your problem module.</li>\n<li>Change tab on top of window \"Dependencies\".</li>\n<li>Check what needed library (maybe, you need to add specified library\nin the tab 'libraries') or module has listed here and it has right\nscope ('complile' mostly).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2084351,"reputation":756,"user_id":1855645,"display_name":"Vipin Thomas"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1581090819,"creation_date":1444240498,"answer_id":32999210,"question_id":26952078,"body_markdown":"There can be multiple reasons for this. In my case it was wrong source root issue. Invalidate caches didn&#39;t work along with other solutions.\r\n\r\nCheck your module source roots.\r\n\r\n 1. Project Structure (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;).\r\n        \r\n 2. Modules\r\n        \r\n 3. Select your problem module.\r\n    \r\n 4. Change tab on top of window &quot;Sources&quot;.\r\n\r\n 5. Remove unwanted source roots. Keep one and add src and test source roots in this root.\r\n\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>There can be multiple reasons for this. In my case it was wrong source root issue. Invalidate caches didn't work along with other solutions.</p>\n\n<p>Check your module source roots.</p>\n\n<ol>\n<li><p>Project Structure (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>).</p></li>\n<li><p>Modules</p></li>\n<li><p>Select your problem module.</p></li>\n<li><p>Change tab on top of window \"Sources\".</p></li>\n<li><p>Remove unwanted source roots. Keep one and add src and test source roots in this root.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7703698,"reputation":46,"user_id":5835293,"display_name":"Ming Gong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471629581,"creation_date":1471629581,"answer_id":39045182,"question_id":26952078,"body_markdown":"I also got this error for multiple times when I try to build a new java project. \r\n\r\n**Below is the step how I got this stupid issue.** \r\n\r\n 1. Create an empty project, and create new directory `src/main/java`.\r\n 2. Create the source package `net.gongmingqm10.sketch`.\r\n 3. Use `gradle wrapper`, `gradle idea` to build the gradle stuff for the project.\r\n 4. Add some dependencies in `build.gradle` file, and `gradle build`, reimport the project.\r\n 5. Create `User.java` and `School.java` in the existing package `net.gongmingqm10.sketch`\r\n 6. I got the error while I try to use import School in User.java.\r\n 7. Intellij keeps complain can not resolve symbol on import.\r\n\r\n**Solution:**\r\n\r\nBuild the project first, and mark the main/java as the source root. **Create a new directory** with the same name `net.gongmingqm10.sketch`. Move all the files from the old troubling packages to new package.\r\n\r\n**Root cause:**\r\n\r\n[Directory tree of source code][1]\r\n\r\nAs you can see from the tree. I got a directory named `net.gongmingqm10.sketch`. But what we really need is the 3 levels directory: net-&gt;gongmingqm10-&gt;sketch\r\n\r\nBut before I finish building my project in Intellij, I create new directory named `net.gongmingqm19.sketch`, which will give me a real directory with the name `net.gongmingqm10.sketch`.\r\n\r\nWhen we trying to import it. Obviously, how can intellij import the file under the weired directory with the name `a.b.c`.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J7Afz.png","title":"Intellij Cannot resolve symbol on import","body":"<p>I also got this error for multiple times when I try to build a new java project. </p>\n\n<p><strong>Below is the step how I got this stupid issue.</strong> </p>\n\n<ol>\n<li>Create an empty project, and create new directory <code>src/main/java</code>.</li>\n<li>Create the source package <code>net.gongmingqm10.sketch</code>.</li>\n<li>Use <code>gradle wrapper</code>, <code>gradle idea</code> to build the gradle stuff for the project.</li>\n<li>Add some dependencies in <code>build.gradle</code> file, and <code>gradle build</code>, reimport the project.</li>\n<li>Create <code>User.java</code> and <code>School.java</code> in the existing package <code>net.gongmingqm10.sketch</code></li>\n<li>I got the error while I try to use import School in User.java.</li>\n<li>Intellij keeps complain can not resolve symbol on import.</li>\n</ol>\n\n<p><strong>Solution:</strong></p>\n\n<p>Build the project first, and mark the main/java as the source root. <strong>Create a new directory</strong> with the same name <code>net.gongmingqm10.sketch</code>. Move all the files from the old troubling packages to new package.</p>\n\n<p><strong>Root cause:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/J7Afz.png\" rel=\"nofollow\">Directory tree of source code</a></p>\n\n<p>As you can see from the tree. I got a directory named <code>net.gongmingqm10.sketch</code>. But what we really need is the 3 levels directory: net->gongmingqm10->sketch</p>\n\n<p>But before I finish building my project in Intellij, I create new directory named <code>net.gongmingqm19.sketch</code>, which will give me a real directory with the name <code>net.gongmingqm10.sketch</code>.</p>\n\n<p>When we trying to import it. Obviously, how can intellij import the file under the weired directory with the name <code>a.b.c</code>.</p>\n"},{"tags":[],"owner":{"account_id":6281966,"reputation":61,"user_id":4882637,"accept_rate":38,"display_name":"neoguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481324569,"creation_date":1481324569,"answer_id":41070216,"question_id":26952078,"body_markdown":"Simple Restart worked for me.\r\n\r\nI would suggest first try with restart and then you may opt for invalidating the cache. \r\n\r\nPS : Cleaning out the system caches will result in clearing the local history.\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>Simple Restart worked for me.</p>\n\n<p>I would suggest first try with restart and then you may opt for invalidating the cache. </p>\n\n<p>PS : Cleaning out the system caches will result in clearing the local history.</p>\n"},{"tags":[],"owner":{"account_id":5836955,"reputation":1,"user_id":5932306,"display_name":"Wenbin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1484187740,"creation_date":1484173007,"answer_id":41601719,"question_id":26952078,"body_markdown":"I had a similar issue with my imported Maven project. In one module, it cannot resolve symbol on import for part of the other module (yes, part of that module can be resolved).\r\n\r\nI changed &quot;Maven home directory&quot; to a newer version solved my issue.\r\n\r\nUpdate: Good for 1 hour, back to broken status...","title":"Intellij Cannot resolve symbol on import","body":"<p>I had a similar issue with my imported Maven project. In one module, it cannot resolve symbol on import for part of the other module (yes, part of that module can be resolved).</p>\n\n<p>I changed \"Maven home directory\" to a newer version solved my issue.</p>\n\n<p>Update: Good for 1 hour, back to broken status...</p>\n"},{"tags":[],"owner":{"account_id":935688,"reputation":141,"user_id":964644,"display_name":"crazycode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492905753,"creation_date":1492905753,"answer_id":43565960,"question_id":26952078,"body_markdown":"I found the source cause!\r\n\r\nIn my case, I add a jar file include some java source file, but I think the java source is bad, in Intellij Idea dependency library it add the source automatic, so in Editor the import is BAD JUST remove the source code in &quot;Project Structure&quot; -&gt; &quot;Library&quot;, it works for me.","title":"Intellij Cannot resolve symbol on import","body":"<p>I found the source cause!</p>\n\n<p>In my case, I add a jar file include some java source file, but I think the java source is bad, in Intellij Idea dependency library it add the source automatic, so in Editor the import is BAD JUST remove the source code in \"Project Structure\" -> \"Library\", it works for me.</p>\n"},{"tags":[],"owner":{"account_id":2285389,"reputation":1,"user_id":7948191,"display_name":"mario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493661882,"creation_date":1493658379,"answer_id":43723154,"question_id":26952078,"body_markdown":"What did it for me is to edit the package file in the .idea folder as I accidentally added sources to this jar library and android couldn&#39;t resolve it by deleting the sources line as marked in the b/m picture [library error][1].\r\n\r\nThen rebuild the gradle and bam problem solved. \r\n\r\n  [1]: https://i.stack.imgur.com/DbQ4V.jpg","title":"Intellij Cannot resolve symbol on import","body":"<p>What did it for me is to edit the package file in the .idea folder as I accidentally added sources to this jar library and android couldn't resolve it by deleting the sources line as marked in the b/m picture <a href=\"https://i.stack.imgur.com/DbQ4V.jpg\" rel=\"nofollow noreferrer\">library error</a>.</p>\n\n<p>Then rebuild the gradle and bam problem solved. </p>\n"},{"tags":[],"owner":{"account_id":6671215,"reputation":11,"user_id":6645421,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496676519,"creation_date":1496666410,"answer_id":44369152,"question_id":26952078,"body_markdown":"I had the same issue and the reason for that was incorrect marking of the project&#39;s sources.\r\n\r\n I manually created the Root Content and didn&#39;t notice that `src/main/test` folder was marked as `Sources` instead of `Tests`. So that is why my test classes were assumed to have all their test libraries (`JUnit`, `Mockito`, etc.) with the scope of Compile, not Test.\r\n\r\nAs soon as I marked `src/main/test` as Tests and rebuilt the module all errors were gone.","title":"Intellij Cannot resolve symbol on import","body":"<p>I had the same issue and the reason for that was incorrect marking of the project's sources.</p>\n\n<p>I manually created the Root Content and didn't notice that <code>src/main/test</code> folder was marked as <code>Sources</code> instead of <code>Tests</code>. So that is why my test classes were assumed to have all their test libraries (<code>JUnit</code>, <code>Mockito</code>, etc.) with the scope of Compile, not Test.</p>\n\n<p>As soon as I marked <code>src/main/test</code> as Tests and rebuilt the module all errors were gone.</p>\n"},{"tags":[],"owner":{"account_id":356942,"reputation":96,"user_id":7169815,"display_name":"Mihai Bojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497287391,"creation_date":1497287391,"answer_id":44505080,"question_id":26952078,"body_markdown":"@Anton Dozortsev I was driven crazy by a similar behavior; I ended up re-installing the IDE a bunch of times, only getting past the issue after removing the IDEA app, all caches, preferences, etc.\r\n\r\nI tried all kinds of steps in the interim, (like restarts, invalidations, deleting `.idea` and `*.iml` files, and others.)\r\n\r\nTurns out, the problem was due to IntelliJ&#39;s `idea.max.intellisense.filesize` setting.  I had set it to 100KB, which was smaller than my dependency&#39;s size, leading to IntelliJ showing it as unknown, just like in your screenshot.\r\n\r\n\r\nFix:\r\n\r\n1. Click on Help -&gt; Edit Custom Properties\r\n\r\n2. Set the property to a larger value; the default is 2500KB\r\n`idea.max.intellisense.filesize=2500`","title":"Intellij Cannot resolve symbol on import","body":"<p>@Anton Dozortsev I was driven crazy by a similar behavior; I ended up re-installing the IDE a bunch of times, only getting past the issue after removing the IDEA app, all caches, preferences, etc.</p>\n\n<p>I tried all kinds of steps in the interim, (like restarts, invalidations, deleting <code>.idea</code> and <code>*.iml</code> files, and others.)</p>\n\n<p>Turns out, the problem was due to IntelliJ's <code>idea.max.intellisense.filesize</code> setting.  I had set it to 100KB, which was smaller than my dependency's size, leading to IntelliJ showing it as unknown, just like in your screenshot.</p>\n\n<p>Fix:</p>\n\n<ol>\n<li><p>Click on Help -> Edit Custom Properties</p></li>\n<li><p>Set the property to a larger value; the default is 2500KB\n<code>idea.max.intellisense.filesize=2500</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5023760,"reputation":440,"user_id":4036462,"display_name":"manntsheth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509212408,"creation_date":1509212408,"answer_id":46992617,"question_id":26952078,"body_markdown":"I found the following answer from [@jossef-harush][1] and [@matt-leidholm][2] useful [from another link][3] \r\n\r\n - in IntelliJ editor, click on the red keyword *(`Integer` for example)* and press &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt; (or click the light bulb icon)\r\n - select `Setup JDK` from the intentions menu\r\n\r\n![IntelliJ intentions menu][4]\r\n\r\n- click on `Configure`\r\n\r\n![Project SDK selection dialog][5]\r\n\r\n\r\n- In my case, the `JDK` path was incorrect (pointed on `/opt/jdk1.7.0_51` instead of `/opt/jdk1.7.0_65`)\r\n\r\n\r\n![Broken Configure SDK dialog][6]\r\n\r\n\r\n- click on the &lt;kbd&gt;...&lt;/kbd&gt; and browse to the right `JDK` path \r\n\r\n![Fixed Configure SDK dialog][7]\r\n\r\n - let&#39;s clear the cache \r\n\r\n![IntelliJ File menu][8]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3191896/jossef-harush\r\n  [2]: https://stackoverflow.com/users/163239/matt-leidholm\r\n  [3]: https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res\r\n  [4]: http://i.stack.imgur.com/dnscy.png\r\n  [5]: http://i.stack.imgur.com/WgNeF.png\r\n  [6]: http://i.stack.imgur.com/32987.png\r\n  [7]: http://i.stack.imgur.com/4l3tL.png\r\n  [8]: http://i.stack.imgur.com/QPJv6.png","title":"Intellij Cannot resolve symbol on import","body":"<p>I found the following answer from <a href=\"https://stackoverflow.com/users/3191896/jossef-harush\">@jossef-harush</a> and <a href=\"https://stackoverflow.com/users/163239/matt-leidholm\">@matt-leidholm</a> useful <a href=\"https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res\">from another link</a> </p>\n\n<ul>\n<li>in IntelliJ editor, click on the red keyword <em>(<code>Integer</code> for example)</em> and press <kbd>ALT</kbd> + <kbd>ENTER</kbd> (or click the light bulb icon)</li>\n<li>select <code>Setup JDK</code> from the intentions menu</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/dnscy.png\" alt=\"IntelliJ intentions menu\"></p>\n\n<ul>\n<li>click on <code>Configure</code></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/WgNeF.png\" alt=\"Project SDK selection dialog\"></p>\n\n<ul>\n<li>In my case, the <code>JDK</code> path was incorrect (pointed on <code>/opt/jdk1.7.0_51</code> instead of <code>/opt/jdk1.7.0_65</code>)</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/32987.png\" alt=\"Broken Configure SDK dialog\"></p>\n\n<ul>\n<li>click on the <kbd>...</kbd> and browse to the right <code>JDK</code> path </li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/4l3tL.png\" alt=\"Fixed Configure SDK dialog\"></p>\n\n<ul>\n<li>let's clear the cache </li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/QPJv6.png\" alt=\"IntelliJ File menu\"></p>\n"},{"tags":[],"owner":{"account_id":951121,"reputation":1515,"user_id":977253,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515005661,"creation_date":1515005661,"answer_id":48083468,"question_id":26952078,"body_markdown":"I had this recently while trying to use Intellij to work on NiFi, turned out the issue was that NiFi requires Maven &gt;= 3.1.0 and the version that I&#39;d checked out with (I guess my default) was 3.0.5. Updating the Maven version for the project fixed it, so in some cases Maven version mis-alignment can be a thing to look...I&#39;d guess it&#39;s fairly unusual but if you get this far on the thread you&#39;re probably having an unusual issue :)","title":"Intellij Cannot resolve symbol on import","body":"<p>I had this recently while trying to use Intellij to work on NiFi, turned out the issue was that NiFi requires Maven >= 3.1.0 and the version that I'd checked out with (I guess my default) was 3.0.5. Updating the Maven version for the project fixed it, so in some cases Maven version mis-alignment can be a thing to look...I'd guess it's fairly unusual but if you get this far on the thread you're probably having an unusual issue :)</p>\n"},{"tags":[],"owner":{"account_id":12866833,"reputation":379,"user_id":9306811,"display_name":"Chandlersingh"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1521820616,"creation_date":1517599469,"answer_id":48589571,"question_id":26952078,"body_markdown":"IntelliJ has issues in resolving the dependencies.\r\nTry the following:\r\n\r\n 1. Right click on pom.xml -&gt; Maven -&gt; Reimport\r\n 2. Again Right click on pom.xml -&gt; Maven -&gt; Generate sources and update folders","title":"Intellij Cannot resolve symbol on import","body":"<p>IntelliJ has issues in resolving the dependencies.\nTry the following:</p>\n\n<ol>\n<li>Right click on pom.xml -> Maven -> Reimport</li>\n<li>Again Right click on pom.xml -> Maven -> Generate sources and update folders</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1599078839,"creation_date":1518495258,"answer_id":48759330,"question_id":26952078,"body_markdown":"``File`` -&gt; ``Invalidate Caches/Restart``\r\nAnd\r\nBuild your project\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p><code>File</code> -&gt; <code>Invalidate Caches/Restart</code>\nAnd\nBuild your project</p>\n"},{"tags":[],"owner":{"account_id":48221,"reputation":3723,"user_id":143179,"display_name":"eaykin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1529932830,"creation_date":1529932830,"answer_id":51024504,"question_id":26952078,"body_markdown":"*File -&gt; Invalidate Caches/Restart* or rebuilding the project did **not** work wor me.\r\n\r\nWhat worked for my Gradle project was to &quot;Refresh all Gradle projects&quot; from the Gradle tab on top-right corner of IntelliJ v2017, using the yellow marked button shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cl5Ef.png","title":"Intellij Cannot resolve symbol on import","body":"<p><em>File -> Invalidate Caches/Restart</em> or rebuilding the project did <strong>not</strong> work wor me.</p>\n\n<p>What worked for my Gradle project was to \"Refresh all Gradle projects\" from the Gradle tab on top-right corner of IntelliJ v2017, using the yellow marked button shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Cl5Ef.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Cl5Ef.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531348313,"creation_date":1531348313,"answer_id":51295047,"question_id":26952078,"body_markdown":"Had the same problem till I noticed that the **src** folder was **marked as root source** instead of **java**!\r\nChanging to only the java (src/main/java) to be the source root solved my problem\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yiloS.png","title":"Intellij Cannot resolve symbol on import","body":"<p>Had the same problem till I noticed that the <strong>src</strong> folder was <strong>marked as root source</strong> instead of <strong>java</strong>!\nChanging to only the java (src/main/java) to be the source root solved my problem\n<a href=\"https://i.stack.imgur.com/yiloS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yiloS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1174300,"reputation":103,"user_id":1159061,"display_name":"rdutta"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1537248955,"creation_date":1537248955,"answer_id":52379579,"question_id":26952078,"body_markdown":"Right click on pom.xml file, go to Maven click on Reimport. I had similar problem and this worked for me.","title":"Intellij Cannot resolve symbol on import","body":"<p>Right click on pom.xml file, go to Maven click on Reimport. I had similar problem and this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540468682,"creation_date":1540468682,"answer_id":52988743,"question_id":26952078,"body_markdown":"`file`-&gt; `Project Structure` -&gt; `Modules`, find the module with problems, click it and choose the `Dependencies` tab in the right side. Click the green plus sign, try to add the jar or libraries that cause the problem. That works for me.","title":"Intellij Cannot resolve symbol on import","body":"<p><code>file</code>-> <code>Project Structure</code> -> <code>Modules</code>, find the module with problems, click it and choose the <code>Dependencies</code> tab in the right side. Click the green plus sign, try to add the jar or libraries that cause the problem. That works for me.</p>\n"},{"tags":[],"owner":{"account_id":1615372,"reputation":1995,"user_id":1493235,"accept_rate":100,"display_name":"JohannesB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550151962,"creation_date":1550151962,"answer_id":54691902,"question_id":26952078,"body_markdown":"After a long search, I discovered that a dependency was somehow corrupted on my machine in a maven project. The strange thing was that the dependency was still working correctly in the compiled java code. When I cleaned and rebuilt my maven dependency cache however, the problem went away and IntelliJ recognized the package. You can do this by running:\r\n\r\n    mvn dependency:purge-local-repository\r\n\r\nIntrestingly, the source of my problem hence wasn&#39;t IntelliJ, but maven itself.","title":"Intellij Cannot resolve symbol on import","body":"<p>After a long search, I discovered that a dependency was somehow corrupted on my machine in a maven project. The strange thing was that the dependency was still working correctly in the compiled java code. When I cleaned and rebuilt my maven dependency cache however, the problem went away and IntelliJ recognized the package. You can do this by running:</p>\n\n<pre><code>mvn dependency:purge-local-repository\n</code></pre>\n\n<p>Intrestingly, the source of my problem hence wasn't IntelliJ, but maven itself.</p>\n"},{"tags":[],"owner":{"account_id":8511112,"reputation":53,"user_id":6381118,"display_name":"Adam M. Erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564500486,"creation_date":1564500486,"answer_id":57275198,"question_id":26952078,"body_markdown":"Please try File-&gt; Synchronize. Then close and reopen IntelliJ before you invalidate.\r\n\r\nOnce I restarted. I would have invalidated but the synchronize cleared everything after restarting.","title":"Intellij Cannot resolve symbol on import","body":"<p>Please try File-> Synchronize. Then close and reopen IntelliJ before you invalidate.</p>\n\n<p>Once I restarted. I would have invalidated but the synchronize cleared everything after restarting.</p>\n"},{"tags":[],"owner":{"account_id":9184674,"reputation":365,"user_id":6827370,"display_name":"Liuver Reynier Dur&#225;n P&#233;rez"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1568218354,"creation_date":1568218354,"answer_id":57893103,"question_id":26952078,"body_markdown":"Run this command in your project console: \r\n\r\n    mvn idea:idea\r\n\r\nDone. \r\nHad this issue many times. Tried &#39;Invalidate Cache &amp; Restart&#39; and all other solutions. Running that command works perfect to me. \r\nI&#39;m currently using IntelliJ 2019.2, but this also happened in previous versions and solution worked as well.\r\n","title":"Intellij Cannot resolve symbol on import","body":"<p>Run this command in your project console: </p>\n\n<pre><code>mvn idea:idea\n</code></pre>\n\n<p>Done. \nHad this issue many times. Tried 'Invalidate Cache &amp; Restart' and all other solutions. Running that command works perfect to me. \nI'm currently using IntelliJ 2019.2, but this also happened in previous versions and solution worked as well.</p>\n"},{"tags":[],"owner":{"account_id":32530,"reputation":870,"user_id":90338,"accept_rate":63,"display_name":"greymatter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577224765,"creation_date":1577224765,"answer_id":59473695,"question_id":26952078,"body_markdown":"Nothing I tried above worked for me (not that I tried every suggestion).  What finally did the trick was to rename the class -- I just added a 2 to the class name and filename.  Then I resolved all the references manually.  (Since they weren&#39;t recognized, the refactoring did not change the references automatically.)\r\n\r\nOnce the &quot;2-version&quot; was happily resolved everywhere, I was then able to refactor and remove the 2 from the class and file, and everything was then as it should be.","title":"Intellij Cannot resolve symbol on import","body":"<p>Nothing I tried above worked for me (not that I tried every suggestion).  What finally did the trick was to rename the class -- I just added a 2 to the class name and filename.  Then I resolved all the references manually.  (Since they weren't recognized, the refactoring did not change the references automatically.)</p>\n\n<p>Once the \"2-version\" was happily resolved everywhere, I was then able to refactor and remove the 2 from the class and file, and everything was then as it should be.</p>\n"},{"tags":[],"owner":{"account_id":7532999,"reputation":1,"user_id":5720417,"display_name":"lempesis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580294562,"creation_date":1580294562,"answer_id":59965358,"question_id":26952078,"body_markdown":"in my case the solution was to add the project as maven project, besides the fact that i imported as maven project :P \r\n\r\ngo to pom.xml -&gt; right click -&gt; add as maven project","title":"Intellij Cannot resolve symbol on import","body":"<p>in my case the solution was to add the project as maven project, besides the fact that i imported as maven project :P </p>\n\n<p>go to pom.xml -> right click -> add as maven project</p>\n"},{"tags":[],"owner":{"account_id":1750585,"reputation":149,"user_id":1599755,"accept_rate":70,"display_name":"user1599755"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595644791,"creation_date":1595644198,"answer_id":63083698,"question_id":26952078,"body_markdown":"For 2020.1.4 Ultimate edition, I had to do the following \r\n\r\n``` View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects``` \r\n\r\nThe issue for me was the libraries were not getting populated with \r\n`mvn -U clean install` from the terminal. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLWJI.jpg","title":"Intellij Cannot resolve symbol on import","body":"<p>For 2020.1.4 Ultimate edition, I had to do the following</p>\n<p><code> View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects</code></p>\n<p>The issue for me was the libraries were not getting populated with\n<code>mvn -U clean install</code> from the terminal.</p>\n<p><a href=\"https://i.stack.imgur.com/cLWJI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLWJI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10837596,"reputation":720,"user_id":7970051,"display_name":"Rjbeckwith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621351974,"creation_date":1621351974,"answer_id":67589441,"question_id":26952078,"body_markdown":"My issue was my Maven plugin got disabled after an update. I went to Help -&gt; Find Action... -&gt; Typed in Maven and found that it was &quot;Off&quot;. I clicked the toggle switch and after a bit of loading it was re-enabled.","title":"Intellij Cannot resolve symbol on import","body":"<p>My issue was my Maven plugin got disabled after an update. I went to Help -&gt; Find Action... -&gt; Typed in Maven and found that it was &quot;Off&quot;. I clicked the toggle switch and after a bit of loading it was re-enabled.</p>\n"},{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622035740,"creation_date":1622035740,"answer_id":67705955,"question_id":26952078,"body_markdown":"Also, check your class is not in compile exclusions\r\n\r\nIf you see, that there is a little grey cross in left top corner, you must remove class from compile exclusions\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow to remove\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/smc4x.png\r\n  [2]: https://i.stack.imgur.com/3A2qJ.png\r\n  [3]: https://i.stack.imgur.com/2FXtF.png","title":"Intellij Cannot resolve symbol on import","body":"<p>Also, check your class is not in compile exclusions</p>\n<p>If you see, that there is a little grey cross in left top corner, you must remove class from compile exclusions</p>\n<p><a href=\"https://i.stack.imgur.com/smc4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smc4x.png\" alt=\"enter image description here\" /></a></p>\n<p>How to remove</p>\n<p><a href=\"https://i.stack.imgur.com/3A2qJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3A2qJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2FXtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FXtF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693490758,"creation_date":1627390593,"answer_id":68545270,"question_id":26952078,"body_markdown":"Try cleaning maven from upstream by:\r\n\r\n    mvn -U clean install","title":"Intellij Cannot resolve symbol on import","body":"<p>Try cleaning maven from upstream by:</p>\n<pre><code>mvn -U clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9342688,"reputation":399,"user_id":6934895,"display_name":"Sondering Narcissist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635193499,"creation_date":1635193499,"answer_id":69714356,"question_id":26952078,"body_markdown":"Old question, &#39;21 response. I ran into the issue where my `go build` would build code successfully but my Goland IDE showed missing modules or dependencies. I tried Invalidating Caches and Restart, but had the same problem. From another S/O thread, I tried adding the GO111MODULE=on to my Path Variables, but that didn&#39;t resolve the IDE problems either.\r\n\r\nWhat worked for me was picking the correct GOROOT path in `Preferences` &gt; `Go` &gt; `GOROOT`. \r\n\r\nI had two versions of go installed, one by brew and one from the online Go installer. I selected the brew install path, and my IDE was able to resolve the dependencies properly.","title":"Intellij Cannot resolve symbol on import","body":"<p>Old question, '21 response. I ran into the issue where my <code>go build</code> would build code successfully but my Goland IDE showed missing modules or dependencies. I tried Invalidating Caches and Restart, but had the same problem. From another S/O thread, I tried adding the GO111MODULE=on to my Path Variables, but that didn't resolve the IDE problems either.</p>\n<p>What worked for me was picking the correct GOROOT path in <code>Preferences</code> &gt; <code>Go</code> &gt; <code>GOROOT</code>.</p>\n<p>I had two versions of go installed, one by brew and one from the online Go installer. I selected the brew install path, and my IDE was able to resolve the dependencies properly.</p>\n"},{"tags":[],"owner":{"account_id":17900992,"reputation":495,"user_id":13005243,"display_name":"Elen Mouradian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643030250,"creation_date":1643029912,"answer_id":70834434,"question_id":26952078,"body_markdown":"I&#39;ve tried all the complicated methods and they didn&#39;t work, since I was too lazy to re-import the project I tried something else.\r\nMine is a gradle project, so I went to my gradle.build file, removed the dependency, refreshed the dependencies, then added the dependency again and refreshed again, the imports started working after that.","title":"Intellij Cannot resolve symbol on import","body":"<p>I've tried all the complicated methods and they didn't work, since I was too lazy to re-import the project I tried something else.\nMine is a gradle project, so I went to my gradle.build file, removed the dependency, refreshed the dependencies, then added the dependency again and refreshed again, the imports started working after that.</p>\n"},{"tags":[],"owner":{"account_id":23430031,"reputation":42,"user_id":17489030,"display_name":"Rajat Goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649862349,"creation_date":1649862349,"answer_id":71859764,"question_id":26952078,"body_markdown":"Faced similar issue,\r\nI Updated Intellij and error start coming - Can&#39;t Resolve Symbols.\r\n\r\nWent to Plugins, Updated the plugins &amp; Restart\r\nProblem Solved !!","title":"Intellij Cannot resolve symbol on import","body":"<p>Faced similar issue,\nI Updated Intellij and error start coming - Can't Resolve Symbols.</p>\n<p>Went to Plugins, Updated the plugins &amp; Restart\nProblem Solved !!</p>\n"},{"tags":[],"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675313684,"creation_date":1675313684,"answer_id":75318824,"question_id":26952078,"body_markdown":"I tried every answer here , What fixed my issue was deleting .idea folder , I did invalidate caches and restart before that and a simple restart after deleting .idea , The IDE asked to reimport gradle project , after the import everything started working normally.","title":"Intellij Cannot resolve symbol on import","body":"<p>I tried every answer here , What fixed my issue was deleting .idea folder , I did invalidate caches and restart before that and a simple restart after deleting .idea , The IDE asked to reimport gradle project , after the import everything started working normally.</p>\n"}],"owner":{"account_id":3972835,"reputation":2564,"user_id":3276930,"display_name":"a5af"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457990,"favorite_count":0,"down_vote_count":0,"up_vote_count":229,"accepted_answer_id":75318824,"answer_count":32,"score":229,"last_activity_date":1693490758,"creation_date":1416094772,"question_id":26952078,"body_markdown":"This problem happens intermittently for different libraries and different projects.\r\nWhen trying to import a library, the package will be recognized, but the class name can&#39;t be resolved.\r\n \r\nIf on the import statement, I `right-click -&gt; Goto -&gt; the package&#39;s declaration`, I see all the decompiled classes displayed in the side pane -- Including the ones I need --\r\nIf I try to auto-complete the import statement, I notice the class I need is not featured in the dropdown.\r\n \r\nI tried invalidating caches already, doesn&#39;t work. I cannot find any class conflicts -- there is no other jar file in my classpath with the same package name.\r\nI am able to import this class into other projects.\r\n \r\nPlease see screen shots:\r\n\r\n[![][2]][1]\r\n\r\n[![][4]][3]\r\n\r\n \r\nAnyone have a clue?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WwQ5f.png\r\n  [2]: http://i.stack.imgur.com/WwQ5fl.png\r\n  [3]: http://i.stack.imgur.com/6OXn2.png\r\n  [4]: http://i.stack.imgur.com/6OXn2l.png","title":"Intellij Cannot resolve symbol on import","body":"<p>This problem happens intermittently for different libraries and different projects.\nWhen trying to import a library, the package will be recognized, but the class name can't be resolved.</p>\n<p>If on the import statement, I <code>right-click -&gt; Goto -&gt; the package's declaration</code>, I see all the decompiled classes displayed in the side pane -- Including the ones I need --\nIf I try to auto-complete the import statement, I notice the class I need is not featured in the dropdown.</p>\n<p>I tried invalidating caches already, doesn't work. I cannot find any class conflicts -- there is no other jar file in my classpath with the same package name.\nI am able to import this class into other projects.</p>\n<p>Please see screen shots:</p>\n<p><a href=\"https://i.stack.imgur.com/WwQ5f.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WwQ5fl.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6OXn2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6OXn2l.png\" alt=\"\" /></a></p>\n<p>Anyone have a clue?</p>\n"},{"tags":["java","android-studio","build","android-app-bundle"],"comments":[{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674451,"post_id":77016608,"comment_id":136053532,"body_markdown":"Have you already changed the build variant to release?","body":"Have you already changed the build variant to release?"},{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674556,"post_id":77016608,"comment_id":136053550,"body_markdown":"If this does not work then use:  File -&gt; Invalidate Cache / Restart","body":"If this does not work then use:  File -&gt; Invalidate Cache / Restart"}],"owner":{"account_id":28598919,"reputation":13,"user_id":21903052,"display_name":"Tiaan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490747,"creation_date":1693490747,"question_id":77016608,"body_markdown":"I have a project and I want to export the project to an `.aab` file. But when i go to build the option to do that isn&#39;t there.\r\nHere is an image to show you what the problem is that I am facing:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is a java android project, but the option to export to an `.aab` (as shown above isn&#39;t there). Do you have any idea how to fix this or how to get the option\r\n\r\nThis is how other poeple Build Tab looks inside android studio:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHMb0.png\r\n  [2]: https://i.stack.imgur.com/luu0H.png","title":"Android Studio Build tab not showing build app bundle","body":"<p>I have a project and I want to export the project to an <code>.aab</code> file. But when i go to build the option to do that isn't there.\nHere is an image to show you what the problem is that I am facing:</p>\n<p><a href=\"https://i.stack.imgur.com/vHMb0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHMb0.png\" alt=\"enter image description here\" /></a></p>\n<p>It is a java android project, but the option to export to an <code>.aab</code> (as shown above isn't there). Do you have any idea how to fix this or how to get the option</p>\n<p>This is how other poeple Build Tab looks inside android studio:</p>\n<p><a href=\"https://i.stack.imgur.com/luu0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luu0H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693489264,"post_id":77016170,"comment_id":135770149,"body_markdown":"No - Within JPA, you are dealing with Java objects, so have to find a way to copy or clone each. I&#39;m not sure what is huge about reading in a set of As and iterating over a copy method in a loop. Streams can make it pretty, and if you put it all in one transaction with batch writing enabled, it could be issued to the DB in one insert statement. Alternatively though if yo don&#39;t want to read in all As, you can try native SQL with something similar to &quot;INSERT INTO A (id) SELECT id FROM B WHERE ...&quot;  do the work for you. See  https://www.w3schools.com/sql/sql_insert_into_select.asp","body":"No - Within JPA, you are dealing with Java objects, so have to find a way to copy or clone each. I&#39;m not sure what is huge about reading in a set of As and iterating over a copy method in a loop. Streams can make it pretty, and if you put it all in one transaction with batch writing enabled, it could be issued to the DB in one insert statement. Alternatively though if yo don&#39;t want to read in all As, you can try native SQL with something similar to &quot;INSERT INTO A (id) SELECT id FROM B WHERE ...&quot;  do the work for you. See  <a href=\"https://www.w3schools.com/sql/sql_insert_into_select.asp\" rel=\"nofollow noreferrer\">w3schools.com/sql/sql_insert_into_select.asp</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1693489735,"post_id":77016170,"comment_id":135770262,"body_markdown":"A could have a buildB method within it, since if you change class A to add properties, you should deal with its own methods and the contracts on them at the same time. then it would be simply query.getResultList().stream().forEach(a-&gt;tableBRepository.save(a.buildB()));. Alternatively, you could build something to reflectively look at the A class, iterate over all its properties, instantiate a B instance and set all the matching B properties based solely on the property name. It can be done, but seems like much more work, effort and risk of going wrong than maintaining a copy method","body":"A could have a buildB method within it, since if you change class A to add properties, you should deal with its own methods and the contracts on them at the same time. then it would be simply query.getResultList().stream().forEach(a-&gt;tableBRepository.s&zwnj;&#8203;ave(a.buildB()));. Alternatively, you could build something to reflectively look at the A class, iterate over all its properties, instantiate a B instance and set all the matching B properties based solely on the property name. It can be done, but seems like much more work, effort and risk of going wrong than maintaining a copy method"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1693500000,"post_id":77016170,"comment_id":135772638,"body_markdown":"If you dont need any fancy java code you could simply use an insert into select from query. But you need two entities in JPA as an Entity cannot be shared. If its about auditing you can check if Hibernate Envers can work for you.","body":"If you dont need any fancy java code you could simply use an insert into select from query. But you need two entities in JPA as an Entity cannot be shared. If its about auditing you can check if Hibernate Envers can work for you."}],"answers":[{"tags":[],"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693489282,"creation_date":1693489282,"answer_id":77016414,"question_id":77016170,"body_markdown":"Using an ORM, I guess I would simply make use of the standard JPA `@Embedded` and `@Embeddable` annotations to reuse certain mappings that reoccur and make sense to bundle while using of course two separate entities.\r\n\r\n\r\nYou can then map the entities manually (which is my personal preference as there is nothing wrong with some manual one-time labour) or use a reflection library like [MapStruct](https://mapstruct.org/) to try and ease the pain when mapping until it doesn&#39;t exactly do what you expect and you then spend 20 minutes debugging the thing. ","title":"Spring JPA copy entity to another table with the same columns","body":"<p>Using an ORM, I guess I would simply make use of the standard JPA <code>@Embedded</code> and <code>@Embeddable</code> annotations to reuse certain mappings that reoccur and make sense to bundle while using of course two separate entities.</p>\n<p>You can then map the entities manually (which is my personal preference as there is nothing wrong with some manual one-time labour) or use a reflection library like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> to try and ease the pain when mapping until it doesn't exactly do what you expect and you then spend 20 minutes debugging the thing.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693490506,"creation_date":1693490506,"answer_id":77016578,"question_id":77016170,"body_markdown":"Please use Mapstruct library which is aptly suited for this job.\r\n\r\n    @Mapper(\r\n        componentModel = &quot;spring&quot;,\r\n        nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\r\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    public interface AgencyLocationMapper {\r\n    \r\n      // Map table A to table B\r\n      TableB mapToTableB(TableA tableA);\r\n\r\n    }\r\n\r\n","title":"Spring JPA copy entity to another table with the same columns","body":"<p>Please use Mapstruct library which is aptly suited for this job.</p>\n<pre><code>@Mapper(\n    componentModel = &quot;spring&quot;,\n    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\n    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface AgencyLocationMapper {\n\n  // Map table A to table B\n  TableB mapToTableB(TableA tableA);\n\n}\n</code></pre>\n"}],"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693490506,"creation_date":1693487734,"question_id":77016170,"body_markdown":"I want to copy an entry from my table `A` to table `B`. table `A` and `B` have the same columns.\r\n\r\nTo do this I would need two Java entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;A&quot;)\r\n    public class TableA{\r\n       @Id \r\n       @GeneratedValue\r\n       @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\r\n       @Column(name = &quot;id&quot;)\r\n       private int id;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;B&quot;)\r\n    public class TableB{\r\n       @Id\r\n       @Column(name = &quot;id&quot;)\r\n       private int id;\r\n    }\r\n\r\nAnd then map each value from `A` to `B`\r\n    \r\n    @PreRemove\r\n    public void insertIntoB(TableA tableA) {\r\n       TableB tableB = new TableB();\r\n       tableB.setId(tableA.getId());\r\n       tableBRepository.save(tableB);\r\n    }\r\n\r\nThis approach would be fine when Table `A` and `B` only have 1 column, but in my case I am working with 50+, so the `insertIntoB` method would be huge. Also I will have to maintain two Java entities with this approach, since if there are changes made to table `A` then those changes also have to be reflected in the table `B` entity. And `insertIntoB` would also have to be changed after every added new column to table `A`.\r\n\r\nHow can I make this solution more elegant? Is there a way to share one entity object for both tables or map the values from `A` automatically to `B`? Please consider that table `A` uses a `SequenceGenerator` while table `B` simply uses the passed `id` from table `A`.\r\n\r\n","title":"Spring JPA copy entity to another table with the same columns","body":"<p>I want to copy an entry from my table <code>A</code> to table <code>B</code>. table <code>A</code> and <code>B</code> have the same columns.</p>\n<p>To do this I would need two Java entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;A&quot;)\npublic class TableA{\n   @Id \n   @GeneratedValue\n   @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;, allocationSize=1)\n   @Column(name = &quot;id&quot;)\n   private int id;\n}\n\n@Entity\n@Table(name = &quot;B&quot;)\npublic class TableB{\n   @Id\n   @Column(name = &quot;id&quot;)\n   private int id;\n}\n</code></pre>\n<p>And then map each value from <code>A</code> to <code>B</code></p>\n<pre><code>@PreRemove\npublic void insertIntoB(TableA tableA) {\n   TableB tableB = new TableB();\n   tableB.setId(tableA.getId());\n   tableBRepository.save(tableB);\n}\n</code></pre>\n<p>This approach would be fine when Table <code>A</code> and <code>B</code> only have 1 column, but in my case I am working with 50+, so the <code>insertIntoB</code> method would be huge. Also I will have to maintain two Java entities with this approach, since if there are changes made to table <code>A</code> then those changes also have to be reflected in the table <code>B</code> entity. And <code>insertIntoB</code> would also have to be changed after every added new column to table <code>A</code>.</p>\n<p>How can I make this solution more elegant? Is there a way to share one entity object for both tables or map the values from <code>A</code> automatically to <code>B</code>? Please consider that table <code>A</code> uses a <code>SequenceGenerator</code> while table <code>B</code> simply uses the passed <code>id</code> from table <code>A</code>.</p>\n"},{"tags":["java","unit-testing","testing","mocking","mockito"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1285417905,"post_id":3793791,"comment_id":4020714,"body_markdown":"The ideal is not to need to mock final methods, of course. You haven&#39;t told us anything about why you&#39;re trying to do this. I normally try hard to keep my dependencies to interfaces... is there any way you could use an interface which proxies to the real class (assuming you can&#39;t change the class itself)?","body":"The ideal is not to need to mock final methods, of course. You haven&#39;t told us anything about why you&#39;re trying to do this. I normally try hard to keep my dependencies to interfaces... is there any way you could use an interface which proxies to the real class (assuming you can&#39;t change the class itself)?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":1,"creation_date":1285418108,"post_id":3793791,"comment_id":4020730,"body_markdown":"This class from some legacy code.","body":"This class from some legacy code."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1285418478,"post_id":3793791,"comment_id":4020765,"body_markdown":"Do you have no option to modify it? Or to proxy to it via another class which implements an interface?","body":"Do you have no option to modify it? Or to proxy to it via another class which implements an interface?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":2,"creation_date":1285418836,"post_id":3793791,"comment_id":4020787,"body_markdown":"@Jon Skeet: I can&#39;t modify it. You see, it&#39;s library (SWT). There are interface IFigure and implementation - Figure. But IFigure doen&#39;t contains getLocation().","body":"@Jon Skeet: I can&#39;t modify it. You see, it&#39;s library (SWT). There are interface IFigure and implementation - Figure. But IFigure doen&#39;t contains getLocation()."},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1285419189,"post_id":3793791,"comment_id":4020818,"body_markdown":"@Jon Skeet: sorry, not SWT. It&#39;s org.eclipse.draw2d.","body":"@Jon Skeet: sorry, not SWT. It&#39;s org.eclipse.draw2d."}],"answers":[{"tags":[],"owner":{"account_id":109996,"reputation":25916,"user_id":291244,"accept_rate":83,"display_name":"iwein"},"down_vote_count":2,"up_vote_count":39,"is_accepted":true,"score":37,"last_activity_date":1458048713,"creation_date":1285418895,"answer_id":3793861,"question_id":3793791,"body_markdown":"There is no support for mocking final methods in Mockito.\r\n\r\nAs Jon Skeet commented you should be looking for a way to avoid the dependency on the final method. That said, there are some ways out through bytecode manipulation (e.g. with PowerMock)\r\n\r\nA [comparison between Mockito and PowerMock][1] will explain things in detail.\r\n\r\n  [1]: http://blog.griddynamics.com/2010/03/mocking-with-mockito-and-powermock.html","title":"Final method mocking","body":"<p>There is no support for mocking final methods in Mockito.</p>\n\n<p>As Jon Skeet commented you should be looking for a way to avoid the dependency on the final method. That said, there are some ways out through bytecode manipulation (e.g. with PowerMock)</p>\n\n<p>A <a href=\"http://blog.griddynamics.com/2010/03/mocking-with-mockito-and-powermock.html\" rel=\"noreferrer\">comparison between Mockito and PowerMock</a> will explain things in detail.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1436804198,"creation_date":1285429720,"answer_id":3794448,"question_id":3793791,"body_markdown":"From the [Mockito FAQ][1]:\r\n\r\n&gt;**What are the limitations of Mockito**\r\n&gt;  \r\n&gt; - Cannot mock final methods - their real behavior is executed without any exception. Mockito cannot warn you about mocking final methods so be vigilant.\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/FAQ","title":"Final method mocking","body":"<p>From the <a href=\"https://github.com/mockito/mockito/wiki/FAQ\" rel=\"noreferrer\">Mockito FAQ</a>:</p>\n\n<blockquote>\n  <p><strong>What are the limitations of Mockito</strong></p>\n  \n  <ul>\n  <li>Cannot mock final methods - their real behavior is executed without any exception. Mockito cannot warn you about mocking final methods so be vigilant.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1348414429,"creation_date":1348142497,"answer_id":12512183,"question_id":3793791,"body_markdown":"You can use Powermock together with Mockito, then you do not need to subclass B.class. Just add this to the top of your test class\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(B.class)\r\n\r\n`@PrepareForTest` instructs Powermock to instrument B.class to make the final and static methods mockable. A disadvantage of this approach is that you must use PowerMockRunner which precludes use of other test runners such as the Spring test runner.\r\n\r\n\r\n\r\n\r\n","title":"Final method mocking","body":"<p>You can use Powermock together with Mockito, then you do not need to subclass B.class. Just add this to the top of your test class</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(B.class)\n</code></pre>\n\n<p><code>@PrepareForTest</code> instructs Powermock to instrument B.class to make the final and static methods mockable. A disadvantage of this approach is that you must use PowerMockRunner which precludes use of other test runners such as the Spring test runner.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643742657,"creation_date":1380584174,"answer_id":19105628,"question_id":3793791,"body_markdown":"I just did this same thing.  My case was that I wanted to ensure the method didn&#39;t cause an error. But, since it&#39;s a catch/log/return method, I couldn&#39;t test for it directly without modifying the class.\r\n\r\nI wanted to simply mock the logger I passed in. But, something about mocking the `Log` interface didn&#39;t seem to work, and mocking a class like `SimpleLog` didn&#39;t work because those methods are final.\r\n\r\nI ended up creating an anonymous inner class extending `SimpleLog` that overrode the base-level `log(level, string, error)` method that the others all delegate to. Then the test is just waiting for a call with a `level` of 5.\r\n\r\nIn general, extending a class for behavior isn&#39;t really a bad idea, and might be preferable to mocking anyway if it&#39;s not too complicated.","title":"Final method mocking","body":"<p>I just did this same thing.  My case was that I wanted to ensure the method didn't cause an error. But, since it's a catch/log/return method, I couldn't test for it directly without modifying the class.</p>\n<p>I wanted to simply mock the logger I passed in. But, something about mocking the <code>Log</code> interface didn't seem to work, and mocking a class like <code>SimpleLog</code> didn't work because those methods are final.</p>\n<p>I ended up creating an anonymous inner class extending <code>SimpleLog</code> that overrode the base-level <code>log(level, string, error)</code> method that the others all delegate to. Then the test is just waiting for a call with a <code>level</code> of 5.</p>\n<p>In general, extending a class for behavior isn't really a bad idea, and might be preferable to mocking anyway if it's not too complicated.</p>\n"},{"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1476020372,"creation_date":1476020372,"answer_id":39944265,"question_id":3793791,"body_markdown":"Mockito 2 now supports mocking final methods but that&#39;s an &quot;incubating&quot; feature. It requires some steps to activate it which are described here:\r\n[https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods][1]\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","title":"Final method mocking","body":"<p>Mockito 2 now supports mocking final methods but that's an \"incubating\" feature. It requires some steps to activate it which are described here:\n<a href=\"https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/What's-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods</a></p>\n"},{"tags":[],"owner":{"account_id":10764237,"reputation":31,"user_id":7919763,"display_name":"Murtuza Mithaiwala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493128931,"creation_date":1493128931,"answer_id":43612875,"question_id":3793791,"body_markdown":"Assuming that B class is as below:\r\n\r\n    class B {\r\n        private String barValue;\r\n        public final String bar() {\r\n            return barValue;\r\n        }\r\n        public void final setBar(String barValue) {\r\n            this.barValue = barValue;\r\n        }\r\n    }\r\n      \r\nThere is a better way to do this without using PowerMockito framework.\r\nYou can create a SPY for your class and can mock your final method.\r\nBelow is the way to do it:\r\n\r\n    @Test\r\n    public void test() {\r\n    \r\n        B b  = new B();\r\n        b.setBar(&quot;bar called&quot;) //This should the expected output:final_method_bar()\r\n        B spyB = Mockito.spy(b);\r\n        assertEquals(&quot;bar called&quot;, spyB.bar());\r\n    \r\n    }\r\n\r\n","title":"Final method mocking","body":"<p>Assuming that B class is as below:</p>\n\n<pre><code>class B {\n    private String barValue;\n    public final String bar() {\n        return barValue;\n    }\n    public void final setBar(String barValue) {\n        this.barValue = barValue;\n    }\n}\n</code></pre>\n\n<p>There is a better way to do this without using PowerMockito framework.\nYou can create a SPY for your class and can mock your final method.\nBelow is the way to do it:</p>\n\n<pre><code>@Test\npublic void test() {\n\n    B b  = new B();\n    b.setBar(\"bar called\") //This should the expected output:final_method_bar()\n    B spyB = Mockito.spy(b);\n    assertEquals(\"bar called\", spyB.bar());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161827,"reputation":2337,"user_id":382892,"accept_rate":78,"display_name":"Cypress Frankenfeld"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545151078,"creation_date":1545151078,"answer_id":53837478,"question_id":3793791,"body_markdown":"Mockito 2.x now supports final method and final class stubbing.\n\n[From the docs][1]:\n\n&gt;Mocking of final classes and methods is an incubating, opt-in feature. This feature has to be explicitly activated by creating the file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing a single line:\n&gt;\n&gt;    `mock-maker-inline`\n&gt;\n&gt;After you create this file you can do:\n&gt; \n&gt; \n&gt;     final class FinalClass {\n&gt;       final String finalMethod() { return &quot;something&quot;; }\n&gt;     }\n&gt;     \n&gt;     FinalClass concrete = new FinalClass(); \n&gt;     \n&gt;     FinalClass mock = mock(FinalClass.class);\n&gt;     given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n&gt;     \n&gt;     assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n&gt; \n&gt; \n&gt;In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios.\n\n\n  [1]: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","title":"Final method mocking","body":"<p>Mockito 2.x now supports final method and final class stubbing.</p>\n<p><a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">From the docs</a>:</p>\n<blockquote>\n<p>Mocking of final classes and methods is an incubating, opt-in feature. This feature has to be explicitly activated by creating the file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing a single line:</p>\n<p><code>mock-maker-inline</code></p>\n<p>After you create this file you can do:</p>\n<pre><code>final class FinalClass {\n  final String finalMethod() { return &quot;something&quot;; }\n}\n\nFinalClass concrete = new FinalClass(); \n\nFinalClass mock = mock(FinalClass.class);\ngiven(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n\nassertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n</code></pre>\n<p>In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647002153,"creation_date":1647002153,"answer_id":71438617,"question_id":3793791,"body_markdown":"Mockito can be used to mock final classes or final methods. The problem is, this doesn&#39;t come as out of the box feature from Mockito and needs to be configured explicitely.\r\n\r\nSo, in order to do that,\r\n\r\nCreate a text file named `org.mockito.plugins.MockMaker`  to the project&#39;s `src/test/resources/mockito-extensions` directory and add a single line of text as below\r\n\r\n    mock-maker-inline\r\n\r\nOnce done, you can use the mockito&#39;s **when** method to mock the behaviour like any other regular method.\r\n\r\nSee detailed examples [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-final","title":"Final method mocking","body":"<p>Mockito can be used to mock final classes or final methods. The problem is, this doesn't come as out of the box feature from Mockito and needs to be configured explicitely.</p>\n<p>So, in order to do that,</p>\n<p>Create a text file named <code>org.mockito.plugins.MockMaker</code>  to the project's <code>src/test/resources/mockito-extensions</code> directory and add a single line of text as below</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Once done, you can use the mockito's <strong>when</strong> method to mock the behaviour like any other regular method.</p>\n<p>See detailed examples <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693490489,"creation_date":1693490489,"answer_id":77016575,"question_id":3793791,"body_markdown":"In case you don&#39;t want to use `mock-maker-inline` or `PowerMock` (like in my case where usage of these caused some other tests of the monolith app to fail), you can do this:\r\n\r\n 1. Wrap the method calls of final class or final methods in protected methods inside the class under test.\r\n 2. `@Spy` the class you want to test and mock the protected methods you created in #1\r\n\r\nRefer these for mocking methods of class under test : https://stackoverflow.com/questions/39198848/mock-methods-in-same-class and https://stackoverflow.com/questions/23958611/how-to-mock-another-method-in-the-same-class-which-is-being-tested","title":"Final method mocking","body":"<p>In case you don't want to use <code>mock-maker-inline</code> or <code>PowerMock</code> (like in my case where usage of these caused some other tests of the monolith app to fail), you can do this:</p>\n<ol>\n<li>Wrap the method calls of final class or final methods in protected methods inside the class under test.</li>\n<li><code>@Spy</code> the class you want to test and mock the protected methods you created in #1</li>\n</ol>\n<p>Refer these for mocking methods of class under test : <a href=\"https://stackoverflow.com/questions/39198848/mock-methods-in-same-class\">mock methods in same class</a> and <a href=\"https://stackoverflow.com/questions/23958611/how-to-mock-another-method-in-the-same-class-which-is-being-tested\">How to mock another method in the same class which is being tested?</a></p>\n"}],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91642,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":3793861,"answer_count":9,"score":75,"last_activity_date":1693490489,"creation_date":1285417678,"question_id":3793791,"body_markdown":"I need mock some class with final method using mockito. I have wrote something like this \r\n\r\n    @Test\r\n    public void test() {\r\n        B b = mock(B.class);\r\n        doReturn(&quot;bar called&quot;).when(b).bar();   \r\n        assertEquals(&quot;must be \\&quot;overrided\\&quot;&quot;, &quot;bar called&quot;, b.bar());\r\n        //bla-bla\r\n    }\r\n    \r\n    \r\n    class B {\r\n        public final String bar() {\r\n            return &quot;fail&quot;;\r\n        }\r\n    }\r\nBut it fails. \r\nI tried some &quot;hack&quot; and it works.\r\n\r\n       @Test\r\n       public void hackTest() {\r\n            class NewB extends B {\r\n                public String barForTest() {\r\n                    return bar();\r\n                }\r\n            }\r\n            NewB b = mock(NewB.class);\r\n            doReturn(&quot;bar called&quot;).when(b).barForTest();\r\n            assertEquals(&quot;must be \\&quot;overrided\\&quot;&quot;, &quot;bar called&quot;, b.barForTest());\r\n        }\r\nIt works, but &quot;smells&quot;.\r\n\r\nSo, Where is the right way?\r\n\r\nThanks.\r\n\r\n","title":"Final method mocking","body":"<p>I need mock some class with final method using mockito. I have wrote something like this </p>\n\n<pre><code>@Test\npublic void test() {\n    B b = mock(B.class);\n    doReturn(\"bar called\").when(b).bar();   \n    assertEquals(\"must be \\\"overrided\\\"\", \"bar called\", b.bar());\n    //bla-bla\n}\n\n\nclass B {\n    public final String bar() {\n        return \"fail\";\n    }\n}\n</code></pre>\n\n<p>But it fails. \nI tried some \"hack\" and it works.</p>\n\n<pre><code>   @Test\n   public void hackTest() {\n        class NewB extends B {\n            public String barForTest() {\n                return bar();\n            }\n        }\n        NewB b = mock(NewB.class);\n        doReturn(\"bar called\").when(b).barForTest();\n        assertEquals(\"must be \\\"overrided\\\"\", \"bar called\", b.barForTest());\n    }\n</code></pre>\n\n<p>It works, but \"smells\".</p>\n\n<p>So, Where is the right way?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","windows","encryption","ssl-certificate","mmc"],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490371,"creation_date":1690373242,"question_id":76771123,"body_markdown":"I am trying to read a private key from the windows keystore (Windows-ROOT) and using it for decrypting the encrypted assertion in an application configured with SAML for authentication. But encountered the below error:\r\n&lt;pre&gt;\r\norg.apache.xml.security.encryption.XMLEncryptionException: No installed provider supports this key: sun.security.mscapi.CPrivateKey\r\n\tat org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1499) ~[xmlsec-2.1.7.jar:2.1.7]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:708) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:639) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:794) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptDataToDOM(Decrypter.java:535) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptDataToList(Decrypter.java:453) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.xml.encryption.Decrypter.decryptData(Decrypter.java:414) [xmltooling-1.4.4.jar:?]\r\n\tat org.opensaml.saml2.encryption.Decrypter.decryptData(Decrypter.java:141) [opensaml-2.6.6.jar:?]\r\n\tat org.opensaml.saml2.encryption.Decrypter.decrypt(Decrypter.java:69) [opensaml-2.6.6.jar:?]\r\n&lt;/pre&gt;\r\n\r\nThe code used to read the key from MMC is:\r\n```\r\n    KeyStore keystore = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\r\n    keystore.load(null, null);\r\n    String certificateAlias = &quot;privatekey&quot;;\r\n    String p = &quot;changeit&quot;;\r\n    PrivateKey certificate = (PrivateKey) keystore.getKey(certificateAlias, p.toCharArray());\r\n```\r\n\r\nI have tried the following approaches to resolve the issue but was unable to resolve it.\r\n\r\n - I have checked that the US_export_policy and local_policy jars are already present in ${JAVA_HOME}\\lib\\security location.\r\n - I tried to  explicitly cast the PrivateKey read from the MMC to java based RSAPrivateKey, but faced ClassCastExceptions.\r\n - I tried to use Bouncy Castle Provider while reading the keys from MMC but found out that we can only use SunMSCAPI provider to read certs from MMC.\r\n - I have listed down the providers before passing the encrypted assertion to decrypt method (org.opensaml.saml2.encryption.Decrypter.decrypt). I could find SunMSCAPI. \r\n\r\nCan anyone let me know where I am going wrong??","title":"Decryption of assertion using Private key from Windows Keystore","body":"<p>I am trying to read a private key from the windows keystore (Windows-ROOT) and using it for decrypting the encrypted assertion in an application configured with SAML for authentication. But encountered the below error:</p>\n<pre>\norg.apache.xml.security.encryption.XMLEncryptionException: No installed provider supports this key: sun.security.mscapi.CPrivateKey\n    at org.apache.xml.security.encryption.XMLCipher.decryptKey(XMLCipher.java:1499) ~[xmlsec-2.1.7.jar:2.1.7]\n    at org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:708) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptKey(Decrypter.java:639) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptUsingResolvedEncryptedKey(Decrypter.java:794) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptDataToDOM(Decrypter.java:535) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptDataToList(Decrypter.java:453) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.xml.encryption.Decrypter.decryptData(Decrypter.java:414) [xmltooling-1.4.4.jar:?]\n    at org.opensaml.saml2.encryption.Decrypter.decryptData(Decrypter.java:141) [opensaml-2.6.6.jar:?]\n    at org.opensaml.saml2.encryption.Decrypter.decrypt(Decrypter.java:69) [opensaml-2.6.6.jar:?]\n</pre>\n<p>The code used to read the key from MMC is:</p>\n<pre><code>    KeyStore keystore = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\n    keystore.load(null, null);\n    String certificateAlias = &quot;privatekey&quot;;\n    String p = &quot;changeit&quot;;\n    PrivateKey certificate = (PrivateKey) keystore.getKey(certificateAlias, p.toCharArray());\n</code></pre>\n<p>I have tried the following approaches to resolve the issue but was unable to resolve it.</p>\n<ul>\n<li>I have checked that the US_export_policy and local_policy jars are already present in ${JAVA_HOME}\\lib\\security location.</li>\n<li>I tried to  explicitly cast the PrivateKey read from the MMC to java based RSAPrivateKey, but faced ClassCastExceptions.</li>\n<li>I tried to use Bouncy Castle Provider while reading the keys from MMC but found out that we can only use SunMSCAPI provider to read certs from MMC.</li>\n<li>I have listed down the providers before passing the encrypted assertion to decrypt method (org.opensaml.saml2.encryption.Decrypter.decrypt). I could find SunMSCAPI.</li>\n</ul>\n<p>Can anyone let me know where I am going wrong??</p>\n"},{"tags":["java","spring-boot","reflection","annotations"],"comments":[{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693490370,"post_id":77014715,"comment_id":135770426,"body_markdown":"I have updated the code example :). I mean that the first loop works, the second doesn&#39;t. So the call to `reflections.getTypesAnnotatedWith(Listener.class)` returns an empty list.","body":"I have updated the code example :). I mean that the first loop works, the second doesn&#39;t. So the call to <code>reflections.getTypesAnnotatedWith(Listener.class)</code> returns an empty list."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693491287,"post_id":77014715,"comment_id":135770660,"body_markdown":"Is the difference caused by which annotation youre looking for or by which classes have the annotation?","body":"Is the difference caused by which annotation youre looking for or by which classes have the annotation?"},{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693491967,"post_id":77014715,"comment_id":135770833,"body_markdown":"Good point! It seems like the issue is the class having the annotation. I annotated a class with both annotations and I could see from the logs that it hasn&#39;t been detected at all. So I think there is some classpath issue with Spring, though I can&#39;t figure out what it is. I have classes in a different Maven module (and package) that are detected just well ...","body":"Good point! It seems like the issue is the class having the annotation. I annotated a class with both annotations and I could see from the logs that it hasn&#39;t been detected at all. So I think there is some classpath issue with Spring, though I can&#39;t figure out what it is. I have classes in a different Maven module (and package) that are detected just well ..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693495170,"post_id":77014715,"comment_id":135771559,"body_markdown":"This might be a class loader issue. Passing the class loaders to the constructor could help.","body":"This might be a class loader issue. Passing the class loaders to the constructor could help."},{"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"score":0,"creation_date":1693496949,"post_id":77014715,"comment_id":135771948,"body_markdown":"This worked! I added the class loader via a `ConfigurationBuilder` and it now scans the classes. Thanks a lot!","body":"This worked! I added the class loader via a <code>ConfigurationBuilder</code> and it now scans the classes. Thanks a lot!"}],"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490302,"creation_date":1693475440,"question_id":77014715,"body_markdown":"I&#39;m using org.reflections:reflections to find annotated classes on the classpath within a Spring Boot application. When running the app from the IDE, everything works fine. But when I build the FAT-JAR and run it directly, it can&#39;t find *some* classes. Here&#39;s a simplified version of my code:\r\n\r\n```java\r\n// packagePrefixes is an array of strings\r\nReflections reflections = new Reflections(packagePrefixes, Scanners.TypesAnnotated);\r\n\r\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Resource.BaseClass.class)) {\r\n    // This works, it&#39;ll iterate through all classes annotated\r\n    // with Resource.BaseClass\r\n}\r\n\r\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Listener.class)) {\r\n    // This doesn&#39;t work, it won&#39;t iterate through all classes\r\n    // annotated with Listener\r\n}\r\n```\r\n\r\nBoth annotations are annotated with\r\n\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n```\r\n\r\nI already tried using precise packages so that the library won&#39;t need to iterate recursively.\r\n\r\nDoes anyone know what the problem is here? Thanks for your help :)","title":"Why does the reflections library not work in a Spring Boot application?","body":"<p>I'm using org.reflections:reflections to find annotated classes on the classpath within a Spring Boot application. When running the app from the IDE, everything works fine. But when I build the FAT-JAR and run it directly, it can't find <em>some</em> classes. Here's a simplified version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// packagePrefixes is an array of strings\nReflections reflections = new Reflections(packagePrefixes, Scanners.TypesAnnotated);\n\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Resource.BaseClass.class)) {\n    // This works, it'll iterate through all classes annotated\n    // with Resource.BaseClass\n}\n\nfor (Class&lt;?&gt; clazz : reflections.getTypesAnnotatedWith(Listener.class)) {\n    // This doesn't work, it won't iterate through all classes\n    // annotated with Listener\n}\n</code></pre>\n<p>Both annotations are annotated with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n</code></pre>\n<p>I already tried using precise packages so that the library won't need to iterate recursively.</p>\n<p>Does anyone know what the problem is here? Thanks for your help :)</p>\n"},{"tags":["java","windows","adfs","mscapi"],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693490185,"creation_date":1693490185,"question_id":77016542,"body_markdown":"I&#39;m attempting to create a functionality that reads certificates from the Windows store. My setup involves an SSO-SAML enabled environment with ADFS as the identity provider (IdP). I&#39;ve enabled encryption for the assertion. However, I&#39;m encountering a problem during the assertion decryption process. To decrypt the assertion, I&#39;ve extracted the private key from the MMC. But on attempting to decrypt the assertion using this key, I get the &quot;javax.crypto.NoSuchPaddingException: Padding not supported: OAEPPadding&quot; exception. Is it possible to disable OAEPPadding while encrypting the assertion on ADFS side.","title":"How to change the encrytion algorithm used to encrypt the assertion in ADFS?","body":"<p>I'm attempting to create a functionality that reads certificates from the Windows store. My setup involves an SSO-SAML enabled environment with ADFS as the identity provider (IdP). I've enabled encryption for the assertion. However, I'm encountering a problem during the assertion decryption process. To decrypt the assertion, I've extracted the private key from the MMC. But on attempting to decrypt the assertion using this key, I get the &quot;javax.crypto.NoSuchPaddingException: Padding not supported: OAEPPadding&quot; exception. Is it possible to disable OAEPPadding while encrypting the assertion on ADFS side.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1693494645,"post_id":77016394,"comment_id":135771448,"body_markdown":"Not a solution, however an alternative is `input.flatMap(myProcessor::doIt).flatMapMany(Flux::just)`","body":"Not a solution, however an alternative is <code>input.flatMap(myProcessor::doIt).flatMapMany(Flux::just)</code>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1693542431,"post_id":77016394,"comment_id":135777606,"body_markdown":"Not sure what is your concern but if you don&#39;t like `.flatMapIterable(data -&gt; data)` you can use `.flatMapIterable(Functions.identity())` or `.flatMapMany(Flux::fromIterable)`. Identity Function is very common pattern in functional programming.","body":"Not sure what is your concern but if you don&#39;t like <code>.flatMapIterable(data -&gt; data)</code> you can use <code>.flatMapIterable(Functions.identity())</code> or <code>.flatMapMany(Flux::fromIterable)</code>. Identity Function is very common pattern in functional programming."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1693595485,"post_id":77016394,"comment_id":135786778,"body_markdown":"The `.flatMapMany(Flux::fromIterable)` approach seems to be the most readable, thank you. Still not an operator but visually more acceptable than a lambda that consumes itself","body":"The <code>.flatMapMany(Flux::fromIterable)</code> approach seems to be the most readable, thank you. Still not an operator but visually more acceptable than a lambda that consumes itself"}],"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693489150,"creation_date":1693489150,"question_id":77016394,"body_markdown":"I&#39;m using Reactor 3 in Java and I am ofen finding myself in front of this case :\r\n\r\nI have a Mono\\&lt;A\\&gt;, that I map to a Mono\\&lt;List\\&lt;B\\&gt;\\&gt; (flatMap), and then I want to transform this into a Flux :\r\n\r\n```java\r\npublic Flux&lt;B&gt; processFragment(Mono&lt;A&gt; input) {\r\n\r\n  //myProcessor.doIt(A a) returns a Mono&lt;List&lt;B&gt;&gt;\r\n  return input.flatMap(myProcessor::doIt).flatMapIterable(data -&gt; data);\r\n\r\n}\r\n```\r\n\r\nThe operator here seems like nonsense, and easily replaceable with a no parameter method : `.flatMapIterable(data -\\&gt; data);`\r\n\r\nIs there some operator that get rid of this ? And no, I cannot make myProcessor returns a Flux.\r\n\r\nThank you","title":"Is there utils functions that merge flatMap and flatMapIterable?","body":"<p>I'm using Reactor 3 in Java and I am ofen finding myself in front of this case :</p>\n<p>I have a Mono&lt;A&gt;, that I map to a Mono&lt;List&lt;B&gt;&gt; (flatMap), and then I want to transform this into a Flux :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;B&gt; processFragment(Mono&lt;A&gt; input) {\n\n  //myProcessor.doIt(A a) returns a Mono&lt;List&lt;B&gt;&gt;\n  return input.flatMap(myProcessor::doIt).flatMapIterable(data -&gt; data);\n\n}\n</code></pre>\n<p>The operator here seems like nonsense, and easily replaceable with a no parameter method : <code>.flatMapIterable(data -\\&gt; data);</code></p>\n<p>Is there some operator that get rid of this ? And no, I cannot make myProcessor returns a Flux.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot-actuator","spring-camel"],"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693488995,"creation_date":1693488995,"question_id":77016370,"body_markdown":"The following task has been set.  There is a project on the Spring-Camel(+Actuator) stack.  The following parameters are set in the properties:\r\n\r\n 1. server.servlet.context_path=/application_name\r\n\r\n 2. camel.servlet.mapping.context-path=/api/*\r\n\r\n 3. management.endpoints.web.base-path=monitor\r\n\r\n These settings provide the following functionality:\r\n\r\n Camel REST endpoints contain the following path: http://localhost:8080/application_name/api/endpoint_name\r\n\r\n The metrics are on the path: http://localhost:8080/application_name/monitor/*\r\n\r\n It is necessary to remove the word api from the path for endpoints, however, if you set the property to the following value camel.servlet.mapping.context-path=/*, monitor stops working and camel treats it as an endpoint (gives 404).  Who can tell if there is a solution for this problem?  Cannot change the monitor path.\r\n\r\nI thought about the possibility of excluding a certain path pattern from Camel, but did not find this setting). ","title":"Exclude path pattern from Camel REST","body":"<p>The following task has been set.  There is a project on the Spring-Camel(+Actuator) stack.  The following parameters are set in the properties:</p>\n<ol>\n<li><p>server.servlet.context_path=/application_name</p>\n</li>\n<li><p>camel.servlet.mapping.context-path=/api/*</p>\n</li>\n<li><p>management.endpoints.web.base-path=monitor</p>\n</li>\n</ol>\n<p>These settings provide the following functionality:</p>\n<p>Camel REST endpoints contain the following path: http://localhost:8080/application_name/api/endpoint_name</p>\n<p>The metrics are on the path: http://localhost:8080/application_name/monitor/*</p>\n<p>It is necessary to remove the word api from the path for endpoints, however, if you set the property to the following value camel.servlet.mapping.context-path=/*, monitor stops working and camel treats it as an endpoint (gives 404).  Who can tell if there is a solution for this problem?  Cannot change the monitor path.</p>\n<p>I thought about the possibility of excluding a certain path pattern from Camel, but did not find this setting).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693406830,"post_id":77009075,"comment_id":135757242,"body_markdown":"Perhaps start by removing the slf4j jar (and possibly from your build dependencies) as that is already contained in logback-classic","body":"Perhaps start by removing the slf4j jar (and possibly from your build dependencies) as that is already contained in logback-classic"}],"owner":{"account_id":20401712,"reputation":13,"user_id":14967286,"display_name":"vaishnavi banait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693488536,"creation_date":1693406551,"question_id":77009075,"body_markdown":"I&#39;m am running springboot application in tomcat so getting the following error. It seems there are multiple slf4j. Not sure how to resolve this. Any help is greatly appreciated.\r\n\r\n\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/logback-classic-1.2.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n28-Aug-2023 00:02:45.047 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n28-Aug-2023 00:02:45.048 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/application] startup failed due to previous errors\r\nI have tried exclusions the dependency but not working -\r\n\r\n                        \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springBoot.version}&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springBoot.version}&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\r\n                            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n\r\nThe pom file uses a spring boot parent we created ourselves. Maybe that is where the exclusions need to take place?\r\n\r\n    \r\n\r\n","title":"Facing error SLF4J: Class path contains multiple SLF4J bindings","body":"<p>I'm am running springboot application in tomcat so getting the following error. It seems there are multiple slf4j. Not sure how to resolve this. Any help is greatly appreciated.</p>\n<p>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/admin/Downloads/apache-tomcat-9.0.69-windows-x64/apache-tomcat-9.0.69/webapps/mobius/WEB-INF/lib/logback-classic-1.2.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#multiple_bindings</a> for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n28-Aug-2023 00:02:45.047 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n28-Aug-2023 00:02:45.048 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/application] startup failed due to previous errors\nI have tried exclusions the dependency but not working -</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n                &lt;version&gt;${springBoot.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${springBoot.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n\n                        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>The pom file uses a spring boot parent we created ourselves. Maybe that is where the exclusions need to take place?</p>\n"},{"tags":["java","visual-studio-code","user-input"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1693487364,"post_id":77016074,"comment_id":135769678,"body_markdown":"Did you take a look at this [question](https://stackoverflow.com/questions/71030502/visual-studio-code-is-not-taking-input-from-keyboard-when-i-use-c-or-java)?  I am not familiar with VS code, but it seems to be same problem.","body":"Did you take a look at this <a href=\"https://stackoverflow.com/questions/71030502/visual-studio-code-is-not-taking-input-from-keyboard-when-i-use-c-or-java\">question</a>?  I am not familiar with VS code, but it seems to be same problem."},{"owner":{"account_id":24215399,"reputation":19,"user_id":18171365,"display_name":"risni"},"score":0,"creation_date":1693488458,"post_id":77016074,"comment_id":135769922,"body_markdown":"thank you for your assistance I did it that way and now it works well","body":"thank you for your assistance I did it that way and now it works well"}],"answers":[{"tags":[],"owner":{"account_id":29288272,"reputation":29,"user_id":22439310,"display_name":"MentalBoolean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693487477,"creation_date":1693487477,"answer_id":77016140,"question_id":77016074,"body_markdown":"I suggest you to check the official website of Visual Studio Code editor about this topic.\r\n\r\n[Link to the topic][1]\r\n\r\nEspecially the part:\r\n\r\n&gt; **Debug session inputs**\r\nThe default Debug Console in VS Code doesn&#39;t support inputs. If your program need inputs from a terminal, you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it. You can also use the user setting java.debug.settings.console to configure a global console for all Java debug sessions.\r\n\r\nPart can be useful for you. Good luck! \r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-debugging","title":"Unable to get User input for the Java program written in Visual Studio Code Editor","body":"<p>I suggest you to check the official website of Visual Studio Code editor about this topic.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-debugging\" rel=\"nofollow noreferrer\">Link to the topic</a></p>\n<p>Especially the part:</p>\n<blockquote>\n<p><strong>Debug session inputs</strong>\nThe default Debug Console in VS Code doesn't support inputs. If your program need inputs from a terminal, you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it. You can also use the user setting java.debug.settings.console to configure a global console for all Java debug sessions.</p>\n</blockquote>\n<p>Part can be useful for you. Good luck!</p>\n"}],"owner":{"account_id":24215399,"reputation":19,"user_id":18171365,"display_name":"risni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693491961,"answer_count":1,"score":-1,"last_activity_date":1693487477,"creation_date":1693486867,"question_id":77016074,"body_markdown":"I experimented with java code that expected user input. However, I am unable to type anything in the Visual Studio Code Editor&#39;s designated space. To fix this issue, I installed the Java Development Pack Extensions, but nothing worked. \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n      public static void main(String[] args){\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        int age;\r\n    \r\n        System.out.println(&quot;Enter age:&quot;);\r\n        age= sc.nextInt();\r\n        \r\n        \r\n      }\r\n    }\r\n\r\nI used Visual Studio Code editor to try and get user input; normally, I use Intellij Idea editor. As a result, I am unable to type anything on the console to provide input when using the Visual Studio Code Editor to write Java programs. So, please offer your assistance in finding a solution. ","title":"Unable to get User input for the Java program written in Visual Studio Code Editor","body":"<p>I experimented with java code that expected user input. However, I am unable to type anything in the Visual Studio Code Editor's designated space. To fix this issue, I installed the Java Development Pack Extensions, but nothing worked.</p>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n  public static void main(String[] args){\n\n    Scanner sc = new Scanner(System.in);\n    int age;\n\n    System.out.println(&quot;Enter age:&quot;);\n    age= sc.nextInt();\n    \n    \n  }\n}\n</code></pre>\n<p>I used Visual Studio Code editor to try and get user input; normally, I use Intellij Idea editor. As a result, I am unable to type anything on the console to provide input when using the Visual Studio Code Editor to write Java programs. So, please offer your assistance in finding a solution.</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1405824302,"post_id":24846831,"comment_id":38580810,"body_markdown":"even hello is not displaying?","body":"even hello is not displaying?"},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1406176758,"post_id":24846831,"comment_id":38729702,"body_markdown":"my question is i can run this program from cmd but how to run same program by eclips(&quot;hello&quot; is displaying when i run directly but how to display &quot;Welcome to the world of Applet&quot; in eclips ) please tell me steps.....","body":"my question is i can run this program from cmd but how to run same program by eclips(&quot;hello&quot; is displaying when i run directly but how to display &quot;Welcome to the world of Applet&quot; in eclips ) please tell me steps....."},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1406176793,"post_id":24846831,"comment_id":38729716,"body_markdown":"i am not getting any error..","body":"i am not getting any error.."},{"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"score":0,"creation_date":1413479958,"post_id":24846831,"comment_id":41468649,"body_markdown":"i am getting title &quot;Insert title here&quot; then after a box with message &quot;error: click here for detail&quot; then there is a message &quot;class not found exception&quot;. @SparkOn","body":"i am getting title &quot;Insert title here&quot; then after a box with message &quot;error: click here for detail&quot; then there is a message &quot;class not found exception&quot;. @SparkOn"}],"answers":[{"tags":[],"owner":{"account_id":4770962,"reputation":45,"user_id":3855727,"display_name":"Surajchamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405830453,"creation_date":1405829845,"answer_id":24847314,"question_id":24846831,"body_markdown":"    you can use this code ..\r\n             \r\n              \r\n                  import java.applet.Applet.*;\r\n                  import java.applet.*;\r\n                import java.awt.*;\r\n                public class Demo4 extends Applet\r\n                   {\r\n                     public void paint(Graphics g)\r\n                  {\r\n  \t                  Font f=new Font(&quot;calibri&quot;,Font.BOLD,50);\r\n\t                  g.setFont(f);\r\n\t                 g.setColor(Color.red);\r\n\t                g.fillRect(0,0,1400,300);\r\n\t               g.setColor(Color.yellow);\r\n\t               g.fillRect(0,300,1400,600);\r\n\t               g.setColor(Color.green);\r\n\t               g.drawString(&quot;Welcome to the world of applet&quot;,100,200);\t\r\n                   }\r\n                  }\r\n                    /*&lt;applet code=&quot;Demo4.class&quot; WIDTH=20 HEIGHT=20&gt;\r\n                  &lt;/applet&gt;*/\r\n\r\n\r\n\r\n\r\nHere thre is no need to make applet tag direct run this code..u have to foloow these rule to run\r\n\r\n\r\n for compile- javac Demo4.java\r\n for run- appletViewer Demo4.java\t\r\n\r\nyou get your ans easily..and don,t forget to include commen lines of applet these are the main lines\r\n","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<pre><code>you can use this code ..\n\n\n              import java.applet.Applet.*;\n              import java.applet.*;\n            import java.awt.*;\n            public class Demo4 extends Applet\n               {\n                 public void paint(Graphics g)\n              {\n                  Font f=new Font(\"calibri\",Font.BOLD,50);\n                  g.setFont(f);\n                 g.setColor(Color.red);\n                g.fillRect(0,0,1400,300);\n               g.setColor(Color.yellow);\n               g.fillRect(0,300,1400,600);\n               g.setColor(Color.green);\n               g.drawString(\"Welcome to the world of applet\",100,200);  \n               }\n              }\n                /*&lt;applet code=\"Demo4.class\" WIDTH=20 HEIGHT=20&gt;\n              &lt;/applet&gt;*/\n</code></pre>\n\n<p>Here thre is no need to make applet tag direct run this code..u have to foloow these rule to run</p>\n\n<p>for compile- javac Demo4.java\n for run- appletViewer Demo4.java   </p>\n\n<p>you get your ans easily..and don,t forget to include commen lines of applet these are the main lines</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406032882,"creation_date":1406032882,"answer_id":24887712,"question_id":24846831,"body_markdown":"First compile the `AppletDemo` class then keep the `.class` and the `html` file in same location.\r\nThen when you open the html file if you are getting error like \r\n\r\n`Your security settings have blocked a local application from running`\r\n\r\nThen just go to \r\n\r\n*start - &gt;control panel -&gt; java(if unable to find type java in the search field of control panel) -&gt; Then click on it a menu pops up go to security tab -&gt; then make the security label to medium and ok.*\r\n\r\nThen again open the html in browser it will ask to click on run this application thats it.","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<p>First compile the <code>AppletDemo</code> class then keep the <code>.class</code> and the <code>html</code> file in same location.\nThen when you open the html file if you are getting error like </p>\n\n<p><code>Your security settings have blocked a local application from running</code></p>\n\n<p>Then just go to </p>\n\n<p><em>start - >control panel -> java(if unable to find type java in the search field of control panel) -> Then click on it a menu pops up go to security tab -> then make the security label to medium and ok.</em></p>\n\n<p>Then again open the html in browser it will ask to click on run this application thats it.</p>\n"}],"owner":{"account_id":4770497,"reputation":71,"user_id":3855389,"display_name":"rajeev mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693486885,"creation_date":1405823862,"question_id":24846831,"body_markdown":"Hi friends I am new to Java. I am trying to display applet on web browser using Eclipse.\r\n\r\nCode:\r\n\r\n    import java.applet.*;\r\n    \r\n    import java.awt.*;\r\n    \r\n    public class AppletDemo extends Applet{\r\n    \r\n    \tString msg=&quot;hello&quot;;\r\n    \r\n    \tpublic void init(){\r\n    \r\n    \t\tmsg=getParameter(&quot;message&quot;);\r\n    \r\n    \t}\r\n    \t\r\n         public void paint(Graphics g){\r\n    \r\n    \t\tg.drawString(msg,80,80);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nApplet Tag:\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n    \r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    &lt;applet code=&quot;AppletDemo.class&quot;width=&quot;350&quot;height=&quot;350&quot;&gt;\r\n    \r\n    &lt;param name=&quot;message&quot;value=&quot;Welcome to the world of Applet&quot;&gt;\r\n    \r\n    &lt;/applet&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n  \r\n\r\n\r\n\r\n\r\nOutput should be &quot;Welcome to the world of Applet&quot;\r\nbut when I run  it, no value is getting displayed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ni got output in console is:\r\n\r\nOct 20, 2014 12:43:39 AM org.apache.catalina.core.AprLifecycleListener init\r\n\r\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in\r\n \r\nproduction environments was not found on the java.library.path: C:\\Program Files\\Java\r\n\r\n\\jre8\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java\r\n\r\n/jre8/bin/client;C:/Program Files/Java/jre8/bin;C:/Program Files/Java/jre8/lib\r\n\r\n/i386;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\r\n\r\n\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_05\\bin;.;C:\\Users\\RAJEEV4\\Desktop\r\n\r\n\\eclipse-jee-kepler-SR2-win32(1)\\eclipse;;.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n\r\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; \r\n\r\nto &#39;org.eclipse.jst.jee.server:demojsp&#39; did not find a matching property.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n\r\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; \r\n\r\nto &#39;org.eclipse.jst.jee.server:Zdemoappletweb&#39; did not find a matching property.\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init\r\n\r\nINFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init\r\n\r\nINFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\nOct 20, 2014 12:43:40 AM org.apache.catalina.startup.Catalina load\r\n\r\nINFO: Initialization processed in 2323 ms\r\n\r\nOct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardService startInternal\r\n\r\nINFO: Starting service Catalina\r\n\r\nOct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardEngine startInternal\r\n\r\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.53\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start\r\n\r\nINFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start\r\n\r\nINFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\nOct 20, 2014 12:43:42 AM org.apache.catalina.startup.Catalina start\r\n\r\nINFO: Server startup in 1961 ms\r\n\r\n\r\n\r\nWhat is the issue here?\r\n","title":"Steps to run applet on web browser (connect applet program to html) using Eclipse","body":"<p>Hi friends I am new to Java. I am trying to display applet on web browser using Eclipse.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.applet.*;\n\nimport java.awt.*;\n\npublic class AppletDemo extends Applet{\n\n    String msg=\"hello\";\n\n    public void init(){\n\n        msg=getParameter(\"message\");\n\n    }\n\n     public void paint(Graphics g){\n\n        g.drawString(msg,80,80);\n\n    }\n\n}\n</code></pre>\n\n<p>Applet Tag:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n\n&lt;meta charset=\"ISO-8859-1\"&gt;\n\n&lt;title&gt;Insert title here&lt;/title&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;applet code=\"AppletDemo.class\"width=\"350\"height=\"350\"&gt;\n\n&lt;param name=\"message\"value=\"Welcome to the world of Applet\"&gt;\n\n&lt;/applet&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Output should be \"Welcome to the world of Applet\"\nbut when I run  it, no value is getting displayed.</p>\n\n<p>i got output in console is:</p>\n\n<p>Oct 20, 2014 12:43:39 AM org.apache.catalina.core.AprLifecycleListener init</p>\n\n<p>INFO: The APR based Apache Tomcat Native library which allows optimal performance in</p>\n\n<p>production environments was not found on the java.library.path: C:\\Program Files\\Java</p>\n\n<p>\\jre8\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java</p>\n\n<p>/jre8/bin/client;C:/Program Files/Java/jre8/bin;C:/Program Files/Java/jre8/lib</p>\n\n<p>/i386;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32</p>\n\n<p>\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_05\\bin;.;C:\\Users\\RAJEEV4\\Desktop</p>\n\n<p>\\eclipse-jee-kepler-SR2-win32(1)\\eclipse;;.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin</p>\n\n<p>WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' </p>\n\n<p>to 'org.eclipse.jst.jee.server:demojsp' did not find a matching property.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.tomcat.util.digester.SetPropertiesRule begin</p>\n\n<p>WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' </p>\n\n<p>to 'org.eclipse.jst.jee.server:Zdemoappletweb' did not find a matching property.</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init</p>\n\n<p>INFO: Initializing ProtocolHandler [\"http-bio-8080\"]</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.coyote.AbstractProtocol init</p>\n\n<p>INFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]</p>\n\n<p>Oct 20, 2014 12:43:40 AM org.apache.catalina.startup.Catalina load</p>\n\n<p>INFO: Initialization processed in 2323 ms</p>\n\n<p>Oct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardService startInternal</p>\n\n<p>INFO: Starting service Catalina</p>\n\n<p>Oct 20, 2014 12:43:41 AM org.apache.catalina.core.StandardEngine startInternal</p>\n\n<p>INFO: Starting Servlet Engine: Apache Tomcat/7.0.53</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start</p>\n\n<p>INFO: Starting ProtocolHandler [\"http-bio-8080\"]</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.coyote.AbstractProtocol start</p>\n\n<p>INFO: Starting ProtocolHandler [\"ajp-bio-8009\"]</p>\n\n<p>Oct 20, 2014 12:43:42 AM org.apache.catalina.startup.Catalina start</p>\n\n<p>INFO: Server startup in 1961 ms</p>\n\n<p>What is the issue here?</p>\n"},{"tags":["java","spring-boot","backend","vaadin","vaadin24"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693981680,"post_id":77015925,"comment_id":135829457,"body_markdown":"Simply create the UI elements in the beforeEnter method","body":"Simply create the UI elements in the beforeEnter method"}],"owner":{"account_id":19549700,"reputation":1,"user_id":14305638,"display_name":"Maryam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693486667,"creation_date":1693485671,"question_id":77015925,"body_markdown":"I am using vaadin 24.\r\n\r\n```\r\n\r\n**MainLayout:**\r\nUI.getCurrent().navigate(defaultViewClass, new RouteParameters(&quot;project_Id&quot;,selectedProject.getId().toString()));\r\n\r\n\r\n**DefaultView:**\r\n@PageTitle(&quot;Default Mapping&quot;)\r\n@Route(value = &quot;Default-Mapping/:project_Id&quot;, layout = MainLayout.class)\r\n@RolesAllowed(&quot;USER&quot;)\r\npublic class DefaultView extends VerticalLayout  implements BeforeEnterObserver  {\r\npublic DefaultView(ProjectsService projectsService) {\r\n    this.projectsService = projectsService;\r\n\r\n    saveBtn.setVisible(false);\r\n    editBtn.setVisible(true);\r\n\r\n    System.out.println(&quot;constructor........&quot;);\r\n    HorizontalLayout hl = new HorizontalLayout();\r\n    hl.add(getTabsheet()); // project_Id parameter used in this method\r\n\r\n    hl.setHeightFull();\r\n    hl.setSizeFull();\r\n\r\n    add(hl);\r\n}\r\n@Override\r\npublic void beforeEnter(BeforeEnterEvent event) {\r\n    RouteParameters parameters = event.getRouteParameters();\r\n    String projectId = parameters.get(&quot;project_Id&quot;).orElse(null);\r\n    if (projectId != null) {\r\n        projects = projectsService.findById(Long.parseLong(projectId));\r\n    }\r\n\r\n}\r\n}\r\n```\r\nConstructor call before &quot;beforenter&quot; method.\r\n\r\nI get project_id value in beforeenter method, but I want while defaultview class load and call constructor. So I can use project_id in getTabsheet method.\r\n\r\nIs this navigation right?\r\n\r\nHow to find correct way?\r\n\r\nI have tried different methods, but they are not working. How to communicate with database using id?","title":"Vaadin: Pass paramet in Mainlaout to defaultview but not getting before getTabsheet method","body":"<p>I am using vaadin 24.</p>\n<pre><code>\n**MainLayout:**\nUI.getCurrent().navigate(defaultViewClass, new RouteParameters(&quot;project_Id&quot;,selectedProject.getId().toString()));\n\n\n**DefaultView:**\n@PageTitle(&quot;Default Mapping&quot;)\n@Route(value = &quot;Default-Mapping/:project_Id&quot;, layout = MainLayout.class)\n@RolesAllowed(&quot;USER&quot;)\npublic class DefaultView extends VerticalLayout  implements BeforeEnterObserver  {\npublic DefaultView(ProjectsService projectsService) {\n    this.projectsService = projectsService;\n\n    saveBtn.setVisible(false);\n    editBtn.setVisible(true);\n\n    System.out.println(&quot;constructor........&quot;);\n    HorizontalLayout hl = new HorizontalLayout();\n    hl.add(getTabsheet()); // project_Id parameter used in this method\n\n    hl.setHeightFull();\n    hl.setSizeFull();\n\n    add(hl);\n}\n@Override\npublic void beforeEnter(BeforeEnterEvent event) {\n    RouteParameters parameters = event.getRouteParameters();\n    String projectId = parameters.get(&quot;project_Id&quot;).orElse(null);\n    if (projectId != null) {\n        projects = projectsService.findById(Long.parseLong(projectId));\n    }\n\n}\n}\n</code></pre>\n<p>Constructor call before &quot;beforenter&quot; method.</p>\n<p>I get project_id value in beforeenter method, but I want while defaultview class load and call constructor. So I can use project_id in getTabsheet method.</p>\n<p>Is this navigation right?</p>\n<p>How to find correct way?</p>\n<p>I have tried different methods, but they are not working. How to communicate with database using id?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1488363539,"post_id":42524264,"comment_id":72193757,"body_markdown":"When i edit your code, semi-colon were missing from the `System.out.println` statement. Can you please re-check again this issue with my edited code?","body":"When i edit your code, semi-colon were missing from the <code>System.out.println</code> statement. Can you please re-check again this issue with my edited code?"},{"owner":{"account_id":8473780,"reputation":75,"user_id":6355603,"accept_rate":86,"display_name":"Pravallika Esarla"},"score":0,"creation_date":1488439547,"post_id":42524264,"comment_id":72233493,"body_markdown":"I have made changes to code and replaced with S.O.P lines  just to make it simple to evaluate. but in my project I haven&#39;t missed semicolon.","body":"I have made changes to code and replaced with S.O.P lines  just to make it simple to evaluate. but in my project I haven&#39;t missed semicolon."},{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1488439648,"post_id":42524264,"comment_id":72233547,"body_markdown":"Now, it is working well for you right?","body":"Now, it is working well for you right?"}],"answers":[{"tags":[],"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1488395804,"creation_date":1488395804,"answer_id":42540146,"question_id":42524264,"body_markdown":"There is more than meets the eye.  \r\nOutput of your example on my computer:\r\n\r\n    BEFORE SUITE : \r\n    BEFORE CLASS\r\n    BEFORE METHOD \r\n    After METHOD \r\n    After test \r\n    \r\n     After Suite\r\n\r\nI bet you have got more classes, which inherit from `BaseClass`, not just one.\r\nThose methods are not executed properly due to reasons similar as behind [this][1]. Implementing an `InvokedMethodListener` would help you to overcome issues with inheritance. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42002745/4280359","title":"Some of the methods of TestNG Parent class are not running","body":"<p>There is more than meets the eye.<br>\nOutput of your example on my computer:</p>\n\n<pre><code>BEFORE SUITE : \nBEFORE CLASS\nBEFORE METHOD \nAfter METHOD \nAfter test \n\n After Suite\n</code></pre>\n\n<p>I bet you have got more classes, which inherit from <code>BaseClass</code>, not just one.\nThose methods are not executed properly due to reasons similar as behind <a href=\"https://stackoverflow.com/a/42002745/4280359\">this</a>. Implementing an <code>InvokedMethodListener</code> would help you to overcome issues with inheritance. </p>\n"},{"tags":[],"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693486022,"creation_date":1693486022,"answer_id":77015958,"question_id":42524264,"body_markdown":"    Include BaseClass in your testng.xml\r\n    \r\n    &lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\r\n        &lt;test name=&quot;AED tests&quot;&gt;\r\n          &lt;classes&gt;\r\n                 &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt; \r\n                 &lt;class name=&quot;tests.AED_BaseClass&quot;/&gt;\r\n          &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt; ","title":"Some of the methods of TestNG Parent class are not running","body":"<pre><code>Include BaseClass in your testng.xml\n\n&lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\n    &lt;test name=&quot;AED tests&quot;&gt;\n      &lt;classes&gt;\n             &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt; \n             &lt;class name=&quot;tests.AED_BaseClass&quot;/&gt;\n      &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n"}],"owner":{"account_id":8473780,"reputation":75,"user_id":6355603,"accept_rate":86,"display_name":"Pravallika Esarla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2178,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42540146,"answer_count":2,"score":1,"last_activity_date":1693486022,"creation_date":1488347783,"question_id":42524264,"body_markdown":"I have a Parent class `BaseClass` with `TestNG` annotations as below \r\n\r\n    public class BaseClass \r\n    {\r\n    \t protected static WebDriver driver; \r\n\r\n    \t @BeforeSuite\r\n    \t public void beforeSuite()\r\n    \t { \r\n           System.out.println(&quot;\\nBEFORE SUITE : &quot;); \r\n         }\r\n\r\n    \t @BeforeTest\r\n    \t public void launch() throws IOException\r\n    \t {\r\n    \t   //CODE TO LAUNCH BROWSER\r\n         }\r\n\r\n    \t @BeforeClass\r\n    \t void beforeclass()\r\n    \t {\r\n           System.out.println(&quot;BEFORE CLASS&quot;);\t\r\n         }\r\n    \t\r\n    \t @AfterClass\r\n    \t void afterClass()\r\n    \t {\t\t\r\n           System.out.println(&quot;After test &quot;);\r\n         }\r\n    \t\r\n    \t @BeforeMethod\r\n    \t void beforeMethod()\r\n    \t {\r\n           System.out.println(&quot;BEFORE METHOD &quot;);\t\r\n         }\r\n\r\n    \t @AfterMethod \r\n    \t void afterMethod ()\r\n    \t {\t\r\n           System.out.println(&quot;After METHOD &quot;);\r\n         }\r\n    \r\n         @AfterSuite\r\n         void afterSuite()\r\n    \t {\r\n           System.out.println(&quot;\\n After Suite&quot;);\r\n         }\r\n    }\r\n\r\nand the `child class` extending it as below \r\n\r\n    public class SearchQualityRuleTest extends BaseClass\r\n    {\r\n    \t@Test\r\n    \tpublic void searchTest() throws InterruptedException  \r\n    \t{\r\n    \t  //Assertions \r\n    \t }  \r\n    }\r\n\r\n My XML file is as below \r\n\r\n    &lt;suite name=&quot;AAD-AED suite&quot; verbose=&quot;1&quot; &gt;\r\n    \t&lt;test name=&quot;AED tests&quot;&gt;\r\n    \t  &lt;classes&gt;\r\n                 &lt;class name=&quot;tests.AED_searchQualityRuleTest&quot;/&gt;          \r\n          &lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt; \r\n\r\nOther than `@BeforeSuite` and `@BeforeTest` methods no other methods are running.\r\n\r\nI have code related to `Extent Reports` in other non executed methods.\r\n\r\nPlease suggest if there is any mistake in the code \r\n","title":"Some of the methods of TestNG Parent class are not running","body":"<p>I have a Parent class <code>BaseClass</code> with <code>TestNG</code> annotations as below </p>\n\n<pre><code>public class BaseClass \n{\n     protected static WebDriver driver; \n\n     @BeforeSuite\n     public void beforeSuite()\n     { \n       System.out.println(\"\\nBEFORE SUITE : \"); \n     }\n\n     @BeforeTest\n     public void launch() throws IOException\n     {\n       //CODE TO LAUNCH BROWSER\n     }\n\n     @BeforeClass\n     void beforeclass()\n     {\n       System.out.println(\"BEFORE CLASS\");  \n     }\n\n     @AfterClass\n     void afterClass()\n     {      \n       System.out.println(\"After test \");\n     }\n\n     @BeforeMethod\n     void beforeMethod()\n     {\n       System.out.println(\"BEFORE METHOD \");    \n     }\n\n     @AfterMethod \n     void afterMethod ()\n     {  \n       System.out.println(\"After METHOD \");\n     }\n\n     @AfterSuite\n     void afterSuite()\n     {\n       System.out.println(\"\\n After Suite\");\n     }\n}\n</code></pre>\n\n<p>and the <code>child class</code> extending it as below </p>\n\n<pre><code>public class SearchQualityRuleTest extends BaseClass\n{\n    @Test\n    public void searchTest() throws InterruptedException  \n    {\n      //Assertions \n     }  \n}\n</code></pre>\n\n<p>My XML file is as below </p>\n\n<pre><code>&lt;suite name=\"AAD-AED suite\" verbose=\"1\" &gt;\n    &lt;test name=\"AED tests\"&gt;\n      &lt;classes&gt;\n             &lt;class name=\"tests.AED_searchQualityRuleTest\"/&gt;          \n      &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n\n<p>Other than <code>@BeforeSuite</code> and <code>@BeforeTest</code> methods no other methods are running.</p>\n\n<p>I have code related to <code>Extent Reports</code> in other non executed methods.</p>\n\n<p>Please suggest if there is any mistake in the code </p>\n"},{"tags":["java","shell","maven","jenkins","continuous-integration"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693472012,"creation_date":1693472012,"answer_id":77014284,"question_id":77014035,"body_markdown":"I already address your issue.\r\n\r\nHere is my solution:\r\n\r\n```shell\r\n-DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.minorVersion}.\\\\\\${parsedVersion.nextIncrementalVersion}\r\n```","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>I already address your issue.</p>\n<p>Here is my solution:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.minorVersion}.\\\\\\${parsedVersion.nextIncrementalVersion}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29335636,"reputation":21,"user_id":22476077,"display_name":"Alflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693485873,"creation_date":1693485873,"answer_id":77015942,"question_id":77014035,"body_markdown":"After many tries i finally made it work. This is how it works for me: `sh &#39;mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.nextMinorVersion}.0\\&quot;$\\&quot;\\$\\\\{revision\\\\}\\&quot;$\\&quot;\\$\\\\{sha1\\\\}\\&quot;$\\&quot;\\$\\\\{changelist\\\\} versions:commit&#39;`","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>After many tries i finally made it work. This is how it works for me: <code>sh 'mvn build-helper:parse-version versions:set -DnewVersion=\\\\\\${parsedVersion.majorVersion}.\\\\\\${parsedVersion.nextMinorVersion}.0\\&quot;$\\&quot;\\$\\\\{revision\\\\}\\&quot;$\\&quot;\\$\\\\{sha1\\\\}\\&quot;$\\&quot;\\$\\\\{changelist\\\\} versions:commit'</code></p>\n"}],"owner":{"account_id":29335636,"reputation":21,"user_id":22476077,"display_name":"Alflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77015942,"answer_count":2,"score":2,"last_activity_date":1693485873,"creation_date":1693470068,"question_id":77014035,"body_markdown":"Hi guys im having a bit of a problem here. I have a pom.xml which has the &lt;version&gt; tag in the following form: `&lt;version&gt;1.0.0${revision}${sha1}${changelist}&lt;/version&gt;`. \r\n\r\nI&#39;m trying to increment the minor version of my project inside a Jenkinsfile without loosing &quot;${revision}${sha1}${changelist}&quot;. \r\n\r\nI don&#39;t want the values from the variables instead i want my new Version to look like `&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;`inside my pom files. \r\n\r\nI can&#39;t seem to figure out how to do the escaping right. My Jenkinsfile would look as follows: \r\n\r\n`stage(&#39;Increment minor version&#39;) {\r\n\t\t\twhen{\r\n\t\t\t\tbranch &#39;xxx&#39;\r\n\t\t\t}\r\n\t\t\tsteps {\r\n\t\t\t\twithMaven(globalMavenSettingsConfig: MAVEN_SETTINGS) {\r\n\t\t\t\t\tsh &#39;mvn build-helper:parse-version versions:set -DnewVersion=${parsedVersion.majorVersion}.${parsedVersion.nextMinorVersion}.0${revision}${sha1}${changelist} versions:commit&#39;\r\n}}`\r\n\r\nI know this is not escaped right now. I tried multiple escaping attempts. Can anybody help me out here ? \r\n\r\nI tried the solution of [this](https://stackoverflow.com/questions/59649766/escape-maven-properties-on-the-command-line) post too and got the following output: `&lt;version&gt;1.1.0{revision}{sha1}{changelist}&lt;/version&gt;` as you can see the &#39;$&#39;-signs are missing.\r\n\r\nI am expecting my pom files to have the version tag in the following form after incrementing the minor version: `&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;`.","title":"How to escape variable names in maven inside a Jenkinsfile","body":"<p>Hi guys im having a bit of a problem here. I have a pom.xml which has the  tag in the following form: <code>&lt;version&gt;1.0.0${revision}${sha1}${changelist}&lt;/version&gt;</code>.</p>\n<p>I'm trying to increment the minor version of my project inside a Jenkinsfile without loosing &quot;${revision}${sha1}${changelist}&quot;.</p>\n<p>I don't want the values from the variables instead i want my new Version to look like <code>&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;</code>inside my pom files.</p>\n<p>I can't seem to figure out how to do the escaping right. My Jenkinsfile would look as follows:</p>\n<p><code>stage('Increment minor version') { when{ branch 'xxx' } steps { withMaven(globalMavenSettingsConfig: MAVEN_SETTINGS) { sh 'mvn build-helper:parse-version versions:set -DnewVersion=${parsedVersion.majorVersion}.${parsedVersion.nextMinorVersion}.0${revision}${sha1}${changelist} versions:commit' }}</code></p>\n<p>I know this is not escaped right now. I tried multiple escaping attempts. Can anybody help me out here ?</p>\n<p>I tried the solution of <a href=\"https://stackoverflow.com/questions/59649766/escape-maven-properties-on-the-command-line\">this</a> post too and got the following output: <code>&lt;version&gt;1.1.0{revision}{sha1}{changelist}&lt;/version&gt;</code> as you can see the '$'-signs are missing.</p>\n<p>I am expecting my pom files to have the version tag in the following form after incrementing the minor version: <code>&lt;version&gt;1.1.0${revision}${sha1}${changelist}&lt;/version&gt;</code>.</p>\n"},{"tags":["java","playframework","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693481292,"creation_date":1693481292,"answer_id":77015396,"question_id":77010185,"body_markdown":"pac4j does not play much with the classloaders, it uses them sometimes to find a class and its constructor.\r\n\r\nI&#39;m surprised by the double &quot;class&quot; word after &quot;cannot be cast to&quot;: `class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile`. It feels like the class type is used instead of the class itself.\r\n\r\nCan you copy/paste the full stack trace?\r\n","title":"Java Playfrawork code hot reloading not working with pac4j Library","body":"<p>pac4j does not play much with the classloaders, it uses them sometimes to find a class and its constructor.</p>\n<p>I'm surprised by the double &quot;class&quot; word after &quot;cannot be cast to&quot;: <code>class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile</code>. It feels like the class type is used instead of the class itself.</p>\n<p>Can you copy/paste the full stack trace?</p>\n"}],"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693485794,"creation_date":1693415613,"question_id":77010185,"body_markdown":"\r\nI have Play framework (v2.8.16) and  Pac4j (Pac4j v10.0.2, pac4j-http:4.5.7 &amp;&amp;  pac4j-oauth:4.5.7, pac4j-jwt:4.5.7) with Java 12 . my application is a Java app and using Play&#39;s multi-module setup. In Play&#39;s development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types. This happens very frequently  dose not matter running from IDE (IntelliJ) or command line SBT is the same.\r\n\r\nI have a class that extends pac4j Profile\r\n\r\n``` public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile ```\r\n\r\nOn  application  startp everthing is fine but after modifying the code while application running hot reloading of classess fails with this  error\r\n\r\n``` play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @47424930)]] ```\r\n\r\nnot sure why this happening and specifically to  custom classes that extend Pac4j .\r\nis pac4j playing with class loaders ?\r\n\r\nfull stack trace: \r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class my.package.CustomJwtProfile  cannot be cast to class my.package.CustomJwtProfile  (my.package.CustomJwtProfile  is in unnamed module of l\r\noader play.runsupport.DelegatedResourcesClassLoader @10d471bd; my.package.CustomJwtProfile  is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @3de8b5d4)\r\n        at my.package1.PermissionChecker.check(PermissionChecker.java:20)\r\n        at org.pac4j.core.authorization.authorizer.AbstractRequireAnyAuthorizer.isProfileAuthorized(AbstractRequireAnyAuthorizer.java:21)\r\n        at org.pac4j.core.authorization.authorizer.ProfileAuthorizer.isAnyAuthorized(ProfileAuthorizer.java:41)\r\n        at org.pac4j.core.authorization.authorizer.AbstractRequireElementAuthorizer.isAuthorized(AbstractRequireElementAuthorizer.java:23)\r\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:90)\r\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:72)\r\n        at org.pac4j.core.engine.DefaultSecurityLogic.perform(DefaultSecurityLogic.java:146)\r\n        at org.pac4j.play.java.SecureAction.internalCall(SecureAction.java:95)\r\n        at org.pac4j.play.java.SecureAction.call(SecureAction.java:85)\r\n        at org.pac4j.play.filters.SecurityFilter.proceedRuleLogic(SecurityFilter.scala:102)\r\n```\r\n\r\n\r\nActually CustomJwtProfile is package &quot;my.package&quot; and calling class &quot;PermissionChecker.java&quot; in another package &quot;my.package1&quot;, basically both class  are in different module \r\n\r\nthe definition of the &quot;permissionChecker&quot; &amp; CustomJwtProfile class is as following\r\n\r\n```\r\npublic class PermissionChecker&lt;U extends CustomJwtProfile &gt;\r\n\r\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\r\n\r\n```\r\n\r\nand if i change the PermissionChecker definition to following then no error all good\r\n\r\n```\r\npublic class PermissionChecker&lt;U extends org.pac4j.jwt.profile.JwtProfile&gt;\r\n```\r\n\r\n\r\n","title":"Java Playfrawork code hot reloading not working with pac4j Library","body":"<p>I have Play framework (v2.8.16) and  Pac4j (Pac4j v10.0.2, pac4j-http:4.5.7 &amp;&amp;  pac4j-oauth:4.5.7, pac4j-jwt:4.5.7) with Java 12 . my application is a Java app and using Play's multi-module setup. In Play's development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types. This happens very frequently  dose not matter running from IDE (IntelliJ) or command line SBT is the same.</p>\n<p>I have a class that extends pac4j Profile</p>\n<p><code>public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile</code></p>\n<p>On  application  startp everthing is fine but after modifying the code while application running hot reloading of classess fails with this  error</p>\n<p><code>play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @47424930)]]</code></p>\n<p>not sure why this happening and specifically to  custom classes that extend Pac4j .\nis pac4j playing with class loaders ?</p>\n<p>full stack trace:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class my.package.CustomJwtProfile  cannot be cast to class my.package.CustomJwtProfile  (my.package.CustomJwtProfile  is in unnamed module of l\noader play.runsupport.DelegatedResourcesClassLoader @10d471bd; my.package.CustomJwtProfile  is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @3de8b5d4)\n        at my.package1.PermissionChecker.check(PermissionChecker.java:20)\n        at org.pac4j.core.authorization.authorizer.AbstractRequireAnyAuthorizer.isProfileAuthorized(AbstractRequireAnyAuthorizer.java:21)\n        at org.pac4j.core.authorization.authorizer.ProfileAuthorizer.isAnyAuthorized(ProfileAuthorizer.java:41)\n        at org.pac4j.core.authorization.authorizer.AbstractRequireElementAuthorizer.isAuthorized(AbstractRequireElementAuthorizer.java:23)\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:90)\n        at org.pac4j.core.authorization.checker.DefaultAuthorizationChecker.isAuthorized(DefaultAuthorizationChecker.java:72)\n        at org.pac4j.core.engine.DefaultSecurityLogic.perform(DefaultSecurityLogic.java:146)\n        at org.pac4j.play.java.SecureAction.internalCall(SecureAction.java:95)\n        at org.pac4j.play.java.SecureAction.call(SecureAction.java:85)\n        at org.pac4j.play.filters.SecurityFilter.proceedRuleLogic(SecurityFilter.scala:102)\n</code></pre>\n<p>Actually CustomJwtProfile is package &quot;my.package&quot; and calling class &quot;PermissionChecker.java&quot; in another package &quot;my.package1&quot;, basically both class  are in different module</p>\n<p>the definition of the &quot;permissionChecker&quot; &amp; CustomJwtProfile class is as following</p>\n<pre><code>public class PermissionChecker&lt;U extends CustomJwtProfile &gt;\n\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\n\n</code></pre>\n<p>and if i change the PermissionChecker definition to following then no error all good</p>\n<pre><code>public class PermissionChecker&lt;U extends org.pac4j.jwt.profile.JwtProfile&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693434309,"post_id":77011864,"comment_id":135762393,"body_markdown":"That page literally gives you the list of URLs for all the v116 chrome drivers for all common operating systems so... did you download the one you needed? Sure, they&#39;re text links, but presumably you know how to copy-paste =)","body":"That page literally gives you the list of URLs for all the v116 chrome drivers for all common operating systems so... did you download the one you needed? Sure, they&#39;re text links, but presumably you know how to copy-paste =)"},{"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"score":0,"creation_date":1693435491,"post_id":77011864,"comment_id":135762530,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans can you see image I attached in Answers. That is file in driver downloaded.","body":"@Mike&#39;Pomax&#39;Kamermans can you see image I attached in Answers. That is file in driver downloaded."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693441579,"post_id":77011864,"comment_id":135763006,"body_markdown":"Then put that in your post. Don&#39;t post it as answer and then delete it again. Also there is no such thing as a &quot;exe&quot; on MacOS, that&#39;s a windows executable. MacOS executables are applications, which your screenshot clearly shows it is.","body":"Then put that in your post. Don&#39;t post it as answer and then delete it again. Also there is no such thing as a &quot;exe&quot; on MacOS, that&#39;s a windows executable. MacOS executables are applications, which your screenshot clearly shows it is."},{"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"score":0,"creation_date":1693445999,"post_id":77011864,"comment_id":135763283,"body_markdown":"really sorry if any misunderstood. I was not able to paste screen shot in comment so that&#39;s why I put it in answer section.\nThank you so much for your answers. I will find it.","body":"really sorry if any misunderstood. I was not able to paste screen shot in comment so that&#39;s why I put it in answer section. Thank you so much for your answers. I will find it."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1693446042,"post_id":77011864,"comment_id":135763289,"body_markdown":"Just click [edit] and put it in your post?","body":"Just click <a href=\"https://stackoverflow.com/posts/77011864/edit\">edit</a> and put it in your post?"}],"answers":[{"tags":[],"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484784,"creation_date":1693484784,"answer_id":77015817,"question_id":77011864,"body_markdown":"on your screenshot is not the driver, on the screenshot you added the chrome installer &lt;br&gt;\r\n\r\n[Drivers](https://googlechromelabs.github.io/chrome-for-testing/#stable)\r\n[arm64 driver](https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-arm64/chromedriver-mac-arm64.zip)\r\n[x86_64 driver](https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-x64/chromedriver-mac-x64.zip)\r\n&lt;br&gt;\r\n\r\nselenium 4.11.2 provides DriverManager that automatically find latest chrome driver&lt;br&gt;\r\n[Automate browser management](https://www.selenium.dev/documentation/selenium_manager/#automated-browser-management)\r\n\r\n[driver implementation](https://github.com/DimaBerezovskyi/simple-python-selenium-framework/blob/main/src/utils/driver_util.py)","title":"Selenium - how to add latest chrome driver","body":"<p>on your screenshot is not the driver, on the screenshot you added the chrome installer <br></p>\n<p><a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">Drivers</a>\n<a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-arm64/chromedriver-mac-arm64.zip\" rel=\"nofollow noreferrer\">arm64 driver</a>\n<a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/mac-x64/chromedriver-mac-x64.zip\" rel=\"nofollow noreferrer\">x86_64 driver</a>\n<br></p>\n<p>selenium 4.11.2 provides DriverManager that automatically find latest chrome driver<br>\n<a href=\"https://www.selenium.dev/documentation/selenium_manager/#automated-browser-management\" rel=\"nofollow noreferrer\">Automate browser management</a></p>\n<p><a href=\"https://github.com/DimaBerezovskyi/simple-python-selenium-framework/blob/main/src/utils/driver_util.py\" rel=\"nofollow noreferrer\">driver implementation</a></p>\n"}],"owner":{"account_id":20817409,"reputation":71,"user_id":15289901,"display_name":"Testtest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693484784,"creation_date":1693434169,"question_id":77011864,"body_markdown":"I am doing Selenium training and my chrome browser is Version 116.0.5845.140 on the Mac.\r\n\r\nI couldn&#39;t find Chrome driver exe for this version instead it&#39;s providing like below https://googlechromelabs.github.io/chrome-for-testing/#stable\r\n\r\nWhen I go to the driver page it shows the application file and not the exe file.\r\nI am not sure how to configure it access from Selenium.\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/abc/Documents/chromedriver&quot;);\r\n```\r\n\r\nError during execution of application.\r\n\r\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: chromedriver located at /Users/abc/Documents/chromedriver, but invalid\r\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/\r\n\r\n\r\nwhen I download from dirvers page it has file like this\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TNKYW.png\r\n\r\nNot sure how to call this file","title":"Selenium - how to add latest chrome driver","body":"<p>I am doing Selenium training and my chrome browser is Version 116.0.5845.140 on the Mac.</p>\n<p>I couldn't find Chrome driver exe for this version instead it's providing like below <a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/#stable</a></p>\n<p>When I go to the driver page it shows the application file and not the exe file.\nI am not sure how to configure it access from Selenium.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/abc/Documents/chromedriver&quot;);\n</code></pre>\n<p>Error during execution of application.</p>\n<p>INFO: Driver logs no longer sent to console by default; <a href=\"https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output</a>\nException in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: chromedriver located at /Users/abc/Documents/chromedriver, but invalid\nFor documentation on this error, please visit: <a href=\"https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/</a></p>\n<p>when I download from dirvers page it has file like this\n<a href=\"https://i.stack.imgur.com/TNKYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNKYW.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure how to call this file</p>\n"},{"tags":["java","sql-server","jdbc","tcp","mssql-jdbc"],"answers":[{"tags":[],"owner":{"account_id":2686596,"reputation":36,"user_id":2320874,"display_name":"Rafael Rossignol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539958079,"creation_date":1539958079,"answer_id":52894068,"question_id":52893597,"body_markdown":"If you see the Oficial docs [here][1], they said that port is optional (they recommend you to put one), but see this note:\r\n\r\n&gt;For optimal connection performance, you should set the portNumber when you connect to a named instance. This will avoid a round trip to the server to determine the port number. If both a portNumber and instanceName are used, the portNumber will take precedence and the instanceName will be ignored. \r\n\r\nI can understand here, if you omit the port, the driver make some soft of scanning to determine which port to use, try without put the port. \r\nBut remember, they recommend for best performance, to explicitly choose one.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>If you see the Oficial docs <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\" rel=\"nofollow noreferrer\">here</a>, they said that port is optional (they recommend you to put one), but see this note:</p>\n\n<blockquote>\n  <p>For optimal connection performance, you should set the portNumber when you connect to a named instance. This will avoid a round trip to the server to determine the port number. If both a portNumber and instanceName are used, the portNumber will take precedence and the instanceName will be ignored. </p>\n</blockquote>\n\n<p>I can understand here, if you omit the port, the driver make some soft of scanning to determine which port to use, try without put the port. \nBut remember, they recommend for best performance, to explicitly choose one.</p>\n"},{"tags":[],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539970857,"creation_date":1539963171,"answer_id":52895616,"question_id":52893597,"body_markdown":"If you really cannot count on the port number remaining constant then you will have to connect using the SQL Server instance name.\r\n\r\nDefault instance:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    jdbc:sqlserver://servername\\MSSQLSERVER;...\r\n\r\nNamed instance\r\n\r\n    jdbc:sqlserver://servername\\instancename;...\r\n\r\nOf course, this means that the SQL Browser service must be running on the server so the instance name can be resolved to the actual port number currently being used.\r\n","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>If you really cannot count on the port number remaining constant then you will have to connect using the SQL Server instance name.</p>\n\n<p>Default instance:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:sqlserver://servername\\MSSQLSERVER;...\n</code></pre>\n\n<p>Named instance</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:sqlserver://servername\\instancename;...\n</code></pre>\n\n<p>Of course, this means that the SQL Browser service must be running on the server so the instance name can be resolved to the actual port number currently being used.</p>\n"}],"owner":{"account_id":10386270,"reputation":1413,"user_id":7659255,"accept_rate":38,"display_name":"Peng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9672,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52895616,"answer_count":2,"score":4,"last_activity_date":1693484601,"creation_date":1539956577,"question_id":52893597,"body_markdown":"My sql server engine is using dynamic TCP port, e.g., 52358. I can do JDBC query without any problem if I specified the port number 52358 in my JDBC DB url connection string, i.e.,\r\n\r\n    jdbc:sqlserver://serverName:52358;databaseName=myDB\r\n\r\nHowever, since this is dynamic port, sql server might choose another port if this port (52358) becomes unavailable after you restart sql server next time. \r\n\r\nSo what&#39;s best way to configure my DB URL in the connection string? \r\n\r\n-----------\r\n**Approach I have tried**: \r\n\r\nOmitting the port number and using only the instance name, i.e.,\r\n\r\n    jdbc:sqlserver://serverName;databaseName=myDB\r\n\r\nThis doesn&#39;t work. By the way, sql server browser service is already enabled. \r\n\r\n\r\n-----------\r\n**Solution found** (thanks to Gord Thompson). The [complete form][1] of DB URL is: \r\n\r\n    jdbc:sqlserver://[serverName[\\instanceName][:portNumber]][;property=value[;property=value]]\r\n\r\nwhere either the portNumber or instanceName may be used to connect to serverName. However, \r\n\r\n&gt; If both a portNumber and instanceName are used, the portNumber will\r\n&gt; take precedence and the instanceName will be ignored.\r\n\r\nTherefore, for the case of dynamic port, we should only use instanceName for connection and keep the SQL Browser service running (SQL Server provides the [SQL Server Browser Service][2], to monitor the ports, and direct incoming connections to the current port for that instance). Thus, in my case, **the correct form** is: \r\n\r\n    jdbc:sqlserver://serverName\\instanceName;databaseName=myDB\r\n\r\nAlso, we should keep in mind that \r\n\r\n&gt; For optimal connection performance, you should set the portNumber when\r\n&gt; you connect to a named instance. This will avoid a round trip to the\r\n&gt; server to determine the port number\r\n\r\nThen this will call for a static port number. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\r\n  [2]: https://learn.microsoft.com/en-us/sql/tools/configuration-manager/tcp-ip-properties-ip-addresses-tab?view=sql-server-2017","title":"JDBC Connection to SQL server with Dynamic TCP Ports","body":"<p>My sql server engine is using dynamic TCP port, e.g., 52358. I can do JDBC query without any problem if I specified the port number 52358 in my JDBC DB url connection string, i.e.,</p>\n\n<pre><code>jdbc:sqlserver://serverName:52358;databaseName=myDB\n</code></pre>\n\n<p>However, since this is dynamic port, sql server might choose another port if this port (52358) becomes unavailable after you restart sql server next time. </p>\n\n<p>So what's best way to configure my DB URL in the connection string? </p>\n\n<hr>\n\n<p><strong>Approach I have tried</strong>: </p>\n\n<p>Omitting the port number and using only the instance name, i.e.,</p>\n\n<pre><code>jdbc:sqlserver://serverName;databaseName=myDB\n</code></pre>\n\n<p>This doesn't work. By the way, sql server browser service is already enabled. </p>\n\n<hr>\n\n<p><strong>Solution found</strong> (thanks to Gord Thompson). The <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-2017\" rel=\"nofollow noreferrer\">complete form</a> of DB URL is: </p>\n\n<pre><code>jdbc:sqlserver://[serverName[\\instanceName][:portNumber]][;property=value[;property=value]]\n</code></pre>\n\n<p>where either the portNumber or instanceName may be used to connect to serverName. However, </p>\n\n<blockquote>\n  <p>If both a portNumber and instanceName are used, the portNumber will\n  take precedence and the instanceName will be ignored.</p>\n</blockquote>\n\n<p>Therefore, for the case of dynamic port, we should only use instanceName for connection and keep the SQL Browser service running (SQL Server provides the <a href=\"https://learn.microsoft.com/en-us/sql/tools/configuration-manager/tcp-ip-properties-ip-addresses-tab?view=sql-server-2017\" rel=\"nofollow noreferrer\">SQL Server Browser Service</a>, to monitor the ports, and direct incoming connections to the current port for that instance). Thus, in my case, <strong>the correct form</strong> is: </p>\n\n<pre><code>jdbc:sqlserver://serverName\\instanceName;databaseName=myDB\n</code></pre>\n\n<p>Also, we should keep in mind that </p>\n\n<blockquote>\n  <p>For optimal connection performance, you should set the portNumber when\n  you connect to a named instance. This will avoid a round trip to the\n  server to determine the port number</p>\n</blockquote>\n\n<p>Then this will call for a static port number. </p>\n"},{"tags":["java","selenium","jenkins","automation"],"answers":[{"tags":[],"owner":{"account_id":4323616,"reputation":159,"user_id":3531010,"display_name":"SSabharwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505977555,"creation_date":1505977555,"answer_id":46337493,"question_id":46336653,"body_markdown":"Is your selenium server active on the machine you are trying to execute the code through Jenkins?\r\n\r\nyou can check that, and start the server on command line from the location where selenium standalone server is located. Try the following command(modify the paths) :\r\n\r\n    java -jar selenium-server-standalone-2.53.1.jar -Dwebdriver.chrome.driver=c:\\path\\to\\chromedriver.exe","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Is your selenium server active on the machine you are trying to execute the code through Jenkins?</p>\n\n<p>you can check that, and start the server on command line from the location where selenium standalone server is located. Try the following command(modify the paths) :</p>\n\n<pre><code>java -jar selenium-server-standalone-2.53.1.jar -Dwebdriver.chrome.driver=c:\\path\\to\\chromedriver.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14939593,"reputation":69,"user_id":10786696,"display_name":"Prateek shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574345145,"creation_date":1574340661,"answer_id":58975507,"question_id":46336653,"body_markdown":"Which OS you are using on your http://192.168.10.91:8081/ (server)? If it is Ubuntu then try executing scripts in headless mode and follow these steps:\r\n\r\n1. Download and enable **Xvfb** before the start of selenium script on Jenkins. For more info read here https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin \r\n2. To be on safer side try to keep chromedriver in **&quot;usr/bin&quot;** folder.\r\n3. Now run the script.","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Which OS you are using on your <a href=\"http://192.168.10.91:8081/\" rel=\"nofollow noreferrer\">http://192.168.10.91:8081/</a> (server)? If it is Ubuntu then try executing scripts in headless mode and follow these steps:</p>\n\n<ol>\n<li>Download and enable <strong>Xvfb</strong> before the start of selenium script on Jenkins. For more info read here <a href=\"https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin\" rel=\"nofollow noreferrer\">https://wiki.jenkins.io/display/JENKINS/Xvfb+Plugin</a> </li>\n<li>To be on safer side try to keep chromedriver in <strong>\"usr/bin\"</strong> folder.</li>\n<li>Now run the script.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484550,"creation_date":1693484550,"answer_id":77015793,"question_id":46336653,"body_markdown":"This was resolved after adding a headless mode option while executing tests on the Jenkins server.\r\n\r\n\t\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--no-proxy-server&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--proxy-server=&#39;direct://&#39;&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--proxy-bypass-list=*&quot;);\r\n\t\t\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\r\n\r\n\r\n","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>This was resolved after adding a headless mode option while executing tests on the Jenkins server.</p>\n<pre><code>            options.addArguments(&quot;--headless&quot;);\n            options.addArguments(&quot;--no-proxy-server&quot;);\n            options.addArguments(&quot;--proxy-server='direct://'&quot;);\n            options.addArguments(&quot;--proxy-bypass-list=*&quot;);\n            options.addArguments(&quot;--no-sandbox&quot;);\n</code></pre>\n"}],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693484550,"creation_date":1505974342,"question_id":46336653,"body_markdown":"Currently, I am doing automation of a project and writing Tests thru selenium and java it&#39;s working fine when I am executing tests from \r\n  Jenkins on my local server but on QAT I am getting an error.Previously I have written selenium test and now I have started using Jenkins for build and integration with Git on my windows platform.   \r\n  Also, chrome path I am using for QAT server is  I have changed to\r\n\r\n \r\n\r\n  \r\n\r\n   System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files \r\n \r\n(x86)\\\\Jenkins\\\\jobs\\\\SPOSAUTOMATION\\\\workspace\\\\Driver\\\\chromedriver.exe&quot;);\r\n\r\n      [INFO]  T E S T S\r\n      [INFO] -------------------------------------------------------\r\n      [INFO] Running TestSuite\r\n      Starting ChromeDriver 2.32.498550 \r\n      (9dec58e66c31bcc53a9ce3c7226f0c1c5810906a) on port 10309\r\n      Only local connections are allowed.\r\n      [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time \r\n      elapsed: 21.404 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n      [ERROR] \r\n      launchBrowserTest(com.Spos.LoginAppUserAdmin.LoginAppUserAdmin)  Time \r\n      elapsed: 21.248 s  &lt;&lt;&lt; FAILURE!\r\n      org.openqa.selenium.WebDriverException: \r\n      Timed out waiting for driver server to start.\r\n\r\n \r\n\r\n   This is the log file generated after execution build test thru Jenkins on \r\n   QAT server of the application.Here chromedriver started execution but not getting connected with chrome server and throwing a timeout exception.\r\n  Please ask me if any further information required to resolve the issue.\r\n\r\n","title":"Getting error for selenium test execution with jenkins on QAT server, it&#39;s working fine with local jenkins","body":"<p>Currently, I am doing automation of a project and writing Tests thru selenium and java it's working fine when I am executing tests from \n  Jenkins on my local server but on QAT I am getting an error.Previously I have written selenium test and now I have started using Jenkins for build and integration with Git on my windows platform.<br>\n  Also, chrome path I am using for QAT server is  I have changed to</p>\n\n<p>System.setProperty(\"webdriver.chrome.driver\", \"C:\\Program Files </p>\n\n<p>(x86)\\Jenkins\\jobs\\SPOSAUTOMATION\\workspace\\Driver\\chromedriver.exe\");</p>\n\n<pre><code>  [INFO]  T E S T S\n  [INFO] -------------------------------------------------------\n  [INFO] Running TestSuite\n  Starting ChromeDriver 2.32.498550 \n  (9dec58e66c31bcc53a9ce3c7226f0c1c5810906a) on port 10309\n  Only local connections are allowed.\n  [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time \n  elapsed: 21.404 s &lt;&lt;&lt; FAILURE! - in TestSuite\n  [ERROR] \n  launchBrowserTest(com.Spos.LoginAppUserAdmin.LoginAppUserAdmin)  Time \n  elapsed: 21.248 s  &lt;&lt;&lt; FAILURE!\n  org.openqa.selenium.WebDriverException: \n  Timed out waiting for driver server to start.\n</code></pre>\n\n<p>This is the log file generated after execution build test thru Jenkins on \n   QAT server of the application.Here chromedriver started execution but not getting connected with chrome server and throwing a timeout exception.\n  Please ask me if any further information required to resolve the issue.</p>\n"},{"tags":["java","android","android-intent","callback","android-browser"],"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693484830,"post_id":77015783,"comment_id":135769126,"body_markdown":"What about focusing on the user session the the website rather than a tab? If the payment is made and your app can just return success data to the website with everything related to the user that made de payment","body":"What about focusing on the user session the the website rather than a tab? If the payment is made and your app can just return success data to the website with everything related to the user that made de payment"},{"owner":{"account_id":17242258,"reputation":65,"user_id":12484262,"display_name":"Smiley Sharma"},"score":0,"creation_date":1693565767,"post_id":77015783,"comment_id":135781280,"body_markdown":"Yes,  @esQmo_ if extra parameteres worked then I can pass session ID too.","body":"Yes,  @esQmo_ if extra parameteres worked then I can pass session ID too."}],"owner":{"account_id":17242258,"reputation":65,"user_id":12484262,"display_name":"Smiley Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693484469,"creation_date":1693484469,"question_id":77015783,"body_markdown":"I have made a payment app in Java Kotlin. My requirement is that a webpage can call my app for payment then after successful payment I can response back that webpage with transaction ID. \r\n\r\n\r\nFrom web page, I have called app through Android&#39;s Intend feature and made payment successfully. while reverting back to chrome I am facing issue. \r\n\r\n**If I use HTTP URL intend then it opens new Tab everytime**,\r\n\r\n```\r\n dataUri = Uri.parse(&quot;https://URL.com/app.php?amount=2&amp;t_Id=123123123&quot;);\r\n Intent intent = new Intent(Intent.ACTION_VIEW, dataUri);\r\n```\r\n \r\n\r\n**Another option is to target chrome through Intend again.** \r\n\r\n```\r\n dataUri = Uri.parse(&quot;//googlechrome:&quot;);\r\n Intent intent = new Intent(Intent.ACTION_VIEW, dataUri);\r\n```\r\n \r\n It is working but issue I am getting in this is not able to send data. I understand that with intend we are just changing focus back to chrome. I tried Put extra paramteres but it didn&#39;t work.\r\n\r\n```\r\n\tintent.putExtra(&quot;t_Id&quot;, &quot;12345&quot;);\r\n```\r\n\r\n Can any one suggest a better solution for it?\r\n\r\n \r\n\r\n\r\n\r\n","title":"Can we send back data from App to Chrome in previous opened Tab?","body":"<p>I have made a payment app in Java Kotlin. My requirement is that a webpage can call my app for payment then after successful payment I can response back that webpage with transaction ID.</p>\n<p>From web page, I have called app through Android's Intend feature and made payment successfully. while reverting back to chrome I am facing issue.</p>\n<p><strong>If I use HTTP URL intend then it opens new Tab everytime</strong>,</p>\n<pre><code> dataUri = Uri.parse(&quot;https://URL.com/app.php?amount=2&amp;t_Id=123123123&quot;);\n Intent intent = new Intent(Intent.ACTION_VIEW, dataUri);\n</code></pre>\n<p><strong>Another option is to target chrome through Intend again.</strong></p>\n<pre><code> dataUri = Uri.parse(&quot;//googlechrome:&quot;);\n Intent intent = new Intent(Intent.ACTION_VIEW, dataUri);\n</code></pre>\n<p>It is working but issue I am getting in this is not able to send data. I understand that with intend we are just changing focus back to chrome. I tried Put extra paramteres but it didn't work.</p>\n<pre><code>    intent.putExtra(&quot;t_Id&quot;, &quot;12345&quot;);\n</code></pre>\n<p>Can any one suggest a better solution for it?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693487474,"post_id":77015761,"comment_id":135769701,"body_markdown":"Is the log you posted the one you get from from the request? There are null entries in tacoOrder and empty collection in ingredientsRef. This is most probably the reason. You may set this entries in the service class before calling repo save method.","body":"Is the log you posted the one you get from from the request? There are null entries in tacoOrder and empty collection in ingredientsRef. This is most probably the reason. You may set this entries in the service class before calling repo save method."},{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693491912,"post_id":77015761,"comment_id":135770822,"body_markdown":"in the controller i just save the tacoOrder which the forms gives in request and then log using ToString myself. the tacoOrder oobject comes with null and after i save it , it has ids. i also made tacos related to it by annotations but its still not sending tacoOrder id to tacos","body":"in the controller i just save the tacoOrder which the forms gives in request and then log using ToString myself. the tacoOrder oobject comes with null and after i save it , it has ids. i also made tacos related to it by annotations but its still not sending tacoOrder id to tacos"},{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":0,"creation_date":1693495279,"post_id":77015761,"comment_id":135771581,"body_markdown":"You posted Entities&#39; code only. And they seem correct, anyway. Could you please post the code where you handle these entities? It will be very helpful to address the issue","body":"You posted Entities&#39; code only. And they seem correct, anyway. Could you please post the code where you handle these entities? It will be very helpful to address the issue"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693496570,"post_id":77015761,"comment_id":135771870,"body_markdown":"Making the relationship with annotation is not enough. You need to set the actual relation in code. For example in you addTaco method add this code: taco.setTacoOrder(this)","body":"Making the relationship with annotation is not enough. You need to set the actual relation in code. For example in you addTaco method add this code: taco.setTacoOrder(this)"},{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693500901,"post_id":77015761,"comment_id":135772807,"body_markdown":"yes added that, also change ingredient ref table a little bit and now tables in database are working fine but im getting a new error \nSLF4J: Failed toString() invocation on an object of type [com.example.tacohouse.Taco]\npackage com.example.tacohouse;\nits in my controller class where im logging the taco object thats being sent through the form\n```\n        tacoOrder.addTaco(taco);\n        log.info(&quot;Processing taco: {}&quot;, taco);\n        return &quot;redirect:/orders/current&quot;;\n    }\n```","body":"yes added that, also change ingredient ref table a little bit and now tables in database are working fine but im getting a new error  SLF4J: Failed toString() invocation on an object of type [com.example.tacohouse.Taco] package com.example.tacohouse; its in my controller class where im logging the taco object thats being sent through the form ```         tacoOrder.addTaco(taco);         log.info(&quot;Processing taco: {}&quot;, taco);         return &quot;redirect:/orders/current&quot;;     } ```"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1693502059,"post_id":77015761,"comment_id":135773045,"body_markdown":"This will be a recursive call of toString. Because you have a bidirectional relationship. Similar problem you will have while serializing JSON. Check my similar answer here: https://stackoverflow.com/questions/76585666/hibernate-find-by-id-for-onetoone-returns-entity-in-recursion/76586743#76586743","body":"This will be a recursive call of toString. Because you have a bidirectional relationship. Similar problem you will have while serializing JSON. Check my similar answer here: <a href=\"https://stackoverflow.com/questions/76585666/hibernate-find-by-id-for-onetoone-returns-entity-in-recursion/76586743#76586743\" title=\"hibernate find by id for onetoone returns entity in recursion\">stackoverflow.com/questions/76585666/&hellip;</a>"},{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693507526,"post_id":77015761,"comment_id":135774061,"body_markdown":"thanks man, i exclused tacoOrder object from toString in taco and it fixed it. only one thing that it doesnt put tacoOrder id in logs now cause i excluded it but i can just get id and put it if i want. ill be wary of json serialization too if im working with jackson in future.","body":"thanks man, i exclused tacoOrder object from toString in taco and it fixed it. only one thing that it doesnt put tacoOrder id in logs now cause i excluded it but i can just get id and put it if i want. ill be wary of json serialization too if im working with jackson in future."}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693484298,"creation_date":1693484298,"question_id":77015761,"body_markdown":"Im using mcv controller and 2 page view that sends a tacoOrder object as a form and saves it using orderRepo save method. These are the classes\r\nThis is the Ingredient class:\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED,force = true)\r\npublic class Ingredient {\r\n    @Id\r\n    private final String id;\r\n    private final String name;\r\n    @Enumerated(EnumType.STRING)\r\n    private final Type type;\r\n\r\n    @OneToMany(mappedBy = &quot;ingredient&quot;)\r\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public enum Type {\r\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\r\n    }\r\n}\r\n```\r\nThis is TacoOrder class:\r\n```\r\n@Data\r\n@Entity\r\npublic class TacoOrder implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Date placedAt = new Date();\r\n    @NotBlank(message = &quot;Delivery name is required&quot;)\r\n    private String deliveryName;\r\n    @NotBlank\r\n    private String deliveryStreet;\r\n    @NotBlank(message = &quot;City is required&quot;)\r\n    private String deliveryCity;\r\n    @NotBlank(message = &quot;State is required&quot;)\r\n    private String deliveryState;\r\n    @NotBlank(message = &quot;Zip Code is required&quot;)\r\n    private String deliveryZip;\r\n    @CreditCardNumber(message = &quot;Invalid Credit Card Number&quot;)\r\n    private String ccNumber;\r\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])/20(2[3-9]|[3-9][0-9])$&quot;,message = &quot;Must be of format MM/YYYY&quot;)\r\n    private String ccExpiration;\r\n    @NotNull\r\n    @Digits(integer=3, fraction=0, message=&quot;Invalid CVV&quot;)\r\n    private String ccCVV;\r\n\r\n    @OneToMany(mappedBy = &quot;tacoOrder&quot;,cascade = CascadeType.ALL)\r\n    private List&lt;Taco&gt; tacos = new ArrayList&lt;&gt;();\r\n    public void addTaco(Taco taco) {\r\n        this.tacos.add(taco);\r\n    }\r\n}\r\n```\r\nThis is Taco class:\r\n```\r\n@Data\r\n@Entity\r\npublic class Taco {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Date createdAt = new Date();\r\n\r\n    @NotBlank\r\n    @Size(min = 5, message = &quot;Name must be at least 5 characters long&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    private List&lt;Ingredient&gt; ingredients;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;taco_order_id&quot;)\r\n    private TacoOrder tacoOrder;\r\n\r\n    @OneToMany(mappedBy = &quot;taco&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nThis is IngredientRef class:\r\n```\r\n@Data\r\n@Entity\r\npublic class IngredientRef {\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ingredient_id&quot;)\r\n    private Ingredient ingredient;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;taco_id&quot;)\r\n    private Taco taco;\r\n}\r\n```\r\nthese are the logs\r\n```\r\n2023-08-31T02:30:35.257+05:30  INFO 16268 --- [io-8080-exec-10] com.example.tacohouse.OrderController    : Order submitted: TacoOrder(id=1, placedAt=Thu Aug 31 02:29:51 IST 2023, deliveryName=a, deliveryStreet=b, deliveryCity=b, deliveryState=b, deliveryZip=b, ccNumber=4417123456789113, ccExpiration=11/2024, ccCVV=111, tacos=[Taco(id=1, createdAt=Thu Aug 31 02:29:56 IST 2023, name=firstTaco, ingredients=[Ingredient(id=COTO, name=Corn Tortilla, type=WRAP, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[]), Taco(id=2, createdAt=Thu Aug 31 02:30:02 IST 2023, name=secondTaco, ingredients=[Ingredient(id=CARN, name=Carnitas, type=PROTEIN, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[]), Taco(id=3, createdAt=Thu Aug 31 02:30:07 IST 2023, name=thirdTaco, ingredients=[Ingredient(id=CHED, name=Cheddar, type=CHEESE, ingredientRefs=[]), Ingredient(id=JACK, name=Monterrey Jack, type=CHEESE, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[])])\r\n```\r\nthis is tables data in h2 console im using\r\n```\r\ningredient table is fine\r\ntaco order table is fine\r\nthis is taco table\r\nCREATED_AT      ID      TACO_ORDER_ID   NAME  \r\n2023-08-31  02:29:51    1   null    firstTaco\r\n2023-08-31  02:30:02    2   null    secondTaco\r\n2023-08-31  02:30:07    3   null    thirdTaco\r\nthis is ingredient ref table\r\nTACO_ID     INGREDIENT_ID  \r\n(no rows, 0 ms)\r\n```\r\nIngredient ref just shows the relation between taco and ingredients used.\r\nIm using h-2 database and preloading ingredient table using data.sql\r\nThis is app.properties\r\n```\r\nspring.datasource.generate-unique-name=false\r\nspring.datasource.name=tacocloud\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.defer-datasource-initialization=true\r\n```\r\nI&#39;m seeing IDs of tacoOrder and tacos created in the database but in the tacos table which has the foreign key of tacoOrder id it&#39;s null. also ingredient_ref table is empty. what am I doing wrong?","title":"JPA not adding ids and values to table","body":"<p>Im using mcv controller and 2 page view that sends a tacoOrder object as a form and saves it using orderRepo save method. These are the classes\nThis is the Ingredient class:</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED,force = true)\npublic class Ingredient {\n    @Id\n    private final String id;\n    private final String name;\n    @Enumerated(EnumType.STRING)\n    private final Type type;\n\n    @OneToMany(mappedBy = &quot;ingredient&quot;)\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\n\n\n    public enum Type {\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\n    }\n}\n</code></pre>\n<p>This is TacoOrder class:</p>\n<pre><code>@Data\n@Entity\npublic class TacoOrder implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Date placedAt = new Date();\n    @NotBlank(message = &quot;Delivery name is required&quot;)\n    private String deliveryName;\n    @NotBlank\n    private String deliveryStreet;\n    @NotBlank(message = &quot;City is required&quot;)\n    private String deliveryCity;\n    @NotBlank(message = &quot;State is required&quot;)\n    private String deliveryState;\n    @NotBlank(message = &quot;Zip Code is required&quot;)\n    private String deliveryZip;\n    @CreditCardNumber(message = &quot;Invalid Credit Card Number&quot;)\n    private String ccNumber;\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])/20(2[3-9]|[3-9][0-9])$&quot;,message = &quot;Must be of format MM/YYYY&quot;)\n    private String ccExpiration;\n    @NotNull\n    @Digits(integer=3, fraction=0, message=&quot;Invalid CVV&quot;)\n    private String ccCVV;\n\n    @OneToMany(mappedBy = &quot;tacoOrder&quot;,cascade = CascadeType.ALL)\n    private List&lt;Taco&gt; tacos = new ArrayList&lt;&gt;();\n    public void addTaco(Taco taco) {\n        this.tacos.add(taco);\n    }\n}\n</code></pre>\n<p>This is Taco class:</p>\n<pre><code>@Data\n@Entity\npublic class Taco {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Date createdAt = new Date();\n\n    @NotBlank\n    @Size(min = 5, message = &quot;Name must be at least 5 characters long&quot;)\n    private String name;\n\n    @ManyToMany\n    private List&lt;Ingredient&gt; ingredients;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;taco_order_id&quot;)\n    private TacoOrder tacoOrder;\n\n    @OneToMany(mappedBy = &quot;taco&quot;, cascade = CascadeType.ALL)\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>This is IngredientRef class:</p>\n<pre><code>@Data\n@Entity\npublic class IngredientRef {\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;ingredient_id&quot;)\n    private Ingredient ingredient;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;taco_id&quot;)\n    private Taco taco;\n}\n</code></pre>\n<p>these are the logs</p>\n<pre><code>2023-08-31T02:30:35.257+05:30  INFO 16268 --- [io-8080-exec-10] com.example.tacohouse.OrderController    : Order submitted: TacoOrder(id=1, placedAt=Thu Aug 31 02:29:51 IST 2023, deliveryName=a, deliveryStreet=b, deliveryCity=b, deliveryState=b, deliveryZip=b, ccNumber=4417123456789113, ccExpiration=11/2024, ccCVV=111, tacos=[Taco(id=1, createdAt=Thu Aug 31 02:29:56 IST 2023, name=firstTaco, ingredients=[Ingredient(id=COTO, name=Corn Tortilla, type=WRAP, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[]), Taco(id=2, createdAt=Thu Aug 31 02:30:02 IST 2023, name=secondTaco, ingredients=[Ingredient(id=CARN, name=Carnitas, type=PROTEIN, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[]), Taco(id=3, createdAt=Thu Aug 31 02:30:07 IST 2023, name=thirdTaco, ingredients=[Ingredient(id=CHED, name=Cheddar, type=CHEESE, ingredientRefs=[]), Ingredient(id=JACK, name=Monterrey Jack, type=CHEESE, ingredientRefs=[])], tacoOrder=null, ingredientRefs=[])])\n</code></pre>\n<p>this is tables data in h2 console im using</p>\n<pre><code>ingredient table is fine\ntaco order table is fine\nthis is taco table\nCREATED_AT      ID      TACO_ORDER_ID   NAME  \n2023-08-31  02:29:51    1   null    firstTaco\n2023-08-31  02:30:02    2   null    secondTaco\n2023-08-31  02:30:07    3   null    thirdTaco\nthis is ingredient ref table\nTACO_ID     INGREDIENT_ID  \n(no rows, 0 ms)\n</code></pre>\n<p>Ingredient ref just shows the relation between taco and ingredients used.\nIm using h-2 database and preloading ingredient table using data.sql\nThis is app.properties</p>\n<pre><code>spring.datasource.generate-unique-name=false\nspring.datasource.name=tacocloud\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>I'm seeing IDs of tacoOrder and tacos created in the database but in the tacos table which has the foreign key of tacoOrder id it's null. also ingredient_ref table is empty. what am I doing wrong?</p>\n"},{"tags":["java","spring","jpa","enums","spring-data-jpa"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1538983968,"post_id":52697379,"comment_id":92321186,"body_markdown":"JPA allows passing in an enum as a parameter, yes. You&#39;re using &quot;Spring Data JPA&quot; which is not the JPA API (and `@Query` is nothing to do with the JPA API). You don&#39;t post your entity so nobody knows what type is &quot;id&quot; for example. Post complete infos. Some JDBC drivers may not allow specifying a parameter in the UPDATE clause possibly, but until you actually post what happened when you try it, there&#39;s not a lot to say","body":"JPA allows passing in an enum as a parameter, yes. You&#39;re using &quot;Spring Data JPA&quot; which is not the JPA API (and <code>@Query</code> is nothing to do with the JPA API). You don&#39;t post your entity so nobody knows what type is &quot;id&quot; for example. Post complete infos. Some JDBC drivers may not allow specifying a parameter in the UPDATE clause possibly, but until you actually post what happened when you try it, there&#39;s not a lot to say"},{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1538984224,"post_id":52697379,"comment_id":92321315,"body_markdown":"Post your entity class and Enum here.","body":"Post your entity class and Enum here."},{"owner":{"account_id":1711670,"reputation":2138,"user_id":1569604,"accept_rate":50,"display_name":"maslan"},"score":0,"creation_date":1538984456,"post_id":52697379,"comment_id":92321432,"body_markdown":"This looks rather fine, any exceptions you get?","body":"This looks rather fine, any exceptions you get?"},{"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"score":0,"creation_date":1539062967,"post_id":52697379,"comment_id":92353326,"body_markdown":"@SudhirOjha put the entity class and Enum here.","body":"@SudhirOjha put the entity class and Enum here."},{"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"score":0,"creation_date":1539063002,"post_id":52697379,"comment_id":92353334,"body_markdown":"@maslan please refer to the question update and let me know what you think.","body":"@maslan please refer to the question update and let me know what you think."},{"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"score":0,"creation_date":1539063156,"post_id":52697379,"comment_id":92353398,"body_markdown":"@BillyFrost I&#39;m sorry it&#39;s only been a handful of weeks with Java persistence. Thanks for pointing out the inaccuracies. The &quot;id&quot; type is Long. I updated the question. Still half baked?","body":"@BillyFrost I&#39;m sorry it&#39;s only been a handful of weeks with Java persistence. Thanks for pointing out the inaccuracies. The &quot;id&quot; type is Long. I updated the question. Still half baked?"},{"owner":{"account_id":1711670,"reputation":2138,"user_id":1569604,"accept_rate":50,"display_name":"maslan"},"score":0,"creation_date":1539071844,"post_id":52697379,"comment_id":92357414,"body_markdown":"@RohanKumar that is exactly what I though You wanted, faced it many times and had to do some workarounds, cause the answer below is correct. Java will not let you use enums with annotations like that, so you need to figure something else","body":"@RohanKumar that is exactly what I though You wanted, faced it many times and had to do some workarounds, cause the answer below is correct. Java will not let you use enums with annotations like that, so you need to figure something else"}],"answers":[{"tags":[],"owner":{"account_id":7146897,"reputation":1723,"user_id":5462308,"display_name":"RJ.Hwang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1538987973,"creation_date":1538987973,"answer_id":52698406,"question_id":52697379,"body_markdown":"That&#39;s not possible because annotation attribute value must be constant and Enum is not a constant. But you can use java8 interface default method as a trick to solve it. The template code:\r\n\r\n    public interface TheEntityJpaRepository extends JpaRepository&lt;TheEntity, Long&gt; {\r\n      @Modifying(clearAutomatically = true)\r\n      @Query(&quot;UPDATE TheEntity SET status = :status WHERE id = :value&quot;)\r\n      int markToStatus(@Param(&quot;value&quot;) Long value, @Param(&quot;status&quot;) TheStatusEnum status);\r\n    \r\n      default int markAsResolved(Long value) {\r\n        return markToStatus(value, TheStatusEnum.RESOLVED);\r\n      }\r\n    }\r\n\r\n    @Entity\r\n    public class YourEntity {\r\n      ...\r\n      @Enumerated(EnumType.STRING)\r\n      private Status status;\r\n      ...\r\n    }\r\n    \r\n    public enum TheStatusEnum {\r\n      RESOLVED,\r\n      ...\r\n    }\r\n\r\nBut you should know that this way will exposed the `markToStatus` method.","title":"What are some ways to pass an Enum value in a pure JPA @Query?","body":"<p>That's not possible because annotation attribute value must be constant and Enum is not a constant. But you can use java8 interface default method as a trick to solve it. The template code:</p>\n\n<pre><code>public interface TheEntityJpaRepository extends JpaRepository&lt;TheEntity, Long&gt; {\n  @Modifying(clearAutomatically = true)\n  @Query(\"UPDATE TheEntity SET status = :status WHERE id = :value\")\n  int markToStatus(@Param(\"value\") Long value, @Param(\"status\") TheStatusEnum status);\n\n  default int markAsResolved(Long value) {\n    return markToStatus(value, TheStatusEnum.RESOLVED);\n  }\n}\n\n@Entity\npublic class YourEntity {\n  ...\n  @Enumerated(EnumType.STRING)\n  private Status status;\n  ...\n}\n\npublic enum TheStatusEnum {\n  RESOLVED,\n  ...\n}\n</code></pre>\n\n<p>But you should know that this way will exposed the <code>markToStatus</code> method.</p>\n"},{"tags":[],"owner":{"account_id":22394978,"reputation":11,"user_id":16606384,"display_name":"berkshirman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652261985,"creation_date":1652261498,"answer_id":72198656,"question_id":52697379,"body_markdown":"try this\r\n\r\n```java\r\n@Modifying \r\n@Query(value = &quot;update table set status=:#{#status.toString()} where id = :id&quot;, nativeQuery = true) \r\nvoid reset(@Param(&quot;id&quot;) Long id, @Param(&quot;status&quot;) TaskStatusEnum status);\r\n\r\n```\r\n","title":"What are some ways to pass an Enum value in a pure JPA @Query?","body":"<p>try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying \n@Query(value = &quot;update table set status=:#{#status.toString()} where id = :id&quot;, nativeQuery = true) \nvoid reset(@Param(&quot;id&quot;) Long id, @Param(&quot;status&quot;) TaskStatusEnum status);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652267323,"creation_date":1652262762,"answer_id":72198952,"question_id":52697379,"body_markdown":"you can follow the below process and come out to a solution.\r\n\r\n//ENUM structure\r\n\r\n    @Getter\r\n    public enum Status {\r\n        RESOLVED(1, &quot;resolved&quot;),\r\n        NOT_RESOLVED(2, &quot;not reolved&quot;);\r\n    \r\n        private Integer id;\r\n        private String name;\r\n    \r\n    \r\n        Status(Integer id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    \r\n        private static Status getById(Integer id) {\r\n            for (Status type : Status.values()) {\r\n                if (type.getId() == id) {\r\n                    return type;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Converter(autoApply = true)\r\n        public static class TypeConverter implements AttributeConverter&lt;Status, Integer&gt; {\r\n            @Override\r\n            public Integer convertToDatabaseColumn(Status type) {\r\n                return type != null ? type.getId() : null;\r\n            }\r\n    \r\n            @Override\r\n            public Status convertToEntityAttribute(Integer id) {\r\n                return id != null ? Status.getById(id) : null;\r\n            }\r\n        }\r\n    }\r\n\r\n//Entity Structure\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder(builderClassName = &quot;Builder&quot;, toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;something&quot;)\r\n    public class Something   {\r\n    \r\n        private static final long serialVersionUID = 1696981698111303897L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n        protected Long id;\r\n    \r\n        @Column(name = &quot;status_id&quot;)\r\n        @Convert(converter = Status.TypeConverter.class)\r\n        private Status status;\r\n    \r\n    }\r\n\r\n//Service method\r\n\r\n   \r\n\r\n    List&lt;Something&gt; findByIdAndStatus(Long id, Status status);\r\n\r\n//impl method\r\n\r\n    @Override\r\n    public List&lt;Something&gt; findByIdAndStatus(Long id, Status status) {\r\n        return somthingRepository.findByIdAndStatus(id, status);\r\n    }\r\n\r\n//repository method\r\n\r\n  \r\n\r\n     List&lt;Something&gt; findByIdAndStatus(Long id, Status status);\r\n\r\n\r\n//now call it like this.Note you are passing the enum value here.In this way you can pass any enum value to your JPA query or repository method.\r\n\r\n    List&lt;Something&gt; yourResult = somethingService.findByIdAndStatus(id,\r\n                    Status.RESOLVED);\r\n\r\n","title":"What are some ways to pass an Enum value in a pure JPA @Query?","body":"<p>you can follow the below process and come out to a solution.</p>\n<p>//ENUM structure</p>\n<pre><code>@Getter\npublic enum Status {\n    RESOLVED(1, &quot;resolved&quot;),\n    NOT_RESOLVED(2, &quot;not reolved&quot;);\n\n    private Integer id;\n    private String name;\n\n\n    Status(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    private static Status getById(Integer id) {\n        for (Status type : Status.values()) {\n            if (type.getId() == id) {\n                return type;\n            }\n        }\n        return null;\n    }\n\n    @Converter(autoApply = true)\n    public static class TypeConverter implements AttributeConverter&lt;Status, Integer&gt; {\n        @Override\n        public Integer convertToDatabaseColumn(Status type) {\n            return type != null ? type.getId() : null;\n        }\n\n        @Override\n        public Status convertToEntityAttribute(Integer id) {\n            return id != null ? Status.getById(id) : null;\n        }\n    }\n}\n</code></pre>\n<p>//Entity Structure</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder(builderClassName = &quot;Builder&quot;, toBuilder = true)\n@Entity\n@Table(name = &quot;something&quot;)\npublic class Something   {\n\n    private static final long serialVersionUID = 1696981698111303897L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n    protected Long id;\n\n    @Column(name = &quot;status_id&quot;)\n    @Convert(converter = Status.TypeConverter.class)\n    private Status status;\n\n}\n</code></pre>\n<p>//Service method</p>\n<pre><code>List&lt;Something&gt; findByIdAndStatus(Long id, Status status);\n</code></pre>\n<p>//impl method</p>\n<pre><code>@Override\npublic List&lt;Something&gt; findByIdAndStatus(Long id, Status status) {\n    return somthingRepository.findByIdAndStatus(id, status);\n}\n</code></pre>\n<p>//repository method</p>\n<pre><code> List&lt;Something&gt; findByIdAndStatus(Long id, Status status);\n</code></pre>\n<p>//now call it like this.Note you are passing the enum value here.In this way you can pass any enum value to your JPA query or repository method.</p>\n<pre><code>List&lt;Something&gt; yourResult = somethingService.findByIdAndStatus(id,\n                Status.RESOLVED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15098599,"reputation":834,"user_id":10896311,"display_name":"Nikhil Waykos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484187,"creation_date":1693484187,"answer_id":77015750,"question_id":52697379,"body_markdown":"Try using cast when enum declared in db also\r\n\r\n    @Modifying \r\n    @Query(value = &quot;update table set status=cast(:#{#status.toString()} as task_status) where id = :id&quot;, nativeQuery = true) \r\n    void reset(@Param(&quot;id&quot;) Long id, @Param(&quot;status&quot;) TaskStatusEnum status);","title":"What are some ways to pass an Enum value in a pure JPA @Query?","body":"<p>Try using cast when enum declared in db also</p>\n<pre><code>@Modifying \n@Query(value = &quot;update table set status=cast(:#{#status.toString()} as task_status) where id = :id&quot;, nativeQuery = true) \nvoid reset(@Param(&quot;id&quot;) Long id, @Param(&quot;status&quot;) TaskStatusEnum status);\n</code></pre>\n"}],"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9905,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":52698406,"answer_count":4,"score":3,"last_activity_date":1693484187,"creation_date":1538983811,"question_id":52697379,"body_markdown":"Let&#39;s say I want to set a record&#39;s column value as &quot;RESOLVED&quot;. However, I want to have this value to picked up from an Enum. So the query stays the same regardless if somebody decides the &quot;RESOLVED&quot; to change to &quot;RESOLVE&quot; or something like that. In other words, the developer would not need to edit the JPA query with the new Enum value. Just wanted to know what are some ways to go about it, or if JPA doesn&#39;t allow that. I know queries are static but earlier I was able to pass an object inside a query to store the query result fields in it. So I wondered if one could do the same with Enums too.\r\n\r\nThis is my current strategy: To pass the &quot;RESOLVE&quot; as a @Param &quot;status&quot;. However, I&#39;d still like to know how to pass Enums as this feels like a work-around more than answering the question itself.\r\n\r\n    public interface UpdateStatusStandardDAO extends JpaRepository&lt;DBTableName, Long&gt;\r\n\t{\r\n\r\n\t    @Transactional\r\n\t    @Modifying(clearAutomatically = true)\r\n\t    @Query(&quot;UPDATE&quot;\r\n\t            + &quot; TableName tn&quot;\r\n\t            + &quot; SET&quot;\r\n\t            + &quot; tn.status =:status&quot;\r\n\t            + &quot; WHERE&quot;\r\n\t            + &quot; tn.field1 =:field1&quot;\r\n\t            + &quot; AND tn.field2 =:field2&quot;\r\n\t            + &quot; AND tn.field3 =:field3&quot;)\r\n\t    int updateStatus(@Param(&quot;status&quot;) String status, @Param(&quot;field1&quot;) Long field1,\r\n\t                     @Param(&quot;field2&quot;) String field2, @Param(&quot;field3&quot;) String field3);\r\n\r\n\t}\r\nWhat I know: \r\n1. @Transactional: for update/delete ops. Otherwise, I got org.springframework.dao.InvalidDataAccessApiUsageException.\r\n2. @Modifying(clearAutomatically = true): Because the entity manager does not flush change automagically by default.\r\n\r\nFor simplicity, we consider field1 as primary key. It&#39;s type is Long (can be inferred also from the interface signature). \r\n\r\nFor pure reference, if none of the fields in the where clause is a key, then SQL workbench might reject your query if the SQL_SAFE_UPDATES options is set. That is because you can&#39;t update or delete records without specifying a key (example, primary key) in the where clause.","title":"What are some ways to pass an Enum value in a pure JPA @Query?","body":"<p>Let's say I want to set a record's column value as \"RESOLVED\". However, I want to have this value to picked up from an Enum. So the query stays the same regardless if somebody decides the \"RESOLVED\" to change to \"RESOLVE\" or something like that. In other words, the developer would not need to edit the JPA query with the new Enum value. Just wanted to know what are some ways to go about it, or if JPA doesn't allow that. I know queries are static but earlier I was able to pass an object inside a query to store the query result fields in it. So I wondered if one could do the same with Enums too.</p>\n\n<p>This is my current strategy: To pass the \"RESOLVE\" as a @Param \"status\". However, I'd still like to know how to pass Enums as this feels like a work-around more than answering the question itself.</p>\n\n<pre><code>public interface UpdateStatusStandardDAO extends JpaRepository&lt;DBTableName, Long&gt;\n{\n\n    @Transactional\n    @Modifying(clearAutomatically = true)\n    @Query(\"UPDATE\"\n            + \" TableName tn\"\n            + \" SET\"\n            + \" tn.status =:status\"\n            + \" WHERE\"\n            + \" tn.field1 =:field1\"\n            + \" AND tn.field2 =:field2\"\n            + \" AND tn.field3 =:field3\")\n    int updateStatus(@Param(\"status\") String status, @Param(\"field1\") Long field1,\n                     @Param(\"field2\") String field2, @Param(\"field3\") String field3);\n\n}\n</code></pre>\n\n<p>What I know: \n1. @Transactional: for update/delete ops. Otherwise, I got org.springframework.dao.InvalidDataAccessApiUsageException.\n2. @Modifying(clearAutomatically = true): Because the entity manager does not flush change automagically by default.</p>\n\n<p>For simplicity, we consider field1 as primary key. It's type is Long (can be inferred also from the interface signature). </p>\n\n<p>For pure reference, if none of the fields in the where clause is a key, then SQL workbench might reject your query if the SQL_SAFE_UPDATES options is set. That is because you can't update or delete records without specifying a key (example, primary key) in the where clause.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":5,"creation_date":1422940228,"post_id":28291691,"comment_id":44936785,"body_markdown":"...and you&#39;re sure you have Java 8 installed somewhere?","body":"...and you&#39;re sure you have Java 8 installed somewhere?"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1422940610,"post_id":28291691,"comment_id":44936906,"body_markdown":"i have x86 , 64 java 7 and no java 8","body":"i have x86 , 64 java 7 and no java 8"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":4,"creation_date":1422940631,"post_id":28291691,"comment_id":44936908,"body_markdown":"Okay.  So why are you trying to compile Java 8 code without a Java 8 compiler?","body":"Okay.  So why are you trying to compile Java 8 code without a Java 8 compiler?"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1422942544,"post_id":28291691,"comment_id":44937483,"body_markdown":"@Makoto ty for looking into my problem installing java 8 solved it ....  ty man :)","body":"@Makoto ty for looking into my problem installing java 8 solved it ....  ty man :)"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1423028607,"post_id":28291691,"comment_id":44978307,"body_markdown":"@Makoto Finally i got what u were saying &quot;Okay. So why are you trying to compile Java 8 code without a Java 8 compiler?&quot;  so i just changed in my pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt; and i could use mvn compile on java7 too","body":"@Makoto Finally i got what u were saying &quot;Okay. So why are you trying to compile Java 8 code without a Java 8 compiler?&quot;  so i just changed in my pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt; and i could use mvn compile on java7 too"}],"answers":[{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"down_vote_count":1,"up_vote_count":318,"is_accepted":true,"score":317,"last_activity_date":1430932174,"creation_date":1422939893,"answer_id":28291716,"question_id":28291691,"body_markdown":"You have set your `%JAVA_HOME` to jdk 1.7, but you are trying to compile using 1.8. Install jdk 1.8 and make sure your `%JAVA_HOME` points to that or drop the target release to 1.7. \r\n\r\n&gt; invalid target release: 1.8\r\n\r\nThe target release refers to the jdk version.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>You have set your <code>%JAVA_HOME</code> to jdk 1.7, but you are trying to compile using 1.8. Install jdk 1.8 and make sure your <code>%JAVA_HOME</code> points to that or drop the target release to 1.7. </p>\n\n<blockquote>\n  <p>invalid target release: 1.8</p>\n</blockquote>\n\n<p>The target release refers to the jdk version.</p>\n"},{"tags":[],"owner":{"account_id":6298366,"reputation":867,"user_id":4893739,"display_name":"Camila Macedo"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1470233543,"creation_date":1470230336,"answer_id":38744822,"question_id":28291691,"body_markdown":"Put the value in the plugin:\r\n\r\n \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe error was use:\r\n\r\n    &lt;source&gt;${java.version}&lt;/source&gt;\r\n    &lt;target&gt;${java.version}&lt;/target&gt;\r\n\r\n\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Put the value in the plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The error was use:</p>\n\n<pre><code>&lt;source&gt;${java.version}&lt;/source&gt;\n&lt;target&gt;${java.version}&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498738685,"creation_date":1498738685,"answer_id":44824930,"question_id":28291691,"body_markdown":"Putting that in your .profile will dynamically take care of your `$JAVA_HOME`\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nClose your shell afterwards, open a new one and test with\r\n\r\n    echo $JAVA_HOME\r\nIt should display something like\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\r\n\r\n**If not**, remove any other assignments of JAVA_HOME in your startup scripts. Remember, that these startup scripts start with a `.` so they are hidden and won&#39;t be included when using `*` wildcard, e.g. if you want to grep all files of your home directory, you need to:\r\n\r\n    grep -s JAVA_HOME ~/.* --exclude=.bash_history","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Putting that in your .profile will dynamically take care of your <code>$JAVA_HOME</code></p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n\n<p>Close your shell afterwards, open a new one and test with</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>It should display something like</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\n</code></pre>\n\n<p><strong>If not</strong>, remove any other assignments of JAVA_HOME in your startup scripts. Remember, that these startup scripts start with a <code>.</code> so they are hidden and won't be included when using <code>*</code> wildcard, e.g. if you want to grep all files of your home directory, you need to:</p>\n\n<pre><code>grep -s JAVA_HOME ~/.* --exclude=.bash_history\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4704422,"reputation":2655,"user_id":3807033,"accept_rate":57,"display_name":"Roland Ettinger"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1501664800,"creation_date":1501664800,"answer_id":45456335,"question_id":28291691,"body_markdown":"In my case the maven &quot;Run configuration&quot; was using the wrong JRE (1.7). Be sure to check **Run -&gt; Run Configurations -&gt; (Tab) JRE** to be some jdk1.8.x.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case the maven \"Run configuration\" was using the wrong JRE (1.7). Be sure to check <strong>Run -> Run Configurations -> (Tab) JRE</strong> to be some jdk1.8.x.</p>\n"},{"tags":[],"owner":{"account_id":11825071,"reputation":161,"user_id":8653172,"display_name":"Bikramjit Saha"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1612345193,"creation_date":1506054697,"answer_id":46356908,"question_id":28291691,"body_markdown":"The issue was resolved as I was having a JDK pointing to 1.7 and JRE pointing to 1.8. Check in the command prompt by typing \r\n\r\n    java -version\r\n\r\n \r\nand \r\n\r\n    javac -version\r\n\r\nBoth should be same.\r\n&amp;nbsp;","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>The issue was resolved as I was having a JDK pointing to 1.7 and JRE pointing to 1.8. Check in the command prompt by typing</p>\n<pre><code>java -version\n</code></pre>\n<p>and</p>\n<pre><code>javac -version\n</code></pre>\n<p>Both should be same.\n</p>\n"},{"tags":[],"owner":{"account_id":10358108,"reputation":638,"user_id":7639365,"display_name":"Vaibhav Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510915460,"creation_date":1510915460,"answer_id":47348800,"question_id":28291691,"body_markdown":"The problem I was facing was that I was able to make a maven build from the command prompt but not from Eclipse.What worked for me in eclipse is that I changed the run configuration to point to JRE folder inside of JDK rather than leaving it in JDK folder only as per the standard.This solution may work for you as well but try this if and only if all the java paths are correct, java and javac are showing the same version as present in the target of pom.xml.\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>The problem I was facing was that I was able to make a maven build from the command prompt but not from Eclipse.What worked for me in eclipse is that I changed the run configuration to point to JRE folder inside of JDK rather than leaving it in JDK folder only as per the standard.This solution may work for you as well but try this if and only if all the java paths are correct, java and javac are showing the same version as present in the target of pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":8442593,"reputation":31,"user_id":6334514,"display_name":"VIJAYKUMAR REDDY ALAVALA"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1515579327,"creation_date":1515575689,"answer_id":48183887,"question_id":28291691,"body_markdown":"What worked in my case is this:\r\n    \r\nI opened the `pom.xml` and replaced the one of the plug-ins as below.\r\n    \r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n    \r\nBefore I edited the source and target tags both had `1.8`, I changed that to `1.7` and it worked.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>What worked in my case is this:</p>\n\n<p>I opened the <code>pom.xml</code> and replaced the one of the plug-ins as below.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Before I edited the source and target tags both had <code>1.8</code>, I changed that to <code>1.7</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":114857,"reputation":65572,"user_id":301857,"display_name":"Grant Winney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520007280,"creation_date":1520007280,"answer_id":49073082,"question_id":28291691,"body_markdown":"This question wasn&#39;t asking explicitly about Docker, but I received the same error when I had a pom.xml file that was targeting 1.9...\r\n\r\n    &lt;properties&gt;\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n... but then tried to run tests against a Docker container by specifying &quot;maven&quot; by itself. \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven mvn -e test\r\n\r\nFor me, the fix was to target the exact version I needed.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven:3.5.2-jdk-9 mvn test\r\n\r\n_(You can [learn more here](https://hub.docker.com/_/maven/).)_","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>This question wasn't asking explicitly about Docker, but I received the same error when I had a pom.xml file that was targeting 1.9...</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>... but then tried to run tests against a Docker container by specifying \"maven\" by itself. </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven mvn -e test\n</code></pre>\n\n<p>For me, the fix was to target the exact version I needed.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven:3.5.2-jdk-9 mvn test\n</code></pre>\n\n<p><em>(You can <a href=\"https://hub.docker.com/_/maven/\" rel=\"nofollow noreferrer\">learn more here</a>.)</em></p>\n"},{"tags":[],"owner":{"account_id":1705426,"reputation":11615,"user_id":1564562,"accept_rate":46,"display_name":""},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528841617,"creation_date":1528841617,"answer_id":50826561,"question_id":28291691,"body_markdown":"For eclipse here is how I solved my problem:\r\n\r\n1. Preferences --&gt; Compiler --&gt; Compiler Complainer Level (Change to 1.8)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Perferences --&gt; Installed JREs --&gt; select JAVA SE 8 1.8\r\n[![enter image description here][2]][2]\r\n\r\n3. Rebuild via maven using Run as maven build.\r\n\r\nIt shouldn&#39;t show you the invalid target error anymore. &lt;br&gt;\r\nNote: I didn&#39;t have to set or change any other variables in my terminal.\r\nHope this helps.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gtYV.png\r\n  [2]: https://i.stack.imgur.com/lFh3A.png","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>For eclipse here is how I solved my problem:</p>\n\n<ol>\n<li><p>Preferences --> Compiler --> Compiler Complainer Level (Change to 1.8)\n<a href=\"https://i.stack.imgur.com/9gtYV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9gtYV.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Perferences --> Installed JREs --> select JAVA SE 8 1.8\n<a href=\"https://i.stack.imgur.com/lFh3A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lFh3A.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Rebuild via maven using Run as maven build.</p></li>\n</ol>\n\n<p>It shouldn't show you the invalid target error anymore. <br>\nNote: I didn't have to set or change any other variables in my terminal.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7952959,"reputation":926,"user_id":6081362,"display_name":"Edmore M Gonese Digolodollarz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530122473,"creation_date":1530122473,"answer_id":51068901,"question_id":28291691,"body_markdown":"I faced this issue deploying on Dokku, for some reason it was choosing JDK 1.7\r\n\r\nCreating a `system.properties` file and setting `java.runtime.version=1.8` solved the issue. Dokku now uses Java version 8.\r\n[Choosing a JDK on Heroku][1] \r\n\r\nI Never had to do it before...\r\n\r\n  [1]: https://github.com/heroku/heroku-buildpack-java","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I faced this issue deploying on Dokku, for some reason it was choosing JDK 1.7</p>\n\n<p>Creating a <code>system.properties</code> file and setting <code>java.runtime.version=1.8</code> solved the issue. Dokku now uses Java version 8.\n<a href=\"https://github.com/heroku/heroku-buildpack-java\" rel=\"nofollow noreferrer\">Choosing a JDK on Heroku</a> </p>\n\n<p>I Never had to do it before...</p>\n"},{"tags":[],"owner":{"account_id":1383947,"reputation":51,"user_id":1316369,"display_name":"user1316369"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540236679,"creation_date":1540229281,"answer_id":52934700,"question_id":28291691,"body_markdown":"On Windows machine you can temporarily set Java version.  \r\nFor example, to change the version to Java 8, run this command on `cmd`: \r\n\r\n    set JAVA_HOME=C:\\\\...\\jdk1.8.0_65","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>On Windows machine you can temporarily set Java version.<br>\nFor example, to change the version to Java 8, run this command on <code>cmd</code>: </p>\n\n<pre><code>set JAVA_HOME=C:\\\\...\\jdk1.8.0_65\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15414288,"reputation":1,"user_id":11120234,"display_name":"Sandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551201164,"creation_date":1551201164,"answer_id":54890789,"question_id":28291691,"body_markdown":"Do a force Maven Update which will bring the compatible 1.8 Jar Versions and then while building, update the JRE Versions in Execute environment to 1.8 from Run Configurations and hit RUN","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Do a force Maven Update which will bring the compatible 1.8 Jar Versions and then while building, update the JRE Versions in Execute environment to 1.8 from Run Configurations and hit RUN</p>\n"},{"tags":[],"owner":{"account_id":16276718,"reputation":1,"user_id":11753715,"display_name":"Himanshu Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562578808,"creation_date":1562578808,"answer_id":56932167,"question_id":28291691,"body_markdown":"If you are using Eclipse IDE then go inside Window menu and select preferences and there you search for installed JREs and select the JRE you need to build the project","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>If you are using Eclipse IDE then go inside Window menu and select preferences and there you search for installed JREs and select the JRE you need to build the project</p>\n"},{"tags":[],"owner":{"account_id":12426202,"reputation":31,"user_id":9050758,"display_name":"M. Gryshenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564990566,"creation_date":1564990566,"answer_id":57354107,"question_id":28291691,"body_markdown":"As mentioned by Camila Macedo - you have to explicitly point the java version for compiler-plugin. For spring boot you can do that by next property:\r\n\r\n  \r\n\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>As mentioned by Camila Macedo - you have to explicitly point the java version for compiler-plugin. For spring boot you can do that by next property:</p>\n\n<pre><code>  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396846,"reputation":8682,"user_id":2645713,"display_name":"Markus Zeller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572971278,"creation_date":1572971278,"answer_id":58715580,"question_id":28291691,"body_markdown":"Using IntelliJ I just had to install another (higher) JDK Version. After restarting IDE, everything worked and even all dependencies were solved.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Using IntelliJ I just had to install another (higher) JDK Version. After restarting IDE, everything worked and even all dependencies were solved.</p>\n"},{"tags":[],"owner":{"account_id":2038913,"reputation":4421,"user_id":1820583,"accept_rate":84,"display_name":"Eduardo Briguenti Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598629592,"creation_date":1598629592,"answer_id":63637042,"question_id":28291691,"body_markdown":"In my case (IntelliJ), I needed to check if I had **the right Runner** for maven:\r\n\r\n 1. Preferences\r\n 2. Build, Execution, Deployment\r\n 3. Maven -&gt; Runner\r\n\r\n[![Preferences][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHSxI.png","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case (IntelliJ), I needed to check if I had <strong>the right Runner</strong> for maven:</p>\n<ol>\n<li>Preferences</li>\n<li>Build, Execution, Deployment</li>\n<li>Maven -&gt; Runner</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/OHSxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHSxI.png\" alt=\"Preferences\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15344798,"reputation":179,"user_id":12391466,"display_name":"Jason Huang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617653809,"creation_date":1617638922,"answer_id":66955988,"question_id":28291691,"body_markdown":"I have similar problem when I was trying to deploy my spring boot project to heroku, although my problem is `invalid target release: 11`.\r\nI solved it by adding a new file `system.properties` and the content added to the file is `java.runtime.version=11` (For me I am using JDK 11).\r\n\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I have similar problem when I was trying to deploy my spring boot project to heroku, although my problem is <code>invalid target release: 11</code>.\nI solved it by adding a new file <code>system.properties</code> and the content added to the file is <code>java.runtime.version=11</code> (For me I am using JDK 11).</p>\n"},{"tags":[],"owner":{"account_id":21727914,"reputation":1,"user_id":16037076,"display_name":"Kyle "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623134739,"creation_date":1623134739,"answer_id":67882644,"question_id":28291691,"body_markdown":"NETBEANS \r\n**Error**:\r\nFailed to execute goal org.apache.maven.pluginsmaven-compiler-plugin3.1compile (default-compile) on project doit Fatal error compiling invalid target release 11 - [Help 1]\r\n\r\n**How I solved my problem:**\r\n .Right click on the project.\r\n .Go to Properties.\r\n .Click on Source.\r\n .Go to Source/Binary Format and change to the latest version\r\n\r\n\r\nIn my case (1.8)","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>NETBEANS\n<strong>Error</strong>:\nFailed to execute goal org.apache.maven.pluginsmaven-compiler-plugin3.1compile (default-compile) on project doit Fatal error compiling invalid target release 11 - [Help 1]</p>\n<p><strong>How I solved my problem:</strong>\n.Right click on the project.\n.Go to Properties.\n.Click on Source.\n.Go to Source/Binary Format and change to the latest version</p>\n<p>In my case (1.8)</p>\n"},{"tags":[],"owner":{"account_id":7996752,"reputation":61,"user_id":6032797,"display_name":"Hieu Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624807667,"creation_date":1624807667,"answer_id":68152640,"question_id":28291691,"body_markdown":"First, if you are using eclipse, please check Build Path -&gt; Configure Build Path -&gt; Java Build Path, see which java version your project is using. I recommend using Java 1.8.\r\nSecond, check the pom.xml file. ctrl + F to search the text &quot;java.version&quot; =&gt; change it to 1.8.\r\nThird install Java 1.8 and then change your JAVE_HOME path to point to Java 1.8 folder.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>First, if you are using eclipse, please check Build Path -&gt; Configure Build Path -&gt; Java Build Path, see which java version your project is using. I recommend using Java 1.8.\nSecond, check the pom.xml file. ctrl + F to search the text &quot;java.version&quot; =&gt; change it to 1.8.\nThird install Java 1.8 and then change your JAVE_HOME path to point to Java 1.8 folder.</p>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665844130,"creation_date":1665844130,"answer_id":74080312,"question_id":28291691,"body_markdown":"Verify your jdk version in your pom.xml and environmental variables are same or not. if not make it same.\r\n\r\nAt pom.xml -&gt; \r\n\r\n    &lt;properties&gt;\r\n\t\t    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nAt environmental variables -&gt;\r\nJAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Verify your jdk version in your pom.xml and environmental variables are same or not. if not make it same.</p>\n<p>At pom.xml -&gt;</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>At environmental variables -&gt;\nJAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13</p>\n"},{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986517,"creation_date":1676986517,"answer_id":75521252,"question_id":28291691,"body_markdown":"In my case bumping the version of the `maven-compiler-plugin` from `3.8.1` to `3.10.1` solved the issue:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case bumping the version of the <code>maven-compiler-plugin</code> from <code>3.8.1</code> to <code>3.10.1</code> solved the issue:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484085,"creation_date":1693484085,"answer_id":77015737,"question_id":28291691,"body_markdown":"I had a similar failure when I tried to build a Maven project in Netbeans.\r\nMy pom file looks like this: \r\n\r\n    &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;com.example.Main&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;source&gt;17&lt;/source&gt;\r\n                &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt; \r\n            ...\r\n\r\nBut Java platform for the project was set to 1.8 (as it is the default Java platform in my Netbeans configuration). \r\n\r\nSolution: `Right-click on project Properties-&gt;Build-&gt;Compile-&gt;Java Platform-&gt; choose JDK 17 from dropdown. `\r\n\r\nIf the dropdown does not have the required Java platform, it should be downloaded, installed, and then configured thru `Tools-&gt;Java platforms`.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I had a similar failure when I tried to build a Maven project in Netbeans.\nMy pom file looks like this:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.example.Main&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;source&gt;17&lt;/source&gt;\n            &lt;target&gt;17&lt;/target&gt;\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n        ...\n</code></pre>\n<p>But Java platform for the project was set to 1.8 (as it is the default Java platform in my Netbeans configuration).</p>\n<p>Solution: <code>Right-click on project Properties-&gt;Build-&gt;Compile-&gt;Java Platform-&gt; choose JDK 17 from dropdown. </code></p>\n<p>If the dropdown does not have the required Java platform, it should be downloaded, installed, and then configured thru <code>Tools-&gt;Java platforms</code>.</p>\n"}],"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362088,"favorite_count":0,"down_vote_count":0,"up_vote_count":203,"accepted_answer_id":28291716,"answer_count":22,"score":203,"last_activity_date":1693484085,"creation_date":1422939784,"question_id":28291691,"body_markdown":"Similar problem like one posted on https://stackoverflow.com/questions/19891423/invalid-target-release-1-7 but after following the blog my problem is still unresolved.\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hm_app: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\r\n\r\nI was following [as tutorial][1] when I faced this problem.\r\n\r\n    abt java &amp; mvn\r\n\r\n    C:\\mvn&gt;echo %JAVA_HOME% \r\n    C:\\mvn&gt;echo %JRE_HOME%\r\n    C:\\mvn&gt;echo %MAVEN_HOME% yields\r\n    \r\noutputs\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_51\r\n    C:\\Program Files\\Java\\jre7\r\n    C:\\apache-maven-3.0.4\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/getting-started/index.html","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Similar problem like one posted on <a href=\"https://stackoverflow.com/questions/19891423/invalid-target-release-1-7\">invalid target release: 1.7</a> but after following the blog my problem is still unresolved.</p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hm_app: Fatal error compiling: invalid target release: 1.8 -> [Help 1]</p>\n</blockquote>\n\n<p>I was following <a href=\"http://maven.apache.org/guides/getting-started/index.html\" rel=\"noreferrer\">as tutorial</a> when I faced this problem.</p>\n\n<pre><code>abt java &amp; mvn\n\nC:\\mvn&gt;echo %JAVA_HOME% \nC:\\mvn&gt;echo %JRE_HOME%\nC:\\mvn&gt;echo %MAVEN_HOME% yields\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_51\nC:\\Program Files\\Java\\jre7\nC:\\apache-maven-3.0.4\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671536502,"post_id":74862254,"comment_id":132115822,"body_markdown":"Try adding this to your `application.properties`  `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace`","body":"Try adding this to your <code>application.properties</code>  <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;trace</code>"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":1,"creation_date":1671544376,"post_id":74862254,"comment_id":132118493,"body_markdown":"@SaifAhmad I tried it, but it also doesn&#39;t work","body":"@SaifAhmad I tried it, but it also doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1671538558,"creation_date":1671538558,"answer_id":74862954,"question_id":74862254,"body_markdown":"Logging SQL in Spring boot 3 with Hibernate 6:\r\n\r\n- `logging.level.sql` for SQL logging group including Hibernate SQL logger.\r\n- `logging.level.org.hibernate.orm.jdbc.bind` for showing the binding parameters\r\n\r\n\r\nSo this should work:\r\n```yaml\r\nlogging:\r\n  level:\r\n    sql: debug\r\n    org.hibernate.orm.jdbc.bind: trace\r\n```","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>Logging SQL in Spring boot 3 with Hibernate 6:</p>\n<ul>\n<li><code>logging.level.sql</code> for SQL logging group including Hibernate SQL logger.</li>\n<li><code>logging.level.org.hibernate.orm.jdbc.bind</code> for showing the binding parameters</li>\n</ul>\n<p>So this should work:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    sql: debug\n    org.hibernate.orm.jdbc.bind: trace\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1816479,"reputation":613,"user_id":1651466,"accept_rate":33,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484021,"creation_date":1693472116,"answer_id":77014291,"question_id":74862254,"body_markdown":"these properties also work with spring boot version 3.x.x\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.orm.jdbc.bind=TRACE","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>these properties also work with spring boot version 3.x.x</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.orm.jdbc.bind=TRACE\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5163,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74862954,"answer_count":2,"score":8,"last_activity_date":1693484021,"creation_date":1671534882,"question_id":74862254,"body_markdown":"I recently upgraded my Spring Boot app to v3.0 which required Hibernate to be upgraded to v6.1.5.Final.\r\n\r\nI&#39;m using Spring Data JPA with Hibernate as the JPA provider. When I run the app locally, I want to log SQL statements and the values of any parameters in those statements. To this end, I&#39;ve added the following to my local configuration, as per [this blog post][1]:\r\n\r\n```yaml\r\nspring:\r\n  jpa:\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\nlogging:\r\n  level:\r\n    org.hibernate.SQL: debug\r\n    org.hibernate.type.descriptor.sql: trace\r\n```\r\n\r\nI&#39;m pretty sure this worked prior to the upgrade, but now only the SQL statements are logged i.e. the parameter values are missing.\r\n\r\nIs it possible to log the query parameter values when using Spring Boot v3.0 and Hibernate v6.1.5.Final?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/log-sql-spring-boot/","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>I recently upgraded my Spring Boot app to v3.0 which required Hibernate to be upgraded to v6.1.5.Final.</p>\n<p>I'm using Spring Data JPA with Hibernate as the JPA provider. When I run the app locally, I want to log SQL statements and the values of any parameters in those statements. To this end, I've added the following to my local configuration, as per <a href=\"https://vladmihalcea.com/log-sql-spring-boot/\" rel=\"noreferrer\">this blog post</a>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    show-sql: false\n    properties:\n      hibernate:\n        format_sql: true\nlogging:\n  level:\n    org.hibernate.SQL: debug\n    org.hibernate.type.descriptor.sql: trace\n</code></pre>\n<p>I'm pretty sure this worked prior to the upgrade, but now only the SQL statements are logged i.e. the parameter values are missing.</p>\n<p>Is it possible to log the query parameter values when using Spring Boot v3.0 and Hibernate v6.1.5.Final?</p>\n"},{"tags":["java","gitlab","gitlab-api"],"answers":[{"tags":[],"owner":{"account_id":1991670,"reputation":505,"user_id":1785559,"accept_rate":67,"display_name":"Abzal Kalimbetov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481800092,"creation_date":1481800092,"answer_id":41162658,"question_id":41162404,"body_markdown":"Proper way to get data from Gitlab is through Gitlab API (https://docs.gitlab.com/ee/api/README.html). According to documentation you get token first using your username and password. Further you use this token to access other resources","title":"connect to a gitlab using gitlab java api","body":"<p>Proper way to get data from Gitlab is through Gitlab API (<a href=\"https://docs.gitlab.com/ee/api/README.html\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/api/README.html</a>). According to documentation you get token first using your username and password. Further you use this token to access other resources</p>\n"},{"tags":[],"owner":{"account_id":6848645,"reputation":26,"user_id":5266507,"display_name":"messnerized"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503811050,"creation_date":1503416179,"answer_id":45821870,"question_id":41162404,"body_markdown":"You could use GitLab4J (https://github.com/gmessner/gitlab4j-api) to do this.  It allows you to connect with a username and password and internally handles the returned session token.\r\n\r\n    // Create a GitLabApi instance to communicate with your GitLab server\r\n    GitLabApi gitLabApi = GitLabApi.login(&quot;http://your.gitlab.server.com&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n\r\n    // Get the list of projects your account has access to\r\n    List&lt;Project&gt; projects = gitLabApi.getProjectApi().getProjects();","title":"connect to a gitlab using gitlab java api","body":"<p>You could use GitLab4J (<a href=\"https://github.com/gmessner/gitlab4j-api\" rel=\"nofollow noreferrer\">https://github.com/gmessner/gitlab4j-api</a>) to do this.  It allows you to connect with a username and password and internally handles the returned session token.</p>\n\n<pre><code>// Create a GitLabApi instance to communicate with your GitLab server\nGitLabApi gitLabApi = GitLabApi.login(\"http://your.gitlab.server.com\", \"USERNAME\", \"PASSWORD\");\n\n// Get the list of projects your account has access to\nList&lt;Project&gt; projects = gitLabApi.getProjectApi().getProjects();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16169549,"reputation":1,"user_id":11673652,"display_name":"RKumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570947331,"creation_date":1570903809,"answer_id":58357050,"question_id":41162404,"body_markdown":" I was able to connect to gitlab using following Java gitlab API.For this, you need to  Allow firewall. \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)`enter code here`\r\n    public class GitlabController {\r\n    \r\n    \t@RequestMapping(&quot;/hello&quot;)\r\n    \tpublic String getGitData() throws GitLabApiException {\r\n    \r\n    \t\tSystem.out.println(&quot;going to execute gitlab api..&quot;);\r\n    \t\tGitLabApi gitLabApi = GitLabApi.login(&quot;https://gitlab.&lt;domain&gt;.com/&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n    \t\tUser currentUser = gitLabApi.getUserApi().getCurrentUser();\r\n    \t\tSystem.out.println(currentUser.getUsername());\r\n    \t\treturn &quot;returning from git Controller&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"connect to a gitlab using gitlab java api","body":"<p>I was able to connect to gitlab using following Java gitlab API.For this, you need to  Allow firewall. </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/test\")`enter code here`\npublic class GitlabController {\n\n    @RequestMapping(\"/hello\")\n    public String getGitData() throws GitLabApiException {\n\n        System.out.println(\"going to execute gitlab api..\");\n        GitLabApi gitLabApi = GitLabApi.login(\"https://gitlab.&lt;domain&gt;.com/\", \"USERNAME\", \"PASSWORD\");\n        User currentUser = gitLabApi.getUserApi().getCurrentUser();\n        System.out.println(currentUser.getUsername());\n        return \"returning from git Controller\";\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693483565,"creation_date":1481799298,"question_id":41162404,"body_markdown":"I&#180;m very &quot;dummy&quot; about gitlab , my question my sound stupid ... but where it goes ..\r\n\r\nI would like to connect to a gitlab repo using java , the idea is just to retrieve the list of &quot;entry&#180;s&quot; of the repository\r\n\r\nI have seem some java code, but I&#180;m not sure what will the url the send to &quot;connect&quot; method .\r\n\r\nusing the web browser the url is something like this https://gitlab.zzz.com/\r\n\r\nexample  :\r\n\r\n```\r\n  public static GitlabSession connect(String hostUrl, String username, String password) throws IOException {\r\n        String tailUrl = GitlabSession.URL;\r\n        GitlabAPI api = connect(**hostUrl**, null, null, null);\r\n        return api.dispatch().with(&quot;login&quot;, username).with(&quot;password&quot;, password)\r\n                .to(tailUrl, GitlabSession.class);\r\n    }\r\n```\r\n\r\nAlso, I only have the user and password .. no oauth token .. is possible to connect without the token ? \r\n\r\nI sorry for my dummy questions, may some of you can give some tips how to start.\r\n\r\nThank you\r\nRoque\r\n\r\n\r\n\r\n","title":"connect to a gitlab using gitlab java api","body":"<p>Im very &quot;dummy&quot; about gitlab , my question my sound stupid ... but where it goes ..</p>\n<p>I would like to connect to a gitlab repo using java , the idea is just to retrieve the list of &quot;entrys&quot; of the repository</p>\n<p>I have seem some java code, but Im not sure what will the url the send to &quot;connect&quot; method .</p>\n<p>using the web browser the url is something like this <a href=\"https://gitlab.zzz.com/\" rel=\"nofollow noreferrer\">https://gitlab.zzz.com/</a></p>\n<p>example  :</p>\n<pre><code>  public static GitlabSession connect(String hostUrl, String username, String password) throws IOException {\n        String tailUrl = GitlabSession.URL;\n        GitlabAPI api = connect(**hostUrl**, null, null, null);\n        return api.dispatch().with(&quot;login&quot;, username).with(&quot;password&quot;, password)\n                .to(tailUrl, GitlabSession.class);\n    }\n</code></pre>\n<p>Also, I only have the user and password .. no oauth token .. is possible to connect without the token ?</p>\n<p>I sorry for my dummy questions, may some of you can give some tips how to start.</p>\n<p>Thank you\nRoque</p>\n"},{"tags":["java","netbeans","import","jar","package"],"comments":[{"owner":{"account_id":120805,"reputation":2012,"user_id":313447,"accept_rate":67,"display_name":"yggdraa"},"score":0,"creation_date":1332344333,"post_id":9807700,"comment_id":12491311,"body_markdown":"You should open your project Properties and add the library to wich you added the jar in your project","body":"You should open your project Properties and add the library to wich you added the jar in your project"},{"owner":{"account_id":1333437,"reputation":883,"user_id":1276759,"accept_rate":79,"display_name":"Perry Monschau"},"score":0,"creation_date":1332344452,"post_id":9807700,"comment_id":12491372,"body_markdown":"What&#39;s the name of the jar file?","body":"What&#39;s the name of the jar file?"},{"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"score":0,"creation_date":1332348812,"post_id":9807700,"comment_id":12493328,"body_markdown":"As I mentioned, I added the JAR file through the Properties -&gt; Library -&gt; Add Jar functionality.  The JAR is not a standard library.","body":"As I mentioned, I added the JAR file through the Properties -&gt; Library -&gt; Add Jar functionality.  The JAR is not a standard library."}],"answers":[{"tags":[],"owner":{"account_id":1309193,"reputation":251,"user_id":1257559,"accept_rate":88,"display_name":"Leonardo Arruda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332344367,"creation_date":1332344367,"answer_id":9807928,"question_id":9807700,"body_markdown":"Try this: \r\n\r\nhttp://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/\r\n\r\nHope help.","title":"Package does not exist when importing JAR file","body":"<p>Try this: </p>\n\n<p><a href=\"http://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/\" rel=\"nofollow\">http://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/</a></p>\n\n<p>Hope help.</p>\n"},{"tags":[],"owner":{"account_id":1336608,"reputation":129,"user_id":1279210,"accept_rate":100,"display_name":"mechmsk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332345203,"creation_date":1332344743,"answer_id":9808061,"question_id":9807700,"body_markdown":"Does your Jar really contain .java files? It looks unusual, because java-files should be compiled to .class files before packing to Jar.\r\n\r\n\r\nMaybe [http://docs.oracle.com/javase/tutorial/deployment/jar/][1] can help you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/jar/","title":"Package does not exist when importing JAR file","body":"<p>Does your Jar really contain .java files? It looks unusual, because java-files should be compiled to .class files before packing to Jar.</p>\n\n<p>Maybe <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/deployment/jar/</a> can help you.</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392733759,"creation_date":1392733759,"answer_id":21856807,"question_id":9807700,"body_markdown":"Haven&#39;t you seen some warnings while installing the jar? \r\n\r\nI have seen that message when I had erroneously the same jar installed twice - as compile library and as a test library. \r\n\r\nAs the result, many of packages became invisible. \r\n\r\nAfter removing the jar from compile libraries everything become visible.","title":"Package does not exist when importing JAR file","body":"<p>Haven't you seen some warnings while installing the jar? </p>\n\n<p>I have seen that message when I had erroneously the same jar installed twice - as compile library and as a test library. </p>\n\n<p>As the result, many of packages became invisible. </p>\n\n<p>After removing the jar from compile libraries everything become visible.</p>\n"},{"tags":[],"owner":{"account_id":3778807,"reputation":11,"user_id":3138841,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432626296,"creation_date":1432626296,"answer_id":30452515,"question_id":9807700,"body_markdown":"One can understand, **why** the such a problem may comes from.\r\nI have had this problem, when used in Netbeans IDE the java SOURCE code using \r\n**pasting** code from the other internet source by Ctrl-C Ctrl-V key combination.\r\n(Pasting from other IDE).\r\nThe reserching of prombled showed that the problem is of **absence** of \r\nstatement &quot;package *nameofpackage*&quot; in code, that you want to use as library.\r\n\r\nSo, to correct the mistake you need to **insert the statement *package*** in project you want to use as library.\r\nPerhaps, you need also to delete and link library in Netbeans again.\r\nTo link library I used the the menu point &quot;**Add library as JAR file**&quot; from tree menu item in project &quot;Libraries&quot; and rignt-mouse click - then &quot;add library&quot;\r\n\r\n","title":"Package does not exist when importing JAR file","body":"<p>One can understand, <strong>why</strong> the such a problem may comes from.\nI have had this problem, when used in Netbeans IDE the java SOURCE code using \n<strong>pasting</strong> code from the other internet source by Ctrl-C Ctrl-V key combination.\n(Pasting from other IDE).\nThe reserching of prombled showed that the problem is of <strong>absence</strong> of \nstatement \"package <em>nameofpackage</em>\" in code, that you want to use as library.</p>\n\n<p>So, to correct the mistake you need to <strong>insert the statement <em>package</em></strong> in project you want to use as library.\nPerhaps, you need also to delete and link library in Netbeans again.\nTo link library I used the the menu point \"<strong>Add library as JAR file</strong>\" from tree menu item in project \"Libraries\" and rignt-mouse click - then \"add library\"</p>\n"}],"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693483565,"creation_date":1332343788,"question_id":9807700,"body_markdown":"I have a JAR file that contains a series of .java files/stub code. I need to include the JAR into a NetBeans project and call the various methods contained within.  I&#39;ve attempted Solaris as well, but no luck there either.\r\n\r\nAt the moment, the entirety of my Main.java (the only src file in the project) is:\r\n\r\n    package TestApplication;\r\n    \r\n    import edu.university.department.ws.DiscoveryServices;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nThe exact error is:\r\n\r\n    C:\\code\\Projects\\WebServiceTest\\TestApplication\\src\\testapplication\\Main.java:3: package edu.university.department.ws does not exist\r\n    import edu.university.department.ws.DiscoveryServices;\r\n    1 error\r\n\r\nI added the JAR file by going to libraries, clicking Add JAR/Folder, and selecting the JAR. Once it was added, I can drill down into it in NetBeans and see all the stub code, including edu.university.department.ws.DiscoveryServices.java, but yet it can&#39;t seem to import it.\r\n\r\nI also tried going to Tools -&gt; Libraries then adding the JAR to the classpath there. It didn&#39;t change anything.\r\n\r\nIs it possible the JAR file wasn&#39;t created correctly?  I can see the code in NetBeans, so I don&#39;t think anything is wrong with the JAR, but I&#39;m new at this and not sure what I should be looking for.\r\n\r\nThanks!","title":"Package does not exist when importing JAR file","body":"<p>I have a JAR file that contains a series of .java files/stub code. I need to include the JAR into a NetBeans project and call the various methods contained within.  I've attempted Solaris as well, but no luck there either.</p>\n\n<p>At the moment, the entirety of my Main.java (the only src file in the project) is:</p>\n\n<pre><code>package TestApplication;\n\nimport edu.university.department.ws.DiscoveryServices;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n    }\n}\n</code></pre>\n\n<p>The exact error is:</p>\n\n<pre><code>C:\\code\\Projects\\WebServiceTest\\TestApplication\\src\\testapplication\\Main.java:3: package edu.university.department.ws does not exist\nimport edu.university.department.ws.DiscoveryServices;\n1 error\n</code></pre>\n\n<p>I added the JAR file by going to libraries, clicking Add JAR/Folder, and selecting the JAR. Once it was added, I can drill down into it in NetBeans and see all the stub code, including edu.university.department.ws.DiscoveryServices.java, but yet it can't seem to import it.</p>\n\n<p>I also tried going to Tools -> Libraries then adding the JAR to the classpath there. It didn't change anything.</p>\n\n<p>Is it possible the JAR file wasn't created correctly?  I can see the code in NetBeans, so I don't think anything is wrong with the JAR, but I'm new at this and not sure what I should be looking for.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1693482337,"post_id":77015533,"comment_id":135768586,"body_markdown":"please don&#39;t add (links to) images, just post the relevant information as formatted text in your question","body":"please don&#39;t add (links to) images, just post the relevant information as formatted text in your question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693485305,"post_id":77015533,"comment_id":135769218,"body_markdown":"Let me guess both project include the `spring-boot-maven-plugin`?","body":"Let me guess both project include the <code>spring-boot-maven-plugin</code>?"},{"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"score":0,"creation_date":1693485932,"post_id":77015533,"comment_id":135769336,"body_markdown":"@M.Deinum they are :), solved now thank you so much. However, i wonder what&#39;s its logic? Why it gave the error? Can you please explain in short?","body":"@M.Deinum they are :), solved now thank you so much. However, i wonder what&#39;s its logic? Why it gave the error? Can you please explain in short?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693487600,"post_id":77015533,"comment_id":135769728,"body_markdown":"The Spring Boot Maven plugin creates a special fatjar which isn&#39;t usable as a dependency. The Spring Boot Maven plugin should only be a part of the project that contains the `@SpringBootApplication` annotated class.","body":"The Spring Boot Maven plugin creates a special fatjar which isn&#39;t usable as a dependency. The Spring Boot Maven plugin should only be a part of the project that contains the <code>@SpringBootApplication</code> annotated class."},{"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"score":0,"creation_date":1693488538,"post_id":77015533,"comment_id":135769949,"body_markdown":"@M.Deinum okay sir i understand thanks for your reply.","body":"@M.Deinum okay sir i understand thanks for your reply."}],"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693482964,"creation_date":1693482269,"question_id":77015533,"body_markdown":"hello i am trying to develop a project with spring. There are multiple modules in my project. I am using amqp module in borrow-service. For this, I added my amqp to the pom file of borrow-service and I can use amqp module in borrow-service without any problems. But when I trying to do mvn clean install in borrow-service maven build failures. What&#39;s the problem? Thanks.\r\n\r\namqp pom:\r\n\r\n\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;amqp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;amqp&lt;/name&gt;\r\n\t&lt;description&gt;amqp&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t...\r\n                &lt;/dependencies&gt;\r\n\r\nborrow-service pom:\r\n\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n    &lt;artifactId&gt;borrow-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;borrow-service&lt;/name&gt;\r\n    &lt;description&gt;borrow-service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amqp&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        ...\r\n        &lt;/dependencies&gt;\r\n\r\n\r\nI am trying to do build my borrow-service using mvn clean install however, i get the following error:\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] package com.ky.amqp.dto does not exist\r\n[ERROR] package com.ky.amqp.producer does not exist\r\n[ERROR] cannot find symbol\r\n  symbol:   class RabbitMQMessageProducer\r\n  location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] cannot find symbol\r\n  symbol:   class RabbitMQMessageProducer\r\n[ERROR]   symbol:   class RabbitMQMessageProducer\r\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] cannot find symbol\r\n[ERROR]   symbol:   class RabbitMQMessageProducer\r\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] package com.ky.amqp.dto does not exist\r\n[ERROR] cannot find symbol\r\n[ERROR]   symbol:   class BorrowBookRequest\r\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\r\n[ERROR]  cannot find symbol\r\n[ERROR]   symbol:   class BorrowBookRequest\r\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```","title":"maven COMPILATION ERROR : package could not found","body":"<p>hello i am trying to develop a project with spring. There are multiple modules in my project. I am using amqp module in borrow-service. For this, I added my amqp to the pom file of borrow-service and I can use amqp module in borrow-service without any problems. But when I trying to do mvn clean install in borrow-service maven build failures. What's the problem? Thanks.</p>\n<p>amqp pom:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.ky&lt;/groupId&gt;\n&lt;artifactId&gt;amqp&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;amqp&lt;/name&gt;\n&lt;description&gt;amqp&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n    ...\n            &lt;/dependencies&gt;\n</code></pre>\n<p>borrow-service pom:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.ky&lt;/groupId&gt;\n&lt;artifactId&gt;borrow-service&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;borrow-service&lt;/name&gt;\n&lt;description&gt;borrow-service&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ky&lt;/groupId&gt;\n        &lt;artifactId&gt;amqp&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    ...\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I am trying to do build my borrow-service using mvn clean install however, i get the following error:</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] package com.ky.amqp.dto does not exist\n[ERROR] package com.ky.amqp.producer does not exist\n[ERROR] cannot find symbol\n  symbol:   class RabbitMQMessageProducer\n  location: class com.ky.borrowservice.service.BorrowService\n[ERROR] cannot find symbol\n  symbol:   class RabbitMQMessageProducer\n[ERROR]   symbol:   class RabbitMQMessageProducer\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\n[ERROR] cannot find symbol\n[ERROR]   symbol:   class RabbitMQMessageProducer\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\n[ERROR] package com.ky.amqp.dto does not exist\n[ERROR] cannot find symbol\n[ERROR]   symbol:   class BorrowBookRequest\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\n[ERROR]  cannot find symbol\n[ERROR]   symbol:   class BorrowBookRequest\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","join","apache-flink","flink-streaming","scaling"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1693521189,"post_id":77015597,"comment_id":135776111,"body_markdown":"This certainly looks odd. Is it possible that 100000 was accidentally used as the window size? I think that would explain the results.","body":"This certainly looks odd. Is it possible that 100000 was accidentally used as the window size? I think that would explain the results."},{"owner":{"account_id":28874223,"reputation":1,"user_id":22115128,"display_name":"ark"},"score":1,"creation_date":1693583397,"post_id":77015597,"comment_id":135784870,"body_markdown":"@DavidAnderson Thanks for answer. The issue was indeed related to the window size. \nThe job takes the window size as a parameter, which is defined as an environment variable in the jobmanager container. \nAt parallelism 1, the window size is 1000 millis as defined, but during rescale this value changes to 5000 millis. I am trying to figure out what causes this change, meanwhile hardcoding 1000 millis directly in the job seems to solve the issue.","body":"@DavidAnderson Thanks for answer. The issue was indeed related to the window size.  The job takes the window size as a parameter, which is defined as an environment variable in the jobmanager container.  At parallelism 1, the window size is 1000 millis as defined, but during rescale this value changes to 5000 millis. I am trying to figure out what causes this change, meanwhile hardcoding 1000 millis directly in the job seems to solve the issue."}],"owner":{"account_id":28874223,"reputation":1,"user_id":22115128,"display_name":"ark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693482836,"creation_date":1693482836,"question_id":77015597,"body_markdown":"Good afternoon,\r\nI am currently working on the scalability of stateful operators in stream processing systems.\r\n\r\nI am particularly interested in the case of the &#39;join&#39; operator, for which I have implemented a fictional scenario to test its performance (especially throughput) and behavior during a rescale. However, since I am new to Flink, I don&#39;t think I have correctly implemented this generic scenario.\r\n\r\nMy current scenario involves the use of two load generators (taken from Theodolite project https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html) that inject a certain number of records into two different Kafka topics. The quantity and generation time of records are parameterized.\r\n\r\nA record consists of a triplet containing: sensor name, generation timestamp, and sensor value.\r\n\r\nMy Flink application reads records from the two topics and performs a join, using a one-second window, between messages with the same sensor name.\r\n\r\nHere is an excerpt from my job:\r\n\r\n```\r\nfinal DataStream&lt;ActivePowerRecord&gt; stream1 = this.env.addSource(kafkaConsumer1).name(&quot;Source1&quot;).uid(&quot;Source1&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\r\n\r\nfinal DataStream&lt;ActivePowerRecord&gt; stream2 = this.env.addSource(kafkaConsumer2).name(&quot;Source2&quot;).uid(&quot;Source2&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\r\n\r\nfinal DataStream&lt;String&gt; outputStream = runWindowJoin(stream1, stream2, Integer.parseInt(windowSize));\r\n\r\noutputStream.addSink(new DiscardingSink&lt;&gt;()).name(&quot;Sink&quot;).uid(&quot;4&quot;).setParallelism(1).disableChaining();\r\n```\r\n\r\nAnd here is my join function:\r\n\r\n```\r\n    public static DataStream&lt;String&gt; runWindowJoin(\r\n            DataStream&lt;ActivePowerRecord&gt; tuple1,\r\n            DataStream&lt;ActivePowerRecord&gt; tuple2,\r\n            long windowSize) {\r\n        \r\n        return tuple1.join(tuple2)\r\n                .where(ActivePowerRecord::getIdentifier)\r\n                .equalTo(ActivePowerRecord::getIdentifier)\r\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(windowSize))).trigger(EventTimeTrigger.create()).evictor(TimeEvictor.of(Time.seconds(0),true))\r\n                .apply(new MyJoinFunction()).assignTimestampsAndWatermarks(WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofMillis(windowSize))).disableChaining();\r\n    }&quot;\r\n```\r\n\r\nI am running both load generators with the following parameters: 100000 sensors per load generator and generation rate of 1 second.\r\nThe joining window is 1 second.\r\n\r\nWith parallelism set to 1 for the join operator, everything seems to work normally as I am getting 1-to-1 joins since each sensor, for each topic, appears once within the window.\r\nHowever, when I apply parallelism 2 (or more), the Cartesian product resulting from the join seems to explode the number of results and by inspecting records with print() it seems that some old records stay stuck. \r\n\r\nAs you can see in this screenshot, the delta between timestamps for a given join is way bigger than the fixed window: [Screenshot of joined records](https://i.stack.imgur.com/lZMS8.png)\r\n\r\nHow can I avoid the explosion of this Cartesian product? How can i keep the same &quot;determinism&quot; when scaling up? What am I getting really wrong here?  \r\n  \r\nThank you very much for your input.","title":"Rescaling simple join application in Flink","body":"<p>Good afternoon,\nI am currently working on the scalability of stateful operators in stream processing systems.</p>\n<p>I am particularly interested in the case of the 'join' operator, for which I have implemented a fictional scenario to test its performance (especially throughput) and behavior during a rescale. However, since I am new to Flink, I don't think I have correctly implemented this generic scenario.</p>\n<p>My current scenario involves the use of two load generators (taken from Theodolite project <a href=\"https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html\" rel=\"nofollow noreferrer\">https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html</a>) that inject a certain number of records into two different Kafka topics. The quantity and generation time of records are parameterized.</p>\n<p>A record consists of a triplet containing: sensor name, generation timestamp, and sensor value.</p>\n<p>My Flink application reads records from the two topics and performs a join, using a one-second window, between messages with the same sensor name.</p>\n<p>Here is an excerpt from my job:</p>\n<pre><code>final DataStream&lt;ActivePowerRecord&gt; stream1 = this.env.addSource(kafkaConsumer1).name(&quot;Source1&quot;).uid(&quot;Source1&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\n\nfinal DataStream&lt;ActivePowerRecord&gt; stream2 = this.env.addSource(kafkaConsumer2).name(&quot;Source2&quot;).uid(&quot;Source2&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\n\nfinal DataStream&lt;String&gt; outputStream = runWindowJoin(stream1, stream2, Integer.parseInt(windowSize));\n\noutputStream.addSink(new DiscardingSink&lt;&gt;()).name(&quot;Sink&quot;).uid(&quot;4&quot;).setParallelism(1).disableChaining();\n</code></pre>\n<p>And here is my join function:</p>\n<pre><code>    public static DataStream&lt;String&gt; runWindowJoin(\n            DataStream&lt;ActivePowerRecord&gt; tuple1,\n            DataStream&lt;ActivePowerRecord&gt; tuple2,\n            long windowSize) {\n        \n        return tuple1.join(tuple2)\n                .where(ActivePowerRecord::getIdentifier)\n                .equalTo(ActivePowerRecord::getIdentifier)\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(windowSize))).trigger(EventTimeTrigger.create()).evictor(TimeEvictor.of(Time.seconds(0),true))\n                .apply(new MyJoinFunction()).assignTimestampsAndWatermarks(WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofMillis(windowSize))).disableChaining();\n    }&quot;\n</code></pre>\n<p>I am running both load generators with the following parameters: 100000 sensors per load generator and generation rate of 1 second.\nThe joining window is 1 second.</p>\n<p>With parallelism set to 1 for the join operator, everything seems to work normally as I am getting 1-to-1 joins since each sensor, for each topic, appears once within the window.\nHowever, when I apply parallelism 2 (or more), the Cartesian product resulting from the join seems to explode the number of results and by inspecting records with print() it seems that some old records stay stuck.</p>\n<p>As you can see in this screenshot, the delta between timestamps for a given join is way bigger than the fixed window: <a href=\"https://i.stack.imgur.com/lZMS8.png\" rel=\"nofollow noreferrer\">Screenshot of joined records</a></p>\n<p>How can I avoid the explosion of this Cartesian product? How can i keep the same &quot;determinism&quot; when scaling up? What am I getting really wrong here?</p>\n<p>Thank you very much for your input.</p>\n"},{"tags":["java","spring-boot","selenide","chrome-options"],"comments":[{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1693399178,"post_id":77007108,"comment_id":135755322,"body_markdown":"Remove all selenium dependencies in your pom and just keep one.\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.11.0&lt;/version&gt;\n    &lt;/dependency&gt;","body":"Remove all selenium dependencies in your pom and just keep one.  &lt;dependency&gt;         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;         &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;         &lt;version&gt;4.11.0&lt;/version&gt;     &lt;/dependency&gt;"},{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1693482610,"post_id":77007108,"comment_id":135768653,"body_markdown":"Please upvote my answer as this solved your problem.","body":"Please upvote my answer as this solved your problem."},{"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"score":0,"creation_date":1693557508,"post_id":77007108,"comment_id":135779751,"body_markdown":"@IndrapalSingh dont have enough reputation :( will do, in future :)","body":"@IndrapalSingh dont have enough reputation :( will do, in future :)"}],"answers":[{"tags":[],"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475213,"creation_date":1693475072,"answer_id":77014660,"question_id":77007108,"body_markdown":"Solution from @Indrapal Singh helped, thanks\r\n\r\nremoving all selenium dependencies, except:\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n     &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n     &lt;version&gt;4.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>Solution from @Indrapal Singh helped, thanks</p>\n<p>removing all selenium dependencies, except:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693482540,"creation_date":1693482540,"answer_id":77015557,"question_id":77007108,"body_markdown":"The problem here was different selenium dependencies contained duplicate classes and needed to use exclusion to overcome them. The better solution is to remove all selenium dependencies and keep selenium-java only.\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n     &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n     &lt;version&gt;4.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>The problem here was different selenium dependencies contained duplicate classes and needed to use exclusion to overcome them. The better solution is to remove all selenium dependencies and keep selenium-java only.</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693482540,"creation_date":1693390887,"question_id":77007108,"body_markdown":"since webdrivers 115 version release, my projects started failing with this error:\r\n[first error - not facing with it right now](https://i.stack.imgur.com/lKmvu.png)\r\n\r\nSo I have decided to update all dependencies in POM to have the most fresh packages there..\r\nAfter resolving all dependencies conflicts(checked in Dependencies Analyzer in InteliJ), I am receiving this error message:\r\n```\r\n2023-08-30 10:49:09.122  INFO 2996 --- [           main] c.c.s.i.WebDriverThreadLocalContainer    : No webdriver is bound to current thread: 1 - let&#39;s create a new webdriver\r\n\r\n2023-08-30 10:49:09.136  INFO 2996 --- [           main] com.codeborne.selenide.impl.FileHelper   : Creating folder: C:\\Workspace\\testautomation\\build\\downloads\\1693388949135_2996_1\r\n\r\n \r\n\r\njava.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)&#39;\r\n\r\n \r\n\r\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:67)\r\n\r\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:48)\r\n\r\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.merge(AbstractDriverFactory.java:90)\r\n\r\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.createCommonCapabilities(AbstractDriverFactory.java:82)\r\n\r\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.createCapabilities(ChromeDriverFactory.java:48)\r\n\r\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:32)\r\n\r\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:120)\r\n\r\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:67)\r\n\r\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:113)\r\n\r\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:205)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createAndRegisterDriver(WebDriverThreadLocalContainer.java:190)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:152)\r\n\r\n    at com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\r\n\r\n    at com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\r\n\r\n    at com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:222)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:71)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.lambda$run$0(SelenideLogger.java:105)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:104)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:69)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\r\n\r\n    at com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\r\n\r\n    at com.codeborne.selenide.Selenide.open(Selenide.java:53)\r\n\r\n    at testConfiguration.BaseTestConfiguration.prepareTestEnv(BaseTestConfiguration.java:50)\r\n\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\r\n\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:810)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:577)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\r\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\r\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\r\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\r\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\r\n    at org.testng.TestRunner.run(TestRunner.java:621)\r\n\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\r\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\r\n    at org.testng.TestNG.run(TestNG.java:1082)\r\n\r\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\r\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n\r\n \r\n```\r\n\r\nI think that, this is possible caused by some exclusions in POM or I haven&#39;t set properly ChromeOptions..\r\nBefore, I have use only ChromeOptions for such configurations:\r\n\r\n```\r\n@BeforeMethod\r\npublic void prepareTestEnv() {\r\n    **open**(conf.getUrl() + &quot;env.com&quot;);\r\n}\r\n\r\n@AfterMethod\r\npublic void close() {\r\n    closeWebDriver();\r\n}\r\n\r\nprivate void prepareBrowser() {\r\n    Configuration.browser = &quot;chrome&quot;;\r\n    Configuration.browser = browserConf.getBrowser();\r\n    Configuration.browserSize = browserConf.getSize();\r\n    Configuration.pageLoadTimeout = 10000;\r\n    Configuration.timeout = 30000;\r\n    Configuration.pollingInterval = 500;\r\n}\r\n```\r\n\r\nand to precise issue: error message is pointing on Selenide.open method..\r\n\r\nhere you have POM(with anonymized client data):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;XXX&lt;/groupId&gt;\r\n    &lt;artifactId&gt;XXX&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;XXX&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;14&lt;/java.version&gt;\r\n        &lt;aspectj.version&gt;1.9.20&lt;/aspectj.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.2-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;6.17.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;2.24.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;2.24.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;test&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testNgSuites/${testSuite}.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;defaultBrowser&gt;chrome&lt;/defaultBrowser&gt;\r\n                        &lt;defaultTestEnvironment&gt;ST&lt;/defaultTestEnvironment&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.20&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;key&gt;browser&lt;/key&gt;\r\n                                &lt;value&gt;${browser}&lt;/value&gt;\r\n                                &lt;key&gt;env&lt;/key&gt;\r\n                                &lt;value&gt;${environment}&lt;/value&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;14&lt;/release&gt;\r\n                    &lt;source&gt;14&lt;/source&gt;\r\n                    &lt;target&gt;14&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.22&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPLEASE HELP :)\r\n\r\nI think, that I have tried everything :)","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>since webdrivers 115 version release, my projects started failing with this error:\n<a href=\"https://i.stack.imgur.com/lKmvu.png\" rel=\"nofollow noreferrer\">first error - not facing with it right now</a></p>\n<p>So I have decided to update all dependencies in POM to have the most fresh packages there..\nAfter resolving all dependencies conflicts(checked in Dependencies Analyzer in InteliJ), I am receiving this error message:</p>\n<pre><code>2023-08-30 10:49:09.122  INFO 2996 --- [           main] c.c.s.i.WebDriverThreadLocalContainer    : No webdriver is bound to current thread: 1 - let's create a new webdriver\n\n2023-08-30 10:49:09.136  INFO 2996 --- [           main] com.codeborne.selenide.impl.FileHelper   : Creating folder: C:\\Workspace\\testautomation\\build\\downloads\\1693388949135_2996_1\n\n \n\njava.lang.NoSuchMethodError: 'void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)'\n\n \n\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:67)\n\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:48)\n\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.merge(AbstractDriverFactory.java:90)\n\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.createCommonCapabilities(AbstractDriverFactory.java:82)\n\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.createCapabilities(ChromeDriverFactory.java:48)\n\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:32)\n\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:120)\n\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:67)\n\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:113)\n\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:205)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createAndRegisterDriver(WebDriverThreadLocalContainer.java:190)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:152)\n\n    at com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\n\n    at com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\n\n    at com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:222)\n\n    at com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:71)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.lambda$run$0(SelenideLogger.java:105)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:104)\n\n    at com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:69)\n\n    at com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\n\n    at com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\n\n    at com.codeborne.selenide.Selenide.open(Selenide.java:53)\n\n    at testConfiguration.BaseTestConfiguration.prepareTestEnv(BaseTestConfiguration.java:50)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\n\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\n\n    at org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:810)\n\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:577)\n\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n\n    at org.testng.TestRunner.run(TestRunner.java:621)\n\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n\n    at org.testng.TestNG.run(TestNG.java:1082)\n\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\n\n \n</code></pre>\n<p>I think that, this is possible caused by some exclusions in POM or I haven't set properly ChromeOptions..\nBefore, I have use only ChromeOptions for such configurations:</p>\n<pre><code>@BeforeMethod\npublic void prepareTestEnv() {\n    **open**(conf.getUrl() + &quot;env.com&quot;);\n}\n\n@AfterMethod\npublic void close() {\n    closeWebDriver();\n}\n\nprivate void prepareBrowser() {\n    Configuration.browser = &quot;chrome&quot;;\n    Configuration.browser = browserConf.getBrowser();\n    Configuration.browserSize = browserConf.getSize();\n    Configuration.pageLoadTimeout = 10000;\n    Configuration.timeout = 30000;\n    Configuration.pollingInterval = 500;\n}\n</code></pre>\n<p>and to precise issue: error message is pointing on Selenide.open method..</p>\n<p>here you have POM(with anonymized client data):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;XXX&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;aspectj.version&gt;1.9.20&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.2-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;6.17.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\n            &lt;version&gt;2.24.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;2.24.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                    &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;test&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;!--suppress UnresolvedMavenProperty --&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testNgSuites/${testSuite}.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;defaultBrowser&gt;chrome&lt;/defaultBrowser&gt;\n                        &lt;defaultTestEnvironment&gt;ST&lt;/defaultTestEnvironment&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.20&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;key&gt;browser&lt;/key&gt;\n                                &lt;value&gt;${browser}&lt;/value&gt;\n                                &lt;key&gt;env&lt;/key&gt;\n                                &lt;value&gt;${environment}&lt;/value&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;14&lt;/release&gt;\n                    &lt;source&gt;14&lt;/source&gt;\n                    &lt;target&gt;14&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PLEASE HELP :)</p>\n<p>I think, that I have tried everything :)</p>\n"},{"tags":["java","eclipse","junit","ide"],"answers":[{"tags":[],"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1430234340,"creation_date":1269603441,"answer_id":2522908,"question_id":2522897,"body_markdown":"It enables the JVM to honour [assertions][1]\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10","title":"Eclipse Junit &#39;-ea&#39; VM Option","body":"<p>It enables the JVM to honour <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10\" rel=\"noreferrer\">assertions</a></p>\n"}],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40450,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":2522908,"answer_count":1,"score":69,"last_activity_date":1693482474,"creation_date":1269603346,"question_id":2522897,"body_markdown":"In eclipse preferences\r\n\r\n    Windows &gt; Preferences &gt; Java &gt; Junit\r\n\r\n![alt text][1]\r\n\r\nWhat effect does the &quot;Add &#39;-ea&#39; to VM args ....&quot; checkbox option actually have on the new junit launch config?\r\n\r\n\r\n  [1]: https://1.bp.blogspot.com/_UjH7scA_Bek/S6yamSn9pGI/AAAAAAAABhE/znqFy0yrZgc/s320/eclipse-junit-ea-jvm-args.png","title":"Eclipse Junit &#39;-ea&#39; VM Option","body":"<p>In eclipse preferences</p>\n\n<pre><code>Windows &gt; Preferences &gt; Java &gt; Junit\n</code></pre>\n\n<p><img src=\"https://1.bp.blogspot.com/_UjH7scA_Bek/S6yamSn9pGI/AAAAAAAABhE/znqFy0yrZgc/s320/eclipse-junit-ea-jvm-args.png\" alt=\"alt text\"></p>\n\n<p>What effect does the \"Add '-ea' to VM args ....\" checkbox option actually have on the new junit launch config?</p>\n"},{"tags":["java","record","java-17","final-class"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1693482383,"creation_date":1647291545,"answer_id":71474203,"question_id":71473485,"body_markdown":"**Record** is an ***immutable class***, i.e. all its fields are `final`. *Records* are implicitly `final`, hence as well as regular *final class* `record` can&#39;t be *extended*.\r\n\r\nThere are a number of **restrictions** imposed on records ([*for more details, take a look at **JEP 395***](https://openjdk.java.net/jeps/395)). \r\n\r\nContrary to *normal classes*:\r\n* it&#39;s forbidden to declare ***instance fields*** *explicitly* inside **records** (*and reminder: all fields are* `final`, *which is a very important distinction*);\r\n* `extends` clause is not allowed with **records**, because every **record** implicitly *extends* abstract class [Record](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html);\r\n* **record** can&#39;t be declared with any of these modifiers: `abstract`, `sealed`, or `non-sealed` (as a consequence of being implicitly `final`);\r\n* **records** can&#39;t declare *instance initializers* and *native methods*.\r\n\r\nRecords are meant to be ***&quot;transparent carriers for immutable data&quot;*** as *JEP 395* says. \r\n\r\nThey are designed to be *concise*, *default constructor*, *getters*, `hashCode/equals` and `toString()` will be generated by the compiler for you. So that inside a **record** you need to declare only your custom logic (*if any*) and record declaration can be literally a ***one-liner***.\r\n\r\n*Records* differ a lot from regular *final classes*. \r\n\r\nAlso, apart from the peculiarities mentioned above, the mechanism of *serialization / deserialization* was reimplemented for **records**, so that *deserialization* doesn&#39;t bypass the constructor.\r\n\r\n&gt; In which case should I use a record?\r\n\r\nIn short, if your objects must be ***stateful***, or you need to ***extend*** a particular class, then you can&#39;t utilize `record` in such a case.\r\n\r\nOn the other hand, if your objects are meant just ***carry the data***, they are not intended to be modified or inherit from other classes, then it might be a good candidate to be implemented as a `record`.\r\n","title":"What is the difference between a final Class and a Record?","body":"<p><strong>Record</strong> is an <em><strong>immutable class</strong></em>, i.e. all its fields are <code>final</code>. <em>Records</em> are implicitly <code>final</code>, hence as well as regular <em>final class</em> <code>record</code> can't be <em>extended</em>.</p>\n<p>There are a number of <strong>restrictions</strong> imposed on records (<a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\"><em>for more details, take a look at <strong>JEP 395</strong></em></a>).</p>\n<p>Contrary to <em>normal classes</em>:</p>\n<ul>\n<li>it's forbidden to declare <em><strong>instance fields</strong></em> <em>explicitly</em> inside <strong>records</strong> (<em>and reminder: all fields are</em> <code>final</code>, <em>which is a very important distinction</em>);</li>\n<li><code>extends</code> clause is not allowed with <strong>records</strong>, because every <strong>record</strong> implicitly <em>extends</em> abstract class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">Record</a>;</li>\n<li><strong>record</strong> can't be declared with any of these modifiers: <code>abstract</code>, <code>sealed</code>, or <code>non-sealed</code> (as a consequence of being implicitly <code>final</code>);</li>\n<li><strong>records</strong> can't declare <em>instance initializers</em> and <em>native methods</em>.</li>\n</ul>\n<p>Records are meant to be <em><strong>&quot;transparent carriers for immutable data&quot;</strong></em> as <em>JEP 395</em> says.</p>\n<p>They are designed to be <em>concise</em>, <em>default constructor</em>, <em>getters</em>, <code>hashCode/equals</code> and <code>toString()</code> will be generated by the compiler for you. So that inside a <strong>record</strong> you need to declare only your custom logic (<em>if any</em>) and record declaration can be literally a <em><strong>one-liner</strong></em>.</p>\n<p><em>Records</em> differ a lot from regular <em>final classes</em>.</p>\n<p>Also, apart from the peculiarities mentioned above, the mechanism of <em>serialization / deserialization</em> was reimplemented for <strong>records</strong>, so that <em>deserialization</em> doesn't bypass the constructor.</p>\n<blockquote>\n<p>In which case should I use a record?</p>\n</blockquote>\n<p>In short, if your objects must be <em><strong>stateful</strong></em>, or you need to <em><strong>extend</strong></em> a particular class, then you can't utilize <code>record</code> in such a case.</p>\n<p>On the other hand, if your objects are meant just <em><strong>carry the data</strong></em>, they are not intended to be modified or inherit from other classes, then it might be a good candidate to be implemented as a <code>record</code>.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1647295465,"creation_date":1647295465,"answer_id":71474736,"question_id":71473485,"body_markdown":"A `final` class is simply one that cannot be extended.  But that imposes no other constraints on the class; it can still have mutable fields, fully encapsulate its state, etc.  \r\n\r\nA `record` is a transparent carrier for a given tuple of state components, and is required to expose an API derived from its state description.  Records are therefore more heavily constrained, but in exchange for these constraints, you get a great deal of convenience (constructors, accessors, `Object` methods) as well as some semantic promises (e.g., that unpacking a record with its component accessors and repacking the results with the constructor gives you an `equals` object.)  \r\n\r\nRecords also happen to be `final` classes, but this is a very small part of what it means to be a record.","title":"What is the difference between a final Class and a Record?","body":"<p>A <code>final</code> class is simply one that cannot be extended.  But that imposes no other constraints on the class; it can still have mutable fields, fully encapsulate its state, etc.</p>\n<p>A <code>record</code> is a transparent carrier for a given tuple of state components, and is required to expose an API derived from its state description.  Records are therefore more heavily constrained, but in exchange for these constraints, you get a great deal of convenience (constructors, accessors, <code>Object</code> methods) as well as some semantic promises (e.g., that unpacking a record with its component accessors and repacking the results with the constructor gives you an <code>equals</code> object.)</p>\n<p>Records also happen to be <code>final</code> classes, but this is a very small part of what it means to be a record.</p>\n"}],"owner":{"account_id":12502565,"reputation":258,"user_id":15815623,"display_name":"Denilson Anachury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10578,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":71474203,"answer_count":2,"score":15,"last_activity_date":1693482383,"creation_date":1647287561,"question_id":71473485,"body_markdown":"In simple words what is the difference between a **final class** and a **record** in Java 17?\r\n\r\nIn which case should I use a record?\r\n","title":"What is the difference between a final Class and a Record?","body":"<p>In simple words what is the difference between a <strong>final class</strong> and a <strong>record</strong> in Java 17?</p>\n<p>In which case should I use a record?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":5137250,"reputation":722,"user_id":4115587,"accept_rate":50,"display_name":"Rahal Kanishka"},"score":0,"creation_date":1469624837,"post_id":31536660,"comment_id":64613960,"body_markdown":"Why you used Separate &quot;path&quot; variable to define driver&#39;s path.If you know where you installed your chromeDriver,why don&#39;t you provide it directly.","body":"Why you used Separate &quot;path&quot; variable to define driver&#39;s path.If you know where you installed your chromeDriver,why don&#39;t you provide it directly."}],"answers":[{"tags":[],"owner":{"account_id":3280203,"reputation":18206,"user_id":2760986,"accept_rate":100,"display_name":"mrhn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437475209,"creation_date":1437475209,"answer_id":31536775,"question_id":31536660,"body_markdown":"Initially i think you are creating the Chromedriver, without the reference to the exe being there.\r\n\r\nSo if you change it into something like this, it will probaly work.\r\n\r\n    public class Browser {\r\n        private static WebDriver driver;\r\n\r\n        public static WebDriver driver() {\r\n            return driver;\r\n        }\r\n\r\n        public static void open(String url) {\r\n            String path = System.getProperty(&quot;user.dir&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver(); //Initilize here\r\n            driver.manage().window().maximize();\r\n            driver.get(url);\r\n        }\r\n    }","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>Initially i think you are creating the Chromedriver, without the reference to the exe being there.</p>\n\n<p>So if you change it into something like this, it will probaly work.</p>\n\n<pre><code>public class Browser {\n    private static WebDriver driver;\n\n    public static WebDriver driver() {\n        return driver;\n    }\n\n    public static void open(String url) {\n        String path = System.getProperty(\"user.dir\");\n        System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n        driver = new ChromeDriver(); //Initilize here\n        driver.manage().window().maximize();\n        driver.get(url);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4556100,"reputation":3497,"user_id":3699808,"accept_rate":83,"display_name":"mhlz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437475245,"creation_date":1437475245,"answer_id":31536789,"question_id":31536660,"body_markdown":"When your application loads the first time, it&#39;ll try to load the Browser class.\r\n\r\nWhile  loading a class the JVM will do all the static initializing that is specified, in this case it&#39;ll try to create a ChromeDriver object, because you&#39;re initializing the static field with `new ChromeDriver()`. At that point your `open` method hasn&#39;t been called yet to set the system property, so an exception will be thrown, which causes the JVM to quit.\r\n\r\nTo fix this, either create the ChromeDriver object /after/ setting the system property (e.g. in your `open` method) or set the system property when starting the JVM:\r\n\r\n    java -Dwebdriver.chrome.driver=path/to/driver -jar somejar.jar","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>When your application loads the first time, it'll try to load the Browser class.</p>\n\n<p>While  loading a class the JVM will do all the static initializing that is specified, in this case it'll try to create a ChromeDriver object, because you're initializing the static field with <code>new ChromeDriver()</code>. At that point your <code>open</code> method hasn't been called yet to set the system property, so an exception will be thrown, which causes the JVM to quit.</p>\n\n<p>To fix this, either create the ChromeDriver object /after/ setting the system property (e.g. in your <code>open</code> method) or set the system property when starting the JVM:</p>\n\n<pre><code>java -Dwebdriver.chrome.driver=path/to/driver -jar somejar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6073472,"reputation":5051,"user_id":4741503,"display_name":"Ram Pasala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437475661,"creation_date":1437475661,"answer_id":31536951,"question_id":31536660,"body_markdown":"You should instantiate you browser inside the function you are defining and setting the path.\r\n\r\ntry this:\r\n\r\n      public static void open(String url) {\r\n        String path = System.getProperty(&quot;user.dir&quot;);\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n        driver.manage().window().maximize();\r\n         WebDriver driver = new ChromeDriver();\r\n        driver.get(url);\r\n    }\r\n\r\nThere is no need of separately creating a driver function.please remove it.","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>You should instantiate you browser inside the function you are defining and setting the path.</p>\n\n<p>try this:</p>\n\n<pre><code>  public static void open(String url) {\n    String path = System.getProperty(\"user.dir\");\n    System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n    driver.manage().window().maximize();\n     WebDriver driver = new ChromeDriver();\n    driver.get(url);\n}\n</code></pre>\n\n<p>There is no need of separately creating a driver function.please remove it.</p>\n"},{"tags":[],"owner":{"account_id":23640636,"reputation":1,"user_id":17670932,"display_name":"Ronald Domingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693481648,"creation_date":1693449312,"answer_id":77012549,"question_id":31536660,"body_markdown":"Step 1: Copy the version number in the Eclipse console e.g. **116.0.5845.111**\r\n\r\neclipse console\r\n[DEBUG] Result: Version=**116.0.5845.111**\r\n\r\nStep 2: Create a new folder inside the win64 with a folder name you copied in the eclipse console\r\nC:\\Users\\yourUSER\\\\.cache\\selenium\\chromedriver\\win64\r\n\r\nStep 3: Download the specific chrome driver version and copy inside the new folder you have created\r\n\r\nStep 4: Go to C:\\Users\\yourUSER\\\\.cache\\selenium and edit the file **resolution.properties**\r\n\r\ninside the resolution properties:\r\n\r\nadd this code:\r\n\r\n**chrome116=116.0.5845.111\r\nchrome116-ttl=11\\:23\\:04 31/08/2023 CST**\r\n\r\nsee photo for the example\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghmjK.png","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>Step 1: Copy the version number in the Eclipse console e.g. <strong>116.0.5845.111</strong></p>\n<p>eclipse console\n[DEBUG] Result: Version=<strong>116.0.5845.111</strong></p>\n<p>Step 2: Create a new folder inside the win64 with a folder name you copied in the eclipse console\nC:\\Users\\yourUSER\\.cache\\selenium\\chromedriver\\win64</p>\n<p>Step 3: Download the specific chrome driver version and copy inside the new folder you have created</p>\n<p>Step 4: Go to C:\\Users\\yourUSER\\.cache\\selenium and edit the file <strong>resolution.properties</strong></p>\n<p>inside the resolution properties:</p>\n<p>add this code:</p>\n<p><strong>chrome116=116.0.5845.111\nchrome116-ttl=11:23:04 31/08/2023 CST</strong></p>\n<p>see photo for the example</p>\n<p><a href=\"https://i.stack.imgur.com/ghmjK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":6648808,"reputation":33,"user_id":5131762,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693481648,"creation_date":1437474878,"question_id":31536660,"body_markdown":"I wrote code like this but this code isn&#39;t running the chromedriver and i have added the file(chromedriver.exe) with this path (\\\\chromedrive\\\\chromedriver.exe).\r\n\r\n\r\n\tpublic class Browser {\r\n\t\tprivate static WebDriver driver = new ChromeDriver();\r\n\t\r\n\t\tpublic static WebDriver driver() {\r\n\t\t\treturn driver;\r\n\t\t}\r\n\t\r\n\t\tpublic static void open(String url) {\r\n\t\t\tString path = System.getProperty(&quot;user.dir&quot;);\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t}\r\n\r\n.\r\n\r\n\tpublic class Page extends LoadableComponent&lt;Page&gt; {\r\n\t\r\n\t\tstatic String url = &quot;http://-------&quot;;\r\n\t\r\n\t\tprivate static String title = &quot;title&quot;;\r\n\t\r\n\t\tpublic Page() {\r\n\t\t\tPageFactory.initElements(Browser.driver(), this);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void load() {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tBrowser.open(url);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void isLoaded() throws Error {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tassertTrue(Browser.driver().getTitle().equals(title));\r\n\t\t}\r\n\t}\r\n.\r\n\r\n\tpublic class PageTests {\r\n\t\t@Test\r\n\t\tpublic void pageTest() {\r\n\t\t\tPage page = new Page();\r\n\t\t\tpage.get();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe error message is:\r\n\r\n\r\n\r\n&gt; java.lang.ExceptionInInitializerError\r\n&gt; \r\n&gt; Caused by: java.lang.IllegalStateException: The path to the driver\r\n&gt; executable must be set by the webdriver.chrome.driver system property;\r\n\r\n","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>I wrote code like this but this code isn't running the chromedriver and i have added the file(chromedriver.exe) with this path (\\chromedrive\\chromedriver.exe).</p>\n\n<pre><code>public class Browser {\n    private static WebDriver driver = new ChromeDriver();\n\n    public static WebDriver driver() {\n        return driver;\n    }\n\n    public static void open(String url) {\n        String path = System.getProperty(\"user.dir\");\n        System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n        driver.manage().window().maximize();\n        driver.get(url);\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class Page extends LoadableComponent&lt;Page&gt; {\n\n    static String url = \"http://-------\";\n\n    private static String title = \"title\";\n\n    public Page() {\n        PageFactory.initElements(Browser.driver(), this);\n    }\n\n    @Override\n    protected void load() {\n        // TODO Auto-generated method stub\n        Browser.open(url);\n    }\n\n    @Override\n    protected void isLoaded() throws Error {\n        // TODO Auto-generated method stub\n        assertTrue(Browser.driver().getTitle().equals(title));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class PageTests {\n    @Test\n    public void pageTest() {\n        Page page = new Page();\n        page.get();\n    }\n}\n</code></pre>\n\n<p>The error message is:</p>\n\n<blockquote>\n  <p>java.lang.ExceptionInInitializerError</p>\n  \n  <p>Caused by: java.lang.IllegalStateException: The path to the driver\n  executable must be set by the webdriver.chrome.driver system property;</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-data-neo4j"],"owner":{"account_id":4933158,"reputation":70,"user_id":3972225,"accept_rate":100,"display_name":"P J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693481147,"creation_date":1693481147,"question_id":77015377,"body_markdown":"pom.xml contains \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-ogm-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\r\n        &lt;/dependency&gt;\r\n   \r\n\r\nIn service \r\n\r\n    private final Neo4jOperations neo4jOperations;\r\n    public GraphInitService(Neo4jOperations neo4jOperations) {\r\n        this.neo4jOperations = neo4jOperations;\r\n    }\r\n       private void execute(String query) {\r\n        return neo4jOperations.query(query);\r\n    }\r\nbut am getting error as Cannot resolve method &#39;query&#39; in &#39;Neo4jOperations&#39;\r\nAm I doing something wrong","title":"Cannot resolve method &#39;query&#39; in &#39;Neo4jOperations&#39;","body":"<p>pom.xml contains</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-ogm-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.6&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In service</p>\n<pre><code>private final Neo4jOperations neo4jOperations;\npublic GraphInitService(Neo4jOperations neo4jOperations) {\n    this.neo4jOperations = neo4jOperations;\n}\n   private void execute(String query) {\n    return neo4jOperations.query(query);\n}\n</code></pre>\n<p>but am getting error as Cannot resolve method 'query' in 'Neo4jOperations'\nAm I doing something wrong</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693441745,"post_id":77012197,"comment_id":135763021,"body_markdown":"Package names should be lower case, class names should start with upper case. Change your class names.","body":"Package names should be lower case, class names should start with upper case. Change your class names."},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693442042,"post_id":77012197,"comment_id":135763036,"body_markdown":"As you know in Java, the dot operator is used to access members of a class or package. When you use ```a.c```, Java first looks for a class ```c``` in package ```a```, if it can&#39;t find one, it looks for a class ```a``` with a menber ```c```. Since there is a class ```a``` with a member class ```c``` in package ```d```, then Java macths ```a.c``` to the inner class ```a``` with member ```c```.","body":"As you know in Java, the dot operator is used to access members of a class or package. When you use <code>a.c</code>, Java first looks for a class <code>c</code> in package <code>a</code>, if it can&#39;t find one, it looks for a class <code>a</code> with a menber <code>c</code>. Since there is a class <code>a</code> with a member class <code>c</code> in package <code>d</code>, then Java macths <code>a.c</code> to the inner class <code>a</code> with member <code>c</code>."},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693447053,"post_id":77012197,"comment_id":135763369,"body_markdown":"@esQmo_ any solution without changing names?","body":"@esQmo_ any solution without changing names?"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693447344,"post_id":77012197,"comment_id":135763396,"body_markdown":"To access the class ```c``` in package ```a```, you can use the fully qualified name of the class, which includes its package","body":"To access the class <code>c</code> in package <code>a</code>, you can use the fully qualified name of the class, which includes its package"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693454857,"post_id":77012197,"comment_id":135763961,"body_markdown":"This doesn&#39;t _ever_ occur in any relevant real world scenario. Or, if somehow it did, the fix is to stop using the deplorably-unconventionally-named library if you can&#39;t change the code inside it, or change it if you can.","body":"This doesn&#39;t <i>ever</i> occur in any relevant real world scenario. Or, if somehow it did, the fix is to stop using the deplorably-unconventionally-named library if you can&#39;t change the code inside it, or change it if you can."},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693482114,"post_id":77012197,"comment_id":135768537,"body_markdown":"After your edit, I&#39;m tempted to ask if the code is not decompiled from an obfuscated source?","body":"After your edit, I&#39;m tempted to ask if the code is not decompiled from an obfuscated source?"}],"answers":[{"tags":[],"owner":{"account_id":28504524,"reputation":1,"user_id":21815344,"display_name":"Muhamed Elockly"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1693442165,"creation_date":1693442165,"answer_id":77012244,"question_id":77012197,"body_markdown":"You can achieve this by importing the class c from the package d into the package a. To do this, add the following import statement to the top of the class file in the package a\r\n\r\nimport d.c;","title":"Conflict between Class Name and Package Name in Java","body":"<p>You can achieve this by importing the class c from the package d into the package a. To do this, add the following import statement to the top of the class file in the package a</p>\n<p>import d.c;</p>\n"},{"tags":[],"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693448238,"creation_date":1693448238,"answer_id":77012494,"question_id":77012197,"body_markdown":"Continuing from the comment, let&#39;s consider a real world scenario (using a, c, d... can be tough and misleading):\r\n\r\n```java\r\n\r\npackage com.example.animals; // com/example/animals/Lion.java\r\npublic class Lion {\r\n}\r\n\r\n\r\npackage com.example.zoo; // com/example/zoo/Zoo.java\r\npublic class Zoo {\r\n    public class Lion {\r\n    }\r\n}\r\n```\r\n\r\nIf you want to create an instance of the Lion class from com;example.animals and there is a Lion class in com.example.zoo package, you can do something like:\r\n\r\n```java\r\n\r\ncom.example.zoo.Zoo.Lion zooLion = new com.example.zoo.Zoo().new Lion(); // This refers to the inner class Lion of class Zoo in package com.example.zoo\r\n\r\n// To refer to the class Lion in package com.example.animals, use the fully qualified name\r\ncom.example.animals.Lion animalsLion = new com.example.animals.Lion();\r\n```","title":"Conflict between Class Name and Package Name in Java","body":"<p>Continuing from the comment, let's consider a real world scenario (using a, c, d... can be tough and misleading):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.animals; // com/example/animals/Lion.java\npublic class Lion {\n}\n\n\npackage com.example.zoo; // com/example/zoo/Zoo.java\npublic class Zoo {\n    public class Lion {\n    }\n}\n</code></pre>\n<p>If you want to create an instance of the Lion class from com;example.animals and there is a Lion class in com.example.zoo package, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ncom.example.zoo.Zoo.Lion zooLion = new com.example.zoo.Zoo().new Lion(); // This refers to the inner class Lion of class Zoo in package com.example.zoo\n\n// To refer to the class Lion in package com.example.animals, use the fully qualified name\ncom.example.animals.Lion animalsLion = new com.example.animals.Lion();\n</code></pre>\n"}],"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693480340,"creation_date":1693441116,"question_id":77012197,"body_markdown":"In the context of the following code:\r\n\r\n    package animal; \r\n    public class lion {\r\n    }\r\n    \r\n    \r\n    package zoo; \r\n    public class animal {\r\n        public class lion {\r\n        }\r\n    }\r\n\r\nWhen I use &#39;animal.lion&#39; to declare and instantiate an object \r\n\r\n    animal.lion cub = new animal.lion()\r\n\r\nAndroid Studio is recognizing the class &#39;lion&#39; from package &#39;zoo&#39;. However, I intend to access the class &#39;lion&#39; from package &#39;animal&#39;. How can I achieve this **without needing to change the package names or class names**?\r\n\r\nEdit: I am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word.","title":"Conflict between Class Name and Package Name in Java","body":"<p>In the context of the following code:</p>\n<pre><code>package animal; \npublic class lion {\n}\n\n\npackage zoo; \npublic class animal {\n    public class lion {\n    }\n}\n</code></pre>\n<p>When I use 'animal.lion' to declare and instantiate an object</p>\n<pre><code>animal.lion cub = new animal.lion()\n</code></pre>\n<p>Android Studio is recognizing the class 'lion' from package 'zoo'. However, I intend to access the class 'lion' from package 'animal'. How can I achieve this <strong>without needing to change the package names or class names</strong>?</p>\n<p>Edit: I am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word.</p>\n"},{"tags":["java","spring-boot","exception","http-status-code-406"],"owner":{"account_id":24293263,"reputation":1,"user_id":18237887,"display_name":"1449piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693480290,"creation_date":1693388420,"question_id":77006795,"body_markdown":"When I add `&quot;Accept&quot;: &quot;application/xml&quot;` in the HTTP headers, my application returns empty content and `HttpMediaTypeNotAcceptableException` in the console. I don&#39;t know how to handle it to get a response like this:\r\n \r\n```json\r\n{\r\n    &quot;status&quot;: 406,\r\n    &quot;message&quot;: &quot;{message}&quot;\r\n}\r\n```\r\n\r\nHere is the controller class I try to catch this error in, but this does not work. I was also trying to use `@ExceptionHandler` annotation but it also doesn&#39;t seem to work. \r\n\r\n```java\r\npackage com.example.zadanie.controller;\r\n\r\nimport com.example.zadanie.model.ErrorModel;\r\nimport com.example.zadanie.model.RepoModel;\r\nimport com.example.zadanie.service.RepoService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.HttpStatusCode;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.HttpMediaTypeException;\r\nimport org.springframework.web.HttpMediaTypeNotAcceptableException;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\n\r\nimport java.util.List;\r\n\r\n@org.springframework.stereotype.Controller\r\npublic class Controller {\r\n    private RepoService repoService;\r\n\r\n    @Autowired\r\n    public Controller(RepoService repoService) {\r\n        this.repoService = repoService;\r\n    }\r\n\r\n    @GetMapping(&quot;/{username}&quot;)\r\n    public ResponseEntity&lt;List&lt;RepoModel&gt;&gt; getRepoList(@PathVariable String username) {\r\n        try {\r\n            return new ResponseEntity(repoService.repoModels(username), HttpStatus.OK);\r\n        }\r\n        catch (HttpClientErrorException e) {\r\n            ErrorModel errorModel = new ErrorModel(e.getStatusCode().value(), &quot;user does not exist&quot;);\r\n            return new ResponseEntity(errorModel, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n//    @GetMapping\r\n//    @ExceptionHandler(HttpMediaTypeNotAcceptableException.class)\r\n//    public ResponseEntity httpMediaTypeNotAcceptableExceptionHandler(){\r\n//        return new ResponseEntity(new ErrorModel(HttpStatus.NOT_ACCEPTABLE.value(), &quot;this application accept only json response&quot;),HttpStatus.NOT_ACCEPTABLE);\r\n//    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Service class**\r\n\r\nHere I download repos from github with its APIs.\r\n\r\n\r\n```java\r\npackage com.example.zadanie.service;\r\n\r\nimport com.example.zadanie.model.RepoModel;\r\nimport com.example.zadanie.model.ResponseModel;\r\nimport org.springframework.http.HttpStatusCode;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class RepoService {\r\n\r\n    public List&lt;ResponseModel&gt; repoModels(String username){\r\n        List&lt;ResponseModel&gt; responseModelList = new ArrayList&lt;&gt;();\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n            RepoModel[] repoModels = restTemplate.getForObject(&quot;https://api.github.com/users/&quot; + username + &quot;/repos&quot;, RepoModel[].class);\r\n            for (RepoModel repoModel : repoModels) {\r\n                ResponseModel responseModel = new ResponseModel();\r\n                responseModel.setName(repoModel.getName());\r\n                responseModel.setLogin(repoModel.getOwner().getLogin());\r\n                responseModelList.add(responseModel);\r\n            }\r\n            return responseModelList;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**ErrorModel class**\r\n\r\n\r\n\r\n```java\r\npackage com.example.zadanie.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.HttpStatusCode;\r\n\r\npublic class ErrorModel {\r\n    @JsonProperty(&quot;status&quot;)\r\n    private int httpStatusCode;\r\n    @JsonProperty(&quot;message&quot;)\r\n    private String message;\r\n\r\n    public ErrorModel() {\r\n    }\r\n\r\n    public ErrorModel(int httpStatusCode, String message) {\r\n        this.httpStatusCode = httpStatusCode;\r\n        this.message = message;\r\n    }\r\n\r\n    public int getHttpStatusCode() {\r\n        return httpStatusCode;\r\n    }\r\n\r\n    public void setHttpStatusCode(int httpStatusCode) {\r\n        this.httpStatusCode = httpStatusCode;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ErrorModel{&quot; +\r\n                &quot;httpStatusCode=&quot; + httpStatusCode +\r\n                &quot;, message=&#39;&quot; + message + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHow can I handle this exception the right way, and get an output formatted like shown earlier?\r\n","title":"How to handle HttpMediaTypeNotAcceptableException in Java SpringBoot?","body":"<p>When I add <code>&quot;Accept&quot;: &quot;application/xml&quot;</code> in the HTTP headers, my application returns empty content and <code>HttpMediaTypeNotAcceptableException</code> in the console. I don't know how to handle it to get a response like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 406,\n    &quot;message&quot;: &quot;{message}&quot;\n}\n</code></pre>\n<p>Here is the controller class I try to catch this error in, but this does not work. I was also trying to use <code>@ExceptionHandler</code> annotation but it also doesn't seem to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.controller;\n\nimport com.example.zadanie.model.ErrorModel;\nimport com.example.zadanie.model.RepoModel;\nimport com.example.zadanie.service.RepoService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.HttpMediaTypeException;\nimport org.springframework.web.HttpMediaTypeNotAcceptableException;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.client.HttpClientErrorException;\n\nimport java.util.List;\n\n@org.springframework.stereotype.Controller\npublic class Controller {\n    private RepoService repoService;\n\n    @Autowired\n    public Controller(RepoService repoService) {\n        this.repoService = repoService;\n    }\n\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;List&lt;RepoModel&gt;&gt; getRepoList(@PathVariable String username) {\n        try {\n            return new ResponseEntity(repoService.repoModels(username), HttpStatus.OK);\n        }\n        catch (HttpClientErrorException e) {\n            ErrorModel errorModel = new ErrorModel(e.getStatusCode().value(), &quot;user does not exist&quot;);\n            return new ResponseEntity(errorModel, HttpStatus.NOT_FOUND);\n        }\n    }\n\n//    @GetMapping\n//    @ExceptionHandler(HttpMediaTypeNotAcceptableException.class)\n//    public ResponseEntity httpMediaTypeNotAcceptableExceptionHandler(){\n//        return new ResponseEntity(new ErrorModel(HttpStatus.NOT_ACCEPTABLE.value(), &quot;this application accept only json response&quot;),HttpStatus.NOT_ACCEPTABLE);\n//    }\n}\n\n</code></pre>\n<p><strong>Service class</strong></p>\n<p>Here I download repos from github with its APIs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.service;\n\nimport com.example.zadanie.model.RepoModel;\nimport com.example.zadanie.model.ResponseModel;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class RepoService {\n\n    public List&lt;ResponseModel&gt; repoModels(String username){\n        List&lt;ResponseModel&gt; responseModelList = new ArrayList&lt;&gt;();\n        RestTemplate restTemplate = new RestTemplate();\n\n            RepoModel[] repoModels = restTemplate.getForObject(&quot;https://api.github.com/users/&quot; + username + &quot;/repos&quot;, RepoModel[].class);\n            for (RepoModel repoModel : repoModels) {\n                ResponseModel responseModel = new ResponseModel();\n                responseModel.setName(repoModel.getName());\n                responseModel.setLogin(repoModel.getOwner().getLogin());\n                responseModelList.add(responseModel);\n            }\n            return responseModelList;\n    }\n\n\n}\n\n</code></pre>\n<p><strong>ErrorModel class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\n\npublic class ErrorModel {\n    @JsonProperty(&quot;status&quot;)\n    private int httpStatusCode;\n    @JsonProperty(&quot;message&quot;)\n    private String message;\n\n    public ErrorModel() {\n    }\n\n    public ErrorModel(int httpStatusCode, String message) {\n        this.httpStatusCode = httpStatusCode;\n        this.message = message;\n    }\n\n    public int getHttpStatusCode() {\n        return httpStatusCode;\n    }\n\n    public void setHttpStatusCode(int httpStatusCode) {\n        this.httpStatusCode = httpStatusCode;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ErrorModel{&quot; +\n                &quot;httpStatusCode=&quot; + httpStatusCode +\n                &quot;, message='&quot; + message + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>How can I handle this exception the right way, and get an output formatted like shown earlier?</p>\n"},{"tags":["java","function","return-value","wicket","return-type"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692985833,"post_id":76979493,"comment_id":135704856,"body_markdown":"Please put `FormComponent` and `ComboCustom` classes in the question.","body":"Please put <code>FormComponent</code> and <code>ComboCustom</code> classes in the question."}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693478961,"creation_date":1693478961,"answer_id":77015123,"question_id":76979493,"body_markdown":"`ComboCustom` seems to be an implementation of [IChoiceRenderer][1]. It is not really a [FormComponent][2]\r\n\r\n\r\n  [1]: https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/IChoiceRenderer.java#L42\r\n  [2]: https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/FormComponent.java","title":"How can I return different values in a FormComponent method?","body":"<p><code>ComboCustom</code> seems to be an implementation of <a href=\"https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/IChoiceRenderer.java#L42\" rel=\"nofollow noreferrer\">IChoiceRenderer</a>. It is not really a <a href=\"https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/FormComponent.java\" rel=\"nofollow noreferrer\">FormComponent</a></p>\n"}],"owner":{"account_id":15153471,"reputation":77,"user_id":10935093,"display_name":"Diogo Cruz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693478961,"creation_date":1692985358,"question_id":76979493,"body_markdown":"I have this method that is going to create 2 textfields and a combobox. \r\nBut I have a problem returning the different values because it gives me an error that &quot;Type mismatch: cannot convert from ComboCustom&lt;EqpMarca&gt; to FormComponent&lt;?&gt;&quot;\r\n\r\nThe 2 textfields work great, but I don&#180;t understand why the combobox doesn&#180;t and how to make it work.\r\nThanks in advance.\r\n\r\n```\r\n\tprivate static FormComponent&lt;?&gt;[] criaComponentes(FiltroListaEquipamentosASerSubstituido2 filtro) {\r\n\t\t\r\n\t\t\r\n\t\tComboCustom&lt;EqpMarca&gt; marca = new ComboCustom&lt;EqpMarca&gt;(&quot;marca&quot;, new PropertyModel&lt;EqpMarca&gt;(filtro, &quot;marca&quot;), list, new ChoiceRenderer&lt;EqpMarca&gt;() {\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String getDisplayValue(EqpMarca est) {\r\n\t\t\t\treturn est.getDesignacao();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String getIdValue(EqpMarca est, int arg) {\r\n\t\t\t\treturn String.valueOf(est.getIdMarca());\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tmarca.add(new AjaxFormComponentUpdatingBehavior(HtmlTag.ONCHANGE) {\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onUpdate(AjaxRequestTarget target) {\r\n\t\t\t\ttarget.add(marca);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn new FormComponent&lt;?&gt;[] {\r\n\t\t\tnew TextField&lt;String&gt;(&quot;nome&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;nome&quot;)),\r\n\t\t\tmarca,\r\n\t\t\tnew TextField&lt;String&gt;(&quot;modelo&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;modelo&quot;))\r\n\t\t};\r\n\t\t\r\n\t}\r\n```","title":"How can I return different values in a FormComponent method?","body":"<p>I have this method that is going to create 2 textfields and a combobox.\nBut I have a problem returning the different values because it gives me an error that &quot;Type mismatch: cannot convert from ComboCustom to FormComponent&lt;?&gt;&quot;</p>\n<p>The 2 textfields work great, but I dont understand why the combobox doesnt and how to make it work.\nThanks in advance.</p>\n<pre><code>    private static FormComponent&lt;?&gt;[] criaComponentes(FiltroListaEquipamentosASerSubstituido2 filtro) {\n        \n        \n        ComboCustom&lt;EqpMarca&gt; marca = new ComboCustom&lt;EqpMarca&gt;(&quot;marca&quot;, new PropertyModel&lt;EqpMarca&gt;(filtro, &quot;marca&quot;), list, new ChoiceRenderer&lt;EqpMarca&gt;() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public String getDisplayValue(EqpMarca est) {\n                return est.getDesignacao();\n            }\n\n            @Override\n            public String getIdValue(EqpMarca est, int arg) {\n                return String.valueOf(est.getIdMarca());\n            }\n        });\n        \n        \n        marca.add(new AjaxFormComponentUpdatingBehavior(HtmlTag.ONCHANGE) {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            protected void onUpdate(AjaxRequestTarget target) {\n                target.add(marca);\n            }\n        });\n        \n        return new FormComponent&lt;?&gt;[] {\n            new TextField&lt;String&gt;(&quot;nome&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;nome&quot;)),\n            marca,\n            new TextField&lt;String&gt;(&quot;modelo&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;modelo&quot;))\n        };\n        \n    }\n</code></pre>\n"},{"tags":["java","sorting","dictionary","collections"],"comments":[{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":32,"creation_date":1391967282,"post_id":109383,"comment_id":32742299,"body_markdown":"A map is not meant to be sorted, but accessed fast. Object equal values break the constraint of the map. Use the entry set, like `List&lt;Map.Entry&lt;...&gt;&gt; list =new LinkedList(map.entrySet())` and `Collections.sort ....` it that way.","body":"A map is not meant to be sorted, but accessed fast. Object equal values break the constraint of the map. Use the entry set, like <code>List&lt;Map.Entry&lt;...&gt;&gt; list =new LinkedList(map.entrySet())</code> and <code>Collections.sort ....</code> it that way."},{"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":2,"creation_date":1513886638,"post_id":109383,"comment_id":82832976,"body_markdown":"A case where this might arise when we try to make use of a Counter in Java (Map&lt;Object, Integer&gt;).  Sorting by number of occurrences would then be a common operation.  A language like Python has a built in Counter data structure.  For an alternate way of implementation in Java, [here](https://introcs.cs.princeton.edu/java/33design/Counter.java.html) is an example","body":"A case where this might arise when we try to make use of a Counter in Java (Map&lt;Object, Integer&gt;).  Sorting by number of occurrences would then be a common operation.  A language like Python has a built in Counter data structure.  For an alternate way of implementation in Java, <a href=\"https://introcs.cs.princeton.edu/java/33design/Counter.java.html\" rel=\"nofollow noreferrer\">here</a> is an example"},{"owner":{"account_id":4788875,"reputation":1284,"user_id":3868605,"accept_rate":62,"display_name":"alobodzk"},"score":14,"creation_date":1524424245,"post_id":109383,"comment_id":86955407,"body_markdown":"There are plenty of use cases for sorted maps, that&#39;s why you have TreeMap and ConcurrentSkipListMap in jdk.","body":"There are plenty of use cases for sorted maps, that&#39;s why you have TreeMap and ConcurrentSkipListMap in jdk."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1563878225,"post_id":109383,"comment_id":100838237,"body_markdown":"See also https://stackoverflow.com/questions/7860822/sorting-hashmap-based-on-keys","body":"See also <a href=\"https://stackoverflow.com/questions/7860822/sorting-hashmap-based-on-keys\" title=\"sorting hashmap based on keys\">stackoverflow.com/questions/7860822/&hellip;</a>"},{"owner":{"account_id":1144688,"reputation":343,"user_id":1127720,"display_name":"Peter"},"score":8,"creation_date":1588076908,"post_id":109383,"comment_id":108755607,"body_markdown":"TreeMap and ConcurrentSkipListMap sort by key. The question is about sorting by value.","body":"TreeMap and ConcurrentSkipListMap sort by key. The question is about sorting by value."},{"owner":{"account_id":7165027,"reputation":2330,"user_id":5937230,"accept_rate":90,"display_name":"rococo"},"score":3,"creation_date":1626072358,"post_id":109383,"comment_id":120785024,"body_markdown":"I&#39;d like to add that *depending on your use case*, it may be reasonable to simply keep a duplicate TreeMap that maps your value to your keys. For example, your regular map may have &quot;a&quot; -&gt; 5, &quot;b&quot; -&gt; 7&quot;. And your &quot;sorted&quot; map can have 5 -&gt; &quot;a&quot;, 7 -&gt; &quot;b&quot;. You would just use whichever map is appropriate in different places and make an effort to always modify the two maps together. It&#39;s not pretty and there are many caveats and assumptions, but for *some* cases it can be a straightforward and efficient answer compared to all the top answers here which rely on actively sorting your values.","body":"I&#39;d like to add that <i>depending on your use case</i>, it may be reasonable to simply keep a duplicate TreeMap that maps your value to your keys. For example, your regular map may have &quot;a&quot; -&gt; 5, &quot;b&quot; -&gt; 7&quot;. And your &quot;sorted&quot; map can have 5 -&gt; &quot;a&quot;, 7 -&gt; &quot;b&quot;. You would just use whichever map is appropriate in different places and make an effort to always modify the two maps together. It&#39;s not pretty and there are many caveats and assumptions, but for <i>some</i> cases it can be a straightforward and efficient answer compared to all the top answers here which rely on actively sorting your values."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1657306103,"post_id":109383,"comment_id":128787497,"body_markdown":"@Hannes [`NavigableMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html) and [`SortedMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html) want to have a word with you.","body":"@Hannes <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a> want to have a word with you."}],"answers":[{"tags":[],"owner":{"account_id":8772,"reputation":2726,"user_id":15950,"display_name":"devinmoore"},"down_vote_count":11,"up_vote_count":200,"is_accepted":false,"score":189,"last_activity_date":1465890667,"creation_date":1221944794,"answer_id":109389,"question_id":109383,"body_markdown":"From http://www.programmersheaven.com/download/49349/download.aspx\r\n\r\n    private static &lt;K, V&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t\tList&lt;Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, new Comparator&lt;Object&gt;() {\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tpublic int compare(Object o1, Object o2) {\r\n\t\t\t\treturn ((Comparable&lt;V&gt;) ((Map.Entry&lt;K, V&gt;) (o1)).getValue()).compareTo(((Map.Entry&lt;K, V&gt;) (o2)).getValue());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tMap&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\r\n\t\tfor (Iterator&lt;Entry&lt;K, V&gt;&gt; it = list.iterator(); it.hasNext();) {\r\n\t\t\tMap.Entry&lt;K, V&gt; entry = (Map.Entry&lt;K, V&gt;) it.next();\r\n\t\t\tresult.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>From <a href=\"http://www.programmersheaven.com/download/49349/download.aspx\" rel=\"noreferrer\">http://www.programmersheaven.com/download/49349/download.aspx</a></p>\n\n<pre><code>private static &lt;K, V&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\n    List&lt;Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;&gt;(map.entrySet());\n    Collections.sort(list, new Comparator&lt;Object&gt;() {\n        @SuppressWarnings(\"unchecked\")\n        public int compare(Object o1, Object o2) {\n            return ((Comparable&lt;V&gt;) ((Map.Entry&lt;K, V&gt;) (o1)).getValue()).compareTo(((Map.Entry&lt;K, V&gt;) (o2)).getValue());\n        }\n    });\n\n    Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\n    for (Iterator&lt;Entry&lt;K, V&gt;&gt; it = list.iterator(); it.hasNext();) {\n        Map.Entry&lt;K, V&gt; entry = (Map.Entry&lt;K, V&gt;) it.next();\n        result.put(entry.getKey(), entry.getValue());\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6003,"reputation":7728,"user_id":9931,"accept_rate":94,"display_name":"Ryan Delucchi"},"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1221944869,"creation_date":1221944869,"answer_id":109396,"question_id":109383,"body_markdown":"Depending on the context, using `java.util.LinkedHashMap&lt;T&gt;` which rememebers the order in which items are placed into the map.  Otherwise, if you need to sort values based on their natural ordering, I would recommend maintaining a separate List which can be sorted via `Collections.sort()`.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Depending on the context, using <code>java.util.LinkedHashMap&lt;T&gt;</code> which rememebers the order in which items are placed into the map.  Otherwise, if you need to sort values based on their natural ordering, I would recommend maintaining a separate List which can be sorted via <code>Collections.sort()</code>.</p>\n"},{"tags":[],"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1306781991,"creation_date":1221945031,"answer_id":109406,"question_id":109383,"body_markdown":"The commons-collections library contains a solution called [TreeBidiMap][1]. Or, you could have a look at the Google Collections API. It has [TreeMultimap][2] which you could use.\r\n\r\nAnd if you don&#39;t want to use these framework... they come with source code.\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/bidimap/TreeBidiMap.html\r\n  [2]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultimap.html\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>The commons-collections library contains a solution called <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/bidimap/TreeBidiMap.html\" rel=\"noreferrer\">TreeBidiMap</a>. Or, you could have a look at the Google Collections API. It has <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultimap.html\" rel=\"noreferrer\">TreeMultimap</a> which you could use.</p>\n\n<p>And if you don't want to use these framework... they come with source code.</p>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":16,"up_vote_count":8,"is_accepted":false,"score":-8,"last_activity_date":1221945402,"creation_date":1221945036,"answer_id":109407,"question_id":109383,"body_markdown":"If your Map values implement Comparable (e.g. String), this should work\r\n\r\n    Map&lt;Object, String&gt; map = new HashMap&lt;Object, String&gt;();\r\n    // Populate the Map\r\n    List&lt;String&gt; mapValues = new ArrayList&lt;String&gt;(map.values());\r\n    Collections.sort(mapValues);\r\n\r\nIf the map values themselves don&#39;t implement Comparable, but you have an instance of Comparable that can sort them, replace the last line with this:\r\n\r\n    Collections.sort(mapValues, comparable);\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If your Map values implement Comparable (e.g. String), this should work</p>\n\n<pre><code>Map&lt;Object, String&gt; map = new HashMap&lt;Object, String&gt;();\n// Populate the Map\nList&lt;String&gt; mapValues = new ArrayList&lt;String&gt;(map.values());\nCollections.sort(mapValues);\n</code></pre>\n\n<p>If the map values themselves don't implement Comparable, but you have an instance of Comparable that can sort them, replace the last line with this:</p>\n\n<pre><code>Collections.sort(mapValues, comparable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1306784642,"creation_date":1221946417,"answer_id":109495,"question_id":109383,"body_markdown":"For sorting upon the keys I found a better solution with a TreeMap (I will try to get a solution for value based sorting ready too):\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\r\n        unsorted.put(&quot;Cde&quot;, &quot;Cde_Value&quot;);\r\n        unsorted.put(&quot;Abc&quot;, &quot;Abc_Value&quot;);\r\n        unsorted.put(&quot;Bcd&quot;, &quot;Bcd_Value&quot;);\r\n\r\n        Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\r\n            @Override\r\n            public int compare(String o1, String o2) {\r\n                return o1.compareTo(o2);\r\n            }};\r\n\r\n        Map&lt;String, String&gt; sorted = new TreeMap&lt;String, String&gt;(comparer);\r\n        sorted.putAll(unsorted);\r\n        System.out.println(sorted);\r\n    }\r\n\r\nOutput would be:\r\n\r\n{Abc=Abc_Value, Bcd=Bcd_Value, Cde=Cde_Value}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>For sorting upon the keys I found a better solution with a TreeMap (I will try to get a solution for value based sorting ready too):</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\n    unsorted.put(\"Cde\", \"Cde_Value\");\n    unsorted.put(\"Abc\", \"Abc_Value\");\n    unsorted.put(\"Bcd\", \"Bcd_Value\");\n\n    Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            return o1.compareTo(o2);\n        }};\n\n    Map&lt;String, String&gt; sorted = new TreeMap&lt;String, String&gt;(comparer);\n    sorted.putAll(unsorted);\n    System.out.println(sorted);\n}\n</code></pre>\n\n<p>Output would be:</p>\n\n<p>{Abc=Abc_Value, Bcd=Bcd_Value, Cde=Cde_Value}</p>\n"},{"tags":[],"owner":{"account_id":193,"reputation":390,"user_id":237,"display_name":"yoliho"},"down_vote_count":13,"up_vote_count":2,"is_accepted":false,"score":-11,"last_activity_date":1221950851,"creation_date":1221950851,"answer_id":109667,"question_id":109383,"body_markdown":"Use **[java.util.TreeMap][1]**.\r\n\r\n&quot;The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.&quot;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Use <strong><a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">java.util.TreeMap</a></strong>.</p>\n\n<p>\"The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.\"</p>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1222894948,"creation_date":1221954114,"answer_id":109787,"question_id":109383,"body_markdown":"Sorting the keys requires the Comparator to look up each value for each comparison. A more scalable solution would use the entrySet directly, since then the value would be immediately available for each comparison (although I haven&#39;t backed this up by numbers).\r\n\r\nHere&#39;s a generic version of such a thing:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue(Map&lt;K, V&gt; map) {\r\n        final int size = map.size();\r\n        final List&lt;Map.Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(size);\r\n        list.addAll(map.entrySet());\r\n        final ValueComparator&lt;V&gt; cmp = new ValueComparator&lt;V&gt;();\r\n        Collections.sort(list, cmp);\r\n        final List&lt;K&gt; keys = new ArrayList&lt;K&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            keys.set(i, list.get(i).getKey());\r\n        }\r\n        return keys;\r\n    }\r\n\r\n    private static final class ValueComparator&lt;V extends Comparable&lt;? super V&gt;&gt;\r\n                                         implements Comparator&lt;Map.Entry&lt;?, V&gt;&gt; {\r\n        public int compare(Map.Entry&lt;?, V&gt; o1, Map.Entry&lt;?, V&gt; o2) {\r\n            return o1.getValue().compareTo(o2.getValue());\r\n        }\r\n    }\r\n\r\nThere are ways to lessen memory rotation for the above solution. The first ArrayList created could for instance be re-used as a return value; this would require suppression of some generics warnings, but it might be worth it for re-usable library code. Also,  the Comparator does not have to be re-allocated at every invocation.\r\n\r\nHere&#39;s a more efficient albeit less appealing version:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue2(Map&lt;K, V&gt; map) {\r\n        final int size = map.size();\r\n        final List reusedList = new ArrayList(size);\r\n        final List&lt;Map.Entry&lt;K, V&gt;&gt; meView = reusedList;\r\n        meView.addAll(map.entrySet());\r\n        Collections.sort(meView, SINGLE);\r\n        final List&lt;K&gt; keyView = reusedList;\r\n        for (int i = 0; i &lt; size; i++) {\r\n            keyView.set(i, meView.get(i).getKey());\r\n        }\r\n        return keyView;\r\n    }\r\n\r\n    private static final Comparator SINGLE = new ValueComparator();\r\n\r\n\r\n\r\n\r\nFinally, if you need to continously access the sorted information (rather than just sorting it once in a while), you can use an additional multi map. Let me know if you need more details...\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Sorting the keys requires the Comparator to look up each value for each comparison. A more scalable solution would use the entrySet directly, since then the value would be immediately available for each comparison (although I haven't backed this up by numbers).</p>\n\n<p>Here's a generic version of such a thing:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue(Map&lt;K, V&gt; map) {\n    final int size = map.size();\n    final List&lt;Map.Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(size);\n    list.addAll(map.entrySet());\n    final ValueComparator&lt;V&gt; cmp = new ValueComparator&lt;V&gt;();\n    Collections.sort(list, cmp);\n    final List&lt;K&gt; keys = new ArrayList&lt;K&gt;(size);\n    for (int i = 0; i &lt; size; i++) {\n        keys.set(i, list.get(i).getKey());\n    }\n    return keys;\n}\n\nprivate static final class ValueComparator&lt;V extends Comparable&lt;? super V&gt;&gt;\n                                     implements Comparator&lt;Map.Entry&lt;?, V&gt;&gt; {\n    public int compare(Map.Entry&lt;?, V&gt; o1, Map.Entry&lt;?, V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n}\n</code></pre>\n\n<p>There are ways to lessen memory rotation for the above solution. The first ArrayList created could for instance be re-used as a return value; this would require suppression of some generics warnings, but it might be worth it for re-usable library code. Also,  the Comparator does not have to be re-allocated at every invocation.</p>\n\n<p>Here's a more efficient albeit less appealing version:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue2(Map&lt;K, V&gt; map) {\n    final int size = map.size();\n    final List reusedList = new ArrayList(size);\n    final List&lt;Map.Entry&lt;K, V&gt;&gt; meView = reusedList;\n    meView.addAll(map.entrySet());\n    Collections.sort(meView, SINGLE);\n    final List&lt;K&gt; keyView = reusedList;\n    for (int i = 0; i &lt; size; i++) {\n        keyView.set(i, meView.get(i).getKey());\n    }\n    return keyView;\n}\n\nprivate static final Comparator SINGLE = new ValueComparator();\n</code></pre>\n\n<p>Finally, if you need to continously access the sorted information (rather than just sorting it once in a while), you can use an additional multi map. Let me know if you need more details...</p>\n"},{"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1221961021,"creation_date":1221961021,"answer_id":109958,"question_id":109383,"body_markdown":"Okay, this version works with two new Map objects and two iterations and sorts on values. Hope, the performs well although the map entries must be looped twice:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\r\n\t\tunsorted.put(&quot;Cde&quot;, &quot;Cde_Value&quot;);\r\n\t\tunsorted.put(&quot;Abc&quot;, &quot;Abc_Value&quot;);\r\n\t\tunsorted.put(&quot;Bcd&quot;, &quot;Bcd_Value&quot;);\r\n\r\n\t\tComparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String o1, String o2) {\r\n\t\t\t\treturn o1.compareTo(o2);\r\n\t\t\t}};\r\n\t\t\r\n\t\tSystem.out.println(sortByValue(unsorted, comparer));\r\n\t\t\t\t\r\n\t}\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K,V&gt; sortByValue(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\r\n\t\tMap&lt;V, K&gt; swapped = new TreeMap&lt;V, K&gt;(compare);\r\n\t\tfor(Entry&lt;K,V&gt; entry: in.entrySet()) {\r\n\t\t\tif (entry.getValue() != null) {\r\n\t\t\t\tswapped.put(entry.getValue(), entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\n\t\tLinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n\t\tfor(Entry&lt;V,K&gt; entry: swapped.entrySet()) {\r\n\t\t\tif (entry.getValue() != null) {\r\n\t\t\t\tresult.put(entry.getValue(), entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nThe solution uses a TreeMap with a Comparator and sorts out all null keys and values. First, the ordering functionality from the TreeMap is used to sort upon the values, next the sorted Map is used to create a result as a LinkedHashMap that retains has the same order of values.\r\n\r\nGreetz, GHad","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Okay, this version works with two new Map objects and two iterations and sorts on values. Hope, the performs well although the map entries must be looped twice:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\n    unsorted.put(\"Cde\", \"Cde_Value\");\n    unsorted.put(\"Abc\", \"Abc_Value\");\n    unsorted.put(\"Bcd\", \"Bcd_Value\");\n\n    Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            return o1.compareTo(o2);\n        }};\n\n    System.out.println(sortByValue(unsorted, comparer));\n\n}\n\npublic static &lt;K, V&gt; Map&lt;K,V&gt; sortByValue(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\n    Map&lt;V, K&gt; swapped = new TreeMap&lt;V, K&gt;(compare);\n    for(Entry&lt;K,V&gt; entry: in.entrySet()) {\n        if (entry.getValue() != null) {\n            swapped.put(entry.getValue(), entry.getKey());\n        }\n    }\n    LinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n    for(Entry&lt;V,K&gt; entry: swapped.entrySet()) {\n        if (entry.getValue() != null) {\n            result.put(entry.getValue(), entry.getKey());\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>The solution uses a TreeMap with a Comparator and sorts out all null keys and values. First, the ordering functionality from the TreeMap is used to sort upon the values, next the sorted Map is used to create a result as a LinkedHashMap that retains has the same order of values.</p>\n\n<p>Greetz, GHad</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222009401,"creation_date":1222009401,"answer_id":111183,"question_id":109383,"body_markdown":"When I&#39;m faced with this, I just create a list on the side. If you put them together in a custom Map implementation, it&#39;ll have a nice feel to it... You can use something like the following, performing the sort only when needed. (Note: I haven&#39;t really tested this, but it compiles... might be a silly little bug in there somewhere)\r\n\r\n(If you want it sorted by both keys and values, have the class extend TreeMap, don&#39;t define the accessor methods, and have the mutators call super.xxxxx instead of map_.xxxx)\r\n\r\n    package com.javadude.sample;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class SortedValueHashMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\r\n        private Map&lt;K, V&gt; map_ = new HashMap&lt;K, V&gt;();\r\n        private List&lt;V&gt; valueList_ = new ArrayList&lt;V&gt;();\r\n        private boolean needsSort_ = false;\r\n        private Comparator&lt;V&gt; comparator_;\r\n    \r\n        public SortedValueHashMap() {\r\n        }\r\n        public SortedValueHashMap(List&lt;V&gt; valueList) {\r\n            valueList_ = valueList;\r\n        }\r\n    \r\n        public List&lt;V&gt; sortedValues() {\r\n            if (needsSort_) {\r\n                needsSort_ = false;\r\n                Collections.sort(valueList_, comparator_);\r\n            }\r\n            return valueList_;\r\n        }\r\n    \r\n        // mutators\r\n        public void clear() {\r\n            map_.clear();\r\n            valueList_.clear();\r\n            needsSort_ = false;\r\n        }\r\n    \r\n        public V put(K key, V value) {\r\n            valueList_.add(value);\r\n            needsSort_ = true;\r\n            return map_.put(key, value);\r\n        }\r\n    \r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n            map_.putAll(m);\r\n            valueList_.addAll(m.values());\r\n            needsSort_ = true;\r\n        }\r\n    \r\n        public V remove(Object key) {\r\n            V value = map_.remove(key);\r\n            valueList_.remove(value);\r\n            return value;\r\n        }\r\n    \r\n        // accessors\r\n        public boolean containsKey(Object key)           { return map_.containsKey(key); }\r\n        public boolean containsValue(Object value)       { return map_.containsValue(value); }\r\n        public Set&lt;java.util.Map.Entry&lt;K, V&gt;&gt; entrySet() { return map_.entrySet(); }\r\n        public boolean equals(Object o)                  { return map_.equals(o); }\r\n        public V get(Object key)                         { return map_.get(key); }\r\n        public int hashCode()                            { return map_.hashCode(); }\r\n        public boolean isEmpty()                         { return map_.isEmpty(); }\r\n        public Set&lt;K&gt; keySet()                           { return map_.keySet(); }\r\n        public int size()                                { return map_.size(); }\r\n        public Collection&lt;V&gt; values()                    { return map_.values(); }\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>When I'm faced with this, I just create a list on the side. If you put them together in a custom Map implementation, it'll have a nice feel to it... You can use something like the following, performing the sort only when needed. (Note: I haven't really tested this, but it compiles... might be a silly little bug in there somewhere)</p>\n\n<p>(If you want it sorted by both keys and values, have the class extend TreeMap, don't define the accessor methods, and have the mutators call super.xxxxx instead of map_.xxxx)</p>\n\n<pre><code>package com.javadude.sample;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class SortedValueHashMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\n    private Map&lt;K, V&gt; map_ = new HashMap&lt;K, V&gt;();\n    private List&lt;V&gt; valueList_ = new ArrayList&lt;V&gt;();\n    private boolean needsSort_ = false;\n    private Comparator&lt;V&gt; comparator_;\n\n    public SortedValueHashMap() {\n    }\n    public SortedValueHashMap(List&lt;V&gt; valueList) {\n        valueList_ = valueList;\n    }\n\n    public List&lt;V&gt; sortedValues() {\n        if (needsSort_) {\n            needsSort_ = false;\n            Collections.sort(valueList_, comparator_);\n        }\n        return valueList_;\n    }\n\n    // mutators\n    public void clear() {\n        map_.clear();\n        valueList_.clear();\n        needsSort_ = false;\n    }\n\n    public V put(K key, V value) {\n        valueList_.add(value);\n        needsSort_ = true;\n        return map_.put(key, value);\n    }\n\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        map_.putAll(m);\n        valueList_.addAll(m.values());\n        needsSort_ = true;\n    }\n\n    public V remove(Object key) {\n        V value = map_.remove(key);\n        valueList_.remove(value);\n        return value;\n    }\n\n    // accessors\n    public boolean containsKey(Object key)           { return map_.containsKey(key); }\n    public boolean containsValue(Object value)       { return map_.containsValue(value); }\n    public Set&lt;java.util.Map.Entry&lt;K, V&gt;&gt; entrySet() { return map_.entrySet(); }\n    public boolean equals(Object o)                  { return map_.equals(o); }\n    public V get(Object key)                         { return map_.get(key); }\n    public int hashCode()                            { return map_.hashCode(); }\n    public boolean isEmpty()                         { return map_.isEmpty(); }\n    public Set&lt;K&gt; keySet()                           { return map_.keySet(); }\n    public int size()                                { return map_.size(); }\n    public Collection&lt;V&gt; values()                    { return map_.values(); }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7526,"reputation":1163,"user_id":13121,"accept_rate":56,"display_name":"Lyudmil"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1222217907,"creation_date":1222144240,"answer_id":119143,"question_id":109383,"body_markdown":"While I agree that the constant need to sort a map is probably a smell, I think the following code is the easiest way to do it without using a different data structure.\r\n\r\n    public class MapUtilities {\r\n\r\n\tpublic static &lt;K, V extends Comparable&lt;V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t\tList&lt;Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\tCollections.sort(entries, new ByValue&lt;K, V&gt;());\r\n\t\treturn entries;\r\n\t}\r\n\t\r\n\tprivate static class ByValue&lt;K, V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;Entry&lt;K, V&gt;&gt; {\r\n\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t}\r\n\t}\r\n}\r\n\r\nAnd here is an embarrassingly incomplete unit test:\r\n\r\n    public class MapUtilitiesTest extends TestCase {\r\n\tpublic void testSorting() {\r\n\t\tHashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n\t\tmap.put(&quot;One&quot;, 1);\r\n\t\tmap.put(&quot;Two&quot;, 2);\r\n\t\tmap.put(&quot;Three&quot;, 3);\r\n\r\n\t\tList&lt;Map.Entry&lt;String, Integer&gt;&gt; sorted = MapUtilities.sortByValue(map);\r\n\t\tassertEquals(&quot;First&quot;, &quot;One&quot;, sorted.get(0).getKey());\r\n\t\tassertEquals(&quot;Second&quot;, &quot;Two&quot;, sorted.get(1).getKey());\r\n\t\tassertEquals(&quot;Third&quot;, &quot;Three&quot;, sorted.get(2).getKey());\r\n\t}\r\n}\r\n\r\nThe result is a sorted list of Map.Entry objects, from which you can obtain the keys and values.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>While I agree that the constant need to sort a map is probably a smell, I think the following code is the easiest way to do it without using a different data structure.</p>\n\n<pre><code>public class MapUtilities {\n\npublic static &lt;K, V extends Comparable&lt;V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sortByValue(Map&lt;K, V&gt; map) {\n    List&lt;Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(map.entrySet());\n    Collections.sort(entries, new ByValue&lt;K, V&gt;());\n    return entries;\n}\n\nprivate static class ByValue&lt;K, V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;Entry&lt;K, V&gt;&gt; {\n    public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And here is an embarrassingly incomplete unit test:</p>\n\n<pre><code>public class MapUtilitiesTest extends TestCase {\npublic void testSorting() {\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"One\", 1);\n    map.put(\"Two\", 2);\n    map.put(\"Three\", 3);\n\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; sorted = MapUtilities.sortByValue(map);\n    assertEquals(\"First\", \"One\", sorted.get(0).getKey());\n    assertEquals(\"Second\", \"Two\", sorted.get(1).getKey());\n    assertEquals(\"Third\", \"Three\", sorted.get(2).getKey());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The result is a sorted list of Map.Entry objects, from which you can obtain the keys and values.</p>\n"},{"tags":[],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1239716669,"creation_date":1239716669,"answer_id":747627,"question_id":109383,"body_markdown":"Based on @devinmoore code, a map sorting methods using generics and supporting both ascending and descending ordering.\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s keys in ascending order. \r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map) {\r\n\t\treturn sortMapByKey(map, SortingOrder.ASCENDING);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s values in ascending order.\r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map) {\r\n\t\treturn sortMapByValue(map, SortingOrder.ASCENDING);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s keys.\r\n\t *  \r\n\t * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\r\n\t\tComparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn comparableCompare(o1.getKey(), o2.getKey(), sortingOrder);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn sortMap(map, comparator);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s values.\r\n\t *  \r\n\t * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\r\n\t\tComparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn comparableCompare(o1.getValue(), o2.getValue(), sortingOrder);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn sortMap(map, comparator);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate static &lt;T&gt; int comparableCompare(T o1, T o2, SortingOrder sortingOrder) {\r\n\t\tint compare = ((Comparable&lt;T&gt;)o1).compareTo(o2);\r\n\t\t\r\n\t\tswitch (sortingOrder) {\r\n\t\tcase ASCENDING:\r\n\t\t\treturn compare;\r\n\t\tcase DESCENDING:\r\n\t\t\treturn (-1) * compare;\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sort a map by supplied comparator logic.\r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMap(final Map&lt;K, V&gt; map, final Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator) {\r\n\t\t// Convert the map into a list of key,value pairs.\r\n\t\tList&lt;Map.Entry&lt;K, V&gt;&gt; mapEntries = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\t\r\n\t\t// Sort the converted list according to supplied comparator.\r\n\t\tCollections.sort(mapEntries, comparator);\r\n\r\n\t\t// Build a new ordered map, containing the same entries as the old map.  \r\n\t\tLinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;(map.size() + (map.size() / 20));\r\n\t\tfor(Map.Entry&lt;K, V&gt; entry : mapEntries) {\r\n\t\t\t// We iterate on the mapEntries list which is sorted by the comparator putting new entries into \r\n\t\t\t// the targeted result which is a sorted map. \r\n\t\t\tresult.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sorting order enum, specifying request result sort behavior.\r\n\t * @author Maxim Veksler\r\n\t *\r\n\t */\r\n\tpublic static enum SortingOrder {\r\n\t\t/**\r\n\t\t * Resulting sort will be from smaller to biggest.\r\n\t\t */\r\n\t\tASCENDING,\r\n\t\t/**\r\n\t\t * Resulting sort will be from biggest to smallest.\r\n\t\t */\r\n\t\tDESCENDING\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Based on @devinmoore code, a map sorting methods using generics and supporting both ascending and descending ordering.</p>\n\n<pre><code>/**\n * Sort a map by it's keys in ascending order. \n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map) {\n    return sortMapByKey(map, SortingOrder.ASCENDING);\n}\n\n/**\n * Sort a map by it's values in ascending order.\n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map) {\n    return sortMapByValue(map, SortingOrder.ASCENDING);\n}\n\n/**\n * Sort a map by it's keys.\n *  \n * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\n    Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return comparableCompare(o1.getKey(), o2.getKey(), sortingOrder);\n        }\n    };\n\n    return sortMap(map, comparator);\n}\n\n/**\n * Sort a map by it's values.\n *  \n * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\n    Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return comparableCompare(o1.getValue(), o2.getValue(), sortingOrder);\n        }\n    };\n\n    return sortMap(map, comparator);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; int comparableCompare(T o1, T o2, SortingOrder sortingOrder) {\n    int compare = ((Comparable&lt;T&gt;)o1).compareTo(o2);\n\n    switch (sortingOrder) {\n    case ASCENDING:\n        return compare;\n    case DESCENDING:\n        return (-1) * compare;\n    }\n\n    return 0;\n}\n\n/**\n * Sort a map by supplied comparator logic.\n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMap(final Map&lt;K, V&gt; map, final Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator) {\n    // Convert the map into a list of key,value pairs.\n    List&lt;Map.Entry&lt;K, V&gt;&gt; mapEntries = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\n\n    // Sort the converted list according to supplied comparator.\n    Collections.sort(mapEntries, comparator);\n\n    // Build a new ordered map, containing the same entries as the old map.  \n    LinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;(map.size() + (map.size() / 20));\n    for(Map.Entry&lt;K, V&gt; entry : mapEntries) {\n        // We iterate on the mapEntries list which is sorted by the comparator putting new entries into \n        // the targeted result which is a sorted map. \n        result.put(entry.getKey(), entry.getValue());\n    }\n\n    return result;\n}\n\n/**\n * Sorting order enum, specifying request result sort behavior.\n * @author Maxim Veksler\n *\n */\npublic static enum SortingOrder {\n    /**\n     * Resulting sort will be from smaller to biggest.\n     */\n    ASCENDING,\n    /**\n     * Resulting sort will be from biggest to smallest.\n     */\n    DESCENDING\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52601,"reputation":1005,"user_id":157196,"display_name":"user157196"},"down_vote_count":89,"up_vote_count":520,"is_accepted":false,"score":431,"last_activity_date":1461022880,"creation_date":1250409192,"answer_id":1283722,"question_id":109383,"body_markdown":"### Important note:\n\n**This code can break in multiple ways.** If you intend to use the code provided, be sure to read the comments as well to be aware of the implications. For example, values can no longer be retrieved by their key. (`get` always returns `null`.)\n\n---\n\nIt seems much easier than all of the foregoing. Use a TreeMap as follows:\n    \n    public class Testing {\n        public static void main(String[] args) {\n            HashMap&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\n            ValueComparator bvc = new ValueComparator(map);\n            TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n    \n            map.put(&quot;A&quot;, 99.5);\n            map.put(&quot;B&quot;, 67.4);\n            map.put(&quot;C&quot;, 67.4);\n            map.put(&quot;D&quot;, 67.3);\n    \n            System.out.println(&quot;unsorted map: &quot; + map);\n            sorted_map.putAll(map);\n            System.out.println(&quot;results: &quot; + sorted_map);\n        }\n    }\n    \n    class ValueComparator implements Comparator&lt;String&gt; {\n        Map&lt;String, Double&gt; base;\n    \n        public ValueComparator(Map&lt;String, Double&gt; base) {\n            this.base = base;\n        }\n    \n        // Note: this comparator imposes orderings that are inconsistent with\n        // equals.\n        public int compare(String a, String b) {\n            if (base.get(a) &gt;= base.get(b)) {\n                return -1;\n            } else {\n                return 1;\n            } // returning 0 would merge keys\n        }\n    }\n\nOutput:\n\n    unsorted map: {D=67.3, A=99.5, B=67.4, C=67.4}\n    results: {D=67.3, B=67.4, C=67.4, A=99.5}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<h3>Important note:</h3>\n<p><strong>This code can break in multiple ways.</strong> If you intend to use the code provided, be sure to read the comments as well to be aware of the implications. For example, values can no longer be retrieved by their key. (<code>get</code> always returns <code>null</code>.)</p>\n<hr />\n<p>It seems much easier than all of the foregoing. Use a TreeMap as follows:</p>\n<pre><code>public class Testing {\n    public static void main(String[] args) {\n        HashMap&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\n        ValueComparator bvc = new ValueComparator(map);\n        TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n\n        map.put(&quot;A&quot;, 99.5);\n        map.put(&quot;B&quot;, 67.4);\n        map.put(&quot;C&quot;, 67.4);\n        map.put(&quot;D&quot;, 67.3);\n\n        System.out.println(&quot;unsorted map: &quot; + map);\n        sorted_map.putAll(map);\n        System.out.println(&quot;results: &quot; + sorted_map);\n    }\n}\n\nclass ValueComparator implements Comparator&lt;String&gt; {\n    Map&lt;String, Double&gt; base;\n\n    public ValueComparator(Map&lt;String, Double&gt; base) {\n        this.base = base;\n    }\n\n    // Note: this comparator imposes orderings that are inconsistent with\n    // equals.\n    public int compare(String a, String b) {\n        if (base.get(a) &gt;= base.get(b)) {\n            return -1;\n        } else {\n            return 1;\n        } // returning 0 would merge keys\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>unsorted map: {D=67.3, A=99.5, B=67.4, C=67.4}\nresults: {D=67.3, B=67.4, C=67.4, A=99.5}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1330188282,"creation_date":1264106079,"answer_id":2112659,"question_id":109383,"body_markdown":"I&#39;ve looked at the given answers, but a lot of them are more complicated than needed or remove map elements when several keys have same value.\r\n\r\nHere is a solution that I think fits better:\r\n\r\n    public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues(final Map&lt;K, V&gt; map) {\r\n        Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\r\n            public int compare(K k1, K k2) {\r\n                int compare = map.get(k2).compareTo(map.get(k1));\r\n                if (compare == 0) return 1;\r\n                else return compare;\r\n            }\r\n        };\r\n        Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\r\n        sortedByValues.putAll(map);\r\n        return sortedByValues;\r\n    }\r\n\r\nNote that the map is sorted from the highest value to the lowest.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I've looked at the given answers, but a lot of them are more complicated than needed or remove map elements when several keys have same value.</p>\n\n<p>Here is a solution that I think fits better:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues(final Map&lt;K, V&gt; map) {\n    Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\n        public int compare(K k1, K k2) {\n            int compare = map.get(k2).compareTo(map.get(k1));\n            if (compare == 0) return 1;\n            else return compare;\n        }\n    };\n    Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\n    sortedByValues.putAll(map);\n    return sortedByValues;\n}\n</code></pre>\n\n<p>Note that the map is sorted from the highest value to the lowest.</p>\n"},{"tags":[],"owner":{"account_id":118523,"reputation":2655,"user_id":309596,"display_name":"Carter Page"},"down_vote_count":2,"up_vote_count":1011,"is_accepted":false,"score":1009,"last_activity_date":1522713627,"creation_date":1270509845,"answer_id":2581754,"question_id":109383,"body_markdown":"Here&#39;s a generic-friendly version:\r\n\r\n\tpublic class MapUtil {\r\n\t    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n\t        list.sort(Entry.comparingByValue());\r\n\t\r\n\t        Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\r\n\t        for (Entry&lt;K, V&gt; entry : list) {\r\n\t            result.put(entry.getKey(), entry.getValue());\r\n\t        }\r\n\t        \r\n\t        return result;\r\n\t    }\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here's a generic-friendly version:</p>\n\n<pre><code>public class MapUtil {\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\n        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n        list.sort(Entry.comparingByValue());\n\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\n        for (Entry&lt;K, V&gt; entry : list) {\n            result.put(entry.getKey(), entry.getValue());\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":614271,"reputation":11,"user_id":336642,"display_name":"Darkless"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1325194431,"creation_date":1273412459,"answer_id":2797784,"question_id":109383,"body_markdown":"This is just too complicated. Maps were not supposed to do such job as sorting them by Value. The easiest way is to create your own Class so it fits your requirement.\r\n\r\nIn example lower you are supposed to add TreeMap a comparator at place where * is. But by java API it gives comparator only keys, not values. All of examples stated here is based on 2 Maps. One Hash and one new Tree. Which is odd.\r\n\r\nThe example:\r\n\r\n    Map&lt;Driver driver, Float time&gt; map = new TreeMap&lt;Driver driver, Float time&gt;(*);\r\n\r\nSo change the map into a set this way:\r\n\r\n    ResultComparator rc = new ResultComparator();\r\n    Set&lt;Results&gt; set = new TreeSet&lt;Results&gt;(rc);\r\n\r\nYou will create class `Results`,\r\n\r\n    public class Results {\r\n        private Driver driver;\r\n        private Float time;\r\n\r\n        public Results(Driver driver, Float time) {\r\n            this.driver = driver;\r\n            this.time = time;\r\n        }\r\n\r\n        public Float getTime() {\r\n            return time;\r\n        }\r\n\r\n        public void setTime(Float time) {\r\n            this.time = time;\r\n        }\r\n\r\n        public Driver getDriver() {\r\n            return driver;\r\n        }\r\n\r\n        public void setDriver (Driver driver) {\r\n            this.driver = driver;\r\n        }\r\n    }\r\n\r\nand the Comparator class:\r\n\r\n    public class ResultsComparator implements Comparator&lt;Results&gt; {\r\n        public int compare(Results t, Results t1) {\r\n            if (t.getTime() &lt; t1.getTime()) {\r\n                return 1;\r\n            } else if (t.getTime() == t1.getTime()) {\r\n                return 0;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\nThis way you can easily add more dependencies.\r\n\r\nAnd as the last point I&#39;ll add simple iterator:\r\n\r\n    Iterator it = set.iterator();\r\n    while (it.hasNext()) {\r\n        Results r = (Results)it.next();\r\n        System.out.println( r.getDriver().toString\r\n            //or whatever that is related to Driver class -getName() getSurname()\r\n            + &quot; &quot;\r\n            + r.getTime()\r\n            );\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This is just too complicated. Maps were not supposed to do such job as sorting them by Value. The easiest way is to create your own Class so it fits your requirement.</p>\n\n<p>In example lower you are supposed to add TreeMap a comparator at place where * is. But by java API it gives comparator only keys, not values. All of examples stated here is based on 2 Maps. One Hash and one new Tree. Which is odd.</p>\n\n<p>The example:</p>\n\n<pre><code>Map&lt;Driver driver, Float time&gt; map = new TreeMap&lt;Driver driver, Float time&gt;(*);\n</code></pre>\n\n<p>So change the map into a set this way:</p>\n\n<pre><code>ResultComparator rc = new ResultComparator();\nSet&lt;Results&gt; set = new TreeSet&lt;Results&gt;(rc);\n</code></pre>\n\n<p>You will create class <code>Results</code>,</p>\n\n<pre><code>public class Results {\n    private Driver driver;\n    private Float time;\n\n    public Results(Driver driver, Float time) {\n        this.driver = driver;\n        this.time = time;\n    }\n\n    public Float getTime() {\n        return time;\n    }\n\n    public void setTime(Float time) {\n        this.time = time;\n    }\n\n    public Driver getDriver() {\n        return driver;\n    }\n\n    public void setDriver (Driver driver) {\n        this.driver = driver;\n    }\n}\n</code></pre>\n\n<p>and the Comparator class:</p>\n\n<pre><code>public class ResultsComparator implements Comparator&lt;Results&gt; {\n    public int compare(Results t, Results t1) {\n        if (t.getTime() &lt; t1.getTime()) {\n            return 1;\n        } else if (t.getTime() == t1.getTime()) {\n            return 0;\n        } else {\n            return -1;\n        }\n    }\n}\n</code></pre>\n\n<p>This way you can easily add more dependencies.</p>\n\n<p>And as the last point I'll add simple iterator:</p>\n\n<pre><code>Iterator it = set.iterator();\nwhile (it.hasNext()) {\n    Results r = (Results)it.next();\n    System.out.println( r.getDriver().toString\n        //or whatever that is related to Driver class -getName() getSurname()\n        + \" \"\n        + r.getTime()\n        );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"down_vote_count":1,"up_vote_count":215,"is_accepted":false,"score":214,"last_activity_date":1374534899,"creation_date":1281067181,"answer_id":3420912,"question_id":109383,"body_markdown":"**Three 1-line answers...**\r\n\r\nI would use &lt;s&gt;Google Collections&lt;/s&gt; [**Guava**][1] to do this - if your values are `Comparable` then you can use\r\n\r\n    valueComparator = Ordering.natural().onResultOf(Functions.forMap(map))\r\n\r\nWhich will create a function (object) for the map [that takes any of the keys as input, returning the respective value], and then apply natural (comparable) ordering to them [the values].\r\n\r\nIf they&#39;re not comparable, then you&#39;ll need to do something along the lines of\r\n\r\n    valueComparator = Ordering.from(comparator).onResultOf(Functions.forMap(map)) \r\n\r\nThese may be applied to a TreeMap (as `Ordering` extends `Comparator`), or a [LinkedHashMap after some sorting][2]\r\n\r\n_NB_: If you are going to use a TreeMap, remember that if a comparison == 0, then the item is already in the list (which will happen if you have multiple values that compare the same).  To alleviate this, you could add your key to the comparator like so (presuming that your keys and values are `Comparable`):\r\n\r\n    valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compound(Ordering.natural())\r\n\r\n= _Apply natural ordering to the value mapped by the key, and compound that with the natural ordering of the key_\r\n\r\nNote that this will still not work if your keys compare to 0, but this should be sufficient for most `comparable` items (as `hashCode`, `equals` and `compareTo` are often in sync...)\r\n\r\nSee [Ordering.onResultOf()][3] and [Functions.forMap()][4].\r\n\r\n&lt;h2&gt;Implementation&lt;/h2&gt;\r\n\r\nSo now that we&#39;ve got a comparator that does what we want, we need to get a result from it. \r\n\r\n    map = ImmutableSortedMap.copyOf(myOriginalMap, valueComparator);\r\n\r\nNow this will most likely work work, but:\r\n\r\n1. needs to be done given a complete finished map\r\n1. Don&#39;t try the comparators above on a `TreeMap`; there&#39;s no point trying to compare an inserted key when it doesn&#39;t have a value until after the put, i.e., it will break really fast\r\n\r\nPoint 1 is a bit of a deal-breaker for me; google collections is incredibly lazy (which is good: you can do pretty much every operation in an instant; the real work is done when you start using the result), and this requires copying a *whole* map!\r\n\r\n&lt;h2&gt;&quot;Full&quot; answer/Live sorted map by values&lt;/h2&gt;\r\n\r\nDon&#39;t worry though; if you were obsessed enough with having a &quot;live&quot; map sorted in this manner, you could solve not one but both(!) of the above issues with something crazy like the following:\r\n\r\n**Note: This has changed significantly in June 2012 - the previous code could never work: an internal HashMap is required to lookup the values without creating an infinite loop between the `TreeMap.get()` -&gt; `compare()` and `compare()` -&gt; `get()`**\r\n\r\n\timport static org.junit.Assert.assertEquals;\r\n\t\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\timport java.util.TreeMap;\r\n\t\r\n\timport com.google.common.base.Functions;\r\n\timport com.google.common.collect.Ordering;\r\n\t\r\n\tclass ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt; {\r\n\t\t//A map for doing lookups on the keys for comparison so we don&#39;t get infinite loops\r\n\t\tprivate final Map&lt;K, V&gt; valueMap;\r\n\t\r\n\t\tValueComparableMap(final Ordering&lt;? super V&gt; partialValueOrdering) {\r\n\t        this(partialValueOrdering, new HashMap&lt;K,V&gt;());\r\n\t    }\r\n\t\r\n\t\tprivate ValueComparableMap(Ordering&lt;? super V&gt; partialValueOrdering,\r\n\t\t\t\tHashMap&lt;K, V&gt; valueMap) {\r\n\t\t\tsuper(partialValueOrdering //Apply the value ordering\r\n\t\t\t\t\t.onResultOf(Functions.forMap(valueMap)) //On the result of getting the value for the key from the map\r\n\t\t\t\t\t.compound(Ordering.natural())); //as well as ensuring that the keys don&#39;t get clobbered\r\n\t\t\tthis.valueMap = valueMap;\r\n\t\t}\r\n\t\r\n\t    public V put(K k, V v) {\r\n\t    \tif (valueMap.containsKey(k)){\r\n\t    \t\t//remove the key in the sorted set before adding the key again\r\n\t    \t\tremove(k);\r\n\t    \t}\r\n\t    \tvalueMap.put(k,v); //To get &quot;real&quot; unsorted values for the comparator\r\n\t    \treturn super.put(k, v); //Put it in value order\r\n\t    }\r\n\t\r\n\t    public static void main(String[] args){\r\n\t    \tTreeMap&lt;String, Integer&gt; map = new ValueComparableMap&lt;String, Integer&gt;(Ordering.natural());\r\n\t    \tmap.put(&quot;a&quot;, 5);\r\n\t    \tmap.put(&quot;b&quot;, 1);\r\n\t    \tmap.put(&quot;c&quot;, 3);\r\n\t    \tassertEquals(&quot;b&quot;,map.firstKey());\r\n\t    \tassertEquals(&quot;a&quot;,map.lastKey());\r\n\t    \tmap.put(&quot;d&quot;,0);\r\n\t    \tassertEquals(&quot;d&quot;,map.firstKey());\r\n\t    \t//ensure it&#39;s still a map (by overwriting a key, but with a new value) \r\n\t    \tmap.put(&quot;d&quot;, 2);\r\n\t    \tassertEquals(&quot;b&quot;, map.firstKey());\r\n\t    \t//Ensure multiple values do not clobber keys\r\n\t    \tmap.put(&quot;e&quot;, 2);\r\n\t    \tassertEquals(5, map.size());\r\n\t    \tassertEquals(2, (int) map.get(&quot;e&quot;));\r\n\t    \tassertEquals(2, (int) map.get(&quot;d&quot;));\r\n\t    }\r\n\t }\r\n\r\nWhen we put, we ensure that the hash map has the value for the comparator, and then put to the TreeSet for sorting. But before that we check the hash map to see that the key is not actually a duplicate. Also, the comparator that we create will also include the key so that duplicate values don&#39;t delete the non-duplicate keys (due to == comparison).\r\nThese 2 items are *vital* for ensuring the map contract is kept; if you think you don&#39;t want that, then you&#39;re almost at the point of reversing the map entirely (to `Map&lt;V,K&gt;`).\r\n\r\nThe constructor would need to be called as \r\n\r\n     new ValueComparableMap(Ordering.natural());\r\n     //or\r\n     new ValueComparableMap(Ordering.from(comparator));\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/109389#109389\r\n  [3]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html#onResultOf(com.google.common.base.Function)\r\n  [4]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Functions.html#forMap(java.util.Map)","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Three 1-line answers...</strong></p>\n\n<p>I would use <s>Google Collections</s> <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\"><strong>Guava</strong></a> to do this - if your values are <code>Comparable</code> then you can use</p>\n\n<pre><code>valueComparator = Ordering.natural().onResultOf(Functions.forMap(map))\n</code></pre>\n\n<p>Which will create a function (object) for the map [that takes any of the keys as input, returning the respective value], and then apply natural (comparable) ordering to them [the values].</p>\n\n<p>If they're not comparable, then you'll need to do something along the lines of</p>\n\n<pre><code>valueComparator = Ordering.from(comparator).onResultOf(Functions.forMap(map)) \n</code></pre>\n\n<p>These may be applied to a TreeMap (as <code>Ordering</code> extends <code>Comparator</code>), or a <a href=\"https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/109389#109389\">LinkedHashMap after some sorting</a></p>\n\n<p><em>NB</em>: If you are going to use a TreeMap, remember that if a comparison == 0, then the item is already in the list (which will happen if you have multiple values that compare the same).  To alleviate this, you could add your key to the comparator like so (presuming that your keys and values are <code>Comparable</code>):</p>\n\n<pre><code>valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compound(Ordering.natural())\n</code></pre>\n\n<p>= <em>Apply natural ordering to the value mapped by the key, and compound that with the natural ordering of the key</em></p>\n\n<p>Note that this will still not work if your keys compare to 0, but this should be sufficient for most <code>comparable</code> items (as <code>hashCode</code>, <code>equals</code> and <code>compareTo</code> are often in sync...)</p>\n\n<p>See <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html#onResultOf(com.google.common.base.Function)\" rel=\"noreferrer\">Ordering.onResultOf()</a> and <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Functions.html#forMap(java.util.Map)\" rel=\"noreferrer\">Functions.forMap()</a>.</p>\n\n<h2>Implementation</h2>\n\n<p>So now that we've got a comparator that does what we want, we need to get a result from it. </p>\n\n<pre><code>map = ImmutableSortedMap.copyOf(myOriginalMap, valueComparator);\n</code></pre>\n\n<p>Now this will most likely work work, but:</p>\n\n<ol>\n<li>needs to be done given a complete finished map</li>\n<li>Don't try the comparators above on a <code>TreeMap</code>; there's no point trying to compare an inserted key when it doesn't have a value until after the put, i.e., it will break really fast</li>\n</ol>\n\n<p>Point 1 is a bit of a deal-breaker for me; google collections is incredibly lazy (which is good: you can do pretty much every operation in an instant; the real work is done when you start using the result), and this requires copying a <em>whole</em> map!</p>\n\n<h2>\"Full\" answer/Live sorted map by values</h2>\n\n<p>Don't worry though; if you were obsessed enough with having a \"live\" map sorted in this manner, you could solve not one but both(!) of the above issues with something crazy like the following:</p>\n\n<p><strong>Note: This has changed significantly in June 2012 - the previous code could never work: an internal HashMap is required to lookup the values without creating an infinite loop between the <code>TreeMap.get()</code> -> <code>compare()</code> and <code>compare()</code> -> <code>get()</code></strong></p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\nimport com.google.common.base.Functions;\nimport com.google.common.collect.Ordering;\n\nclass ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt; {\n    //A map for doing lookups on the keys for comparison so we don't get infinite loops\n    private final Map&lt;K, V&gt; valueMap;\n\n    ValueComparableMap(final Ordering&lt;? super V&gt; partialValueOrdering) {\n        this(partialValueOrdering, new HashMap&lt;K,V&gt;());\n    }\n\n    private ValueComparableMap(Ordering&lt;? super V&gt; partialValueOrdering,\n            HashMap&lt;K, V&gt; valueMap) {\n        super(partialValueOrdering //Apply the value ordering\n                .onResultOf(Functions.forMap(valueMap)) //On the result of getting the value for the key from the map\n                .compound(Ordering.natural())); //as well as ensuring that the keys don't get clobbered\n        this.valueMap = valueMap;\n    }\n\n    public V put(K k, V v) {\n        if (valueMap.containsKey(k)){\n            //remove the key in the sorted set before adding the key again\n            remove(k);\n        }\n        valueMap.put(k,v); //To get \"real\" unsorted values for the comparator\n        return super.put(k, v); //Put it in value order\n    }\n\n    public static void main(String[] args){\n        TreeMap&lt;String, Integer&gt; map = new ValueComparableMap&lt;String, Integer&gt;(Ordering.natural());\n        map.put(\"a\", 5);\n        map.put(\"b\", 1);\n        map.put(\"c\", 3);\n        assertEquals(\"b\",map.firstKey());\n        assertEquals(\"a\",map.lastKey());\n        map.put(\"d\",0);\n        assertEquals(\"d\",map.firstKey());\n        //ensure it's still a map (by overwriting a key, but with a new value) \n        map.put(\"d\", 2);\n        assertEquals(\"b\", map.firstKey());\n        //Ensure multiple values do not clobber keys\n        map.put(\"e\", 2);\n        assertEquals(5, map.size());\n        assertEquals(2, (int) map.get(\"e\"));\n        assertEquals(2, (int) map.get(\"d\"));\n    }\n }\n</code></pre>\n\n<p>When we put, we ensure that the hash map has the value for the comparator, and then put to the TreeSet for sorting. But before that we check the hash map to see that the key is not actually a duplicate. Also, the comparator that we create will also include the key so that duplicate values don't delete the non-duplicate keys (due to == comparison).\nThese 2 items are <em>vital</em> for ensuring the map contract is kept; if you think you don't want that, then you're almost at the point of reversing the map entirely (to <code>Map&lt;V,K&gt;</code>).</p>\n\n<p>The constructor would need to be called as </p>\n\n<pre><code> new ValueComparableMap(Ordering.natural());\n //or\n new ValueComparableMap(Ordering.from(comparator));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1293947602,"creation_date":1293947602,"answer_id":4577336,"question_id":109383,"body_markdown":"Here is an OO solution (i.e., doesn&#39;t use `static` methods):\r\n\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class SortableValueMap&lt;K, V extends Comparable&lt;V&gt;&gt;\r\n      extends LinkedHashMap&lt;K, V&gt; {\r\n      public SortableValueMap() { }\r\n    \r\n      public SortableValueMap( Map&lt;K, V&gt; map ) {\r\n        super( map );\r\n      }\r\n    \r\n      public void sortByValue() {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;( entrySet() );\r\n    \r\n        Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n          public int compare( Map.Entry&lt;K, V&gt; entry1, Map.Entry&lt;K, V&gt; entry2 ) {\r\n            return entry1.getValue().compareTo( entry2.getValue() );\r\n          }\r\n        });\r\n    \r\n        clear();\r\n    \r\n        for( Map.Entry&lt;K, V&gt; entry : list ) {\r\n          put( entry.getKey(), entry.getValue() );\r\n        }\r\n      }\r\n    \r\n      private static void print( String text, Map&lt;String, Double&gt; map ) {\r\n        System.out.println( text );\r\n    \r\n        for( String key : map.keySet() ) {\r\n          System.out.println( &quot;key/value: &quot; + key + &quot;/&quot; + map.get( key ) );\r\n        }\r\n      }\r\n    \r\n      public static void main( String[] args ) {\r\n        SortableValueMap&lt;String, Double&gt; map =\r\n          new SortableValueMap&lt;String, Double&gt;();\r\n    \r\n        map.put( &quot;A&quot;, 67.5 );\r\n        map.put( &quot;B&quot;, 99.5 );\r\n        map.put( &quot;C&quot;, 82.4 );\r\n        map.put( &quot;D&quot;, 42.0 );\r\n    \r\n        print( &quot;Unsorted map&quot;, map );\r\n        map.sortByValue();\r\n        print( &quot;Sorted map&quot;, map );\r\n      }\r\n    }\r\n\r\nHereby donated to the public domain.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here is an OO solution (i.e., doesn't use <code>static</code> methods):</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class SortableValueMap&lt;K, V extends Comparable&lt;V&gt;&gt;\n  extends LinkedHashMap&lt;K, V&gt; {\n  public SortableValueMap() { }\n\n  public SortableValueMap( Map&lt;K, V&gt; map ) {\n    super( map );\n  }\n\n  public void sortByValue() {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;( entrySet() );\n\n    Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n      public int compare( Map.Entry&lt;K, V&gt; entry1, Map.Entry&lt;K, V&gt; entry2 ) {\n        return entry1.getValue().compareTo( entry2.getValue() );\n      }\n    });\n\n    clear();\n\n    for( Map.Entry&lt;K, V&gt; entry : list ) {\n      put( entry.getKey(), entry.getValue() );\n    }\n  }\n\n  private static void print( String text, Map&lt;String, Double&gt; map ) {\n    System.out.println( text );\n\n    for( String key : map.keySet() ) {\n      System.out.println( \"key/value: \" + key + \"/\" + map.get( key ) );\n    }\n  }\n\n  public static void main( String[] args ) {\n    SortableValueMap&lt;String, Double&gt; map =\n      new SortableValueMap&lt;String, Double&gt;();\n\n    map.put( \"A\", 67.5 );\n    map.put( \"B\", 99.5 );\n    map.put( \"C\", 82.4 );\n    map.put( \"D\", 42.0 );\n\n    print( \"Unsorted map\", map );\n    map.sortByValue();\n    print( \"Sorted map\", map );\n  }\n}\n</code></pre>\n\n<p>Hereby donated to the public domain.</p>\n"},{"tags":[],"owner":{"account_id":269066,"reputation":597,"user_id":558193,"display_name":"Roger"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1297246885,"creation_date":1297246885,"answer_id":4943507,"question_id":109383,"body_markdown":"This is a variation of Anthony&#39;s answer, which doesn&#39;t work if there are duplicate values:\r\n\r\n    public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortMapByValues(final Map&lt;K, V&gt; map) {\r\n        Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\r\n            public int compare(K k1, K k2) {\r\n                final V v1 = map.get(k1);\r\n                final V v2 = map.get(k2);\r\n                \r\n                /* Not sure how to handle nulls ... */\r\n                if (v1 == null) {\r\n                    return (v2 == null) ? 0 : 1;\r\n                }\r\n                \r\n                int compare = v2.compareTo(v1);\r\n                if (compare != 0)\r\n                {\r\n                    return compare;\r\n                }\r\n                else\r\n                {\r\n                    Integer h1 = k1.hashCode();\r\n                    Integer h2 = k2.hashCode();\r\n                    return h2.compareTo(h1);\r\n                }\r\n            }\r\n        };\r\n        Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\r\n        sortedByValues.putAll(map);\r\n        return sortedByValues;\r\n    }\r\n\r\n\r\nNote that it&#39;s rather up in the air how to handle nulls. \r\n\r\nOne important advantage of this approach is that it actually returns a Map, unlike some of the other solutions offered here.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This is a variation of Anthony's answer, which doesn't work if there are duplicate values:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortMapByValues(final Map&lt;K, V&gt; map) {\n    Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\n        public int compare(K k1, K k2) {\n            final V v1 = map.get(k1);\n            final V v2 = map.get(k2);\n\n            /* Not sure how to handle nulls ... */\n            if (v1 == null) {\n                return (v2 == null) ? 0 : 1;\n            }\n\n            int compare = v2.compareTo(v1);\n            if (compare != 0)\n            {\n                return compare;\n            }\n            else\n            {\n                Integer h1 = k1.hashCode();\n                Integer h2 = k2.hashCode();\n                return h2.compareTo(h1);\n            }\n        }\n    };\n    Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\n    sortedByValues.putAll(map);\n    return sortedByValues;\n}\n</code></pre>\n\n<p>Note that it's rather up in the air how to handle nulls. </p>\n\n<p>One important advantage of this approach is that it actually returns a Map, unlike some of the other solutions offered here.</p>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306785407,"creation_date":1298034389,"answer_id":5041615,"question_id":109383,"body_markdown":"    public class SortedMapExample {\r\n\r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n            map.put(&quot;Cde&quot;, &quot;C&quot;);\r\n            map.put(&quot;Abc&quot;, &quot;A&quot;);\r\n            map.put(&quot;Cbc&quot;, &quot;Z&quot;);\r\n            map.put(&quot;Dbc&quot;, &quot;D&quot;);\r\n            map.put(&quot;Bcd&quot;, &quot;B&quot;);\r\n            map.put(&quot;sfd&quot;, &quot;Bqw&quot;);\r\n            map.put(&quot;DDD&quot;, &quot;Bas&quot;);\r\n            map.put(&quot;BGG&quot;, &quot;Basd&quot;);\r\n\r\n            System.out.println(sort(map, new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                        return o1.compareTo(o2);\r\n                }}));\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;K, V&gt; Map&lt;K,V&gt; sort(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\r\n            Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n            V[] array = (V[])in.values().toArray();\r\n            for(int i=0;i&lt;array.length;i++)\r\n            {\r\n\r\n            }\r\n            Arrays.sort(array, compare);\r\n            for (V item : array) {\r\n                K key= (K) getKey(in, item);\r\n                result.put(key, item);\r\n            }\r\n            return result;\r\n        }\r\n\r\n        public static &lt;K, V&gt;  Object getKey(Map&lt;K, V&gt; in,V value)\r\n        {\r\n           Set&lt;K&gt; key= in.keySet();\r\n           Iterator&lt;K&gt; keyIterator=key.iterator();\r\n           while (keyIterator.hasNext()) {\r\n               K valueObject = (K) keyIterator.next();\r\n               if(in.get(valueObject).equals(value))\r\n               {\r\n                       return valueObject;\r\n               }\r\n           }\r\n           return null;\r\n       }\r\n   }\r\n\r\n// Please try here. I am modifing the code for value sort.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>public class SortedMapExample {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"Cde\", \"C\");\n        map.put(\"Abc\", \"A\");\n        map.put(\"Cbc\", \"Z\");\n        map.put(\"Dbc\", \"D\");\n        map.put(\"Bcd\", \"B\");\n        map.put(\"sfd\", \"Bqw\");\n        map.put(\"DDD\", \"Bas\");\n        map.put(\"BGG\", \"Basd\");\n\n        System.out.println(sort(map, new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String o1, String o2) {\n                    return o1.compareTo(o2);\n            }}));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;K, V&gt; Map&lt;K,V&gt; sort(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n        V[] array = (V[])in.values().toArray();\n        for(int i=0;i&lt;array.length;i++)\n        {\n\n        }\n        Arrays.sort(array, compare);\n        for (V item : array) {\n            K key= (K) getKey(in, item);\n            result.put(key, item);\n        }\n        return result;\n    }\n\n    public static &lt;K, V&gt;  Object getKey(Map&lt;K, V&gt; in,V value)\n    {\n       Set&lt;K&gt; key= in.keySet();\n       Iterator&lt;K&gt; keyIterator=key.iterator();\n       while (keyIterator.hasNext()) {\n           K valueObject = (K) keyIterator.next();\n           if(in.get(valueObject).equals(value))\n           {\n                   return valueObject;\n           }\n       }\n       return null;\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>// Please try here. I am modifing the code for value sort.</p>\n"},{"tags":[],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1307546584,"creation_date":1307546584,"answer_id":6281263,"question_id":109383,"body_markdown":"Afaik the most cleaner way is utilizing collections to sort map on value:\r\n\r\n    Map&lt;String, Long&gt; map = new HashMap&lt;String, Long&gt;();\r\n    // populate with data to sort on Value\r\n    // use datastructure designed for sorting\r\n    \r\n    Queue queue = new PriorityQueue( map.size(), new MapComparable() );\r\n    queue.addAll( map.entrySet() );\r\n    \r\n    // get a sorted map\r\n    LinkedHashMap&lt;String, Long&gt; linkedMap = new LinkedHashMap&lt;String, Long&gt;();\r\n    \r\n    for (Map.Entry&lt;String, Long&gt; entry; (entry = queue.poll())!=null;) {\r\n        linkedMap.put(entry.getKey(), entry.getValue());\r\n    }\r\n    \r\n    public static class MapComparable implements Comparator&lt;Map.Entry&lt;String, Long&gt;&gt;{\r\n    \r\n      public int compare(Entry&lt;String, Long&gt; e1, Entry&lt;String, Long&gt; e2) {\r\n        return e1.getValue().compareTo(e2.getValue());\r\n      }\r\n    }\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Afaik the most cleaner way is utilizing collections to sort map on value:</p>\n\n<pre><code>Map&lt;String, Long&gt; map = new HashMap&lt;String, Long&gt;();\n// populate with data to sort on Value\n// use datastructure designed for sorting\n\nQueue queue = new PriorityQueue( map.size(), new MapComparable() );\nqueue.addAll( map.entrySet() );\n\n// get a sorted map\nLinkedHashMap&lt;String, Long&gt; linkedMap = new LinkedHashMap&lt;String, Long&gt;();\n\nfor (Map.Entry&lt;String, Long&gt; entry; (entry = queue.poll())!=null;) {\n    linkedMap.put(entry.getKey(), entry.getValue());\n}\n\npublic static class MapComparable implements Comparator&lt;Map.Entry&lt;String, Long&gt;&gt;{\n\n  public int compare(Entry&lt;String, Long&gt; e1, Entry&lt;String, Long&gt; e2) {\n    return e1.getValue().compareTo(e2.getValue());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":781513,"reputation":11,"user_id":829939,"display_name":"RoyalBigorno"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1629260163,"creation_date":1309877359,"answer_id":6584631,"question_id":109383,"body_markdown":"Use a generic comparator such as:\r\n\r\n```java\r\nfinal class MapValueComparator&lt;K,V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;K&gt; {\r\n    private final Map&lt;K,V&gt; map;\r\n    \r\n    private MapValueComparator() {\r\n        super();\r\n    }\r\n    \r\n    public MapValueComparator(Map&lt;K,V&gt; map) {\r\n        this();\r\n        this.map = map;\r\n    }\r\n        \r\n    public int compare(K o1, K o2) {\r\n        return map.get(o1).compareTo(map.get(o2));\r\n    }\r\n}\r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Use a generic comparator such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class MapValueComparator&lt;K,V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;K&gt; {\n    private final Map&lt;K,V&gt; map;\n    \n    private MapValueComparator() {\n        super();\n    }\n    \n    public MapValueComparator(Map&lt;K,V&gt; map) {\n        this();\n        this.map = map;\n    }\n        \n    public int compare(K o1, K o2) {\n        return map.get(o1).compareTo(map.get(o2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153655,"reputation":5838,"user_id":369060,"accept_rate":89,"display_name":"michel.iamit"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1322053906,"creation_date":1310721804,"answer_id":6705027,"question_id":109383,"body_markdown":"The answer voted for the most does not work when you have 2 items that equals.\r\nthe TreeMap leaves equal values out.\r\n\r\nthe exmaple:\r\nunsorted map\r\n&lt;pre&gt;\r\nkey/value: D/67.3\r\nkey/value: A/99.5\r\nkey/value: B/67.4\r\nkey/value: C/67.5\r\nkey/value: E/99.5\r\n&lt;/pre&gt;\r\nresults\r\n&lt;pre&gt;\r\nkey/value: A/99.5\r\nkey/value: C/67.5\r\nkey/value: B/67.4\r\nkey/value: D/67.3\r\n&lt;/pre&gt;\r\nSo leaves out E!!\r\n\r\nFor me it worked fine to adjust the comparator, if it equals do not return 0 but -1.\r\n\r\nin the example:\r\n&gt;&gt; class ValueComparator implements Comparator {\r\n&gt;&gt; \r\n&gt;&gt;   Map base;\r\n&gt;&gt;   public ValueComparator(Map base) {\r\n&gt;&gt;       this.base = base;\r\n&gt;&gt;   }\r\n&gt;&gt; \r\n&gt;&gt;   public int compare(Object a, Object b) {\r\n&gt;&gt; \r\n&gt;&gt;     if((Double)base.get(a) &lt; (Double)base.get(b)) {\r\n&gt;&gt;       return 1;\r\n&gt;&gt;     } else if((Double)base.get(a) == (Double)base.get(b)) {\r\n&gt;&gt;       return -1;\r\n&gt;&gt;     } else {\r\n&gt;&gt;       return -1;\r\n&gt;&gt;     }\r\n&gt;&gt;   }\r\n&gt;&gt; }\r\n\r\n\r\nnow it returns:\r\n\r\nunsorted map:\r\n&lt;pre&gt;\r\nkey/value: D/67.3\r\nkey/value: A/99.5\r\nkey/value: B/67.4\r\nkey/value: C/67.5\r\nkey/value: E/99.5\r\n&lt;/pre&gt;\r\nresults:\r\n&lt;pre&gt;\r\nkey/value: A/99.5\r\nkey/value: E/99.5\r\nkey/value: C/67.5\r\nkey/value: B/67.4\r\nkey/value: D/67.3\r\n&lt;/pre&gt;\r\n\r\nas a response to Aliens (2011 nov. 22):\r\nI Am using this solution for a map of Integer Id&#39;s and names, but the idea is the same, so might be the code above is not correct (I will write it in a test and give you the correct code), this is the code for a Map&lt;Integer,String&gt; sorting, based on the solution above:\r\n\r\n    package nl.iamit.util;\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.Map;\r\n    \r\n    public class Comparators {\r\n    \t\r\n    \t\r\n    \tpublic static class MapIntegerStringComparator implements Comparator {\r\n    \r\n    \t\tMap&lt;Integer, String&gt; base;\r\n    \r\n    \t\tpublic MapIntegerStringComparator(Map&lt;Integer, String&gt; base) {\r\n    \t\t\tthis.base = base;\r\n    \t\t}\r\n    \r\n    \t\tpublic int compare(Object a, Object b) {\r\n    \r\n    \t\t\tint compare = ((String) base.get(a))\r\n    \t\t\t\t\t.compareTo((String) base.get(b));\r\n    \t\t\tif (compare == 0) {\r\n    \t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t\treturn compare;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\nand this is the test class (I just tested it, and this works for the Integer, String Map:\r\n\r\n    package test.nl.iamit.util;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.TreeMap;\r\n    import nl.iamit.util.Comparators;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertArrayEquals;\r\n    \r\n    public class TestComparators {\r\n    \r\n    \t\r\n    \t@Test\r\n    \tpublic void testMapIntegerStringComparator(){\r\n    \t\tHashMap&lt;Integer, String&gt; unSoretedMap = new HashMap&lt;Integer, String&gt;();\r\n    \t\tComparators.MapIntegerStringComparator bvc = new Comparators.MapIntegerStringComparator(\r\n    \t\t\t\tunSoretedMap);\r\n    \t\tTreeMap&lt;Integer, String&gt; sorted_map = new TreeMap&lt;Integer, String&gt;(bvc);\r\n    \t\t//the testdata:\r\n    \t\tunSoretedMap.put(new Integer(1), &quot;E&quot;);\r\n    \t\tunSoretedMap.put(new Integer(2), &quot;A&quot;);\r\n    \t\tunSoretedMap.put(new Integer(3), &quot;E&quot;);\r\n    \t\tunSoretedMap.put(new Integer(4), &quot;B&quot;);\r\n    \t\tunSoretedMap.put(new Integer(5), &quot;F&quot;);\r\n    \r\n    \t\tsorted_map.putAll(unSoretedMap);\r\n    \r\n    \t\tObject[] targetKeys={new Integer(2),new Integer(4),new Integer(3),new Integer(1),new Integer(5) };\r\n    \t\tObject[] currecntKeys=sorted_map.keySet().toArray();\r\n    \t\t\r\n    \t\tassertArrayEquals(targetKeys,currecntKeys);\r\n    \t}\r\n    }\r\n\r\n\r\nhere is the code for the Comparator of a Map&lt;String,Double&gt;:\r\n\r\n\tpublic static class MapStringDoubleComparator implements Comparator {\r\n\r\n\t\tMap&lt;String, Double&gt; base;\r\n\r\n\t\tpublic MapStringDoubleComparator(Map&lt;String, Double&gt; base) {\r\n\t\t\tthis.base = base;\r\n\t\t}\r\n\r\n\t\t//note if you want decending in stead of ascending, turn around 1 and -1\r\n\t\tpublic int compare(Object a, Object b) {\r\n\t\t\tif ((Double) base.get(a) == (Double) base.get(b)) {\r\n\t\t\t\treturn 0;\r\n\t\t\t} else if((Double) base.get(a) &lt; (Double) base.get(b)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nand this is the testcase for this:\r\n\r\n\t@Test\r\n\tpublic void testMapStringDoubleComparator(){\r\n\t\tHashMap&lt;String, Double&gt; unSoretedMap = new HashMap&lt;String, Double&gt;();\r\n\t\tComparators.MapStringDoubleComparator bvc = new Comparators.MapStringDoubleComparator(\r\n\t\t\t\tunSoretedMap);\r\n\t\tTreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\r\n\t\t//the testdata:\r\n\t\tunSoretedMap.put(&quot;D&quot;,new Double(67.3));\r\n\t\tunSoretedMap.put(&quot;A&quot;,new Double(99.5));\r\n\t\tunSoretedMap.put(&quot;B&quot;,new Double(67.4));\r\n\t\tunSoretedMap.put(&quot;C&quot;,new Double(67.5));\r\n\t\tunSoretedMap.put(&quot;E&quot;,new Double(99.5));\r\n\r\n\t\tsorted_map.putAll(unSoretedMap);\r\n\r\n\t\tObject[] targetKeys={&quot;D&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;,&quot;A&quot;};\r\n\t\tObject[] currecntKeys=sorted_map.keySet().toArray();\r\n\t\t\r\n\t\tassertArrayEquals(targetKeys,currecntKeys);\r\n\t}\r\n\r\n\r\nof cource you can make this a lot more generic, but I just needed it for 1 case (the Map&lt;Integer,String&gt;)\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>The answer voted for the most does not work when you have 2 items that equals.\nthe TreeMap leaves equal values out.</p>\n\n<p>the exmaple:\nunsorted map</p>\n\n<pre>\nkey/value: D/67.3\nkey/value: A/99.5\nkey/value: B/67.4\nkey/value: C/67.5\nkey/value: E/99.5\n</pre>\n\n<p>results</p>\n\n<pre>\nkey/value: A/99.5\nkey/value: C/67.5\nkey/value: B/67.4\nkey/value: D/67.3\n</pre>\n\n<p>So leaves out E!!</p>\n\n<p>For me it worked fine to adjust the comparator, if it equals do not return 0 but -1.</p>\n\n<p>in the example:</p>\n\n<blockquote>\n  <blockquote>\n    <p>class ValueComparator implements Comparator {</p>\n    \n    <p>Map base;\n      public ValueComparator(Map base) {\n          this.base = base;\n      }</p>\n    \n    <p>public int compare(Object a, Object b) {</p>\n\n<pre><code>if((Double)base.get(a) &lt; (Double)base.get(b)) {\n  return 1;\n} else if((Double)base.get(a) == (Double)base.get(b)) {\n  return -1;\n} else {\n  return -1;\n}\n</code></pre>\n    \n    <p>}\n    }</p>\n  </blockquote>\n</blockquote>\n\n<p>now it returns:</p>\n\n<p>unsorted map:</p>\n\n<pre>\nkey/value: D/67.3\nkey/value: A/99.5\nkey/value: B/67.4\nkey/value: C/67.5\nkey/value: E/99.5\n</pre>\n\n<p>results:</p>\n\n<pre>\nkey/value: A/99.5\nkey/value: E/99.5\nkey/value: C/67.5\nkey/value: B/67.4\nkey/value: D/67.3\n</pre>\n\n<p>as a response to Aliens (2011 nov. 22):\nI Am using this solution for a map of Integer Id's and names, but the idea is the same, so might be the code above is not correct (I will write it in a test and give you the correct code), this is the code for a Map sorting, based on the solution above:</p>\n\n<pre><code>package nl.iamit.util;\n\nimport java.util.Comparator;\nimport java.util.Map;\n\npublic class Comparators {\n\n\n    public static class MapIntegerStringComparator implements Comparator {\n\n        Map&lt;Integer, String&gt; base;\n\n        public MapIntegerStringComparator(Map&lt;Integer, String&gt; base) {\n            this.base = base;\n        }\n\n        public int compare(Object a, Object b) {\n\n            int compare = ((String) base.get(a))\n                    .compareTo((String) base.get(b));\n            if (compare == 0) {\n                return -1;\n            }\n            return compare;\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>and this is the test class (I just tested it, and this works for the Integer, String Map:</p>\n\n<pre><code>package test.nl.iamit.util;\n\nimport java.util.HashMap;\nimport java.util.TreeMap;\nimport nl.iamit.util.Comparators;\nimport org.junit.Test;\nimport static org.junit.Assert.assertArrayEquals;\n\npublic class TestComparators {\n\n\n    @Test\n    public void testMapIntegerStringComparator(){\n        HashMap&lt;Integer, String&gt; unSoretedMap = new HashMap&lt;Integer, String&gt;();\n        Comparators.MapIntegerStringComparator bvc = new Comparators.MapIntegerStringComparator(\n                unSoretedMap);\n        TreeMap&lt;Integer, String&gt; sorted_map = new TreeMap&lt;Integer, String&gt;(bvc);\n        //the testdata:\n        unSoretedMap.put(new Integer(1), \"E\");\n        unSoretedMap.put(new Integer(2), \"A\");\n        unSoretedMap.put(new Integer(3), \"E\");\n        unSoretedMap.put(new Integer(4), \"B\");\n        unSoretedMap.put(new Integer(5), \"F\");\n\n        sorted_map.putAll(unSoretedMap);\n\n        Object[] targetKeys={new Integer(2),new Integer(4),new Integer(3),new Integer(1),new Integer(5) };\n        Object[] currecntKeys=sorted_map.keySet().toArray();\n\n        assertArrayEquals(targetKeys,currecntKeys);\n    }\n}\n</code></pre>\n\n<p>here is the code for the Comparator of a Map:</p>\n\n<pre><code>public static class MapStringDoubleComparator implements Comparator {\n\n    Map&lt;String, Double&gt; base;\n\n    public MapStringDoubleComparator(Map&lt;String, Double&gt; base) {\n        this.base = base;\n    }\n\n    //note if you want decending in stead of ascending, turn around 1 and -1\n    public int compare(Object a, Object b) {\n        if ((Double) base.get(a) == (Double) base.get(b)) {\n            return 0;\n        } else if((Double) base.get(a) &lt; (Double) base.get(b)) {\n            return -1;\n        }else{\n            return 1;\n        }\n    }\n}\n</code></pre>\n\n<p>and this is the testcase for this:</p>\n\n<pre><code>@Test\npublic void testMapStringDoubleComparator(){\n    HashMap&lt;String, Double&gt; unSoretedMap = new HashMap&lt;String, Double&gt;();\n    Comparators.MapStringDoubleComparator bvc = new Comparators.MapStringDoubleComparator(\n            unSoretedMap);\n    TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n    //the testdata:\n    unSoretedMap.put(\"D\",new Double(67.3));\n    unSoretedMap.put(\"A\",new Double(99.5));\n    unSoretedMap.put(\"B\",new Double(67.4));\n    unSoretedMap.put(\"C\",new Double(67.5));\n    unSoretedMap.put(\"E\",new Double(99.5));\n\n    sorted_map.putAll(unSoretedMap);\n\n    Object[] targetKeys={\"D\",\"B\",\"C\",\"E\",\"A\"};\n    Object[] currecntKeys=sorted_map.keySet().toArray();\n\n    assertArrayEquals(targetKeys,currecntKeys);\n}\n</code></pre>\n\n<p>of cource you can make this a lot more generic, but I just needed it for 1 case (the Map)</p>\n"},{"tags":[],"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314125562,"creation_date":1314125562,"answer_id":7166058,"question_id":109383,"body_markdown":"This method will just serve the purpose. (the &#39;setback&#39; is that the Values **must implement the java.util.Comparable interface**)\r\n\r\n      /**\r\n\r\n     * Sort a map according to values.\r\n\r\n     * @param &lt;K&gt; the key of the map.\r\n     * @param &lt;V&gt; the value to sort according to.\r\n     * @param mapToSort the map to sort.\r\n\r\n     * @return a map sorted on the values.\r\n\r\n     */ \r\n    public static &lt;K, V extends Comparable&lt; ? super V&gt;&gt; Map&lt;K, V&gt;\r\n    sortMapByValues(final Map &lt;K, V&gt; mapToSort)\r\n    {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries =\r\n            new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(mapToSort.size());  \r\n\r\n        entries.addAll(mapToSort.entrySet());\r\n\r\n        Collections.sort(entries,\r\n                         new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\r\n        {\r\n            @Override\r\n            public int compare(\r\n                   final Map.Entry&lt;K, V&gt; entry1,\r\n                   final Map.Entry&lt;K, V&gt; entry2)\r\n            {\r\n                return entry1.getValue().compareTo(entry2.getValue());\r\n            }\r\n        });      \r\n\r\n        Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;K, V&gt;();      \r\n\r\n        for (Map.Entry&lt;K, V&gt; entry : entries)\r\n        {\r\n            sortedMap.put(entry.getKey(), entry.getValue());\r\n\r\n        }      \r\n\r\n        return sortedMap;\r\n\r\n    }\r\n[http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html][1]\r\n\r\n\r\n  [1]: http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This method will just serve the purpose. (the 'setback' is that the Values <strong>must implement the java.util.Comparable interface</strong>)</p>\n\n<pre><code>  /**\n\n * Sort a map according to values.\n\n * @param &lt;K&gt; the key of the map.\n * @param &lt;V&gt; the value to sort according to.\n * @param mapToSort the map to sort.\n\n * @return a map sorted on the values.\n\n */ \npublic static &lt;K, V extends Comparable&lt; ? super V&gt;&gt; Map&lt;K, V&gt;\nsortMapByValues(final Map &lt;K, V&gt; mapToSort)\n{\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries =\n        new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(mapToSort.size());  \n\n    entries.addAll(mapToSort.entrySet());\n\n    Collections.sort(entries,\n                     new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\n    {\n        @Override\n        public int compare(\n               final Map.Entry&lt;K, V&gt; entry1,\n               final Map.Entry&lt;K, V&gt; entry2)\n        {\n            return entry1.getValue().compareTo(entry2.getValue());\n        }\n    });      \n\n    Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;K, V&gt;();      \n\n    for (Map.Entry&lt;K, V&gt; entry : entries)\n    {\n        sortedMap.put(entry.getKey(), entry.getValue());\n\n    }      \n\n    return sortedMap;\n\n}\n</code></pre>\n\n<p><a href=\"http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html\" rel=\"nofollow\">http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html</a></p>\n"},{"tags":[],"owner":{"account_id":457261,"reputation":3574,"user_id":856468,"display_name":"malix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1314823225,"creation_date":1314823225,"answer_id":7263116,"question_id":109383,"body_markdown":"Since ***TreeMap&lt;&gt; does not work*** for values that can be equal, I used this:\r\n    \r\n\tprivate &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map)     {\r\n\t\tList&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n\t\t\tpublic int compare(Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\nYou might want to put ***list*** in a ***LinkedHashMap***, but if you&#39;re only going to iterate over it right away, that&#39;s superfluous...\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Since <strong><em>TreeMap&lt;> does not work</em></strong> for values that can be equal, I used this:</p>\n\n<pre><code>private &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map)     {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n        public int compare(Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2) {\n            return o1.getValue().compareTo(o2.getValue());\n        }\n    });\n\n    return list;\n}\n</code></pre>\n\n<p>You might want to put <strong><em>list</em></strong> in a <strong><em>LinkedHashMap</em></strong>, but if you're only going to iterate over it right away, that's superfluous...</p>\n"},{"tags":[],"owner":{"account_id":872698,"reputation":11,"user_id":923190,"display_name":"dimkar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314870813,"creation_date":1314870813,"answer_id":7268690,"question_id":109383,"body_markdown":"Some simple changes in order to have a sorted map with pairs that have duplicate values. In the compare method (class ValueComparator) when values are equal do not return 0 but return the result of comparing the 2 keys. Keys are distinct in a map so you succeed to keep duplicate values (which are sorted by keys by the way). So the above example could be modified like this:\r\n\r\n        public int compare(Object a, Object b) {\r\n\r\n\t\t    if((Double)base.get(a) &lt; (Double)base.get(b)) {\r\n\t\t      return 1;\r\n\t\t    } else if((Double)base.get(a) == (Double)base.get(b)) {\r\n\t\t      return ((String)a).compareTo((String)b);\r\n\t\t    } else {\r\n\t\t      return -1;\r\n\t\t    }\r\n\t\t  }\r\n\t\t}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Some simple changes in order to have a sorted map with pairs that have duplicate values. In the compare method (class ValueComparator) when values are equal do not return 0 but return the result of comparing the 2 keys. Keys are distinct in a map so you succeed to keep duplicate values (which are sorted by keys by the way). So the above example could be modified like this:</p>\n\n<pre><code>    public int compare(Object a, Object b) {\n\n        if((Double)base.get(a) &lt; (Double)base.get(b)) {\n          return 1;\n        } else if((Double)base.get(a) == (Double)base.get(b)) {\n          return ((String)a).compareTo((String)b);\n        } else {\n          return -1;\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937165,"reputation":1,"user_id":965886,"display_name":"nibor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317073172,"creation_date":1317073172,"answer_id":7561661,"question_id":109383,"body_markdown":"If you have duplicate keys and only a small set of data (&lt;1000) and your code is not performance critical you can just do the following:\r\n\r\n    Map&lt;String,Integer&gt; tempMap=new HashMap&lt;String,Integer&gt;(inputUnsortedMap);\r\n    LinkedHashMap&lt;String,Integer&gt; sortedOutputMap=new LinkedHashMap&lt;String,Integer&gt;();\r\n\r\n    for(int i=0;i&lt;inputUnsortedMap.size();i++){\r\n    \tMap.Entry&lt;String,Integer&gt; maxEntry=null;\r\n      \tInteger maxValue=-1;\r\n       \tfor(Map.Entry&lt;String,Integer&gt; entry:tempMap.entrySet()){\r\n        \tif(entry.getValue()&gt;maxValue){\r\n        \t\tmaxValue=entry.getValue();\r\n        \t\tmaxEntry=entry;\r\n        \t}\r\n        }\r\n       \ttempMap.remove(maxEntry.getKey());\r\n       \tsortedOutputMap.put(maxEntry.getKey(),maxEntry.getValue());\r\n    }\r\n\r\n**inputUnsortedMap** is the input to the code.\r\n\r\nThe variable **sortedOutputMap** will contain the data in decending order when iterated over. To change order just change &gt; to a &lt; in the if statement.\r\n\r\nIs not the fastest sort but does the job without any additional dependencies.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If you have duplicate keys and only a small set of data (&lt;1000) and your code is not performance critical you can just do the following:</p>\n\n<pre><code>Map&lt;String,Integer&gt; tempMap=new HashMap&lt;String,Integer&gt;(inputUnsortedMap);\nLinkedHashMap&lt;String,Integer&gt; sortedOutputMap=new LinkedHashMap&lt;String,Integer&gt;();\n\nfor(int i=0;i&lt;inputUnsortedMap.size();i++){\n    Map.Entry&lt;String,Integer&gt; maxEntry=null;\n    Integer maxValue=-1;\n    for(Map.Entry&lt;String,Integer&gt; entry:tempMap.entrySet()){\n        if(entry.getValue()&gt;maxValue){\n            maxValue=entry.getValue();\n            maxEntry=entry;\n        }\n    }\n    tempMap.remove(maxEntry.getKey());\n    sortedOutputMap.put(maxEntry.getKey(),maxEntry.getValue());\n}\n</code></pre>\n\n<p><strong>inputUnsortedMap</strong> is the input to the code.</p>\n\n<p>The variable <strong>sortedOutputMap</strong> will contain the data in decending order when iterated over. To change order just change > to a &lt; in the if statement.</p>\n\n<p>Is not the fastest sort but does the job without any additional dependencies.</p>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1325007824,"creation_date":1325007824,"answer_id":8647597,"question_id":109383,"body_markdown":"For sure the solution of Stephen is really great, but for those who can&#39;t use Guava:\r\n\r\n\r\n\r\nHere&#39;s my solution for sorting by value a map.\r\nThis solution handle the case where there are twice the same value etc...\r\n\r\n \r\n\r\n       \r\n    // If you want to sort a map by value, and if there can be twice the same value:\r\n    \r\n    // here is your original map\r\n    Map&lt;String,Integer&gt; mapToSortByValue = new HashMap&lt;String, Integer&gt;();\r\n    mapToSortByValue.put(&quot;A&quot;, 3);\r\n    mapToSortByValue.put(&quot;B&quot;, 1);\r\n    mapToSortByValue.put(&quot;C&quot;, 3);\r\n    mapToSortByValue.put(&quot;D&quot;, 5);\r\n    mapToSortByValue.put(&quot;E&quot;, -1);\r\n    mapToSortByValue.put(&quot;F&quot;, 1000);\r\n    mapToSortByValue.put(&quot;G&quot;, 79);\r\n    mapToSortByValue.put(&quot;H&quot;, 15);\r\n    \r\n    // Sort all the map entries by value\r\n    Set&lt;Map.Entry&lt;String,Integer&gt;&gt; set = new TreeSet&lt;Map.Entry&lt;String,Integer&gt;&gt;(\r\n            new Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt;(){\r\n                @Override\r\n                public int compare(Map.Entry&lt;String,Integer&gt; obj1, Map.Entry&lt;String,Integer&gt; obj2) {\r\n                    Integer val1 = obj1.getValue();\r\n                    Integer val2 = obj2.getValue();\r\n                    // DUPLICATE VALUE CASE\r\n                    // If the values are equals, we can&#39;t return 0 because the 2 entries would be considered\r\n                    // as equals and one of them would be deleted (because we use a set, no duplicate, remember!)\r\n                    int compareValues = val1.compareTo(val2);\r\n                    if ( compareValues == 0 ) {\r\n                        String key1 = obj1.getKey();\r\n                        String key2 = obj2.getKey();\r\n                        int compareKeys = key1.compareTo(key2);\r\n                        if ( compareKeys == 0 ) {\r\n                            // what you return here will tell us if you keep REAL KEY-VALUE duplicates in your set\r\n                            // if you want to, do whatever you want but do not return 0 (but don&#39;t break the comparator contract!)\r\n                            return 0;\r\n                        }\r\n                        return compareKeys;\r\n                    }\r\n                    return compareValues;\r\n                }\r\n            }\r\n    );\r\n    set.addAll(mapToSortByValue.entrySet());\r\n    \r\n    \r\n    // OK NOW OUR SET IS SORTED COOL!!!!\r\n    \r\n    // And there&#39;s nothing more to do: the entries are sorted by value!\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : set ) {\r\n        System.out.println(&quot;Set entries: &quot; + entry.getKey() + &quot; -&gt; &quot; + entry.getValue());\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    // But if you add them to an hashmap\r\n    Map&lt;String,Integer&gt; myMap = new HashMap&lt;String,Integer&gt;();\r\n    // When iterating over the set the order is still good in the println...\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : set ) {\r\n        System.out.println(&quot;Added to result map entries: &quot; + entry.getKey() + &quot; &quot; + entry.getValue());\r\n        myMap.put(entry.getKey(), entry.getValue());\r\n    }\r\n    \r\n    // But once they are in the hashmap, the order is not kept!\r\n    for ( Integer value : myMap.values() ) {\r\n        System.out.println(&quot;Result map values: &quot; + value);\r\n    }\r\n    // Also this way doesn&#39;t work:\r\n    // Logic because the entryset is a hashset for hashmaps and not a treeset\r\n    // (and even if it was a treeset, it would be on the keys only)\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : myMap.entrySet() ) {\r\n        System.out.println(&quot;Result map entries: &quot; + entry.getKey() + &quot; -&gt; &quot; + entry.getValue());\r\n    }\r\n    \r\n    \r\n    // CONCLUSION:\r\n    // If you want to iterate on a map ordered by value, you need to remember:\r\n    // 1) Maps are only sorted by keys, so you can&#39;t sort them directly by value\r\n    // 2) So you simply CAN&#39;T return a map to a sortMapByValue function\r\n    // 3) You can&#39;t reverse the keys and the values because you have duplicate values\r\n    //    This also means you can&#39;t neither use Guava/Commons bidirectionnal treemaps or stuff like that\r\n    \r\n    // SOLUTIONS\r\n    // So you can:\r\n    // 1) only sort the values which is easy, but you loose the key/value link (since you have duplicate values)\r\n    // 2) sort the map entries, but don&#39;t forget to handle the duplicate value case (like i did)\r\n    // 3) if you really need to return a map, use a LinkedHashMap which keep the insertion order\r\n\r\nThe exec:\r\nhttp://www.ideone.com/dq3Lu\r\n\r\n\r\n\r\nThe output:\r\n\r\n    Set entries: E -&gt; -1\r\n    Set entries: B -&gt; 1\r\n    Set entries: A -&gt; 3\r\n    Set entries: C -&gt; 3\r\n    Set entries: D -&gt; 5\r\n    Set entries: H -&gt; 15\r\n    Set entries: G -&gt; 79\r\n    Set entries: F -&gt; 1000\r\n    Added to result map entries: E -1\r\n    Added to result map entries: B 1\r\n    Added to result map entries: A 3\r\n    Added to result map entries: C 3\r\n    Added to result map entries: D 5\r\n    Added to result map entries: H 15\r\n    Added to result map entries: G 79\r\n    Added to result map entries: F 1000\r\n    Result map values: 5\r\n    Result map values: -1\r\n    Result map values: 1000\r\n    Result map values: 79\r\n    Result map values: 3\r\n    Result map values: 1\r\n    Result map values: 3\r\n    Result map values: 15\r\n    Result map entries: D -&gt; 5\r\n    Result map entries: E -&gt; -1\r\n    Result map entries: F -&gt; 1000\r\n    Result map entries: G -&gt; 79\r\n    Result map entries: A -&gt; 3\r\n    Result map entries: B -&gt; 1\r\n    Result map entries: C -&gt; 3\r\n    Result map entries: H -&gt; 15\r\n\r\nHope it will help some folks\r\n\r\n\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>For sure the solution of Stephen is really great, but for those who can't use Guava:</p>\n\n<p>Here's my solution for sorting by value a map.\nThis solution handle the case where there are twice the same value etc...</p>\n\n<pre><code>// If you want to sort a map by value, and if there can be twice the same value:\n\n// here is your original map\nMap&lt;String,Integer&gt; mapToSortByValue = new HashMap&lt;String, Integer&gt;();\nmapToSortByValue.put(\"A\", 3);\nmapToSortByValue.put(\"B\", 1);\nmapToSortByValue.put(\"C\", 3);\nmapToSortByValue.put(\"D\", 5);\nmapToSortByValue.put(\"E\", -1);\nmapToSortByValue.put(\"F\", 1000);\nmapToSortByValue.put(\"G\", 79);\nmapToSortByValue.put(\"H\", 15);\n\n// Sort all the map entries by value\nSet&lt;Map.Entry&lt;String,Integer&gt;&gt; set = new TreeSet&lt;Map.Entry&lt;String,Integer&gt;&gt;(\n        new Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt;(){\n            @Override\n            public int compare(Map.Entry&lt;String,Integer&gt; obj1, Map.Entry&lt;String,Integer&gt; obj2) {\n                Integer val1 = obj1.getValue();\n                Integer val2 = obj2.getValue();\n                // DUPLICATE VALUE CASE\n                // If the values are equals, we can't return 0 because the 2 entries would be considered\n                // as equals and one of them would be deleted (because we use a set, no duplicate, remember!)\n                int compareValues = val1.compareTo(val2);\n                if ( compareValues == 0 ) {\n                    String key1 = obj1.getKey();\n                    String key2 = obj2.getKey();\n                    int compareKeys = key1.compareTo(key2);\n                    if ( compareKeys == 0 ) {\n                        // what you return here will tell us if you keep REAL KEY-VALUE duplicates in your set\n                        // if you want to, do whatever you want but do not return 0 (but don't break the comparator contract!)\n                        return 0;\n                    }\n                    return compareKeys;\n                }\n                return compareValues;\n            }\n        }\n);\nset.addAll(mapToSortByValue.entrySet());\n\n\n// OK NOW OUR SET IS SORTED COOL!!!!\n\n// And there's nothing more to do: the entries are sorted by value!\nfor ( Map.Entry&lt;String,Integer&gt; entry : set ) {\n    System.out.println(\"Set entries: \" + entry.getKey() + \" -&gt; \" + entry.getValue());\n}\n\n\n\n\n// But if you add them to an hashmap\nMap&lt;String,Integer&gt; myMap = new HashMap&lt;String,Integer&gt;();\n// When iterating over the set the order is still good in the println...\nfor ( Map.Entry&lt;String,Integer&gt; entry : set ) {\n    System.out.println(\"Added to result map entries: \" + entry.getKey() + \" \" + entry.getValue());\n    myMap.put(entry.getKey(), entry.getValue());\n}\n\n// But once they are in the hashmap, the order is not kept!\nfor ( Integer value : myMap.values() ) {\n    System.out.println(\"Result map values: \" + value);\n}\n// Also this way doesn't work:\n// Logic because the entryset is a hashset for hashmaps and not a treeset\n// (and even if it was a treeset, it would be on the keys only)\nfor ( Map.Entry&lt;String,Integer&gt; entry : myMap.entrySet() ) {\n    System.out.println(\"Result map entries: \" + entry.getKey() + \" -&gt; \" + entry.getValue());\n}\n\n\n// CONCLUSION:\n// If you want to iterate on a map ordered by value, you need to remember:\n// 1) Maps are only sorted by keys, so you can't sort them directly by value\n// 2) So you simply CAN'T return a map to a sortMapByValue function\n// 3) You can't reverse the keys and the values because you have duplicate values\n//    This also means you can't neither use Guava/Commons bidirectionnal treemaps or stuff like that\n\n// SOLUTIONS\n// So you can:\n// 1) only sort the values which is easy, but you loose the key/value link (since you have duplicate values)\n// 2) sort the map entries, but don't forget to handle the duplicate value case (like i did)\n// 3) if you really need to return a map, use a LinkedHashMap which keep the insertion order\n</code></pre>\n\n<p>The exec:\n<a href=\"http://www.ideone.com/dq3Lu\" rel=\"nofollow\">http://www.ideone.com/dq3Lu</a></p>\n\n<p>The output:</p>\n\n<pre><code>Set entries: E -&gt; -1\nSet entries: B -&gt; 1\nSet entries: A -&gt; 3\nSet entries: C -&gt; 3\nSet entries: D -&gt; 5\nSet entries: H -&gt; 15\nSet entries: G -&gt; 79\nSet entries: F -&gt; 1000\nAdded to result map entries: E -1\nAdded to result map entries: B 1\nAdded to result map entries: A 3\nAdded to result map entries: C 3\nAdded to result map entries: D 5\nAdded to result map entries: H 15\nAdded to result map entries: G 79\nAdded to result map entries: F 1000\nResult map values: 5\nResult map values: -1\nResult map values: 1000\nResult map values: 79\nResult map values: 3\nResult map values: 1\nResult map values: 3\nResult map values: 15\nResult map entries: D -&gt; 5\nResult map entries: E -&gt; -1\nResult map entries: F -&gt; 1000\nResult map entries: G -&gt; 79\nResult map entries: A -&gt; 3\nResult map entries: B -&gt; 1\nResult map entries: C -&gt; 3\nResult map entries: H -&gt; 15\n</code></pre>\n\n<p>Hope it will help some folks</p>\n"},{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1338338847,"creation_date":1338338847,"answer_id":10808650,"question_id":109383,"body_markdown":"Instead of using `Collections.sort` as some do I&#39;d suggest using `Arrays.sort`. Actually what `Collections.sort` does is something like this:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list) {\r\n        Object[] a = list.toArray();\r\n        Arrays.sort(a);\r\n        ListIterator&lt;T&gt; i = list.listIterator();\r\n        for (int j=0; j&lt;a.length; j++) {\r\n            i.next();\r\n            i.set((T)a[j]);\r\n        }\r\n    }\r\n\r\nIt just calls `toArray` on the list and then uses `Arrays.sort`. This way all the map entries will be copied three times: once from the map to the temporary list (be it a LinkedList or ArrayList), then to the temporary array and finally to the new map.\r\n\r\nMy solution ommits this one step as it does not create unnecessary LinkedList. Here is the code, generic-friendly and performance-optimal:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) \r\n    {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map.Entry&lt;K,V&gt;[] array = map.entrySet().toArray(new Map.Entry[map.size()]);\r\n    \r\n        Arrays.sort(array, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() \r\n        {\r\n            public int compare(Map.Entry&lt;K, V&gt; e1, Map.Entry&lt;K, V&gt; e2) \r\n            {\r\n                return e1.getValue().compareTo(e2.getValue());\r\n            }\r\n        });\r\n    \r\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n        for (Map.Entry&lt;K, V&gt; entry : array)\r\n            result.put(entry.getKey(), entry.getValue());\r\n    \r\n        return result;\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Instead of using <code>Collections.sort</code> as some do I'd suggest using <code>Arrays.sort</code>. Actually what <code>Collections.sort</code> does is something like this:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list) {\n    Object[] a = list.toArray();\n    Arrays.sort(a);\n    ListIterator&lt;T&gt; i = list.listIterator();\n    for (int j=0; j&lt;a.length; j++) {\n        i.next();\n        i.set((T)a[j]);\n    }\n}\n</code></pre>\n\n<p>It just calls <code>toArray</code> on the list and then uses <code>Arrays.sort</code>. This way all the map entries will be copied three times: once from the map to the temporary list (be it a LinkedList or ArrayList), then to the temporary array and finally to the new map.</p>\n\n<p>My solution ommits this one step as it does not create unnecessary LinkedList. Here is the code, generic-friendly and performance-optimal:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) \n{\n    @SuppressWarnings(\"unchecked\")\n    Map.Entry&lt;K,V&gt;[] array = map.entrySet().toArray(new Map.Entry[map.size()]);\n\n    Arrays.sort(array, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() \n    {\n        public int compare(Map.Entry&lt;K, V&gt; e1, Map.Entry&lt;K, V&gt; e2) \n        {\n            return e1.getValue().compareTo(e2.getValue());\n        }\n    });\n\n    Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n    for (Map.Entry&lt;K, V&gt; entry : array)\n        result.put(entry.getKey(), entry.getValue());\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1775549,"reputation":121,"user_id":1619400,"display_name":"Rashid C Y"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1346225606,"creation_date":1346225606,"answer_id":12172924,"question_id":109383,"body_markdown":"We simply sort a map just like this\r\n\r\n                Map&lt;String, String&gt; unsortedMap = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tunsortedMap.put(&quot;E&quot;, &quot;E Val&quot;);\r\n\t\tunsortedMap.put(&quot;F&quot;, &quot;F Val&quot;);\r\n\t\tunsortedMap.put(&quot;H&quot;, &quot;H Val&quot;);\r\n\t\tunsortedMap.put(&quot;B&quot;, &quot;B Val&quot;);\r\n\t\tunsortedMap.put(&quot;C&quot;, &quot;C Val&quot;);\r\n\t\tunsortedMap.put(&quot;A&quot;, &quot;A Val&quot;);\r\n\t\tunsortedMap.put(&quot;G&quot;, &quot;G Val&quot;);\r\n\t\tunsortedMap.put(&quot;D&quot;, &quot;D Val&quot;);\r\n\t\t\r\n\t\tMap&lt;String, String&gt; sortedMap = new TreeMap&lt;String, String&gt;(unsortedMap);\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\nAfter sorting..&quot;);\r\n\t\tfor (Map.Entry &lt;String, String&gt; mapEntry : sortedMap.entrySet()) {\r\n\t\t\tSystem.out.println(mapEntry.getKey() + &quot; \\t&quot; + mapEntry.getValue());","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>We simply sort a map just like this</p>\n\n<pre><code>            Map&lt;String, String&gt; unsortedMap = new HashMap&lt;String, String&gt;();\n\n    unsortedMap.put(\"E\", \"E Val\");\n    unsortedMap.put(\"F\", \"F Val\");\n    unsortedMap.put(\"H\", \"H Val\");\n    unsortedMap.put(\"B\", \"B Val\");\n    unsortedMap.put(\"C\", \"C Val\");\n    unsortedMap.put(\"A\", \"A Val\");\n    unsortedMap.put(\"G\", \"G Val\");\n    unsortedMap.put(\"D\", \"D Val\");\n\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;String, String&gt;(unsortedMap);\n\n    System.out.println(\"\\nAfter sorting..\");\n    for (Map.Entry &lt;String, String&gt; mapEntry : sortedMap.entrySet()) {\n        System.out.println(mapEntry.getKey() + \" \\t\" + mapEntry.getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055120,"reputation":1,"user_id":1833089,"display_name":"cuneyt"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1353220670,"creation_date":1353220670,"answer_id":13438052,"question_id":109383,"body_markdown":"Major problem. If you use the first answer (Google takes you here), change the comparator to add an equal clause, otherwise you cannot get values from the sorted_map by keys:\r\n\r\n    public int compare(String a, String b) {\r\n\t\t\tif (base.get(a) &gt; base.get(b)) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else if (base.get(a) &lt; base.get(b)){\r\n\t\t\t\treturn -1;\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn 0;\r\n\t\t\t// returning 0 would merge keys\r\n\t\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Major problem. If you use the first answer (Google takes you here), change the comparator to add an equal clause, otherwise you cannot get values from the sorted_map by keys:</p>\n\n<pre><code>public int compare(String a, String b) {\n        if (base.get(a) &gt; base.get(b)) {\n            return 1;\n        } else if (base.get(a) &lt; base.get(b)){\n            return -1;\n        } \n\n        return 0;\n        // returning 0 would merge keys\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2346160,"reputation":132,"user_id":2056362,"display_name":"Sujan Reddy A"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1360476609,"creation_date":1360476609,"answer_id":14795215,"question_id":109383,"body_markdown":"Create customized comparator and use it while creating new TreeMap object.\r\n\r\n    class MyComparator implements Comparator&lt;Object&gt; {\r\n\r\n\t    Map&lt;String, Integer&gt; map;\r\n\r\n\t    public MyComparator(Map&lt;String, Integer&gt; map) {\r\n\t\t    this.map = map;\r\n\t    }\r\n\r\n\t    public int compare(Object o1, Object o2) {\r\n\r\n\t\t    if (map.get(o2) == map.get(o1))\r\n\t\t\t    return 1;\r\n\t\t    else\r\n\t\t\t    return ((Integer) map.get(o2)).compareTo((Integer)     \r\n                                                                map.get(o1));\r\n\r\n\t    }\r\n    }\r\n\r\nUse the below code in your main func\r\n\r\n    \tMap&lt;String, Integer&gt; lMap = new HashMap&lt;String, Integer&gt;();\r\n\t\tlMap.put(&quot;A&quot;, 35);\r\n\t\tlMap.put(&quot;B&quot;, 75);\r\n\t\tlMap.put(&quot;C&quot;, 50);\r\n\t\tlMap.put(&quot;D&quot;, 50);\r\n\r\n\t\tMyComparator comparator = new MyComparator(lMap);\r\n\r\n\t\tMap&lt;String, Integer&gt; newMap = new TreeMap&lt;String, Integer&gt;(comparator);\r\n\t\tnewMap.putAll(lMap);\r\n\t\tSystem.out.println(newMap);\r\n\r\nOutput:\r\n\r\n    {B=75, D=50, C=50, A=35}\r\n\t\t","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Create customized comparator and use it while creating new TreeMap object.</p>\n\n<pre><code>class MyComparator implements Comparator&lt;Object&gt; {\n\n    Map&lt;String, Integer&gt; map;\n\n    public MyComparator(Map&lt;String, Integer&gt; map) {\n        this.map = map;\n    }\n\n    public int compare(Object o1, Object o2) {\n\n        if (map.get(o2) == map.get(o1))\n            return 1;\n        else\n            return ((Integer) map.get(o2)).compareTo((Integer)     \n                                                            map.get(o1));\n\n    }\n}\n</code></pre>\n\n<p>Use the below code in your main func</p>\n\n<pre><code>    Map&lt;String, Integer&gt; lMap = new HashMap&lt;String, Integer&gt;();\n    lMap.put(\"A\", 35);\n    lMap.put(\"B\", 75);\n    lMap.put(\"C\", 50);\n    lMap.put(\"D\", 50);\n\n    MyComparator comparator = new MyComparator(lMap);\n\n    Map&lt;String, Integer&gt; newMap = new TreeMap&lt;String, Integer&gt;(comparator);\n    newMap.putAll(lMap);\n    System.out.println(newMap);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{B=75, D=50, C=50, A=35}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111636,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1417290388,"creation_date":1374978360,"answer_id":17904414,"question_id":109383,"body_markdown":"You can try Guava&#39;s multimaps:\r\n\r\n    TreeMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\r\n            Multimaps.invertFrom(Multimaps.forMap(originalMap), \r\n            ArrayListMultimap.&lt;Integer, String&gt;create()).asMap());\r\n\r\nAs a result you get a map from original values to collections of keys that correspond to them. This approach can be used even if there are multiple keys for the same value.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>You can try Guava's multimaps:</p>\n\n<pre><code>TreeMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\n        Multimaps.invertFrom(Multimaps.forMap(originalMap), \n        ArrayListMultimap.&lt;Integer, String&gt;create()).asMap());\n</code></pre>\n\n<p>As a result you get a map from original values to collections of keys that correspond to them. This approach can be used even if there are multiple keys for the same value.</p>\n"},{"tags":[],"owner":{"account_id":2705965,"reputation":581,"user_id":2335562,"display_name":"rohan kamat"},"down_vote_count":11,"up_vote_count":1,"is_accepted":false,"score":-10,"last_activity_date":1394257919,"creation_date":1382609592,"answer_id":19563077,"question_id":109383,"body_markdown":"as map is unordered \r\nto sort it ,we can do following \r\n\r\n    Map&lt;String, String&gt; map= new TreeMap&lt;String, String&gt;(unsortMap);\r\n\r\n\r\nYou should note that, unlike a hash map, a tree map guarantees that its elements will be sorted in ascending key order.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>as map is unordered \nto sort it ,we can do following </p>\n\n<pre><code>Map&lt;String, String&gt; map= new TreeMap&lt;String, String&gt;(unsortMap);\n</code></pre>\n\n<p>You should note that, unlike a hash map, a tree map guarantees that its elements will be sorted in ascending key order.</p>\n"},{"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1403648179,"creation_date":1384930479,"answer_id":20089342,"question_id":109383,"body_markdown":"To accomplish this with the new features in Java 8:\r\n\r\n    import static java.util.Map.Entry.comparingByValue;\r\n    import static java.util.stream.Collectors.toList;\r\n    \r\n    &lt;K, V&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map, Comparator&lt;? super V&gt; comparator) {\r\n        return map.entrySet().stream().sorted(comparingByValue(comparator)).collect(toList());\r\n    }\r\n\r\nThe entries are ordered by their values using the given comparator. Alternatively, if your values are mutually comparable, no explicit comparator is needed:\r\n\r\n    &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\r\n        return map.entrySet().stream().sorted(comparingByValue()).collect(toList());\r\n    }\r\n\r\nThe returned list is a snapshot of the given map at the time this method is called, so neither will reflect subsequent changes to the other. For a live iterable view of the map:\r\n\r\n    &lt;K, V extends Comparable&lt;? super V&gt;&gt; Iterable&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\r\n    \treturn () -&gt; map.entrySet().stream().sorted(comparingByValue()).iterator();\r\n    }\r\n\r\nThe returned iterable creates a fresh snapshot of the given map each time it&#39;s iterated, so barring concurrent modification, it will always reflect the current state of the map.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>To accomplish this with the new features in Java 8:</p>\n\n<pre><code>import static java.util.Map.Entry.comparingByValue;\nimport static java.util.stream.Collectors.toList;\n\n&lt;K, V&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map, Comparator&lt;? super V&gt; comparator) {\n    return map.entrySet().stream().sorted(comparingByValue(comparator)).collect(toList());\n}\n</code></pre>\n\n<p>The entries are ordered by their values using the given comparator. Alternatively, if your values are mutually comparable, no explicit comparator is needed:</p>\n\n<pre><code>&lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\n    return map.entrySet().stream().sorted(comparingByValue()).collect(toList());\n}\n</code></pre>\n\n<p>The returned list is a snapshot of the given map at the time this method is called, so neither will reflect subsequent changes to the other. For a live iterable view of the map:</p>\n\n<pre><code>&lt;K, V extends Comparable&lt;? super V&gt;&gt; Iterable&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\n    return () -&gt; map.entrySet().stream().sorted(comparingByValue()).iterator();\n}\n</code></pre>\n\n<p>The returned iterable creates a fresh snapshot of the given map each time it's iterated, so barring concurrent modification, it will always reflect the current state of the map.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1537250692,"creation_date":1393789095,"answer_id":22132422,"question_id":109383,"body_markdown":"With Java 8, you can use the [streams api][1] to do it in a significantly less verbose way:\r\n\r\n    Map&lt;K, V&gt; sortedMap = map.entrySet().stream()\r\n                             .sorted(Entry.comparingByValue())\r\n                             .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>With Java 8, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">streams api</a> to do it in a significantly less verbose way:</p>\n\n<pre><code>Map&lt;K, V&gt; sortedMap = map.entrySet().stream()\n                         .sorted(Entry.comparingByValue())\n                         .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2905957,"reputation":488,"user_id":2491301,"accept_rate":20,"display_name":"RobotMan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398157799,"creation_date":1398157799,"answer_id":23215184,"question_id":109383,"body_markdown":"I&#39;ve merged the solutions of user157196 and Carter Page:\r\n\r\n    class MapUtil {\r\n    \t\r\n    \tpublic static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue( Map&lt;K, V&gt; map ){\r\n    \t\tValueComparator&lt;K,V&gt; bvc =  new ValueComparator&lt;K,V&gt;(map);\r\n    \t\tTreeMap&lt;K,V&gt; sorted_map = new TreeMap&lt;K,V&gt;(bvc);\r\n    \t\tsorted_map.putAll(map);\r\n    \t\treturn sorted_map;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class ValueComparator&lt;K, V extends Comparable&lt;? super V&gt;&gt; implements Comparator&lt;K&gt; {\r\n    \r\n        Map&lt;K, V&gt; base;\r\n        public ValueComparator(Map&lt;K, V&gt; base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        public int compare(K a, K b) {\r\n            int result = (base.get(a).compareTo(base.get(b)));\r\n            if (result == 0) result=1;\r\n            // returning 0 would merge keys\r\n            return result;\r\n        }\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I've merged the solutions of user157196 and Carter Page:</p>\n\n<pre><code>class MapUtil {\n\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue( Map&lt;K, V&gt; map ){\n        ValueComparator&lt;K,V&gt; bvc =  new ValueComparator&lt;K,V&gt;(map);\n        TreeMap&lt;K,V&gt; sorted_map = new TreeMap&lt;K,V&gt;(bvc);\n        sorted_map.putAll(map);\n        return sorted_map;\n    }\n\n}\n\nclass ValueComparator&lt;K, V extends Comparable&lt;? super V&gt;&gt; implements Comparator&lt;K&gt; {\n\n    Map&lt;K, V&gt; base;\n    public ValueComparator(Map&lt;K, V&gt; base) {\n        this.base = base;\n    }\n\n    public int compare(K a, K b) {\n        int result = (base.get(a).compareTo(base.get(b)));\n        if (result == 0) result=1;\n        // returning 0 would merge keys\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":3,"up_vote_count":488,"is_accepted":false,"score":485,"last_activity_date":1657307599,"creation_date":1400946831,"answer_id":23846961,"question_id":109383,"body_markdown":"Java 8 offers a new answer: convert the entries into a stream, and use the comparator combinators from Map.Entry:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue());\r\n\r\nThis will let you consume the entries sorted in ascending order of value.  If you want descending value, simply reverse the comparator:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));\r\n\r\nIf the values are not comparable, you can pass an explicit comparator:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue(comparator));\r\n\r\nYou can then proceed to use other stream operations to consume the data. For example, if you want the top 10 in a new map:\r\n\r\n    Map&lt;K,V&gt; topTen =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n           .limit(10)\r\n           .collect(Collectors.toMap(\r\n              Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nThe [`LinkedHashMap`][1] seen above iterates entries in the order in which they were inserted. \r\n \r\nOr print to `System.out`:\r\n\r\n    map.entrySet().stream()\r\n       .sorted(Map.Entry.comparingByValue())\r\n       .forEach(System.out::println);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Java 8 offers a new answer: convert the entries into a stream, and use the comparator combinators from Map.Entry:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue());\n</code></pre>\n<p>This will let you consume the entries sorted in ascending order of value.  If you want descending value, simply reverse the comparator:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));\n</code></pre>\n<p>If the values are not comparable, you can pass an explicit comparator:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue(comparator));\n</code></pre>\n<p>You can then proceed to use other stream operations to consume the data. For example, if you want the top 10 in a new map:</p>\n<pre><code>Map&lt;K,V&gt; topTen =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n       .limit(10)\n       .collect(Collectors.toMap(\n          Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a> seen above iterates entries in the order in which they were inserted.</p>\n<p>Or print to <code>System.out</code>:</p>\n<pre><code>map.entrySet().stream()\n   .sorted(Map.Entry.comparingByValue())\n   .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4925584,"reputation":900,"user_id":3966892,"display_name":"Nilesh Jadav"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1480976957,"creation_date":1447928941,"answer_id":33801276,"question_id":109383,"body_markdown":"**Best Approach**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.Map.Entry; \r\n\r\n    public class OrderByValue {\r\n \r\n      public static void main(String a[]){\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        map.put(&quot;java&quot;, 20);\r\n        map.put(&quot;C++&quot;, 45);\r\n        map.put(&quot;Unix&quot;, 67);\r\n        map.put(&quot;MAC&quot;, 26);\r\n        map.put(&quot;Why this kolavari&quot;, 93);\r\n        Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\r\n        Collections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\r\n        {\r\n            public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\r\n            {\r\n                return (o1.getValue()).compareTo( o2.getValue() );//Ascending order\r\n\t\t\t\t//return (o2.getValue()).compareTo( o1.getValue() );//Descending order\r\n            }\r\n        } );\r\n        for(Map.Entry&lt;String, Integer&gt; entry:list){\r\n            System.out.println(entry.getKey()+&quot; ==== &quot;+entry.getValue());\r\n        }\r\n      }}\r\n\r\n**Output**\r\n\r\n    java ==== 20\r\n    \r\n    MAC ==== 26\r\n    \r\n    C++ ==== 45\r\n    \r\n    Unix ==== 67\r\n\r\n    Why this kolavari ==== 93","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Best Approach</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.Map.Entry; \n\npublic class OrderByValue {\n\n  public static void main(String a[]){\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"java\", 20);\n    map.put(\"C++\", 45);\n    map.put(\"Unix\", 67);\n    map.put(\"MAC\", 26);\n    map.put(\"Why this kolavari\", 93);\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\n    Collections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\n    {\n        public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\n        {\n            return (o1.getValue()).compareTo( o2.getValue() );//Ascending order\n            //return (o2.getValue()).compareTo( o1.getValue() );//Descending order\n        }\n    } );\n    for(Map.Entry&lt;String, Integer&gt; entry:list){\n        System.out.println(entry.getKey()+\" ==== \"+entry.getValue());\n    }\n  }}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>java ==== 20\n\nMAC ==== 26\n\nC++ ==== 45\n\nUnix ==== 67\n\nWhy this kolavari ==== 93\n</code></pre>\n"},{"tags":[],"owner":{"account_id":374668,"reputation":1331,"user_id":724991,"display_name":"Ux&#237;o"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1450261817,"creation_date":1450200377,"answer_id":34295647,"question_id":109383,"body_markdown":"If there&#39;s not any value bigger than the size of the map, you could use arrays, this should be the fastest approach:\r\n\r\n    public List&lt;String&gt; getList(Map&lt;String, Integer&gt; myMap) {\r\n        String[] copyArray = new String[myMap.size()];\r\n        for (Entry&lt;String, Integer&gt; entry : myMap.entrySet()) {\r\n            copyArray[entry.getValue()] = entry.getKey();\r\n        }\r\n        return Arrays.asList(copyArray);\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If there's not any value bigger than the size of the map, you could use arrays, this should be the fastest approach:</p>\n\n<pre><code>public List&lt;String&gt; getList(Map&lt;String, Integer&gt; myMap) {\n    String[] copyArray = new String[myMap.size()];\n    for (Entry&lt;String, Integer&gt; entry : myMap.entrySet()) {\n        copyArray[entry.getValue()] = entry.getKey();\n    }\n    return Arrays.asList(copyArray);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1452824313,"creation_date":1452820177,"answer_id":34802755,"question_id":109383,"body_markdown":"        static &lt;K extends Comparable&lt;? super K&gt;, V extends Comparable&lt;? super V&gt;&gt;\r\n        Map sortByValueInDescendingOrder(final Map&lt;K, V&gt; map) {\r\n            Map re = new TreeMap(new Comparator&lt;K&gt;() {\r\n                @Override\r\n                public int compare(K o1, K o2) {\r\n                    if (map.get(o1) == null || map.get(o2) == null) {\r\n                        return -o1.compareTo(o2);\r\n                    }\r\n                    int result = -map.get(o1).compareTo(map.get(o2));\r\n                    if (result != 0) {\r\n                        return result;\r\n                    }\r\n                    return -o1.compareTo(o2);\r\n                }\r\n            });\r\n            re.putAll(map);\r\n            return re;\r\n        }\r\n        @Test(timeout = 3000l, expected = Test.None.class)\r\n        public void testSortByValueInDescendingOrder() {\r\n            char[] arr = &quot;googler&quot;.toCharArray();\r\n            Map&lt;Character, Integer&gt; charToTimes = new HashMap();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                Integer times = charToTimes.get(arr[i]);\r\n                charToTimes.put(arr[i], times == null ? 1 : times + 1);\r\n            }\r\n            Map sortedByTimes = sortByValueInDescendingOrder(charToTimes);\r\n            Assert.assertEquals(charToTimes.toString(), &quot;{g=2, e=1, r=1, o=2, l=1}&quot;);\r\n            Assert.assertEquals(sortedByTimes.toString(), &quot;{o=2, g=2, r=1, l=1, e=1}&quot;);\r\n            Assert.assertEquals(sortedByTimes.containsKey(&#39;a&#39;), false);\r\n            Assert.assertEquals(sortedByTimes.get(&#39;a&#39;), null);\r\n            Assert.assertEquals(sortedByTimes.get(&#39;g&#39;), 2);\r\n            Assert.assertEquals(sortedByTimes.equals(charToTimes), true);\r\n        }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>    static &lt;K extends Comparable&lt;? super K&gt;, V extends Comparable&lt;? super V&gt;&gt;\n    Map sortByValueInDescendingOrder(final Map&lt;K, V&gt; map) {\n        Map re = new TreeMap(new Comparator&lt;K&gt;() {\n            @Override\n            public int compare(K o1, K o2) {\n                if (map.get(o1) == null || map.get(o2) == null) {\n                    return -o1.compareTo(o2);\n                }\n                int result = -map.get(o1).compareTo(map.get(o2));\n                if (result != 0) {\n                    return result;\n                }\n                return -o1.compareTo(o2);\n            }\n        });\n        re.putAll(map);\n        return re;\n    }\n    @Test(timeout = 3000l, expected = Test.None.class)\n    public void testSortByValueInDescendingOrder() {\n        char[] arr = \"googler\".toCharArray();\n        Map&lt;Character, Integer&gt; charToTimes = new HashMap();\n        for (int i = 0; i &lt; arr.length; i++) {\n            Integer times = charToTimes.get(arr[i]);\n            charToTimes.put(arr[i], times == null ? 1 : times + 1);\n        }\n        Map sortedByTimes = sortByValueInDescendingOrder(charToTimes);\n        Assert.assertEquals(charToTimes.toString(), \"{g=2, e=1, r=1, o=2, l=1}\");\n        Assert.assertEquals(sortedByTimes.toString(), \"{o=2, g=2, r=1, l=1, e=1}\");\n        Assert.assertEquals(sortedByTimes.containsKey('a'), false);\n        Assert.assertEquals(sortedByTimes.get('a'), null);\n        Assert.assertEquals(sortedByTimes.get('g'), 2);\n        Assert.assertEquals(sortedByTimes.equals(charToTimes), true);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958091,"reputation":61,"user_id":1760575,"display_name":"David Bleckmann"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1496698587,"creation_date":1461474701,"answer_id":36819520,"question_id":109383,"body_markdown":"There are a lot of answers for this question already, but none provided me what I was looking for, a map implementation that returns keys and entries sorted by the associated value, and maintains this property as keys and values are modified in the map. Two [other][1] [questions][2] ask for this specifically. \r\n\r\nI cooked up a generic friendly example that solves this use case. This implementation does not honor all of the contracts of the Map interface, such as reflecting value changes and removals in the sets return from keySet() and entrySet() in the original object. I felt such a solution would be too large to include in a Stack Overflow answer. If I manage to create a more complete implementation, perhaps I will post it to Github and then to it link in an updated version of this answer.\r\n\r\n\r\n    import java.util.*;\r\n\r\n    /**\r\n     * A map where {@link #keySet()} and {@link #entrySet()} return sets ordered\r\n     * by associated values based on the the comparator provided at construction\r\n     * time. The order of two or more keys with identical values is not defined.\r\n     * &lt;p&gt;\r\n     * Several contracts of the Map interface are not satisfied by this minimal\r\n     * implementation.\r\n     */\r\n    public class ValueSortedMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n        protected Map&lt;V, Collection&lt;K&gt;&gt; valueToKeysMap;\r\n\r\n        // uses natural order of value object, if any\r\n        public ValueSortedMap() {\r\n            this((Comparator&lt;? super V&gt;) null);\r\n        }\r\n\r\n        public ValueSortedMap(Comparator&lt;? super V&gt; valueComparator) {\r\n            this.valueToKeysMap = new TreeMap&lt;V, Collection&lt;K&gt;&gt;(valueComparator);\r\n        }\r\n\r\n        public boolean containsValue(Object o) {\r\n            return valueToKeysMap.containsKey(o);\r\n        }\r\n\r\n        public V put(K k, V v) {\r\n            V oldV = null;\r\n            if (containsKey(k)) {\r\n                oldV = get(k);\r\n                valueToKeysMap.get(oldV).remove(k);\r\n            }\r\n            super.put(k, v);\r\n            if (!valueToKeysMap.containsKey(v)) {\r\n                Collection&lt;K&gt; keys = new ArrayList&lt;K&gt;();\r\n                keys.add(k);\r\n                valueToKeysMap.put(v, keys);\r\n            } else {\r\n                valueToKeysMap.get(v).add(k);\r\n            }\r\n            return oldV;\r\n        }\r\n\r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n            for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet())\r\n                put(e.getKey(), e.getValue());\r\n        }\r\n\r\n        public V remove(Object k) {\r\n            V oldV = null;\r\n            if (containsKey(k)) {\r\n                oldV = get(k);\r\n                super.remove(k);\r\n                valueToKeysMap.get(oldV).remove(k);\r\n            }\r\n            return oldV;\r\n        }\r\n\r\n        public void clear() {\r\n            super.clear();\r\n            valueToKeysMap.clear();\r\n        }\r\n\r\n        public Set&lt;K&gt; keySet() {\r\n            LinkedHashSet&lt;K&gt; ret = new LinkedHashSet&lt;K&gt;(size());\r\n            for (V v : valueToKeysMap.keySet()) {\r\n                Collection&lt;K&gt; keys = valueToKeysMap.get(v);\r\n                ret.addAll(keys);\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet() {\r\n            LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt; ret = new LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt;(size());\r\n            for (Collection&lt;K&gt; keys : valueToKeysMap.values()) {\r\n                for (final K k : keys) {\r\n                    final V v = get(k);\r\n                    ret.add(new Map.Entry&lt;K,V&gt;() {\r\n                        public K getKey() {\r\n                            return k;\r\n                        }\r\n\r\n                        public V getValue() {\r\n                            return v;\r\n                        }\r\n\r\n                        public V setValue(V v) {\r\n                            throw new UnsupportedOperationException();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/13108887/1760575\r\n  [2]: https://stackoverflow.com/q/7465369/1760575","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>There are a lot of answers for this question already, but none provided me what I was looking for, a map implementation that returns keys and entries sorted by the associated value, and maintains this property as keys and values are modified in the map. Two <a href=\"https://stackoverflow.com/q/13108887/1760575\">other</a> <a href=\"https://stackoverflow.com/q/7465369/1760575\">questions</a> ask for this specifically. </p>\n\n<p>I cooked up a generic friendly example that solves this use case. This implementation does not honor all of the contracts of the Map interface, such as reflecting value changes and removals in the sets return from keySet() and entrySet() in the original object. I felt such a solution would be too large to include in a Stack Overflow answer. If I manage to create a more complete implementation, perhaps I will post it to Github and then to it link in an updated version of this answer.</p>\n\n<pre><code>import java.util.*;\n\n/**\n * A map where {@link #keySet()} and {@link #entrySet()} return sets ordered\n * by associated values based on the the comparator provided at construction\n * time. The order of two or more keys with identical values is not defined.\n * &lt;p&gt;\n * Several contracts of the Map interface are not satisfied by this minimal\n * implementation.\n */\npublic class ValueSortedMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n    protected Map&lt;V, Collection&lt;K&gt;&gt; valueToKeysMap;\n\n    // uses natural order of value object, if any\n    public ValueSortedMap() {\n        this((Comparator&lt;? super V&gt;) null);\n    }\n\n    public ValueSortedMap(Comparator&lt;? super V&gt; valueComparator) {\n        this.valueToKeysMap = new TreeMap&lt;V, Collection&lt;K&gt;&gt;(valueComparator);\n    }\n\n    public boolean containsValue(Object o) {\n        return valueToKeysMap.containsKey(o);\n    }\n\n    public V put(K k, V v) {\n        V oldV = null;\n        if (containsKey(k)) {\n            oldV = get(k);\n            valueToKeysMap.get(oldV).remove(k);\n        }\n        super.put(k, v);\n        if (!valueToKeysMap.containsKey(v)) {\n            Collection&lt;K&gt; keys = new ArrayList&lt;K&gt;();\n            keys.add(k);\n            valueToKeysMap.put(v, keys);\n        } else {\n            valueToKeysMap.get(v).add(k);\n        }\n        return oldV;\n    }\n\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet())\n            put(e.getKey(), e.getValue());\n    }\n\n    public V remove(Object k) {\n        V oldV = null;\n        if (containsKey(k)) {\n            oldV = get(k);\n            super.remove(k);\n            valueToKeysMap.get(oldV).remove(k);\n        }\n        return oldV;\n    }\n\n    public void clear() {\n        super.clear();\n        valueToKeysMap.clear();\n    }\n\n    public Set&lt;K&gt; keySet() {\n        LinkedHashSet&lt;K&gt; ret = new LinkedHashSet&lt;K&gt;(size());\n        for (V v : valueToKeysMap.keySet()) {\n            Collection&lt;K&gt; keys = valueToKeysMap.get(v);\n            ret.addAll(keys);\n        }\n        return ret;\n    }\n\n    public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet() {\n        LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt; ret = new LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt;(size());\n        for (Collection&lt;K&gt; keys : valueToKeysMap.values()) {\n            for (final K k : keys) {\n                final V v = get(k);\n                ret.add(new Map.Entry&lt;K,V&gt;() {\n                    public K getKey() {\n                        return k;\n                    }\n\n                    public V getValue() {\n                        return v;\n                    }\n\n                    public V setValue(V v) {\n                        throw new UnsupportedOperationException();\n                    }\n                });\n            }\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5729658,"reputation":1391,"user_id":4525620,"display_name":"Alexander"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1474629050,"creation_date":1474629050,"answer_id":39659333,"question_id":109383,"body_markdown":"My solution is a quite simple approach in the way of using mostly given APIs.\r\nWe use the feature of **Map** to export its content as **Set** via **entrySet()** method. We now have a **Set** containing **Map.Entry&lt;K,V&gt;** objects. \r\n\r\nOkay, a Set does not carry an order, but we can take the content an put it into an **ArrayList**. It now has an *random* order, but we will sort it anyway.\r\n\r\nAs **ArrayList** is a **Collection**, we now use the **Collections.sort()** method to bring order to chaos. Because our **Map.Entry&lt;K,V&gt;** objects do not realize the kind of comparison we need, we provide a custom **Comparator**.\r\n\r\n    public static void main(String[] args) {\r\n\t\tHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;Z&quot;, &quot;E&quot;);\r\n\t\tmap.put(&quot;G&quot;, &quot;A&quot;);\r\n\t\tmap.put(&quot;D&quot;, &quot;C&quot;);\r\n\t\tmap.put(&quot;E&quot;, null);\r\n\t\tmap.put(&quot;O&quot;, &quot;C&quot;);\r\n\t\tmap.put(&quot;L&quot;, &quot;D&quot;);\r\n\t\tmap.put(&quot;Q&quot;, &quot;B&quot;);\r\n\t\tmap.put(&quot;A&quot;, &quot;F&quot;);\r\n\t\tmap.put(null, &quot;X&quot;);\r\n\t\tMapEntryComparator mapEntryComparator = new MapEntryComparator();\r\n\t\t\r\n\t\tList&lt;Entry&lt;String,String&gt;&gt; entryList = new ArrayList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(entryList, mapEntryComparator);\r\n\t\t\r\n\t\tfor (Entry&lt;String, String&gt; entry : entryList) {\r\n\t\t\tSystem.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n\t\t}\r\n\t\t\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>My solution is a quite simple approach in the way of using mostly given APIs.\nWe use the feature of <strong>Map</strong> to export its content as <strong>Set</strong> via <strong>entrySet()</strong> method. We now have a <strong>Set</strong> containing <strong>Map.Entry</strong> objects. </p>\n\n<p>Okay, a Set does not carry an order, but we can take the content an put it into an <strong>ArrayList</strong>. It now has an <em>random</em> order, but we will sort it anyway.</p>\n\n<p>As <strong>ArrayList</strong> is a <strong>Collection</strong>, we now use the <strong>Collections.sort()</strong> method to bring order to chaos. Because our <strong>Map.Entry</strong> objects do not realize the kind of comparison we need, we provide a custom <strong>Comparator</strong>.</p>\n\n<pre><code>public static void main(String[] args) {\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"Z\", \"E\");\n    map.put(\"G\", \"A\");\n    map.put(\"D\", \"C\");\n    map.put(\"E\", null);\n    map.put(\"O\", \"C\");\n    map.put(\"L\", \"D\");\n    map.put(\"Q\", \"B\");\n    map.put(\"A\", \"F\");\n    map.put(null, \"X\");\n    MapEntryComparator mapEntryComparator = new MapEntryComparator();\n\n    List&lt;Entry&lt;String,String&gt;&gt; entryList = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(entryList, mapEntryComparator);\n\n    for (Entry&lt;String, String&gt; entry : entryList) {\n        System.out.println(entry.getKey() + \" : \" + entry.getValue());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1673926640,"creation_date":1480364187,"answer_id":40852723,"question_id":109383,"body_markdown":"Here is the code by Java 8 with [abacus-common][1]\r\n\r\n    Map&lt;String, Integer&gt; map = N.asMap(&quot;a&quot;, 2, &quot;b&quot;, 3, &quot;c&quot;, 1, &quot;d&quot;, 2);\r\n    Map&lt;String, Integer&gt; sortedMap = Stream.of(map.entrySet()).sorted(Map.Entry.comparingByValue()).toMap(e -&gt; e.getKey(), e -&gt; e.getValue(),\r\n        LinkedHashMap::new);\r\n    N.println(sortedMap);\r\n    // output: {c=1, a=2, d=2, b=3}\r\n\r\nDeclaration I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here is the code by Java 8 with <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, Integer&gt; map = N.asMap(&quot;a&quot;, 2, &quot;b&quot;, 3, &quot;c&quot;, 1, &quot;d&quot;, 2);\nMap&lt;String, Integer&gt; sortedMap = Stream.of(map.entrySet()).sorted(Map.Entry.comparingByValue()).toMap(e -&gt; e.getKey(), e -&gt; e.getValue(),\n    LinkedHashMap::new);\nN.println(sortedMap);\n// output: {c=1, a=2, d=2, b=3}\n</code></pre>\n<p>Declaration I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":3361715,"reputation":388,"user_id":2823380,"display_name":"Tanuj Verma"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1487569053,"creation_date":1487569053,"answer_id":42337208,"question_id":109383,"body_markdown":"Best thing is to convert HashMap to TreeMap. TreeMap sort keys on its own.\r\nIf you want to sort on values than quick fix can be you can switch values with keys if your values are not duplicates.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Best thing is to convert HashMap to TreeMap. TreeMap sort keys on its own.\nIf you want to sort on values than quick fix can be you can switch values with keys if your values are not duplicates.</p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1520717523,"creation_date":1514932537,"answer_id":48068780,"question_id":109383,"body_markdown":"    public class Test {\r\n      public static void main(String[] args) {\r\n        TreeMap&lt;Integer, String&gt; hm=new TreeMap();\r\n        hm.put(3, &quot;arun singh&quot;);\r\n        hm.put(5, &quot;vinay singh&quot;);\r\n        hm.put(1, &quot;bandagi singh&quot;);\r\n        hm.put(6, &quot;vikram singh&quot;);\r\n        hm.put(2, &quot;panipat singh&quot;);\r\n        hm.put(28, &quot;jakarta singh&quot;);\r\n    \r\n        ArrayList&lt;String&gt; al=new ArrayList(hm.values());\r\n        Collections.sort(al, new myComparator());\r\n    \r\n        System.out.println(&quot;//sort by values \\n&quot;);\r\n        for(String obj: al){\r\n        \tfor(Map.Entry&lt;Integer, String&gt; map2:hm.entrySet()){\r\n    \t    \tif(map2.getValue().equals(obj)){\r\n    \t    \t\tSystem.out.println(map2.getKey()+&quot; &quot;+map2.getValue());\r\n    \t    \t}\r\n    \t    } \r\n         }\r\n      }\r\n    }\r\n    \r\n    class myComparator implements Comparator{\r\n    \t@Override\r\n        public int compare(Object o1, Object o2) {\r\n           String o3=(String) o1;\r\n           String o4 =(String) o2;\r\n           return o3.compareTo(o4);\r\n        }\t\r\n    }\r\nOUTPUT=\r\n\r\n    //sort by values \r\n    \r\n    3 arun singh\r\n    1 bandagi singh\r\n    28 jakarta singh\r\n    2 panipat singh\r\n    6 vikram singh\r\n    5 vinay singh","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>public class Test {\n  public static void main(String[] args) {\n    TreeMap&lt;Integer, String&gt; hm=new TreeMap();\n    hm.put(3, \"arun singh\");\n    hm.put(5, \"vinay singh\");\n    hm.put(1, \"bandagi singh\");\n    hm.put(6, \"vikram singh\");\n    hm.put(2, \"panipat singh\");\n    hm.put(28, \"jakarta singh\");\n\n    ArrayList&lt;String&gt; al=new ArrayList(hm.values());\n    Collections.sort(al, new myComparator());\n\n    System.out.println(\"//sort by values \\n\");\n    for(String obj: al){\n        for(Map.Entry&lt;Integer, String&gt; map2:hm.entrySet()){\n            if(map2.getValue().equals(obj)){\n                System.out.println(map2.getKey()+\" \"+map2.getValue());\n            }\n        } \n     }\n  }\n}\n\nclass myComparator implements Comparator{\n    @Override\n    public int compare(Object o1, Object o2) {\n       String o3=(String) o1;\n       String o4 =(String) o2;\n       return o3.compareTo(o4);\n    }   \n}\n</code></pre>\n\n<p>OUTPUT=</p>\n\n<pre><code>//sort by values \n\n3 arun singh\n1 bandagi singh\n28 jakarta singh\n2 panipat singh\n6 vikram singh\n5 vinay singh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526633404,"creation_date":1526629239,"answer_id":50406218,"question_id":109383,"body_markdown":"Late Entry.\r\n\r\nWith the advent of Java-8, we can use streams for data manipulation in a very easy/succinct way. You can use streams to sort the map entries by value and create a [LinkedHashMap][1] which preserves *insertion-order* iteration.\r\n\r\nEg:\r\n\r\n    LinkedHashMap sortedByValueMap = map.entrySet().stream()\r\n                    .sorted(comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey))     //first sorting by Value, then sorting by Key(entries with same value)\r\n                    .collect(LinkedHashMap::new,(map,entry) -&gt; map.put(entry.getKey(),entry.getValue()),LinkedHashMap::putAll);\r\n\r\n\r\n----------\r\n\r\n\r\nFor reverse ordering, replace:\r\n\r\n    comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey)\r\n\r\nwith\r\n\r\n    comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey).reversed()\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Late Entry.</p>\n\n<p>With the advent of Java-8, we can use streams for data manipulation in a very easy/succinct way. You can use streams to sort the map entries by value and create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">LinkedHashMap</a> which preserves <em>insertion-order</em> iteration.</p>\n\n<p>Eg:</p>\n\n<pre><code>LinkedHashMap sortedByValueMap = map.entrySet().stream()\n                .sorted(comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey))     //first sorting by Value, then sorting by Key(entries with same value)\n                .collect(LinkedHashMap::new,(map,entry) -&gt; map.put(entry.getKey(),entry.getValue()),LinkedHashMap::putAll);\n</code></pre>\n\n<hr>\n\n<p>For reverse ordering, replace:</p>\n\n<pre><code>comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey).reversed()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536304696,"creation_date":1532185010,"answer_id":51457226,"question_id":109383,"body_markdown":"If there is a preference of having a `Map` data structure that inherently sorts by values without having to trigger any sort methods or explicitly pass to a utility, then the following solutions may be applicable:\r\n\r\n(1) [org.drools.chance.core.util.ValueSortedMap][1] (JBoss project) maintains two maps internally one for lookup and one for maintaining the sorted values. Quite similar to previously added answers, but probably it is the abstraction and encapsulation part (including copying mechanism) that makes it safer to use from the outside. \r\n\r\n(2) [http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html][2] avoids maintaining two maps and instead relies/extends from Apache Common&#39;s LinkedMap. (Blog author&#39;s note: `as all the code here is in the public domain`):\r\n\r\n\t// required to access LinkEntry.before and LinkEntry.after\r\n\tpackage org.apache.commons.collections.map;\r\n\r\n\t// SNIP: imports\r\n\r\n\t/**\r\n\t* map implementation based on LinkedMap that maintains a sorted list of\r\n\t* values for iteration\r\n\t*/\r\n\tpublic class ValueSortedHashMap extends LinkedMap {\r\n\t\tprivate final boolean _asc;\r\n\r\n\t\t// don&#39;t use super()!\r\n\t\tpublic ValueSortedHashMap(final boolean asc) {\r\n\t\t\tsuper(DEFAULT_CAPACITY);\r\n\t\t\t_asc = asc;\r\n\t\t}\r\n\r\n\t\t// SNIP: some more constructors with initial capacity and the like\r\n\r\n\t\tprotected void addEntry(final HashEntry entry, final int hashIndex) {\r\n\t\t\tfinal LinkEntry link = (LinkEntry) entry;\r\n\t\t\tinsertSorted(link);\r\n\t\t\tdata[hashIndex] = entry;\r\n\t\t}\r\n\r\n\t\tprotected void updateEntry(final HashEntry entry, final Object newValue) {\r\n\t\t\tentry.setValue(newValue);\r\n\t\t\tfinal LinkEntry link = (LinkEntry) entry;\r\n\t\t\tlink.before.after = link.after;\r\n\t\t\tlink.after.before = link.before;\r\n\t\t\tlink.after = link.before = null;\r\n\t\t\tinsertSorted(link);\r\n\t\t}\r\n\r\n\t\tprivate void insertSorted(final LinkEntry link) {\r\n\t\t\tLinkEntry cur = header;\r\n\t\t\t// iterate whole list, could (should?) be replaced with quicksearch\r\n\t\t\t// start at end to optimize speed for in-order insertions\r\n\t\t\twhile ((cur = cur.before) != header &amp; amp; &amp; amp; !insertAfter(cur, link)) {}\r\n\t\t\tlink.after = cur.after;\r\n\t\t\tlink.before = cur;\r\n\t\t\tcur.after.before = link;\r\n\t\t\tcur.after = link;\r\n\t\t}\r\n\r\n\t\tprotected boolean insertAfter(final LinkEntry cur, final LinkEntry link) {\r\n\t\t\tif (_asc) {\r\n\t\t\t\treturn ((Comparable) cur.getValue())\r\n\t\t\t\t.compareTo((V) link.getValue()) &amp; lt; = 0;\r\n\t\t\t} else {\r\n\t\t\t\treturn ((Comparable) cur.getValue())\r\n\t\t\t\t.compareTo((V) link.getValue()) &amp; gt; = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic boolean isAscending() {\r\n\t\t\treturn _asc;\r\n\t\t}\r\n\t}\r\n\r\n(3) Write a custom `Map` or extends from `LinkedHashMap` that will only sort during enumeration (e.g., `values()`, `keyset()`, `entryset()`) as needed. The inner implementation/behavior is abstracted from the one using this class but it appears to the client of this class that values are always sorted when requested for enumeration. This class hopes that sorting will happen mostly once if all `put` operations have been completed before enumerations. Sorting method adopts some of the previous answers to this question. \r\n\r\n    public class SortByValueMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\r\n    \r\n        private boolean isSortingNeeded = false;\r\n    \t\r\n    \tprivate final Map&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public V put(K key, V value) {\r\n            isSortingNeeded = true;\r\n            return map.put(key, value);\r\n        }\r\n    \r\n        @Override\r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; map) {\r\n            isSortingNeeded = true;\r\n            map.putAll(map);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;K&gt; keySet() {\r\n            sort();\r\n            return map.keySet();\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n            sort();\r\n            return map.entrySet();\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;V&gt; values() {\r\n            sort();\r\n            return map.values();\r\n        }\r\n    \r\n        private void sort() {\r\n            if (!isSortingNeeded) {\r\n                return;\r\n            }\r\n    \r\n            List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(size());\r\n    \r\n            for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator(); it.hasNext();) {\r\n                Map.Entry&lt;K, V&gt; entry = it.next();\r\n    \t\t\tlist.add(entry);\r\n    \t\t\tit.remove();\r\n            }\r\n    \r\n            Collections.sort(list);\r\n    \r\n            for (Entry&lt;K, V&gt; entry : list) {\r\n                map.put(entry.getKey(), entry.getValue());\r\n            }\r\n    \r\n            isSortingNeeded = false;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            sort();\r\n            return map.toString();\r\n        }\r\n    }\r\n\r\n(4) Guava offers [ImmutableMap.Builder.orderEntriesByValue(Comparator&lt;? super V&gt; valueComparator)][3] although the resulting map will be immutable:\r\n\r\n&gt; Configures this Builder to order entries by value according to the\r\n&gt; specified comparator.\r\n&gt; \r\n&gt; The sort order is stable, that is, if two entries have values that\r\n&gt; compare as equivalent, the entry that was inserted first will be first\r\n&gt; in the built map&#39;s iteration order.\r\n\r\n\r\n  [1]: https://github.com/kiegroup/drools-chance/blob/898c619b74ebff5ea6add8dd750c505b441e17bb/drools-chance-core/src/main/java/org/drools/chance/core/util/ValueSortedMap.java\r\n  [2]: http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html\r\n  [3]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#orderEntriesByValue-java.util.Comparator-","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If there is a preference of having a <code>Map</code> data structure that inherently sorts by values without having to trigger any sort methods or explicitly pass to a utility, then the following solutions may be applicable:</p>\n\n<p>(1) <a href=\"https://github.com/kiegroup/drools-chance/blob/898c619b74ebff5ea6add8dd750c505b441e17bb/drools-chance-core/src/main/java/org/drools/chance/core/util/ValueSortedMap.java\" rel=\"nofollow noreferrer\">org.drools.chance.core.util.ValueSortedMap</a> (JBoss project) maintains two maps internally one for lookup and one for maintaining the sorted values. Quite similar to previously added answers, but probably it is the abstraction and encapsulation part (including copying mechanism) that makes it safer to use from the outside. </p>\n\n<p>(2) <a href=\"http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html\" rel=\"nofollow noreferrer\">http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html</a> avoids maintaining two maps and instead relies/extends from Apache Common's LinkedMap. (Blog author's note: <code>as all the code here is in the public domain</code>):</p>\n\n<pre><code>// required to access LinkEntry.before and LinkEntry.after\npackage org.apache.commons.collections.map;\n\n// SNIP: imports\n\n/**\n* map implementation based on LinkedMap that maintains a sorted list of\n* values for iteration\n*/\npublic class ValueSortedHashMap extends LinkedMap {\n    private final boolean _asc;\n\n    // don't use super()!\n    public ValueSortedHashMap(final boolean asc) {\n        super(DEFAULT_CAPACITY);\n        _asc = asc;\n    }\n\n    // SNIP: some more constructors with initial capacity and the like\n\n    protected void addEntry(final HashEntry entry, final int hashIndex) {\n        final LinkEntry link = (LinkEntry) entry;\n        insertSorted(link);\n        data[hashIndex] = entry;\n    }\n\n    protected void updateEntry(final HashEntry entry, final Object newValue) {\n        entry.setValue(newValue);\n        final LinkEntry link = (LinkEntry) entry;\n        link.before.after = link.after;\n        link.after.before = link.before;\n        link.after = link.before = null;\n        insertSorted(link);\n    }\n\n    private void insertSorted(final LinkEntry link) {\n        LinkEntry cur = header;\n        // iterate whole list, could (should?) be replaced with quicksearch\n        // start at end to optimize speed for in-order insertions\n        while ((cur = cur.before) != header &amp; amp; &amp; amp; !insertAfter(cur, link)) {}\n        link.after = cur.after;\n        link.before = cur;\n        cur.after.before = link;\n        cur.after = link;\n    }\n\n    protected boolean insertAfter(final LinkEntry cur, final LinkEntry link) {\n        if (_asc) {\n            return ((Comparable) cur.getValue())\n            .compareTo((V) link.getValue()) &amp; lt; = 0;\n        } else {\n            return ((Comparable) cur.getValue())\n            .compareTo((V) link.getValue()) &amp; gt; = 0;\n        }\n    }\n\n    public boolean isAscending() {\n        return _asc;\n    }\n}\n</code></pre>\n\n<p>(3) Write a custom <code>Map</code> or extends from <code>LinkedHashMap</code> that will only sort during enumeration (e.g., <code>values()</code>, <code>keyset()</code>, <code>entryset()</code>) as needed. The inner implementation/behavior is abstracted from the one using this class but it appears to the client of this class that values are always sorted when requested for enumeration. This class hopes that sorting will happen mostly once if all <code>put</code> operations have been completed before enumerations. Sorting method adopts some of the previous answers to this question. </p>\n\n<pre><code>public class SortByValueMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\n\n    private boolean isSortingNeeded = false;\n\n    private final Map&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\n\n    @Override\n    public V put(K key, V value) {\n        isSortingNeeded = true;\n        return map.put(key, value);\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends K, ? extends V&gt; map) {\n        isSortingNeeded = true;\n        map.putAll(map);\n    }\n\n    @Override\n    public Set&lt;K&gt; keySet() {\n        sort();\n        return map.keySet();\n    }\n\n    @Override\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n        sort();\n        return map.entrySet();\n    }\n\n    @Override\n    public Collection&lt;V&gt; values() {\n        sort();\n        return map.values();\n    }\n\n    private void sort() {\n        if (!isSortingNeeded) {\n            return;\n        }\n\n        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(size());\n\n        for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator(); it.hasNext();) {\n            Map.Entry&lt;K, V&gt; entry = it.next();\n            list.add(entry);\n            it.remove();\n        }\n\n        Collections.sort(list);\n\n        for (Entry&lt;K, V&gt; entry : list) {\n            map.put(entry.getKey(), entry.getValue());\n        }\n\n        isSortingNeeded = false;\n    }\n\n    @Override\n    public String toString() {\n        sort();\n        return map.toString();\n    }\n}\n</code></pre>\n\n<p>(4) Guava offers <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#orderEntriesByValue-java.util.Comparator-\" rel=\"nofollow noreferrer\">ImmutableMap.Builder.orderEntriesByValue(Comparator valueComparator)</a> although the resulting map will be immutable:</p>\n\n<blockquote>\n  <p>Configures this Builder to order entries by value according to the\n  specified comparator.</p>\n  \n  <p>The sort order is stable, that is, if two entries have values that\n  compare as equivalent, the entry that was inserted first will be first\n  in the built map's iteration order.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6777242,"reputation":195,"user_id":5218673,"display_name":"smart-developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534954971,"creation_date":1534954506,"answer_id":51971086,"question_id":109383,"body_markdown":"I rewrote devinmoore&#39;s method that performs sorting a map by it&#39;s value without using Iterator :\r\n\r\n    public static Map&lt;K, V&gt; sortMapByValue(Map&lt;K, V&gt; inputMap) {\r\n\r\n\t\tSet&lt;Entry&lt;K, V&gt;&gt; set = inputMap.entrySet();\r\n\t    List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(set);\r\n\t\t\r\n\t    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\r\n\t    {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn (o1.getValue()).compareTo( o2.getValue() );  //Ascending order\r\n\t\t\t}\r\n\t    } );\r\n        \r\n        Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n\r\n\t\tfor(Map.Entry&lt;K, V&gt; entry : list){\r\n\t        sortedMap.put(entry.getKey(), entry.getValue());\r\n\t    }\r\n\t\t\r\n\t\treturn sortedMap;\r\n\t}\r\n`Note:` that we used  `LinkedHashMap` as output map, because our list has been sorted by value and now we should store our list into output map with order of inserted key,values. So if you use for example `TreeMap` as your output map, your map will be sorted by map keys again!\r\n\r\nThis is the main method:\r\n\r\n    public static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;3&quot;, &quot;three&quot;);\r\n\t\tmap.put(&quot;1&quot;, &quot;one&quot;);\r\n\t\tmap.put(&quot;5&quot;, &quot;five&quot;);\r\n\t\tSystem.out.println(&quot;Input Map:&quot; + map);\r\n\t\tSystem.out.println(&quot;Sorted Map:&quot; + sortMapByValue(map));\r\n\t}\r\nFinally, this is the output:\r\n\r\n    Input Map:{1=one, 3=three, 5=five}\r\n    Sorted Map:{5=five, 1=one, 3=three}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I rewrote devinmoore's method that performs sorting a map by it's value without using Iterator :</p>\n\n<pre><code>public static Map&lt;K, V&gt; sortMapByValue(Map&lt;K, V&gt; inputMap) {\n\n    Set&lt;Entry&lt;K, V&gt;&gt; set = inputMap.entrySet();\n    List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(set);\n\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\n    {\n        @Override\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return (o1.getValue()).compareTo( o2.getValue() );  //Ascending order\n        }\n    } );\n\n    Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n\n    for(Map.Entry&lt;K, V&gt; entry : list){\n        sortedMap.put(entry.getKey(), entry.getValue());\n    }\n\n    return sortedMap;\n}\n</code></pre>\n\n<p><code>Note:</code> that we used  <code>LinkedHashMap</code> as output map, because our list has been sorted by value and now we should store our list into output map with order of inserted key,values. So if you use for example <code>TreeMap</code> as your output map, your map will be sorted by map keys again!</p>\n\n<p>This is the main method:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"3\", \"three\");\n    map.put(\"1\", \"one\");\n    map.put(\"5\", \"five\");\n    System.out.println(\"Input Map:\" + map);\n    System.out.println(\"Sorted Map:\" + sortMapByValue(map));\n}\n</code></pre>\n\n<p>Finally, this is the output:</p>\n\n<pre><code>Input Map:{1=one, 3=three, 5=five}\nSorted Map:{5=five, 1=one, 3=three}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543944577,"creation_date":1538918005,"answer_id":52688845,"question_id":109383,"body_markdown":"**The simplest** brute-force `sortHashMap` method for `HashMap&lt;String, Long&gt;`: you can just **copypaste it and use** like this:\r\n\r\n    public class Test  {\r\n        public static void main(String[] args)  {\r\n            HashMap&lt;String, Long&gt; hashMap = new HashMap&lt;&gt;();\r\n            hashMap.put(&quot;Cat&quot;, (long) 4);\r\n            hashMap.put(&quot;Human&quot;, (long) 2);\r\n            hashMap.put(&quot;Dog&quot;, (long) 4);\r\n            hashMap.put(&quot;Fish&quot;, (long) 0);\r\n            hashMap.put(&quot;Tree&quot;, (long) 1);\r\n            hashMap.put(&quot;Three-legged-human&quot;, (long) 3);\r\n            hashMap.put(&quot;Monkey&quot;, (long) 2);\r\n    \r\n            System.out.println(hashMap);  //{Human=2, Cat=4, Three-legged-human=3, Monkey=2, Fish=0, Tree=1, Dog=4}\r\n            System.out.println(sortHashMap(hashMap));  //{Cat=4, Dog=4, Three-legged-human=3, Human=2, Monkey=2, Tree=1, Fish=0}\r\n        }\r\n    \r\n        public LinkedHashMap&lt;String, Long&gt; sortHashMap(HashMap&lt;String, Long&gt; unsortedMap)  {\r\n            LinkedHashMap&lt;String, Long&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \r\n            //add String keys to an array: the array would get sorted, based on those keys&#39; values\r\n            ArrayList&lt;String&gt; sortedKeys = new ArrayList&lt;&gt;();\r\n            for (String key: unsortedMap.keySet())  {\r\n                sortedKeys.add(key);\r\n            }\r\n    \r\n            //sort the ArrayList&lt;String&gt; of keys    \r\n            for (int i=0; i&lt;unsortedMap.size(); i++)  {\r\n                for (int j=1; j&lt;sortedKeys.size(); j++)  {\r\n                    if (unsortedMap.get(sortedKeys.get(j)) &gt; unsortedMap.get(sortedKeys.get(j-1))) {\r\n                        String temp = sortedKeys.get(j);\r\n                        sortedKeys.set(j, sortedKeys.get(j-1));\r\n                        sortedKeys.set(j-1, temp);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // construct the result Map\r\n            for (String key: sortedKeys)  {\r\n                result.put(key, unsortedMap.get(key));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>The simplest</strong> brute-force <code>sortHashMap</code> method for <code>HashMap&lt;String, Long&gt;</code>: you can just <strong>copypaste it and use</strong> like this:</p>\n\n<pre><code>public class Test  {\n    public static void main(String[] args)  {\n        HashMap&lt;String, Long&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(\"Cat\", (long) 4);\n        hashMap.put(\"Human\", (long) 2);\n        hashMap.put(\"Dog\", (long) 4);\n        hashMap.put(\"Fish\", (long) 0);\n        hashMap.put(\"Tree\", (long) 1);\n        hashMap.put(\"Three-legged-human\", (long) 3);\n        hashMap.put(\"Monkey\", (long) 2);\n\n        System.out.println(hashMap);  //{Human=2, Cat=4, Three-legged-human=3, Monkey=2, Fish=0, Tree=1, Dog=4}\n        System.out.println(sortHashMap(hashMap));  //{Cat=4, Dog=4, Three-legged-human=3, Human=2, Monkey=2, Tree=1, Fish=0}\n    }\n\n    public LinkedHashMap&lt;String, Long&gt; sortHashMap(HashMap&lt;String, Long&gt; unsortedMap)  {\n        LinkedHashMap&lt;String, Long&gt; result = new LinkedHashMap&lt;&gt;();\n\n        //add String keys to an array: the array would get sorted, based on those keys' values\n        ArrayList&lt;String&gt; sortedKeys = new ArrayList&lt;&gt;();\n        for (String key: unsortedMap.keySet())  {\n            sortedKeys.add(key);\n        }\n\n        //sort the ArrayList&lt;String&gt; of keys    \n        for (int i=0; i&lt;unsortedMap.size(); i++)  {\n            for (int j=1; j&lt;sortedKeys.size(); j++)  {\n                if (unsortedMap.get(sortedKeys.get(j)) &gt; unsortedMap.get(sortedKeys.get(j-1))) {\n                    String temp = sortedKeys.get(j);\n                    sortedKeys.set(j, sortedKeys.get(j-1));\n                    sortedKeys.set(j-1, temp);\n                }\n            }\n        }\n\n        // construct the result Map\n        for (String key: sortedKeys)  {\n            result.put(key, unsortedMap.get(key));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5945493,"reputation":628,"user_id":4675109,"accept_rate":0,"display_name":"Praveen Kumar Mekala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563884582,"creation_date":1563884582,"answer_id":57164142,"question_id":109383,"body_markdown":"posting my version of answer\r\n\r\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, (obj1, obj2) -&gt; obj2.getValue().compareTo(obj1.getValue()));\r\n\t\tMap&lt;String, Integer&gt; resultMap = new LinkedHashMap&lt;&gt;();\r\n\t\tlist.forEach(arg0 -&gt; {\r\n\t\t\tresultMap.put(arg0.getKey(), arg0.getValue());\r\n\t\t});\r\n\t\tSystem.out.println(resultMap);","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>posting my version of answer</p>\n\n<pre><code>List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(list, (obj1, obj2) -&gt; obj2.getValue().compareTo(obj1.getValue()));\n    Map&lt;String, Integer&gt; resultMap = new LinkedHashMap&lt;&gt;();\n    list.forEach(arg0 -&gt; {\n        resultMap.put(arg0.getKey(), arg0.getValue());\n    });\n    System.out.println(resultMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":908232,"reputation":2175,"user_id":942689,"accept_rate":75,"display_name":"Stanislav Levental"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566941544,"creation_date":1566941544,"answer_id":57682518,"question_id":109383,"body_markdown":"Using Guava library:\r\n\r\n    public static &lt;K,V extends Comparable&lt;V&gt;&gt;SortedMap&lt;K,V&gt; sortByValue(Map&lt;K,V&gt; original){\r\n        var comparator = Ordering.natural()\r\n                .reverse() // highest first\r\n                .nullsLast()\r\n                .onResultOf(Functions.forMap(original, null))\r\n                .compound(Ordering.usingToString());\r\n        return ImmutableSortedMap.copyOf(original, comparator);\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Using Guava library:</p>\n\n<pre><code>public static &lt;K,V extends Comparable&lt;V&gt;&gt;SortedMap&lt;K,V&gt; sortByValue(Map&lt;K,V&gt; original){\n    var comparator = Ordering.natural()\n            .reverse() // highest first\n            .nullsLast()\n            .onResultOf(Functions.forMap(original, null))\n            .compound(Ordering.usingToString());\n    return ImmutableSortedMap.copyOf(original, comparator);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573812562,"creation_date":1573583060,"answer_id":58824564,"question_id":109383,"body_markdown":"_creates a list of entries for each value, where the values are sorted_&lt;br /&gt;\r\nrequires Java 8 or above\r\n\r\n    Map&lt;Double,List&lt;Entry&lt;String,Double&gt;&gt;&gt; sorted =\r\n    map.entrySet().stream().collect( Collectors.groupingBy( Entry::getValue, TreeMap::new,\r\n        Collectors.mapping( Function.identity(), Collectors.toList() ) ) );\r\n\r\nusing the map {[A=99.5], [B=67.4], [C=67.4], [D=67.3]}&lt;br /&gt;\r\ngets `{67.3=[D=67.3], 67.4=[B=67.4, C=67.4], 99.5=[A=99.5]}`\r\n\r\n&lt;br /&gt;_and how to access each entry one after the other:_\r\n\r\n    sorted.entrySet().forEach( e -&gt; e.getValue().forEach( l -&gt; System.out.println( l ) ) );\r\n\r\n`D=67.3` `B=67.4` `C=67.4` `A=99.5`\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><em>creates a list of entries for each value, where the values are sorted</em><br />\nrequires Java 8 or above</p>\n\n<pre><code>Map&lt;Double,List&lt;Entry&lt;String,Double&gt;&gt;&gt; sorted =\nmap.entrySet().stream().collect( Collectors.groupingBy( Entry::getValue, TreeMap::new,\n    Collectors.mapping( Function.identity(), Collectors.toList() ) ) );\n</code></pre>\n\n<p>using the map {[A=99.5], [B=67.4], [C=67.4], [D=67.3]}<br />\ngets <code>{67.3=[D=67.3], 67.4=[B=67.4, C=67.4], 99.5=[A=99.5]}</code></p>\n\n<p><br /><em>and how to access each entry one after the other:</em></p>\n\n<pre><code>sorted.entrySet().forEach( e -&gt; e.getValue().forEach( l -&gt; System.out.println( l ) ) );\n</code></pre>\n\n<p><code>D=67.3</code> <code>B=67.4</code> <code>C=67.4</code> <code>A=99.5</code></p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1657491208,"creation_date":1574323362,"answer_id":58970003,"question_id":109383,"body_markdown":" \r\n\r\n**Given Map**\r\n\r\n       Map&lt;String, Integer&gt; wordCounts = new HashMap&lt;&gt;();\r\n        wordCounts.put(&quot;USA&quot;, 100);\r\n        wordCounts.put(&quot;jobs&quot;, 200);\r\n        wordCounts.put(&quot;software&quot;, 50);\r\n        wordCounts.put(&quot;technology&quot;, 70);\r\n        wordCounts.put(&quot;opportunity&quot;, 200);\r\n\r\n\r\n   **Sort the map based on the value in ascending order**\r\n\r\n    Map&lt;String,Integer&gt;  sortedMap =  wordCounts.entrySet().\r\n                                                    stream().\r\n                                                    sorted(Map.Entry.comparingByValue()).\r\n            collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n        System.out.println(sortedMap);\r\n        \r\n    \r\n**Sort the map based on value in descending order**\r\n\r\n\r\n    Map&lt;String,Integer&gt;  sortedMapReverseOrder =  wordCounts.entrySet().\r\n                stream().\r\n                sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).\r\n                collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n        System.out.println(sortedMapReverseOrder);\r\n\r\n**Output:**\r\n\r\n{software=50, technology=70, USA=100, jobs=200, opportunity=200}\r\n\r\n{jobs=200, opportunity=200, USA=100, technology=70, software=50}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Given Map</strong></p>\n<pre><code>   Map&lt;String, Integer&gt; wordCounts = new HashMap&lt;&gt;();\n    wordCounts.put(&quot;USA&quot;, 100);\n    wordCounts.put(&quot;jobs&quot;, 200);\n    wordCounts.put(&quot;software&quot;, 50);\n    wordCounts.put(&quot;technology&quot;, 70);\n    wordCounts.put(&quot;opportunity&quot;, 200);\n</code></pre>\n<p><strong>Sort the map based on the value in ascending order</strong></p>\n<pre><code>Map&lt;String,Integer&gt;  sortedMap =  wordCounts.entrySet().\n                                                stream().\n                                                sorted(Map.Entry.comparingByValue()).\n        collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n    System.out.println(sortedMap);\n    \n</code></pre>\n<p><strong>Sort the map based on value in descending order</strong></p>\n<pre><code>Map&lt;String,Integer&gt;  sortedMapReverseOrder =  wordCounts.entrySet().\n            stream().\n            sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).\n            collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n    System.out.println(sortedMapReverseOrder);\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>{software=50, technology=70, USA=100, jobs=200, opportunity=200}</p>\n<p>{jobs=200, opportunity=200, USA=100, technology=70, software=50}</p>\n"},{"tags":[],"owner":{"account_id":8108093,"reputation":2413,"user_id":6109034,"display_name":"Mimu Saha Tishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575633523,"creation_date":1575633523,"answer_id":59212736,"question_id":109383,"body_markdown":"Using LinkedList\r\n\r\n    //Create a list by HashMap\r\n    List&lt;Map.Entry&lt;String, Double&gt;&gt; list = new LinkedList&lt;&gt;(hashMap.entrySet());\r\n    \r\n    //Sorting the list\r\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n        public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\r\n            return (o1.getValue()).compareTo(o2.getValue());\r\n        }\r\n    });\r\n    \r\n    //put data from sorted list to hashmap\r\n    HashMap&lt;String, Double&gt; sortedData = new LinkedHashMap&lt;&gt;();\r\n    for (Map.Entry&lt;String, Double&gt; data : list) {\r\n        sortedData.put(data.getKey(), data.getValue());\r\n    }\r\n    \r\n    System.out.print(sortedData);\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Using LinkedList</p>\n\n<pre><code>//Create a list by HashMap\nList&lt;Map.Entry&lt;String, Double&gt;&gt; list = new LinkedList&lt;&gt;(hashMap.entrySet());\n\n//Sorting the list\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\n        return (o1.getValue()).compareTo(o2.getValue());\n    }\n});\n\n//put data from sorted list to hashmap\nHashMap&lt;String, Double&gt; sortedData = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Double&gt; data : list) {\n    sortedData.put(data.getKey(), data.getValue());\n}\n\nSystem.out.print(sortedData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580817137,"creation_date":1580817137,"answer_id":60056821,"question_id":109383,"body_markdown":"This has the added benefit of being able to sort ascending or descending, using Java 8\r\n\r\n    import static java.util.Comparator.comparingInt;\r\n    import static java.util.stream.Collectors.toMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    class Utils {\r\n        public static Map&lt;String, Integer&gt; sortMapBasedOnValues(Map&lt;String, Integer&gt; map, boolean descending) {\r\n    \t\tint multiplyBy = (descending) ? -1: 1;\r\n    \t\tMap&lt;String, Integer&gt; sorted =  map.entrySet().stream()\r\n    \t\t\t    .sorted(comparingInt(e -&gt; multiplyBy * e.getValue() ))\r\n    \t\t\t    .collect(toMap(\r\n    \t\t\t    \t\tMap.Entry::getKey, \r\n    \t\t\t    \t\tMap.Entry::getValue,\r\n    \t\t\t            (a, b) -&gt; { throw new AssertionError();},\r\n    \t\t\t    \t\tLinkedHashMap::new\r\n    \t\t\t    \t));\r\n    \t\treturn sorted;\r\n    \t}\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This has the added benefit of being able to sort ascending or descending, using Java 8</p>\n\n<pre><code>import static java.util.Comparator.comparingInt;\nimport static java.util.stream.Collectors.toMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass Utils {\n    public static Map&lt;String, Integer&gt; sortMapBasedOnValues(Map&lt;String, Integer&gt; map, boolean descending) {\n        int multiplyBy = (descending) ? -1: 1;\n        Map&lt;String, Integer&gt; sorted =  map.entrySet().stream()\n                .sorted(comparingInt(e -&gt; multiplyBy * e.getValue() ))\n                .collect(toMap(\n                        Map.Entry::getKey, \n                        Map.Entry::getValue,\n                        (a, b) -&gt; { throw new AssertionError();},\n                        LinkedHashMap::new\n                    ));\n        return sorted;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15116274,"reputation":101,"user_id":10908536,"display_name":"avi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599065837,"creation_date":1584128863,"answer_id":60676473,"question_id":109383,"body_markdown":"Simple way to sort any map in Java 8 and above\r\n````\r\nMap&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\r\n\r\nCollections.sort(list, Comparator.comparing(o -&gt; o.getValue().getAttribute()));\r\n\r\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\nfor (Map.Entry&lt;String, Object&gt; map : list) {\r\n   sortedMap.put(map.getKey(), map.getValue());\r\n}\r\n````\r\n\r\nif you are using Java 7 and below\r\n\r\n````\r\nMap&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\r\n\r\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Object&gt;&gt;() {\r\n    @Override\r\n    public int compare(Map.Entry&lt;String, Object&gt; o1, Map.Entry&lt;String, Object&gt; o2) {\r\n       return o1.getValue().getAttribute().compareTo(o2.getValue().getAttribute());      \r\n    }\r\n});\r\n\r\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\nfor (Map.Entry&lt;String, Object&gt; map : list) {\r\n   sortedMap.put(map.getKey(), map.getValue());\r\n}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Simple way to sort any map in Java 8 and above</p>\n<pre><code>Map&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\n\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\n\nCollections.sort(list, Comparator.comparing(o -&gt; o.getValue().getAttribute()));\n\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Object&gt; map : list) {\n   sortedMap.put(map.getKey(), map.getValue());\n}\n</code></pre>\n<p>if you are using Java 7 and below</p>\n<pre><code>Map&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\n\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\n\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Object&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;String, Object&gt; o1, Map.Entry&lt;String, Object&gt; o2) {\n       return o1.getValue().getAttribute().compareTo(o2.getValue().getAttribute());      \n    }\n});\n\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Object&gt; map : list) {\n   sortedMap.put(map.getKey(), map.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5098571,"reputation":31,"user_id":4088988,"display_name":"thenish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585578037,"creation_date":1585578037,"answer_id":60932599,"question_id":109383,"body_markdown":"    map = your hashmap;\r\n\r\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(map.entrySet());\r\n    Collections.sort(list, new cm());//IMP\r\n    \r\n    HashMap&lt;String, Integer&gt; sorted = new LinkedHashMap&lt;String, Integer&gt;();\r\n    for(Map.Entry&lt;String, Integer&gt; en: list){\r\n    \tsorted.put(en.getKey(),en.getValue());\r\n    }\r\n    \t\t\r\n    System.out.println(sorted);//sorted hashmap\r\n\r\ncreate new class\r\n\r\n    class cm implements Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;{\r\n    \t@Override\r\n    \tpublic int compare(Map.Entry&lt;String, Integer&gt; a, \r\n    \t\t\t\t\t\t\tMap.Entry&lt;String, Integer&gt; b)\r\n    \t{\r\n    \t\treturn (a.getValue()).compareTo(b.getValue());\r\n    \t}\r\n    }\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>map = your hashmap;\n\nList&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(map.entrySet());\nCollections.sort(list, new cm());//IMP\n\nHashMap&lt;String, Integer&gt; sorted = new LinkedHashMap&lt;String, Integer&gt;();\nfor(Map.Entry&lt;String, Integer&gt; en: list){\n    sorted.put(en.getKey(),en.getValue());\n}\n\nSystem.out.println(sorted);//sorted hashmap\n</code></pre>\n\n<p>create new class</p>\n\n<pre><code>class cm implements Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;{\n    @Override\n    public int compare(Map.Entry&lt;String, Integer&gt; a, \n                            Map.Entry&lt;String, Integer&gt; b)\n    {\n        return (a.getValue()).compareTo(b.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599832193,"creation_date":1599831271,"answer_id":63848163,"question_id":109383,"body_markdown":"I can give you an example but sure this is what you need. \r\n```html\r\nmap = {10 = 3, 11 = 1,12 = 2} \r\n```\r\nLet&#39;s say you want the top 2 most frequent key which is (10, 12)\r\nSo the easiest way is using a PriorityQueue to sort based on the value of the map.\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; (map.get(a) - map.get(b));\r\nfor(int key: map.keySets()) {\r\n   pq.add(key);\r\n   if(pq.size() &gt; 2) {\r\n      pq.poll();\r\n   }\r\n}\r\n// Now pq has the top 2 most frequent key based on value. It sorts the value. \r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I can give you an example but sure this is what you need.</p>\n<pre class=\"lang-html prettyprint-override\"><code>map = {10 = 3, 11 = 1,12 = 2} \n</code></pre>\n<p>Let's say you want the top 2 most frequent key which is (10, 12)\nSo the easiest way is using a PriorityQueue to sort based on the value of the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; (map.get(a) - map.get(b));\nfor(int key: map.keySets()) {\n   pq.add(key);\n   if(pq.size() &gt; 2) {\n      pq.poll();\n   }\n}\n// Now pq has the top 2 most frequent key based on value. It sorts the value. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9229376,"reputation":902,"user_id":6856020,"display_name":"Supreet Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611742454,"creation_date":1611742454,"answer_id":65917002,"question_id":109383,"body_markdown":"This could be achieved very easily with java 8\r\n\r\n    public static LinkedHashMap&lt;Integer, String&gt; sortByValue(HashMap&lt;Integer, String&gt; map) {\r\n    \r\n            List&lt;Map.Entry&lt;Integer, String&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n            list.sort(Map.Entry.comparingByValue());\r\n            LinkedHashMap&lt;Integer, String&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n            list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\r\n            return sortedMap;\r\n        }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This could be achieved very easily with java 8</p>\n<pre><code>public static LinkedHashMap&lt;Integer, String&gt; sortByValue(HashMap&lt;Integer, String&gt; map) {\n\n        List&lt;Map.Entry&lt;Integer, String&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n        list.sort(Map.Entry.comparingByValue());\n        LinkedHashMap&lt;Integer, String&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n        list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\n        return sortedMap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16068520,"reputation":19,"user_id":11597506,"display_name":"djklicks-dhananjay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627125273,"creation_date":1627124626,"answer_id":68509369,"question_id":109383,"body_markdown":"Sort any Hashmap the easiest way in Java.\r\nWe need not store it in treemaps, list etc.\r\n\r\nHere, I would be using Java Streams:\r\n\r\nLets sort this map by its value (Ascending order)\r\n\r\n    Map&lt;String, Integer&gt; mp= new HashMap&lt;&gt;();\r\n    mp.put(&quot;zebra&quot;, 1);\r\n    mp.put(&quot;blossom&quot;, 2);\r\n    mp.put(&quot;gemini&quot;, 3);\r\n    mp.put(&quot;opera&quot;, 7);\r\n    mp.put(&quot;adelaide&quot;, 10);\r\n    \r\n    Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nYou can now printed the sorted resultMap in multiple ways like using advanced for loops or iterators.\r\n\r\nThe above map can also be sorted in descending order of the value\r\n\r\n     Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n\r\nLets now take another scenario where we store &quot;User&quot; in the map and sort it based on &quot;name&quot; of the &quot;User&quot; in ascending order (lexicographically):\r\n\r\n   \r\n\r\n\tUser u1= new User(&quot;hi&quot;, 135);\r\n\tUser u2= new User(&quot;bismuth&quot;, 900);\r\n\tUser u3= new User(&quot;alloy&quot;, 675);\r\n\tUser u4= new User(&quot;jupiter&quot;, 342);\r\n\tUser u5= new User(&quot;lily&quot;, 941);\r\n\t\r\n\tMap&lt;String, User&gt; map2= new HashMap&lt;&gt;();\r\n\tmap2.put(&quot;zebra&quot;, u3);\r\n\tmap2.put(&quot;blossom&quot;, u5);\r\n\tmap2.put(&quot;gemini&quot;, u1);\r\n\tmap2.put(&quot;opera&quot;, u2);\r\n\tmap2.put(&quot;adelaide&quot;, u4);\r\n\r\n\r\n    Map&lt;String, User&gt;  resultMap= \r\n    \t\t  map2.entrySet().stream().sorted(Map.Entry.&lt;String, User&gt;comparingByValue( (User o1, User o2)-&gt; o1.getName().compareTo(o2.getName()))).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e2, LinkedHashMap::new));\r\n\r\n \r\n\r\n    class User\r\n     {\r\n     \tString name;\r\n     \tint id;\r\n     \t \t\r\n\r\n \tpublic User(String name, int id) {\r\n \t\tsuper();\r\n \t\tthis.name = name;\r\n \t\tthis.id = id;\r\n \t}\r\n \tpublic String getName() {\r\n \t\treturn name;\r\n \t}\r\n \tpublic void setName(String name) {\r\n \t\tthis.name = name;\r\n \t}\r\n \tpublic int getId() {\r\n \t\treturn id;\r\n \t}\r\n \tpublic void setId(int id) {\r\n \t\tthis.id = id;\r\n \t}\r\n \t@Override\r\n \tpublic String toString() {\r\n \t\treturn &quot;User [name=&quot; + name + &quot;, id=&quot; + id + &quot;]&quot;;\r\n \t}\r\n \t@Override\r\n \tpublic int hashCode() {\r\n \t\tfinal int prime = 31;\r\n \t\tint result = 1;\r\n \t\tresult = prime * result + id;\r\n \t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\r\n \t\treturn result;\r\n \t}\r\n \t@Override\r\n \tpublic boolean equals(Object obj) {\r\n \t\tif (this == obj)\r\n \t\t\treturn true;\r\n \t\tif (obj == null)\r\n \t\t\treturn false;\r\n \t\tif (getClass() != obj.getClass())\r\n \t\t\treturn false;\r\n \t\tUser other = (User) obj;\r\n \t\tif (id != other.id)\r\n \t\t\treturn false;\r\n \t\tif (name == null) {\r\n \t\t\tif (other.name != null)\r\n \t\t\t\treturn false;\r\n \t\t} else if (!name.equals(other.name))\r\n \t\t\treturn false;\r\n \t\treturn true;\r\n \r\n\r\n    \t}\r\n     }\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Sort any Hashmap the easiest way in Java.\nWe need not store it in treemaps, list etc.</p>\n<p>Here, I would be using Java Streams:</p>\n<p>Lets sort this map by its value (Ascending order)</p>\n<pre><code>Map&lt;String, Integer&gt; mp= new HashMap&lt;&gt;();\nmp.put(&quot;zebra&quot;, 1);\nmp.put(&quot;blossom&quot;, 2);\nmp.put(&quot;gemini&quot;, 3);\nmp.put(&quot;opera&quot;, 7);\nmp.put(&quot;adelaide&quot;, 10);\n\nMap&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>You can now printed the sorted resultMap in multiple ways like using advanced for loops or iterators.</p>\n<p>The above map can also be sorted in descending order of the value</p>\n<pre><code> Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>Lets now take another scenario where we store &quot;User&quot; in the map and sort it based on &quot;name&quot; of the &quot;User&quot; in ascending order (lexicographically):</p>\n<pre><code>User u1= new User(&quot;hi&quot;, 135);\nUser u2= new User(&quot;bismuth&quot;, 900);\nUser u3= new User(&quot;alloy&quot;, 675);\nUser u4= new User(&quot;jupiter&quot;, 342);\nUser u5= new User(&quot;lily&quot;, 941);\n\nMap&lt;String, User&gt; map2= new HashMap&lt;&gt;();\nmap2.put(&quot;zebra&quot;, u3);\nmap2.put(&quot;blossom&quot;, u5);\nmap2.put(&quot;gemini&quot;, u1);\nmap2.put(&quot;opera&quot;, u2);\nmap2.put(&quot;adelaide&quot;, u4);\n\n\nMap&lt;String, User&gt;  resultMap= \n          map2.entrySet().stream().sorted(Map.Entry.&lt;String, User&gt;comparingByValue( (User o1, User o2)-&gt; o1.getName().compareTo(o2.getName()))).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e2, LinkedHashMap::new));\n\n\n\nclass User\n {\n    String name;\n    int id;\n        \n\npublic User(String name, int id) {\n    super();\n    this.name = name;\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\n@Override\npublic String toString() {\n    return &quot;User [name=&quot; + name + &quot;, id=&quot; + id + &quot;]&quot;;\n}\n@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    return result;\n}\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    User other = (User) obj;\n    if (id != other.id)\n        return false;\n    if (name == null) {\n        if (other.name != null)\n            return false;\n    } else if (!name.equals(other.name))\n        return false;\n    return true;\n\n\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397301,"reputation":544,"user_id":761348,"accept_rate":71,"display_name":"Jayavinoth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645640769,"creation_date":1637083841,"answer_id":69993629,"question_id":109383,"body_markdown":"In TreeMap, keys are sorted in natural order. For example, if you sorting numbers, (notice the ordering of `4`)\r\n\r\n`{0=0, 10=10, 20=20, 30=30, 4=4, 50=50, 60=60, 70=70}`\r\n\r\nTo fix this, In Java8, first check string length and then compare.\r\n\r\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;Comparator.comparingInt(String::length)\r\n    .thenComparing(Function.identity()));\r\n\r\n`{0=0, 4=4, 10=10, 20=20, 30=30, 50=50, 60=60, 70=70}`","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>In TreeMap, keys are sorted in natural order. For example, if you sorting numbers, (notice the ordering of <code>4</code>)</p>\n<p><code>{0=0, 10=10, 20=20, 30=30, 4=4, 50=50, 60=60, 70=70}</code></p>\n<p>To fix this, In Java8, first check string length and then compare.</p>\n<pre><code>Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;Comparator.comparingInt(String::length)\n.thenComparing(Function.identity()));\n</code></pre>\n<p><code>{0=0, 4=4, 10=10, 20=20, 30=30, 50=50, 60=60, 70=70}</code></p>\n"},{"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639813231,"creation_date":1639813231,"answer_id":70401747,"question_id":109383,"body_markdown":"        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;b&quot;, 2);\r\n        map.put(&quot;a&quot;, 1);\r\n        map.put(&quot;d&quot;, 4);\r\n        map.put(&quot;c&quot;, 3);\r\n        \r\n        // ----- Using Java 7 -------------------\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\r\n        Collections.sort(entries, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\r\n        System.out.println(entries); // [a=1, b=2, c=3, d=4]\r\n\r\n\r\n        // ----- Using Java 8 Stream API --------\r\n       map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(System.out::println); // {a=1, b=2, c=3, d=4}\r\n\r\n        \r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;b&quot;, 2);\n    map.put(&quot;a&quot;, 1);\n    map.put(&quot;d&quot;, 4);\n    map.put(&quot;c&quot;, 3);\n    \n    // ----- Using Java 7 -------------------\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(entries, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\n    System.out.println(entries); // [a=1, b=2, c=3, d=4]\n\n\n    // ----- Using Java 8 Stream API --------\n   map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(System.out::println); // {a=1, b=2, c=3, d=4}\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20627185,"reputation":140,"user_id":15142774,"display_name":"ADITYA AHLAWAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659080437,"creation_date":1659080437,"answer_id":73163197,"question_id":109383,"body_markdown":"[Geeks For Geeks on sorting the HashMap by Value][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/sorting-a-hashmap-according-to-values/\r\n\r\n\r\n    Input : Key = Math, Value = 98\r\n        Key = Data Structure, Value = 85\r\n        Key = Database, Value = 91\r\n        Key = Java, Value = 95\r\n        Key = Operating System, Value = 79\r\n        Key = Networking, Value = 80\r\n\r\n    Output : Key = Operating System, Value = 79\r\n             Key = Networking, Value = 80\r\n             Key = Data Structure, Value = 85\r\n             Key = Database, Value = 91\r\n             Key = Java, Value = 95\r\n             Key = Math, Value = 98\r\n    Solution: The idea is to store the entry set in a list and sort the list on the basis of values. Then fetch values and keys from the list and put them in a new hashmap. Thus, a new hashmap is sorted according to values.\r\n    Below is the implementation of the above idea: \r\n\r\n \r\n\r\n\r\n    // Java program to sort hashmap by values\r\n    import java.util.*;\r\n    import java.lang.*;\r\n     \r\n    public class GFG {\r\n     \r\n        // function to sort hashmap by values\r\n        public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\r\n        {\r\n            // Create a list from elements of HashMap\r\n            List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\r\n                   new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\r\n     \r\n            // Sort the list\r\n            Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\r\n                public int compare(Map.Entry&lt;String, Integer&gt; o1,\r\n                                   Map.Entry&lt;String, Integer&gt; o2)\r\n                {\r\n                    return (o1.getValue()).compareTo(o2.getValue());\r\n                }\r\n            });\r\n             \r\n            // put data from sorted list to hashmap\r\n            HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\r\n            for (Map.Entry&lt;String, Integer&gt; aa : list) {\r\n                temp.put(aa.getKey(), aa.getValue());\r\n            }\r\n            return temp;\r\n        }\r\n     \r\n        // Driver Code\r\n        public static void main(String[] args)\r\n        {\r\n     \r\n            HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\r\n     \r\n            // enter data into hashmap\r\n            hm.put(&quot;Math&quot;, 98);\r\n            hm.put(&quot;Data Structure&quot;, 85);\r\n            hm.put(&quot;Database&quot;, 91);\r\n            hm.put(&quot;Java&quot;, 95);\r\n            hm.put(&quot;Operating System&quot;, 79);\r\n            hm.put(&quot;Networking&quot;, 80);\r\n            Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\r\n     \r\n            // print the sorted hashmap\r\n            for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\r\n                System.out.println(&quot;Key = &quot; + en.getKey() +\r\n                              &quot;, Value = &quot; + en.getValue());\r\n            }\r\n        }\r\n    }\r\n    Output\r\n    Key = Operating System, Value = 79\r\n    Key = Networking, Value = 80\r\n    Key = Data Structure, Value = 85\r\n    Key = Database, Value = 91\r\n    Key = Java, Value = 95\r\n    Key = Math, Value = 98","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><a href=\"https://www.geeksforgeeks.org/sorting-a-hashmap-according-to-values/\" rel=\"nofollow noreferrer\">Geeks For Geeks on sorting the HashMap by Value</a></p>\n<pre><code>Input : Key = Math, Value = 98\n    Key = Data Structure, Value = 85\n    Key = Database, Value = 91\n    Key = Java, Value = 95\n    Key = Operating System, Value = 79\n    Key = Networking, Value = 80\n\nOutput : Key = Operating System, Value = 79\n         Key = Networking, Value = 80\n         Key = Data Structure, Value = 85\n         Key = Database, Value = 91\n         Key = Java, Value = 95\n         Key = Math, Value = 98\nSolution: The idea is to store the entry set in a list and sort the list on the basis of values. Then fetch values and keys from the list and put them in a new hashmap. Thus, a new hashmap is sorted according to values.\nBelow is the implementation of the above idea: \n\n\n\n\n// Java program to sort hashmap by values\nimport java.util.*;\nimport java.lang.*;\n \npublic class GFG {\n \n    // function to sort hashmap by values\n    public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\n    {\n        // Create a list from elements of HashMap\n        List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\n               new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\n \n        // Sort the list\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\n            public int compare(Map.Entry&lt;String, Integer&gt; o1,\n                               Map.Entry&lt;String, Integer&gt; o2)\n            {\n                return (o1.getValue()).compareTo(o2.getValue());\n            }\n        });\n         \n        // put data from sorted list to hashmap\n        HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\n        for (Map.Entry&lt;String, Integer&gt; aa : list) {\n            temp.put(aa.getKey(), aa.getValue());\n        }\n        return temp;\n    }\n \n    // Driver Code\n    public static void main(String[] args)\n    {\n \n        HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\n \n        // enter data into hashmap\n        hm.put(&quot;Math&quot;, 98);\n        hm.put(&quot;Data Structure&quot;, 85);\n        hm.put(&quot;Database&quot;, 91);\n        hm.put(&quot;Java&quot;, 95);\n        hm.put(&quot;Operating System&quot;, 79);\n        hm.put(&quot;Networking&quot;, 80);\n        Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\n \n        // print the sorted hashmap\n        for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\n            System.out.println(&quot;Key = &quot; + en.getKey() +\n                          &quot;, Value = &quot; + en.getValue());\n        }\n    }\n}\nOutput\nKey = Operating System, Value = 79\nKey = Networking, Value = 80\nKey = Data Structure, Value = 85\nKey = Database, Value = 91\nKey = Java, Value = 95\nKey = Math, Value = 98\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675843004,"creation_date":1675837848,"answer_id":75382089,"question_id":109383,"body_markdown":"I think the best way, it to use special data structure. You may think about `TreeMap`, but values can be not unique in general case. So, your choise is `PriorityQueue`:\r\n\r\n```java\r\npublic static &lt;K, V&gt; Iterator&lt;Map.Entry&lt;K, V&gt;&gt; sortByValue(\r\n                                              Map&lt;K, V&gt; map,\r\n                                              Comparator&lt;V&gt; valueComparator) {\r\n    Queue&lt;Map.Entry&lt;K, V&gt;&gt; queue = new PriorityQueue&lt;&gt;((one, two) -&gt;\r\n                     valueComparator.compare(one.getValue(), two.getValue()));\r\n    queue.addAll(map.entrySet());\r\n    return queue.iterator();\r\n}\r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I think the best way, it to use special data structure. You may think about <code>TreeMap</code>, but values can be not unique in general case. So, your choise is <code>PriorityQueue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K, V&gt; Iterator&lt;Map.Entry&lt;K, V&gt;&gt; sortByValue(\n                                              Map&lt;K, V&gt; map,\n                                              Comparator&lt;V&gt; valueComparator) {\n    Queue&lt;Map.Entry&lt;K, V&gt;&gt; queue = new PriorityQueue&lt;&gt;((one, two) -&gt;\n                     valueComparator.compare(one.getValue(), two.getValue()));\n    queue.addAll(map.entrySet());\n    return queue.iterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744671,"reputation":624,"user_id":1595156,"accept_rate":22,"display_name":"Arpit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692773728,"creation_date":1692773728,"answer_id":76958971,"question_id":109383,"body_markdown":"By using the below code you can sort the hashmap on the basis of key &amp; value both.\r\nFirst you can sort it on the basis of value &amp; if the values are same then you can compare on the basis of key.\r\n\r\n    val list: List&lt;Map.Entry&lt;Int, String&gt;&gt; = LinkedList&lt;Map.Entry&lt;Int, String&gt;&gt;(hm.entries)\r\n\r\n    Collections.sort(list) { entry: Map.Entry&lt;Int, String&gt;, entry1: Map.Entry&lt;Int, String&gt; -&gt;\r\n        var result = entry.value.compareTo(entry1.value)\r\n        if (result == 0) {\r\n            result = entry.key.compareTo(entry1.key)\r\n        }\r\n        result\r\n    }\r\n\r\n    val hashmap: HashMap&lt;Int, String&gt; = LinkedHashMap&lt;Int, String&gt;()\r\n    list.forEach {\r\n        hashmap[it.key] = it.value\r\n    }\r\n\r\n    hashmap.forEach {\r\n        println(&quot;${it.key}, ${it.value}&quot;)\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>By using the below code you can sort the hashmap on the basis of key &amp; value both.\nFirst you can sort it on the basis of value &amp; if the values are same then you can compare on the basis of key.</p>\n<pre><code>val list: List&lt;Map.Entry&lt;Int, String&gt;&gt; = LinkedList&lt;Map.Entry&lt;Int, String&gt;&gt;(hm.entries)\n\nCollections.sort(list) { entry: Map.Entry&lt;Int, String&gt;, entry1: Map.Entry&lt;Int, String&gt; -&gt;\n    var result = entry.value.compareTo(entry1.value)\n    if (result == 0) {\n        result = entry.key.compareTo(entry1.key)\n    }\n    result\n}\n\nval hashmap: HashMap&lt;Int, String&gt; = LinkedHashMap&lt;Int, String&gt;()\nlist.forEach {\n    hashmap[it.key] = it.value\n}\n\nhashmap.forEach {\n    println(&quot;${it.key}, ${it.value}&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5777,"reputation":2463,"user_id":9466,"display_name":"Abe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754212,"favorite_count":0,"down_vote_count":5,"up_vote_count":1886,"answer_count":65,"score":1881,"last_activity_date":1693478898,"creation_date":1221944603,"question_id":109383,"body_markdown":"I need to sort a `Map&lt;Key, Value&gt;` on the values.\r\n\r\nSince the values are not unique, I find myself converting the `keySet` into an `array`, and sorting that array through **array sort** with a **custom comparator** that sorts on the value associated with the key.\r\n\r\nIs there an easier way?","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I need to sort a <code>Map&lt;Key, Value&gt;</code> on the values.</p>\n<p>Since the values are not unique, I find myself converting the <code>keySet</code> into an <code>array</code>, and sorting that array through <strong>array sort</strong> with a <strong>custom comparator</strong> that sorts on the value associated with the key.</p>\n<p>Is there an easier way?</p>\n"},{"tags":["java","android","kotlin","activity-result-api","activityresultcontracts"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1665255957,"post_id":73999566,"comment_id":130659035,"body_markdown":"`ActivityResultContracts.PickVisualMedia.ImageOnly` is a Kotlin `object`, not a class. In Kotlin, you would refer to that object simply as `ActivityResultContracts.PickVisualMedia.ImageOnly`. I forget how the JVM interop works for these. Regardless, you do not create an instance of `ActivityResultContracts.PickVisualMedia.ImageOnly`, but use the pre-existing singleton instance.","body":"<code>ActivityResultContracts.PickVisualMedia.ImageOnly</code> is a Kotlin <code>object</code>, not a class. In Kotlin, you would refer to that object simply as <code>ActivityResultContracts.PickVisualMedia.ImageOnly</code>. I forget how the JVM interop works for these. Regardless, you do not create an instance of <code>ActivityResultContracts.PickVisualMedia.ImageOnly</code>, but use the pre-existing singleton instance."},{"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"score":2,"creation_date":1665258005,"post_id":73999566,"comment_id":130659459,"body_markdown":"The Java equivalent would be ```ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE```. Writing it out this way in Java requires casting it to ```VisualMediaType```. After doing so in Java, the compiler complains about it being an incompatible cast. It&#39;s especially weird because it doesn&#39;t complain about it when written that way in Kotlin. I even decompiled that same working Kotlin code into Java and then weirdly the compiler complains about it. Very weird.","body":"The Java equivalent would be <code>ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE</code>. Writing it out this way in Java requires casting it to <code>VisualMediaType</code>. After doing so in Java, the compiler complains about it being an incompatible cast. It&#39;s especially weird because it doesn&#39;t complain about it when written that way in Kotlin. I even decompiled that same working Kotlin code into Java and then weirdly the compiler complains about it. Very weird."}],"answers":[{"tags":[],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1665258487,"creation_date":1665258487,"answer_id":74000104,"question_id":73999566,"body_markdown":"After some help from CommonsWare, I determined that ```setMediaType()``` accepts a Kotlin object instance. So, the above bad function I had should be:\r\n\r\n```\r\nprivate void onSelectNewPhotoButtonClick() {\r\n    ActivityResultContracts.PickVisualMedia.VisualMediaType mediaType = (ActivityResultContracts.PickVisualMedia.VisualMediaType) ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE;\r\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\r\n            .setMediaType(mediaType)\r\n            .build();\r\n    pickVisualMediaActivityResultLauncher.launch(request);\r\n}\r\n```\r\n\r\nAndroid Studio complains about the type casting, but the code does compile and work as expected. Very bizarre.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gXs9p.png\r\n  [2]: https://i.stack.imgur.com/3ZUVv.png","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>After some help from CommonsWare, I determined that <code>setMediaType()</code> accepts a Kotlin object instance. So, the above bad function I had should be:</p>\n<pre><code>private void onSelectNewPhotoButtonClick() {\n    ActivityResultContracts.PickVisualMedia.VisualMediaType mediaType = (ActivityResultContracts.PickVisualMedia.VisualMediaType) ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE;\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\n            .setMediaType(mediaType)\n            .build();\n    pickVisualMediaActivityResultLauncher.launch(request);\n}\n</code></pre>\n<p>Android Studio complains about the type casting, but the code does compile and work as expected. Very bizarre.</p>\n<p><a href=\"https://i.stack.imgur.com/gXs9p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gXs9p.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3ZUVv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3ZUVv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1031524,"reputation":1431,"user_id":1123880,"display_name":"Roney Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679961194,"creation_date":1679961194,"answer_id":75861295,"question_id":73999566,"body_markdown":"As of March 22, 2023. There is a fix just update [androidx.activity:activity][1] to version 1.7.0.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/activity#1.7.0","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>As of March 22, 2023. There is a fix just update <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#1.7.0\" rel=\"nofollow noreferrer\">androidx.activity:activity</a> to version 1.7.0.</p>\n"},{"tags":[],"owner":{"account_id":16585000,"reputation":338,"user_id":11984655,"display_name":"Sachidanand Pandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692878553,"creation_date":1692878553,"answer_id":76969077,"question_id":73999566,"body_markdown":"Actually, I also got the same error but when I executed the code it was compiled and run and worked as expected. \r\n\r\nyou can refer to the code\r\n\r\n\r\npickMedia.launch(new PickVisualMediaRequest.Builder()                          .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n.build());\r\n\r\nvisit to [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker#select-single-item","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>Actually, I also got the same error but when I executed the code it was compiled and run and worked as expected.</p>\n<p>you can refer to the code</p>\n<p>pickMedia.launch(new PickVisualMediaRequest.Builder()                          .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n.build());</p>\n<p>visit to <a href=\"https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":26875236,"reputation":13,"user_id":20456581,"display_name":"Nebobrod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693478765,"creation_date":1693478765,"answer_id":77015101,"question_id":73999566,"body_markdown":"For me this code from [vendor (last sample)][1] is working \r\n*(but yep, the error is still bothering so I&#39;d like to find stable solution as well).*\r\n \r\n[![SingleMimeType as an alternative to VisualMediaType][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\r\n  [2]: https://i.stack.imgur.com/zRzLZ.png","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>For me this code from <a href=\"https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\" rel=\"nofollow noreferrer\">vendor (last sample)</a> is working\n<em>(but yep, the error is still bothering so I'd like to find stable solution as well).</em></p>\n<p><a href=\"https://i.stack.imgur.com/zRzLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRzLZ.png\" alt=\"SingleMimeType as an alternative to VisualMediaType\" /></a></p>\n"}],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5916,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74000104,"answer_count":4,"score":8,"last_activity_date":1693478765,"creation_date":1665253897,"question_id":73999566,"body_markdown":"I am trying to use the [Activity Result APIs](https://developer.android.com/training/basics/intents/result) to handle the picking of a single photo for an app I am developing. I am trying to use one of the predefined contracts to keep things simple. So, I am attempting to use the [ActivityResultContracts.PickVisualMedia()](https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.PickVisualMedia) contract.\r\n\r\nI am setting the Activity Result Launcher up as follows:\r\n```\r\nprivate ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickVisualMediaActivityResultLauncher;\r\n\r\n@Override\r\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\r\n    pickVisualMediaActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.PickVisualMedia(),\r\n            this::onPickVisualMediaActivityResult\r\n    );\r\n}\r\n```\r\n\r\nAnd I am attempting to construct a [PickVisualMediaRequest](https://developer.android.com/reference/androidx/activity/result/PickVisualMediaRequest) and launch the Activity Result Launcher here:\r\n\r\n```\r\nprivate void onSelectNewPhotoButtonClick() {\r\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\r\n            .setMediaType(new ActivityResultContracts.PickVisualMedia.ImageOnly())\r\n            .build();\r\n    pickVisualMediaActivityResultLauncher.launch(request);\r\n}\r\n```\r\n\r\nIssue is that Android Studio is complaining about ActivityResultContracts.PickVisualMedia.ImageOnly() not having proper visibility to be used, even though it is a valid VisualMediaType and the docs imply that it should be used this way:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y1Zjh.png\r\n\r\nI can&#39;t really find any code samples on this particular scenario. Am I missing something? Does the API have a visibility defect or am I just dumb today?","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>I am trying to use the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"noreferrer\">Activity Result APIs</a> to handle the picking of a single photo for an app I am developing. I am trying to use one of the predefined contracts to keep things simple. So, I am attempting to use the <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.PickVisualMedia\" rel=\"noreferrer\">ActivityResultContracts.PickVisualMedia()</a> contract.</p>\n<p>I am setting the Activity Result Launcher up as follows:</p>\n<pre><code>private ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickVisualMediaActivityResultLauncher;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    pickVisualMediaActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.PickVisualMedia(),\n            this::onPickVisualMediaActivityResult\n    );\n}\n</code></pre>\n<p>And I am attempting to construct a <a href=\"https://developer.android.com/reference/androidx/activity/result/PickVisualMediaRequest\" rel=\"noreferrer\">PickVisualMediaRequest</a> and launch the Activity Result Launcher here:</p>\n<pre><code>private void onSelectNewPhotoButtonClick() {\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\n            .setMediaType(new ActivityResultContracts.PickVisualMedia.ImageOnly())\n            .build();\n    pickVisualMediaActivityResultLauncher.launch(request);\n}\n</code></pre>\n<p>Issue is that Android Studio is complaining about ActivityResultContracts.PickVisualMedia.ImageOnly() not having proper visibility to be used, even though it is a valid VisualMediaType and the docs imply that it should be used this way:\n<a href=\"https://i.stack.imgur.com/Y1Zjh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y1Zjh.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't really find any code samples on this particular scenario. Am I missing something? Does the API have a visibility defect or am I just dumb today?</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1693427286,"post_id":77011245,"comment_id":135761372,"body_markdown":"1) Best guess is whatever is doing creation process is not committing the transaction and all changes are lost when the session is closed. 2) To troubleshoot look at the Postgres log and see what is actually hitting the database.","body":"1) Best guess is whatever is doing creation process is not committing the transaction and all changes are lost when the session is closed. 2) To troubleshoot look at the Postgres log and see what is actually hitting the database."},{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":0,"creation_date":1693478826,"post_id":77011245,"comment_id":135767851,"body_markdown":"First, observe the queries that are executed where your database logs are logged. \nSecond, change your `spring.jpa.hibernate.ddl-auto=update`  to `create`.\n\nAt last, sometimes dropping the entire table that does not update the columns seems to be the only option. But make sure to do a pg_dump in case if you have important data in your database. \nI&#39;d suggest trying this only on your local setup, because the implications are huge.","body":"First, observe the queries that are executed where your database logs are logged.  Second, change your <code>spring.jpa.hibernate.ddl-auto=update</code>  to <code>create</code>.  At last, sometimes dropping the entire table that does not update the columns seems to be the only option. But make sure to do a pg_dump in case if you have important data in your database.  I&#39;d suggest trying this only on your local setup, because the implications are huge."}],"answers":[{"tags":[],"owner":{"account_id":22039438,"reputation":39,"user_id":16305424,"display_name":"CaileanCuina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693469676,"creation_date":1693469676,"answer_id":77013991,"question_id":77011245,"body_markdown":"Why don&#39;t you try something like Liquibase ( database schema change management)?\r\nwith that it&#39;s also easier to maintain your db.\r\nFor that you have to add the dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand organize your db changes in changelog files, like described in here:\r\nhttps://www.baeldung.com/liquibase-refactor-schema-of-java-app","title":"PostgreSQL is not creating any table while running springboot without any exception","body":"<p>Why don't you try something like Liquibase ( database schema change management)?\nwith that it's also easier to maintain your db.\nFor that you have to add the dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and organize your db changes in changelog files, like described in here:\n<a href=\"https://www.baeldung.com/liquibase-refactor-schema-of-java-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/liquibase-refactor-schema-of-java-app</a></p>\n"}],"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693478316,"creation_date":1693426101,"question_id":77011245,"body_markdown":"I cannot create any table or column in PostgreSQL with springboot and **there&#39;s no exception observed.** It&#39;s driving me crazy. I really need your help, here is my code:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@Table(name = &quot;doctor_info&quot;)\r\npublic class DoctorInfo  {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t@Column\r\n\tprivate String fullName; \r\n\t@Column\r\n\tprivate String department; \r\n\t@Column\r\n\tprivate String userName; \r\n\t@Column\r\n\tprivate String password;\r\n\r\n} \r\n```\r\n\r\nThis is application properties:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update \r\nspring.jpa.show-sql = true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/hospital\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.initialization-mode=always\r\nspring.datasource.initialize=true \r\n```\r\n\r\n[this is the database I created][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Mvqa.png","title":"PostgreSQL is not creating any table while running springboot without any exception","body":"<p>I cannot create any table or column in PostgreSQL with springboot and <strong>there's no exception observed.</strong> It's driving me crazy. I really need your help, here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@Table(name = &quot;doctor_info&quot;)\npublic class DoctorInfo  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column\n    private String fullName; \n    @Column\n    private String department; \n    @Column\n    private String userName; \n    @Column\n    private String password;\n\n} \n</code></pre>\n<p>This is application properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update \nspring.jpa.show-sql = true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.url=jdbc:postgresql://localhost:5432/hospital\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.initialization-mode=always\nspring.datasource.initialize=true \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1Mvqa.png\" rel=\"nofollow noreferrer\">this is the database I created</a></p>\n"},{"tags":["java","spring","multithreading","spring-boot","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544006737,"creation_date":1544006737,"answer_id":53630503,"question_id":53630419,"body_markdown":"Second way is better because you **let Spring handle class** `TaskScheduler` and later you can use it in other classes using  `@Autowired` as:\r\n\r\n    @Autowired\r\n    TaskScheduler taskScheduler  \r\n\r\n","title":"Spring Boot - Scheduler configuration","body":"<p>Second way is better because you <strong>let Spring handle class</strong> <code>TaskScheduler</code> and later you can use it in other classes using  <code>@Autowired</code> as:</p>\n\n<pre><code>@Autowired\nTaskScheduler taskScheduler  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5042493,"reputation":300,"user_id":4049426,"display_name":"Sodala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544011291,"creation_date":1544009742,"answer_id":53631394,"question_id":53630419,"body_markdown":"Why in way 2 initialize method of ThreadPoolTaskScheduler object isn&#39;t called?\r\n\r\nBecause now, ThreadPoolTaskScheduler is a bean and it follows the Bean Life Cycle.\r\n\r\nYou can see that ThreadPoolTaskScheduler implements InitializingBean.\r\nSo after spring builds this bean, it will call the afterPropertiesSet() method .\r\n\r\nIf you inspect the code of ThreadPoolTaskScheduler, you will see:\r\n\r\n    public void afterPropertiesSet() {\r\n        this.initialize();\r\n    }\r\n\r\n","title":"Spring Boot - Scheduler configuration","body":"<p>Why in way 2 initialize method of ThreadPoolTaskScheduler object isn't called?</p>\n\n<p>Because now, ThreadPoolTaskScheduler is a bean and it follows the Bean Life Cycle.</p>\n\n<p>You can see that ThreadPoolTaskScheduler implements InitializingBean.\nSo after spring builds this bean, it will call the afterPropertiesSet() method .</p>\n\n<p>If you inspect the code of ThreadPoolTaskScheduler, you will see:</p>\n\n<pre><code>public void afterPropertiesSet() {\n    this.initialize();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7447887,"reputation":135,"user_id":5663561,"accept_rate":67,"display_name":"dobedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693477950,"creation_date":1693477950,"answer_id":77015022,"question_id":53630419,"body_markdown":"I was also tempted to define such a configuration. Since Spring Boot 2.1.0 you can do this via configuration (`org.springframework.boot.autoconfigure.task.TaskSchedulingProperties`), both the number of threads and threadNamePrefix can be customised.","title":"Spring Boot - Scheduler configuration","body":"<p>I was also tempted to define such a configuration. Since Spring Boot 2.1.0 you can do this via configuration (<code>org.springframework.boot.autoconfigure.task.TaskSchedulingProperties</code>), both the number of threads and threadNamePrefix can be customised.</p>\n"}],"owner":{"account_id":6672699,"reputation":379,"user_id":5148363,"accept_rate":82,"display_name":"nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53630503,"answer_count":3,"score":3,"last_activity_date":1693477950,"creation_date":1544006469,"question_id":53630419,"body_markdown":"In Spring Boot application I have several scheduled tasks. I want them to run simultaneously, so in my configuration I should create `ThreadPoolTaskScheduler` object and register it in `ScheduledTaskRegistrar`.\r\n I find two ways to do that:\r\n\r\n**way 1**\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n\r\n        private final int POOL_SIZE = 10;\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n\r\n            scheduler.setPoolSize(POOL_SIZE);\r\n            scheduler.setThreadNamePrefix(&quot;name&quot;);\r\n            scheduler.initialize();\r\n\r\n            scheduledTaskRegistrar.setTaskScheduler(scheduler);\r\n        }\r\n    }\r\n\r\n**way 2**\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n\r\n        private final int POOL_SIZE = 10;\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n\r\n            scheduledTaskRegistrar.setTaskScheduler(this.poolScheduler());\r\n        }\r\n\r\n        @Bean\r\n        public TaskScheduler poolScheduler() {\r\n\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n\r\n            scheduler.setPoolSize(POOL_SIZE);\r\n            scheduler.setThreadNamePrefix(&quot;name&quot;);\r\n\r\n            return scheduler;\r\n        }\r\n    }\r\n\r\n 1. Which way is better or they do exactly the same?  \r\n 2. Why in way 2 initialize method of ThreadPoolTaskScheduler object isn&#39;t called? ","title":"Spring Boot - Scheduler configuration","body":"<p>In Spring Boot application I have several scheduled tasks. I want them to run simultaneously, so in my configuration I should create <code>ThreadPoolTaskScheduler</code> object and register it in <code>ScheduledTaskRegistrar</code>.\n I find two ways to do that:</p>\n\n<p><strong>way 1</strong></p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n\n        scheduler.setPoolSize(POOL_SIZE);\n        scheduler.setThreadNamePrefix(\"name\");\n        scheduler.initialize();\n\n        scheduledTaskRegistrar.setTaskScheduler(scheduler);\n    }\n}\n</code></pre>\n\n<p><strong>way 2</strong></p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n\n        scheduledTaskRegistrar.setTaskScheduler(this.poolScheduler());\n    }\n\n    @Bean\n    public TaskScheduler poolScheduler() {\n\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n\n        scheduler.setPoolSize(POOL_SIZE);\n        scheduler.setThreadNamePrefix(\"name\");\n\n        return scheduler;\n    }\n}\n</code></pre>\n\n<ol>\n<li>Which way is better or they do exactly the same?  </li>\n<li>Why in way 2 initialize method of ThreadPoolTaskScheduler object isn't called? </li>\n</ol>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693477550,"post_id":77014018,"comment_id":135767585,"body_markdown":"If it is deprecated, it will have documentation how to replace it (and besides, it will still work if it was only deprecated).","body":"If it is deprecated, it will have documentation how to replace it (and besides, it will still work if it was only deprecated)."},{"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"score":0,"creation_date":1693477910,"post_id":77014018,"comment_id":135767652,"body_markdown":"@MarkRotteveel I was wrong, this annotation has already been removed in Hibernate 6.","body":"@MarkRotteveel I was wrong, this annotation has already been removed in Hibernate 6."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1693478242,"post_id":77014018,"comment_id":135767726,"body_markdown":"The Hibernate 6 documentation and Migration Guide really gloss over this (as in hardly describe this, they just mention it was removed). I think [this example](https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-bitset) might show you the alternative, but I&#39;m not entirely sure.","body":"The Hibernate 6 documentation and Migration Guide really gloss over this (as in hardly describe this, they just mention it was removed). I think <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-bitset\" rel=\"nofollow noreferrer\">this example</a> might show you the alternative, but I&#39;m not entirely sure."}],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693470114,"answer_count":0,"score":0,"last_activity_date":1693477811,"creation_date":1693469923,"question_id":77014018,"body_markdown":"I updated hibernate to version 6, but it turned out that the @TypeDef annotation was removed. \r\nAnnotation:\r\n``` \r\n@TypeDef(\r\n        typeClass = PostgreSQLIntervalType.class,\r\n        defaultForType = Duration.class)\r\n``` \r\nField:\r\n``` \r\n    @Column(name = &quot;period&quot;, columnDefinition = &quot;interval&quot;)\r\n    @Getter(AccessLevel.NONE)\r\n    private Duration workedOutTime = Duration.between(createdAt.toLocalTime(), createdAt.toLocalTime());\r\n\r\n    public LocalTime getWorkedOutTime() {\r\n        return LocalTime.ofSecondOfDay(workedOutTime.getSeconds());\r\n    }\r\n\r\n    public long getWorkedOutDuration() {\r\n        return workedOutTime.getSeconds();\r\n    }\r\n\r\n``` \r\n\r\nHow can it be replaced?","title":"@TypeDef(typeClass = PostgreSQLIntervalType.class, defaultForType = Duration.class) annotation in Hibernate 6","body":"<p>I updated hibernate to version 6, but it turned out that the @TypeDef annotation was removed.\nAnnotation:</p>\n<pre><code>@TypeDef(\n        typeClass = PostgreSQLIntervalType.class,\n        defaultForType = Duration.class)\n</code></pre>\n<p>Field:</p>\n<pre><code>    @Column(name = &quot;period&quot;, columnDefinition = &quot;interval&quot;)\n    @Getter(AccessLevel.NONE)\n    private Duration workedOutTime = Duration.between(createdAt.toLocalTime(), createdAt.toLocalTime());\n\n    public LocalTime getWorkedOutTime() {\n        return LocalTime.ofSecondOfDay(workedOutTime.getSeconds());\n    }\n\n    public long getWorkedOutDuration() {\n        return workedOutTime.getSeconds();\n    }\n\n</code></pre>\n<p>How can it be replaced?</p>\n"},{"tags":["java","json","xml","scala","jackson-databind"],"comments":[{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1693357056,"post_id":76972540,"comment_id":135749076,"body_markdown":"Underscore-java library has static method U.xmlToJson(xml)","body":"Underscore-java library has static method U.xmlToJson(xml)"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693477721,"creation_date":1693477721,"answer_id":77014994,"question_id":76972540,"body_markdown":"It is possible if you use the [`ObjectWriter.withRootName`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-java.lang.String-) method with the constructed `ObjectWriter` writer from your already existing `ObjectMapper` mapper present in your code, so giving the correct rootname (in your case the value *Person*):\r\n\r\n~~~\r\nval node: JsonNode = xmlMapper.readTree(xml)\r\nval jsonMapper: ObjectMapper = new ObjectMapper()\r\nval json: String = jsonMapper.writer()\r\n                             .withRootName(&quot;Person&quot;)\r\n                             .writeValueAsString(node)\r\n//Output: {&quot;Person&quot;:{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}}\r\nprintln(json)\r\n~~~\r\n\r\n\r\n","title":"Right configuration to convert a small and a large number from XML to Json using com.fasterxml.jackson.dataformat.xml.XmlMapper class","body":"<p>It is possible if you use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ObjectWriter.withRootName</code></a> method with the constructed <code>ObjectWriter</code> writer from your already existing <code>ObjectMapper</code> mapper present in your code, so giving the correct rootname (in your case the value <em>Person</em>):</p>\n<pre><code>val node: JsonNode = xmlMapper.readTree(xml)\nval jsonMapper: ObjectMapper = new ObjectMapper()\nval json: String = jsonMapper.writer()\n                             .withRootName(&quot;Person&quot;)\n                             .writeValueAsString(node)\n//Output: {&quot;Person&quot;:{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}}\nprintln(json)\n</code></pre>\n"}],"owner":{"account_id":3146538,"reputation":149,"user_id":2660920,"display_name":"Heitor Barbieri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77014994,"answer_count":1,"score":1,"last_activity_date":1693477772,"creation_date":1692906804,"question_id":76972540,"body_markdown":"How can I configure the com.fasterxml.jackson.dataformat.xml.XmlMapper class so that given an xml like:\r\n\r\n```\r\n&lt;Person&gt;\r\n    &lt;Age&gt;33&lt;/Age&gt;\r\n    &lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;\r\n&lt;/Person&gt;\r\n```\r\n\r\nCan turn it into a json string like:\r\n\r\n```\r\n{\r\n    &quot;Person&quot;: {\r\n     &quot;Age&quot;: 33,\r\n     &quot;GrantID&quot;: &quot;815721008160186381772405&quot;\r\n     }\r\n}\r\n```\r\n\r\nSee the detail that 33 can be converted into a number, but 815721008160186381772405 cannot and is converted into a string.\r\n\r\n\r\nMy sample program:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper\r\n\r\nobject Xml2Json extends App {\r\n  val xml: String = &quot;&lt;Person&gt;&lt;Age&gt;33&lt;/Age&gt;&lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;&lt;/Person&gt;&quot;\r\n  val xmlMapper: XmlMapper = new XmlMapper()\r\n  val node: JsonNode = xmlMapper.readTree(xml) //.readTree(xml.getBytes())\r\n  val jsonMapper: ObjectMapper = new ObjectMapper()\r\n  val json: String = jsonMapper.writeValueAsString(node)\r\n\r\n  println(json)\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n    {&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}","title":"Right configuration to convert a small and a large number from XML to Json using com.fasterxml.jackson.dataformat.xml.XmlMapper class","body":"<p>How can I configure the com.fasterxml.jackson.dataformat.xml.XmlMapper class so that given an xml like:</p>\n<pre><code>&lt;Person&gt;\n    &lt;Age&gt;33&lt;/Age&gt;\n    &lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;\n&lt;/Person&gt;\n</code></pre>\n<p>Can turn it into a json string like:</p>\n<pre><code>{\n    &quot;Person&quot;: {\n     &quot;Age&quot;: 33,\n     &quot;GrantID&quot;: &quot;815721008160186381772405&quot;\n     }\n}\n</code></pre>\n<p>See the detail that 33 can be converted into a number, but 815721008160186381772405 cannot and is converted into a string.</p>\n<p>My sample program:</p>\n<pre><code>import com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper\n\nobject Xml2Json extends App {\n  val xml: String = &quot;&lt;Person&gt;&lt;Age&gt;33&lt;/Age&gt;&lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;&lt;/Person&gt;&quot;\n  val xmlMapper: XmlMapper = new XmlMapper()\n  val node: JsonNode = xmlMapper.readTree(xml) //.readTree(xml.getBytes())\n  val jsonMapper: ObjectMapper = new ObjectMapper()\n  val json: String = jsonMapper.writeValueAsString(node)\n\n  println(json)\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}\n</code></pre>\n"},{"tags":["java","c++","c"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1693471606,"post_id":881064,"comment_id":135766363,"body_markdown":"We don&#39;t say anything of the sort. Where did you get this? It is *programming styles* or even *analysis* which is top-down or bottom-up. But this topic dates from the 1970s. We are well past all that now. The &#39;top-down&#39; fallacies were exposed decades ago.","body":"We don&#39;t say anything of the sort. Where did you get this? It is <i>programming styles</i> or even <i>analysis</i> which is top-down or bottom-up. But this topic dates from the 1970s. We are well past all that now. The &#39;top-down&#39; fallacies were exposed decades ago."}],"answers":[{"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1242710894,"creation_date":1242710894,"answer_id":881098,"question_id":881064,"body_markdown":"In Top-Down development you start out with your main function, and then think of the main steps you need to take, then you break up each of those steps into their subparts, and so on.\r\n\r\nIn Bottom-Up programming you think of the basic functionality and the parts you&#39;re going to need and build them up.  You develop the actors and their methods, and then you tie them together to make a coherent whole.\r\n\r\nOOP naturally tends toward Bottom-Up as you develop your objects, while procedural programming tends toward Top-Down as you start out with one function and slowly add to it.","title":"Top down and Bottom up programming","body":"<p>In Top-Down development you start out with your main function, and then think of the main steps you need to take, then you break up each of those steps into their subparts, and so on.</p>\n\n<p>In Bottom-Up programming you think of the basic functionality and the parts you're going to need and build them up.  You develop the actors and their methods, and then you tie them together to make a coherent whole.</p>\n\n<p>OOP naturally tends toward Bottom-Up as you develop your objects, while procedural programming tends toward Top-Down as you start out with one function and slowly add to it.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1242710970,"creation_date":1242710970,"answer_id":881100,"question_id":881064,"body_markdown":"The &quot;top down&quot; approach takes a high level definition of the problem and subdivides it into subproblems, which you then do recursively until you&#39;re down to pieces that are obvious and easy to code.  This is often associated with the &quot;functional decomposition&quot; style of programming, but needn&#39;t be.\r\n\r\nIn &quot;bottom up&quot; programming, you identify lower-level tools that you can compose to become a bigger program.\r\n\r\nIn reality, almost all programming is done with a combination of approaches.  in object oriented programming, you commonly subdivide the problem by identifying domain objects (which is a top down step), and refining those, then recombining those into the final program  a bottom up step.\r\n\r\n","title":"Top down and Bottom up programming","body":"<p>The \"top down\" approach takes a high level definition of the problem and subdivides it into subproblems, which you then do recursively until you're down to pieces that are obvious and easy to code.  This is often associated with the \"functional decomposition\" style of programming, but needn't be.</p>\n\n<p>In \"bottom up\" programming, you identify lower-level tools that you can compose to become a bigger program.</p>\n\n<p>In reality, almost all programming is done with a combination of approaches.  in object oriented programming, you commonly subdivide the problem by identifying domain objects (which is a top down step), and refining those, then recombining those into the final program  a bottom up step.</p>\n"},{"tags":[],"owner":{"account_id":6080,"reputation":12964,"user_id":10080,"accept_rate":88,"display_name":"AviD"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242711013,"creation_date":1242711013,"answer_id":881101,"question_id":881064,"body_markdown":"I&#39;ve never heard that classification applied to specific languages, rather it&#39;s a programming paradigm - do you first fill out the details (i.e. build full implementation methods) and then put them together (e.g. call them from them main() method), or start with the logical flow and then flesh out the implementation?  \r\n\r\nYou can really do either with both types of lanugages...  But I would say it&#39;s typically the opposite, in current OOP languages you&#39;ll first define the interfaces, forming the logical structure, and only afterwards worry about the implementation, whereas straight procedural languages like C, you need to actually implement some methods before you call them.","title":"Top down and Bottom up programming","body":"<p>I've never heard that classification applied to specific languages, rather it's a programming paradigm - do you first fill out the details (i.e. build full implementation methods) and then put them together (e.g. call them from them main() method), or start with the logical flow and then flesh out the implementation?  </p>\n\n<p>You can really do either with both types of lanugages...  But I would say it's typically the opposite, in current OOP languages you'll first define the interfaces, forming the logical structure, and only afterwards worry about the implementation, whereas straight procedural languages like C, you need to actually implement some methods before you call them.</p>\n"},{"tags":[],"owner":{"account_id":876937,"reputation":9851,"user_id":99389,"display_name":"Nat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1242711526,"creation_date":1242711526,"answer_id":881118,"question_id":881064,"body_markdown":"I&#39;ve never heard the terms &quot;top-down&quot; and &quot;bottom-up&quot; used in that way.\r\n\r\nThe terms are usually used to describe how one approaches design and implementation of a software system and so apply to any language or programming paradigm.\r\n\r\nIn &quot;On LISP&quot;, Paul Graham uses the term &quot;bottom-up&quot; slightly differently to mean continually extracting common functionality into shared functions so that you end up creating a new, higher level dialect of LISP that lets you program in terms of your application domain. That&#39;s not a common use of the term. These days we would call that &quot;refactoring&quot; and &quot;domain-specific embedded languages&quot; (and old LISP programmers would sneer that LISP has been able to do that since the 1950s).\r\n   ","title":"Top down and Bottom up programming","body":"<p>I've never heard the terms \"top-down\" and \"bottom-up\" used in that way.</p>\n\n<p>The terms are usually used to describe how one approaches design and implementation of a software system and so apply to any language or programming paradigm.</p>\n\n<p>In \"On LISP\", Paul Graham uses the term \"bottom-up\" slightly differently to mean continually extracting common functionality into shared functions so that you end up creating a new, higher level dialect of LISP that lets you program in terms of your application domain. That's not a common use of the term. These days we would call that \"refactoring\" and \"domain-specific embedded languages\" (and old LISP programmers would sneer that LISP has been able to do that since the 1950s).</p>\n"},{"tags":[],"owner":{"account_id":227283,"reputation":563,"user_id":488861,"accept_rate":100,"display_name":"Rytek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364909029,"creation_date":1364909029,"answer_id":15765295,"question_id":881064,"body_markdown":"It&#39;s more about paradigm (object oriented, imperative, functionnal etc.) than syntax.\r\n\r\nFrom [dept-info.labri.fr][1]\r\n\r\n&gt; Bottom-up programming is the opposite of top-down programming. It\r\n&gt; refers to a style of programming where an **application is constructed\r\n&gt; starting with existing primitives of the programming language**, and\r\n&gt; constructing gradually more and more complicated features, until the\r\n&gt; all of the application has been written.\r\n\r\nLater in the same article :\r\n\r\n&gt; In a language such as C or Java, bottom-up programming takes the form\r\n&gt; of constructing abstract data types from primitives of the language or\r\n&gt; from existing abstract data types.\r\n\r\n  [1]: http://dept-info.labri.fr/~strandh/Teaching/PFS/Common/Strandh-Tutorial/bottom-up-programming.html","title":"Top down and Bottom up programming","body":"<p>It's more about paradigm (object oriented, imperative, functionnal etc.) than syntax.</p>\n\n<p>From <a href=\"http://dept-info.labri.fr/~strandh/Teaching/PFS/Common/Strandh-Tutorial/bottom-up-programming.html\" rel=\"nofollow\">dept-info.labri.fr</a></p>\n\n<blockquote>\n  <p>Bottom-up programming is the opposite of top-down programming. It\n  refers to a style of programming where an <strong>application is constructed\n  starting with existing primitives of the programming language</strong>, and\n  constructing gradually more and more complicated features, until the\n  all of the application has been written.</p>\n</blockquote>\n\n<p>Later in the same article :</p>\n\n<blockquote>\n  <p>In a language such as C or Java, bottom-up programming takes the form\n  of constructing abstract data types from primitives of the language or\n  from existing abstract data types.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2965287,"reputation":21,"user_id":2518583,"display_name":"varinder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372132989,"creation_date":1372132989,"answer_id":17288961,"question_id":881064,"body_markdown":"In top-down approach the system is first formulated specifying but not detailing any subsystem at the beginning, and then each system and its subsystem is defined in great detail until specifying it to the base. \r\n\r\ne.g.- In a C program one needs to declare functions at the top of the program and then through the main entry to every subsystem/subroutine is defined in great detail.\r\n\r\nIn bottom-up approach first designing, beginning  from the base level to the abstract level is done.\r\n\r\ne.g.-In c++/java starts designing from class from basic level of the programming features and then goes to the main part of the program.","title":"Top down and Bottom up programming","body":"<p>In top-down approach the system is first formulated specifying but not detailing any subsystem at the beginning, and then each system and its subsystem is defined in great detail until specifying it to the base. </p>\n\n<p>e.g.- In a C program one needs to declare functions at the top of the program and then through the main entry to every subsystem/subroutine is defined in great detail.</p>\n\n<p>In bottom-up approach first designing, beginning  from the base level to the abstract level is done.</p>\n\n<p>e.g.-In c++/java starts designing from class from basic level of the programming features and then goes to the main part of the program.</p>\n"},{"tags":[],"owner":{"account_id":5463150,"reputation":129,"user_id":4344615,"accept_rate":20,"display_name":"Xcode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490165045,"creation_date":1490165045,"answer_id":42944471,"question_id":881064,"body_markdown":"I do believe the difference between the top down approach and bottom up approach to programming is that the top down approach takes the problem and into and breaks into manageable steps and bottom up approach is actually detailing those steps.","title":"Top down and Bottom up programming","body":"<p>I do believe the difference between the top down approach and bottom up approach to programming is that the top down approach takes the problem and into and breaks into manageable steps and bottom up approach is actually detailing those steps.</p>\n"},{"tags":[],"owner":{"account_id":14697363,"reputation":1,"user_id":10614393,"display_name":"Vivek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565586054,"creation_date":1565586054,"answer_id":57455846,"question_id":881064,"body_markdown":"Most of the procedural or low level languages follow Top-down approach like C language.Similarly high level languages like java ,c++ etc follows Bottom-Up Approach.\r\n\r\nIn Top-down approach,all the system or big functions are broken down into small subsystem whereas in Bottom-up approach,Small sub-system are combined together to develop a big and final system.\r\n\r\ne.g.Recursive is top down approach while Iterative is Bottom up approach.\r\n","title":"Top down and Bottom up programming","body":"<p>Most of the procedural or low level languages follow Top-down approach like C language.Similarly high level languages like java ,c++ etc follows Bottom-Up Approach.</p>\n\n<p>In Top-down approach,all the system or big functions are broken down into small subsystem whereas in Bottom-up approach,Small sub-system are combined together to develop a big and final system.</p>\n\n<p>e.g.Recursive is top down approach while Iterative is Bottom up approach.</p>\n"}],"owner":{"display_name":"buz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82693,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"closed_date":1693479587,"accepted_answer_id":881100,"answer_count":8,"score":40,"last_activity_date":1693477375,"creation_date":1242710048,"question_id":881064,"body_markdown":"Why do we say languages such as C are top-down while OOP languages like Java or C++ are bottom-up? Does this classification have any importance in software development?\r\n","title":"Top down and Bottom up programming","body":"<p>Why do we say languages such as C are top-down while OOP languages like Java or C++ are bottom-up? Does this classification have any importance in software development?</p>\n"},{"tags":["java","jhipster","liquibase"],"comments":[{"owner":{"account_id":6014015,"reputation":1182,"user_id":4723506,"display_name":"redge"},"score":0,"creation_date":1429316347,"post_id":29711327,"comment_id":47558400,"body_markdown":"Where is the code for your `SpringLiquibase` class.","body":"Where is the code for your <code>SpringLiquibase</code> class."},{"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"score":0,"creation_date":1429316817,"post_id":29711327,"comment_id":47558507,"body_markdown":"Hi, thanks for your comment, I actually now found the reason for this - the value in the field databasechangelog.md5sum for script 00000000000000_initial_schema.xml::00000000000001 which is in database is different than the one that jHipster is generating upon update to new version. Because of this clash, liquidbase was complaining, even though the script itself hasn&#39;t been changed. I now updated the field value in database to match what liquidbase is trying to  enter and it all worked, validation passed.","body":"Hi, thanks for your comment, I actually now found the reason for this - the value in the field databasechangelog.md5sum for script 00000000000000_initial_schema.xml::00000000000001 which is in database is different than the one that jHipster is generating upon update to new version. Because of this clash, liquidbase was complaining, even though the script itself hasn&#39;t been changed. I now updated the field value in database to match what liquidbase is trying to  enter and it all worked, validation passed."},{"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"score":0,"creation_date":1429349987,"post_id":29711327,"comment_id":47565871,"body_markdown":"http://stackoverflow.com/questions/28427950/jhipster-run-embedded-jar-with-prod-profile-issue-with-liquibase has good explanation of liquidbase check.","body":"<a href=\"http://stackoverflow.com/questions/28427950/jhipster-run-embedded-jar-with-prod-profile-issue-with-liquibase\" title=\"jhipster run embedded jar with prod profile issue with liquibase\">stackoverflow.com/questions/28427950/&hellip;</a> has good explanation of liquidbase check."},{"owner":{"account_id":298276,"reputation":4624,"user_id":604218,"display_name":"Roberto"},"score":0,"creation_date":1466274759,"post_id":29711327,"comment_id":63253692,"body_markdown":"You have a liquibase validation issue, check the following post http://stackoverflow.com/questions/9995747/liquibase-checksum-validation-error-without-any-changes","body":"You have a liquibase validation issue, check the following post <a href=\"http://stackoverflow.com/questions/9995747/liquibase-checksum-validation-error-without-any-changes\" title=\"liquibase checksum validation error without any changes\">stackoverflow.com/questions/9995747/&hellip;</a>"},{"owner":{"account_id":302125,"reputation":1172,"user_id":610317,"accept_rate":100,"display_name":"DRaehal"},"score":3,"creation_date":1531841050,"post_id":29711327,"comment_id":89742111,"body_markdown":"@ivan, If you have found a solution to your own problem, you should add it as a solution and accept it.  This way other people can clearly see the solution instead of having to find it in comments.  Comments cannot be verified as correct by the community.","body":"@ivan, If you have found a solution to your own problem, you should add it as a solution and accept it.  This way other people can clearly see the solution instead of having to find it in comments.  Comments cannot be verified as correct by the community."}],"answers":[{"tags":[],"owner":{"account_id":9359310,"reputation":3767,"user_id":7245145,"accept_rate":100,"display_name":"Steffi Keran Rani J"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1633025976,"creation_date":1542092480,"answer_id":53275493,"question_id":29711327,"body_markdown":"It is a known fact that **Liquibase** writes all changelogs into a table named as **databasechangelog** in your database as:\r\n&gt; The root of all Liquibase changes is the databaseChangeLog file.\r\n\r\nWhen I had the similar error occuring, I solved it manually by altering the checksum value in the **databasechangelog** table in my database. You can solve it by running the following SQL query in your database:\r\n\r\n    UPDATE `databasechangelog` SET `MD5SUM`=`7:bde7b076d47aefe8278d126cde26b172` WHERE `ID`=`00000000000001`;\r\n\r\n**ANOTHER WORKAROUND**\r\n\r\nTruncate the `databasechangelog` table. Add **no-liquibase** in appropriate place in the **pom.xml** file as below:\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring.profiles.active&gt;local,no-liquibase&lt;/spring.profiles.active&gt;\r\n    &lt;/properties&gt;\r\n\r\nAnd then run **mvn** (or **mvnw**, as per your project settings) and the application will be launched successfully!","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>It is a known fact that <strong>Liquibase</strong> writes all changelogs into a table named as <strong>databasechangelog</strong> in your database as:</p>\n<blockquote>\n<p>The root of all Liquibase changes is the databaseChangeLog file.</p>\n</blockquote>\n<p>When I had the similar error occuring, I solved it manually by altering the checksum value in the <strong>databasechangelog</strong> table in my database. You can solve it by running the following SQL query in your database:</p>\n<pre><code>UPDATE `databasechangelog` SET `MD5SUM`=`7:bde7b076d47aefe8278d126cde26b172` WHERE `ID`=`00000000000001`;\n</code></pre>\n<p><strong>ANOTHER WORKAROUND</strong></p>\n<p>Truncate the <code>databasechangelog</code> table. Add <strong>no-liquibase</strong> in appropriate place in the <strong>pom.xml</strong> file as below:</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring.profiles.active&gt;local,no-liquibase&lt;/spring.profiles.active&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>And then run <strong>mvn</strong> (or <strong>mvnw</strong>, as per your project settings) and the application will be launched successfully!</p>\n"},{"tags":[],"owner":{"account_id":9257898,"reputation":21,"user_id":6876087,"display_name":"Milica"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544435335,"creation_date":1544435335,"answer_id":53703064,"question_id":29711327,"body_markdown":"I had this problem many times, the fastest way for me was to delete all the tables with records that were generated, and rerun the application. ","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had this problem many times, the fastest way for me was to delete all the tables with records that were generated, and rerun the application. </p>\n"},{"tags":[],"owner":{"account_id":3506615,"reputation":61,"user_id":2932024,"display_name":"Neal Shail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554756225,"creation_date":1554756225,"answer_id":55581471,"question_id":29711327,"body_markdown":"I had a similar error running flowable-admin which also uses liquibase with spring\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in org.flowable.admin.conf.DatabaseConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.Liquibase]: Factory method &#39;liquibase&#39; threw exception; nested exception is or\r\ng.flowable.app.service.exception.InternalServerErrorException: Error creating liquibase database\r\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(\r\n```\r\nI also solved this using the suggestion above by modifying the **databasechangeloglock** table which was set to **true**, apparently due to an error during application of changes to **databasechanglog** which had terminated badly.  Setting it to **false** solved this issue and the flowable-admin started up fine.","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had a similar error running flowable-admin which also uses liquibase with spring</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in org.flowable.admin.conf.DatabaseConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.Liquibase]: Factory method 'liquibase' threw exception; nested exception is or\ng.flowable.app.service.exception.InternalServerErrorException: Error creating liquibase database\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(\n</code></pre>\n\n<p>I also solved this using the suggestion above by modifying the <strong>databasechangeloglock</strong> table which was set to <strong>true</strong>, apparently due to an error during application of changes to <strong>databasechanglog</strong> which had terminated badly.  Setting it to <strong>false</strong> solved this issue and the flowable-admin started up fine.</p>\n"},{"tags":[],"owner":{"account_id":8915790,"reputation":21,"user_id":6654414,"display_name":"doudou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570615490,"creation_date":1570615490,"answer_id":58301724,"question_id":29711327,"body_markdown":"I use rancher v1 and I needed to run this inside the mysql database:\r\n\r\n`DELETE FROM DATABASECHANGELOGLOCK where ID = 1;`","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I use rancher v1 and I needed to run this inside the mysql database:</p>\n\n<p><code>DELETE FROM DATABASECHANGELOGLOCK where ID = 1;</code></p>\n"},{"tags":[],"owner":{"account_id":2246784,"reputation":2135,"user_id":1979953,"accept_rate":58,"display_name":"shingo.nakanishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586350942,"creation_date":1586350942,"answer_id":61101338,"question_id":29711327,"body_markdown":"In my case, it was because the file did not load properly.\r\n\r\nI used `includeAll` to show `liquibase` where the include file is.\r\n\r\n# db.changelog-master.yaml\r\n\r\n    databaseChangeLog:\r\n     - includeAll:\r\n        path: classpath*:db/changelog/changes/\r\n     - include:\r\n        file: db/changelog/changes/a.yaml\r\n\r\n\r\n\r\n## reference\r\n[Liquibase and Spring Boot | Object Partners](https://objectpartners.com/2018/05/09/liquibase-and-spring-boot/)\r\n\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>In my case, it was because the file did not load properly.</p>\n\n<p>I used <code>includeAll</code> to show <code>liquibase</code> where the include file is.</p>\n\n<h1>db.changelog-master.yaml</h1>\n\n<pre><code>databaseChangeLog:\n - includeAll:\n    path: classpath*:db/changelog/changes/\n - include:\n    file: db/changelog/changes/a.yaml\n</code></pre>\n\n<h2>reference</h2>\n\n<p><a href=\"https://objectpartners.com/2018/05/09/liquibase-and-spring-boot/\" rel=\"nofollow noreferrer\">Liquibase and Spring Boot | Object Partners</a></p>\n"},{"tags":[],"owner":{"account_id":11156602,"reputation":31,"user_id":8188113,"display_name":"&#199;aatay Hakan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588252284,"creation_date":1588252284,"answer_id":61524211,"question_id":29711327,"body_markdown":"I had the same problem. My solution is this way:\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nOpen ;\r\n&lt;br&gt;\r\n*Database Tables (mySql or postgresql or another)\r\n&lt;br&gt;\r\n*databasechangeloglock Table\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nChange;\r\n&lt;br&gt;\r\n*Locked=false\r\n\r\nI reached the solution in this way. I hope it solves your problem.\r\n\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had the same problem. My solution is this way:\n<br>\n<br>\nOpen ;\n<br>\n*Database Tables (mySql or postgresql or another)\n<br>\n*databasechangeloglock Table\n<br>\n<br>\nChange;\n<br>\n*Locked=false</p>\n\n<p>I reached the solution in this way. I hope it solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693477351,"creation_date":1693477351,"answer_id":77014959,"question_id":29711327,"body_markdown":"I had the same issue, for the delete the table and re run the application or update the table for the id showing in the logs:\r\n\r\nUpdate &quot;table_Name&quot; set column_Name = &#39;changeValueGivenInTheLog (after was)&#39; where id = &quot;valueGivenInTheLog (dbchangeLog::**idValue**)&quot;","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had the same issue, for the delete the table and re run the application or update the table for the id showing in the logs:</p>\n<p>Update &quot;table_Name&quot; set column_Name = 'changeValueGivenInTheLog (after was)' where id = &quot;valueGivenInTheLog (dbchangeLog::<strong>idValue</strong>)&quot;</p>\n"}],"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116146,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1693477351,"creation_date":1429315363,"question_id":29711327,"body_markdown":"I have this annoying error when starting Embedded Tomcat on my jHipster Project. Spent a lot of time trying to resolve it but can&#39;t figure out why it&#39;s happening. It started happening after updating project from main rep but I also implemented Custom Repository.\r\n\r\n**Stack Trace:**\r\n\r\n        DEBUG] uk.co.\r\n    config.DatabaseConfiguration - Configuring Liquibase\r\n    [WARN] org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered d\r\n    uring context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path\r\n     resource [uk/co/inspiresoft/config/DatabaseConfiguration.class]: Invocation of init method failed; nested exception is\r\n    liquibase.exception.ValidationFailedException: Validation Failed:\r\n         1 change sets check sum\r\n              classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\r\n    7b076d47aefe8278d126cde26b172\r\n    \r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\r\n    apableBeanFactory.java:1574) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCap\r\n    ableBeanFactory.java:539) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapab\r\n    leBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spr\r\n    ing-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegis\r\n    try.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[sprin\r\n    g-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) ~[spring-\r\n    beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListable\r\n    BeanFactory.java:755) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplic\r\n    ationContext.java:757) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480) ~\r\n    [spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext\r\n    .java:118) [spring-boot-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686) [spring-boot-1.2.3.RELEASE.jar\r\n    :1.2.3.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:320) [spring-boot-1.2.3.RELEASE.jar:1.2\r\n    .3.RELEASE]\r\n            at uk.co.Application.main(Application.java:59) [classes/:na]\r\n    Caused by: liquibase.exception.ValidationFailedException: Validation Failed:\r\n         1 change sets check sum\r\n              classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\r\n    7b076d47aefe8278d126cde26b172\r\n    \r\n            at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:196) ~[liquibase-core-3.3.2.jar:na]\r\n            at liquibase.Liquibase.update(Liquibase.java:196) ~[liquibase-core-3.3.2.jar:na]\r\n            at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353) ~[liquibase-core-3.3.2.j\r\n    ar:na]\r\n            at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:317) ~[liquibase-core-3.\r\n    3.2.jar:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowi\r\n    reCapableBeanFactory.java:1633) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\r\n    apableBeanFactory.java:1570) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            ... 13 common frames omitted\r\n    [INFO] uk.co.config.CacheConfiguration - Closing Cache Manager\r\n    [INFO] com.hazelcast.core.LifecycleService - [192.168.1.48]:5701 [dev] [3.4] Address[192.168.1.48]:5701 is SHUTTING_DOWN\r\n\r\n\r\nThis is my **DatabaseConfiguration.class**\r\n\r\n\r\n        import java.util.Arrays;\r\n    \r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    \r\n    import liquibase.integration.spring.SpringLiquibase;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingClass;\r\n    import org.springframework.boot.bind.RelaxedPropertyResolver;\r\n    import org.springframework.context.ApplicationContextException;\r\n    import org.springframework.context.EnvironmentAware;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import com.codahale.metrics.MetricRegistry;\r\n    import com.fasterxml.jackson.datatype.hibernate4.Hibernate4Module;\r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass=uk.co.repository.IRepositoryFactoryBean.class, basePackages={&quot;uk.co.repository&quot;})\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;springSecurityAuditorAware&quot;)\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration implements EnvironmentAware {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\r\n    \r\n        private RelaxedPropertyResolver propertyResolver;\r\n    \r\n        private Environment env;\r\n    \r\n        @Autowired(required = false)\r\n        private MetricRegistry metricRegistry;\r\n    \r\n        @Override\r\n        public void setEnvironment(Environment env) {\r\n            this.env = env;\r\n            this.propertyResolver = new RelaxedPropertyResolver(env, &quot;spring.datasource.&quot;);\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdown&quot;)\r\n        @ConditionalOnMissingClass(name = &quot;uk.co.config.HerokuDatabaseConfiguration&quot;)\r\n        @Profile(&quot;!&quot; + Constants.SPRING_PROFILE_CLOUD)\r\n        public DataSource dataSource() {\r\n            log.debug(&quot;Configuring Datasource&quot;);\r\n            if (propertyResolver.getProperty(&quot;url&quot;) == null &amp;&amp; propertyResolver.getProperty(&quot;databaseName&quot;) == null) {\r\n                log.error(&quot;Your database connection pool configuration is incorrect! The application&quot; +\r\n                        &quot;cannot start. Please check your Spring profile, current profiles are: {}&quot;,\r\n                        Arrays.toString(env.getActiveProfiles()));\r\n    \r\n                throw new ApplicationContextException(&quot;Database connection pool is not configured correctly&quot;);\r\n            }\r\n            HikariConfig config = new HikariConfig();\r\n            config.setDataSourceClassName(propertyResolver.getProperty(&quot;dataSourceClassName&quot;));\r\n            if (propertyResolver.getProperty(&quot;url&quot;) == null || &quot;&quot;.equals(propertyResolver.getProperty(&quot;url&quot;))) {\r\n                config.addDataSourceProperty(&quot;databaseName&quot;, propertyResolver.getProperty(&quot;databaseName&quot;));\r\n                config.addDataSourceProperty(&quot;serverName&quot;, propertyResolver.getProperty(&quot;serverName&quot;));\r\n            } else {\r\n                config.addDataSourceProperty(&quot;url&quot;, propertyResolver.getProperty(&quot;url&quot;));\r\n            }\r\n            config.addDataSourceProperty(&quot;user&quot;, propertyResolver.getProperty(&quot;username&quot;));\r\n            config.addDataSourceProperty(&quot;password&quot;, propertyResolver.getProperty(&quot;password&quot;));\r\n    \r\n            if (metricRegistry != null) {\r\n                config.setMetricRegistry(metricRegistry);\r\n            }\r\n            return new HikariDataSource(config);\r\n        }\r\n    \r\n        @Bean\r\n        public SpringLiquibase liquibase(DataSource dataSource) {\r\n            SpringLiquibase liquibase = new SpringLiquibase();\r\n            liquibase.setDataSource(dataSource);\r\n            liquibase.setChangeLog(&quot;classpath:config/liquibase/master.xml&quot;);\r\n            liquibase.setContexts(&quot;development, production&quot;);\r\n            if (env.acceptsProfiles(Constants.SPRING_PROFILE_FAST)) {\r\n                if (&quot;org.h2.jdbcx.JdbcDataSource&quot;.equals(propertyResolver.getProperty(&quot;dataSourceClassName&quot;))) {\r\n                    liquibase.setShouldRun(true);\r\n                    log.warn(&quot;Using &#39;{}&#39; profile with H2 database in memory is not optimal, you should consider switching to&quot; +\r\n                        &quot; MySQL or Postgresql to avoid rebuilding your database upon each start.&quot;, Constants.SPRING_PROFILE_FAST);\r\n                } else {\r\n                    liquibase.setShouldRun(false);\r\n                }\r\n            } else {\r\n                log.debug(&quot;Configuring Liquibase&quot;);\r\n            }\r\n            return liquibase;\r\n        }\r\n    \r\n        @Bean\r\n        public Hibernate4Module hibernate4Module() {\r\n            return new Hibernate4Module();\r\n        }\r\n        \r\n        @Bean\r\n        public EntityManagerFactory entityManagerFactory() {\r\n    \r\n          HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n          vendorAdapter.setGenerateDdl(true);\r\n    \r\n          LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n          factory.setJpaVendorAdapter(vendorAdapter);\r\n          factory.setPackagesToScan(&quot;uk.co.repository&quot;);\r\n          factory.setDataSource(dataSource());\r\n          factory.afterPropertiesSet();\r\n    \r\n          return factory.getObject();\r\n        }\r\n    }\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I have this annoying error when starting Embedded Tomcat on my jHipster Project. Spent a lot of time trying to resolve it but can't figure out why it's happening. It started happening after updating project from main rep but I also implemented Custom Repository.</p>\n\n<p><strong>Stack Trace:</strong></p>\n\n<pre><code>    DEBUG] uk.co.\nconfig.DatabaseConfiguration - Configuring Liquibase\n[WARN] org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered d\nuring context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path\n resource [uk/co/inspiresoft/config/DatabaseConfiguration.class]: Invocation of init method failed; nested exception is\nliquibase.exception.ValidationFailedException: Validation Failed:\n     1 change sets check sum\n          classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\n7b076d47aefe8278d126cde26b172\n\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\napableBeanFactory.java:1574) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCap\nableBeanFactory.java:539) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapab\nleBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spr\ning-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegis\ntry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[sprin\ng-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) ~[spring-\nbeans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListable\nBeanFactory.java:755) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplic\nationContext.java:757) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480) ~\n[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext\n.java:118) [spring-boot-1.2.3.RELEASE.jar:1.2.3.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686) [spring-boot-1.2.3.RELEASE.jar\n:1.2.3.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:320) [spring-boot-1.2.3.RELEASE.jar:1.2\n.3.RELEASE]\n        at uk.co.Application.main(Application.java:59) [classes/:na]\nCaused by: liquibase.exception.ValidationFailedException: Validation Failed:\n     1 change sets check sum\n          classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\n7b076d47aefe8278d126cde26b172\n\n        at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:196) ~[liquibase-core-3.3.2.jar:na]\n        at liquibase.Liquibase.update(Liquibase.java:196) ~[liquibase-core-3.3.2.jar:na]\n        at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353) ~[liquibase-core-3.3.2.j\nar:na]\n        at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:317) ~[liquibase-core-3.\n3.2.jar:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowi\nreCapableBeanFactory.java:1633) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\napableBeanFactory.java:1570) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        ... 13 common frames omitted\n[INFO] uk.co.config.CacheConfiguration - Closing Cache Manager\n[INFO] com.hazelcast.core.LifecycleService - [192.168.1.48]:5701 [dev] [3.4] Address[192.168.1.48]:5701 is SHUTTING_DOWN\n</code></pre>\n\n<p>This is my <strong>DatabaseConfiguration.class</strong></p>\n\n<pre><code>    import java.util.Arrays;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport liquibase.integration.spring.SpringLiquibase;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingClass;\nimport org.springframework.boot.bind.RelaxedPropertyResolver;\nimport org.springframework.context.ApplicationContextException;\nimport org.springframework.context.EnvironmentAware;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.fasterxml.jackson.datatype.hibernate4.Hibernate4Module;\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\n@Configuration\n@EnableJpaRepositories(repositoryFactoryBeanClass=uk.co.repository.IRepositoryFactoryBean.class, basePackages={\"uk.co.repository\"})\n@EnableJpaAuditing(auditorAwareRef = \"springSecurityAuditorAware\")\n@EnableTransactionManagement\npublic class DatabaseConfiguration implements EnvironmentAware {\n\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\n\n    private RelaxedPropertyResolver propertyResolver;\n\n    private Environment env;\n\n    @Autowired(required = false)\n    private MetricRegistry metricRegistry;\n\n    @Override\n    public void setEnvironment(Environment env) {\n        this.env = env;\n        this.propertyResolver = new RelaxedPropertyResolver(env, \"spring.datasource.\");\n    }\n\n    @Bean(destroyMethod = \"shutdown\")\n    @ConditionalOnMissingClass(name = \"uk.co.config.HerokuDatabaseConfiguration\")\n    @Profile(\"!\" + Constants.SPRING_PROFILE_CLOUD)\n    public DataSource dataSource() {\n        log.debug(\"Configuring Datasource\");\n        if (propertyResolver.getProperty(\"url\") == null &amp;&amp; propertyResolver.getProperty(\"databaseName\") == null) {\n            log.error(\"Your database connection pool configuration is incorrect! The application\" +\n                    \"cannot start. Please check your Spring profile, current profiles are: {}\",\n                    Arrays.toString(env.getActiveProfiles()));\n\n            throw new ApplicationContextException(\"Database connection pool is not configured correctly\");\n        }\n        HikariConfig config = new HikariConfig();\n        config.setDataSourceClassName(propertyResolver.getProperty(\"dataSourceClassName\"));\n        if (propertyResolver.getProperty(\"url\") == null || \"\".equals(propertyResolver.getProperty(\"url\"))) {\n            config.addDataSourceProperty(\"databaseName\", propertyResolver.getProperty(\"databaseName\"));\n            config.addDataSourceProperty(\"serverName\", propertyResolver.getProperty(\"serverName\"));\n        } else {\n            config.addDataSourceProperty(\"url\", propertyResolver.getProperty(\"url\"));\n        }\n        config.addDataSourceProperty(\"user\", propertyResolver.getProperty(\"username\"));\n        config.addDataSourceProperty(\"password\", propertyResolver.getProperty(\"password\"));\n\n        if (metricRegistry != null) {\n            config.setMetricRegistry(metricRegistry);\n        }\n        return new HikariDataSource(config);\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(DataSource dataSource) {\n        SpringLiquibase liquibase = new SpringLiquibase();\n        liquibase.setDataSource(dataSource);\n        liquibase.setChangeLog(\"classpath:config/liquibase/master.xml\");\n        liquibase.setContexts(\"development, production\");\n        if (env.acceptsProfiles(Constants.SPRING_PROFILE_FAST)) {\n            if (\"org.h2.jdbcx.JdbcDataSource\".equals(propertyResolver.getProperty(\"dataSourceClassName\"))) {\n                liquibase.setShouldRun(true);\n                log.warn(\"Using '{}' profile with H2 database in memory is not optimal, you should consider switching to\" +\n                    \" MySQL or Postgresql to avoid rebuilding your database upon each start.\", Constants.SPRING_PROFILE_FAST);\n            } else {\n                liquibase.setShouldRun(false);\n            }\n        } else {\n            log.debug(\"Configuring Liquibase\");\n        }\n        return liquibase;\n    }\n\n    @Bean\n    public Hibernate4Module hibernate4Module() {\n        return new Hibernate4Module();\n    }\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() {\n\n      HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n      vendorAdapter.setGenerateDdl(true);\n\n      LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n      factory.setJpaVendorAdapter(vendorAdapter);\n      factory.setPackagesToScan(\"uk.co.repository\");\n      factory.setDataSource(dataSource());\n      factory.afterPropertiesSet();\n\n      return factory.getObject();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","webassembly","teavm"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693481505,"post_id":77014950,"comment_id":135768408,"body_markdown":"Have you tried just using that generated WASM?","body":"Have you tried just using that generated WASM?"},{"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"score":0,"creation_date":1693482079,"post_id":77014950,"comment_id":135768530,"body_markdown":"Yes, but I was unable to use it in my react app but that is different issue. First, I want to be sure that annotated functions were translated to webassembly.","body":"Yes, but I was unable to use it in my react app but that is different issue. First, I want to be sure that annotated functions were translated to webassembly."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693482294,"post_id":77014950,"comment_id":135768577,"body_markdown":"Have you tried a simple HTML/JavaScript just for testing this? Seems that TealVM can generate that for you.","body":"Have you tried a simple HTML/JavaScript just for testing this? Seems that TealVM can generate that for you."},{"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"score":0,"creation_date":1693482953,"post_id":77014950,"comment_id":135768730,"body_markdown":"I tried to create a React app with fetching my .wasm file and then printing into console but I only get some errors regarding to **instantiateStreaming** method. This is the site I used for this whole task: [link](https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/java-in-the-browser-webassembly-tutorial-wasm-teavm-html-javascript). Can you give me more info where I can find how to generate this HTML/JS please? I tried to read the documentation but it is kind of poor.","body":"I tried to create a React app with fetching my .wasm file and then printing into console but I only get some errors regarding to <b>instantiateStreaming</b> method. This is the site I used for this whole task: <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/java-in-the-browser-webassembly-tutorial-wasm-teavm-html-javascript\" rel=\"nofollow noreferrer\">link</a>. Can you give me more info where I can find how to generate this HTML/JS please? I tried to read the documentation but it is kind of poor."}],"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693477301,"creation_date":1693477301,"question_id":77014950,"body_markdown":"I am relatively new to TeaVM and overall converting to webassembly. I have created Java 11 library which is meant to be used for calculations - so far it has one Core module which consist of logic used for calculations. I want to convert this java library to webassembly (.wasm file) so it can be used on frontend (React app).\r\n\r\nI have found [TeaVM][1] that can compile my java code to this format. I followed these steps:\r\n\r\n 1. Add TeaVM dependency and configuration to my Maven *pom.xml* \r\n 2. Annotated function with *@Export(name=&quot;nameOfFunction&quot;)*\r\n 3. Run *mvn clean package*\r\n\r\nNext, I wanted to make sure that function has been added so I opened generated .wasm file [here][2] and tried to look for function name but did not succeeded so I guess it has not been added then.\r\n\r\nAre there any additional steps required in order to achive .wasm file generated using TeaVM please? Thanks for any help \r\n\r\n\r\nThis is part of my pom.xml related to TeaVM:\r\n``` \r\n// rest of pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;targetDirectory&gt;${project.build.directory}/webapp/wasm&lt;/targetDirectory&gt;\r\n                            &lt;targetFileName&gt;complexlogic.wasm&lt;/targetFileName&gt;\r\n                            &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\r\n                            &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is function I am trying to export (it is just an example so it is just easy calculation):\r\n```\r\nimport org.teavm.interop.Export;\r\n\r\n// rest of code\r\n\r\n    @Export(name = &quot;getMagicNumber&quot;)\r\n    public int getMagicNumber(int range) {\r\n        return range * 2;\r\n    }\r\n\r\n// rest of code\r\n```\r\n\r\n\r\n  [1]: https://teavm.org/\r\n  [2]: https://webassembly.github.io/wabt/demo/wasm2wat/","title":"How to convert Java library to Webassembly","body":"<p>I am relatively new to TeaVM and overall converting to webassembly. I have created Java 11 library which is meant to be used for calculations - so far it has one Core module which consist of logic used for calculations. I want to convert this java library to webassembly (.wasm file) so it can be used on frontend (React app).</p>\n<p>I have found <a href=\"https://teavm.org/\" rel=\"nofollow noreferrer\">TeaVM</a> that can compile my java code to this format. I followed these steps:</p>\n<ol>\n<li>Add TeaVM dependency and configuration to my Maven <em>pom.xml</em></li>\n<li>Annotated function with <em>@Export(name=&quot;nameOfFunction&quot;)</em></li>\n<li>Run <em>mvn clean package</em></li>\n</ol>\n<p>Next, I wanted to make sure that function has been added so I opened generated .wasm file <a href=\"https://webassembly.github.io/wabt/demo/wasm2wat/\" rel=\"nofollow noreferrer\">here</a> and tried to look for function name but did not succeeded so I guess it has not been added then.</p>\n<p>Are there any additional steps required in order to achive .wasm file generated using TeaVM please? Thanks for any help</p>\n<p>This is part of my pom.xml related to TeaVM:</p>\n<pre><code>// rest of pom.xml\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n            &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n                &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;targetDirectory&gt;${project.build.directory}/webapp/wasm&lt;/targetDirectory&gt;\n                            &lt;targetFileName&gt;complexlogic.wasm&lt;/targetFileName&gt;\n                            &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\n                            &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is function I am trying to export (it is just an example so it is just easy calculation):</p>\n<pre><code>import org.teavm.interop.Export;\n\n// rest of code\n\n    @Export(name = &quot;getMagicNumber&quot;)\n    public int getMagicNumber(int range) {\n        return range * 2;\n    }\n\n// rest of code\n</code></pre>\n"},{"tags":["java","dll","launch4j","javaw"],"answers":[{"tags":[],"owner":{"account_id":1515689,"reputation":357,"user_id":1416735,"display_name":"imranhasanhira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351973960,"creation_date":1351973960,"answer_id":13213124,"question_id":13212637,"body_markdown":"I see that there is an [option][1] that you can set the system property with the javaw command. This way you can set the library path.\r\n\r\n&gt; -Dproperty=value Set a system property value. If value is a string that contains spaces, you must enclose the string in double quotes:\r\n&gt;         java -Dfoo=&quot;some string&quot; SomeClass\r\n\r\n\r\nYou can see some details [here][2] also (Point-#4).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html\r\n  [2]: http://www.chilkatsoft.com/java-loadLibrary-Windows.asp","title":"How do launch jar through javaw.exe with dll","body":"<p>I see that there is an <a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html\" rel=\"nofollow\">option</a> that you can set the system property with the javaw command. This way you can set the library path.</p>\n\n<blockquote>\n  <p>-Dproperty=value Set a system property value. If value is a string that contains spaces, you must enclose the string in double quotes:\n          java -Dfoo=\"some string\" SomeClass</p>\n</blockquote>\n\n<p>You can see some details <a href=\"http://www.chilkatsoft.com/java-loadLibrary-Windows.asp\" rel=\"nofollow\">here</a> also (Point-#4).</p>\n"}],"owner":{"account_id":1366270,"reputation":176,"user_id":1302630,"accept_rate":71,"display_name":"tae jun Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693477163,"creation_date":1351970619,"question_id":13212637,"body_markdown":"I try to execute a jar.\r\n\r\n`java.exe` is wrapper system dll files. so it can use native library.\r\n\r\nBut `javaw.exe` is not wrapper system dll or path..\r\n\r\n`java -jar somejar.jar` correctly works.\r\n\r\nBut `javaw -jar somejar.jar` isn&#39;t working with dll library..\r\n\r\nI must use `javaw.exe`. \r\n\r\nBecause `java.exe` is executed on console windows.\r\n\r\nI don&#39;t want to popup console windows... I want to execute only my jar.\r\n\r\nHow can I use `javaw.exe`? or `java.exe`?\r\n","title":"How do launch jar through javaw.exe with dll","body":"<p>I try to execute a jar.</p>\n<p><code>java.exe</code> is wrapper system dll files. so it can use native library.</p>\n<p>But <code>javaw.exe</code> is not wrapper system dll or path..</p>\n<p><code>java -jar somejar.jar</code> correctly works.</p>\n<p>But <code>javaw -jar somejar.jar</code> isn't working with dll library..</p>\n<p>I must use <code>javaw.exe</code>.</p>\n<p>Because <code>java.exe</code> is executed on console windows.</p>\n<p>I don't want to popup console windows... I want to execute only my jar.</p>\n<p>How can I use <code>javaw.exe</code>? or <code>java.exe</code>?</p>\n"},{"tags":["java","android","kotlin","google-play","google-play-console"],"comments":[{"owner":{"account_id":6971993,"reputation":593,"user_id":5348018,"accept_rate":43,"display_name":"Umer Farooq"},"score":0,"creation_date":1607413966,"post_id":65194727,"comment_id":115257532,"body_markdown":"Play store console generates the app public link as soon as you upload the your first release. First release my take 7-10 days in review, I think now they review the app manually.","body":"Play store console generates the app public link as soon as you upload the your first release. First release my take 7-10 days in review, I think now they review the app manually."},{"owner":{"account_id":6971993,"reputation":593,"user_id":5348018,"accept_rate":43,"display_name":"Umer Farooq"},"score":0,"creation_date":1607414009,"post_id":65194727,"comment_id":115257551,"body_markdown":"Your query regarding IARC rating, I have no idea about it.","body":"Your query regarding IARC rating, I have no idea about it."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1607415362,"post_id":65194727,"comment_id":115258028,"body_markdown":"@UmerFarooq Okay. You may post your comment as an answer, so it will be visible with others answers.","body":"@UmerFarooq Okay. You may post your comment as an answer, so it will be visible with others answers."}],"answers":[{"tags":[],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608364999,"creation_date":1608364999,"answer_id":65367840,"question_id":65194727,"body_markdown":"Well, there was no issue. Google play URL get available as soon as you published an app. If you navigate into `release` section, you will see the app is `under review`. \r\n\r\nGoogle took around 12 days to review my app","title":"Google Play : the requested URL was not found on this server","body":"<p>Well, there was no issue. Google play URL get available as soon as you published an app. If you navigate into <code>release</code> section, you will see the app is <code>under review</code>.</p>\n<p>Google took around 12 days to review my app</p>\n"},{"tags":[],"owner":{"account_id":9013736,"reputation":11,"user_id":7983074,"display_name":"Lunodzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666530189,"creation_date":1666530189,"answer_id":74171355,"question_id":65194727,"body_markdown":"The release status still indicates that your app is in review. I think there is no issue; it is just the review process may sometimes take a while.","title":"Google Play : the requested URL was not found on this server","body":"<p>The release status still indicates that your app is in review. I think there is no issue; it is just the review process may sometimes take a while.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65367840,"answer_count":2,"score":2,"last_activity_date":1693476989,"creation_date":1607412383,"question_id":65194727,"body_markdown":"I recently created an app and launched in Google Play. Yesterday I re-uploaded another version fixing a minor bug. I can see `View on Google Play` text and link next to my app name. But, when I clicked on it I see `We&#39;re sorry, the requested URL was not found on this server.` error. I can&#39;t see the app on Playstore by searching as well.\r\n\r\nReading some other questions, I noticed this is a rising issue in Google Play developer console in this year, probably after the new console is released. Some say we need to wait till IARC rating is approved, so I checked it as well.\r\n\r\nI checked IARC rating for my app as the following. I can&#39;t see the IARC rating ID.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen I checked the release dashboard, I noticed my first release and the immediate update is still under review.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo, what is going on here? In my experience, I only see `View on Google Play` link only if the app is available in the playstore. \r\n\r\nHere I see `View on Google Play` link, but release dashboard says both updates are in review and IARC does not show the ID, so I suspect it&#39;s still pending to be reviewed as well.\r\n\r\nWhat&#39;s going on here? Google Play console is now buggy?\r\n\r\n  [1]: https://i.stack.imgur.com/2AjeS.png\r\n  [2]: https://i.stack.imgur.com/U4n2I.png","title":"Google Play : the requested URL was not found on this server","body":"<p>I recently created an app and launched in Google Play. Yesterday I re-uploaded another version fixing a minor bug. I can see <code>View on Google Play</code> text and link next to my app name. But, when I clicked on it I see <code>We're sorry, the requested URL was not found on this server.</code> error. I can't see the app on Playstore by searching as well.</p>\n<p>Reading some other questions, I noticed this is a rising issue in Google Play developer console in this year, probably after the new console is released. Some say we need to wait till IARC rating is approved, so I checked it as well.</p>\n<p>I checked IARC rating for my app as the following. I can't see the IARC rating ID.</p>\n<p><a href=\"https://i.stack.imgur.com/2AjeS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2AjeS.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I checked the release dashboard, I noticed my first release and the immediate update is still under review.</p>\n<p><a href=\"https://i.stack.imgur.com/U4n2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4n2I.png\" alt=\"enter image description here\" /></a></p>\n<p>So, what is going on here? In my experience, I only see <code>View on Google Play</code> link only if the app is available in the playstore.</p>\n<p>Here I see <code>View on Google Play</code> link, but release dashboard says both updates are in review and IARC does not show the ID, so I suspect it's still pending to be reviewed as well.</p>\n<p>What's going on here? Google Play console is now buggy?</p>\n"},{"tags":["java","filesystems","directory","virtual"],"comments":[{"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"score":0,"creation_date":1351695214,"post_id":13160645,"comment_id":17905905,"body_markdown":"[a few ideas](http://web.archive.org/web/20061128034903/http://mindprod.com/projects/javafilesystem.html). For the commands, I&#39;d follow the [POSIX](http://pubs.opengroup.org/onlinepubs/9699919799/) specification (mkdir, ls, chmod, etc.), so that users won&#39;t be bothered with unknown commands (and you have a track of what needs to be done).","body":"<a href=\"http://web.archive.org/web/20061128034903/http://mindprod.com/projects/javafilesystem.html\" rel=\"nofollow noreferrer\">a few ideas</a>. For the commands, I&#39;d follow the <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/\" rel=\"nofollow noreferrer\">POSIX</a> specification (mkdir, ls, chmod, etc.), so that users won&#39;t be bothered with unknown commands (and you have a track of what needs to be done)."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1351695354,"post_id":13160645,"comment_id":17905973,"body_markdown":"possible duplicate of [Are there any Fake File System frameworks for Java?](http://stackoverflow.com/questions/6970192/are-there-any-fake-file-system-frameworks-for-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6970192/are-there-any-fake-file-system-frameworks-for-java\">Are there any Fake File System frameworks for Java?</a>"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1351695442,"post_id":13160645,"comment_id":17906026,"body_markdown":"Do you *need* it or do you need to *create* it? Like, for a homework?","body":"Do you <i>need</i> it or do you need to <i>create</i> it? Like, for a homework?"},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1351698025,"post_id":13160645,"comment_id":17907434,"body_markdown":"I&#39;d use byte arrays rather than strings for the underlying files. That would be closer to how existing file systems work.","body":"I&#39;d use byte arrays rather than strings for the underlying files. That would be closer to how existing file systems work."}],"answers":[{"tags":[],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351695433,"creation_date":1351695433,"answer_id":13160811,"question_id":13160645,"body_markdown":"You can have this kind of format\r\n\r\n\r\n    public class Directory{\r\n\t\r\n\tprivate List&lt;File&gt; files;\r\n        \r\n\t\r\n\t// geters and setters\r\n\t// add more propertied to directory if required\r\n\t\r\n}\r\n\r\n\r\n     public class File{\r\n\t\r\n\tprivate String name;\r\n\tprivate int size;\r\n\tprivate Date cretedDate;\r\n\t\r\n\t// add more properties\r\n      }","title":"Java virtual file system application","body":"<p>You can have this kind of format</p>\n\n<pre><code>public class Directory{\n\nprivate List&lt;File&gt; files;\n\n\n// geters and setters\n// add more propertied to directory if required\n</code></pre>\n\n<p>}</p>\n\n<pre><code> public class File{\n\nprivate String name;\nprivate int size;\nprivate Date cretedDate;\n\n// add more properties\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973046,"reputation":1495,"user_id":995156,"display_name":"Pierre-Henri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351695638,"creation_date":1351695638,"answer_id":13160887,"question_id":13160645,"body_markdown":"I would use the [Commons Virtual File System][1] library.\r\n\r\n\r\n  [1]: http://commons.apache.org/vfs/ &quot;Commons Virtual File System&quot;","title":"Java virtual file system application","body":"<p>I would use the <a href=\"http://commons.apache.org/vfs/\" rel=\"nofollow\" title=\"Commons Virtual File System\">Commons Virtual File System</a> library.</p>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585913316,"creation_date":1585913316,"answer_id":61010851,"question_id":13160645,"body_markdown":"Another option you can use is [Google&#39;s in memory file system implementation for java][1] which implements Java&#39;s [FileSystem][2] abstraction.\r\n\r\n\r\n  [1]: https://github.com/google/jimfs\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html","title":"Java virtual file system application","body":"<p>Another option you can use is <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">Google's in memory file system implementation for java</a> which implements Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html\" rel=\"nofollow noreferrer\">FileSystem</a> abstraction.</p>\n"},{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693476741,"creation_date":1693476741,"answer_id":77014886,"question_id":13160645,"body_markdown":"User jnrfuse, supporting crossplatform\r\n\r\nExample usage:\r\n\r\nhttps://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java","title":"Java virtual file system application","body":"<p>User jnrfuse, supporting crossplatform</p>\n<p>Example usage:</p>\n<p><a href=\"https://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java\" rel=\"nofollow noreferrer\">https://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java</a></p>\n"}],"owner":{"account_id":1995880,"reputation":77,"user_id":1788867,"display_name":"user1788867"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7405,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1693476741,"creation_date":1351694950,"question_id":13160645,"body_markdown":"Good day, everyone,\r\n\r\nI need to make a *virtual Java file system*. It means that all the modifications on this system are not reflected on real OS - so if user creates, moves, deletes, copies files and directories in program, it just imitates the file system and its structure and nothing more. As the initial point we have the root of the file system, kept in program memory - virtual &quot;C:&quot;. The user can write command &quot;**create directory C:\\text**&quot; or &quot;**delete file C:\\test2\\myfile.txt**&quot;. At any time you can print the tree of created virtual directories and files.\r\n\r\nWhat is the best way to do it? Or where I can find how real file systems work?\r\n\r\nP.S. I thought of organizing directories as lists, and files as simple strings.\r\n\r\nThanks in advance!\r\n\r\n","title":"Java virtual file system application","body":"<p>Good day, everyone,</p>\n\n<p>I need to make a <em>virtual Java file system</em>. It means that all the modifications on this system are not reflected on real OS - so if user creates, moves, deletes, copies files and directories in program, it just imitates the file system and its structure and nothing more. As the initial point we have the root of the file system, kept in program memory - virtual \"C:\". The user can write command \"<strong>create directory C:\\text</strong>\" or \"<strong>delete file C:\\test2\\myfile.txt</strong>\". At any time you can print the tree of created virtual directories and files.</p>\n\n<p>What is the best way to do it? Or where I can find how real file systems work?</p>\n\n<p>P.S. I thought of organizing directories as lists, and files as simple strings.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1693293973,"post_id":74863711,"comment_id":135737942,"body_markdown":"It can be useful to pass the parameter `-Dlog4j.debug=true` to your executing program to make the logger output debug information as it configures itself. This will indicate the configuration files it finds, etc.","body":"It can be useful to pass the parameter <code>-Dlog4j.debug=true</code> to your executing program to make the logger output debug information as it configures itself. This will indicate the configuration files it finds, etc."}],"answers":[{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693289791,"creation_date":1693289791,"answer_id":76997760,"question_id":74863711,"body_markdown":"I was facing the exact same issue when I was running tests for my spring boot application. \r\n\r\nI added logback.xml in src/test/resources and it worked. ","title":"Could not find an appender named [appender_name_IS_UNDEFINED]","body":"<p>I was facing the exact same issue when I was running tests for my spring boot application.</p>\n<p>I added logback.xml in src/test/resources and it worked.</p>\n"}],"owner":{"account_id":18557282,"reputation":23,"user_id":13522047,"display_name":"Hridoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693476703,"creation_date":1671542224,"question_id":74863711,"body_markdown":"I am using Spring Spring Boot :: (v2.7.7-SNAPSHOT)\r\nI was trying to access configuration from `application.yaml` file to `logback-spring.xml` but the problem is it always shows me the error : **Could not find an appender named [appender_name_IS_UNDEFINED].** I have attached my configuration here for better understanding. Please help me I am trying to fix this last 2 days but I am failed. Thank you\r\n\r\n**application.yaml**\r\n\r\n```\r\n\r\n    server:\r\n      port: 80\r\n    app:\r\n      logging-to:console\r\n    logging:\r\n      level:\r\n        &quot;[org.springframework]&quot;: INFO\r\n        &quot;[com.med4pan.cloudapp]&quot;: DEBUG\r\n\r\n```\r\n\r\n\r\n**logback-spring.xml**\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/looging/logback/defaults.xml&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;CONSOLE_PATTERN&quot; source=&quot;application.console-pattern&quot;/&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appender_name&quot; source=&quot;app.logging-to&quot;/&gt;\r\n        \r\n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;\r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;Cloud-Panel-Logs.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;Cloud-Panel-Logs.%d{yyyy-MM}.log&lt;/fileNamePattern&gt;\r\n                &lt;maxHistory&gt;6&lt;/maxHistory&gt;\r\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;    \r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${appender_name}&quot;/&gt;\r\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n            &lt;queueSize&gt;100000&lt;/queueSize&gt;\r\n            &lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\r\n            &lt;neverBlock&gt;false&lt;/neverBlock&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n```\r\n\r\n**Error**\r\n\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [appender_name_IS_UNDEFINED]. Did you define it below instead of above in the configuration file?\r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\r\nERROR in ch.qos.logback.classic.AsyncAppender[ASYNC_CONSOLE] - No attached appenders found.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 87 common frames omitted\r\n```\r\n\r\n\r\nI followed [this link](http://logback.qos.ch/codes.html#appender_order) given in the error message. I think I have configured the file according to the instruction but it didn&#39;t work \r\n","title":"Could not find an appender named [appender_name_IS_UNDEFINED]","body":"<p>I am using Spring Spring Boot :: (v2.7.7-SNAPSHOT)\nI was trying to access configuration from <code>application.yaml</code> file to <code>logback-spring.xml</code> but the problem is it always shows me the error : <strong>Could not find an appender named [appender_name_IS_UNDEFINED].</strong> I have attached my configuration here for better understanding. Please help me I am trying to fix this last 2 days but I am failed. Thank you</p>\n<p><strong>application.yaml</strong></p>\n<pre><code>\n    server:\n      port: 80\n    app:\n      logging-to:console\n    logging:\n      level:\n        &quot;[org.springframework]&quot;: INFO\n        &quot;[com.med4pan.cloudapp]&quot;: DEBUG\n\n</code></pre>\n<p><strong>logback-spring.xml</strong></p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;configuration&gt;\n        &lt;include resource=&quot;org/springframework/boot/looging/logback/defaults.xml&quot;/&gt;\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n        &lt;springProperty scope=&quot;context&quot; name=&quot;CONSOLE_PATTERN&quot; source=&quot;application.console-pattern&quot;/&gt;\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appender_name&quot; source=&quot;app.logging-to&quot;/&gt;\n        \n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;Cloud-Panel-Logs.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n                &lt;fileNamePattern&gt;Cloud-Panel-Logs.%d{yyyy-MM}.log&lt;/fileNamePattern&gt;\n                &lt;maxHistory&gt;6&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n            &lt;/rollingPolicy&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;    \n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n            &lt;appender-ref ref=&quot;${appender_name}&quot;/&gt;\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n            &lt;queueSize&gt;100000&lt;/queueSize&gt;\n            &lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\n            &lt;neverBlock&gt;false&lt;/neverBlock&gt;\n        &lt;/appender&gt;\n    \n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;/configuration&gt;\n\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Caused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [appender_name_IS_UNDEFINED]. Did you define it below instead of above in the configuration file?\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\nERROR in ch.qos.logback.classic.AsyncAppender[ASYNC_CONSOLE] - No attached appenders found.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 87 common frames omitted\n</code></pre>\n<p>I followed <a href=\"http://logback.qos.ch/codes.html#appender_order\" rel=\"nofollow noreferrer\">this link</a> given in the error message. I think I have configured the file according to the instruction but it didn't work</p>\n"},{"tags":["java","macos","scala","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":16359605,"reputation":35,"user_id":11993199,"display_name":"anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475014,"creation_date":1693371894,"answer_id":77005105,"question_id":77002108,"body_markdown":"1. Running these commands helped to fix ```scala``` but ```scalac``` still crashes\r\n```\r\nbrew reinstall openjdk &amp;&amp; brew reinstall scala\r\n```\r\n\r\n2. Downgrading Java to version 9 helped:\r\n```\r\nbrew tap adoptopenjdk/openjdk\r\nbrew install --cask adoptopenjdk9\r\n```\r\nAdd this line to `.bash_profile`\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 9)\r\n```\r\nRestart your terminal or `source .bash_profile`\r\n\r\nIt should work now","title":"Module java.se.ee not found (M1 MacBook)","body":"<ol>\n<li>Running these commands helped to fix <code>scala</code> but <code>scalac</code> still crashes</li>\n</ol>\n<pre><code>brew reinstall openjdk &amp;&amp; brew reinstall scala\n</code></pre>\n<ol start=\"2\">\n<li>Downgrading Java to version 9 helped:</li>\n</ol>\n<pre><code>brew tap adoptopenjdk/openjdk\nbrew install --cask adoptopenjdk9\n</code></pre>\n<p>Add this line to <code>.bash_profile</code></p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 9)\n</code></pre>\n<p>Restart your terminal or <code>source .bash_profile</code></p>\n<p>It should work now</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693476385,"creation_date":1693475905,"answer_id":77014775,"question_id":77002108,"body_markdown":"According to the official [Scala &quot;Getting Started&quot;][1] if you install by hand, you need Java 8 or Java 11.\r\n\r\nInstalling and using Java 9 (in 2023) is a **bad idea** because Java 9 has been end-of-life for over 5 years.\r\n\r\n\r\n  [1]: https://docs.scala-lang.org/getting-started/index.html","title":"Module java.se.ee not found (M1 MacBook)","body":"<p>According to the official <a href=\"https://docs.scala-lang.org/getting-started/index.html\" rel=\"nofollow noreferrer\">Scala &quot;Getting Started&quot;</a> if you install by hand, you need Java 8 or Java 11.</p>\n<p>Installing and using Java 9 (in 2023) is a <strong>bad idea</strong> because Java 9 has been end-of-life for over 5 years.</p>\n"}],"owner":{"account_id":16359605,"reputation":35,"user_id":11993199,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693476385,"creation_date":1693327087,"question_id":77002108,"body_markdown":"I have encountered an error while trying to install scala on my M1 mac.\r\n\r\n I&#39;ve used the terminal commands from the official Getting Started guide.\r\n\r\n```\r\ncurl -fL https://github.com/VirtusLab/coursier-m1/releases/latest/download/cs-aarch64-apple-darwin.gz | gzip -d &gt; cs &amp;&amp; chmod +x cs &amp;&amp; (xattr -d com.apple.quarantine cs || true) &amp;&amp; ./cs setup\r\n```\r\n\r\nI got the result, that all the needed packages had been installed. I rebooted the computer. Then I tried to run\r\n\r\n```\r\nscala --version\r\n```\r\n\r\nand got the error:\r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module java.se.ee not found\r\n```\r\n\r\nI would be glad if someone could help me)","title":"Module java.se.ee not found (M1 MacBook)","body":"<p>I have encountered an error while trying to install scala on my M1 mac.</p>\n<p>I've used the terminal commands from the official Getting Started guide.</p>\n<pre><code>curl -fL https://github.com/VirtusLab/coursier-m1/releases/latest/download/cs-aarch64-apple-darwin.gz | gzip -d &gt; cs &amp;&amp; chmod +x cs &amp;&amp; (xattr -d com.apple.quarantine cs || true) &amp;&amp; ./cs setup\n</code></pre>\n<p>I got the result, that all the needed packages had been installed. I rebooted the computer. Then I tried to run</p>\n<pre><code>scala --version\n</code></pre>\n<p>and got the error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found\n</code></pre>\n<p>I would be glad if someone could help me)</p>\n"},{"tags":["java","eclipse","fonts","font-size"],"comments":[{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":1,"creation_date":1297089481,"post_id":4922305,"comment_id":5484622,"body_markdown":"Works fine in 3.5 using those same directions.","body":"Works fine in 3.5 using those same directions."},{"owner":{"account_id":321462,"reputation":870,"user_id":640307,"accept_rate":50,"display_name":"Philip Murphy"},"score":80,"creation_date":1349828250,"post_id":4922305,"comment_id":17325050,"body_markdown":"FYI, if you want to change all editors at the same time, select General  Appearance  Colors and Fonts  Basic  Text Font.","body":"FYI, if you want to change all editors at the same time, select General  Appearance  Colors and Fonts  Basic  Text Font."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1351648233,"post_id":4922305,"comment_id":17889031,"body_markdown":"possible duplicate of [How to change font size quickly in Eclipse](http://stackoverflow.com/questions/6948374/how-to-change-font-size-quickly-in-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6948374/how-to-change-font-size-quickly-in-eclipse\">How to change font size quickly in Eclipse</a>"},{"owner":{"account_id":66363,"reputation":1707,"user_id":194721,"accept_rate":61,"display_name":"RicardoBalda"},"score":1,"creation_date":1379204801,"post_id":4922305,"comment_id":27738193,"body_markdown":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)","body":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1418223087,"post_id":4922305,"comment_id":43252565,"body_markdown":"Not sure if this is because changes were made beforehand, but I had to make changes to both &quot;Basic&quot; and &quot;Java&quot;. The former affected things like the JSP editor, the latter affected the java programming window","body":"Not sure if this is because changes were made beforehand, but I had to make changes to both &quot;Basic&quot; and &quot;Java&quot;. The former affected things like the JSP editor, the latter affected the java programming window"},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":8,"creation_date":1463665303,"post_id":4922305,"comment_id":62169281,"body_markdown":"**Eclipse Neon (4.6)** added `Ctrl` + `+` and `Ctrl` + `=` for **Zoom In** and `Ctrl` + `-` for **Zoom Out**. See http://www.eclipse.org/eclipse/news/4.6/M4/","body":"<b>Eclipse Neon (4.6)</b> added <code>Ctrl</code> + <code>+</code> and <code>Ctrl</code> + <code>=</code> for <b>Zoom In</b> and <code>Ctrl</code> + <code>-</code> for <b>Zoom Out</b>. See <a href=\"http://www.eclipse.org/eclipse/news/4.6/M4/\" rel=\"nofollow noreferrer\">eclipse.org/eclipse/news/4.6/M4</a>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1483284418,"post_id":4922305,"comment_id":70037482,"body_markdown":"Related (changing ***colours***): *[Eclipse fonts and background color](http://stackoverflow.com/questions/186118)*","body":"Related (changing <b><i>colours</i></b>): <i><a href=\"http://stackoverflow.com/questions/186118\">Eclipse fonts and background color</a></i>"},{"owner":{"account_id":4294120,"reputation":2056,"user_id":3509609,"accept_rate":43,"display_name":"Vikash"},"score":0,"creation_date":1520940010,"post_id":4922305,"comment_id":85512660,"body_markdown":"you can simply press   CTR+ to increase and CTR- to decrease","body":"you can simply press   CTR+ to increase and CTR- to decrease"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":1,"up_vote_count":464,"is_accepted":false,"score":463,"last_activity_date":1647876119,"creation_date":1297093437,"answer_id":4923243,"question_id":4922305,"body_markdown":"If you are changing the font size, but it is only working for the currently open file, then I suspect that you are changing the wrong preferences.\r\n\r\n * On the Eclipse toolbar, select *Window*  *Preferences*\r\n * Set the font size, *General*  *Appearance*  *Colors and Fonts*  *Java*  *Java Editor Text Font*).\r\n * Save the preferences.\r\n\r\nCheck that you do not have per-project preferences. These will override the top-level preferences.\r\n\r\n### Eclipse&amp;nbsp;v4.2 (Juno) note\r\n\r\nPer comment below, this has moved to the Eclipse *Preferences* menu (no longer named the *Window* menu).\r\n\r\n### Eclipse&amp;nbsp;v4.3 (Kepler) note\r\n\r\nThe *Window* menu is live again, that is, menu *Window*  *Preferences*.\r\n\r\n### Eclipse&amp;nbsp;2021-12 note\r\nVerified that the path described\r\n(*Window  Preferences, General  Appearance  Colors and Fonts  Java  Java Editor Text Font*)\r\nis still correct.\r\n\r\n**Note** Be sure to check out the [ChandraBhan Singh&#39;s answer][1], it shows the key bindings to change the font size.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42083500/3798217","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are changing the font size, but it is only working for the currently open file, then I suspect that you are changing the wrong preferences.</p>\n<ul>\n<li>On the Eclipse toolbar, select <em>Window</em>  <em>Preferences</em></li>\n<li>Set the font size, <em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Java</em>  <em>Java Editor Text Font</em>).</li>\n<li>Save the preferences.</li>\n</ul>\n<p>Check that you do not have per-project preferences. These will override the top-level preferences.</p>\n<h3>Eclipsev4.2 (Juno) note</h3>\n<p>Per comment below, this has moved to the Eclipse <em>Preferences</em> menu (no longer named the <em>Window</em> menu).</p>\n<h3>Eclipsev4.3 (Kepler) note</h3>\n<p>The <em>Window</em> menu is live again, that is, menu <em>Window</em>  <em>Preferences</em>.</p>\n<h3>Eclipse2021-12 note</h3>\n<p>Verified that the path described\n(<em>Window  Preferences, General  Appearance  Colors and Fonts  Java  Java Editor Text Font</em>)\nis still correct.</p>\n<p><strong>Note</strong> Be sure to check out the <a href=\"https://stackoverflow.com/a/42083500/3798217\">ChandraBhan Singh's answer</a>, it shows the key bindings to change the font size.</p>\n"},{"tags":[],"owner":{"account_id":327215,"reputation":2001,"user_id":649451,"display_name":"Venugopal Madathil"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1483280062,"creation_date":1343750548,"answer_id":11744332,"question_id":4922305,"body_markdown":"You can have a look at [Eclipse color theme][1], also which has a hell of a lot of options for customizing font, background color, etc. \r\n\r\n  [1]: http://eclipsecolorthemes.org/\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>You can have a look at <a href=\"http://eclipsecolorthemes.org/\" rel=\"nofollow noreferrer\">Eclipse color theme</a>, also which has a hell of a lot of options for customizing font, background color, etc. </p>\n"},{"tags":[],"owner":{"account_id":2431573,"reputation":49,"user_id":2122342,"display_name":"Anand"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1486145019,"creation_date":1362116678,"answer_id":15151327,"question_id":4922305,"body_markdown":" 1. On the menu bar, select *Window*  *Preferences*\r\n 2. Set the font size (*General*  *Appearance*  *Colors and Fonts*  *Structured Text Editors*  *Structured Text Editor Text Font (set to default: Text Font)*  &lt;kbd&gt;Edit...&lt;/kbd&gt;).\r\n 3. Save the preferences.\r\n\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<ol>\n<li>On the menu bar, select <em>Window</em>  <em>Preferences</em></li>\n<li>Set the font size (<em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Structured Text Editors</em>  <em>Structured Text Editor Text Font (set to default: Text Font)</em>  <kbd>Edit...</kbd>).</li>\n<li>Save the preferences.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2069955,"reputation":710,"user_id":1844664,"display_name":"AlvaroCachoperro"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1483280611,"creation_date":1375862551,"answer_id":18097855,"question_id":4922305,"body_markdown":"This worked for me:\n\n 1. On the Eclipse toolbar, select *Window*  *Preferences*.\n\n 2. Set the font size (*General*  *Appearance*  *Colors and Fonts*  *Basic*  *Text Font*):\n\n    ![Enter image description here][1]\n\n 3. Save the preferences.\n\n  [1]: http://i.stack.imgur.com/JzVRf.png\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>This worked for me:</p>\n<ol>\n<li><p>On the Eclipse toolbar, select <em>Window</em>  <em>Preferences</em>.</p>\n</li>\n<li><p>Set the font size (<em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Basic</em>  <em>Text Font</em>):</p>\n<p><img src=\"https://i.stack.imgur.com/JzVRf.png\" alt=\"Enter image description here\" /></p>\n</li>\n<li><p>Save the preferences.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2006394,"reputation":2415,"user_id":1796171,"accept_rate":97,"display_name":"BenniMcBeno"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1693476346,"creation_date":1378183843,"answer_id":18584284,"question_id":4922305,"body_markdown":"On Mac:\r\n\r\n1. Eclipse toolbar Eclipse  *Settings* OR &lt;kbd&gt;Command&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; (comma)\r\n\r\n2. *General*  *Appearance*  *Colors and Fonts*  *Basic*  *Text Font*\r\n\r\n3. Apply\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>On Mac:</p>\n<ol>\n<li><p>Eclipse toolbar Eclipse  <em>Settings</em> OR <kbd>Command</kbd> + <kbd>,</kbd> (comma)</p>\n</li>\n<li><p><em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Basic</em>  <em>Text Font</em></p>\n</li>\n<li><p>Apply</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3618872,"reputation":21,"user_id":3018137,"display_name":"user3018137"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483281777,"creation_date":1385046661,"answer_id":20124592,"question_id":4922305,"body_markdown":"I tend to use menu *Windows*  *Preferences*  *General*  *Appearances*  *Colors and Fonts*  *Java Text Editors*  *Change*  *Apply*.\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I tend to use menu <em>Windows</em>  <em>Preferences</em>  <em>General</em>  <em>Appearances</em>  <em>Colors and Fonts</em>  <em>Java Text Editors</em>  <em>Change</em>  <em>Apply</em>.</p>\n"},{"tags":[],"owner":{"account_id":3018328,"reputation":111,"user_id":2559897,"display_name":"user2559897"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1483281942,"creation_date":1389791402,"answer_id":21138312,"question_id":4922305,"body_markdown":"On the Eclipse toolbar, select *Window*  *Preferences*, set the font size (*General*  *Appearance*  *Colors and Fonts*  *Basic*  *Text Font*).\r\n\r\nSave the preferences.\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>On the Eclipse toolbar, select <em>Window</em>  <em>Preferences</em>, set the font size (<em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Basic</em>  <em>Text Font</em>).</p>\n\n<p>Save the preferences.</p>\n"},{"tags":[],"owner":{"account_id":3763750,"reputation":101,"user_id":3127865,"display_name":"Donald W. Smith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483282187,"creation_date":1393099198,"answer_id":21959748,"question_id":4922305,"body_markdown":"Running Eclipse&amp;nbsp;v4.3 (Kepler), the steps outlined by AlvaroCachoperro do the trick for the Java text editor and console window text.\r\n\r\nMany of the text font options, including the Java Editor Text Font note, are &quot;set to default: Text Font&quot;. The &#39;default&#39; can be found and configured as follows:\r\n\r\n  On the Eclipse toolbar, select *Window*  *Preferences*. Drill down to: (*General*  *Appearance*  *Colors and Fonts*  *Basic*  *Text Font*) (at the bottom)\r\n\r\n - Click &lt;kbd&gt;Edit&lt;/kbd&gt; and select the font, style and size   \r\n - Click &lt;kbd&gt;OK&lt;/kbd&gt; in the Font dialog   \r\n - Click &lt;kbd&gt;Apply&lt;/kbd&gt; in the Preferences dialog to check it \r\n - Click &lt;kbd&gt;OK&lt;/kbd&gt; in the Preferences dialog to save it\r\n\r\nEclipse will remember your settings for your current workspace.\r\n\r\nI teach programming and use the larger font for the students in the back.  \r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Running Eclipse&nbsp;v4.3 (Kepler), the steps outlined by AlvaroCachoperro do the trick for the Java text editor and console window text.</p>\n\n<p>Many of the text font options, including the Java Editor Text Font note, are \"set to default: Text Font\". The 'default' can be found and configured as follows:</p>\n\n<p>On the Eclipse toolbar, select <em>Window</em>  <em>Preferences</em>. Drill down to: (<em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Basic</em>  <em>Text Font</em>) (at the bottom)</p>\n\n<ul>\n<li>Click <kbd>Edit</kbd> and select the font, style and size   </li>\n<li>Click <kbd>OK</kbd> in the Font dialog   </li>\n<li>Click <kbd>Apply</kbd> in the Preferences dialog to check it </li>\n<li>Click <kbd>OK</kbd> in the Preferences dialog to save it</li>\n</ul>\n\n<p>Eclipse will remember your settings for your current workspace.</p>\n\n<p>I teach programming and use the larger font for the students in the back.  </p>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1394191806,"creation_date":1394191806,"answer_id":22248894,"question_id":4922305,"body_markdown":"    General  Appearance  Colors and Fonts  Java Editor text font\r\n\r\nSee the image:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/u9YuU.png","title":"How to change font size in Eclipse for Java text editors?","body":"<pre><code>General  Appearance  Colors and Fonts  Java Editor text font\n</code></pre>\n\n<p>See the image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/u9YuU.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1702196,"reputation":601,"user_id":1561948,"display_name":"ThmHarsh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483282276,"creation_date":1410941380,"answer_id":25885421,"question_id":4922305,"body_markdown":"![Enter image description here][1]\r\n\r\nMenu *Window*  *Preferences*. *General*  *Appearance*  *Colors and Fonts*  *Basic*  *Text Font*\r\n\r\n  [1]: http://i.stack.imgur.com/dr3xs.png\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p><img src=\"https://i.stack.imgur.com/dr3xs.png\" alt=\"Enter image description here\"></p>\n\n<p>Menu <em>Window</em>  <em>Preferences</em>. <em>General</em>  <em>Appearance</em>  <em>Colors and Fonts</em>  <em>Basic</em>  <em>Text Font</em></p>\n"},{"tags":[],"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1483282489,"creation_date":1435124171,"answer_id":31018374,"question_id":4922305,"body_markdown":"The [Eclipse-Fonts][1] extension will add toolbar buttons and keyboard shortcuts for changing font size. You can then use [AutoHotkey][2] to make **&lt;kbd&gt;Ctrl&lt;/kbd&gt; + mousewheel** zoom.\r\n\r\nUnder menu *Help*  *Install New Software...* in the menu, paste the update URL (http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/) into the **Works with:** text box and press &lt;kbd&gt;Enter&lt;/kbd&gt;. Expand the tree and select *FontsFeature* as in the following image:\r\n\r\n![Eclipse extension installation screen capture][3]\r\n\r\nComplete the installation and restart Eclipse. Then you should see the **A** toolbar buttons (circled in red in the following image) and be able to use the keyboard shortcuts &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt; and &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;=&lt;/kbd&gt; to zoom (although you may have to unbind those keys from Eclipse first).\r\n\r\n![Eclipse screen capture with the font size toolbar buttons circled][4]\r\n\r\nTo get &lt;kbd&gt;Ctrl&lt;/kbd&gt; + *mouse wheel* zooming, you can use AutoHotkey with the following script:\r\n\r\n    ; Ctrl + mouse wheel zooming in Eclipse.\r\n    ; Requires Eclipse-Fonts (https://code.google.com/p/eclipse-fonts/).\r\n    ; Thank you for the unique window class, SWT/Eclipse.\r\n    ;\r\n    #IfWinActive ahk_class SWT_Window0\r\n        ^WheelUp:: Send ^{=}\r\n        ^WheelDown:: Send ^-\r\n    #IfWinActive\r\n\r\n  [1]: https://code.google.com/p/eclipse-fonts/\r\n  [2]: http://en.wikipedia.org/wiki/AutoHotkey\r\n  [3]: http://i.stack.imgur.com/R2Ni5.png\r\n  [4]: http://i.stack.imgur.com/XHaX5.jpg\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>The <a href=\"https://code.google.com/p/eclipse-fonts/\" rel=\"nofollow noreferrer\">Eclipse-Fonts</a> extension will add toolbar buttons and keyboard shortcuts for changing font size. You can then use <a href=\"http://en.wikipedia.org/wiki/AutoHotkey\" rel=\"nofollow noreferrer\">AutoHotkey</a> to make <strong><kbd>Ctrl</kbd> + mousewheel</strong> zoom.</p>\n\n<p>Under menu <em>Help</em>  <em>Install New Software...</em> in the menu, paste the update URL (<a href=\"http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/\" rel=\"nofollow noreferrer\">http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/</a>) into the <strong>Works with:</strong> text box and press <kbd>Enter</kbd>. Expand the tree and select <em>FontsFeature</em> as in the following image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/R2Ni5.png\" alt=\"Eclipse extension installation screen capture\"></p>\n\n<p>Complete the installation and restart Eclipse. Then you should see the <strong>A</strong> toolbar buttons (circled in red in the following image) and be able to use the keyboard shortcuts <kbd>Ctrl</kbd> + <kbd>-</kbd> and <kbd>Ctrl</kbd> + <kbd>=</kbd> to zoom (although you may have to unbind those keys from Eclipse first).</p>\n\n<p><img src=\"https://i.stack.imgur.com/XHaX5.jpg\" alt=\"Eclipse screen capture with the font size toolbar buttons circled\"></p>\n\n<p>To get <kbd>Ctrl</kbd> + <em>mouse wheel</em> zooming, you can use AutoHotkey with the following script:</p>\n\n<pre><code>; Ctrl + mouse wheel zooming in Eclipse.\n; Requires Eclipse-Fonts (https://code.google.com/p/eclipse-fonts/).\n; Thank you for the unique window class, SWT/Eclipse.\n;\n#IfWinActive ahk_class SWT_Window0\n    ^WheelUp:: Send ^{=}\n    ^WheelDown:: Send ^-\n#IfWinActive\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3563147,"reputation":2861,"user_id":2975478,"display_name":"ChandraBhan Singh"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1486450310,"creation_date":1486450310,"answer_id":42083500,"question_id":4922305,"body_markdown":"**For Eclipse Neon**\r\n\r\nTo Increase\r\n**Ctrl**  **+**\r\n\r\nTo reduce **Ctrl**  **-**\r\n\r\n\r\n[![shortcut for font eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqSsU.jpg","title":"How to change font size in Eclipse for Java text editors?","body":"<p><strong>For Eclipse Neon</strong></p>\n\n<p>To Increase\n<strong>Ctrl</strong>  <strong>+</strong></p>\n\n<p>To reduce <strong>Ctrl</strong>  <strong>-</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/lqSsU.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lqSsU.jpg\" alt=\"shortcut for font eclipse\"></a></p>\n"},{"tags":[],"owner":{"account_id":1085313,"reputation":359,"user_id":1081150,"accept_rate":67,"display_name":"praveenj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486961474,"creation_date":1486961474,"answer_id":42196856,"question_id":4922305,"body_markdown":"Try the tarlog plugin. You can change the font through Ctrl++ and Ctrl-- commands with it. A very convenient thing.\r\n\r\nhttps://code.google.com/archive/p/tarlog-plugins/downloads\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Try the tarlog plugin. You can change the font through Ctrl++ and Ctrl-- commands with it. A very convenient thing.</p>\n\n<p><a href=\"https://code.google.com/archive/p/tarlog-plugins/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/tarlog-plugins/downloads</a></p>\n"},{"tags":[],"owner":{"account_id":6138760,"reputation":2773,"user_id":4786793,"accept_rate":75,"display_name":"Shubham Sharma"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1623241124,"creation_date":1516167459,"answer_id":48294241,"question_id":4922305,"body_markdown":"If you are using Windows then to increase font size try with \r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;+&lt;/kbd&gt; \r\n\r\nand for decreasing font size you can use \r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;-&lt;/kbd&gt;","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are using Windows then to increase font size try with</p>\n<p><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>+</kbd></p>\n<p>and for decreasing font size you can use</p>\n<p><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>-</kbd></p>\n"},{"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1518520125,"creation_date":1518520125,"answer_id":48765406,"question_id":4922305,"body_markdown":"You can use \r\n\r\nctrl and + or - key","title":"How to change font size in Eclipse for Java text editors?","body":"<p>You can use </p>\n\n<p>ctrl and + or - key</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531222755,"creation_date":1531222755,"answer_id":51264239,"question_id":4922305,"body_markdown":"If you are using STS, then goto STS/Contents/Eclipse directory and open the STS.ini file.\r\n\r\nFrom the STS.ini file, remove the flooring line:\r\n\r\n    -Dorg.eclipse.swt.internal.carbon.smallFonts\r\n\r\nAnd restart the STS.","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are using STS, then goto STS/Contents/Eclipse directory and open the STS.ini file.</p>\n\n<p>From the STS.ini file, remove the flooring line:</p>\n\n<pre><code>-Dorg.eclipse.swt.internal.carbon.smallFonts\n</code></pre>\n\n<p>And restart the STS.</p>\n"},{"tags":[],"owner":{"account_id":4148170,"reputation":79,"user_id":3401332,"display_name":"Vrajendra Singh Mandloi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567779984,"creation_date":1567779984,"answer_id":57823909,"question_id":4922305,"body_markdown":"I Found the best way to increase Font Size in Eclipse:\r\n\r\nFollow this path : Eclipse-Folder\\plugins\\org.eclipse.ui.themes_1.2.100.v20180514-1547\\css\r\n\r\n--There are a bunch of Files here and it depends on user system which file to change.\r\n\r\n    * {\r\n      font-size:13;\r\n      font-family: Helvetica, Arial, sans-serif;\r\n      font-weight: normal;\r\n    } \r\n\r\nyou can even change Font Family if you like.\r\n\r\n1. For Windows Users add the following piece of css at BOTTOM of these files:\r\n    **File Names:    e4_default_gtk.css &amp; e4_default_win.css**\r\n\r\n2. For Mac Users: e4_default_mac.css\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I Found the best way to increase Font Size in Eclipse:</p>\n\n<p>Follow this path : Eclipse-Folder\\plugins\\org.eclipse.ui.themes_1.2.100.v20180514-1547\\css</p>\n\n<p>--There are a bunch of Files here and it depends on user system which file to change.</p>\n\n<pre><code>* {\n  font-size:13;\n  font-family: Helvetica, Arial, sans-serif;\n  font-weight: normal;\n} \n</code></pre>\n\n<p>you can even change Font Family if you like.</p>\n\n<ol>\n<li><p>For Windows Users add the following piece of css at BOTTOM of these files:\n<strong>File Names:    e4_default_gtk.css &amp; e4_default_win.css</strong></p></li>\n<li><p>For Mac Users: e4_default_mac.css</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6958103,"reputation":400,"user_id":5338514,"display_name":"shashi"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1598428346,"creation_date":1568012474,"answer_id":57849200,"question_id":4922305,"body_markdown":"Press **`ctrl`** + **`-`** to decrease, and **`ctrl`** + **`+`** to increase the Font Size. \r\n\r\nIt&#39;s working for me in Eclipse Oxygen.","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Press <strong><code>ctrl</code></strong> + <strong><code>-</code></strong> to decrease, and <strong><code>ctrl</code></strong> + <strong><code>+</code></strong> to increase the Font Size.</p>\n<p>It's working for me in Eclipse Oxygen.</p>\n"}],"owner":{"account_id":103658,"reputation":20982,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738554,"favorite_count":0,"down_vote_count":0,"up_vote_count":494,"answer_count":18,"score":494,"last_activity_date":1693476346,"creation_date":1297088280,"question_id":4922305,"body_markdown":"I have just tried to change my font size in Eclipse 3.6.0 in the following way:\r\n\r\n&gt; General &amp;rarr; Appearance &amp;rarr; Colors and Fonts &amp;rarr; Java Editor text font\r\n\r\nHowever, the font size only changed in the file I had open. How can I change the font size for all Java files and projects I open in Eclipse?","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I have just tried to change my font size in Eclipse 3.6.0 in the following way:</p>\n\n<blockquote>\n  <p>General &rarr; Appearance &rarr; Colors and Fonts &rarr; Java Editor text font</p>\n</blockquote>\n\n<p>However, the font size only changed in the file I had open. How can I change the font size for all Java files and projects I open in Eclipse?</p>\n"},{"tags":["java","css","xml","twitter-bootstrap","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670279418,"post_id":74692626,"comment_id":131835530,"body_markdown":"There was an [answer which seemed fairly decent that was moderator deleted](https://stackoverflow.com/a/74692724/1155209), I am not sure why.","body":"There was an <a href=\"https://stackoverflow.com/a/74692724/1155209\">answer which seemed fairly decent that was moderator deleted</a>, I am not sure why."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670279497,"post_id":74692626,"comment_id":131835549,"body_markdown":"The [Idea new project wizard](https://www.jetbrains.com/help/idea/javafx.html) provides an option for including BootstrapFX in a project, perhaps try that and see if it helps (I don&#39;t know if it will or not in your case).","body":"The <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Idea new project wizard</a> provides an option for including BootstrapFX in a project, perhaps try that and see if it helps (I don&#39;t know if it will or not in your case)."},{"owner":{"account_id":27155574,"reputation":11,"user_id":20694452,"display_name":"Francesco Antoni"},"score":0,"creation_date":1670316357,"post_id":74692626,"comment_id":131842201,"body_markdown":"@jewelsea I have used that, but I dont know how to set it in the code. I mean how to actually tell JFX I want to use that framework. The GitHub page shows how to do that from Java code but I would like to do that from the FXML file.","body":"@jewelsea I have used that, but I dont know how to set it in the code. I mean how to actually tell JFX I want to use that framework. The GitHub page shows how to do that from Java code but I would like to do that from the FXML file."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670322790,"post_id":74692626,"comment_id":131844476,"body_markdown":"Yeah that info looks to be in the moderator deleted answer.","body":"Yeah that info looks to be in the moderator deleted answer."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670324126,"post_id":74692626,"comment_id":131844918,"body_markdown":"There is a style sheet you get through a static method `BootstrapFX.bootstrapFXStylesheet()` which gets `bootstrapfx.css` out of the bootstrap jar (fxml can reference style sheets so if you extracted it to a file you can also access it that way).  And there is one additional layout class called Panel.  All other usages are just setting style classes, which can also be set in fxml.  There are lots of examples in the [sampler code](https://github.com/kordamp/bootstrapfx/tree/master/subprojects/sampler/src/main), which is mostly bootstrap styled fxml.","body":"There is a style sheet you get through a static method <code>BootstrapFX.bootstrapFXStylesheet()</code> which gets <code>bootstrapfx.css</code> out of the bootstrap jar (fxml can reference style sheets so if you extracted it to a file you can also access it that way).  And there is one additional layout class called Panel.  All other usages are just setting style classes, which can also be set in fxml.  There are lots of examples in the <a href=\"https://github.com/kordamp/bootstrapfx/tree/master/subprojects/sampler/src/main\" rel=\"nofollow noreferrer\">sampler code</a>, which is mostly bootstrap styled fxml."}],"owner":{"account_id":27155574,"reputation":11,"user_id":20694452,"display_name":"Francesco Antoni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693476336,"creation_date":1670264055,"question_id":74692626,"body_markdown":"Using IntelliJ, I wanted to create a new JavaFX project using BootstrapFX framework in order to improve the look of my app. I thought it would be easy to include it and use it but I couldn&#39;t find any documentation online.\r\n\r\nThe only example I found is this: [Link](https://github.com/kordamp/bootstrapfx) but this doesn&#39;t mention anything about settings in the FXML files and controller classes since it does everything in the `start()` method. Can somebody help me? I anticipately apologize for any incorrect thing I could have said since I am new to this.","title":"How do I use BootstrapFX in my Maven JavaFX project with FXML?","body":"<p>Using IntelliJ, I wanted to create a new JavaFX project using BootstrapFX framework in order to improve the look of my app. I thought it would be easy to include it and use it but I couldn't find any documentation online.</p>\n<p>The only example I found is this: <a href=\"https://github.com/kordamp/bootstrapfx\" rel=\"nofollow noreferrer\">Link</a> but this doesn't mention anything about settings in the FXML files and controller classes since it does everything in the <code>start()</code> method. Can somebody help me? I anticipately apologize for any incorrect thing I could have said since I am new to this.</p>\n"},{"tags":["java","spring-boot","maven","maven-multi-module"],"comments":[{"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"score":0,"creation_date":1693467666,"post_id":77013728,"comment_id":135765586,"body_markdown":"My first approach is influenced by Package by feature approach [link](http://www.javapractices.com/topic/TopicAction.do?Id=205).","body":"My first approach is influenced by Package by feature approach <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=205\" rel=\"nofollow noreferrer\">link</a>."}],"answers":[{"tags":[],"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693476130,"creation_date":1693476130,"answer_id":77014800,"question_id":77013728,"body_markdown":"I&#39;d definitely go for the package-by-feature approach. By that you ensure that services can&#39;t use other services&#39; classes and thus keep them independent.","title":"How to muti-module a large spring application","body":"<p>I'd definitely go for the package-by-feature approach. By that you ensure that services can't use other services' classes and thus keep them independent.</p>\n"}],"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693499523,"answer_count":1,"score":0,"last_activity_date":1693476130,"creation_date":1693467512,"question_id":77013728,"body_markdown":"I am developing a spring boot project consisting of multiple independent modules used by the main project. As I am new to this, I need guidance on how to segregate large project into maven modules. I have few ideas which I would like to get your opinion on,\r\n\r\n1. **Modules by feature (and only by feature)**: Each feature is segregated into its own modules. Thus, the modules would have their own Entities, Repositories, Services. Only services which would be consumed by other modules.\r\n\r\n\r\n```\r\nParent Project\r\n   |- Feature 1 (owns dtos, repo, entities)\r\n   |- Feature 2 (owns dtos, repo, entities)\r\n   |- ...\r\n   |- Main project (depends on Feature 1,2, ...)\r\n```\r\n2. **Modules by common concerns and subsequently by feature**\r\n\r\n```\r\nParent Project\r\n   |- Entities\r\n   |- Repositories (depends on Entities)\r\n   |- Dtos (depends on Entities)\r\n   |- Feature 1 (depends on dtos, repo)\r\n   |- Feature 2 (depends on dtos, repo)\r\n   |- Main project (depends on Feature Entities, Repositories, Dtos,1,2, ...)\r\n```\r\n\r\nI would like to know the pros and cons of either of the approaches. Any new approach is also welcome.","title":"How to muti-module a large spring application","body":"<p>I am developing a spring boot project consisting of multiple independent modules used by the main project. As I am new to this, I need guidance on how to segregate large project into maven modules. I have few ideas which I would like to get your opinion on,</p>\n<ol>\n<li><strong>Modules by feature (and only by feature)</strong>: Each feature is segregated into its own modules. Thus, the modules would have their own Entities, Repositories, Services. Only services which would be consumed by other modules.</li>\n</ol>\n<pre><code>Parent Project\n   |- Feature 1 (owns dtos, repo, entities)\n   |- Feature 2 (owns dtos, repo, entities)\n   |- ...\n   |- Main project (depends on Feature 1,2, ...)\n</code></pre>\n<ol start=\"2\">\n<li><strong>Modules by common concerns and subsequently by feature</strong></li>\n</ol>\n<pre><code>Parent Project\n   |- Entities\n   |- Repositories (depends on Entities)\n   |- Dtos (depends on Entities)\n   |- Feature 1 (depends on dtos, repo)\n   |- Feature 2 (depends on dtos, repo)\n   |- Main project (depends on Feature Entities, Repositories, Dtos,1,2, ...)\n</code></pre>\n<p>I would like to know the pros and cons of either of the approaches. Any new approach is also welcome.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":3,"creation_date":1693341111,"post_id":77003405,"comment_id":135747465,"body_markdown":"JFileChooser has two dialogs.  Should be showOpenFileDialog() and showSaveFileDialog().","body":"JFileChooser has two dialogs.  Should be showOpenFileDialog() and showSaveFileDialog()."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693348406,"post_id":77003405,"comment_id":135748365,"body_markdown":"Also, it is in your best interest to peruse [all of the methods of JFileChooser](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JFileChooser.html#method-summary).","body":"Also, it is in your best interest to peruse <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JFileChooser.html#method-summary\" rel=\"nofollow noreferrer\">all of the methods of JFileChooser</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693362043,"post_id":77003405,"comment_id":135749449,"body_markdown":"Also demonstrated in [How to Use File Choosers](https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)","body":"Also demonstrated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">How to Use File Choosers</a>"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1693414450,"post_id":77003405,"comment_id":135758932,"body_markdown":"@pcalkins thank you! But still, how do I change that (without affecting all the instances)?","body":"@pcalkins thank you! But still, how do I change that (without affecting all the instances)?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693414519,"post_id":77003405,"comment_id":135758948,"body_markdown":"those are methods of the instances so you&#39;re fine.","body":"those are methods of the instances so you&#39;re fine."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693476009,"creation_date":1693476009,"answer_id":77014787,"question_id":77003405,"body_markdown":"There is no built in function for that kind of thing.\r\n\r\nYou either need to build your own file chooser which is not perfect idea.\r\n\r\nI made a quick function to change name of any button\r\n\r\n    private void changeButtonName(Container fc, String oldValue, String newValue) {\r\n            for (Component item : fc.getComponents()) {\r\n                if (item instanceof  JButton) {\r\n                    JButton button = (JButton) item;\r\n                    if (button.getText() != null &amp;&amp; button.getText().length() &gt; 0 &amp;&amp; button.getText().equalsIgnoreCase(oldValue)) {\r\n                        button.setText(newValue);\r\n                    }\r\n                }\r\n    \r\n                if (item instanceof Container) {\r\n                    changeButtonName((Container)item, oldValue, newValue);\r\n                }\r\n            }\r\n        }\r\n\r\nthen you can just call it like that:\r\n\r\n\r\n    final JFileChooser fc = new JFileChooser();\r\n    \r\n    changeButtonName(fc,&quot;cancel&quot;, &quot;new_cancel&quot;);\r\n\r\n\r\nKeep in mind that I didn&#39;t test it extensively\r\n","title":"How do I change the text of a JFileChooser instance&#39;s button?","body":"<p>There is no built in function for that kind of thing.</p>\n<p>You either need to build your own file chooser which is not perfect idea.</p>\n<p>I made a quick function to change name of any button</p>\n<pre><code>private void changeButtonName(Container fc, String oldValue, String newValue) {\n        for (Component item : fc.getComponents()) {\n            if (item instanceof  JButton) {\n                JButton button = (JButton) item;\n                if (button.getText() != null &amp;&amp; button.getText().length() &gt; 0 &amp;&amp; button.getText().equalsIgnoreCase(oldValue)) {\n                    button.setText(newValue);\n                }\n            }\n\n            if (item instanceof Container) {\n                changeButtonName((Container)item, oldValue, newValue);\n            }\n        }\n    }\n</code></pre>\n<p>then you can just call it like that:</p>\n<pre><code>final JFileChooser fc = new JFileChooser();\n\nchangeButtonName(fc,&quot;cancel&quot;, &quot;new_cancel&quot;);\n</code></pre>\n<p>Keep in mind that I didn't test it extensively</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693476009,"creation_date":1693340303,"question_id":77003405,"body_markdown":"I have two `JFileChooser` instances in my app: one for saving and another one for loading. The default &quot;Save&quot; button works fine in the former case but is semantically wrong in the latter. How do I change button text for a **particular `JFileChooser` instance**? Please note that things like\r\n```java\r\n UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);\r\n SwingUtilities.updateComponentTreeUI(Filechoose);\r\n```\r\nwon&#39;t work since they will change button text of all instances (the example is from [this SO question][1]). If it&#39;s not possible, what are the workarounds?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32054155/change-text-value-of-jfilechooser","title":"How do I change the text of a JFileChooser instance&#39;s button?","body":"<p>I have two <code>JFileChooser</code> instances in my app: one for saving and another one for loading. The default &quot;Save&quot; button works fine in the former case but is semantically wrong in the latter. How do I change button text for a <strong>particular <code>JFileChooser</code> instance</strong>? Please note that things like</p>\n<pre class=\"lang-java prettyprint-override\"><code> UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);\n SwingUtilities.updateComponentTreeUI(Filechoose);\n</code></pre>\n<p>won't work since they will change button text of all instances (the example is from <a href=\"https://stackoverflow.com/questions/32054155/change-text-value-of-jfilechooser\">this SO question</a>). If it's not possible, what are the workarounds?</p>\n"},{"tags":["java","shell","command-line"],"comments":[{"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":2,"creation_date":1252674568,"post_id":1410741,"comment_id":1252935,"body_markdown":"`cat` and `csh` dont have anything to do with one another.","body":"<code>cat</code> and <code>csh</code> dont have anything to do with one another."},{"owner":{"account_id":49086,"reputation":9943,"user_id":146003,"accept_rate":99,"display_name":"Atmocreations"},"score":4,"creation_date":1252674744,"post_id":1410741,"comment_id":1252950,"body_markdown":"i can understand the question for other commands, but for cat: why the hell don&#39;t you just read in the file?","body":"i can understand the question for other commands, but for cat: why the hell don&#39;t you just read in the file?"},{"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"score":10,"creation_date":1252680785,"post_id":1410741,"comment_id":1253600,"body_markdown":"Everyone gets this wrong first time - Java&#39;s exec() does not use the underlying system&#39;s shell to execute the command (as kts points out).  The redirection and piping are features of a real shell and are not available from Java&#39;s exec().","body":"Everyone gets this wrong first time - Java&#39;s exec() does not use the underlying system&#39;s shell to execute the command (as kts points out).  The redirection and piping are features of a real shell and are not available from Java&#39;s exec()."},{"owner":{"account_id":54601,"reputation":39081,"user_id":163394,"accept_rate":86,"display_name":"Narek"},"score":0,"creation_date":1252869550,"post_id":1410741,"comment_id":1261709,"body_markdown":"stevendick: Thank you very much, I was getting problems because of redirection and piping!","body":"stevendick: Thank you very much, I was getting problems because of redirection and piping!"},{"owner":{"display_name":"user2347760"},"score":0,"creation_date":1367600380,"post_id":1410741,"comment_id":23449852,"body_markdown":"System.exit(0) is not inside conditional checking if process is done, so it will always exit without outputting errors. Never write conditionals without braces, to avoid exactly this sort of mistake.","body":"System.exit(0) is not inside conditional checking if process is done, so it will always exit without outputting errors. Never write conditionals without braces, to avoid exactly this sort of mistake."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1367605404,"post_id":1410741,"comment_id":23449853,"body_markdown":"This is not an answer to this question.","body":"This is not an answer to this question."},{"owner":{"account_id":1090797,"reputation":8695,"user_id":1085483,"accept_rate":83,"display_name":"Rui Marques"},"score":0,"creation_date":1406213125,"post_id":1410741,"comment_id":38751535,"body_markdown":"Check here for Runtime exec Pitfalls: http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html","body":"Check here for Runtime exec Pitfalls: <a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">javaworld.com/article/2071275/core-java/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1252683905,"creation_date":1252674735,"answer_id":1410778,"question_id":1410741,"body_markdown":"exec does not execute a command in your shell\r\n\r\ntry\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{&quot;csh&quot;,&quot;-c&quot;,&quot;cat /home/narek/pk.txt&quot;});\r\n\r\ninstead.\r\n\r\nEDIT::\r\nI don&#39;t have csh on my system so I used bash instead. The following worked for me\r\n\r\n\tProcess p = Runtime.getRuntime().exec(new String[]{&quot;bash&quot;,&quot;-c&quot;,&quot;ls /home/XXX&quot;});\r\n\r\n","title":"How to invoke a Linux shell command from Java","body":"<p>exec does not execute a command in your shell</p>\n\n<p>try</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"csh\",\"-c\",\"cat /home/narek/pk.txt\"});\n</code></pre>\n\n<p>instead.</p>\n\n<p>EDIT::\nI don't have csh on my system so I used bash instead. The following worked for me</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"bash\",\"-c\",\"ls /home/XXX\"});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1407226871,"creation_date":1252674736,"answer_id":1410779,"question_id":1410741,"body_markdown":"Use ProcessBuilder to separate commands and arguments instead of spaces. This should work regardless of shell used:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\t\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic static void main(final String[] args) throws IOException, InterruptedException {\r\n\t\t\t//Build command \r\n\t\t\tList&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n\t\t\tcommands.add(&quot;/bin/cat&quot;);\r\n\t\t\t//Add arguments\r\n\t\t\tcommands.add(&quot;/home/narek/pk.txt&quot;);\r\n\t\t\tSystem.out.println(commands);\r\n\t\r\n\t\t\t//Run macro on target\r\n\t\t\tProcessBuilder pb = new ProcessBuilder(commands);\r\n\t\t\tpb.directory(new File(&quot;/home/narek&quot;));\r\n\t\t\tpb.redirectErrorStream(true);\r\n\t\t\tProcess process = pb.start();\r\n\t\r\n\t\t\t//Read output\r\n\t\t\tStringBuilder out = new StringBuilder();\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tString line = null, previous = null;\r\n\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\tif (!line.equals(previous)) {\r\n\t\t\t\t\tprevious = line;\r\n\t\t\t\t\tout.append(line).append(&#39;\\n&#39;);\r\n\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t//Check result\r\n\t\t\tif (process.waitFor() == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Success!&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\r\n\t\t\t//Abnormal termination: Log command parameters and output and throw ExecutionException\r\n\t\t\tSystem.err.println(commands);\r\n\t\t\tSystem.err.println(out.toString());\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}","title":"How to invoke a Linux shell command from Java","body":"<p>Use ProcessBuilder to separate commands and arguments instead of spaces. This should work regardless of shell used:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\n    public static void main(final String[] args) throws IOException, InterruptedException {\n        //Build command \n        List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n        commands.add(\"/bin/cat\");\n        //Add arguments\n        commands.add(\"/home/narek/pk.txt\");\n        System.out.println(commands);\n\n        //Run macro on target\n        ProcessBuilder pb = new ProcessBuilder(commands);\n        pb.directory(new File(\"/home/narek\"));\n        pb.redirectErrorStream(true);\n        Process process = pb.start();\n\n        //Read output\n        StringBuilder out = new StringBuilder();\n        BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = null, previous = null;\n        while ((line = br.readLine()) != null)\n            if (!line.equals(previous)) {\n                previous = line;\n                out.append(line).append('\\n');\n                System.out.println(line);\n            }\n\n        //Check result\n        if (process.waitFor() == 0) {\n            System.out.println(\"Success!\");\n            System.exit(0);\n        }\n\n        //Abnormal termination: Log command parameters and output and throw ExecutionException\n        System.err.println(commands);\n        System.err.println(out.toString());\n        System.exit(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1418375941,"creation_date":1418360598,"answer_id":27437171,"question_id":1410741,"body_markdown":"Building on @Tim&#39;s example to make a self-contained method:\r\n\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Shell {\r\n    \r\n        /** Returns null if it failed for some reason.\r\n         */\r\n        public static ArrayList&lt;String&gt; command(final String cmdline,\r\n        final String directory) {\r\n            try {\r\n                Process process = \r\n                    new ProcessBuilder(new String[] {&quot;bash&quot;, &quot;-c&quot;, cmdline})\r\n                        .redirectErrorStream(true)\r\n                        .directory(new File(directory))\r\n                        .start();\r\n    \r\n                ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n                BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n                String line = null;\r\n                while ( (line = br.readLine()) != null )\r\n                    output.add(line);\r\n    \r\n                //There should really be a timeout here.\r\n                if (0 != process.waitFor())\r\n                    return null;\r\n    \r\n                return output;\r\n    \r\n            } catch (Exception e) {\r\n                //Warning: doing this is no good in high quality applications.\r\n                //Instead, present appropriate error messages to the user.\r\n                //But it&#39;s perfectly fine for prototyping.\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            test(&quot;which bash&quot;);\r\n    \r\n            test(&quot;find . -type f -printf &#39;%T@\\\\\\\\t%p\\\\\\\\n&#39; &quot;\r\n                + &quot;| sort -n | cut -f 2- | &quot;\r\n                + &quot;sed -e &#39;s/ /\\\\\\\\\\\\\\\\ /g&#39; | xargs ls -halt&quot;);\r\n            \r\n        }\r\n    \r\n        static void test(String cmdline) {\r\n            ArrayList&lt;String&gt; output = command(cmdline, &quot;.&quot;);\r\n            if (null == output)\r\n                System.out.println(&quot;\\n\\n\\t\\tCOMMAND FAILED: &quot; + cmdline);\r\n            else\r\n                for (String line : output)\r\n                    System.out.println(line);\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n(The test example is a [command that lists all files in a directory and its subdirectories, recursively, in chronological order][1].)\r\n\r\nBy the way, if somebody can tell me why I need four and eight backslashes there, instead of two and four, I can learn something. There is one more level of unescaping happening than what I am counting.\r\n\r\nEdit: Just tried this same code on Linux, and there it turns out that I need half as many backslashes in the test command! (That is: the expected number of two and four.) Now it&#39;s no longer just weird, it&#39;s a portability problem.\r\n\r\n\r\n  [1]: https://superuser.com/a/745424/141883","title":"How to invoke a Linux shell command from Java","body":"<p>Building on @Tim's example to make a self-contained method:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\npublic class Shell {\n\n    /** Returns null if it failed for some reason.\n     */\n    public static ArrayList&lt;String&gt; command(final String cmdline,\n    final String directory) {\n        try {\n            Process process = \n                new ProcessBuilder(new String[] {\"bash\", \"-c\", cmdline})\n                    .redirectErrorStream(true)\n                    .directory(new File(directory))\n                    .start();\n\n            ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\n            BufferedReader br = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n            String line = null;\n            while ( (line = br.readLine()) != null )\n                output.add(line);\n\n            //There should really be a timeout here.\n            if (0 != process.waitFor())\n                return null;\n\n            return output;\n\n        } catch (Exception e) {\n            //Warning: doing this is no good in high quality applications.\n            //Instead, present appropriate error messages to the user.\n            //But it's perfectly fine for prototyping.\n\n            return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        test(\"which bash\");\n\n        test(\"find . -type f -printf '%T@\\\\\\\\t%p\\\\\\\\n' \"\n            + \"| sort -n | cut -f 2- | \"\n            + \"sed -e 's/ /\\\\\\\\\\\\\\\\ /g' | xargs ls -halt\");\n\n    }\n\n    static void test(String cmdline) {\n        ArrayList&lt;String&gt; output = command(cmdline, \".\");\n        if (null == output)\n            System.out.println(\"\\n\\n\\t\\tCOMMAND FAILED: \" + cmdline);\n        else\n            for (String line : output)\n                System.out.println(line);\n\n    }\n}\n</code></pre>\n\n<p>(The test example is a <a href=\"https://superuser.com/a/745424/141883\">command that lists all files in a directory and its subdirectories, recursively, in chronological order</a>.)</p>\n\n<p>By the way, if somebody can tell me why I need four and eight backslashes there, instead of two and four, I can learn something. There is one more level of unescaping happening than what I am counting.</p>\n\n<p>Edit: Just tried this same code on Linux, and there it turns out that I need half as many backslashes in the test command! (That is: the expected number of two and four.) Now it's no longer just weird, it's a portability problem.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693475620,"creation_date":1693475620,"answer_id":77014747,"question_id":1410741,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;shell&quot;, &quot;command&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .withCheck(false) // ignore the exit code (no exception if it&#39;s not zero)\r\n    .exec();\r\n```\r\n\r\nHere, `Jaxec` will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Obviously, behind the scene `Jaxec` uses `Runtime`.","title":"How to invoke a Linux shell command from Java","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;shell&quot;, &quot;command&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .withCheck(false) // ignore the exit code (no exception if it's not zero)\n    .exec();\n</code></pre>\n<p>Here, <code>Jaxec</code> will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Obviously, behind the scene <code>Jaxec</code> uses <code>Runtime</code>.</p>\n"}],"owner":{"account_id":54601,"reputation":39081,"user_id":163394,"accept_rate":86,"display_name":"Narek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186513,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":1410778,"answer_count":4,"score":104,"last_activity_date":1693475620,"creation_date":1252674319,"question_id":1410741,"body_markdown":"I am trying to execute some Linux commands from Java using redirection (&gt;&amp;) and pipes (|). How can Java invoke `csh` or `bash` commands?\r\n\r\nI tried to use this:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;shell command&quot;);\r\n\r\nBut it&#39;s not compatible with redirections or pipes.","title":"How to invoke a Linux shell command from Java","body":"<p>I am trying to execute some Linux commands from Java using redirection (>&amp;) and pipes (|). How can Java invoke <code>csh</code> or <code>bash</code> commands?</p>\n\n<p>I tried to use this:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"shell command\");\n</code></pre>\n\n<p>But it's not compatible with redirections or pipes.</p>\n"},{"tags":["java","hostname","fqdn"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575614114,"post_id":59207901,"comment_id":104633248,"body_markdown":"`getHostName()` is an instance method of class `InetAddress`. How do you obtain an instance of `InetAddress` in order to invoke method `getHostName()`?","body":"<code>getHostName()</code> is an instance method of class <code>InetAddress</code>. How do you obtain an instance of <code>InetAddress</code> in order to invoke method <code>getHostName()</code>?"},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575615475,"post_id":59207901,"comment_id":104633746,"body_markdown":"@Abra I did ```inetAddress = InetAddress.getLocalHost();```","body":"@Abra I did <code>inetAddress = InetAddress.getLocalHost();</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575616324,"post_id":59207901,"comment_id":104634002,"body_markdown":"An excerpt from the _javadoc_ for method `getLocalHost()`: _Returns the address of the local host. This is achieved by retrieving the name of the host from the system_ So I guess the value returned by method `getHostName()` depends on how the host name is defined in your operating system. On my Windows 10 machine, I get the value of the `COMPUTERNAME` environment variable.","body":"An excerpt from the <i>javadoc</i> for method <code>getLocalHost()</code>: <i>Returns the address of the local host. This is achieved by retrieving the name of the host from the system</i> So I guess the value returned by method <code>getHostName()</code> depends on how the host name is defined in your operating system. On my Windows 10 machine, I get the value of the <code>COMPUTERNAME</code> environment variable."},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575617570,"post_id":59207901,"comment_id":104634450,"body_markdown":"It is something related to OS but what is that configuration which decides at OS level?","body":"It is something related to OS but what is that configuration which decides at OS level?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1575618740,"post_id":59207901,"comment_id":104634909,"body_markdown":"Obviously, it depends on the OS.  Which OS are you asking about?","body":"Obviously, it depends on the OS.  Which OS are you asking about?"},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575620657,"post_id":59207901,"comment_id":104635600,"body_markdown":"@StephenC  I am looking it on RHEL.","body":"@StephenC  I am looking it on RHEL."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575631857,"post_id":59207901,"comment_id":104640925,"body_markdown":"An Internet search provided: [Linux - Fully Qualified Domain Name (FQDN)](https://gerardnico.com/os/linux/fqdn)","body":"An Internet search provided: <a href=\"https://gerardnico.com/os/linux/fqdn\" rel=\"nofollow noreferrer\">Linux - Fully Qualified Domain Name (FQDN)</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1575838173,"creation_date":1575651896,"answer_id":59217450,"question_id":59207901,"body_markdown":"&gt; Why does java `getHostName` sometime gives the FQDN and sometimes not?\r\n\r\nShort answer: because it depends on information provided by the OS.\r\n\r\n--------------\r\n\r\nIn Java 11, the hostname returned by `InetAddress` is obtained by using the JVM&#39;s DNS resolver to perform a reverse lookup on the IP address.  \r\n\r\nThe default behavior for the JVM&#39;s DNS resolver is to delegate to the OS-provided local DNS resolver.  It is also possible to configure Java to use a simple builtin resolver that gets all name server data from a file; search the Java 9 release notes for the description of the &quot;jdk.net.hosts.file&quot; property.\r\n\r\n(Prior to Java 9, the implementation different but (AFAIK) the default behavior was to use the OS-provided name resolution.)\r\n\r\n-----------------\r\n\r\n&gt; I am looking at it on RHEL\r\n\r\n&lt;sup&gt;(This not really a &quot;programming&quot; question anymore, but here goes ...)&lt;/sup&gt;\r\n\r\nOn Linux the reverse lookup turns into a call to `getnameinfo(3)` which makes the resolver call; refer to the Linux manual entry for the full details.   The resolver behavior depends on the &quot;/etc/nsswitch.conf&quot; file: specifically the &quot;hosts&quot; line.  For example on my (Ubuntu) system it says:\r\n\r\n    hosts:  files mdns4_minimal [NOTFOUND=return] dns myhostname\r\n\r\nThis says to try the lookup in the following places:\r\n\r\n   1. &quot;files&quot; means the &quot;/etc/hosts&quot; file.\r\n   2. &quot;mdns4_minimal&quot; is a flavor of mDNS (multicast DNS) service; see https://askubuntu.com/a/853284/566610\r\n   3. &quot;dns&quot; is classical centralized DNS\r\n   4. &quot;myhostname&quot; is a fallback that uses the system information typically configured by the `hostname` command.\r\n\r\nSo, if I have added an entry for my host&#39;s IP address to my &quot;/etc/hosts&quot; file, then the first name in that entry will be what `getHostname` returns.  It could be a simple name or a FQDN, depending on what the file says.   Here&#39;s an example:\r\n\r\n    192.168.1.1    bogsnorkel.example.com bogsnorkel\r\n\r\n&lt;sup&gt;(With my nsswitch.conf settings as above, and if my primary IP was 192.168.1.1, `getHostname()` would return &quot;bogsnorkel.example.com&quot;.  But if the unqualified name &quot;bogsnorkel&quot; was first, it would return that instead.)&lt;/sup&gt;\r\n\r\nBut if there isn&#39;t an &quot;/etc/hosts&quot; entry, then next step will be to lookup in mDNS or else DNS.  If the IP has been registered with mDNS / DNS, then you should get an FQDN.\r\n\r\nFinally, the fallback will be whatever was set using `hostname`.\r\n\r\n--------------------\r\n\r\nStepping back: if you are looking for a way to ensure that your application always gets an FQDN from `inetAddress.getHostName()` irrespective of OS-level configurations, etc, you are probably out of luck:\r\n\r\n  -  It would be better to make your application *insensitive* to that.  \r\n  -  If that is not possible:\r\n     1. Have your application check that the hostname is acceptable on startup and &quot;bail out&quot; if it isn&#39;t.\r\n     2. Redirect the user to OS instructions for configuring an FQDN\r\n     3. Maybe ... provide an option or config parameter for the case where the (non-privileged) user cannot fix what the OS is returning.","title":"Why java getHostName gives the FQDN?","body":"<blockquote>\n  <p>Why does java <code>getHostName</code> sometime gives the FQDN and sometimes not?</p>\n</blockquote>\n\n<p>Short answer: because it depends on information provided by the OS.</p>\n\n<hr>\n\n<p>In Java 11, the hostname returned by <code>InetAddress</code> is obtained by using the JVM's DNS resolver to perform a reverse lookup on the IP address.  </p>\n\n<p>The default behavior for the JVM's DNS resolver is to delegate to the OS-provided local DNS resolver.  It is also possible to configure Java to use a simple builtin resolver that gets all name server data from a file; search the Java 9 release notes for the description of the \"jdk.net.hosts.file\" property.</p>\n\n<p>(Prior to Java 9, the implementation different but (AFAIK) the default behavior was to use the OS-provided name resolution.)</p>\n\n<hr>\n\n<blockquote>\n  <p>I am looking at it on RHEL</p>\n</blockquote>\n\n<p><sup>(This not really a \"programming\" question anymore, but here goes ...)</sup></p>\n\n<p>On Linux the reverse lookup turns into a call to <code>getnameinfo(3)</code> which makes the resolver call; refer to the Linux manual entry for the full details.   The resolver behavior depends on the \"/etc/nsswitch.conf\" file: specifically the \"hosts\" line.  For example on my (Ubuntu) system it says:</p>\n\n<pre><code>hosts:  files mdns4_minimal [NOTFOUND=return] dns myhostname\n</code></pre>\n\n<p>This says to try the lookup in the following places:</p>\n\n<ol>\n<li>\"files\" means the \"/etc/hosts\" file.</li>\n<li>\"mdns4_minimal\" is a flavor of mDNS (multicast DNS) service; see <a href=\"https://askubuntu.com/a/853284/566610\">https://askubuntu.com/a/853284/566610</a></li>\n<li>\"dns\" is classical centralized DNS</li>\n<li>\"myhostname\" is a fallback that uses the system information typically configured by the <code>hostname</code> command.</li>\n</ol>\n\n<p>So, if I have added an entry for my host's IP address to my \"/etc/hosts\" file, then the first name in that entry will be what <code>getHostname</code> returns.  It could be a simple name or a FQDN, depending on what the file says.   Here's an example:</p>\n\n<pre><code>192.168.1.1    bogsnorkel.example.com bogsnorkel\n</code></pre>\n\n<p><sup>(With my nsswitch.conf settings as above, and if my primary IP was 192.168.1.1, <code>getHostname()</code> would return \"bogsnorkel.example.com\".  But if the unqualified name \"bogsnorkel\" was first, it would return that instead.)</sup></p>\n\n<p>But if there isn't an \"/etc/hosts\" entry, then next step will be to lookup in mDNS or else DNS.  If the IP has been registered with mDNS / DNS, then you should get an FQDN.</p>\n\n<p>Finally, the fallback will be whatever was set using <code>hostname</code>.</p>\n\n<hr>\n\n<p>Stepping back: if you are looking for a way to ensure that your application always gets an FQDN from <code>inetAddress.getHostName()</code> irrespective of OS-level configurations, etc, you are probably out of luck:</p>\n\n<ul>\n<li>It would be better to make your application <em>insensitive</em> to that.  </li>\n<li>If that is not possible:\n\n<ol>\n<li>Have your application check that the hostname is acceptable on startup and \"bail out\" if it isn't.</li>\n<li>Redirect the user to OS instructions for configuring an FQDN</li>\n<li>Maybe ... provide an option or config parameter for the case where the (non-privileged) user cannot fix what the OS is returning.</li>\n</ol></li>\n</ul>\n"}],"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59217450,"answer_count":1,"score":1,"last_activity_date":1693475604,"creation_date":1575613261,"question_id":59207901,"body_markdown":"Why sometimes, Java ``` inetAddress.getHostName(); ``` gives the fully qualified domain name and sometimes only hostname without domain?\r\nIs there something which can be tweaked at system level to get either fqdn or hostname only by calling that method. I know ``` inetAddress.getCanonicalHostName() ``` is there, but I want to know if we can play around ```getHostName()```.","title":"Why java getHostName gives the FQDN?","body":"<p>Why sometimes, Java <code>inetAddress.getHostName();</code> gives the fully qualified domain name and sometimes only hostname without domain?\nIs there something which can be tweaked at system level to get either fqdn or hostname only by calling that method. I know <code>inetAddress.getCanonicalHostName()</code> is there, but I want to know if we can play around <code>getHostName()</code>.</p>\n"},{"tags":["java","linux","shell","ksh"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1599211694,"post_id":63738277,"comment_id":112710320,"body_markdown":"&quot;Will the script get executed on the Linux box properly&quot; does it work on your machine, for starters?","body":"&quot;Will the script get executed on the Linux box properly&quot; does it work on your machine, for starters?"},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599212783,"post_id":63738277,"comment_id":112710778,"body_markdown":"@FedericoklezCulloca - I am coding on Windows machine and opening a Notepad using below for testing purpose. ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);","body":"@FedericoklezCulloca - I am coding on Windows machine and opening a Notepad using below for testing purpose. ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);"},{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1599213003,"post_id":63738277,"comment_id":112710875,"body_markdown":"Does this answer your question? [How to run Unix shell script from Java code?](https://stackoverflow.com/questions/525212/how-to-run-unix-shell-script-from-java-code)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/525212/how-to-run-unix-shell-script-from-java-code\">How to run Unix shell script from Java code?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599214727,"post_id":63738277,"comment_id":112711628,"body_markdown":"@VinodKhade leaving aside the specific case, you should really test it on linux anyway. Don&#39;t guess compatibility. Also, don&#39;t expect `ksh` to be installed, it&#39;s not standard on any linux distro I can think of.","body":"@VinodKhade leaving aside the specific case, you should really test it on linux anyway. Don&#39;t guess compatibility. Also, don&#39;t expect <code>ksh</code> to be installed, it&#39;s not standard on any linux distro I can think of."},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599228832,"post_id":63738277,"comment_id":112718288,"body_markdown":"@FedericoklezCulloca - How do we handle for ksh ? Do we need to put all these in a list of String ? Like List&lt;String&gt; will contain &quot;ksh&quot; ,  &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; ,  &quot;param1&quot;  &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;","body":"@FedericoklezCulloca - How do we handle for ksh ? Do we need to put all these in a list of String ? Like List&lt;String&gt; will contain &quot;ksh&quot; ,  &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; ,  &quot;param1&quot;  &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599231746,"post_id":63738277,"comment_id":112719840,"body_markdown":"`new ProcessBuilder(&quot;ksh&quot;, &quot;-c&quot;, &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;, etc...);` should do the trick, but, again, test it on an actual linux system (even wsl is fine).","body":"<code>new ProcessBuilder(&quot;ksh&quot;, &quot;-c&quot;, &quot;&#47;xyz&#47;abc&#47;data&#47;code_base&#47;RUN_SCRIPTS&#47;dev&#47;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;, etc...);</code> should do the trick, but, again, test it on an actual linux system (even wsl is fine)."},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599237102,"post_id":63738277,"comment_id":112722377,"body_markdown":"@FedericoklezCulloca - Thank you so much...What is the use of &quot;-c&quot; ?.  Also is there a reference link which i could refer to get more understanding of this.","body":"@FedericoklezCulloca - Thank you so much...What is the use of &quot;-c&quot; ?.  Also is there a reference link which i could refer to get more understanding of this."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599238568,"post_id":63738277,"comment_id":112722969,"body_markdown":"`-c` is for &quot;command&quot;. It&#39;s a thing for ksh, not for `ProcessBuilder`. Here&#39;s the doc for [`ProcessBuilder`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#start()) and here&#39;s the manual page for [`ksh`](https://linux.die.net/man/1/ksh).","body":"<code>-c</code> is for &quot;command&quot;. It&#39;s a thing for ksh, not for <code>ProcessBuilder</code>. Here&#39;s the doc for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#start()\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a> and here&#39;s the manual page for <a href=\"https://linux.die.net/man/1/ksh\" rel=\"nofollow noreferrer\"><code>ksh</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":9697312,"reputation":51,"user_id":7193334,"display_name":"Difettoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599212215,"creation_date":1599212215,"answer_id":63738591,"question_id":63738277,"body_markdown":"Take a look at this Runtime.getRunTime().exec","title":"How to execute a shell script in Java","body":"<p>Take a look at this Runtime.getRunTime().exec</p>\n"},{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599213073,"creation_date":1599213073,"answer_id":63738802,"question_id":63738277,"body_markdown":"You _should_ be able to use `Runtime.exec()` or `ProcessBuilder` to invoke a shell to run a script, but the whole process is full of pitfalls. \r\n\r\nI would suggest reading this article:\r\n\r\nhttps://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\r\n\r\nwhich explains many of these pitfalls, and how to avoid them. In particular, on Linux you&#39;ll almost certainly need to consume stdout and stderr from your shell invocation -- that&#39;s sometimes true even if the script doesn&#39;t produce any output. You&#39;ll also need to be careful how you handle spaces and special characters -- if there are any -- in the arguments to your script. The parser that Java uses for the command line blindly breaks a command line at whitespace.","title":"How to execute a shell script in Java","body":"<p>You <em>should</em> be able to use <code>Runtime.exec()</code> or <code>ProcessBuilder</code> to invoke a shell to run a script, but the whole process is full of pitfalls.</p>\n<p>I would suggest reading this article:</p>\n<p><a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html</a></p>\n<p>which explains many of these pitfalls, and how to avoid them. In particular, on Linux you'll almost certainly need to consume stdout and stderr from your shell invocation -- that's sometimes true even if the script doesn't produce any output. You'll also need to be careful how you handle spaces and special characters -- if there are any -- in the arguments to your script. The parser that Java uses for the command line blindly breaks a command line at whitespace.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693475558,"creation_date":1693475558,"answer_id":77014736,"question_id":63738277,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\nThe instance of `Jaxec` class will not only execute your script, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Behind the scene, `Jaxec` uses `Runtime`.","title":"How to execute a shell script in Java","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p>The instance of <code>Jaxec</code> class will not only execute your script, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Behind the scene, <code>Jaxec</code> uses <code>Runtime</code>.</p>\n"}],"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693475558,"creation_date":1599210929,"question_id":63738277,"body_markdown":"I have to run a shell script from Java in a Linux box\r\nfor eg,\r\nBelow is the script path and all parameters needed by the script.\r\n\r\n    &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;\r\n\r\nBelow is the code,\r\n\r\n    String script = &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;;\r\n    ProcessBuilder processBuilder = new ProcessBuilder();\t\t\t\t\t\t\r\n    processBuilder.command(script);\r\n    processBuilder.redirectErrorStream(true);\r\n    //start() will be in try catch\r\n    process = processBuilder.start();\r\n    \r\n    int exitVal = process.waitFor();\r\n    \r\n    if(exitVal == 0){\r\n       //code\r\n    }\r\n\r\n\r\n**Do i need to pass the script as a List&lt;String&gt; by adding each as a separate String in the List ?**\r\n&quot;ksh&quot; , &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; , &quot;param1&quot; &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;\r\n\r\nOn my Windows machine, i am opening a Notepad as below and it works fine,\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);\r\n    processBuilder.redirectErrorStream(true);\r\n    process = processBuilder.start();\r\n\r\nWill the script get executed on the Linux box properly or any more changes are required in the code ??\r\n\r\n\r\n\r\n","title":"How to execute a shell script in Java","body":"<p>I have to run a shell script from Java in a Linux box\nfor eg,\nBelow is the script path and all parameters needed by the script.</p>\n<pre><code>&quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;\n</code></pre>\n<p>Below is the code,</p>\n<pre><code>String script = &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;;\nProcessBuilder processBuilder = new ProcessBuilder();                       \nprocessBuilder.command(script);\nprocessBuilder.redirectErrorStream(true);\n//start() will be in try catch\nprocess = processBuilder.start();\n\nint exitVal = process.waitFor();\n\nif(exitVal == 0){\n   //code\n}\n</code></pre>\n<p><strong>Do i need to pass the script as a List by adding each as a separate String in the List ?</strong>\n&quot;ksh&quot; , &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; , &quot;param1&quot; &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;</p>\n<p>On my Windows machine, i am opening a Notepad as below and it works fine,</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);\nprocessBuilder.redirectErrorStream(true);\nprocess = processBuilder.start();\n</code></pre>\n<p>Will the script get executed on the Linux box properly or any more changes are required in the code ??</p>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":534498,"reputation":856,"user_id":9493582,"display_name":"Arndt Jonasson"},"score":0,"creation_date":1522333469,"post_id":49558546,"comment_id":86124909,"body_markdown":"Add some `echo` commands to the bash script so you see how far it gets.","body":"Add some <code>echo</code> commands to the bash script so you see how far it gets."},{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522333650,"post_id":49558546,"comment_id":86125029,"body_markdown":"@ArndtJonasson I tried that before and the echos are not displayed in the terminal.","body":"@ArndtJonasson I tried that before and the echos are not displayed in the terminal."},{"owner":{"account_id":10736746,"reputation":107,"user_id":7901186,"accept_rate":0,"display_name":"V3V"},"score":0,"creation_date":1522334585,"post_id":49558546,"comment_id":86125757,"body_markdown":"I use Runtime.getRuntime().exec to create processes, maybe that will help.  Also, the echos should be captured in the input stream of the process (see https://stackoverflow.com/questions/15801069/printing-a-java-inputstream-from-a-process?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa for how to print out the results)","body":"I use Runtime.getRuntime().exec to create processes, maybe that will help.  Also, the echos should be captured in the input stream of the process (see <a href=\"https://stackoverflow.com/questions/15801069/printing-a-java-inputstream-from-a-process?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"printing a java inputstream from a process\">stackoverflow.com/questions/15801069/&hellip;</a> for how to print out the results)"}],"answers":[{"tags":[],"owner":{"account_id":13249938,"reputation":1,"user_id":9567721,"display_name":"Joonsun Baek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522334667,"creation_date":1522334667,"answer_id":49559008,"question_id":49558546,"body_markdown":"if you start a process like you wrote `Process p = pb.start();`\nit will make(we usually say fork) one more process from the java process.\n\n 1. for example, java is running as a process &#39;A&#39;\n 2. and if the process &#39;A&#39; starts another process &#39;B&#39;\n 3. then those are running at the same time.\n\n    (in your case, A is &#39;JAVA&#39; and B is &#39;Shell&#39;)\n\nso, it will be 2. and the 2 processes are running in the same time (parallely), so you will get two of those results at the same time.","title":"Run shell script from java code","body":"<p>if you start a process like you wrote <code>Process p = pb.start();</code>\nit will make(we usually say fork) one more process from the java process.</p>\n<ol>\n<li><p>for example, java is running as a process 'A'</p>\n</li>\n<li><p>and if the process 'A' starts another process 'B'</p>\n</li>\n<li><p>then those are running at the same time.</p>\n<p>(in your case, A is 'JAVA' and B is 'Shell')</p>\n</li>\n</ol>\n<p>so, it will be 2. and the 2 processes are running in the same time (parallely), so you will get two of those results at the same time.</p>\n"},{"tags":[],"owner":{"account_id":5551110,"reputation":542,"user_id":4404129,"accept_rate":100,"display_name":"Jeffin Manuel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522336628,"creation_date":1522334732,"answer_id":49559031,"question_id":49558546,"body_markdown":"Another way of doing would be to use `Runtime.getRuntime()`. Something like this\r\n\r\n      public void executeScript() throws IOException, InterruptedException {\r\n        Process p = Runtime.getRuntime().exec(&quot;sh /root/Desktop/chat/script.sh&quot;);\r\n        p.waitFor();\r\n\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n\r\n\r\n        String line = &quot;&quot;;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n\r\n        line = &quot;&quot;;\r\n        while ((line = errorReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    }","title":"Run shell script from java code","body":"<p>Another way of doing would be to use <code>Runtime.getRuntime()</code>. Something like this</p>\n\n<pre><code>  public void executeScript() throws IOException, InterruptedException {\n    Process p = Runtime.getRuntime().exec(\"sh /root/Desktop/chat/script.sh\");\n    p.waitFor();\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n\n\n    String line = \"\";\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n\n    line = \"\";\n    while ((line = errorReader.readLine()) != null) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522336318,"creation_date":1522336318,"answer_id":49559534,"question_id":49558546,"body_markdown":"With the above test you can not guaranty that whether it is running or not. Because clearly you told that your are running a infinite loop inside your second java application. Now my advise would be to put some `System.out.println` statement inside that infinite loop and use below java code to execute your shell script. Here in the `output.txt` file you can see the output from your shell script as well as java program and you will know whether application executed successfully or not. Also put some `echo` statement inside your shell script as well.\r\n\r\n     String[] command ={&quot;/root/Desktop/chat/script.sh&quot;, &quot;command line param if any&quot;};\r\n\t\tProcessBuilder pb = new ProcessBuilder(command);\r\n\r\n\t    pb.redirectOutput(new File(&quot;/tmp/output.txt&quot;));\r\n\t    String result;\r\n\t    String overall=&quot;&quot;;\r\n\t    try {\r\n\t    \tProcess p = pb.start();\r\n\t        p.waitFor();\r\n\t        BufferedReader br = new BufferedReader(\r\n\t                new InputStreamReader(p.getInputStream()));\r\n\t            while ((result = br.readLine()) != null){\r\n\t                overall = overall + &quot;\\n&quot; + result;\r\n\t            }\r\n\t            p.destroy();\r\n\t            System.out.println(result);\r\n\r\n\t    } catch (Exception e) {\r\n\t        e.printStackTrace();\r\n\t    }","title":"Run shell script from java code","body":"<p>With the above test you can not guaranty that whether it is running or not. Because clearly you told that your are running a infinite loop inside your second java application. Now my advise would be to put some <code>System.out.println</code> statement inside that infinite loop and use below java code to execute your shell script. Here in the <code>output.txt</code> file you can see the output from your shell script as well as java program and you will know whether application executed successfully or not. Also put some <code>echo</code> statement inside your shell script as well.</p>\n\n<pre><code> String[] command ={\"/root/Desktop/chat/script.sh\", \"command line param if any\"};\n    ProcessBuilder pb = new ProcessBuilder(command);\n\n    pb.redirectOutput(new File(\"/tmp/output.txt\"));\n    String result;\n    String overall=\"\";\n    try {\n        Process p = pb.start();\n        p.waitFor();\n        BufferedReader br = new BufferedReader(\n                new InputStreamReader(p.getInputStream()));\n            while ((result = br.readLine()) != null){\n                overall = overall + \"\\n\" + result;\n            }\n            p.destroy();\n            System.out.println(result);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475462,"creation_date":1693475462,"answer_id":77014720,"question_id":49558546,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;script.sh&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\n`Jaxec` class will not only execute the shell command, but will also send its output to Slf4j log, will wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.","title":"Run shell script from java code","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;script.sh&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p><code>Jaxec</code> class will not only execute the shell command, but will also send its output to Slf4j log, will wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.</p>\n"}],"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49559031,"answer_count":4,"score":1,"last_activity_date":1693475462,"creation_date":1522333313,"question_id":49558546,"body_markdown":"I have a java app that runs a bash file and inside the bash file i have a code to run another java app and it doesn&#39;t seem to work.I come from c++ where this is a very easy task but i&#39;m not really experienced in java.\r\nSo, here&#39;s my code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class start {\r\n    \r\n    public void executeScript(){\r\n    \ttry{\r\n    \t\tProcessBuilder pb = new ProcessBuilder(&quot;/root/Desktop/chat/script.sh&quot;);\r\n    \t\tProcess p = pb.start();\r\n    \t\tp.waitFor();\r\n    \t\tSystem.out.println(&quot;Script executed..&quot;);\r\n    \t}catch(Exception e){\r\n    \t\te.printStackTrace();\r\n    \t\t}\r\n    \t\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        start st = new start();\r\n        System.out.println(&quot;I&#39;m main..&quot;);\r\n    \tst.executeScript();\r\n    }\r\n    \r\n    }\r\n\r\nHere&#39;s my bash file:\r\n\r\n    #!/bin/bash\r\n    echo &quot;bash started&quot;\r\n    java Client ip_address\r\n    echo &quot;bash finished&quot;\r\n\r\nHere&#39;s the result of this code:\r\n\r\n&gt; I&#39;m main.. Script executed..\r\n\r\nI know &quot;Script executed..&quot; shouldn&#39;t print because the java file i&#39;m trying to run from the bash file is an infinite loop.\r\n\r\n**Note:** `If i run the bash file separately in the terminal i get an infinite loop which is the intended result and this is why i know that my mistake is from this file.`\r\n\r\nI hope I made myself clear and if not please ask for more information. Thank you.\r\n\r\n\r\n\r\n\r\n","title":"Run shell script from java code","body":"<p>I have a java app that runs a bash file and inside the bash file i have a code to run another java app and it doesn't seem to work.I come from c++ where this is a very easy task but i'm not really experienced in java.\nSo, here's my code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class start {\n\npublic void executeScript(){\n    try{\n        ProcessBuilder pb = new ProcessBuilder(\"/root/Desktop/chat/script.sh\");\n        Process p = pb.start();\n        p.waitFor();\n        System.out.println(\"Script executed..\");\n    }catch(Exception e){\n        e.printStackTrace();\n        }\n\n}\n\npublic static void main(String[] args) {\n    start st = new start();\n    System.out.println(\"I'm main..\");\n    st.executeScript();\n}\n\n}\n</code></pre>\n\n<p>Here's my bash file:</p>\n\n<pre><code>#!/bin/bash\necho \"bash started\"\njava Client ip_address\necho \"bash finished\"\n</code></pre>\n\n<p>Here's the result of this code:</p>\n\n<blockquote>\n  <p>I'm main.. Script executed..</p>\n</blockquote>\n\n<p>I know \"Script executed..\" shouldn't print because the java file i'm trying to run from the bash file is an infinite loop.</p>\n\n<p><strong>Note:</strong> <code>If i run the bash file separately in the terminal i get an infinite loop which is the intended result and this is why i know that my mistake is from this file.</code></p>\n\n<p>I hope I made myself clear and if not please ask for more information. Thank you.</p>\n"},{"tags":["java","unix","shell"],"comments":[{"owner":{"account_id":60721,"reputation":1919,"user_id":181293,"accept_rate":67,"display_name":"ernesto"},"score":4,"creation_date":1397818645,"post_id":525212,"comment_id":35402782,"body_markdown":"Things get interesting if that shell script is interactive.","body":"Things get interesting if that shell script is interactive."},{"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"score":0,"creation_date":1463669824,"post_id":525212,"comment_id":62173009,"body_markdown":"what is myCommand variable is that String? if yes, then it will not work,  exec method requires String[] and argument, see below my answar, it works perfectly","body":"what is myCommand variable is that String? if yes, then it will not work,  exec method requires String[] and argument, see below my answar, it works perfectly"}],"answers":[{"tags":[],"owner":{"account_id":1169,"reputation":33942,"user_id":1551,"accept_rate":95,"display_name":"Chris Ballance"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1234079813,"creation_date":1234071557,"answer_id":525218,"question_id":525212,"body_markdown":"I think you have answered your own question with\r\n\r\n    Runtime.getRuntime().exec(myShellScript);\r\n\r\nAs to whether it is good practice... what are you trying to do with a shell script that you cannot do with Java?\r\n","title":"How to run Unix shell script from Java code?","body":"<p>I think you have answered your own question with</p>\n\n<pre><code>Runtime.getRuntime().exec(myShellScript);\n</code></pre>\n\n<p>As to whether it is good practice... what are you trying to do with a shell script that you cannot do with Java?</p>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":11,"up_vote_count":33,"is_accepted":false,"score":22,"last_activity_date":1341929078,"creation_date":1234071683,"answer_id":525222,"question_id":525212,"body_markdown":"I would say that it is not *in the spirit of Java* to run a shell script from Java. Java is meant to be cross platform, and running a shell script would limit its use to just UNIX.\r\n\r\nWith that said, it&#39;s definitely possible to run a shell script from within Java. You&#39;d use exactly the same syntax you listed (I haven&#39;t tried it myself, but try executing the shell script directly, and if that doesn&#39;t work, execute the shell itself, passing the script in as a command line parameter).","title":"How to run Unix shell script from Java code?","body":"<p>I would say that it is not <em>in the spirit of Java</em> to run a shell script from Java. Java is meant to be cross platform, and running a shell script would limit its use to just UNIX.</p>\n\n<p>With that said, it's definitely possible to run a shell script from within Java. You'd use exactly the same syntax you listed (I haven't tried it myself, but try executing the shell script directly, and if that doesn't work, execute the shell itself, passing the script in as a command line parameter).</p>\n"},{"tags":[],"owner":{"account_id":15008,"reputation":27992,"user_id":31288,"accept_rate":88,"display_name":"Kekoa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234079364,"creation_date":1234079364,"answer_id":525359,"question_id":525212,"body_markdown":"It is possible, just exec it as any other program.  Just make sure your script has the proper #! (she-bang) line as the first line of the script, and make sure there are execute permissions on the file.\r\n\r\nFor example, if it is a bash script put #!/bin/bash at the top of the script, also chmod +x &lt;file&gt; .\r\n\r\nAlso as for if it&#39;s good practice, no it&#39;s not, especially for Java, but if it saves you a lot of time porting a large script over, and you&#39;re not getting paid extra to do it ;) save your time, exec the script, and put the porting to Java on your long-term todo list.","title":"How to run Unix shell script from Java code?","body":"<p>It is possible, just exec it as any other program.  Just make sure your script has the proper #! (she-bang) line as the first line of the script, and make sure there are execute permissions on the file.</p>\n\n<p>For example, if it is a bash script put #!/bin/bash at the top of the script, also chmod +x  .</p>\n\n<p>Also as for if it's good practice, no it's not, especially for Java, but if it saves you a lot of time porting a large script over, and you're not getting paid extra to do it ;) save your time, exec the script, and put the porting to Java on your long-term todo list.</p>\n"},{"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"down_vote_count":1,"up_vote_count":187,"is_accepted":false,"score":186,"last_activity_date":1348012611,"creation_date":1234124288,"answer_id":526287,"question_id":525212,"body_markdown":"You should really look at [Process Builder][1].  It is really built for this kind of thing.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;myshellScript.sh&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n     Map&lt;String, String&gt; env = pb.environment();\r\n     env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n     env.remove(&quot;OTHERVAR&quot;);\r\n     env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n     pb.directory(new File(&quot;myDir&quot;));\r\n     Process p = pb.start();\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html","title":"How to run Unix shell script from Java code?","body":"<p>You should really look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">Process Builder</a>.  It is really built for this kind of thing.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"myshellScript.sh\", \"myArg1\", \"myArg2\");\n Map&lt;String, String&gt; env = pb.environment();\n env.put(\"VAR1\", \"myValue\");\n env.remove(\"OTHERVAR\");\n env.put(\"VAR2\", env.get(\"VAR1\") + \"suffix\");\n pb.directory(new File(\"myDir\"));\n Process p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":561826,"reputation":1,"user_id":187507,"display_name":"Saul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1320860722,"creation_date":1255136374,"answer_id":1546727,"question_id":525212,"body_markdown":"Just the same thing that Solaris 5.10 it works like this `./batchstart.sh` there is a trick I don&#180;t know if your OS accept it use `\\\\. batchstart.sh` instead. This double slash may help.","title":"How to run Unix shell script from Java code?","body":"<p>Just the same thing that Solaris 5.10 it works like this <code>./batchstart.sh</code> there is a trick I dont know if your OS accept it use <code>\\\\. batchstart.sh</code> instead. This double slash may help.</p>\n"},{"tags":[],"owner":{"account_id":1438842,"reputation":433,"user_id":1359592,"display_name":"Vladimir Bosyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392375877,"creation_date":1341913643,"answer_id":11410652,"question_id":525212,"body_markdown":"As for me all things must be simple. \r\nFor running script just need to execute\r\n\r\n    new ProcessBuilder(&quot;pathToYourShellScript&quot;).start();\r\n\r\n","title":"How to run Unix shell script from Java code?","body":"<p>As for me all things must be simple. \nFor running script just need to execute</p>\n\n<pre><code>new ProcessBuilder(\"pathToYourShellScript\").start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920030,"reputation":23840,"user_id":1731796,"accept_rate":52,"display_name":"Desta Haileselassie Hagos"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1362407157,"creation_date":1362407157,"answer_id":15203793,"question_id":525212,"body_markdown":"Yes it is possible to do so. This worked out for me.\r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import org.omg.CORBA.portable.InputStream;\r\n    \r\n    public static void readBashScript() {\r\n    \t\ttry {\r\n    \t\t\tProcess proc = Runtime.getRuntime().exec(&quot;/home/destino/workspace/JavaProject/listing.sh /&quot;); //Whatever you want to execute\r\n    \t\t\tBufferedReader read = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\tproc.getInputStream()));\r\n    \t\t\ttry {\r\n    \t\t\t\tproc.waitFor();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t}\r\n    \t\t\twhile (read.ready()) {\r\n    \t\t\t\tSystem.out.println(read.readLine());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}","title":"How to run Unix shell script from Java code?","body":"<p>Yes it is possible to do so. This worked out for me.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nimport org.omg.CORBA.portable.InputStream;\n\npublic static void readBashScript() {\n        try {\n            Process proc = Runtime.getRuntime().exec(\"/home/destino/workspace/JavaProject/listing.sh /\"); //Whatever you want to execute\n            BufferedReader read = new BufferedReader(new InputStreamReader(\n                    proc.getInputStream()));\n            try {\n                proc.waitFor();\n            } catch (InterruptedException e) {\n                System.out.println(e.getMessage());\n            }\n            while (read.ready()) {\n                System.out.println(read.readLine());\n            }\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":958802,"reputation":357,"user_id":983592,"display_name":"DayaMoon"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1370857173,"creation_date":1370857173,"answer_id":17020905,"question_id":525212,"body_markdown":"I think with\r\n\r\n    System.getProperty(&quot;os.name&quot;); \r\n\r\nChecking the operating system on can manage the shell/bash scrips  if such are supported.\r\nif there is need to make the code portable.","title":"How to run Unix shell script from Java code?","body":"<p>I think with</p>\n\n<pre><code>System.getProperty(\"os.name\"); \n</code></pre>\n\n<p>Checking the operating system on can manage the shell/bash scrips  if such are supported.\nif there is need to make the code portable.</p>\n"},{"tags":[],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1453445193,"creation_date":1392437725,"answer_id":21793314,"question_id":525212,"body_markdown":"You can use [Apache Commons exec library][2] also.\r\n\r\nExample :\r\n\r\n    package testShellScript;\r\n    \r\n    import java.io.IOException;\r\n    import org.apache.commons.exec.CommandLine;\r\n    import org.apache.commons.exec.DefaultExecutor;\r\n    import org.apache.commons.exec.ExecuteException;\r\n    \r\n    public class TestScript {\r\n    \tint iExitValue;\r\n    \tString sCommandString;\r\n    \t\r\n    \tpublic void runScript(String command){\r\n    \t\tsCommandString = command;\r\n    \t\tCommandLine oCmdLine = CommandLine.parse(sCommandString);\r\n    \t\tDefaultExecutor oDefaultExecutor = new DefaultExecutor();\r\n    \t\toDefaultExecutor.setExitValue(0);\r\n    \t\ttry {\r\n    \t\t\tiExitValue = oDefaultExecutor.execute(oCmdLine);\r\n    \t\t} catch (ExecuteException e) {\r\n    \t\t\tSystem.err.println(&quot;Execution failed.&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;permission denied.&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tTestScript testScript = new TestScript();\r\n    \t\ttestScript.runScript(&quot;sh /root/Desktop/testScript.sh&quot;);\r\n    \t}\r\n    }\r\n\r\nFor further reference, An example is given on [Apache Doc][3] also.\r\n\r\n  [2]: https://commons.apache.org/proper/commons-exec/\r\n  [3]: https://commons.apache.org/proper/commons-exec/commandline.html","title":"How to run Unix shell script from Java code?","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-exec/\">Apache Commons exec library</a> also.</p>\n\n<p>Example :</p>\n\n<pre><code>package testShellScript;\n\nimport java.io.IOException;\nimport org.apache.commons.exec.CommandLine;\nimport org.apache.commons.exec.DefaultExecutor;\nimport org.apache.commons.exec.ExecuteException;\n\npublic class TestScript {\n    int iExitValue;\n    String sCommandString;\n\n    public void runScript(String command){\n        sCommandString = command;\n        CommandLine oCmdLine = CommandLine.parse(sCommandString);\n        DefaultExecutor oDefaultExecutor = new DefaultExecutor();\n        oDefaultExecutor.setExitValue(0);\n        try {\n            iExitValue = oDefaultExecutor.execute(oCmdLine);\n        } catch (ExecuteException e) {\n            System.err.println(\"Execution failed.\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.err.println(\"permission denied.\");\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String args[]){\n        TestScript testScript = new TestScript();\n        testScript.runScript(\"sh /root/Desktop/testScript.sh\");\n    }\n}\n</code></pre>\n\n<p>For further reference, An example is given on <a href=\"https://commons.apache.org/proper/commons-exec/commandline.html\">Apache Doc</a> also.</p>\n"},{"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463669856,"creation_date":1463669856,"answer_id":37327025,"question_id":525212,"body_markdown":"\t  String scriptName = PATH+&quot;/myScript.sh&quot;;\r\n\t  String commands[] = new String[]{scriptName,&quot;myArg1&quot;, &quot;myArg2&quot;};\r\n\t  \r\n\t  Runtime rt = Runtime.getRuntime();\r\n\t  Process process = null;\r\n\t  try{\r\n\t\t  process = rt.exec(commands);\r\n\t\t  process.waitFor();\r\n\t  }catch(Exception e){\r\n\t\t  e.printStackTrace();\r\n\t  }\t ","title":"How to run Unix shell script from Java code?","body":"<pre><code>  String scriptName = PATH+\"/myScript.sh\";\n  String commands[] = new String[]{scriptName,\"myArg1\", \"myArg2\"};\n\n  Runtime rt = Runtime.getRuntime();\n  Process process = null;\n  try{\n      process = rt.exec(commands);\n      process.waitFor();\n  }catch(Exception e){\n      e.printStackTrace();\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8582064,"reputation":101,"user_id":6429357,"display_name":"Lionel Yan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1577973645,"creation_date":1469599747,"answer_id":38604984,"question_id":525212,"body_markdown":"Here is my example. Hope it make sense.\r\n\r\n    public static void excuteCommand(String filePath) throws IOException{\r\n        File file = new File(filePath);\r\n        if(!file.isFile()){\r\n            throw new IllegalArgumentException(&quot;The file &quot; + filePath + &quot; does not exist&quot;);\r\n        }\r\n        if(isLinux()){\r\n            Runtime.getRuntime().exec(new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, filePath}, null);\r\n        }else if(isWindows()){\r\n            Runtime.getRuntime().exec(&quot;cmd /c start &quot; + filePath);\r\n        }\r\n    }\r\n    public static boolean isLinux(){\r\n        String os = System.getProperty(&quot;os.name&quot;);  \r\n        return os.toLowerCase().indexOf(&quot;linux&quot;) &gt;= 0;\r\n    }\r\n\r\n    public static boolean isWindows(){\r\n        String os = System.getProperty(&quot;os.name&quot;);\r\n        return os.toLowerCase().indexOf(&quot;windows&quot;) &gt;= 0;\r\n    }\r\n","title":"How to run Unix shell script from Java code?","body":"<p>Here is my example. Hope it make sense.</p>\n\n<pre><code>public static void excuteCommand(String filePath) throws IOException{\n    File file = new File(filePath);\n    if(!file.isFile()){\n        throw new IllegalArgumentException(\"The file \" + filePath + \" does not exist\");\n    }\n    if(isLinux()){\n        Runtime.getRuntime().exec(new String[] {\"/bin/sh\", \"-c\", filePath}, null);\n    }else if(isWindows()){\n        Runtime.getRuntime().exec(\"cmd /c start \" + filePath);\n    }\n}\npublic static boolean isLinux(){\n    String os = System.getProperty(\"os.name\");  \n    return os.toLowerCase().indexOf(\"linux\") &gt;= 0;\n}\n\npublic static boolean isWindows(){\n    String os = System.getProperty(\"os.name\");\n    return os.toLowerCase().indexOf(\"windows\") &gt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495188964,"creation_date":1469889267,"answer_id":38675063,"question_id":525212,"body_markdown":"The [ZT Process Executor][page] library is an alternative to Apache Commons Exec. It has functionality to run commands, capturing their output, setting timeouts, etc.\r\n\r\nI have not used it yet, but it looks reasonably well-documented.\r\n\r\nAn example from the documentation: Executing a command, pumping the stderr to a logger, returning the output as UTF8 string.\r\n\r\n     String output = new ProcessExecutor().command(&quot;java&quot;, &quot;-version&quot;)\r\n        .redirectError(Slf4jStream.of(getClass()).asInfo())\r\n        .readOutput(true).execute()\r\n        .outputUTF8();\r\n\r\nIts documentation lists the following advantages over Commons Exec:\r\n\r\n* Improved handling of streams\r\n * Reading/writing to streams\r\n * Redirecting stderr to stdout\r\n* Improved handling of timeouts\r\n* Improved checking of exit codes\r\n* Improved API\r\n * One liners for quite complex use cases\r\n * One liners to get process output into a String\r\n * Access to the **Process** object available\r\n * Support for async processes ( **Future** ) \r\n* Improved logging with [SLF4J API](http://www.slf4j.org/)\r\n* Support for multiple processes\r\n\r\n\r\n[page]: https://github.com/zeroturnaround/zt-exec","title":"How to run Unix shell script from Java code?","body":"<p>The <a href=\"https://github.com/zeroturnaround/zt-exec\" rel=\"nofollow noreferrer\">ZT Process Executor</a> library is an alternative to Apache Commons Exec. It has functionality to run commands, capturing their output, setting timeouts, etc.</p>\n\n<p>I have not used it yet, but it looks reasonably well-documented.</p>\n\n<p>An example from the documentation: Executing a command, pumping the stderr to a logger, returning the output as UTF8 string.</p>\n\n<pre><code> String output = new ProcessExecutor().command(\"java\", \"-version\")\n    .redirectError(Slf4jStream.of(getClass()).asInfo())\n    .readOutput(true).execute()\n    .outputUTF8();\n</code></pre>\n\n<p>Its documentation lists the following advantages over Commons Exec:</p>\n\n<ul>\n<li>Improved handling of streams\n\n<ul>\n<li>Reading/writing to streams</li>\n<li>Redirecting stderr to stdout</li>\n</ul></li>\n<li>Improved handling of timeouts</li>\n<li>Improved checking of exit codes</li>\n<li>Improved API\n\n<ul>\n<li>One liners for quite complex use cases</li>\n<li>One liners to get process output into a String</li>\n<li>Access to the <strong>Process</strong> object available</li>\n<li>Support for async processes ( <strong>Future</strong> ) </li>\n</ul></li>\n<li>Improved logging with <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J API</a></li>\n<li>Support for multiple processes</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5701912,"reputation":59,"user_id":4506621,"display_name":"YANKEE"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582302224,"creation_date":1476462314,"answer_id":40047871,"question_id":525212,"body_markdown":"Yes, it is possible and you have answered it! About good practises, I think it is better to launch commands from files and not directly from your code. So you have to make Java execute the list of commands (or one command) in an existing `.bat`, `.sh` , `.ksh` ... files. \r\nHere is an example of executing a list of commands in a file `MyFile.sh`:\r\n\r\n        String[] cmd = { &quot;sh&quot;, &quot;MyFile.sh&quot;, &quot;\\pathOfTheFile&quot;};\r\n\t\tRuntime.getRuntime().exec(cmd);\r\n","title":"How to run Unix shell script from Java code?","body":"<p>Yes, it is possible and you have answered it! About good practises, I think it is better to launch commands from files and not directly from your code. So you have to make Java execute the list of commands (or one command) in an existing <code>.bat</code>, <code>.sh</code> , <code>.ksh</code> ... files. \nHere is an example of executing a list of commands in a file <code>MyFile.sh</code>:</p>\n\n<pre><code>    String[] cmd = { \"sh\", \"MyFile.sh\", \"\\pathOfTheFile\"};\n    Runtime.getRuntime().exec(cmd);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479510962,"creation_date":1479510962,"answer_id":40687370,"question_id":525212,"body_markdown":"To avoid having to hardcode an absolute path, you can use the following method that will find and execute your script if it is in your root directory.\r\n\r\n    public static void runScript() throws IOException, InterruptedException {\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;./nameOfScript.sh&quot;);\r\n        //Sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\r\n        processBuilder.inheritIO();\r\n        Process process = processBuilder.start();\r\n    \r\n        int exitValue = process.waitFor();\r\n        if (exitValue != 0) {\r\n            // check for errors\r\n            new BufferedInputStream(process.getErrorStream());\r\n            throw new RuntimeException(&quot;execution of script failed!&quot;);\r\n        }\r\n    }","title":"How to run Unix shell script from Java code?","body":"<p>To avoid having to hardcode an absolute path, you can use the following method that will find and execute your script if it is in your root directory.</p>\n\n<pre><code>public static void runScript() throws IOException, InterruptedException {\n    ProcessBuilder processBuilder = new ProcessBuilder(\"./nameOfScript.sh\");\n    //Sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\n    processBuilder.inheritIO();\n    Process process = processBuilder.start();\n\n    int exitValue = process.waitFor();\n    if (exitValue != 0) {\n        // check for errors\n        new BufferedInputStream(process.getErrorStream());\n        throw new RuntimeException(\"execution of script failed!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528114180,"creation_date":1528114180,"answer_id":50680287,"question_id":525212,"body_markdown":"This is a late answer. However, I thought of putting the struggle I had to bear to get a shell script to be executed from a Spring-Boot application for future developers. \r\n\r\n 1. I was working in Spring-Boot and I was not able to find the file to be executed from my Java application and it was throwing `FileNotFoundFoundException`. I had to keep the file in the `resources` directory and had to set the file to be scanned in `pom.xml` while the application was being started like the following. \r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                    &lt;include&gt;**/*.sh&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n 2. After that I was having trouble executing the file and it was returning `error code = 13, Permission Denied`. Then I had to make the file executable by running this command - `chmod u+x myShellScript.sh` \r\n\r\nFinally, I could execute the file using the following code snippet. \r\n\r\n    public void runScript() {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;src/main/resources/myFile.sh&quot;);\r\n        try {\r\n            Process p;\r\n            p = pb.start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nHope that solves someone&#39;s problem. ","title":"How to run Unix shell script from Java code?","body":"<p>This is a late answer. However, I thought of putting the struggle I had to bear to get a shell script to be executed from a Spring-Boot application for future developers. </p>\n\n<ol>\n<li><p>I was working in Spring-Boot and I was not able to find the file to be executed from my Java application and it was throwing <code>FileNotFoundFoundException</code>. I had to keep the file in the <code>resources</code> directory and had to set the file to be scanned in <code>pom.xml</code> while the application was being started like the following. </p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.sh&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre></li>\n<li>After that I was having trouble executing the file and it was returning <code>error code = 13, Permission Denied</code>. Then I had to make the file executable by running this command - <code>chmod u+x myShellScript.sh</code> </li>\n</ol>\n\n<p>Finally, I could execute the file using the following code snippet. </p>\n\n<pre><code>public void runScript() {\n    ProcessBuilder pb = new ProcessBuilder(\"src/main/resources/myFile.sh\");\n    try {\n        Process p;\n        p = pb.start();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Hope that solves someone's problem. </p>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540455846,"creation_date":1540455846,"answer_id":52984637,"question_id":525212,"body_markdown":"Here is an example how to run an Unix bash or Windows bat/cmd script from Java. Arguments can be passed on the script and output received from the script. The method accepts arbitrary number of arguments.\r\n\r\n    public static void runScript(String path, String... args) {\r\n        try {\r\n            String[] cmd = new String[args.length + 1];\r\n            cmd[0] = path;\r\n            int count = 0;\r\n            for (String s : args) {\r\n                cmd[++count] = args[count - 1];\r\n            }\r\n            Process process = Runtime.getRuntime().exec(cmd);\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            try {\r\n                process.waitFor();\r\n            } catch (Exception ex) {\r\n                System.out.println(ex.getMessage());\r\n            }\r\n            while (bufferedReader.ready()) {\r\n                System.out.println(&quot;Received from script: &quot; + bufferedReader.readLine());\r\n            }\r\n        } catch (Exception ex) {\r\n            System.out.println(ex.getMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\nWhen running on Unix/Linux, the path must be Unix-like (with &#39;/&#39; as separator), when running on Windows - use &#39;\\&#39;. Hier is an example of a bash script (test.sh) that receives arbitrary number of arguments and doubles every argument:\r\n\r\n    #!/bin/bash\r\n    counter=0\r\n    while [ $# -gt 0 ]\r\n    do\r\n      echo argument $((counter +=1)): $1\r\n      echo doubling argument $((counter)): $(($1+$1))\r\n      shift\r\n    done\r\n\r\nWhen calling \r\n\r\n    runScript(&quot;path_to_script/test.sh&quot;, &quot;1&quot;, &quot;2&quot;)\r\n\r\n\r\non Unix/Linux, the output is:\r\n\r\n    Received from script: argument 1: 1\r\n    Received from script: doubling argument 1: 2\r\n    Received from script: argument 2: 2\r\n    Received from script: doubling argument 2: 4\r\n\r\nHier is a simple cmd Windows script test.cmd that counts number of input arguments:\r\n\r\n    @echo off\r\n    set a=0\r\n    for %%x in (%*) do Set /A a+=1 \r\n    echo %a% arguments received\r\n\r\nWhen calling the script on Windows\r\n\r\n      runScript(&quot;path_to_script\\\\test.cmd&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;)\r\n\r\nThe output is\r\n\r\n    Received from script: 3 arguments received","title":"How to run Unix shell script from Java code?","body":"<p>Here is an example how to run an Unix bash or Windows bat/cmd script from Java. Arguments can be passed on the script and output received from the script. The method accepts arbitrary number of arguments.</p>\n\n<pre><code>public static void runScript(String path, String... args) {\n    try {\n        String[] cmd = new String[args.length + 1];\n        cmd[0] = path;\n        int count = 0;\n        for (String s : args) {\n            cmd[++count] = args[count - 1];\n        }\n        Process process = Runtime.getRuntime().exec(cmd);\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        try {\n            process.waitFor();\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n        while (bufferedReader.ready()) {\n            System.out.println(\"Received from script: \" + bufferedReader.readLine());\n        }\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n        System.exit(1);\n    }\n}\n</code></pre>\n\n<p>When running on Unix/Linux, the path must be Unix-like (with '/' as separator), when running on Windows - use '\\'. Hier is an example of a bash script (test.sh) that receives arbitrary number of arguments and doubles every argument:</p>\n\n<pre><code>#!/bin/bash\ncounter=0\nwhile [ $# -gt 0 ]\ndo\n  echo argument $((counter +=1)): $1\n  echo doubling argument $((counter)): $(($1+$1))\n  shift\ndone\n</code></pre>\n\n<p>When calling </p>\n\n<pre><code>runScript(\"path_to_script/test.sh\", \"1\", \"2\")\n</code></pre>\n\n<p>on Unix/Linux, the output is:</p>\n\n<pre><code>Received from script: argument 1: 1\nReceived from script: doubling argument 1: 2\nReceived from script: argument 2: 2\nReceived from script: doubling argument 2: 4\n</code></pre>\n\n<p>Hier is a simple cmd Windows script test.cmd that counts number of input arguments:</p>\n\n<pre><code>@echo off\nset a=0\nfor %%x in (%*) do Set /A a+=1 \necho %a% arguments received\n</code></pre>\n\n<p>When calling the script on Windows</p>\n\n<pre><code>  runScript(\"path_to_script\\\\test.cmd\", \"1\", \"2\", \"3\")\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>Received from script: 3 arguments received\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553846787,"creation_date":1553846787,"answer_id":55412953,"question_id":525212,"body_markdown":"for linux use\r\n\r\n    public static void runShell(String directory, String command, String[] args, Map&lt;String, String&gt; environment)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif(directory.trim().equals(&quot;&quot;))\r\n\t\t\t\tdirectory = &quot;/&quot;;\r\n\r\n\t\t\tString[] cmd = new String[args.length + 1];\r\n\t\t\tcmd[0] = command;\r\n\r\n\t\t\tint count = 1;\r\n\r\n\t\t\tfor(String s : args)\r\n\t\t\t{\r\n\t\t\t\tcmd[count] = s;\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tProcessBuilder pb = new ProcessBuilder(cmd);\r\n\r\n\t\t\tMap&lt;String, String&gt; env = pb.environment();\r\n\r\n\t\t\tfor(String s : environment.keySet())\r\n\t\t\t\tenv.put(s, environment.get(s));\r\n\r\n\t\t\tpb.directory(new File(directory));\r\n\r\n\t\t\tProcess process = pb.start();\r\n\r\n\t\t\tBufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tBufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\t\t\tBufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n\t\t\tint exitValue = process.waitFor();\r\n\r\n\t\t\tif(exitValue != 0) // has errors\r\n\t\t\t{\r\n\t\t\t\twhile(errReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;ErrShell: &quot; + errReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twhile(inputReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;Shell Result : &quot; + inputReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tLogClass.log(&quot;Err: RunShell, &quot; + e.toString(), LogClass.LogMode.LogAll);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void runShell(String path, String command, String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString[] cmd = new String[args.length + 1];\r\n\r\n\t\t\tif(!path.trim().isEmpty())\r\n\t\t\t\tcmd[0] = path + &quot;/&quot; + command;\r\n\t\t\telse\r\n\t\t\t\tcmd[0] = command;\r\n\r\n\t\t\tint count = 1;\r\n\r\n\t\t\tfor(String s : args)\r\n\t\t\t{\r\n\t\t\t\tcmd[count] = s;\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tProcess process = Runtime.getRuntime().exec(cmd);\r\n\r\n\t\t\tBufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tBufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\t\t\tBufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n\t\t\tint exitValue = process.waitFor();\r\n\r\n\t\t\tif(exitValue != 0) // has errors\r\n\t\t\t{\r\n\t\t\t\twhile(errReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;ErrShell: &quot; + errReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twhile(inputReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;Shell Result: &quot; + inputReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tLogClass.log(&quot;Err: RunShell, &quot; + e.toString(), LogClass.LogMode.LogAll);\r\n\t\t}\r\n\t}\r\n\r\nand for usage;\r\n\r\n    ShellAssistance.runShell(&quot;&quot;, &quot;pg_dump&quot;, new String[]{&quot;-U&quot;, &quot;aliAdmin&quot;, &quot;-f&quot;, &quot;/home/Backup.sql&quot;, &quot;StoresAssistanceDB&quot;});\r\n\r\nOR\r\n\r\n    ShellAssistance.runShell(&quot;&quot;, &quot;pg_dump&quot;, new String[]{&quot;-U&quot;, &quot;aliAdmin&quot;, &quot;-f&quot;, &quot;/home/Backup.sql&quot;, &quot;StoresAssistanceDB&quot;}, new Hashmap&lt;&gt;());","title":"How to run Unix shell script from Java code?","body":"<p>for linux use</p>\n\n<pre><code>public static void runShell(String directory, String command, String[] args, Map&lt;String, String&gt; environment)\n{\n    try\n    {\n        if(directory.trim().equals(\"\"))\n            directory = \"/\";\n\n        String[] cmd = new String[args.length + 1];\n        cmd[0] = command;\n\n        int count = 1;\n\n        for(String s : args)\n        {\n            cmd[count] = s;\n            count++;\n        }\n\n        ProcessBuilder pb = new ProcessBuilder(cmd);\n\n        Map&lt;String, String&gt; env = pb.environment();\n\n        for(String s : environment.keySet())\n            env.put(s, environment.get(s));\n\n        pb.directory(new File(directory));\n\n        Process process = pb.start();\n\n        BufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        BufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n        BufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n        int exitValue = process.waitFor();\n\n        if(exitValue != 0) // has errors\n        {\n            while(errReader.ready())\n            {\n                LogClass.log(\"ErrShell: \" + errReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n        else\n        {\n            while(inputReader.ready())\n            {\n                LogClass.log(\"Shell Result : \" + inputReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n    }\n    catch(Exception e)\n    {\n        LogClass.log(\"Err: RunShell, \" + e.toString(), LogClass.LogMode.LogAll);\n    }\n}\n\npublic static void runShell(String path, String command, String[] args)\n{\n    try\n    {\n        String[] cmd = new String[args.length + 1];\n\n        if(!path.trim().isEmpty())\n            cmd[0] = path + \"/\" + command;\n        else\n            cmd[0] = command;\n\n        int count = 1;\n\n        for(String s : args)\n        {\n            cmd[count] = s;\n            count++;\n        }\n\n        Process process = Runtime.getRuntime().exec(cmd);\n\n        BufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        BufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n        BufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n        int exitValue = process.waitFor();\n\n        if(exitValue != 0) // has errors\n        {\n            while(errReader.ready())\n            {\n                LogClass.log(\"ErrShell: \" + errReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n        else\n        {\n            while(inputReader.ready())\n            {\n                LogClass.log(\"Shell Result: \" + inputReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n    }\n    catch(Exception e)\n    {\n        LogClass.log(\"Err: RunShell, \" + e.toString(), LogClass.LogMode.LogAll);\n    }\n}\n</code></pre>\n\n<p>and for usage;</p>\n\n<pre><code>ShellAssistance.runShell(\"\", \"pg_dump\", new String[]{\"-U\", \"aliAdmin\", \"-f\", \"/home/Backup.sql\", \"StoresAssistanceDB\"});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>ShellAssistance.runShell(\"\", \"pg_dump\", new String[]{\"-U\", \"aliAdmin\", \"-f\", \"/home/Backup.sql\", \"StoresAssistanceDB\"}, new Hashmap&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475389,"creation_date":1693475389,"answer_id":77014709,"question_id":525212,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;ls&quot;, &quot;-al&quot;, &quot;/tmp&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\nIt will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.","title":"How to run Unix shell script from Java code?","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;ls&quot;, &quot;-al&quot;, &quot;/tmp&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p>It will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.</p>\n"}],"owner":{"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480197,"favorite_count":0,"down_vote_count":0,"up_vote_count":179,"answer_count":18,"score":179,"last_activity_date":1693475389,"creation_date":1234071145,"question_id":525212,"body_markdown":"It is quite simple to run a Unix command from Java. \r\n\r\n    Runtime.getRuntime().exec(myCommand);\r\n\r\nBut is it possible to run a Unix shell script from Java code? If yes, would it be a good practice to run a shell script from within Java code?","title":"How to run Unix shell script from Java code?","body":"<p>It is quite simple to run a Unix command from Java. </p>\n\n<pre><code>Runtime.getRuntime().exec(myCommand);\n</code></pre>\n\n<p>But is it possible to run a Unix shell script from Java code? If yes, would it be a good practice to run a shell script from within Java code?</p>\n"},{"tags":["java","html","css","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650746902,"creation_date":1650746902,"answer_id":71983494,"question_id":71670809,"body_markdown":"pdfHTML 4.0.2 allows you to make a PDF from an HTML file and add headers and footers easily in a completely declarative style (so only using HTML+CSS combination without necessity to write a lot of boilerplate code).\r\n\r\nAnd you can even add page numbers to your output PDF, all with pure CSS instructions that are processed by pdfHTML.\r\n\r\nHere is an example of an HTML file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;style&gt;\r\n      #header {\r\n        position: running(header);\r\n      }\r\n\r\n      #footer {\r\n        position: running(footer);\r\n      }\r\n\r\n      @page {\r\n        margin-top: 100px;\r\n        margin-bottom: 100px;\r\n\r\n        @top-center {\r\n          content: element(header);\r\n        }\r\n\r\n        @bottom-center {\r\n          content: element(footer);\r\n        }\r\n      }\r\n\r\n      #current-page-placeholder::before {\r\n        content: counter(page);\r\n      }\r\n\r\n\r\n      #total-pages-placeholder::before {\r\n        content: counter(pages);\r\n      }\r\n    &lt;/style&gt;\r\n\r\n    &lt;div id=&quot;header&quot;&gt;&lt;p style=&quot;color: green&quot;&gt;This is a header&lt;/p&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;footer&quot;&gt;&lt;p style=&quot;color: red&quot;&gt;This is a footer. Page &lt;span id=&quot;current-page-placeholder&quot;&gt;&lt;/span&gt;/&lt;span id=&quot;total-pages-placeholder&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;\r\n\r\n    &lt;h2&gt;An ordered HTML list&lt;/h2&gt;\r\n\r\n    &lt;ol&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;1&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;A&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;a&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;I&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;i&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nVisual output result:\r\n\r\n\r\n[![result][1]][1]\r\n\r\nAnd that is achieved by a single line call:\r\n\r\n    HtmlConverter.convertToPdf(new File(&quot;in.html&quot;), new File(&quot;out.pdf&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UdJeI.png","title":"How do I repeat headers and footers fixed to top and bottom of document with CSS in iText 7 using pdfHTML converter?","body":"<p>pdfHTML 4.0.2 allows you to make a PDF from an HTML file and add headers and footers easily in a completely declarative style (so only using HTML+CSS combination without necessity to write a lot of boilerplate code).</p>\n<p>And you can even add page numbers to your output PDF, all with pure CSS instructions that are processed by pdfHTML.</p>\n<p>Here is an example of an HTML file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;style&gt;\n  #header {\n    position: running(header);\n  }\n\n  #footer {\n    position: running(footer);\n  }\n\n  @page {\n    margin-top: 100px;\n    margin-bottom: 100px;\n\n    @top-center {\n      content: element(header);\n    }\n\n    @bottom-center {\n      content: element(footer);\n    }\n  }\n\n  #current-page-placeholder::before {\n    content: counter(page);\n  }\n\n\n  #total-pages-placeholder::before {\n    content: counter(pages);\n  }\n&lt;/style&gt;\n\n&lt;div id=\"header\"&gt;&lt;p style=\"color: green\"&gt;This is a header&lt;/p&gt;&lt;/div&gt;\n&lt;div id=\"footer\"&gt;&lt;p style=\"color: red\"&gt;This is a footer. Page &lt;span id=\"current-page-placeholder\"&gt;&lt;/span&gt;/&lt;span id=\"total-pages-placeholder\"&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;\n\n&lt;h2&gt;An ordered HTML list&lt;/h2&gt;\n\n&lt;ol&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"1\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"A\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"a\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"I\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"i\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Visual output result:</p>\n<p><a href=\"https://i.stack.imgur.com/UdJeI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdJeI.png\" alt=\"result\" /></a></p>\n<p>And that is achieved by a single line call:</p>\n<pre><code>HtmlConverter.convertToPdf(new File(&quot;in.html&quot;), new File(&quot;out.pdf&quot;));\n</code></pre>\n"}],"owner":{"account_id":242410,"reputation":634,"user_id":513905,"accept_rate":62,"display_name":"Sean Anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71983494,"answer_count":1,"score":0,"last_activity_date":1693475388,"creation_date":1648607144,"question_id":71670809,"body_markdown":"When I use the following HTML+CSS to produce a table with header and footer it repeats the header and footer on each page when printing and when converting to PDF via iText 7 pdfHTML library. The document looks/behaves the same in both browser printing and in output as a PDF from iText. I&#39;m trying to get the header and footer to be fixed to the top and bottom of each page regadless of the number of rows in the table. \r\n\r\nJava/iText convert html document to pdf...\r\n\r\n    var mediaDeviceDescription = new MediaDeviceDescription(MediaType.PRINT);\r\n    var props = new ConverterProperties();\r\n    props.setMediaDeviceDescription(mediaDeviceDescription);\r\n    HtmlConverter.convertToPdf(html, new FileOutputStream(pdfTempFile.toFile()), props);  \r\n\r\nThe html...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;Invoice&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n        &lt;style&gt;\r\n            * {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n\r\n            @page {\r\n                margin: 0;\r\n            }\r\n\r\n            .label-font {\r\n                font-size: 18px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                font-style: normal;\r\n                text-transform: none;\r\n            }\r\n\r\n            .companySection {\r\n                margin-top: 10px;\r\n                width: 100%;\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n\r\n            .logoBusinessDetails {\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .headerBusinessFont {\r\n                font-size: 32px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                text-decoration: overline solid rgb(68, 68, 68);\r\n                font-style: normal;\r\n                font-variant: small-caps;\r\n                text-transform: none;\r\n            }\r\n\r\n            table.invoiceItems {\r\n                margin-top: 10px;\r\n                border: 2px solid #000000;\r\n                width: 100%;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.invoiceItems td,\r\n            table.invoiceItems th {\r\n                border: 1px solid #000000;\r\n                padding: 6px 5px;\r\n            }\r\n\r\n            table.invoiceItems tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.invoiceItems tr:nth-child(even) {\r\n                /*background: #667FFF;*/\r\n            }\r\n\r\n            table.invoiceItems thead {\r\n                background: #667FFF;\r\n                background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                border-bottom: 3px solid #000000;\r\n            }\r\n\r\n            table.invoiceItems thead th {\r\n                font-size: 15px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                text-align: left;\r\n            }\r\n\r\n            invoiceItems.table.invoiceItems tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            .customerSection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .billTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .shipTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .documentDetails {\r\n                /*border-left: 15px solid #667FFF;*/\r\n                flex-grow: 1;\r\n            }\r\n\r\n\r\n\r\n            .message {\r\n                flex-basis: 65%\r\n            }\r\n\r\n            .totals {\r\n                flex-basis: 35%;\r\n            }\r\n\r\n            .totalColumns {\r\n                width: 100%;\r\n                display: flex;\r\n            }\r\n\r\n            .totalLabels {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            .totalAmounts {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            /* Total labels column*/\r\n            table.totalLabels {\r\n                border-width: 0px 1px 0px 2px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalLabels td,\r\n            table.totalLabels th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalLabels tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalLabels tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalLabels tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            /* Amounts Column*/\r\n            table.totalAmounts {\r\n                border-width: 0px 2px 0px 1px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalAmounts td,\r\n            table.totalAmounts th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalAmounts tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalAmounts tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalAmounts tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            table.documentInfo {\r\n                width: 100%;\r\n                text-align: right;\r\n            }\r\n\r\n            table.documentInfo td,\r\n            table.documentInfo th {}\r\n\r\n            .footer {\r\n                border: 2px #000000;\r\n            }\r\n\r\n            tbody.invoiceItems tr td {\r\n                border: 1px solid #000000;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n                width: 100%;\r\n\r\n            }\r\n\r\n            table {\r\n                border-spacing: 0px;\r\n                width: 100%;\r\n            }\r\n\r\n          \r\n    @media print, screen{\r\n            .headerSection {\r\n                width: 100%;\r\n   \r\n            }\r\n\r\n            .summarySection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n \r\n            }\r\n    }\r\n        &lt;/style&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n\r\n        &lt;div&gt;\r\n\r\n\r\n            &lt;table&gt;\r\n\r\n                &lt;thead&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;!--&lt;div class=&quot;header-space&quot;&gt;&lt;/div&gt;--&gt;\r\n                            \r\n                            &lt;div class=&quot;headerSection&quot;&gt;\r\n            &lt;div class=&quot;companySection&quot;&gt;\r\n\r\n                &lt;div class=&quot;headerBusinessLogo headerBusinessFont  logoBusinessDetails&quot;&gt;\r\n                    Acme Paper Co LLC\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;div class=&quot;customerSection&quot;&gt;\r\n                &lt;div class=&quot;billTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;shipTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;documentDetails&quot;&gt;\r\n                    &lt;table class=&quot;documentInfo&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Number&lt;/td&gt;\r\n                                &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Date: &lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Due Date&lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax Id&lt;/td&gt;\r\n                                &lt;td&gt;D288658797&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Quantity&lt;/th&gt;\r\n                        &lt;th&gt;Code&lt;/th&gt;\r\n                        &lt;th&gt;Description&lt;/th&gt;\r\n                        &lt;th&gt;Unit Price&lt;/th&gt;\r\n                        &lt;th&gt;Tax1&lt;/th&gt;\r\n                        &lt;th&gt;Tax2&lt;/th&gt;\r\n                        &lt;th&gt;Line Total&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n\r\n                &lt;tbody class=&quot;invoiceItems&quot;&gt;\r\n                    &lt;!-- &lt;#list items as item&gt; --&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td style=&quot;width: 10%;&quot;&gt;${item.quantity}&lt;/td&gt;\r\n                        &lt;td style=&quot;width: 15%;&quot;&gt;\r\n                            &lt;#if item.code?has_content&gt;\r\n                                ${item.code}\r\n                            &lt;/#if&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td style=&quot;width: 45%;&quot;&gt;${item.description}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.unitPrice}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable1?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable2?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.getItemSubtotal()}&lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;!-- other rows ommitted to reduce body size for SO--&gt;                    \r\n                    &lt;!-- &lt;/#list&gt; --&gt;\r\n\r\n                &lt;/tbody&gt;\r\n\r\n                &lt;tfoot&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;!--&lt;div class=&quot;summary-space&quot;&gt;&lt;/div&gt;--&gt;\r\n                             &lt;div class=&quot;summarySection&quot;&gt;\r\n            &lt;div class=&quot;message&quot;&gt;\r\n                &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\r\n                    committee responsible for\r\n                    developing the seal. At the time of the American Revolution, the phrase appeared\r\n                    regularly on the title page\r\n                    of the London-based Gentleman&#39;s Magazine, founded in 1731,[10][11] which collected\r\n                    articles from many\r\n                    sources into one periodical. This usage in turn can be traced back to the\r\n                    London-based Huguenot Peter\r\n                    Anthony Motteux, who had employed the adage for his The Gentleman&#39;s Journal, or the\r\n                    Monthly Miscellany\r\n                    (1692-1694). The phrase is similar to a Latin translation of a variation of\r\n                    Heraclitus&#39;s tenth fragment,\r\n                    &quot;The one is made up of all things, and all things issue from the one&quot;.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;totals&quot;&gt;\r\n                &lt;div class=&quot;totalColumns&quot;&gt;\r\n\r\n                    &lt;table class=&quot;totalLabels&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Item Total&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Discounts&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Payments&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Amount Due&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                    &lt;table class=&quot;totalAmounts&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${subTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${discountsTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax1Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax2Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${payments}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${amountDue}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;/tfoot&gt;\r\n\r\n        &lt;/table&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBrowser print output.\r\n(Notice how the footer (marked in red) appears directly after the end of the table content on the last page--or first page if there are not enough rows to fill an entire page.)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\niText PDF Output.\r\n(Same behavior as printing the HTML version from the browser. The consistency is good here, but I want the footer to be pegged to the bottom of each page regardless of the number of table rows.)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI found a way to get the header and footer to be stuck to the top and bottom of each page regardless of the table row count using CSS, and it works when printing from the browser but iText is a disaster. \r\n\r\nUsing this method detailed here: https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a\r\n\r\nThis HTML+CSS...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;Invoice&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n        &lt;style&gt;\r\n            * {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n\r\n            @page {\r\n                margin: 0;\r\n            }\r\n\r\n            .label-font {\r\n                font-size: 18px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                font-style: normal;\r\n                text-transform: none;\r\n            }\r\n\r\n            .companySection {\r\n                margin-top: 10px;\r\n                width: 100%;\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n\r\n            .logoBusinessDetails {\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .headerBusinessFont {\r\n                font-size: 32px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                text-decoration: overline solid rgb(68, 68, 68);\r\n                font-style: normal;\r\n                font-variant: small-caps;\r\n                text-transform: none;\r\n            }\r\n\r\n            table.invoiceItems {\r\n                margin-top: 10px;\r\n                border: 2px solid #000000;\r\n                width: 100%;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.invoiceItems td,\r\n            table.invoiceItems th {\r\n                border: 1px solid #000000;\r\n                padding: 6px 5px;\r\n            }\r\n\r\n            table.invoiceItems tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.invoiceItems tr:nth-child(even) {\r\n                /*background: #667FFF;*/\r\n            }\r\n\r\n            table.invoiceItems thead {\r\n                background: #667FFF;\r\n                background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                border-bottom: 3px solid #000000;\r\n            }\r\n\r\n            table.invoiceItems thead th {\r\n                font-size: 15px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                text-align: left;\r\n            }\r\n\r\n            invoiceItems.table.invoiceItems tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            .customerSection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .billTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .shipTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .documentDetails {\r\n                /*border-left: 15px solid #667FFF;*/\r\n                flex-grow: 1;\r\n            }\r\n\r\n\r\n\r\n            .message {\r\n                flex-basis: 65%\r\n            }\r\n\r\n            .totals {\r\n                flex-basis: 35%;\r\n            }\r\n\r\n            .totalColumns {\r\n                width: 100%;\r\n                display: flex;\r\n            }\r\n\r\n            .totalLabels {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            .totalAmounts {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            /* Total labels column*/\r\n            table.totalLabels {\r\n                border-width: 0px 1px 0px 2px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalLabels td,\r\n            table.totalLabels th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalLabels tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalLabels tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalLabels tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            /* Amounts Column*/\r\n            table.totalAmounts {\r\n                border-width: 0px 2px 0px 1px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalAmounts td,\r\n            table.totalAmounts th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalAmounts tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalAmounts tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalAmounts tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            table.documentInfo {\r\n                width: 100%;\r\n                text-align: right;\r\n            }\r\n\r\n            table.documentInfo td,\r\n            table.documentInfo th {}\r\n\r\n            .footer {\r\n                border: 2px #000000;\r\n            }\r\n\r\n            tbody.invoiceItems tr td {\r\n                border: 1px solid #000000;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n                width: 100%;\r\n\r\n            }\r\n\r\n            table {\r\n                border-spacing: 0px;\r\n                width: 100%;\r\n            }\r\n\r\n          \r\n    @media print, screen{\r\n            .headerSection {\r\n                width: 100%;\r\n                position: fixed;\r\n                top: 0;\r\n            }\r\n\r\n            .summarySection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .headerSection,\r\n            .header-space {\r\n                height: 200px;\r\n            }\r\n\r\n            .summarySection,\r\n            .summary-space {\r\n                height: 230px;\r\n            }\r\n\r\n            .summarySection {\r\n                position: fixed;\r\n                bottom: 0;\r\n            }\r\n    }\r\n        &lt;/style&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n\r\n        &lt;div&gt;\r\n\r\n\r\n            &lt;table&gt;\r\n\r\n                &lt;thead&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;div class=&quot;header-space&quot;&gt;&lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Quantity&lt;/th&gt;\r\n                        &lt;th&gt;Code&lt;/th&gt;\r\n                        &lt;th&gt;Description&lt;/th&gt;\r\n                        &lt;th&gt;Unit Price&lt;/th&gt;\r\n                        &lt;th&gt;Tax1&lt;/th&gt;\r\n                        &lt;th&gt;Tax2&lt;/th&gt;\r\n                        &lt;th&gt;Line Total&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n\r\n                &lt;tbody class=&quot;invoiceItems&quot;&gt;\r\n                    &lt;!-- &lt;#list items as item&gt; --&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td style=&quot;width: 10%;&quot;&gt;${item.quantity}&lt;/td&gt;\r\n                        &lt;td style=&quot;width: 15%;&quot;&gt;\r\n                            &lt;#if item.code?has_content&gt;\r\n                                ${item.code}\r\n                            &lt;/#if&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td style=&quot;width: 45%;&quot;&gt;${item.description}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.unitPrice}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable1?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable2?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.getItemSubtotal()}&lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;!-- other rows ommitted to reduce body size for SO--&gt;                     \r\n                    \r\n                    &lt;!-- &lt;/#list&gt; --&gt;\r\n\r\n                &lt;/tbody&gt;\r\n\r\n                &lt;tfoot&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;div class=&quot;summary-space&quot;&gt;&lt;/div&gt;\r\n\r\n\r\n                        &lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;/tfoot&gt;\r\n\r\n        &lt;/table&gt;\r\n\r\n\r\n        &lt;div class=&quot;headerSection&quot;&gt;\r\n            &lt;div class=&quot;companySection&quot;&gt;\r\n\r\n                &lt;div class=&quot;headerBusinessLogo headerBusinessFont  logoBusinessDetails&quot;&gt;\r\n                    ACME Gaming Co LLC\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;div class=&quot;customerSection&quot;&gt;\r\n                &lt;div class=&quot;billTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;shipTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;documentDetails&quot;&gt;\r\n                    &lt;table class=&quot;documentInfo&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Number&lt;/td&gt;\r\n                                &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Date: &lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Due Date&lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax Id&lt;/td&gt;\r\n                                &lt;td&gt;D288658797&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;summarySection&quot;&gt;\r\n            &lt;div class=&quot;message&quot;&gt;\r\n                &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\r\n                    committee responsible for\r\n                    developing the seal. At the time of the American Revolution, the phrase appeared\r\n                    regularly on the title page\r\n                    of the London-based Gentleman&#39;s Magazine, founded in 1731,[10][11] which collected\r\n                    articles from many\r\n                    sources into one periodical. This usage in turn can be traced back to the\r\n                    London-based Huguenot Peter\r\n                    Anthony Motteux, who had employed the adage for his The Gentleman&#39;s Journal, or the\r\n                    Monthly Miscellany\r\n                    (1692-1694). The phrase is similar to a Latin translation of a variation of\r\n                    Heraclitus&#39;s tenth fragment,\r\n                    &quot;The one is made up of all things, and all things issue from the one&quot;.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;totals&quot;&gt;\r\n                &lt;div class=&quot;totalColumns&quot;&gt;\r\n\r\n                    &lt;table class=&quot;totalLabels&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Item Total&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Discounts&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Payments&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Amount Due&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                    &lt;table class=&quot;totalAmounts&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${subTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${discountsTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax1Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax2Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${payments}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${amountDue}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;!--&lt;div class=&quot;footer&quot; style=&quot;border: 2px solid black;&quot;&gt;Page 1 of 1&lt;/div&gt;--&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe browser print output... (works perfect...header/footer at the top/\r\nbottom of every page)\r\n\r\n[![enter image description here][3]][3]\r\n\r\niText pdfHTML output... (doesn&#39;t print header/footer until the end...just ignores fixed position CSS and dumps the header and footer div after the table content)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFYj9.jpg\r\n  [2]: https://i.stack.imgur.com/GxiQY.png\r\n  [3]: https://i.stack.imgur.com/rP2cq.png\r\n  [4]: https://i.stack.imgur.com/fzkoV.png","title":"How do I repeat headers and footers fixed to top and bottom of document with CSS in iText 7 using pdfHTML converter?","body":"<p>When I use the following HTML+CSS to produce a table with header and footer it repeats the header and footer on each page when printing and when converting to PDF via iText 7 pdfHTML library. The document looks/behaves the same in both browser printing and in output as a PDF from iText. I'm trying to get the header and footer to be fixed to the top and bottom of each page regadless of the number of rows in the table.</p>\n<p>Java/iText convert html document to pdf...</p>\n<pre><code>var mediaDeviceDescription = new MediaDeviceDescription(MediaType.PRINT);\nvar props = new ConverterProperties();\nprops.setMediaDeviceDescription(mediaDeviceDescription);\nHtmlConverter.convertToPdf(html, new FileOutputStream(pdfTempFile.toFile()), props);  \n</code></pre>\n<p>The html...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;style&gt;\n        * {\n            margin: 0;\n            padding: 0;\n        }\n\n        @page {\n            margin: 0;\n        }\n\n        .label-font {\n            font-size: 18px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            font-style: normal;\n            text-transform: none;\n        }\n\n        .companySection {\n            margin-top: 10px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .logoBusinessDetails {\n            flex-grow: 1;\n        }\n\n        .headerBusinessFont {\n            font-size: 32px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            text-decoration: overline solid rgb(68, 68, 68);\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n        }\n\n        table.invoiceItems {\n            margin-top: 10px;\n            border: 2px solid #000000;\n            width: 100%;\n            text-align: left;\n            border-collapse: collapse;\n        }\n\n        table.invoiceItems td,\n        table.invoiceItems th {\n            border: 1px solid #000000;\n            padding: 6px 5px;\n        }\n\n        table.invoiceItems tbody td {\n            font-size: 13px;\n        }\n\n        table.invoiceItems tr:nth-child(even) {\n            /*background: #667FFF;*/\n        }\n\n        table.invoiceItems thead {\n            background: #667FFF;\n            background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            border-bottom: 3px solid #000000;\n        }\n\n        table.invoiceItems thead th {\n            font-size: 15px;\n            font-weight: bold;\n            color: #000000;\n            text-align: left;\n        }\n\n        invoiceItems.table.invoiceItems tfoot td {\n            font-size: 14px;\n        }\n\n        .customerSection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .billTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .shipTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .documentDetails {\n            /*border-left: 15px solid #667FFF;*/\n            flex-grow: 1;\n        }\n\n\n\n        .message {\n            flex-basis: 65%\n        }\n\n        .totals {\n            flex-basis: 35%;\n        }\n\n        .totalColumns {\n            width: 100%;\n            display: flex;\n        }\n\n        .totalLabels {\n            flex-basis: 50%\n        }\n\n        .totalAmounts {\n            flex-basis: 50%\n        }\n\n        /* Total labels column*/\n        table.totalLabels {\n            border-width: 0px 1px 0px 2px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalLabels td,\n        table.totalLabels th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalLabels tbody td {\n            font-size: 13px;\n        }\n\n        table.totalLabels tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalLabels tfoot td {\n            font-size: 14px;\n        }\n\n        /* Amounts Column*/\n        table.totalAmounts {\n            border-width: 0px 2px 0px 1px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalAmounts td,\n        table.totalAmounts th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalAmounts tbody td {\n            font-size: 13px;\n        }\n\n        table.totalAmounts tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalAmounts tfoot td {\n            font-size: 14px;\n        }\n\n        table.documentInfo {\n            width: 100%;\n            text-align: right;\n        }\n\n        table.documentInfo td,\n        table.documentInfo th {}\n\n        .footer {\n            border: 2px #000000;\n        }\n\n        tbody.invoiceItems tr td {\n            border: 1px solid #000000;\n            text-align: left;\n            border-collapse: collapse;\n            width: 100%;\n\n        }\n\n        table {\n            border-spacing: 0px;\n            width: 100%;\n        }\n\n      \n@media print, screen{\n        .headerSection {\n            width: 100%;\n   \n        }\n\n        .summarySection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n \n        }\n}\n    &lt;/style&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;div&gt;\n\n\n        &lt;table&gt;\n\n            &lt;thead&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;!--&lt;div class=\"header-space\"&gt;&lt;/div&gt;--&gt;\n                        \n                        &lt;div class=\"headerSection\"&gt;\n        &lt;div class=\"companySection\"&gt;\n\n            &lt;div class=\"headerBusinessLogo headerBusinessFont  logoBusinessDetails\"&gt;\n                Acme Paper Co LLC\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n\n        &lt;div class=\"customerSection\"&gt;\n            &lt;div class=\"billTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\n\n            &lt;div class=\"shipTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\n\n            &lt;div class=\"documentDetails\"&gt;\n                &lt;table class=\"documentInfo\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Number&lt;/td&gt;\n                            &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Date: &lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Due Date&lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax Id&lt;/td&gt;\n                            &lt;td&gt;D288658797&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;th&gt;Quantity&lt;/th&gt;\n                    &lt;th&gt;Code&lt;/th&gt;\n                    &lt;th&gt;Description&lt;/th&gt;\n                    &lt;th&gt;Unit Price&lt;/th&gt;\n                    &lt;th&gt;Tax1&lt;/th&gt;\n                    &lt;th&gt;Tax2&lt;/th&gt;\n                    &lt;th&gt;Line Total&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n\n            &lt;tbody class=\"invoiceItems\"&gt;\n                &lt;!-- &lt;#list items as item&gt; --&gt;\n                &lt;tr&gt;\n                    &lt;td style=\"width: 10%;\"&gt;${item.quantity}&lt;/td&gt;\n                    &lt;td style=\"width: 15%;\"&gt;\n                        &lt;#if item.code?has_content&gt;\n                            ${item.code}\n                        &lt;/#if&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\"width: 45%;\"&gt;${item.description}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.unitPrice}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable1?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable2?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.getItemSubtotal()}&lt;/td&gt;\n\n                &lt;/tr&gt;\n\n                &lt;!-- other rows ommitted to reduce body size for SO--&gt;                    \n                &lt;!-- &lt;/#list&gt; --&gt;\n\n            &lt;/tbody&gt;\n\n            &lt;tfoot&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;!--&lt;div class=\"summary-space\"&gt;&lt;/div&gt;--&gt;\n                         &lt;div class=\"summarySection\"&gt;\n        &lt;div class=\"message\"&gt;\n            &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\n                committee responsible for\n                developing the seal. At the time of the American Revolution, the phrase appeared\n                regularly on the title page\n                of the London-based Gentleman's Magazine, founded in 1731,[10][11] which collected\n                articles from many\n                sources into one periodical. This usage in turn can be traced back to the\n                London-based Huguenot Peter\n                Anthony Motteux, who had employed the adage for his The Gentleman's Journal, or the\n                Monthly Miscellany\n                (1692-1694). The phrase is similar to a Latin translation of a variation of\n                Heraclitus's tenth fragment,\n                \"The one is made up of all things, and all things issue from the one\".&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"totals\"&gt;\n            &lt;div class=\"totalColumns\"&gt;\n\n                &lt;table class=\"totalLabels\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Item Total&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Discounts&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Payments&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Amount Due&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n                &lt;table class=\"totalAmounts\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${subTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${discountsTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax1Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax2Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${payments}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${amountDue}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n                    &lt;/td&gt;\n\n                &lt;/tr&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;/tfoot&gt;\n\n    &lt;/table&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Browser print output.\n(Notice how the footer (marked in red) appears directly after the end of the table content on the last page--or first page if there are not enough rows to fill an entire page.)</p>\n<p><a href=\"https://i.stack.imgur.com/hFYj9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFYj9.jpg\" alt=\"enter image description here\" /></a></p>\n<p>iText PDF Output.\n(Same behavior as printing the HTML version from the browser. The consistency is good here, but I want the footer to be pegged to the bottom of each page regardless of the number of table rows.)</p>\n<p><a href=\"https://i.stack.imgur.com/GxiQY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GxiQY.png\" alt=\"enter image description here\" /></a></p>\n<p>I found a way to get the header and footer to be stuck to the top and bottom of each page regardless of the table row count using CSS, and it works when printing from the browser but iText is a disaster.</p>\n<p>Using this method detailed here: <a href=\"https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a\" rel=\"nofollow noreferrer\">https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a</a></p>\n<p>This HTML+CSS...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;style&gt;\n        * {\n            margin: 0;\n            padding: 0;\n        }\n\n        @page {\n            margin: 0;\n        }\n\n        .label-font {\n            font-size: 18px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            font-style: normal;\n            text-transform: none;\n        }\n\n        .companySection {\n            margin-top: 10px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .logoBusinessDetails {\n            flex-grow: 1;\n        }\n\n        .headerBusinessFont {\n            font-size: 32px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            text-decoration: overline solid rgb(68, 68, 68);\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n        }\n\n        table.invoiceItems {\n            margin-top: 10px;\n            border: 2px solid #000000;\n            width: 100%;\n            text-align: left;\n            border-collapse: collapse;\n        }\n\n        table.invoiceItems td,\n        table.invoiceItems th {\n            border: 1px solid #000000;\n            padding: 6px 5px;\n        }\n\n        table.invoiceItems tbody td {\n            font-size: 13px;\n        }\n\n        table.invoiceItems tr:nth-child(even) {\n            /*background: #667FFF;*/\n        }\n\n        table.invoiceItems thead {\n            background: #667FFF;\n            background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            border-bottom: 3px solid #000000;\n        }\n\n        table.invoiceItems thead th {\n            font-size: 15px;\n            font-weight: bold;\n            color: #000000;\n            text-align: left;\n        }\n\n        invoiceItems.table.invoiceItems tfoot td {\n            font-size: 14px;\n        }\n\n        .customerSection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .billTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .shipTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .documentDetails {\n            /*border-left: 15px solid #667FFF;*/\n            flex-grow: 1;\n        }\n\n\n\n        .message {\n            flex-basis: 65%\n        }\n\n        .totals {\n            flex-basis: 35%;\n        }\n\n        .totalColumns {\n            width: 100%;\n            display: flex;\n        }\n\n        .totalLabels {\n            flex-basis: 50%\n        }\n\n        .totalAmounts {\n            flex-basis: 50%\n        }\n\n        /* Total labels column*/\n        table.totalLabels {\n            border-width: 0px 1px 0px 2px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalLabels td,\n        table.totalLabels th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalLabels tbody td {\n            font-size: 13px;\n        }\n\n        table.totalLabels tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalLabels tfoot td {\n            font-size: 14px;\n        }\n\n        /* Amounts Column*/\n        table.totalAmounts {\n            border-width: 0px 2px 0px 1px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalAmounts td,\n        table.totalAmounts th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalAmounts tbody td {\n            font-size: 13px;\n        }\n\n        table.totalAmounts tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalAmounts tfoot td {\n            font-size: 14px;\n        }\n\n        table.documentInfo {\n            width: 100%;\n            text-align: right;\n        }\n\n        table.documentInfo td,\n        table.documentInfo th {}\n\n        .footer {\n            border: 2px #000000;\n        }\n\n        tbody.invoiceItems tr td {\n            border: 1px solid #000000;\n            text-align: left;\n            border-collapse: collapse;\n            width: 100%;\n\n        }\n\n        table {\n            border-spacing: 0px;\n            width: 100%;\n        }\n\n      \n@media print, screen{\n        .headerSection {\n            width: 100%;\n            position: fixed;\n            top: 0;\n        }\n\n        .summarySection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .headerSection,\n        .header-space {\n            height: 200px;\n        }\n\n        .summarySection,\n        .summary-space {\n            height: 230px;\n        }\n\n        .summarySection {\n            position: fixed;\n            bottom: 0;\n        }\n}\n    &lt;/style&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;div&gt;\n\n\n        &lt;table&gt;\n\n            &lt;thead&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;div class=\"header-space\"&gt;&lt;/div&gt;\n\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;th&gt;Quantity&lt;/th&gt;\n                    &lt;th&gt;Code&lt;/th&gt;\n                    &lt;th&gt;Description&lt;/th&gt;\n                    &lt;th&gt;Unit Price&lt;/th&gt;\n                    &lt;th&gt;Tax1&lt;/th&gt;\n                    &lt;th&gt;Tax2&lt;/th&gt;\n                    &lt;th&gt;Line Total&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n\n            &lt;tbody class=\"invoiceItems\"&gt;\n                &lt;!-- &lt;#list items as item&gt; --&gt;\n                &lt;tr&gt;\n                    &lt;td style=\"width: 10%;\"&gt;${item.quantity}&lt;/td&gt;\n                    &lt;td style=\"width: 15%;\"&gt;\n                        &lt;#if item.code?has_content&gt;\n                            ${item.code}\n                        &lt;/#if&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\"width: 45%;\"&gt;${item.description}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.unitPrice}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable1?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable2?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.getItemSubtotal()}&lt;/td&gt;\n\n                &lt;/tr&gt;\n\n                &lt;!-- other rows ommitted to reduce body size for SO--&gt;                     \n                \n                &lt;!-- &lt;/#list&gt; --&gt;\n\n            &lt;/tbody&gt;\n\n            &lt;tfoot&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;div class=\"summary-space\"&gt;&lt;/div&gt;\n\n\n                    &lt;/td&gt;\n\n                &lt;/tr&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;/tfoot&gt;\n\n    &lt;/table&gt;\n\n\n    &lt;div class=\"headerSection\"&gt;\n        &lt;div class=\"companySection\"&gt;\n\n            &lt;div class=\"headerBusinessLogo headerBusinessFont  logoBusinessDetails\"&gt;\n                ACME Gaming Co LLC\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n\n        &lt;div class=\"customerSection\"&gt;\n            &lt;div class=\"billTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\n\n            &lt;div class=\"shipTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\n\n            &lt;div class=\"documentDetails\"&gt;\n                &lt;table class=\"documentInfo\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Number&lt;/td&gt;\n                            &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Date: &lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Due Date&lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax Id&lt;/td&gt;\n                            &lt;td&gt;D288658797&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"summarySection\"&gt;\n        &lt;div class=\"message\"&gt;\n            &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\n                committee responsible for\n                developing the seal. At the time of the American Revolution, the phrase appeared\n                regularly on the title page\n                of the London-based Gentleman's Magazine, founded in 1731,[10][11] which collected\n                articles from many\n                sources into one periodical. This usage in turn can be traced back to the\n                London-based Huguenot Peter\n                Anthony Motteux, who had employed the adage for his The Gentleman's Journal, or the\n                Monthly Miscellany\n                (1692-1694). The phrase is similar to a Latin translation of a variation of\n                Heraclitus's tenth fragment,\n                \"The one is made up of all things, and all things issue from the one\".&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"totals\"&gt;\n            &lt;div class=\"totalColumns\"&gt;\n\n                &lt;table class=\"totalLabels\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Item Total&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Discounts&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Payments&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Amount Due&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n                &lt;table class=\"totalAmounts\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${subTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${discountsTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax1Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax2Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${payments}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${amountDue}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n\n        &lt;!--&lt;div class=\"footer\" style=\"border: 2px solid black;\"&gt;Page 1 of 1&lt;/div&gt;--&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n\n\n\n\n\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The browser print output... (works perfect...header/footer at the top/\nbottom of every page)</p>\n<p><a href=\"https://i.stack.imgur.com/rP2cq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rP2cq.png\" alt=\"enter image description here\" /></a></p>\n<p>iText pdfHTML output... (doesn't print header/footer until the end...just ignores fixed position CSS and dumps the header and footer div after the table content)</p>\n<p><a href=\"https://i.stack.imgur.com/fzkoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzkoV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","http","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1522669050,"post_id":49610522,"comment_id":86227488,"body_markdown":"You can find required substring from the returned response.","body":"You can find required substring from the returned response."},{"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"score":0,"creation_date":1522669461,"post_id":49610522,"comment_id":86227689,"body_markdown":"I don&#39;t know how to do","body":"I don&#39;t know how to do"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1522669586,"post_id":49610522,"comment_id":86227751,"body_markdown":"Use a better client?","body":"Use a better client?"},{"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"score":0,"creation_date":1522669635,"post_id":49610522,"comment_id":86227776,"body_markdown":"no, I need to return with ok","body":"no, I need to return with ok"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1522670263,"post_id":49610522,"comment_id":86228068,"body_markdown":"I can&#39;t reproduce it. Run `curl -D - &lt;your URL&gt;` and check the output. I get `HTTP/1.1 200 OK` in a Spring Boot (version `1.4.2.RELEASE`) app.","body":"I can&#39;t reproduce it. Run <code>curl -D - &lt;your URL&gt;</code> and check the output. I get <code>HTTP&#47;1.1 200 OK</code> in a Spring Boot (version <code>1.4.2.RELEASE</code>) app."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522670466,"creation_date":1522670466,"answer_id":49610913,"question_id":49610522,"body_markdown":"See https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\n\n&gt; sendReasonPhrase  \n&gt;\n&gt; Set this attribute to true if you wish to have a reason phrase in the response. The default value is false.\n&gt;\n&gt; **Note**: This option is deprecated and will be removed in Tomcat 9. The reason phrase will not be sent.\n\nDiscussion: https://bz.apache.org/bugzilla/show_bug.cgi?id=60362\n\nI would definitely try fixing/changing the client.","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>See <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/http.html</a></p>\n<blockquote>\n<p>sendReasonPhrase</p>\n<p>Set this attribute to true if you wish to have a reason phrase in the response. The default value is false.</p>\n<p><strong>Note</strong>: This option is deprecated and will be removed in Tomcat 9. The reason phrase will not be sent.</p>\n</blockquote>\n<p>Discussion: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=60362\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=60362</a></p>\n<p>I would definitely try fixing/changing the client.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1693475042,"creation_date":1522675211,"answer_id":49612116,"question_id":49610522,"body_markdown":"The HTTP specification ([RFC 2616 Section 6.1][1]) says&lt;sup&gt;1&lt;/sup&gt; that the &quot;reason phrase&quot; consists of zero or more characters.  It also says:\r\n\r\n  &gt; The reason phrases listed here are only\r\n   recommendations -- they MAY be replaced by local equivalents without\r\n   affecting the protocol.\r\n\r\nIn other words, the HTTP specifications allow a server to use different text for the reason phrases, or leave it out entirely.\r\n\r\nThe latest version of the HTTP specification ([RFC 7230 Section 3.1.2][2]) is more explicit about client behavior.\r\n\r\n&gt; The reason-phrase element exists for the sole purpose of providing a\r\n   textual description associated with the numeric status code, mostly\r\n   out of deference to earlier Internet application protocols that were\r\n   more frequently used with interactive text clients.  **A client SHOULD\r\n   ignore the reason-phrase content.**\r\n\r\nIf your client relies on a specific value for the reason phrase of any response, it is non-interoperable, and arguably broken.\r\n\r\nIn this case, you have encountered a case where the developers of Tomcat have decided to leave out the reason phrases .... presumably because they are redundant.  While you can work around this behavior in Tomcat 8.5 (see [this answer][3]), with Tomcat 9 onwards you will have no option other than fixing your (broken!) client code to not depend on the reason phrase.\r\n\r\nIn short: if you plan to continue using Tomcat servers in the future, you should fix or replace the client.\r\n\r\n-------------\r\n\r\n&lt;sup&gt; 1 - The wording in RFC 7231 is virtually identical.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616#section-6.1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2\r\n  [3]: https://stackoverflow.com/a/49610913/139985","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>The HTTP specification (<a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-6.1\" rel=\"nofollow noreferrer\">RFC 2616 Section 6.1</a>) says<sup>1</sup> that the &quot;reason phrase&quot; consists of zero or more characters.  It also says:</p>\n<blockquote>\n<p>The reason phrases listed here are only\nrecommendations -- they MAY be replaced by local equivalents without\naffecting the protocol.</p>\n</blockquote>\n<p>In other words, the HTTP specifications allow a server to use different text for the reason phrases, or leave it out entirely.</p>\n<p>The latest version of the HTTP specification (<a href=\"https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2\" rel=\"nofollow noreferrer\">RFC 7230 Section 3.1.2</a>) is more explicit about client behavior.</p>\n<blockquote>\n<p>The reason-phrase element exists for the sole purpose of providing a\ntextual description associated with the numeric status code, mostly\nout of deference to earlier Internet application protocols that were\nmore frequently used with interactive text clients.  <strong>A client SHOULD\nignore the reason-phrase content.</strong></p>\n</blockquote>\n<p>If your client relies on a specific value for the reason phrase of any response, it is non-interoperable, and arguably broken.</p>\n<p>In this case, you have encountered a case where the developers of Tomcat have decided to leave out the reason phrases .... presumably because they are redundant.  While you can work around this behavior in Tomcat 8.5 (see <a href=\"https://stackoverflow.com/a/49610913/139985\">this answer</a>), with Tomcat 9 onwards you will have no option other than fixing your (broken!) client code to not depend on the reason phrase.</p>\n<p>In short: if you plan to continue using Tomcat servers in the future, you should fix or replace the client.</p>\n<hr />\n<p><sup> 1 - The wording in RFC 7231 is virtually identical.</sup></p>\n"}],"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4813,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1693475042,"creation_date":1522668919,"question_id":49610522,"body_markdown":"Client expecting the &quot;`OK`&quot; after &quot;`200`&quot; when receiving HTTP response as:\r\n\r\n    HTTP/1.1 200 OK\r\n\r\nWithout the &quot;`OK`&quot;, the client can NOT parse the HTTP response correctly. How to fix the problem\r\n\r\n------\r\nI had fix it\r\n\r\n```java\r\n@Bean\r\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\r\n    return container -&gt; {\r\n        if (container instanceof TomcatEmbeddedServletContainerFactory) {\r\n            TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory)container;\r\n            tomcat.addConnectorCustomizers((TomcatConnectorCustomizer)connector -&gt; {\r\n                ProtocolHandler protocolHandler = connector.getProtocolHandler();\r\n                if (protocolHandler != null &amp;&amp; protocolHandler instanceof AbstractHttp11Protocol) {\r\n                    AbstractProtocol protocol = (AbstractProtocol)protocolHandler;\r\n                    // fix tomcat 8.5 can&#39;t send reason phrase\r\n                    protocol.setSendReasonPhrase(true);\r\n                }\r\n            });\r\n        }\r\n    };\r\n}\r\n```\r\n","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>Client expecting the &quot;<code>OK</code>&quot; after &quot;<code>200</code>&quot; when receiving HTTP response as:</p>\n<pre><code>HTTP/1.1 200 OK\n</code></pre>\n<p>Without the &quot;<code>OK</code>&quot;, the client can NOT parse the HTTP response correctly. How to fix the problem</p>\n<hr />\n<p>I had fix it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\n    return container -&gt; {\n        if (container instanceof TomcatEmbeddedServletContainerFactory) {\n            TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory)container;\n            tomcat.addConnectorCustomizers((TomcatConnectorCustomizer)connector -&gt; {\n                ProtocolHandler protocolHandler = connector.getProtocolHandler();\n                if (protocolHandler != null &amp;&amp; protocolHandler instanceof AbstractHttp11Protocol) {\n                    AbstractProtocol protocol = (AbstractProtocol)protocolHandler;\n                    // fix tomcat 8.5 can't send reason phrase\n                    protocol.setSendReasonPhrase(true);\n                }\n            });\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","xml","jaxb","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693406376,"post_id":77008850,"comment_id":135757110,"body_markdown":"Make sure to build the instance with required attributes `@XmlElement(required = true)`","body":"Make sure to build the instance with required attributes <code>@XmlElement(required = true)</code>"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1693406928,"post_id":77008850,"comment_id":135757260,"body_markdown":"Need to see the beginning of XML file.  root tag should be &quot;audio-service&quot; and it is case sensitive.  The issue could be the namespace needs to be defined in class definition.","body":"Need to see the beginning of XML file.  root tag should be &quot;audio-service&quot; and it is case sensitive.  The issue could be the namespace needs to be defined in class definition."},{"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"score":0,"creation_date":1693415971,"post_id":77008850,"comment_id":135759256,"body_markdown":"Here&#39;s a small stand-alone sample project [README](https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/animal/README.md) and [ZIP](https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-animal-2.1.0-mvn-src.zip) that uses `jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0`, `org.glassfish.jaxb:jaxb-runtime:jar:4.0.2` and [hisrc-higherjaxb-maven-plugin](https://github.com/patrodyne/hisrc-higherjaxb#readme). It should be easy to replace the sample schema with your schema to see if it helps to use the latest JAXB.","body":"Here&#39;s a small stand-alone sample project <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/animal/README.md\" rel=\"nofollow noreferrer\">README</a> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-animal-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">ZIP</a> that uses <code>jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0</code>, <code>org.glassfish.jaxb:jaxb-runtime:jar:4.0.2</code> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a>. It should be easy to replace the sample schema with your schema to see if it helps to use the latest JAXB."}],"answers":[{"tags":[],"owner":{"account_id":4867191,"reputation":11,"user_id":3925008,"display_name":"Pichou Bichou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474698,"creation_date":1693474698,"answer_id":77014617,"question_id":77008850,"body_markdown":"Thanks for your answers, It gives me the idea to check my dependencies.\r\nFinally I&#39;ve found the pbm in the pom i had mixed dependencies with \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt; I had mix import with : \r\n```\r\nAnd \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSince I&#39;ve removed javax.xml.bind packages It&#39;s now resolved !\r\n\r\nThanks again ","title":"Pbm marshaling XML with classes generated via JAXB2","body":"<p>Thanks for your answers, It gives me the idea to check my dependencies.\nFinally I've found the pbm in the pom i had mixed dependencies with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt; I had mix import with : \n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Since I've removed javax.xml.bind packages It's now resolved !</p>\n<p>Thanks again</p>\n"}],"owner":{"account_id":4867191,"reputation":11,"user_id":3925008,"display_name":"Pichou Bichou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693474698,"creation_date":1693404786,"question_id":77008850,"body_markdown":"today is one day I think I&#39;ll become crazy.\r\n\r\nI would like to generate some code to be able to mashshall/unmarshall XML files.\r\nI&#39;m starting with an XSD that I pass to JAXB2 to generate Java classes via a maven module =&gt; It&#39;s OK.\r\n\r\nThen I&#39;m using those generated classes to make a first test to create a basic XML file but I&#39;ve got the following error : Impossible to serialize type &quot;com.xxx.xxx.AudioService&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n```\r\npublic static void marshal() throws JAXBException, IOException {\r\n\t\tAudioService audioService = new AudioService();\r\n\t\t\r\n\t\taudioService.setName(&quot;TTS1&quot;);\r\n\t\taudioService.setEngineClass(&quot;Toto&quot;);\r\n\t\t\r\n\t\tJAXBContext context = JAXBContext.newInstance(AudioService.class);\r\n\t\tMarshaller mar= context.createMarshaller();\r\n\t\tmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t\tmar.marshal(audioService, new File(&quot;./test.xml&quot;));\r\n\t}\r\n```\r\n\r\nBut my generated  class AudioService looks to :\r\n\r\n```\r\npackage com.xxx.xxx;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport jakarta.xml.bind.JAXBElement;\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlAttribute;\r\nimport jakarta.xml.bind.annotation.XmlElement;\r\nimport jakarta.xml.bind.annotation.XmlElementRef;\r\nimport jakarta.xml.bind.annotation.XmlMixed;\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\nimport jakarta.xml.bind.annotation.XmlValue;\r\n\r\n\r\n@XmlRootElement(name = &quot;audio-service&quot;)\r\npublic class AudioService {\r\n\r\n    @XmlElement(name = &quot;property&quot;)\r\n    protected List&lt;AudioService.Property&gt; properties;\r\n    @XmlElement(required = true)\r\n    protected AudioService.Tts tts;\r\n```\r\n\r\nDoes anybody have an idea why this error is thrown as everything seems ok ? \r\n\r\nNote it&#39;s runing under java 17, \r\njavax.xml.bind:jaxb-api = 2.3.1\r\njakarta.xml.bind:jakarta.xml.bind-api=4.0.0\r\n\r\nThanks","title":"Pbm marshaling XML with classes generated via JAXB2","body":"<p>today is one day I think I'll become crazy.</p>\n<p>I would like to generate some code to be able to mashshall/unmarshall XML files.\nI'm starting with an XSD that I pass to JAXB2 to generate Java classes via a maven module =&gt; It's OK.</p>\n<p>Then I'm using those generated classes to make a first test to create a basic XML file but I've got the following error : Impossible to serialize type &quot;com.xxx.xxx.AudioService&quot; as an element because it is missing an @XmlRootElement annotation</p>\n<pre><code>public static void marshal() throws JAXBException, IOException {\n        AudioService audioService = new AudioService();\n        \n        audioService.setName(&quot;TTS1&quot;);\n        audioService.setEngineClass(&quot;Toto&quot;);\n        \n        JAXBContext context = JAXBContext.newInstance(AudioService.class);\n        Marshaller mar= context.createMarshaller();\n        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        mar.marshal(audioService, new File(&quot;./test.xml&quot;));\n    }\n</code></pre>\n<p>But my generated  class AudioService looks to :</p>\n<pre><code>package com.xxx.xxx;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlElementRef;\nimport jakarta.xml.bind.annotation.XmlMixed;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\nimport jakarta.xml.bind.annotation.XmlValue;\n\n\n@XmlRootElement(name = &quot;audio-service&quot;)\npublic class AudioService {\n\n    @XmlElement(name = &quot;property&quot;)\n    protected List&lt;AudioService.Property&gt; properties;\n    @XmlElement(required = true)\n    protected AudioService.Tts tts;\n</code></pre>\n<p>Does anybody have an idea why this error is thrown as everything seems ok ?</p>\n<p>Note it's runing under java 17,\njavax.xml.bind:jaxb-api = 2.3.1\njakarta.xml.bind:jakarta.xml.bind-api=4.0.0</p>\n<p>Thanks</p>\n"},{"tags":["java","junit","powermockito"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1646060009,"creation_date":1646060009,"answer_id":71296829,"question_id":71296783,"body_markdown":"In Java 9 and above, the module system can cause these errors. I&#39;ve had the same issues with JUnit 5 itself because I omit the `public` from my test classes and methods.\r\n\r\nHere&#39;s what I have in my POM to solve this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- Allow JUnit to access the test classes --&gt;\r\n        &lt;argLine&gt;--add-opens &lt;my-module&gt;/&lt;my-package&gt;=ALL-UNNAMED&lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIn your case you probably need to use `java.base/java.lang=ALL_UNNAMED`.","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>In Java 9 and above, the module system can cause these errors. I've had the same issues with JUnit 5 itself because I omit the <code>public</code> from my test classes and methods.</p>\n<p>Here's what I have in my POM to solve this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;!-- Allow JUnit to access the test classes --&gt;\n    &lt;argLine&gt;--add-opens &lt;my-module&gt;/&lt;my-package&gt;=ALL-UNNAMED&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In your case you probably need to use <code>java.base/java.lang=ALL_UNNAMED</code>.</p>\n"},{"tags":[],"owner":{"account_id":7840591,"reputation":198,"user_id":5927289,"display_name":"Mario Petrovic"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1646060610,"creation_date":1646060610,"answer_id":71296956,"question_id":71296783,"body_markdown":"launch the JVM as follows:\r\n\r\n    # --add-opens has the following syntax: {A}/{package}={B}\r\n    java --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nhttps://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>launch the JVM as follows:</p>\n<pre><code># --add-opens has the following syntax: {A}/{package}={B}\njava --add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a></p>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669304462,"creation_date":1669304462,"answer_id":74563206,"question_id":71296783,"body_markdown":"Uninstalling openjdk 19 solved this error for me.\r\n\r\n    $ brew uninstall maven openjdk@19\r\n    $ brew install --ignore-dependencies maven","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>Uninstalling openjdk 19 solved this error for me.</p>\n<pre><code>$ brew uninstall maven openjdk@19\n$ brew install --ignore-dependencies maven\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4234156,"reputation":848,"user_id":3465812,"display_name":"Ayushi Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679039167,"creation_date":1679039167,"answer_id":75764924,"question_id":71296783,"body_markdown":"In IntelliJ, I went to &quot;Edit Configuration&quot; for opening the Run/Debug Configurations and there I explicitly gave &quot;Java8&quot; as my version.","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>In IntelliJ, I went to &quot;Edit Configuration&quot; for opening the Run/Debug Configurations and there I explicitly gave &quot;Java8&quot; as my version.</p>\n"},{"tags":[],"owner":{"account_id":5702469,"reputation":506,"user_id":4507044,"accept_rate":0,"display_name":"Vinayak Khedkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474658,"creation_date":1693474658,"answer_id":77014613,"question_id":71296783,"body_markdown":"For Android Studio you have to provide a VM option in the configuration where you can put --add-opens &lt;Module_Name&gt;/&lt;Package_of_Module&gt;=ALL_UNNAMED.\r\n\r\nIf you can not see the VM option input box then go to the Modify option and check &quot;Add VM Options&quot; under the Java menu\r\n\r\nThis solved my issue","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>For Android Studio you have to provide a VM option in the configuration where you can put --add-opens &lt;Module_Name&gt;/&lt;Package_of_Module&gt;=ALL_UNNAMED.</p>\n<p>If you can not see the VM option input box then go to the Modify option and check &quot;Add VM Options&quot; under the Java menu</p>\n<p>This solved my issue</p>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39053,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":71296829,"answer_count":5,"score":11,"last_activity_date":1693474658,"creation_date":1646059754,"question_id":71296783,"body_markdown":"While running the test I am getting the error , I am not able to understand why am I getting this error , this code is working with fine in java 8 , while running it in java 17 it is giving error. googled this error but found nothing useful. Please help me to understand this error. \r\nThanks in advance:)\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({PopulatedAuthorizedUser.class})\r\n    @SpringBootTest(classes = MockServletContext.class)\r\n    @PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;, \r\n    &quot;jdk.internal.reflect.*&quot;})\r\n    public class ProjectUserControllerTest {\r\n\r\n    private ProjectUserController controller;\r\n\r\n    private UUID projectId = UUID.randomUUID();\r\n    private UUID groupId = UUID.randomUUID();\r\n    private String email = &quot;project.user@email.com&quot;;\r\n\r\n    @Mock\r\n    private ProjectUserService projectUserService;\r\n\r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Mock\r\n    protected AuthorizedUser au;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        controller = new ProjectUserController();\r\n        FieldUtils.writeField(controller, &quot;projectUserService&quot;, projectUserService, true);\r\n        FieldUtils.writeField(controller, &quot;objectMapper&quot;, objectMapper, true);\r\n        PowerMockito.mockStatic(PopulatedAuthorizedUser.class);\r\n        Mockito.when(PopulatedAuthorizedUser.get()).thenReturn(mockAuthorizedUser());\r\n    }\r\n\r\n    @Test\r\n    public void testGetProjectUsers() {\r\n        Mockito.doReturn(Arrays.asList(mockProjectUser())).when(projectUserService)\r\n                .findProjectUsersByProjectId(projectId);\r\n        Mockito.doNothing().when(projectUserService).enrichUserDetails(any(ProjectUserDto.class));\r\n        ResponseEntity&lt;List&lt;ProjectUserDto&gt;&gt; response=controller.getProjectUsers(projectId);\r\n        assertNotNull(response);\r\n        ProjectUserDto projectUserDto = response.getBody().get(0);\r\n        assertEquals(groupId, projectUserDto.getGroupId());\r\n        assertEquals(email, projectUserDto.getUsername());\r\n        assertTrue(projectUserDto.getEmailNotification());\r\n        assertEquals(ProjectUserRole.OWNER.toString(), projectUserDto.getRole());\r\n       }\r\n\r\n     }\r\n\r\nException:\r\n\r\n\r\n     java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ba23b66\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1492)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1467)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:847)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:807)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:790)\r\n\tat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\r\n\tat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\r\n\tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\r\n\tat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\r\n\tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n\tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.testAborted(PowerMockJUnit44RunnerDelegateImpl.java:229)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:206)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\n\r\n\r\n\r\n","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>While running the test I am getting the error , I am not able to understand why am I getting this error , this code is working with fine in java 8 , while running it in java 17 it is giving error. googled this error but found nothing useful. Please help me to understand this error.\nThanks in advance:)</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({PopulatedAuthorizedUser.class})\n@SpringBootTest(classes = MockServletContext.class)\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;, \n&quot;jdk.internal.reflect.*&quot;})\npublic class ProjectUserControllerTest {\n\nprivate ProjectUserController controller;\n\nprivate UUID projectId = UUID.randomUUID();\nprivate UUID groupId = UUID.randomUUID();\nprivate String email = &quot;project.user@email.com&quot;;\n\n@Mock\nprivate ProjectUserService projectUserService;\n\nprivate ObjectMapper objectMapper = new ObjectMapper();\n\n@Mock\nprotected AuthorizedUser au;\n\n@Before\npublic void setUp() throws Exception {\n    controller = new ProjectUserController();\n    FieldUtils.writeField(controller, &quot;projectUserService&quot;, projectUserService, true);\n    FieldUtils.writeField(controller, &quot;objectMapper&quot;, objectMapper, true);\n    PowerMockito.mockStatic(PopulatedAuthorizedUser.class);\n    Mockito.when(PopulatedAuthorizedUser.get()).thenReturn(mockAuthorizedUser());\n}\n\n@Test\npublic void testGetProjectUsers() {\n    Mockito.doReturn(Arrays.asList(mockProjectUser())).when(projectUserService)\n            .findProjectUsersByProjectId(projectId);\n    Mockito.doNothing().when(projectUserService).enrichUserDetails(any(ProjectUserDto.class));\n    ResponseEntity&lt;List&lt;ProjectUserDto&gt;&gt; response=controller.getProjectUsers(projectId);\n    assertNotNull(response);\n    ProjectUserDto projectUserDto = response.getBody().get(0);\n    assertEquals(groupId, projectUserDto.getGroupId());\n    assertEquals(email, projectUserDto.getUsername());\n    assertTrue(projectUserDto.getEmailNotification());\n    assertEquals(ProjectUserRole.OWNER.toString(), projectUserDto.getRole());\n   }\n\n }\n</code></pre>\n<p>Exception:</p>\n<pre><code> java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ba23b66\n\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1492)\nat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1467)\nat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:847)\nat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:807)\nat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:790)\nat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\nat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\nat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\nat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\nat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\nat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.testAborted(PowerMockJUnit44RunnerDelegateImpl.java:229)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:206)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1608725481,"post_id":65423839,"comment_id":115666650,"body_markdown":"How are you starting the Kafka containers?  Can you run Kafka directly on the host, so you have one fewer totally new technology to work with?  (In particular there&#39;s a confusing bit where the initial Kafka connection has the server tell the client where to connect, and that can be tricky to get right in a mixed Docker/non-Docker environment.)","body":"How are you starting the Kafka containers?  Can you run Kafka directly on the host, so you have one fewer totally new technology to work with?  (In particular there&#39;s a confusing bit where the initial Kafka connection has the server tell the client where to connect, and that can be tricky to get right in a mixed Docker/non-Docker environment.)"},{"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"score":0,"creation_date":1608726377,"post_id":65423839,"comment_id":115666981,"body_markdown":"@DavidMaze\nto run zookeeper container:\n `docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0`  \n  to run kafka container: `docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0`\n yeah, it does work perfectly with kafka_2.13-2.6.0 folder on my host. I know it&#39;s a confusing structure and my api should run in a third container, but I&#39;m trying to understand how real Kafka container is.","body":"@DavidMaze to run zookeeper container:  <code>docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc&#47;cp-zookeeper:4.0.0</code>     to run kafka container: <code>docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT:&#47;&#47;localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc&#47;cp-kafka:4.0.0</code>  yeah, it does work perfectly with kafka_2.13-2.6.0 folder on my host. I know it&#39;s a confusing structure and my api should run in a third container, but I&#39;m trying to understand how real Kafka container is."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608746917,"post_id":65423839,"comment_id":115675387,"body_markdown":"What do you mean &quot;how real&quot;? 1)You don&#39;t need to use `--net=host`, and that only works as expected on Linux, anyway 2) Please read https://www.confluent.io/blog/kafka-listeners-explained/ 3) Using Compose would be easier (see the blog post) 4) why do you want/need to use an old version of Confluent Platform?","body":"What do you mean &quot;how real&quot;? 1)You don&#39;t need to use <code>--net=host</code>, and that only works as expected on Linux, anyway 2) Please read <a href=\"https://www.confluent.io/blog/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">confluent.io/blog/kafka-listeners-explained</a> 3) Using Compose would be easier (see the blog post) 4) why do you want/need to use an old version of Confluent Platform?"},{"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"score":0,"creation_date":1608751296,"post_id":65423839,"comment_id":115676930,"body_markdown":"@OneCricketeer \nI have no experience with virtual os at all. It&#39;s kinda black box for me and I&#39;d like to see how it does work step by step. \n1) and 4) I&#39;ve copied from docs.confluent.io . 2 and 3 - ok","body":"@OneCricketeer  I have no experience with virtual os at all. It&#39;s kinda black box for me and I&#39;d like to see how it does work step by step.  1) and 4) I&#39;ve copied from docs.confluent.io . 2 and 3 - ok"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608755898,"post_id":65423839,"comment_id":115678550,"body_markdown":"4) You could read the warning at the top of the page that links to the current version ;)","body":"4) You could read the warning at the top of the page that links to the current version ;)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608756066,"post_id":65423839,"comment_id":115678605,"body_markdown":"In any case, the key takeaway would be that you need an advertised listener from the container that exposes and returns the Kafka address. With that information, you can either run the spring app in or out of a container, but you&#39;d have to use different addresses and ports depending on how you configured Kafka","body":"In any case, the key takeaway would be that you need an advertised listener from the container that exposes and returns the Kafka address. With that information, you can either run the spring app in or out of a container, but you&#39;d have to use different addresses and ports depending on how you configured Kafka"}],"answers":[{"tags":[],"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608827341,"creation_date":1608827341,"answer_id":65440914,"question_id":65423839,"body_markdown":"For some reason, it works with a new version of the guide.\r\n\r\n[https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html][1]\r\n\r\n\r\n  [1]: https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html","title":"Kafka and zookeeper docker containers talking to my api on the host machine","body":"<p>For some reason, it works with a new version of the guide.</p>\n<p><a href=\"https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html</a></p>\n"}],"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65440914,"answer_count":1,"score":0,"last_activity_date":1693474575,"creation_date":1608724181,"question_id":65423839,"body_markdown":"Step 1: Setting up Zookeeper and Kafka Containers\r\n\r\nI&#39;ve diligently followed the instructions outlined in a particular guide to establish a Zookeeper container, establishing a seamless connection with a Kafka container. This connection facilitates their communication through local ports. Furthermore, I&#39;ve successfully created a topic named &quot;foo,&quot; featuring a single partition. To populate this topic, I&#39;ve dispatched a total of 42 messages using an appropriate Docker command. I&#39;ve comprehended that a Kafka port is now accessible on my local operating system via &quot;localhost:29092.&quot; This port essentially serves as a gateway for both message production and consumption.\r\n\r\nCommands used to launch the Zookeeper container:\r\n\r\n    docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0   \r\n  \r\nCommands used to initiate the Kafka container:\r\n\r\n    docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0\r\n\r\nStep 2: Integrating Kafka Producer and Consumer Scripts in Spring Boot API\r\n\r\nMoving forward, my objective revolves around integrating Kafka producer and consumer scripts into my Spring Boot API. Remarkably, I&#39;m striving to accomplish this without resorting to Docker Compose. My intention is to verify whether these two containers can function akin to a conventional Kafka distribution when operating on my host operating system.\r\n\r\nCommands employed for launching the Kafka container:\r\n\r\n    public class KafkaProducer {private static final String TOPIC = &quot;foo&quot;;...}\r\n    public class KafkaConsumer { @KafkaListener(topics = &quot;foo&quot;, groupId = &quot;group1&quot;)...}\r\n    \r\n    spring.kafka.producer.bootstrap-servers: localhost:29092\r\n    spring.kafka.consumer.bootstrap-servers: localhost:29092\r\n\r\nas result, I&#39;m getting these ERRORS:\r\n\r\n    2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Connection to node -1 (localhost/127.0.0.1:29092) could not be established. Broker may not be available.\r\n    2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Bootstrap broker localhost:29092 (id: -1 rack: null) disconnected.\r\n\r\nWhat went wrong?\r\n\r\n\r\n  [1]: https://docs.confluent.io/4.0.0/installation/docker/docs/quickstart.html#getting-started-with-docker-client\r\n  [2]: https://i.stack.imgur.com/q4WUJ.png","title":"Kafka and zookeeper docker containers talking to my api on the host machine","body":"<p>Step 1: Setting up Zookeeper and Kafka Containers</p>\n<p>I've diligently followed the instructions outlined in a particular guide to establish a Zookeeper container, establishing a seamless connection with a Kafka container. This connection facilitates their communication through local ports. Furthermore, I've successfully created a topic named &quot;foo,&quot; featuring a single partition. To populate this topic, I've dispatched a total of 42 messages using an appropriate Docker command. I've comprehended that a Kafka port is now accessible on my local operating system via &quot;localhost:29092.&quot; This port essentially serves as a gateway for both message production and consumption.</p>\n<p>Commands used to launch the Zookeeper container:</p>\n<pre><code>docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0   \n</code></pre>\n<p>Commands used to initiate the Kafka container:</p>\n<pre><code>docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0\n</code></pre>\n<p>Step 2: Integrating Kafka Producer and Consumer Scripts in Spring Boot API</p>\n<p>Moving forward, my objective revolves around integrating Kafka producer and consumer scripts into my Spring Boot API. Remarkably, I'm striving to accomplish this without resorting to Docker Compose. My intention is to verify whether these two containers can function akin to a conventional Kafka distribution when operating on my host operating system.</p>\n<p>Commands employed for launching the Kafka container:</p>\n<pre><code>public class KafkaProducer {private static final String TOPIC = &quot;foo&quot;;...}\npublic class KafkaConsumer { @KafkaListener(topics = &quot;foo&quot;, groupId = &quot;group1&quot;)...}\n\nspring.kafka.producer.bootstrap-servers: localhost:29092\nspring.kafka.consumer.bootstrap-servers: localhost:29092\n</code></pre>\n<p>as result, I'm getting these ERRORS:</p>\n<pre><code>2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Connection to node -1 (localhost/127.0.0.1:29092) could not be established. Broker may not be available.\n2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Bootstrap broker localhost:29092 (id: -1 rack: null) disconnected.\n</code></pre>\n<p>What went wrong?</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":2,"creation_date":1693475567,"post_id":77014587,"comment_id":135767188,"body_markdown":"All unchecked exceptions will trigger the rollback, but if for some reason you want to rollback with a checked exception you can do it with the rollbackFor, for example you have a custom exception when you do not find a specific database user, you can put it in your `rollbackFor` and every time you have it the rollback will occur.","body":"All unchecked exceptions will trigger the rollback, but if for some reason you want to rollback with a checked exception you can do it with the rollbackFor, for example you have a custom exception when you do not find a specific database user, you can put it in your <code>rollbackFor</code> and every time you have it the rollback will occur."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693475603,"post_id":77014587,"comment_id":135767193,"body_markdown":"There isn&#39;t any point, there is only a point using `noRollbackFor` for specific `RuntimeException`&#39;s or `rollbackFor` to include certain checked exceptions. It will still rollback all `RuntimeException` that occur.","body":"There isn&#39;t any point, there is only a point using <code>noRollbackFor</code> for specific <code>RuntimeException</code>&#39;s or <code>rollbackFor</code> to include certain checked exceptions. It will still rollback all <code>RuntimeException</code> that occur."},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1693477747,"post_id":77014587,"comment_id":135767617,"body_markdown":"It will keep rolling back for all runtime unchecked exceptions and errors. Only thing you did by this code @Transactional(rollbackFor = { SomeRuntimeException.class }), that you ensure that when you raise this exception, it rolls back.","body":"It will keep rolling back for all runtime unchecked exceptions and errors. Only thing you did by this code @Transactional(rollbackFor = { SomeRuntimeException.class }), that you ensure that when you raise this exception, it rolls back."}],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693474554,"creation_date":1693474425,"question_id":77014587,"body_markdown":"Suppose I have a method annotated with `@Transactional`, without the `rollbackFor` attribute:\r\n\r\n```java\r\n@Transational\r\npublic void doSomething() {\r\n    ...\r\n}\r\n```\r\n\r\nThe docs say that when `rollbackFor` is not specified, then if any `RuntimeException` or `Error` occurs, the transaction is rolled back.\r\n\r\nFrom the [`Transactional.rollbackFor()`][rollback-for] docs:\r\n\r\n&gt; By default, a transaction will be rolled back on `RuntimeException` and `Error` but not on checked exceptions (business exceptions). See `DefaultTransactionAttribute.rollbackOn(Throwable)` for a detailed explanation.\r\n\r\nFrom the [`DefaultTransactionAttribute.rollbackOn(Throwable)`][rollback-on] docs:\r\n\r\n&gt; The default behavior is as with EJB: rollback on unchecked exception (RuntimeException), assuming an unexpected outcome outside any business rules. Additionally, we also attempt to rollback on Error which is clearly an unexpected outcome as well.\r\n\r\nNow suppose I have a custom subclass of `RuntimeException` called `SomeRuntimeException`, And I add the `rollbackFor` attribute:\r\n\r\n```java\r\n@Transactional(rollbackFor = { SomeRuntimeException.class })\r\npublic void doSomething() {\r\n    ...\r\n}\r\n```\r\n\r\nDoes that mean that any other `RuntimeException`, like `ArrayIndexOutOfBoundsException` or even `NullPointerException`, will cause the transaction to be committed? (I think not, but I&#39;m not sure whether there are any exceptions to this.)\r\n\r\nAnyhow, what&#39;s the point of adding any subclass of `RuntimeException` to the array of `rollbackFor` values?\r\n\r\n[ROLLBACK-FOR]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#rollbackFor()\r\n[ROLLBACK-ON]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/interceptor/DefaultTransactionAttribute.html#rollbackOn(java.lang.Throwable)","title":"Does @Transactional(rollbackFor = { SomeRuntimeException.class }) in Spring cause other RuntimeExceptions to be excluded?","body":"<p>Suppose I have a method annotated with <code>@Transactional</code>, without the <code>rollbackFor</code> attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transational\npublic void doSomething() {\n    ...\n}\n</code></pre>\n<p>The docs say that when <code>rollbackFor</code> is not specified, then if any <code>RuntimeException</code> or <code>Error</code> occurs, the transaction is rolled back.</p>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#rollbackFor()\" rel=\"nofollow noreferrer\"><code>Transactional.rollbackFor()</code></a> docs:</p>\n<blockquote>\n<p>By default, a transaction will be rolled back on <code>RuntimeException</code> and <code>Error</code> but not on checked exceptions (business exceptions). See <code>DefaultTransactionAttribute.rollbackOn(Throwable)</code> for a detailed explanation.</p>\n</blockquote>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/interceptor/DefaultTransactionAttribute.html#rollbackOn(java.lang.Throwable)\" rel=\"nofollow noreferrer\"><code>DefaultTransactionAttribute.rollbackOn(Throwable)</code></a> docs:</p>\n<blockquote>\n<p>The default behavior is as with EJB: rollback on unchecked exception (RuntimeException), assuming an unexpected outcome outside any business rules. Additionally, we also attempt to rollback on Error which is clearly an unexpected outcome as well.</p>\n</blockquote>\n<p>Now suppose I have a custom subclass of <code>RuntimeException</code> called <code>SomeRuntimeException</code>, And I add the <code>rollbackFor</code> attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = { SomeRuntimeException.class })\npublic void doSomething() {\n    ...\n}\n</code></pre>\n<p>Does that mean that any other <code>RuntimeException</code>, like <code>ArrayIndexOutOfBoundsException</code> or even <code>NullPointerException</code>, will cause the transaction to be committed? (I think not, but I'm not sure whether there are any exceptions to this.)</p>\n<p>Anyhow, what's the point of adding any subclass of <code>RuntimeException</code> to the array of <code>rollbackFor</code> values?</p>\n"},{"tags":["java","spring","spring-boot","exception","jax-rs"],"comments":[{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1693346807,"post_id":77003565,"comment_id":135748232,"body_markdown":"Any reason why your RestController is a `@Service` and not `@RestController`","body":"Any reason why your RestController is a <code>@Service</code> and not <code>@RestController</code>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693360290,"creation_date":1693360290,"answer_id":77004530,"question_id":77003565,"body_markdown":"It is because you are using JAX-RS (RESTEasy) rather than spring-mvc to implement the REST API while `@RestControllerAdvice` is the spring-mvc stuff and so it is normal that JAX-RS cannot understand it and does not have any effect. \r\n\r\nYou should refer to [this][1] for how to handle exception in JAX-RS way.\r\n\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch30.html","title":"ExceptionHandler does not handle exception","body":"<p>It is because you are using JAX-RS (RESTEasy) rather than spring-mvc to implement the REST API while <code>@RestControllerAdvice</code> is the spring-mvc stuff and so it is normal that JAX-RS cannot understand it and does not have any effect.</p>\n<p>You should refer to <a href=\"https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch30.html\" rel=\"nofollow noreferrer\">this</a> for how to handle exception in JAX-RS way.</p>\n"},{"tags":[],"owner":{"account_id":29328418,"reputation":1,"user_id":22470404,"display_name":"ijumper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474278,"creation_date":1693387680,"answer_id":77006696,"question_id":77003565,"body_markdown":"Try this instead. You may need to use `@RestController` to annotate your controller\r\n\r\n```java\r\n@RestController\r\npublic class UserRestService {\r\n//....\r\n}\r\n```","title":"ExceptionHandler does not handle exception","body":"<p>Try this instead. You may need to use <code>@RestController</code> to annotate your controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class UserRestService {\n//....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18932242,"reputation":87,"user_id":13814148,"display_name":"Bufer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693416815,"creation_date":1693416815,"answer_id":77010321,"question_id":77003565,"body_markdown":"You are right, this did the trick:\r\n```\r\n@Provider\r\n@Component\r\npublic class ApiExceptionHandler implements ExceptionMapper&lt;RuntimeException&gt; {\r\n\r\n    @Override\r\n    public Response toResponse(RuntimeException ex) {\r\n        \r\n       \r\n        int defaultHttpErrorCode = HttpStatus.INTERNAL_SERVER_ERROR.value();\r\n        return Response.status(defaultHttpErrorCode).entity(new EmptyRestResponse()).build();\r\n    }\r\n}\r\n```\r\nFor your information: Provider and Component annotaions are needed.","title":"ExceptionHandler does not handle exception","body":"<p>You are right, this did the trick:</p>\n<pre><code>@Provider\n@Component\npublic class ApiExceptionHandler implements ExceptionMapper&lt;RuntimeException&gt; {\n\n    @Override\n    public Response toResponse(RuntimeException ex) {\n        \n       \n        int defaultHttpErrorCode = HttpStatus.INTERNAL_SERVER_ERROR.value();\n        return Response.status(defaultHttpErrorCode).entity(new EmptyRestResponse()).build();\n    }\n}\n</code></pre>\n<p>For your information: Provider and Component annotaions are needed.</p>\n"}],"owner":{"account_id":18932242,"reputation":87,"user_id":13814148,"display_name":"Bufer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77004530,"answer_count":3,"score":0,"last_activity_date":1693474278,"creation_date":1693342255,"question_id":77003565,"body_markdown":"I&#39;m making a RestApi in Spring boot. I tried to add exception handling so the client gets meaningful response other than 404.\r\n\r\nThis is my RestController:\r\n```\r\n@Path(&quot;/v1&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserRestService {\r\n\r\n  \r\n    private final UserRepository userRepository;\r\n\r\n    @GET\r\n    @Path(&quot;/users/{publicId}&quot;)\r\n    public RestResponse&lt;UserListItemRestDto&gt; getUserByPublicId(@PathParam(&quot;publicId&quot;) UUID publicId) {\r\n\r\n        Optional&lt;User&gt; optionalUser = userRepository.findOneByPublicId(publicId);\r\n\r\n        if(optionalUser.isEmpty()){\r\n            throw new ApiRequestException(&quot;CANNOT FIND USER&quot;);\r\n        }\r\n\r\n        User user = optionalUser.get();\r\n\r\n        return RestResponse.of(UserListItemRestDto.builder()\r\n                        .email(user.getEmail())\r\n                        .name(user.getName())\r\n                .build());\r\n    }\r\n\r\n...\r\n```\r\n\r\nMy ExceptionHandler:\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n    @ExceptionHandler(ApiRequestException.class)\r\n    public ResponseEntity&lt;ApiException&gt; handleApiRequestException(ApiRequestException e){\r\n        return new ResponseEntity&lt;&gt;(new ApiException(e.getMessage(),\r\n          e.getCause(),\r\n          HttpStatus.BAD_REQUEST, \r\n          ZonedDateTime.now()),HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\nMy CustomException:\r\n\r\n```\r\npublic class ApiRequestException extends RuntimeException{\r\n\r\n    public ApiRequestException(String message){\r\n        super(message);\r\n    }\r\n\r\n    public ApiRequestException(String message, Throwable cause){\r\n        super(message,cause);\r\n    }\r\n}\r\n```\r\n\r\nCurrently if no user found it throws the exception but doesn&#39;t get handled.\r\n```\r\norg.jboss.resteasy.spi.UnhandledException: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\r\n\tat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\r\n\tat com.backend.flows.user.rest.UserRestService.getUserByPublicId(UserRestService.java:55) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\t... 42 common frames omitted\r\n```\r\n\r\nIs the Handler not scanned or I left out an annotation or a misconfig?","title":"ExceptionHandler does not handle exception","body":"<p>I'm making a RestApi in Spring boot. I tried to add exception handling so the client gets meaningful response other than 404.</p>\n<p>This is my RestController:</p>\n<pre><code>@Path(&quot;/v1&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class UserRestService {\n\n  \n    private final UserRepository userRepository;\n\n    @GET\n    @Path(&quot;/users/{publicId}&quot;)\n    public RestResponse&lt;UserListItemRestDto&gt; getUserByPublicId(@PathParam(&quot;publicId&quot;) UUID publicId) {\n\n        Optional&lt;User&gt; optionalUser = userRepository.findOneByPublicId(publicId);\n\n        if(optionalUser.isEmpty()){\n            throw new ApiRequestException(&quot;CANNOT FIND USER&quot;);\n        }\n\n        User user = optionalUser.get();\n\n        return RestResponse.of(UserListItemRestDto.builder()\n                        .email(user.getEmail())\n                        .name(user.getName())\n                .build());\n    }\n\n...\n</code></pre>\n<p>My ExceptionHandler:</p>\n<pre><code>@RestControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler(ApiRequestException.class)\n    public ResponseEntity&lt;ApiException&gt; handleApiRequestException(ApiRequestException e){\n        return new ResponseEntity&lt;&gt;(new ApiException(e.getMessage(),\n          e.getCause(),\n          HttpStatus.BAD_REQUEST, \n          ZonedDateTime.now()),HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>My CustomException:</p>\n<pre><code>public class ApiRequestException extends RuntimeException{\n\n    public ApiRequestException(String message){\n        super(message);\n    }\n\n    public ApiRequestException(String message, Throwable cause){\n        super(message,cause);\n    }\n}\n</code></pre>\n<p>Currently if no user found it throws the exception but doesn't get handled.</p>\n<pre><code>org.jboss.resteasy.spi.UnhandledException: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\n    at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\n    at com.backend.flows.user.rest.UserRestService.getUserByPublicId(UserRestService.java:55) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    ... 42 common frames omitted\n</code></pre>\n<p>Is the Handler not scanned or I left out an annotation or a misconfig?</p>\n"},{"tags":["java","image","file","azure-cognitive-services","photo"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693474249,"creation_date":1693474249,"answer_id":77014559,"question_id":76976003,"body_markdown":"Calculate the scaling factor as a ratio of the face size to a reference size (e.g., 100x100). Then, you can multiply this scaling factor with your fixed minimum pixel size (e.g., 10) to get a dynamically adjusted minimum pixel size.\r\n\r\n```java\r\ndouble scalingFactor = (double) minDimension / referenceSize;\r\nint dynamicMinPixelSize = (int) (scalingFactor * 10); // Adjust 10 based on your needs\r\nint pixelSize = Math.max(pixelSize, dynamicMinPixelSize);\r\n```\r\n\r\n- Instead of iterating over each pixel within the block, you can use the `BufferedImage` method `setRGB(int startX, int startY, int w, int h, int[] rgbArray, int offset, int scansize)` to set a block of pixels in one operation.\r\n\r\n```java\r\nint[] pixelArray = new int[pixelBlockWidth - x];\r\nArrays.fill(pixelArray, pixelColor);\r\n\r\nfor (int yd = y; yd &lt; pixelBlockHeight; yd++) {\r\n    bufferedImage.setRGB(x, yd, pixelBlockWidth - x, 1, pixelArray, 0, pixelBlockWidth - x);\r\n}\r\n```\r\n\r\n- Throwing an `ArithmeticException` if the `maxPixelBlocks` value is not within the valid range. It might be better to throw an `IllegalArgumentException` instead.\r\n\r\n```java\r\nif (maxPixelBlocks &lt;= 1 || maxPixelBlocks &gt; 36) {\r\n    throw new IllegalArgumentException(&quot;Number of pixel blocks must be in the range of 2 to 36&quot;);\r\n}\r\n```\r\n\r\nI am able get the data that which I send the image.\r\n\r\n**Result:**\r\n![enter image description here](https://i.imgur.com/NWGTXNM.png)\r\n\r\n- Simple block filling might not produce the best quality output. There are algorithms that average the colors within each block, which can lead to smoother pixelation effects.","title":"Pixelate the faces that come to me from an image and resize pixel size","body":"<p>Calculate the scaling factor as a ratio of the face size to a reference size (e.g., 100x100). Then, you can multiply this scaling factor with your fixed minimum pixel size (e.g., 10) to get a dynamically adjusted minimum pixel size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scalingFactor = (double) minDimension / referenceSize;\nint dynamicMinPixelSize = (int) (scalingFactor * 10); // Adjust 10 based on your needs\nint pixelSize = Math.max(pixelSize, dynamicMinPixelSize);\n</code></pre>\n<ul>\n<li>Instead of iterating over each pixel within the block, you can use the <code>BufferedImage</code> method <code>setRGB(int startX, int startY, int w, int h, int[] rgbArray, int offset, int scansize)</code> to set a block of pixels in one operation.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int[] pixelArray = new int[pixelBlockWidth - x];\nArrays.fill(pixelArray, pixelColor);\n\nfor (int yd = y; yd &lt; pixelBlockHeight; yd++) {\n    bufferedImage.setRGB(x, yd, pixelBlockWidth - x, 1, pixelArray, 0, pixelBlockWidth - x);\n}\n</code></pre>\n<ul>\n<li>Throwing an <code>ArithmeticException</code> if the <code>maxPixelBlocks</code> value is not within the valid range. It might be better to throw an <code>IllegalArgumentException</code> instead.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (maxPixelBlocks &lt;= 1 || maxPixelBlocks &gt; 36) {\n    throw new IllegalArgumentException(&quot;Number of pixel blocks must be in the range of 2 to 36&quot;);\n}\n</code></pre>\n<p>I am able get the data that which I send the image.</p>\n<p><strong>Result:</strong>\n<img src=\"https://i.imgur.com/NWGTXNM.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Simple block filling might not produce the best quality output. There are algorithms that average the colors within each block, which can lead to smoother pixelation effects.</li>\n</ul>\n"}],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77014559,"answer_count":1,"score":0,"last_activity_date":1693474249,"creation_date":1692956261,"question_id":76976003,"body_markdown":"I am trying to pixelate the faces that come to me from an image. I am using the Azure API to pixelate the faces, and it returns me where the faces are. The problem is that depending on the size of the face, one pixelation or another must be applied.\r\nFor example, for a 20x20 face, it is not worth applying a pixel of size 10. But it is worth applying a pixel of 10 on a 100x100 face, for example.\r\n\r\nthanks in advance!\r\n\r\n    \r\n    /**\r\n     * Pixela las caras en una imagen.\r\n     * Lee una imagen desde un archivo, y para cada cara detectada en la imagen (faces) ,\r\n     * recorre cada bloque de pixels del tama&#241;o especificado en la regi&#243;n de la cara. Cada bloque de\r\n     * pixels se llena con el color del pixel superior izquierdo del bloque.\r\n     * Finalmente, la imagen modificada se vuelve a escribir en el archivo original.\r\n     *\r\n     * @param pixelSize Tama&#241;o de los pixels en la imagen pixelada.\r\n     * @param inputFile Archivo de la imagen a pixelar.\r\n     * @param faces     Lista de caras detectadas en la imagen.\r\n     *\r\n     * @throws IOException Si ocurre un error durante la lectura o la escritura del archivo de la imagen.\r\n     */\r\n    public static PixelatedOutput pixelateFaces(int pixelSize, File inputFile,\r\n                                                List&lt;AzureComputerVisionService.FaceDetectionResponse&gt; faces)\r\n    throws IOException {\r\n        BufferedImage bufferedImage = ImageIO.read(inputFile);\r\n        File f = File.createTempFile(&quot;pixelate&quot;, &quot;.jpg&quot;);\r\n\r\n        // Iterar sobre cada cara detectada\r\n        for (AzureComputerVisionService.FaceDetectionResponse face : faces) {\r\n            AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle =\r\n                    face.faceRectangle;\r\n            //por cada cara nuevo pixel size.\r\n            pixelSize = calculatePixelSize(faceRectangle, pixelSize);\r\n            int rectangleRight = faceRectangle.left + faceRectangle.width;\r\n            int rectangleBottom = faceRectangle.top + faceRectangle.height;\r\n\r\n            for (int y = faceRectangle.top; y &lt; rectangleBottom; y += pixelSize) {\r\n                for (int x = faceRectangle.left; x &lt; rectangleRight; x += pixelSize) {\r\n\r\n                    int pixelColor = bufferedImage.getRGB(x, y);\r\n\r\n                    int pixelBlockWidth = Math.min(x + pixelSize, rectangleRight);\r\n                    int pixelBlockHeight = Math.min(y + pixelSize, rectangleBottom);\r\n\r\n                    for (int yd = y; yd &lt; pixelBlockHeight; yd++) {\r\n                        for (int xd = x; xd &lt; pixelBlockWidth; xd++) {\r\n                            bufferedImage.setRGB(xd, yd, pixelColor);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, f);\r\n        PixelatedOutput pixelatedOutput = new PixelatedOutput();\r\n        pixelatedOutput.setFile(f);\r\n        pixelatedOutput.setContentType(&quot;image/jpeg&quot;);\r\n        return pixelatedOutput;\r\n    }\r\n\r\n    /**\r\n     * Calcula el tama&#241;o del p&#237;xel para una cara dada, bas&#225;ndose en la dimensi&#243;n m&#237;nima de la cara (ancho o alto, lo que sea menor)\r\n     * y el n&#250;mero m&#225;ximo de bloques de p&#237;xeles que representar&#225;n la cara, limitado a 36.\r\n     * &lt;p&gt;\r\n     * El m&#233;todo funciona tomando la dimensi&#243;n m&#237;nima de la cara, la cual siempre ser&#225; mayor o igual a 36 p&#237;xeles, y dividi&#233;ndola\r\n     * por el n&#250;mero m&#225;ximo de bloques de p&#237;xeles (limitado a un rango de 2 a 36). Esto calcula el tama&#241;o de cada p&#237;xel, asegurando\r\n     * que la representaci&#243;n de la cara tendr&#225; exactamente {@code maxPixelBlocks} p&#237;xeles, y cada p&#237;xel tendr&#225; un tama&#241;o proporcional\r\n     * al tama&#241;o de la cara.\r\n     * &lt;p&gt;\r\n     * Esto permite representar la cara con un nivel de detalle constante, independientemente de su tama&#241;o.\r\n     * &lt;p&gt;\r\n     * Para m&#225;s informaci&#243;n sobre el tama&#241;o m&#237;nimo detectable de la cara, consultear el service:\r\n     * &lt;a href=&quot;https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236&quot;&gt;documentaci&#243;n oficial de Azure&lt;/a&gt;.\r\n     *\r\n     * @param faceRectangle Rect&#225;ngulo que define las dimensiones de la cara. Las dimensiones deben ser mayores que cero y m&#237;nimo de 36 p&#237;xeles. (asi lo dice azure).\r\n     * @param maxPixelBlocks N&#250;mero m&#225;ximo de bloques de p&#237;xeles permitidos para representar la cara, debe estar en el rango de 2 a 36.\r\n     * @return El tama&#241;o del p&#237;xel calculado, que es la dimensi&#243;n m&#237;nima de la cara dividida por {@code maxPixelBlocks}, con un m&#237;nimo de 2.\r\n     * @throws ArithmeticException si {@code maxPixelBlocks} es menor o igual a 0 o mayor que 36.\r\n     */\r\n    public static int calculatePixelSize(AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle,\r\n                                          int maxPixelBlocks) {\r\n        // Escogemos la m&#237;nima dimensi&#243;n entre el ancho y el alto. Nos determina siempre el MIN.\r\n        if(maxPixelBlocks&lt;=1 || maxPixelBlocks&gt;36){\r\n            log.error(&quot;N&#250;mero m&#225;ximo de bloques de p&#237;xeles permitidos para representar la cara no puede ser 0 o menor o mayor que 36&quot;);\r\n            throw new ArithmeticException();\r\n        }\r\n        int minDimension = Math.min(faceRectangle.width, faceRectangle.height);\r\n        int pixelSize = minDimension / maxPixelBlocks; //no va a ser\r\n        // Asegurarse de que el tama&#241;o del p&#237;xel sea al menos un valor m&#237;nimo. (en el caso que sea 1).\r\n        pixelSize = Math.max(pixelSize, 10);\r\n        return pixelSize;\r\n    }","title":"Pixelate the faces that come to me from an image and resize pixel size","body":"<p>I am trying to pixelate the faces that come to me from an image. I am using the Azure API to pixelate the faces, and it returns me where the faces are. The problem is that depending on the size of the face, one pixelation or another must be applied.\nFor example, for a 20x20 face, it is not worth applying a pixel of size 10. But it is worth applying a pixel of 10 on a 100x100 face, for example.</p>\n<p>thanks in advance!</p>\n<pre><code>/**\n * Pixela las caras en una imagen.\n * Lee una imagen desde un archivo, y para cada cara detectada en la imagen (faces) ,\n * recorre cada bloque de pixels del tamao especificado en la regin de la cara. Cada bloque de\n * pixels se llena con el color del pixel superior izquierdo del bloque.\n * Finalmente, la imagen modificada se vuelve a escribir en el archivo original.\n *\n * @param pixelSize Tamao de los pixels en la imagen pixelada.\n * @param inputFile Archivo de la imagen a pixelar.\n * @param faces     Lista de caras detectadas en la imagen.\n *\n * @throws IOException Si ocurre un error durante la lectura o la escritura del archivo de la imagen.\n */\npublic static PixelatedOutput pixelateFaces(int pixelSize, File inputFile,\n                                            List&lt;AzureComputerVisionService.FaceDetectionResponse&gt; faces)\nthrows IOException {\n    BufferedImage bufferedImage = ImageIO.read(inputFile);\n    File f = File.createTempFile(&quot;pixelate&quot;, &quot;.jpg&quot;);\n\n    // Iterar sobre cada cara detectada\n    for (AzureComputerVisionService.FaceDetectionResponse face : faces) {\n        AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle =\n                face.faceRectangle;\n        //por cada cara nuevo pixel size.\n        pixelSize = calculatePixelSize(faceRectangle, pixelSize);\n        int rectangleRight = faceRectangle.left + faceRectangle.width;\n        int rectangleBottom = faceRectangle.top + faceRectangle.height;\n\n        for (int y = faceRectangle.top; y &lt; rectangleBottom; y += pixelSize) {\n            for (int x = faceRectangle.left; x &lt; rectangleRight; x += pixelSize) {\n\n                int pixelColor = bufferedImage.getRGB(x, y);\n\n                int pixelBlockWidth = Math.min(x + pixelSize, rectangleRight);\n                int pixelBlockHeight = Math.min(y + pixelSize, rectangleBottom);\n\n                for (int yd = y; yd &lt; pixelBlockHeight; yd++) {\n                    for (int xd = x; xd &lt; pixelBlockWidth; xd++) {\n                        bufferedImage.setRGB(xd, yd, pixelColor);\n                    }\n                }\n            }\n        }\n    }\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, f);\n    PixelatedOutput pixelatedOutput = new PixelatedOutput();\n    pixelatedOutput.setFile(f);\n    pixelatedOutput.setContentType(&quot;image/jpeg&quot;);\n    return pixelatedOutput;\n}\n\n/**\n * Calcula el tamao del pxel para una cara dada, basndose en la dimensin mnima de la cara (ancho o alto, lo que sea menor)\n * y el nmero mximo de bloques de pxeles que representarn la cara, limitado a 36.\n * &lt;p&gt;\n * El mtodo funciona tomando la dimensin mnima de la cara, la cual siempre ser mayor o igual a 36 pxeles, y dividindola\n * por el nmero mximo de bloques de pxeles (limitado a un rango de 2 a 36). Esto calcula el tamao de cada pxel, asegurando\n * que la representacin de la cara tendr exactamente {@code maxPixelBlocks} pxeles, y cada pxel tendr un tamao proporcional\n * al tamao de la cara.\n * &lt;p&gt;\n * Esto permite representar la cara con un nivel de detalle constante, independientemente de su tamao.\n * &lt;p&gt;\n * Para ms informacin sobre el tamao mnimo detectable de la cara, consultear el service:\n * &lt;a href=&quot;https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236&quot;&gt;documentacin oficial de Azure&lt;/a&gt;.\n *\n * @param faceRectangle Rectngulo que define las dimensiones de la cara. Las dimensiones deben ser mayores que cero y mnimo de 36 pxeles. (asi lo dice azure).\n * @param maxPixelBlocks Nmero mximo de bloques de pxeles permitidos para representar la cara, debe estar en el rango de 2 a 36.\n * @return El tamao del pxel calculado, que es la dimensin mnima de la cara dividida por {@code maxPixelBlocks}, con un mnimo de 2.\n * @throws ArithmeticException si {@code maxPixelBlocks} es menor o igual a 0 o mayor que 36.\n */\npublic static int calculatePixelSize(AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle,\n                                      int maxPixelBlocks) {\n    // Escogemos la mnima dimensin entre el ancho y el alto. Nos determina siempre el MIN.\n    if(maxPixelBlocks&lt;=1 || maxPixelBlocks&gt;36){\n        log.error(&quot;Nmero mximo de bloques de pxeles permitidos para representar la cara no puede ser 0 o menor o mayor que 36&quot;);\n        throw new ArithmeticException();\n    }\n    int minDimension = Math.min(faceRectangle.width, faceRectangle.height);\n    int pixelSize = minDimension / maxPixelBlocks; //no va a ser\n    // Asegurarse de que el tamao del pxel sea al menos un valor mnimo. (en el caso que sea 1).\n    pixelSize = Math.max(pixelSize, 10);\n    return pixelSize;\n}\n</code></pre>\n"},{"tags":["java","android","xml","video-streaming","agora.io"],"comments":[{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693374050,"post_id":76956373,"comment_id":135750367,"body_markdown":"You&#39;re using setupLocalVideo() to set up the local video feed, but I don&#39;t see where this method is called in your code. It should be called before you join the channel.\nIn setupLocalVideo(), you are setting VideoCanvas.RENDER_MODE_FILL for the local video. You might want to try VideoCanvas.RENDER_MODE_HIDDEN instead, as this mode might be more appropriate for your use case.","body":"You&#39;re using setupLocalVideo() to set up the local video feed, but I don&#39;t see where this method is called in your code. It should be called before you join the channel. In setupLocalVideo(), you are setting VideoCanvas.RENDER_MODE_FILL for the local video. You might want to try VideoCanvas.RENDER_MODE_HIDDEN instead, as this mode might be more appropriate for your use case."},{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693382418,"post_id":76956373,"comment_id":135751664,"body_markdown":"Its being called inside the joinChannel function. The render mode change is not showing any effect. Do you have any working example.?","body":"Its being called inside the joinChannel function. The render mode change is not showing any effect. Do you have any working example.?"}],"answers":[{"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693459704,"creation_date":1693383393,"answer_id":77006113,"question_id":76956373,"body_markdown":"Please note that this `example` may not cover all the functionalities of your code, but it should give you a `starting point`.\r\n\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.SurfaceView;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.Toast;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import io.agora.rtc.Constants;\r\n    import io.agora.rtc.IRtcEngineEventHandler;\r\n    import io.agora.rtc.RtcEngine;\r\n    \r\n    public class VideoCallActivity extends AppCompatActivity {\r\n    \r\n        private static final int PERMISSION_REQ_ID = 1;\r\n        private static final String[] REQUESTED_PERMISSIONS = {\r\n                Manifest.permission.RECORD_AUDIO,\r\n                Manifest.permission.CAMERA\r\n        };\r\n    \r\n        private RtcEngine rtcEngine;\r\n        private SurfaceView localSurfaceView;\r\n        private SurfaceView remoteSurfaceView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_video_call);\r\n    \r\n            if (!checkSelfPermission()) {\r\n                ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\r\n            }\r\n    \r\n            initializeAgoraEngine();\r\n        }\r\n    \r\n        private boolean checkSelfPermission() {\r\n            return ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                    ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    \r\n        private void initializeAgoraEngine() {\r\n            try {\r\n                rtcEngine = RtcEngine.create(getBaseContext(), &quot;YOUR_APP_ID&quot;, new IRtcEngineEventHandler() {\r\n                    @Override\r\n                    public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n                        setupLocalVideo();\r\n                        rtcEngine.startPreview();\r\n                        rtcEngine.enableVideo();\r\n                        rtcEngine.joinChannel(null, channel, null, uid);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onUserJoined(int uid, int elapsed) {\r\n                        setupRemoteVideo(uid);\r\n                    }\r\n                });\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void setupLocalVideo() {\r\n            localSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\r\n            localSurfaceView.setZOrderMediaOverlay(true);\r\n            FrameLayout container = findViewById(R.id.local_video_container);\r\n            container.addView(localSurfaceView);\r\n            rtcEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FIT, 0));\r\n        }\r\n    \r\n        private void setupRemoteVideo(int uid) {\r\n            remoteSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\r\n            FrameLayout container = findViewById(R.id.remote_video_container);\r\n            container.addView(remoteSurfaceView);\r\n            rtcEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (rtcEngine != null) {\r\n                rtcEngine.leaveChannel();\r\n                rtcEngine.destroy();\r\n                rtcEngine = null;\r\n            }\r\n        }\r\n    }\r\n\r\nLayout.xml\r\n\r\n    &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/local_video_container&quot;\r\n        android:layout_width=&quot;160dp&quot;\r\n        android:layout_height=&quot;240dp&quot;\r\n        android:layout_gravity=&quot;top|start&quot;/&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/remote_video_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\n\r\nDon&#39;t forget to replace `YOUR_APP_ID` with your actual `agora.io` app id. I&#39;ve just covered the basic video setup and rendering aspects.\r\n","title":"Agora showing black screen with occasional screen capture. But audio works fine and both users are able to join the channel","body":"<p>Please note that this <code>example</code> may not cover all the functionalities of your code, but it should give you a <code>starting point</code>.</p>\n<pre><code>import android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.FrameLayout;\nimport android.widget.Toast;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport io.agora.rtc.Constants;\nimport io.agora.rtc.IRtcEngineEventHandler;\nimport io.agora.rtc.RtcEngine;\n\npublic class VideoCallActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQ_ID = 1;\n    private static final String[] REQUESTED_PERMISSIONS = {\n            Manifest.permission.RECORD_AUDIO,\n            Manifest.permission.CAMERA\n    };\n\n    private RtcEngine rtcEngine;\n    private SurfaceView localSurfaceView;\n    private SurfaceView remoteSurfaceView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_call);\n\n        if (!checkSelfPermission()) {\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\n        }\n\n        initializeAgoraEngine();\n    }\n\n    private boolean checkSelfPermission() {\n        return ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void initializeAgoraEngine() {\n        try {\n            rtcEngine = RtcEngine.create(getBaseContext(), &quot;YOUR_APP_ID&quot;, new IRtcEngineEventHandler() {\n                @Override\n                public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n                    setupLocalVideo();\n                    rtcEngine.startPreview();\n                    rtcEngine.enableVideo();\n                    rtcEngine.joinChannel(null, channel, null, uid);\n                }\n\n                @Override\n                public void onUserJoined(int uid, int elapsed) {\n                    setupRemoteVideo(uid);\n                }\n            });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void setupLocalVideo() {\n        localSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\n        localSurfaceView.setZOrderMediaOverlay(true);\n        FrameLayout container = findViewById(R.id.local_video_container);\n        container.addView(localSurfaceView);\n        rtcEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FIT, 0));\n    }\n\n    private void setupRemoteVideo(int uid) {\n        remoteSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\n        FrameLayout container = findViewById(R.id.remote_video_container);\n        container.addView(remoteSurfaceView);\n        rtcEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (rtcEngine != null) {\n            rtcEngine.leaveChannel();\n            rtcEngine.destroy();\n            rtcEngine = null;\n        }\n    }\n}\n</code></pre>\n<p>Layout.xml</p>\n<pre><code>&lt;FrameLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/local_video_container&quot;\n    android:layout_width=&quot;160dp&quot;\n    android:layout_height=&quot;240dp&quot;\n    android:layout_gravity=&quot;top|start&quot;/&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/remote_video_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n\n<p>Don't forget to replace <code>YOUR_APP_ID</code> with your actual <code>agora.io</code> app id. I've just covered the basic video setup and rendering aspects.</p>\n"}],"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693474233,"creation_date":1692732779,"question_id":76956373,"body_markdown":"I am not able to identify the problem here.\r\n\r\nHere is my code for Agora Video Call Screen.\r\n\r\n\r\n    public class VideoCallActivity extends AppCompatActivity implements WebServiceInterface {\r\n\r\n    Session session;\r\n    private AgoraVideoViewer agView = null;\r\n    private String appId = &quot;xxxx&quot;;\r\n    private String appCertificate = &quot;xxxx&quot;;\r\n    private String channelName = &quot;VideoCallTestChannelNew&quot;;\r\n    private String token = &quot;xxxx&quot;;\r\n\r\n    private int uid = 5;\r\n    private boolean isJoined = false;\r\n\r\n    private RtcEngine agoraEngine;\r\n    private SurfaceView localSurfaceView;\r\n    private SurfaceView remoteSurfaceView;\r\n\r\n    FloatingActionButton fabLeaveChannel;\r\n    String userID, doctorID, userName, doctorName, appointmentID;\r\n\r\n    private static final int PERMISSION_REQ_ID = 22;\r\n    private static final String[] REQUESTED_PERMISSIONS =\r\n            {\r\n                    Manifest.permission.RECORD_AUDIO,\r\n                    Manifest.permission.CAMERA\r\n            };\r\n    private int GET_APPOINTMENT_REQUEST_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_call);\r\n\r\n        init();\r\n\r\n        fabLeaveChannel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                leaveChannel();\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void init() {\r\n\r\n        session = new Session(this);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        TextView textViewToolbarTitle = toolbar.findViewById(R.id.textViewToolbarTitle);\r\n        textViewToolbarTitle.setText(&quot;OnGoing Call&quot;);\r\n        getSupportActionBar().setTitle(null);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n\r\n        userID = getIntent().getStringExtra(LinksAndKeys.USER_ID_KEY);\r\n        userName = getIntent().getStringExtra(LinksAndKeys.USER_NAME_KEY);\r\n        doctorID = getIntent().getStringExtra(LinksAndKeys.DOCTOR_ID_KEY);\r\n        doctorName = getIntent().getStringExtra(LinksAndKeys.DOCTOR_NAME_KEY);\r\n        appointmentID = getIntent().getStringExtra(LinksAndKeys.APPOINTMENT_ID_KEY);\r\n\r\n        channelName = userID + &quot;:&quot; + userName + &quot;:&quot; + appointmentID + &quot;:&quot; + doctorID + &quot;:&quot; + doctorName;\r\n        channelName = channelName.replaceAll(&quot; &quot;, &quot;_&quot;).toLowerCase();\r\n\r\n        fabLeaveChannel = findViewById(R.id.fabLeaveChannel);\r\n\r\n        try {\r\n            agView = new AgoraVideoViewer(this, new AgoraConnectionData(appId, token), AgoraVideoViewer.Style.FLOATING, new AgoraSettings(), null);\r\n        } catch (Exception e) {\r\n            Log.e(&quot;AgoraVideoViewer&quot;,\r\n                    &quot;Could not initialize AgoraVideoViewer. Check that your app Id is valid.&quot;);\r\n            Log.e(&quot;Exception&quot;, e.toString());\r\n            return;\r\n        }\r\n\r\n        if (!checkSelfPermission()) {\r\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, \r\n    PERMISSION_REQ_ID);\r\n        }\r\n        setupVideoSDKEngine();\r\n\r\n    }\r\n\r\n    private boolean checkSelfPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) != PackageManager.PERMISSION_GRANTED ||\r\n                ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) != PackageManager.PERMISSION_GRANTED) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    void showMessage(String message) {\r\n        runOnUiThread(() -&gt;\r\n                Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n    private void setupVideoSDKEngine() {\r\n        try {\r\n            RtcEngineConfig config = new RtcEngineConfig();\r\n            config.mContext = getBaseContext();\r\n            config.mAppId = appId;\r\n            config.mEventHandler = mRtcEventHandler;\r\n            agoraEngine = RtcEngine.create(config);\r\n            agoraEngine.enableVideo();\r\n\r\n            sendGetAppointmentRequest();\r\n        } catch (Exception e) {\r\n            showMessage(e.toString());\r\n        }\r\n    }\r\n\r\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\r\n        @Override\r\n        // Listen for the remote host joining the channel to get the uid of the host.\r\n        public void onUserJoined(int uid, int elapsed) {\r\n            showMessage(&quot;Remote user joined &quot; + uid);\r\n            runOnUiThread(() -&gt; setupRemoteVideo(uid));\r\n        }\r\n\r\n        @Override\r\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n            isJoined = true;\r\n            showMessage(&quot;Joined Channel &quot; + channel);\r\n        }\r\n\r\n        @Override\r\n        public void onUserOffline(int uid, int reason) {\r\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\r\n            runOnUiThread(() -&gt; remoteSurfaceView.setVisibility(View.GONE));\r\n        }\r\n    };\r\n\r\n    private void setupRemoteVideo(int uid) {\r\n        FrameLayout container = findViewById(R.id.remote_video_view_container);\r\n        remoteSurfaceView = new SurfaceView(getBaseContext());\r\n        remoteSurfaceView.setZOrderMediaOverlay(true);\r\n        container.addView(remoteSurfaceView);\r\n        agoraEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\r\n        remoteSurfaceView.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    private void setupLocalVideo() {\r\n        FrameLayout container = findViewById(R.id.local_video_view_container);\r\n        localSurfaceView = new SurfaceView(getBaseContext());\r\n        container.addView(localSurfaceView);\r\n        agoraEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FILL, 0));\r\n    }\r\n\r\n    public void joinChannel() {\r\n        if (checkSelfPermission()) {\r\n            ChannelMediaOptions options = new ChannelMediaOptions();\r\n    //            options.channelProfile = Constants.CHANNEL_PROFILE_COMMUNICATION;\r\n    //            options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\r\n            setupLocalVideo();\r\n            localSurfaceView.setVisibility(View.VISIBLE);\r\n            agoraEngine.startPreview();\r\n            agoraEngine.joinChannel(token, channelName, String.valueOf(options), uid);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Permissions was not granted&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    public void leaveChannel() {\r\n        if (!isJoined) {\r\n            showMessage(&quot;Join a channel first&quot;);\r\n        } else {\r\n            agoraEngine.leaveChannel();\r\n            showMessage(&quot;You left the channel&quot;);\r\n            // Stop remote video rendering.\r\n            if (remoteSurfaceView != null) remoteSurfaceView.setVisibility(View.GONE);\r\n            // Stop local video rendering.\r\n            if (localSurfaceView != null) localSurfaceView.setVisibility(View.GONE);\r\n            isJoined = false;\r\n        }\r\n    }\r\n\r\n    private void sendGetAppointmentRequest() {\r\n        HashMap&lt;String, String&gt; paramsList = new HashMap&lt;&gt;();\r\n\r\n        WebServiceController webServiceController = new WebServiceController(VideoCallActivity.this, VideoCallActivity.this);\r\n        String hitURL = LinksAndKeys.GET_APPOINTMENT_BY_ID_URL + appointmentID;\r\n        webServiceController.sendGETRequest(session.getToken(), LinksAndKeys.REQUEST_MESSAGE, hitURL, paramsList, GET_APPOINTMENT_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void getResponse(int responseCode, String responseString, String requestType, int requestCode) {\r\n        if (responseCode == 200) {\r\n            generateToken();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                onBackPressed();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        agoraEngine.stopPreview();\r\n        agoraEngine.leaveChannel();\r\n\r\n        // Destroy the engine in a sub-thread to avoid congestion\r\n        new Thread(() -&gt; {\r\n            RtcEngine.destroy();\r\n            agoraEngine = null;\r\n        }).start();\r\n    }\r\n\r\n    public void generateToken() {\r\n\r\n        RtcTokenBuilder2 tokenBuilder = new RtcTokenBuilder2();\r\n        long expirationTimeInSeconds = 3600;\r\n        int timestamp = (int) (System.currentTimeMillis() / 1000 + expirationTimeInSeconds);\r\n\r\n        System.out.println(&quot;UID token&quot;);\r\n        String result = tokenBuilder.buildTokenWithUid(appId, appCertificate,\r\n                channelName, uid, RtcTokenBuilder2.Role.ROLE_PUBLISHER, timestamp, timestamp);\r\n        System.out.println(&quot;The new Token Is - &quot; + result);\r\n        token = result;\r\n        joinChannel();\r\n    }\r\n\r\n    }\r\n\r\nHere is the xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            layout=&quot;@layout/layout_toolbar&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            tools:context=&quot;.VideoCallActivity&quot;&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/remote_video_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_margin=&quot;@dimen/size_medium&quot;\r\n                android:background=&quot;@android:color/darker_gray&quot; /&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/local_video_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_gravity=&quot;bottom|right&quot;\r\n                android:layout_margin=&quot;@dimen/size_large&quot;\r\n                android:background=&quot;@android:color/darker_gray&quot; /&gt;\r\n    \r\n            &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n                android:id=&quot;@+id/fabLeaveChannel&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;bottom|center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;@dimen/size_extra_large&quot;\r\n                android:src=&quot;@android:drawable/ic_menu_call&quot;\r\n                android:tint=&quot;@color/white&quot;\r\n                app:backgroundTint=&quot;@color/highlightRed&quot; /&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nIs anyone able to understand what is going wrong here?","title":"Agora showing black screen with occasional screen capture. But audio works fine and both users are able to join the channel","body":"<p>I am not able to identify the problem here.</p>\n<p>Here is my code for Agora Video Call Screen.</p>\n<pre><code>public class VideoCallActivity extends AppCompatActivity implements WebServiceInterface {\n\nSession session;\nprivate AgoraVideoViewer agView = null;\nprivate String appId = &quot;xxxx&quot;;\nprivate String appCertificate = &quot;xxxx&quot;;\nprivate String channelName = &quot;VideoCallTestChannelNew&quot;;\nprivate String token = &quot;xxxx&quot;;\n\nprivate int uid = 5;\nprivate boolean isJoined = false;\n\nprivate RtcEngine agoraEngine;\nprivate SurfaceView localSurfaceView;\nprivate SurfaceView remoteSurfaceView;\n\nFloatingActionButton fabLeaveChannel;\nString userID, doctorID, userName, doctorName, appointmentID;\n\nprivate static final int PERMISSION_REQ_ID = 22;\nprivate static final String[] REQUESTED_PERMISSIONS =\n        {\n                Manifest.permission.RECORD_AUDIO,\n                Manifest.permission.CAMERA\n        };\nprivate int GET_APPOINTMENT_REQUEST_CODE = 1;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video_call);\n\n    init();\n\n    fabLeaveChannel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            leaveChannel();\n            finish();\n        }\n    });\n\n}\n\nprivate void init() {\n\n    session = new Session(this);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    TextView textViewToolbarTitle = toolbar.findViewById(R.id.textViewToolbarTitle);\n    textViewToolbarTitle.setText(&quot;OnGoing Call&quot;);\n    getSupportActionBar().setTitle(null);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    getSupportActionBar().setDisplayShowHomeEnabled(true);\n\n    userID = getIntent().getStringExtra(LinksAndKeys.USER_ID_KEY);\n    userName = getIntent().getStringExtra(LinksAndKeys.USER_NAME_KEY);\n    doctorID = getIntent().getStringExtra(LinksAndKeys.DOCTOR_ID_KEY);\n    doctorName = getIntent().getStringExtra(LinksAndKeys.DOCTOR_NAME_KEY);\n    appointmentID = getIntent().getStringExtra(LinksAndKeys.APPOINTMENT_ID_KEY);\n\n    channelName = userID + &quot;:&quot; + userName + &quot;:&quot; + appointmentID + &quot;:&quot; + doctorID + &quot;:&quot; + doctorName;\n    channelName = channelName.replaceAll(&quot; &quot;, &quot;_&quot;).toLowerCase();\n\n    fabLeaveChannel = findViewById(R.id.fabLeaveChannel);\n\n    try {\n        agView = new AgoraVideoViewer(this, new AgoraConnectionData(appId, token), AgoraVideoViewer.Style.FLOATING, new AgoraSettings(), null);\n    } catch (Exception e) {\n        Log.e(&quot;AgoraVideoViewer&quot;,\n                &quot;Could not initialize AgoraVideoViewer. Check that your app Id is valid.&quot;);\n        Log.e(&quot;Exception&quot;, e.toString());\n        return;\n    }\n\n    if (!checkSelfPermission()) {\n        ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, \nPERMISSION_REQ_ID);\n    }\n    setupVideoSDKEngine();\n\n}\n\nprivate boolean checkSelfPermission() {\n    if (ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) != PackageManager.PERMISSION_GRANTED ||\n            ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) != PackageManager.PERMISSION_GRANTED) {\n        return false;\n    }\n    return true;\n}\n\nvoid showMessage(String message) {\n    runOnUiThread(() -&gt;\n            Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\n}\n\nprivate void setupVideoSDKEngine() {\n    try {\n        RtcEngineConfig config = new RtcEngineConfig();\n        config.mContext = getBaseContext();\n        config.mAppId = appId;\n        config.mEventHandler = mRtcEventHandler;\n        agoraEngine = RtcEngine.create(config);\n        agoraEngine.enableVideo();\n\n        sendGetAppointmentRequest();\n    } catch (Exception e) {\n        showMessage(e.toString());\n    }\n}\n\nprivate final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\n    @Override\n    // Listen for the remote host joining the channel to get the uid of the host.\n    public void onUserJoined(int uid, int elapsed) {\n        showMessage(&quot;Remote user joined &quot; + uid);\n        runOnUiThread(() -&gt; setupRemoteVideo(uid));\n    }\n\n    @Override\n    public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n        isJoined = true;\n        showMessage(&quot;Joined Channel &quot; + channel);\n    }\n\n    @Override\n    public void onUserOffline(int uid, int reason) {\n        showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\n        runOnUiThread(() -&gt; remoteSurfaceView.setVisibility(View.GONE));\n    }\n};\n\nprivate void setupRemoteVideo(int uid) {\n    FrameLayout container = findViewById(R.id.remote_video_view_container);\n    remoteSurfaceView = new SurfaceView(getBaseContext());\n    remoteSurfaceView.setZOrderMediaOverlay(true);\n    container.addView(remoteSurfaceView);\n    agoraEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\n    remoteSurfaceView.setVisibility(View.VISIBLE);\n}\n\nprivate void setupLocalVideo() {\n    FrameLayout container = findViewById(R.id.local_video_view_container);\n    localSurfaceView = new SurfaceView(getBaseContext());\n    container.addView(localSurfaceView);\n    agoraEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FILL, 0));\n}\n\npublic void joinChannel() {\n    if (checkSelfPermission()) {\n        ChannelMediaOptions options = new ChannelMediaOptions();\n//            options.channelProfile = Constants.CHANNEL_PROFILE_COMMUNICATION;\n//            options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\n        setupLocalVideo();\n        localSurfaceView.setVisibility(View.VISIBLE);\n        agoraEngine.startPreview();\n        agoraEngine.joinChannel(token, channelName, String.valueOf(options), uid);\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;Permissions was not granted&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\npublic void leaveChannel() {\n    if (!isJoined) {\n        showMessage(&quot;Join a channel first&quot;);\n    } else {\n        agoraEngine.leaveChannel();\n        showMessage(&quot;You left the channel&quot;);\n        // Stop remote video rendering.\n        if (remoteSurfaceView != null) remoteSurfaceView.setVisibility(View.GONE);\n        // Stop local video rendering.\n        if (localSurfaceView != null) localSurfaceView.setVisibility(View.GONE);\n        isJoined = false;\n    }\n}\n\nprivate void sendGetAppointmentRequest() {\n    HashMap&lt;String, String&gt; paramsList = new HashMap&lt;&gt;();\n\n    WebServiceController webServiceController = new WebServiceController(VideoCallActivity.this, VideoCallActivity.this);\n    String hitURL = LinksAndKeys.GET_APPOINTMENT_BY_ID_URL + appointmentID;\n    webServiceController.sendGETRequest(session.getToken(), LinksAndKeys.REQUEST_MESSAGE, hitURL, paramsList, GET_APPOINTMENT_REQUEST_CODE);\n}\n\n@Override\npublic void getResponse(int responseCode, String responseString, String requestType, int requestCode) {\n    if (responseCode == 200) {\n        generateToken();\n    }\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case android.R.id.home:\n            onBackPressed();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n\nprotected void onDestroy() {\n    super.onDestroy();\n    agoraEngine.stopPreview();\n    agoraEngine.leaveChannel();\n\n    // Destroy the engine in a sub-thread to avoid congestion\n    new Thread(() -&gt; {\n        RtcEngine.destroy();\n        agoraEngine = null;\n    }).start();\n}\n\npublic void generateToken() {\n\n    RtcTokenBuilder2 tokenBuilder = new RtcTokenBuilder2();\n    long expirationTimeInSeconds = 3600;\n    int timestamp = (int) (System.currentTimeMillis() / 1000 + expirationTimeInSeconds);\n\n    System.out.println(&quot;UID token&quot;);\n    String result = tokenBuilder.buildTokenWithUid(appId, appCertificate,\n            channelName, uid, RtcTokenBuilder2.Role.ROLE_PUBLISHER, timestamp, timestamp);\n    System.out.println(&quot;The new Token Is - &quot; + result);\n    token = result;\n    joinChannel();\n}\n\n}\n</code></pre>\n<p>Here is the xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/colorPrimary&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/toolbar&quot;\n        layout=&quot;@layout/layout_toolbar&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.VideoCallActivity&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/remote_video_view_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_margin=&quot;@dimen/size_medium&quot;\n            android:background=&quot;@android:color/darker_gray&quot; /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/local_video_view_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_gravity=&quot;bottom|right&quot;\n            android:layout_margin=&quot;@dimen/size_large&quot;\n            android:background=&quot;@android:color/darker_gray&quot; /&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fabLeaveChannel&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom|center_horizontal&quot;\n            android:layout_marginBottom=&quot;@dimen/size_extra_large&quot;\n            android:src=&quot;@android:drawable/ic_menu_call&quot;\n            android:tint=&quot;@color/white&quot;\n            app:backgroundTint=&quot;@color/highlightRed&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Is anyone able to understand what is going wrong here?</p>\n"},{"tags":["java","spring","mongodb","rest"],"comments":[{"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"score":0,"creation_date":1505232857,"post_id":45635607,"comment_id":79325003,"body_markdown":"have a look at this. https://stackoverflow.com/questions/45668388/spring-security-for-certain-entity-variables?noredirect=1#comment78324306_45668388","body":"have a look at this. <a href=\"https://stackoverflow.com/questions/45668388/spring-security-for-certain-entity-variables?noredirect=1#comment78324306_45668388\" title=\"spring security for certain entity variables\">stackoverflow.com/questions/45668388/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9551375,"reputation":142,"user_id":7095424,"display_name":"Ivo Udelsmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510165797,"creation_date":1510165797,"answer_id":47187126,"question_id":45635607,"body_markdown":"You could use:\r\n\r\n    @Column(updatable = false)\r\n    @NonNull\r\n    private String firstName;\r\n\r\nThis won&#39;t throw errors but will avoid the field from being updated.\r\n","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>You could use:</p>\n\n<pre><code>@Column(updatable = false)\n@NonNull\nprivate String firstName;\n</code></pre>\n\n<p>This won't throw errors but will avoid the field from being updated.</p>\n"},{"tags":[],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693473980,"creation_date":1607955313,"answer_id":65290550,"question_id":45635607,"body_markdown":"You could override the specific PATCH endpoint and retain only the allowed fields\r\n\r\n```\r\n\r\n    @PatchMapping(&quot;/persons/{id}&quot;)\r\n    HttpEntity&lt;?&gt; patchPerson(@PathVariable(&quot;id&quot;) Person person,\r\n                            @RequestBody final ObjectNode patch,\r\n                            PersistentEntityResourceAssembler assembler) {\r\n        List&lt;String&gt; allowedFields = List.of(&quot;age&quot;);\r\n        ObjectNode validPatch = patch.retain(allowedFields);\r\n        Person patchedPerson = jsonPatcher.merge(validPatch, person);\r\n\r\n        Person entity = personRepository.save(patchedPerson);\r\n        PersistentEntityResource resource = assembler.toFullResource(entity);\r\n        return ResponseEntity.accepted().body(resource);\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.mapping.context.PersistentEntities;\r\nimport org.springframework.data.rest.webmvc.json.DomainObjectReader;\r\nimport org.springframework.data.rest.webmvc.mapping.Associations;\r\nimport org.springframework.stereotype.Component;\r\n\r\n/**\r\n * Utility class mainly for applying patches to domain objects.\r\n */\r\n@Component\r\npublic class JsonPatcher {\r\n\r\n    private final DomainObjectReader domainObjectReader;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public JsonPatcher(PersistentEntities persistentEntities, Associations associations, ObjectMapper objectMapper) {\r\n        this.domainObjectReader = new DomainObjectReader(persistentEntities, associations);\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    /*\r\n    Almost the same exact implementation used in {@link org.springframework.data.rest.webmvc.config.JsonPatchHandler}\r\n    to merge JSON documents for Spring Data REST. It&#39;s copied here because the patch code that Spring uses was made\r\n    internal to the framework.\r\n     */\r\n    public &lt;T&gt; T merge(ObjectNode patch, T target) {\r\n        return domainObjectReader.merge(patch, target, objectMapper);\r\n    }\r\n\r\n}\r\n```","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>You could override the specific PATCH endpoint and retain only the allowed fields</p>\n<pre><code>\n    @PatchMapping(&quot;/persons/{id}&quot;)\n    HttpEntity&lt;?&gt; patchPerson(@PathVariable(&quot;id&quot;) Person person,\n                            @RequestBody final ObjectNode patch,\n                            PersistentEntityResourceAssembler assembler) {\n        List&lt;String&gt; allowedFields = List.of(&quot;age&quot;);\n        ObjectNode validPatch = patch.retain(allowedFields);\n        Person patchedPerson = jsonPatcher.merge(validPatch, person);\n\n        Person entity = personRepository.save(patchedPerson);\n        PersistentEntityResource resource = assembler.toFullResource(entity);\n        return ResponseEntity.accepted().body(resource);\n    }\n\n</code></pre>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mapping.context.PersistentEntities;\nimport org.springframework.data.rest.webmvc.json.DomainObjectReader;\nimport org.springframework.data.rest.webmvc.mapping.Associations;\nimport org.springframework.stereotype.Component;\n\n/**\n * Utility class mainly for applying patches to domain objects.\n */\n@Component\npublic class JsonPatcher {\n\n    private final DomainObjectReader domainObjectReader;\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public JsonPatcher(PersistentEntities persistentEntities, Associations associations, ObjectMapper objectMapper) {\n        this.domainObjectReader = new DomainObjectReader(persistentEntities, associations);\n        this.objectMapper = objectMapper;\n    }\n\n    /*\n    Almost the same exact implementation used in {@link org.springframework.data.rest.webmvc.config.JsonPatchHandler}\n    to merge JSON documents for Spring Data REST. It's copied here because the patch code that Spring uses was made\n    internal to the framework.\n     */\n    public &lt;T&gt; T merge(ObjectNode patch, T target) {\n        return domainObjectReader.merge(patch, target, objectMapper);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1693473980,"creation_date":1502455564,"question_id":45635607,"body_markdown":"I&#39;m currently working on a small REST web service using spring-data-rest using :\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI followed the following guide: https://spring.io/guides/gs/accessing-mongodb-data-rest/ and it&#39;s working really fine.\r\n\r\nI add some annotation on my Person.class, in order to validate the object during a POST request (like @NonNull and so on) like this :\r\n\r\n    public class Person {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        @NonNull\r\n        private String firstName;\r\n    \r\n        @NonNull\r\n        private String lastName;\r\n    \r\n        private Integer age;\r\n    \r\n    }\r\n\r\nBut now I want to do a PATCH request to update my object (by doing a request curl -X PATCH http://localhost:8080/people/598c2a80d8425fae64161cc4 -d &#39;{&quot;age&quot;:23}&#39;).\r\n\r\nIt&#39;s also working fine, but I want to prevent the update on some fields, people shouldn&#39;t be allowed to update firstName and lastName for example.\r\n\r\nIs there some way to do it easily with an annotation? Or do I have to do a custom validation for every PATCH (or PUT) request? I don&#39;t like that solution because I would have to do it for every entity of my model.\r\n\r\nI hope I clearly exposed my problem, if it&#39;s not clear, feel free to ask me more questions. \r\n\r\nThanks for your help.","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>I'm currently working on a small REST web service using spring-data-rest using :</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I followed the following guide: <a href=\"https://spring.io/guides/gs/accessing-mongodb-data-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-mongodb-data-rest/</a> and it's working really fine.</p>\n\n<p>I add some annotation on my Person.class, in order to validate the object during a POST request (like @NonNull and so on) like this :</p>\n\n<pre><code>public class Person {\n\n    @Id\n    private String id;\n\n    @NonNull\n    private String firstName;\n\n    @NonNull\n    private String lastName;\n\n    private Integer age;\n\n}\n</code></pre>\n\n<p>But now I want to do a PATCH request to update my object (by doing a request curl -X PATCH <a href=\"http://localhost:8080/people/598c2a80d8425fae64161cc4\" rel=\"nofollow noreferrer\">http://localhost:8080/people/598c2a80d8425fae64161cc4</a> -d '{\"age\":23}').</p>\n\n<p>It's also working fine, but I want to prevent the update on some fields, people shouldn't be allowed to update firstName and lastName for example.</p>\n\n<p>Is there some way to do it easily with an annotation? Or do I have to do a custom validation for every PATCH (or PUT) request? I don't like that solution because I would have to do it for every entity of my model.</p>\n\n<p>I hope I clearly exposed my problem, if it's not clear, feel free to ask me more questions. </p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","hibernate","parent-child","one-to-many"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1257548165,"post_id":1690859,"comment_id":1565903,"body_markdown":"What do you mean by &quot;When trying to save an ID from my parent class into a child class&quot;. Can you elaborate?","body":"What do you mean by &quot;When trying to save an ID from my parent class into a child class&quot;. Can you elaborate?"}],"answers":[{"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257571313,"creation_date":1257571313,"answer_id":1692085,"question_id":1690859,"body_markdown":"Change your `@OneToMany` to `@OneToMany(cascade=CascadeType.ALL)` use JPA rather than the Hibernate extensions\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>Change your <code>@OneToMany</code> to <code>@OneToMany(cascade=CascadeType.ALL)</code> use JPA rather than the Hibernate extensions</p>\n"},{"tags":[],"owner":{"account_id":49036,"reputation":2892,"user_id":145880,"accept_rate":92,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279898460,"creation_date":1279898460,"answer_id":3319589,"question_id":1690859,"body_markdown":"My guess is that the `@JoinColumn annotation` needs a `referencedColumnName` assigned.\r\n\r\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>My guess is that the <code>@JoinColumn annotation</code> needs a <code>referencedColumnName</code> assigned.</p>\n\n<pre><code>@JoinColumn(name = \"parent_id\", referencedColumnName = \"id\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1313292788,"creation_date":1313292788,"answer_id":7054829,"question_id":1690859,"body_markdown":"You must have something wrong somewhere else because those mappings will work the way they are. They could be better, but they&#39;ll work. Specifically, all the `@Column` annotations are redundant and unnecessary, and as non sequitor noted, you should use the cascade property of JPA&#39;s `@OneToMany` instead of Hibernate&#39;s `@Cascade`. I&#39;ve created a [runnable example][1] with the cleaned-up version of what you posted. If you have git and maven, you can run it with:\r\n\r\n    git clone git://github.com/zzantozz/testbed tmp\r\n    cd tmp\r\n    mvn -q compile exec:java \\\r\n        -Dexec.mainClass=rds.hibernate.UnidirectionalManyToOneJoinColumn \\\r\n        -pl hibernate-unidirectional-one-to-many-with-join-column\r\n\r\nIt creates a parent with two children, saves them, and then loads them and prints out the graph. The output is:\r\n\r\n    Creating parent with two children\r\n    Loading saved parent\r\n    Parent{description=&#39;parent&#39;, children=[Child{description=&#39;child 2&#39;}, Child{description=&#39;child 1&#39;}]}\r\n\r\n\r\n  [1]: https://github.com/zzantozz/testbed/tree/master/hibernate-unidirectional-one-to-many-with-join-column","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>You must have something wrong somewhere else because those mappings will work the way they are. They could be better, but they'll work. Specifically, all the <code>@Column</code> annotations are redundant and unnecessary, and as non sequitor noted, you should use the cascade property of JPA's <code>@OneToMany</code> instead of Hibernate's <code>@Cascade</code>. I've created a <a href=\"https://github.com/zzantozz/testbed/tree/master/hibernate-unidirectional-one-to-many-with-join-column\" rel=\"noreferrer\">runnable example</a> with the cleaned-up version of what you posted. If you have git and maven, you can run it with:</p>\n\n<pre><code>git clone git://github.com/zzantozz/testbed tmp\ncd tmp\nmvn -q compile exec:java \\\n    -Dexec.mainClass=rds.hibernate.UnidirectionalManyToOneJoinColumn \\\n    -pl hibernate-unidirectional-one-to-many-with-join-column\n</code></pre>\n\n<p>It creates a parent with two children, saves them, and then loads them and prints out the graph. The output is:</p>\n\n<pre><code>Creating parent with two children\nLoading saved parent\nParent{description='parent', children=[Child{description='child 2'}, Child{description='child 1'}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1353598210,"creation_date":1353598210,"answer_id":13515875,"question_id":1690859,"body_markdown":"A late addition in case anyone ever runs into the same issue.\r\n\r\nThis entity here, when persisted using Hibernate 4.1.8, *will* cascade the `FieldChange`entities, but will *not* fill the join column:\r\n\r\n    @Entity\r\n    public class Event {\r\n\r\n        //ID and other fields here\r\n\r\n    \t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;event_id&quot;)\r\n    \tprivate List&lt;FieldChange&lt;?&gt;&gt; fields = new ArrayList&lt;FieldChange&lt;?&gt;&gt;();\r\n\r\n     }\r\n\r\nNeither does the  insert statement set the `event_id` column, nor does it update the inserted entity after the fact - the `event_id` remains null and the relation is lost.  \r\n\r\nIf, however, the `@JoinColumn` definition is changed like this:\r\n\r\n    @JoinColumn(name = &quot;event_id&quot;, nullable = false)\r\n\r\n, then the insert statement includes the `event_id` column like it should, and all is well.\r\n\r\nThis may only be a regression in this particular version of Hibernate, but maybe it helps someone.","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>A late addition in case anyone ever runs into the same issue.</p>\n\n<p>This entity here, when persisted using Hibernate 4.1.8, <em>will</em> cascade the <code>FieldChange</code>entities, but will <em>not</em> fill the join column:</p>\n\n<pre><code>@Entity\npublic class Event {\n\n    //ID and other fields here\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = \"event_id\")\n    private List&lt;FieldChange&lt;?&gt;&gt; fields = new ArrayList&lt;FieldChange&lt;?&gt;&gt;();\n\n }\n</code></pre>\n\n<p>Neither does the  insert statement set the <code>event_id</code> column, nor does it update the inserted entity after the fact - the <code>event_id</code> remains null and the relation is lost.  </p>\n\n<p>If, however, the <code>@JoinColumn</code> definition is changed like this:</p>\n\n<pre><code>@JoinColumn(name = \"event_id\", nullable = false)\n</code></pre>\n\n<p>, then the insert statement includes the <code>event_id</code> column like it should, and all is well.</p>\n\n<p>This may only be a regression in this particular version of Hibernate, but maybe it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":4593930,"reputation":1243,"user_id":3726554,"display_name":"slavik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1402412762,"creation_date":1402412762,"answer_id":24144459,"question_id":1690859,"body_markdown":" In your case JPA provider to persist child object with its parent perform at least three queries on db. First two persist the objects by its own. The last one\r\nupdate child object with the foreign key referencing parent. The second query fail because you have a NOT NULL constraint on the foreign key column. You have three options:\r\n\r\n\r\n1. Remove NOT NULL constraint on foreign key in the child entity\r\n2. Use bidirectional relationship\r\n3. Change JPA provider to one which supports such cases.","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>In your case JPA provider to persist child object with its parent perform at least three queries on db. First two persist the objects by its own. The last one\nupdate child object with the foreign key referencing parent. The second query fail because you have a NOT NULL constraint on the foreign key column. You have three options:</p>\n\n<ol>\n<li>Remove NOT NULL constraint on foreign key in the child entity</li>\n<li>Use bidirectional relationship</li>\n<li>Change JPA provider to one which supports such cases.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8066986,"reputation":109,"user_id":6080805,"display_name":"Adit choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693473723,"creation_date":1693473723,"answer_id":77014487,"question_id":1690859,"body_markdown":"For **Unidirectional Mapping**\r\n\r\nYour child table should have 1 column for foreign key (parent_id).\r\n\r\nAdd 1 more filed in child entity to set **parent_id** before saving, like below.\r\n\r\n    class Child {\r\n     \r\n      //other fields\r\n    \r\n       @Column(name = &quot;Id&quot;)\r\n        private int parentId;\r\n    }\r\n\r\nthen you save parent object\r\n\r\n    Parent createdParent = parentRepository.save(parent);\r\n\r\nreturned createdParent contains auto generated *Parent ID* Use it for setting above parentId field inside Child entity. like below.\r\n\r\n    child.setParentId(createdParent.getId());\r\n\r\nthen save child entity, like.\r\n\r\n     childRepository.save(child);\r\n\r\n\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>For <strong>Unidirectional Mapping</strong></p>\n<p>Your child table should have 1 column for foreign key (parent_id).</p>\n<p>Add 1 more filed in child entity to set <strong>parent_id</strong> before saving, like below.</p>\n<pre><code>class Child {\n \n  //other fields\n\n   @Column(name = &quot;Id&quot;)\n    private int parentId;\n}\n</code></pre>\n<p>then you save parent object</p>\n<pre><code>Parent createdParent = parentRepository.save(parent);\n</code></pre>\n<p>returned createdParent contains auto generated <em>Parent ID</em> Use it for setting above parentId field inside Child entity. like below.</p>\n<pre><code>child.setParentId(createdParent.getId());\n</code></pre>\n<p>then save child entity, like.</p>\n<pre><code> childRepository.save(child);\n</code></pre>\n"}],"owner":{"account_id":35174,"reputation":504,"user_id":99509,"accept_rate":50,"display_name":"ButtersB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17544,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7054829,"answer_count":6,"score":5,"last_activity_date":1693473723,"creation_date":1257545873,"question_id":1690859,"body_markdown":"When trying to save an ID from my parent class into a child class, I keep getting the error\r\n&quot;ERROR - Field &#39;parent_id&#39; doesn&#39;t have a default value&quot;\r\n\r\nI have tried all types of mappings. I am using annotations. \r\n\r\n\r\nAny help on this would be appreciated\r\n\r\nParent:\r\n\r\n\r\n          @Id\r\n          @Column(name=&quot;id&quot;)\r\n          @GeneratedValue(strategy=GenerationType.AUTO)\r\n          private long id;\r\n          @Column(name=&quot;description&quot;)\r\n          private String description;\r\n          @OneToMany\r\n          @Cascade(value= {org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.DELETE})\r\n          @JoinColumn(name=&quot;parent_id&quot;)\r\n          private List&lt;Child&gt; children;\r\n\r\nChild:\r\n\r\n      @Id\r\n      @Column(name=&quot;id&quot;)\r\n      @GeneratedValue(strategy=GenerationType.AUTO)\r\n      private long id;\r\n      @Column(name=&quot;description&quot;)\r\n      private String description;\r\n\r\nThanks.\r\n\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>When trying to save an ID from my parent class into a child class, I keep getting the error\n\"ERROR - Field 'parent_id' doesn't have a default value\"</p>\n\n<p>I have tried all types of mappings. I am using annotations. </p>\n\n<p>Any help on this would be appreciated</p>\n\n<p>Parent:</p>\n\n<pre><code>      @Id\n      @Column(name=\"id\")\n      @GeneratedValue(strategy=GenerationType.AUTO)\n      private long id;\n      @Column(name=\"description\")\n      private String description;\n      @OneToMany\n      @Cascade(value= {org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.DELETE})\n      @JoinColumn(name=\"parent_id\")\n      private List&lt;Child&gt; children;\n</code></pre>\n\n<p>Child:</p>\n\n<pre><code>  @Id\n  @Column(name=\"id\")\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private long id;\n  @Column(name=\"description\")\n  private String description;\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","properties","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693473710,"creation_date":1335960997,"answer_id":10413556,"question_id":10413500,"body_markdown":"&gt; *I can&#39;t seem to get the message from my ValidationMessage.properties file*\r\n\r\nThe filename must be exactly `ValidationMessages.properties`, with the plural `s`. It must also be placed in the root of the classpath and thus not in any subfolder/package.\r\n\r\nIn case you actually wanted to customize the default name/location of the properties file, then you need to head to implementation specific ways, because this is not (yet?) supported by the API. In case of Hibernate Validator refer to [section 4.2.1 ResourceBundleLocator][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator","title":"How to get bean validation error message from properties file?","body":"<blockquote>\n<p><em>I can't seem to get the message from my ValidationMessage.properties file</em></p>\n</blockquote>\n<p>The filename must be exactly <code>ValidationMessages.properties</code>, with the plural <code>s</code>. It must also be placed in the root of the classpath and thus not in any subfolder/package.</p>\n<p>In case you actually wanted to customize the default name/location of the properties file, then you need to head to implementation specific ways, because this is not (yet?) supported by the API. In case of Hibernate Validator refer to <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator\" rel=\"nofollow noreferrer\">section 4.2.1 ResourceBundleLocator</a>.</p>\n"}],"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10413556,"answer_count":1,"score":1,"last_activity_date":1693473710,"creation_date":1335960750,"question_id":10413500,"body_markdown":"I have the following regexp that I am using to validate an email;\r\n\r\n    @Pattern(regexp=&quot;[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;, message=&quot;Invalid Email&quot;)\r\n    private String email;\r\n\r\nMy problem is that I can&#39;t seem to get the message from  my ValidationMessage.properties file. It simply displays the string I place in the &quot;&quot;. I tried the following:\r\n\r\n    message=&quot;{InvalidEmail}&quot;\r\n\r\n(there is a key pair called &#39;InvalidEmail&#39; in the ValidationMessage.properties file)\r\nbut instead of collection the key pair value it simply prints out the string &#39;{InvalidEmail}&#39;.\r\n\r\n","title":"How to get bean validation error message from properties file?","body":"<p>I have the following regexp that I am using to validate an email;</p>\n\n<pre><code>@Pattern(regexp=\"[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\", message=\"Invalid Email\")\nprivate String email;\n</code></pre>\n\n<p>My problem is that I can't seem to get the message from  my ValidationMessage.properties file. It simply displays the string I place in the \"\". I tried the following:</p>\n\n<pre><code>message=\"{InvalidEmail}\"\n</code></pre>\n\n<p>(there is a key pair called 'InvalidEmail' in the ValidationMessage.properties file)\nbut instead of collection the key pair value it simply prints out the string '{InvalidEmail}'.</p>\n"},{"tags":["java","jdbc","compiler-errors"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1693461364,"post_id":77013141,"comment_id":135764488,"body_markdown":"Please add the complete stacktrace and share the content of `DBUtil.executeQuery`","body":"Please add the complete stacktrace and share the content of <code>DBUtil.executeQuery</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693470983,"post_id":77013141,"comment_id":135766229,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29312362,"reputation":1,"user_id":22457817,"display_name":"Ahmer Naveed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693473146,"creation_date":1693461253,"question_id":77013141,"body_markdown":"i face this error and my code is \r\n\r\n    try {\r\n\r\n            String[] aray = new String[]{userOpLogObj.getLogQuery(), insertQry};\r\n\r\n            String result = DBUtil.executeQuery(aray);\r\n            if (result.equals(&quot;1&quot;)) {\r\n                return &quot;1&quot;;\r\n            } else {\r\n                return &quot;-1&quot;;\r\n            }\r\n        } catch (DBException e) {\r\n\r\n            return &quot;-1,DBEX,&quot; + e.getError();\r\n        } catch (Exception ex) {\r\n\r\n            return &quot;-1&quot; + ex;\r\n        }\r\n\r\n    }\r\n\r\n\r\ni try everything own my own but nothing happened \r\n","title":"The method executeQuery(String[]) from the type DBUtil refers to the missing type UncategorizedSQLException","body":"<p>i face this error and my code is</p>\n<pre><code>try {\n\n        String[] aray = new String[]{userOpLogObj.getLogQuery(), insertQry};\n\n        String result = DBUtil.executeQuery(aray);\n        if (result.equals(&quot;1&quot;)) {\n            return &quot;1&quot;;\n        } else {\n            return &quot;-1&quot;;\n        }\n    } catch (DBException e) {\n\n        return &quot;-1,DBEX,&quot; + e.getError();\n    } catch (Exception ex) {\n\n        return &quot;-1&quot; + ex;\n    }\n\n}\n</code></pre>\n<p>i try everything own my own but nothing happened</p>\n"},{"tags":["java","spring","micrometer","health-monitoring","spring-micrometer"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693473847,"post_id":77014401,"comment_id":135766837,"body_markdown":"How are you using a `RestTemplate`? Which Spring Boot version are you using?","body":"How are you using a <code>RestTemplate</code>? Which Spring Boot version are you using?"},{"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"score":0,"creation_date":1693474434,"post_id":77014401,"comment_id":135766971,"body_markdown":"@M.Deinum I am using spring boot version: `2.7.0` and making request like this\n`restTemplate.postForEntity(hostname + url,createPostHttpEntity(requestBody, headers),responseClass);`","body":"@M.Deinum I am using spring boot version: <code>2.7.0</code> and making request like this <code>restTemplate.postForEntity(hostname + url,createPostHttpEntity(requestBody, headers),responseClass);</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693475256,"post_id":77014401,"comment_id":135767129,"body_markdown":"Spring Boot 2.7 doesn&#39;t have build in observability so you would need some additional ibrary. Spring Boot 3 has. I understand how you are using `RestTemplate` (that is kind of obvious) but are you using an injected `RestTemplate` (which you should) or are constructing it as you need it (which you shouldn&#39;t do ).","body":"Spring Boot 2.7 doesn&#39;t have build in observability so you would need some additional ibrary. Spring Boot 3 has. I understand how you are using <code>RestTemplate</code> (that is kind of obvious) but are you using an injected <code>RestTemplate</code> (which you should) or are constructing it as you need it (which you shouldn&#39;t do )."},{"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"score":0,"creation_date":1693475953,"post_id":77014401,"comment_id":135767272,"body_markdown":"@M.Deinum I am using injected `RestTemplate` only. Can I know which library are you telling?","body":"@M.Deinum I am using injected <code>RestTemplate</code> only. Can I know which library are you telling?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693480494,"post_id":77014401,"comment_id":135768193,"body_markdown":"Sorry my bad there is an interceptor that registers the metrics. DId you use the `RestTemplateBuilder` to create the `RestTemplate` or did you create it yourself? If you used the builder you should have metrics.","body":"Sorry my bad there is an interceptor that registers the metrics. DId you use the <code>RestTemplateBuilder</code> to create the <code>RestTemplate</code> or did you create it yourself? If you used the builder you should have metrics."}],"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693473034,"creation_date":1693473034,"question_id":77014401,"body_markdown":"I am using Rest template to make API third party API request from my server.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/y0txe.png)](https://i.stack.imgur.com/y0txe.png)\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=*\r\n```\r\n\r\nAfter doing all this I am not able to view `http.client.request`\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uDxTJ.png)](https://i.stack.imgur.com/uDxTJ.png)\r\n\r\nI wanted to know where I am missing, why `http.client.request` not coming. I also made request various time but then also I didn&#39;t get anything","title":"http.client.requests not working in Java Spring Boot","body":"<p>I am using Rest template to make API third party API request from my server.</p>\n<p><a href=\"https://i.stack.imgur.com/y0txe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0txe.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n<p>After doing all this I am not able to view <code>http.client.request</code></p>\n<p><a href=\"https://i.stack.imgur.com/uDxTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDxTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I wanted to know where I am missing, why <code>http.client.request</code> not coming. I also made request various time but then also I didn't get anything</p>\n"},{"tags":["java","sql","jpa","hql"],"owner":{"account_id":29335954,"reputation":1,"user_id":22476332,"display_name":"Progress"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693472593,"creation_date":1693472593,"question_id":77014354,"body_markdown":"```\r\n@Repository\r\npublic interface MeetupRepository extends CrudRepository&lt;Meetup, Long&gt; {\r\n\r\n    List&lt;Meetup&gt; findAll();\r\n\r\n    @Query(value = &quot;select * from meetup join meetup_timetable &quot; +\r\n            &quot;on meetup.id=meetup_timetable.meetup_id where meetup_timetable.employee_id = :employee_id&quot;, nativeQuery = true)\r\n\r\n    List&lt;Meetup&gt; getAllByEmployeeId(@Param(&quot;employee_id&quot;) String employeeId);\r\n }\r\n```\r\nHow to add a second condition to the code above in @Query - (meetupRepository.getAllByEmployeeId(employeeId).stream().\r\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)),    to pull the necessary data from the database at once?\r\n\r\n```\r\npublic Map&lt;String, Boolean&gt; checkingIntersectionMeetup(List&lt;String&gt; employeesId, LocalDateTime startDate, LocalDateTime endDate) {\r\n\r\n        //We check if they have any meetings that overlap with the one they want to invite them to\r\n\r\n        Map&lt;String, Boolean&gt; intersect = new HashMap&lt;&gt;(employeesId.size());\r\n\r\n       for (String employeeId : employeesId) {\r\n            List&lt;Meetup&gt; overlappingMeetups = meetupRepository.getAllByEmployeeId(employeeId).stream().\r\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)\r\n                    .collect(Collectors.toList());\r\n            if (overlappingMeetups.isEmpty()) {\r\n                intersect.put(employeeId, false);\r\n            } else intersect.put(employeeId, true);\r\n        }\r\n        return intersect;\r\n```\r\n\r\n\r\n\r\nI tried to add a secondary condition, but an empty Resultlist was returned?","title":"How to pull data using HQL code through the repository using 2 conditions","body":"<pre><code>@Repository\npublic interface MeetupRepository extends CrudRepository&lt;Meetup, Long&gt; {\n\n    List&lt;Meetup&gt; findAll();\n\n    @Query(value = &quot;select * from meetup join meetup_timetable &quot; +\n            &quot;on meetup.id=meetup_timetable.meetup_id where meetup_timetable.employee_id = :employee_id&quot;, nativeQuery = true)\n\n    List&lt;Meetup&gt; getAllByEmployeeId(@Param(&quot;employee_id&quot;) String employeeId);\n }\n</code></pre>\n<p>How to add a second condition to the code above in @Query - (meetupRepository.getAllByEmployeeId(employeeId).stream().\nfilter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)),    to pull the necessary data from the database at once?</p>\n<pre><code>public Map&lt;String, Boolean&gt; checkingIntersectionMeetup(List&lt;String&gt; employeesId, LocalDateTime startDate, LocalDateTime endDate) {\n\n        //We check if they have any meetings that overlap with the one they want to invite them to\n\n        Map&lt;String, Boolean&gt; intersect = new HashMap&lt;&gt;(employeesId.size());\n\n       for (String employeeId : employeesId) {\n            List&lt;Meetup&gt; overlappingMeetups = meetupRepository.getAllByEmployeeId(employeeId).stream().\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)\n                    .collect(Collectors.toList());\n            if (overlappingMeetups.isEmpty()) {\n                intersect.put(employeeId, false);\n            } else intersect.put(employeeId, true);\n        }\n        return intersect;\n</code></pre>\n<p>I tried to add a secondary condition, but an empty Resultlist was returned?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9782,"page":210,"page_size":100}
