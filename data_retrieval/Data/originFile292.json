{"items":[{"tags":["java","generics","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689767213,"creation_date":1689766865,"answer_id":76720930,"question_id":76720829,"body_markdown":"The declaration of your method is not correct, instead of:\r\n\r\n    public static &lt;T, R extends Optional&lt;T&gt;&gt; Collector&lt;T, ?, R&gt; toOptional() {\r\n\r\nYou can just use:\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, Optional&lt;T&gt;&gt; toOptional() {\r\n\r\nIn other words, the method need to return an `Optional` object of type `T` directly, instead of using a separate type parameter `R` that extends `Optional&lt;T&gt;`.","title":"Java collector to Optional&lt;T&gt;","body":"<p>The declaration of your method is not correct, instead of:</p>\n<pre><code>public static &lt;T, R extends Optional&lt;T&gt;&gt; Collector&lt;T, ?, R&gt; toOptional() {\n</code></pre>\n<p>You can just use:</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, Optional&lt;T&gt;&gt; toOptional() {\n</code></pre>\n<p>In other words, the method need to return an <code>Optional</code> object of type <code>T</code> directly, instead of using a separate type parameter <code>R</code> that extends <code>Optional&lt;T&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690197837,"creation_date":1690197837,"answer_id":76753985,"question_id":76720829,"body_markdown":"[This answer] does already tell you how to declare the method correctly.\r\n\r\nHowever, note that you don’t need this special collector. You can simply use\r\n\r\n```java\r\nCollectors.reducing((first, second) -&gt; {\r\n    throw new CollectingException(&quot;More than one item found, &quot;\r\n        + &quot;first: &quot; + first + &quot;, second: &quot; + second);\r\n})\r\n```\r\n\r\nwhich does already your intended job. (see [`Collectors.reducing(…)`])\r\n\r\n - If the stream is empty, an empty `Optional` is returned\r\n - If the stream contains a single element, an `Optional` containing the element is returned  \r\n   Note that this approach doesn’t construct a `List` first but directly produces the `Optional`.\r\n - If there are more than one element, the reduction function will be evaluated, to reduce them to a single result, which will throw the intended exception here.  \r\n   Note that this approach doesn’t waste resources to collect all unintended elements into a `List` but stops when encountering the second element.\r\n\r\n---\r\n\r\nWhen you don’t want to combine this logic with other collectors, you don’t need a collector at all but can use [`reduce`] on the Stream directly:\r\n\r\n```java\r\nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n```\r\n```java\r\nOptional&lt;Person&gt; john = people.stream()\r\n    .filter(person -&gt; &quot;John&quot;.equals(person.getName()))\r\n    .reduce((first, second) -&gt; {\r\n        throw new CollectingException(&quot;More than one item found, &quot;\r\n            + &quot;first: &quot; + first + &quot;, second: &quot; + second);\r\n    });\r\n```\r\ndoes the same as\r\n\r\n```java\r\nOptional&lt;Person&gt; john = people.stream()\r\n    .filter(person -&gt; &quot;John&quot;.equals(person.getName()))\r\n    .collect(Collectors.reducing((first, second) -&gt; {\r\n        throw new CollectingException(&quot;More than one item found, &quot;\r\n            + &quot;first: &quot; + first + &quot;, second: &quot; + second);\r\n    }));\r\n\r\n```\r\n\r\n[This answer]: https://stackoverflow.com/a/76720930/2711488\r\n[`Collectors.reducing(…)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#reducing(java.util.function.BinaryOperator)\r\n[`reduce`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)","title":"Java collector to Optional&lt;T&gt;","body":"<p><a href=\"https://stackoverflow.com/a/76720930/2711488\">This answer</a> does already tell you how to declare the method correctly.</p>\n<p>However, note that you don’t need this special collector. You can simply use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collectors.reducing((first, second) -&gt; {\n    throw new CollectingException(&quot;More than one item found, &quot;\n        + &quot;first: &quot; + first + &quot;, second: &quot; + second);\n})\n</code></pre>\n<p>which does already your intended job. (see <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#reducing(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Collectors.reducing(…)</code></a>)</p>\n<ul>\n<li>If the stream is empty, an empty <code>Optional</code> is returned</li>\n<li>If the stream contains a single element, an <code>Optional</code> containing the element is returned<br />\nNote that this approach doesn’t construct a <code>List</code> first but directly produces the <code>Optional</code>.</li>\n<li>If there are more than one element, the reduction function will be evaluated, to reduce them to a single result, which will throw the intended exception here.<br />\nNote that this approach doesn’t waste resources to collect all unintended elements into a <code>List</code> but stops when encountering the second element.</li>\n</ul>\n<hr />\n<p>When you don’t want to combine this logic with other collectors, you don’t need a collector at all but can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>reduce</code></a> on the Stream directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Person&gt; john = people.stream()\n    .filter(person -&gt; &quot;John&quot;.equals(person.getName()))\n    .reduce((first, second) -&gt; {\n        throw new CollectingException(&quot;More than one item found, &quot;\n            + &quot;first: &quot; + first + &quot;, second: &quot; + second);\n    });\n</code></pre>\n<p>does the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Person&gt; john = people.stream()\n    .filter(person -&gt; &quot;John&quot;.equals(person.getName()))\n    .collect(Collectors.reducing((first, second) -&gt; {\n        throw new CollectingException(&quot;More than one item found, &quot;\n            + &quot;first: &quot; + first + &quot;, second: &quot; + second);\n    }));\n\n</code></pre>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76720930,"answer_count":2,"score":3,"last_activity_date":1690197851,"creation_date":1689766194,"question_id":76720829,"body_markdown":"Using Java streams and generics I&#39;m trying to create a `Collector`, that would return me `Optional.empty`, if stream is empty, `Optional&lt;T&gt;` if stream has one item and throw exception if stream has more than one item.\r\n\r\n```\r\npublic static &lt;T, R extends Optional&lt;T&gt;&gt; Collector&lt;T, ?, R&gt; toOptional() {\r\n\treturn Collectors.collectingAndThen(\r\n\t\t\tCollectors.toList(),\r\n\t\t\tlist -&gt; {\r\n\t\t\t\tif (list.size() &gt; 1) {\r\n\t\t\t\t\tthrow new CollectingException(&quot;More than one item found in: &quot; + list);\r\n\t\t\t\t}\r\n\t\t\t\tif (list.size() == 1) {\r\n\t\t\t\t\treturn Optional.of(list.get(0));\r\n\t\t\t\t}\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\t);\r\n}\r\n\r\n```\r\n\r\nHowever I&#39;m getting an error I don&#39;t understand.\r\n\r\n```\r\nRequired type:\r\nCollector&lt;T,?,R&gt;\r\nProvided:\r\nCollector&lt;Object,Object,Object&gt;\r\nno instance(s) of type variable(s) T exist so that Optional&lt;T&gt; conforms to R inference variable RR has incompatible bounds: equality constraints: R lower bounds: Optional&lt;T1868063&gt;\r\n```\r\n\r\nThe desired usage would be\r\n\r\n```\r\nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\nOptional&lt;Person&gt; john = people.stream().filter(person-&gt;&quot;John&quot;.equals(person.getName())).collect(toOptional());\r\n```\r\n\r\nCould anyone please explain me what&#39;s wrong?\r\n","title":"Java collector to Optional&lt;T&gt;","body":"<p>Using Java streams and generics I'm trying to create a <code>Collector</code>, that would return me <code>Optional.empty</code>, if stream is empty, <code>Optional&lt;T&gt;</code> if stream has one item and throw exception if stream has more than one item.</p>\n<pre><code>public static &lt;T, R extends Optional&lt;T&gt;&gt; Collector&lt;T, ?, R&gt; toOptional() {\n    return Collectors.collectingAndThen(\n            Collectors.toList(),\n            list -&gt; {\n                if (list.size() &gt; 1) {\n                    throw new CollectingException(&quot;More than one item found in: &quot; + list);\n                }\n                if (list.size() == 1) {\n                    return Optional.of(list.get(0));\n                }\n                return Optional.empty();\n            }\n    );\n}\n\n</code></pre>\n<p>However I'm getting an error I don't understand.</p>\n<pre><code>Required type:\nCollector&lt;T,?,R&gt;\nProvided:\nCollector&lt;Object,Object,Object&gt;\nno instance(s) of type variable(s) T exist so that Optional&lt;T&gt; conforms to R inference variable RR has incompatible bounds: equality constraints: R lower bounds: Optional&lt;T1868063&gt;\n</code></pre>\n<p>The desired usage would be</p>\n<pre><code>List&lt;Person&gt; people = new ArrayList&lt;&gt;();\nOptional&lt;Person&gt; john = people.stream().filter(person-&gt;&quot;John&quot;.equals(person.getName())).collect(toOptional());\n</code></pre>\n<p>Could anyone please explain me what's wrong?</p>\n"},{"tags":["java","parsing","compression","mime","mhtml"],"answers":[{"comments":[{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1278994399,"post_id":3230381,"comment_id":3338981,"body_markdown":"Thanks Roki.. I have seen the chilkatsoft offerings but couldn&#39;t use it because:\n1. It is coming as a native implementation `chilkat.dll` .. I require something which is written in pure java.\n2. It is a commercial product.. and in my project i am using open source products... :o\n\nAnyway thanks :)","body":"Thanks Roki.. I have seen the chilkatsoft offerings but couldn&#39;t use it because: 1. It is coming as a native implementation <code>chilkat.dll</code> .. I require something which is written in pure java. 2. It is a commercial product.. and in my project i am using open source products... :o  Anyway thanks :)"}],"tags":[],"owner":{"account_id":138327,"reputation":2680,"user_id":343202,"accept_rate":100,"display_name":"Roki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278953212,"creation_date":1278953212,"answer_id":3230381,"question_id":3230305,"body_markdown":"U can try http://www.chilkatsoft.com/mht-features.asp , it can pack/unpack and you can handle it after as normal files. The download link is: http://www.chilkatsoft.com/java.asp","title":"How to read or parse MHTML (.mht) files in java","body":"<p>U can try <a href=\"http://www.chilkatsoft.com/mht-features.asp\" rel=\"nofollow noreferrer\">http://www.chilkatsoft.com/mht-features.asp</a> , it can pack/unpack and you can handle it after as normal files. The download link is: <a href=\"http://www.chilkatsoft.com/java.asp\" rel=\"nofollow noreferrer\">http://www.chilkatsoft.com/java.asp</a></p>\n"},{"comments":[{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1278994610,"post_id":3231731,"comment_id":3338997,"body_markdown":"Thanks Wajdy Essam... Most of the *.mht files are saved from IE using `save as` option... and by default they are compressed... But still i will try `jtidy` ...","body":"Thanks Wajdy Essam... Most of the *.mht files are saved from IE using <code>save as</code> option... and by default they are compressed... But still i will try <code>jtidy</code> ..."}],"tags":[],"owner":{"account_id":81675,"reputation":4290,"user_id":230188,"accept_rate":80,"display_name":"Wajdy Essam"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1278964034,"creation_date":1278964034,"answer_id":3231731,"question_id":3230305,"body_markdown":"i was used http://jtidy.sourceforge.net to parse/read/index mht files (but as normal files, not compressed files)\r\n","title":"How to read or parse MHTML (.mht) files in java","body":"<p>i was used <a href=\"http://jtidy.sourceforge.net\" rel=\"nofollow noreferrer\">http://jtidy.sourceforge.net</a> to parse/read/index mht files (but as normal files, not compressed files)</p>\n"},{"comments":[{"owner":{"account_id":1524970,"reputation":1081,"user_id":1423640,"accept_rate":58,"display_name":"Hasib Samad"},"score":0,"creation_date":1369140701,"post_id":3239442,"comment_id":23985201,"body_markdown":"Thank you for sharing this. I have a question though: How do you determine the end of a section HEADER? I mean, the section starts with the boundary defined somewhere above, then there come header stuff like type/encoding/location etc, and after this it seems to me that every header is delimited by ASCII 0D0A0D0A (two times CR+LF). Am I right about this, or is there any other guaranteed delimiter?","body":"Thank you for sharing this. I have a question though: How do you determine the end of a section HEADER? I mean, the section starts with the boundary defined somewhere above, then there come header stuff like type/encoding/location etc, and after this it seems to me that every header is delimited by ASCII 0D0A0D0A (two times CR+LF). Am I right about this, or is there any other guaranteed delimiter?"},{"owner":{"account_id":2205153,"reputation":193,"user_id":1948572,"accept_rate":55,"display_name":"Umesh Kumar"},"score":0,"creation_date":1415632881,"post_id":3239442,"comment_id":42256862,"body_markdown":"@favonius: Does your code converts the .mht file to html?","body":"@favonius: Does your code converts the .mht file to html?"},{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1415723305,"post_id":3239442,"comment_id":42298084,"body_markdown":"@UmeshKumar : The code was for data extraction. But i think it should be straightforward to convert mht to html. Google around may be a library already exist.","body":"@UmeshKumar : The code was for data extraction. But i think it should be straightforward to convert mht to html. Google around may be a library already exist."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1591311654,"post_id":3239442,"comment_id":110016460,"body_markdown":"I tried using this solution and initially it worked, but soon I noticed big problems. Note that BufferedReader.readLine() methods assumes UTF-8 encoding and converts original input bytes to Java 16-bit characters, re-encoding per UTF-8 specs. So if you have a binary file, even an HTML file with transfer-encoding &quot;binary&quot; and a different character encoding in HTML (I had Shift_JIS as a test sample), all hell gets lose. Ended up implementing my own MHTML (MIME) decoder from scratch in C++, and accessing it from Java with JNI.","body":"I tried using this solution and initially it worked, but soon I noticed big problems. Note that BufferedReader.readLine() methods assumes UTF-8 encoding and converts original input bytes to Java 16-bit characters, re-encoding per UTF-8 specs. So if you have a binary file, even an HTML file with transfer-encoding &quot;binary&quot; and a different character encoding in HTML (I had Shift_JIS as a test sample), all hell gets lose. Ended up implementing my own MHTML (MIME) decoder from scratch in C++, and accessing it from Java with JNI."}],"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1279039889,"creation_date":1279039889,"answer_id":3239442,"question_id":3230305,"body_markdown":"Frankly, I wasn&#39;t expecting a solution in near future and was about to give up, but some how I stumbled on this page: \r\n\r\nhttp://en.wikipedia.org/wiki/MIME#Multipart_messages\r\n\r\nhttp://msdn.microsoft.com/en-us/library/ms527355%28EXCHG.10%29.aspx\r\n\r\nAlthough, not a very catchy in first look. But if you look carefully you will get clue. After reading this I fired up my IE and at random started saving pages as `*.mht` file. Let me go line by line... \r\n\r\nBut let me explain beforehand that my ultimate goal was to separate/extract out the `html` content and parse it... the solution is not complete in itself as it depends on the `character set` or `encoding` I choose while saving. But even though it will extract the individual files with minor hitches...\r\n\r\nI hope this will be useful for anyone who is trying to parse/decompress `*.mht/MHTML` files :)\r\n\r\n======= Explanation ========\r\n** Taken from a mht file **\r\n\r\n    From: &quot;Saved by Windows Internet Explorer 7&quot;\r\nIt is the software used for saving the file\r\n\r\n    Subject: Google\r\n    Date: Tue, 13 Jul 2010 21:23:03 +0530\r\n    MIME-Version: 1.0\r\nSubject, date and mime-version … much like the mail format\r\n\r\n      Content-Type: multipart/related;\r\n\ttype=&quot;text/html&quot;;\r\nThis is the part which tells us that it is a `multipart` document. A multipart document has one or more different sets of data combined in a single body, a `multipart` Content-Type field must appear in the entity&#39;s header. Here, we can also see the type as `&quot;text/html&quot;`.\r\n\r\n\tboundary=&quot;----=_NextPart_000_0007_01CB22D1.93BBD1A0&quot;\r\nOut of all this is the most important part. This is the unique delimiter which divides two different parts (html,images,css,script etc). **Once** you get hold of this, everything gets easy... Now, I just have to iterate through the document and finding out different sections and saving them as per their `Content-Transfer-Encoding` (base64, quoted-printable etc) ...\r\n    .\r\n    .\r\n    .\r\n\r\n**SAMPLE**\r\n\r\n     ------=_NextPart_000_0007_01CB22D1.93BBD1A0\r\n     Content-Type: text/html;\r\n     charset=&quot;utf-8&quot;\r\n     Content-Transfer-Encoding: quoted-printable\r\n     Content-Location: http://www.google.com/webhp?sourceid=navclient&amp;ie=UTF-8\r\n\r\n     &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; =\r\n    .\r\n    .\r\n    .\r\n\r\n** JAVA CODE **\r\n\r\nAn interface for defining constants.\r\n\r\n\tpublic interface IConstants \r\n\t{\r\n\t\tpublic String BOUNDARY = &quot;boundary&quot;;\r\n\t\tpublic String CHAR_SET = &quot;charset&quot;;\r\n\t\tpublic String CONTENT_TYPE = &quot;Content-Type&quot;;\r\n\t\tpublic String CONTENT_TRANSFER_ENCODING = &quot;Content-Transfer-Encoding&quot;;\r\n\t\tpublic String CONTENT_LOCATION = &quot;Content-Location&quot;;\r\n\t\t\r\n\t\tpublic String UTF8_BOM = &quot;=EF=BB=BF&quot;;\r\n\t\t\r\n\t\tpublic String UTF16_BOM1 = &quot;=FF=FE&quot;;\r\n\t\tpublic String UTF16_BOM2 = &quot;=FE=FF&quot;;\r\n\t}\r\n\r\nThe main parser class...\r\n\r\n\t/**\r\n\t * This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0\r\n\t * which accompanies this distribution, and is available at\r\n\t * http://www.eclipse.org/legal/epl-v10.html\r\n\t */\r\n\tpackage com.test.mht.core;\r\n\t\r\n\timport java.io.BufferedOutputStream;\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.FileReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.util.regex.Matcher;\r\n\timport java.util.regex.Pattern;\r\n\t\r\n\timport sun.misc.BASE64Decoder;\r\n\t\r\n\t/**\r\n\t * File to parse and decompose *.mts file in its constituting parts.\r\n\t * @author Manish Shukla \r\n\t */\r\n\t\r\n\tpublic class MHTParser implements IConstants\r\n\t{\r\n\t\tprivate File mhtFile;\r\n\t\tprivate File outputFolder;\r\n\t\r\n\t\tpublic MHTParser(File mhtFile, File outputFolder) {\r\n\t\t\tthis.mhtFile = mhtFile;\r\n\t\t\tthis.outputFolder = outputFolder;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * @throws Exception\r\n\t\t */\r\n\t\tpublic void decompress() throws Exception\r\n\t\t{\r\n\t\t\tBufferedReader reader = null;\r\n\t\r\n\t\t\tString type = &quot;&quot;;\r\n\t\t\tString encoding = &quot;&quot;;\r\n\t\t\tString location = &quot;&quot;;\r\n\t\t\tString filename = &quot;&quot;;\r\n\t\t\tString charset = &quot;utf-8&quot;;\r\n\t\t\tStringBuilder buffer = null;\r\n\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\treader = new BufferedReader(new FileReader(mhtFile));\r\n\t\r\n\t\t\t\tfinal String boundary = getBoundary(reader);\r\n\t\t\t\tif(boundary == null)\r\n\t\t\t\t\tthrow new Exception(&quot;Failed to find document &#39;boundary&#39;... Aborting&quot;);\r\n\t\r\n\t\t\t\tString line = null;\r\n\t\t\t\tint i = 1;\r\n\t\t\t\twhile((line = reader.readLine()) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tString temp = line.trim();\r\n\t\t\t\t\tif(temp.contains(boundary)) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(buffer != null) {\r\n\t\t\t\t\t\t\twriteBufferContentToFile(buffer,encoding,filename,charset);\r\n\t\t\t\t\t\t\tbuffer = null;\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tbuffer = new StringBuilder();\r\n\t\t\t\t\t}else if(temp.startsWith(CONTENT_TYPE)) {\r\n\t\t\t\t\t\ttype = getType(temp);\r\n\t\t\t\t\t}else if(temp.startsWith(CHAR_SET)) {\r\n\t\t\t\t\t\tcharset = getCharSet(temp);\r\n\t\t\t\t\t}else if(temp.startsWith(CONTENT_TRANSFER_ENCODING)) {\r\n\t\t\t\t\t\tencoding = getEncoding(temp);\r\n\t\t\t\t\t}else if(temp.startsWith(CONTENT_LOCATION))\t{\r\n\t\t\t\t\t\tlocation = temp.substring(temp.indexOf(&quot;:&quot;)+1).trim();\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tfilename = getFileName(location,type);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tif(buffer != null) {\r\n\t\t\t\t\t\t\tbuffer.append(line + &quot;\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t}finally \r\n\t\t\t{\r\n\t\t\t\tif(null != reader)\r\n\t\t\t\t\treader.close();\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t\tprivate String getCharSet(String temp) \r\n\t\t{\r\n\t\t\tString t = temp.split(&quot;=&quot;)[1].trim();\r\n\t\t\treturn t.substring(1, t.length()-1);\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Save the file as per character set and encoding \r\n\t\t */\r\n\t\tprivate void writeBufferContentToFile(StringBuilder buffer,String encoding, String filename, String charset) \r\n\t\tthrows Exception\r\n\t\t{\r\n\t\r\n\t\t\tif(!outputFolder.exists())\r\n\t\t\t\toutputFolder.mkdirs();\r\n\t\r\n\t\t\tbyte[] content = null; \r\n\t\r\n\t\t\tboolean text = true;\r\n\t\r\n\t\t\tif(encoding.equalsIgnoreCase(&quot;base64&quot;)){\r\n\t\t\t\tcontent = getBase64EncodedString(buffer);\r\n\t\t\t\ttext = false;\r\n\t\t\t}else if(encoding.equalsIgnoreCase(&quot;quoted-printable&quot;)) {\r\n\t\t\t\tcontent = getQuotedPrintableString(buffer);\t\t\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tcontent = buffer.toString().getBytes();\r\n\t\r\n\t\t\tif(!text)\r\n\t\t\t{\r\n\t\t\t\tBufferedOutputStream bos = null;\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tbos = new BufferedOutputStream(new FileOutputStream(filename));\r\n\t\t\t\t\tbos.write(content);\r\n\t\t\t\t\tbos.flush();\r\n\t\t\t\t}finally {\r\n\t\t\t\t\tbos.close();\r\n\t\t\t\t}\r\n\t\t\t}else \r\n\t\t\t{\r\n\t\t\t\tBufferedWriter bw = null;\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tbw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(filename), charset));\r\n\t\t\t\t\tbw.write(new String(content));\r\n\t\t\t\t\tbw.flush();\r\n\t\t\t\t}finally {\r\n\t\t\t\t\tbw.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * When the save the *.mts file with &#39;utf-8&#39; encoding then it appends &#39;=EF=BB=BF&#39;&lt;/br&gt;\r\n\t\t * @see http://en.wikipedia.org/wiki/Byte_order_mark\r\n\t\t */\r\n\t\tprivate byte[] getQuotedPrintableString(StringBuilder buffer) \r\n\t\t{\r\n\t\t\t//Set&lt;String&gt; uniqueHex = new HashSet&lt;String&gt;();\r\n\t\t\t//final Pattern p = Pattern.compile(&quot;(=\\\\p{XDigit}{2})*&quot;);\r\n\t\r\n\t\t\tString temp = buffer.toString().replaceAll(UTF8_BOM, &quot;&quot;).replaceAll(&quot;=\\n&quot;, &quot;&quot;);\r\n\t\r\n\t\t\t//Matcher m = p.matcher(temp);\r\n\t\t\t//while(m.find()) {\r\n\t\t\t//\tuniqueHex.add(m.group());\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t\t//System.out.println(uniqueHex);\r\n\t\r\n\t\t\t//for (String hex : uniqueHex) {\r\n\t\t\t\t//temp = temp.replaceAll(hex, getASCIIValue(hex.substring(1)));\r\n\t\t\t//}\t\t\r\n\t\r\n\t\t\treturn temp.getBytes();\r\n\t\t}\r\n\t\r\n\t\t/*private String getASCIIValue(String hex) {\r\n\t\t\treturn &quot;&quot;+(char)Integer.parseInt(hex, 16);\r\n\t\t}*/\r\n\t\t/**\r\n\t\t * Although system dependent..it works well\r\n\t\t */\r\n\t\tprivate byte[] getBase64EncodedString(StringBuilder buffer) throws Exception {\r\n\t\t\treturn new BASE64Decoder().decodeBuffer(buffer.toString());\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Tries to get a qualified file name. If the name is not apparent it tries to guess it from the URL.\r\n\t\t * Otherwise it returns &#39;unknown.&lt;type&gt;&#39;\r\n\t\t */\r\n\t\tprivate String getFileName(String location, String type) \r\n\t\t{\r\n\t\t\tfinal Pattern p = Pattern.compile(&quot;(\\\\w|_|-)+\\\\.\\\\w+&quot;);\r\n\t\t\tString ext = &quot;&quot;;\r\n\t\t\tString name = &quot;&quot;;\r\n\t\t\tif(type.toLowerCase().endsWith(&quot;jpeg&quot;))\r\n\t\t\t\text = &quot;jpg&quot;;\r\n\t\t\telse\r\n\t\t\t\text = type.split(&quot;/&quot;)[1];\r\n\t\r\n\t\t\tif(location.endsWith(&quot;/&quot;)) {\r\n\t\t\t\tname = &quot;main&quot;;\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\t\tname = location.substring(location.lastIndexOf(&quot;/&quot;) + 1);\r\n\t\r\n\t\t\t\tMatcher m = p.matcher(name);\r\n\t\t\t\tString fname = &quot;&quot;;\r\n\t\t\t\twhile(m.find()) {\r\n\t\t\t\t\tfname = m.group();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif(fname.trim().length() == 0)\r\n\t\t\t\t\tname = &quot;unknown&quot;;\r\n\t\t\t\telse\r\n\t\t\t\t\treturn getUniqueName(fname.substring(0,fname.indexOf(&quot;.&quot;)), fname.substring(fname.indexOf(&quot;.&quot;) + 1, fname.length()));\r\n\t\t\t}\r\n\t\t\treturn getUniqueName(name,ext);\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Returns a qualified unique output file path for the parsed path.&lt;/br&gt;\r\n\t\t * In case the file already exist it appends a numarical value a continues\r\n\t\t */\r\n\t\tprivate String getUniqueName(String name,String ext)\r\n\t\t{\r\n\t\t\tint i = 1;\r\n\t\t\tFile file = new File(outputFolder,name + &quot;.&quot; + ext);\r\n\t\t\tif(file.exists())\r\n\t\t\t{\r\n\t\t\t\twhile(true)\r\n\t\t\t\t{\r\n\t\t\t\t\tfile = new File(outputFolder, name + i + &quot;.&quot; + ext);\r\n\t\t\t\t\tif(!file.exists())\r\n\t\t\t\t\t\treturn file.getAbsolutePath();\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn file.getAbsolutePath();\r\n\t\t}\r\n\t\r\n\t\tprivate String getType(String line) {\r\n\t\t\treturn splitUsingColonSpace(line);\r\n\t\t}\r\n\t\r\n\t\tprivate String getEncoding(String line){\r\n\t\t\treturn splitUsingColonSpace(line);\r\n\t\t}\r\n\t\r\n\t\tprivate String splitUsingColonSpace(String line) {\r\n\t\t\treturn line.split(&quot;:\\\\s*&quot;)[1].replaceAll(&quot;;&quot;, &quot;&quot;);\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Gives you the boundary string\r\n\t\t */\r\n\t\tprivate String getBoundary(BufferedReader reader) throws Exception \r\n\t\t{\r\n\t\t\tString line = null;\r\n\t\r\n\t\t\twhile((line = reader.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tif(line.startsWith(BOUNDARY)) {\r\n\t\t\t\t\treturn line.substring(line.indexOf(&quot;\\&quot;&quot;) + 1, line.lastIndexOf(&quot;\\&quot;&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nRegards,\r\n","title":"How to read or parse MHTML (.mht) files in java","body":"<p>Frankly, I wasn't expecting a solution in near future and was about to give up, but some how I stumbled on this page: </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/MIME#Multipart_messages\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/MIME#Multipart_messages</a></p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ms527355%28EXCHG.10%29.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/library/ms527355%28EXCHG.10%29.aspx</a></p>\n\n<p>Although, not a very catchy in first look. But if you look carefully you will get clue. After reading this I fired up my IE and at random started saving pages as <code>*.mht</code> file. Let me go line by line... </p>\n\n<p>But let me explain beforehand that my ultimate goal was to separate/extract out the <code>html</code> content and parse it... the solution is not complete in itself as it depends on the <code>character set</code> or <code>encoding</code> I choose while saving. But even though it will extract the individual files with minor hitches...</p>\n\n<p>I hope this will be useful for anyone who is trying to parse/decompress <code>*.mht/MHTML</code> files :)</p>\n\n<p>======= Explanation ========\n** Taken from a mht file **</p>\n\n<pre><code>From: \"Saved by Windows Internet Explorer 7\"\n</code></pre>\n\n<p>It is the software used for saving the file</p>\n\n<pre><code>Subject: Google\nDate: Tue, 13 Jul 2010 21:23:03 +0530\nMIME-Version: 1.0\n</code></pre>\n\n<p>Subject, date and mime-version … much like the mail format</p>\n\n<pre><code>  Content-Type: multipart/related;\ntype=\"text/html\";\n</code></pre>\n\n<p>This is the part which tells us that it is a <code>multipart</code> document. A multipart document has one or more different sets of data combined in a single body, a <code>multipart</code> Content-Type field must appear in the entity's header. Here, we can also see the type as <code>\"text/html\"</code>.</p>\n\n<pre><code>boundary=\"----=_NextPart_000_0007_01CB22D1.93BBD1A0\"\n</code></pre>\n\n<p>Out of all this is the most important part. This is the unique delimiter which divides two different parts (html,images,css,script etc). <strong>Once</strong> you get hold of this, everything gets easy... Now, I just have to iterate through the document and finding out different sections and saving them as per their <code>Content-Transfer-Encoding</code> (base64, quoted-printable etc) ...\n    .\n    .\n    .</p>\n\n<p><strong>SAMPLE</strong></p>\n\n<pre><code> ------=_NextPart_000_0007_01CB22D1.93BBD1A0\n Content-Type: text/html;\n charset=\"utf-8\"\n Content-Transfer-Encoding: quoted-printable\n Content-Location: http://www.google.com/webhp?sourceid=navclient&amp;ie=UTF-8\n\n &lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" =\n.\n.\n.\n</code></pre>\n\n<p>** JAVA CODE **</p>\n\n<p>An interface for defining constants.</p>\n\n<pre><code>public interface IConstants \n{\n    public String BOUNDARY = \"boundary\";\n    public String CHAR_SET = \"charset\";\n    public String CONTENT_TYPE = \"Content-Type\";\n    public String CONTENT_TRANSFER_ENCODING = \"Content-Transfer-Encoding\";\n    public String CONTENT_LOCATION = \"Content-Location\";\n\n    public String UTF8_BOM = \"=EF=BB=BF\";\n\n    public String UTF16_BOM1 = \"=FF=FE\";\n    public String UTF16_BOM2 = \"=FE=FF\";\n}\n</code></pre>\n\n<p>The main parser class...</p>\n\n<pre><code>/**\n * This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n */\npackage com.test.mht.core;\n\nimport java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.OutputStreamWriter;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport sun.misc.BASE64Decoder;\n\n/**\n * File to parse and decompose *.mts file in its constituting parts.\n * @author Manish Shukla \n */\n\npublic class MHTParser implements IConstants\n{\n    private File mhtFile;\n    private File outputFolder;\n\n    public MHTParser(File mhtFile, File outputFolder) {\n        this.mhtFile = mhtFile;\n        this.outputFolder = outputFolder;\n    }\n\n    /**\n     * @throws Exception\n     */\n    public void decompress() throws Exception\n    {\n        BufferedReader reader = null;\n\n        String type = \"\";\n        String encoding = \"\";\n        String location = \"\";\n        String filename = \"\";\n        String charset = \"utf-8\";\n        StringBuilder buffer = null;\n\n        try\n        {\n            reader = new BufferedReader(new FileReader(mhtFile));\n\n            final String boundary = getBoundary(reader);\n            if(boundary == null)\n                throw new Exception(\"Failed to find document 'boundary'... Aborting\");\n\n            String line = null;\n            int i = 1;\n            while((line = reader.readLine()) != null)\n            {\n                String temp = line.trim();\n                if(temp.contains(boundary)) \n                {\n                    if(buffer != null) {\n                        writeBufferContentToFile(buffer,encoding,filename,charset);\n                        buffer = null;\n                    }\n\n                    buffer = new StringBuilder();\n                }else if(temp.startsWith(CONTENT_TYPE)) {\n                    type = getType(temp);\n                }else if(temp.startsWith(CHAR_SET)) {\n                    charset = getCharSet(temp);\n                }else if(temp.startsWith(CONTENT_TRANSFER_ENCODING)) {\n                    encoding = getEncoding(temp);\n                }else if(temp.startsWith(CONTENT_LOCATION)) {\n                    location = temp.substring(temp.indexOf(\":\")+1).trim();\n                    i++;\n                    filename = getFileName(location,type);\n                }else {\n                    if(buffer != null) {\n                        buffer.append(line + \"\\n\");\n                    }\n                }\n            }\n\n        }finally \n        {\n            if(null != reader)\n                reader.close();\n        }\n\n    }\n\n    private String getCharSet(String temp) \n    {\n        String t = temp.split(\"=\")[1].trim();\n        return t.substring(1, t.length()-1);\n    }\n\n    /**\n     * Save the file as per character set and encoding \n     */\n    private void writeBufferContentToFile(StringBuilder buffer,String encoding, String filename, String charset) \n    throws Exception\n    {\n\n        if(!outputFolder.exists())\n            outputFolder.mkdirs();\n\n        byte[] content = null; \n\n        boolean text = true;\n\n        if(encoding.equalsIgnoreCase(\"base64\")){\n            content = getBase64EncodedString(buffer);\n            text = false;\n        }else if(encoding.equalsIgnoreCase(\"quoted-printable\")) {\n            content = getQuotedPrintableString(buffer);         \n        }\n        else\n            content = buffer.toString().getBytes();\n\n        if(!text)\n        {\n            BufferedOutputStream bos = null;\n            try\n            {\n                bos = new BufferedOutputStream(new FileOutputStream(filename));\n                bos.write(content);\n                bos.flush();\n            }finally {\n                bos.close();\n            }\n        }else \n        {\n            BufferedWriter bw = null;\n            try\n            {\n                bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(filename), charset));\n                bw.write(new String(content));\n                bw.flush();\n            }finally {\n                bw.close();\n            }\n        }\n    }\n\n    /**\n     * When the save the *.mts file with 'utf-8' encoding then it appends '=EF=BB=BF'&lt;/br&gt;\n     * @see http://en.wikipedia.org/wiki/Byte_order_mark\n     */\n    private byte[] getQuotedPrintableString(StringBuilder buffer) \n    {\n        //Set&lt;String&gt; uniqueHex = new HashSet&lt;String&gt;();\n        //final Pattern p = Pattern.compile(\"(=\\\\p{XDigit}{2})*\");\n\n        String temp = buffer.toString().replaceAll(UTF8_BOM, \"\").replaceAll(\"=\\n\", \"\");\n\n        //Matcher m = p.matcher(temp);\n        //while(m.find()) {\n        //  uniqueHex.add(m.group());\n        //}\n\n        //System.out.println(uniqueHex);\n\n        //for (String hex : uniqueHex) {\n            //temp = temp.replaceAll(hex, getASCIIValue(hex.substring(1)));\n        //}     \n\n        return temp.getBytes();\n    }\n\n    /*private String getASCIIValue(String hex) {\n        return \"\"+(char)Integer.parseInt(hex, 16);\n    }*/\n    /**\n     * Although system dependent..it works well\n     */\n    private byte[] getBase64EncodedString(StringBuilder buffer) throws Exception {\n        return new BASE64Decoder().decodeBuffer(buffer.toString());\n    }\n\n    /**\n     * Tries to get a qualified file name. If the name is not apparent it tries to guess it from the URL.\n     * Otherwise it returns 'unknown.&lt;type&gt;'\n     */\n    private String getFileName(String location, String type) \n    {\n        final Pattern p = Pattern.compile(\"(\\\\w|_|-)+\\\\.\\\\w+\");\n        String ext = \"\";\n        String name = \"\";\n        if(type.toLowerCase().endsWith(\"jpeg\"))\n            ext = \"jpg\";\n        else\n            ext = type.split(\"/\")[1];\n\n        if(location.endsWith(\"/\")) {\n            name = \"main\";\n        }else\n        {\n            name = location.substring(location.lastIndexOf(\"/\") + 1);\n\n            Matcher m = p.matcher(name);\n            String fname = \"\";\n            while(m.find()) {\n                fname = m.group();\n            }\n\n            if(fname.trim().length() == 0)\n                name = \"unknown\";\n            else\n                return getUniqueName(fname.substring(0,fname.indexOf(\".\")), fname.substring(fname.indexOf(\".\") + 1, fname.length()));\n        }\n        return getUniqueName(name,ext);\n    }\n\n    /**\n     * Returns a qualified unique output file path for the parsed path.&lt;/br&gt;\n     * In case the file already exist it appends a numarical value a continues\n     */\n    private String getUniqueName(String name,String ext)\n    {\n        int i = 1;\n        File file = new File(outputFolder,name + \".\" + ext);\n        if(file.exists())\n        {\n            while(true)\n            {\n                file = new File(outputFolder, name + i + \".\" + ext);\n                if(!file.exists())\n                    return file.getAbsolutePath();\n                i++;\n            }\n        }\n\n        return file.getAbsolutePath();\n    }\n\n    private String getType(String line) {\n        return splitUsingColonSpace(line);\n    }\n\n    private String getEncoding(String line){\n        return splitUsingColonSpace(line);\n    }\n\n    private String splitUsingColonSpace(String line) {\n        return line.split(\":\\\\s*\")[1].replaceAll(\";\", \"\");\n    }\n\n    /**\n     * Gives you the boundary string\n     */\n    private String getBoundary(BufferedReader reader) throws Exception \n    {\n        String line = null;\n\n        while((line = reader.readLine()) != null)\n        {\n            line = line.trim();\n            if(line.startsWith(BOUNDARY)) {\n                return line.substring(line.indexOf(\"\\\"\") + 1, line.lastIndexOf(\"\\\"\"));\n            }\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425372601,"creation_date":1425372601,"answer_id":28827502,"question_id":3230305,"body_markdown":"You don&#39;t have to do it on you own.\r\n\r\nWith dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.james&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;apache-mime4j&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.7.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nRoll you mht file\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        MessageTree.main(new String[]{&quot;YOU MHT FILE PATH&quot;});\r\n    }\r\n\r\n\r\n`MessageTree` will \r\n\r\n    /**\r\n     * Displays a parsed Message in a window. The window will be divided into\r\n     * two panels. The left panel displays the Message tree. Clicking on a\r\n     * node in the tree shows information on that node in the right panel.\r\n     *\r\n     * Some of this code have been copied from the Java tutorial&#39;s JTree section.\r\n     */\r\n\r\nThen you can look into it.\r\n\r\n;-)","title":"How to read or parse MHTML (.mht) files in java","body":"<p>You don't have to do it on you own.</p>\n\n<p>With dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.james&lt;/groupId&gt;\n    &lt;artifactId&gt;apache-mime4j&lt;/artifactId&gt;\n    &lt;version&gt;0.7.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Roll you mht file</p>\n\n<pre><code>public static void main(String[] args)\n{\n    MessageTree.main(new String[]{\"YOU MHT FILE PATH\"});\n}\n</code></pre>\n\n<p><code>MessageTree</code> will </p>\n\n<pre><code>/**\n * Displays a parsed Message in a window. The window will be divided into\n * two panels. The left panel displays the Message tree. Clicking on a\n * node in the tree shows information on that node in the right panel.\n *\n * Some of this code have been copied from the Java tutorial's JTree section.\n */\n</code></pre>\n\n<p>Then you can look into it.</p>\n\n<p>;-)</p>\n"},{"tags":[],"owner":{"account_id":4887498,"reputation":316,"user_id":3939518,"display_name":"David Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460448147,"creation_date":1460448147,"answer_id":36567112,"question_id":3230305,"body_markdown":"Late to the party, but expanding on [@wener](https://stackoverflow.com/users/1870054/wener)&#39;s answer for anyone else stumbling across this.\r\n\r\nThe [Apache Mime4J](https://james.apache.org/mime4j/) library seems to have the most readily accessible solution for [EML or MHTML](https://en.wikipedia.org/wiki/MHTML) processing, much easier than rolling-your-own!\r\n\r\nMy prototype &#39;`parseMhtToFile`&#39; function below rips html files and other artifacts out of a Cognos active report &#39;mht&#39; file, but could be tailored to other purposes.\r\n\r\nThis is written in Groovy and requires [Apache Mime4J &#39;core&#39; and &#39;dom&#39; jars](https://james.apache.org/mime4j/start/download.html) (currently 0.7.2).\r\n\r\n    import org.apache.james.mime4j.dom.Message\r\n    import org.apache.james.mime4j.dom.Multipart\r\n    import org.apache.james.mime4j.dom.field.ContentTypeField\r\n    import org.apache.james.mime4j.message.DefaultMessageBuilder\r\n    import org.apache.james.mime4j.stream.MimeConfig\r\n    \r\n    /**\r\n     * Use Mime4J MessageBuilder to parse an mhtml file (assumes multipart) into\r\n     * separate html files.\r\n     * Files will be written to outDir (or parent) as baseName + partIdx + ext.\r\n     */\r\n    void parseMhtToFile(File mhtFile, File outDir = null) {\r\n    \tif (!outDir) {outDir = mhtFile.parentFile }\r\n    \t// File baseName will be used in generating new filenames\r\n    \tdef mhtBaseName = mhtFile.name.replaceFirst(~/\\.[^\\.]+$/, &#39;&#39;)\r\n    \t\r\n    \t// -- Set up Mime parser, using Default Message Builder\r\n    \tMimeConfig parserConfig  = new MimeConfig();\r\n    \tparserConfig.setMaxHeaderLen(-1); // The default is a mere 10k\r\n    \tparserConfig.setMaxLineLen(-1); // The default is only 1000 characters.\r\n    \tparserConfig.setMaxHeaderCount(-1); // Disable the check for header count.\r\n    \tDefaultMessageBuilder builder = new DefaultMessageBuilder();\r\n    \tbuilder.setMimeEntityConfig(parserConfig);\r\n    \t\r\n    \t// -- Parse the MHT stream data into a Message object\r\n    \tprintln &quot;Parsing ${mhtFile}...&quot;;\r\n    \tInputStream mhtStream = mhtFile.newInputStream()\r\n    \tMessage message = builder.parseMessage(mhtStream);\r\n    \t\r\n    \t// -- Process the resulting body parts, writing to file\r\n    \tassert message.getBody() instanceof Multipart\r\n    \tMultipart multipart = (Multipart) message.getBody();\r\n    \tdef parts = multipart.getBodyParts();\r\n    \tparts.eachWithIndex { p, i -&gt;\r\n    \t\tContentTypeField cType = p.header.getField(&#39;content-type&#39;)\r\n    \t\tprintln &quot;${p.class.simpleName}\\t${i}\\t${cType.mimeType}&quot;\r\n    \t\t\r\n    \t\t// Assume mime sub-type is a &quot;good enough&quot; file-name extension \r\n    \t\t// e.g. text/html = html, image/png = png, application/json = json\r\n    \t\tString partFileName = &quot;${mhtBaseName}_${i}.${cType.subType}&quot;\r\n    \t\tFile partFile = new File(outDir, partFileName)\r\n    \t\t\r\n    \t\t// Write part body stream to file\r\n    \t\tprintln &quot;Writing ${partFile}...&quot;;\r\n    \t\tif (partFile.exists()) partFile.delete();\r\n    \t\tInputStream partStream = p.body.inputStream;\r\n    \t\tpartFile.append(partStream);\r\n    \t}\r\n    }\r\n\r\nUsage is simply:\r\n\r\n    File mhtFile = new File(&#39;&lt;path&gt;&#39;, &#39;Report-en-au.mht&#39;)\r\n    parseMhtToFile(mhtFile)\r\n    println &#39;Done.&#39;\r\n\r\nOutput is:\r\n\r\n    Parsing &lt;path&gt;\\Report-en-au.mht...\r\n    BodyPart\t0\ttext/html\r\n    Writing &lt;path&gt;\\Report-en-au_0.html...\r\n    BodyPart\t1\timage/png\r\n    Writing &lt;path&gt;\\Report-en-au_1.png...\r\n    Done.\r\n\r\nThoughts on other improvements:\r\n\r\n - For [&#39;text&#39; mime parts](https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/dom/TextBody.html), you can access a [`Reader`](https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/dom/TextBody.html#getReader()) instead of a `Stream` which might be more appropriate for text mining as the OP requested.\r\n\r\n - For generated filename extensions, I&#39;d use another library to lookup appropriate extension, not assume the mime sub-type is adequate.\r\n\r\n - Handle Single-body (non-Multipart) and Recursive Multipart mhtml files and other complexities. These may require a [MimeStreamParser](https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/parser/MimeStreamParser.html) with custom [Content Handler](https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/parser/AbstractContentHandler.html) implementation.","title":"How to read or parse MHTML (.mht) files in java","body":"<p>Late to the party, but expanding on <a href=\"https://stackoverflow.com/users/1870054/wener\">@wener</a>'s answer for anyone else stumbling across this.</p>\n\n<p>The <a href=\"https://james.apache.org/mime4j/\" rel=\"nofollow noreferrer\">Apache Mime4J</a> library seems to have the most readily accessible solution for <a href=\"https://en.wikipedia.org/wiki/MHTML\" rel=\"nofollow noreferrer\">EML or MHTML</a> processing, much easier than rolling-your-own!</p>\n\n<p>My prototype '<code>parseMhtToFile</code>' function below rips html files and other artifacts out of a Cognos active report 'mht' file, but could be tailored to other purposes.</p>\n\n<p>This is written in Groovy and requires <a href=\"https://james.apache.org/mime4j/start/download.html\" rel=\"nofollow noreferrer\">Apache Mime4J 'core' and 'dom' jars</a> (currently 0.7.2).</p>\n\n<pre><code>import org.apache.james.mime4j.dom.Message\nimport org.apache.james.mime4j.dom.Multipart\nimport org.apache.james.mime4j.dom.field.ContentTypeField\nimport org.apache.james.mime4j.message.DefaultMessageBuilder\nimport org.apache.james.mime4j.stream.MimeConfig\n\n/**\n * Use Mime4J MessageBuilder to parse an mhtml file (assumes multipart) into\n * separate html files.\n * Files will be written to outDir (or parent) as baseName + partIdx + ext.\n */\nvoid parseMhtToFile(File mhtFile, File outDir = null) {\n    if (!outDir) {outDir = mhtFile.parentFile }\n    // File baseName will be used in generating new filenames\n    def mhtBaseName = mhtFile.name.replaceFirst(~/\\.[^\\.]+$/, '')\n\n    // -- Set up Mime parser, using Default Message Builder\n    MimeConfig parserConfig  = new MimeConfig();\n    parserConfig.setMaxHeaderLen(-1); // The default is a mere 10k\n    parserConfig.setMaxLineLen(-1); // The default is only 1000 characters.\n    parserConfig.setMaxHeaderCount(-1); // Disable the check for header count.\n    DefaultMessageBuilder builder = new DefaultMessageBuilder();\n    builder.setMimeEntityConfig(parserConfig);\n\n    // -- Parse the MHT stream data into a Message object\n    println \"Parsing ${mhtFile}...\";\n    InputStream mhtStream = mhtFile.newInputStream()\n    Message message = builder.parseMessage(mhtStream);\n\n    // -- Process the resulting body parts, writing to file\n    assert message.getBody() instanceof Multipart\n    Multipart multipart = (Multipart) message.getBody();\n    def parts = multipart.getBodyParts();\n    parts.eachWithIndex { p, i -&gt;\n        ContentTypeField cType = p.header.getField('content-type')\n        println \"${p.class.simpleName}\\t${i}\\t${cType.mimeType}\"\n\n        // Assume mime sub-type is a \"good enough\" file-name extension \n        // e.g. text/html = html, image/png = png, application/json = json\n        String partFileName = \"${mhtBaseName}_${i}.${cType.subType}\"\n        File partFile = new File(outDir, partFileName)\n\n        // Write part body stream to file\n        println \"Writing ${partFile}...\";\n        if (partFile.exists()) partFile.delete();\n        InputStream partStream = p.body.inputStream;\n        partFile.append(partStream);\n    }\n}\n</code></pre>\n\n<p>Usage is simply:</p>\n\n<pre><code>File mhtFile = new File('&lt;path&gt;', 'Report-en-au.mht')\nparseMhtToFile(mhtFile)\nprintln 'Done.'\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>Parsing &lt;path&gt;\\Report-en-au.mht...\nBodyPart    0   text/html\nWriting &lt;path&gt;\\Report-en-au_0.html...\nBodyPart    1   image/png\nWriting &lt;path&gt;\\Report-en-au_1.png...\nDone.\n</code></pre>\n\n<p>Thoughts on other improvements:</p>\n\n<ul>\n<li><p>For <a href=\"https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/dom/TextBody.html\" rel=\"nofollow noreferrer\">'text' mime parts</a>, you can access a <a href=\"https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/dom/TextBody.html#getReader()\" rel=\"nofollow noreferrer\"><code>Reader</code></a> instead of a <code>Stream</code> which might be more appropriate for text mining as the OP requested.</p></li>\n<li><p>For generated filename extensions, I'd use another library to lookup appropriate extension, not assume the mime sub-type is adequate.</p></li>\n<li><p>Handle Single-body (non-Multipart) and Recursive Multipart mhtml files and other complexities. These may require a <a href=\"https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/parser/MimeStreamParser.html\" rel=\"nofollow noreferrer\">MimeStreamParser</a> with custom <a href=\"https://james.apache.org/mime4j/apidocs/org/apache/james/mime4j/parser/AbstractContentHandler.html\" rel=\"nofollow noreferrer\">Content Handler</a> implementation.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1690049945,"post_id":58623351,"comment_id":135300131,"body_markdown":"Thank you. I used this code, but have stuck on [this](https://stackoverflow.com/questions/76744757/parsing-mht-mhtml-file-message-getcontent-failed) error.","body":"Thank you. I used this code, but have stuck on <a href=\"https://stackoverflow.com/questions/76744757/parsing-mht-mhtml-file-message-getcontent-failed\">this</a> error."}],"tags":[],"owner":{"account_id":16998804,"reputation":41,"user_id":12296649,"display_name":"rakesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572433189,"creation_date":1572431482,"answer_id":58623351,"question_id":3230305,"body_markdown":"A more compact code using Java Mail APIs \t\t\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.net.URL;\r\n    import java.util.Properties;\r\n\t\t\r\n    import javax.mail.BodyPart;\r\n    import javax.mail.Session;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.mail.internet.MimeMultipart;\r\n\t\t\r\n    import org.apache.commons.io.IOUtils;\r\n\t\t\r\n    public class MhtParser {\r\n\t\t\r\n        private File mhtFile;\r\n        private File outputFolder;\r\n\t\t\r\n        public MhtParser(File mhtFile, File outputFolder) {\r\n            this.mhtFile = mhtFile;\r\n            this.outputFolder = outputFolder;\r\n        }\r\n\t\t\r\n        public void decompress() throws Exception {\r\n            MimeMessage message = \r\n                new MimeMessage(\r\n                        Session.getDefaultInstance(new Properties(), null),\r\n                        new FileInputStream(mhtFile));\r\n\r\n            if (message.getContent() instanceof MimeMultipart) {\r\n                outputFolder.mkdir();\r\n                MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\r\n\r\n                for (int i = 0; i &lt; mimeMultipart.getCount(); i++) {\r\n                    BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n                    String fileName = bodyPart.getFileName();\r\n\r\n                    if (fileName == null) {\r\n                        String[] locationHeader = bodyPart.getHeader(&quot;Content-Location&quot;);\r\n                        if (locationHeader != null &amp;&amp; locationHeader.length &gt; 0) {\r\n                            fileName = \r\n                                new File(new URL(locationHeader[0]).getFile()).getName();\r\n                        }\r\n                    }\r\n\r\n                    if (fileName != null) {\r\n                        FileOutputStream out = \r\n                            new FileOutputStream(new File(outputFolder, fileName));\r\n\r\n                        IOUtils.copy(bodyPart.getInputStream(), out);\r\n                        out.flush();\r\n                        out.close();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to read or parse MHTML (.mht) files in java","body":"<p>A more compact code using Java Mail APIs        </p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.net.URL;\nimport java.util.Properties;\n\nimport javax.mail.BodyPart;\nimport javax.mail.Session;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\n\nimport org.apache.commons.io.IOUtils;\n\npublic class MhtParser {\n\n    private File mhtFile;\n    private File outputFolder;\n\n    public MhtParser(File mhtFile, File outputFolder) {\n        this.mhtFile = mhtFile;\n        this.outputFolder = outputFolder;\n    }\n\n    public void decompress() throws Exception {\n        MimeMessage message = \n            new MimeMessage(\n                    Session.getDefaultInstance(new Properties(), null),\n                    new FileInputStream(mhtFile));\n\n        if (message.getContent() instanceof MimeMultipart) {\n            outputFolder.mkdir();\n            MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\n\n            for (int i = 0; i &lt; mimeMultipart.getCount(); i++) {\n                BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n                String fileName = bodyPart.getFileName();\n\n                if (fileName == null) {\n                    String[] locationHeader = bodyPart.getHeader(\"Content-Location\");\n                    if (locationHeader != null &amp;&amp; locationHeader.length &gt; 0) {\n                        fileName = \n                            new File(new URL(locationHeader[0]).getFile()).getName();\n                    }\n                }\n\n                if (fileName != null) {\n                    FileOutputStream out = \n                        new FileOutputStream(new File(outputFolder, fileName));\n\n                    IOUtils.copy(bodyPart.getInputStream(), out);\n                    out.flush();\n                    out.close();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26810,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":3239442,"answer_count":6,"score":13,"last_activity_date":1690197819,"creation_date":1278952503,"question_id":3230305,"body_markdown":"I need to mine the **content** of most of known document files like:\r\n\r\n1. pdf\r\n2. html\r\n3. doc/docx etc.\r\n\r\nFor most of these file formats I am planning to use:\r\n\r\nhttp://tika.apache.org/\r\n\r\nBut as of now `Tika` does not support MHTML (*.mht) files.. ( http://en.wikipedia.org/wiki/MHTML )\r\nThere are few examples in C# ( http://www.codeproject.com/KB/files/MhtBuilder.aspx ) but I found none in Java.\r\n\r\nI tried opening the *.mht file in 7Zip and it failed...Although the WinZip was able to decompress the file into images and text (CSS, HTML, Script) as text and binary files...\r\n\r\n\r\nAs per MSDN page ( http://msdn.microsoft.com/en-us/library/aa767785%28VS.85%29.aspx#compress_content ) and the `code project` page i mentioned earlier ... mht files use GZip compression .... \r\n\r\nAttempting to decompress in java results in following exceptions:\r\nWith `java.uti.zip.GZIPInputStream`\r\n\r\n    java.io.IOException: Not in GZIP format\r\n\tat java.util.zip.GZIPInputStream.readHeader(Unknown Source)\r\n\tat java.util.zip.GZIPInputStream.&lt;init&gt;(Unknown Source)\r\n\tat java.util.zip.GZIPInputStream.&lt;init&gt;(Unknown Source)\r\n\tat GZipTest.main(GZipTest.java:16)\r\n\r\n\r\nAnd with `java.util.zip.ZipFile`\r\n\r\n     java.util.zip.ZipException: error in opening zip file\r\n\tat java.util.zip.ZipFile.open(Native Method)\r\n\tat java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\r\n\tat java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\r\n\tat GZipTest.main(GZipTest.java:21)\r\n\r\n\r\n\r\nKindly suggest how to decompress it.... \r\n\r\nThanks....\r\n\r\n\r\n","title":"How to read or parse MHTML (.mht) files in java","body":"<p>I need to mine the <strong>content</strong> of most of known document files like:</p>\n\n<ol>\n<li>pdf</li>\n<li>html</li>\n<li>doc/docx etc.</li>\n</ol>\n\n<p>For most of these file formats I am planning to use:</p>\n\n<p><a href=\"http://tika.apache.org/\" rel=\"noreferrer\">http://tika.apache.org/</a></p>\n\n<p>But as of now <code>Tika</code> does not support MHTML (*.mht) files.. ( <a href=\"http://en.wikipedia.org/wiki/MHTML\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/MHTML</a> )\nThere are few examples in C# ( <a href=\"http://www.codeproject.com/KB/files/MhtBuilder.aspx\" rel=\"noreferrer\">http://www.codeproject.com/KB/files/MhtBuilder.aspx</a> ) but I found none in Java.</p>\n\n<p>I tried opening the *.mht file in 7Zip and it failed...Although the WinZip was able to decompress the file into images and text (CSS, HTML, Script) as text and binary files...</p>\n\n<p>As per MSDN page ( <a href=\"http://msdn.microsoft.com/en-us/library/aa767785%28VS.85%29.aspx#compress_content\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/library/aa767785%28VS.85%29.aspx#compress_content</a> ) and the <code>code project</code> page i mentioned earlier ... mht files use GZip compression .... </p>\n\n<p>Attempting to decompress in java results in following exceptions:\nWith <code>java.uti.zip.GZIPInputStream</code></p>\n\n<pre><code>java.io.IOException: Not in GZIP format\nat java.util.zip.GZIPInputStream.readHeader(Unknown Source)\nat java.util.zip.GZIPInputStream.&lt;init&gt;(Unknown Source)\nat java.util.zip.GZIPInputStream.&lt;init&gt;(Unknown Source)\nat GZipTest.main(GZipTest.java:16)\n</code></pre>\n\n<p>And with <code>java.util.zip.ZipFile</code></p>\n\n<pre><code> java.util.zip.ZipException: error in opening zip file\nat java.util.zip.ZipFile.open(Native Method)\nat java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\nat java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\nat GZipTest.main(GZipTest.java:21)\n</code></pre>\n\n<p>Kindly suggest how to decompress it.... </p>\n\n<p>Thanks....</p>\n"},{"tags":["java","multithreading","time"],"comments":[{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1468404048,"post_id":38348375,"comment_id":64109756,"body_markdown":"unique id&#39;s of what? Threads?","body":"unique id&#39;s of what? Threads?"},{"owner":{"account_id":2813465,"reputation":2018,"user_id":2419197,"accept_rate":88,"display_name":"Anas EL KORCHI"},"score":0,"creation_date":1468404300,"post_id":38348375,"comment_id":64109918,"body_markdown":"highly possible, you may concate some thread identifier to your unique value","body":"highly possible, you may concate some thread identifier to your unique value"},{"owner":{"account_id":8494724,"reputation":116,"user_id":6369655,"display_name":"D Levant"},"score":1,"creation_date":1468404797,"post_id":38348375,"comment_id":64110268,"body_markdown":"If you&#39;re the one starting the threads, why not give them a unique ID upon initialization? You can also use Thread.currentThread().getId()","body":"If you&#39;re the one starting the threads, why not give them a unique ID upon initialization? You can also use Thread.currentThread().getId()"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1468404923,"post_id":38348375,"comment_id":64110359,"body_markdown":"If you want uniqueness, use a GUID instead of a time stamp.","body":"If you want uniqueness, use a GUID instead of a time stamp."}],"answers":[{"tags":[],"owner":{"account_id":7886651,"reputation":1376,"user_id":5958449,"display_name":"Yoav Gur"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690197760,"creation_date":1468404118,"answer_id":38348474,"question_id":38348375,"body_markdown":"Today&#39;s CPUs can process around 100,000,000,000 instructions per second, so the answer is definitely &quot;Yes, It is true that sometimes the result of `System.currentTimeMillis()` in different threads may be the same&quot;.","title":"Java multithreading. Same System.currentTimeMillis() values on different threads","body":"<p>Today's CPUs can process around 100,000,000,000 instructions per second, so the answer is definitely &quot;Yes, It is true that sometimes the result of <code>System.currentTimeMillis()</code> in different threads may be the same&quot;.</p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1468405009,"post_id":38348485,"comment_id":64110417,"body_markdown":"or more simply an `atomicLong.getAndIncrement();`","body":"or more simply an <code>atomicLong.getAndIncrement();</code>"},{"owner":{"account_id":8789034,"reputation":146,"user_id":6569711,"display_name":"Creart"},"score":0,"creation_date":1468420646,"post_id":38348485,"comment_id":64121728,"body_markdown":"Yes you can, if you want just a simple incrementable ID","body":"Yes you can, if you want just a simple incrementable ID"}],"tags":[],"owner":{"account_id":8789034,"reputation":146,"user_id":6569711,"display_name":"Creart"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1468404141,"creation_date":1468404141,"answer_id":38348485,"question_id":38348375,"body_markdown":"The function `System.currentTimeMillis()` returns the current time in milliseconds. So if your threads run during the same millisecond, yes this function will return the same result. So you can generate UUIDs like that: `UUID.randomUUID()`","title":"Java multithreading. Same System.currentTimeMillis() values on different threads","body":"<p>The function <code>System.currentTimeMillis()</code> returns the current time in milliseconds. So if your threads run during the same millisecond, yes this function will return the same result. So you can generate UUIDs like that: <code>UUID.randomUUID()</code></p>\n"}],"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1468405168,"accepted_answer_id":38348485,"answer_count":2,"score":3,"last_activity_date":1690197760,"creation_date":1468403821,"question_id":38348375,"body_markdown":"I want to use the result of `System.currentTimeMillis()` in the multithreaded appplication to generate unique IDs. This is my code:\r\n\r\n        class MyRunnableClass implements Runnable{\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n                long thisValueShouldBeUnique = System.currentTimeMillis ();\r\n            }\r\n        }\r\n\r\nI start 10 threads which run MyRunnableClass object run() method.\r\nIs it true, that sometimes the result of `System.currentTimeMillis ()` in different threads may be the same?","title":"Java multithreading. Same System.currentTimeMillis() values on different threads","body":"<p>I want to use the result of <code>System.currentTimeMillis()</code> in the multithreaded appplication to generate unique IDs. This is my code:</p>\n\n<pre><code>    class MyRunnableClass implements Runnable{\n        @Override\n        public void run() {\n            long thisValueShouldBeUnique = System.currentTimeMillis ();\n        }\n    }\n</code></pre>\n\n<p>I start 10 threads which run MyRunnableClass object run() method.\nIs it true, that sometimes the result of <code>System.currentTimeMillis ()</code> in different threads may be the same?</p>\n"},{"tags":["java","spring","spring-boot","multithreading","scalability"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1690189363,"post_id":76752761,"comment_id":135313407,"body_markdown":"Do you have currently a single deployment on Kubernetes? You can first try to introduce multiple pods. For example up to 15 which is your number of tenants. This should help to mitigate the current bottleneck. And it would be with no code change.","body":"Do you have currently a single deployment on Kubernetes? You can first try to introduce multiple pods. For example up to 15 which is your number of tenants. This should help to mitigate the current bottleneck. And it would be with no code change."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1690191412,"post_id":76752761,"comment_id":135313883,"body_markdown":"&quot;Previously we thought that it is because of delay from our server. But later we understood that because of greater number of api calls from angular making delayed operation.&quot; It&#39;s still your server, even though we are not necessarily speaking about a large slowness, but lots of smaller slownesses that accumulate. Please edit your question and provide at least conceptual information about what requests are being sent, because the reorganizing of those will be necessary and we need to have some information in order to figure out improvements for you.","body":"&quot;Previously we thought that it is because of delay from our server. But later we understood that because of greater number of api calls from angular making delayed operation.&quot; It&#39;s still your server, even though we are not necessarily speaking about a large slowness, but lots of smaller slownesses that accumulate. Please edit your question and provide at least conceptual information about what requests are being sent, because the reorganizing of those will be necessary and we need to have some information in order to figure out improvements for you."},{"owner":{"account_id":11827466,"reputation":2337,"user_id":8655052,"accept_rate":100,"display_name":"Mr.DevEng"},"score":0,"creation_date":1690195668,"post_id":76752761,"comment_id":135314773,"body_markdown":"Thank you for your response. I tried to give little bit more idea about the structure off app in my update. I hope this will help to understand the concern. Please go through my update when you gets some time.","body":"Thank you for your response. I tried to give little bit more idea about the structure off app in my update. I hope this will help to understand the concern. Please go through my update when you gets some time."}],"answers":[{"comments":[{"owner":{"account_id":11827466,"reputation":2337,"user_id":8655052,"accept_rate":100,"display_name":"Mr.DevEng"},"score":0,"creation_date":1690195583,"post_id":76752976,"comment_id":135314760,"body_markdown":"Thank you for your response.  I just updated more information. For reimplementing with graph SQL will not be option for us. I think they just going behind to implement app as a multi threaded asynch app rather than spending cost for deployment. But still need to confirm.","body":"Thank you for your response.  I just updated more information. For reimplementing with graph SQL will not be option for us. I think they just going behind to implement app as a multi threaded asynch app rather than spending cost for deployment. But still need to confirm."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1690197850,"post_id":76752976,"comment_id":135315174,"body_markdown":"That is indeed option 1, &quot;start with investigating if the client can do those calls in parallel&quot;. But if the response from one request is needed to create the next, that is not an option.  And if you go for optoon 2, start with something hand crafted, GraphQL is quite an investment.  You build that *on top* of what you have, backward compatible,  leaving all the existing endpoints as is.","body":"That is indeed option 1, &quot;start with investigating if the client can do those calls in parallel&quot;. But if the response from one request is needed to create the next, that is not an option.  And if you go for optoon 2, start with something hand crafted, GraphQL is quite an investment.  You build that <i>on top</i> of what you have, backward compatible,  leaving all the existing endpoints as is."}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690190008,"creation_date":1690190008,"answer_id":76752976,"question_id":76752761,"body_markdown":"Issues like this normally takes weeks och even months to solve, even for a team that has lots of experience. \r\n\r\nIf your problem is the number of API-calls from the client, **start with investigating if the client can do those calls in parallel** and not in sequence.\r\n\r\nIf that is not possible, **investigate if you can make a new API endpoint that in its turn calls the other endpoints** (or rather the micro services directly) just like the client would. Then let the client call this one API endpoint. That would at least remove the network (Internet) roundtrip for each call to the API, and replace them all with a single betwork roundtrip from the client.\r\n\r\nYou can handtail this if the flow is more or less static, or you can use some technology like GraphQL if you see that a hand made solution gets too complex.\r\n\r\nNote that this may change caching behaviour,  there may come an unpredicted penalty down the road that you need to deal with later. All those API-calls that may have been cached in web or client caches does no longer happen, and are not cached next time they are called... (But for a login flow, this is less likely to happen I would say. )","title":"Implementing scalable microservices oriented web application using Spring MVC and Springboot in Java","body":"<p>Issues like this normally takes weeks och even months to solve, even for a team that has lots of experience.</p>\n<p>If your problem is the number of API-calls from the client, <strong>start with investigating if the client can do those calls in parallel</strong> and not in sequence.</p>\n<p>If that is not possible, <strong>investigate if you can make a new API endpoint that in its turn calls the other endpoints</strong> (or rather the micro services directly) just like the client would. Then let the client call this one API endpoint. That would at least remove the network (Internet) roundtrip for each call to the API, and replace them all with a single betwork roundtrip from the client.</p>\n<p>You can handtail this if the flow is more or less static, or you can use some technology like GraphQL if you see that a hand made solution gets too complex.</p>\n<p>Note that this may change caching behaviour,  there may come an unpredicted penalty down the road that you need to deal with later. All those API-calls that may have been cached in web or client caches does no longer happen, and are not cached next time they are called... (But for a login flow, this is less likely to happen I would say. )</p>\n"}],"owner":{"account_id":11827466,"reputation":2337,"user_id":8655052,"accept_rate":100,"display_name":"Mr.DevEng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690197432,"creation_date":1690188196,"question_id":76752761,"body_markdown":"I am migrating enterprise web application using spring MVC and spring boot which currently working in core .Net technology. In Java I am using microservices and postgresql in backend and using angular in front end. This application actually consist of 18 spring MVC project with almost 70-75 end points. And we have upto 15 tenants using this. \r\n\r\nNow we are using Kubernetes and Jenkins in our own On-premise server to deploy the development version. So We are facing issue that if multiple login making at same time, we facing lot of dely. Previously we thought that it is because of delay from our server. But later we understood that because of greater number of api calls from angular making delayed operation.\r\n\r\n**Confusion in Future Implementation Using Multithreading**\r\n\r\n Now we are thinking to implement the all backend spring boot microservices using multi-threading. So to implement scalable application Here my confusion is that, \r\n\r\n 1. Is multithreading will resolve my delaying operation issue ?\r\n\r\nIf it is not a good move , which alternative idea available for me? . I am new to designing scalable application. So totally confused here. Can anyone suggest any solution to my problem or suggest any good tutorial to resolve this please?\r\n  \r\nUpdate - Information of Current architecture\r\n\r\n 1. Running Pods - For testing purpose only we used Kubernetes for deployment. And 18 pods for each microservice project plus additionally 1 pod for running angular app.\r\n\r\n 2. APIs - from angular application, which will hit the backend microservices. At one time upto 18 tenant customers may access application. Ie, almost 200 surveying customers may parallelly access.\r\n\r\n3. Microservice dependency- When Angular calls each microservices , it will call another api internally for authentication/authorization purpose (security api). I don&#39;t know this is will make any problem to my system.\r\n\r\n4. Deployment On Kubernetes Cluster(AWS EKS/On_premise) - is yet to get permission from org. Since AWS EKS will make a additional cost. So I have to look for deployment without K8 Cluster is also one concern to me.\r\n\r\n5. Surveying page makes one complex page in application which have 4 to 5 tabs and each tab saving functionality need to do independently. Each save operation has its own working time. Since multiple tables are joining and save op takes a while to finish in each tab.\r\n\r\n ","title":"Implementing scalable microservices oriented web application using Spring MVC and Springboot in Java","body":"<p>I am migrating enterprise web application using spring MVC and spring boot which currently working in core .Net technology. In Java I am using microservices and postgresql in backend and using angular in front end. This application actually consist of 18 spring MVC project with almost 70-75 end points. And we have upto 15 tenants using this.</p>\n<p>Now we are using Kubernetes and Jenkins in our own On-premise server to deploy the development version. So We are facing issue that if multiple login making at same time, we facing lot of dely. Previously we thought that it is because of delay from our server. But later we understood that because of greater number of api calls from angular making delayed operation.</p>\n<p><strong>Confusion in Future Implementation Using Multithreading</strong></p>\n<p>Now we are thinking to implement the all backend spring boot microservices using multi-threading. So to implement scalable application Here my confusion is that,</p>\n<ol>\n<li>Is multithreading will resolve my delaying operation issue ?</li>\n</ol>\n<p>If it is not a good move , which alternative idea available for me? . I am new to designing scalable application. So totally confused here. Can anyone suggest any solution to my problem or suggest any good tutorial to resolve this please?</p>\n<p>Update - Information of Current architecture</p>\n<ol>\n<li><p>Running Pods - For testing purpose only we used Kubernetes for deployment. And 18 pods for each microservice project plus additionally 1 pod for running angular app.</p>\n</li>\n<li><p>APIs - from angular application, which will hit the backend microservices. At one time upto 18 tenant customers may access application. Ie, almost 200 surveying customers may parallelly access.</p>\n</li>\n<li><p>Microservice dependency- When Angular calls each microservices , it will call another api internally for authentication/authorization purpose (security api). I don't know this is will make any problem to my system.</p>\n</li>\n<li><p>Deployment On Kubernetes Cluster(AWS EKS/On_premise) - is yet to get permission from org. Since AWS EKS will make a additional cost. So I have to look for deployment without K8 Cluster is also one concern to me.</p>\n</li>\n<li><p>Surveying page makes one complex page in application which have 4 to 5 tabs and each tab saving functionality need to do independently. Each save operation has its own working time. Since multiple tables are joining and save op takes a while to finish in each tab.</p>\n</li>\n</ol>\n"},{"tags":["java","junit4"],"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690197379,"creation_date":1690197379,"question_id":76753922,"body_markdown":"\r\nThe below code is not calling the inner class test method. \r\nsince @RunWith does not support mutilple class delcaration that is why i using the inner class.\r\nThe main idea is to create a dynamic test method using Parameterized.class. So each method is is taken a new test \r\n\r\n    @RunWith(ScenarioStepRunner.class)\r\n    public class TestGlobal extends Step_Common{\r\n    \t\r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\t// some pre test code\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void subRunner() {\r\n    \t\tJUnitCore.runClasses(ParameterizedRunner.class);\r\n    \t}\r\n    \r\n    \t@RunWith(Parameterized.class)\r\n    \tpublic static class ParameterizedRunner  extends Step_Common{\r\n    \r\n    \t\t@Parameter(0)\r\n    \t\tpublic String name;\r\n    \r\n    \t\t@Parameters(name = &quot;Tetsing {0}&quot;)\r\n    \t\tpublic static Iterable&lt;Object[]&gt; data() {\r\n    \t\t\treturn Arrays.asList(new Object[][] { { &quot;AA&quot; }, { &quot;BB&quot; } });\r\n    \t\t}\r\n    \r\n    \t\t@Test\r\n    \t\tpublic void test() throws Exception {\r\n    \t\t\tSystem.out.println(&quot;*********&quot; + this.name);\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"junit4 inner class method is not calling","body":"<p>The below code is not calling the inner class test method.\nsince @RunWith does not support mutilple class delcaration that is why i using the inner class.\nThe main idea is to create a dynamic test method using Parameterized.class. So each method is is taken a new test</p>\n<pre><code>@RunWith(ScenarioStepRunner.class)\npublic class TestGlobal extends Step_Common{\n    \n    @Before\n    public void setup() {\n        // some pre test code\n    }\n\n    @Test\n    public void subRunner() {\n        JUnitCore.runClasses(ParameterizedRunner.class);\n    }\n\n    @RunWith(Parameterized.class)\n    public static class ParameterizedRunner  extends Step_Common{\n\n        @Parameter(0)\n        public String name;\n\n        @Parameters(name = &quot;Tetsing {0}&quot;)\n        public static Iterable&lt;Object[]&gt; data() {\n            return Arrays.asList(new Object[][] { { &quot;AA&quot; }, { &quot;BB&quot; } });\n        }\n\n        @Test\n        public void test() throws Exception {\n            System.out.println(&quot;*********&quot; + this.name);\n            \n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gitlab-ci"],"owner":{"account_id":2708451,"reputation":674,"user_id":2337522,"display_name":"Sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690197102,"creation_date":1689954121,"question_id":76739400,"body_markdown":"I have a selfhosted GitLab instance running with various Java projects on it. The projects are built with Gradle. In order to cache dependencies, I&#39;ve configured Gradle to store its stuff inside the project directory and added GitLab caching for the `.gradle/caches` folder.\r\n\r\nIt looks like this:\r\n\r\n```yml\r\nvariables:\r\n  GRADLE_CACHE: &quot;my-project-cache&quot;\r\n  GRADLE_USER_HOME: &quot;$CI_PROJECT_DIR/.gradle&quot;\r\n\r\ncache:\r\n  key: $GRADLE_CACHE\r\n  paths:\r\n    - .gradle/caches/\r\n```\r\n\r\nThis works so far. The `.gradle` folder is not under version control, it&#39;s just created when GitLab executes the build job.\r\n\r\nNext I wanted to add GitLab code quality to the project. I don&#39;t have experience with it, as I&#39;ve been using SonarQube so far, so this is my first try.\r\n\r\nI&#39;ve read that the setup should be quite simple, basically it is adding:\r\n\r\n```yml\r\ninclude:\r\n  - template: Code-Quality.gitlab-ci.yml\r\n```\r\n\r\nThis will add a `code_quality` job and execute it within the test stage. And I can see results in the merge request widget of GitLab. However, what I see there is not what I expect. It shows multiple findings like this one:\r\n\r\n```\r\nMinor - TODO found\r\nin .gradle/caches/modules-2/files-2.1/org.apache/apache/16/8a90e31780e5cd0685ccaf25836c66e3b4e163b7/apache-16.pom:238\r\n```\r\n\r\nSo it looks like GitLab scans the `.gradle` folder, which it should not.\r\n\r\nMy Java project has its sources in default folders `src/main/java` and code for unit tests in `src/test/java`. I thought it might be good to set the source directory for the `code_quality` job to `src/main/java`, so that it scans just contents of this directory.\r\n\r\nGitLab docs says that a variable `SOURCE_CODE` can be set: https://docs.gitlab.com/ee/ci/testing/code_quality.html#available-cicd-variables\r\n\r\nI tried this, but it doesn&#39;t have any effect:\r\n\r\n```yml\r\ninclude:\r\n  - template: Code-Quality.gitlab-ci.yml\r\n\r\ncode_quality:\r\n  variables:\r\n    SOURCE_CODE: &quot;src/main/java&quot;\r\n```\r\n\r\n\r\nI took a look at GitLab&#39;s `Code-Quality.gitlab-ci.yml` file (see [here][1]) and saw they set `SOURCE_CODE` in the script block of their job:\r\n\r\n```\r\n  script:\r\n    - export SOURCE_CODE=$PWD\r\n```\r\n\r\nI&#39;m not sure, but maybe this overwrites the `SOURCE_CODE` variable, which I&#39;ve set in my `.gitlab-ci.yml`.\r\n\r\nSo I wonder what a correct setup would look like. Can you give me hints please?\r\n\r\n**Workaround:** I didn&#39;t find out how or if the `SOURCE_CODE` variable can be set correctly. I found a solution for my problem though: I moved Gradle home away from the project directory into `/cache/.gradle` and removed the GitLab cache. `/cache` is a volume, which gets mounted by default, so putting `.gradle` into it works well for me.\r\n\r\n\r\n  [1]: https://gitlab.com/gitlab-org/gitlab-foss/-/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml","title":"GitLab CI with code quality showing unwanted findings","body":"<p>I have a selfhosted GitLab instance running with various Java projects on it. The projects are built with Gradle. In order to cache dependencies, I've configured Gradle to store its stuff inside the project directory and added GitLab caching for the <code>.gradle/caches</code> folder.</p>\n<p>It looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>variables:\n  GRADLE_CACHE: &quot;my-project-cache&quot;\n  GRADLE_USER_HOME: &quot;$CI_PROJECT_DIR/.gradle&quot;\n\ncache:\n  key: $GRADLE_CACHE\n  paths:\n    - .gradle/caches/\n</code></pre>\n<p>This works so far. The <code>.gradle</code> folder is not under version control, it's just created when GitLab executes the build job.</p>\n<p>Next I wanted to add GitLab code quality to the project. I don't have experience with it, as I've been using SonarQube so far, so this is my first try.</p>\n<p>I've read that the setup should be quite simple, basically it is adding:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>include:\n  - template: Code-Quality.gitlab-ci.yml\n</code></pre>\n<p>This will add a <code>code_quality</code> job and execute it within the test stage. And I can see results in the merge request widget of GitLab. However, what I see there is not what I expect. It shows multiple findings like this one:</p>\n<pre><code>Minor - TODO found\nin .gradle/caches/modules-2/files-2.1/org.apache/apache/16/8a90e31780e5cd0685ccaf25836c66e3b4e163b7/apache-16.pom:238\n</code></pre>\n<p>So it looks like GitLab scans the <code>.gradle</code> folder, which it should not.</p>\n<p>My Java project has its sources in default folders <code>src/main/java</code> and code for unit tests in <code>src/test/java</code>. I thought it might be good to set the source directory for the <code>code_quality</code> job to <code>src/main/java</code>, so that it scans just contents of this directory.</p>\n<p>GitLab docs says that a variable <code>SOURCE_CODE</code> can be set: <a href=\"https://docs.gitlab.com/ee/ci/testing/code_quality.html#available-cicd-variables\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/ci/testing/code_quality.html#available-cicd-variables</a></p>\n<p>I tried this, but it doesn't have any effect:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>include:\n  - template: Code-Quality.gitlab-ci.yml\n\ncode_quality:\n  variables:\n    SOURCE_CODE: &quot;src/main/java&quot;\n</code></pre>\n<p>I took a look at GitLab's <code>Code-Quality.gitlab-ci.yml</code> file (see <a href=\"https://gitlab.com/gitlab-org/gitlab-foss/-/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml\" rel=\"nofollow noreferrer\">here</a>) and saw they set <code>SOURCE_CODE</code> in the script block of their job:</p>\n<pre><code>  script:\n    - export SOURCE_CODE=$PWD\n</code></pre>\n<p>I'm not sure, but maybe this overwrites the <code>SOURCE_CODE</code> variable, which I've set in my <code>.gitlab-ci.yml</code>.</p>\n<p>So I wonder what a correct setup would look like. Can you give me hints please?</p>\n<p><strong>Workaround:</strong> I didn't find out how or if the <code>SOURCE_CODE</code> variable can be set correctly. I found a solution for my problem though: I moved Gradle home away from the project directory into <code>/cache/.gradle</code> and removed the GitLab cache. <code>/cache</code> is a volume, which gets mounted by default, so putting <code>.gradle</code> into it works well for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1473926519,"post_id":39505912,"comment_id":66328426,"body_markdown":".... and your problem with your attempt is...?","body":".... and your problem with your attempt is...?"},{"owner":{"account_id":3526709,"reputation":16307,"user_id":2947592,"accept_rate":71,"display_name":"wvdz"},"score":0,"creation_date":1473926541,"post_id":39505912,"comment_id":66328435,"body_markdown":"`String s = &quot;&quot;;\n    for (int i : listInt)\n        s += i;`","body":"<code>String s = &quot;&quot;;     for (int i : listInt)         s += i;</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1473926547,"post_id":39505912,"comment_id":66328436,"body_markdown":"Please show your code attempt so we can see what you&#39;re doing wrong. Otherwise this is nothing but a terribly lazy &quot;please do my work for me&quot; question for trivial work at that.","body":"Please show your code attempt so we can see what you&#39;re doing wrong. Otherwise this is nothing but a terribly lazy &quot;please do my work for me&quot; question for trivial work at that."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1473926620,"post_id":39505912,"comment_id":66328474,"body_markdown":"@wvdz Creating N strings along the way is not something I&#39;d recommend.","body":"@wvdz Creating N strings along the way is not something I&#39;d recommend."},{"owner":{"account_id":3526709,"reputation":16307,"user_id":2947592,"accept_rate":71,"display_name":"wvdz"},"score":0,"creation_date":1473927153,"post_id":39505912,"comment_id":66328734,"body_markdown":"@RealSkeptic Here&#39;s an interesting read for you: https://blog.codinghorror.com/the-sad-tragedy-of-micro-optimization-theater/","body":"@RealSkeptic Here&#39;s an interesting read for you: <a href=\"https://blog.codinghorror.com/the-sad-tragedy-of-micro-optimization-theater/\" rel=\"nofollow noreferrer\">blog.codinghorror.com/&hellip;</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1473927467,"post_id":39505912,"comment_id":66328883,"body_markdown":"@wvdz Read it. The point there is: don&#39;t use string concatenation in loops, but don&#39;t go crazy about it. And the example is not about loops at all. I would still not recommend it to anybody, and that it&#39;s bad advice to give a novice.","body":"@wvdz Read it. The point there is: don&#39;t use string concatenation in loops, but don&#39;t go crazy about it. And the example is not about loops at all. I would still not recommend it to anybody, and that it&#39;s bad advice to give a novice."},{"owner":{"account_id":9172673,"reputation":21,"user_id":6819545,"accept_rate":60,"display_name":"TedNugent"},"score":0,"creation_date":1473927980,"post_id":39505912,"comment_id":66329183,"body_markdown":"I tried the following BEFORE I ask a question. String str = &quot;&quot;; for(int i =0; i&lt;listInt.size();j++{\nstr = listIntget(i) + &quot;&quot;;\n}","body":"I tried the following BEFORE I ask a question. String str = &quot;&quot;; for(int i =0; i&lt;listInt.size();j++{ str = listIntget(i) + &quot;&quot;; }"},{"owner":{"account_id":9172673,"reputation":21,"user_id":6819545,"accept_rate":60,"display_name":"TedNugent"},"score":0,"creation_date":1473928544,"post_id":39505912,"comment_id":66329510,"body_markdown":"@Hovercraft Full Of Eels. And why do I have to prove to anybody that I tried or not? I have tried this with a lot of different ways that I cannot post here. And newbies dont get a lot of things as experienced developers do. So please be more polite and answer if you want without complaining. To just instruct me to write 3 rows of code (thats the complication of the problem) is far away from doing my work.","body":"@Hovercraft Full Of Eels. And why do I have to prove to anybody that I tried or not? I have tried this with a lot of different ways that I cannot post here. And newbies dont get a lot of things as experienced developers do. So please be more polite and answer if you want without complaining. To just instruct me to write 3 rows of code (thats the complication of the problem) is far away from doing my work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1474096813,"post_id":39505912,"comment_id":66400917,"body_markdown":"This is not a help site but rather a question and answer site. Why does this matter and how does it pertain to your question? It means that the quality of the question is just as important if not more important than the answers, since low quality questions will likely benefit no one in the future. Without your showing what you&#39;ve done and without your asking a much more specific question, your question will remain low quality. That&#39;s why I am requesting that you strive to improve this question. I am hopeful that your future questions will be better.","body":"This is not a help site but rather a question and answer site. Why does this matter and how does it pertain to your question? It means that the quality of the question is just as important if not more important than the answers, since low quality questions will likely benefit no one in the future. Without your showing what you&#39;ve done and without your asking a much more specific question, your question will remain low quality. That&#39;s why I am requesting that you strive to improve this question. I am hopeful that your future questions will be better."}],"answers":[{"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1473966172,"post_id":39508000,"comment_id":66352772,"body_markdown":"What&#39;s wrong with my solution? I know it&#39;s a bad one, but it works, author didn&#39;t show any initiative so I won&#39;t write a perfect solution for him, this may at least motivate him to try further.","body":"What&#39;s wrong with my solution? I know it&#39;s a bad one, but it works, author didn&#39;t show any initiative so I won&#39;t write a perfect solution for him, this may at least motivate him to try further."}],"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473932926,"creation_date":1473932926,"answer_id":39508000,"question_id":39505912,"body_markdown":"Try this, the simplest way:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java  --&gt;\r\n\r\n    List&lt;Integer&gt; listInt = Arrays.asList(1,2,3);\r\n    String str = &quot;&quot;;\r\n    StringBuilder builder = new StringBuilder();\r\n    for(Integer item : listInt)\r\n      builder.append(item);\r\n    str = builder.toString();\r\n    System.out.println(str);\r\n\r\n&lt;!-- end snippet --&gt;","title":"Convert ArrayList of Integers to String Java","body":"<p>Try this, the simplest way:</p>\n\n\n\n<pre><code>List&lt;Integer&gt; listInt = Arrays.asList(1,2,3);\nString str = \"\";\nStringBuilder builder = new StringBuilder();\nfor(Integer item : listInt)\n  builder.append(item);\nstr = builder.toString();\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":720092,"reputation":4354,"user_id":655625,"display_name":"Chris Amelinckx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633399040,"creation_date":1633399040,"answer_id":69444090,"question_id":39505912,"body_markdown":"String numberString = listInt.stream().map(String::valueOf)\r\n    .collect(Collectors.joining(&quot;&quot;));\r\n\r\n//You can pass a delimiter if you want to the joining() function, like a comma. &quot;,&quot;","title":"Convert ArrayList of Integers to String Java","body":"<p>String numberString = listInt.stream().map(String::valueOf)\n.collect(Collectors.joining(&quot;&quot;));</p>\n<p>//You can pass a delimiter if you want to the joining() function, like a comma. &quot;,&quot;</p>\n"},{"tags":[],"owner":{"account_id":26562345,"reputation":1,"user_id":20189986,"display_name":"Rafiya Quazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690197095,"creation_date":1690197095,"answer_id":76753889,"question_id":39505912,"body_markdown":"        //Declare list &amp; varaible\r\n        List&lt;Integer&gt; listInt= new ArrayList();\r\n        String str = &quot;&quot;;\r\n    \r\n        //add values into list\r\n        listInt.add(1);\r\n        listInt.add(2);\r\n        listInt.add(3);\r\n        //iterate list &amp; add to append value to str\r\n        for(Integer item:listInt){\r\n            str+=item;\r\n        }\r\n        //print final output\r\n        System.out.println(str);","title":"Convert ArrayList of Integers to String Java","body":"<pre><code>    //Declare list &amp; varaible\n    List&lt;Integer&gt; listInt= new ArrayList();\n    String str = &quot;&quot;;\n\n    //add values into list\n    listInt.add(1);\n    listInt.add(2);\n    listInt.add(3);\n    //iterate list &amp; add to append value to str\n    for(Integer item:listInt){\n        str+=item;\n    }\n    //print final output\n    System.out.println(str);\n</code></pre>\n"}],"owner":{"account_id":9172673,"reputation":21,"user_id":6819545,"accept_rate":60,"display_name":"TedNugent"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":3,"score":-7,"last_activity_date":1690197095,"creation_date":1473926449,"question_id":39505912,"body_markdown":"I want to convert an ArrayList of Integers to a single string.\r\n\r\nFor example: \r\n\r\n    List&lt;Integers&gt; listInt= new ArrayList();\r\n    \r\n    String str = &quot;&quot;;\r\n    \r\n    listInt.add(1);\r\n    listInt.add(2);\r\n    listInt.add(3);\r\n    \r\n    // I want the output to be: str = &quot;123&quot;;\r\n\r\n","title":"Convert ArrayList of Integers to String Java","body":"<p>I want to convert an ArrayList of Integers to a single string.</p>\n\n<p>For example: </p>\n\n<pre><code>List&lt;Integers&gt; listInt= new ArrayList();\n\nString str = \"\";\n\nlistInt.add(1);\nlistInt.add(2);\nlistInt.add(3);\n\n// I want the output to be: str = \"123\";\n</code></pre>\n"},{"tags":["java","spring","inject"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1461585070,"post_id":36838257,"comment_id":61249371,"body_markdown":"Have you read [the reference guide](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestheader)? You don&#39;t need an aspect as it is supported out-of-the-box... Don&#39;t make things more complex then needed.","body":"Have you read <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestheader\" rel=\"nofollow noreferrer\">the reference guide</a>? You don&#39;t need an aspect as it is supported out-of-the-box... Don&#39;t make things more complex then needed."},{"owner":{"account_id":3023777,"reputation":213,"user_id":2564217,"accept_rate":90,"display_name":"Cony"},"score":0,"creation_date":1461590601,"post_id":36838257,"comment_id":61253487,"body_markdown":"I can&#39;t seem to understand how is it out-of-the-box? I need to put this piece of code on every method i have, i would like to avoid it.","body":"I can&#39;t seem to understand how is it out-of-the-box? I need to put this piece of code on every method i have, i would like to avoid it."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1461591048,"post_id":36838257,"comment_id":61253841,"body_markdown":"If it is JWT then I strongly suggest instead of setting an attribute integrate with the request properly and use the principal. That way you can do `getPrincipal` on the request or simply add the `Principal` to the method signature. If you use Spring Security for decoding the JWT you would get this support for free (well you need the configuration).","body":"If it is JWT then I strongly suggest instead of setting an attribute integrate with the request properly and use the principal. That way you can do <code>getPrincipal</code> on the request or simply add the <code>Principal</code> to the method signature. If you use Spring Security for decoding the JWT you would get this support for free (well you need the configuration)."}],"answers":[{"comments":[{"owner":{"account_id":3023777,"reputation":213,"user_id":2564217,"accept_rate":90,"display_name":"Cony"},"score":0,"creation_date":1461588327,"post_id":36839794,"comment_id":61251624,"body_markdown":"The @Header attribute doesn&#39;t work for me since the data is at a request attribute. And the reason i get the user like that is that i use jwt, and before my controller there is a filter that takes the user from the token and put it on the request.","body":"The @Header attribute doesn&#39;t work for me since the data is at a request attribute. And the reason i get the user like that is that i use jwt, and before my controller there is a filter that takes the user from the token and put it on the request."},{"owner":{"account_id":3023777,"reputation":213,"user_id":2564217,"accept_rate":90,"display_name":"Cony"},"score":0,"creation_date":1461667781,"post_id":36839794,"comment_id":61292654,"body_markdown":"What i needed was @Value(&quot;#{request.getAttribute(&#39;subject&#39;)}&quot; but that still require duplication for every method. Iv&#39;e updated the question, thanks for your help","body":"What i needed was @Value(&quot;#{request.getAttribute(&#39;subject&#39;)}&quot; but that still require duplication for every method. Iv&#39;e updated the question, thanks for your help"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1461681053,"post_id":36839794,"comment_id":61303089,"body_markdown":"Did you try @RequestAttribute first? Spring should handle this for you directly without having to resort to spel.","body":"Did you try @RequestAttribute first? Spring should handle this for you directly without having to resort to spel."}],"tags":[],"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461663591,"creation_date":1461585201,"answer_id":36839794,"question_id":36838257,"body_markdown":"If you really want to know about attributes then you should check out spring&#39;s [@RequestParam][1] annotation. You&#39;d use it like this:\r\n\r\n    @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(@RequestParam(&quot;subject&quot;) String currentUser) throws ResourceNotFoundException { \r\n       this.getJobs(currentUser);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\r\n","title":"Inject request attribute from request to spring controller methods","body":"<p>If you really want to know about attributes then you should check out spring's <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow\">@RequestParam</a> annotation. You'd use it like this:</p>\n\n<pre><code>@RequestMapping(value = \"\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(@RequestParam(\"subject\") String currentUser) throws ResourceNotFoundException { \n   this.getJobs(currentUser);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1357198,"reputation":3278,"user_id":1295364,"accept_rate":71,"display_name":"carcaret"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461671139,"creation_date":1461671139,"answer_id":36864024,"question_id":36838257,"body_markdown":"You could use a `Filter` to populate a `ThreadLocal&lt;String&gt;` variable that stores that attribute:\r\n\r\n    public class MyFilter implements Filter {\r\n\r\n      @Override\r\n      public void init(FilterConfig filterConfig) throws ServletException {}\r\n\r\n      @Override\r\n      public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n        throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n        ContextHolder.setSubject(request.getAttribute(&#39;subject&#39;));\r\n        chain.doFilter(request, response);\r\n      }\r\n\r\n      @Override\r\n      public void destroy() {\r\n        ContextHolder.removeSubject();\r\n      }\r\n    }\r\n\r\n    \r\n    public class ContextHolder {\r\n\r\n      private static final ThreadLocal&lt;String&gt; SUBJECT = new ThreadLocal&lt;String&gt;() {\r\n        @Override\r\n        protected String initialValue() {\r\n          return &quot;empty&quot;;\r\n        }\r\n      };\r\n\r\n      public static void setSubject(String subject) {\r\n        SUBJECT.set(subject);\r\n      }\r\n\r\n      public static String getSubject() {\r\n        return SUBJECT.get();\r\n      }\r\n\r\n      public static void removeSubject() {\r\n        SUBJECT.remove();\r\n      }\r\n    }\r\n\r\nThe filter will be configured to intercept all requests and populate the `SUBJECT` variable. By using a `ThreadLocal`, you make sure that each thread has it&#39;s own `subject` value. You can now get that value anywhere in your application by calling `ContextHolder.getSubject()`:\r\n\r\n      @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(HttpServletRequest request) throws ResourceNotFoundException { \r\n        this.getJobs(ContextHolder.getSubject());\r\n      }\r\n\r\nYou will also have to register the `Filter` in the web.xml file:\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;MyFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;com.MyFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;MyFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\nIn case you had multiple attributes, you could use a `ThreadLocal&lt;Map&lt;String, String&gt;&gt;` variable instead.","title":"Inject request attribute from request to spring controller methods","body":"<p>You could use a <code>Filter</code> to populate a <code>ThreadLocal&lt;String&gt;</code> variable that stores that attribute:</p>\n\n<pre><code>public class MyFilter implements Filter {\n\n  @Override\n  public void init(FilterConfig filterConfig) throws ServletException {}\n\n  @Override\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n    throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n    ContextHolder.setSubject(request.getAttribute('subject'));\n    chain.doFilter(request, response);\n  }\n\n  @Override\n  public void destroy() {\n    ContextHolder.removeSubject();\n  }\n}\n\n\npublic class ContextHolder {\n\n  private static final ThreadLocal&lt;String&gt; SUBJECT = new ThreadLocal&lt;String&gt;() {\n    @Override\n    protected String initialValue() {\n      return \"empty\";\n    }\n  };\n\n  public static void setSubject(String subject) {\n    SUBJECT.set(subject);\n  }\n\n  public static String getSubject() {\n    return SUBJECT.get();\n  }\n\n  public static void removeSubject() {\n    SUBJECT.remove();\n  }\n}\n</code></pre>\n\n<p>The filter will be configured to intercept all requests and populate the <code>SUBJECT</code> variable. By using a <code>ThreadLocal</code>, you make sure that each thread has it's own <code>subject</code> value. You can now get that value anywhere in your application by calling <code>ContextHolder.getSubject()</code>:</p>\n\n<pre><code>  @RequestMapping(value = \"\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(HttpServletRequest request) throws ResourceNotFoundException { \n    this.getJobs(ContextHolder.getSubject());\n  }\n</code></pre>\n\n<p>You will also have to register the <code>Filter</code> in the web.xml file:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;MyFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.MyFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;MyFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>In case you had multiple attributes, you could use a <code>ThreadLocal&lt;Map&lt;String, String&gt;&gt;</code> variable instead.</p>\n"},{"tags":[],"owner":{"account_id":4702394,"reputation":21,"user_id":3805618,"display_name":"user3805618"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690196119,"creation_date":1498641874,"answer_id":44798551,"question_id":36838257,"body_markdown":"Simply just add `@RequestAttribute` in your rest **contorller**\r\n\r\n    @RestController\r\n    @RequestMapping(path=&quot;/yourpath&quot;)\r\n    \r\n    @RequestMapping(method = RequestMethod.GET)\r\n    \tpublic ResponseEntity getAll(\r\n    \t\t\t@RequestAttribute(value = &quot;yourAttribute&quot;) Object \r\n\r\nyourAttribute......\r\n","title":"Inject request attribute from request to spring controller methods","body":"<p>Simply just add <code>@RequestAttribute</code> in your rest <strong>contorller</strong></p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;/yourpath&quot;)\n\n@RequestMapping(method = RequestMethod.GET)\n    public ResponseEntity getAll(\n            @RequestAttribute(value = &quot;yourAttribute&quot;) Object \n</code></pre>\n<p>yourAttribute......</p>\n"}],"owner":{"account_id":3023777,"reputation":213,"user_id":2564217,"accept_rate":90,"display_name":"Cony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36864024,"answer_count":3,"score":2,"last_activity_date":1690196119,"creation_date":1461580897,"question_id":36838257,"body_markdown":"I have some spring @RestControllers methods that I would like to inject with a value that comes with every request as a request attribute(containing the user) something like:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/jobs&quot;)\r\n    public class JobsController {\r\n         // Option 1 get user from request attribute as prop somehow\r\n         private String userId = &quot;user1&quot;;\r\n\r\n        // Option 2 inject into method using aspect or something else\r\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs() throws ResourceNotFoundException {\r\n           // currentUser is injected \r\n           this.getJobs(currentUser);\r\n    }\r\n\r\nI know I can do that:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/jobs&quot;)\r\n    public class JobsController {\r\n        \r\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(HttpServletRequest request) throws ResourceNotFoundException { \r\n           String currentUser = null;\r\n           if (request.getAttribute(&quot;subject&quot;) != null) {\r\n               currentUser = request.getAttribute(&quot;subject&quot;).toString();\r\n           }\r\n           this.getJobs(currentUser);\r\n    }\r\nBut that would require me to add this code at every method in my program, which seems to me, to be a really bad practice.  \r\nIs there a way to achieve what I want?\r\n  \r\n  \r\nIf the answer do require aspect, a code example will be much appreciated since I only read about it, but never actually did something with aspect.\r\n\r\n**Update**  \r\nThe code i suggested can be simplified using this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/jobs&quot;)\r\n    public class JobsController {\r\n        \r\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(@Value(&quot;#{request.getAttribute(&#39;subject&#39;)}&quot; String currentUser) throws ResourceNotFoundException { \r\n           this.getJobs(currentUser);\r\n    }\r\n\r\nBut still require me to add that parameter at every method.\r\nCan this parameter be injected to every method somehow?","title":"Inject request attribute from request to spring controller methods","body":"<p>I have some spring @RestControllers methods that I would like to inject with a value that comes with every request as a request attribute(containing the user) something like:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/jobs\")\npublic class JobsController {\n     // Option 1 get user from request attribute as prop somehow\n     private String userId = \"user1\";\n\n    // Option 2 inject into method using aspect or something else\n    @RequestMapping(value = \"\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs() throws ResourceNotFoundException {\n       // currentUser is injected \n       this.getJobs(currentUser);\n}\n</code></pre>\n\n<p>I know I can do that:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/jobs\")\npublic class JobsController {\n\n    @RequestMapping(value = \"\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(HttpServletRequest request) throws ResourceNotFoundException { \n       String currentUser = null;\n       if (request.getAttribute(\"subject\") != null) {\n           currentUser = request.getAttribute(\"subject\").toString();\n       }\n       this.getJobs(currentUser);\n}\n</code></pre>\n\n<p>But that would require me to add this code at every method in my program, which seems to me, to be a really bad practice.<br>\nIs there a way to achieve what I want?</p>\n\n<p>If the answer do require aspect, a code example will be much appreciated since I only read about it, but never actually did something with aspect.</p>\n\n<p><strong>Update</strong><br>\nThe code i suggested can be simplified using this:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/jobs\")\npublic class JobsController {\n\n    @RequestMapping(value = \"\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;List&lt;Jobs&gt;&gt; getJobs(@Value(\"#{request.getAttribute('subject')}\" String currentUser) throws ResourceNotFoundException { \n       this.getJobs(currentUser);\n}\n</code></pre>\n\n<p>But still require me to add that parameter at every method.\nCan this parameter be injected to every method somehow?</p>\n"},{"tags":["java","spring-boot","curl"],"comments":[{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1690192608,"post_id":76753263,"comment_id":135314166,"body_markdown":"You can’t just split the command by spaces it it’s that exact command. It will split in the middle of the arguments. Have you tried manually splitting it correctly into parts?","body":"You can’t just split the command by spaces it it’s that exact command. It will split in the middle of the arguments. Have you tried manually splitting it correctly into parts?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690192671,"post_id":76753263,"comment_id":135314180,"body_markdown":"Don&#39;t use split on the arguments to that command. It&#39;s asking for trouble. Go through the parameters carefully and form an array or `List` out of them. It&#39;s perfectly possible to do this in pure Java with the http client API","body":"Don&#39;t use split on the arguments to that command. It&#39;s asking for trouble. Go through the parameters carefully and form an array or <code>List</code> out of them. It&#39;s perfectly possible to do this in pure Java with the http client API"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690192991,"post_id":76753263,"comment_id":135314227,"body_markdown":"try using a java http client like the builtin RestTemplate instead of external  cmdline tools...","body":"try using a java http client like the builtin RestTemplate instead of external  cmdline tools..."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1690193559,"post_id":76753263,"comment_id":135314341,"body_markdown":"@SamiKuhmonen TBH, I haven&#39;t checked as you said but if I won&#39;t use split it returns &quot;error=2, No such file or directory&quot; error.","body":"@SamiKuhmonen TBH, I haven&#39;t checked as you said but if I won&#39;t use split it returns &quot;error=2, No such file or directory&quot; error."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1690193626,"post_id":76753263,"comment_id":135314355,"body_markdown":"@g00se can you give some examples if it&#39;s possible with http client, please? I have tried with that too but I couldn&#39;t send successful delete request with request body","body":"@g00se can you give some examples if it&#39;s possible with http client, please? I have tried with that too but I couldn&#39;t send successful delete request with request body"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1690193651,"post_id":76753263,"comment_id":135314358,"body_markdown":"@MarcStroebel Could you give some examples, please?","body":"@MarcStroebel Could you give some examples, please?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":1,"creation_date":1690195908,"post_id":76753263,"comment_id":135314816,"body_markdown":"@Serdar https://www.baeldung.com/rest-template","body":"@Serdar <a href=\"https://www.baeldung.com/rest-template\" rel=\"nofollow noreferrer\">baeldung.com/rest-template</a>"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1690374781,"post_id":76753263,"comment_id":135344186,"body_markdown":"@Serdar As I said you have to set the arguments correctly. You need an array of arguments, manually separated. If you just do a split with space you get arguments like `Authorization:` and `Token` instead of `Authorization: Token...`","body":"@Serdar As I said you have to set the arguments correctly. You need an array of arguments, manually separated. If you just do a split with space you get arguments like <code>Authorization:</code> and <code>Token</code> instead of <code>Authorization: Token...</code>"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690195681,"creation_date":1690195332,"answer_id":76753685,"question_id":76753263,"body_markdown":"I suppose, there may be two problems. The first one can be in curl, to check it you can try another tool like Postman. The second one can be in Spring, and it seems more complicated than the first one. Look at this [answer][1].\r\n\r\nIn my opinion, according to the [specification][2], a payload in the DELETE method has no defined semantics, therefore another implementation of the HTTP standard may reject the DELETE withing a payload. \r\n\r\n&gt; A payload within a DELETE request message has no defined semantics; sending a payload body on a DELETE request might cause some existing implementations to reject the request.\r\n\r\nIf possible, it would be better not to use a payload within this HTTP method.\r\n\r\n  [1]: https://stackoverflow.com/a/25383378/22270964\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.5","title":"I can&#39;t send CURL DELETE request with body in JAVA","body":"<p>I suppose, there may be two problems. The first one can be in curl, to check it you can try another tool like Postman. The second one can be in Spring, and it seems more complicated than the first one. Look at this <a href=\"https://stackoverflow.com/a/25383378/22270964\">answer</a>.</p>\n<p>In my opinion, according to the <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.5\" rel=\"nofollow noreferrer\">specification</a>, a payload in the DELETE method has no defined semantics, therefore another implementation of the HTTP standard may reject the DELETE withing a payload.</p>\n<blockquote>\n<p>A payload within a DELETE request message has no defined semantics; sending a payload body on a DELETE request might cause some existing implementations to reject the request.</p>\n</blockquote>\n<p>If possible, it would be better not to use a payload within this HTTP method.</p>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690195681,"creation_date":1690192147,"question_id":76753263,"body_markdown":"I am trying to send DELETE request with body. So, I decided to use CURL to complite this task.\r\n```sh\r\ncurl -X DELETE &quot;URL&quot; -H &quot;Authorization: Token XXX&quot; -H &quot;Content-Type: application/json&quot; -d &quot;ENTITY&quot;\r\n```\r\nWhen I send above command from terminal, I am able to receive below output\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: null,\r\n    &quot;status_code&quot;: &quot;1000&quot;,\r\n    &quot;status_message&quot;: &quot;Success&quot;,\r\n    &quot;timestamp&quot;: &quot;2023-03-23T13:43:20.910098300Z&quot;\r\n}\r\n```\r\n\r\nWhen I try to do same process with Spring boot app, It always fails. It returns empty string to `test` variable. When I debug, I can see that `inputStream`, `process` or `processBuilder` are not null\r\n\r\n```java\r\nString command = &quot;curl -X DELETE ........ &quot;;\r\nProcessBuilder processBuilder = new ProcessBuilder(command.split(&quot; &quot;));\r\nProcess process = processBuilder.start();\r\nInputStream inputStream = process.getInputStream();\r\nString test = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\r\nstatusMessage = new JSONObject(test).get(&quot;status_message&quot;).toString();\r\n```\r\n\r\nI have checked followings and I couldn&#39;t handle the problem;\r\n1. https://stackoverflow.com/questions/53854400/how-to-run-a-curl-command-from-java\r\n2. https://stackoverflow.com/questions/70244602/java-executing-curl-command-not-working-on-some-commands\r\n3. https://stackoverflow.com/questions/2586975/how-to-use-curl-in-java\r\n4. https://stackoverflow.com/questions/50022092/curl-delete-on-java\r\n\r\nBTW, I am not obligated to use `cURL`, if you have any other solutions, please let me know.","title":"I can&#39;t send CURL DELETE request with body in JAVA","body":"<p>I am trying to send DELETE request with body. So, I decided to use CURL to complite this task.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -X DELETE &quot;URL&quot; -H &quot;Authorization: Token XXX&quot; -H &quot;Content-Type: application/json&quot; -d &quot;ENTITY&quot;\n</code></pre>\n<p>When I send above command from terminal, I am able to receive below output</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: null,\n    &quot;status_code&quot;: &quot;1000&quot;,\n    &quot;status_message&quot;: &quot;Success&quot;,\n    &quot;timestamp&quot;: &quot;2023-03-23T13:43:20.910098300Z&quot;\n}\n</code></pre>\n<p>When I try to do same process with Spring boot app, It always fails. It returns empty string to <code>test</code> variable. When I debug, I can see that <code>inputStream</code>, <code>process</code> or <code>processBuilder</code> are not null</p>\n<pre class=\"lang-java prettyprint-override\"><code>String command = &quot;curl -X DELETE ........ &quot;;\nProcessBuilder processBuilder = new ProcessBuilder(command.split(&quot; &quot;));\nProcess process = processBuilder.start();\nInputStream inputStream = process.getInputStream();\nString test = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\nstatusMessage = new JSONObject(test).get(&quot;status_message&quot;).toString();\n</code></pre>\n<p>I have checked followings and I couldn't handle the problem;</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/53854400/how-to-run-a-curl-command-from-java\">How to run a curl command from java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70244602/java-executing-curl-command-not-working-on-some-commands\">Java executing curl command not working on some commands</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2586975/how-to-use-curl-in-java\">How to use cURL in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50022092/curl-delete-on-java\">cURL DELETE on java</a></li>\n</ol>\n<p>BTW, I am not obligated to use <code>cURL</code>, if you have any other solutions, please let me know.</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1689886400,"post_id":76726838,"comment_id":135280793,"body_markdown":"Look into [log aggregation](https://www.startpage.com/do/dsearch?query=log+aggregation&amp;cat=web&amp;pl=opensearch&amp;language=english) What problems did you face when you just used a shared drive? Check also [ask].","body":"Look into <a href=\"https://www.startpage.com/do/dsearch?query=log+aggregation&amp;cat=web&amp;pl=opensearch&amp;language=english\" rel=\"nofollow noreferrer\">log aggregation</a> What problems did you face when you just used a shared drive? Check also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689839915,"post_id":76726893,"comment_id":135270999,"body_markdown":"It isn&#39;t a good plan, if access to the central log filesystem fails all your servers could be at risk of failing.","body":"It isn&#39;t a good plan, if access to the central log filesystem fails all your servers could be at risk of failing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689842407,"post_id":76726893,"comment_id":135271515,"body_markdown":"@DuncG I agree. Better to have n scripts to copy to a central location, where n is the number of OSs you have. n could be two (one for MacOs/other Unixes and one for Windows). If you have a mixed OS infrastructure your least problematic sharing tech could be CIFS","body":"@DuncG I agree. Better to have n scripts to copy to a central location, where n is the number of OSs you have. n could be two (one for MacOs/other Unixes and one for Windows). If you have a mixed OS infrastructure your least problematic sharing tech could be CIFS"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1690029601,"post_id":76726893,"comment_id":135297600,"body_markdown":"Welcome to Stack Overflow, Utkal Keshari Jena!\n\nYour answer appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). A heads-up that [posting AI-generated content is not allowed here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it.\n\nWe do hope you&#39;ll be a part of our community and contribute with *your own*, quality posts in the future. Thanks!","body":"Welcome to Stack Overflow, Utkal Keshari Jena!  Your answer appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). A heads-up that <a href=\"//meta.stackoverflow.com/q/421831\">posting AI-generated content is not allowed here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it.  We do hope you&#39;ll be a part of our community and contribute with <i>your own</i>, quality posts in the future. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1690029604,"post_id":76726893,"comment_id":135297602,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly."}],"tags":[],"owner":{"account_id":29041755,"reputation":1,"user_id":22246477,"display_name":"Utkal Keshari Jena"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690195012,"creation_date":1689830661,"answer_id":76726893,"question_id":76726838,"body_markdown":"You have to mount one directory for logs so that application generated logs will directly save on mount directory with server host name. Follow these steps:\r\n\r\n 1. Create a directory on a central server to store the logs. For example, you could create a directory called `/var/log/centralized-logs`.\r\nOn each server that is running your application, mount the central log directory. To do this, you can use the following command:\r\n\r\n    `mount -t nfs &lt;central-server-ip&gt;:/var/log/centralized-logs /var/log/centralized-logs`\r\n\r\n 2. In your application&#39;s `log4j2` configuration file, specify the path to the central log directory. For example, if the central log directory is mounted at `/var/log/centralized-logs`, you would add the following line to your log4j2 configuration file:\r\n    \r\n     `appender.file.File = /var/log/centralized-logs/&lt;server-hostname&gt;.log`\r\n\r\n 3. The `&lt;server-hostname&gt;` variable will be replaced with the hostname of the server that is running the application. This will ensure that the logs for each server are saved in a separate file in the central log directory.\r\n\r\n 4. Once you have made the necessary changes, restart your application. Once your application is restarted, the logs will be saved in the central log directory.\r\n\r\n 5. Now, you can access the logs for all of your servers from a single location. This will make it easier for developers and production support teams to troubleshoot problems.\r\n\r\nHere are some additional tips for managing logs:\r\n\r\n - Use a centralized logging system to collect logs from all of your servers. This will make it easier to search and analyze logs.\r\n - Configure your log files to rotate on a regular basis. This will prevent your log files from becoming too large and causing performance problems.\r\n - Use a log monitoring tool to track the activity of your servers. This will help you to identify potential problems before they cause outages.","title":"How to mount one directory between multiple systems to place logs on one location?","body":"<p>You have to mount one directory for logs so that application generated logs will directly save on mount directory with server host name. Follow these steps:</p>\n<ol>\n<li><p>Create a directory on a central server to store the logs. For example, you could create a directory called <code>/var/log/centralized-logs</code>.\nOn each server that is running your application, mount the central log directory. To do this, you can use the following command:</p>\n<p><code>mount -t nfs &lt;central-server-ip&gt;:/var/log/centralized-logs /var/log/centralized-logs</code></p>\n</li>\n<li><p>In your application's <code>log4j2</code> configuration file, specify the path to the central log directory. For example, if the central log directory is mounted at <code>/var/log/centralized-logs</code>, you would add the following line to your log4j2 configuration file:</p>\n<p><code>appender.file.File = /var/log/centralized-logs/&lt;server-hostname&gt;.log</code></p>\n</li>\n<li><p>The <code>&lt;server-hostname&gt;</code> variable will be replaced with the hostname of the server that is running the application. This will ensure that the logs for each server are saved in a separate file in the central log directory.</p>\n</li>\n<li><p>Once you have made the necessary changes, restart your application. Once your application is restarted, the logs will be saved in the central log directory.</p>\n</li>\n<li><p>Now, you can access the logs for all of your servers from a single location. This will make it easier for developers and production support teams to troubleshoot problems.</p>\n</li>\n</ol>\n<p>Here are some additional tips for managing logs:</p>\n<ul>\n<li>Use a centralized logging system to collect logs from all of your servers. This will make it easier to search and analyze logs.</li>\n<li>Configure your log files to rotate on a regular basis. This will prevent your log files from becoming too large and causing performance problems.</li>\n<li>Use a log monitoring tool to track the activity of your servers. This will help you to identify potential problems before they cause outages.</li>\n</ul>\n"}],"owner":{"account_id":15275998,"reputation":7,"user_id":11021711,"display_name":"Saurabh Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1690195012,"creation_date":1689829857,"question_id":76726838,"body_markdown":"My applications are running on 10 systems and all are generating logs through log4j2.. \r\nWant to mount one directory for logs so that application generated logs will directly save on mount directory with server host name . \r\n\r\nSo that developers and prod support team no need to visit on all servers.. for checking logs. \r\n\r\nMount directory, \r\n\r\nLog4j","title":"How to mount one directory between multiple systems to place logs on one location?","body":"<p>My applications are running on 10 systems and all are generating logs through log4j2..\nWant to mount one directory for logs so that application generated logs will directly save on mount directory with server host name .</p>\n<p>So that developers and prod support team no need to visit on all servers.. for checking logs.</p>\n<p>Mount directory,</p>\n<p>Log4j</p>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":28123620,"reputation":1,"user_id":21489439,"display_name":"E.A.M"},"score":0,"creation_date":1690194594,"post_id":76753537,"comment_id":135314548,"body_markdown":"I know this can be done, but I want to know why the case is not followed by a constant expression, which is clearly possible in gradle 7.0, but I upgraded to 8.0 and reported an error.","body":"I know this can be done, but I want to know why the case is not followed by a constant expression, which is clearly possible in gradle 7.0, but I upgraded to 8.0 and reported an error."},{"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"score":0,"creation_date":1690195403,"post_id":76753537,"comment_id":135314718,"body_markdown":"in java 12, the switch statement only allowed constant case expressions in each case. starting from Java 12 (JEP 361: Switch Expressions), and further enhanced in Java 14 (JEP 361: Switch Expressions (Standard)), switch expressions were introduced, allowing for both constant and non-constant expressions in case labels.  in your code checkedRadioButtonId seems to be an identifier (probably an integer) from the Android resources, and it might not be considered a constant expression by the Java compiler. so you got error","body":"in java 12, the switch statement only allowed constant case expressions in each case. starting from Java 12 (JEP 361: Switch Expressions), and further enhanced in Java 14 (JEP 361: Switch Expressions (Standard)), switch expressions were introduced, allowing for both constant and non-constant expressions in case labels.  in your code checkedRadioButtonId seems to be an identifier (probably an integer) from the Android resources, and it might not be considered a constant expression by the Java compiler. so you got error"},{"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"score":0,"creation_date":1690195478,"post_id":76753537,"comment_id":135314735,"body_markdown":"so you can use better if else statement","body":"so you can use better if else statement"},{"owner":{"account_id":28123620,"reputation":1,"user_id":21489439,"display_name":"E.A.M"},"score":0,"creation_date":1690195706,"post_id":76753537,"comment_id":135314784,"body_markdown":"Okay, I get it.Thank you for your answer sincerely","body":"Okay, I get it.Thank you for your answer sincerely"}],"tags":[],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690194208,"creation_date":1690194208,"answer_id":76753537,"question_id":76753458,"body_markdown":" Create separate comparator functions for each sorting criteria.\r\n\r\n   \r\n\r\n     private static final Comparator&lt;DataListItem&gt; DATE_COMPARATOR = (s1, s2) -&gt;\r\n        Long.compare(s1.getInifile().lastModified(), s2.getInifile().lastModified());\r\n    \r\n    private static final Comparator&lt;DataListItem&gt; NAME_COMPARATOR = (s1, s2) -&gt;\r\n        s1.getIniname().compareTo(s2.getIniname());\r\n    \r\n    private static final Comparator&lt;DataListItem&gt; SIZE_COMPARATOR = (s1, s2) -&gt;\r\n        Long.compare(s1.getInifile().length(), s2.getInifile().length());\r\n\r\n    switch (checkedRadioButtonId) {\r\n    case R.id.radioButtonDate:\r\n        Collections.sort(inilistdatalist, DATE_COMPARATOR);\r\n        Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\r\n            Long.compare(s1.iniFile.lastModified(), s2.iniFile.lastModified()));\r\n        break;\r\n\r\n    case R.id.radioButtonName:\r\n        Collections.sort(inilistdatalist, NAME_COMPARATOR);\r\n        Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\r\n            s1.iniFile.getName().compareTo(s2.iniFile.getName()));\r\n        break;\r\n\r\n    case R.id.radioButtonSize:\r\n        Collections.sort(inilistdatalist, SIZE_COMPARATOR);\r\n        Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\r\n            Long.compare(s1.iniFile.length(), s2.iniFile.length()));\r\n        break;\r\n}\r\n\r\nhope this help you.","title":"Gradle error, error: constant expression required","body":"<p>Create separate comparator functions for each sorting criteria.</p>\n<pre><code> private static final Comparator&lt;DataListItem&gt; DATE_COMPARATOR = (s1, s2) -&gt;\n    Long.compare(s1.getInifile().lastModified(), s2.getInifile().lastModified());\n\nprivate static final Comparator&lt;DataListItem&gt; NAME_COMPARATOR = (s1, s2) -&gt;\n    s1.getIniname().compareTo(s2.getIniname());\n\nprivate static final Comparator&lt;DataListItem&gt; SIZE_COMPARATOR = (s1, s2) -&gt;\n    Long.compare(s1.getInifile().length(), s2.getInifile().length());\n\nswitch (checkedRadioButtonId) {\ncase R.id.radioButtonDate:\n    Collections.sort(inilistdatalist, DATE_COMPARATOR);\n    Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\n        Long.compare(s1.iniFile.lastModified(), s2.iniFile.lastModified()));\n    break;\n\ncase R.id.radioButtonName:\n    Collections.sort(inilistdatalist, NAME_COMPARATOR);\n    Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\n        s1.iniFile.getName().compareTo(s2.iniFile.getName()));\n    break;\n\ncase R.id.radioButtonSize:\n    Collections.sort(inilistdatalist, SIZE_COMPARATOR);\n    Collections.sort(FilesHandler.rwiniArr, (s1, s2) -&gt;\n        Long.compare(s1.iniFile.length(), s2.iniFile.length()));\n    break;\n</code></pre>\n<p>}</p>\n<p>hope this help you.</p>\n"}],"owner":{"account_id":28123620,"reputation":1,"user_id":21489439,"display_name":"E.A.M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690194897,"creation_date":1690193572,"question_id":76753458,"body_markdown":"I built apk with version 8.0 gradle.Error reported in the following code\r\n\r\n```java\r\n\r\n\r\nswitch (checkedRadioButtonId) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase R.id.radioButtonDate:\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinilistdatalist,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLong.compare(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts1.getInifile().lastModified(),\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts2.getInifile().lastModified()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFilesHandler.rwiniArr,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLong.compare(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts1.iniFile.lastModified(),\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts2.iniFile.lastModified()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase R.id.radioButtonName:\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinilistdatalist,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt; s1.getIniname().compareTo(s2.getIniname()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFilesHandler.rwiniArr,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts1.iniFile\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.getName()\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.compareTo(s2.iniFile.getName()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase R.id.radioButtonSize:\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinilistdatalist,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLong.compare(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts1.getInifile().length(),\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts2.getInifile().length()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollections.sort(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFilesHandler.rwiniArr,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(s1, s2) -&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLong.compare(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts1.iniFile.length(), s2.iniFile.length()));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n```\r\nError message:\r\n\r\n```\r\n\r\n\r\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:264: error: constant expression required\r\n\r\n                                      case R.id.radioButtonDate:\r\n\r\n                                               ^\r\n\r\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:278: error: constant expression required\r\n\r\n                                      case R.id.radioButtonName:\r\n\r\n                                               ^\r\n\r\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:290: error: constant expression required\r\n\r\n                                      case R.id.radioButtonSize:\r\n\r\n                                               ^\r\n```\r\nLet me explain.`radioButtonSize,radioButtonName,radioButtonDate` are my \r\nradiobutton id.They will have unique int values in the R file.The error message says that the case is not followed by a constant expression.I don&#39;t understand.I wonder if this is a special effect of gradle 8.0.If so, what reasonable way should I code to respond to the event?\r\n\r\n\r\nI tried the gradle 7.x version and it seems OK.","title":"Gradle error, error: constant expression required","body":"<p>I built apk with version 8.0 gradle.Error reported in the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\nswitch (checkedRadioButtonId) {\n\n                                                        case R.id.radioButtonDate:\n\n                                                            Collections.sort(\n\n                                                                inilistdatalist,\n\n                                                                (s1, s2) -&gt;\n\n                                                            Long.compare(\n\n                                                                s1.getInifile().lastModified(),\n\n                                                                s2.getInifile().lastModified()));\n\n                                                            Collections.sort(\n\n                                                                FilesHandler.rwiniArr,\n\n                                                                (s1, s2) -&gt;\n\n                                                            Long.compare(\n\n                                                                s1.iniFile.lastModified(),\n\n                                                                s2.iniFile.lastModified()));\n\n                                                            break;\n\n                                                        case R.id.radioButtonName:\n\n                                                            Collections.sort(\n\n                                                                inilistdatalist,\n\n                                                                (s1, s2) -&gt; s1.getIniname().compareTo(s2.getIniname()));\n\n                                                            Collections.sort(\n\n                                                                FilesHandler.rwiniArr,\n\n                                                                (s1, s2) -&gt;\n\n                                                            s1.iniFile\n\n                                                                .getName()\n\n                                                                .compareTo(s2.iniFile.getName()));\n\n                                                            break;\n\n                                                        case R.id.radioButtonSize:\n\n                                                            Collections.sort(\n\n                                                                inilistdatalist,\n\n                                                                (s1, s2) -&gt;\n\n                                                            Long.compare(\n\n                                                                s1.getInifile().length(),\n\n                                                                s2.getInifile().length()));\n\n                                                            Collections.sort(\n\n                                                                FilesHandler.rwiniArr,\n\n                                                                (s1, s2) -&gt;\n\n                                                            Long.compare(\n\n                                                                s1.iniFile.length(), s2.iniFile.length()));\n\n                                                            break;\n\n                                                    }\n</code></pre>\n<p>Error message:</p>\n<pre><code>\n\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:264: error: constant expression required\n\n                                      case R.id.radioButtonDate:\n\n                                               ^\n\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:278: error: constant expression required\n\n                                      case R.id.radioButtonName:\n\n                                               ^\n\n/storage/emulated/0/AndroidIDEProjects/RWTranslater/app/src/main/java/com/eam/shuangx339/modtranslater/Activity/IniListActivity.java:290: error: constant expression required\n\n                                      case R.id.radioButtonSize:\n\n                                               ^\n</code></pre>\n<p>Let me explain.<code>radioButtonSize,radioButtonName,radioButtonDate</code> are my\nradiobutton id.They will have unique int values in the R file.The error message says that the case is not followed by a constant expression.I don't understand.I wonder if this is a special effect of gradle 8.0.If so, what reasonable way should I code to respond to the event?</p>\n<p>I tried the gradle 7.x version and it seems OK.</p>\n"},{"tags":["java","javapos"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1690158859,"post_id":76731477,"comment_id":135309991,"body_markdown":"What was the result?","body":"What was the result?"},{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1690435850,"post_id":76731477,"comment_id":135354084,"body_markdown":"Isn&#39;t it TM-T20III(twenty) instead of TM-T200III(two hundred)? [Thermal line Printer](https://download.epson-biz.com/modules/pos/index.php?page=genre&amp;pcat=3) And isn&#39;t there a sample program in the JavaPOS ADK? [EPSON JavaPOS ADK (for Windows OS)](https://download.epson-biz.com/modules/pos/index.php?page=single_soft&amp;cid=7256&amp;pcat=3&amp;pid=6146), [EPSON JavaPOS ADK (for Linux OS)](https://download.epson-biz.com/modules/pos/index.php?page=single_soft&amp;cid=7290&amp;pcat=3&amp;pid=6146)","body":"Isn&#39;t it TM-T20III(twenty) instead of TM-T200III(two hundred)? <a href=\"https://download.epson-biz.com/modules/pos/index.php?page=genre&amp;pcat=3\" rel=\"nofollow noreferrer\">Thermal line Printer</a> And isn&#39;t there a sample program in the JavaPOS ADK? <a href=\"https://download.epson-biz.com/modules/pos/index.php?page=single_soft&amp;cid=7256&amp;pcat=3&amp;pid=6146\" rel=\"nofollow noreferrer\">EPSON JavaPOS ADK (for Windows OS)</a>, <a href=\"https://download.epson-biz.com/modules/pos/index.php?page=single_soft&amp;cid=7290&amp;pcat=3&amp;pid=6146\" rel=\"nofollow noreferrer\">EPSON JavaPOS ADK (for Linux OS)</a>"}],"owner":{"account_id":19596385,"reputation":27,"user_id":14687335,"display_name":"Sub0Zero1990"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690194751,"creation_date":1689867174,"question_id":76731477,"body_markdown":"I&#39;m trying to use JavaPOS and making a little program that allows me to print something on the EPSON TM-T200III but i don&#39;t quite know how to do that, here&#39;s what I&#39;ve done so far:\r\n\r\n        try {\r\n    \t\tprinter.open(&quot;POSPrinter&quot;);\r\n\t\t\tprinter.claim(1000);\r\n\t\t\tprinter.setDeviceEnabled(true);\r\n\r\n            String textToPrint = &quot;test&quot;;\r\n\t\t\tprinter.printNormal(POSPrinterConst.PTR_S_RECEIPT, textToPrint);\r\n\r\n            printer.setDeviceEnabled(false);\r\n\t\t\tprinter.release();\r\n\t\t\tprinter.close();\r\n        } catch (JposException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nand here&#39;s what i get\r\n\r\n    \r\n    jpos/res/jpos.properties file not found\r\n    jpos/res/jpos.properties file not found\r\n    jpos/res/jpos.properties file not found\r\n    jpos.JposException: Service does not exist in loaded JCL registry\r\n    \tat jpos.loader.simple.SimpleServiceManager.createConnection(SimpleServiceManager.java:179)\r\n    \tat jpos.loader.JposServiceLoader.findService(JposServiceLoader.java:154)\r\n    \tat jpos.BaseJposControl.open(BaseJposControl.java:493)\r\n    \tat it.smi.retail.pos.JavaPOSConfig.main(JavaPOSConfig.java:12)\r\n\r\n","title":"Using JavaPOS with an EPSON printer","body":"<p>I'm trying to use JavaPOS and making a little program that allows me to print something on the EPSON TM-T200III but i don't quite know how to do that, here's what I've done so far:</p>\n<pre><code>    try {\n        printer.open(&quot;POSPrinter&quot;);\n        printer.claim(1000);\n        printer.setDeviceEnabled(true);\n\n        String textToPrint = &quot;test&quot;;\n        printer.printNormal(POSPrinterConst.PTR_S_RECEIPT, textToPrint);\n\n        printer.setDeviceEnabled(false);\n        printer.release();\n        printer.close();\n    } catch (JposException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>and here's what i get</p>\n<pre><code>jpos/res/jpos.properties file not found\njpos/res/jpos.properties file not found\njpos/res/jpos.properties file not found\njpos.JposException: Service does not exist in loaded JCL registry\n    at jpos.loader.simple.SimpleServiceManager.createConnection(SimpleServiceManager.java:179)\n    at jpos.loader.JposServiceLoader.findService(JposServiceLoader.java:154)\n    at jpos.BaseJposControl.open(BaseJposControl.java:493)\n    at it.smi.retail.pos.JavaPOSConfig.main(JavaPOSConfig.java:12)\n</code></pre>\n"},{"tags":["java","spring","jdbc","pessimistic-locking"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1621773702,"post_id":67659473,"comment_id":119591490,"body_markdown":"How do the methods obtain a connection?","body":"How do the methods obtain a connection?"},{"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"score":0,"creation_date":1621774182,"post_id":67659473,"comment_id":119591626,"body_markdown":"javax.sql.DataSource object has been autowired in Repository class, and connection is obtained using javax.sql.DataSource.getConnection(). This is part of the JAR where DAO code resides","body":"javax.sql.DataSource object has been autowired in Repository class, and connection is obtained using javax.sql.DataSource.getConnection(). This is part of the JAR where DAO code resides"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1621774241,"post_id":67659473,"comment_id":119591635,"body_markdown":"In that case, provided that the JARs themselves do not create separate `DataSource`s, you should be good with `@Transactional`","body":"In that case, provided that the JARs themselves do not create separate <code>DataSource</code>s, you should be good with <code>@Transactional</code>"},{"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"score":0,"creation_date":1621774664,"post_id":67659473,"comment_id":119591743,"body_markdown":"@crizzis `@Autowired javax.sql.DataSource` is part of jar itself, apologies in case my above comment didn&#39;t clearly specify that. Will still `@Transactional` work?","body":"@crizzis <code>@Autowired javax.sql.DataSource</code> is part of jar itself, apologies in case my above comment didn&#39;t clearly specify that. Will still <code>@Transactional</code> work?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1621774727,"post_id":67659473,"comment_id":119591766,"body_markdown":"Just to clarify: do you have multiple `DataSource` beans or just one?","body":"Just to clarify: do you have multiple <code>DataSource</code> beans or just one?"},{"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"score":0,"creation_date":1621775329,"post_id":67659473,"comment_id":119591918,"body_markdown":"@crizzis This jar is being used from multiple microservices and hence each will have their own `DataSource` beans also same microservice might have multiple instances running and each instance will have their own bean:(","body":"@crizzis This jar is being used from multiple microservices and hence each will have their own <code>DataSource</code> beans also same microservice might have multiple instances running and each instance will have their own bean:("}],"answers":[{"comments":[{"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"score":0,"creation_date":1621779545,"post_id":67660085,"comment_id":119593072,"body_markdown":"Thanks for such a detailed answer. Really appreciate it, I understood it and really this makes sense.\nJust one more thing won&#39;t retry lead to unnecessary performance issues.\n\nAlso If you want to have one process wait for another, don&#39;t use the database, don&#39;t use a lock object (you can&#39;t; processes don&#39;t share memory); **use a file**.  How can we achieve it in case multiple infra are using the same jar and we are not currently using any cloud services like AWS S3","body":"Thanks for such a detailed answer. Really appreciate it, I understood it and really this makes sense. Just one more thing won&#39;t retry lead to unnecessary performance issues.  Also If you want to have one process wait for another, don&#39;t use the database, don&#39;t use a lock object (you can&#39;t; processes don&#39;t share memory); <b>use a file</b>.  How can we achieve it in case multiple infra are using the same jar and we are not currently using any cloud services like AWS S3"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1621783809,"post_id":67660085,"comment_id":119594357,"body_markdown":"I&#39;m truly baffled at two claims that your answer does. &#39;A much more common way is called MVCC (MultiVersion Concurrency Control) and is **far** faster.&#39; Well, I mean, it&#39;s *sometimes* faster, especially in low-contention environments. To say that it&#39;s always faster and by far at that is quite an over-statement, though. Also, I&#39;m confused by what you meant by &#39;**Crucially, in the SERIALIZABLE model, locking NEVER occurs**&#39;. Out of all the available isolation levels (which is just another name for &#39;automatic locking policies&#39;), `SERIALIZABLE` is actually the one that does the most locking.","body":"I&#39;m truly baffled at two claims that your answer does. &#39;A much more common way is called MVCC (MultiVersion Concurrency Control) and is <b>far</b> faster.&#39; Well, I mean, it&#39;s <i>sometimes</i> faster, especially in low-contention environments. To say that it&#39;s always faster and by far at that is quite an over-statement, though. Also, I&#39;m confused by what you meant by &#39;<b>Crucially, in the SERIALIZABLE model, locking NEVER occurs</b>&#39;. Out of all the available isolation levels (which is just another name for &#39;automatic locking policies&#39;), <code>SERIALIZABLE</code> is actually the one that does the most locking."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1621799402,"post_id":67660085,"comment_id":119598732,"body_markdown":"_Just one more thing won&#39;t retry lead to unnecessary performance issues_ On the contrary. Retry leads to vast performance improvements: Yes, you have to execute the occasional retry. You trade for __zero pessimistic locks throughout the codebase__. That&#39;s a remarkable tradeoff. Like ethernet and token ring, turns out that is orders of magnitude faster. Remember, to get serializable transaction isolation without optimistic locking, a single select __has to lock the entire table__. optimistic locking solves that.","body":"<i>Just one more thing won&#39;t retry lead to unnecessary performance issues</i> On the contrary. Retry leads to vast performance improvements: Yes, you have to execute the occasional retry. You trade for <b>zero pessimistic locks throughout the codebase</b>. That&#39;s a remarkable tradeoff. Like ethernet and token ring, turns out that is orders of magnitude faster. Remember, to get serializable transaction isolation without optimistic locking, a single select <b>has to lock the entire table</b>. optimistic locking solves that."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1621799523,"post_id":67660085,"comment_id":119598769,"body_markdown":"@crizzis MVCC isn&#39;t the same thing as serializable transaction level. MVCC Is a way databases work, and many do (including postgres). With MVCC, you _can_ implement serializable transaction level in an efficient fashion, using optimistic locking. _`SERIALIZABLE` is actually the one that does the most locking._ - this is incorrect. Optimistic locking (i.e. no locking, just retries) lets you have SERIALIZABLE without locks. Out of context, sure, that statement doesn&#39;t make sense, but it&#39;s in the middle of an entire section on optimistic locking and an explanation of the retry model.","body":"@crizzis MVCC isn&#39;t the same thing as serializable transaction level. MVCC Is a way databases work, and many do (including postgres). With MVCC, you <i>can</i> implement serializable transaction level in an efficient fashion, using optimistic locking. <i><code>SERIALIZABLE</code> is actually the one that does the most locking.</i> - this is incorrect. Optimistic locking (i.e. no locking, just retries) lets you have SERIALIZABLE without locks. Out of context, sure, that statement doesn&#39;t make sense, but it&#39;s in the middle of an entire section on optimistic locking and an explanation of the retry model."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":3,"creation_date":1621806794,"post_id":67660085,"comment_id":119600494,"body_markdown":"@rzwitserloot I never claimed MVCC was the same thing as serializable isolation level. What I meant was that while optimistic locking may increase performance in some scenarios, it introduces the risk of having to re-run the entire critical section. So, you cannot really claim it is universally more efficient","body":"@rzwitserloot I never claimed MVCC was the same thing as serializable isolation level. What I meant was that while optimistic locking may increase performance in some scenarios, it introduces the risk of having to re-run the entire critical section. So, you cannot really claim it is universally more efficient"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1621811765,"post_id":67660085,"comment_id":119601411,"body_markdown":"No, and I didn&#39;t - it&#39;s the only transaction level that lets a bank not lose money given the 2 code snippets - and yet on some impls, `ON UPDATE` wouldn&#39;t cause any pessimistic locking to occur at all.","body":"No, and I didn&#39;t - it&#39;s the only transaction level that lets a bank not lose money given the 2 code snippets - and yet on some impls, <code>ON UPDATE</code> wouldn&#39;t cause any pessimistic locking to occur at all."},{"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"score":0,"creation_date":1621869848,"post_id":67660085,"comment_id":119618049,"body_markdown":"@rzwitserloot _ON UPDATE wouldn&#39;t cause any pessimistic locking to occur at all._\n**Pessimistic Locking**  by definition is when you lock the record for your exclusive use until you have finished with it.  `ON UPDATE` in a way does the same thing right then why above statement. **Possibility is I am not looking from the point of view you are looking into it** Please can you explain","body":"@rzwitserloot <i>ON UPDATE wouldn&#39;t cause any pessimistic locking to occur at all.</i> <b>Pessimistic Locking</b>  by definition is when you lock the record for your exclusive use until you have finished with it.  <code>ON UPDATE</code> in a way does the same thing right then why above statement. <b>Possibility is I am not looking from the point of view you are looking into it</b> Please can you explain"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1621879953,"post_id":67660085,"comment_id":119622237,"body_markdown":"@ABC If a DB uses a locking-based implementation to ensure the various guarantees each of the 4 transaction levels provides, then depending on which TL you chose, `FOR UPDATE` very much would cause a write lock to be applied to the selected row(s), preventing any other query from reading it or writing to it until that transaction completes. However, if a DB engine is using MVCC/Retry to ensure these guarantees, it doesn&#39;t have to lock anything, not even at TL.SERIALIZABLE. The point is, OP wanted to use the locking aspect for control flow, and I explain why you can&#39;t: Locking is just one strat","body":"@ABC If a DB uses a locking-based implementation to ensure the various guarantees each of the 4 transaction levels provides, then depending on which TL you chose, <code>FOR UPDATE</code> very much would cause a write lock to be applied to the selected row(s), preventing any other query from reading it or writing to it until that transaction completes. However, if a DB engine is using MVCC/Retry to ensure these guarantees, it doesn&#39;t have to lock anything, not even at TL.SERIALIZABLE. The point is, OP wanted to use the locking aspect for control flow, and I explain why you can&#39;t: Locking is just one strat"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1622782154,"post_id":67660085,"comment_id":119895186,"body_markdown":"@rzwitserloot: In a lock based database, locks are normally applied on the record; not on the whole table. Only when there are too many locks, the database implementation could upgrade to more course grained lock.","body":"@rzwitserloot: In a lock based database, locks are normally applied on the record; not on the whole table. Only when there are too many locks, the database implementation could upgrade to more course grained lock."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1622782385,"post_id":67660085,"comment_id":119895245,"body_markdown":"@zwitserloot &#39;Crucially, in the SERIALIZABLE model, locking NEVER occurs, and FOR UPDATE does not mean anything at all&#39; This is not correct; with an MVCC based database, a for update acquires a pessimistic lock when the SELECT is executed. This way you reduce the need for retries.","body":"@zwitserloot &#39;Crucially, in the SERIALIZABLE model, locking NEVER occurs, and FOR UPDATE does not mean anything at all&#39; This is not correct; with an MVCC based database, a for update acquires a pessimistic lock when the SELECT is executed. This way you reduce the need for retries."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":2,"creation_date":1622782495,"post_id":67660085,"comment_id":119895268,"body_markdown":"@zwitserloot &#39;If you want to have one thread wait for another, don&#39;t use the database, use a lock object.&#39; If you are already using a database, use the database for synchronization. Do not add more tools into the mixture.","body":"@zwitserloot &#39;If you want to have one thread wait for another, don&#39;t use the database, use a lock object.&#39; If you are already using a database, use the database for synchronization. Do not add more tools into the mixture."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1622782667,"post_id":67660085,"comment_id":119895301,"body_markdown":"@zwitserloot &#39;MVCC/Optimistic locking DBs guarantee that the bank will never get fleeced no matter how hard you try with the shenanigans&#39;. Look for write skew. A problem Oracle used to suffer from; not sure if they still suffer from it and some others like PostgreSQL solved it long time ago. But some MVCC databases can get behavior of transactions that can&#39;t be explained by serial execution of the transactions.","body":"@zwitserloot &#39;MVCC/Optimistic locking DBs guarantee that the bank will never get fleeced no matter how hard you try with the shenanigans&#39;. Look for write skew. A problem Oracle used to suffer from; not sure if they still suffer from it and some others like PostgreSQL solved it long time ago. But some MVCC databases can get behavior of transactions that can&#39;t be explained by serial execution of the transactions."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":12,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1690193842,"creation_date":1621775176,"answer_id":67660085,"question_id":67659473,"body_markdown":"You&#39;re making a mistake. Using the wrong tool for the job. Transaction levels and FOR UPDATE has the purpose of ensuring data integrity. Period. It it isn&#39;t designed for control flow and if you use it for this, it will bite you in the butt sooner rather than later.\r\n\r\nLet me try to explain what `SELECT FOR UPDATE` is for, so that, when later I tell you that it is most definitely not for what you&#39;re trying to do with it, it is easier to follow.\r\n\r\nImagine a bank. Simple enough. The bank has some ATMs out front and a website where you can see your transactions and transfer money to other accounts.\r\n\r\nImagine you (ABC) and I (Reinier) are trying to fleece the bank some. Here is our plan: We set it up so that you have €1000,- in your account and I have nothing.\r\n\r\nThen, you log into the website from your phone, and start a transfer, transferring €1000,- to my account. But, while you&#39;re doing that, right in the middle, you withdraw €10,- from the ATM.\r\n\r\nIf the bank messed up their transactions, it&#39;s possible you end up with €990,- in your account and I have €1000,- in my account, and we fleeced the bank. This is how that could happen (and if halfway through the example you think: I already know this stuff, I know what FOR UPDATE does! - I&#39;m not so sure you do, read it carefully)\r\n\r\n## ATM code\r\n\r\n```\r\nstartTransaction();\r\nint currentBalance = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, abc);\r\nif (currentBalance &lt; requestedWithdrawal) throw new InsufficientFundsEx();\r\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, currentBalance - requestedWithdrawal, abc);\r\ncommit();\r\nmoneyHopper.spitOut(requestedWithdrawal);\r\n```\r\n\r\n## Website code\r\n\r\n```\r\nstartTransaction();\r\nint balanceTo = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, reinier);\r\nint balanceFrom = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, abc);\r\nif (transfer &gt; balanceFrom) throw new InsufficientFundsEx();\r\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balanceTo + transfer, reinier);\r\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balanceFrom - transfer, abc);\r\ncommit();\r\ncontroller.notifyTransferSucceeded();\r\n```\r\n\r\n## How it can go wrong \r\n\r\nThe way it goes wrong is if the `balanceTo` and `balanceFrom` are &#39;locked in&#39;, _then_ the ATM withdrawal goes through, and _then_ the update SQL statements from the website transaction go through (this wipes out the ATM withdrawal, effectively - whatever the ATM spit out is free money), or if the ATM&#39;s balance check locks in, _then_ the transfer goes through, and then the ATM&#39;s update goes through (which gives the recipient, i.e. me their €1000,-, and ensures that the ATM code&#39;s update, setting your balance to 990, is the last thing that happens, giving us €990,- of free money.\r\n\r\n## So what&#39;s the fix? Hint: Not FOR UPDATE\r\n\r\nThe fix is to consider what a transaction __means__. The purpose of transactions is to turn operations into atomic notions. Either both your account is reduced by the transfer amount _and_ mine is raised by the same, _or_ nothing happens.\r\n\r\nIt&#39;s obvious enough with statements that change things (UPDATE and INSERT). It&#39;s a bit more wonky when we talk about reading data. Should those reads be considered part of the transaction?\r\n\r\nOne way to go is to say: No, unless you add `FOR UPDATE` at the end of it all, in which case, yes - i.e. lock those rows only if `FOR UPDATE` is applied until the transaction ends.\r\n\r\n__But that is not the only way to ensure data integrity__.\r\n\r\n## Optimistic locking to the rescue - or rather, to your doom\r\n\r\nA much more common way is called MVCC (MultiVersion Concurrency Control) and is __far__ faster. The idea behind MVCC (also called optimistic locking), is to just assume no clashes ever occur. Nothing is _ever_ locked. Instead, [A] all changes made within a transaction are completely invisible to things running in any other transaction until you commit, and [B] when you `COMMIT` a transaction, the database checks if everything you have done within the span of this transaction still &#39;holds up&#39; - for example, if you updated a row within this transaction that was also modified by another transaction that has committed already, you get an error _when you commit_, not when you ran the UPDATE statement.\r\n\r\nIn this framework, we can still talk about what SELECT even means. This, in java/JDBC, is called the __Transaction Isolation Level__ and is configurable on a DB connection. The best level, the level the bank should be using to avoid this issue, is called the `TransactionLevel.SERIALIZABLE`. Serializable effectively means __everything__ dirties everything else: If during a transaction you read some data, and when you commit, that same SELECT statement would have produced different results because some other transaction modified something, then the COMMIT just fails.\r\n\r\nThey fail with a so-called &#39;RetryException&#39;. This means literally what it says: Just start your transaction over, from the top. It makes sense if you think about that bank example: What WOULD have happened, had the bank done it right and set up serializable transaction isolation level, is that either the ATM machine&#39;s transaction or the transfer transaction would get the retryexception. Assuming the bank wrote their code right and they actually do what the exception tells you to (start over), then they would start over, and that __includes__ re-reading the balances out. No cheating of the bank can occur now.\r\n\r\n__Crucially, in the `SERIALIZABLE` model, locking NEVER occurs, and `FOR UPDATE` does not mean anything at all__.\r\n\r\nThus, usually, FOR UPDATE does literal stone cold nothing, a complete no-op, depending on how the db is setup.\r\n\r\n__`FOR UPDATE` does not mean &#39;lock other transactions that touch this row&#39;. No matter how much you want it to.__\r\n\r\nSome DB implementations, or even some combination of DB engine and connection configuration may be implemented in that fashion, but that is an extremely finicky setup, and your app should include documentation that strongly recommends the operator to never change the db settings, never switch db engines, never update the db engine, never update the JDBC driver, and never mess with the connection settings.\r\n\r\nThat&#39;s the kind of silly caveat you really, really don&#39;t want to put on your code.\r\n\r\nThe solution is to stop buttering your toast with that chainsaw. Even if you think you can manage to get some butter on that toast with it, it&#39;s just not what it was made for, like at all, and we&#39;re all just waiting until you lose a thumb here. Just stop doing it. Get a butterknife, _please_.\r\n\r\nIf you want to have one thread wait for another, don&#39;t use the database, use a lock object. If you want to have one process wait for another, don&#39;t use the database, don&#39;t use a lock object (you can&#39;t; processes don&#39;t share memory); use a file. the new java file IO has an option to make a file atomically (meaning, if the file already exists, throw an exception, otherwise make the file, and do so atomically, meaning if two processes both run this &#39;create atomically new file&#39; code, you have a guarantee that one succeeds and one throws).\r\n\r\nIf you want data integrity and that&#39;s the only reason you wanted pessimistic locking in the first place, stop thinking that way - it&#39;s the DBs job, not your job, to guarantee data integrity. MVCC/Optimistic locking DBs guarantee that the bank will __never__ get fleeced no matter how hard you try with the shenanigans at the top of this answer and nevertheless, pessimistic locking just isn&#39;t involved.\r\n\r\nJDBC itself sucks (intentionally, a bit too much to get into) for &#39;end use&#39; like what you are doing here. Get yourself an abstraction that makes it nice such as JDBI or JOOQ. These tools also have the only proper way to interact with databases, which is that __all DB code must be in a lambda__. That&#39;s because you don&#39;t want to manually handle those retry exceptions, you want your DB access framework to take care of it. This is what the bank code should really look like:\r\n\r\n```\r\ndbAccess.run(db -&gt; {\r\n    int balance = db.sql(&quot;SELECT balance FROM account WHERE user =?&quot;, abc);\r\n    if (balance &lt; requested) throw new InsufficientBalanceEx();\r\n    db.update(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balance - requested, abc);\r\n    return requested;\r\n};\r\n```\r\n\r\nThis way, the &#39;framework&#39; (the code behind that `run` method) can catch the retryex and just rerun the lambda as often as it needs to. rerunning is tricky - if two threads on a server both cause the other to retry, which is not that hard to do, then you can get into an endless loop where they both restart and both again cause the other to retry, at infinitum. The solution is literally dicethrowing. When retrying, you should roll a random number and wait that many milliseconds, and for every further retry, the range on which you&#39;re rolling should increase. If this sounds dumb to you, know that you&#39;re currently using it: It&#39;s how Ethernet works, too (ethernet uses randomized backoff when collisions occur on the wire). Ethernet won, token ring lost. It&#39;s the exact same principle at work (token ring is pessimistic locking, ethernet is optimistic &#39;eh just try it and detect if it went wrong, then just redo it, with some randomized exponential backoff sprinkled in to ensure you don&#39;t get 2 systems in lock-step forever screwing up the other&#39;s attempt).\r\n\r\n","title":"&quot;Select for update&quot; and update with pessimistic locking","body":"<p>You're making a mistake. Using the wrong tool for the job. Transaction levels and FOR UPDATE has the purpose of ensuring data integrity. Period. It it isn't designed for control flow and if you use it for this, it will bite you in the butt sooner rather than later.</p>\n<p>Let me try to explain what <code>SELECT FOR UPDATE</code> is for, so that, when later I tell you that it is most definitely not for what you're trying to do with it, it is easier to follow.</p>\n<p>Imagine a bank. Simple enough. The bank has some ATMs out front and a website where you can see your transactions and transfer money to other accounts.</p>\n<p>Imagine you (ABC) and I (Reinier) are trying to fleece the bank some. Here is our plan: We set it up so that you have €1000,- in your account and I have nothing.</p>\n<p>Then, you log into the website from your phone, and start a transfer, transferring €1000,- to my account. But, while you're doing that, right in the middle, you withdraw €10,- from the ATM.</p>\n<p>If the bank messed up their transactions, it's possible you end up with €990,- in your account and I have €1000,- in my account, and we fleeced the bank. This is how that could happen (and if halfway through the example you think: I already know this stuff, I know what FOR UPDATE does! - I'm not so sure you do, read it carefully)</p>\n<h2>ATM code</h2>\n<pre><code>startTransaction();\nint currentBalance = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, abc);\nif (currentBalance &lt; requestedWithdrawal) throw new InsufficientFundsEx();\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, currentBalance - requestedWithdrawal, abc);\ncommit();\nmoneyHopper.spitOut(requestedWithdrawal);\n</code></pre>\n<h2>Website code</h2>\n<pre><code>startTransaction();\nint balanceTo = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, reinier);\nint balanceFrom = sql(&quot;SELECT balance FROM account WHERE user = ?&quot;, abc);\nif (transfer &gt; balanceFrom) throw new InsufficientFundsEx();\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balanceTo + transfer, reinier);\nsql(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balanceFrom - transfer, abc);\ncommit();\ncontroller.notifyTransferSucceeded();\n</code></pre>\n<h2>How it can go wrong</h2>\n<p>The way it goes wrong is if the <code>balanceTo</code> and <code>balanceFrom</code> are 'locked in', <em>then</em> the ATM withdrawal goes through, and <em>then</em> the update SQL statements from the website transaction go through (this wipes out the ATM withdrawal, effectively - whatever the ATM spit out is free money), or if the ATM's balance check locks in, <em>then</em> the transfer goes through, and then the ATM's update goes through (which gives the recipient, i.e. me their €1000,-, and ensures that the ATM code's update, setting your balance to 990, is the last thing that happens, giving us €990,- of free money.</p>\n<h2>So what's the fix? Hint: Not FOR UPDATE</h2>\n<p>The fix is to consider what a transaction <strong>means</strong>. The purpose of transactions is to turn operations into atomic notions. Either both your account is reduced by the transfer amount <em>and</em> mine is raised by the same, <em>or</em> nothing happens.</p>\n<p>It's obvious enough with statements that change things (UPDATE and INSERT). It's a bit more wonky when we talk about reading data. Should those reads be considered part of the transaction?</p>\n<p>One way to go is to say: No, unless you add <code>FOR UPDATE</code> at the end of it all, in which case, yes - i.e. lock those rows only if <code>FOR UPDATE</code> is applied until the transaction ends.</p>\n<p><strong>But that is not the only way to ensure data integrity</strong>.</p>\n<h2>Optimistic locking to the rescue - or rather, to your doom</h2>\n<p>A much more common way is called MVCC (MultiVersion Concurrency Control) and is <strong>far</strong> faster. The idea behind MVCC (also called optimistic locking), is to just assume no clashes ever occur. Nothing is <em>ever</em> locked. Instead, [A] all changes made within a transaction are completely invisible to things running in any other transaction until you commit, and [B] when you <code>COMMIT</code> a transaction, the database checks if everything you have done within the span of this transaction still 'holds up' - for example, if you updated a row within this transaction that was also modified by another transaction that has committed already, you get an error <em>when you commit</em>, not when you ran the UPDATE statement.</p>\n<p>In this framework, we can still talk about what SELECT even means. This, in java/JDBC, is called the <strong>Transaction Isolation Level</strong> and is configurable on a DB connection. The best level, the level the bank should be using to avoid this issue, is called the <code>TransactionLevel.SERIALIZABLE</code>. Serializable effectively means <strong>everything</strong> dirties everything else: If during a transaction you read some data, and when you commit, that same SELECT statement would have produced different results because some other transaction modified something, then the COMMIT just fails.</p>\n<p>They fail with a so-called 'RetryException'. This means literally what it says: Just start your transaction over, from the top. It makes sense if you think about that bank example: What WOULD have happened, had the bank done it right and set up serializable transaction isolation level, is that either the ATM machine's transaction or the transfer transaction would get the retryexception. Assuming the bank wrote their code right and they actually do what the exception tells you to (start over), then they would start over, and that <strong>includes</strong> re-reading the balances out. No cheating of the bank can occur now.</p>\n<p><strong>Crucially, in the <code>SERIALIZABLE</code> model, locking NEVER occurs, and <code>FOR UPDATE</code> does not mean anything at all</strong>.</p>\n<p>Thus, usually, FOR UPDATE does literal stone cold nothing, a complete no-op, depending on how the db is setup.</p>\n<p><strong><code>FOR UPDATE</code> does not mean 'lock other transactions that touch this row'. No matter how much you want it to.</strong></p>\n<p>Some DB implementations, or even some combination of DB engine and connection configuration may be implemented in that fashion, but that is an extremely finicky setup, and your app should include documentation that strongly recommends the operator to never change the db settings, never switch db engines, never update the db engine, never update the JDBC driver, and never mess with the connection settings.</p>\n<p>That's the kind of silly caveat you really, really don't want to put on your code.</p>\n<p>The solution is to stop buttering your toast with that chainsaw. Even if you think you can manage to get some butter on that toast with it, it's just not what it was made for, like at all, and we're all just waiting until you lose a thumb here. Just stop doing it. Get a butterknife, <em>please</em>.</p>\n<p>If you want to have one thread wait for another, don't use the database, use a lock object. If you want to have one process wait for another, don't use the database, don't use a lock object (you can't; processes don't share memory); use a file. the new java file IO has an option to make a file atomically (meaning, if the file already exists, throw an exception, otherwise make the file, and do so atomically, meaning if two processes both run this 'create atomically new file' code, you have a guarantee that one succeeds and one throws).</p>\n<p>If you want data integrity and that's the only reason you wanted pessimistic locking in the first place, stop thinking that way - it's the DBs job, not your job, to guarantee data integrity. MVCC/Optimistic locking DBs guarantee that the bank will <strong>never</strong> get fleeced no matter how hard you try with the shenanigans at the top of this answer and nevertheless, pessimistic locking just isn't involved.</p>\n<p>JDBC itself sucks (intentionally, a bit too much to get into) for 'end use' like what you are doing here. Get yourself an abstraction that makes it nice such as JDBI or JOOQ. These tools also have the only proper way to interact with databases, which is that <strong>all DB code must be in a lambda</strong>. That's because you don't want to manually handle those retry exceptions, you want your DB access framework to take care of it. This is what the bank code should really look like:</p>\n<pre><code>dbAccess.run(db -&gt; {\n    int balance = db.sql(&quot;SELECT balance FROM account WHERE user =?&quot;, abc);\n    if (balance &lt; requested) throw new InsufficientBalanceEx();\n    db.update(&quot;UPDATE account SET balance = ? WHERE user = ?&quot;, balance - requested, abc);\n    return requested;\n};\n</code></pre>\n<p>This way, the 'framework' (the code behind that <code>run</code> method) can catch the retryex and just rerun the lambda as often as it needs to. rerunning is tricky - if two threads on a server both cause the other to retry, which is not that hard to do, then you can get into an endless loop where they both restart and both again cause the other to retry, at infinitum. The solution is literally dicethrowing. When retrying, you should roll a random number and wait that many milliseconds, and for every further retry, the range on which you're rolling should increase. If this sounds dumb to you, know that you're currently using it: It's how Ethernet works, too (ethernet uses randomized backoff when collisions occur on the wire). Ethernet won, token ring lost. It's the exact same principle at work (token ring is pessimistic locking, ethernet is optimistic 'eh just try it and detect if it went wrong, then just redo it, with some randomized exponential backoff sprinkled in to ensure you don't get 2 systems in lock-step forever screwing up the other's attempt).</p>\n"}],"owner":{"account_id":9750349,"reputation":45,"user_id":7228807,"display_name":"ABC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67660085,"answer_count":1,"score":1,"last_activity_date":1690193842,"creation_date":1621771005,"question_id":67659473,"body_markdown":"I&#39;m trying to implement pessimistic locking using select for update, as I want other threads to wait until the lock on the selected row is released.\r\nThe part that I have understood is after going through multiple threads [Spring JDBC select for update][1] and various similar threads is it is achievable in case select and update are happening within same method and hence they are part of same transaction.\r\n\r\nThe issue in my case is I have a JAR for DAO functionality where in a `selectforUpdate` method is available and a separate update method is available, both method has a finally block which contains\r\n\r\n    resultSet.close();\r\n    statement.close();\r\n    connection.close();\r\n\r\nNow I&#39;m struggling to find out is there a way in which I can use both the methods from outside of the JAR, maybe by annotating my method with `@Transactional` annotation and make it work in some way. So that lock is only released once update method has been executed.\r\n\r\n  [1]: https://stackoverflow.com/questions/56350833/spring-jdbc-select-for-update\r\n","title":"&quot;Select for update&quot; and update with pessimistic locking","body":"<p>I'm trying to implement pessimistic locking using select for update, as I want other threads to wait until the lock on the selected row is released.\nThe part that I have understood is after going through multiple threads <a href=\"https://stackoverflow.com/questions/56350833/spring-jdbc-select-for-update\">Spring JDBC select for update</a> and various similar threads is it is achievable in case select and update are happening within same method and hence they are part of same transaction.</p>\n<p>The issue in my case is I have a JAR for DAO functionality where in a <code>selectforUpdate</code> method is available and a separate update method is available, both method has a finally block which contains</p>\n<pre><code>resultSet.close();\nstatement.close();\nconnection.close();\n</code></pre>\n<p>Now I'm struggling to find out is there a way in which I can use both the methods from outside of the JAR, maybe by annotating my method with <code>@Transactional</code> annotation and make it work in some way. So that lock is only released once update method has been executed.</p>\n"},{"tags":["java","sorting","collections","comparable"],"comments":[{"owner":{"account_id":4534997,"reputation":3603,"user_id":3684449,"accept_rate":50,"display_name":"lance.dolan"},"score":0,"creation_date":1520362421,"post_id":4432774,"comment_id":85281106,"body_markdown":"If it&#39;s possible to use more explicit words in place of &quot;thing&quot; and &quot;way&quot;, then giving good answers will be easier. As it stands, I must respectfully admit I struggled to understand the exact question.","body":"If it&#39;s possible to use more explicit words in place of &quot;thing&quot; and &quot;way&quot;, then giving good answers will be easier. As it stands, I must respectfully admit I struggled to understand the exact question."}],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292269295,"creation_date":1292269295,"answer_id":4432787,"question_id":4432774,"body_markdown":"You can only have one `compareTo()` method in your class.\r\n\r\nIf you want to sort the same class more than one way, create `Comparator` implementations.","title":"How do I make 2 comparable methods in only one class?","body":"<p>You can only have one <code>compareTo()</code> method in your class.</p>\n\n<p>If you want to sort the same class more than one way, create <code>Comparator</code> implementations.</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1292269705,"creation_date":1292269339,"answer_id":4432795,"question_id":4432774,"body_markdown":"What you need to do is implement a custom [`Comparator`][1].  And then use:\r\n\r\n    Collections.sort(yourList, new CustomComparator&lt;YourClass&gt;());\r\n\r\nSpecifically, you could write: (This will create an Anonymous class that implements `Comparator`.)\r\n\r\n    Collections.sort(yourList, new Comparator&lt;YourClass&gt;(){\r\n        public int compare(YourClass one, YourClass two) {\r\n            // compare using whichever properties of ListType you need\r\n        }\r\n    });\r\n\r\nYou could build these into your class if you like:\r\n\r\n    class YourClass {\r\n    \r\n        static Comparator&lt;YourClass&gt; getAttribute1Comparator() {\r\n            return new Comparator&lt;YourClass&gt;() {\r\n                // compare using attribute 1\r\n            };\r\n        }\r\n    \r\n        static Comparator&lt;YourClass&gt; getAttribute2Comparator() {\r\n            return new Comparator&lt;YourClass&gt;() {\r\n                // compare using attribute 2\r\n            };\r\n        }\r\n    }\r\n\r\nIt could be used like so:\r\n\r\n    Collections.sort(yourList, YourClass.getAttribute2Comparator());\r\n\r\n[1]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"How do I make 2 comparable methods in only one class?","body":"<p>What you need to do is implement a custom <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a>.  And then use:</p>\n\n<pre><code>Collections.sort(yourList, new CustomComparator&lt;YourClass&gt;());\n</code></pre>\n\n<p>Specifically, you could write: (This will create an Anonymous class that implements <code>Comparator</code>.)</p>\n\n<pre><code>Collections.sort(yourList, new Comparator&lt;YourClass&gt;(){\n    public int compare(YourClass one, YourClass two) {\n        // compare using whichever properties of ListType you need\n    }\n});\n</code></pre>\n\n<p>You could build these into your class if you like:</p>\n\n<pre><code>class YourClass {\n\n    static Comparator&lt;YourClass&gt; getAttribute1Comparator() {\n        return new Comparator&lt;YourClass&gt;() {\n            // compare using attribute 1\n        };\n    }\n\n    static Comparator&lt;YourClass&gt; getAttribute2Comparator() {\n        return new Comparator&lt;YourClass&gt;() {\n            // compare using attribute 2\n        };\n    }\n}\n</code></pre>\n\n<p>It could be used like so:</p>\n\n<pre><code>Collections.sort(yourList, YourClass.getAttribute2Comparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690193525,"creation_date":1292269518,"answer_id":4432827,"question_id":4432774,"body_markdown":"If the two methods require the exact same footprint, you may be inappropriately overloading a single class with multiple uses, which would be resolved by fixing your class hierarchy - like instead of using &quot;shape&quot;, subclass it with &quot;oval&quot;, &quot;rectangle&quot;, etc.\r\n\r\nIf subclassing doesn&#39;t make sense, you need to create different comparison classes.  In Java, you often use a Comparator for comparisons.  Create several (or create a configurable comparator):  IsbnComparator, AuthorComparator, etc.\r\n\r\nOh, and the configurable option would be:\r\n\r\n&lt;pre&gt;\r\n BookComparator implements Comparator {\r\n   enum FIELD { AUTHOR, ISBN, ... };\r\n   setSortOrder(int rank, FIELD field){...}\r\n }\r\n&lt;/pre&gt;","title":"How do I make 2 comparable methods in only one class?","body":"<p>If the two methods require the exact same footprint, you may be inappropriately overloading a single class with multiple uses, which would be resolved by fixing your class hierarchy - like instead of using &quot;shape&quot;, subclass it with &quot;oval&quot;, &quot;rectangle&quot;, etc.</p>\n<p>If subclassing doesn't make sense, you need to create different comparison classes.  In Java, you often use a Comparator for comparisons.  Create several (or create a configurable comparator):  IsbnComparator, AuthorComparator, etc.</p>\n<p>Oh, and the configurable option would be:</p>\n<pre>\n BookComparator implements Comparator {\n   enum FIELD { AUTHOR, ISBN, ... };\n   setSortOrder(int rank, FIELD field){...}\n }\n</pre>\n"}],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30459,"favorite_count":0,"down_vote_count":2,"up_vote_count":31,"accepted_answer_id":4432795,"answer_count":3,"score":29,"last_activity_date":1690193525,"creation_date":1292269162,"question_id":4432774,"body_markdown":"I&#39;ve got one class, that I sort it already by one attribute.\r\nNow I need to make another thing, that I need to create another way to sort my data.\r\nHow can I make it, so I can choose between the two methods.\r\nThe only command I know is Collections.sort that will pick up the method compareTo from the class I want to compare its data.\r\n\r\nIs it even possible?","title":"How do I make 2 comparable methods in only one class?","body":"<p>I've got one class, that I sort it already by one attribute.\nNow I need to make another thing, that I need to create another way to sort my data.\nHow can I make it, so I can choose between the two methods.\nThe only command I know is Collections.sort that will pick up the method compareTo from the class I want to compare its data.</p>\n\n<p>Is it even possible?</p>\n"},{"tags":["java","spring-boot","performance","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690193470,"creation_date":1690193470,"answer_id":76753448,"question_id":76753260,"body_markdown":" 1. You can use 4 [Throughput Controllers][1] and give the desired percentage of executions in them:\r\n\r\n    [![enter image description here][2]][2]\r\n 2. You can put the requests under different [Thread Groups][3] and set number of users and/or iterations according to your test scenario:\r\n\r\n    [![enter image description here][4]][4]\r\n 3. You can use [Weighted Switch Controller][5] and provide the desired &quot;weights&quot; for the API endpoints there:\r\n\r\n    [![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Throughput_Controller\r\n  [2]: https://i.stack.imgur.com/b8QVS.png\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\r\n  [4]: https://i.stack.imgur.com/ZbIJy.png\r\n  [5]: https://www.blazemeter.com/blog/weighted-switch-controller-jmeter\r\n  [6]: https://i.stack.imgur.com/BSUpr.png","title":"Percentage for different APIs in a thread group in jmeter","body":"<ol>\n<li><p>You can use 4 <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Throughput_Controller\" rel=\"nofollow noreferrer\">Throughput Controllers</a> and give the desired percentage of executions in them:</p>\n<p><a href=\"https://i.stack.imgur.com/b8QVS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8QVS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>You can put the requests under different <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Groups</a> and set number of users and/or iterations according to your test scenario:</p>\n<p><a href=\"https://i.stack.imgur.com/ZbIJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZbIJy.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>You can use <a href=\"https://www.blazemeter.com/blog/weighted-switch-controller-jmeter\" rel=\"nofollow noreferrer\">Weighted Switch Controller</a> and provide the desired &quot;weights&quot; for the API endpoints there:</p>\n<p><a href=\"https://i.stack.imgur.com/BSUpr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BSUpr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76753448,"answer_count":1,"score":0,"last_activity_date":1690193470,"creation_date":1690192127,"question_id":76753260,"body_markdown":"I have a thread group in which there are 4 APIs. Now, I want to control the TPS of these APIs. For that, lets say these should be the TPS of these APIs:\r\n\r\n    API#1: 10\r\n    API#2: 20\r\n    API#3: 30\r\n    API#4: 40\r\n\r\nNow, for this total number of requests is 100. hence the percentage of these APIs are 10%, 20%, 30% and 40%. How, can I enable this in my jmeter test plan ?\r\n\r\n","title":"Percentage for different APIs in a thread group in jmeter","body":"<p>I have a thread group in which there are 4 APIs. Now, I want to control the TPS of these APIs. For that, lets say these should be the TPS of these APIs:</p>\n<pre><code>API#1: 10\nAPI#2: 20\nAPI#3: 30\nAPI#4: 40\n</code></pre>\n<p>Now, for this total number of requests is 100. hence the percentage of these APIs are 10%, 20%, 30% and 40%. How, can I enable this in my jmeter test plan ?</p>\n"},{"tags":["java","spring-boot","multipartform-data","webclient","multipartfile"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690216763,"post_id":76753368,"comment_id":135319411,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28790287,"reputation":1,"user_id":22049824,"display_name":"Mahdi Daoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690193149,"creation_date":1690192944,"question_id":76753368,"body_markdown":"# I&#39;m trying to Send a Multipart File using WebClient : \r\n\r\n        public Mono&lt;UploadReportDto&gt; uploadOffers(MultipartFile file) {\r\n                return this.offerWebClient.getOfferWebClient(WebClient.builder()).post()\r\n                                .uri(&quot;/upload&quot;)\r\n                                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                                .body(BodyInserters.fromMultipartData(&quot;file&quot;, file))\r\n                                .retrieve()\r\n                                .bodyToMono(UploadReportDto.class);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n# The Response I get : \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-07-24T09:32:12.441+00:00&quot;,\r\n        &quot;status&quot;: 500, \r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\\&quot;inputStream\\&quot;])\r\n    }","title":"Sending CSV file via WebClient : No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer","body":"<h1>I'm trying to Send a Multipart File using WebClient :</h1>\n<pre><code>    public Mono&lt;UploadReportDto&gt; uploadOffers(MultipartFile file) {\n            return this.offerWebClient.getOfferWebClient(WebClient.builder()).post()\n                            .uri(&quot;/upload&quot;)\n                            .contentType(MediaType.MULTIPART_FORM_DATA)\n                            .body(BodyInserters.fromMultipartData(&quot;file&quot;, file))\n                            .retrieve()\n                            .bodyToMono(UploadReportDto.class);\n    }\n</code></pre>\n<h1>The Response I get :</h1>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-07-24T09:32:12.441+00:00&quot;,\n    &quot;status&quot;: 500, \n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\\&quot;inputStream\\&quot;])\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","microservices","junit5"],"comments":[{"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"score":0,"creation_date":1690188181,"post_id":76752718,"comment_id":135313140,"body_markdown":"Make sure your server is running on this port. Please reformat your code in the question. Check property file if you have some other port defined.","body":"Make sure your server is running on this port. Please reformat your code in the question. Check property file if you have some other port defined."}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690193114,"creation_date":1690192572,"answer_id":76753320,"question_id":76752718,"body_markdown":"The test seems to be written well, but one thing, I suppose, is wrong. Try to delete `WebEnvironment.DEFINED_PORT` in the line `@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)` and rerun your test. By default, `WebEnvironment.MOCK` will be used.\r\n\r\nActually your tests should not be bounded to specific ports because when tests are being ran another application may be running on the same port and this can cause some problems in the future.\r\n\r\nLet me know if it doesn&#39;t work.","title":"org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/v1/apc&quot;","body":"<p>The test seems to be written well, but one thing, I suppose, is wrong. Try to delete <code>WebEnvironment.DEFINED_PORT</code> in the line <code>@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)</code> and rerun your test. By default, <code>WebEnvironment.MOCK</code> will be used.</p>\n<p>Actually your tests should not be bounded to specific ports because when tests are being ran another application may be running on the same port and this can cause some problems in the future.</p>\n<p>Let me know if it doesn't work.</p>\n"}],"owner":{"account_id":27597790,"reputation":11,"user_id":21063641,"display_name":"Vinod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690193114,"creation_date":1690187817,"question_id":76752718,"body_markdown":"I have a controller Test class like following\r\n\r\n```Java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {ApiController.class,TableService.class, CommonService.class},\r\n        loader = AnnotationConfigContextLoader.class)\r\n@TestPropertySource(locations = {&quot;classpath:properties/test/application-test.properties&quot;})\r\n@ActiveProfiles(profiles = &quot;test&quot;)\r\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\r\npublic class ApiControllerTest {\r\n\r\n    @Autowired\r\n    private TestRestTemplate testRestTemplate;\r\n    \r\n   @Test\r\n    public void successTypeHttp200Ok() throws JsonParseException, JsonMappingException, IOException {\r\n    \tResponseEntity&lt;String&gt; response = testRestTemplate.\r\n    \t    \t  getForEntity(&quot;/v1/apc?name=test&quot;, String.class);            \r\n    }\r\n\r\n}\r\n```\r\nWhen I run the test I am getting the following exception \r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/v1/apc&quot;: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:361)\r\n\tat org.springframework.boot.test.web.client.TestRestTemplate.getForEntity(TestRestTemplate.java:231)\r\n\tat com.esrx.services.pacRulesEngine.api.RulesApiControllerTest.emptyValueStateCodeBadRequestHttp400Error(RulesApiControllerTest.java:115)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n\t... 71 more\r\nCaused by: java.net.ConnectException: Connection refused: connect\r\n\tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n\tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:589)\r\n\tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\t... 84 more\r\n```\r\nCan someone help me out what could be the issue?","title":"org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/v1/apc&quot;","body":"<p>I have a controller Test class like following</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {ApiController.class,TableService.class, CommonService.class},\n        loader = AnnotationConfigContextLoader.class)\n@TestPropertySource(locations = {&quot;classpath:properties/test/application-test.properties&quot;})\n@ActiveProfiles(profiles = &quot;test&quot;)\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\npublic class ApiControllerTest {\n\n    @Autowired\n    private TestRestTemplate testRestTemplate;\n    \n   @Test\n    public void successTypeHttp200Ok() throws JsonParseException, JsonMappingException, IOException {\n        ResponseEntity&lt;String&gt; response = testRestTemplate.\n                  getForEntity(&quot;/v1/apc?name=test&quot;, String.class);            \n    }\n\n}\n</code></pre>\n<p>When I run the test I am getting the following exception</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/v1/apc&quot;: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:361)\n    at org.springframework.boot.test.web.client.TestRestTemplate.getForEntity(TestRestTemplate.java:231)\n    at com.esrx.services.pacRulesEngine.api.RulesApiControllerTest.emptyValueStateCodeBadRequestHttp400Error(RulesApiControllerTest.java:115)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1249)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1249)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    ... 71 more\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 84 more\n</code></pre>\n<p>Can someone help me out what could be the issue?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690190378,"post_id":76752997,"comment_id":135313635,"body_markdown":"All your web requests go through your filter chain. It&#39;s normal behaviour.","body":"All your web requests go through your filter chain. It&#39;s normal behaviour."},{"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"score":0,"creation_date":1690190698,"post_id":76752997,"comment_id":135313724,"body_markdown":"@Jorn but how do I make sure that the 404 Error code is returned then? None of my other Controllers (JSON ones) behave that way, that an error cannot be caught by a try-catch block and a selected HTTP Status be returned.","body":"@Jorn but how do I make sure that the 404 Error code is returned then? None of my other Controllers (JSON ones) behave that way, that an error cannot be caught by a try-catch block and a selected HTTP Status be returned."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690191369,"post_id":76752997,"comment_id":135313874,"body_markdown":"Either catch the exception in your endpoint (controller) code and return it there, or register an ExceptionHandler to catch the exception and transform it to the response you want.","body":"Either catch the exception in your endpoint (controller) code and return it there, or register an ExceptionHandler to catch the exception and transform it to the response you want."},{"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"score":0,"creation_date":1690193273,"post_id":76752997,"comment_id":135314281,"body_markdown":"I am attempting to catch the exception in the end point.... that&#39;s what the entire question is about.... But having the ENTIRE end point code in a try-catch block does not catch it. This is the issue I have written the question for.","body":"I am attempting to catch the exception in the end point.... that&#39;s what the entire question is about.... But having the ENTIRE end point code in a try-catch block does not catch it. This is the issue I have written the question for."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690196036,"post_id":76752997,"comment_id":135314843,"body_markdown":"You obviously have to catch the exception from where it&#39;s thrown. The stacktrace should tell you that, and I don&#39;t see any `de.myProject` code on top of it. So, it&#39;s not actually thrown from inside your endpoint.","body":"You obviously have to catch the exception from where it&#39;s thrown. The stacktrace should tell you that, and I don&#39;t see any <code>de.myProject</code> code on top of it. So, it&#39;s not actually thrown from inside your endpoint."},{"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"score":0,"creation_date":1690202650,"post_id":76752997,"comment_id":135316273,"body_markdown":"de.myProject is the entire Project, of 15k+ LOC.As written in the question, the Stack Trace points towards the security filter &quot;filterChain.doFilter(request, response);&quot;, not the controller.  The second code snippet is the exact method the Stack Trace points to, it is part of the de.myProject package, as is the first code snipped showing the controller being used.  The controller, which is trying to access the non-existing file, is in a try-catch block, so should not throw the error. It is the only part where the file is attempted to be opened.","body":"de.myProject is the entire Project, of 15k+ LOC.As written in the question, the Stack Trace points towards the security filter &quot;filterChain.doFilter(request, response);&quot;, not the controller.  The second code snippet is the exact method the Stack Trace points to, it is part of the de.myProject package, as is the first code snipped showing the controller being used.  The controller, which is trying to access the non-existing file, is in a try-catch block, so should not throw the error. It is the only part where the file is attempted to be opened."}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690192595,"creation_date":1690192595,"answer_id":76753327,"question_id":76752997,"body_markdown":"Try to add \r\n\r\n\r\n    ...        \r\n        default -&gt; {\r\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n        if (!Files.exists(path)) {\r\n          throw new FileNotFoundException()\r\n        }\r\n        resource = new UrlResource(fileBasePath.toUri());\r\n     ...\r\n`","title":"Spring Boot: io.FileNotFound Exception when returning a file not cought by try - catch block","body":"<p>Try to add</p>\n<pre><code>...        \n    default -&gt; {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n        }\n    }\n    if (!Files.exists(path)) {\n      throw new FileNotFoundException()\n    }\n    resource = new UrlResource(fileBasePath.toUri());\n ...\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76753327,"answer_count":1,"score":0,"last_activity_date":1690192595,"creation_date":1690190165,"question_id":76752997,"body_markdown":"I want to return a Zip file from the server.\r\nFor files that are present it works as expected, the file gets returned ans all is fine.\r\nMy issue is for files that do not exist.\r\nHere I want to return an 404-Error, but currently a 500 is returned because the \r\n&quot;java.io.FileNotFoundException : URL [...] cannot be resolved in the file system for checking its content length&quot; Exepction is not cought in the controller.\r\n\r\nHere is my code for the controller:\r\n\r\n```\r\n@GetMapping(&quot;analysis/daily/{year}/{month}/{day}/{mode}&quot;)\r\npublic ResponseEntity&lt;Resource&gt; getDailyAnalysis(\r\n@PathVariable(&quot;year&quot;) int year, \r\n@PathVariable(&quot;month&quot;) int month,\r\n@PathVariable(&quot;day&quot;) int day, \r\n@PathVariable(&quot;mode&quot;) AnalysisSelection type) {\r\n    try {\r\n        Resource resource;\r\n        Path fileBasePath = Path.of(&quot;Analysis&quot;, &quot;ZIP&quot;, &quot;Daily&quot;,\r\n                String.valueOf(year),\r\n                String.valueOf(month),\r\n                String.valueOf(day));\r\n        switch (type) {\r\n            case ByItem -&gt; {\r\n                fileBasePath = fileBasePath.resolve(&quot;SingleItemAnalysis.zip&quot;);\r\n            }\r\n            case ByAuthor -&gt; {\r\n                fileBasePath = fileBasePath.resolve(&quot;Author.zip&quot;);\r\n            }\r\n            case ByType -&gt; {\r\n                fileBasePath = fileBasePath.resolve(&quot;Type.zip&quot;);\r\n            }\r\n            case ByIndustry -&gt; {\r\n                fileBasePath = fileBasePath.resolve(&quot;Industry.zip&quot;);\r\n            }\r\n            default -&gt; {\r\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n        resource = new UrlResource(fileBasePath.toUri());\r\n        return ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resource.getFilename() + &quot;\\&quot;&quot;)\r\n                .body(resource);\r\n    } catch (Exception e) {\r\n        //e.printStackTrace();\r\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWeirdly, the stack trace points towards the Spring Security JWT-Token implementation:\r\nspecifically this line: &quot;filterChain.doFilter(request, response);&quot;\r\n\r\n```\r\n@Override\r\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    String jwt = getJwtFromRequest(request);\r\n\r\n    if (StringUtils.hasText(jwt) &amp;&amp; jwtTokenProvider.validateToken(jwt)) {\r\n        String mail = jwtTokenProvider.getUserMailFromToken(jwt);\r\n        UserDetails userDetails = appUserDetailedService.loadUserByUsername(mail);\r\n        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\r\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    }\r\n\r\n    filterChain.doFilter(request, response);\r\n}\r\n```\r\n\r\nHere is the entire Stack Trace:\r\n\r\n```\r\n\r\n\r\njava.io.FileNotFoundException: URL [file:/C:/Users/walter/Documents/digitales2go/backend/Analysis/ZIP/Daily/2023/7/18/Author.zip] cannot be resolved in the file system for checking its content length\r\n\r\n        at org.springframework.core.io.AbstractFileResolvingResource.contentLength(AbstractFileResolvingResource.java:240)                                                                             \r\n\r\n        at org.springframework.http.converter.ResourceHttpMessageConverter.getContentLength(ResourceHttpMessageConverter.java:121)\r\n\r\n        at org.springframework.http.converter.ResourceHttpMessageConverter.getContentLength(ResourceHttpMessageConverter.java:45)\r\n\r\n        at org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\r\n\r\n        at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\r\n\r\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\r\n\r\n        at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\r\n\r\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n       at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at de.myProject.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\nAny ideas on how  to make sure the proper HTTP error is returned?\r\n\r\nSee code above for details","title":"Spring Boot: io.FileNotFound Exception when returning a file not cought by try - catch block","body":"<p>I want to return a Zip file from the server.\nFor files that are present it works as expected, the file gets returned ans all is fine.\nMy issue is for files that do not exist.\nHere I want to return an 404-Error, but currently a 500 is returned because the\n&quot;java.io.FileNotFoundException : URL [...] cannot be resolved in the file system for checking its content length&quot; Exepction is not cought in the controller.</p>\n<p>Here is my code for the controller:</p>\n<pre><code>@GetMapping(&quot;analysis/daily/{year}/{month}/{day}/{mode}&quot;)\npublic ResponseEntity&lt;Resource&gt; getDailyAnalysis(\n@PathVariable(&quot;year&quot;) int year, \n@PathVariable(&quot;month&quot;) int month,\n@PathVariable(&quot;day&quot;) int day, \n@PathVariable(&quot;mode&quot;) AnalysisSelection type) {\n    try {\n        Resource resource;\n        Path fileBasePath = Path.of(&quot;Analysis&quot;, &quot;ZIP&quot;, &quot;Daily&quot;,\n                String.valueOf(year),\n                String.valueOf(month),\n                String.valueOf(day));\n        switch (type) {\n            case ByItem -&gt; {\n                fileBasePath = fileBasePath.resolve(&quot;SingleItemAnalysis.zip&quot;);\n            }\n            case ByAuthor -&gt; {\n                fileBasePath = fileBasePath.resolve(&quot;Author.zip&quot;);\n            }\n            case ByType -&gt; {\n                fileBasePath = fileBasePath.resolve(&quot;Type.zip&quot;);\n            }\n            case ByIndustry -&gt; {\n                fileBasePath = fileBasePath.resolve(&quot;Industry.zip&quot;);\n            }\n            default -&gt; {\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n            }\n        }\n        resource = new UrlResource(fileBasePath.toUri());\n        return ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resource.getFilename() + &quot;\\&quot;&quot;)\n                .body(resource);\n    } catch (Exception e) {\n        //e.printStackTrace();\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p>Weirdly, the stack trace points towards the Spring Security JWT-Token implementation:\nspecifically this line: &quot;filterChain.doFilter(request, response);&quot;</p>\n<pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String jwt = getJwtFromRequest(request);\n\n    if (StringUtils.hasText(jwt) &amp;&amp; jwtTokenProvider.validateToken(jwt)) {\n        String mail = jwtTokenProvider.getUserMailFromToken(jwt);\n        UserDetails userDetails = appUserDetailedService.loadUserByUsername(mail);\n        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    }\n\n    filterChain.doFilter(request, response);\n}\n</code></pre>\n<p>Here is the entire Stack Trace:</p>\n<pre><code>\n\njava.io.FileNotFoundException: URL [file:/C:/Users/walter/Documents/digitales2go/backend/Analysis/ZIP/Daily/2023/7/18/Author.zip] cannot be resolved in the file system for checking its content length\n\n        at org.springframework.core.io.AbstractFileResolvingResource.contentLength(AbstractFileResolvingResource.java:240)                                                                             \n\n        at org.springframework.http.converter.ResourceHttpMessageConverter.getContentLength(ResourceHttpMessageConverter.java:121)\n\n        at org.springframework.http.converter.ResourceHttpMessageConverter.getContentLength(ResourceHttpMessageConverter.java:45)\n\n        at org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\n\n        at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\n\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\n\n        at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\n\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n       at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at de.myProject.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\n        at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>Any ideas on how  to make sure the proper HTTP error is returned?</p>\n<p>See code above for details</p>\n"},{"tags":["java","spring","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1690199444,"post_id":76753322,"comment_id":135315504,"body_markdown":"have you tried inspecting what is sent in the request body? `jsonBody` is a `JSONObject`, so Spring will try to use an `HttpMessageConverter` to convert it to a `String`. Also, try to create your request with `new HttpEntity&lt;&gt;(jsonBody.toString(), headers);`","body":"have you tried inspecting what is sent in the request body? <code>jsonBody</code> is a <code>JSONObject</code>, so Spring will try to use an <code>HttpMessageConverter</code> to convert it to a <code>String</code>. Also, try to create your request with <code>new HttpEntity&lt;&gt;(jsonBody.toString(), headers);</code>"},{"owner":{"account_id":26909570,"reputation":23,"user_id":20485378,"display_name":"Splatted I0I"},"score":0,"creation_date":1690267177,"post_id":76753322,"comment_id":135325370,"body_markdown":"Thanks for the reply. When i output the request body it seems to be in JSON format:\n{&quot;data&quot;:[{&quot;size&quot;:&quot;45&quot;,&quot;color&quot;:&quot;Green&quot;,&quot;ext_article_nr&quot;:&quot;e001&quot;,&quot;intern_art_nr&quot;:&quot;i001&quot;,&quot;ean_numeric&quot;:420,&quot;article_name&quot;:&quot;Flip Flops&quot;,&quot;season&quot;:&quot;Summer&quot;,&quot;brand&quot;:&quot;Gucci&quot;,&quot;group&quot;:&quot;No Group&quot;,&quot;article_link&quot;:&quot;http://dummyimage.com/102x100.png/dddddd/000000&quot;}],&quot;total_count&quot;:8,&quot;count&quot;:1}","body":"Thanks for the reply. When i output the request body it seems to be in JSON format: {&quot;data&quot;:[{&quot;size&quot;:&quot;45&quot;,&quot;color&quot;:&quot;Green&quot;,&quot;ext_article_nr&quot;:&quot;e001&zwnj;&#8203;&quot;,&quot;intern_art_nr&quot;:&quot;i&zwnj;&#8203;001&quot;,&quot;ean_numeric&quot;:4&zwnj;&#8203;20,&quot;article_name&quot;:&quot;F&zwnj;&#8203;lip Flops&quot;,&quot;season&quot;:&quot;Summer&quot;,&quot;brand&quot;:&quot;Gucci&quot;,&quot;group&quot;:&quot;No Group&quot;,&quot;article_link&quot;:&quot;<a href=\"http://dummyimage.com/102x100.png/dddddd/000000\" rel=\"nofollow noreferrer\">dummyimage.com/102x100.png/dddddd/000&zwnj;&#8203;000</a>&quot;}],&quot;total_count&quot;&zwnj;&#8203;:8,&quot;count&quot;:1}"}],"owner":{"account_id":26909570,"reputation":23,"user_id":20485378,"display_name":"Splatted I0I"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690192580,"creation_date":1690192580,"question_id":76753322,"body_markdown":"Im trying to call a POST Endpoint that requires an **API-Key** using RestTemplate but i keep receiving a **403 Forbidden** HttpClientErrorException. GET with the same authorization headers works fine so I think the API-Key auth works. \r\nThe only time I get a 403 on the same endpoint using Postman is if I don&#39;t send a body but when I output the HttpEntities body it&#39;s not null. \r\nMy only guess is that I made a mistake with the **HttpEntity** and the **restTemplate.exchange** somehow doesn&#39;t send a body: \r\n\r\n    Heres the code: \r\n    \r\n        package at.acl.articledata.connector.smokeTest;\r\n    \r\n    \r\n    import at.acl.articledata.connector.pojos.request.Article;\r\n    import com.fasterxml.jackson.databind.util.JSONPObject;\r\n    import io.swagger.v3.core.util.Json;\r\n    import jakarta.annotation.PostConstruct;\r\n    import org.apache.coyote.Response;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.http.*;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    \r\n    import java.math.BigDecimal;\r\n    import java.util.Collections;\r\n    \r\n    @Component\r\n    public class SmokeTest {\r\n    \r\n        @Autowired\r\n        RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        @PostConstruct\r\n        private void floodDatabase(){\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            headers.add(&quot;X-API-KEY&quot;, &quot;myApiKey&quot;);\r\n    \r\n            JSONObject jsonArticle = new JSONObject();\r\n            jsonArticle.put(&quot;ext_article_nr&quot;, &quot;e001&quot;);\r\n            jsonArticle.put(&quot;ean_numeric&quot;, BigDecimal.valueOf(420));\r\n            jsonArticle.put(&quot;intern_art_nr&quot;, &quot;i001&quot;);\r\n            jsonArticle.put(&quot;article_name&quot;, &quot;Flip Flops&quot;);\r\n            jsonArticle.put(&quot;size&quot;, &quot;45&quot;);\r\n            jsonArticle.put(&quot;color&quot;, &quot;Green&quot;);\r\n            jsonArticle.put(&quot;group&quot;, &quot;No Group&quot;);\r\n            jsonArticle.put(&quot;brand&quot;, &quot;Gucci&quot;);\r\n            jsonArticle.put(&quot;season&quot;, &quot;Summer&quot;);\r\n            jsonArticle.put(&quot;article_link&quot;, &quot;http://dummyimage.com/102x100.png/dddddd/000000&quot;);\r\n    \r\n            JSONArray jsonArticleArray = new JSONArray();\r\n            jsonArticleArray.put(jsonArticle);\r\n    \r\n            JSONObject jsonBody = new JSONObject();\r\n            jsonBody.put(&quot;count&quot;, 1);\r\n            jsonBody.put(&quot;total_count&quot;, 8);\r\n            jsonBody.put(&quot;data&quot;, jsonArticleArray);\r\n    \r\n            HttpEntity&lt;JSONObject&gt; request = new HttpEntity&lt;&gt;(jsonBody, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;correctServerIP&quot;, HttpMethod.POST, request, String.class);\r\n            System.out.println(&quot;Post Response: &quot; + response);\r\n        }\r\n    }\r\n\r\nAny help would be appreciated\r\n","title":"RestTemplate POST 403 response but HTTPEntity body is not null","body":"<p>Im trying to call a POST Endpoint that requires an <strong>API-Key</strong> using RestTemplate but i keep receiving a <strong>403 Forbidden</strong> HttpClientErrorException. GET with the same authorization headers works fine so I think the API-Key auth works.\nThe only time I get a 403 on the same endpoint using Postman is if I don't send a body but when I output the HttpEntities body it's not null.\nMy only guess is that I made a mistake with the <strong>HttpEntity</strong> and the <strong>restTemplate.exchange</strong> somehow doesn't send a body:</p>\n<pre><code>Heres the code: \n\n    package at.acl.articledata.connector.smokeTest;\n\n\nimport at.acl.articledata.connector.pojos.request.Article;\nimport com.fasterxml.jackson.databind.util.JSONPObject;\nimport io.swagger.v3.core.util.Json;\nimport jakarta.annotation.PostConstruct;\nimport org.apache.coyote.Response;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.*;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestTemplate;\n\n\nimport java.math.BigDecimal;\nimport java.util.Collections;\n\n@Component\npublic class SmokeTest {\n\n    @Autowired\n    RestTemplate restTemplate = new RestTemplate();\n\n    @PostConstruct\n    private void floodDatabase(){\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        headers.add(&quot;X-API-KEY&quot;, &quot;myApiKey&quot;);\n\n        JSONObject jsonArticle = new JSONObject();\n        jsonArticle.put(&quot;ext_article_nr&quot;, &quot;e001&quot;);\n        jsonArticle.put(&quot;ean_numeric&quot;, BigDecimal.valueOf(420));\n        jsonArticle.put(&quot;intern_art_nr&quot;, &quot;i001&quot;);\n        jsonArticle.put(&quot;article_name&quot;, &quot;Flip Flops&quot;);\n        jsonArticle.put(&quot;size&quot;, &quot;45&quot;);\n        jsonArticle.put(&quot;color&quot;, &quot;Green&quot;);\n        jsonArticle.put(&quot;group&quot;, &quot;No Group&quot;);\n        jsonArticle.put(&quot;brand&quot;, &quot;Gucci&quot;);\n        jsonArticle.put(&quot;season&quot;, &quot;Summer&quot;);\n        jsonArticle.put(&quot;article_link&quot;, &quot;http://dummyimage.com/102x100.png/dddddd/000000&quot;);\n\n        JSONArray jsonArticleArray = new JSONArray();\n        jsonArticleArray.put(jsonArticle);\n\n        JSONObject jsonBody = new JSONObject();\n        jsonBody.put(&quot;count&quot;, 1);\n        jsonBody.put(&quot;total_count&quot;, 8);\n        jsonBody.put(&quot;data&quot;, jsonArticleArray);\n\n        HttpEntity&lt;JSONObject&gt; request = new HttpEntity&lt;&gt;(jsonBody, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;correctServerIP&quot;, HttpMethod.POST, request, String.class);\n        System.out.println(&quot;Post Response: &quot; + response);\n    }\n}\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","apache-flink","flink-streaming","djl"],"answers":[{"comments":[{"owner":{"account_id":10631702,"reputation":347,"user_id":7829642,"display_name":"Taras Danylchenko"},"score":0,"creation_date":1690223930,"post_id":76753295,"comment_id":135320565,"body_markdown":"For example that i linked those dependencies need. If i delete them i will get error like \n`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/flink/shaded/asm9/org/objectweb/asm/ClassVisitor`","body":"For example that i linked those dependencies need. If i delete them i will get error like  <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org&#47;apache&#47;flink&#47;shaded&#47;asm9&#47;org&#47;objectweb&#47;asm&#47;ClassVisitor</code>"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1690288038,"post_id":76753295,"comment_id":135329680,"body_markdown":"I&#39;m not sure how you can need them: they are strictly there for Flink to work internally. We just shade them to avoid that if users really have a requirement on those dependencies, they can include themselves without having to deal with version clashes. \n\nIf you are trying to run it locally, are you making sure that you&#39;re setting your IDE to include dependencies that are marked as `provided` on the classpath?","body":"I&#39;m not sure how you can need them: they are strictly there for Flink to work internally. We just shade them to avoid that if users really have a requirement on those dependencies, they can include themselves without having to deal with version clashes.   If you are trying to run it locally, are you making sure that you&#39;re setting your IDE to include dependencies that are marked as <code>provided</code> on the classpath?"},{"owner":{"account_id":10631702,"reputation":347,"user_id":7829642,"display_name":"Taras Danylchenko"},"score":0,"creation_date":1690399432,"post_id":76753295,"comment_id":135349869,"body_markdown":"Yes, i add in run configuration settings &quot;add dependencies with provided scope to the classpath&quot;","body":"Yes, i add in run configuration settings &quot;add dependencies with provided scope to the classpath&quot;"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1690448654,"post_id":76753295,"comment_id":135356303,"body_markdown":"Looking at the repo you&#39;ve linked, that uses Flink 1.14. I&#39;m suspecting that it relies on internal implementations that might have been broken in Flink 1.15 or newer versions.","body":"Looking at the repo you&#39;ve linked, that uses Flink 1.14. I&#39;m suspecting that it relies on internal implementations that might have been broken in Flink 1.15 or newer versions."},{"owner":{"account_id":10631702,"reputation":347,"user_id":7829642,"display_name":"Taras Danylchenko"},"score":0,"creation_date":1690452082,"post_id":76753295,"comment_id":135357024,"body_markdown":"So, better to use old versions rather than new one (1.17) ?","body":"So, better to use old versions rather than new one (1.17) ?"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1690537441,"post_id":76753295,"comment_id":135370981,"body_markdown":"If you want to use that repository, there&#39;s no other choice except asking the repo maintainers to update it to support the latest version or forking that repo, make it compatible with newer version and potentially contribute it back.","body":"If you want to use that repository, there&#39;s no other choice except asking the repo maintainers to update it to support the latest version or forking that repo, make it compatible with newer version and potentially contribute it back."}],"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690192425,"creation_date":1690192425,"answer_id":76753295,"question_id":76732831,"body_markdown":"You have dependencies in here which don&#39;t make a lot of sense (like `flink-shaded-asm-9`, `flink-shaded-guava`, `flink-rpc-core` etc). On https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/configuration/overview/ is explained what you need to have in there. \r\n\r\nIn order to run a DataStream API application, I would only expect:\r\n\r\n```\r\n        &lt;!-- These dependencies are provided, because they should not be packaged into the JAR file. --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThese are also the dependencies if you use the quickstart example. ","title":"org.apache.flink.runtime.rpc.exceptions.RpcLoaderException: Could not load RpcSystem","body":"<p>You have dependencies in here which don't make a lot of sense (like <code>flink-shaded-asm-9</code>, <code>flink-shaded-guava</code>, <code>flink-rpc-core</code> etc). On <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/configuration/overview/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/configuration/overview/</a> is explained what you need to have in there.</p>\n<p>In order to run a DataStream API application, I would only expect:</p>\n<pre><code>        &lt;!-- These dependencies are provided, because they should not be packaged into the JAR file. --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>These are also the dependencies if you use the quickstart example.</p>\n"}],"owner":{"account_id":10631702,"reputation":347,"user_id":7829642,"display_name":"Taras Danylchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690192425,"creation_date":1689878288,"question_id":76732831,"body_markdown":"Im trying to run this example [Sentence Encoder][1] with apach flink v. 1.17.0\r\n&lt;br&gt; But when i start app i get error &lt;br&gt;\r\n\r\n    Exception in thread &quot;main&quot; org.apache.flink.runtime.rpc.exceptions.RpcLoaderException: Could not load RpcSystem.\r\n    \tat org.apache.flink.runtime.rpc.RpcSystem.load(RpcSystem.java:106)\r\n    \tat org.apache.flink.runtime.minicluster.MiniCluster.lambda$new$0(MiniCluster.java:253)\r\n    \tat org.apache.flink.runtime.minicluster.MiniCluster.start(MiniCluster.java:339)\r\n    \tat org.apache.flink.client.program.PerJobMiniClusterFactory.submitJob(PerJobMiniClusterFactory.java:77)\r\n   \r\n\r\nDont understand why it cause, even if simple text server started by ncat(on WIN).&lt;br&gt;\r\nMy pom.xml is &lt;br&gt;\r\n\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ai.djl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n                &lt;version&gt;0.23.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-shaded-asm-9&lt;/artifactId&gt;\r\n                &lt;version&gt;9.5-17.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-metrics-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-shaded-guava&lt;/artifactId&gt;\r\n                &lt;version&gt;30.1.1-jre-16.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-rpc-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-optimizer&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flink-shaded-netty&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.91.Final-17.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.esotericsoftware&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kryo&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nIt looks like something new as exception cause i dont found any theme like about this one.&lt;br&gt;\r\nIn debug mode it fails when tried to proceed **Iterator&lt;RpcSystemLoader&gt; iterator = ServiceLoader.load(RpcSystemLoader.class).iterator();** in RpcSystem class\r\n\r\n  [1]: https://github.com/deepjavalibrary/djl-demo/blob/master/apache-flink/sentence_embedding/src/main/java/com/example/SentenceEncoder.java","title":"org.apache.flink.runtime.rpc.exceptions.RpcLoaderException: Could not load RpcSystem","body":"<p>Im trying to run this example <a href=\"https://github.com/deepjavalibrary/djl-demo/blob/master/apache-flink/sentence_embedding/src/main/java/com/example/SentenceEncoder.java\" rel=\"nofollow noreferrer\">Sentence Encoder</a> with apach flink v. 1.17.0\n<br> But when i start app i get error <br></p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.runtime.rpc.exceptions.RpcLoaderException: Could not load RpcSystem.\n    at org.apache.flink.runtime.rpc.RpcSystem.load(RpcSystem.java:106)\n    at org.apache.flink.runtime.minicluster.MiniCluster.lambda$new$0(MiniCluster.java:253)\n    at org.apache.flink.runtime.minicluster.MiniCluster.start(MiniCluster.java:339)\n    at org.apache.flink.client.program.PerJobMiniClusterFactory.submitJob(PerJobMiniClusterFactory.java:77)\n</code></pre>\n<p>Dont understand why it cause, even if simple text server started by ncat(on WIN).<br>\nMy pom.xml is <br></p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ai.djl&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;0.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-shaded-asm-9&lt;/artifactId&gt;\n            &lt;version&gt;9.5-17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-metrics-core&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-shaded-guava&lt;/artifactId&gt;\n            &lt;version&gt;30.1.1-jre-16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-rpc-core&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-optimizer&lt;/artifactId&gt;\n            &lt;version&gt;1.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-shaded-netty&lt;/artifactId&gt;\n            &lt;version&gt;4.1.91.Final-17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.esotericsoftware&lt;/groupId&gt;\n            &lt;artifactId&gt;kryo&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>It looks like something new as exception cause i dont found any theme like about this one.<br>\nIn debug mode it fails when tried to proceed <strong>Iterator iterator = ServiceLoader.load(RpcSystemLoader.class).iterator();</strong> in RpcSystem class</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1689767804,"post_id":76720950,"comment_id":135259310,"body_markdown":"Are the tomcat and the working java application running on the same machine? If not, then is it a connectivity issue from the host to the DB server? Or perhaps it is a configuration issue. How are you getting the connection string, username, etc. into the java code? Via config, ENV or hard coded? Is there an issue with something there?","body":"Are the tomcat and the working java application running on the same machine? If not, then is it a connectivity issue from the host to the DB server? Or perhaps it is a configuration issue. How are you getting the connection string, username, etc. into the java code? Via config, ENV or hard coded? Is there an issue with something there?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689769773,"post_id":76720950,"comment_id":135259785,"body_markdown":"*Debugging the JDBC code, the values are all correct (jdbc connection string, user, and password)* What&#39;s the value of the first of these?","body":"<i>Debugging the JDBC code, the values are all correct (jdbc connection string, user, and password)</i> What&#39;s the value of the first of these?"},{"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"score":0,"creation_date":1690197265,"post_id":76720950,"comment_id":135315078,"body_markdown":"Issue is resolved. Was just a subtle firewall configuration item.","body":"Issue is resolved. Was just a subtle firewall configuration item."}],"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690192354,"creation_date":1689767016,"question_id":76720950,"body_markdown":"I have a SpringBoot app that&#39;s using Connection Pooling. Thanks to Tim for that suggestion.\r\n\r\nWhen I run this app inside Tomcat normally (that is, not in debug mode), it all works great. Deploys, etc.\r\n\r\nBut, if I try to run the app in debug mode (catalina.sh jpda start), it fails with:\r\n\r\n    23-Jul-2023 10:18:11.906 SEVERE [main] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\r\n    com.filemaker.jdbc.FMSQLException: [FileMaker][FileMaker JDBC] Connection refused: Bad file descriptor\r\n    at com.filemaker.jdbc1.CommonJ1Connection.openConnection(Unknown Source)\r\n    at com.filemaker.jdbc.Driver.connect(Unknown Source)\r\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:346)\r\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\r\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:775)\r\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:703)\r\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:502)\r\n    .\r\n    .\r\n    .\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: com.filemaker.jdbc.FMSQLException: [FileMaker][FileMaker JDBC] Connection refused: Bad file descriptor\r\n\r\nThen, if I go back into the web app and change the JDBC from FileMaker to MySQL or to SQL Server, debug works fine. No errors.\r\n\r\nCan I assume from these tests that there&#39;s something goofy going on with this Claris, Type III, JDBC driver?\r\n\r\nI&#39;m on the latest version of SpringBoot 2.x, Java 17. ","title":"JDBC in Tomcat - Why getting &quot;Connection Refused Bad File Descriptor&quot;?","body":"<p>I have a SpringBoot app that's using Connection Pooling. Thanks to Tim for that suggestion.</p>\n<p>When I run this app inside Tomcat normally (that is, not in debug mode), it all works great. Deploys, etc.</p>\n<p>But, if I try to run the app in debug mode (catalina.sh jpda start), it fails with:</p>\n<pre><code>23-Jul-2023 10:18:11.906 SEVERE [main] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\ncom.filemaker.jdbc.FMSQLException: [FileMaker][FileMaker JDBC] Connection refused: Bad file descriptor\nat com.filemaker.jdbc1.CommonJ1Connection.openConnection(Unknown Source)\nat com.filemaker.jdbc.Driver.connect(Unknown Source)\nat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:346)\nat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:775)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:703)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:502)\n.\n.\n.\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: com.filemaker.jdbc.FMSQLException: [FileMaker][FileMaker JDBC] Connection refused: Bad file descriptor\n</code></pre>\n<p>Then, if I go back into the web app and change the JDBC from FileMaker to MySQL or to SQL Server, debug works fine. No errors.</p>\n<p>Can I assume from these tests that there's something goofy going on with this Claris, Type III, JDBC driver?</p>\n<p>I'm on the latest version of SpringBoot 2.x, Java 17.</p>\n"},{"tags":["java","video","avi"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689371033,"post_id":76690202,"comment_id":135209469,"body_markdown":"I&#39;m not familiar with it, but is it possible that it needs an additional dependency to provide support for the file format? Just an thought.","body":"I&#39;m not familiar with it, but is it possible that it needs an additional dependency to provide support for the file format? Just an thought."},{"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"score":0,"creation_date":1689452682,"post_id":76690202,"comment_id":135216565,"body_markdown":"Thanks! I think you were on to something, I have added 2 more dependencies:\n`ch.randelshofer:org.monte.media:17.1` and `ch.randelshofer:org.monte.media.swing:17.1` \n\nSwing was used in the old recorder so why not. And I found `AVIWriter` in `org.monte.media` dependency.\n\nUnfortunately it didn&#39;t solve the problem, still same error. It must be some simple mistake, this should work.","body":"Thanks! I think you were on to something, I have added 2 more dependencies: <code>ch.randelshofer:org.monte.media:17.1</code> and <code>ch.randelshofer:org.monte.media.swing:17.1</code>   Swing was used in the old recorder so why not. And I found <code>AVIWriter</code> in <code>org.monte.media</code> dependency.  Unfortunately it didn&#39;t solve the problem, still same error. It must be some simple mistake, this should work."},{"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"score":1,"creation_date":1689711015,"post_id":76690202,"comment_id":135251653,"body_markdown":"Ok so the biggest difference was made by adding `module-info.java` and thoroughly cleaning up IntelliJ. A working example of this is now shown [here](https://github.com/sikorka/screencorder/tree/master/com.github.sikorka.util.screen/src/main/java).","body":"Ok so the biggest difference was made by adding <code>module-info.java</code> and thoroughly cleaning up IntelliJ. A working example of this is now shown <a href=\"https://github.com/sikorka/screencorder/tree/master/com.github.sikorka.util.screen/src/main/java\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689715432,"post_id":76690202,"comment_id":135252314,"body_markdown":"I&#39;m glad you got it working! You can add an answer to your own question with the solution. Self-answering is totally okay on SO and it will probably help others in the future.","body":"I&#39;m glad you got it working! You can add an answer to your own question with the solution. Self-answering is totally okay on SO and it will probably help others in the future."},{"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"score":0,"creation_date":1689797810,"post_id":76690202,"comment_id":135266296,"body_markdown":"Thanks! Will do :)","body":"Thanks! Will do :)"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690121127,"post_id":76724942,"comment_id":135306018,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76724942/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"score":0,"creation_date":1690191999,"post_id":76724942,"comment_id":135314024,"body_markdown":"Done. Hope it looks good :)","body":"Done. Hope it looks good :)"}],"tags":[],"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690191932,"creation_date":1689798181,"answer_id":76724942,"question_id":76690202,"body_markdown":"Adding `module-info.java` and thoroughly cleaning up IntelliJ as described [here](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory) got it working. A simple working example of this is shown [here](https://github.com/sikorka/screencorder). \r\n\r\nSummarising: \r\n\r\n0. you need Java &gt;= 17 on your machine \r\n\r\n1. maven module&#39;s `pom.xml` has 3 main MonteMedia dependencies: \r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.monte.media.screenrecorder&lt;/artifactId&gt;\r\n            &lt;version&gt;17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.monte.media&lt;/artifactId&gt;\r\n            &lt;version&gt;17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.monte.media.swing&lt;/artifactId&gt;\r\n            &lt;version&gt;17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n2. `src/main/java` needs a `module.info` with those dependencies and some additional ones required by them + an export to use the module in a test: \r\n\r\n```\r\nmodule com.your.path.util.screen { //&lt;= this is the maven module name too\r\n    requires java.desktop;\r\n    requires java.prefs;\r\n\r\n    requires org.monte.media;\r\n    requires org.monte.media.swing;\r\n    requires org.monte.media.screenrecorder;\r\n\r\n    exports com.your.path.util.screen;\r\n}\r\n```\r\n\r\n3. in package `com.your.path.util.screen` there is a class `Screencorder` that will record a movie with everything that&#39;s necessary to start a full screen recording in `start` and `stop` methods: \r\n\r\n```\r\npackage com.your.path.util.screen;\r\n\r\nimport org.monte.media.av.Format;\r\nimport org.monte.media.math.Rational;\r\nimport org.monte.media.screenrecorder.ScreenRecorder;\r\n\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\n\r\nimport static org.monte.media.av.FormatKeys.*;\r\nimport static org.monte.media.av.codec.video.VideoFormatKeys.*;\r\n\r\npublic class Screencorder {\r\n    private ScreenRecorder screenRecorder;\r\n    public final String movieFolder;\r\n\r\n    public void start() throws IOException, AWTException {\r\n        GraphicsConfiguration gc = GraphicsEnvironment\r\n                .getLocalGraphicsEnvironment()\r\n                .getDefaultScreenDevice()\r\n                .getDefaultConfiguration();\r\n\r\n        Format fileFormat = new Format(MediaTypeKey, MediaType.FILE,\r\n                MimeTypeKey, MIME_AVI);\r\n        Format screenFormat = new Format(MediaTypeKey, MediaType.VIDEO,\r\n                EncodingKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\r\n                CompressorNameKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\r\n                DepthKey, 24,\r\n                FrameRateKey, Rational.valueOf(15),\r\n                QualityKey, 1.0f,\r\n                KeyFrameIntervalKey, (15 * 60));\r\n        Format mouseFormat = new Format(MediaTypeKey, MediaType.VIDEO,\r\n                EncodingKey, ScreenRecorder.ENCODING_BLACK_CURSOR,\r\n                FrameRateKey, Rational.valueOf(30));\r\n\r\n        screenRecorder = new ScreenRecorder(gc, null,\r\n                fileFormat, screenFormat, mouseFormat,\r\n                null, new File(movieFolder));\r\n\r\n        screenRecorder.start();\r\n    }\r\n\r\n    public void stop() throws IOException {\r\n        screenRecorder.stop();\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException, AWTException, InterruptedException {\r\n        Screencorder recorder = new Screencorder();\r\n\r\n        recorder.start();\r\n        Thread.sleep(Duration.ofSeconds(7).toMillis());\r\n        recorder.stop();\r\n    }\r\n\r\n    public Screencorder() {\r\n        if (System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;)) {\r\n            movieFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Videos&quot;;\r\n        } else {\r\n            movieFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Movies&quot;;\r\n        }\r\n\r\n        File movieDir = new File(movieFolder);\r\n        if (!movieDir.exists()) {\r\n            movieDir.mkdirs();\r\n        }\r\n    }\r\n\r\n    public String getMovieFolder() {\r\n        return movieFolder;\r\n    }\r\n}\r\n```\r\n\r\n4. `src/test/java` needs a `module.info` as well - it will require the above module and test libraries + it will open itself for reflection to `junit`: \r\n\r\n```\r\nmodule com.your.path.util.screen.test {\r\n    requires com.your.path.util.screen;\r\n    requires org.junit.jupiter.api;\r\n    requires hamcrest.all;\r\n\r\n    opens com.your.path.util.screen.test to org.junit.platform.commons;\r\n}\r\n```\r\n\r\n5. the test package needs to be different than for main code, for example `com.your.path.util.screen.test`, the test class goes in here \r\n\r\n6. In case of problems with IntelliJ: after cleaning as described above, the module `com.your.path.util.screen` needs to have selected the MonteMedia dependencies in **Module Settings &gt; com.your.path.util.screen &gt; Dependencies &gt; chec 3 MonteMedia dependencies** (same as in `pom.xml`) \r\n\r\nNow you can run `main()` method in IntelliJ as well as the test. ","title":"How to record screen in Java, using newest MonteMedia ScreenRecorder?","body":"<p>Adding <code>module-info.java</code> and thoroughly cleaning up IntelliJ as described <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory\" rel=\"nofollow noreferrer\">here</a> got it working. A simple working example of this is shown <a href=\"https://github.com/sikorka/screencorder\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Summarising:</p>\n<ol start=\"0\">\n<li><p>you need Java &gt;= 17 on your machine</p>\n</li>\n<li><p>maven module's <code>pom.xml</code> has 3 main MonteMedia dependencies:</p>\n</li>\n</ol>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\n            &lt;artifactId&gt;org.monte.media.screenrecorder&lt;/artifactId&gt;\n            &lt;version&gt;17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\n            &lt;artifactId&gt;org.monte.media&lt;/artifactId&gt;\n            &lt;version&gt;17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\n            &lt;artifactId&gt;org.monte.media.swing&lt;/artifactId&gt;\n            &lt;version&gt;17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ol start=\"2\">\n<li><code>src/main/java</code> needs a <code>module.info</code> with those dependencies and some additional ones required by them + an export to use the module in a test:</li>\n</ol>\n<pre><code>module com.your.path.util.screen { //&lt;= this is the maven module name too\n    requires java.desktop;\n    requires java.prefs;\n\n    requires org.monte.media;\n    requires org.monte.media.swing;\n    requires org.monte.media.screenrecorder;\n\n    exports com.your.path.util.screen;\n}\n</code></pre>\n<ol start=\"3\">\n<li>in package <code>com.your.path.util.screen</code> there is a class <code>Screencorder</code> that will record a movie with everything that's necessary to start a full screen recording in <code>start</code> and <code>stop</code> methods:</li>\n</ol>\n<pre><code>package com.your.path.util.screen;\n\nimport org.monte.media.av.Format;\nimport org.monte.media.math.Rational;\nimport org.monte.media.screenrecorder.ScreenRecorder;\n\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.Duration;\n\nimport static org.monte.media.av.FormatKeys.*;\nimport static org.monte.media.av.codec.video.VideoFormatKeys.*;\n\npublic class Screencorder {\n    private ScreenRecorder screenRecorder;\n    public final String movieFolder;\n\n    public void start() throws IOException, AWTException {\n        GraphicsConfiguration gc = GraphicsEnvironment\n                .getLocalGraphicsEnvironment()\n                .getDefaultScreenDevice()\n                .getDefaultConfiguration();\n\n        Format fileFormat = new Format(MediaTypeKey, MediaType.FILE,\n                MimeTypeKey, MIME_AVI);\n        Format screenFormat = new Format(MediaTypeKey, MediaType.VIDEO,\n                EncodingKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\n                CompressorNameKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\n                DepthKey, 24,\n                FrameRateKey, Rational.valueOf(15),\n                QualityKey, 1.0f,\n                KeyFrameIntervalKey, (15 * 60));\n        Format mouseFormat = new Format(MediaTypeKey, MediaType.VIDEO,\n                EncodingKey, ScreenRecorder.ENCODING_BLACK_CURSOR,\n                FrameRateKey, Rational.valueOf(30));\n\n        screenRecorder = new ScreenRecorder(gc, null,\n                fileFormat, screenFormat, mouseFormat,\n                null, new File(movieFolder));\n\n        screenRecorder.start();\n    }\n\n    public void stop() throws IOException {\n        screenRecorder.stop();\n    }\n\n    public static void main(String[] args) throws IOException, AWTException, InterruptedException {\n        Screencorder recorder = new Screencorder();\n\n        recorder.start();\n        Thread.sleep(Duration.ofSeconds(7).toMillis());\n        recorder.stop();\n    }\n\n    public Screencorder() {\n        if (System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;)) {\n            movieFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Videos&quot;;\n        } else {\n            movieFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Movies&quot;;\n        }\n\n        File movieDir = new File(movieFolder);\n        if (!movieDir.exists()) {\n            movieDir.mkdirs();\n        }\n    }\n\n    public String getMovieFolder() {\n        return movieFolder;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li><code>src/test/java</code> needs a <code>module.info</code> as well - it will require the above module and test libraries + it will open itself for reflection to <code>junit</code>:</li>\n</ol>\n<pre><code>module com.your.path.util.screen.test {\n    requires com.your.path.util.screen;\n    requires org.junit.jupiter.api;\n    requires hamcrest.all;\n\n    opens com.your.path.util.screen.test to org.junit.platform.commons;\n}\n</code></pre>\n<ol start=\"5\">\n<li><p>the test package needs to be different than for main code, for example <code>com.your.path.util.screen.test</code>, the test class goes in here</p>\n</li>\n<li><p>In case of problems with IntelliJ: after cleaning as described above, the module <code>com.your.path.util.screen</code> needs to have selected the MonteMedia dependencies in <strong>Module Settings &gt; com.your.path.util.screen &gt; Dependencies &gt; chec 3 MonteMedia dependencies</strong> (same as in <code>pom.xml</code>)</p>\n</li>\n</ol>\n<p>Now you can run <code>main()</code> method in IntelliJ as well as the test.</p>\n"}],"owner":{"account_id":9518991,"reputation":31,"user_id":7074455,"display_name":"Anna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690191932,"creation_date":1689358153,"question_id":76690202,"body_markdown":"I am trying to record screen in Java, using newest MonteMedia ScreenRecorder:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;org.monte.media&lt;/artifactId&gt;\r\n  &lt;version&gt;17.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy code is similar to many examples I could find of usage of the library - however older version as I found no examples for the new one - so packages are different:\r\n\r\n```\r\nimport org.monte.media.math.Rational;\r\nimport org.monte.media.screenrecorder.ScreenRecorder;\r\nimport org.monte.media.av.Format;\r\nimport org.monte.media.av.FormatKeys.MediaType;\r\nimport static org.monte.media.av.codec.video.VideoFormatKeys.*;\r\n\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Screencorder {\r\n\r\n    private Screencorder() {}\r\n\r\n    public static ScreenRecorder startRecording(String fileName) throws IOException, AWTException {\r\n        GraphicsConfiguration gc = GraphicsEnvironment\r\n                .getLocalGraphicsEnvironment()\r\n                .getDefaultScreenDevice()\r\n                .getDefaultConfiguration();\r\n\r\n        Format fileFormat = new Format(MediaTypeKey, MediaType.FILE, MimeTypeKey, MIME_AVI);\r\n        Format screenFormat = new Format(MediaTypeKey, MediaType.VIDEO, EncodingKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\r\n                CompressorNameKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE, DepthKey, 24, FrameRateKey,\r\n                Rational.valueOf(15), QualityKey, 1.0f, KeyFrameIntervalKey, (15 * 60));\r\n        Format mouseFormat = new Format(MediaTypeKey, MediaType.VIDEO, EncodingKey, ScreenRecorder.ENCODING_BLACK_CURSOR, FrameRateKey, Rational.valueOf(30));\r\n\r\n        ScreenRecorder screenRecorder = new ScreenRecorder(gc, null,\r\n                fileFormat, screenFormat, mouseFormat,\r\n                null, new File(fileName));\r\n\r\n        screenRecorder.start();\r\n\r\n        return screenRecorder;\r\n    }\r\n\r\n    public static void stopRecording(ScreenRecorder screenRecorder) throws IOException {\r\n        screenRecorder.stop();\r\n    }\r\n}\r\n```\r\n\r\nRunning a test:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.monte.media.screenrecorder.ScreenRecorder;\r\nimport java.time.Duration;\r\nimport static org.awaitility.Awaitility.await;\r\n\r\nclass ScreenRecordingTest {\r\n\r\n    @Test\r\n    void recordingTest() throws Exception {\r\n        ScreenRecorder recorder = Screencorder.startRecording(&quot;/tmp/&quot;);\r\n\r\n        Thread.sleep(2000)\r\n\r\n        Screencorder.stopRecording(recorder);\r\n    }\r\n}\r\n```\r\n\r\ngives me:\r\n\r\n```\r\njava.io.IOException: Error no writer found for file format: Format{mimeType:video/avi,mediaType:FILE}.\r\n```\r\n\r\nI tried various JDKs - 17, 20 - without success.   \r\nTried changing directory to a file, same error.   \r\nTried a different MIME type - same error regardless.\r\n\r\nCan someone help how to run this, so it records an `.avi`? Or other movie-like format.\r\n\r\nI hope I am doing some obvious mistake.","title":"How to record screen in Java, using newest MonteMedia ScreenRecorder?","body":"<p>I am trying to record screen in Java, using newest MonteMedia ScreenRecorder:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;ch.randelshofer&lt;/groupId&gt;\n  &lt;artifactId&gt;org.monte.media&lt;/artifactId&gt;\n  &lt;version&gt;17.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My code is similar to many examples I could find of usage of the library - however older version as I found no examples for the new one - so packages are different:</p>\n<pre><code>import org.monte.media.math.Rational;\nimport org.monte.media.screenrecorder.ScreenRecorder;\nimport org.monte.media.av.Format;\nimport org.monte.media.av.FormatKeys.MediaType;\nimport static org.monte.media.av.codec.video.VideoFormatKeys.*;\n\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Screencorder {\n\n    private Screencorder() {}\n\n    public static ScreenRecorder startRecording(String fileName) throws IOException, AWTException {\n        GraphicsConfiguration gc = GraphicsEnvironment\n                .getLocalGraphicsEnvironment()\n                .getDefaultScreenDevice()\n                .getDefaultConfiguration();\n\n        Format fileFormat = new Format(MediaTypeKey, MediaType.FILE, MimeTypeKey, MIME_AVI);\n        Format screenFormat = new Format(MediaTypeKey, MediaType.VIDEO, EncodingKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE,\n                CompressorNameKey, ENCODING_AVI_TECHSMITH_SCREEN_CAPTURE, DepthKey, 24, FrameRateKey,\n                Rational.valueOf(15), QualityKey, 1.0f, KeyFrameIntervalKey, (15 * 60));\n        Format mouseFormat = new Format(MediaTypeKey, MediaType.VIDEO, EncodingKey, ScreenRecorder.ENCODING_BLACK_CURSOR, FrameRateKey, Rational.valueOf(30));\n\n        ScreenRecorder screenRecorder = new ScreenRecorder(gc, null,\n                fileFormat, screenFormat, mouseFormat,\n                null, new File(fileName));\n\n        screenRecorder.start();\n\n        return screenRecorder;\n    }\n\n    public static void stopRecording(ScreenRecorder screenRecorder) throws IOException {\n        screenRecorder.stop();\n    }\n}\n</code></pre>\n<p>Running a test:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.monte.media.screenrecorder.ScreenRecorder;\nimport java.time.Duration;\nimport static org.awaitility.Awaitility.await;\n\nclass ScreenRecordingTest {\n\n    @Test\n    void recordingTest() throws Exception {\n        ScreenRecorder recorder = Screencorder.startRecording(&quot;/tmp/&quot;);\n\n        Thread.sleep(2000)\n\n        Screencorder.stopRecording(recorder);\n    }\n}\n</code></pre>\n<p>gives me:</p>\n<pre><code>java.io.IOException: Error no writer found for file format: Format{mimeType:video/avi,mediaType:FILE}.\n</code></pre>\n<p>I tried various JDKs - 17, 20 - without success.<br />\nTried changing directory to a file, same error.<br />\nTried a different MIME type - same error regardless.</p>\n<p>Can someone help how to run this, so it records an <code>.avi</code>? Or other movie-like format.</p>\n<p>I hope I am doing some obvious mistake.</p>\n"},{"tags":["java","gradle","migration","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1690193590,"post_id":76753214,"comment_id":135314348,"body_markdown":"I have a hard time to follow, what you are actually asking: you fixed two compile problems and you are not sure, if its a proper fix (close-worthy - SO wants you to create single-focus questions). Next you are pointing us to another question (so is this a duplicate? Close-worthy...).  And finally you state, that you get a &quot;Whitelabel Error Page&quot; - which shows a stacktrace (and most likely logs a stacktrace) - so why not add this error here and correlate it with some code snippets and remove all the unrelated things here.  And if this helps to answer your other question, then add it there.","body":"I have a hard time to follow, what you are actually asking: you fixed two compile problems and you are not sure, if its a proper fix (close-worthy - SO wants you to create single-focus questions). Next you are pointing us to another question (so is this a duplicate? Close-worthy...).  And finally you state, that you get a &quot;Whitelabel Error Page&quot; - which shows a stacktrace (and most likely logs a stacktrace) - so why not add this error here and correlate it with some code snippets and remove all the unrelated things here.  And if this helps to answer your other question, then add it there."},{"owner":{"account_id":15923357,"reputation":65,"user_id":11489678,"display_name":"Mohamed Aziz Tousli"},"score":0,"creation_date":1690194501,"post_id":76753214,"comment_id":135314532,"body_markdown":"Sorry if this was unclear. I tried my best to make it as clear as possible. Basically, when I tried migrating my project from V22 to V23.3, I got two compile errors. I fixed them, but I was still unable to build/run my application, so I am wondering if my fixes are correct or not. If they are correct, then what may be the issue of the build/run failure? If they are incorrect, what is the correct fix?","body":"Sorry if this was unclear. I tried my best to make it as clear as possible. Basically, when I tried migrating my project from V22 to V23.3, I got two compile errors. I fixed them, but I was still unable to build/run my application, so I am wondering if my fixes are correct or not. If they are correct, then what may be the issue of the build/run failure? If they are incorrect, what is the correct fix?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1690196668,"post_id":76753214,"comment_id":135314955,"body_markdown":"Please add the stacktrace from the whitelabel error you get and correlate it to the code.","body":"Please add the stacktrace from the whitelabel error you get and correlate it to the code."}],"owner":{"account_id":15923357,"reputation":65,"user_id":11489678,"display_name":"Mohamed Aziz Tousli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690191861,"creation_date":1690191861,"question_id":76753214,"body_markdown":"I am trying to migrate my Kotlin-based project from Vaadin 22 to Vaadin 23.3.\r\n\r\nWhen I finished setting up versions for my build.gradle.kts, I received the two following errors:\r\n\r\n## First Error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI fixed this error by changing `ComponentEventListener&lt;GeneratedVaadinDialog.OpenedChangeEvent&lt;Dialog&gt;&gt;` to `ComponentEventListener&lt;Dialog.OpenedChangeEvent&lt;Dialog&gt;&gt;`.\r\n\r\n## Second Error:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI fixed this error by changing `open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook {` to either `open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook by TestingLifecycleHookVaadin14Default() {` or `open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook by TestingLifecycleHookVaadin23_1(TestingLifecycleHook.default) {`, since the first fix is for all Vaadin versions, and the second one for Vaadin 23.1 (or more (?)).\r\n\r\nTo be honest with you guys, the changes seemed logical to me, but I am still unable to get my project to work. (It was obviously working completely fine in Vaadin 22).\r\n\r\nIf I try to build my project using:\r\n\r\n    ./gradlew clean build --refresh-dependencies\r\n\r\nI get assertion errors in my unit tests ([Example][3]).\r\n\r\nAnd if I try to run my project in localhost using:\r\n\r\n    ./gradlew vaadinPrepareFrontend vaadinBuildFrontend run \r\n\r\nI get **Whitelabel Error Page** in my localhost.\r\n\r\nThis is my first Kotlin/Vaadin experience, and I have been stuck with this for more than two weeks now. I would appreciate any kind of help or track. Thank you.\r\n\r\n### Notes:\r\n\r\n - Operating System: Fedora 38 \r\n - IDE: IntelliJ IDEA \r\n - Project Builder: Gradle \r\n - Java Version: 11 \r\n - Vaadin Version: 23.3.0 \r\n - Unit Testing Tool: Karibu Testing \r\n - Karibu Version: 1.3.23 \r\n - Enhanced Dialog Version: 23.0.0\r\n\r\n  [1]: https://i.stack.imgur.com/eos7m.png\r\n  [2]: https://i.stack.imgur.com/3A4cG.png\r\n  [3]: https://stackoverflow.com/questions/76689430/no-visible-dialog-in-mockedui-while-karibu-unit-testing","title":"Migration failing from Vaadin 22 to Vaadin 23.3","body":"<p>I am trying to migrate my Kotlin-based project from Vaadin 22 to Vaadin 23.3.</p>\n<p>When I finished setting up versions for my build.gradle.kts, I received the two following errors:</p>\n<h2>First Error:</h2>\n<p><a href=\"https://i.stack.imgur.com/eos7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eos7m.png\" alt=\"enter image description here\" /></a></p>\n<p>I fixed this error by changing <code>ComponentEventListener&lt;GeneratedVaadinDialog.OpenedChangeEvent&lt;Dialog&gt;&gt;</code> to <code>ComponentEventListener&lt;Dialog.OpenedChangeEvent&lt;Dialog&gt;&gt;</code>.</p>\n<h2>Second Error:</h2>\n<p><a href=\"https://i.stack.imgur.com/3A4cG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3A4cG.png\" alt=\"enter image description here\" /></a></p>\n<p>I fixed this error by changing <code>open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook {</code> to either <code>open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook by TestingLifecycleHookVaadin14Default() {</code> or <code>open class GaliteVUITestBase: VUITestBase(), TestingLifecycleHook by TestingLifecycleHookVaadin23_1(TestingLifecycleHook.default) {</code>, since the first fix is for all Vaadin versions, and the second one for Vaadin 23.1 (or more (?)).</p>\n<p>To be honest with you guys, the changes seemed logical to me, but I am still unable to get my project to work. (It was obviously working completely fine in Vaadin 22).</p>\n<p>If I try to build my project using:</p>\n<pre><code>./gradlew clean build --refresh-dependencies\n</code></pre>\n<p>I get assertion errors in my unit tests (<a href=\"https://stackoverflow.com/questions/76689430/no-visible-dialog-in-mockedui-while-karibu-unit-testing\">Example</a>).</p>\n<p>And if I try to run my project in localhost using:</p>\n<pre><code>./gradlew vaadinPrepareFrontend vaadinBuildFrontend run \n</code></pre>\n<p>I get <strong>Whitelabel Error Page</strong> in my localhost.</p>\n<p>This is my first Kotlin/Vaadin experience, and I have been stuck with this for more than two weeks now. I would appreciate any kind of help or track. Thank you.</p>\n<h3>Notes:</h3>\n<ul>\n<li>Operating System: Fedora 38</li>\n<li>IDE: IntelliJ IDEA</li>\n<li>Project Builder: Gradle</li>\n<li>Java Version: 11</li>\n<li>Vaadin Version: 23.3.0</li>\n<li>Unit Testing Tool: Karibu Testing</li>\n<li>Karibu Version: 1.3.23</li>\n<li>Enhanced Dialog Version: 23.0.0</li>\n</ul>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1690130810,"post_id":76748737,"comment_id":135307308,"body_markdown":"you want `transactionNumber` to be populated with the values that is the same as  `accountNumber` once it is assigned with `accountNumber` ?","body":"you want <code>transactionNumber</code> to be populated with the values that is the same as  <code>accountNumber</code> once it is assigned with <code>accountNumber</code> ?"},{"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"score":0,"creation_date":1690173573,"post_id":76748737,"comment_id":135311028,"body_markdown":"Hi @Ken Chan if same is also no problem but Autogeneration of the  transactionNo is required for me and it should be stored in the Database.","body":"Hi @Ken Chan if same is also no problem but Autogeneration of the  transactionNo is required for me and it should be stored in the Database."}],"answers":[{"comments":[{"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"score":0,"creation_date":1690714690,"post_id":76753179,"comment_id":135389297,"body_markdown":"Hi Dmitrii Podlesnykh is there another way as this will Impact on Performance ?","body":"Hi Dmitrii Podlesnykh is there another way as this will Impact on Performance ?"}],"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690191569,"creation_date":1690191569,"answer_id":76753179,"question_id":76748737,"body_markdown":"MySQL the table structure cannot contain more than one auto_increment field. When you try to create a table with 2 autoincremented fields or alter the table in an attempt to create a second autoincrement, the query fails.\r\n\r\nOptions:\r\n--------\r\n\r\n 1. Create two tables with two different primary keys. Then you will be able to increment both column values. \r\n 2. Create a Database trigger ( [MySQL 8.0 Reference Manual: 25.3.1 Trigger Syntax and Examples][1] ):\r\n\r\n        CREATE TRIGGER &#39;INCREMENT_AccountNumber&#39; AFTER INSERT ON &#39;Accounts&#39; FOR EACH ROW BEGIN UPDATE class SET AccountNumber = AccountNumber+1 WHERE ID= ID; END\r\n\r\n\r\n 3. You can specify AUTO_INCREMENT on a secondary column in a multiple-column index for MyISAM(MyISAM is optimized for environments with heavy read operations, and few writes, or none at all). \r\n[MySQL 8.0 Reference Manual: 3.6.9 Using AUTO_INCREMENT - MyISAM Notes][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/trigger-syntax.html\r\n  [2]: https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html#:~:text=For%20MyISAM%20tables%2C%20you%20can,put%20data%20into%20ordered%20groups.","title":"How to Populate the Auto Incremented values for the Instannce variable which are not annotated with @Id in Springboot application","body":"<p>MySQL the table structure cannot contain more than one auto_increment field. When you try to create a table with 2 autoincremented fields or alter the table in an attempt to create a second autoincrement, the query fails.</p>\n<h2>Options:</h2>\n<ol>\n<li><p>Create two tables with two different primary keys. Then you will be able to increment both column values.</p>\n</li>\n<li><p>Create a Database trigger ( <a href=\"https://dev.mysql.com/doc/refman/8.0/en/trigger-syntax.html\" rel=\"nofollow noreferrer\">MySQL 8.0 Reference Manual: 25.3.1 Trigger Syntax and Examples</a> ):</p>\n<pre><code>CREATE TRIGGER 'INCREMENT_AccountNumber' AFTER INSERT ON 'Accounts' FOR EACH ROW BEGIN UPDATE class SET AccountNumber = AccountNumber+1 WHERE ID= ID; END\n</code></pre>\n</li>\n<li><p>You can specify AUTO_INCREMENT on a secondary column in a multiple-column index for MyISAM(MyISAM is optimized for environments with heavy read operations, and few writes, or none at all).\n<a href=\"https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html#:%7E:text=For%20MyISAM%20tables%2C%20you%20can,put%20data%20into%20ordered%20groups.\" rel=\"nofollow noreferrer\">MySQL 8.0 Reference Manual: 3.6.9 Using AUTO_INCREMENT - MyISAM Notes</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690191569,"creation_date":1690122209,"question_id":76748737,"body_markdown":"Here I would like to generate the Auto populated values for the &quot;transactionNumber&quot; variable and store it in the Database but I have used @Id on another the variable that is &quot;accountNumber&quot;\r\n\r\nNote: I am using MYSQL Database\r\n\r\n`Accounts`\r\n\r\n````\r\n\r\n@Entity\r\n@SequenceGenerator(name = &quot;seq&quot;, initialValue = 1, allocationSize = 1)\r\npublic class Accounts {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(generator = &quot;seq&quot;)\r\n\tprivate Integer accountNumber;\r\n\t\r\n\t/*\r\n\t * @Retention(RetentionPolicy.RUNTIME)\r\n\t * \r\n\t * @Target(ElementType.FIELD) public @interface InjectSequenceValue { String\r\n\t * sequencename(); }\r\n\t */\r\n\t\r\n\t/* @InjectSequenceValue(sequencename = &quot;serialnum_sequence&quot;) */\r\n\t\r\n\t\r\n\tprivate int transactionNumber;\r\n\t\r\n\t@Column\r\n\tprivate String userId;\r\n\t\r\n\t@Column\r\n\tprivate int upiIdLimit;\r\n\t\r\n\t@Column\r\n\tprivate double accountBalance;\r\n\t\r\n\t@Column\r\n\tprivate String transactionLimitPerDay;\r\n\t\r\n\t\r\n\tpublic Integer getAccountNumber() {\r\n\t\treturn accountNumber;\r\n\t}\r\n\r\n\tpublic void setAccountNumber(Integer accountNumber) {\r\n\t\tthis.accountNumber = accountNumber;\r\n\t}\r\n\r\n\tpublic int getTransactionNumber() {\r\n\t\treturn transactionNumber;\r\n\t}\r\n\r\n\tpublic void setTransactionNumber(int transactionNumber) {\r\n\t\tthis.transactionNumber = transactionNumber;\r\n\t}\r\n\r\n\tpublic String  getUserId() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\tpublic void setUserId(String userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\r\n\tpublic int getUpiIdLimit() {\r\n\t\treturn upiIdLimit;\r\n\t}\r\n\r\n\tpublic void setUpiIdLimit(int upiIdLimit) {\r\n\t\tthis.upiIdLimit = upiIdLimit;\r\n\t}\r\n\r\n\tpublic double getAccountBalance() {\r\n\t\treturn accountBalance;\r\n\t}\r\n\r\n\tpublic void setAccountBalance(double accountBalance) {\r\n\t\tthis.accountBalance = accountBalance;\r\n\t}\r\n\r\n\tpublic String getTransactionLimitPerDay() {\r\n\t\treturn transactionLimitPerDay;\r\n\t}\r\n\r\n\tpublic void setTransactionLimitPerDay(String transactionLimitPerDay) {\r\n\t\tthis.transactionLimitPerDay = transactionLimitPerDay;\r\n\t}\r\n\t\r\n}\r\n````","title":"How to Populate the Auto Incremented values for the Instannce variable which are not annotated with @Id in Springboot application","body":"<p>Here I would like to generate the Auto populated values for the &quot;transactionNumber&quot; variable and store it in the Database but I have used @Id on another the variable that is &quot;accountNumber&quot;</p>\n<p>Note: I am using MYSQL Database</p>\n<p><code>Accounts</code></p>\n<pre><code>\n@Entity\n@SequenceGenerator(name = &quot;seq&quot;, initialValue = 1, allocationSize = 1)\npublic class Accounts {\n    \n    @Id\n    @GeneratedValue(generator = &quot;seq&quot;)\n    private Integer accountNumber;\n    \n    /*\n     * @Retention(RetentionPolicy.RUNTIME)\n     * \n     * @Target(ElementType.FIELD) public @interface InjectSequenceValue { String\n     * sequencename(); }\n     */\n    \n    /* @InjectSequenceValue(sequencename = &quot;serialnum_sequence&quot;) */\n    \n    \n    private int transactionNumber;\n    \n    @Column\n    private String userId;\n    \n    @Column\n    private int upiIdLimit;\n    \n    @Column\n    private double accountBalance;\n    \n    @Column\n    private String transactionLimitPerDay;\n    \n    \n    public Integer getAccountNumber() {\n        return accountNumber;\n    }\n\n    public void setAccountNumber(Integer accountNumber) {\n        this.accountNumber = accountNumber;\n    }\n\n    public int getTransactionNumber() {\n        return transactionNumber;\n    }\n\n    public void setTransactionNumber(int transactionNumber) {\n        this.transactionNumber = transactionNumber;\n    }\n\n    public String  getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public int getUpiIdLimit() {\n        return upiIdLimit;\n    }\n\n    public void setUpiIdLimit(int upiIdLimit) {\n        this.upiIdLimit = upiIdLimit;\n    }\n\n    public double getAccountBalance() {\n        return accountBalance;\n    }\n\n    public void setAccountBalance(double accountBalance) {\n        this.accountBalance = accountBalance;\n    }\n\n    public String getTransactionLimitPerDay() {\n        return transactionLimitPerDay;\n    }\n\n    public void setTransactionLimitPerDay(String transactionLimitPerDay) {\n        this.transactionLimitPerDay = transactionLimitPerDay;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","ssl","selenium-chromedriver","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":29079050,"reputation":1,"user_id":22275505,"display_name":"Товарищ тестировщик"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690191512,"creation_date":1690191512,"answer_id":76753174,"question_id":76753052,"body_markdown":"I solved the problem as follows:\r\n\r\nFor those who have admin rights on a PC, there is a working solution for auto-selecting a certificate:\r\n- for MAC enter  in terminal\r\ndefaults write com.google.Chrome AutoSelectCertificateForUrls -array-add -string &#39;&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}&#39;\r\n\r\n- ⁣In Windows, you need to add the following example to the registry\r\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Google\\Chrome\\AutoSelectCertificateForUrls\\1 =\r\n ⁣ ⁣ ⁣ ⁣ ⁣ ⁣ ⁣ ⁣&quot;{&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}&quot;*/","title":"Selenium testing JAVA - I can&#39;t configure certificate auto-selection for a specific URL when opening ChromeDriver on MAC","body":"<p>I solved the problem as follows:</p>\n<p>For those who have admin rights on a PC, there is a working solution for auto-selecting a certificate:</p>\n<ul>\n<li><p>for MAC enter  in terminal\ndefaults write com.google.Chrome AutoSelectCertificateForUrls -array-add -string '&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}'</p>\n</li>\n<li><p>⁣In Windows, you need to add the following example to the registry\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Google\\Chrome\\AutoSelectCertificateForUrls\\1 =\n⁣ ⁣ ⁣ ⁣ ⁣ ⁣ ⁣ ⁣&quot;{&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}&quot;*/</p>\n</li>\n</ul>\n"}],"owner":{"account_id":29079050,"reputation":1,"user_id":22275505,"display_name":"Товарищ тестировщик"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690191512,"creation_date":1690190568,"question_id":76753052,"body_markdown":"I am writing autotests using Maven+Selenium+JUnitxz.\r\nDuring UI testing, I can&#39;t configure certificate auto-selection so as not to click on the window manually.\r\n\r\nI have already tried ChromeOptions and ignoring the certificate, it is not working. \r\nI found a suggestion for creating a file /Library/Preferences/com.google.Chrome.plist, but when running ChromeDriver, this file disappeared.\r\nThe content of the file is as follows:\r\n\r\n```\r\n    &lt;plist version=&quot;1.0″&gt;\r\n     &lt;dict&gt;\r\n&#160;⁣&#160;⁣     &lt;key&gt;AutoSelectCertificateForUrls&lt;/key&gt;\r\n&#160;⁣&#160;⁣&#160;⁣     &lt;array&gt;\r\n&#160;⁣&#160;⁣&#160;⁣&#160;⁣&#160;⁣     &lt;string&gt;{&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}&lt;/string&gt;\r\n&#160;⁣&#160;⁣&#160;    ⁣&lt;/array&gt;\r\n    &lt;/dict&gt;\r\n    &lt;/plist&gt;\r\n```\r\n","title":"Selenium testing JAVA - I can&#39;t configure certificate auto-selection for a specific URL when opening ChromeDriver on MAC","body":"<p>I am writing autotests using Maven+Selenium+JUnitxz.\nDuring UI testing, I can't configure certificate auto-selection so as not to click on the window manually.</p>\n<p>I have already tried ChromeOptions and ignoring the certificate, it is not working.\nI found a suggestion for creating a file /Library/Preferences/com.google.Chrome.plist, but when running ChromeDriver, this file disappeared.\nThe content of the file is as follows:</p>\n<pre><code>    &lt;plist version=&quot;1.0″&gt;\n     &lt;dict&gt;\n ⁣ ⁣     &lt;key&gt;AutoSelectCertificateForUrls&lt;/key&gt;\n ⁣ ⁣ ⁣     &lt;array&gt;\n ⁣ ⁣ ⁣ ⁣ ⁣     &lt;string&gt;{&quot;pattern&quot;:&quot;your_url&quot;,&quot;filter&quot;:{&quot;ISSUER&quot;:{&quot;CN&quot;:&quot;certificate name&quot;}}}&lt;/string&gt;\n ⁣ ⁣     ⁣&lt;/array&gt;\n    &lt;/dict&gt;\n    &lt;/plist&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","lombok"],"comments":[{"owner":{"account_id":7635187,"reputation":1521,"user_id":5788945,"display_name":"greenPadawan"},"score":0,"creation_date":1647849633,"post_id":71554080,"comment_id":126465237,"body_markdown":"Do you see an error on startup? Did you check the logs to see if the create table statement is being executed or not?","body":"Do you see an error on startup? Did you check the logs to see if the create table statement is being executed or not?"},{"owner":{"account_id":14365021,"reputation":31,"user_id":10376323,"display_name":"Destructive Gamer"},"score":0,"creation_date":1647852408,"post_id":71554080,"comment_id":126466067,"body_markdown":"@greenPadawan The logs show no create table statement, that is why I know that the table is not being created, also there are no errors","body":"@greenPadawan The logs show no create table statement, that is why I know that the table is not being created, also there are no errors"}],"answers":[{"comments":[{"owner":{"account_id":14365021,"reputation":31,"user_id":10376323,"display_name":"Destructive Gamer"},"score":0,"creation_date":1647859254,"post_id":71556175,"comment_id":126468463,"body_markdown":"I added @GeneratedValue(strategy= GenerationType.AUTO), then too it worked.\nCould you explain the difference if any?","body":"I added @GeneratedValue(strategy= GenerationType.AUTO), then too it worked. Could you explain the difference if any?"},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":1,"creation_date":1647860517,"post_id":71556175,"comment_id":126468947,"body_markdown":"@DestructiveGamer the generated value annotation helps the JPA to know how to generate the ID automatically - if there is not annotation you’re expected to have unique values or use a DB generator. I always use the annotation because it’s easiest.","body":"@DestructiveGamer the generated value annotation helps the JPA to know how to generate the ID automatically - if there is not annotation you’re expected to have unique values or use a DB generator. I always use the annotation because it’s easiest."}],"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647859113,"creation_date":1647859113,"answer_id":71556175,"question_id":71554080,"body_markdown":"You&#39;re missing the @table annotation which is required to build a table in your DB to host the entities. Also, it&#39;s good custom to annotate your columns as well, to make sure they&#39;re named correctly (although in your case, they would&#39;ve been correctly parsed). For example:\r\n    \r\n    package com.jpabasics.jpaBasics.enitity;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;STUDENTS&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Student {\r\n    \r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t     @Column(name = &quot;STUDENT_ID&quot;)\r\n         private long studentId;\r\n\r\n         @Column(name = &quot;FIRST_NAME&quot;)\r\n         private String firstName;\r\n\r\n         @Column(name = &quot;LAST_NAME&quot;)\r\n         private String lastName;\r\n   \r\n         @Column(name = &quot;EMAIL_ID&quot;)\r\n         private String emailId;\r\n\r\n         @Column(name = &quot;GUARDIAN_NAME&quot;)\r\n         private String guardianName;\r\n \r\n         @Column(name = &quot;GUARDIAN_EMAIL&quot;)\r\n         private String guardianEmail;\r\n\r\n         @Column(name = &quot;GUARDIAN_MOBILE&quot;)\r\n         private String guardianMobile;\r\n    \r\n    }\r\n ","title":"Unable to create table in database using Spring Boot and JPA","body":"<p>You're missing the @table annotation which is required to build a table in your DB to host the entities. Also, it's good custom to annotate your columns as well, to make sure they're named correctly (although in your case, they would've been correctly parsed). For example:</p>\n<pre><code>package com.jpabasics.jpaBasics.enitity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\n@Table(name=&quot;STUDENTS&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Student {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.AUTO)\n     @Column(name = &quot;STUDENT_ID&quot;)\n     private long studentId;\n\n     @Column(name = &quot;FIRST_NAME&quot;)\n     private String firstName;\n\n     @Column(name = &quot;LAST_NAME&quot;)\n     private String lastName;\n\n     @Column(name = &quot;EMAIL_ID&quot;)\n     private String emailId;\n\n     @Column(name = &quot;GUARDIAN_NAME&quot;)\n     private String guardianName;\n\n     @Column(name = &quot;GUARDIAN_EMAIL&quot;)\n     private String guardianEmail;\n\n     @Column(name = &quot;GUARDIAN_MOBILE&quot;)\n     private String guardianMobile;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9297779,"reputation":1,"user_id":6904216,"display_name":"ARPIT VERMA"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690190676,"creation_date":1690186522,"answer_id":76752558,"question_id":71554080,"body_markdown":"I am using same code but still not able to create a table.\r\n\r\nPlease find below logs \r\n\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.1)\r\n\r\n    2023-07-24T13:43:17.936+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : Starting SpringJpaTestApplication using Java 17.0.7 with PID 9080 (C:\\Users\\arpit.verma\\Downloads\\SpringJPATest\\SpringJPATest\\target\\classes started by arpit.verma in C:\\Users\\arpit.verma\\Downloads\\SpringJPATest\\SpringJPATest)\r\n    2023-07-24T13:43:17.942+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-07-24T13:43:18.890+05:30  INFO 9080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-07-24T13:43:18.928+05:30  INFO 9080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\r\n    2023-07-24T13:43:19.819+05:30  INFO 9080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-07-24T13:43:19.838+05:30  INFO 9080 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-07-24T13:43:19.839+05:30  INFO 9080 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.10]\r\n    2023-07-24T13:43:20.020+05:30  INFO 9080 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-07-24T13:43:20.026+05:30  INFO 9080 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1913 ms\r\n    2023-07-24T13:43:20.246+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-07-24T13:43:20.814+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c3719e5\r\n    2023-07-24T13:43:20.818+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-07-24T13:43:20.877+05:30  INFO 9080 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-07-24T13:43:20.987+05:30  INFO 9080 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.5.Final\r\n    2023-07-24T13:43:20.992+05:30  INFO 9080 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n    2023-07-24T13:43:21.124+05:30  INFO 9080 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2023-07-24T13:43:21.341+05:30  INFO 9080 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-07-24T13:43:21.602+05:30  INFO 9080 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n    2023-07-24T13:43:21.685+05:30  WARN 9080 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\r\n    2023-07-24T13:43:21.810+05:30  INFO 9080 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-07-24T13:43:22.082+05:30  INFO 9080 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-07-24T13:43:22.090+05:30  INFO 9080 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-07-24T13:43:22.154+05:30  WARN 9080 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-07-24T13:43:22.650+05:30  INFO 9080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-07-24T13:43:22.666+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : Started SpringJpaTestApplication in 5.202 seconds (process running for 6.165)","title":"Unable to create table in database using Spring Boot and JPA","body":"<p>I am using same code but still not able to create a table.</p>\n<p>Please find below logs</p>\n<p>.   ____          _            __ _ _\n/\\ / <em><em><em>'</em> __ _ <em>(</em>)</em> __  __ _ \\ \\ \\ <br />\n( ( )_</em>_ | '_ | '<em>| | '</em> / <em>` | \\ \\ \\ <br />\n\\/  __<em>)| |</em>)| | | | | || (</em>| |  ) ) ) )\n'  |<strong><em><em>| .__|</em>| |</em>|<em>| |</em>_<em>, | / / / /\n=========|</em>|==============|</strong><em>/=/</em>/<em>/</em>/\n:: Spring Boot ::                (v3.1.1)</p>\n<pre><code>2023-07-24T13:43:17.936+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : Starting SpringJpaTestApplication using Java 17.0.7 with PID 9080 (C:\\Users\\arpit.verma\\Downloads\\SpringJPATest\\SpringJPATest\\target\\classes started by arpit.verma in C:\\Users\\arpit.verma\\Downloads\\SpringJPATest\\SpringJPATest)\n2023-07-24T13:43:17.942+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-24T13:43:18.890+05:30  INFO 9080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-07-24T13:43:18.928+05:30  INFO 9080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\n2023-07-24T13:43:19.819+05:30  INFO 9080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-07-24T13:43:19.838+05:30  INFO 9080 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-07-24T13:43:19.839+05:30  INFO 9080 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.10]\n2023-07-24T13:43:20.020+05:30  INFO 9080 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-07-24T13:43:20.026+05:30  INFO 9080 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1913 ms\n2023-07-24T13:43:20.246+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-07-24T13:43:20.814+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c3719e5\n2023-07-24T13:43:20.818+05:30  INFO 9080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-07-24T13:43:20.877+05:30  INFO 9080 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-07-24T13:43:20.987+05:30  INFO 9080 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.5.Final\n2023-07-24T13:43:20.992+05:30  INFO 9080 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-07-24T13:43:21.124+05:30  INFO 9080 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-07-24T13:43:21.341+05:30  INFO 9080 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-07-24T13:43:21.602+05:30  INFO 9080 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-07-24T13:43:21.685+05:30  WARN 9080 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\n2023-07-24T13:43:21.810+05:30  INFO 9080 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-07-24T13:43:22.082+05:30  INFO 9080 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-07-24T13:43:22.090+05:30  INFO 9080 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-07-24T13:43:22.154+05:30  WARN 9080 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-07-24T13:43:22.650+05:30  INFO 9080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-07-24T13:43:22.666+05:30  INFO 9080 --- [           main] c.e.S.SpringJpaTestApplication           : Started SpringJpaTestApplication in 5.202 seconds (process running for 6.165)\n</code></pre>\n"}],"owner":{"account_id":14365021,"reputation":31,"user_id":10376323,"display_name":"Destructive Gamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71556175,"answer_count":2,"score":1,"last_activity_date":1690190676,"creation_date":1647847615,"question_id":71554080,"body_markdown":"When I am using my Spring Boot application along with JPA to create a table in my database named schooldb, the code runs fine but I am unable to automatically create a table and have to explicitly create it either using the CMD or any other terminal in an IDE.\r\n\r\nHere is my repository class\r\n```\r\npackage com.jpabasics.jpaBasics.enitity;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Student {\r\n\r\n    @Id\r\n     private long studentId;\r\n     private String firstName;\r\n     private String lastName;\r\n     private String emailId;\r\n     private String guardianName;\r\n     private String guardianEmail;\r\n     private String guardianMobile;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nand here is my POM.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.jpabasics&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jpaBasics&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;jpaBasics&lt;/name&gt;\r\n\t&lt;description&gt;Jpa basics&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAlso here is my application.properties file\r\n```\r\n# Database Config : mysql\r\nspring.datasource.url = jdbc:mysql://localhost:3306/schooldb\r\nspring.datasource.username = root\r\nspring.datasource.password = Lko@6388895330\r\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\n\r\n# Hibernate Configuration\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl.auto = update\r\nspring.jpa.show-sql = true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n\r\n```\r\nCould someone help me out with this please?","title":"Unable to create table in database using Spring Boot and JPA","body":"<p>When I am using my Spring Boot application along with JPA to create a table in my database named schooldb, the code runs fine but I am unable to automatically create a table and have to explicitly create it either using the CMD or any other terminal in an IDE.</p>\n<p>Here is my repository class</p>\n<pre><code>package com.jpabasics.jpaBasics.enitity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Student {\n\n    @Id\n     private long studentId;\n     private String firstName;\n     private String lastName;\n     private String emailId;\n     private String guardianName;\n     private String guardianEmail;\n     private String guardianMobile;\n\n\n}\n\n</code></pre>\n<p>and here is my POM.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jpabasics&lt;/groupId&gt;\n    &lt;artifactId&gt;jpaBasics&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;jpaBasics&lt;/name&gt;\n    &lt;description&gt;Jpa basics&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Also here is my application.properties file</p>\n<pre><code># Database Config : mysql\nspring.datasource.url = jdbc:mysql://localhost:3306/schooldb\nspring.datasource.username = root\nspring.datasource.password = Lko@6388895330\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\n\n# Hibernate Configuration\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl.auto = update\nspring.jpa.show-sql = true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n\n</code></pre>\n<p>Could someone help me out with this please?</p>\n"},{"tags":["java","android","base64","base64url"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690190586,"post_id":76753041,"comment_id":135313686,"body_markdown":"Does the Java error tell you something about why it won&#39;t decode?","body":"Does the Java error tell you something about why it won&#39;t decode?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690190650,"post_id":76753041,"comment_id":135313714,"body_markdown":"You could try *encoding* the same data using `java.util`. Where is it different?","body":"You could try <i>encoding</i> the same data using <code>java.util</code>. Where is it different?"},{"owner":{"account_id":14740025,"reputation":198,"user_id":10644885,"display_name":"Sarthak"},"score":0,"creation_date":1690190895,"post_id":76753041,"comment_id":135313768,"body_markdown":"Hey, I receive the data from the server. Consider it as a test case where the base64 decoding is expected to fail (due to + sign) but android.Util base64 is decoding this instead of throwing an error. I can&#39;t use java.util.base64.getUrlDecoder as I need to support minimum api version of 21","body":"Hey, I receive the data from the server. Consider it as a test case where the base64 decoding is expected to fail (due to + sign) but android.Util base64 is decoding this instead of throwing an error. I can&#39;t use java.util.base64.getUrlDecoder as I need to support minimum api version of 21"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690201082,"post_id":76753041,"comment_id":135315876,"body_markdown":"@Sarthak, here is a relevant question and answer, _https://stackoverflow.com/q/32935783/17758716_.","body":"@Sarthak, here is a relevant question and answer, <i><a href=\"https://stackoverflow.com/q/32935783/17758716\">stackoverflow.com/q/32935783/17758716</a></i>."},{"owner":{"account_id":14740025,"reputation":198,"user_id":10644885,"display_name":"Sarthak"},"score":0,"creation_date":1690202257,"post_id":76753041,"comment_id":135316158,"body_markdown":"@Reilas Already tried that, does not work. Going by Android documentation, the flag URL_SAFE and DEFAULT are the only acceptable flags for decoder, rest all are for encoders. Now, The above is not able to catch linefeed","body":"@Reilas Already tried that, does not work. Going by Android documentation, the flag URL_SAFE and DEFAULT are the only acceptable flags for decoder, rest all are for encoders. Now, The above is not able to catch linefeed"}],"owner":{"account_id":14740025,"reputation":198,"user_id":10644885,"display_name":"Sarthak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690190480,"creation_date":1690190480,"question_id":76753041,"body_markdown":"I am trying to develop an android application which is supposed to perform Base64 URL safe decoding but stuck at some point. When using android.Util.Base64.decode(string, Base64.URL_SAFE) vs java.util.Base64.getUrlDecoder.decode(string) the output is coming out to be different. Can someone help why this is happening\r\n\r\nString\r\n\r\n```\r\nPCFET0NUWVBFIEhUTUw+Cgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPHRpdGxlPjNEUyAtIFNpbmdsZSBTZWxlY3Q8L3RpdGxlPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIvPgoKICAgIDxzdHlsZT4KICAgICAgICAvKiBHZW5lcmFsIFN0eWxpbmcqLwogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFwdDsKICAgICAgICB9CgogICAgICAgIG9sLCB1bCB7CiAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMDsKICAgICAgICB9CgoKICAgICAgICBzdW1tYXJ5Ojotd2Via2l0LWRldGFpbHMtbWFya2VyIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZQogICAgICAgIH0KCiAgICAgICAgc3VtbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBwYWRkaW5nOiA3cHggMTBweCA3cHggMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTNweDsKICAgICAgICB9CgogICAgICAgIGRpdi5yZWxhdGVkLWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDUwcHg7CiAgICAgICAgfQoKICAgICAgICBwLnN1bW1hcnktcCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDdweCAxMHB4IDdweCAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjRmNGY0OwogICAgICAgICAgICBtYXJnaW4tdG9wOiAtMjJweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgICAgICB9CgogICAgICAgIC5idXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3OTg3OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAgICAgaGVpZ2h0OiAyLjVlbTsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIuNWVtOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmJ1dHRvbi5wcmltYXJ5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmODIwMDsKICAgICAgICB9CgogICAgICAgIC5idXR0b246aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzM3MzczOwogICAgICAgIH0KCiAgICAgICAgLmJ1dHRvbjphY3RpdmUgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTk1OTU5OwogICAgICAgIH0KCiAgICAgICAgLmNhbnZhcyB7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgfQoKICAgICAgICAjY29udGVudCBoMiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1jaGVjayB7CiAgICAgICAgICAgIHBhZGRpbmc6IDdweCAwIDdweCAwOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCgogICAgICAgIC8qSW1hZ2VzKi8KICAgICAgICAubG9nby1iYW5rIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiAxNTBweDsKICAgICAgICAgICAgaGVpZ2h0OiAzNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gMzNweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTDBBQUFBMENBWUFBQURmYURrZ0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFYWlNVUkJWSGhlN1preFVpdzdERVgvMG9oWkFERUxJSDQ1T1RFNU1UazVPU3RnQjZ4aWZoMEtWOTJua2kyNzJ6MlBHZXRVcVdER2Jsa3RYNnZ0bnY5T1NiSVlLZnBrT1ZMMHlYS2s2SlBsU05Fbnk1R2lUNVlqUlo4c1I0bytXWTRVZmJJYzNhSy91Ymtac29lSGg5UFQwOVBwNCtQang4UGw4djcrL3RlOW5RTWRqL0dUZVJ3bWVyWEh4OGZUMTlmWGo2ZkxJMFYvWFp4RjlCaVYvMUpKMFY4WG0wUWZUUUpibXJlM3QyK2g2M1V2THk4L1BTNkxGUDExY1lqb0ZSWCszZDNkejdlWFJZcit1amhjOUZSOXZmWVNEN1lwK3V2aWNOSERubXQvQXluNjYrTHNvdStwOUp3SGVPTnpmMy8vMTdXM3Q3ZmYyeVhPQnRIYklMMnU4UHI2ZXZyejU4KzNuOUxHR00vUHowMS92YUxIaDhiTS8xdmZXdWw0czBYLytmbjUvVHJabnJtSWwrOXA3NFg3WXo3VUYvbGwvb29melIvOUltYkc1M0c0NkFtd1hFY3lXckFnVkRRdHd4Y2lycUY5bVJpYlFHdjRZN0Y1OUloK3B1QkJ4NXNwZWtTanZtdEd2d2ppMGdMaUdYTTBJdnFaOGRVNFhQUlUxbklkRmJVR2dvOFM2Rmt0RnUwenNwQzhLcUtUaGxsbUN4NTB2SkY4dDZENnF0L0k2Ri9EbnRWYXBrSnVpWDVtZkMwT0VUM0NZWVZiSWJUUVNvejRXQ0IySzhTNE5qRXNLZy90VTR4cjFTZVYzUzRJcjRLMFJIK0U0RUhIbXlGNjhxaytlWlBHSEpWWStjdG52dGQrWHFHaXI5ZXZGSXppeXl0aU5kSFBqQzlpaytoSERTR1Y0RDFzMVlnbVdSTkVZajNVSDBiQ1BPd0Vlb3V6SlhwZGhMTUVEenJlWHRIckZoTnJ4Y24zdW9neCsvU3pBclhGcWVENThrUS9PNzZJczRpZUcyMU5uQ2F4OWZncjJDUjVhSHZrazRPWTlyZlVSSCtVNEVISDJ5dDZ2VCtLUkJRbjdWcWw3WStLV2lTaVNtc0xtamNYcytPTE9Jdm9pNDBHMTBMOWVtaDdORzZya29QWGZxVGdRY2ZiSzNxRVZuejFIZ0JyKzNCYmNIcnVXODkxbnVobnh0ZkRJWHQ2RWtFZkF0TVZpZFhla0xRby9oQXZZclA3T2c5dGorS2xYZnRiYkxzS0hodE5lZy9xUDRvL1lvdXZXazZZdi9JZGk3Mkg2RWxlMnJDOThmVndpT2dWSG04cWZBVGJna3FDdUtrT2R1OVdNdzl0aitLTkVtamJQWnY1RkFQMVBaSnZqeTIrYWprWjNZcUNMcFFsUkE4SUlycWVhbTRyYUs5NWFIc1ViNVJBMjQ2eGtKbEEvVHg2b0dxaFk0M20yN0xGVnkwblcwU3Z2cFlSdlQzTTJNTVBnbTlWZFo0T0pJdnRFbTloUmcreVVieFJBbTA3QXVlZWlGdWZZcjBpNkVISEc4MjNaWXV2V2s2eTBnK2cxMXZSYXlJeEtqNkpxbFZPeEtiOVBiUTlpamRLb0czWFYzUXNRbTNiY21ieFVKOWI4cTJvcjk3NFZLaFlRZS8zaUQzOTN2aDYrQ2VWM3U1L1IxNkJRU1JTMFBZbzNzaGYxTTVFbGpZcVA0dHlMenJlYUw0dEd0L2V0eU4yTG52dWRZbTNOeFpieWJWU2dyYjErTllrWWg3YUh2bU1SQjIxMisxVzdWZmlFZFRmYUw0dGVxYnFXWlIyMjJhRk9GS2tiRzQ4Z2M2T0wrSncwU053RGRCN2U2TythNytjRnJ6RHJyY04wdmFqUlE5MlllOFY2a3hmVm5pdDN4WDQzcDZ2Ykg3MVhwbGJXOFFLbmk5UDlMUGppemhNOVBSaEJhcmdNVS9VZWhQMEo2bDZJL3pQZFZwaDFMeDRvbmFGZHUxdmlkb0xHaC8vMXlhdUJ4MHZpcjhIdXlpSmo1eVdHUG5yNWRpcm92UzEvWFRPYXI2dzJsWmtabndSbTBTLzFhalNIdlpRTW1yZTRVZmJ6eVY2MjIvTGhCVFV6eFpEUkJhN0xZeXN0VmUyZS90ZWEvbWNHVitMczRuZW13U0ZWZXhkWjYxVUFHNjRmT2VKUzY4NWwrakJicitpc1d1b2p5MVd5emU1OHZwYjYxbXczSnQ5a2x2aktSNGRaSldaOGRVNFRQVGxaam1rbEVkVUJJOUhSR1AzYkh3dXJ6RUx1a2hZQ0JhOS9weWk1MTVWQ01TK0JSMXZpN1dLREhsR05EYlBDSkx2ZFdzWndmMHl4MXFFaWkvbUNIVHIwblBJbnhtZlI3Zm9rMlFyS3Zyb2lYOE9VdlRKTUZwOWU3WnYraFFvMWY5ZmtxSlBodEh0VzdSZHNXZTF2VnVUR2FUb2sySHNZUjNoMjRyUFo5dVB6NytCRkgweUROVTZlbXRqalVOcDd3dU5vMG5SSjV2Z1BiMzM0NU5uUEFsK2krQWhSWi9zZ2owN29yWUxnTXJPNjhXZWcrNjVTZEVueTVHaVQ1WWpSWjhzUjRvK1dZNFVmYkljS2Zwa09WTDB5WEtrNkpQbFNORW55NUdpVHhiamRQb2ZRNEdISnBJRzlxOEFBQUFBU1VWT1JLNUNZSUk9KTsKICAgICAgICB9CgogICAgICAgIC5sb2dvLWVtdmNvewogICAgICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsKICAgICAgICAgICAgd2lkdGg6IDE0MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQ3cHg7CiAgICAgICAgICAgIGZsb2F0OnJpZ2h0OwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gMzNweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTkFBQUFBMENBWUFBQUQ3Y2JiZ0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBWWRFVllkRk52Wm5SM1lYSmxBSEJoYVc1MExtNWxkQ0EwTGpFdU52MU9DZWdBQUJlL1NVUkJWSGhlN1owSldGUkh0b0ROWkNZYmdnSUNpcmh2Z0xnTHJzalMzZERzV3pkN0wzVFREYzIrNzlxZ2dDS2lVY0VFWlZNUUJlTVM0a3Rpa2drdmJ5Wk8yRVFkNTAyU041bVorQ2JMWkROUll6YndUcDE3cTVwR2FBUUVOWHIvN3p2ZnBldlVyWHU3YnAwNnA1YmJUR0JoWVdGaFlXRmhZV0ZoWVdGaFlXSDUxVk5VZDJMcDl1cVR5dzRjT1dlS2sxaFlXTzVrKzlHemhuUDlFbXlzaEluNXE4TXpPa3hjNUYvcGJRci95b1FybzB4NGNtcXlrK1Q3aWVqenl2Q01yeXc4b3NvOGs3ZUhTdFRsVS9IcExDeVBKMkhaZTYzbkI4UVZtcm5LdnpWd0VGSDZtOFJZUkJReUdDUncxRTd2RTBObjZmYzJRVWx2TzBadDNvQ0xZMkY1UElncHJacTFQQ3p0K0JST1JBOXRKUFpnTEhjS01TSmRFa1lmSnptS0tUUFh5TGNDMGt0VzQrSlpXQjVkT0RINVlVWWN5WmQzR2doNG5VbU9raC9uK2NaOWFjU1JsUWRtbFphdkVtVTJvUkR1R3VpSW9IQ08yaWpQdTJYSWtkN1FSMTZMT1ovMlZEY3NCUW5xNUxLeVovR2xXRmdlSFJ6VTZ0ODZxVGJYb1ZEdGRqL0RRVVpnN3E3ODJpazZ2NElYdDIwT3pxNkJsMXFxdDhBL0xnOTVtaCtKMGMzeVZuMGNuUDM4MGczeXZOQzVQckh2VDNJUUV5T2lGZ1RFdDFzSWtsa2pZbmwwVUt2VnYxa3J5em5STjdhQjhFdEVtZkJrMzlwSk10UFZsUzNQNGF3NnNaV2tMWi90cmJySm5DK2lMTnlqUGxZVXZqZ05kRTdSVzBRR2p1SVBJVjBmNlpGM2FwdmxJSG1HUHBHRjVkZU9SMkp4azhiaklORkRzalE0NVk5NUI1b1c0U3pEWW12VmlSVld3aVJrUkl3aElvTnF4YW9KZ3V5OUppaUUrejI1ampFeW92bjgrS2V4bW9YbDE0bERsRnBnb0FteG1FRy9pWXNzRGF0SGpHanJnUlZtcnBIWHdSQ2h6Q1hCS1R1d2ltYU9sK29nNk1EYldRY212ZGQwL2p3YnpySDhPa2t1cTVzK3lWSHlNUk82aVNpWXFyYjBqMC9CNmxFengxTmxhOFNKb0wwWlRDcDRwNWF1d1NvYUUxZFpKZTN0MFBWV2lUSnljVExMQTZic2FJdURUV0NDKzNPYlJFaEMzRkc3b1AvbUoyeDFiemo3N2l5Y2pZVXd6VTFaUVR3UEdORjh2L2hkV0hYUHpQWlI3V2JDTlJFMTFVM3hCNXhNcyt0b3k1U1pudEVmZ0I2TmpXN1lCQ2VZWWRXUUNMTEtXdGZMY25ySFRDTHpwTGhvR3J1SWJPc05Xdm9OOHR3ZjNXS0xGMkwxUGVHbzJPeUJ5a05sb25KUjJRN0tMVGZWQjA5YWdNNGxmdHZyOUhXUjNrNmNkVFczNHRnTStxUjdZRU5rN202NDNucTRYbVR1THpIRjFmMDZNWUpuY29tRGRWREM0Zm0rY2Iwa2FtQ09TUER5QlU2L2pTS0dmOXVLTWt0RDFidm40dE1mWC94VFMyY1pPMHMxTTI1emZGUi9GVFkzUDRuVjk0d3dSajNSM0YzNUxWTytpSklWVlBUemJJdUQwdVpOY2hML0RIcExZZUwvNE9RaDRjWVdmRG5SQVpVM1JxTHZFQjZCaTZhWnVESE11bDhlcUJkdjFXV3NIalYyWVdxRE9kNHh0MGhkUTMyZ01KZUNyVkNndHhYbHVJSTNKcE00cUtGVzB5ZU9Fa1h4aTJ0TWVITDhiRVhvMmNiOENhczBiSXpJbW92R3BPOUIxQUY1R0dIdWo5eEhmK2xMTTNTVzlGb0pFc3N0MWdvZTMvQjdlVmpxUWFnTTZGMVFoVkRySTNPV1k5V1lJY2phdFJPdUFaTVNzNzFVNTFIU0U0eUd3VmFTY0JMMHhoenBiWmoyeHNrNjRjWVVmQW4zcStraDcxSDBOdzVpUUFNYWo0aGFJODdNdzFsR2hVMVFjcU0rWGxnbTRmSlVMUU9pS09xSnBhR3BsOGkxVFhpeVhzK0VIVFBwazBlQnRURHBWZWJldzJCTTI4TlJGZGhpRlkxdjJrNlZrYlAwSi9JZGljRVlPa3NwRkJsOGdjTHV0b1grQ1cxemZXTGJVSHFidVp2aUM3S21wMTMvTXp5anY3RVdKZzY3M1ZSMmR2NHVxdkFGdTJmdHhYWThWWUZRdkdWZm1RSDYyOElqeWk2djRyQVZ6dmJ3QTR1WlpxN3lUNkFTUUZDbE5XTFZtS0pVVno1bjdxYjhEcTZCeGxwVWNmVUpUUmhSMWU2NnFPUTFsMnVHenN3OVdBb1M2N0ZLSjR3Qk1UMzFzdEMwVzFuN2oyUm43RzhZdFdRL1g5ZlBhTUdBU0dPQ280RWowOWlSZ2Y4aUw2cTRxNEVQaHJOSzdVdDZlUlN1MG1XRGFIc2dRS0l1NThNRUR1ajBVTjdwYm9wYXJCb1JHeUp6MWs1MkVpUHZ3MXh6alRUcmoxaEY0NVpVVkVpdVF3eDJwcWZxODdYeW5HMnFYVFV6MUxXdEE1WVhKT3JhWjJLTER5NjBDVTRzTmVjclA0ZTZnWHZFQm5yRG5DOWJnYk1PU3NqbVBlc1crTWVWVCtOSDNwaU1PbXZhQU8yWjUwaUxneGpHeWowelBhUCt6eTQ4SXdOMXBzTUs2UjhZY1NVMTlpaDhvU3NRWnVBMnl0V2phaHpEd1VxWVZFd2FqWjAwYXgra25ia2tXMVRUNmZidG9YWU90VndXU04rSENWZCt2YXlwYWNpUWdJTU1pRFNNdFJFNTMrRGtNVVBiZ0V4Y1pKUlRkSDRIV1JORDMrTVN6alpzSEZBWWF4a1Fmd3NhRE5Uenl2QzBhdEo3MzJsQWdMbXJvb3A4UDlRd2Y0bmJmdEFacTRaRkxXcjhGaDdSYnpCbElJL2lKUGxlZS9GN1lXQ0M3V1JueG5qZ1BpRHlXQldlZmhBNk9wemxya0JlUzBGU0lUTFNYNkFjRUF0MzVRMmhldWVBemNQUnBRZE1WNHN5enFMcmFDM09NOTl2b1BUcHBya3BibGtIcFVnckt5dC9oNHQ2dUpqbG9WQ1JHMGJ4OFY5eDhyaVFobnA1TWsxdXpJczQvOUpsaWVYaFRvOXJWY2g0UUJUbFhyUU9ldW5GZ1VsRGJqeGxQQkN6V1hWdFJPNDRHNUNjeW43eEdBYzE5SS9KdzNlTXpsZmpyTU5pdFRqaktEbDNuay9zSHljN2hTOGpuN1ZET0lKLzlpNUxwckV4OTJBbFRPeFNVOVJ2c1BxdStLVHRER1c4SFhPTjJWN1J1N0dLeHBRcnY4aVV6V3k1NHNUa3A4TWlPbGFQQ0pmWXdnQmtPSCt4Q1U1U280NWlnUEdzQ3NtMlJOOFpqNEg3QkgzdjNpazgyVWQyNHN5UDdDUHpQcklKU3YzSXlEbmlNeU9PdEY4KzhQNkxoY21ucllYcXAzQ1JEdytPMFZ2ZUpUZTZOQ1JsRzA0ZU4rYjV4YjBQMTFvY0txWnEyajJ1RStNQktYbk5uVFllZUtpYkZKdHBENlVMYlErMFpqdzlFUExPOEpyRzFyclRxMWFFcFhPWVVJNDJxbHVMdkdYNk9QdVErR2VYK0U2bVF5VjZSOGRQNjhKVFRmVTJoUzRoOVQ2WUJ3S1docVRXTW5sRTRFRW8xR2x3c0dwSTFPcm1weFlHSkh4R3lwL0NpN2pobFZDa0NZV1E5eGNTSFpTOU9EQzVFY1plV0QybVNJb3FMYzFjSXErUjYwR2RHbk5sZjFzc1NCTEJSbVdjVFVOVDAvbG43Y0p6NXlEUFZvM0dXdGZKTXdaWkpFZzRyVzV1ZnJpTWFLWkgxR1VJVGVDTEJXYVZ1ZVBrY1FNMTlqb2JjU0MxdDVXbk1SeEd1TlRCLzVZVm83aWEzdldOZXFFaHgyTDlQZEQ5TVNBMHhIOWlTVWpxT2RMd1puZ3Evd3RuMXdrL2Z1L1RxTUYwd2VRSmxJZkdkL1FNcE40bTZWME5LR1ZYcmFVcFQ5YXJUMDhoaXlnMGh1d2NqcGRZTFVvWDBmZU83M09ESXE5Zlp6VGJKK1lWY3UwcFhPblBDVVdIeG0yY2djTGRkMG1vQ3BNUHlMQmZudUNnL2kxV0Q4bDhRYnoxRE04b2JIek11SEZsYUZxLzVZWUh6a1Q3Y0dSQWRCemNnNVBHbGZ6VFhwa3ZuT2ZlWVR3Y3FycWQxOXA4UmZnVXVoZDZUV2hsZU1ZUCtKUkIwVFlnTkdicW1XZ3Y3aGlXYkJKM1ROb1lldGUxQzIwRE1rVWhIR05BS0Z4SlZodVp1MGZSVSs2Z2QxQnNFZEVuNkdDNmg3SUFIajdrWHlSSS9DZFpIdEQyUUlPRmNJUVZvZW5iU1Q0SWY2MkNFdDJ3YWxDRXd1WW56VnprLzAvT21lWVcrWFhXL2xQR1dEMUJpY1lTaXdJU05lR1VLUy9pYmF3YWM1d1ZCVTZNOFREMU9OMHQ2alhZcUl6VncySkRaTjVpTkZiN25xbERtUEtYZjl3OGhrc3M5d3hqUUhUUE9LNEc5T3FIOFUvWGQvZzAzR2s0dExSeHI4RjRDUEtobmhvWkVCcVBlY2NNYVVCTUNNYzBncEdKaU5KekVpL0d4ZWhrY0EvRXNDbzhRMDdLUTQzL3UxVks5YUFENzJYQk1ZdU5uSmw0SG8wemVzTnk5enRpVlo4Qm9mSjFlU0JBcU53eENRYlNwQmVmNXhmN1JYcFZsYzdRRWRWTElmRStjSTZWSUw2ZmdRdlY2cWRtZVViVGVxZ0x4eWoxdUJuUVdtbE9QWE9kTU9UcEltNUhsMVNOYUQ4bFliVTRheC85blpBbmhobGNUdXcyVFQwK2NJZ0hRb1AyditPa01hZXgyOCtqdHNQOTYvNkdRN3dRbHpwNVNaS0VzNktHRlVaN0lFTm42YkE5MEVqbFhnMElRRDM3bTB6akNLY1dDdUpmd2NrYVZpbVZ2N1B3aUtMSGV5RFdnc1FYc0lwbXVBWUVMQWxPVG1MS1lYcmhkZExzUkt6cWg3cTJlZXBzYjFVdnVhYUZtL0lxaEpCWVRRTUdOTk5UaGNzS2g4bURjVE1nMUxicWlUSERobUdjUEdKTU9SRnpZYWFZZENKMm9rd1pWajE0VUE5S0d4Q3EwQWFjTkdZMFhnNWVlcVRMdHdzTTVSQ1M2bmJ1K2VNWFE3U01oME0xZEFkbzRuT1l1a2FHUTY5SnpmWWEyZ05wR3hEeW5qZjE3RVZCd3hWRHJuQVNMa1ludWtJNFFuRGVyaFZvbkhZYnhqYXdsc0pSYlFuQ0tobzBNTi9PTkI0Uk5aVWYrUWxPMWtBTUNCckZVQ0VjVUx6L3NQRkN2L2dmU0tOSEh1bHJmcnphQUtzMUxBcUl6eWRsd25qRFFaa1hqbFVhaE9ybXB5eUZpZlI5UWQ3NWZuSGpaa0JySXJMcGE0QXM4azhZdFFGNUpHMmZpOEowK2xtREJHYVdIY0dxQnc4dnBvQU80ZGJKY243QlNmZk15VXNSZ3BwMjExUElZR2dqT2R6bGRmV2x5NHJVdWs2djQ4UndhSGszL01QVzFyNllHRmJjb2JjSGwyOGxTQnAyQ0xkR21uMmZKaEg2WXhPY29vYTZnd1pyN3E2OEZxYmVTemZxOVpLYzVTWThHYm8zWm1IUUtpak9uajVCaTVGNElNQWxkbHM4czhXSDd1eW8yZDR4Q1ZoRjQ1ZGFhanFOcjJEV1dPeGhkM3Z5UDNYTldCbHhwYThRQXpKemlmeHNwT09TNFRMSEt3YlA4TklUSUtNMm9BWCtTWE1uT1pFRjMzREtQYW1vR0tzZVBGUDVzaGk0cVlYK0NmYzBCbXA1UDhXeTRVSkFXazJIYXpjWVIzVUhqNnJ0NUw5UjIrRzI0ZVdMY1hOcU90MWJ0WTBuK2JBSHRWR1pmUXFmVHJOT3V0bVdWUGg4di9naDk4VGR6MWs0VXgwR2hIakN3bDM1ZC9KZ1Y0YWx2K1lnVVQrendDL3VLbW1neTRKVHp1QzgvZEEyb0x0NUlJS3BhK1JGY3EwcHZJZ2Y0a29QYWhaR2w0Y3cyN0ZBb0xGWkJTUU91bUVVV0JHV2xrdnlnZ1JuN3k3RXFqRmxsbWNVSGdPaEVJNHIvUUxxQnF0R2hGZHljVFk4Q3hDWVNKbmxFM3QveDBDdC8xQlAxalhQTDhqWVlRZGZFTjFjeitFMzJ6U3pOY09oNlVLWTliSHVrUFRxZHBjenlDaDZ3ZVBVZFhyKzQzaDM4SUg2OThLZ04zN2kySVdnOWRYdHZNKzFqVWRaNFlrZWNoaWw1eUNLWjBwaXNBbEoyUU1ORDZadGtRY2FjdnNLWTBCTXBkNi9hZXlCaEczZTcyZmdJS0xISFpPZEpMZlhTTE82U2FNeGRKSjhxcTVzSG5RZjIwZzlFT0NzS3ZDQ2NKRXhUaEcxWHA1N0d0TGp0MWV0TUtLM3hUQkdhK29xSHpBbTArYlF5NjN6WjdoSDBmc1NRUXcyaVQ1YkVabzc2bGNVZ3JKMkxWd1drcklycHV6UWZKeEU0NU8yQTQzZG1Ic0NXU3ZOR3ZFT2Y1aWdnVDE1cEJ3VGJzU1BaVTJ2VE1mcSswUExsWVNaOVJlOE94c3ZCSDZNR25sWlk1ZFFkcWpEMmE2cFcyNVgxUGk4Mld5ZnlCc3dTUE5PM3U2SFQrbEgwL25rWnlFdm5IUDBZdEFXVk1hKzZnN1hINUF4OUJ4cTUxNUQ0Vm9iOGpTcGIzMmd0aU1oMmFzZjhwOCtla0d3RzQxM2JoUERxZWx3b1dJUGVyK2w3OEJzaWVHbzhqVUdCUHV1cHJzcFAyZTJ5NkI3U1MyT3hxcEJZVUk0cGlIZHI0VlVyQnFBclRqak9HbThtZ1pqSDk3am9GUVBHSU1RUm1OQTBBbWljUTR5VU9ZYXlKaCs1aVpzWGJBMExQVnRVaGV3aWgrU1UyYUhUOUhKOHREVWJISU9pQWxYOWlueW9DdXhldGpZaWpNM21mSGsxNkFNVTU2c1o1MHN0N0N5K1UxNmpBbHJWdVp1aW44ejlVSjdJWGgxbzkrbTNhRUE0MWtTRE4rdHIxN24rY2IwZXluenZ0Rk1DWjk4OWNPMGVVYzZmYlByT2p4aE92bGlUWWZiVCtoNDg0WHpuSjZLUDZEeFNodi9WbU4zMEhXUXVrNlA2NGZhblpGd3JsZTFjVzVXZHlEdjB1SCtNMHE3ZVBSQ1FDZEt6NFpKZ3FiekE3ZXhIN3NRc1A1SWw4OFh4SEJvNDJsMy9mTGtsU2lCVTNRK2N1dk1ROXZUZUZZVFppd09UTFVsR3l3Tm5hUTlpVHRyaDl6WnF4M0MyVW5HT1lRYlpCSkJtNWlkdFZPbmNLWDAyZ3VaS1VKamtDRkQwSkZNSW1nVFUzTEluVXlOUXgzTzhveSt4R3lQWXE1ckpVZ2MwdnNRMUsydHY3VVdKcjVGbmdXY085bFIzT3NZbGYrMlcxTGhrRDg3ZHVUY09UM3Y1Q0tuMWFLTXQ1RVJhN1lid1hHUklQNVZLQnRubmJBMEpITWplR1p5ZndZT1liMmJGRnZPb3ZHaU5jNHlnUExtMW9sTGcxT2Rsd1FsZlF0bGtqcEZudWlUd3ZxVDlHOXJQQlNjN3BaTTN0L0dNVzY4N0dYMjhsOWk4NnM3M1BJUHRYR3dPT1hYZHdYa243a1NHd3Q1UU01ZVZobmlVd2ZsekpVbzYvb3UzemVxMmhpdmc0d05wQWVOaTA0MVh4Rk9oRHdMQXhML1RGZUdSL1QzU21YZkJrRTBLTWFyNDNTanVJcVRkYUx0Z1pEaDNkYXpELzhLQkpWQi8xTHFhQ1QvMEhGTjd6Z1NEd1NnY0NxSTZRQkUxQlN1N0taUDVwN1pXRFVvby9GQUFQSkN2NW52RTRkL3Q2S3Y4ZFAxNENDK1dWcmYwdTkxaGFGWWhlcC9jVWp5N3lkcTdabURDTURBVWRRN3pVM3gxUXdQVmZsME4wVytyU1F6MzFhVW1UL2RMU29maGN2dlRIV1Jmd2ZyTWN3dWJPWTgrTHhhbkhGMnNBa0phMkdTa25uZmpOd3Z2VFdwMXlZdytSTTloN0Q4NWFGcGFpaC9ubDlzL2x5LzJHcmt0YjZiaExkMGtlODJqYS80MStxZ2xCbmcxWTYrMUdvSjBuam1EWE1vdjZXbDVibngyb3AwWDJpNkdENm51cDIvSHhuZVRXMnZVOXZCLzdTeE95QVFaNXV3NTloWkt5YUdENmRRS1BKN25EekJVcGl3aW93am9MTFdSV1R2eENxZGFIdWdpZlNST1pjcEE4TEFrVW80VlZCMVFoTTJqdFNBV2xHdnU4QXYvbldZS2JNV0pFYmhaSjJNMW9BQUZDYk5NdFI2aDRkOGJ4VGU3TUZaaGsxejg1V25sZ1NueEJvNVNlamVIaFlyKytxUi9IM25aL0kzSTFQNWltdDJrZ3g1WldXbnpoM1RndlF5SVRJTTNPbjFsVU84Q3puZXFZZjJnanJiMXlKMzdLWGYyRDF5L0p6TnJvckdNN3NQTkJXWFZSeHIzRlBSRkxTcnZMR3F2dm1OU1BwQ3Z4WmFPdFhQMVhmNnJhM3I4bnk5R28xdHRBMm51b1AzWFgyWFgvSHJWOVJHT0R2TkduRldBVk01OERwRE50M0lZTUZ4b1gvQ3YwaUZvUmorKytEMEVycG5HUXArUXRHWHhwd0lhaXlsVU11QWpKd2pyT0czSEdCTVlZRUczTnZ2WWtDQWE1UjZ0cG1MdkJHMnkrQWtuVXptU0pkQTJjWklVR2hDN2F4N2VkZ0dCS3dTWnpiQXVYQ1BjTy9JWS96QWoyZW0wVWZEV3JuYUNKVlpZZVlTK1Ruc3ppYlA2YzRHVGY2R01CSmQ4MU9iNEtSQ1FYSlp2K2VzQzlYMm80YmN1SzM3WUt3TEwrejFsY2VVcVcxTThKTGZBdi80S3k1eCtVRjNidDBwM3RkQXI3bVZsTmZMZHI5d2ZNZnpMemFkT1ZCOXB0KzAva05KMDlYa1owOWRqbDNYMkMyc3FPbmcvNHNZREJvUDBjZWFkdjdOMm5hM2JkVVhCQ2I0RkExQ29mQkpFNTdzQ2xRVWl2bC9JcHNpMTBoem1rZ0lBUlczTENTbDM0cTlMdEwzVkMzaXh4ZFpqNlVjUGZzSFRZZ0tLL2drM1R1MXlMcTJkZURMWmZlQ2R2bUMxRkpyZUg4SHE0WUYvTWcvT1IvRVJiWHRubjg3QVlDMW8rVmhxZFkrS1R1M29YRmRPWHBlV2hKV1Bzc2pxandrYjIvdXhnaTE5VWhlcjlBRzNrYUYzNXdJeU5oWk1JMHZwOHZXUjJWRCtZc0RrOHY1aVlWQ1ZDY0RmcmlUVUxMdmlDOXpQT3BiZHVEWXZ2cW1ON3hMOWg1VjBzcXg1TXlmWlU1VmJTNkswMWRpbHJkMEtvZjlvaFRoekYvVDlWdXVLR2NlN3ZSVk5GNE1lcWUyMC9VcU1Sb3QrUVdOY1Q2b2JYY1ZuZnViV3VlL05sa2p6ZlludmMxMDlCQWd6WkFqQ2tLZk5WdFBwcnRIWGN0K3Z2SGhmZ09SNWZHaDVYM2xsQ01YZk42SGhsN1Q3dm90R3RDLzA5Z05odUNtT1BnZVIxeU5CSTRITzV3MHg0WXVRUjQ2NTUxRDczSGVPZHpsMWF1OTdhYTZ6Mmg2VU5qMlFVTlh3T0c2YnErNzdpdUwzN3YzNldsdVNucGZHTXowWkpZM2JQSlBMMzNSd0NIOE5oTnowek52dHhkNHgraGMvR05oZVdBMFhCRElxOXA0eDlGNHBZY1lnMjV4dnVNelkwQjFuVjQzcTlxNHgyczYzRUpQWDFJc3dVVVBDNWZZd2hJd0VnalJuR08ydHMvM2pUdkdlQjBjdXFFUWJycDdaQ2JPenNMeThISzZPM0Z5UTVkL0VCcTNCSjI0SkQ1eXBNdnJGRElRUmpyZ3lEMTEvR0xvcVgzbmdndGNzd1RVeWtnaDVSaVQrdTdlK2xkMXp0c1BSVkRlSGlzREI5RTNZQ3d3cTJYdXJxQU5Sek5nUk1iRFZSVzhock96c0R3NjhHSUtFZ3lkNGY4Q3dRNWdKYlVoSXFjaElHUDNYVU0yQXV4OU1uU1d2TWw0bXY2aWg4cUVLVW9UWGtRR3pzN0M4dWdSc25tUDZ6UytndDR3Q1Y0RHllMFpYdEgvYXhXWWRIQ3RPRWZNalNuZ0ZOV2U1aFJWblVESEV4eGwwWXVjU1k0U2pyMWk4NzRaSHFvL0RXWThzTzVpekpGK0U1aGRsb292dzhMeTZGSjgrSlN4VFZCU2hSRkhxbmtuUlRzRWd4L2FnRlY0OENpd3JhUnZYeGd6em9IUFRCcnpDekFXSHNybTdUV25SelNPWW1INTFRT0xiVE85b2wrWTRpTFgvTnVTdnVQZ1FveHBDazkyMjlRMTRpV09JbzgxSEpiSEcrV095a251OFlXNUs4UFNMMDdoeXY0T0srR013WUNuWWJiWHdBdGw1dTZLTHl3RmlXMUxRMU5UMTh2U2gvVVRVQ3dzanhXd2NtMHJ5akxXNTRpTTlXMlJ3QkVKcEZXMjNQMi8yYkd3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0R3YVRKandIK1FkblNJbWprM3dBQUFBQUVsRlRrU3VRbUNDKTsKICAgICAgICB9CgogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keSBjbGFzcz0iIj4KPGRpdiBpZD0icGFnZS13cmFwcGVyIj4KICAgIDwhLS0gSGVhZGVyIFNlY3Rpb24gLS0+CiAgICA8aGVhZGVyIGlkPSJoZWFkZXIiIGNsYXNzPSJjYW52YXMiPgogICAgICAgIDxzcGFuIGNsYXNzPSJsb2dvLWVtdmNvIj48L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3M9ImxvZ28tYmFuayI+PC9zcGFuPgogICAgPC9oZWFkZXI+CgogICAgPCEtLSBNYWluIENvbnRlbnQgU2VjdGlvbiAtLT4KICAgIDxzZWN0aW9uIGlkPSJjb250ZW50IiBjbGFzcz0iY2FudmFzIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8aDI+UGF5bWVudCBTZWN1cml0eTwvaDI+CiAgICAgICAgICAgIDxwPkhpIFN0ZXZlLCB5b3VyIG9ubGluZSBwYXltZW50IGlzIGJlaW5nIHNlY3VyZWQgdXNpbmcgQ2FyZCBOZXR3b3JrLiBQbGVhc2Ugc2VsZWN0IHdoZXJlIHlvdSB3b3VsZCBsaWtlIHRvCiAgICAgICAgICAgICAgICByZWNlaXZlIHRoZSBjb2RlIGZyb20gWW91ckJhbms8L3A+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iSFRUUFM6Ly9FTVYzRFMvY2hhbGxlbmdlIiBtZXRob2Q9ImdldCIgbmFtZT0iY2FyZGhvbGRlcklucHV0Ij4KICAgICAgICAgICAgICAgIDxsYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIGNsYXNzPSJmb3JtLWNoZWNrIiBuYW1lPSJkZWxpdmVyeU1ldGhvZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9Ik1vYmlsZSAqKioqKioqKjMyMSIgY2hlY2tlZD4KICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICBNb2JpbGUgKioqKioqKiozMjE8YnI+CiAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBjbGFzcz0iZm9ybS1jaGVjayIgbmFtZT0iZGVsaXZlcnlNZXRob2QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSJFbWFpbCAqKioqKioqKioqQGcqKioqLmNvbSI+CiAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgRW1haWwgKioqKioqKioqKkBnKioqKi5jb208YnI+PGJyPgogICAgICAgICAgICAgICAgPGlucHV0IGlkPSJzdWJtaXRBdXRoZW50aWNhdGlvbkxhYmVsIiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidXR0b24iIHZhbHVlPSJORVhUIj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgogICAgPC9zZWN0aW9uPgoKICAgIDwhLS0gSGVscCBTZWN0aW9uIC0tPgogICAgPHNlY3Rpb24gaWQ9ImhlbHAiIGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InJvdyBkZXRhaWxlZCI+CiAgICAgICAgICAgIDxkZXRhaWxzPgogICAgICAgICAgICAgICAgPHN1bW1hcnk+TGVhcm4gbW9yZSBhYm91dCBhdXRoZW50aWNhdGlvbjwvc3VtbWFyeT4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJzdW1tYXJ5LXAiPkF1dGhlbnRpY2F0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgZGlzcGxheWVkIGhlcmUuPC9wPgogICAgICAgICAgICA8L2RldGFpbHM+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgPGRldGFpbHM+CiAgICAgICAgICAgICAgICA8c3VtbWFyeT5OZWVkIHNvbWUgaGVscD88L3N1bW1hcnk+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ic3VtbWFyeS1wIj5IZWxwIGNvbnRlbnQgd2lsbCBiZSBkaXNwbGF5ZWQgaGVyZS48L3A+CiAgICAgICAgICAgIDwvZGV0YWlscz4KICAgICAgICA8L2Rpdj4KICAgIDwvc2VjdGlvbj4KCjwvZGl2Pgo8L2JvZHk+CjwvaHRtbD4\r\n```\r\n\r\nExpected output is an error (as thrown by Java.Util) while android is successfully decoding it\r\n\r\nHere is the code snippet for android method\r\n\r\n```\r\ninternal fun base64UrlDecode(input: String): ByteArray {\r\n        try {\r\n            return Base64.decode(input, Base64.URL_SAFE)\r\n        } catch (_: Exception) {\r\n            throw InvalidInputException()\r\n        }\r\n    }\r\n```","title":"Base64 Url safe decoding gives different result for Android.Util.Base64 and java.util.base64","body":"<p>I am trying to develop an android application which is supposed to perform Base64 URL safe decoding but stuck at some point. When using android.Util.Base64.decode(string, Base64.URL_SAFE) vs java.util.Base64.getUrlDecoder.decode(string) the output is coming out to be different. Can someone help why this is happening</p>\n<p>String</p>\n<pre><code>PCFET0NUWVBFIEhUTUw+Cgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPHRpdGxlPjNEUyAtIFNpbmdsZSBTZWxlY3Q8L3RpdGxlPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIvPgoKICAgIDxzdHlsZT4KICAgICAgICAvKiBHZW5lcmFsIFN0eWxpbmcqLwogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFwdDsKICAgICAgICB9CgogICAgICAgIG9sLCB1bCB7CiAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMDsKICAgICAgICB9CgoKICAgICAgICBzdW1tYXJ5Ojotd2Via2l0LWRldGFpbHMtbWFya2VyIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZQogICAgICAgIH0KCiAgICAgICAgc3VtbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBwYWRkaW5nOiA3cHggMTBweCA3cHggMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTNweDsKICAgICAgICB9CgogICAgICAgIGRpdi5yZWxhdGVkLWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDUwcHg7CiAgICAgICAgfQoKICAgICAgICBwLnN1bW1hcnktcCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDdweCAxMHB4IDdweCAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjRmNGY0OwogICAgICAgICAgICBtYXJnaW4tdG9wOiAtMjJweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgICAgICB9CgogICAgICAgIC5idXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3OTg3OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAgICAgaGVpZ2h0OiAyLjVlbTsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIuNWVtOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmJ1dHRvbi5wcmltYXJ5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmODIwMDsKICAgICAgICB9CgogICAgICAgIC5idXR0b246aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzM3MzczOwogICAgICAgIH0KCiAgICAgICAgLmJ1dHRvbjphY3RpdmUgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTk1OTU5OwogICAgICAgIH0KCiAgICAgICAgLmNhbnZhcyB7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgfQoKICAgICAgICAjY29udGVudCBoMiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1jaGVjayB7CiAgICAgICAgICAgIHBhZGRpbmc6IDdweCAwIDdweCAwOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCgogICAgICAgIC8qSW1hZ2VzKi8KICAgICAgICAubG9nby1iYW5rIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiAxNTBweDsKICAgICAgICAgICAgaGVpZ2h0OiAzNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gMzNweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTDBBQUFBMENBWUFBQURmYURrZ0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFYWlNVUkJWSGhlN1preFVpdzdERVgvMG9oWkFERUxJSDQ1T1RFNU1UazVPU3RnQjZ4aWZoMEtWOTJua2kyNzJ6MlBHZXRVcVdER2Jsa3RYNnZ0bnY5T1NiSVlLZnBrT1ZMMHlYS2s2SlBsU05Fbnk1R2lUNVlqUlo4c1I0bytXWTRVZmJJYzNhSy91Ymtac29lSGg5UFQwOVBwNCtQang4UGw4djcrL3RlOW5RTWRqL0dUZVJ3bWVyWEh4OGZUMTlmWGo2ZkxJMFYvWFp4RjlCaVYvMUpKMFY4WG0wUWZUUUpibXJlM3QyK2g2M1V2THk4L1BTNkxGUDExY1lqb0ZSWCszZDNkejdlWFJZcit1amhjOUZSOXZmWVNEN1lwK3V2aWNOSERubXQvQXluNjYrTHNvdStwOUp3SGVPTnpmMy8vMTdXM3Q3ZmYyeVhPQnRIYklMMnU4UHI2ZXZyejU4KzNuOUxHR00vUHowMS92YUxIaDhiTS8xdmZXdWw0czBYLytmbjUvVHJabnJtSWwrOXA3NFg3WXo3VUYvbGwvb29melIvOUltYkc1M0c0NkFtd1hFY3lXckFnVkRRdHd4Y2lycUY5bVJpYlFHdjRZN0Y1OUloK3B1QkJ4NXNwZWtTanZtdEd2d2ppMGdMaUdYTTBJdnFaOGRVNFhQUlUxbklkRmJVR2dvOFM2Rmt0RnUwenNwQzhLcUtUaGxsbUN4NTB2SkY4dDZENnF0L0k2Ri9EbnRWYXBrSnVpWDVtZkMwT0VUM0NZWVZiSWJUUVNvejRXQ0IySzhTNE5qRXNLZy90VTR4cjFTZVYzUzRJcjRLMFJIK0U0RUhIbXlGNjhxaytlWlBHSEpWWStjdG52dGQrWHFHaXI5ZXZGSXppeXl0aU5kSFBqQzlpaytoSERTR1Y0RDFzMVlnbVdSTkVZajNVSDBiQ1BPd0Vlb3V6SlhwZGhMTUVEenJlWHRIckZoTnJ4Y24zdW9neCsvU3pBclhGcWVENThrUS9PNzZJczRpZUcyMU5uQ2F4OWZncjJDUjVhSHZrazRPWTlyZlVSSCtVNEVISDJ5dDZ2VCtLUkJRbjdWcWw3WStLV2lTaVNtc0xtamNYcytPTE9Jdm9pNDBHMTBMOWVtaDdORzZya29QWGZxVGdRY2ZiSzNxRVZuejFIZ0JyKzNCYmNIcnVXODkxbnVobnh0ZkRJWHQ2RWtFZkF0TVZpZFhla0xRby9oQXZZclA3T2c5dGorS2xYZnRiYkxzS0hodE5lZy9xUDRvL1lvdXZXazZZdi9JZGk3Mkg2RWxlMnJDOThmVndpT2dWSG04cWZBVGJna3FDdUtrT2R1OVdNdzl0aitLTkVtamJQWnY1RkFQMVBaSnZqeTIrYWprWjNZcUNMcFFsUkE4SUlycWVhbTRyYUs5NWFIc1ViNVJBMjQ2eGtKbEEvVHg2b0dxaFk0M20yN0xGVnkwblcwU3Z2cFlSdlQzTTJNTVBnbTlWZFo0T0pJdnRFbTloUmcreVVieFJBbTA3QXVlZWlGdWZZcjBpNkVISEc4MjNaWXV2V2s2eTBnK2cxMXZSYXlJeEtqNkpxbFZPeEtiOVBiUTlpamRLb0czWFYzUXNRbTNiY21ieFVKOWI4cTJvcjk3NFZLaFlRZS8zaUQzOTN2aDYrQ2VWM3U1L1IxNkJRU1JTMFBZbzNzaGYxTTVFbGpZcVA0dHlMenJlYUw0dEd0L2V0eU4yTG52dWRZbTNOeFpieWJWU2dyYjErTllrWWg3YUh2bU1SQjIxMisxVzdWZmlFZFRmYUw0dGVxYnFXWlIyMjJhRk9GS2tiRzQ4Z2M2T0wrSncwU053RGRCN2U2TythNytjRnJ6RHJyY04wdmFqUlE5MlllOFY2a3hmVm5pdDN4WDQzcDZ2Ykg3MVhwbGJXOFFLbmk5UDlMUGppemhNOVBSaEJhcmdNVS9VZWhQMEo2bDZJL3pQZFZwaDFMeDRvbmFGZHUxdmlkb0xHaC8vMXlhdUJ4MHZpcjhIdXlpSmo1eVdHUG5yNWRpcm92UzEvWFRPYXI2dzJsWmtabndSbTBTLzFhalNIdlpRTW1yZTRVZmJ6eVY2MjIvTGhCVFV6eFpEUkJhN0xZeXN0VmUyZS90ZWEvbWNHVitMczRuZW13U0ZWZXhkWjYxVUFHNjRmT2VKUzY4NWwrakJicitpc1d1b2p5MVd5emU1OHZwYjYxbXczSnQ5a2x2aktSNGRaSldaOGRVNFRQVGxaam1rbEVkVUJJOUhSR1AzYkh3dXJ6RUx1a2hZQ0JhOS9weWk1MTVWQ01TK0JSMXZpN1dLREhsR05EYlBDSkx2ZFdzWndmMHl4MXFFaWkvbUNIVHIwblBJbnhtZlI3Zm9rMlFyS3Zyb2lYOE9VdlRKTUZwOWU3WnYraFFvMWY5ZmtxSlBodEh0VzdSZHNXZTF2VnVUR2FUb2sySHNZUjNoMjRyUFo5dVB6NytCRkgweUROVTZlbXRqalVOcDd3dU5vMG5SSjV2Z1BiMzM0NU5uUEFsK2krQWhSWi9zZ2owN29yWUxnTXJPNjhXZWcrNjVTZEVueTVHaVQ1WWpSWjhzUjRvK1dZNFVmYkljS2Zwa09WTDB5WEtrNkpQbFNORW55NUdpVHhiamRQb2ZRNEdISnBJRzlxOEFBQUFBU1VWT1JLNUNZSUk9KTsKICAgICAgICB9CgogICAgICAgIC5sb2dvLWVtdmNvewogICAgICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsKICAgICAgICAgICAgd2lkdGg6IDE0MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQ3cHg7CiAgICAgICAgICAgIGZsb2F0OnJpZ2h0OwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gMzNweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTkFBQUFBMENBWUFBQUQ3Y2JiZ0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBWWRFVllkRk52Wm5SM1lYSmxBSEJoYVc1MExtNWxkQ0EwTGpFdU52MU9DZWdBQUJlL1NVUkJWSGhlN1owSldGUkh0b0ROWkNZYmdnSUNpcmh2Z0xnTHJzalMzZERzV3pkN0wzVFREYzIrNzlxZ2dDS2lVY0VFWlZNUUJlTVM0a3Rpa2drdmJ5Wk8yRVFkNTAyU041bVorQ2JMWkROUll6YndUcDE3cTVwR2FBUUVOWHIvN3p2ZnBldlVyWHU3YnAwNnA1YmJUR0JoWVdGaFlXRmhZV0ZoWVdGaFlXSDUxVk5VZDJMcDl1cVR5dzRjT1dlS2sxaFlXTzVrKzlHemhuUDlFbXlzaEluNXE4TXpPa3hjNUYvcGJRci95b1FybzB4NGNtcXlrK1Q3aWVqenl2Q01yeXc4b3NvOGs3ZUhTdFRsVS9IcExDeVBKMkhaZTYzbkI4UVZtcm5LdnpWd0VGSDZtOFJZUkJReUdDUncxRTd2RTBObjZmYzJRVWx2TzBadDNvQ0xZMkY1UElncHJacTFQQ3p0K0JST1JBOXRKUFpnTEhjS01TSmRFa1lmSnptS0tUUFh5TGNDMGt0VzQrSlpXQjVkT0RINVlVWWN5WmQzR2doNG5VbU9raC9uK2NaOWFjU1JsUWRtbFphdkVtVTJvUkR1R3VpSW9IQ08yaWpQdTJYSWtkN1FSMTZMT1ovMlZEY3NCUW5xNUxLeVovR2xXRmdlSFJ6VTZ0ODZxVGJYb1ZEdGRqL0RRVVpnN3E3ODJpazZ2NElYdDIwT3pxNkJsMXFxdDhBL0xnOTVtaCtKMGMzeVZuMGNuUDM4MGczeXZOQzVQckh2VDNJUUV5T2lGZ1RFdDFzSWtsa2pZbmwwVUt2VnYxa3J5em5STjdhQjhFdEVtZkJrMzlwSk10UFZsUzNQNGF3NnNaV2tMWi90cmJySm5DK2lMTnlqUGxZVXZqZ05kRTdSVzBRR2p1SVBJVjBmNlpGM2FwdmxJSG1HUHBHRjVkZU9SMkp4azhiaklORkRzalE0NVk5NUI1b1c0U3pEWW12VmlSVld3aVJrUkl3aElvTnF4YW9KZ3V5OUppaUUrejI1ampFeW92bjgrS2V4bW9YbDE0bERsRnBnb0FteG1FRy9pWXNzRGF0SGpHanJnUlZtcnBIWHdSQ2h6Q1hCS1R1d2ltYU9sK29nNk1EYldRY212ZGQwL2p3YnpySDhPa2t1cTVzK3lWSHlNUk82aVNpWXFyYjBqMC9CNmxFengxTmxhOFNKb0wwWlRDcDRwNWF1d1NvYUUxZFpKZTN0MFBWV2lUSnljVExMQTZic2FJdURUV0NDKzNPYlJFaEMzRkc3b1AvbUoyeDFiemo3N2l5Y2pZVXd6VTFaUVR3UEdORjh2L2hkV0hYUHpQWlI3V2JDTlJFMTFVM3hCNXhNcyt0b3k1U1pudEVmZ0I2TmpXN1lCQ2VZWWRXUUNMTEtXdGZMY25ySFRDTHpwTGhvR3J1SWJPc05Xdm9OOHR3ZjNXS0xGMkwxUGVHbzJPeUJ5a05sb25KUjJRN0tMVGZWQjA5YWdNNGxmdHZyOUhXUjNrNmNkVFczNHRnTStxUjdZRU5rN202NDNucTRYbVR1THpIRjFmMDZNWUpuY29tRGRWREM0Zm0rY2Iwa2FtQ09TUER5QlU2L2pTS0dmOXVLTWt0RDFidm40dE1mWC94VFMyY1pPMHMxTTI1emZGUi9GVFkzUDRuVjk0d3dSajNSM0YzNUxWTytpSklWVlBUemJJdUQwdVpOY2hML0RIcExZZUwvNE9RaDRjWVdmRG5SQVpVM1JxTHZFQjZCaTZhWnVESE11bDhlcUJkdjFXV3NIalYyWVdxRE9kNHh0MGhkUTMyZ01KZUNyVkNndHhYbHVJSTNKcE00cUtGVzB5ZU9Fa1h4aTJ0TWVITDhiRVhvMmNiOENhczBiSXpJbW92R3BPOUIxQUY1R0dIdWo5eEhmK2xMTTNTVzlGb0pFc3N0MWdvZTMvQjdlVmpxUWFnTTZGMVFoVkRySTNPV1k5V1lJY2phdFJPdUFaTVNzNzFVNTFIU0U0eUd3VmFTY0JMMHhoenBiWmoyeHNrNjRjWVVmQW4zcStraDcxSDBOdzVpUUFNYWo0aGFJODdNdzFsR2hVMVFjcU0rWGxnbTRmSlVMUU9pS09xSnBhR3BsOGkxVFhpeVhzK0VIVFBwazBlQnRURHBWZWJldzJCTTI4TlJGZGhpRlkxdjJrNlZrYlAwSi9JZGljRVlPa3NwRkJsOGdjTHV0b1grQ1cxemZXTGJVSHFidVp2aUM3S21wMTMvTXp5anY3RVdKZzY3M1ZSMmR2NHVxdkFGdTJmdHhYWThWWUZRdkdWZm1RSDYyOElqeWk2djRyQVZ6dmJ3QTR1WlpxN3lUNkFTUUZDbE5XTFZtS0pVVno1bjdxYjhEcTZCeGxwVWNmVUpUUmhSMWU2NnFPUTFsMnVHenN3OVdBb1M2N0ZLSjR3Qk1UMzFzdEMwVzFuN2oyUm43RzhZdFdRL1g5ZlBhTUdBU0dPQ280RWowOWlSZ2Y4aUw2cTRxNEVQaHJOSzdVdDZlUlN1MG1XRGFIc2dRS0l1NThNRUR1ajBVTjdwYm9wYXJCb1JHeUp6MWs1MkVpUHZ3MXh6alRUcmoxaEY0NVpVVkVpdVF3eDJwcWZxODdYeW5HMnFYVFV6MUxXdEE1WVhKT3JhWjJLTER5NjBDVTRzTmVjclA0ZTZnWHZFQm5yRG5DOWJnYk1PU3NqbVBlc1crTWVWVCtOSDNwaU1PbXZhQU8yWjUwaUxneGpHeWowelBhUCt6eTQ4SXdOMXBzTUs2UjhZY1NVMTlpaDhvU3NRWnVBMnl0V2phaHpEd1VxWVZFd2FqWjAwYXgra25ia2tXMVRUNmZidG9YWU90VndXU04rSENWZCt2YXlwYWNpUWdJTU1pRFNNdFJFNTMrRGtNVVBiZ0V4Y1pKUlRkSDRIV1JORDMrTVN6alpzSEZBWWF4a1Fmd3NhRE5Uenl2QzBhdEo3MzJsQWdMbXJvb3A4UDlRd2Y0bmJmdEFacTRaRkxXcjhGaDdSYnpCbElJL2lKUGxlZS9GN1lXQ0M3V1JueG5qZ1BpRHlXQldlZmhBNk9wemxya0JlUzBGU0lUTFNYNkFjRUF0MzVRMmhldWVBemNQUnBRZE1WNHN5enFMcmFDM09NOTl2b1BUcHBya3BibGtIcFVnckt5dC9oNHQ2dUpqbG9WQ1JHMGJ4OFY5eDhyaVFobnA1TWsxdXpJczQvOUpsaWVYaFRvOXJWY2g0UUJUbFhyUU9ldW5GZ1VsRGJqeGxQQkN6V1hWdFJPNDRHNUNjeW43eEdBYzE5SS9KdzNlTXpsZmpyTU5pdFRqaktEbDNuay9zSHljN2hTOGpuN1ZET0lKLzlpNUxwckV4OTJBbFRPeFNVOVJ2c1BxdStLVHRER1c4SFhPTjJWN1J1N0dLeHBRcnY4aVV6V3k1NHNUa3A4TWlPbGFQQ0pmWXdnQmtPSCt4Q1U1U280NWlnUEdzQ3NtMlJOOFpqNEg3QkgzdjNpazgyVWQyNHN5UDdDUHpQcklKU3YzSXlEbmlNeU9PdEY4KzhQNkxoY21ucllYcXAzQ1JEdytPMFZ2ZUpUZTZOQ1JsRzA0ZU4rYjV4YjBQMTFvY0txWnEyajJ1RStNQktYbk5uVFllZUtpYkZKdHBENlVMYlErMFpqdzlFUExPOEpyRzFyclRxMWFFcFhPWVVJNDJxbHVMdkdYNk9QdVErR2VYK0U2bVF5VjZSOGRQNjhKVFRmVTJoUzRoOVQ2WUJ3S1docVRXTW5sRTRFRW8xR2x3c0dwSTFPcm1weFlHSkh4R3lwL0NpN2pobFZDa0NZV1E5eGNTSFpTOU9EQzVFY1plV0QybVNJb3FMYzFjSXErUjYwR2RHbk5sZjFzc1NCTEJSbVdjVFVOVDAvbG43Y0p6NXlEUFZvM0dXdGZKTXdaWkpFZzRyVzV1ZnJpTWFLWkgxR1VJVGVDTEJXYVZ1ZVBrY1FNMTlqb2JjU0MxdDVXbk1SeEd1TlRCLzVZVm83aWEzdldOZXFFaHgyTDlQZEQ5TVNBMHhIOWlTVWpxT2RMd1puZ3Evd3RuMXdrL2Z1L1RxTUYwd2VRSmxJZkdkL1FNcE40bTZWME5LR1ZYcmFVcFQ5YXJUMDhoaXlnMGh1d2NqcGRZTFVvWDBmZU83M09ESXE5Zlp6VGJKK1lWY3UwcFhPblBDVVdIeG0yY2djTGRkMG1vQ3BNUHlMQmZudUNnL2kxV0Q4bDhRYnoxRE04b2JIek11SEZsYUZxLzVZWUh6a1Q3Y0dSQWRCemNnNVBHbGZ6VFhwa3ZuT2ZlWVR3Y3FycWQxOXA4UmZnVXVoZDZUV2hsZU1ZUCtKUkIwVFlnTkdicW1XZ3Y3aGlXYkJKM1ROb1lldGUxQzIwRE1rVWhIR05BS0Z4SlZodVp1MGZSVSs2Z2QxQnNFZEVuNkdDNmg3SUFIajdrWHlSSS9DZFpIdEQyUUlPRmNJUVZvZW5iU1Q0SWY2MkNFdDJ3YWxDRXd1WW56VnprLzAvT21lWVcrWFhXL2xQR1dEMUJpY1lTaXdJU05lR1VLUy9pYmF3YWM1d1ZCVTZNOFREMU9OMHQ2alhZcUl6VncySkRaTjVpTkZiN25xbERtUEtYZjl3OGhrc3M5d3hqUUhUUE9LNEc5T3FIOFUvWGQvZzAzR2s0dExSeHI4RjRDUEtobmhvWkVCcVBlY2NNYVVCTUNNYzBncEdKaU5KekVpL0d4ZWhrY0EvRXNDbzhRMDdLUTQzL3UxVks5YUFENzJYQk1ZdU5uSmw0SG8wemVzTnk5enRpVlo4Qm9mSjFlU0JBcU53eENRYlNwQmVmNXhmN1JYcFZsYzdRRWRWTElmRStjSTZWSUw2ZmdRdlY2cWRtZVViVGVxZ0x4eWoxdUJuUVdtbE9QWE9kTU9UcEltNUhsMVNOYUQ4bFliVTRheC85blpBbmhobGNUdXcyVFQwK2NJZ0hRb1AyditPa01hZXgyOCtqdHNQOTYvNkdRN3dRbHpwNVNaS0VzNktHRlVaN0lFTm42YkE5MEVqbFhnMElRRDM3bTB6akNLY1dDdUpmd2NrYVZpbVZ2N1B3aUtMSGV5RFdnc1FYc0lwbXVBWUVMQWxPVG1MS1lYcmhkZExzUkt6cWg3cTJlZXBzYjFVdnVhYUZtL0lxaEpCWVRRTUdOTk5UaGNzS2g4bURjVE1nMUxicWlUSERobUdjUEdKTU9SRnpZYWFZZENKMm9rd1pWajE0VUE5S0d4Q3EwQWFjTkdZMFhnNWVlcVRMdHdzTTVSQ1M2bmJ1K2VNWFE3U01oME0xZEFkbzRuT1l1a2FHUTY5SnpmWWEyZ05wR3hEeW5qZjE3RVZCd3hWRHJuQVNMa1ludWtJNFFuRGVyaFZvbkhZYnhqYXdsc0pSYlFuQ0tobzBNTi9PTkI0Uk5aVWYrUWxPMWtBTUNCckZVQ0VjVUx6L3NQRkN2L2dmU0tOSEh1bHJmcnphQUtzMUxBcUl6eWRsd25qRFFaa1hqbFVhaE9ybXB5eUZpZlI5UWQ3NWZuSGpaa0JySXJMcGE0QXM4azhZdFFGNUpHMmZpOEowK2xtREJHYVdIY0dxQnc4dnBvQU80ZGJKY243QlNmZk15VXNSZ3BwMjExUElZR2dqT2R6bGRmV2x5NHJVdWs2djQ4UndhSGszL01QVzFyNllHRmJjb2JjSGwyOGxTQnAyQ0xkR21uMmZKaEg2WXhPY29vYTZnd1pyN3E2OEZxYmVTemZxOVpLYzVTWThHYm8zWm1IUUtpak9uajVCaTVGNElNQWxkbHM4czhXSDd1eW8yZDR4Q1ZoRjQ1ZGFhanFOcjJEV1dPeGhkM3Z5UDNYTldCbHhwYThRQXpKemlmeHNwT09TNFRMSEt3YlA4TklUSUtNMm9BWCtTWE1uT1pFRjMzREtQYW1vR0tzZVBGUDVzaGk0cVlYK0NmYzBCbXA1UDhXeTRVSkFXazJIYXpjWVIzVUhqNnJ0NUw5UjIrRzI0ZVdMY1hOcU90MWJ0WTBuK2JBSHRWR1pmUXFmVHJOT3V0bVdWUGg4di9naDk4VGR6MWs0VXgwR2hIakN3bDM1ZC9KZ1Y0YWx2K1lnVVQrendDL3VLbW1neTRKVHp1QzgvZEEyb0x0NUlJS3BhK1JGY3EwcHZJZ2Y0a29QYWhaR2w0Y3cyN0ZBb0xGWkJTUU91bUVVV0JHV2xrdnlnZ1JuN3k3RXFqRmxsbWNVSGdPaEVJNHIvUUxxQnF0R2hGZHljVFk4Q3hDWVNKbmxFM3QveDBDdC8xQlAxalhQTDhqWVlRZGZFTjFjeitFMzJ6U3pOY09oNlVLWTliSHVrUFRxZHBjenlDaDZ3ZVBVZFhyKzQzaDM4SUg2OThLZ04zN2kySVdnOWRYdHZNKzFqVWRaNFlrZWNoaWw1eUNLWjBwaXNBbEoyUU1ORDZadGtRY2FjdnNLWTBCTXBkNi9hZXlCaEczZTcyZmdJS0xISFpPZEpMZlhTTE82U2FNeGRKSjhxcTVzSG5RZjIwZzlFT0NzS3ZDQ2NKRXhUaEcxWHA1N0d0TGp0MWV0TUtLM3hUQkdhK29xSHpBbTArYlF5NjN6WjdoSDBmc1NRUXcyaVQ1YkVabzc2bGNVZ3JKMkxWd1drcklycHV6UWZKeEU0NU8yQTQzZG1Ic0NXU3ZOR3ZFT2Y1aWdnVDE1cEJ3VGJzU1BaVTJ2VE1mcSswUExsWVNaOVJlOE94c3ZCSDZNR25sWlk1ZFFkcWpEMmE2cFcyNVgxUGk4Mld5ZnlCc3dTUE5PM3U2SFQrbEgwL25rWnlFdm5IUDBZdEFXVk1hKzZnN1hINUF4OUJ4cTUxNUQ0Vm9iOGpTcGIzMmd0aU1oMmFzZjhwOCtla0d3RzQxM2JoUERxZWx3b1dJUGVyK2w3OEJzaWVHbzhqVUdCUHV1cHJzcFAyZTJ5NkI3U1MyT3hxcEJZVUk0cGlIZHI0VlVyQnFBclRqak9HbThtZ1pqSDk3am9GUVBHSU1RUm1OQTBBbWljUTR5VU9ZYXlKaCs1aVpzWGJBMExQVnRVaGV3aWgrU1UyYUhUOUhKOHREVWJISU9pQWxYOWlueW9DdXhldGpZaWpNM21mSGsxNkFNVTU2c1o1MHN0N0N5K1UxNmpBbHJWdVp1aW44ejlVSjdJWGgxbzkrbTNhRUE0MWtTRE4rdHIxN24rY2IwZXluenZ0Rk1DWjk4OWNPMGVVYzZmYlByT2p4aE92bGlUWWZiVCtoNDg0WHpuSjZLUDZEeFNodi9WbU4zMEhXUXVrNlA2NGZhblpGd3JsZTFjVzVXZHlEdjB1SCtNMHE3ZVBSQ1FDZEt6NFpKZ3FiekE3ZXhIN3NRc1A1SWw4OFh4SEJvNDJsMy9mTGtsU2lCVTNRK2N1dk1ROXZUZUZZVFppd09UTFVsR3l3Tm5hUTlpVHRyaDl6WnF4M0MyVW5HT1lRYlpCSkJtNWlkdFZPbmNLWDAyZ3VaS1VKamtDRkQwSkZNSW1nVFUzTEluVXlOUXgzTzhveSt4R3lQWXE1ckpVZ2MwdnNRMUsydHY3VVdKcjVGbmdXY085bFIzT3NZbGYrMlcxTGhrRDg3ZHVUY09UM3Y1Q0tuMWFLTXQ1RVJhN1lid1hHUklQNVZLQnRubmJBMEpITWplR1p5ZndZT1liMmJGRnZPb3ZHaU5jNHlnUExtMW9sTGcxT2Rsd1FsZlF0bGtqcEZudWlUd3ZxVDlHOXJQQlNjN3BaTTN0L0dNVzY4N0dYMjhsOWk4NnM3M1BJUHRYR3dPT1hYZHdYa243a1NHd3Q1UU01ZVZobmlVd2ZsekpVbzYvb3UzemVxMmhpdmc0d05wQWVOaTA0MVh4Rk9oRHdMQXhML1RGZUdSL1QzU21YZkJrRTBLTWFyNDNTanVJcVRkYUx0Z1pEaDNkYXpELzhLQkpWQi8xTHFhQ1QvMEhGTjd6Z1NEd1NnY0NxSTZRQkUxQlN1N0taUDVwN1pXRFVvby9GQUFQSkN2NW52RTRkL3Q2S3Y4ZFAxNENDK1dWcmYwdTkxaGFGWWhlcC9jVWp5N3lkcTdabURDTURBVWRRN3pVM3gxUXdQVmZsME4wVytyU1F6MzFhVW1UL2RMU29maGN2dlRIV1Jmd2ZyTWN3dWJPWTgrTHhhbkhGMnNBa0phMkdTa25uZmpOd3Z2VFdwMXlZdytSTTloN0Q4NWFGcGFpaC9ubDlzL2x5LzJHcmt0YjZiaExkMGtlODJqYS80MStxZ2xCbmcxWTYrMUdvSjBuam1EWE1vdjZXbDVibngyb3AwWDJpNkdENm51cDIvSHhuZVRXMnZVOXZCLzdTeE95QVFaNXV3NTloWkt5YUdENmRRS1BKN25EekJVcGl3aW93am9MTFdSV1R2eENxZGFIdWdpZlNST1pjcEE4TEFrVW80VlZCMVFoTTJqdFNBV2xHdnU4QXYvbldZS2JNV0pFYmhaSjJNMW9BQUZDYk5NdFI2aDRkOGJ4VGU3TUZaaGsxejg1V25sZ1NueEJvNVNlamVIaFlyKytxUi9IM25aL0kzSTFQNWltdDJrZ3g1WldXbnpoM1RndlF5SVRJTTNPbjFsVU84Q3puZXFZZjJnanJiMXlKMzdLWGYyRDF5L0p6TnJvckdNN3NQTkJXWFZSeHIzRlBSRkxTcnZMR3F2dm1OU1BwQ3Z4WmFPdFhQMVhmNnJhM3I4bnk5R28xdHRBMm51b1AzWFgyWFgvSHJWOVJHT0R2TkduRldBVk01OERwRE50M0lZTUZ4b1gvQ3YwaUZvUmorKytEMEVycG5HUXArUXRHWHhwd0lhaXlsVU11QWpKd2pyT0czSEdCTVlZRUczTnZ2WWtDQWE1UjZ0cG1MdkJHMnkrQWtuVXptU0pkQTJjWklVR2hDN2F4N2VkZ0dCS3dTWnpiQXVYQ1BjTy9JWS96QWoyZW0wVWZEV3JuYUNKVlpZZVlTK1Ruc3ppYlA2YzRHVGY2R01CSmQ4MU9iNEtSQ1FYSlp2K2VzQzlYMm80YmN1SzM3WUt3TEwrejFsY2VVcVcxTThKTGZBdi80S3k1eCtVRjNidDBwM3RkQXI3bVZsTmZMZHI5d2ZNZnpMemFkT1ZCOXB0KzAva05KMDlYa1owOWRqbDNYMkMyc3FPbmcvNHNZREJvUDBjZWFkdjdOMm5hM2JkVVhCQ2I0RkExQ29mQkpFNTdzQ2xRVWl2bC9JcHNpMTBoem1rZ0lBUlczTENTbDM0cTlMdEwzVkMzaXh4ZFpqNlVjUGZzSFRZZ0tLL2drM1R1MXlMcTJkZURMWmZlQ2R2bUMxRkpyZUg4SHE0WUYvTWcvT1IvRVJiWHRubjg3QVlDMW8rVmhxZFkrS1R1M29YRmRPWHBlV2hKV1Bzc2pxandrYjIvdXhnaTE5VWhlcjlBRzNrYUYzNXdJeU5oWk1JMHZwOHZXUjJWRCtZc0RrOHY1aVlWQ1ZDY0RmcmlUVUxMdmlDOXpQT3BiZHVEWXZ2cW1ON3hMOWg1VjBzcXg1TXlmWlU1VmJTNkswMWRpbHJkMEtvZjlvaFRoekYvVDlWdXVLR2NlN3ZSVk5GNE1lcWUyMC9VcU1Sb3QrUVdOY1Q2b2JYY1ZuZnViV3VlL05sa2p6ZlludmMxMDlCQWd6WkFqQ2tLZk5WdFBwcnRIWGN0K3Z2SGhmZ09SNWZHaDVYM2xsQ01YZk42SGhsN1Q3dm90R3RDLzA5Z05odUNtT1BnZVIxeU5CSTRITzV3MHg0WXVRUjQ2NTUxRDczSGVPZHpsMWF1OTdhYTZ6Mmg2VU5qMlFVTlh3T0c2YnErNzdpdUwzN3YzNldsdVNucGZHTXowWkpZM2JQSlBMMzNSd0NIOE5oTnowek52dHhkNHgraGMvR05oZVdBMFhCRElxOXA0eDlGNHBZY1lnMjV4dnVNelkwQjFuVjQzcTlxNHgyczYzRUpQWDFJc3dVVVBDNWZZd2hJd0VnalJuR08ydHMvM2pUdkdlQjBjdXFFUWJycDdaQ2JPenNMeThISzZPM0Z5UTVkL0VCcTNCSjI0SkQ1eXBNdnJGRElRUmpyZ3lEMTEvR0xvcVgzbmdndGNzd1RVeWtnaDVSaVQrdTdlK2xkMXp0c1BSVkRlSGlzREI5RTNZQ3d3cTJYdXJxQU5Sek5nUk1iRFZSVzhock96c0R3NjhHSUtFZ3lkNGY4Q3dRNWdKYlVoSXFjaElHUDNYVU0yQXV4OU1uU1d2TWw0bXY2aWg4cUVLVW9UWGtRR3pzN0M4dWdSc25tUDZ6UytndDR3Q1Y0RHllMFpYdEgvYXhXWWRIQ3RPRWZNalNuZ0ZOV2U1aFJWblVESEV4eGwwWXVjU1k0U2pyMWk4NzRaSHFvL0RXWThzTzVpekpGK0U1aGRsb292dzhMeTZGSjgrSlN4VFZCU2hSRkhxbmtuUlRzRWd4L2FnRlY0OENpd3JhUnZYeGd6em9IUFRCcnpDekFXSHNybTdUV25SelNPWW1INTFRT0xiVE85b2wrWTRpTFgvTnVTdnVQZ1FveHBDazkyMjlRMTRpV09JbzgxSEpiSEcrV095a251OFlXNUs4UFNMMDdoeXY0T0srR013WUNuWWJiWHdBdGw1dTZLTHl3RmlXMUxRMU5UMTh2U2gvVVRVQ3dzanhXd2NtMHJ5akxXNTRpTTlXMlJ3QkVKcEZXMjNQMi8yYkd3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0R3YVRKandIK1FkblNJbWprM3dBQUFBQUVsRlRrU3VRbUNDKTsKICAgICAgICB9CgogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keSBjbGFzcz0iIj4KPGRpdiBpZD0icGFnZS13cmFwcGVyIj4KICAgIDwhLS0gSGVhZGVyIFNlY3Rpb24gLS0+CiAgICA8aGVhZGVyIGlkPSJoZWFkZXIiIGNsYXNzPSJjYW52YXMiPgogICAgICAgIDxzcGFuIGNsYXNzPSJsb2dvLWVtdmNvIj48L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3M9ImxvZ28tYmFuayI+PC9zcGFuPgogICAgPC9oZWFkZXI+CgogICAgPCEtLSBNYWluIENvbnRlbnQgU2VjdGlvbiAtLT4KICAgIDxzZWN0aW9uIGlkPSJjb250ZW50IiBjbGFzcz0iY2FudmFzIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8aDI+UGF5bWVudCBTZWN1cml0eTwvaDI+CiAgICAgICAgICAgIDxwPkhpIFN0ZXZlLCB5b3VyIG9ubGluZSBwYXltZW50IGlzIGJlaW5nIHNlY3VyZWQgdXNpbmcgQ2FyZCBOZXR3b3JrLiBQbGVhc2Ugc2VsZWN0IHdoZXJlIHlvdSB3b3VsZCBsaWtlIHRvCiAgICAgICAgICAgICAgICByZWNlaXZlIHRoZSBjb2RlIGZyb20gWW91ckJhbms8L3A+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iSFRUUFM6Ly9FTVYzRFMvY2hhbGxlbmdlIiBtZXRob2Q9ImdldCIgbmFtZT0iY2FyZGhvbGRlcklucHV0Ij4KICAgICAgICAgICAgICAgIDxsYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIGNsYXNzPSJmb3JtLWNoZWNrIiBuYW1lPSJkZWxpdmVyeU1ldGhvZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9Ik1vYmlsZSAqKioqKioqKjMyMSIgY2hlY2tlZD4KICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICBNb2JpbGUgKioqKioqKiozMjE8YnI+CiAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBjbGFzcz0iZm9ybS1jaGVjayIgbmFtZT0iZGVsaXZlcnlNZXRob2QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSJFbWFpbCAqKioqKioqKioqQGcqKioqLmNvbSI+CiAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgRW1haWwgKioqKioqKioqKkBnKioqKi5jb208YnI+PGJyPgogICAgICAgICAgICAgICAgPGlucHV0IGlkPSJzdWJtaXRBdXRoZW50aWNhdGlvbkxhYmVsIiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidXR0b24iIHZhbHVlPSJORVhUIj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgogICAgPC9zZWN0aW9uPgoKICAgIDwhLS0gSGVscCBTZWN0aW9uIC0tPgogICAgPHNlY3Rpb24gaWQ9ImhlbHAiIGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InJvdyBkZXRhaWxlZCI+CiAgICAgICAgICAgIDxkZXRhaWxzPgogICAgICAgICAgICAgICAgPHN1bW1hcnk+TGVhcm4gbW9yZSBhYm91dCBhdXRoZW50aWNhdGlvbjwvc3VtbWFyeT4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJzdW1tYXJ5LXAiPkF1dGhlbnRpY2F0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgZGlzcGxheWVkIGhlcmUuPC9wPgogICAgICAgICAgICA8L2RldGFpbHM+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgPGRldGFpbHM+CiAgICAgICAgICAgICAgICA8c3VtbWFyeT5OZWVkIHNvbWUgaGVscD88L3N1bW1hcnk+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ic3VtbWFyeS1wIj5IZWxwIGNvbnRlbnQgd2lsbCBiZSBkaXNwbGF5ZWQgaGVyZS48L3A+CiAgICAgICAgICAgIDwvZGV0YWlscz4KICAgICAgICA8L2Rpdj4KICAgIDwvc2VjdGlvbj4KCjwvZGl2Pgo8L2JvZHk+CjwvaHRtbD4\n</code></pre>\n<p>Expected output is an error (as thrown by Java.Util) while android is successfully decoding it</p>\n<p>Here is the code snippet for android method</p>\n<pre><code>internal fun base64UrlDecode(input: String): ByteArray {\n        try {\n            return Base64.decode(input, Base64.URL_SAFE)\n        } catch (_: Exception) {\n            throw InvalidInputException()\n        }\n    }\n</code></pre>\n"},{"tags":["java","open-telemetry","javaagents"],"owner":{"account_id":120700,"reputation":367,"user_id":2479862,"accept_rate":50,"display_name":"yurybubnov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690190396,"creation_date":1690185268,"question_id":76752400,"body_markdown":"Recently I added OTEL java agent to our application and right away noticed increased latencies, sometimes doubled from 20 ms to 40 ms. Health check went from &lt; 1 ms to ~10ms. GC pauses increased from 15ms to 130ms.\r\nAlso, now I see BLOCKED threads in a thread dump with wait on `io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.\r\n` with o only one RUNNING thread\r\n```\r\n&quot;ForkJoinPool.common pool-worker-3&quot; #269 daemon prio=5 os_prio=0 cpu=1519375.00ms elapsed=36357.28s tid=0x00007fd9a8007cb0 nid=0x262 runnable  [0x00007fd88c5ca000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\r\n        - parking to wait for  &lt;0x0000000304753f40&gt; (a java.util.concurrent.ForkJoinPool)\r\n        - locked &lt;0x0000000303002610&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.getIfPresent(WeakConcurrentMap.java:193)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.get(WeakLockFreeCache.java:26)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapGet(VirtualFieldImplementationsGenerator.java:297)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.realGet(VirtualFieldImplementationsGenerator.java)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.get(VirtualFieldImplementationsGenerator.java:279)\r\n        at io.opentelemetry.javaagent.bootstrap.executors.TaskAdviceHelper.makePropagatedContextCurrent(TaskAdviceHelper.java:23)\r\n        at java.util.concurrent.CountedCompleter.exec(java.base@17.0.7/CountedCompleter.java:754)\r\n        at java.util.concurrent.ForkJoinTask.doExec(java.base@17.0.7/ForkJoinTask.java:373)\r\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(java.base@17.0.7/ForkJoinPool.java:1182)\r\n        at java.util.concurrent.ForkJoinPool.scan(java.base@17.0.7/ForkJoinPool.java:1655)\r\n        at java.util.concurrent.ForkJoinPool.runWorker(java.base@17.0.7/ForkJoinPool.java:1622)\r\n        at java.util.concurrent.ForkJoinWorkerThread.run(java.base@17.0.7/ForkJoinWorkerThread.java:165)\r\n```\r\n\r\nOthers are blocked like\r\n```\r\n\r\n&quot;ForkJoinPool.common pool-worker-10&quot; #276 daemon prio=5 os_prio=0 cpu=1528899.78ms elapsed=36357.28s tid=0x00007fd8f00032a0 nid=0x269 waiting for monitor entry  [0x00007fd88afb7000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n        at java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\r\n        - parking to wait for  &lt;0x0000000304753f40&gt; (a java.util.concurrent.ForkJoinPool)\r\n        - waiting to lock &lt;0x0000000303002610&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.getIfPresent(WeakConcurrentMap.java:193)\r\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.get(WeakLockFreeCache.java:26)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapGet(VirtualFieldImplementationsGenerator.java:297)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.realGet(VirtualFieldImplementationsGenerator.java)\r\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.get(VirtualFieldImplementationsGenerator.java:279)\r\n        at io.opentelemetry.javaagent.bootstrap.executors.ExecutorAdviceHelper.attachContextToTask(ExecutorAdviceHelper.java:51)\r\n        at java.util.concurrent.ForkJoinTask.fork(java.base@17.0.7/ForkJoinTask.java:649)\r\n        at java.util.stream.AbstractShortCircuitTask.compute(java.base@17.0.7/AbstractShortCircuitTask.java:133)\r\n        at java.util.concurrent.CountedCompleter.exec(java.base@17.0.7/CountedCompleter.java:754)\r\n        at java.util.concurrent.ForkJoinTask.doExec(java.base@17.0.7/ForkJoinTask.java:373)\r\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(java.base@17.0.7/ForkJoinPool.java:1182)\r\n        at java.util.concurrent.ForkJoinPool.scan(java.base@17.0.7/ForkJoinPool.java:1655)\r\n        at java.util.concurrent.ForkJoinPool.runWorker(java.base@17.0.7/ForkJoinPool.java:1622)\r\n        at java.util.concurrent.ForkJoinWorkerThread.run(java.base@17.0.7/ForkJoinWorkerThread.java:165)\r\n```\r\nOr from another thread dump \r\n```\r\n&quot;ForkJoinPool.common pool-worker-5&quot; #271 daemon prio=5 os_prio=0 cpu=7780467.78ms elapsed=219941.20s tid=0x00007f889c0019d0 nid=0x271 waiting for monitor entry  [0x00007f882018c000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n\tat java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\r\n\t- parking to wait for  &lt;0x0000000303003108&gt; (a java.util.concurrent.ForkJoinPool)\r\n\t- locked &lt;0x00000003030017b0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.put(WeakConcurrentMap.java:205)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.put(WeakLockFreeCache.java:31)\r\n\tat io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapPut(VirtualFieldImplementationsGenerator.java:304)\r\n\tat io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.real put(VirtualFieldImplementationsGenerator.java)\r\n```\r\n\r\nHas anyone have any idea what&#39;s going on? Is there a deadlock situation between FJP and OTEL agent?","title":"OTEL Java Agent high GC pauses, added latencies and blocked threads","body":"<p>Recently I added OTEL java agent to our application and right away noticed increased latencies, sometimes doubled from 20 ms to 40 ms. Health check went from &lt; 1 ms to ~10ms. GC pauses increased from 15ms to 130ms.\nAlso, now I see BLOCKED threads in a thread dump with wait on <code>io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap. </code> with o only one RUNNING thread</p>\n<pre><code>&quot;ForkJoinPool.common pool-worker-3&quot; #269 daemon prio=5 os_prio=0 cpu=1519375.00ms elapsed=36357.28s tid=0x00007fd9a8007cb0 nid=0x262 runnable  [0x00007fd88c5ca000]\n   java.lang.Thread.State: RUNNABLE\n        at java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\n        - parking to wait for  &lt;0x0000000304753f40&gt; (a java.util.concurrent.ForkJoinPool)\n        - locked &lt;0x0000000303002610&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.getIfPresent(WeakConcurrentMap.java:193)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.get(WeakLockFreeCache.java:26)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapGet(VirtualFieldImplementationsGenerator.java:297)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.realGet(VirtualFieldImplementationsGenerator.java)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.get(VirtualFieldImplementationsGenerator.java:279)\n        at io.opentelemetry.javaagent.bootstrap.executors.TaskAdviceHelper.makePropagatedContextCurrent(TaskAdviceHelper.java:23)\n        at java.util.concurrent.CountedCompleter.exec(java.base@17.0.7/CountedCompleter.java:754)\n        at java.util.concurrent.ForkJoinTask.doExec(java.base@17.0.7/ForkJoinTask.java:373)\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(java.base@17.0.7/ForkJoinPool.java:1182)\n        at java.util.concurrent.ForkJoinPool.scan(java.base@17.0.7/ForkJoinPool.java:1655)\n        at java.util.concurrent.ForkJoinPool.runWorker(java.base@17.0.7/ForkJoinPool.java:1622)\n        at java.util.concurrent.ForkJoinWorkerThread.run(java.base@17.0.7/ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>Others are blocked like</p>\n<pre><code>\n&quot;ForkJoinPool.common pool-worker-10&quot; #276 daemon prio=5 os_prio=0 cpu=1528899.78ms elapsed=36357.28s tid=0x00007fd8f00032a0 nid=0x269 waiting for monitor entry  [0x00007fd88afb7000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\n        - parking to wait for  &lt;0x0000000304753f40&gt; (a java.util.concurrent.ForkJoinPool)\n        - waiting to lock &lt;0x0000000303002610&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.getIfPresent(WeakConcurrentMap.java:193)\n        at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.get(WeakLockFreeCache.java:26)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapGet(VirtualFieldImplementationsGenerator.java:297)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.realGet(VirtualFieldImplementationsGenerator.java)\n        at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.get(VirtualFieldImplementationsGenerator.java:279)\n        at io.opentelemetry.javaagent.bootstrap.executors.ExecutorAdviceHelper.attachContextToTask(ExecutorAdviceHelper.java:51)\n        at java.util.concurrent.ForkJoinTask.fork(java.base@17.0.7/ForkJoinTask.java:649)\n        at java.util.stream.AbstractShortCircuitTask.compute(java.base@17.0.7/AbstractShortCircuitTask.java:133)\n        at java.util.concurrent.CountedCompleter.exec(java.base@17.0.7/CountedCompleter.java:754)\n        at java.util.concurrent.ForkJoinTask.doExec(java.base@17.0.7/ForkJoinTask.java:373)\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(java.base@17.0.7/ForkJoinPool.java:1182)\n        at java.util.concurrent.ForkJoinPool.scan(java.base@17.0.7/ForkJoinPool.java:1655)\n        at java.util.concurrent.ForkJoinPool.runWorker(java.base@17.0.7/ForkJoinPool.java:1622)\n        at java.util.concurrent.ForkJoinWorkerThread.run(java.base@17.0.7/ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>Or from another thread dump</p>\n<pre><code>&quot;ForkJoinPool.common pool-worker-5&quot; #271 daemon prio=5 os_prio=0 cpu=7780467.78ms elapsed=219941.20s tid=0x00007f889c0019d0 nid=0x271 waiting for monitor entry  [0x00007f882018c000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n    at java.lang.ref.ReferenceQueue.poll(java.base@17.0.7/ReferenceQueue.java:119)\n    - parking to wait for  &lt;0x0000000303003108&gt; (a java.util.concurrent.ForkJoinPool)\n    - locked &lt;0x00000003030017b0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.AbstractWeakConcurrentMap.expungeStaleEntries(AbstractWeakConcurrentMap.java:235)\n    at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.weaklockfree.WeakConcurrentMap$WithInlinedExpunction.put(WeakConcurrentMap.java:205)\n    at io.opentelemetry.javaagent.shaded.instrumentation.api.internal.cache.WeakLockFreeCache.put(WeakLockFreeCache.java:31)\n    at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.mapPut(VirtualFieldImplementationsGenerator.java:304)\n    at io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$java$util$concurrent$ForkJoinTask$io$opentelemetry$javaagent$bootstrap$executors$PropagatedContext.real put(VirtualFieldImplementationsGenerator.java)\n</code></pre>\n<p>Has anyone have any idea what's going on? Is there a deadlock situation between FJP and OTEL agent?</p>\n"},{"tags":["java","android","oop"],"answers":[{"tags":[],"owner":{"account_id":28075822,"reputation":59,"user_id":21447701,"display_name":"Buddhima Kaushalya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690190156,"creation_date":1690190156,"answer_id":76752996,"question_id":76460638,"body_markdown":"To fix the issue and ensure that the notes are added to the correct user&#39;s database in the &#39;AddFragment&#39;, you should pass the user ID directly from the &#39;Register&#39; activity to the &#39;AddFragment&#39; instead of using &#39;SharedPreferences&#39;. Here&#39;s how you can do it:\r\n\r\n    public class AddFragment extends Fragment {\r\n    // ... Your existing code ...\r\n\r\n    public static AddFragment newInstance(String userID) {\r\n        AddFragment fragment = new AddFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(&quot;uid&quot;, userID);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    // ... Your existing code ...\r\n    }\r\nIn the Register activity, after saving the user to the database, pass the user ID to the AddFragment using the newInstance method:\r\npublic class RegisterActivity extends AppCompatActivity {\r\n    // ... Your existing code ...\r\n\r\n    public void writeNewUser() {\r\n        // ... Your existing code ...\r\n\r\n        sendData(userId); \r\n\r\n        // ... Your existing code ...\r\n\r\n        // After saving the user, navigate to AddFragment and pass the user ID as an argument\r\n        AddFragment addFragment = AddFragment.newInstance(userId);\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, addFragment)\r\n                .commit();\r\n    }\r\n\r\n    // ... Your existing code ...\r\n    }\r\n\r\n\r\n","title":"I cannot insert data to the correct user&#39;s database","body":"<p>To fix the issue and ensure that the notes are added to the correct user's database in the 'AddFragment', you should pass the user ID directly from the 'Register' activity to the 'AddFragment' instead of using 'SharedPreferences'. Here's how you can do it:</p>\n<pre><code>public class AddFragment extends Fragment {\n// ... Your existing code ...\n\npublic static AddFragment newInstance(String userID) {\n    AddFragment fragment = new AddFragment();\n    Bundle args = new Bundle();\n    args.putString(&quot;uid&quot;, userID);\n    fragment.setArguments(args);\n    return fragment;\n}\n\n// ... Your existing code ...\n}\n</code></pre>\n<p>In the Register activity, after saving the user to the database, pass the user ID to the AddFragment using the newInstance method:\npublic class RegisterActivity extends AppCompatActivity {\n// ... Your existing code ...</p>\n<pre><code>public void writeNewUser() {\n    // ... Your existing code ...\n\n    sendData(userId); \n\n    // ... Your existing code ...\n\n    // After saving the user, navigate to AddFragment and pass the user ID as an argument\n    AddFragment addFragment = AddFragment.newInstance(userId);\n    getSupportFragmentManager().beginTransaction()\n            .replace(R.id.fragment_container, addFragment)\n            .commit();\n}\n\n// ... Your existing code ...\n}\n</code></pre>\n"}],"owner":{"display_name":"user18540930"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690190156,"creation_date":1686608006,"question_id":76460638,"body_markdown":"I have two activities called Register.java,Login.java and i have a fragment called AddFragment.java where users can share notes. In register i take user&#39;s informations and save them to the firebase real time database with a unique id then sends the id to addfragment for adding the note to user&#39;s database. But my problem is, it does not add to the correct users datafield, it adds to the current user. So, when i test the app and log in to the user before the last created user and add notes, it adds to the last user. I know i get the last users id but i cannot think anway to fix it.Below is my register activity and addFragment.\r\n\r\nRegister.java\r\n```\r\n    public void writeNewUser() {\r\n        // Set reference for database\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference(&quot;users&quot;);\r\n\r\n        // Get the current user that uses the app\r\n        currentUser = mauth.getCurrentUser();\r\n\r\n        // Check if the current user is not null\r\n        if (currentUser != null) {\r\n            String getEmail = email.getText().toString();\r\n            String getPassword = password.getText().toString();\r\n            String getUsername = username.getText().toString();\r\n            String userId = currentUser.getUid();\r\n            User user = new User(getEmail, getPassword, getUsername);\r\n\r\n            sendData(userId); // Pass the user ID to sendData() method\r\n\r\n            // Use user ID as child instead of getEmail\r\n            databaseReference.child(userId).setValue(user)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            // User added successfully\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            // An error occurred while adding the user\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    public void sendData(String userID) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(&quot;uid&quot;, userID);\r\n        editor.apply();\r\n    }\r\n```\r\nAddfragment.java(I did not want to copy paste all of the code. So i am sharing just the related parts.)\r\n\r\n```\r\n        //Get the userID sent from register.activity\r\n        SharedPreferences sharedPreferences =getActivity().getSharedPreferences(SHARED_PREFS,Context.MODE_PRIVATE);\r\n        String uid = sharedPreferences.getString(&quot;uid&quot;,&quot;&quot;);\r\n        Toast.makeText(getActivity(), &quot;uid is:&quot;+uid, Toast.LENGTH_SHORT).show();\r\n\r\n        //Initialize the firebase database\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference(&quot;users&quot;).child(uid);\r\n\r\n        private void insertUserinfo(){\r\n        String course = courseName.getText().toString();\r\n        String uni = uniName.getText().toString();\r\n        String page = pages.getText().toString();\r\n        String prices = price.getText().toString();\r\n\r\n        SelInfos selInfos = new SelInfos(course,uni,page,prices);\r\n        databaseReference.push().setValue(selInfos);\r\n        Toast.makeText(getActivity(),&quot;Data inserted successfully&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n```\r\n\r\nI want to get the correct user id, pass it to addFragment so insert data to the correct users database.","title":"I cannot insert data to the correct user&#39;s database","body":"<p>I have two activities called Register.java,Login.java and i have a fragment called AddFragment.java where users can share notes. In register i take user's informations and save them to the firebase real time database with a unique id then sends the id to addfragment for adding the note to user's database. But my problem is, it does not add to the correct users datafield, it adds to the current user. So, when i test the app and log in to the user before the last created user and add notes, it adds to the last user. I know i get the last users id but i cannot think anway to fix it.Below is my register activity and addFragment.</p>\n<p>Register.java</p>\n<pre><code>    public void writeNewUser() {\n        // Set reference for database\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference(&quot;users&quot;);\n\n        // Get the current user that uses the app\n        currentUser = mauth.getCurrentUser();\n\n        // Check if the current user is not null\n        if (currentUser != null) {\n            String getEmail = email.getText().toString();\n            String getPassword = password.getText().toString();\n            String getUsername = username.getText().toString();\n            String userId = currentUser.getUid();\n            User user = new User(getEmail, getPassword, getUsername);\n\n            sendData(userId); // Pass the user ID to sendData() method\n\n            // Use user ID as child instead of getEmail\n            databaseReference.child(userId).setValue(user)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            // User added successfully\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            // An error occurred while adding the user\n                        }\n                    });\n        }\n    }\n\n    public void sendData(String userID) {\n        SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(&quot;uid&quot;, userID);\n        editor.apply();\n    }\n</code></pre>\n<p>Addfragment.java(I did not want to copy paste all of the code. So i am sharing just the related parts.)</p>\n<pre><code>        //Get the userID sent from register.activity\n        SharedPreferences sharedPreferences =getActivity().getSharedPreferences(SHARED_PREFS,Context.MODE_PRIVATE);\n        String uid = sharedPreferences.getString(&quot;uid&quot;,&quot;&quot;);\n        Toast.makeText(getActivity(), &quot;uid is:&quot;+uid, Toast.LENGTH_SHORT).show();\n\n        //Initialize the firebase database\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference(&quot;users&quot;).child(uid);\n\n        private void insertUserinfo(){\n        String course = courseName.getText().toString();\n        String uni = uniName.getText().toString();\n        String page = pages.getText().toString();\n        String prices = price.getText().toString();\n\n        SelInfos selInfos = new SelInfos(course,uni,page,prices);\n        databaseReference.push().setValue(selInfos);\n        Toast.makeText(getActivity(),&quot;Data inserted successfully&quot;,Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>I want to get the correct user id, pass it to addFragment so insert data to the correct users database.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1628524040,"post_id":68714762,"comment_id":121438053,"body_markdown":"the &quot;configure&quot; bean expects an autowired HttpSecurity bean as its parameter. you need to define an HttpSecurity bean, you can do it in the same class.","body":"the &quot;configure&quot; bean expects an autowired HttpSecurity bean as its parameter. you need to define an HttpSecurity bean, you can do it in the same class."},{"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"score":0,"creation_date":1628525119,"post_id":68714762,"comment_id":121438451,"body_markdown":"@TomElias Could you please answer this question? I did not  get what you really mean.","body":"@TomElias Could you please answer this question? I did not  get what you really mean."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1628534962,"post_id":68714762,"comment_id":121442023,"body_markdown":"can you please provide a small reproducible example","body":"can you please provide a small reproducible example"}],"answers":[{"comments":[{"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"score":0,"creation_date":1628523758,"post_id":68714822,"comment_id":121437926,"body_markdown":"No, it does not work. I just updatd my question.","body":"No, it does not work. I just updatd my question."}],"tags":[],"owner":{"account_id":3459128,"reputation":442,"user_id":2896809,"accept_rate":86,"display_name":"gcpdev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628523530,"creation_date":1628523530,"answer_id":68714822,"question_id":68714762,"body_markdown":"You need to add both `@EnableWebFluxSecurity` and `@Configuration` according to [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58555230/2896809","title":"Error when using @EnableWebFluxSecurity in spring-boot","body":"<p>You need to add both <code>@EnableWebFluxSecurity</code> and <code>@Configuration</code> according to <a href=\"https://stackoverflow.com/a/58555230/2896809\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":8474168,"reputation":21,"user_id":6355903,"display_name":"Andreas Dedousis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671114683,"creation_date":1663578596,"answer_id":73771058,"question_id":68714762,"body_markdown":"I had the same issue.Some of your dependencies are bringing **spring-boot-starter-web**. You need to find who using mvn dependency:tree and exclude it in your pom.xml.\r\n\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n     &lt;/exclusions&gt;\r\n\r\nAnd also add as seperate dependecy the \r\n\r\n      \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso another addition you should make is add : spring.main.web-application-type=reactive in application properties","title":"Error when using @EnableWebFluxSecurity in spring-boot","body":"<p>I had the same issue.Some of your dependencies are bringing <strong>spring-boot-starter-web</strong>. You need to find who using mvn dependency:tree and exclude it in your pom.xml.</p>\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n &lt;/exclusions&gt;\n</code></pre>\n<p>And also add as seperate dependecy the</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also another addition you should make is add : spring.main.web-application-type=reactive in application properties</p>\n"},{"tags":[],"owner":{"account_id":4225724,"reputation":66,"user_id":3459299,"display_name":"Andr&#233; Jakobsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690190044,"creation_date":1690190044,"answer_id":76752981,"question_id":68714762,"body_markdown":"```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAdding above dependency solved it for me. Using Spring 6, Boot 3, Java 17.","title":"Error when using @EnableWebFluxSecurity in spring-boot","body":"<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Adding above dependency solved it for me. Using Spring 6, Boot 3, Java 17.</p>\n"}],"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3426,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1690190044,"creation_date":1628523253,"question_id":68714762,"body_markdown":"I am trying to setup a simple spring boot application. It can be started if I don&#39;t use `@EnableWebFluxSecurity` annotatoin. \r\n\r\n``` \r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    open class ArticleWebSecurityConfig {\r\n\r\n        @Bean\r\n        open fun springSecurityFilterChain(http: ServerHttpSecurity): SecurityWebFilterChain = http\r\n            .csrf().disable()\r\n            .authorizeExchange()\r\n            .anyExchange()\r\n            .permitAll()\r\n            .and()\r\n            .build()\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nThe following error occurrs when I start it:\r\n\r\n\r\n&gt; ConfigServletWebServerApplicationContext : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;defaultSecurityFilterChain&#39; defined in\r\n&gt; class path resource\r\n&gt; [org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method\r\n&gt; &#39;defaultSecurityFilterChain&#39; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type\r\n&gt; &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39;\r\n&gt; available: expected at least 1 bean which qualifies as autowire\r\n&gt; candidate. Dependency annotations: {}\r\n\r\n&gt; ### Description\r\n&gt; Parameter 0 of method defaultSecurityFilterChain in org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n&gt;\r\n&gt;\r\n&gt; Action:\r\n&gt;\r\n&gt; Consider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n&gt;\r\n&gt;\r\n&gt; Process finished with exit code 1\r\n\r\n\r\nI used the following `@Bean` but stil get the same errror.\r\n\r\n```\r\n    @Throws(Exception::class)\r\n    @Bean\r\n    open fun configure(http: HttpSecurity) {\r\n        http\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .httpBasic()\r\n    }\r\n\r\n```\r\n\r\nThese are my dependencies\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n``` \r\n\r\n","title":"Error when using @EnableWebFluxSecurity in spring-boot","body":"<p>I am trying to setup a simple spring boot application. It can be started if I don't use <code>@EnableWebFluxSecurity</code> annotatoin.</p>\n<pre><code>    @Configuration\n    @EnableWebFluxSecurity\n    open class ArticleWebSecurityConfig {\n\n        @Bean\n        open fun springSecurityFilterChain(http: ServerHttpSecurity): SecurityWebFilterChain = http\n            .csrf().disable()\n            .authorizeExchange()\n            .anyExchange()\n            .permitAll()\n            .and()\n            .build()\n    }\n\n</code></pre>\n<p>The following error occurrs when I start it:</p>\n<blockquote>\n<p>ConfigServletWebServerApplicationContext : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'defaultSecurityFilterChain' defined in\nclass path resource\n[org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration.class]:\nUnsatisfied dependency expressed through method\n'defaultSecurityFilterChain' parameter 0; nested exception is\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No\nqualifying bean of type\n'org.springframework.security.config.annotation.web.builders.HttpSecurity'\navailable: expected at least 1 bean which qualifies as autowire\ncandidate. Dependency annotations: {}</p>\n</blockquote>\n<blockquote>\n<h3>Description</h3>\n<p>Parameter 0 of method defaultSecurityFilterChain in org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n<p>I used the following <code>@Bean</code> but stil get the same errror.</p>\n<pre><code>    @Throws(Exception::class)\n    @Bean\n    open fun configure(http: HttpSecurity) {\n        http\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic()\n    }\n\n</code></pre>\n<p>These are my dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","elasticsearch","lucene","elastic-stack"],"owner":{"account_id":14507516,"reputation":18,"user_id":10478904,"display_name":"lovedeep sangha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690189979,"creation_date":1690189979,"question_id":76752971,"body_markdown":"    {\r\n        &quot;mappings&quot; : {\r\n          &quot;date_detection&quot; : false,\r\n          &quot;properties&quot; : {\r\n            &quot;@class&quot; : {\r\n              &quot;type&quot; : &quot;keyword&quot;\r\n            },\r\n            &quot;additionalProperties&quot; : {\r\n              &quot;properties&quot; : {\r\n                &quot;@class&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;eventId&quot; : {\r\n                  &quot;type&quot; : &quot;text&quot;,\r\n                  &quot;fields&quot; : {\r\n                    &quot;keyword&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;,\r\n                      &quot;ignore_above&quot; : 256\r\n                    }\r\n                  }\r\n                },\r\n                &quot;linius:offset&quot; : {\r\n                  &quot;type&quot; : &quot;text&quot;,\r\n                  &quot;fields&quot; : {\r\n                    &quot;keyword&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;,\r\n                      &quot;ignore_above&quot; : 256\r\n                    }\r\n                  }\r\n                },\r\n                &quot;opta:eventId&quot; : {\r\n                  &quot;type&quot; : &quot;text&quot;,\r\n                  &quot;fields&quot; : {\r\n                    &quot;keyword&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;,\r\n                      &quot;ignore_above&quot; : 256\r\n                    }\r\n                  }\r\n                },\r\n                &quot;videoOffset&quot; : {\r\n                  &quot;type&quot; : &quot;text&quot;,\r\n                  &quot;fields&quot; : {\r\n                    &quot;keyword&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;,\r\n                      &quot;ignore_above&quot; : 256\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            &quot;assetCreated&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;assetEndDate&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;assetId&quot; : {\r\n              &quot;type&quot; : &quot;keyword&quot;\r\n            },\r\n            &quot;assetStartDate&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;created&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;endTime&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;id&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;payload&quot; : {\r\n              &quot;type&quot; : &quot;nested&quot;,\r\n              &quot;properties&quot; : {\r\n                &quot;@class&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;additionalProperties&quot; : {\r\n                  &quot;properties&quot; : {\r\n                    &quot;@class&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;\r\n                    }\r\n                  }\r\n                },\r\n                &quot;category&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;clipId&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;confidence&quot; : {\r\n                  &quot;type&quot; : &quot;double&quot;\r\n                },\r\n                &quot;endTime&quot; : {\r\n                  &quot;type&quot; : &quot;long&quot;\r\n                },\r\n                &quot;indexerType&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;integerValue&quot; : {\r\n                  &quot;type&quot; : &quot;long&quot;\r\n                },\r\n                &quot;payloadId&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;\r\n                },\r\n                &quot;payloadValueSuggest&quot; : {\r\n                  &quot;type&quot; : &quot;completion&quot;,\r\n                  &quot;analyzer&quot; : &quot;standard&quot;,\r\n                  &quot;preserve_separators&quot; : true,\r\n                  &quot;preserve_position_increments&quot; : true,\r\n                  &quot;max_input_length&quot; : 10000\r\n                },\r\n                &quot;startTime&quot; : {\r\n                  &quot;type&quot; : &quot;long&quot;\r\n                },\r\n                &quot;suggestCategory&quot; : {\r\n                  &quot;type&quot; : &quot;completion&quot;,\r\n                  &quot;analyzer&quot; : &quot;standard&quot;,\r\n                  &quot;preserve_separators&quot; : true,\r\n                  &quot;preserve_position_increments&quot; : true,\r\n                  &quot;max_input_length&quot; : 10000\r\n                },\r\n                &quot;suggestValueCategory&quot; : {\r\n                  &quot;type&quot; : &quot;completion&quot;,\r\n                  &quot;analyzer&quot; : &quot;standard&quot;,\r\n                  &quot;preserve_separators&quot; : true,\r\n                  &quot;preserve_position_increments&quot; : true,\r\n                  &quot;max_input_length&quot; : 10000,\r\n                  &quot;contexts&quot; : [\r\n                    {\r\n                      &quot;name&quot; : &quot;category-context&quot;,\r\n                      &quot;type&quot; : &quot;CATEGORY&quot;,\r\n                      &quot;path&quot; : &quot;payload.category&quot;\r\n                    }\r\n                  ]\r\n                },\r\n                &quot;value&quot; : {\r\n                  &quot;type&quot; : &quot;text&quot;,\r\n                  &quot;fields&quot; : {\r\n                    &quot;keyword&quot; : {\r\n                      &quot;type&quot; : &quot;keyword&quot;,\r\n                      &quot;ignore_above&quot; : 256\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            &quot;startTime&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n            &quot;tenantId&quot; : {\r\n              &quot;type&quot; : &quot;keyword&quot;\r\n            },\r\n            &quot;updated&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nSO this is the mapping of indexes of various tenant, I want to remove the suggestValueCategory from payload for all the documents of various indexes , so it is data of multiple tenants means various indexes i cant singlualry go thorugh each document and do re-index , is there any way i can delete the field data from all the indexes ","title":"How to remove fields data and mapping from &quot;indexes&quot;, they are for mutiple tenants without re-indexing documents in Elasticsearch","body":"<pre><code>{\n    &quot;mappings&quot; : {\n      &quot;date_detection&quot; : false,\n      &quot;properties&quot; : {\n        &quot;@class&quot; : {\n          &quot;type&quot; : &quot;keyword&quot;\n        },\n        &quot;additionalProperties&quot; : {\n          &quot;properties&quot; : {\n            &quot;@class&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;eventId&quot; : {\n              &quot;type&quot; : &quot;text&quot;,\n              &quot;fields&quot; : {\n                &quot;keyword&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;,\n                  &quot;ignore_above&quot; : 256\n                }\n              }\n            },\n            &quot;linius:offset&quot; : {\n              &quot;type&quot; : &quot;text&quot;,\n              &quot;fields&quot; : {\n                &quot;keyword&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;,\n                  &quot;ignore_above&quot; : 256\n                }\n              }\n            },\n            &quot;opta:eventId&quot; : {\n              &quot;type&quot; : &quot;text&quot;,\n              &quot;fields&quot; : {\n                &quot;keyword&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;,\n                  &quot;ignore_above&quot; : 256\n                }\n              }\n            },\n            &quot;videoOffset&quot; : {\n              &quot;type&quot; : &quot;text&quot;,\n              &quot;fields&quot; : {\n                &quot;keyword&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;,\n                  &quot;ignore_above&quot; : 256\n                }\n              }\n            }\n          }\n        },\n        &quot;assetCreated&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;assetEndDate&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;assetId&quot; : {\n          &quot;type&quot; : &quot;keyword&quot;\n        },\n        &quot;assetStartDate&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;created&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;endTime&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;id&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;payload&quot; : {\n          &quot;type&quot; : &quot;nested&quot;,\n          &quot;properties&quot; : {\n            &quot;@class&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;additionalProperties&quot; : {\n              &quot;properties&quot; : {\n                &quot;@class&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;\n                }\n              }\n            },\n            &quot;category&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;clipId&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;confidence&quot; : {\n              &quot;type&quot; : &quot;double&quot;\n            },\n            &quot;endTime&quot; : {\n              &quot;type&quot; : &quot;long&quot;\n            },\n            &quot;indexerType&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;integerValue&quot; : {\n              &quot;type&quot; : &quot;long&quot;\n            },\n            &quot;payloadId&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;\n            },\n            &quot;payloadValueSuggest&quot; : {\n              &quot;type&quot; : &quot;completion&quot;,\n              &quot;analyzer&quot; : &quot;standard&quot;,\n              &quot;preserve_separators&quot; : true,\n              &quot;preserve_position_increments&quot; : true,\n              &quot;max_input_length&quot; : 10000\n            },\n            &quot;startTime&quot; : {\n              &quot;type&quot; : &quot;long&quot;\n            },\n            &quot;suggestCategory&quot; : {\n              &quot;type&quot; : &quot;completion&quot;,\n              &quot;analyzer&quot; : &quot;standard&quot;,\n              &quot;preserve_separators&quot; : true,\n              &quot;preserve_position_increments&quot; : true,\n              &quot;max_input_length&quot; : 10000\n            },\n            &quot;suggestValueCategory&quot; : {\n              &quot;type&quot; : &quot;completion&quot;,\n              &quot;analyzer&quot; : &quot;standard&quot;,\n              &quot;preserve_separators&quot; : true,\n              &quot;preserve_position_increments&quot; : true,\n              &quot;max_input_length&quot; : 10000,\n              &quot;contexts&quot; : [\n                {\n                  &quot;name&quot; : &quot;category-context&quot;,\n                  &quot;type&quot; : &quot;CATEGORY&quot;,\n                  &quot;path&quot; : &quot;payload.category&quot;\n                }\n              ]\n            },\n            &quot;value&quot; : {\n              &quot;type&quot; : &quot;text&quot;,\n              &quot;fields&quot; : {\n                &quot;keyword&quot; : {\n                  &quot;type&quot; : &quot;keyword&quot;,\n                  &quot;ignore_above&quot; : 256\n                }\n              }\n            }\n          }\n        },\n        &quot;startTime&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n        &quot;tenantId&quot; : {\n          &quot;type&quot; : &quot;keyword&quot;\n        },\n        &quot;updated&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>SO this is the mapping of indexes of various tenant, I want to remove the suggestValueCategory from payload for all the documents of various indexes , so it is data of multiple tenants means various indexes i cant singlualry go thorugh each document and do re-index , is there any way i can delete the field data from all the indexes</p>\n"},{"tags":["java","eclipse","rest-assured"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690188932,"post_id":76752642,"comment_id":135313316,"body_markdown":"I&#39;m not sure what those characters are, but I&#39;d start by using an URL decoder.","body":"I&#39;m not sure what those characters are, but I&#39;d start by using an URL decoder."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1690190525,"post_id":76752642,"comment_id":135313670,"body_markdown":"`%E2%80%8B` is URL UTF-8 encoding for U+200B ZERO WIDTH SPACE - a very strange thing to have in a URL","body":"<code>%E2%80%8B</code> is URL UTF-8 encoding for U+200B ZERO WIDTH SPACE - a very strange thing to have in a URL"},{"owner":{"account_id":26855749,"reputation":9,"user_id":20440088,"display_name":"Random Boy"},"score":0,"creation_date":1690194760,"post_id":76752642,"comment_id":135314585,"body_markdown":"how to parse those while passing","body":"how to parse those while passing"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1690195557,"post_id":76752642,"comment_id":135314753,"body_markdown":"The string `&quot;/api​/policy​/aboutsaccospolicy​/create&quot;` mentioned in your question also contains zero-width spaces, even if they are not visible (since they are spaces with a width of 0 pixels). Does your code contain somewhere zero-width spaces (`&gt;​&lt;`)? Please also show your definition of your variable `api`.","body":"The string <code>&quot;&#47;api​&#47;policy​&#47;aboutsaccospolicy​&#47;create&quot;</code> mentioned in your question also contains zero-width spaces, even if they are not visible (since they are spaces with a width of 0 pixels). Does your code contain somewhere zero-width spaces (<code>&gt;​&lt;</code>)? Please also show your definition of your variable <code>api</code>."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690203171,"post_id":76752642,"comment_id":135316390,"body_markdown":"Special characters like that must be encoded that way when they are used in a URL. You can convert them back using `java.net.URLDecoder.decode(string, StandardCharsets.UTF_8)`","body":"Special characters like that must be encoded that way when they are used in a URL. You can convert them back using <code>java.net.URLDecoder.decode(string, StandardCharsets.UTF_8)</code>"}],"owner":{"account_id":26855749,"reputation":9,"user_id":20440088,"display_name":"Random Boy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690189641,"creation_date":1690187251,"question_id":76752642,"body_markdown":"Actually when I am able to pass the datas in Excel which are all URLs, when printing `&quot;/api​/policy​/aboutsaccospolicy​/create&quot;` it is printing correctly but when passing it in URL `&quot;/api/api%E2%80%8B/policy%E2%80%8B/aboutsaccospolicy%E2%80%8B/create&quot;`\r\n\r\nThe code is:\r\n\r\n```java\r\nres = given().spec(requestSpecification(message1)).log().all();\r\nresponse = res.when().get(api).then().log().all().extract().response();\r\n```\r\n","title":"How to remove &quot;%E2%80%8B/&quot; unwanted symbols while fetching URLs from Excel running through eclipse , actually while getting URL from Excel data","body":"<p>Actually when I am able to pass the datas in Excel which are all URLs, when printing <code>&quot;/api​/policy​/aboutsaccospolicy​/create&quot;</code> it is printing correctly but when passing it in URL <code>&quot;/api/api%E2%80%8B/policy%E2%80%8B/aboutsaccospolicy%E2%80%8B/create&quot;</code></p>\n<p>The code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>res = given().spec(requestSpecification(message1)).log().all();\nresponse = res.when().get(api).then().log().all().extract().response();\n</code></pre>\n"},{"tags":["java","android","bluetooth","background-service"],"owner":{"account_id":23050496,"reputation":11,"user_id":17167408,"display_name":"CanSaL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690189627,"creation_date":1690189627,"question_id":76752927,"body_markdown":"I want to scan Bluetooth device on foreground. I created foreground service and added bluetooth scan code to foreground service. This service and bluetooth scan are working when phone screen is on  but when phone screen is off service is working , bluetooth scan is not working. I showed bluetooth scan code on below in while function blok.\r\n\r\nThis is my code : \r\n\r\n    \r\n\r\n    \r\n\r\n\r\n    public class foregroundService extends Service {\r\n\r\n    private static final int REQUEST_ENABLE_BLUETOOTH = 1;\r\n    private static final int REQUEST_LOCATION_PERMISSION = 2;\r\n    private BluetoothAdapter bluetoothAdapter;\r\n    private List&lt;String&gt; discoveredDevicesList = new ArrayList&lt;&gt;();\r\n    Map&lt;String, String&gt; users = new HashMap&lt;&gt;();\r\n    private BroadcastReceiver discoveryReceiver;\r\n\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        Toast.makeText(this, &quot;Service Created&quot;, Toast.LENGTH_LONG).show();\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        new Thread(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        while (true) {\r\n                            Log.d(&quot;Tag&quot;, &quot;service is running&quot;);\r\n                            if (discoveryReceiver == null) { //THIS IS MY BLUETOOTH SCAN CODE\r\n                                discoveryReceiver = new BroadcastReceiver() {\r\n\r\n                                    public void onReceive(Context context, Intent intent) {\r\n\r\n\r\n                                        String action = intent.getAction();\r\n                                        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n\r\n                                            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                                            if (ActivityCompat.checkSelfPermission(context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                                                ActivityCompat.requestPermissions((Activity) context,\r\n\r\n                                                        new String[]{android.Manifest.permission.BLUETOOTH_CONNECT,},\r\n                                                        REQUEST_ENABLE_BLUETOOTH);\r\n                                                ActivityCompat.requestPermissions((Activity) context,\r\n\r\n                                                        new String[]{Manifest.permission.BLUETOOTH_SCAN,},\r\n                                                        REQUEST_ENABLE_BLUETOOTH);\r\n\r\n                                                return;\r\n                                            }\r\n                                            if (device != null &amp;&amp; device.getName() != null) {\r\n                                                String deviceName = device.getName();\r\n\r\n                                                if (!discoveredDevicesList.contains(deviceName)) {\r\n                                                    System.out.println(&quot;Foreground bluetoothscan&quot; + device.getName());\r\n                                                    users.put(&quot;Name&quot;, device.getName());\r\n                                                    Toast.makeText(context, device.getName().toString(), Toast.LENGTH_SHORT).show();\r\n                                                    discoveredDevicesList.add(deviceName);\r\n\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                };\r\n\r\n                                registerReceiver(discoveryReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\r\n                            }\r\n\r\n                            bluetoothAdapter.startDiscovery();\r\n\r\n                            try {\r\n\r\n                                Thread.sleep(9000);\r\n\r\n\r\n                            } catch (InterruptedException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n        ).start();\r\n        final String CHANNEL_ID=&quot;Foreground Service&quot;;\r\n        NotificationChannel channel =new NotificationChannel(CHANNEL_ID,CHANNEL_ID, NotificationManager.IMPORTANCE_LOW);\r\n        getSystemService(NotificationManager.class).createNotificationChannel(channel);\r\n\r\n        Notification.Builder notification=new Notification.Builder(this,CHANNEL_ID)\r\n                .setContentText(&quot;Foreground service is running&quot;).setContentTitle(&quot;This is titile&quot;);\r\n        startForeground(1001,notification.build());\r\n\r\n    return  super.onStartCommand(intent,flags,startId);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n    }","title":"Bluetooth scan is not working in foreground service JAVA for android","body":"<p>I want to scan Bluetooth device on foreground. I created foreground service and added bluetooth scan code to foreground service. This service and bluetooth scan are working when phone screen is on  but when phone screen is off service is working , bluetooth scan is not working. I showed bluetooth scan code on below in while function blok.</p>\n<p>This is my code :</p>\n<pre><code>public class foregroundService extends Service {\n\nprivate static final int REQUEST_ENABLE_BLUETOOTH = 1;\nprivate static final int REQUEST_LOCATION_PERMISSION = 2;\nprivate BluetoothAdapter bluetoothAdapter;\nprivate List&lt;String&gt; discoveredDevicesList = new ArrayList&lt;&gt;();\nMap&lt;String, String&gt; users = new HashMap&lt;&gt;();\nprivate BroadcastReceiver discoveryReceiver;\n\n\n\n@Override\npublic void onCreate() {\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n    Toast.makeText(this, &quot;Service Created&quot;, Toast.LENGTH_LONG).show();\n    super.onCreate();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n\n    new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n\n                    while (true) {\n                        Log.d(&quot;Tag&quot;, &quot;service is running&quot;);\n                        if (discoveryReceiver == null) { //THIS IS MY BLUETOOTH SCAN CODE\n                            discoveryReceiver = new BroadcastReceiver() {\n\n                                public void onReceive(Context context, Intent intent) {\n\n\n                                    String action = intent.getAction();\n                                    if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n\n                                        BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                                        if (ActivityCompat.checkSelfPermission(context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n\n                                            ActivityCompat.requestPermissions((Activity) context,\n\n                                                    new String[]{android.Manifest.permission.BLUETOOTH_CONNECT,},\n                                                    REQUEST_ENABLE_BLUETOOTH);\n                                            ActivityCompat.requestPermissions((Activity) context,\n\n                                                    new String[]{Manifest.permission.BLUETOOTH_SCAN,},\n                                                    REQUEST_ENABLE_BLUETOOTH);\n\n                                            return;\n                                        }\n                                        if (device != null &amp;&amp; device.getName() != null) {\n                                            String deviceName = device.getName();\n\n                                            if (!discoveredDevicesList.contains(deviceName)) {\n                                                System.out.println(&quot;Foreground bluetoothscan&quot; + device.getName());\n                                                users.put(&quot;Name&quot;, device.getName());\n                                                Toast.makeText(context, device.getName().toString(), Toast.LENGTH_SHORT).show();\n                                                discoveredDevicesList.add(deviceName);\n\n                                            }\n                                        }\n                                    }\n                                }\n                            };\n\n                            registerReceiver(discoveryReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\n                        }\n\n                        bluetoothAdapter.startDiscovery();\n\n                        try {\n\n                            Thread.sleep(9000);\n\n\n                        } catch (InterruptedException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n            }\n\n    ).start();\n    final String CHANNEL_ID=&quot;Foreground Service&quot;;\n    NotificationChannel channel =new NotificationChannel(CHANNEL_ID,CHANNEL_ID, NotificationManager.IMPORTANCE_LOW);\n    getSystemService(NotificationManager.class).createNotificationChannel(channel);\n\n    Notification.Builder notification=new Notification.Builder(this,CHANNEL_ID)\n            .setContentText(&quot;Foreground service is running&quot;).setContentTitle(&quot;This is titile&quot;);\n    startForeground(1001,notification.build());\n\nreturn  super.onStartCommand(intent,flags,startId);\n}\n\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n\n}\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graalvm","spring-native"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690189456,"creation_date":1690188692,"answer_id":76752813,"question_id":76752710,"body_markdown":"This a known bug with / in the Graal 22.x native image builder; see https://github.com/oracle/graal/issues/5868.\r\n\r\nAt the time of writing, no fix is available.  However, you may be able to figure out a work-around based on the issue&#39;s correspondence.\r\n\r\nApparently the bug is related to the new `RunReachabilityHandlersConcurrently` option added in Graal version  22.  One possible work-around might be to use an older version of Graal.  Another is to figure out what is using the new option and change it ... as they have done with `googleapis/gax-java` according to https://github.com/googleapis/gax-java/pull/1815.\r\n","title":"Graal VM build error: java.lang.NullPointerException: Cannot invoke &quot;java.util.Set.iterator()&quot; because &quot;triggers&quot; is null","body":"<p>This a known bug with / in the Graal 22.x native image builder; see <a href=\"https://github.com/oracle/graal/issues/5868\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/5868</a>.</p>\n<p>At the time of writing, no fix is available.  However, you may be able to figure out a work-around based on the issue's correspondence.</p>\n<p>Apparently the bug is related to the new <code>RunReachabilityHandlersConcurrently</code> option added in Graal version  22.  One possible work-around might be to use an older version of Graal.  Another is to figure out what is using the new option and change it ... as they have done with <code>googleapis/gax-java</code> according to <a href=\"https://github.com/googleapis/gax-java/pull/1815\" rel=\"nofollow noreferrer\">https://github.com/googleapis/gax-java/pull/1815</a>.</p>\n"}],"owner":{"account_id":6988093,"reputation":121,"user_id":5462346,"display_name":"Anurag Ambuj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76752813,"answer_count":1,"score":2,"last_activity_date":1690189456,"creation_date":1690187737,"question_id":76752710,"body_markdown":"Getting following error while running native graal build for my Spring boot project (migrating to Graal VM). I could not find any working answer to this problem anywhere. Requesting the community to help.\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;java.util.Set.iterator()&quot; because &quot;triggers&quot; is null\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ReachabilityHandlerFeature.processReachable(ReachabilityHandlerFeature.java:173)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ReachabilityHandlerFeature.duringAnalysis(ReachabilityHandlerFeature.java:128)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$10(NativeImageGenerator.java:770)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FeatureHandler.forEachFeature(FeatureHandler.java:86)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$11(NativeImageGenerator.java:770)\r\n    \tat org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.AbstractAnalysisEngine.runAnalysis(AbstractAnalysisEngine.java:179)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:767)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:582)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:539)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:408)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\r\n    \tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\r\n\r\n\r\nSpring Boot version: 3.1.1\r\nJDK: Graal VM, JDK 17\r\nPlatform: MacOS (M2, Aarch64)\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;build-native&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile-no-fork&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;test-native&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;fallback&gt;false&lt;/fallback&gt;\r\n    \t\t\t\t\t&lt;buildArgs&gt;\r\n    \t\t\t\t\t\t&lt;arg&gt;\r\n    \t\t\t\t\t\t\t--verbose\r\n    \t\t\t\t\t\t\t-Dspring.aot.enabled=true\r\n    \t\t\t\t\t\t\t-H:TraceClassInitialization=true\r\n    \t\t\t\t\t\t\t-H:+ReportExceptionStackTraces\r\n    \t\t\t\t\t\t\t-H:Name=trace-app\r\n    \t\t\t\t\t\t\t-H:DashboardDump=trace-app\r\n    \t\t\t\t\t\t\t-H:+DashboardAll\r\n    \t\t\t\t\t\t\t-H:Class=com.xxx.trace.TraceApplication\r\n    \t\t\t\t\t\t\t--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback,org.slf4j.MDC,org.slf4j.impl.StaticLoggerBinder\r\n    \t\t\t\t\t\t\t--initialize-at-run-time=io.netty\r\n    \t\t\t\t\t\t\t-Dspring.graal.remove-unused-autoconfig=true\r\n    \t\t\t\t\t\t\t-Dspring.graal.remove-yaml-support=true\r\n    \t\t\t\t\t\t&lt;/arg&gt;\r\n    \t\t\t\t\t&lt;/buildArgs&gt;\r\n    \t\t\t\t\t&lt;agent&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t\t&lt;defaultMode&gt;Standard&lt;/defaultMode&gt;\r\n    \t\t\t\t\t\t&lt;options&gt;\r\n    \t\t\t\t\t\t\t&lt;trackReflectionMetadata&gt;true&lt;/trackReflectionMetadata&gt;\r\n    \t\t\t\t\t\t&lt;/options&gt;\r\n    \t\t\t\t\t\t&lt;metadataCopy&gt;\r\n    \t\t\t\t\t\t\t&lt;disabledStages&gt;\r\n    \t\t\t\t\t\t\t\t&lt;stage&gt;test&lt;/stage&gt;\r\n    \t\t\t\t\t\t\t&lt;/disabledStages&gt;\r\n    \t\t\t\t\t\t\t&lt;merge&gt;true&lt;/merge&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;/tmp/test-output-dir&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;/metadataCopy&gt;\r\n    \t\t\t\t\t&lt;/agent&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"Graal VM build error: java.lang.NullPointerException: Cannot invoke &quot;java.util.Set.iterator()&quot; because &quot;triggers&quot; is null","body":"<p>Getting following error while running native graal build for my Spring boot project (migrating to Graal VM). I could not find any working answer to this problem anywhere. Requesting the community to help.</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.util.Set.iterator()&quot; because &quot;triggers&quot; is null\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ReachabilityHandlerFeature.processReachable(ReachabilityHandlerFeature.java:173)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ReachabilityHandlerFeature.duringAnalysis(ReachabilityHandlerFeature.java:128)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$10(NativeImageGenerator.java:770)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FeatureHandler.forEachFeature(FeatureHandler.java:86)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$11(NativeImageGenerator.java:770)\n    at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.AbstractAnalysisEngine.runAnalysis(AbstractAnalysisEngine.java:179)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:767)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:582)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:539)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:408)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\n</code></pre>\n<p>Spring Boot version: 3.1.1\nJDK: Graal VM, JDK 17\nPlatform: MacOS (M2, Aarch64)</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;build-native&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-native&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;fallback&gt;false&lt;/fallback&gt;\n                    &lt;buildArgs&gt;\n                        &lt;arg&gt;\n                            --verbose\n                            -Dspring.aot.enabled=true\n                            -H:TraceClassInitialization=true\n                            -H:+ReportExceptionStackTraces\n                            -H:Name=trace-app\n                            -H:DashboardDump=trace-app\n                            -H:+DashboardAll\n                            -H:Class=com.xxx.trace.TraceApplication\n                            --initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback,org.slf4j.MDC,org.slf4j.impl.StaticLoggerBinder\n                            --initialize-at-run-time=io.netty\n                            -Dspring.graal.remove-unused-autoconfig=true\n                            -Dspring.graal.remove-yaml-support=true\n                        &lt;/arg&gt;\n                    &lt;/buildArgs&gt;\n                    &lt;agent&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;defaultMode&gt;Standard&lt;/defaultMode&gt;\n                        &lt;options&gt;\n                            &lt;trackReflectionMetadata&gt;true&lt;/trackReflectionMetadata&gt;\n                        &lt;/options&gt;\n                        &lt;metadataCopy&gt;\n                            &lt;disabledStages&gt;\n                                &lt;stage&gt;test&lt;/stage&gt;\n                            &lt;/disabledStages&gt;\n                            &lt;merge&gt;true&lt;/merge&gt;\n                            &lt;outputDirectory&gt;/tmp/test-output-dir&lt;/outputDirectory&gt;\n                        &lt;/metadataCopy&gt;\n                    &lt;/agent&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc","garbage-collection","openshift-origin","g1gc"],"comments":[{"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"score":0,"creation_date":1589203984,"post_id":61730183,"comment_id":109191630,"body_markdown":"Have you tried to take a heap dump and analyze early in the run, and then after a few days, and compare?","body":"Have you tried to take a heap dump and analyze early in the run, and then after a few days, and compare?"},{"owner":{"account_id":18551563,"reputation":61,"user_id":13517695,"display_name":"Tom Dearman"},"score":1,"creation_date":1589205564,"post_id":61730183,"comment_id":109192664,"body_markdown":"I have tried that and see nothing special, in particular the actual used heap is always much much lower than the committed heap.  I have a heap dump for the end of this run and it shows 1.3G total heap usage and yet the old generation has committed close to 6G (I will upload a link).  Hence the eden is starved.  I have uploaded a grafana metrics link to show memory usage similar to what gceasy shows.","body":"I have tried that and see nothing special, in particular the actual used heap is always much much lower than the committed heap.  I have a heap dump for the end of this run and it shows 1.3G total heap usage and yet the old generation has committed close to 6G (I will upload a link).  Hence the eden is starved.  I have uploaded a grafana metrics link to show memory usage similar to what gceasy shows."},{"owner":{"account_id":5321859,"reputation":381,"user_id":4245091,"display_name":"Hamdi"},"score":0,"creation_date":1606413468,"post_id":61730183,"comment_id":114962582,"body_markdown":"@TomDearman I got the same problem (commited ~ 2 * used), did you find what was the root cause ?\nWhen I have a small eden+survivor committed space, a big part of the cpu usage will be used by the gc and the whole application will be slowed down even if I have enough memory","body":"@TomDearman I got the same problem (commited ~ 2 * used), did you find what was the root cause ? When I have a small eden+survivor committed space, a big part of the cpu usage will be used by the gc and the whole application will be slowed down even if I have enough memory"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594263148,"creation_date":1594263148,"answer_id":62806653,"question_id":61730183,"body_markdown":"In general, it is normal that `committed` memory value is higher than `used`.  Committed starts with `-Xms` and can go up to `-Xmx`, but `committed` is _not_ `resident`. `Resident` here means _in RAM_, while `used = resident + swapped pages`. So `used` can fluctuate a lot, while `committed` not that much, at least, this is how I understand this.\r\n\r\nA GC starts with the value of `-Xms` as the initial committed memory and will slowly grow (up to `-Xmx` of course). And now that I have made this intro, I really don&#39;t think this makes any sense to your application. Let me explain.\r\n\r\nAs far as I can see from the logs that you provided, everything is pretty much expected (and normal). `G1` has a default value for `MaxGCPauseMillis = 200ms` which indicates how much your application is allowed to be stopped (in the happy path scenario). According to this value, `G1` makes proper decisions to re-size your regions. According to your logs, the `Eden` space of around `270MB` (on average) is collected in up to `0.2s`. Just a random example from your logs:\r\n\r\n\r\n    [Eden: 280.0M ....\r\n    Times: user=0.49 sys=0.00, real=0.18 secs\r\n    2020-05-04T02:43:01.742+0000: 315128.451: [GC pause (G1 Evacuation Pause) (young), 0.1740299 secs]\r\n\r\nSo this is exactly what you asked for, indirectly. To me, your application is perfectly fine, those `GC pause (G1 Evacuation Pause)` take as much as you have configured. And btw, call yourself lucky? but in that entire log file there is not a single `Full GC` that I can spot (apart from the one when you take the heap dump).\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59362760/does-g1gc-release-back-memory-to-the-os-even-if-xms-xmx","title":"G1GC Old Gen committed heap keeps growing, used is constant - leads to Eden starvation","body":"<p>In general, it is normal that <code>committed</code> memory value is higher than <code>used</code>.  Committed starts with <code>-Xms</code> and can go up to <code>-Xmx</code>, but <code>committed</code> is <em>not</em> <code>resident</code>. <code>Resident</code> here means <em>in RAM</em>, while <code>used = resident + swapped pages</code>. So <code>used</code> can fluctuate a lot, while <code>committed</code> not that much, at least, this is how I understand this.</p>\n<p>A GC starts with the value of <code>-Xms</code> as the initial committed memory and will slowly grow (up to <code>-Xmx</code> of course). And now that I have made this intro, I really don't think this makes any sense to your application. Let me explain.</p>\n<p>As far as I can see from the logs that you provided, everything is pretty much expected (and normal). <code>G1</code> has a default value for <code>MaxGCPauseMillis = 200ms</code> which indicates how much your application is allowed to be stopped (in the happy path scenario). According to this value, <code>G1</code> makes proper decisions to re-size your regions. According to your logs, the <code>Eden</code> space of around <code>270MB</code> (on average) is collected in up to <code>0.2s</code>. Just a random example from your logs:</p>\n<pre><code>[Eden: 280.0M ....\nTimes: user=0.49 sys=0.00, real=0.18 secs\n2020-05-04T02:43:01.742+0000: 315128.451: [GC pause (G1 Evacuation Pause) (young), 0.1740299 secs]\n</code></pre>\n<p>So this is exactly what you asked for, indirectly. To me, your application is perfectly fine, those <code>GC pause (G1 Evacuation Pause)</code> take as much as you have configured. And btw, call yourself lucky? but in that entire log file there is not a single <code>Full GC</code> that I can spot (apart from the one when you take the heap dump).</p>\n"},{"tags":[],"owner":{"account_id":5894775,"reputation":123,"user_id":4640214,"display_name":"Guizhou Feng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651251177,"creation_date":1651248861,"answer_id":72060858,"question_id":61730183,"body_markdown":"From your GC log, below is how it looks from GCViewer\r\n\r\nThe GC Log show that Ref Proc is the bottle neck of High GC Time\r\nSo suggest try -XX:+ParallelRefProcEnabled to see if it can help\r\n\r\n&gt;       [Ref Proc: 151.3 ms]\r\n&gt;       [Ref Proc: 147.2 ms]\r\n&gt;       [Ref Proc: 146.6 ms]\r\n&gt;       [Ref Proc: 183.0 ms]\r\n&gt;       [Ref Proc: 156.4 ms]\r\n&gt;       [Ref Proc: 152.7 ms]\r\n&gt;       [Ref Proc: 143.7 ms]\r\n&gt;       [Ref Proc: 137.8 ms]\r\n&gt;       [Ref Proc: 194.8 ms]\r\n&gt;       [Ref Proc: 153.3 ms]\r\n&gt;       [Ref Proc: 153.6 ms]\r\n\r\n\r\nThere are some other several things could have a try to improve:\r\n1. Turn on -XX:PrintReferenceGC to get more detail time spend on Ref Proc\r\n2. Reduce -XX:InitiatingHeapOccupancyPercent(default is 45) gradually to see if Mixed GC could happen earlier and help on the behavior\r\n3. Increase -XX:G1NewSizePercent to avoid the Young Generation to reduce too small\r\n\r\nHope can help on it\r\n\r\n[![GC Viewer UI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qMEMP.png","title":"G1GC Old Gen committed heap keeps growing, used is constant - leads to Eden starvation","body":"<p>From your GC log, below is how it looks from GCViewer</p>\n<p>The GC Log show that Ref Proc is the bottle neck of High GC Time\nSo suggest try -XX:+ParallelRefProcEnabled to see if it can help</p>\n<blockquote>\n<pre><code>  [Ref Proc: 151.3 ms]\n  [Ref Proc: 147.2 ms]\n  [Ref Proc: 146.6 ms]\n  [Ref Proc: 183.0 ms]\n  [Ref Proc: 156.4 ms]\n  [Ref Proc: 152.7 ms]\n  [Ref Proc: 143.7 ms]\n  [Ref Proc: 137.8 ms]\n  [Ref Proc: 194.8 ms]\n  [Ref Proc: 153.3 ms]\n  [Ref Proc: 153.6 ms]\n</code></pre>\n</blockquote>\n<p>There are some other several things could have a try to improve:</p>\n<ol>\n<li>Turn on -XX:PrintReferenceGC to get more detail time spend on Ref Proc</li>\n<li>Reduce -XX:InitiatingHeapOccupancyPercent(default is 45) gradually to see if Mixed GC could happen earlier and help on the behavior</li>\n<li>Increase -XX:G1NewSizePercent to avoid the Young Generation to reduce too small</li>\n</ol>\n<p>Hope can help on it</p>\n<p><a href=\"https://i.stack.imgur.com/qMEMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMEMP.png\" alt=\"GC Viewer UI\" /></a></p>\n"}],"owner":{"account_id":18551563,"reputation":61,"user_id":13517695,"display_name":"Tom Dearman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10224,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690189225,"creation_date":1589201495,"question_id":61730183,"body_markdown":"The G1GC old generation committed heap goes up over time (about 5 to 6 days on production) but the old generation used heap does not.  The Eden and survivor heap is forced to decrease to the minimum (5% of the total heap) and so garbage collection because more and more frequent.  The application caches one big object graph right at the beginning and then has other time/use limited caching throughout its run lifetime.  It has a fairly high object creation rate but does not promote much of that to the old generation apart from the cached objects. \r\n\r\nI have run the GC log through gceasy.io and you can see the above behaviour of the memory:\r\n &lt;https://gceasy.io/my-gc-report.jsp?p=c2hhcmVkLzIwMjAvMDUvMTEvLS1nY2xvZy50YXIuZ3otLTExLTMwLTE5&amp;channel=WEB&gt;. \r\n\r\n\r\ngclog:\r\n&lt;https://drive.google.com/open?id=176X-Lku4D3DGCCdTiB0_z545N8n0tfKc&gt;\r\n\r\nGrafana memory metrics for this run &lt;https://snapshot.raintank.io/dashboard/snapshot/k6g3ljG7cQUEJM7jA4c5tBK1dsUnzabd&gt;\r\n\r\nHeap dump at end of run (load had been removed for about an hour, this is a 500M gz file): &lt;https://drive.google.com/open?id=14ghzIVnpelInSyQBhCwUwM5VkuOjX13-&gt;\r\n\r\nWe do not seem to have high humongous object creation. The server has 12G of RAM and the heap has 6G.\r\n\r\nThe jvm: \r\n```\r\nopenjdk version &quot;1.8.0_242&quot;\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_242-b08)\r\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.242-b08, mixed mode)\r\n```\r\n\r\nThe jvm flags: \r\n```\r\n-XX:CICompilerCount=4\r\n-XX:ConcGCThreads=2\r\n-XX:G1HeapRegionSize=2097152\r\n-XX:GCLogFileSize=104857600\r\n-XX:InitialHeapSize=6442450944\r\n-XX:InitialRAMPercentage=50.000000\r\n-XX:+ManagementServer\r\n-XX:MarkStackSize=4194304\r\n-XX:MaxHeapSize=6442450944\r\n-XX:MaxNewSize=3865051136\r\n-XX:MaxRAMPercentage=50.000000\r\n-XX:MinHeapDeltaBytes=2097152\r\n-XX:MinRAMPercentage=50.000000\r\n-XX:NumberOfGCLogFiles=10\r\n-XX:+PrintGC\r\n-XX:+PrintGCDateStamps\r\n-XX:+PrintGCDetails\r\n-XX:+PrintGCTimeStamps\r\n-XX:+UseCompressedClassPointers\r\n-XX:+UseCompressedOops\r\n-XX:+UseG1GC\r\n-XX:+UseGCLogFileRotation\r\n```\r\n\r\nWe run on openshift with CentOS: CentOS Linux release 7.7.1908 (Core)\r\n\r\nKernel: 3.10.0-1062.12.1.el7.x86_64","title":"G1GC Old Gen committed heap keeps growing, used is constant - leads to Eden starvation","body":"<p>The G1GC old generation committed heap goes up over time (about 5 to 6 days on production) but the old generation used heap does not.  The Eden and survivor heap is forced to decrease to the minimum (5% of the total heap) and so garbage collection because more and more frequent.  The application caches one big object graph right at the beginning and then has other time/use limited caching throughout its run lifetime.  It has a fairly high object creation rate but does not promote much of that to the old generation apart from the cached objects. </p>\n\n<p>I have run the GC log through gceasy.io and you can see the above behaviour of the memory:\n <a href=\"https://gceasy.io/my-gc-report.jsp?p=c2hhcmVkLzIwMjAvMDUvMTEvLS1nY2xvZy50YXIuZ3otLTExLTMwLTE5&amp;channel=WEB\" rel=\"nofollow noreferrer\">https://gceasy.io/my-gc-report.jsp?p=c2hhcmVkLzIwMjAvMDUvMTEvLS1nY2xvZy50YXIuZ3otLTExLTMwLTE5&amp;channel=WEB</a>. </p>\n\n<p>gclog:\n<a href=\"https://drive.google.com/open?id=176X-Lku4D3DGCCdTiB0_z545N8n0tfKc\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=176X-Lku4D3DGCCdTiB0_z545N8n0tfKc</a></p>\n\n<p>Grafana memory metrics for this run <a href=\"https://snapshot.raintank.io/dashboard/snapshot/k6g3ljG7cQUEJM7jA4c5tBK1dsUnzabd\" rel=\"nofollow noreferrer\">https://snapshot.raintank.io/dashboard/snapshot/k6g3ljG7cQUEJM7jA4c5tBK1dsUnzabd</a></p>\n\n<p>Heap dump at end of run (load had been removed for about an hour, this is a 500M gz file): <a href=\"https://drive.google.com/open?id=14ghzIVnpelInSyQBhCwUwM5VkuOjX13-\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=14ghzIVnpelInSyQBhCwUwM5VkuOjX13-</a></p>\n\n<p>We do not seem to have high humongous object creation. The server has 12G of RAM and the heap has 6G.</p>\n\n<p>The jvm: </p>\n\n<pre><code>openjdk version \"1.8.0_242\"\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_242-b08)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.242-b08, mixed mode)\n</code></pre>\n\n<p>The jvm flags: </p>\n\n<pre><code>-XX:CICompilerCount=4\n-XX:ConcGCThreads=2\n-XX:G1HeapRegionSize=2097152\n-XX:GCLogFileSize=104857600\n-XX:InitialHeapSize=6442450944\n-XX:InitialRAMPercentage=50.000000\n-XX:+ManagementServer\n-XX:MarkStackSize=4194304\n-XX:MaxHeapSize=6442450944\n-XX:MaxNewSize=3865051136\n-XX:MaxRAMPercentage=50.000000\n-XX:MinHeapDeltaBytes=2097152\n-XX:MinRAMPercentage=50.000000\n-XX:NumberOfGCLogFiles=10\n-XX:+PrintGC\n-XX:+PrintGCDateStamps\n-XX:+PrintGCDetails\n-XX:+PrintGCTimeStamps\n-XX:+UseCompressedClassPointers\n-XX:+UseCompressedOops\n-XX:+UseG1GC\n-XX:+UseGCLogFileRotation\n</code></pre>\n\n<p>We run on openshift with CentOS: CentOS Linux release 7.7.1908 (Core)</p>\n\n<p>Kernel: 3.10.0-1062.12.1.el7.x86_64</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690202304,"post_id":76752811,"comment_id":135316175,"body_markdown":"@SanketsinghThakr If the answer helped you, please consider voting and accepting","body":"@SanketsinghThakr If the answer helped you, please consider voting and accepting"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690188672,"creation_date":1690188672,"answer_id":76752811,"question_id":76752806,"body_markdown":"If all you want is to open a web page from your Java application, I suggest using `Desktop.getDesktop().browse(URI)`. If your application runs on different platforms, you could check if the functionality is available using `Desktop.isDesktopSupported()`.","title":"Can we redirect user from a swing project to a webpage available on internet?","body":"<p>If all you want is to open a web page from your Java application, I suggest using <code>Desktop.getDesktop().browse(URI)</code>. If your application runs on different platforms, you could check if the functionality is available using <code>Desktop.isDesktopSupported()</code>.</p>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1690267335,"post_id":76752831,"comment_id":135325401,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"}],"tags":[],"owner":{"account_id":5344470,"reputation":39,"user_id":6261601,"display_name":"Arivazhagan L"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1690188881,"creation_date":1690188881,"answer_id":76752831,"question_id":76752806,"body_markdown":"Yes, you can redirect a user from a Swing project to a webpage available on the internet. To achieve this, you can use the Desktop class in Java, which provides a way to interact with the user&#39;s default desktop browser. The Desktop.browse() method allows you to open a specified URL in the user&#39;s default web browser.\r\n\r\nHere&#39;s how you can do it in a Swing project:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class WebpageRedirectDemo {\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                createAndShowGUI();\r\n            });\r\n        }\r\n    \r\n        private static void createAndShowGUI() {\r\n            JFrame frame = new JFrame(&quot;Webpage Redirect&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JButton redirectButton = new JButton(&quot;Redirect to Webpage&quot;);\r\n            redirectButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    openWebpage(&quot;https://www.example.com&quot;);\r\n                }\r\n            });\r\n    \r\n            frame.add(redirectButton, BorderLayout.CENTER);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private static void openWebpage(String url) {\r\n            try {\r\n                Desktop.getDesktop().browse(new java.net.URI(url));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIn this example, we create a simple Swing application with a button. When the button is clicked, the openWebpage() method is called with the URL of the webpage you want to redirect the user to. The openWebpage() method utilizes the Desktop.browse() method to open the specified URL in the default web browser.","title":"Can we redirect user from a swing project to a webpage available on internet?","body":"<p>Yes, you can redirect a user from a Swing project to a webpage available on the internet. To achieve this, you can use the Desktop class in Java, which provides a way to interact with the user's default desktop browser. The Desktop.browse() method allows you to open a specified URL in the user's default web browser.</p>\n<p>Here's how you can do it in a Swing project:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class WebpageRedirectDemo {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            createAndShowGUI();\n        });\n    }\n\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame(&quot;Webpage Redirect&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JButton redirectButton = new JButton(&quot;Redirect to Webpage&quot;);\n        redirectButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                openWebpage(&quot;https://www.example.com&quot;);\n            }\n        });\n\n        frame.add(redirectButton, BorderLayout.CENTER);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    private static void openWebpage(String url) {\n        try {\n            Desktop.getDesktop().browse(new java.net.URI(url));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>In this example, we create a simple Swing application with a button. When the button is clicked, the openWebpage() method is called with the URL of the webpage you want to redirect the user to. The openWebpage() method utilizes the Desktop.browse() method to open the specified URL in the default web browser.</p>\n"}],"owner":{"account_id":28253565,"reputation":1,"user_id":21599382,"display_name":"beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690188881,"creation_date":1690188604,"question_id":76752806,"body_markdown":"I was recently  developing a university project of mine for electricity department to do all the stuffs using swing. so while developing it i want to redirect the user to the real contact us  webpage available on the internet. so what code should i write so when the user press the button they should be really redirected into real- world working site of electricity department ??? thanks for help in advance \r\n\r\n\r\nI just happen to know basics of Servlet so I don&#39;t really know how to use it. So is there any real way through which i can redirect the user to their browser to open a specific webpage ??","title":"Can we redirect user from a swing project to a webpage available on internet?","body":"<p>I was recently  developing a university project of mine for electricity department to do all the stuffs using swing. so while developing it i want to redirect the user to the real contact us  webpage available on the internet. so what code should i write so when the user press the button they should be really redirected into real- world working site of electricity department ??? thanks for help in advance</p>\n<p>I just happen to know basics of Servlet so I don't really know how to use it. So is there any real way through which i can redirect the user to their browser to open a specific webpage ??</p>\n"},{"tags":["java","arrays","space-complexity"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":4,"creation_date":1690144887,"post_id":76750066,"comment_id":135308929,"body_markdown":"This is very hard to read because you did not use proper formatting. Look up markdown syntax and preview your posts in the SO question editor (where you wrote this question) to make a post that attract more readers.","body":"This is very hard to read because you did not use proper formatting. Look up markdown syntax and preview your posts in the SO question editor (where you wrote this question) to make a post that attract more readers."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690145707,"post_id":76750066,"comment_id":135309019,"body_markdown":"For reference, the source of the problem seems to be https://leetcode.com/problems/concatenation-of-array/","body":"For reference, the source of the problem seems to be <a href=\"https://leetcode.com/problems/concatenation-of-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/concatenation-of-array</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690146026,"post_id":76750066,"comment_id":135309056,"body_markdown":"From an aesthetics point of view, I don&#39;t like the first solution in which the value of the `for` loop index is changed within the block controlled by the loop. Consider `for (m = 0; m &lt; 2; m++) { for for(int i = 0; i &lt; n; i++) { arr[k] = nums[i];   k++; } }`  instead.","body":"From an aesthetics point of view, I don&#39;t like the first solution in which the value of the <code>for</code> loop index is changed within the block controlled by the loop. Consider <code>for (m = 0; m &lt; 2; m++) { for for(int i = 0; i &lt; n; i++) { arr[k] = nums[i];   k++; } }</code>  instead."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690146673,"post_id":76750066,"comment_id":135309108,"body_markdown":"Off-topic: Can you think of a 3rd algorithm that will run in `for (int i = 0; i &lt; n; i++) {  }` ?  Hint: There will be exactly 2 statements in the `{ }` block.","body":"Off-topic: Can you think of a 3rd algorithm that will run in <code>for (int i = 0; i &lt; n; i++) {  }</code> ?  Hint: There will be exactly 2 statements in the <code>{ }</code> block."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690155269,"post_id":76750066,"comment_id":135309780,"body_markdown":"The space complexity seems to be the same in both cases. Where did you get those numbers from?","body":"The space complexity seems to be the same in both cases. Where did you get those numbers from?"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690188820,"creation_date":1690145530,"answer_id":76750289,"question_id":76750066,"body_markdown":"Is  44.42/44.72 MB the memory used by the JVM during execution? Or is it the size in disc for the application?\r\n\r\nIn any case, the JVM is not &quot;deterministic&quot; in that sense, ghe GIT compiler can even change the memory used **during** the execution.\r\n\r\nFor Java memory management, there are tons of interesting metrics. But the one you are looking at is probably not one of them. I would suggest the following things to learn if you want to get starting understanding this field:\r\n\r\n - What is Stack vs. Heap.\r\n - Java memory management, Eden, Survivor, Tenured and other spaces.\r\n - Garbage collecfion.\r\n\r\nWith your code examples, investigate how they scale if you make your array 1 kb vs 1 mb long.","title":"Does memory requirement of a code consist of a arithmetic computation is greater than that of code consist of low arithmetic computation in java?","body":"<p>Is  44.42/44.72 MB the memory used by the JVM during execution? Or is it the size in disc for the application?</p>\n<p>In any case, the JVM is not &quot;deterministic&quot; in that sense, ghe GIT compiler can even change the memory used <strong>during</strong> the execution.</p>\n<p>For Java memory management, there are tons of interesting metrics. But the one you are looking at is probably not one of them. I would suggest the following things to learn if you want to get starting understanding this field:</p>\n<ul>\n<li>What is Stack vs. Heap.</li>\n<li>Java memory management, Eden, Survivor, Tenured and other spaces.</li>\n<li>Garbage collecfion.</li>\n</ul>\n<p>With your code examples, investigate how they scale if you make your array 1 kb vs 1 mb long.</p>\n"}],"owner":{"account_id":23293939,"reputation":3,"user_id":17730773,"display_name":"Shantanu Patil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76750289,"answer_count":1,"score":-4,"last_activity_date":1690188820,"creation_date":1690141817,"question_id":76750066,"body_markdown":"`here I am writing a solution for concatenation of two arrays using but I come up with two solutions. \r\nthe problems is given as below:\r\nGiven an integer array nums of length n, you want to create an array ans of length 2n where ans[i] == nums[i] and ans[i + n] == nums[i] for 0 &lt;= i &lt; n (0-indexed).\r\n\r\nSpecifically, ans is the concatenation of two nums arrays.\r\n\r\nReturn the array ans.\r\nExample:\r\n\r\nInput: nums = [1,2,1]\r\nOutput: [1,2,1,1,2,1]\r\nExplanation: The array ans is formed as follows:\r\n- ans = [nums[0],nums[1],nums[2],nums[0],nums[1],nums[2]]\r\n- ans = [1,2,1,1,2,1]\r\n\r\nNow,can anyone please explain me how can the space complexity of code (1) is better than that of the code (2)? Both solutions are made by me But I can&#39;t understand that how can be the time complexity of code (1) is better that of code (2). please explain this if you know how is code (1) better and taking less memory as compared to that of (2)?\r\n code (1) is taking memory of : 44.42 MB.\r\n code (2) is taking memory of : 44.72 MB.\r\ncode(1) :\r\n\r\n   ` class Solution {\r\n         public int[] getConcatenation(int[] nums) {\r\n\r\n     int n = nums.length;\r\n     int[] arr = new int[2*n];\r\n     int k = 0;\r\n     int count = 0;\r\n     for(int i = 0; i &lt; n; i++){\r\n         arr[k] = nums[i];\r\n         k++;\r\n         if(i == n-1){\r\n             i = -1;\r\n             count++;\r\n         }\r\n         if(count == 2){\r\n             break;\r\n         }\r\n     }\r\n     \r\n    return arr;\r\n   }\r\n    }\r\n    \r\n     code (2) :\r\n     class Solution {\r\n     public int[] getConcatenation(int[] nums) {\r\n\r\n     int n = nums.length;\r\n     int[] arr = new int[2*n];\r\n  \r\n     \r\n     for(int i = 0; i &lt; 2*n; i++){\r\n         arr[i] = nums[i % n];\r\n     }\r\n     \r\n   return arr;\r\n    }\r\n  }`\r\nAsk Question\r\n","title":"Does memory requirement of a code consist of a arithmetic computation is greater than that of code consist of low arithmetic computation in java?","body":"<p>`here I am writing a solution for concatenation of two arrays using but I come up with two solutions.\nthe problems is given as below:\nGiven an integer array nums of length n, you want to create an array ans of length 2n where ans[i] == nums[i] and ans[i + n] == nums[i] for 0 &lt;= i &lt; n (0-indexed).</p>\n<p>Specifically, ans is the concatenation of two nums arrays.</p>\n<p>Return the array ans.\nExample:</p>\n<p>Input: nums = [1,2,1]\nOutput: [1,2,1,1,2,1]\nExplanation: The array ans is formed as follows:</p>\n<ul>\n<li>ans = [nums[0],nums[1],nums[2],nums[0],nums[1],nums[2]]</li>\n<li>ans = [1,2,1,1,2,1]</li>\n</ul>\n<p>Now,can anyone please explain me how can the space complexity of code (1) is better than that of the code (2)? Both solutions are made by me But I can't understand that how can be the time complexity of code (1) is better that of code (2). please explain this if you know how is code (1) better and taking less memory as compared to that of (2)?\ncode (1) is taking memory of : 44.42 MB.\ncode (2) is taking memory of : 44.72 MB.\ncode(1) :</p>\n<p>` class Solution {\npublic int[] getConcatenation(int[] nums) {</p>\n<pre><code> int n = nums.length;\n int[] arr = new int[2*n];\n int k = 0;\n int count = 0;\n for(int i = 0; i &lt; n; i++){\n     arr[k] = nums[i];\n     k++;\n     if(i == n-1){\n         i = -1;\n         count++;\n     }\n     if(count == 2){\n         break;\n     }\n }\n \nreturn arr;\n</code></pre>\n<p>}\n}</p>\n<pre><code> code (2) :\n class Solution {\n public int[] getConcatenation(int[] nums) {\n\n int n = nums.length;\n int[] arr = new int[2*n];\n\n \n for(int i = 0; i &lt; 2*n; i++){\n     arr[i] = nums[i % n];\n }\n \n</code></pre>\n<p>return arr;\n}\n}`\nAsk Question</p>\n"},{"tags":["java","android","iframe","webview","youtube"],"owner":{"account_id":29079039,"reputation":11,"user_id":22275497,"display_name":"user22275497"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690188615,"creation_date":1690188615,"question_id":76752807,"body_markdown":"I have successfully integrated the YouTube iframe API into my Android app, allowing users to watch embedded YouTube videos in the WebView. However, I want to know if there is any way to enable full-screen mode automatically without requiring the user to manually press the full-screen button within the YouTube player controls.\r\n\r\nis there any new developments or workarounds that would allow automatic full-screen mode ?","title":"YouTube Video Full-Screen Mode in Android WebView","body":"<p>I have successfully integrated the YouTube iframe API into my Android app, allowing users to watch embedded YouTube videos in the WebView. However, I want to know if there is any way to enable full-screen mode automatically without requiring the user to manually press the full-screen button within the YouTube player controls.</p>\n<p>is there any new developments or workarounds that would allow automatic full-screen mode ?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1690183188,"post_id":76752149,"comment_id":135312216,"body_markdown":"Does anything modify `nodeIdMap` concurrently? If no, then it&#39;s safe, if yes, then it&#39;s not safe. You may want to make an immutable copy (`Map.copyOf(..)`) so you can be sure.","body":"Does anything modify <code>nodeIdMap</code> concurrently? If no, then it&#39;s safe, if yes, then it&#39;s not safe. You may want to make an immutable copy (<code>Map.copyOf(..)</code>) so you can be sure."},{"owner":{"account_id":28974642,"reputation":3,"user_id":22194050,"display_name":"John Johnson"},"score":0,"creation_date":1690183343,"post_id":76752149,"comment_id":135312241,"body_markdown":"https://stackoverflow.com/users/466862/mark-rotteveel nothing modifies it ,but componentNodeId this is is used to search in db","body":"<a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">stackoverflow.com/users/466862/mark-rotteveel</a> nothing modifies it ,but componentNodeId this is is used to search in db"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690184749,"post_id":76752149,"comment_id":135312505,"body_markdown":"Why not leave it as it is, with `ConcurrentHashMap()`? Then you don&#39;t have to think about it.","body":"Why not leave it as it is, with <code>ConcurrentHashMap()</code>? Then you don&#39;t have to think about it."},{"owner":{"account_id":28974642,"reputation":3,"user_id":22194050,"display_name":"John Johnson"},"score":0,"creation_date":1690184848,"post_id":76752149,"comment_id":135312519,"body_markdown":"https://stackoverflow.com/users/207421/user207421 ya solution just then would have to take care of nulls","body":"<a href=\"https://stackoverflow.com/users/207421/user207421\">stackoverflow.com/users/207421/user207421</a> ya solution just then would have to take care of nulls"},{"owner":{"account_id":28974642,"reputation":3,"user_id":22194050,"display_name":"John Johnson"},"score":0,"creation_date":1690185028,"post_id":76752149,"comment_id":135312552,"body_markdown":"well okay thanks a lot guys,then i&#39;ll leave it as it is since just reading","body":"well okay thanks a lot guys,then i&#39;ll leave it as it is since just reading"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690186858,"post_id":76752149,"comment_id":135312895,"body_markdown":"The proper way to notify people in comments is to use @username","body":"The proper way to notify people in comments is to use @username"},{"owner":{"account_id":28974642,"reputation":3,"user_id":22194050,"display_name":"John Johnson"},"score":0,"creation_date":1690984436,"post_id":76752149,"comment_id":135429186,"body_markdown":"@MarkRotteveel okay will keep in mind,Thanks.","body":"@MarkRotteveel okay will keep in mind,Thanks."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690186688,"post_id":76752532,"comment_id":135312862,"body_markdown":"What is JWM? Did you mean JVM?","body":"What is JWM? Did you mean JVM?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690188093,"post_id":76752532,"comment_id":135313127,"body_markdown":"A more important reason is that a non-concurrent data structure may have moments during which it is incoherent during update.","body":"A more important reason is that a non-concurrent data structure may have moments during which it is incoherent during update."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1690188704,"post_id":76752532,"comment_id":135313255,"body_markdown":"@user207421 it&#39;s not really incoherent in memory, it&#39;s the mentioned caches that are not updated, making the data look incoherent.","body":"@user207421 it&#39;s not really incoherent in memory, it&#39;s the mentioned caches that are not updated, making the data look incoherent."}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690188541,"creation_date":1690186354,"answer_id":76752532,"question_id":76752149,"body_markdown":"It is safe to read from and variable from multiple threads of the content is constant (not modified).\r\n\r\nThe reason that non constant values needs special treatment is that the CPU cannot cache values from the memory. Worst case, values must be read from memory (~ x10-x100 times slower than reading from CPU register or cache) each time they are used since they may have been updated by another thread since last time the current thread accessed them. (JVM experts may have more input here, maybe some kind of dirty flag is used to optimize things. Point is that it at least brings some extra work.)\r\n\r\nTelling the JVM to synchronise (by using a concurrent hash map) is not only unnecessary in this case, but comes with a performance cost. ","title":"Is it safe to use just a HashMap in multiThreaded env to read from it?","body":"<p>It is safe to read from and variable from multiple threads of the content is constant (not modified).</p>\n<p>The reason that non constant values needs special treatment is that the CPU cannot cache values from the memory. Worst case, values must be read from memory (~ x10-x100 times slower than reading from CPU register or cache) each time they are used since they may have been updated by another thread since last time the current thread accessed them. (JVM experts may have more input here, maybe some kind of dirty flag is used to optimize things. Point is that it at least brings some extra work.)</p>\n<p>Telling the JVM to synchronise (by using a concurrent hash map) is not only unnecessary in this case, but comes with a performance cost.</p>\n"}],"owner":{"account_id":28974642,"reputation":3,"user_id":22194050,"display_name":"John Johnson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690188541,"creation_date":1690182814,"question_id":76752149,"body_markdown":"```\r\n          Map&lt;Long, List&lt;Long&gt;&gt; relevantModules = new ConcurrentHashMap&lt;&gt;();\r\n            Map&lt;Long, List&lt;Long&gt;&gt; notRelevantModules = new ConcurrentHashMap&lt;&gt;();\r\n            List&lt;Long&gt; componentIds = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n\r\n            Instant startTest = Instant.now();\r\n            List&lt;AssignmentApplicationBE&gt; wrapperList = componentPABean.findAssignmentApplications(acId, materialNodelist, substanceNodelist, threshold);\r\n\r\n\r\n            LOG.info(&quot;Getting NodeIds from assignments ...&quot;);\r\n            List&lt;Long&gt; nodeIds = getAssignmentsNodeIds(wrapperList);\r\n            LOG.info(&quot;NodeIds size is [&quot; + nodeIds.size() + &quot;]&quot;);\r\n            Map&lt;Long, Long&gt; nodeIdMap = nodePABean.findNodeIdsMapByNodeIds(nodeIds);\r\n            LOG.info(&quot;NodeIdMap is ready&quot;);\r\n\r\n\r\n            LOG.info(&quot;Start of ParseEachAssignmentApplication [&quot; + startTest.get(ChronoField.MILLI_OF_SECOND) + &quot;]&quot;);\r\n\r\n            ExecutorService executor = Executors.newFixedThreadPool(THREADS);\r\n\r\n            for (int i = 0; i &lt; wrapperList.size(); i += BATCH_SIZE) {\r\n                LOG.info(&quot;Batching number [&quot; + i + &quot;]&quot;);\r\n\r\n                List&lt;AssignmentApplicationBE&gt; batch = wrapperList.subList(i, Math.min(i + BATCH_SIZE, wrapperList.size()));\r\n\r\n                List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n                for (AssignmentApplicationBE each : batch) {\r\n                    CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt;\r\n                                    parseEachAssignmentApplication(each, componentIds, notRelevantModules, relevantModules,nodeIdMap),\r\n                            executor\r\n                    );\r\n                    futures.add(future);\r\n                }\r\n                CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\r\n            }\r\n            executor.shutdown();\r\n\r\n```\r\n\r\n\r\nand \r\n\r\n```\r\nprivate void parseEachAssignmentApplication(AssignmentApplicationBE assignmentApplicationBE, List&lt;Long&gt; componentIds,\r\n                                                Map&lt;Long, List&lt;Long&gt;&gt; notRelevantModules, Map&lt;Long, List&lt;Long&gt;&gt; relevantModules, Map&lt;Long, Long&gt; nodeIdMap) {\r\n        Long nodeId = assignmentApplicationBE.getNodeId();\r\n        List&lt;OemAppcodeBE&gt; appcodes = assignmentApplicationBE.getOemAppcodes();\r\n        if (nodeId == null) {\r\n            return;\r\n        }\r\n        componentIds.add(nodeId);\r\n\r\n        long componentNodeId = nodeIdMap.get(nodeId);\r\n```\r\n\r\n\r\n        long componentNodeId = nodeIdMap.get(nodeId);\r\n is this safe action to do?\r\n\r\nI&#39;ve tried with unmodifable map and it worked so i guess it is safe to use if it is just reading ,but not sure ?\r\nI&#39;m just worried about this result because a ot of threads run concurrently.","title":"Is it safe to use just a HashMap in multiThreaded env to read from it?","body":"<pre><code>          Map&lt;Long, List&lt;Long&gt;&gt; relevantModules = new ConcurrentHashMap&lt;&gt;();\n            Map&lt;Long, List&lt;Long&gt;&gt; notRelevantModules = new ConcurrentHashMap&lt;&gt;();\n            List&lt;Long&gt; componentIds = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n\n            Instant startTest = Instant.now();\n            List&lt;AssignmentApplicationBE&gt; wrapperList = componentPABean.findAssignmentApplications(acId, materialNodelist, substanceNodelist, threshold);\n\n\n            LOG.info(&quot;Getting NodeIds from assignments ...&quot;);\n            List&lt;Long&gt; nodeIds = getAssignmentsNodeIds(wrapperList);\n            LOG.info(&quot;NodeIds size is [&quot; + nodeIds.size() + &quot;]&quot;);\n            Map&lt;Long, Long&gt; nodeIdMap = nodePABean.findNodeIdsMapByNodeIds(nodeIds);\n            LOG.info(&quot;NodeIdMap is ready&quot;);\n\n\n            LOG.info(&quot;Start of ParseEachAssignmentApplication [&quot; + startTest.get(ChronoField.MILLI_OF_SECOND) + &quot;]&quot;);\n\n            ExecutorService executor = Executors.newFixedThreadPool(THREADS);\n\n            for (int i = 0; i &lt; wrapperList.size(); i += BATCH_SIZE) {\n                LOG.info(&quot;Batching number [&quot; + i + &quot;]&quot;);\n\n                List&lt;AssignmentApplicationBE&gt; batch = wrapperList.subList(i, Math.min(i + BATCH_SIZE, wrapperList.size()));\n\n                List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n                for (AssignmentApplicationBE each : batch) {\n                    CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt;\n                                    parseEachAssignmentApplication(each, componentIds, notRelevantModules, relevantModules,nodeIdMap),\n                            executor\n                    );\n                    futures.add(future);\n                }\n                CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\n            }\n            executor.shutdown();\n\n</code></pre>\n<p>and</p>\n<pre><code>private void parseEachAssignmentApplication(AssignmentApplicationBE assignmentApplicationBE, List&lt;Long&gt; componentIds,\n                                                Map&lt;Long, List&lt;Long&gt;&gt; notRelevantModules, Map&lt;Long, List&lt;Long&gt;&gt; relevantModules, Map&lt;Long, Long&gt; nodeIdMap) {\n        Long nodeId = assignmentApplicationBE.getNodeId();\n        List&lt;OemAppcodeBE&gt; appcodes = assignmentApplicationBE.getOemAppcodes();\n        if (nodeId == null) {\n            return;\n        }\n        componentIds.add(nodeId);\n\n        long componentNodeId = nodeIdMap.get(nodeId);\n</code></pre>\n<pre><code>    long componentNodeId = nodeIdMap.get(nodeId);\n</code></pre>\n<p>is this safe action to do?</p>\n<p>I've tried with unmodifable map and it worked so i guess it is safe to use if it is just reading ,but not sure ?\nI'm just worried about this result because a ot of threads run concurrently.</p>\n"},{"tags":["java","sql-server-2008","jboss"],"comments":[{"owner":{"account_id":9934418,"reputation":874,"user_id":7353203,"display_name":"Anup Dey"},"score":0,"creation_date":1493297352,"post_id":43636713,"comment_id":74363882,"body_markdown":"Paste the error stack trace here to review?","body":"Paste the error stack trace here to review?"},{"owner":{"account_id":10425329,"reputation":1,"user_id":7686805,"display_name":"Adri&#225;n O."},"score":0,"creation_date":1493304161,"post_id":43636713,"comment_id":74368978,"body_markdown":"This is the regular exception:\n\n09:36:05,552 WARNING [com.microsoft.sqlserver.jdbc.internals.AuthenticationJNI] (http-/127.0.0.1:8080-3) Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path\n09:36:18,216 INFO  [stdout] (http-/127.0.0.1:8080-3) com.microsoft.sqlserver.jdbc.SQLServerException: Este controlador no est&#225; configurado para la autenticaci&#243;n integrada.\n\n09:36:18,222 INFO  [stdout] (http-/127.0.0.1:8080-3) java.lang.NullPointerException","body":"This is the regular exception:  09:36:05,552 WARNING [com.microsoft.sqlserver.jdbc.internals.AuthenticationJNI] (http-/127.0.0.1:8080-3) Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path 09:36:18,216 INFO  [stdout] (http-/127.0.0.1:8080-3) com.microsoft.sqlserver.jdbc.SQLServerException: Este controlador no est&#225; configurado para la autenticaci&#243;n integrada.  09:36:18,222 INFO  [stdout] (http-/127.0.0.1:8080-3) java.lang.NullPointerException"}],"answers":[{"tags":[],"owner":{"account_id":9934418,"reputation":874,"user_id":7353203,"display_name":"Anup Dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494425041,"creation_date":1494425041,"answer_id":43894821,"question_id":43636713,"body_markdown":"You&#39;ve not added the path where sqljdbc_auth.dll is present. Find out in the system where the DLL is and add that to your classpath.\r\n\r\nAnd if that also doesn&#39;t work, add the folder where the DLL is present (I&#39;m assuming \\Microsoft SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86) to your PATH variable.\r\n\r\n\r\n1) Download the JDBC Driver [here][1].\r\n\r\n\r\n2) unzip the file and go to sqljdbc_version\\fra\\auth\\x86 or \\x64 \r\n3) copy the sqljdbc_auth.dll to C:\\Program Files\\Java\\jre_Version\\bin \r\n4) Finally restart eclipse\r\n\r\n\r\n  [1]: https://www.microsoft.com/en-us/download/details.aspx?id=11774","title":"How do I solve the: Failed to load the sqljdbc_auth.dll cause is not in the java path while working in Jboss/SQL Server?","body":"<p>You've not added the path where sqljdbc_auth.dll is present. Find out in the system where the DLL is and add that to your classpath.</p>\n\n<p>And if that also doesn't work, add the folder where the DLL is present (I'm assuming \\Microsoft SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86) to your PATH variable.</p>\n\n<p>1) Download the JDBC Driver <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=11774\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>2) unzip the file and go to sqljdbc_version\\fra\\auth\\x86 or \\x64 \n3) copy the sqljdbc_auth.dll to C:\\Program Files\\Java\\jre_Version\\bin \n4) Finally restart eclipse</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653290616,"creation_date":1653290616,"answer_id":72344664,"question_id":43636713,"body_markdown":"to resolve this problem try to change the name of dll files like is required in IDE [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pY1Mc.png","title":"How do I solve the: Failed to load the sqljdbc_auth.dll cause is not in the java path while working in Jboss/SQL Server?","body":"<p>to resolve this problem try to change the name of dll files like is required in IDE <a href=\"https://i.stack.imgur.com/pY1Mc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pY1Mc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10425329,"reputation":1,"user_id":7686805,"display_name":"Adri&#225;n O."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690188463,"creation_date":1493216012,"question_id":43636713,"body_markdown":"I&#39;m new in stack overflow, I&#39;m new to web programming.\r\nSo, I&#39;m making a web app using JSP/servlets and I&#39;m using java 6/jboss server.\r\nWhen I try to connect to the server (I&#39;m using the windows authentication, this means integratedSecurity=true in the string path) throws me the exception.\r\nI already tried to put the DLL in the bin folder in the JBoss path, in system 32, and nothing seems to work. I&#39;m using NetBeans, by the way.\r\n\r\nThanks for any help.","title":"How do I solve the: Failed to load the sqljdbc_auth.dll cause is not in the java path while working in Jboss/SQL Server?","body":"<p>I'm new in stack overflow, I'm new to web programming.\nSo, I'm making a web app using JSP/servlets and I'm using java 6/jboss server.\nWhen I try to connect to the server (I'm using the windows authentication, this means integratedSecurity=true in the string path) throws me the exception.\nI already tried to put the DLL in the bin folder in the JBoss path, in system 32, and nothing seems to work. I'm using NetBeans, by the way.</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","jms","tibco"],"answers":[{"tags":[],"owner":{"account_id":7395051,"reputation":1919,"user_id":5627271,"display_name":"R&#233;mi Bantos"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1690188099,"creation_date":1503497683,"answer_id":45842246,"question_id":45841808,"body_markdown":"JMS2.0 is backard compatible with JMS1.1. You can still consume or produce messages using javax.jms 1.1 legacy API if you want with a JMS2.0 implementation.\r\n\r\nSee also\r\n - https://www.infoq.com/news/2013/06/JMS_2.0_Released\r\n - http://www.oracle.com/technetwork/articles/java/jms20-1947669.html\r\n\r\n","title":"What is the difference between jms 1.1 and 2.0 and are they backwards compatible with older drivers?","body":"<p>JMS2.0 is backard compatible with JMS1.1. You can still consume or produce messages using javax.jms 1.1 legacy API if you want with a JMS2.0 implementation.</p>\n<p>See also</p>\n<ul>\n<li><a href=\"https://www.infoq.com/news/2013/06/JMS_2.0_Released\" rel=\"nofollow noreferrer\">https://www.infoq.com/news/2013/06/JMS_2.0_Released</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/articles/java/jms20-1947669.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/articles/java/jms20-1947669.html</a></li>\n</ul>\n"}],"owner":{"account_id":423955,"reputation":2521,"user_id":803674,"accept_rate":76,"display_name":"niken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6021,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45842246,"answer_count":1,"score":2,"last_activity_date":1690188099,"creation_date":1503496621,"question_id":45841808,"body_markdown":"I use a tibco driver under the jms hood to create client connections to an ems broker... I thought about upgrading the driver to latest and greatest, before I start just wondering if javax.jms package is backwards compatible and what does the version difference entail? Example: old tibco driver is packaged with (what I assume to be as it&#39;s not clearly specified anywhere) javax.jms 1.1 (built in April 2002) however the new driver is bundled with jms 2.0","title":"What is the difference between jms 1.1 and 2.0 and are they backwards compatible with older drivers?","body":"<p>I use a tibco driver under the jms hood to create client connections to an ems broker... I thought about upgrading the driver to latest and greatest, before I start just wondering if javax.jms package is backwards compatible and what does the version difference entail? Example: old tibco driver is packaged with (what I assume to be as it's not clearly specified anywhere) javax.jms 1.1 (built in April 2002) however the new driver is bundled with jms 2.0</p>\n"},{"tags":["java","git-flow","semantic-versioning","aws-service-catalog","maven-multi-module"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690188533,"post_id":76752737,"comment_id":135313218,"body_markdown":"working with different versions will just make it more complex","body":"working with different versions will just make it more complex"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690187974,"creation_date":1690187974,"question_id":76752737,"body_markdown":"I have a Spring boot application with several modules (I&#39;m using Maven) and each module includes several other modules/libs (eg. for MongoDB, MySQL, ActiveDirectory etc.) and some of them are in common among these modules.\r\n\r\nEg.\r\n\r\n    Module A (API REST)\r\n    - include lib X\r\n    - include lib Y \r\n\r\n    Module B (Batch Job)\r\n    - include lib X\r\n    - include lib Z\r\n\r\n    Module C (API REST)\r\n    - include lib X\r\n    - include lib Y\r\n    - include lib R\r\n\r\nthese (X, Y, Z) libs/modules are other maven modules not third part libraries that we can find on Maven Central Repository.\r\n\r\nThis is not a micro-services application as we usually intend and, at the same time, it&#39;s not a monolithic application but a sort of &quot;macro-services&quot; application.\r\n\r\nI can release one these macro-modules independently (e.g. release a new version of Module A but not B).\r\n\r\nWhich is the best way to handle the versioning of all these modules?\r\n\r\nUsing the semantic versioning for each module/lib?\r\n\r\ne.g.\r\nI make a bug-fix on lib Z than Module A and B will be released as 1.0.1?\r\n\r\nSo:\r\n\r\n    lib Z (1.0.0 =&gt; 1.0.1)\r\n    Module A (1.0.0 =&gt; 1.0.1) because depends on lib Z\r\n    Module B (1.0.0 =&gt; 1.0.1) because depends on lib Z\r\n\r\nBut what the will be the version number of the entire application that I can define in the root POM.xml?\r\n\r\nI&#39;m asking this because we are using a GITFlow release branch strategy and AWS Service Catalog for the production release distribution.\r\n\r\nA datetime versioning for the Service Catalog release could be useful in this case?\r\n\r\nE.g.\r\n\r\n    lib Z (1.0.0 =&gt; 1.0.1)\r\n    Module A (1.0.0 =&gt; 1.0.1)\r\n    Module B (1.0.0 =&gt; 1.0.1)\r\n\r\nService catalog release 20230724 will contain all the modules reference through CloudFormation Stacks.\r\n\r\nOr should I kepp using the semantic versioning even for the Service Catalog release?\r\n\r\nIn this case the version number for the Service Catalog (entire product) release which logic should follow?\r\n\r\nE.g.\r\n\r\n    Bug fix on Module A =&gt; Service Catalog release 1.0.1 (because mod. A 1.0.1 - mod. B 1.0.0)\r\n    Feature improvement on Module B =&gt; Service catalog release 1.1.0 (because mod. A 1.0.1 - mod. B 1.1.0)\r\n\r\nPros and Cons of each versioning stragey?\r\n\r\nThanks in advance.","title":"Multi-module application and versioning strategy","body":"<p>I have a Spring boot application with several modules (I'm using Maven) and each module includes several other modules/libs (eg. for MongoDB, MySQL, ActiveDirectory etc.) and some of them are in common among these modules.</p>\n<p>Eg.</p>\n<pre><code>Module A (API REST)\n- include lib X\n- include lib Y \n\nModule B (Batch Job)\n- include lib X\n- include lib Z\n\nModule C (API REST)\n- include lib X\n- include lib Y\n- include lib R\n</code></pre>\n<p>these (X, Y, Z) libs/modules are other maven modules not third part libraries that we can find on Maven Central Repository.</p>\n<p>This is not a micro-services application as we usually intend and, at the same time, it's not a monolithic application but a sort of &quot;macro-services&quot; application.</p>\n<p>I can release one these macro-modules independently (e.g. release a new version of Module A but not B).</p>\n<p>Which is the best way to handle the versioning of all these modules?</p>\n<p>Using the semantic versioning for each module/lib?</p>\n<p>e.g.\nI make a bug-fix on lib Z than Module A and B will be released as 1.0.1?</p>\n<p>So:</p>\n<pre><code>lib Z (1.0.0 =&gt; 1.0.1)\nModule A (1.0.0 =&gt; 1.0.1) because depends on lib Z\nModule B (1.0.0 =&gt; 1.0.1) because depends on lib Z\n</code></pre>\n<p>But what the will be the version number of the entire application that I can define in the root POM.xml?</p>\n<p>I'm asking this because we are using a GITFlow release branch strategy and AWS Service Catalog for the production release distribution.</p>\n<p>A datetime versioning for the Service Catalog release could be useful in this case?</p>\n<p>E.g.</p>\n<pre><code>lib Z (1.0.0 =&gt; 1.0.1)\nModule A (1.0.0 =&gt; 1.0.1)\nModule B (1.0.0 =&gt; 1.0.1)\n</code></pre>\n<p>Service catalog release 20230724 will contain all the modules reference through CloudFormation Stacks.</p>\n<p>Or should I kepp using the semantic versioning even for the Service Catalog release?</p>\n<p>In this case the version number for the Service Catalog (entire product) release which logic should follow?</p>\n<p>E.g.</p>\n<pre><code>Bug fix on Module A =&gt; Service Catalog release 1.0.1 (because mod. A 1.0.1 - mod. B 1.0.0)\nFeature improvement on Module B =&gt; Service catalog release 1.1.0 (because mod. A 1.0.1 - mod. B 1.1.0)\n</code></pre>\n<p>Pros and Cons of each versioning stragey?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693414787,"post_id":76752704,"comment_id":135758996,"body_markdown":"You shouldn&#39;t have needed to put in the agent - spring should do that for you. See https://www.baeldung.com/spring-eclipselink and https://stackoverflow.com/a/6425337/496099 , the later of which states you need to be sure you do not access the classes within the persistence unit before accessing the Spring context or they will be loaded without weaving.","body":"You shouldn&#39;t have needed to put in the agent - spring should do that for you. See <a href=\"https://www.baeldung.com/spring-eclipselink\" rel=\"nofollow noreferrer\">baeldung.com/spring-eclipselink</a> and <a href=\"https://stackoverflow.com/a/6425337/496099\">stackoverflow.com/a/6425337/496099</a> , the later of which states you need to be sure you do not access the classes within the persistence unit before accessing the Spring context or they will be loaded without weaving."}],"owner":{"account_id":12992842,"reputation":39,"user_id":9391532,"display_name":"Suyash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690187709,"creation_date":1690187709,"question_id":76752704,"body_markdown":"I have a springboot app(java11, spring5.3.23, eclipselink2.6.7) which on runtime reverts lazy setting on all ManyToOne associations.\r\n\r\n&gt; Reverting the lazy setting on the OneToOne or ManyToOne attribute\r\n\r\n\r\nMy **persistence.xml** has following properties:\r\n\r\n```\r\n&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;true&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.weaving.internal&quot; value=&quot;false&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.weaving.fetchgroups&quot; value=&quot;false&quot;/&gt;\r\n```\r\n\r\nAlso, I have this configuration(simplified version below), which on runtime sets weaving to true\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(&quot;oracle&quot;)\r\n@EnableAutoConfiguration\r\n@EnableTransactionManagement\r\n@EnableLoadTimeWeaving(aspectjWeaving = EnableLoadTimeWeaving.AspectJWeaving.ENABLED)\r\npublic class PersistenceConfig\r\n{\r\n\t@Bean\r\n\tpublic PersistenceUnitManager persistenceUnitManager(\r\n\t\t@Qualifier(&quot;temp&quot;) DataSource dataSource, \r\n\t\tLoadTimeWeaver loadTimeWeaver)\r\n\t{\r\n\t\tDefaultPersistenceUnitManager manager = new DefaultPersistenceUnitManager();\r\n\t\tmanager.setPersistenceXmlLocation(&quot;classpath:META-INF/persistence.xml&quot;);\r\n\t\tmanager.setDefaultPersistenceUnitName(&quot;com.model.data&quot;);\r\n\t\tmanager.setDefaultDataSource(dataSource);\r\n\t\tmanager.setLoadTimeWeaver(loadTimeWeaver);\r\n\t\treturn manager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EntityManagerFactoryBuilder entityManagerFactoryBuilder(JpaVendorAdapter jpaVendorAdapter, \r\n\t\tPersistenceUnitManager persistenceUnitManager) {\r\n\t\treturn new EntityManagerFactoryBuilder(jpaVendorAdapter, getVendorProperties(), persistenceUnitManager);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n\t\t\tEclipseLinkJpaVendorAdapter jpaVendorAdapter,\r\n\t\t\t@Qualifier(&quot;temp&quot;) DataSource dataSource,\r\n\t\t\tPersistenceUnitManager persistenceUnitManager) {\r\n\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactory.setPackagesToScan(new String[] { &quot;com.model.data&quot; });\r\n\t\tfactory.setPersistenceUnitManager(persistenceUnitManager);\r\n\t\tfactory.setJpaVendorAdapter(jpaVendorAdapter);\r\n\t\tfactory.setJpaProperties(getProperties());\r\n\t\tfactory.setDataSource(dataSource);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EclipseLinkJpaVendorAdapter jpaVendorAdapter() {\r\n\t\tEclipseLinkJpaVendorAdapter adapter = new EclipseLinkJpaVendorAdapter();\r\n\t\tadapter.setDatabase(Database.ORACLE);\r\n\t\tadapter.setDatabasePlatform(&quot;oracle&quot;);\r\n\t\tadapter.setGenerateDdl(false);\r\n\t\tadapter.setShowSql(true);\r\n\t\treturn adapter;\r\n\t}\r\n\r\n\tprotected Properties getProperties()\r\n\t{\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.putAll(getVendorProperties());\r\n\t\treturn properties;\r\n\t}\r\n\r\n\tprotected  Map&lt;String, Object&gt; getVendorProperties()\r\n\t{\r\n\t\tfinal Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\tmap.put(PersistenceUnitProperties.WEAVING, &quot;true&quot;);\r\n\t\tmap.put(PersistenceUnitProperties.WEAVING_INTERNAL, &quot;false&quot;);\r\n\r\n\t\treturn map;\r\n\t}\t\r\n```\r\n\r\n\r\n\r\nI have tried following this article to implement dynamic weaving since I only have few classes that are required to be weaved.\r\n\r\nhttps://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving\r\n\r\n\r\nUsing following command to run my application(with eclipseLink jar as javaagent):\r\n\r\n&gt; java -javaagent:C:\\Users\\suyash.yadav\\.m2\\repository\\org\\springframework\\spring-instrument\\5.3.23\\spring-instrument-5.3.23.jar -javaagent:C:\\Users\\suyash.yadav\\.m2\\repository\\org\\eclipse\\persistence\\eclipselink\\2.6.7\\eclipselink-2.6.7.jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=4004 -jar target\\my-app-name-web-1.2.3-exec.war\r\n\r\n\r\nBut I&#39;m getting following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&gt; \r\n&gt; Caused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo\r\n&gt; \r\n&gt; FATAL ERROR in native method: processing of -javaagent failed\r\n&gt; \r\n\r\nAny suggestions on what else I can try here?","title":"Lazy setting are being reverted by EclipseLink on runtime","body":"<p>I have a springboot app(java11, spring5.3.23, eclipselink2.6.7) which on runtime reverts lazy setting on all ManyToOne associations.</p>\n<blockquote>\n<p>Reverting the lazy setting on the OneToOne or ManyToOne attribute</p>\n</blockquote>\n<p>My <strong>persistence.xml</strong> has following properties:</p>\n<pre><code>&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;eclipselink.weaving.internal&quot; value=&quot;false&quot;/&gt;\n&lt;property name=&quot;eclipselink.weaving.fetchgroups&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>Also, I have this configuration(simplified version below), which on runtime sets weaving to true</p>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;oracle&quot;)\n@EnableAutoConfiguration\n@EnableTransactionManagement\n@EnableLoadTimeWeaving(aspectjWeaving = EnableLoadTimeWeaving.AspectJWeaving.ENABLED)\npublic class PersistenceConfig\n{\n    @Bean\n    public PersistenceUnitManager persistenceUnitManager(\n        @Qualifier(&quot;temp&quot;) DataSource dataSource, \n        LoadTimeWeaver loadTimeWeaver)\n    {\n        DefaultPersistenceUnitManager manager = new DefaultPersistenceUnitManager();\n        manager.setPersistenceXmlLocation(&quot;classpath:META-INF/persistence.xml&quot;);\n        manager.setDefaultPersistenceUnitName(&quot;com.model.data&quot;);\n        manager.setDefaultDataSource(dataSource);\n        manager.setLoadTimeWeaver(loadTimeWeaver);\n        return manager;\n    }\n\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder(JpaVendorAdapter jpaVendorAdapter, \n        PersistenceUnitManager persistenceUnitManager) {\n        return new EntityManagerFactoryBuilder(jpaVendorAdapter, getVendorProperties(), persistenceUnitManager);\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EclipseLinkJpaVendorAdapter jpaVendorAdapter,\n            @Qualifier(&quot;temp&quot;) DataSource dataSource,\n            PersistenceUnitManager persistenceUnitManager) {\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setPackagesToScan(new String[] { &quot;com.model.data&quot; });\n        factory.setPersistenceUnitManager(persistenceUnitManager);\n        factory.setJpaVendorAdapter(jpaVendorAdapter);\n        factory.setJpaProperties(getProperties());\n        factory.setDataSource(dataSource);\n        return factory;\n    }\n\n    @Bean\n    public EclipseLinkJpaVendorAdapter jpaVendorAdapter() {\n        EclipseLinkJpaVendorAdapter adapter = new EclipseLinkJpaVendorAdapter();\n        adapter.setDatabase(Database.ORACLE);\n        adapter.setDatabasePlatform(&quot;oracle&quot;);\n        adapter.setGenerateDdl(false);\n        adapter.setShowSql(true);\n        return adapter;\n    }\n\n    protected Properties getProperties()\n    {\n        Properties properties = new Properties();\n        properties.putAll(getVendorProperties());\n        return properties;\n    }\n\n    protected  Map&lt;String, Object&gt; getVendorProperties()\n    {\n        final Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        map.put(PersistenceUnitProperties.WEAVING, &quot;true&quot;);\n        map.put(PersistenceUnitProperties.WEAVING_INTERNAL, &quot;false&quot;);\n\n        return map;\n    }   \n</code></pre>\n<p>I have tried following this article to implement dynamic weaving since I only have few classes that are required to be weaved.</p>\n<p><a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving</a></p>\n<p>Using following command to run my application(with eclipseLink jar as javaagent):</p>\n<blockquote>\n<p>java -javaagent:C:\\Users\\suyash.yadav.m2\\repository\\org\\springframework\\spring-instrument\\5.3.23\\spring-instrument-5.3.23.jar -javaagent:C:\\Users\\suyash.yadav.m2\\repository\\org\\eclipse\\persistence\\eclipselink\\2.6.7\\eclipselink-2.6.7.jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=4004 -jar target\\my-app-name-web-1.2.3-exec.war</p>\n</blockquote>\n<p>But I'm getting following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException</p>\n<p>Caused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo</p>\n<p>FATAL ERROR in native method: processing of -javaagent failed</p>\n</blockquote>\n<p>Any suggestions on what else I can try here?</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"comments":[{"owner":{"account_id":1662506,"reputation":1874,"user_id":1530504,"accept_rate":36,"display_name":"asok Buzz"},"score":1,"creation_date":1472229625,"post_id":10634542,"comment_id":65684395,"body_markdown":"but what if we want to push down other elements down because of this. It doesn&#39;t seem to work in this case","body":"but what if we want to push down other elements down because of this. It doesn&#39;t seem to work in this case"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1475823431,"post_id":10634542,"comment_id":67106935,"body_markdown":"Can this be used for static text?","body":"Can this be used for static text?"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1476286297,"post_id":10634542,"comment_id":67282945,"body_markdown":"I&#39;m not sure. Could you try?","body":"I&#39;m not sure. Could you try?"}],"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1492585680,"creation_date":1337252844,"answer_id":10634542,"question_id":10631806,"body_markdown":"**I found the answer myself :**\n\nI did some extra research about the properties of  `textField` and `rectangle` components. And found that I need to set the following properties.\n\n**For rectangle :**\n\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; ... /&gt;\n            &lt;/rectangle&gt;\n\n**For textField :**\n\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                ...\n            &lt;/textField&gt;\n\nOutput as expected :\n\n![enter image description here][1]\n\n\nThe `&lt;detail&gt; ...&lt;/detail&gt;` section after correction :\n\n    &lt;detail&gt;\n            &lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;rectangle&gt;\n                    &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\n                &lt;/rectangle&gt;\n                &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                    &lt;reportElement x=&quot;2&quot; y=&quot;0&quot; width=&quot;84&quot; height=&quot;21&quot;/&gt;\n                    &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;rectangle&gt;\n                    &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\n                &lt;/rectangle&gt;\n                &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                    &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;118&quot; height=&quot;21&quot;/&gt;\n                    &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/band&gt;\n        &lt;/detail&gt;\n\n\n**UPDATE**\n\nYou can also set property `net.sf.jasperreports.print.keep.full.text` to `true` to achieve that across your all reports.\n\n  [1]: http://i.stack.imgur.com/ZN5sA.png","title":"JasperReport - wrap text to show long text in textfield","body":"<p><strong>I found the answer myself :</strong></p>\n<p>I did some extra research about the properties of  <code>textField</code> and <code>rectangle</code> components. And found that I need to set the following properties.</p>\n<p><strong>For rectangle :</strong></p>\n<pre><code>        &lt;rectangle&gt;\n            &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; ... /&gt;\n        &lt;/rectangle&gt;\n</code></pre>\n<p><strong>For textField :</strong></p>\n<pre><code>        &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n            ...\n        &lt;/textField&gt;\n</code></pre>\n<p>Output as expected :</p>\n<p><img src=\"https://i.stack.imgur.com/ZN5sA.png\" alt=\"enter image description here\" /></p>\n<p>The <code>&lt;detail&gt; ...&lt;/detail&gt;</code> section after correction :</p>\n<pre><code>&lt;detail&gt;\n        &lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                &lt;reportElement x=&quot;2&quot; y=&quot;0&quot; width=&quot;84&quot; height=&quot;21&quot;/&gt;\n                &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;118&quot; height=&quot;21&quot;/&gt;\n                &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>You can also set property <code>net.sf.jasperreports.print.keep.full.text</code> to <code>true</code> to achieve that across your all reports.</p>\n"},{"tags":[],"owner":{"account_id":937405,"reputation":1453,"user_id":966078,"accept_rate":75,"display_name":"Cid"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1530829887,"creation_date":1347945034,"answer_id":12470718,"question_id":10631806,"body_markdown":"Also you can make the truncation elegant by using the following properties set to the textfield. Check this [sample][1]\r\n\r\n    net.sf.jasperreports.text.truncate.at.char \r\n    net.sf.jasperreports.text.truncate.suffix \r\n    net.sf.jasperreports.print.keep.full.text \r\n\r\n  [1]: https://community.jaspersoft.com/wiki/need-way-text-field-show-much-content-possible-without-word-break-based-truncation\r\n","title":"JasperReport - wrap text to show long text in textfield","body":"<p>Also you can make the truncation elegant by using the following properties set to the textfield. Check this <a href=\"https://community.jaspersoft.com/wiki/need-way-text-field-show-much-content-possible-without-word-break-based-truncation\" rel=\"nofollow noreferrer\">sample</a></p>\n\n<pre><code>net.sf.jasperreports.text.truncate.at.char \nnet.sf.jasperreports.text.truncate.suffix \nnet.sf.jasperreports.print.keep.full.text \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629414017,"creation_date":1629414017,"answer_id":68855289,"question_id":10631806,"body_markdown":"Go to the Text Field Properties then set `Text Adjust` to `StretchHeight`.","title":"JasperReport - wrap text to show long text in textfield","body":"<p>Go to the Text Field Properties then set <code>Text Adjust</code> to <code>StretchHeight</code>.</p>\n"},{"tags":[],"owner":{"account_id":16694340,"reputation":19,"user_id":12065996,"display_name":"Jyotiprakash Jena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690187368,"creation_date":1690187368,"answer_id":76752657,"question_id":10631806,"body_markdown":"StretchHeight is truncating my data in the subreport when it falls on the page break\r\n","title":"JasperReport - wrap text to show long text in textfield","body":"<p>StretchHeight is truncating my data in the subreport when it falls on the page break</p>\n"}],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93823,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":10634542,"answer_count":4,"score":39,"last_activity_date":1690187368,"creation_date":1337241085,"question_id":10631806,"body_markdown":"I am using jasper report as reporting tool in my application. And I am wondering how can i wrap the long text by expanding the `reportElement` dynamically into vertical direction ( expanding the row size, not column width). Or Is there any way to achieve this? My approach below is truncating the long text &quot;**Some very long name**&quot;. Can you please give me some suggestions?\r\n\r\n**Output :** \r\n\r\n![enter image description here][1]\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import net.sf.jasperreports.engine.JasperCompileManager;\r\n    import net.sf.jasperreports.engine.JasperFillManager;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.engine.JasperReport;\r\n    import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;\r\n    import net.sf.jasperreports.engine.design.JasperDesign;\r\n    import net.sf.jasperreports.engine.xml.JRXmlLoader;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    \r\n    public class JrUtils {\r\n    \tpublic static void showJrReport(List objectList, String fileName, String title, Map parameters) {\r\n    \t\ttry {\r\n    \r\n    \t\t\tFile f = new File(fileName);\r\n    \t\t\tJasperDesign jasperDesign = JRXmlLoader.load(f.getAbsolutePath());\r\n    \t\t\tJRBeanCollectionDataSource ds = new JRBeanCollectionDataSource(objectList);\r\n    \t\t\tJasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n    \t\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, ds);\r\n    \t\t\tJasperViewer jv = new JasperViewer(jasperPrint, false);\r\n    \t\t\tjv.setTitle(title);\r\n    \t\t\tjv.setVisible(true);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\r\n    \r\n    \t\tPerson p1 = new Person();\r\n    \t\tp1.setPersonName(&quot;Some Name &quot;);\r\n    \t\tp1.setAddress(&quot;Nepal - Address Fits Here&quot;);\r\n    \r\n    \t\tPerson p2 = new Person();\r\n    \t\tp2.setPersonName(&quot;Some very long name&quot;);\r\n    \t\tp2.setAddress(&quot;Nepal - Address Fits Here&quot;);\r\n    \r\n    \t\tpList.add(p1);\r\n    \t\tpList.add(p2);\r\n    \r\n    \t\tshowJrReport(pList, &quot;testReport.jrxml&quot;, &quot;Test Report&quot;, new HashMap&lt;Object, Object&gt;());\r\n    \t}\r\n    \r\n    }\r\n\r\nJasper Report JrXML file - testReport.jrxml :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;report name&quot; pageWidth=&quot;250&quot; pageHeight=&quot;400&quot; columnWidth=&quot;210&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;2.0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;field name=&quot;personName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;address&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;23&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Address]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VjvqJ.png","title":"JasperReport - wrap text to show long text in textfield","body":"<p>I am using jasper report as reporting tool in my application. And I am wondering how can i wrap the long text by expanding the <code>reportElement</code> dynamically into vertical direction ( expanding the row size, not column width). Or Is there any way to achieve this? My approach below is truncating the long text \"<strong>Some very long name</strong>\". Can you please give me some suggestions?</p>\n\n<p><strong>Output :</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/VjvqJ.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;\nimport net.sf.jasperreports.engine.design.JasperDesign;\nimport net.sf.jasperreports.engine.xml.JRXmlLoader;\nimport net.sf.jasperreports.view.JasperViewer;\n\npublic class JrUtils {\n    public static void showJrReport(List objectList, String fileName, String title, Map parameters) {\n        try {\n\n            File f = new File(fileName);\n            JasperDesign jasperDesign = JRXmlLoader.load(f.getAbsolutePath());\n            JRBeanCollectionDataSource ds = new JRBeanCollectionDataSource(objectList);\n            JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, ds);\n            JasperViewer jv = new JasperViewer(jasperPrint, false);\n            jv.setTitle(title);\n            jv.setVisible(true);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\n\n        Person p1 = new Person();\n        p1.setPersonName(\"Some Name \");\n        p1.setAddress(\"Nepal - Address Fits Here\");\n\n        Person p2 = new Person();\n        p2.setPersonName(\"Some very long name\");\n        p2.setAddress(\"Nepal - Address Fits Here\");\n\n        pList.add(p1);\n        pList.add(p2);\n\n        showJrReport(pList, \"testReport.jrxml\", \"Test Report\", new HashMap&lt;Object, Object&gt;());\n    }\n\n}\n</code></pre>\n\n<p>Jasper Report JrXML file - testReport.jrxml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"report name\" pageWidth=\"250\" pageHeight=\"400\" columnWidth=\"210\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"2.0\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"0\"/&gt;\n    &lt;field name=\"personName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"address\" class=\"java.lang.String\"/&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=\"23\" splitType=\"Stretch\"&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"23\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"23\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"23\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;text&gt;&lt;![CDATA[Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"23\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;text&gt;&lt;![CDATA[Address]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=\"21\" splitType=\"Stretch\"&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"21\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"21\"/&gt;\n                &lt;textElement verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"21\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"21\"/&gt;\n                &lt;textElement verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","smartcard","javacard"],"answers":[{"comments":[{"owner":{"account_id":6125322,"reputation":1054,"user_id":4777513,"display_name":"Ekleog"},"score":1,"creation_date":1534938996,"post_id":51954068,"comment_id":90882403,"body_markdown":"I had already searched the spec, and had not found the answer I looked for. I had not put it in the original question, though, as I felt this didn&#39;t fit the Q&amp;A format. I&#39;ve now updated my question to reflect this research. Hopefully you can point me to somewhere more precise in the spec :)","body":"I had already searched the spec, and had not found the answer I looked for. I had not put it in the original question, though, as I felt this didn&#39;t fit the Q&amp;A format. I&#39;ve now updated my question to reflect this research. Hopefully you can point me to somewhere more precise in the spec :)"}],"tags":[],"owner":{"account_id":19051,"reputation":4117,"user_id":44289,"display_name":"Martin Paljak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534873360,"creation_date":1534873360,"answer_id":51954068,"question_id":51952899,"body_markdown":"There is a very nice document, freely downloadable from oracle.com, titled &quot;Java Card 3 Platform Runtime Environment Specification&quot;\r\n\r\n","title":"Which objects are persistent in Java Card, and when?","body":"<p>There is a very nice document, freely downloadable from oracle.com, titled \"Java Card 3 Platform Runtime Environment Specification\"</p>\n"},{"comments":[{"owner":{"account_id":6125322,"reputation":1054,"user_id":4777513,"display_name":"Ekleog"},"score":1,"creation_date":1537365223,"post_id":52375813,"comment_id":91758738,"body_markdown":"Thank you! If I understand correctly, this means that there is no way to have a custom object that is not persisted on disk, given there are only `makeTransientXXXArray`, and no `newTransient` keyword. Which means that every new object creation will take garbage collection space, even when never referenced from a persistent location… well, that&#39;s a bit sad.\n\nAnyway, thank you for your precise answer!","body":"Thank you! If I understand correctly, this means that there is no way to have a custom object that is not persisted on disk, given there are only <code>makeTransientXXXArray</code>, and no <code>newTransient</code> keyword. Which means that every new object creation will take garbage collection space, even when never referenced from a persistent location… well, that&#39;s a bit sad.  Anyway, thank you for your precise answer!"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1537365390,"post_id":52375813,"comment_id":91758829,"body_markdown":"You are correct. However, there is no &quot;disk&quot; and the garbage collection space is called &quot;the heap&quot; :) I sometimes make jokes to my colleagues of adding a disk, RAM slots or active cooling.","body":"You are correct. However, there is no &quot;disk&quot; and the garbage collection space is called &quot;the heap&quot; :) I sometimes make jokes to my colleagues of adding a disk, RAM slots or active cooling."},{"owner":{"account_id":4346547,"reputation":357,"user_id":3548351,"accept_rate":53,"display_name":"peroksid"},"score":0,"creation_date":1632432029,"post_id":52375813,"comment_id":122498215,"body_markdown":"What about static fields(class fields)? Are they saved to nvm memory? So, for example, if I set a static byte filed a = 5, then, reload the card, I still get the value 5?","body":"What about static fields(class fields)? Are they saved to nvm memory? So, for example, if I set a static byte filed a = 5, then, reload the card, I still get the value 5?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1632432903,"post_id":52375813,"comment_id":122498422,"body_markdown":"Yes, of course they are located in NVM (saved seems to indicate a specific action, which is not really the case). Beware that generally you should try and not use `static` fields. Note that `private static final` fields are actually inlined into the bytecode when using Java Card. Whatever you do, don&#39;t try and *update* class fields, let alone arrays. Updating statically stored arrays can trigger some interesting issues on Java Card. For Java Card applet&#39;s you always have an object instance: the applet itself, so why not use that?","body":"Yes, of course they are located in NVM (saved seems to indicate a specific action, which is not really the case). Beware that generally you should try and not use <code>static</code> fields. Note that <code>private static final</code> fields are actually inlined into the bytecode when using Java Card. Whatever you do, don&#39;t try and <i>update</i> class fields, let alone arrays. Updating statically stored arrays can trigger some interesting issues on Java Card. For Java Card applet&#39;s you always have an object instance: the applet itself, so why not use that?"}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690187080,"creation_date":1537219083,"answer_id":52375813,"question_id":51952899,"body_markdown":"&gt; **Q**: *Which objects are persisted? Which objects are transient?*\r\n\r\nAll object instance fields are persistent when they are created using `new`. Objects created by the JRE may not be: you&#39;d have to check the Java Card or OS documentation to find out. Note that fields to other objects are *references*. Those references themselves may point to arrays in transient memory or to other objects that contain volatile state.\r\n\r\nArrays are transient if they have been created or defined as being transient (usually by calling `makeTransientXxxArray()`). They are persistent when they are created using `new`.\r\n\r\n&gt; **Q**: *When is an object persisted?*\r\n\r\nUpon creation or during any update. Generally the persistent values are simply put in persistent memory: flash or EEPROM. Any write to flash or EEPROM is persisted directly. Note that the Java Card transaction mechanism can still *roll back* changes to persistent memory.\r\n\r\nThis is very different from Java SE where objects instances are stored in RAM, and therefore need to be persisted *after creation and each update* (if they are persisted at all).\r\n\r\n&gt; **Q:** *For the first part, the question applies to: ...*\r\n\r\nNo, now you&#39;re making it unnecessarily complex. The fields of an object are always persisted. How they are *referred to* doesn&#39;t matter.\r\n\r\nThe *reference itself* may not be persistent, even if the object is. It may be in a transient object array or local variable for instance. If all references are lost then the object cannot be accessed anymore and it becomes eligible for garbage collection. But before it is collected it will still remain in persistent memory.\r\n\r\n&gt; *I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the new Object and un-persisted when being put into the transient object array?*\r\n\r\nConsider the previous answer. There is really no such thing as a &quot;transient object array&quot;. What exists is an array that consists of *references* to other objects. These references may be transient or persistent. The objects referenced may be transient (arrays) or contain references to transient values.\r\n\r\nObjects themselves generally *do not convert from persistent to transient or vice versa*. They don&#39;t care how they are referenced. They only care if their reference count doesn&#39;t become zero, because then they are lost and eligible for garbage collection. This is of course more likely if they are just referenced by a volatile reference in a transient object array or in a local variable.\r\n\r\nThe stack itself is always in transient memory. It includes all local variables (including parameters and return values). But again: it doesn&#39;t contain any objects: it may just contain *transient references* to objects *on the heap*. If those references are lost then the object may be garbage collected.\r\n\r\n---\r\n\r\nNotes:\r\n\r\n - I&#39;m just talking about *classic* Java Card here;\r\n - Java Cards generally don&#39;t run the Garbage Collector automatically - normally you have to call [`JCSystem.requestObjectDeletion`][1] to run it, and then it usually runs during startup where it can take a lot of time;\r\n - Java Card also contains special objects such as the APDU buffer which has it&#39;s own life cycle;\r\n - Generally you will always use *persistent references* to point to objects, as you don&#39;t want to garbage collection to run on Java Card unless at exceptional circumstances.   - Transient arrays are zero&#39;d when they are referenced after a reset. The OS (should) make sure that they are always available.\r\n - The `CLEAR_ON_RESET` arrays keep their contents even if other applets are available. But *this means that the other applets cannot reuse that transient memory, and applets are notoriously RAM starved*. Therefore you should default to `CLEAR_ON_DESELECT` transient arrays unless `CLEAR_ON_RESET` functionality is required for *context switches*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javacard/3.0.5/api/javacard/framework/JCSystem.html#requestObjectDeletion()","title":"Which objects are persistent in Java Card, and when?","body":"<blockquote>\n<p><strong>Q</strong>: <em>Which objects are persisted? Which objects are transient?</em></p>\n</blockquote>\n<p>All object instance fields are persistent when they are created using <code>new</code>. Objects created by the JRE may not be: you'd have to check the Java Card or OS documentation to find out. Note that fields to other objects are <em>references</em>. Those references themselves may point to arrays in transient memory or to other objects that contain volatile state.</p>\n<p>Arrays are transient if they have been created or defined as being transient (usually by calling <code>makeTransientXxxArray()</code>). They are persistent when they are created using <code>new</code>.</p>\n<blockquote>\n<p><strong>Q</strong>: <em>When is an object persisted?</em></p>\n</blockquote>\n<p>Upon creation or during any update. Generally the persistent values are simply put in persistent memory: flash or EEPROM. Any write to flash or EEPROM is persisted directly. Note that the Java Card transaction mechanism can still <em>roll back</em> changes to persistent memory.</p>\n<p>This is very different from Java SE where objects instances are stored in RAM, and therefore need to be persisted <em>after creation and each update</em> (if they are persisted at all).</p>\n<blockquote>\n<p><strong>Q:</strong> <em>For the first part, the question applies to: ...</em></p>\n</blockquote>\n<p>No, now you're making it unnecessarily complex. The fields of an object are always persisted. How they are <em>referred to</em> doesn't matter.</p>\n<p>The <em>reference itself</em> may not be persistent, even if the object is. It may be in a transient object array or local variable for instance. If all references are lost then the object cannot be accessed anymore and it becomes eligible for garbage collection. But before it is collected it will still remain in persistent memory.</p>\n<blockquote>\n<p><em>I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the new Object and un-persisted when being put into the transient object array?</em></p>\n</blockquote>\n<p>Consider the previous answer. There is really no such thing as a &quot;transient object array&quot;. What exists is an array that consists of <em>references</em> to other objects. These references may be transient or persistent. The objects referenced may be transient (arrays) or contain references to transient values.</p>\n<p>Objects themselves generally <em>do not convert from persistent to transient or vice versa</em>. They don't care how they are referenced. They only care if their reference count doesn't become zero, because then they are lost and eligible for garbage collection. This is of course more likely if they are just referenced by a volatile reference in a transient object array or in a local variable.</p>\n<p>The stack itself is always in transient memory. It includes all local variables (including parameters and return values). But again: it doesn't contain any objects: it may just contain <em>transient references</em> to objects <em>on the heap</em>. If those references are lost then the object may be garbage collected.</p>\n<hr />\n<p>Notes:</p>\n<ul>\n<li>I'm just talking about <em>classic</em> Java Card here;</li>\n<li>Java Cards generally don't run the Garbage Collector automatically - normally you have to call <a href=\"https://docs.oracle.com/javacard/3.0.5/api/javacard/framework/JCSystem.html#requestObjectDeletion()\" rel=\"nofollow noreferrer\"><code>JCSystem.requestObjectDeletion</code></a> to run it, and then it usually runs during startup where it can take a lot of time;</li>\n<li>Java Card also contains special objects such as the APDU buffer which has it's own life cycle;</li>\n<li>Generally you will always use <em>persistent references</em> to point to objects, as you don't want to garbage collection to run on Java Card unless at exceptional circumstances.   - Transient arrays are zero'd when they are referenced after a reset. The OS (should) make sure that they are always available.</li>\n<li>The <code>CLEAR_ON_RESET</code> arrays keep their contents even if other applets are available. But <em>this means that the other applets cannot reuse that transient memory, and applets are notoriously RAM starved</em>. Therefore you should default to <code>CLEAR_ON_DESELECT</code> transient arrays unless <code>CLEAR_ON_RESET</code> functionality is required for <em>context switches</em>.</li>\n</ul>\n"}],"owner":{"account_id":6125322,"reputation":1054,"user_id":4777513,"display_name":"Ekleog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52375813,"answer_count":2,"score":7,"last_activity_date":1690187080,"creation_date":1534868337,"question_id":51952899,"body_markdown":"This question is twofold, but hopefully shouldn&#39;t be unreasonably long to answer, despite its own length. Feel free to answer only part of it, though, and sorry for making it so exhaustive!\r\n\r\n * Which objects are persisted? Which objects are transient?\r\n * When is an object persisted?\r\n\r\nFor the first part, the question applies to:\r\n\r\n * Objects that are stored in an `Applet`\r\n * Objects that are transitively stored in an `Applet`\r\n * Objects that are only stored in stack variables (not referenced, even transitively, from any `Applet`)\r\n * Objects that are stored in an array built with `makeTransientObjectArray`\r\n * Objects that are transitively stored in an array build with `makeTransientObjectArray` (eg. stored in a member variable of an object stored in a `makeTransientObjectArray`)\r\n\r\nFor the second part, it applies depending on the answer of the first question. For instance:\r\n\r\n * I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the `new Object` and un-persisted when being put into the transient object array?\r\n * If an object has references from both a transient object array and an applet, and the applet reference is erased, is the object un-persisted?\r\n\r\nThank you in advance!\r\n\r\n---\r\n\r\nI have looked into the JCRE specification v2.2.2 (the version I&#39;m using), but there are points that are unclear in it (hence the exhaustiveness of this question, as I feel this is more appropriate for a Q/A-style forum):\r\n\r\n * Page 2-2 mentions that the JCRE makes an object persistent when it&#39;s transitively stored in an `Applet`. However, Glossary-7 states that objects are persistent by default. The difference may seem non-observable, but affects the need to garbage-collect or not when a card power cycle is needed anyway.\r\n * Page 5-1 states that the fields of a transient object must never be stored in persistent memory. But it doesn&#39;t state whether this is also true for objects transitively in a transient object array, eg. objects stored in fields of objects in a transient object array.\r\n * Page 5-1, same statements, may conflict with page 2-2, when an object has a reference to it stored both in a transient object array and in an `Applet`.\r\n\r\nThese three questions are respectively equivalent to:\r\n\r\n * part 1 bullet points 3 and 5 (and, depending on the answer, part 2 bullet point 1)\r\n * part 1 bullet point 5\r\n * part 2 bullet point 2","title":"Which objects are persistent in Java Card, and when?","body":"<p>This question is twofold, but hopefully shouldn't be unreasonably long to answer, despite its own length. Feel free to answer only part of it, though, and sorry for making it so exhaustive!</p>\n\n<ul>\n<li>Which objects are persisted? Which objects are transient?</li>\n<li>When is an object persisted?</li>\n</ul>\n\n<p>For the first part, the question applies to:</p>\n\n<ul>\n<li>Objects that are stored in an <code>Applet</code></li>\n<li>Objects that are transitively stored in an <code>Applet</code></li>\n<li>Objects that are only stored in stack variables (not referenced, even transitively, from any <code>Applet</code>)</li>\n<li>Objects that are stored in an array built with <code>makeTransientObjectArray</code></li>\n<li>Objects that are transitively stored in an array build with <code>makeTransientObjectArray</code> (eg. stored in a member variable of an object stored in a <code>makeTransientObjectArray</code>)</li>\n</ul>\n\n<p>For the second part, it applies depending on the answer of the first question. For instance:</p>\n\n<ul>\n<li>I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the <code>new Object</code> and un-persisted when being put into the transient object array?</li>\n<li>If an object has references from both a transient object array and an applet, and the applet reference is erased, is the object un-persisted?</li>\n</ul>\n\n<p>Thank you in advance!</p>\n\n<hr>\n\n<p>I have looked into the JCRE specification v2.2.2 (the version I'm using), but there are points that are unclear in it (hence the exhaustiveness of this question, as I feel this is more appropriate for a Q/A-style forum):</p>\n\n<ul>\n<li>Page 2-2 mentions that the JCRE makes an object persistent when it's transitively stored in an <code>Applet</code>. However, Glossary-7 states that objects are persistent by default. The difference may seem non-observable, but affects the need to garbage-collect or not when a card power cycle is needed anyway.</li>\n<li>Page 5-1 states that the fields of a transient object must never be stored in persistent memory. But it doesn't state whether this is also true for objects transitively in a transient object array, eg. objects stored in fields of objects in a transient object array.</li>\n<li>Page 5-1, same statements, may conflict with page 2-2, when an object has a reference to it stored both in a transient object array and in an <code>Applet</code>.</li>\n</ul>\n\n<p>These three questions are respectively equivalent to:</p>\n\n<ul>\n<li>part 1 bullet points 3 and 5 (and, depending on the answer, part 2 bullet point 1)</li>\n<li>part 1 bullet point 5</li>\n<li>part 2 bullet point 2</li>\n</ul>\n"},{"tags":["java","android","google-maps"],"answers":[{"comments":[{"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"score":1,"creation_date":1689956017,"post_id":76735548,"comment_id":135290859,"body_markdown":"changing this solved the error, but it made it so the markers don&#39;t appear on the screen at all.","body":"changing this solved the error, but it made it so the markers don&#39;t appear on the screen at all."},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1690185126,"post_id":76735548,"comment_id":135312565,"body_markdown":"So are you getting a new error message now?","body":"So are you getting a new error message now?"},{"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"score":0,"creation_date":1690213248,"post_id":76735548,"comment_id":135318658,"body_markdown":"No new error message, they just aren&#39;t appearing when I run the app.","body":"No new error message, they just aren&#39;t appearing when I run the app."}],"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690186849,"creation_date":1689920351,"answer_id":76735548,"question_id":76734162,"body_markdown":"Your constructor is malformed.\r\nThis line\r\n\r\n    this.crimeStatus = crimeStatus;\r\n\r\nDoesn&#39;t do anything as long as the list of parameters is missing that property.\r\n\r\nChange\r\n\r\n    public CrimeData(String location, String crimeType, String crimeDetails) {\r\n\r\nTo\r\n\r\n    public CrimeData(String location, String crimeType, String crimeDetails, String crimeStatus) {\r\n\r\nThe same goes for the usage of the constructor:\r\n\r\n    CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\r\n\r\nShould be\r\n\r\n    CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails, crimeStatus);","title":"Google Maps API custom markers are not being assigned","body":"<p>Your constructor is malformed.\nThis line</p>\n<pre><code>this.crimeStatus = crimeStatus;\n</code></pre>\n<p>Doesn't do anything as long as the list of parameters is missing that property.</p>\n<p>Change</p>\n<pre><code>public CrimeData(String location, String crimeType, String crimeDetails) {\n</code></pre>\n<p>To</p>\n<pre><code>public CrimeData(String location, String crimeType, String crimeDetails, String crimeStatus) {\n</code></pre>\n<p>The same goes for the usage of the constructor:</p>\n<pre><code>CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\n</code></pre>\n<p>Should be</p>\n<pre><code>CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails, crimeStatus);\n</code></pre>\n"}],"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690186849,"creation_date":1689893673,"question_id":76734162,"body_markdown":"I am currently developing a crime map with Java, and want to have custom markers depending on whether a crime is closed or an open case. I&#39;ve added if statements to change the marker picture depending on the crime status. However, they are not currently being assigned to the markers the way I want them to be. \r\n\r\nI should also add that for some reason, i&#39;m recieving the alert that says Variable &#39;crimeStatus&#39; is never used, even though I am using it in this code. \r\n    \r\n        public class CrimeData {\r\n            private String location;\r\n            private String crimeType;\r\n            private String crimeDetails;\r\n    \r\n            private String crimeStatus;\r\n            private double latitude;\r\n            private double longitude;\r\n    \r\n            // Add getters and setters for the above fields\r\n    \r\n            public CrimeData(String location, String crimeType, String crimeDetails) {\r\n                this.location = location;\r\n                this.crimeType = crimeType;\r\n                this.crimeDetails = crimeDetails;\r\n                this.crimeStatus = crimeStatus;\r\n            }\r\n    \r\n            public String getLocation() {\r\n                return location;\r\n            }\r\n    \r\n            public String getCrimeType() {\r\n                return crimeType;\r\n            }\r\n    \r\n            public String getCrimeDetails() {\r\n                return crimeDetails;\r\n            }\r\n    \r\n            public String getCrimeStatus(){\r\n                return crimeStatus;\r\n            }\r\n    \r\n            public double getLatitude() {\r\n                return latitude;\r\n            }\r\n    \r\n            public void setLatitude(double latitude) {\r\n                this.latitude = latitude;\r\n            }\r\n    \r\n            public double getLongitude() {\r\n                return longitude;\r\n            }\r\n    \r\n            public void setLongitude(double longitude) {\r\n                this.longitude = longitude;\r\n            }\r\n        }\r\n---\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mapView = findViewById(R.id.mapView);\r\n            mapView.onCreate(savedInstanceState);\r\n            mapView.getMapAsync(this);\r\n    \r\n            crimeDataList = new ArrayList&lt;&gt;();\r\n    \r\n            // Populate crimeDataList with data from the table\r\n            // TODO: Fetch data from the table and populate the crimeDataList\r\n    \r\n            // Set up GeoApiContext with your Google Maps Geocoding API key\r\n            geoApiContext = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;XXXXXXXXXXX&quot;)\r\n                    .build();\r\n    \r\n            // Fetch data from the table and populate the crimeDataList\r\n    // Example data\r\n            String[][] tableData = {\r\n                    {&quot;XXXXXXX&quot;, &quot;Criminal Trespass&quot;, &quot;Occurred From 6/14/23, 1:43AM to 6/14/23, 1:43AM&quot;, &quot;Closed&quot;},\r\n                    {&quot;XXXXXXXXX&quot;, &quot;Theft&quot;, &quot;Occurred From 6/13/23, 10:00AM to 6/13/23, 11:00AM&quot;, &quot;Open&quot;},\r\n                    {&quot;XXXXXXX&quot;, &quot;Assault&quot;, &quot;Occurred From 6/12/23, 8:00PM to 6/12/23, 9:00PM&quot;, &quot;Closed&quot;},\r\n    \r\n            };\r\n    \r\n            for (String[] rowData : tableData) {\r\n                String location = rowData[0];\r\n                String crimeType = rowData[1];\r\n                String crimeDetails = rowData[2];\r\n                String crimeStatus = rowData[3];\r\n                // Create a new CrimeData object and add it to the list\r\n                CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\r\n                crimeDataList.add(crimeData);\r\n            }\r\n        }\r\n        private BitmapDescriptor BitmapFromVector(Context applicationContext, int baseline_warning_24) {\r\n            // below line is use to generate a drawable.\r\n            Drawable vectorDrawable = ContextCompat.getDrawable(applicationContext, baseline_warning_24);\r\n    \r\n            // below line is use to set bounds to our vector\r\n            // drawable.\r\n            vectorDrawable.setBounds(\r\n                    0, 0, vectorDrawable.getIntrinsicWidth(),\r\n                    vectorDrawable.getIntrinsicHeight());\r\n    \r\n            // below line is use to create a bitmap for our\r\n            // drawable which we have added.\r\n            Bitmap bitmap = Bitmap.createBitmap(\r\n                    vectorDrawable.getIntrinsicWidth(),\r\n                    vectorDrawable.getIntrinsicHeight(),\r\n                    Bitmap.Config.ARGB_8888);\r\n    \r\n            // below line is use to add bitmap in our canvas.\r\n            Canvas canvas = new Canvas(bitmap);\r\n    \r\n            // below line is use to draw our\r\n            // vector drawable in canvas.\r\n            vectorDrawable.draw(canvas);\r\n    \r\n            // after generating our bitmap we are returning our\r\n            // bitmap.\r\n            return BitmapDescriptorFactory.fromBitmap(bitmap);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onMapReady(GoogleMap map) {\r\n            googleMap = map;\r\n    \r\n            map.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n            map.setBuildingsEnabled(true);\r\n            map.setIndoorEnabled(true);\r\n            map.setTrafficEnabled(true);\r\n            map.getUiSettings().setZoomControlsEnabled(true);\r\n            map.getUiSettings().setCompassEnabled(true);\r\n            map.getUiSettings().setMyLocationButtonEnabled(true);\r\n    \r\n            try {\r\n                boolean success = map.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.mapstyle));\r\n                if (!success) {\r\n                    // Handle map style loading failure\r\n                }\r\n            } catch (Resources.NotFoundException e) {\r\n                // Handle exception if the JSON file is not found\r\n            }\r\n    \r\n    \r\n            // Set the custom InfoWindowAdapter\r\n            googleMap.setInfoWindowAdapter(this);\r\n    \r\n            // Create a custom BitmapDescriptor from your PNG image\r\n            BitmapDescriptor customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.exclamation);\r\n    \r\n            googleMap.addMarker(new MarkerOptions()\r\n                    .position(new LatLng(XXXXX, XXXXXX))\r\n                    .title(&quot;Marker Title&quot;)\r\n                    .snippet(&quot;Marker Snippet&quot;)\r\n                    .icon(BitmapFromVector(getApplicationContext(), R.drawable.baseline_warning_24)));\r\n            // Iterate over the crime data and geocode each location\r\n            for (CrimeData crimeData : crimeDataList) {\r\n                String locationName = crimeData.getLocation();\r\n                if (crimeData.getCrimeStatus() == &quot;Closed&quot;) {\r\n                    customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_check_circle_24);\r\n                }\r\n                if (crimeData.getCrimeStatus() == &quot;Open Case&quot;) {\r\n                    customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_warning_24);\r\n                }\r\n                try {\r\n                    // Perform geocoding request\r\n                    GeocodingResult[] results = GeocodingApi.geocode(geoApiContext, locationName).await();\r\n    \r\n                    if (results != null &amp;&amp; results.length &gt; 0) {\r\n                        // Extract the coordinates from the first result\r\n                        double latitude = results[0].geometry.location.lat;\r\n                        double longitude = results[0].geometry.location.lng;\r\n    \r\n                        // Create a LatLng object for the marker&#39;s position\r\n                        LatLng markerPosition = new LatLng(latitude, longitude);\r\n    \r\n    \r\n                        MarkerOptions markerOptions = new MarkerOptions()\r\n                                .position(markerPosition)\r\n                                .title(crimeData.getCrimeType())\r\n                                .snippet(crimeData.getCrimeDetails())\r\n                                .icon(customMarkerIcon);\r\n    \r\n                        // Add the marker to the map\r\n                        map.addMarker(markerOptions);\r\n    \r\n    \r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            // Move the camera to the first marker position (if available)\r\n            if (crimeDataList.size() &gt; 0) {\r\n                CrimeData firstCrimeData = crimeDataList.get(0);\r\n                LatLng firstMarkerPosition = new LatLng(firstCrimeData.getLatitude(), firstCrimeData.getLongitude());\r\n    \r\n                map.moveCamera(CameraUpdateFactory.newLatLngZoom(firstMarkerPosition, 12f));\r\n            }\r\n            LatLng location = new LatLng(XXXX, XXXX);\r\n            CameraPosition cameraPosition = new CameraPosition.Builder()\r\n                    .target(location)\r\n                    .zoom(16) // Set your desired zoom level\r\n                    .build();\r\n            map.moveCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n    \r\n        }\r\nWhat should I change to fix this?","title":"Google Maps API custom markers are not being assigned","body":"<p>I am currently developing a crime map with Java, and want to have custom markers depending on whether a crime is closed or an open case. I've added if statements to change the marker picture depending on the crime status. However, they are not currently being assigned to the markers the way I want them to be.</p>\n<p>I should also add that for some reason, i'm recieving the alert that says Variable 'crimeStatus' is never used, even though I am using it in this code.</p>\n<pre><code>    public class CrimeData {\n        private String location;\n        private String crimeType;\n        private String crimeDetails;\n\n        private String crimeStatus;\n        private double latitude;\n        private double longitude;\n\n        // Add getters and setters for the above fields\n\n        public CrimeData(String location, String crimeType, String crimeDetails) {\n            this.location = location;\n            this.crimeType = crimeType;\n            this.crimeDetails = crimeDetails;\n            this.crimeStatus = crimeStatus;\n        }\n\n        public String getLocation() {\n            return location;\n        }\n\n        public String getCrimeType() {\n            return crimeType;\n        }\n\n        public String getCrimeDetails() {\n            return crimeDetails;\n        }\n\n        public String getCrimeStatus(){\n            return crimeStatus;\n        }\n\n        public double getLatitude() {\n            return latitude;\n        }\n\n        public void setLatitude(double latitude) {\n            this.latitude = latitude;\n        }\n\n        public double getLongitude() {\n            return longitude;\n        }\n\n        public void setLongitude(double longitude) {\n            this.longitude = longitude;\n        }\n    }\n</code></pre>\n<hr />\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(this);\n\n        crimeDataList = new ArrayList&lt;&gt;();\n\n        // Populate crimeDataList with data from the table\n        // TODO: Fetch data from the table and populate the crimeDataList\n\n        // Set up GeoApiContext with your Google Maps Geocoding API key\n        geoApiContext = new GeoApiContext.Builder()\n                .apiKey(&quot;XXXXXXXXXXX&quot;)\n                .build();\n\n        // Fetch data from the table and populate the crimeDataList\n// Example data\n        String[][] tableData = {\n                {&quot;XXXXXXX&quot;, &quot;Criminal Trespass&quot;, &quot;Occurred From 6/14/23, 1:43AM to 6/14/23, 1:43AM&quot;, &quot;Closed&quot;},\n                {&quot;XXXXXXXXX&quot;, &quot;Theft&quot;, &quot;Occurred From 6/13/23, 10:00AM to 6/13/23, 11:00AM&quot;, &quot;Open&quot;},\n                {&quot;XXXXXXX&quot;, &quot;Assault&quot;, &quot;Occurred From 6/12/23, 8:00PM to 6/12/23, 9:00PM&quot;, &quot;Closed&quot;},\n\n        };\n\n        for (String[] rowData : tableData) {\n            String location = rowData[0];\n            String crimeType = rowData[1];\n            String crimeDetails = rowData[2];\n            String crimeStatus = rowData[3];\n            // Create a new CrimeData object and add it to the list\n            CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\n            crimeDataList.add(crimeData);\n        }\n    }\n    private BitmapDescriptor BitmapFromVector(Context applicationContext, int baseline_warning_24) {\n        // below line is use to generate a drawable.\n        Drawable vectorDrawable = ContextCompat.getDrawable(applicationContext, baseline_warning_24);\n\n        // below line is use to set bounds to our vector\n        // drawable.\n        vectorDrawable.setBounds(\n                0, 0, vectorDrawable.getIntrinsicWidth(),\n                vectorDrawable.getIntrinsicHeight());\n\n        // below line is use to create a bitmap for our\n        // drawable which we have added.\n        Bitmap bitmap = Bitmap.createBitmap(\n                vectorDrawable.getIntrinsicWidth(),\n                vectorDrawable.getIntrinsicHeight(),\n                Bitmap.Config.ARGB_8888);\n\n        // below line is use to add bitmap in our canvas.\n        Canvas canvas = new Canvas(bitmap);\n\n        // below line is use to draw our\n        // vector drawable in canvas.\n        vectorDrawable.draw(canvas);\n\n        // after generating our bitmap we are returning our\n        // bitmap.\n        return BitmapDescriptorFactory.fromBitmap(bitmap);\n    }\n\n\n    @Override\n    public void onMapReady(GoogleMap map) {\n        googleMap = map;\n\n        map.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n        map.setBuildingsEnabled(true);\n        map.setIndoorEnabled(true);\n        map.setTrafficEnabled(true);\n        map.getUiSettings().setZoomControlsEnabled(true);\n        map.getUiSettings().setCompassEnabled(true);\n        map.getUiSettings().setMyLocationButtonEnabled(true);\n\n        try {\n            boolean success = map.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.mapstyle));\n            if (!success) {\n                // Handle map style loading failure\n            }\n        } catch (Resources.NotFoundException e) {\n            // Handle exception if the JSON file is not found\n        }\n\n\n        // Set the custom InfoWindowAdapter\n        googleMap.setInfoWindowAdapter(this);\n\n        // Create a custom BitmapDescriptor from your PNG image\n        BitmapDescriptor customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.exclamation);\n\n        googleMap.addMarker(new MarkerOptions()\n                .position(new LatLng(XXXXX, XXXXXX))\n                .title(&quot;Marker Title&quot;)\n                .snippet(&quot;Marker Snippet&quot;)\n                .icon(BitmapFromVector(getApplicationContext(), R.drawable.baseline_warning_24)));\n        // Iterate over the crime data and geocode each location\n        for (CrimeData crimeData : crimeDataList) {\n            String locationName = crimeData.getLocation();\n            if (crimeData.getCrimeStatus() == &quot;Closed&quot;) {\n                customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_check_circle_24);\n            }\n            if (crimeData.getCrimeStatus() == &quot;Open Case&quot;) {\n                customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_warning_24);\n            }\n            try {\n                // Perform geocoding request\n                GeocodingResult[] results = GeocodingApi.geocode(geoApiContext, locationName).await();\n\n                if (results != null &amp;&amp; results.length &gt; 0) {\n                    // Extract the coordinates from the first result\n                    double latitude = results[0].geometry.location.lat;\n                    double longitude = results[0].geometry.location.lng;\n\n                    // Create a LatLng object for the marker's position\n                    LatLng markerPosition = new LatLng(latitude, longitude);\n\n\n                    MarkerOptions markerOptions = new MarkerOptions()\n                            .position(markerPosition)\n                            .title(crimeData.getCrimeType())\n                            .snippet(crimeData.getCrimeDetails())\n                            .icon(customMarkerIcon);\n\n                    // Add the marker to the map\n                    map.addMarker(markerOptions);\n\n\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        // Move the camera to the first marker position (if available)\n        if (crimeDataList.size() &gt; 0) {\n            CrimeData firstCrimeData = crimeDataList.get(0);\n            LatLng firstMarkerPosition = new LatLng(firstCrimeData.getLatitude(), firstCrimeData.getLongitude());\n\n            map.moveCamera(CameraUpdateFactory.newLatLngZoom(firstMarkerPosition, 12f));\n        }\n        LatLng location = new LatLng(XXXX, XXXX);\n        CameraPosition cameraPosition = new CameraPosition.Builder()\n                .target(location)\n                .zoom(16) // Set your desired zoom level\n                .build();\n        map.moveCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n\n    }\n</code></pre>\n<p>What should I change to fix this?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689588046,"post_id":76701932,"comment_id":135229556,"body_markdown":"Running integration tests will be done with maven-failsafe-plugin and not via maven-surefire-plugin ...that means also as already mentioned to run in the integration test phase assuming that you have configured the maven-failsafe-plugin correctly.","body":"Running integration tests will be done with maven-failsafe-plugin and not via maven-surefire-plugin ...that means also as already mentioned to run in the integration test phase assuming that you have configured the maven-failsafe-plugin correctly."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689575314,"creation_date":1689575314,"answer_id":76701969,"question_id":76701932,"body_markdown":"Integration tests will be executed in the `verify`phase, not in the `test phase (see the [maven lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)):\r\n\r\n&gt;verify - run any checks on results of integration tests to ensure quality criteria are met\r\n\r\nSo you have to call \r\n\r\n    mvn verify -Dtest=AAITCase","title":"What can I do when I want to run run ITCase with mvn?","body":"<p>Integration tests will be executed in the <code>verify</code>phase, not in the `test phase (see the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven lifecycle</a>):</p>\n<blockquote>\n<p>verify - run any checks on results of integration tests to ensure quality criteria are met</p>\n</blockquote>\n<p>So you have to call</p>\n<pre><code>mvn verify -Dtest=AAITCase\n</code></pre>\n"}],"owner":{"account_id":23501513,"reputation":13,"user_id":17551352,"display_name":"EchoLi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76701969,"answer_count":1,"score":1,"last_activity_date":1690186830,"creation_date":1689574909,"question_id":76701932,"body_markdown":"When we run utcase, we can use `mvn test -Dtest=AA`, but if we want to run ITCase, what can we do?\r\n\r\nI use `mvn test -Dtest=AAITCase`, but this case will not run.\r\n\r\nSo when I want to run ITCase, what can we do?\r\n\r\n * mvn version: 3.2.5\r\n * Java version: JDK 8\r\n\r\n\r\n","title":"What can I do when I want to run run ITCase with mvn?","body":"<p>When we run utcase, we can use <code>mvn test -Dtest=AA</code>, but if we want to run ITCase, what can we do?</p>\n<p>I use <code>mvn test -Dtest=AAITCase</code>, but this case will not run.</p>\n<p>So when I want to run ITCase, what can we do?</p>\n<ul>\n<li>mvn version: 3.2.5</li>\n<li>Java version: JDK 8</li>\n</ul>\n"},{"tags":["java","spring-boot","system-design","modular-design"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690186549,"post_id":76751535,"comment_id":135312830,"body_markdown":"I&#39;m afraid your questions 1 and 3 are off topic on StackOverflow (opinion-based and seeking recommendations for books etc. respectively), so I didn&#39;t go into them. I tried my best to help you with question 2, though.","body":"I&#39;m afraid your questions 1 and 3 are off topic on StackOverflow (opinion-based and seeking recommendations for books etc. respectively), so I didn&#39;t go into them. I tried my best to help you with question 2, though."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690186426,"creation_date":1690186426,"answer_id":76752542,"question_id":76751535,"body_markdown":"I&#39;d say there are 2 main ways to structure such an application.\r\n\r\nOne is microservices. You build each module as its own, self-contained application, and deploy only the applications you need. Alternatively, you build each microservice as a multi-tenant service, and give clients access to certain services based on the features they need.\r\n\r\nAnother is basically still a monolithic application, but with custom builds. You separate your modules out into different code-modules within your project, then you use a mechanism such as service loading to only load the modules for the specific client. With Spring, that&#39;s fairly easy to do since it already does classpath scanning.","title":"Modular design pattern - Java spring boot","body":"<p>I'd say there are 2 main ways to structure such an application.</p>\n<p>One is microservices. You build each module as its own, self-contained application, and deploy only the applications you need. Alternatively, you build each microservice as a multi-tenant service, and give clients access to certain services based on the features they need.</p>\n<p>Another is basically still a monolithic application, but with custom builds. You separate your modules out into different code-modules within your project, then you use a mechanism such as service loading to only load the modules for the specific client. With Spring, that's fairly easy to do since it already does classpath scanning.</p>\n"}],"owner":{"account_id":2652556,"reputation":97,"user_id":2293883,"accept_rate":38,"display_name":"Lucy_learning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690186426,"creation_date":1690175076,"question_id":76751535,"body_markdown":"I am trying to implement the modular design using Java Spring boot. My application has multiple modules, let&#39;s say it has modules A, B, C, and D.\r\nI would like to manage modules dynamically according to my client&#39;s order. For example, If a client orders only modules A and B, then I would be able to deploy only those modules.\r\n\r\nIt is completely new for me, I used to write monolithic applications.\r\nSo I wonder\r\n\r\n1. How are real-world applications like ERP which has so many features developed?\r\n2. What is the best approach, design solution for designing such an application?\r\n3. Where can I find learning materials? I have been googling around but I could find that I am looking for.\r\n\r\n\r\n","title":"Modular design pattern - Java spring boot","body":"<p>I am trying to implement the modular design using Java Spring boot. My application has multiple modules, let's say it has modules A, B, C, and D.\nI would like to manage modules dynamically according to my client's order. For example, If a client orders only modules A and B, then I would be able to deploy only those modules.</p>\n<p>It is completely new for me, I used to write monolithic applications.\nSo I wonder</p>\n<ol>\n<li>How are real-world applications like ERP which has so many features developed?</li>\n<li>What is the best approach, design solution for designing such an application?</li>\n<li>Where can I find learning materials? I have been googling around but I could find that I am looking for.</li>\n</ol>\n"},{"tags":["java","spring","performance","spring-boot"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1508152357,"post_id":46766826,"comment_id":80483044,"body_markdown":"So it also takes 10 minutes before the application actually starts to do anything, or is it only the loading of the classes which is spread out over time?","body":"So it also takes 10 minutes before the application actually starts to do anything, or is it only the loading of the classes which is spread out over time?"},{"owner":{"account_id":1282025,"reputation":8760,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1508152530,"post_id":46766826,"comment_id":80483147,"body_markdown":"Hi @Gimby, Yes - the application becomes available only after these 10 minutes. Basically for first 7 minutes or so, it doesn&#39;t print anything on the console. Even if I run in -Ddebug mode, the actual autoconfiguration starts much later","body":"Hi @Gimby, Yes - the application becomes available only after these 10 minutes. Basically for first 7 minutes or so, it doesn&#39;t print anything on the console. Even if I run in -Ddebug mode, the actual autoconfiguration starts much later"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1508156158,"post_id":46766826,"comment_id":80485456,"body_markdown":"I don&#39;t have an explanation for it to be honest, this is highly unusual and not something I can reproduce locally. If it weren&#39;t so unlikely I&#39;d be starting to doubt the integrity of the hard drive.","body":"I don&#39;t have an explanation for it to be honest, this is highly unusual and not something I can reproduce locally. If it weren&#39;t so unlikely I&#39;d be starting to doubt the integrity of the hard drive."},{"owner":{"account_id":1282025,"reputation":8760,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1508157284,"post_id":46766826,"comment_id":80486210,"body_markdown":"@Gimby, my hard drive is encrypted and also running Semantec Endpoint Protection. Could it be because of that? The only thing I am not sure of is why `mv spring-boot:run` is so fast - it also scans the jar files - the only difference being a wrapper jar with BOOT-INF","body":"@Gimby, my hard drive is encrypted and also running Semantec Endpoint Protection. Could it be because of that? The only thing I am not sure of is why <code>mv spring-boot:run</code> is so fast - it also scans the jar files - the only difference being a wrapper jar with BOOT-INF"},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":1,"creation_date":1508159853,"post_id":46766826,"comment_id":80487994,"body_markdown":"Get hold of a Java profiler such as YourKit and profile the app to find out what&#39;s taking the time. This is honestly the only way you are going to find out exactly what the issue is.","body":"Get hold of a Java profiler such as YourKit and profile the app to find out what&#39;s taking the time. This is honestly the only way you are going to find out exactly what the issue is."},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":2,"creation_date":1508160104,"post_id":46766826,"comment_id":80488173,"body_markdown":"PS virus checkers are the spawn of the devil when they come across jar files, as these are basically zip files with thousands of entries within them.\n\nYou could also try disabling jar scanning if you are using Tomcat:\n\nhttps://stackoverflow.com/questions/43264890/after-upgrade-from-spring-boot-1-2-to-1-5-2-filenotfoundexception-during-tomcat#43280452","body":"PS virus checkers are the spawn of the devil when they come across jar files, as these are basically zip files with thousands of entries within them.  You could also try disabling jar scanning if you are using Tomcat:  <a href=\"https://stackoverflow.com/questions/43264890/after-upgrade-from-spring-boot-1-2-to-1-5-2-filenotfoundexception-during-tomcat#43280452\" title=\"after upgrade from spring boot 1 2 to 1 5 2 filenotfoundexception during tomcat%2343280452\">stackoverflow.com/questions/43264890/&hellip;</a>"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1508199441,"post_id":46766826,"comment_id":80507560,"body_markdown":"@Saptarshi Encryption is usually pretty fast and especially when using AES with an AES-NI capable CPU. Reading a RAID with full speed increases the CPU usage by maybe 1% (it used to be 4% without AES-NI). I&#39;d bet on the anti-virus.","body":"@Saptarshi Encryption is usually pretty fast and especially when using AES with an AES-NI capable CPU. Reading a RAID with full speed increases the CPU usage by maybe 1% (it used to be 4% without AES-NI). I&#39;d bet on the anti-virus."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1509721584,"post_id":46766826,"comment_id":81147406,"body_markdown":"Today [this](https://stackoverflow.com/questions/47095448/spring-component-scan-autowire-in-signed-jar-files-is-slow) question was asked. Might it be the same problem?","body":"Today <a href=\"https://stackoverflow.com/questions/47095448/spring-component-scan-autowire-in-signed-jar-files-is-slow\">this</a> question was asked. Might it be the same problem?"},{"owner":{"account_id":3279752,"reputation":531,"user_id":2760626,"display_name":"Sahil Nagpal"},"score":0,"creation_date":1515447639,"post_id":46766826,"comment_id":83296364,"body_markdown":"@Saptarshi I am facing a similar issue. The fat jar takes approximately 7-8 times as compared to mvn spring-boot:run. Did you find the root cause for this? I also checked the number of times the resolving of resources takes and surprisingly it is equal in both cases. Please do let me know if you could somehow improve the performance. Thanks :)","body":"@Saptarshi I am facing a similar issue. The fat jar takes approximately 7-8 times as compared to mvn spring-boot:run. Did you find the root cause for this? I also checked the number of times the resolving of resources takes and surprisingly it is equal in both cases. Please do let me know if you could somehow improve the performance. Thanks :)"},{"owner":{"account_id":1282025,"reputation":8760,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1515494791,"post_id":46766826,"comment_id":83311915,"body_markdown":"@SahilNagpal - For me the same jar was taking only 10-15 seconds in Linux systems. I suspect the problem I faced in Windows system due to the installed Semantec antivirus only. Although it is true that the same Windows system can run other jar files (non-springboot) without such delay in loading. So, I couldn&#39;t really find the root cause.","body":"@SahilNagpal - For me the same jar was taking only 10-15 seconds in Linux systems. I suspect the problem I faced in Windows system due to the installed Semantec antivirus only. Although it is true that the same Windows system can run other jar files (non-springboot) without such delay in loading. So, I couldn&#39;t really find the root cause."}],"answers":[{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690185635,"creation_date":1690185635,"answer_id":76752445,"question_id":46766826,"body_markdown":"We are pretty sure loading `8,000` classes can never need `10 minutes`. \r\n\r\nIn one production system, we loaded `70,000` classes in about `65 seconds`.\r\n- Depending on the CPU and System (`Windows` vs `MacOS`), the class loader speed for mass classes could be different\r\n- It is possible in a slower machine it takes `2-3` times slower\r\n- So loaded `70,000` classes may need as worse as `200 seconds` in current hardware (`July 2023`)\r\n\r\nBased on the statistics above, load `8,000` classes should need `7` - `22` seconds\r\n\r\n\r\nSo why the Application startup need 10 minutes?\r\n- It must be caused by some other reason\r\n- If you are using Java `8` or later, try to start the application with `JFR`\r\n  - [Monitoring Java Applications with Flight Recorder][1]\r\n- Then open the JFR file using [VisualVM][2]\r\n- Then we can find out exactly the real slowness reason \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-flight-recorder-monitoring\r\n  [2]: https://visualvm.github.io/","title":"Springboot class loading performance from fat jar","body":"<p>We are pretty sure loading <code>8,000</code> classes can never need <code>10 minutes</code>.</p>\n<p>In one production system, we loaded <code>70,000</code> classes in about <code>65 seconds</code>.</p>\n<ul>\n<li>Depending on the CPU and System (<code>Windows</code> vs <code>MacOS</code>), the class loader speed for mass classes could be different</li>\n<li>It is possible in a slower machine it takes <code>2-3</code> times slower</li>\n<li>So loaded <code>70,000</code> classes may need as worse as <code>200 seconds</code> in current hardware (<code>July 2023</code>)</li>\n</ul>\n<p>Based on the statistics above, load <code>8,000</code> classes should need <code>7</code> - <code>22</code> seconds</p>\n<p>So why the Application startup need 10 minutes?</p>\n<ul>\n<li>It must be caused by some other reason</li>\n<li>If you are using Java <code>8</code> or later, try to start the application with <code>JFR</code>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-flight-recorder-monitoring\" rel=\"nofollow noreferrer\">Monitoring Java Applications with Flight Recorder</a></li>\n</ul>\n</li>\n<li>Then open the JFR file using <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a></li>\n<li>Then we can find out exactly the real slowness reason</li>\n</ul>\n"}],"owner":{"account_id":1282025,"reputation":8760,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690185635,"creation_date":1508145494,"question_id":46766826,"body_markdown":"I have a Springboot application that has an embedded Tomcat to host some Jersey REST service. When I run the fat jar, around 8000 classes load in around 10 minutes. The class loading is extremely slow. However, other java apps seem faster. What should I do to improve the class loading performance from the fat jar? When I run the app with `mvn spring-boot:run`, it&#39;s quite fast.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HU7Tg.jpg","title":"Springboot class loading performance from fat jar","body":"<p>I have a Springboot application that has an embedded Tomcat to host some Jersey REST service. When I run the fat jar, around 8000 classes load in around 10 minutes. The class loading is extremely slow. However, other java apps seem faster. What should I do to improve the class loading performance from the fat jar? When I run the app with <code>mvn spring-boot:run</code>, it's quite fast.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HU7Tg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HU7Tg.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690174411,"post_id":76751465,"comment_id":135311094,"body_markdown":"You haven’t provided log4j. I suggest you use maven to manage your dependencies.","body":"You haven’t provided log4j. I suggest you use maven to manage your dependencies."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1690176261,"post_id":76751465,"comment_id":135311263,"body_markdown":"Move your import statements to the top of your file (under your package statement, if you have one). Java files have structure -- you can&#39;t just randomly jumble statements together and expect good results.","body":"Move your import statements to the top of your file (under your package statement, if you have one). Java files have structure -- you can&#39;t just randomly jumble statements together and expect good results."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690185518,"post_id":76751465,"comment_id":135312630,"body_markdown":"@MarsAtomic I&#39;d expect those are two different files (because two public classes), the OP just put them together in one code block.","body":"@MarsAtomic I&#39;d expect those are two different files (because two public classes), the OP just put them together in one code block."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690185630,"creation_date":1690185630,"answer_id":76752444,"question_id":76751465,"body_markdown":"`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager` means that Apache POI requires another dependency, Log4j. You need to provide that jar.\r\n\r\nTo make managing dependencies easy, you should use Gradle or (if you must) Maven.\r\n","title":"Open Excel Woorkbook with Java","body":"<p><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager</code> means that Apache POI requires another dependency, Log4j. You need to provide that jar.</p>\n<p>To make managing dependencies easy, you should use Gradle or (if you must) Maven.</p>\n"}],"owner":{"account_id":29032995,"reputation":21,"user_id":22239480,"display_name":"u.rnad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690185630,"creation_date":1690174029,"question_id":76751465,"body_markdown":"I made a simple version of the main Problem i had with initializing a Workbook with a curtain File Path String. It just has to lead to an Excel File. But when i Debug it Pops many Exceptions although all library s like Apache POI and Commons IO are given in the Project because they are required in the first place to even start it.\r\n\r\nI used a Main where i&#180;d call the WorkbookTest class.\r\n\r\nCode:\r\n\r\n```\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        new WorkbookTest();\r\n    }\r\n}\r\n\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class WorkbookTest {\r\n    String sourceFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Ausgabe best&#252;ckt.xls&quot;;\r\n    String targetFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Import.xls&quot;;\r\n\r\n    Workbook targetWorkbook;\r\n    Workbook sourceWorkbook;\r\n\r\n\r\n\r\n    {\r\n        try {\r\n            sourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\r\n            targetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\r\n\r\n            Sheet sourceWorksheet = sourceWorkbook.getSheet(&quot;Ausgabeliste&quot;);\r\n            Sheet targetWorksheet = targetWorkbook.getSheet(&quot;Ersatzteilliste Gesamt&quot;);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI tried to initialize the Workbook, but like i said many Exceptions would Pop up for some reason, the exceptions are listed underneath.\r\n\r\nExceptions:\r\n```\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n\tat org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\r\n\tat org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n\tat WorkbookTest.&lt;init&gt;(WorkbookTest.java:19)\r\n\tat Main.main(Main.java:3)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 6 more\r\n\r\n```\r\n","title":"Open Excel Woorkbook with Java","body":"<p>I made a simple version of the main Problem i had with initializing a Workbook with a curtain File Path String. It just has to lead to an Excel File. But when i Debug it Pops many Exceptions although all library s like Apache POI and Commons IO are given in the Project because they are required in the first place to even start it.</p>\n<p>I used a Main where i´d call the WorkbookTest class.</p>\n<p>Code:</p>\n<pre><code>\n\npublic class Main {\n    public static void main(String[] args){\n        new WorkbookTest();\n    }\n}\n\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class WorkbookTest {\n    String sourceFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Ausgabe bestückt.xls&quot;;\n    String targetFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Import.xls&quot;;\n\n    Workbook targetWorkbook;\n    Workbook sourceWorkbook;\n\n\n\n    {\n        try {\n            sourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\n            targetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\n\n            Sheet sourceWorksheet = sourceWorkbook.getSheet(&quot;Ausgabeliste&quot;);\n            Sheet targetWorksheet = targetWorkbook.getSheet(&quot;Ersatzteilliste Gesamt&quot;);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\n</code></pre>\n<p>I tried to initialize the Workbook, but like i said many Exceptions would Pop up for some reason, the exceptions are listed underneath.</p>\n<p>Exceptions:</p>\n<pre><code>\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\n    at org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\n    at org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\n    at WorkbookTest.&lt;init&gt;(WorkbookTest.java:19)\n    at Main.main(Main.java:3)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 6 more\n\n</code></pre>\n"},{"tags":["java","gradle","jar","shadowjar"],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690184898,"creation_date":1690184898,"question_id":76752367,"body_markdown":"Here is my problem, my build gradle with shadowjar works well execept that the src/main/ressources is not added to the jar.\r\n\r\nWhen i try to add include(&#39;src/main/ressources&#39;) it gives me a main class not found when launching the shadowjar task.\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n        dependencies {\r\n            classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    \r\n    // gradle 5.0+ compatibility\r\n    configurations.implementation.setCanBeResolved(true)\r\n    // gradle 9.0+ compatibility\r\n    // for replacing configurations.implementation.setCanBeResolved(true)\r\n    // resolve all dependencies at configuration time\r\n    \r\n    \r\n    \r\n    // tag::repositories[]\r\n    repositories { \r\n        mavenCentral() \r\n    }\r\n    \r\n    \r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;d20.App&#39;\r\n    }\r\n    \r\n    // end::repositories[]\r\n    \r\n    // tag::dependencies[]\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:+&quot;\r\n        testImplementation &quot;junit:junit:+&quot;\r\n        implementation &#39;com.google.code.gson:gson:+&#39;\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    // tag::jar[]\r\n    jar {\r\n        archiveBaseName = &#39;d20&#39;\r\n        archiveVersion =  &#39;0.1.0&#39;\r\n        manifest {\r\n        attributes(\r\n          &#39;Class-Path&#39;: configurations.implementation.collect { it.getName() }.join(&#39; &#39;),\r\n          &#39;Main-Class&#39;: &#39;d20.HelloWorld&#39;\r\n        )\r\n      }\r\n    }\r\n    \r\n    \r\n    shadowJar {\r\n    \r\n       archiveBaseName.set(&#39;oldschooljava&#39;)\r\n    \r\n    \r\n    \r\n       archiveClassifier.set(&#39;&#39;)\r\n       archiveVersion.set(&#39;&#39;)\r\n          \r\n    }\r\n    \r\n    // end::jar[]\r\n    \r\n    // tag::dependencies[]\r\n    //sourceCompatibility = 1.8\r\n    //targetCompatibility = 1.8\r\n    \r\n    //dependencies {\r\n        //implementation &quot;joda-time:joda-time:2.2&quot;\r\n        //testImplementation &quot;junit:junit:4.12&quot;\r\n    //}\r\n\r\n\r\nHow can i include the ressources folder in my jar with shadowjar ?\r\n\r\n\r\nregards\r\n","title":"How to add ressource folder with json with the shadowjar plugin in gradle","body":"<p>Here is my problem, my build gradle with shadowjar works well execept that the src/main/ressources is not added to the jar.</p>\n<p>When i try to add include('src/main/ressources') it gives me a main class not found when launching the shadowjar task.</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\n    }\n}\n\n\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\napply plugin: 'com.github.johnrengelman.shadow'\n\n// gradle 5.0+ compatibility\nconfigurations.implementation.setCanBeResolved(true)\n// gradle 9.0+ compatibility\n// for replacing configurations.implementation.setCanBeResolved(true)\n// resolve all dependencies at configuration time\n\n\n\n// tag::repositories[]\nrepositories { \n    mavenCentral() \n}\n\n\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'd20.App'\n}\n\n// end::repositories[]\n\n// tag::dependencies[]\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    implementation &quot;joda-time:joda-time:+&quot;\n    testImplementation &quot;junit:junit:+&quot;\n    implementation 'com.google.code.gson:gson:+'\n\n}\n\n\n\n// tag::jar[]\njar {\n    archiveBaseName = 'd20'\n    archiveVersion =  '0.1.0'\n    manifest {\n    attributes(\n      'Class-Path': configurations.implementation.collect { it.getName() }.join(' '),\n      'Main-Class': 'd20.HelloWorld'\n    )\n  }\n}\n\n\nshadowJar {\n\n   archiveBaseName.set('oldschooljava')\n\n\n\n   archiveClassifier.set('')\n   archiveVersion.set('')\n      \n}\n\n// end::jar[]\n\n// tag::dependencies[]\n//sourceCompatibility = 1.8\n//targetCompatibility = 1.8\n\n//dependencies {\n    //implementation &quot;joda-time:joda-time:2.2&quot;\n    //testImplementation &quot;junit:junit:4.12&quot;\n//}\n</code></pre>\n<p>How can i include the ressources folder in my jar with shadowjar ?</p>\n<p>regards</p>\n"},{"tags":["java","sql","jparepository"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1690173901,"post_id":76751404,"comment_id":135311057,"body_markdown":"Can you try `findByQuestionContainingOrAnswerContaining(String question) `","body":"Can you try <code>findByQuestionContainingOrAnswerContaining(String question) </code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690174119,"post_id":76751404,"comment_id":135311073,"body_markdown":"You need to “stem” your search term. But are you happy for “rat” to match “crates”?","body":"You need to “stem” your search term. But are you happy for “rat” to match “crates”?"},{"owner":{"account_id":29077600,"reputation":11,"user_id":22274340,"display_name":"Stasis2"},"score":0,"creation_date":1690195498,"post_id":76751404,"comment_id":135314743,"body_markdown":"The application, unfortunately, does not start with the request that you suggest. \nI need to be able to find not only words that exactly match those that are present in the Question object, but also words with the same root.\nFor example, you don&#39;t remember the exact word, but you do remember something similar. \nThis is exactly the kind of search I am trying to implement, as far as possible using JpaRepository methods","body":"The application, unfortunately, does not start with the request that you suggest.  I need to be able to find not only words that exactly match those that are present in the Question object, but also words with the same root. For example, you don&#39;t remember the exact word, but you do remember something similar.  This is exactly the kind of search I am trying to implement, as far as possible using JpaRepository methods"}],"owner":{"account_id":29077600,"reputation":11,"user_id":22274340,"display_name":"Stasis2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690184476,"creation_date":1690172756,"question_id":76751404,"body_markdown":"I have a sql questions table. The table accordingly contains Questions objects. Each object contains the question and answer strings. \r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.kr2db.model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport java.util.Objects;\r\n@Entity\r\npublic class Question {\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private String question;\r\n    private String answer;\r\n\r\n    public Question() {\r\n    }\r\n\r\n    public Question(String question, String answer) {\r\n        this.question = question;\r\n        this.answer = answer;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nIn the repository interface, I need a method that will search the table for a Question object containing a word or phrase from the question or answer string. How do I do this? \r\n\r\n\r\nI use List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question); \r\nbut it&#39;s not exactly what I need. Because let&#39;s say the word &quot;rat&quot; is present in the table and in the question line, but if I write &quot;rats&quot;, then such a query does not work.\r\n\r\n```\r\npackage com.example.kr2db.repository;\r\n\r\nimport com.example.kr2db.model.Question;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\r\n    List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question);\r\n}\r\n```","title":"JpaRepository. methods findBy","body":"<p>I have a sql questions table. The table accordingly contains Questions objects. Each object contains the question and answer strings.</p>\n<pre><code>package com.example.kr2db.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport java.util.Objects;\n@Entity\npublic class Question {\n    @Id\n    @GeneratedValue\n    private int id;\n    private String question;\n    private String answer;\n\n    public Question() {\n    }\n\n    public Question(String question, String answer) {\n        this.question = question;\n        this.answer = answer;\n    }\n</code></pre>\n<p>In the repository interface, I need a method that will search the table for a Question object containing a word or phrase from the question or answer string. How do I do this?</p>\n<p>I use List findQuestionByQuestionContainsIgnoreCase(String question);\nbut it's not exactly what I need. Because let's say the word &quot;rat&quot; is present in the table and in the question line, but if I write &quot;rats&quot;, then such a query does not work.</p>\n<pre><code>package com.example.kr2db.repository;\n\nimport com.example.kr2db.model.Question;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\n    List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question);\n}\n</code></pre>\n"},{"tags":["java","angular","spring","rendering","angular-material-table"],"owner":{"account_id":18912023,"reputation":31,"user_id":13797899,"display_name":"Ashish Vashisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690184344,"creation_date":1690183837,"question_id":76752257,"body_markdown":"Angular table data not updating. Only updates when I switch component and come back to the table component.\r\n\r\nTried using this.table.renderRows() but getting table object is undefined.\r\n\r\nBelow is the code - there are 3 Ts classes which are extending base main and filter class.\r\n\r\n```\r\nimport { Directive, Injector, Input, OnInit, ViewChild} from &quot;@angular/core&quot;;\r\nimport {BaseComponent} from &quot;./base.component&quot;;\r\nimport {take, takeUntil} from &quot;rxjs/operators&quot;;\r\nimport {ActivatedRoute, Params, Router} from &quot;@angular/router&quot;;\r\nimport {Observable} from &quot;rxjs&quot;;\r\nimport {PaginatedCollection} from &quot;./shared/models/dto/paginated-collection&quot;;\r\nimport { MatTable, MatTableDataSource } from &quot;@angular/material/table&quot;;\r\nimport {MatSort} from &#39;@angular/material/sort&#39;;\r\nimport { ChangeDetectorRef } from &#39;@angular/core&#39;\r\n\r\n@Directive()\r\nexport abstract class BaseCollectionComponent&lt;T&gt; extends BaseComponent implements OnInit{\r\n\r\n  @Input() public dataSource: MatTableDataSource&lt;T&gt;;\r\n  public collection: PaginatedCollection&lt;T&gt;;\r\n  public currentPage: number;\r\n  public pageSize: number;\r\n\r\n  protected searchString: string;\r\n\r\n  public counter: number = 0;\r\n\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  readonly route: ActivatedRoute;\r\n  readonly router: Router;\r\n\r\n  protected constructor(injector: Injector, public ref: ChangeDetectorRef) {\r\n    super();\r\n    this.route = injector.get(ActivatedRoute);\r\n    this.router = injector.get(Router);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.fillTable();\r\n  }\r\n\r\n  fillTable(){\r\n    this.route.queryParams\r\n      .pipe(take(1))\r\n      .subscribe((params: Params) =&gt; {\r\n        const page = params[&#39;page&#39;] ? +params[&#39;page&#39;] : 1;\r\n        this.pageSize = params[&#39;size&#39;] ? +params[&#39;size&#39;] : 15;\r\n        this.searchString = params[&#39;s&#39;] ? params[&#39;s&#39;] : null;\r\n        this.dataSource = new MatTableDataSource();\r\n        this.setPage(page);\r\n        //setInterval(() =&gt; this.setPage(page), 3000);\r\n      });\r\n  }\r\n\r\n  protected abstract fetch(): Observable&lt;PaginatedCollection&lt;T&gt;&gt;\r\n\r\n  public search(searchString: string) {\r\n    if (this.searchString !== searchString) {\r\n      this.searchString = searchString;\r\n      this.setPage(1);\r\n    }\r\n  }\r\n\r\n  public searchReset(): void {\r\n    this.searchString = null;\r\n    this.setPage(1);\r\n  }\r\n\r\n  public setPageSize(size: number): void {\r\n    this.pageSize = size;\r\n    this.setPage(1);\r\n  }\r\n\r\n  public setPage(page: number): void {\r\n    this.currentPage = page;\r\n    this.fetch()\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(\r\n        (res: PaginatedCollection&lt;T&gt;) =&gt; {\r\n          this.handleSuccess(res);\r\n          this.ref.detectChanges();},\r\n        (error: string) =&gt; this.handleError(error)\r\n      );\r\n  }\r\n\r\n  protected deleteSuccess(id: string, msg: string): void {\r\n    this.setSuccessMessage(msg);\r\n    this.collection.items = this.collection.items\r\n      .filter((item: any) =&gt; item.id !== id);\r\n  }\r\n\r\n   handleSuccess(collection: PaginatedCollection&lt;T&gt;): void {\r\n    this.collection = collection;\r\n    this.dataSource.data = this.collection.items;\r\n    this.dataSource.sort = this.sort;\r\n    this.setQueryParamsInUrl();\r\n    console.log(this.dataSource.data);\r\n  }\r\n\r\n  private setQueryParamsInUrl(): void {\r\n    const queryParams = {\r\n      page: this.currentPage,\r\n      size: this.pageSize\r\n    };\r\n\r\n    this.router.navigate([], {\r\n      relativeTo: this.route,\r\n      queryParams: queryParams,\r\n      queryParamsHandling: &#39;merge&#39;\r\n    });\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\nimport {ChangeDetectorRef, Component, Injector, OnInit} from &#39;@angular/core&#39;;\r\nimport {TransactionService} from &quot;../../shared/services/transaction.service&quot;;\r\nimport {BaseCollectionComponent} from &quot;../../base.collection.component&quot;;\r\nimport {Transaction} from &quot;../../shared/models/entity/transaction&quot;;\r\nimport {PaginatedCollection} from &quot;../../shared/models/dto/paginated-collection&quot;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\nimport {ViewChild} from &#39;@angular/core&#39;;\r\nimport {MatSort} from &#39;@angular/material/sort&#39;;\r\nimport { MatTable, MatTableDataSource } from &#39;@angular/material/table&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-transactions&#39;,\r\n  templateUrl: &#39;./transactions.component.html&#39;,\r\n  styleUrls: [&#39;./transactions.component.scss&#39;]\r\n})\r\nexport class TransactionsComponent extends BaseCollectionComponent&lt;Transaction&gt; {\r\n  displayedColumns: string[] = [&#39;webshopOrderNumber&#39;, &#39;lastModified&#39;, &#39;state&#39;, &#39;paymentMethod&#39;, &#39;monetaryData.discount&#39;, &#39;monetaryData.grandTotalGross&#39;, &#39;monetaryData.applicationFeeIncl&#39;, &#39;details&#39;, &#39;actions&#39; ];  \r\n  enabled: boolean = true;\r\n\r\n  @ViewChild(&#39;table&#39;) table: MatTable&lt;any&gt;;\r\n\r\n\r\n  constructor(\r\n    private transactionService: TransactionService,\r\n    injector: Injector,\r\n    ref: ChangeDetectorRef,\r\n  ) {\r\n    super(injector, ref);\r\n  }\r\n  \r\n  updateTable(){\r\n   // this.dataSource.data = [];\r\n   this.fillTable();\r\n   this.dataSource = new MatTableDataSource(this.collection.items);\r\n   this.table.renderRows();\r\n  }\r\n\r\n  protected fetch(): Observable&lt;PaginatedCollection&lt;Transaction&gt;&gt; {\r\n    return this.transactionService.getTransactionsWithFilters(this.currentPage, this.pageSize, this.transactionService.filters);\r\n  }\r\n}\r\n```\r\n\r\n```\r\nimport {ChangeDetectorRef, Component, Injector, Input, NgZone} from &#39;@angular/core&#39;;\r\nimport {FormGroup, FormControl} from &#39;@angular/forms&#39;;\r\nimport { TransactionService } from &#39;../../services/transaction.service&#39;;\r\nimport { TransactionsComponent } from &#39;src/app/content/transactions/transactions.component&#39;;\r\nimport { DatePipe } from &#39;@angular/common&#39;;\r\nimport { TransactionState } from &#39;../../models/entity/enum/transaction-state&#39;;\r\nimport { PaymentMethod } from &#39;../../models/entity/enum/payment-method&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-filter&#39;,\r\n  templateUrl: &#39;./filter.component.html&#39;,\r\n  styleUrls: [&#39;./filter.component.scss&#39;]\r\n})\r\nexport class FilterComponent extends TransactionsComponent{\r\n\r\n  @Input() visible: boolean;\r\n\r\n  range = new FormGroup({\r\n    start: new FormControl(null),\r\n    end: new FormControl(null),\r\n    state: new FormControl(null),\r\n    method: new FormControl(null),\r\n    order: new FormControl(null)\r\n  });\r\n\r\n  states = Object.keys(TransactionState);\r\n  paymentMethods = Object.keys(PaymentMethod);\r\n  order:String;\r\n\r\n  constructor(private injector: Injector, private service: TransactionService, public datepipe: DatePipe, ref: ChangeDetectorRef) {\r\n    super(service, injector, ref);\r\n  }\r\n\r\n  filter(){\r\n    if(this.range.value.end != null){\r\n    this.service.filters.toDate = this.datepipe.transform(this.range.value.end, &#39;yyyy-MM-dd&#39;);\r\n    }\r\n    if(this.range.value.start != null){\r\n    this.service.filters.fromDate = this.datepipe.transform(this.range.value.start, &#39;yyyy-MM-dd&#39;);\r\n    }\r\n    if(this.range.value.state != null){\r\n    this.service.filters.transactionState = this.range.value.state;\r\n    }\r\n    if(this.range.value.method != null){\r\n      this.service.filters.usedPaymentMethod = this.range.value.method;\r\n    }\r\n    if(this.range.value.order != null){\r\n      this.service.filters.webshopOrderNumber = this.range.value.order;\r\n    }\r\n    this.updateTable();\r\n  }\r\n\r\n  clearFilters(){\r\n    this.service.filters.fromDate = null;\r\n    this.service.filters.toDate = null;\r\n    this.service.filters.transactionState = null;\r\n    this.service.filters.usedPaymentMethod = null;\r\n    this.service.filters.webshopOrderNumber = null;\r\n    this.range.reset();\r\n    this.updateTable();\r\n  }\r\n```\r\n\r\nThis is the html with table belonging to the Transaction component\r\n\r\n```\r\n&lt;section class=&quot;content-header&quot;&gt;\r\n  &lt;div class=&quot;container-fluid&quot;&gt;\r\n    &lt;div class=&quot;row mb-2&quot;&gt;\r\n      &lt;div class=&quot;col-12&quot;&gt;\r\n        &lt;h1&gt;{{&#39;COMPONENTS.TRANSACTIONS.title&#39; | translate}}&lt;/h1&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/section&gt;\r\n\r\n&lt;app-message-display [error]=&quot;error&quot;&gt;&lt;/app-message-display&gt;\r\n\r\n\r\n&lt;section class=&quot;mat-elevation-z8&quot; class=&quot;content mb-5&quot; *ngIf=&quot;collection&quot;&gt;\r\n  &lt;div class=&quot;row&quot;&gt;\r\n    &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;div class=&quot;card&quot;&gt;\r\n        &lt;div class=&quot;card-header&quot;&gt;\r\n          &lt;div class=&quot;card-tools&quot;&gt;\r\n            &lt;app-page-size [id]=&quot;&#39;page-size-changer&#39;&quot; (sizeChanged)=&quot;setPageSize($event)&quot;&gt;&lt;/app-page-size&gt;\r\n          &lt;/div&gt;\r\n          &lt;div&gt;\r\n            &lt;table #table table mat-table [dataSource]=&quot;dataSource&quot; matSort&gt;\r\n              &lt;ng-container matColumnDef=&quot;webshopOrderNumber&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.order-number&#39; | translate}}&lt;/a&gt;\r\n                &lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;&lt;a class=&quot;link-primary&quot;\r\n                    [routerLink]=&quot;[&#39;/transactions&#39;, row.id]&quot;&gt;{{row.webshopOrderNumber | translate}}&lt;/a&gt;&lt;/td&gt;\r\n                &lt;ng-template #noWebshopId&gt;\r\n                  &lt;td&gt;-&lt;/td&gt;\r\n                &lt;/ng-template&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;lastModified&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.transaction-date&#39; |\r\n                    translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.lastModified |\r\n                  date:&#39;dd/MM/yyyy&#39; }}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;state&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.state&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{&#39;ENUM.TRANSACTION-STATE.&#39; +\r\n                  row.state | translate}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;paymentMethod&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\r\n                  &lt;a class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.payment-method&#39; | translate}}&lt;/a&gt;\r\n                &lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{&#39;ENUM.PAYMENT-METHOD.&#39; +\r\n                  (row.paymentMethod | uppercase) | translate}}&lt;/td&gt;\r\n                &lt;ng-template #noPaymentMethod&gt;\r\n                  &lt;td&gt;-&lt;/td&gt;\r\n                &lt;/ng-template&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.discount&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.discount&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.monetaryData.discount |\r\n                  currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.grandTotalGross&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.total&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\r\n                  {{row.monetaryData.grandTotalGross |\r\n                  currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.applicationFeeIncl&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.app-fee&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\r\n                  {{row.monetaryData.applicationFeeIncl | currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;details&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\r\n                  {{&#39;COMMON.details&#39; | translate}}&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt; &lt;a class=&quot;link-primary&quot;\r\n                    [routerLink]=&quot;[&#39;/transactions&#39;, row.id]&quot;&gt;{{&#39;COMMON.view-details&#39; | translate}}&lt;/a&gt;&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;actions&quot;&gt;\r\n                &lt;th style=&quot;width: 20%&quot; mat-header-cell *matHeaderCellDef mat-sort-header class=&quot;text-right pr-5&quot;&gt;\r\n                  {{&#39;COMMON.actions&#39; | translate}}&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot; class=&quot;text-right pr-2&quot;&gt;\r\n                  &lt;div class=&quot;btn-group&quot; dropdown [autoClose]=&quot;true&quot; [isAnimated]=&quot;true&quot; [insideClick]=&quot;false&quot;&gt;\r\n                    &lt;button dropdownToggle type=&quot;button&quot; class=&quot;btn btn-primary dropdown-toggle&quot;&gt;\r\n                      {{&#39;COMMON.actions&#39; | translate}} &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\r\n                    &lt;/button&gt;\r\n                    &lt;ul *dropdownMenu class=&quot;dropdown-menu dropdown-menu-right&quot; role=&quot;menu&quot;\r\n                      aria-labelledby=&quot;button-basic&quot;&gt;\r\n                      &lt;!-- &lt;li role=&quot;menuitem&quot;&gt;&lt;a class=&quot;dropdown-item&quot; [routerLink]=&quot;[&#39;/transactions&#39;, transaction.id]&quot;&gt;{{&#39;COMMON.view-details&#39; | translate}}&lt;/a&gt;\r\n            &lt;/li&gt; --&gt;\r\n                    &lt;/ul&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n\r\n              &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\r\n              &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\r\n\r\n              &lt;!-- Row shown when there is no matching data. --&gt;\r\n              &lt;tr class=&quot;mat-row&quot; *matNoDataRow&gt;\r\n                &lt;td class=&quot;mat-cell&quot; colspan=&quot;8&quot;&gt;No data matching the filter&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n\r\n            &lt;div class=&quot;card-footer&quot;&gt;\r\n              &lt;app-pagination (pageChange)=&quot;setPage($event)&quot; [collection]=&quot;collection&quot;\r\n                class=&quot;justify-content-center&quot;&gt;&lt;/app-pagination&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n```\r\n\r\nHere is the console output\r\n\r\n```\r\n[Info] Successfully preconnected to https://fonts.gstatic.com/\r\n[Warning] Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming (vendor.js, line 68622)\r\n[Log] Angular is running in development mode. Call enableProdMode() to enable production mode. (vendor.js, line 55406)\r\n[Info] [WDS] Live Reloading enabled. (vendor.js, line 112493)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n[Error] ERROR – TypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\nTypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\n\tdefaultErrorLogger (vendor.js:33845)\r\n\thandleError (vendor.js:33893)\r\n\thandleError (vendor.js:38304)\r\n\texecuteListenerWithErrorHandling (vendor.js:42677)\r\n\twrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\r\n\t(anonymous function) (vendor.js:81271)\r\n\tonInvokeTask (vendor.js:56026)\r\n\trunTask (polyfills.js:187)\r\n\tinvokeTask (polyfills.js:496)\r\n\tinvokeTask (polyfills.js:1609)\r\n\tglobalZoneAwareCallback (polyfills.js:1635)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n[Error] ERROR – TypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\nTypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\n\tdefaultErrorLogger (vendor.js:33845)\r\n\thandleError (vendor.js:33893)\r\n\thandleError (vendor.js:38304)\r\n\texecuteListenerWithErrorHandling (vendor.js:42677)\r\n\twrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\r\n\t(anonymous function) (vendor.js:81271)\r\n\tonInvokeTask (vendor.js:56026)\r\n\trunTask (polyfills.js:187)\r\n\tinvokeTask (polyfills.js:496)\r\n\tinvokeTask (polyfills.js:1609)\r\n\tglobalZoneAwareCallback (polyfills.js:1635)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n&gt; Selected Element\r\n&lt; &lt;td _ngcontent-djc-c128 role=&quot;cell&quot; mat-cell class=&quot;mat-cell cdk-cell cdk-column-webshopOrderNumber mat-column-webshopOrderNumber ng-star-inserted&quot;&gt;…&lt;/td&gt;\r\n```","title":"Angular material table not updating with change in datasource - filtering done from spring backend","body":"<p>Angular table data not updating. Only updates when I switch component and come back to the table component.</p>\n<p>Tried using this.table.renderRows() but getting table object is undefined.</p>\n<p>Below is the code - there are 3 Ts classes which are extending base main and filter class.</p>\n<pre><code>import { Directive, Injector, Input, OnInit, ViewChild} from &quot;@angular/core&quot;;\nimport {BaseComponent} from &quot;./base.component&quot;;\nimport {take, takeUntil} from &quot;rxjs/operators&quot;;\nimport {ActivatedRoute, Params, Router} from &quot;@angular/router&quot;;\nimport {Observable} from &quot;rxjs&quot;;\nimport {PaginatedCollection} from &quot;./shared/models/dto/paginated-collection&quot;;\nimport { MatTable, MatTableDataSource } from &quot;@angular/material/table&quot;;\nimport {MatSort} from '@angular/material/sort';\nimport { ChangeDetectorRef } from '@angular/core'\n\n@Directive()\nexport abstract class BaseCollectionComponent&lt;T&gt; extends BaseComponent implements OnInit{\n\n  @Input() public dataSource: MatTableDataSource&lt;T&gt;;\n  public collection: PaginatedCollection&lt;T&gt;;\n  public currentPage: number;\n  public pageSize: number;\n\n  protected searchString: string;\n\n  public counter: number = 0;\n\n  @ViewChild(MatSort) sort: MatSort;\n\n  readonly route: ActivatedRoute;\n  readonly router: Router;\n\n  protected constructor(injector: Injector, public ref: ChangeDetectorRef) {\n    super();\n    this.route = injector.get(ActivatedRoute);\n    this.router = injector.get(Router);\n  }\n\n  ngOnInit(): void {\n    this.fillTable();\n  }\n\n  fillTable(){\n    this.route.queryParams\n      .pipe(take(1))\n      .subscribe((params: Params) =&gt; {\n        const page = params['page'] ? +params['page'] : 1;\n        this.pageSize = params['size'] ? +params['size'] : 15;\n        this.searchString = params['s'] ? params['s'] : null;\n        this.dataSource = new MatTableDataSource();\n        this.setPage(page);\n        //setInterval(() =&gt; this.setPage(page), 3000);\n      });\n  }\n\n  protected abstract fetch(): Observable&lt;PaginatedCollection&lt;T&gt;&gt;\n\n  public search(searchString: string) {\n    if (this.searchString !== searchString) {\n      this.searchString = searchString;\n      this.setPage(1);\n    }\n  }\n\n  public searchReset(): void {\n    this.searchString = null;\n    this.setPage(1);\n  }\n\n  public setPageSize(size: number): void {\n    this.pageSize = size;\n    this.setPage(1);\n  }\n\n  public setPage(page: number): void {\n    this.currentPage = page;\n    this.fetch()\n      .pipe(takeUntil(this.ngUnsubscribe))\n      .subscribe(\n        (res: PaginatedCollection&lt;T&gt;) =&gt; {\n          this.handleSuccess(res);\n          this.ref.detectChanges();},\n        (error: string) =&gt; this.handleError(error)\n      );\n  }\n\n  protected deleteSuccess(id: string, msg: string): void {\n    this.setSuccessMessage(msg);\n    this.collection.items = this.collection.items\n      .filter((item: any) =&gt; item.id !== id);\n  }\n\n   handleSuccess(collection: PaginatedCollection&lt;T&gt;): void {\n    this.collection = collection;\n    this.dataSource.data = this.collection.items;\n    this.dataSource.sort = this.sort;\n    this.setQueryParamsInUrl();\n    console.log(this.dataSource.data);\n  }\n\n  private setQueryParamsInUrl(): void {\n    const queryParams = {\n      page: this.currentPage,\n      size: this.pageSize\n    };\n\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: queryParams,\n      queryParamsHandling: 'merge'\n    });\n  }\n\n\n}\n</code></pre>\n<pre><code>import {ChangeDetectorRef, Component, Injector, OnInit} from '@angular/core';\nimport {TransactionService} from &quot;../../shared/services/transaction.service&quot;;\nimport {BaseCollectionComponent} from &quot;../../base.collection.component&quot;;\nimport {Transaction} from &quot;../../shared/models/entity/transaction&quot;;\nimport {PaginatedCollection} from &quot;../../shared/models/dto/paginated-collection&quot;;\nimport { Observable } from 'rxjs';\nimport {ViewChild} from '@angular/core';\nimport {MatSort} from '@angular/material/sort';\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\n\n@Component({\n  selector: 'app-transactions',\n  templateUrl: './transactions.component.html',\n  styleUrls: ['./transactions.component.scss']\n})\nexport class TransactionsComponent extends BaseCollectionComponent&lt;Transaction&gt; {\n  displayedColumns: string[] = ['webshopOrderNumber', 'lastModified', 'state', 'paymentMethod', 'monetaryData.discount', 'monetaryData.grandTotalGross', 'monetaryData.applicationFeeIncl', 'details', 'actions' ];  \n  enabled: boolean = true;\n\n  @ViewChild('table') table: MatTable&lt;any&gt;;\n\n\n  constructor(\n    private transactionService: TransactionService,\n    injector: Injector,\n    ref: ChangeDetectorRef,\n  ) {\n    super(injector, ref);\n  }\n  \n  updateTable(){\n   // this.dataSource.data = [];\n   this.fillTable();\n   this.dataSource = new MatTableDataSource(this.collection.items);\n   this.table.renderRows();\n  }\n\n  protected fetch(): Observable&lt;PaginatedCollection&lt;Transaction&gt;&gt; {\n    return this.transactionService.getTransactionsWithFilters(this.currentPage, this.pageSize, this.transactionService.filters);\n  }\n}\n</code></pre>\n<pre><code>import {ChangeDetectorRef, Component, Injector, Input, NgZone} from '@angular/core';\nimport {FormGroup, FormControl} from '@angular/forms';\nimport { TransactionService } from '../../services/transaction.service';\nimport { TransactionsComponent } from 'src/app/content/transactions/transactions.component';\nimport { DatePipe } from '@angular/common';\nimport { TransactionState } from '../../models/entity/enum/transaction-state';\nimport { PaymentMethod } from '../../models/entity/enum/payment-method';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.scss']\n})\nexport class FilterComponent extends TransactionsComponent{\n\n  @Input() visible: boolean;\n\n  range = new FormGroup({\n    start: new FormControl(null),\n    end: new FormControl(null),\n    state: new FormControl(null),\n    method: new FormControl(null),\n    order: new FormControl(null)\n  });\n\n  states = Object.keys(TransactionState);\n  paymentMethods = Object.keys(PaymentMethod);\n  order:String;\n\n  constructor(private injector: Injector, private service: TransactionService, public datepipe: DatePipe, ref: ChangeDetectorRef) {\n    super(service, injector, ref);\n  }\n\n  filter(){\n    if(this.range.value.end != null){\n    this.service.filters.toDate = this.datepipe.transform(this.range.value.end, 'yyyy-MM-dd');\n    }\n    if(this.range.value.start != null){\n    this.service.filters.fromDate = this.datepipe.transform(this.range.value.start, 'yyyy-MM-dd');\n    }\n    if(this.range.value.state != null){\n    this.service.filters.transactionState = this.range.value.state;\n    }\n    if(this.range.value.method != null){\n      this.service.filters.usedPaymentMethod = this.range.value.method;\n    }\n    if(this.range.value.order != null){\n      this.service.filters.webshopOrderNumber = this.range.value.order;\n    }\n    this.updateTable();\n  }\n\n  clearFilters(){\n    this.service.filters.fromDate = null;\n    this.service.filters.toDate = null;\n    this.service.filters.transactionState = null;\n    this.service.filters.usedPaymentMethod = null;\n    this.service.filters.webshopOrderNumber = null;\n    this.range.reset();\n    this.updateTable();\n  }\n</code></pre>\n<p>This is the html with table belonging to the Transaction component</p>\n<pre><code>&lt;section class=&quot;content-header&quot;&gt;\n  &lt;div class=&quot;container-fluid&quot;&gt;\n    &lt;div class=&quot;row mb-2&quot;&gt;\n      &lt;div class=&quot;col-12&quot;&gt;\n        &lt;h1&gt;{{'COMPONENTS.TRANSACTIONS.title' | translate}}&lt;/h1&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/section&gt;\n\n&lt;app-message-display [error]=&quot;error&quot;&gt;&lt;/app-message-display&gt;\n\n\n&lt;section class=&quot;mat-elevation-z8&quot; class=&quot;content mb-5&quot; *ngIf=&quot;collection&quot;&gt;\n  &lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-12&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-header&quot;&gt;\n          &lt;div class=&quot;card-tools&quot;&gt;\n            &lt;app-page-size [id]=&quot;'page-size-changer'&quot; (sizeChanged)=&quot;setPageSize($event)&quot;&gt;&lt;/app-page-size&gt;\n          &lt;/div&gt;\n          &lt;div&gt;\n            &lt;table #table table mat-table [dataSource]=&quot;dataSource&quot; matSort&gt;\n              &lt;ng-container matColumnDef=&quot;webshopOrderNumber&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.order-number' | translate}}&lt;/a&gt;\n                &lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;&lt;a class=&quot;link-primary&quot;\n                    [routerLink]=&quot;['/transactions', row.id]&quot;&gt;{{row.webshopOrderNumber | translate}}&lt;/a&gt;&lt;/td&gt;\n                &lt;ng-template #noWebshopId&gt;\n                  &lt;td&gt;-&lt;/td&gt;\n                &lt;/ng-template&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;lastModified&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.transaction-date' |\n                    translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.lastModified |\n                  date:'dd/MM/yyyy' }}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;state&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.state' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{'ENUM.TRANSACTION-STATE.' +\n                  row.state | translate}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;paymentMethod&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\n                  &lt;a class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.payment-method' | translate}}&lt;/a&gt;\n                &lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{'ENUM.PAYMENT-METHOD.' +\n                  (row.paymentMethod | uppercase) | translate}}&lt;/td&gt;\n                &lt;ng-template #noPaymentMethod&gt;\n                  &lt;td&gt;-&lt;/td&gt;\n                &lt;/ng-template&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.discount&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.discount' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.monetaryData.discount |\n                  currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.grandTotalGross&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.total' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\n                  {{row.monetaryData.grandTotalGross |\n                  currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.applicationFeeIncl&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.app-fee' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\n                  {{row.monetaryData.applicationFeeIncl | currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;details&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\n                  {{'COMMON.details' | translate}}&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt; &lt;a class=&quot;link-primary&quot;\n                    [routerLink]=&quot;['/transactions', row.id]&quot;&gt;{{'COMMON.view-details' | translate}}&lt;/a&gt;&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;actions&quot;&gt;\n                &lt;th style=&quot;width: 20%&quot; mat-header-cell *matHeaderCellDef mat-sort-header class=&quot;text-right pr-5&quot;&gt;\n                  {{'COMMON.actions' | translate}}&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot; class=&quot;text-right pr-2&quot;&gt;\n                  &lt;div class=&quot;btn-group&quot; dropdown [autoClose]=&quot;true&quot; [isAnimated]=&quot;true&quot; [insideClick]=&quot;false&quot;&gt;\n                    &lt;button dropdownToggle type=&quot;button&quot; class=&quot;btn btn-primary dropdown-toggle&quot;&gt;\n                      {{'COMMON.actions' | translate}} &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\n                    &lt;/button&gt;\n                    &lt;ul *dropdownMenu class=&quot;dropdown-menu dropdown-menu-right&quot; role=&quot;menu&quot;\n                      aria-labelledby=&quot;button-basic&quot;&gt;\n                      &lt;!-- &lt;li role=&quot;menuitem&quot;&gt;&lt;a class=&quot;dropdown-item&quot; [routerLink]=&quot;['/transactions', transaction.id]&quot;&gt;{{'COMMON.view-details' | translate}}&lt;/a&gt;\n            &lt;/li&gt; --&gt;\n                    &lt;/ul&gt;\n                  &lt;/div&gt;\n                &lt;/td&gt;\n              &lt;/ng-container&gt;\n\n\n              &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\n              &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\n\n              &lt;!-- Row shown when there is no matching data. --&gt;\n              &lt;tr class=&quot;mat-row&quot; *matNoDataRow&gt;\n                &lt;td class=&quot;mat-cell&quot; colspan=&quot;8&quot;&gt;No data matching the filter&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/table&gt;\n\n            &lt;div class=&quot;card-footer&quot;&gt;\n              &lt;app-pagination (pageChange)=&quot;setPage($event)&quot; [collection]=&quot;collection&quot;\n                class=&quot;justify-content-center&quot;&gt;&lt;/app-pagination&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>Here is the console output</p>\n<pre><code>[Info] Successfully preconnected to https://fonts.gstatic.com/\n[Warning] Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming (vendor.js, line 68622)\n[Log] Angular is running in development mode. Call enableProdMode() to enable production mode. (vendor.js, line 55406)\n[Info] [WDS] Live Reloading enabled. (vendor.js, line 112493)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n[Error] ERROR – TypeError: undefined is not an object (evaluating 'this.table.renderRows')\nTypeError: undefined is not an object (evaluating 'this.table.renderRows')\n    defaultErrorLogger (vendor.js:33845)\n    handleError (vendor.js:33893)\n    handleError (vendor.js:38304)\n    executeListenerWithErrorHandling (vendor.js:42677)\n    wrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\n    (anonymous function) (vendor.js:81271)\n    onInvokeTask (vendor.js:56026)\n    runTask (polyfills.js:187)\n    invokeTask (polyfills.js:496)\n    invokeTask (polyfills.js:1609)\n    globalZoneAwareCallback (polyfills.js:1635)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n[Error] ERROR – TypeError: undefined is not an object (evaluating 'this.table.renderRows')\nTypeError: undefined is not an object (evaluating 'this.table.renderRows')\n    defaultErrorLogger (vendor.js:33845)\n    handleError (vendor.js:33893)\n    handleError (vendor.js:38304)\n    executeListenerWithErrorHandling (vendor.js:42677)\n    wrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\n    (anonymous function) (vendor.js:81271)\n    onInvokeTask (vendor.js:56026)\n    runTask (polyfills.js:187)\n    invokeTask (polyfills.js:496)\n    invokeTask (polyfills.js:1609)\n    globalZoneAwareCallback (polyfills.js:1635)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n&gt; Selected Element\n&lt; &lt;td _ngcontent-djc-c128 role=&quot;cell&quot; mat-cell class=&quot;mat-cell cdk-cell cdk-column-webshopOrderNumber mat-column-webshopOrderNumber ng-star-inserted&quot;&gt;…&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","file-upload"],"answers":[{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1690011843,"post_id":76737765,"comment_id":135295985,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76737765/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9796860,"reputation":451,"user_id":7259551,"display_name":"J. Whitehead"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690184302,"creation_date":1689940504,"answer_id":76737765,"question_id":76454766,"body_markdown":"Change the content type to: `application/json`. As your content type is currently incorrect it cannot deserialize the json you are sending.","title":"convert image to byte in react js","body":"<p>Change the content type to: <code>application/json</code>. As your content type is currently incorrect it cannot deserialize the json you are sending.</p>\n"}],"owner":{"account_id":1306536,"reputation":2406,"user_id":1255433,"accept_rate":63,"display_name":"pappu_kutty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690184302,"creation_date":1686558152,"question_id":76454766,"body_markdown":"I have to upload an image to my backend Spring Boot. I have model object as \r\n```java\r\nclass company {\r\n    String name;\r\n    byte[]  logo;\r\n}\r\n```\r\nI need to upload an image from ReactJS, then convert the image to byte and store it in database as bytea in PostgreSQL database.\r\n\r\nI have Spring controller as:\r\n```java\r\n@PostMapping(&quot;/saveCompany&quot;)\r\npublic Company createRetailOutletDetails(@RequestBody Company company) throws Exception {\r\n    try {\r\n        return companyServiceImpl.saveCompanyDetails(company);\r\n    } catch (Exception exp) {\r\n        throw new Exception(Constants.APP_ERROR, exp);\r\n    }\r\n}\r\n```\r\nMy ReactJS code is:\r\n1. convert image to byte array\r\n```js\r\nfunction readFileDataAsBase64(e) {\r\n    const file = e.target.files[0];\r\n    return new Promise((resolve, reject) =&gt; {\r\n            const reader = new FileReader();\r\n            reader.onload = (event) =&gt; {\r\n                resolve(event.target.result);\r\n            };\r\n            reader.onerror = (err) =&gt; {\r\n                reject(err);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n```\r\nand save part:\r\n```\r\nconst saveCompanyDetails = (e) =&gt; {\r\n      var data = {\r\n        name: company.name,\r\n        logo: file\r\n      };\r\n      companyDataService.create(data)\r\n}\r\n```\r\nand service code as \r\n```\r\nconst create = (data) =&gt; {\r\n    return http.post(&quot;/saveCompany&quot;, data, {\r\n        headers:{\r\n            &quot;Content-Type&quot;: &quot;multipart/form-data&quot;,\r\n        }\r\n    });\r\n};\r\n```\r\nBut I am getting error while binding byte to Spring Boot model object, and getting below error.\r\n\r\n    JSON parse error: Cannot deserialize instance of `[B` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `[B` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 159] (through reference chain: com.maargali.fuelman.admin.model.Company[&quot;logo&quot;])","title":"convert image to byte in react js","body":"<p>I have to upload an image to my backend Spring Boot. I have model object as</p>\n<pre class=\"lang-java prettyprint-override\"><code>class company {\n    String name;\n    byte[]  logo;\n}\n</code></pre>\n<p>I need to upload an image from ReactJS, then convert the image to byte and store it in database as bytea in PostgreSQL database.</p>\n<p>I have Spring controller as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/saveCompany&quot;)\npublic Company createRetailOutletDetails(@RequestBody Company company) throws Exception {\n    try {\n        return companyServiceImpl.saveCompanyDetails(company);\n    } catch (Exception exp) {\n        throw new Exception(Constants.APP_ERROR, exp);\n    }\n}\n</code></pre>\n<p>My ReactJS code is:</p>\n<ol>\n<li>convert image to byte array</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>function readFileDataAsBase64(e) {\n    const file = e.target.files[0];\n    return new Promise((resolve, reject) =&gt; {\n            const reader = new FileReader();\n            reader.onload = (event) =&gt; {\n                resolve(event.target.result);\n            };\n            reader.onerror = (err) =&gt; {\n                reject(err);\n            };\n            reader.readAsArrayBuffer(file);\n        });\n    }\n</code></pre>\n<p>and save part:</p>\n<pre><code>const saveCompanyDetails = (e) =&gt; {\n      var data = {\n        name: company.name,\n        logo: file\n      };\n      companyDataService.create(data)\n}\n</code></pre>\n<p>and service code as</p>\n<pre><code>const create = (data) =&gt; {\n    return http.post(&quot;/saveCompany&quot;, data, {\n        headers:{\n            &quot;Content-Type&quot;: &quot;multipart/form-data&quot;,\n        }\n    });\n};\n</code></pre>\n<p>But I am getting error while binding byte to Spring Boot model object, and getting below error.</p>\n<pre><code>JSON parse error: Cannot deserialize instance of `[B` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `[B` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 159] (through reference chain: com.maargali.fuelman.admin.model.Company[&quot;logo&quot;])\n</code></pre>\n"},{"tags":["java","exception","grpc"],"owner":{"account_id":26815323,"reputation":1,"user_id":20405354,"display_name":"Dan Rotman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690183936,"creation_date":1690183936,"question_id":76752270,"body_markdown":"I have a Java GRPC server and I am getting unwanted HTTP/1.x requests. It is crowding the log files because it keep throwing exceptions. I want the service to peacefully ignore those message. How would I make the server ignore those messages?\r\n\r\nI work at a big company so I can&#39;t stop the logging nor the messages.\r\n\r\nI was wondering whether an interceptor might work.","title":"Unexpected HTTP/1.x Request Errors with Login Pages","body":"<p>I have a Java GRPC server and I am getting unwanted HTTP/1.x requests. It is crowding the log files because it keep throwing exceptions. I want the service to peacefully ignore those message. How would I make the server ignore those messages?</p>\n<p>I work at a big company so I can't stop the logging nor the messages.</p>\n<p>I was wondering whether an interceptor might work.</p>\n"},{"tags":["java","compiler-errors","linked-list"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":3,"creation_date":1689568562,"post_id":76701478,"comment_id":135226387,"body_markdown":"Why did you tag this as `dsa`?  What does your question have to do with Digital Signature Algorithm?  -- *DSA (Digital Signature Algorithm) is a public-key signature algorithm defined by NIST. Do NOT use this tag for general &quot;Data Structures and Algorithms&quot; questions.*","body":"Why did you tag this as <code>dsa</code>?  What does your question have to do with Digital Signature Algorithm?  -- <i>DSA (Digital Signature Algorithm) is a public-key signature algorithm defined by NIST. Do NOT use this tag for general &quot;Data Structures and Algorithms&quot; questions.</i>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689575894,"post_id":76701478,"comment_id":135227226,"body_markdown":"I must get new glasses, I cannot see anything like `private static final Scanner` (from the error message) in posted code... No, not my glasses, even copy&amp;pasting it to an editor, I am unable to find the code from the error message! Maybe you should post the relevant code or even better a [mre] (by the error message, apparently there is some code declared **outside** of a class, interface or enum... but we cannot see that)","body":"I must get new glasses, I cannot see anything like <code>private static final Scanner</code> (from the error message) in posted code... No, not my glasses, even copy&amp;pasting it to an editor, I am unable to find the code from the error message! Maybe you should post the relevant code or even better a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (by the error message, apparently there is some code declared <b>outside</b> of a class, interface or enum... but we cannot see that)"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1689581893,"post_id":76701478,"comment_id":135228264,"body_markdown":"You have more closing braces than opening braces. Voting to close as typo.","body":"You have more closing braces than opening braces. Voting to close as typo."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689676911,"post_id":76701478,"comment_id":135244356,"body_markdown":"also note that you included only 80 lines of code, but the error starts at line 85 (`Solution.java:85: error:...`)","body":"also note that you included only 80 lines of code, but the error starts at line 85 (<code>Solution.java:85: error:...</code>)"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690183527,"creation_date":1690183527,"answer_id":76752223,"question_id":76701478,"body_markdown":"The error does not complain about a line in *your* `compareLists` code, but in the host&#39;s code, i.e. in the boilerplate code that is presented to you when you start introducing your function&#39;s code. \r\n\r\nYour code is thus embedded in the framework&#39;s code, that already provided the code for `SinglyLinkedListNode`, `SinglyLinkedList`, ...etc. Also *after* your function `compareLists` there is more boilerplate code that follows: this is code that will actually run the tests. \r\n\r\nAll this code -- the boilerplate code and your `compareLists` function -- are part of the `Solution` class.\r\n\r\nAnd here comes the problem: you have closed the `Solution` class with a closing brace. This means that the boilerplate code that *follows* it, suddenly finds itself outside of the `Solution` class, which is a syntax error.\r\n\r\nThe fix is obvious: remove that closing brace, so that the boilerplate code is part of the `Solution` class.","title":"I have written the write code right still giving error in hackerrank","body":"<p>The error does not complain about a line in <em>your</em> <code>compareLists</code> code, but in the host's code, i.e. in the boilerplate code that is presented to you when you start introducing your function's code.</p>\n<p>Your code is thus embedded in the framework's code, that already provided the code for <code>SinglyLinkedListNode</code>, <code>SinglyLinkedList</code>, ...etc. Also <em>after</em> your function <code>compareLists</code> there is more boilerplate code that follows: this is code that will actually run the tests.</p>\n<p>All this code -- the boilerplate code and your <code>compareLists</code> function -- are part of the <code>Solution</code> class.</p>\n<p>And here comes the problem: you have closed the <code>Solution</code> class with a closing brace. This means that the boilerplate code that <em>follows</em> it, suddenly finds itself outside of the <code>Solution</code> class, which is a syntax error.</p>\n<p>The fix is obvious: remove that closing brace, so that the boilerplate code is part of the <code>Solution</code> class.</p>\n"}],"owner":{"account_id":24203792,"reputation":1,"user_id":18161282,"display_name":"Satendra Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690183527,"creation_date":1689567770,"question_id":76701478,"body_markdown":"Solution : Compare Two LinkedList\r\n\r\n    import java.io.*;\r\n    import java.math.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n    static class SinglyLinkedListNode {\r\n        public int data;\r\n        public SinglyLinkedListNode next;\r\n        public SinglyLinkedListNode(int nodeData) {\r\n            this.data = nodeData;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    static class SinglyLinkedList {\r\n        public SinglyLinkedListNode head;\r\n        public SinglyLinkedListNode tail;\r\n\r\n        public SinglyLinkedList() {\r\n            this.head = null;\r\n            this.tail = null;\r\n        }\r\n\r\n        public void insertNode(int nodeData) {\r\n            SinglyLinkedListNode node = new SinglyLinkedListNode(nodeData);\r\n\r\n            if (this.head == null) {\r\n                this.head = node;\r\n            } else {\r\n                this.tail.next = node;\r\n            }\r\n\r\n            this.tail = node;\r\n        }\r\n    }\r\n\r\n    public static void printSinglyLinkedList(SinglyLinkedListNode node, String sep, BufferedWriter bufferedWriter) throws IOException {\r\n        while (node != null) {\r\n            bufferedWriter.write(String.valueOf(node.data));\r\n\r\n            node = node.next;\r\n\r\n            if (node != null) {\r\n                bufferedWriter.write(sep);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Complete the compareLists function below.\r\n\r\n    /*\r\n     * For your reference:\r\n     *\r\n     * SinglyLinkedListNode {\r\n     *     int data;\r\n     *     SinglyLinkedListNode next;\r\n     * }\r\n     *\r\n     */\r\n\r\n    static boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) { \r\n        // while((head1 != null &amp;&amp; head2 != null) &amp;&amp; (head1.data == head2.data)){\r\n        //     head1 = head1.next;\r\n        //     head2 = head2.next;\r\n        // }\r\n        // return (head1 == null &amp;&amp; head2 == null);\r\n        \r\n        // }\r\n        \r\n        while((head1!=null &amp;&amp; head2!=null) &amp;&amp; head1.data == head2.data){\r\n            head1 = head1.next;\r\n            head2 = head2.next;\r\n        }\r\n        return (head1 == null &amp;&amp; head2 == null);\r\n    \r\n    }\r\n}\r\n\r\n\r\nError:-  Below error is coming every time \r\n\r\n```none\r\nSolution.java:85: error: class, interface, or enum expected\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n                         ^\r\n\r\nSolution.java:87: error: class, interface, or enum expected\r\n    public static void main(String[] args) throws IOException {\r\n                  ^\r\n\r\nSolution.java:90: error: class, interface, or enum expected\r\n        int tests = scanner.nextInt();\r\n        ^\r\n\r\nSolution.java:91: error: class, interface, or enum expected\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n        ^\r\n\r\nSolution.java:93: error: class, interface, or enum expected\r\n        for (int testsItr = 0; testsItr &lt; tests; testsItr++) {\r\n        ^\r\n```\r\n\r\nPlease help to solve this error.","title":"I have written the write code right still giving error in hackerrank","body":"<p>Solution : Compare Two LinkedList</p>\n<pre><code>import java.io.*;\nimport java.math.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\nstatic class SinglyLinkedListNode {\n    public int data;\n    public SinglyLinkedListNode next;\n    public SinglyLinkedListNode(int nodeData) {\n        this.data = nodeData;\n        this.next = null;\n    }\n}\n\nstatic class SinglyLinkedList {\n    public SinglyLinkedListNode head;\n    public SinglyLinkedListNode tail;\n\n    public SinglyLinkedList() {\n        this.head = null;\n        this.tail = null;\n    }\n\n    public void insertNode(int nodeData) {\n        SinglyLinkedListNode node = new SinglyLinkedListNode(nodeData);\n\n        if (this.head == null) {\n            this.head = node;\n        } else {\n            this.tail.next = node;\n        }\n\n        this.tail = node;\n    }\n}\n\npublic static void printSinglyLinkedList(SinglyLinkedListNode node, String sep, BufferedWriter bufferedWriter) throws IOException {\n    while (node != null) {\n        bufferedWriter.write(String.valueOf(node.data));\n\n        node = node.next;\n\n        if (node != null) {\n            bufferedWriter.write(sep);\n        }\n    }\n}\n\n// Complete the compareLists function below.\n\n/*\n * For your reference:\n *\n * SinglyLinkedListNode {\n *     int data;\n *     SinglyLinkedListNode next;\n * }\n *\n */\n\nstatic boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) { \n    // while((head1 != null &amp;&amp; head2 != null) &amp;&amp; (head1.data == head2.data)){\n    //     head1 = head1.next;\n    //     head2 = head2.next;\n    // }\n    // return (head1 == null &amp;&amp; head2 == null);\n    \n    // }\n    \n    while((head1!=null &amp;&amp; head2!=null) &amp;&amp; head1.data == head2.data){\n        head1 = head1.next;\n        head2 = head2.next;\n    }\n    return (head1 == null &amp;&amp; head2 == null);\n\n}\n</code></pre>\n<p>}</p>\n<p>Error:-  Below error is coming every time</p>\n<pre class=\"lang-none prettyprint-override\"><code>Solution.java:85: error: class, interface, or enum expected\n    private static final Scanner scanner = new Scanner(System.in);\n                         ^\n\nSolution.java:87: error: class, interface, or enum expected\n    public static void main(String[] args) throws IOException {\n                  ^\n\nSolution.java:90: error: class, interface, or enum expected\n        int tests = scanner.nextInt();\n        ^\n\nSolution.java:91: error: class, interface, or enum expected\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        ^\n\nSolution.java:93: error: class, interface, or enum expected\n        for (int testsItr = 0; testsItr &lt; tests; testsItr++) {\n        ^\n</code></pre>\n<p>Please help to solve this error.</p>\n"},{"tags":["java","nio","unc","watchservice"],"answers":[{"tags":[],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690183308,"creation_date":1690183308,"answer_id":76752204,"question_id":56667501,"body_markdown":"You should try using `ExtendedWatchEventModifier.FILE_TREE` with the registration instead of registering every subdirectory separately (Windows-only).\r\n\r\nI don&#39;t know if that fixes the issue with the invalid keys but it will definitely make your code way simpler.","title":"Java Watch Service cannot watch more than 50-60 folders defined as UNC Path in Hierarchy","body":"<p>You should try using <code>ExtendedWatchEventModifier.FILE_TREE</code> with the registration instead of registering every subdirectory separately (Windows-only).</p>\n<p>I don't know if that fixes the issue with the invalid keys but it will definitely make your code way simpler.</p>\n"}],"owner":{"account_id":3532604,"reputation":31,"user_id":2951689,"display_name":"UABajwah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690183308,"creation_date":1560946836,"question_id":56667501,"body_markdown":"I have been trying to watch folders through UNC. There are a lot of folders in the main folder. When I run the watch service it is registering all the folders with watch service. After all these folders are registered the watch service receives the events with Invalid key i-e key.isValid() returns false. And at this moment the particular folder is excluded from watch. I have reset the key but it is also giving me false. In short I am unable to watch for those folders which are excluded from key. I even tried to re register the folders but that again generates the invalid key and cannot be watched. I have tried this with normal folders in the same machine. They are working fine. Please help me if I am missing something. If I limit the folders to around 50-60 watch service doesn&#39;t receive any invalid key event and everything is working fine.\r\n\r\nThis is the code that will create number of folders.\r\n\r\n    import java.io.File;\r\n    \r\n    public class CreateDir {\r\n    \tpublic static void main(String args[]){\r\n    \t\tfor(int j=0; j&lt;1000; j++){\r\n    \t\t\tString folderName = &quot;Folder&quot;+j;\r\n    \t\t\tnew File(&quot;\\\\\\\\Server2\\\\Shared Folder\\\\test\\\\&quot; + folderName + &quot;\\\\&quot; + folderName + &quot;_Folder1&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder2&quot; + &quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder3&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder4&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder5&quot;+&quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder6&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder7&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder8&quot; + &quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder9&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder10&quot;).mkdirs();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis is the class that is actually watching these UNC Paths and giving information regarding events.\r\n\r\n    import java.nio.file.*;\r\n    import static java.nio.file.StandardWatchEventKinds.*;\r\n    import static java.nio.file.LinkOption.*;\r\n    import java.nio.file.attribute.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class WatchDir {\r\n    \r\n        private final WatchService watcher;\r\n        private final Map&lt;WatchKey,Path&gt; keys;\r\n        private final boolean recursive;\r\n        private boolean trace = false;\r\n        private int total = 0;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\r\n            return (WatchEvent&lt;T&gt;)event;\r\n        }\r\n    \r\n        /**\r\n         * Register the given directory with the WatchService\r\n         */\r\n        private void register(Path dir, PrintWriter writer) throws IOException {\r\n            WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\r\n            if (trace) {\r\n                Path prev = keys.get(key);\r\n                if (prev == null) {\r\n                    writer.println(&quot;register:&quot;+dir);\r\n                } else {\r\n                    if (!dir.equals(prev)) {\r\n                        writer.println(&quot;update.........&quot;);\r\n                    }\r\n                }\r\n            }\r\n            keys.put(key, dir);\r\n        }\r\n    \r\n        /**\r\n         * Register the given directory, and all its sub-directories, with the\r\n         * WatchService.\r\n         */\r\n        private void registerAll(final Path start, PrintWriter writer){\r\n            // register directory and sub-directories\r\n        \ttry{\r\n            Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n                @Override\r\n                public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\r\n                {\r\n                \twriter.println(++total+&quot;Registering Path....&quot;+dir.toUri());\r\n                \t\r\n                \ttry{\r\n                \t\tregister(dir,writer);\r\n                \t}catch(IOException ex){\r\n                \t\twriter.println(&quot;Error occurred for Path...&quot;+dir.getFileName());\r\n                \t}catch(Exception ex){\r\n                \t\tSystem.out.println(&quot;error&quot;);\r\n                \t}\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n            });\r\n        \t}catch(Exception ex){\r\n        \t\twriter.println(&quot;Not Registered .....&quot;+ex.getMessage());\r\n        \t}\r\n        }\r\n    \r\n        /**\r\n         * Creates a WatchService and registers the given directory\r\n         */\r\n        WatchDir(Path dir, boolean recursive, PrintWriter writer) throws IOException {\r\n            this.watcher = FileSystems.getDefault().newWatchService();\r\n            this.keys = new HashMap&lt;WatchKey,Path&gt;();\r\n            this.recursive = recursive;\r\n    \r\n            if (recursive) {\r\n            \tSystem.out.println(&quot;Starting Registering Path&quot;);\r\n                writer.println(&quot;Scanning %s ...\\n&quot;+ dir);\r\n                registerAll(dir, writer);\r\n                writer.println(&quot;Done.&quot;);\r\n                System.out.println(&quot;Done&quot;);\r\n                writer.println(&quot;Total Folders in Watch &quot;+ total);\r\n                System.out.println(&quot;Total Folders in Watch &quot;+ total);\r\n            } else {\r\n                register(dir,writer);\r\n            }\r\n    \r\n            // enable trace after initial registration\r\n            this.trace = true;\r\n        }\r\n    \r\n        /**\r\n         * Process all events for keys queued to the watcher\r\n         * @throws UnsupportedEncodingException \r\n         * @throws FileNotFoundException \r\n         */\r\n        void processEvents() throws FileNotFoundException, UnsupportedEncodingException {\r\n        \tPrintWriter writer1 = new PrintWriter(&quot;C:\\\\test\\\\key.txt&quot;);\r\n            for (;;) {\r\n    \r\n                // wait for key to be signalled\r\n                WatchKey key;\r\n                try {\r\n                    key = watcher.take();\r\n                    writer1.println(&quot;Folder is &quot;+key.watchable()+&quot; And Key is &quot;+ key.isValid());\r\n                    System.out.println(&quot;Folder is &quot;+key.watchable()+&quot; And Key is &quot;+ key.isValid());\r\n                } catch (InterruptedException x) {\r\n                \twriter1.println(&quot;Interupped Exception.........&quot;);\r\n                    return;\r\n                }\r\n    \r\n                Path dir = keys.get(key);\r\n                if (dir == null) {\r\n                    writer1.println(&quot;WatchKey not recognized!!&quot;);\r\n                    continue;\r\n                }\r\n    \r\n                for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\r\n                    WatchEvent.Kind kind = event.kind();\r\n    \r\n                    // TBD - provide example of how OVERFLOW event is handled\r\n                    if (kind == OVERFLOW) {\r\n                    \twriter1.println(&quot;Overflow event is caught.&quot;);\r\n                        continue;\r\n                    }\r\n    \r\n                    // Context for directory entry event is the file name of entry\r\n                    WatchEvent&lt;Path&gt; ev = cast(event);\r\n                    Path name = ev.context();\r\n                    Path child = dir.resolve(name);\r\n    \r\n                    // print out event\r\n                    System.out.format(&quot;%s: %s\\n&quot;, event.kind().name(), child);\r\n                    writer1.println(&quot;Event Kind is &quot;+event.kind().name() +&quot; And Name is &quot;+child);\r\n    \r\n                    // if directory is created, and watching recursively, then\r\n                    // register it and its sub-directories\r\n                    if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\r\n                        try {\r\n                            if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\r\n                                registerAll(child, writer1);\r\n                            }\r\n                        } catch (Exception x) {\r\n                            // ignore to keep sample readbale\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                // reset key and remove from set if directory no longer accessible\r\n                boolean valid = key.reset();\r\n                if (!valid) {\r\n                    keys.remove(key);\r\n    \r\n                    // all directories are inaccessible\r\n                    if (keys.isEmpty()) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void usage() {\r\n            System.err.println(&quot;usage: java WatchDir [-r] dir&quot;);\r\n            System.exit(-1);\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // register directory and process its events\r\n        \tPrintWriter writer = new PrintWriter(&quot;C:\\\\test\\\\watch.txt&quot;);\r\n        \tPath dir = Paths.get(&quot;\\\\\\\\Server1\\\\Shared Folder\\\\test&quot;);\r\n            new WatchDir(dir, true,writer).processEvents();\r\n        }\r\n    }\r\n\r\nI have tried this with JDK8 and JDK 11 both are giving the same issue.\r\n","title":"Java Watch Service cannot watch more than 50-60 folders defined as UNC Path in Hierarchy","body":"<p>I have been trying to watch folders through UNC. There are a lot of folders in the main folder. When I run the watch service it is registering all the folders with watch service. After all these folders are registered the watch service receives the events with Invalid key i-e key.isValid() returns false. And at this moment the particular folder is excluded from watch. I have reset the key but it is also giving me false. In short I am unable to watch for those folders which are excluded from key. I even tried to re register the folders but that again generates the invalid key and cannot be watched. I have tried this with normal folders in the same machine. They are working fine. Please help me if I am missing something. If I limit the folders to around 50-60 watch service doesn't receive any invalid key event and everything is working fine.</p>\n\n<p>This is the code that will create number of folders.</p>\n\n<pre><code>import java.io.File;\n\npublic class CreateDir {\n    public static void main(String args[]){\n        for(int j=0; j&lt;1000; j++){\n            String folderName = \"Folder\"+j;\n            new File(\"\\\\\\\\Server2\\\\Shared Folder\\\\test\\\\\" + folderName + \"\\\\\" + folderName + \"_Folder1\" + \"\\\\\" + folderName + \"_Folder2\" + \"\\\\\"\n                    + folderName + \"_Folder3\" + \"\\\\\" + folderName + \"_Folder4\" + \"\\\\\" + folderName + \"_Folder5\"+\"\\\\\"\n                    + folderName + \"_Folder6\" + \"\\\\\" + folderName + \"_Folder7\" + \"\\\\\" + folderName + \"_Folder8\" + \"\\\\\"\n                    + folderName + \"_Folder9\" + \"\\\\\" + folderName + \"_Folder10\").mkdirs();\n        }\n\n    }\n}\n</code></pre>\n\n<p>This is the class that is actually watching these UNC Paths and giving information regarding events.</p>\n\n<pre><code>import java.nio.file.*;\nimport static java.nio.file.StandardWatchEventKinds.*;\nimport static java.nio.file.LinkOption.*;\nimport java.nio.file.attribute.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class WatchDir {\n\n    private final WatchService watcher;\n    private final Map&lt;WatchKey,Path&gt; keys;\n    private final boolean recursive;\n    private boolean trace = false;\n    private int total = 0;\n\n    @SuppressWarnings(\"unchecked\")\n    static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\n        return (WatchEvent&lt;T&gt;)event;\n    }\n\n    /**\n     * Register the given directory with the WatchService\n     */\n    private void register(Path dir, PrintWriter writer) throws IOException {\n        WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\n        if (trace) {\n            Path prev = keys.get(key);\n            if (prev == null) {\n                writer.println(\"register:\"+dir);\n            } else {\n                if (!dir.equals(prev)) {\n                    writer.println(\"update.........\");\n                }\n            }\n        }\n        keys.put(key, dir);\n    }\n\n    /**\n     * Register the given directory, and all its sub-directories, with the\n     * WatchService.\n     */\n    private void registerAll(final Path start, PrintWriter writer){\n        // register directory and sub-directories\n        try{\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\n            {\n                writer.println(++total+\"Registering Path....\"+dir.toUri());\n\n                try{\n                    register(dir,writer);\n                }catch(IOException ex){\n                    writer.println(\"Error occurred for Path...\"+dir.getFileName());\n                }catch(Exception ex){\n                    System.out.println(\"error\");\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n        }catch(Exception ex){\n            writer.println(\"Not Registered .....\"+ex.getMessage());\n        }\n    }\n\n    /**\n     * Creates a WatchService and registers the given directory\n     */\n    WatchDir(Path dir, boolean recursive, PrintWriter writer) throws IOException {\n        this.watcher = FileSystems.getDefault().newWatchService();\n        this.keys = new HashMap&lt;WatchKey,Path&gt;();\n        this.recursive = recursive;\n\n        if (recursive) {\n            System.out.println(\"Starting Registering Path\");\n            writer.println(\"Scanning %s ...\\n\"+ dir);\n            registerAll(dir, writer);\n            writer.println(\"Done.\");\n            System.out.println(\"Done\");\n            writer.println(\"Total Folders in Watch \"+ total);\n            System.out.println(\"Total Folders in Watch \"+ total);\n        } else {\n            register(dir,writer);\n        }\n\n        // enable trace after initial registration\n        this.trace = true;\n    }\n\n    /**\n     * Process all events for keys queued to the watcher\n     * @throws UnsupportedEncodingException \n     * @throws FileNotFoundException \n     */\n    void processEvents() throws FileNotFoundException, UnsupportedEncodingException {\n        PrintWriter writer1 = new PrintWriter(\"C:\\\\test\\\\key.txt\");\n        for (;;) {\n\n            // wait for key to be signalled\n            WatchKey key;\n            try {\n                key = watcher.take();\n                writer1.println(\"Folder is \"+key.watchable()+\" And Key is \"+ key.isValid());\n                System.out.println(\"Folder is \"+key.watchable()+\" And Key is \"+ key.isValid());\n            } catch (InterruptedException x) {\n                writer1.println(\"Interupped Exception.........\");\n                return;\n            }\n\n            Path dir = keys.get(key);\n            if (dir == null) {\n                writer1.println(\"WatchKey not recognized!!\");\n                continue;\n            }\n\n            for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\n                WatchEvent.Kind kind = event.kind();\n\n                // TBD - provide example of how OVERFLOW event is handled\n                if (kind == OVERFLOW) {\n                    writer1.println(\"Overflow event is caught.\");\n                    continue;\n                }\n\n                // Context for directory entry event is the file name of entry\n                WatchEvent&lt;Path&gt; ev = cast(event);\n                Path name = ev.context();\n                Path child = dir.resolve(name);\n\n                // print out event\n                System.out.format(\"%s: %s\\n\", event.kind().name(), child);\n                writer1.println(\"Event Kind is \"+event.kind().name() +\" And Name is \"+child);\n\n                // if directory is created, and watching recursively, then\n                // register it and its sub-directories\n                if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\n                    try {\n                        if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\n                            registerAll(child, writer1);\n                        }\n                    } catch (Exception x) {\n                        // ignore to keep sample readbale\n                    }\n                }\n            }\n\n            // reset key and remove from set if directory no longer accessible\n            boolean valid = key.reset();\n            if (!valid) {\n                keys.remove(key);\n\n                // all directories are inaccessible\n                if (keys.isEmpty()) {\n                    break;\n                }\n            }\n        }\n    }\n\n    static void usage() {\n        System.err.println(\"usage: java WatchDir [-r] dir\");\n        System.exit(-1);\n    }\n\n    public static void main(String[] args) throws IOException {\n        // register directory and process its events\n        PrintWriter writer = new PrintWriter(\"C:\\\\test\\\\watch.txt\");\n        Path dir = Paths.get(\"\\\\\\\\Server1\\\\Shared Folder\\\\test\");\n        new WatchDir(dir, true,writer).processEvents();\n    }\n}\n</code></pre>\n\n<p>I have tried this with JDK8 and JDK 11 both are giving the same issue.</p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1511766061,"post_id":47505374,"comment_id":81966648,"body_markdown":"The program has stopped running, so there are no variables anymore. If the breakpoint never breaks, then the code stops running *before* getting to that point. Perhaps it threw an exception and you should look at the program output.","body":"The program has stopped running, so there are no variables anymore. If the breakpoint never breaks, then the code stops running <i>before</i> getting to that point. Perhaps it threw an exception and you should look at the program output."},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511766098,"post_id":47505374,"comment_id":81966664,"body_markdown":"Whats the difference to your old question? [Eclipse debug execute Java program without stopping at breakpoint](https://stackoverflow.com/q/47483566/8097737)","body":"Whats the difference to your old question? <a href=\"https://stackoverflow.com/q/47483566/8097737\">Eclipse debug execute Java program without stopping at breakpoint</a>"},{"owner":{"account_id":2629417,"reputation":812,"user_id":2275765,"display_name":"Greg H"},"score":0,"creation_date":1511766104,"post_id":47505374,"comment_id":81966668,"body_markdown":"Are you running with Debug as or Run as? Starting with Run won&#39;t attach the debugger.","body":"Are you running with Debug as or Run as? Starting with Run won&#39;t attach the debugger."},{"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"score":0,"creation_date":1511766390,"post_id":47505374,"comment_id":81966768,"body_markdown":"@Andreas Here i cannot understand why my code won&#39;t break at breakpoint ?","body":"@Andreas Here i cannot understand why my code won&#39;t break at breakpoint ?"},{"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"score":0,"creation_date":1511766443,"post_id":47505374,"comment_id":81966794,"body_markdown":"@GregH I did it with debug as","body":"@GregH I did it with debug as"},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511771633,"post_id":47505374,"comment_id":81968961,"body_markdown":"@maheshbabu Read and follow this tutorial: [Java Debugging with Eclipse](http://www.vogella.com/tutorials/EclipseDebugging/article.html). If you still have the problem, edit your post to provide a step by step explanation what you want, what you have done and what doesn&#39;t work as intended. By the way your breakpoint looks odd, i can&#39;t find the icon (crossed out `T`) on [JDT Icons](http://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-icons.htm).","body":"@maheshbabu Read and follow this tutorial: <a href=\"http://www.vogella.com/tutorials/EclipseDebugging/article.html\" rel=\"nofollow noreferrer\">Java Debugging with Eclipse</a>. If you still have the problem, edit your post to provide a step by step explanation what you want, what you have done and what doesn&#39;t work as intended. By the way your breakpoint looks odd, i can&#39;t find the icon (crossed out <code>T</code>) on <a href=\"http://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-icons.htm\" rel=\"nofollow noreferrer\">JDT Icons</a>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1511804216,"post_id":47505374,"comment_id":81989421,"body_markdown":"The breakpoint icon looks like it&#39;s conditioned on a [Trigger Point breakpoint](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm) (it has a `T` with a slash) located outside the viewable code. Try removing *all* breakpoints, then re-add the one you want. The breakpoint icon should be a circle with no markers.","body":"The breakpoint icon looks like it&#39;s conditioned on a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"nofollow noreferrer\">Trigger Point breakpoint</a> (it has a <code>T</code> with a slash) located outside the viewable code. Try removing <i>all</i> breakpoints, then re-add the one you want. The breakpoint icon should be a circle with no markers."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1511804444,"post_id":47505374,"comment_id":81989549,"body_markdown":"@devpuh A breakpoint with a `T` is a [Trigger Point](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm), and when one of those exist, all other breakpoints are marked with a **cut `T`** (like the one in the question), to show that they won&#39;t fire until the Trigger Point has been reached. OP has probably been playing with breakpoints and has marked another breakpoint elsewhere as a Trigger Point, thereby *disabled* all triggers, since code never reaches the trigger point.","body":"@devpuh A breakpoint with a <code>T</code> is a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"nofollow noreferrer\">Trigger Point</a>, and when one of those exist, all other breakpoints are marked with a <b>cut <code>T</code></b> (like the one in the question), to show that they won&#39;t fire until the Trigger Point has been reached. OP has probably been playing with breakpoints and has marked another breakpoint elsewhere as a Trigger Point, thereby <i>disabled</i> all triggers, since code never reaches the trigger point."},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511850374,"post_id":47505374,"comment_id":82006471,"body_markdown":"@Andreas I still use a old version of eclipse and haven&#39;t seen any Trigger Point and no documentation has mention it. I should definitely read the eclipse news, for example [Debugging the Eclipse IDE for Java Developers](https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php). Also your comment is the answer to the question.","body":"@Andreas I still use a old version of eclipse and haven&#39;t seen any Trigger Point and no documentation has mention it. I should definitely read the eclipse news, for example <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"nofollow noreferrer\">Debugging the Eclipse IDE for Java Developers</a>. Also your comment is the answer to the question."},{"owner":{"account_id":2142316,"reputation":163,"user_id":1900683,"display_name":"Afser2000"},"score":0,"creation_date":1593281597,"post_id":47505374,"comment_id":110727138,"body_markdown":"Be sure to check if &#39;Skip all Breakpoints&#39; toggle is not switched on by mistake in Breakpoints view in Eclipse.","body":"Be sure to check if &#39;Skip all Breakpoints&#39; toggle is not switched on by mistake in Breakpoints view in Eclipse."}],"answers":[{"tags":[],"owner":{"display_name":"user8097737"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511878033,"creation_date":1511854166,"answer_id":47526177,"question_id":47505374,"body_markdown":"[Andreas](https://stackoverflow.com/questions/47505374/java-application-debug-in-eclipse#comment81989421_47505374) has already answered the question, your Problem is cause by a [`Trigger Point`](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm).  \r\n(These are introduced in Eclipse Oxygen)\r\n\r\n\r\nIn your workspace is at least one breakpoint defined as a `Trigger Point` (Icon: [![Trigger Point Icon][1]][1]), therefore all other breakpoints (Icon: [![Suppressed Breakpoint Icon][2]][2]) are suppressed as long as no `Trigger Point` is hit.\r\n\r\nUnfortunately you have probably defined somewhere in your workspace a `Trigger Point` which is never triggered (or not before the other breakpoints) so eclipse would never stop.\r\n\r\nTo fix this you can disable all `Trigger Points` or remove all breakpoints and only set those which you really need.\r\n\r\n---\r\n\r\nHere is a example for a misused `Trigger Point`:\r\n[![Workspace with unreached Trigger Point][3]][3]\r\n\r\nAs you can see the Breakpoint on line 10 is defined as a `Trigger Point` but is in a private method which is never called, therefore the Breakpoint at line 6 will never stop the program.\r\n\r\nNow we just disable the faulty Breakpoint at line 10 and eclipse will stop as intended on line 6.\r\n\r\n[![Workspace with unreached disabled Trigger Point][4]][4]\r\n\r\n---\r\nAlso read [Debugging the Eclipse IDE for Java Developers](https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php) for the new debugging functions in Eclipse Oxygen.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXxf1.jpg\r\n  [2]: https://i.stack.imgur.com/xfwFM.jpg\r\n  [3]: https://i.stack.imgur.com/4DACl.jpg\r\n  [4]: https://i.stack.imgur.com/bDYL3.jpg","title":"Java breakpoint, annotated with a crossed out T, fails to trigger in Eclipse","body":"<p><a href=\"https://stackoverflow.com/questions/47505374/java-application-debug-in-eclipse#comment81989421_47505374\">Andreas</a> has already answered the question, your Problem is cause by a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"noreferrer\"><code>Trigger Point</code></a>.<br>\n(These are introduced in Eclipse Oxygen)</p>\n\n<p>In your workspace is at least one breakpoint defined as a <code>Trigger Point</code> (Icon: <a href=\"https://i.stack.imgur.com/wXxf1.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wXxf1.jpg\" alt=\"Trigger Point Icon\"></a>), therefore all other breakpoints (Icon: <a href=\"https://i.stack.imgur.com/xfwFM.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xfwFM.jpg\" alt=\"Suppressed Breakpoint Icon\"></a>) are suppressed as long as no <code>Trigger Point</code> is hit.</p>\n\n<p>Unfortunately you have probably defined somewhere in your workspace a <code>Trigger Point</code> which is never triggered (or not before the other breakpoints) so eclipse would never stop.</p>\n\n<p>To fix this you can disable all <code>Trigger Points</code> or remove all breakpoints and only set those which you really need.</p>\n\n<hr>\n\n<p>Here is a example for a misused <code>Trigger Point</code>:\n<a href=\"https://i.stack.imgur.com/4DACl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4DACl.jpg\" alt=\"Workspace with unreached Trigger Point\"></a></p>\n\n<p>As you can see the Breakpoint on line 10 is defined as a <code>Trigger Point</code> but is in a private method which is never called, therefore the Breakpoint at line 6 will never stop the program.</p>\n\n<p>Now we just disable the faulty Breakpoint at line 10 and eclipse will stop as intended on line 6.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bDYL3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bDYL3.jpg\" alt=\"Workspace with unreached disabled Trigger Point\"></a></p>\n\n<hr>\n\n<p>Also read <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"noreferrer\">Debugging the Eclipse IDE for Java Developers</a> for the new debugging functions in Eclipse Oxygen.</p>\n"}],"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1690183242,"creation_date":1511765640,"question_id":47505374,"body_markdown":"![enter image description here][1]\r\n\r\nCan not get variable value in debug view and eclipse can not stop execution at breakpoint \r\n\r\n\r\n    import java.io.*;\r\n    import jxl.*;\r\n    \r\n    public class Excelread {\r\n    \tpublic static void main(String[] args) throws Throwable {\r\n    \t\tString Filename = &quot;C:\\\\library\\\\TestData.xls&quot;;\r\n    \t\tString Sheetname = &quot;Source&quot;;\r\n    \t\tString[][] arrayExcelData = null;\r\n    \t\tFileInputStream fis = new FileInputStream(Filename);\r\n    \t\tWorkbook WB = Workbook.getWorkbook(fis);\r\n    \t\tSheet SH = WB.getSheet(Sheetname);\r\n    \t\tint TotalCol = SH.getColumns();\r\n    \t\tint TotalRow = SH.getRows();\r\n    \t\tSystem.out.println(TotalCol + &quot; &quot; + TotalRow);\r\n    \t\tarrayExcelData = new String[TotalRow][TotalCol];\r\n    \t\tfor (int i = 0; i &lt; TotalRow; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; TotalCol; j++) {\r\n    \t\t\t\tarrayExcelData[i][j] = SH.getCell(j, i).getContents();\r\n    \t\t\t\tSystem.out.print(arrayExcelData[i][j] + &quot;\\t&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J4Ahy.png","title":"Java breakpoint, annotated with a crossed out T, fails to trigger in Eclipse","body":"<p><img src=\"https://i.stack.imgur.com/J4Ahy.png\" alt=\"enter image description here\"></p>\n\n<p>Can not get variable value in debug view and eclipse can not stop execution at breakpoint </p>\n\n<pre><code>import java.io.*;\nimport jxl.*;\n\npublic class Excelread {\n    public static void main(String[] args) throws Throwable {\n        String Filename = \"C:\\\\library\\\\TestData.xls\";\n        String Sheetname = \"Source\";\n        String[][] arrayExcelData = null;\n        FileInputStream fis = new FileInputStream(Filename);\n        Workbook WB = Workbook.getWorkbook(fis);\n        Sheet SH = WB.getSheet(Sheetname);\n        int TotalCol = SH.getColumns();\n        int TotalRow = SH.getRows();\n        System.out.println(TotalCol + \" \" + TotalRow);\n        arrayExcelData = new String[TotalRow][TotalCol];\n        for (int i = 0; i &lt; TotalRow; i++) {\n            for (int j = 0; j &lt; TotalCol; j++) {\n                arrayExcelData[i][j] = SH.getCell(j, i).getContents();\n                System.out.print(arrayExcelData[i][j] + \"\\t\");\n            }\n            System.out.println();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1689975561,"post_id":76741370,"comment_id":135293778,"body_markdown":"What does 13 mean? Is it `&quot;create table&quot;.length()`? If so, then do that.","body":"What does 13 mean? Is it <code>&quot;create table&quot;.length()</code>? If so, then do that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689975660,"post_id":76741370,"comment_id":135293796,"body_markdown":"Title: &quot;get index of last character in the string&quot; -&gt; `string.length()-1` - but I do not understand how the title is related to the question","body":"Title: &quot;get index of last character in the string&quot; -&gt; <code>string.length()-1</code> - but I do not understand how the title is related to the question"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1689975677,"post_id":76741370,"comment_id":135293798,"body_markdown":"Also, be very careful about building SQL statements in a string by manually appending strings together. This potentially makes your code vulnerable to a SQL injection attack. Where does the value of `db` come from? If the user can enter anything they want here, then then can add any code they want to your query, such as drop table, insert any data they want, etc.","body":"Also, be very careful about building SQL statements in a string by manually appending strings together. This potentially makes your code vulnerable to a SQL injection attack. Where does the value of <code>db</code> come from? If the user can enter anything they want here, then then can add any code they want to your query, such as drop table, insert any data they want, etc."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689982305,"post_id":76741370,"comment_id":135294399,"body_markdown":"Your question is unclear; please show variable input and desired output.","body":"Your question is unclear; please show variable input and desired output."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1689989646,"post_id":76741370,"comment_id":135294757,"body_markdown":"I don&#39;t get it. Can anyone create a table in your case? Is the `CREATE TABLE` statement auto-generated? Are the table and field names variables or something? If not...just fix your SQL string instead of writing code to do that for you. If so...then fix the code that generates the SQL String to ensure table and field names are handled correctly.","body":"I don&#39;t get it. Can anyone create a table in your case? Is the <code>CREATE TABLE</code> statement auto-generated? Are the table and field names variables or something? If not...just fix your SQL string instead of writing code to do that for you. If so...then fix the code that generates the SQL String to ensure table and field names are handled correctly."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689985891,"post_id":76741561,"comment_id":135294598,"body_markdown":"but will `PreaparedStatement` placeholders also work for schema (database) name? (as being done in questions code) It does not work for the table or for column names","body":"but will <code>PreaparedStatement</code> placeholders also work for schema (database) name? (as being done in questions code) It does not work for the table or for column names"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690013937,"post_id":76741561,"comment_id":135296173,"body_markdown":"You can use a _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ instance also.","body":"You can use a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></i> instance also."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1690017260,"post_id":76741561,"comment_id":135296434,"body_markdown":"I&#39;ve updated my answer and included `Formatter` and some suggestions regarding placeholders for database names and columns.","body":"I&#39;ve updated my answer and included <code>Formatter</code> and some suggestions regarding placeholders for database names and columns."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1690187345,"post_id":76741561,"comment_id":135312986,"body_markdown":"I&#39;ve adjusted the wording ;)","body":"I&#39;ve adjusted the wording ;)"}],"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690182610,"creation_date":1689978275,"answer_id":76741561,"question_id":76741370,"body_markdown":"Two things here:\r\n 1. Yes, there is a simple way to insert a string within a string\r\n 2. No, you generally should **NOT** use string concatenation or the options provided for solving *(1)* when you create a database query and use user provided data to build this query because that is a serious security issue as it makes you vulnerable to [SQL injection](https://owasp.org/www-community/attacks/SQL_Injection). You can e.g. use [`PreparedStatement`s](https://www.geeksforgeeks.org/how-to-use-preparedstatement-in-java/) in Java to solve that issue.\r\n\r\n## Insert string\r\nHere you have a couple of options:\r\n\r\n&gt; This is not an exhaustive list, but covers the most important/ common ways to do this.\r\n\r\n### Concatenation\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(&quot;My name is &quot; + myName + &quot; and I welcome you!&quot;); // My name is John and I welcome you!\r\n```\r\n\r\n### [`String.format()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)) (since Java 1.5)\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(String.format(&quot;My name is %s and I welcome you!&quot;, myName)); // My name is John and I welcome you!\r\n```\r\n\r\nYou can actually in this case use `System.out.printf()` to combine those two calls (You need to add a new line though using `%n` or `\\n`):\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.printf(&quot;My name is %s and I welcome you!%n&quot;, myName); // My name is John and I welcome you!\r\n```\r\n\r\n\r\n### [`.formatted()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)) (since Java 15)\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(&quot;My name is %s and I welcome you!&quot;.formatted(myName)); // My name is John and I welcome you!\r\n```\r\n\r\n### [`Formatter`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html) (since Java 1.5)\r\n\r\nHere you can use an [`Appendable`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Appendable.html) (and others) which makes it possible to use a `StringBuilder` and append many formatted strings.\r\n```java\r\nStringBuilder sb = new StringBuilder();\r\nFormatter formatter = new Formatter(sb);\r\nString myName = &quot;John&quot;;\r\nint myAge = 43;\r\nformatter.format(&quot;My name is %s. &quot;, myName);\r\nformatter.format(&quot;I am %d years old.&quot;, myAge);\r\nSystem.out.println(sb); // My name is John. I am 43 years old\r\n``` \r\n\r\nGenerally it&#39;s a good idea to familiarize yourself with [format specifiers](https://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm).\r\n\r\n## Building a SQL query\r\nThe aforementioned options should generally not be used to create SQL queries using user provided data as this will make your application vulnerable to SQL injection.\r\n\r\nPlease head over to [OWASP](https://owasp.org/www-community/attacks/SQL_Injection) and read through the description and examples of SQL injection attacks so you get an understanding of why that&#39;s vital. It&#39;s fairly simple to understand but also very simple to perform the attack, that&#39;s why you will almost certainly be exposed to it (if your software is out in the world of course). \r\n\r\nHowever, the good news is, it&#39;s also easy to prevent an successful attack using prepared statements like e.g.\r\n```java\r\nConnection connection = DriverManager.getConnection(&quot;replace with valid URL to database&quot;);\r\nString customerId = &quot;x123&quot;;\r\nString query = &quot;SELECT firstname, lastname FROM customers WHERE id = ?&quot;;\r\nPreparedStatement pstmt = connection.prepareStatement(query);\r\n// provide position (1-based) and value you want to have instead of ?\r\npstmt.setString(1, customerId);\r\nResultSet results = pstmt.executeQuery();\r\n```\r\n\r\n&gt; You will need to add some error/ exception handling which I left out by reason of brevity.\r\n\r\n&gt; **Important**: Performing a SQL attack is **illegal**, so don&#39;t just go visit websites and check whether they`re vulnerable to SQL injection. Use your own local progams/ sites or [OWASP WebGoat](https://owasp.org/www-project-webgoat/) which is specifically created for this purpose.\r\n\r\n### Edit: \r\nAs outlined in the comments one limitation is that you cannot use `PreparedStatment`s for column names or table names, so how to work around that?\r\n\r\nFirst, let me start by saying that there is one important detail I was missing, which is obvious though. You can only have a SQL injection when the value is supplied by an malicious user, therefore if you can guarantee that the query can be created without user input you can use string concatenation and you should be fine.\r\n\r\nHowever, I personally wouldn&#39;t trust that, since you have to trust e.g. your fellow colleagues to use a method like `public ResultSet selectFromColumn(String columnName)` correctly (without the `columnName` being supplied by a user). So the only option you have left is to validate yourself. \r\n\r\nOne option here would be **whitelisting** i. e. have a list of valid column names that can safely be used. Typically database systems have a table which stores metadata information about schemas and tables (e.g. `information_schema.tables` in Postgres), so it&#39;s easy to get all valid column names of a table and check against these.\r\n\r\nOf course it also helps if your database user is setup properly following the [Need to know principle](https://en.wikipedia.org/wiki/Need_to_know) and you have suffient logging as well as authentication and authorization setup properly.\r\n\r\nLast but not least, it all depends on your application. Is it gonna be publicly exposed? Who are going to be the users? What&#39;s the purpose of the application? If it&#39;s for a simple application that should help students learn SQL a well setup database user is probably enough as you want students to be able to mess around with the data in the database system, but maybe do not give them administrative privileges or access to system-relevant tables. ","title":"Is there a way to get index of last character in the string","body":"<p>Two things here:</p>\n<ol>\n<li>Yes, there is a simple way to insert a string within a string</li>\n<li>No, you generally should <strong>NOT</strong> use string concatenation or the options provided for solving <em>(1)</em> when you create a database query and use user provided data to build this query because that is a serious security issue as it makes you vulnerable to <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">SQL injection</a>. You can e.g. use <a href=\"https://www.geeksforgeeks.org/how-to-use-preparedstatement-in-java/\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code>s</a> in Java to solve that issue.</li>\n</ol>\n<h2>Insert string</h2>\n<p>Here you have a couple of options:</p>\n<blockquote>\n<p>This is not an exhaustive list, but covers the most important/ common ways to do this.</p>\n</blockquote>\n<h3>Concatenation</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(&quot;My name is &quot; + myName + &quot; and I welcome you!&quot;); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format()</code></a> (since Java 1.5)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(String.format(&quot;My name is %s and I welcome you!&quot;, myName)); // My name is John and I welcome you!\n</code></pre>\n<p>You can actually in this case use <code>System.out.printf()</code> to combine those two calls (You need to add a new line though using <code>%n</code> or <code>\\n</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.printf(&quot;My name is %s and I welcome you!%n&quot;, myName); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>.formatted()</code></a> (since Java 15)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(&quot;My name is %s and I welcome you!&quot;.formatted(myName)); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a> (since Java 1.5)</h3>\n<p>Here you can use an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Appendable.html\" rel=\"nofollow noreferrer\"><code>Appendable</code></a> (and others) which makes it possible to use a <code>StringBuilder</code> and append many formatted strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder();\nFormatter formatter = new Formatter(sb);\nString myName = &quot;John&quot;;\nint myAge = 43;\nformatter.format(&quot;My name is %s. &quot;, myName);\nformatter.format(&quot;I am %d years old.&quot;, myAge);\nSystem.out.println(sb); // My name is John. I am 43 years old\n</code></pre>\n<p>Generally it's a good idea to familiarize yourself with <a href=\"https://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\" rel=\"nofollow noreferrer\">format specifiers</a>.</p>\n<h2>Building a SQL query</h2>\n<p>The aforementioned options should generally not be used to create SQL queries using user provided data as this will make your application vulnerable to SQL injection.</p>\n<p>Please head over to <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">OWASP</a> and read through the description and examples of SQL injection attacks so you get an understanding of why that's vital. It's fairly simple to understand but also very simple to perform the attack, that's why you will almost certainly be exposed to it (if your software is out in the world of course).</p>\n<p>However, the good news is, it's also easy to prevent an successful attack using prepared statements like e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection connection = DriverManager.getConnection(&quot;replace with valid URL to database&quot;);\nString customerId = &quot;x123&quot;;\nString query = &quot;SELECT firstname, lastname FROM customers WHERE id = ?&quot;;\nPreparedStatement pstmt = connection.prepareStatement(query);\n// provide position (1-based) and value you want to have instead of ?\npstmt.setString(1, customerId);\nResultSet results = pstmt.executeQuery();\n</code></pre>\n<blockquote>\n<p>You will need to add some error/ exception handling which I left out by reason of brevity.</p>\n</blockquote>\n<blockquote>\n<p><strong>Important</strong>: Performing a SQL attack is <strong>illegal</strong>, so don't just go visit websites and check whether they`re vulnerable to SQL injection. Use your own local progams/ sites or <a href=\"https://owasp.org/www-project-webgoat/\" rel=\"nofollow noreferrer\">OWASP WebGoat</a> which is specifically created for this purpose.</p>\n</blockquote>\n<h3>Edit:</h3>\n<p>As outlined in the comments one limitation is that you cannot use <code>PreparedStatment</code>s for column names or table names, so how to work around that?</p>\n<p>First, let me start by saying that there is one important detail I was missing, which is obvious though. You can only have a SQL injection when the value is supplied by an malicious user, therefore if you can guarantee that the query can be created without user input you can use string concatenation and you should be fine.</p>\n<p>However, I personally wouldn't trust that, since you have to trust e.g. your fellow colleagues to use a method like <code>public ResultSet selectFromColumn(String columnName)</code> correctly (without the <code>columnName</code> being supplied by a user). So the only option you have left is to validate yourself.</p>\n<p>One option here would be <strong>whitelisting</strong> i. e. have a list of valid column names that can safely be used. Typically database systems have a table which stores metadata information about schemas and tables (e.g. <code>information_schema.tables</code> in Postgres), so it's easy to get all valid column names of a table and check against these.</p>\n<p>Of course it also helps if your database user is setup properly following the <a href=\"https://en.wikipedia.org/wiki/Need_to_know\" rel=\"nofollow noreferrer\">Need to know principle</a> and you have suffient logging as well as authentication and authorization setup properly.</p>\n<p>Last but not least, it all depends on your application. Is it gonna be publicly exposed? Who are going to be the users? What's the purpose of the application? If it's for a simple application that should help students learn SQL a well setup database user is probably enough as you want students to be able to mess around with the data in the database system, but maybe do not give them administrative privileges or access to system-relevant tables.</p>\n"}],"owner":{"account_id":1927109,"reputation":127,"user_id":1737273,"accept_rate":0,"display_name":"vasu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690182610,"creation_date":1689975331,"question_id":76741370,"body_markdown":"I need to insert a String in between a String, is there a better way of doing it, currently I am doing like below which works fine, but I dont want to add **+ 13**.\r\n\r\n    String query = &quot;Create table asdas aaa (int(5), bbb varchar2(20));&quot;;\r\n\r\n        int i = query.toLowerCase().indexOf(&quot;create table&quot;);\r\n        int lengthOfCreateTable = 13;\r\n    StringBuilder sb = new StringBuilder(query);\r\n        if(i != -1)\r\n        {\r\n            StringBuilder appendStr = new StringBuilder().append(&quot;&#39;&quot;).append(db).append(&quot;&#39;&quot;).append(&quot;.&quot;);\r\n            sb.insert(i + lengthOfCreateTable,  appendStr);\r\n        }","title":"Is there a way to get index of last character in the string","body":"<p>I need to insert a String in between a String, is there a better way of doing it, currently I am doing like below which works fine, but I dont want to add <strong>+ 13</strong>.</p>\n<pre><code>String query = &quot;Create table asdas aaa (int(5), bbb varchar2(20));&quot;;\n\n    int i = query.toLowerCase().indexOf(&quot;create table&quot;);\n    int lengthOfCreateTable = 13;\nStringBuilder sb = new StringBuilder(query);\n    if(i != -1)\n    {\n        StringBuilder appendStr = new StringBuilder().append(&quot;'&quot;).append(db).append(&quot;'&quot;).append(&quot;.&quot;);\n        sb.insert(i + lengthOfCreateTable,  appendStr);\n    }\n</code></pre>\n"},{"tags":["java","arraylist","heap-memory","n-gram"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689841224,"post_id":76727773,"comment_id":135271253,"body_markdown":"What ngram lib are you using? Have you tried to debug your code? \nTry to watch and inspect your memory consumption by using [visualvm](https://visualvm.github.io/).","body":"What ngram lib are you using? Have you tried to debug your code?  Try to watch and inspect your memory consumption by using <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">visualvm</a>."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689841432,"post_id":76727773,"comment_id":135271300,"body_markdown":"The error on `split` sounds like your file has the wrong line breaks, so you read the whole file as one line. Windows uses \\r\\n, Linux uses \\n, Mac uses \\r.","body":"The error on <code>split</code> sounds like your file has the wrong line breaks, so you read the whole file as one line. Windows uses \\r\\n, Linux uses \\n, Mac uses \\r."},{"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"score":0,"creation_date":1689842903,"post_id":76727773,"comment_id":135271636,"body_markdown":"sorry I was not clear, when I set heap space to 8 GB line 68 is &quot;corpus.add(sentence)&quot;, which makes me think it is something to do with ArrayList. When I increase the heap space which is second trace I provided line 63 IS THE split but in my understanding which may be lacking the buffered reader does read one line than I &quot;split&quot; that line","body":"sorry I was not clear, when I set heap space to 8 GB line 68 is &quot;corpus.add(sentence)&quot;, which makes me think it is something to do with ArrayList. When I increase the heap space which is second trace I provided line 63 IS THE split but in my understanding which may be lacking the buffered reader does read one line than I &quot;split&quot; that line"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843663,"post_id":76727773,"comment_id":135271757,"body_markdown":"You can increase the speed and improve the memory consumption by initializing your `ArrayList` variables with reasonable sizes. The default is 10 and especially for your `corpus` it should equal the line number in your file. Otherwise the VM has to copy the `ArrayList` often when it grows.","body":"You can increase the speed and improve the memory consumption by initializing your <code>ArrayList</code> variables with reasonable sizes. The default is 10 and especially for your <code>corpus</code> it should equal the line number in your file. Otherwise the VM has to copy the <code>ArrayList</code> often when it grows."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843670,"post_id":76727773,"comment_id":135271760,"body_markdown":"I suggest you step through your program in debug mode and look at the `line` value.","body":"I suggest you step through your program in debug mode and look at the <code>line</code> value."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843863,"post_id":76727773,"comment_id":135271793,"body_markdown":"Another memory optimization: Instead of the `while` loop do  `reader.lines().map(line -&gt; line.split(&quot; &quot;)).map(Arrays::asList).forEach(copus::add);`","body":"Another memory optimization: Instead of the <code>while</code> loop do  <code>reader.lines().map(line -&gt; line.split(&quot; &quot;)).map(Arrays::asList).forEach(copus::add);</code>"},{"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"score":0,"creation_date":1689847177,"post_id":76727773,"comment_id":135272463,"body_markdown":"@Sascha I did and indeed it is more than &quot;one&quot; line but it still should be processable because at the most it is 5 lines, now I did not check the whole file but it seemed consistent in lines","body":"@Sascha I did and indeed it is more than &quot;one&quot; line but it still should be processable because at the most it is 5 lines, now I did not check the whole file but it seemed consistent in lines"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689852339,"post_id":76727773,"comment_id":135273418,"body_markdown":"Did you give the `corpus` variable an appropriate size, like `ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;(1_000_000);`","body":"Did you give the <code>corpus</code> variable an appropriate size, like <code>ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;(1_000_000);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690182531,"creation_date":1690182531,"answer_id":76752131,"question_id":76727773,"body_markdown":"Alright here is how I &quot;solved&quot; the problem I set an initial array size according with @Sascha &#39;s response but it still got problems so I divided the problem and merged them later on \r\n \r\n\r\n    public static void getCorpus(String output) {\r\n        int count = 0;\r\n        int countMain = 0;\r\n        try (BufferedReader br = new BufferedReader(\r\n                new FileReader(&quot;path\\to\\corpus&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                count++;\r\n                if (count &gt; ARRAY_SIZE) {\r\n                    NGram nGram = new NGram(corpus, 2);\r\n                    saveNgram(output, nGram, countMain);\r\n                    countMain++;\r\n                    System.out.println(&quot;Clearing ArrayList &quot; + countMain);\r\n                    corpus.clear();\r\n                    count = 0;\r\n                }\r\n                String[] tokens = line.split(&quot; &quot;);\r\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\r\n                for (String token : tokens) {\r\n                    sentence.add(token);\r\n                }\r\n                corpus.add(sentence);\r\n            }\r\n            countMain++;\r\n            NGram nGram = new NGram(corpus, 2);\r\n            corpus.clear();\r\n            nGram.saveAsText(output + &quot;final&quot;);\r\n            String outFile = output + &quot;final&quot; + &quot;.txt&quot;;\r\n            FileWriter fWrite = new FileWriter(outFile, StandardCharsets.UTF_8);\r\n            BufferedWriter bfWrite = new BufferedWriter(fWrite);\r\n    \r\n            for (int i = 0; i &lt;= countMain; i++) {\r\n                String path = output + &quot;_part&quot; + i + &quot;.txt&quot;;\r\n    \r\n                mergeNGram(path, outFile, bfWrite);\r\n            }\r\n            fWrite.close();\r\n            bfWrite.close();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\nIt takes a String path to output file after that to save it runs saveNgram which is quite basic as it takes the output concatenate it to add partx to it and saves the NGram \r\n\r\n     private static void saveNgram(String outputPath, NGram nGram, int countMain) {\r\n            String finalPath = outputPath + &quot;_part&quot; + countMain + &quot;.txt&quot;;\r\n            File nFile = new File(finalPath);\r\n            if (!nFile.exists()) {\r\n                nGram.saveAsText(finalPath);\r\n            }\r\n        }\r\n\r\nAt the and if there are any leftover lines saves it again and calls mergeNGram which is just a BufferedReader/Writer to write to the final file \r\n\r\n       private static void mergeNGram(String path, String output, BufferedWriter bfWrite) {\r\n            File inFile = new File(path);\r\n            try (FileReader fRead = new FileReader(inFile, StandardCharsets.UTF_8)) {\r\n                BufferedReader bfRead = new BufferedReader(fRead);\r\n                String Line;\r\n                while ((Line = bfRead.readLine()) != null) {\r\n                    bfWrite.write(Line);\r\n                    bfWrite.write(System.lineSeparator());\r\n                }\r\n                bfWrite.flush();\r\n                bfRead.close();\r\n                fRead.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nIt is nowhere near perfect but it solves my current problem and that is all I can do at the moment, special thanks to @Sascha for the help I am leaving this here so anyone with similar problem can find and adopt  \r\n\r\n","title":"Java heap space error when trying to create an NGram model","body":"<p>Alright here is how I &quot;solved&quot; the problem I set an initial array size according with @Sascha 's response but it still got problems so I divided the problem and merged them later on</p>\n<pre><code>public static void getCorpus(String output) {\n    int count = 0;\n    int countMain = 0;\n    try (BufferedReader br = new BufferedReader(\n            new FileReader(&quot;path\\to\\corpus&quot;))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            count++;\n            if (count &gt; ARRAY_SIZE) {\n                NGram nGram = new NGram(corpus, 2);\n                saveNgram(output, nGram, countMain);\n                countMain++;\n                System.out.println(&quot;Clearing ArrayList &quot; + countMain);\n                corpus.clear();\n                count = 0;\n            }\n            String[] tokens = line.split(&quot; &quot;);\n            ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\n            for (String token : tokens) {\n                sentence.add(token);\n            }\n            corpus.add(sentence);\n        }\n        countMain++;\n        NGram nGram = new NGram(corpus, 2);\n        corpus.clear();\n        nGram.saveAsText(output + &quot;final&quot;);\n        String outFile = output + &quot;final&quot; + &quot;.txt&quot;;\n        FileWriter fWrite = new FileWriter(outFile, StandardCharsets.UTF_8);\n        BufferedWriter bfWrite = new BufferedWriter(fWrite);\n\n        for (int i = 0; i &lt;= countMain; i++) {\n            String path = output + &quot;_part&quot; + i + &quot;.txt&quot;;\n\n            mergeNGram(path, outFile, bfWrite);\n        }\n        fWrite.close();\n        bfWrite.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>It takes a String path to output file after that to save it runs saveNgram which is quite basic as it takes the output concatenate it to add partx to it and saves the NGram</p>\n<pre><code> private static void saveNgram(String outputPath, NGram nGram, int countMain) {\n        String finalPath = outputPath + &quot;_part&quot; + countMain + &quot;.txt&quot;;\n        File nFile = new File(finalPath);\n        if (!nFile.exists()) {\n            nGram.saveAsText(finalPath);\n        }\n    }\n</code></pre>\n<p>At the and if there are any leftover lines saves it again and calls mergeNGram which is just a BufferedReader/Writer to write to the final file</p>\n<pre><code>   private static void mergeNGram(String path, String output, BufferedWriter bfWrite) {\n        File inFile = new File(path);\n        try (FileReader fRead = new FileReader(inFile, StandardCharsets.UTF_8)) {\n            BufferedReader bfRead = new BufferedReader(fRead);\n            String Line;\n            while ((Line = bfRead.readLine()) != null) {\n                bfWrite.write(Line);\n                bfWrite.write(System.lineSeparator());\n            }\n            bfWrite.flush();\n            bfRead.close();\n            fRead.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>It is nowhere near perfect but it solves my current problem and that is all I can do at the moment, special thanks to @Sascha for the help I am leaving this here so anyone with similar problem can find and adopt</p>\n"}],"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76752131,"answer_count":1,"score":0,"last_activity_date":1690182531,"creation_date":1689839716,"question_id":76727773,"body_markdown":"&gt; In part of a larger project I need to create an NGram model using Java which is not optimal nor optional I am using JDK 20 and vs code to run the code. When I try to run the code on vs code I get:\r\n```\r\n`      Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.base/java.util.HashMap.resize(HashMap.java:710)\r\n        at java.base/java.util.HashMap.putVal(HashMap.java:635)\r\n        at java.base/java.util.HashMap.put(HashMap.java:618)\r\n        at Ngram.NGramNode.addNGram(NGramNode.java:277)\r\n        at Ngram.NGramNode.addNGram(NGramNode.java:280)\r\n        at Ngram.NGram.addNGramSentence(NGram.java:157)\r\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:68)\r\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\r\n        at com.glmadu.App.main(App.java:21)`\r\n```\r\nError I did increase the heap space from launch.JSON to 8GB and the corpus file is around 750 MB the code piece is here \r\n\r\n\r\n```\r\nprivate static void getCorpus(String output) {\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;();\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;path/to/corpus&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] tokens = line.split(&quot; &quot;); //line 63\r\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\r\n                for (String token : tokens) {\r\n                    sentence.add(token); // line 68\r\n                }\r\n                corpus.add(sentence);\r\n            }\r\n            NGram&lt;String&gt; nGram = new NGram&lt;&gt;(corpus, 2);\r\n            nGram.saveAsText(output);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nI do not understand how can I still get Heap space after push it to 8GB I tried with 12 and 10 but I get \r\n```\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects\r\n`        at java.base/java.lang.String.split(String.java:3138)\r\n        at java.base/java.lang.String.split(String.java:3212)\r\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:63)\r\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\r\n        at com.glmadu.App.main(App.java:21)\r\n`\r\n```\r\nerror when I do that. I am using vs code to run this. Thanks in advance\r\n\r\nI tried increasing the heap size, I tried reading less lines still got error even when I tried to read first 1000 lines. I tried not saving NGram model and from that I can derive it&#39;s not the NGram modeling but mode like arrays take too much space in memory, also when I checked the memory usage from task manager it sits at 4-5 GB and does not get close to 8 I allocated ","title":"Java heap space error when trying to create an NGram model","body":"<blockquote>\n<p>In part of a larger project I need to create an NGram model using Java which is not optimal nor optional I am using JDK 20 and vs code to run the code. When I try to run the code on vs code I get:</p>\n</blockquote>\n<pre><code>`      Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n        at java.base/java.util.HashMap.resize(HashMap.java:710)\n        at java.base/java.util.HashMap.putVal(HashMap.java:635)\n        at java.base/java.util.HashMap.put(HashMap.java:618)\n        at Ngram.NGramNode.addNGram(NGramNode.java:277)\n        at Ngram.NGramNode.addNGram(NGramNode.java:280)\n        at Ngram.NGram.addNGramSentence(NGram.java:157)\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:68)\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\n        at com.glmadu.App.main(App.java:21)`\n</code></pre>\n<p>Error I did increase the heap space from launch.JSON to 8GB and the corpus file is around 750 MB the code piece is here</p>\n<pre><code>private static void getCorpus(String output) {\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;();\n\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;path/to/corpus&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] tokens = line.split(&quot; &quot;); //line 63\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\n                for (String token : tokens) {\n                    sentence.add(token); // line 68\n                }\n                corpus.add(sentence);\n            }\n            NGram&lt;String&gt; nGram = new NGram&lt;&gt;(corpus, 2);\n            nGram.saveAsText(output);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I do not understand how can I still get Heap space after push it to 8GB I tried with 12 and 10 but I get</p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects\n`        at java.base/java.lang.String.split(String.java:3138)\n        at java.base/java.lang.String.split(String.java:3212)\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:63)\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\n        at com.glmadu.App.main(App.java:21)\n`\n</code></pre>\n<p>error when I do that. I am using vs code to run this. Thanks in advance</p>\n<p>I tried increasing the heap size, I tried reading less lines still got error even when I tried to read first 1000 lines. I tried not saving NGram model and from that I can derive it's not the NGram modeling but mode like arrays take too much space in memory, also when I checked the memory usage from task manager it sits at 4-5 GB and does not get close to 8 I allocated</p>\n"},{"tags":["java","format","decimal"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1690181834,"post_id":76752038,"comment_id":135311973,"body_markdown":"`Locale.GERMAN` should use the desired format.","body":"<code>Locale.GERMAN</code> should use the desired format."}],"answers":[{"tags":[],"owner":{"account_id":27742746,"reputation":61,"user_id":21178886,"display_name":"Piterek237"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690181914,"creation_date":1690181914,"answer_id":76752064,"question_id":76752038,"body_markdown":"Add this\r\n\r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#,###&quot;);\r\n    return decimalFormat.format(number);","title":"convert number to String and separated with dot","body":"<p>Add this</p>\n<pre><code>DecimalFormat decimalFormat = new DecimalFormat(&quot;#,###&quot;);\nreturn decimalFormat.format(number);\n</code></pre>\n"}],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76752064,"answer_count":1,"score":1,"last_activity_date":1690181914,"creation_date":1690181614,"question_id":76752038,"body_markdown":"I want convert number to String and separated with dot like 10000000 to 10.000.000 in java \r\nhow it possible\r\n\r\nthis is work but I  looking for better solution \r\n\r\n\r\n    int number  = 10000000;\r\n    \r\n    NumberFormat format = NumberFormat.getNumberInstance(Locale.US);\r\n                \r\n    System.out.println(format.format(number).replace(&quot;,&quot;,&quot;.&quot;));","title":"convert number to String and separated with dot","body":"<p>I want convert number to String and separated with dot like 10000000 to 10.000.000 in java\nhow it possible</p>\n<p>this is work but I  looking for better solution</p>\n<pre><code>int number  = 10000000;\n\nNumberFormat format = NumberFormat.getNumberInstance(Locale.US);\n            \nSystem.out.println(format.format(number).replace(&quot;,&quot;,&quot;.&quot;));\n</code></pre>\n"},{"tags":["java","maven","telegram-bot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1690182018,"post_id":76752046,"comment_id":135312009,"body_markdown":"&quot;but didn&#39;t worked&quot; meaning what, exactly? Did it throw an exception? Did it behave differently than what you expected? What happened?","body":"&quot;but didn&#39;t worked&quot; meaning what, exactly? Did it throw an exception? Did it behave differently than what you expected? What happened?"},{"owner":{"account_id":25739501,"reputation":11,"user_id":19493711,"display_name":"Lord.Aslan"},"score":0,"creation_date":1690269847,"post_id":76752046,"comment_id":135325836,"body_markdown":"I want to test my bot, I mean to use my pc as locall server (run the project).\nbut I can not. I don&#39;t know what is the problem.\nI&#39;m new to maven projects.","body":"I want to test my bot, I mean to use my pc as locall server (run the project). but I can not. I don&#39;t know what is the problem. I&#39;m new to maven projects."}],"owner":{"account_id":25739501,"reputation":11,"user_id":19493711,"display_name":"Lord.Aslan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690181723,"creation_date":1690181723,"question_id":76752046,"body_markdown":"I have been created a menu for my telegram bot using java maven in netbeans ide. but when i hit run to test it locally from my pc and try it online, it only build my project again.\r\n\r\nmy pom.xml &#128071;\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TelBot&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n        &lt;version&gt;6.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;com.mycompany.telbot.TelBot&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nmy main.java &#128071;\r\n```\r\npackage com.mycompany.telbot;\r\n\r\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n            telegramBotsApi.registerBot(new Bot());\r\n        } catch (TelegramApiException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy bot.java &#128071;\r\n```\r\npackage com.mycompany.telbot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport jdk.nashorn.internal.ir.BreakNode;\r\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardButton;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\r\n\r\npublic class Bot extends TelegramLongPollingBot{\r\n    @Override\r\n    public String getBotUsername() {\r\n        return &quot;-----------&quot;;\r\n    }\r\n    @Override\r\n    public String getBotToken() {\r\n        return &quot;--------------------------------------------&quot;;\r\n    }\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if(update.getMessage().getText().equals(&quot;/start&quot;)){\r\n            MainMenu();\r\n        }\r\n    }\r\n    \r\n    public void MainMenu(){\r\n        ReplyKeyboardMarkup replyKeyboardMarkup = new ReplyKeyboardMarkup();\r\n        replyKeyboardMarkup.setResizeKeyboard(true);\r\n        replyKeyboardMarkup.setSelective(true);\r\n        List&lt;KeyboardRow&gt; keyboardRowList = new ArrayList&lt;&gt;();\r\n        \r\n        KeyboardRow keyboardRow1 = new KeyboardRow();\r\n        KeyboardButton keyboardButton1 = new KeyboardButton();\r\n        keyboardButton1.setText(&quot;Some Text&quot;);\r\n        keyboardRow1.add(keyboardButton1);\r\n        \r\n        KeyboardRow keyboardRow2 = new KeyboardRow();\r\n        KeyboardButton keyboardButton2 = new KeyboardButton();\r\n        keyboardButton2.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton2);\r\n        KeyboardButton keyboardButton3 = new KeyboardButton();\r\n        keyboardButton3.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton3);\r\n        KeyboardButton keyboardButton4 = new KeyboardButton();\r\n        keyboardButton4.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton4);\r\n        \r\n        KeyboardRow keyboardRow3 = new KeyboardRow();\r\n        KeyboardButton keyboardButton5 = new KeyboardButton();\r\n        keyboardButton5.setText(&quot;Some Text&quot;);\r\n        keyboardRow3.add(keyboardButton5);\r\n        \r\n        KeyboardRow keyboardRow4 = new KeyboardRow();\r\n        KeyboardButton keyboardButton6 = new KeyboardButton();\r\n        keyboardButton6.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton6);\r\n        KeyboardButton keyboardButton7 = new KeyboardButton();\r\n        keyboardButton7.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton7);\r\n        KeyboardButton keyboardButton8 = new KeyboardButton();\r\n        keyboardButton8.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton8);\r\n        \r\n        keyboardRowList.add(keyboardRow1);\r\n        keyboardRowList.add(keyboardRow2);\r\n        keyboardRowList.add(keyboardRow3);\r\n        keyboardRowList.add(keyboardRow4);\r\n        replyKeyboardMarkup.setKeyboard(keyboardRowList);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI checked my bot username and api several times, and they are correct.\r\nI tried to run the compiled project (.jar file) using cmd, but didn&#39;t worked.\r\nI checked my network speed, and it&#39;s good.\r\nBy the way telegram is filtered in my country so I&#39;m using proxy &amp; VPN.","title":"How to run Java Telegram Bot","body":"<p>I have been created a menu for my telegram bot using java maven in netbeans ide. but when i hit run to test it locally from my pc and try it online, it only build my project again.</p>\n<p>my pom.xml 👇</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;TelBot&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.mycompany.telbot.TelBot&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my main.java 👇</p>\n<pre><code>package com.mycompany.telbot;\n\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        try {\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n            telegramBotsApi.registerBot(new Bot());\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>my bot.java 👇</p>\n<pre><code>package com.mycompany.telbot;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport jdk.nashorn.internal.ir.BreakNode;\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\nimport org.telegram.telegrambots.meta.api.objects.Update;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardButton;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\n\npublic class Bot extends TelegramLongPollingBot{\n    @Override\n    public String getBotUsername() {\n        return &quot;-----------&quot;;\n    }\n    @Override\n    public String getBotToken() {\n        return &quot;--------------------------------------------&quot;;\n    }\n    @Override\n    public void onUpdateReceived(Update update) {\n        if(update.getMessage().getText().equals(&quot;/start&quot;)){\n            MainMenu();\n        }\n    }\n    \n    public void MainMenu(){\n        ReplyKeyboardMarkup replyKeyboardMarkup = new ReplyKeyboardMarkup();\n        replyKeyboardMarkup.setResizeKeyboard(true);\n        replyKeyboardMarkup.setSelective(true);\n        List&lt;KeyboardRow&gt; keyboardRowList = new ArrayList&lt;&gt;();\n        \n        KeyboardRow keyboardRow1 = new KeyboardRow();\n        KeyboardButton keyboardButton1 = new KeyboardButton();\n        keyboardButton1.setText(&quot;Some Text&quot;);\n        keyboardRow1.add(keyboardButton1);\n        \n        KeyboardRow keyboardRow2 = new KeyboardRow();\n        KeyboardButton keyboardButton2 = new KeyboardButton();\n        keyboardButton2.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton2);\n        KeyboardButton keyboardButton3 = new KeyboardButton();\n        keyboardButton3.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton3);\n        KeyboardButton keyboardButton4 = new KeyboardButton();\n        keyboardButton4.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton4);\n        \n        KeyboardRow keyboardRow3 = new KeyboardRow();\n        KeyboardButton keyboardButton5 = new KeyboardButton();\n        keyboardButton5.setText(&quot;Some Text&quot;);\n        keyboardRow3.add(keyboardButton5);\n        \n        KeyboardRow keyboardRow4 = new KeyboardRow();\n        KeyboardButton keyboardButton6 = new KeyboardButton();\n        keyboardButton6.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton6);\n        KeyboardButton keyboardButton7 = new KeyboardButton();\n        keyboardButton7.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton7);\n        KeyboardButton keyboardButton8 = new KeyboardButton();\n        keyboardButton8.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton8);\n        \n        keyboardRowList.add(keyboardRow1);\n        keyboardRowList.add(keyboardRow2);\n        keyboardRowList.add(keyboardRow3);\n        keyboardRowList.add(keyboardRow4);\n        replyKeyboardMarkup.setKeyboard(keyboardRowList);\n    }\n}\n</code></pre>\n<p>I checked my bot username and api several times, and they are correct.\nI tried to run the compiled project (.jar file) using cmd, but didn't worked.\nI checked my network speed, and it's good.\nBy the way telegram is filtered in my country so I'm using proxy &amp; VPN.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","server-sent-events"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690108939,"post_id":76747741,"comment_id":135304620,"body_markdown":"This generally means that you have incompatible versions of dependencies on your classpath. For example, spring-web-mvc and spring-web **must have the same version**, while you have version 5.2.0 for one and 5.3.8 for another.","body":"This generally means that you have incompatible versions of dependencies on your classpath. For example, spring-web-mvc and spring-web <b>must have the same version</b>, while you have version 5.2.0 for one and 5.3.8 for another."},{"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"score":0,"creation_date":1690167069,"post_id":76747741,"comment_id":135310558,"body_markdown":"Thank you @MarkRotteveel \n\nAfter changing both version to 5.3.29 and adding &lt;async-supported&gt;true&lt;/async-supported&gt; on web.xml the problem resolved","body":"Thank you @MarkRotteveel   After changing both version to 5.3.29 and adding &lt;async-supported&gt;true&lt;/async-supported&gt; on web.xml the problem resolved"}],"answers":[{"tags":[],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690181539,"creation_date":1690167436,"answer_id":76751137,"question_id":76747741,"body_markdown":"I have resolved this problem by following @Mark Rotteveel&#39;s comment. \r\n\r\nThe problem was with incompatible spring version. After using 5.3.29 for both spring web and web-mvc the problem has resolved. I additionally added `&lt;async-supported&gt;true&lt;/async-supported&gt;` on web.xml for async to enable async request. ","title":"&#39;IncompatibleClassChangeError&#39; while returning SseEmitter as response in Java Spring","body":"<p>I have resolved this problem by following @Mark Rotteveel's comment.</p>\n<p>The problem was with incompatible spring version. After using 5.3.29 for both spring web and web-mvc the problem has resolved. I additionally added <code>&lt;async-supported&gt;true&lt;/async-supported&gt;</code> on web.xml for async to enable async request.</p>\n"}],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751137,"answer_count":1,"score":0,"last_activity_date":1690181539,"creation_date":1690107843,"question_id":76747741,"body_markdown":"I am trying to implement Server Sent Event in java spring MVC with xml based configuration.But I am getting the following error message while hitting the following URL: /subscribe-sse \r\n\r\nJava Version:\r\n```\r\nsourceCompatibility = &#39;1.8&#39;\r\ntargetCompatibility = &#39;1.8&#39;\r\n\r\nServelet API: 4.0.1\r\nspring-webmvc:5.2.0\r\nspring-web:5.3.8\r\n```\r\n\r\nController: \r\n\r\n```\r\n    @GetMapping(path = &quot;/subscribe-sse&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public SseEmitter subscribe() {\r\n        SseEmitter emitter = new SseEmitter(Long.MAX_VALUE);\r\n        return emitter;\r\n    }\r\n```\r\n\r\nError I am getting: \r\n\r\n\r\n```\r\njava.lang.IncompatibleClassChangeError: Expected non-static field org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.logger\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:128)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:502)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI was trying to implement Server Sent Event with spring boot but getting IncompatibleClassChangeError","title":"&#39;IncompatibleClassChangeError&#39; while returning SseEmitter as response in Java Spring","body":"<p>I am trying to implement Server Sent Event in java spring MVC with xml based configuration.But I am getting the following error message while hitting the following URL: /subscribe-sse</p>\n<p>Java Version:</p>\n<pre><code>sourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\nServelet API: 4.0.1\nspring-webmvc:5.2.0\nspring-web:5.3.8\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @GetMapping(path = &quot;/subscribe-sse&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public SseEmitter subscribe() {\n        SseEmitter emitter = new SseEmitter(Long.MAX_VALUE);\n        return emitter;\n    }\n</code></pre>\n<p>Error I am getting:</p>\n<pre><code>java.lang.IncompatibleClassChangeError: Expected non-static field org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.logger\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:128)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\n</code></pre>\n<p>I was trying to implement Server Sent Event with spring boot but getting IncompatibleClassChangeError</p>\n"},{"tags":["java","arrays","size"],"comments":[{"owner":{"account_id":1813306,"reputation":145,"user_id":1648946,"display_name":"Nagaraj"},"score":0,"creation_date":1348202534,"post_id":12524318,"comment_id":18069405,"body_markdown":"Refer this link, it will give some ideas [Array List](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html) [Array Size](http://stackoverflow.com/questions/1647260/java-dynamic-array-sizes)","body":"Refer this link, it will give some ideas <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Array List</a> <a href=\"http://stackoverflow.com/questions/1647260/java-dynamic-array-sizes\">Array Size</a>"}],"answers":[{"comments":[{"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"score":0,"creation_date":1522387299,"post_id":12524337,"comment_id":86145675,"body_markdown":"This is not an answer.","body":"This is not an answer."}],"tags":[],"owner":{"account_id":162592,"reputation":4205,"user_id":384155,"accept_rate":75,"display_name":"Osiris"},"comment_count":1,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1348202327,"creation_date":1348202327,"answer_id":12524337,"question_id":12524318,"body_markdown":"Use an ArrayList. The size it automatically increased if you try to add to a full ArrayList.","title":"How to increase the size of an array in Java?","body":"<p>Use an ArrayList. The size it automatically increased if you try to add to a full ArrayList.</p>\n"},{"comments":[{"owner":{"account_id":1863767,"reputation":247,"user_id":1687780,"display_name":"joel abishai paul"},"score":0,"creation_date":1348202786,"post_id":12524346,"comment_id":16860407,"body_markdown":"Thanks....it..would be nice..if you can give me the code to print out ..the elements in the list","body":"Thanks....it..would be nice..if you can give me the code to print out ..the elements in the list"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1348203053,"post_id":12524346,"comment_id":16860454,"body_markdown":"@joelabishaipaul `System.out.println(list)` should do the job just fine ;) If you want to print each one on a separate line, you can use a [for-each/enhanced-for loop](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) to iterate over each value in the list.","body":"@joelabishaipaul <code>System.out.println(list)</code> should do the job just fine ;) If you want to print each one on a separate line, you can use a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for-each/enhanced-for loop</a> to iterate over each value in the list."},{"owner":{"account_id":2170393,"reputation":737,"user_id":1922559,"accept_rate":80,"display_name":"TWhite"},"score":0,"creation_date":1669938351,"post_id":12524346,"comment_id":131763022,"body_markdown":"This doesn&#39;t address OP&#39;s original question, though it is a better solution to the problem.","body":"This doesn&#39;t address OP&#39;s original question, though it is a better solution to the problem."}],"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"comment_count":3,"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1348202379,"creation_date":1348202379,"answer_id":12524346,"question_id":12524318,"body_markdown":"Instead of using an array, use an implementation of `java.util.List` such as `ArrayList`.  An ArrayList has an array backend which holds values in a list, but the array size is automatically handles by the list.\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;some string&quot;);\r\n\r\nYou can also convert the list into an array using `list.toArray(new String[list.size()])` and so forth for other element types.","title":"How to increase the size of an array in Java?","body":"<p>Instead of using an array, use an implementation of <code>java.util.List</code> such as <code>ArrayList</code>.  An ArrayList has an array backend which holds values in a list, but the array size is automatically handles by the list.</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"some string\");\n</code></pre>\n\n<p>You can also convert the list into an array using <code>list.toArray(new String[list.size()])</code> and so forth for other element types.</p>\n"},{"tags":[],"owner":{"account_id":1035491,"reputation":5746,"user_id":1042889,"accept_rate":74,"display_name":"Aamirkhan"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1348202457,"creation_date":1348202457,"answer_id":12524363,"question_id":12524318,"body_markdown":"u can use array list for that\r\n\r\nhere is example for array list of string \r\n\r\n&#39;import java.io.BufferedReader; \r\nimport java.io.IOException; \r\nimport java.io.InputStreamReader; \r\nimport java.util.ArrayList; \r\n \r\npublic class Ex01 { \r\n \r\n    public static void main(String[] args) throws IOException { \r\n \r\n        BufferedReader userInput = new BufferedReader \r\n            (new InputStreamReader(System.in));\r\n \r\n        ArrayList&lt;String&gt; myArr = new ArrayList&lt;String&gt;();\r\n        myArr.add(&quot;Italian Riviera&quot;);\r\n        myArr.add(&quot;Jersey Shore&quot;);\r\n        myArr.add(&quot;Puerto Rico&quot;);\r\n        myArr.add(&quot;Los Cabos Corridor&quot;);\r\n        myArr.add(&quot;Lubmin&quot;);\r\n        myArr.add(&quot;Coney Island&quot;);\r\n        myArr.add(&quot;Karlovy Vary&quot;);\r\n        myArr.add(&quot;Bourbon-l&#39;Archambault&quot;);\r\n        myArr.add(&quot;Walt Disney World Resort&quot;);\r\n        myArr.add(&quot;Barbados&quot;);\r\n \r\n        System.out.println(&quot;Stupid Vacation Resort Adviser&quot;);\r\n        System.out.println(&quot;Enter your name:&quot;);\r\n        String name = userInput.readLine();\r\n        Integer nameLength = name.length();\r\n        if (nameLength == 0) \r\n        { \r\n            System.out.println(&quot;empty name entered&quot;);\r\n            return;\r\n        } \r\n \r\n        Integer vacationIndex = nameLength % myArr.size();\r\n \r\n        System.out.println(&quot;\\nYour name is &quot;+name+&quot;, its length is &quot; + \r\n                        nameLength + &quot; characters,\\n&quot; +\r\n                        &quot;that&#39;s why we suggest you to go to &quot; \r\n                        + myArr.get(vacationIndex));\r\n    } \r\n}&#39;\r\n\r\nsimilarly u can make array for integer,blooean and all kinds of data types \r\n\r\nfor more detail u can see this \r\n\r\nhttp://www.anyexample.com/programming/java/java_arraylist_example.xml","title":"How to increase the size of an array in Java?","body":"<p>u can use array list for that</p>\n\n<p>here is example for array list of string </p>\n\n<p>'import java.io.BufferedReader; \nimport java.io.IOException; \nimport java.io.InputStreamReader; \nimport java.util.ArrayList; </p>\n\n<p>public class Ex01 { </p>\n\n<pre><code>public static void main(String[] args) throws IOException { \n\n    BufferedReader userInput = new BufferedReader \n        (new InputStreamReader(System.in));\n\n    ArrayList&lt;String&gt; myArr = new ArrayList&lt;String&gt;();\n    myArr.add(\"Italian Riviera\");\n    myArr.add(\"Jersey Shore\");\n    myArr.add(\"Puerto Rico\");\n    myArr.add(\"Los Cabos Corridor\");\n    myArr.add(\"Lubmin\");\n    myArr.add(\"Coney Island\");\n    myArr.add(\"Karlovy Vary\");\n    myArr.add(\"Bourbon-l'Archambault\");\n    myArr.add(\"Walt Disney World Resort\");\n    myArr.add(\"Barbados\");\n\n    System.out.println(\"Stupid Vacation Resort Adviser\");\n    System.out.println(\"Enter your name:\");\n    String name = userInput.readLine();\n    Integer nameLength = name.length();\n    if (nameLength == 0) \n    { \n        System.out.println(\"empty name entered\");\n        return;\n    } \n\n    Integer vacationIndex = nameLength % myArr.size();\n\n    System.out.println(\"\\nYour name is \"+name+\", its length is \" + \n                    nameLength + \" characters,\\n\" +\n                    \"that's why we suggest you to go to \" \n                    + myArr.get(vacationIndex));\n} \n</code></pre>\n\n<p>}'</p>\n\n<p>similarly u can make array for integer,blooean and all kinds of data types </p>\n\n<p>for more detail u can see this </p>\n\n<p><a href=\"http://www.anyexample.com/programming/java/java_arraylist_example.xml\" rel=\"nofollow\">http://www.anyexample.com/programming/java/java_arraylist_example.xml</a></p>\n"},{"tags":[],"owner":{"account_id":305325,"reputation":16594,"user_id":615421,"accept_rate":85,"display_name":"Peter Rasmussen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367524269,"creation_date":1348202490,"answer_id":12524369,"question_id":12524318,"body_markdown":"You can&#39;t. You can either create a new array and move the items to that array - Or you can use an ArrayList.","title":"How to increase the size of an array in Java?","body":"<p>You can't. You can either create a new array and move the items to that array - Or you can use an ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":1715984,"reputation":97,"user_id":1573029,"display_name":"user1573029"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349936212,"creation_date":1349936212,"answer_id":12833336,"question_id":12524318,"body_markdown":"Create list object, add the elements and convert that list object to array using list.toArray(new String[list.size()])","title":"How to increase the size of an array in Java?","body":"<p>Create list object, add the elements and convert that list object to array using list.toArray(new String[list.size()])</p>\n"},{"tags":[],"owner":{"account_id":3497773,"reputation":81,"user_id":2925401,"display_name":"PandaOrb"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1626174873,"creation_date":1382889343,"answer_id":19620061,"question_id":12524318,"body_markdown":"You can create a temporary array with a size that is one element larger than the original, and then copy the elements of the original into the temp, and assign the temporary array to the new one.\r\n\r\n    public void increaseSize() {\r\n       String[] temp = new String[original.length + 1];\r\n       \r\n       for (int i = 0; i &lt; original.length; i++){\r\n          temp[i] = original[i];\r\n       }\r\n       original = temp;\r\n    }\r\n\r\nYou can change the size in various ways, but the same idea applies.","title":"How to increase the size of an array in Java?","body":"<p>You can create a temporary array with a size that is one element larger than the original, and then copy the elements of the original into the temp, and assign the temporary array to the new one.</p>\n<pre><code>public void increaseSize() {\n   String[] temp = new String[original.length + 1];\n   \n   for (int i = 0; i &lt; original.length; i++){\n      temp[i] = original[i];\n   }\n   original = temp;\n}\n</code></pre>\n<p>You can change the size in various ways, but the same idea applies.</p>\n"},{"comments":[{"owner":{"account_id":154912,"reputation":4111,"user_id":371191,"accept_rate":71,"display_name":"Silly Freak"},"score":1,"creation_date":1626175651,"post_id":37748185,"comment_id":120817613,"body_markdown":"not going to edit this, as it would be a functional code change, but: this does not actually create a copy of `data` with increased size. It creates an empty array, and successively replaces that array with longer ones, finally arriving at an exact copy, not a longer one. The output shows this too: was the array longer, there should be a `null` output. To actually increase the length of the array, the declaration of `array` and the whole first loop should simply be replaced with `String[] array = Arrays.copyOf(data, data.length + incrementLength);`.","body":"not going to edit this, as it would be a functional code change, but: this does not actually create a copy of <code>data</code> with increased size. It creates an empty array, and successively replaces that array with longer ones, finally arriving at an exact copy, not a longer one. The output shows this too: was the array longer, there should be a <code>null</code> output. To actually increase the length of the array, the declaration of <code>array</code> and the whole first loop should simply be replaced with <code>String[] array = Arrays.copyOf(data, data.length + incrementLength);</code>."}],"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1646113231,"creation_date":1465561291,"answer_id":37748185,"question_id":12524318,"body_markdown":"By using **copyOf** method in `java.util.Arrays` class `String[]` size will increment automatically / dynamically. In below code `array` size `0` after manipulation of using `Arrays.copyOf` the size of String `array` is increased to `4`.\r\n\r\n    package com.google.service;\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class StringArrayAutoIncrement {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] data = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; };\r\n    \t\tString[] array = new String[0];// Initializing array with zero\r\n    \t\tint incrementLength = 1;\r\n    \t\tfor (int i = 0; i &lt; data.length; i++) {\r\n    \t\t\tarray = Arrays.copyOf(data, i + incrementLength);// incrementing array by +1\r\n    \t\t}\r\n    \t\t/**\r\n    \t\t * values of array after increment\r\n    \t\t */\r\n    \t\tfor (String value : array) {\r\n    \t\t\tSystem.out.println(value);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:** \r\n\r\n    a\r\n    b\r\n    c\r\n    d\r\n    e","title":"How to increase the size of an array in Java?","body":"<p>By using <strong>copyOf</strong> method in <code>java.util.Arrays</code> class <code>String[]</code> size will increment automatically / dynamically. In below code <code>array</code> size <code>0</code> after manipulation of using <code>Arrays.copyOf</code> the size of String <code>array</code> is increased to <code>4</code>.</p>\n<pre><code>package com.google.service;\n\nimport java.util.Arrays;\n\npublic class StringArrayAutoIncrement {\n    public static void main(String[] args) {\n        String[] data = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; };\n        String[] array = new String[0];// Initializing array with zero\n        int incrementLength = 1;\n        for (int i = 0; i &lt; data.length; i++) {\n            array = Arrays.copyOf(data, i + incrementLength);// incrementing array by +1\n        }\n        /**\n         * values of array after increment\n         */\n        for (String value : array) {\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>a\nb\nc\nd\ne\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1522388286,"creation_date":1522388286,"answer_id":49568977,"question_id":12524318,"body_markdown":"On a low level you can do it this way:\r\n \r\n    long[] source = new long[1];\r\n    long[] copy = new long[source.length + 1];\r\n    System.arraycopy(source, 0, copy, 0, source.length);\r\n    source = copy;\r\n\r\nArrays.copyOf() is doing same thing.","title":"How to increase the size of an array in Java?","body":"<p>On a low level you can do it this way:</p>\n\n<pre><code>long[] source = new long[1];\nlong[] copy = new long[source.length + 1];\nSystem.arraycopy(source, 0, copy, 0, source.length);\nsource = copy;\n</code></pre>\n\n<p>Arrays.copyOf() is doing same thing.</p>\n"},{"tags":[],"owner":{"account_id":12432241,"reputation":1,"user_id":9054115,"display_name":"SUNIL KUMAR"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1533147933,"creation_date":1533147933,"answer_id":51639986,"question_id":12524318,"body_markdown":"    public class IncreaseArraySize {\r\n     public static void main(String[] args) {\r\n\t\tint arr[] = new int[5];\r\n\t\t  for (int i = 0; i &lt; arr.length; i++) {\r\n\t     \t\tarr[i] = 5;\r\n\t\t  }\r\n\t\t  for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t    System.out.print(arr[i] + &quot; &quot;);\r\n\t\t  }\r\n\t\t   System.out.println(&quot; &quot;);\r\n\t\t   System.out.println(&quot;Before increasing Size of an array :&quot; + arr.length);\r\n\t\t\r\n\t\t\r\n\t    \tint arr2[] = new int[10];\r\n\r\n\t\t    arr = arr2;\r\n\t\t    arr2 = null;\r\n\t\t    for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.print(arr[i] + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;After increasing Size of an array : &quot; + arr.length);\r\n\t}\r\n    }","title":"How to increase the size of an array in Java?","body":"<pre><code>public class IncreaseArraySize {\n public static void main(String[] args) {\n    int arr[] = new int[5];\n      for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = 5;\n      }\n      for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + \" \");\n      }\n       System.out.println(\" \");\n       System.out.println(\"Before increasing Size of an array :\" + arr.length);\n\n\n        int arr2[] = new int[10];\n\n        arr = arr2;\n        arr2 = null;\n        for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(arr[i] + \" \");\n    }\n    System.out.println(\"\");\n    System.out.println(\"After increasing Size of an array : \" + arr.length);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17821843,"reputation":77,"user_id":12944045,"display_name":"Ambreen Zubari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587847733,"creation_date":1587847733,"answer_id":61432414,"question_id":12524318,"body_markdown":"u can do it by this\r\n\r\n    import java.util.Scanner;\r\n\r\n    class Add\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n         Scanner obj=new Scanner(System.in);\r\n         char ans=&#39;y&#39;;\r\n         int count=0;\r\n         while(ans!=&#39;N&#39;||ans!=&#39;n&#39;)\r\n         {\r\n           int initial_size=5; \r\n           int arr[]=new int [initial_size];\r\n           arr[0]=1;\r\n           arr[1]=2;\r\n           arr[2]=3;\r\n           arr[3]=4;\r\n           arr[4]=5;\r\n          \r\n           if(count&gt;0)\r\n           {\r\n               System.out.print(&quot;enter the element u want to add in array: &quot;);\r\n               arr[initial_size-1]=obj.nextInt();\r\n           }\r\n           System.out.print(&quot;Do u want to add element in array?&quot;);\r\n           ans=obj.next().charAt(0);\r\n           if(ans==&#39;y&#39;||ans==&#39;Y&#39;)\r\n           {\r\n             initial_size++;\r\n             count++;\r\n           }             \r\n        }   \r\n      }\r\n\r\n    }","title":"How to increase the size of an array in Java?","body":"<p>u can do it by this</p>\n\n<pre><code>import java.util.Scanner;\n\nclass Add\n{\n  public static void main(String[] args)\n  {\n     Scanner obj=new Scanner(System.in);\n     char ans='y';\n     int count=0;\n     while(ans!='N'||ans!='n')\n     {\n       int initial_size=5; \n       int arr[]=new int [initial_size];\n       arr[0]=1;\n       arr[1]=2;\n       arr[2]=3;\n       arr[3]=4;\n       arr[4]=5;\n\n       if(count&gt;0)\n       {\n           System.out.print(\"enter the element u want to add in array: \");\n           arr[initial_size-1]=obj.nextInt();\n       }\n       System.out.print(\"Do u want to add element in array?\");\n       ans=obj.next().charAt(0);\n       if(ans=='y'||ans=='Y')\n       {\n         initial_size++;\n         count++;\n       }             \n    }   \n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4695064,"reputation":719,"user_id":3800106,"accept_rate":25,"display_name":"Gauraang Khurana"},"score":0,"creation_date":1618362184,"post_id":65948564,"comment_id":118577178,"body_markdown":"Surprisingly this works. I wonder why no one upvoted your answer","body":"Surprisingly this works. I wonder why no one upvoted your answer"}],"tags":[],"owner":{"account_id":15449817,"reputation":476,"user_id":12039546,"display_name":"Harshal Karande"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1659441800,"creation_date":1611892591,"answer_id":65948564,"question_id":12524318,"body_markdown":"https://www.java2novice.com/java-arrays/array-copy/\r\n\r\n    int[] myArr = {2,4,2,4,5,6,3};\r\n    System.out.println(&quot;Array size before copy: &quot;+myArr.length);\r\n    int[] newArr = Arrays.copyOf(myArr, 10);\r\n    System.out.println(&quot;New array size after copying: &quot;+newArr.length);\r\n\r\nYou can also do  `myArr = Arrays.copyOf(myArr, 10);`\r\n\r\nIn this case do,  `myArr = Arrays.copyOf(myArr, myAry.length+1);`","title":"How to increase the size of an array in Java?","body":"<p><a href=\"https://www.java2novice.com/java-arrays/array-copy/\" rel=\"nofollow noreferrer\">https://www.java2novice.com/java-arrays/array-copy/</a></p>\n<pre><code>int[] myArr = {2,4,2,4,5,6,3};\nSystem.out.println(&quot;Array size before copy: &quot;+myArr.length);\nint[] newArr = Arrays.copyOf(myArr, 10);\nSystem.out.println(&quot;New array size after copying: &quot;+newArr.length);\n</code></pre>\n<p>You can also do  <code>myArr = Arrays.copyOf(myArr, 10);</code></p>\n<p>In this case do,  <code>myArr = Arrays.copyOf(myArr, myAry.length+1);</code></p>\n"},{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690181171,"creation_date":1690181171,"answer_id":76751999,"question_id":12524318,"body_markdown":"According to [Oracle&#39;s Java Docs on Arrays][1], the size of an Array cannot be changed. Once it has been initialized, it is final. You cannot change it. The only way to make the size accommodate your elements is to create a new one with a bigger size or use other data structures like the [ArrayList][2] as mentioned in the solutions above. You initialize an array while at the same time keeping in mind the size of the elements you might want to store therein.\r\n\r\n        //This declares an array of integers\r\n         // which can hold a maximum of five integers\r\n        int[] anArray = new int[5];\r\n\r\n        //This declares an array of strings\r\n         // which can hold a maximum of 20 strings\r\n        String[] stringArray = new String[20];\r\n\r\n       \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"How to increase the size of an array in Java?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Oracle's Java Docs on Arrays</a>, the size of an Array cannot be changed. Once it has been initialized, it is final. You cannot change it. The only way to make the size accommodate your elements is to create a new one with a bigger size or use other data structures like the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> as mentioned in the solutions above. You initialize an array while at the same time keeping in mind the size of the elements you might want to store therein.</p>\n<pre><code>    //This declares an array of integers\n     // which can hold a maximum of five integers\n    int[] anArray = new int[5];\n\n    //This declares an array of strings\n     // which can hold a maximum of 20 strings\n    String[] stringArray = new String[20];\n\n   \n</code></pre>\n"}],"owner":{"account_id":1863767,"reputation":247,"user_id":1687780,"display_name":"joel abishai paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134209,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":12,"score":24,"last_activity_date":1690181171,"creation_date":1348202196,"question_id":12524318,"body_markdown":"I want to store as many elements as desired by the user in an array. But how do I do it.  \r\n\r\nIf I were to create an array, I must do so with a fixed size. Every time a new element is added to the array and the array becomes full, I want to update its size by &#39;1&#39;.  \r\n\r\nI tired various types of code, but it did not work out. \r\n\r\nIt would be of great help if someone could give me a solution regarding it - in code if possible.","title":"How to increase the size of an array in Java?","body":"<p>I want to store as many elements as desired by the user in an array. But how do I do it.  </p>\n\n<p>If I were to create an array, I must do so with a fixed size. Every time a new element is added to the array and the array becomes full, I want to update its size by '1'.  </p>\n\n<p>I tired various types of code, but it did not work out. </p>\n\n<p>It would be of great help if someone could give me a solution regarding it - in code if possible.</p>\n"},{"tags":["java","html","spring-boot","jpa","thymeleaf"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1690179662,"post_id":76751844,"comment_id":135311654,"body_markdown":"Thats the name of the field you give the form to transmit. `MultipartFile file` searches for the `file` field in the body, so these names must match.","body":"Thats the name of the field you give the form to transmit. <code>MultipartFile file</code> searches for the <code>file</code> field in the body, so these names must match."}],"answers":[{"tags":[],"owner":{"account_id":20123535,"reputation":110,"user_id":14757560,"display_name":"christianGen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690181124,"creation_date":1690181124,"answer_id":76751992,"question_id":76751844,"body_markdown":"The argument `MultipartFile file` is equivalent to: `@RequestParam MultipartFile file`\r\n\r\nIf you don&#39;t specify a name with the `@RequestParam` annotation the variable name is used as default.  In your case this is `file`.\r\n\r\nYou can use other names by either changing your variable name or adding the `@RequestParam` annotation with a name:  \r\n`@RequestParam(&quot;photo&quot;) MultipartFile file`.\r\n\r\nIf you have to support multiple names, create proxy methods:\r\n```java\r\n@PostMapping(value=&quot;/add&quot;, params = &quot;photo&quot;)\r\npublic String addPhoto(@RequestParam(value=&quot;photo&quot;, required=true) MultipartFile file){\r\n   return addFile(file);\r\n}\r\n\r\n@PostMapping(value=&quot;/add&quot;, params = &quot;file&quot;)\r\npublic String addFile(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file){\r\n   // ...\r\n}\r\n```\r\n\r\n\r\n","title":"JPA - Successful Storage of Post Only When Input Tag Name is &quot;file&quot;","body":"<p>The argument <code>MultipartFile file</code> is equivalent to: <code>@RequestParam MultipartFile file</code></p>\n<p>If you don't specify a name with the <code>@RequestParam</code> annotation the variable name is used as default.  In your case this is <code>file</code>.</p>\n<p>You can use other names by either changing your variable name or adding the <code>@RequestParam</code> annotation with a name:<br />\n<code>@RequestParam(&quot;photo&quot;) MultipartFile file</code>.</p>\n<p>If you have to support multiple names, create proxy methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value=&quot;/add&quot;, params = &quot;photo&quot;)\npublic String addPhoto(@RequestParam(value=&quot;photo&quot;, required=true) MultipartFile file){\n   return addFile(file);\n}\n\n@PostMapping(value=&quot;/add&quot;, params = &quot;file&quot;)\npublic String addFile(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file){\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":20373551,"reputation":27,"user_id":14945246,"display_name":"Luna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751992,"answer_count":1,"score":1,"last_activity_date":1690181124,"creation_date":1690179454,"question_id":76751844,"body_markdown":"I&#39;m implementing a feature to store posts using JPA. In the service class, I have the following method:\r\n\r\n    public void boardWrite(Board board, MultipartFile file) throws Exception, IOException {\r\n        if (!file.isEmpty()) {\r\n            String path = &quot;E:\\\\image\\\\sell&quot;;\r\n            UUID uuid = UUID.randomUUID();\r\n            String filename = uuid + &quot;_&quot; + file.getOriginalFilename();\r\n            File saveFile = new File(path, filename);\r\n            file.transferTo(saveFile);\r\n            board.setPhoto(filename);\r\n            board.setPhoto_url(&quot;/sell/&quot; + filename);\r\n        }\r\n    \r\n        boardRepository.save(board);\r\n    }\r\n\r\nAdditionally, in the controller, I call it as follows:\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String add(Board board, MultipartFile file) throws Exception {\r\n        service.boardWrite(board, file);\r\n        return &quot;redirect:list&quot;;\r\n    }\r\n\r\nThe part of the HTML where I get the file input is as follows:\r\n\r\n    &lt;tr&gt;\r\n        &lt;td width=&quot;150&quot; align=&quot;center&quot;&gt;Photo Attachment&lt;/td&gt;\r\n        &lt;td&gt;\r\n            &lt;input type=&quot;file&quot; name=&quot;file&quot; class=&quot;form-control&quot; id=&quot;inputGroupFile02&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nWhen I set the name attribute of the input tag to &quot;file&quot;, the post is successfully stored. However, if I use a different name such as &quot;file1&quot; or &quot;photo&quot;, it results in a 400 error. I&#39;m curious about the reason behind this behavior. Why does it only work when the input tag name is &quot;file&quot;?","title":"JPA - Successful Storage of Post Only When Input Tag Name is &quot;file&quot;","body":"<p>I'm implementing a feature to store posts using JPA. In the service class, I have the following method:</p>\n<pre><code>public void boardWrite(Board board, MultipartFile file) throws Exception, IOException {\n    if (!file.isEmpty()) {\n        String path = &quot;E:\\\\image\\\\sell&quot;;\n        UUID uuid = UUID.randomUUID();\n        String filename = uuid + &quot;_&quot; + file.getOriginalFilename();\n        File saveFile = new File(path, filename);\n        file.transferTo(saveFile);\n        board.setPhoto(filename);\n        board.setPhoto_url(&quot;/sell/&quot; + filename);\n    }\n\n    boardRepository.save(board);\n}\n</code></pre>\n<p>Additionally, in the controller, I call it as follows:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic String add(Board board, MultipartFile file) throws Exception {\n    service.boardWrite(board, file);\n    return &quot;redirect:list&quot;;\n}\n</code></pre>\n<p>The part of the HTML where I get the file input is as follows:</p>\n<pre><code>&lt;tr&gt;\n    &lt;td width=&quot;150&quot; align=&quot;center&quot;&gt;Photo Attachment&lt;/td&gt;\n    &lt;td&gt;\n        &lt;input type=&quot;file&quot; name=&quot;file&quot; class=&quot;form-control&quot; id=&quot;inputGroupFile02&quot;&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>When I set the name attribute of the input tag to &quot;file&quot;, the post is successfully stored. However, if I use a different name such as &quot;file1&quot; or &quot;photo&quot;, it results in a 400 error. I'm curious about the reason behind this behavior. Why does it only work when the input tag name is &quot;file&quot;?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690172808,"post_id":76751389,"comment_id":135310985,"body_markdown":"`split` on `,`, then find the `String` starting with `textValue` in the resulting array and split on ` : ` to seperate them again","body":"<code>split</code> on <code>,</code>, then find the <code>String</code> starting with <code>textValue</code> in the resulting array and split on ` : ` to seperate them again"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690172961,"post_id":76751389,"comment_id":135310993,"body_markdown":"You could also use a regular expression (like `, textValue.*,`) and [this](https://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex)","body":"You could also use a regular expression (like <code>, textValue.*,</code>) and <a href=\"https://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690173255,"creation_date":1690172751,"answer_id":76751403,"question_id":76751389,"body_markdown":"If you want only `textValue : xx`.\r\n\r\nYou can split it by comma &quot;,&quot; for above String to array and get by index.\r\n\r\n```JAVA\r\nString textArray[]=textValue.split(&quot;,&quot;);\r\nString yourValue=textValue[2];\r\n\r\n//if you want whole textValue : xx\r\nSystem.out.println(yourValue);\r\n\r\n//if you want only xx,you can again split by &quot;:&quot;\r\nSystem.out.println(yourValue.split(&quot;:&quot;)[1]);\r\n\r\n\r\n```","title":"Extract specific content from String in JAVA","body":"<p>If you want only <code>textValue : xx</code>.</p>\n<p>You can split it by comma &quot;,&quot; for above String to array and get by index.</p>\n<pre><code>String textArray[]=textValue.split(&quot;,&quot;);\nString yourValue=textValue[2];\n\n//if you want whole textValue : xx\nSystem.out.println(yourValue);\n\n//if you want only xx,you can again split by &quot;:&quot;\nSystem.out.println(yourValue.split(&quot;:&quot;)[1]);\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5344470,"reputation":39,"user_id":6261601,"display_name":"Arivazhagan L"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690173963,"creation_date":1690173963,"answer_id":76751460,"question_id":76751389,"body_markdown":"**Use Substring:**\r\nTo extract a substring from a string, you can use the substring() method. It takes two parameters: the starting index (inclusive) and the ending index (exclusive) of the desired substring.\r\n\r\n    String originalString = &quot;Hello, world!&quot;;\r\n    int startIndex = 7;\r\n    int endIndex = 12;\r\n    String extractedSubstring = originalString.substring(startIndex, endIndex);\r\n    System.out.println(extractedSubstring); // Output: &quot;world&quot;\r\n\r\nOR\r\n\r\n**Splitting by Delimiter:**\r\nIf you want to extract specific parts of a string based on a delimiter, you can use the split() method. It splits the original string into an array of substrings based on the specified delimiter.\r\n\r\n    String originalString = &quot;apple,orange,banana,grape&quot;;\r\n    String[] fruitsArray = originalString.split(&quot;,&quot;);\r\n    System.out.println(fruitsArray[2]); // Output: &quot;banana&quot;\r\n\r\nOR\r\n\r\n**Using Regular Expressions (Regex):**\r\nRegex provides a powerful way to extract specific content from a string based on patterns. You can use the Pattern and Matcher classes from the java.util.regex package to achieve this.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    String originalString = &quot;The price is $19.99&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\$(\\\\d+\\\\.\\\\d{2})&quot;); // Matches dollar amount in the format $xx.xx\r\n    Matcher matcher = pattern.matcher(originalString);\r\n    \r\n    if (matcher.find()) {\r\n        String extractedAmount = matcher.group(1);\r\n        System.out.println(extractedAmount); // Output: &quot;19.99&quot;\r\n    }\r\n\r\n","title":"Extract specific content from String in JAVA","body":"<p><strong>Use Substring:</strong>\nTo extract a substring from a string, you can use the substring() method. It takes two parameters: the starting index (inclusive) and the ending index (exclusive) of the desired substring.</p>\n<pre><code>String originalString = &quot;Hello, world!&quot;;\nint startIndex = 7;\nint endIndex = 12;\nString extractedSubstring = originalString.substring(startIndex, endIndex);\nSystem.out.println(extractedSubstring); // Output: &quot;world&quot;\n</code></pre>\n<p>OR</p>\n<p><strong>Splitting by Delimiter:</strong>\nIf you want to extract specific parts of a string based on a delimiter, you can use the split() method. It splits the original string into an array of substrings based on the specified delimiter.</p>\n<pre><code>String originalString = &quot;apple,orange,banana,grape&quot;;\nString[] fruitsArray = originalString.split(&quot;,&quot;);\nSystem.out.println(fruitsArray[2]); // Output: &quot;banana&quot;\n</code></pre>\n<p>OR</p>\n<p><strong>Using Regular Expressions (Regex):</strong>\nRegex provides a powerful way to extract specific content from a string based on patterns. You can use the Pattern and Matcher classes from the java.util.regex package to achieve this.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nString originalString = &quot;The price is $19.99&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\$(\\\\d+\\\\.\\\\d{2})&quot;); // Matches dollar amount in the format $xx.xx\nMatcher matcher = pattern.matcher(originalString);\n\nif (matcher.find()) {\n    String extractedAmount = matcher.group(1);\n    System.out.println(extractedAmount); // Output: &quot;19.99&quot;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"score":0,"creation_date":1690175230,"post_id":76751503,"comment_id":135311168,"body_markdown":"Thank u bohemian","body":"Thank u bohemian"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690180502,"creation_date":1690174672,"answer_id":76751503,"question_id":76751389,"body_markdown":"Use regex:\r\n\r\n    String x = str.replaceAll(&quot;.*(textValue : [^,]+).*&quot;, &quot;$1&quot;);\r\n\r\nThis matches the entire string but captures the part you want (as group 1), and the replacement is (a back reference to) group 1. \r\n\r\nThe only interesting part is `[^,]+` which means &quot;all following characters that are not a comma&quot; ","title":"Extract specific content from String in JAVA","body":"<p>Use regex:</p>\n<pre><code>String x = str.replaceAll(&quot;.*(textValue : [^,]+).*&quot;, &quot;$1&quot;);\n</code></pre>\n<p>This matches the entire string but captures the part you want (as group 1), and the replacement is (a back reference to) group 1.</p>\n<p>The only interesting part is <code>[^,]+</code> which means &quot;all following characters that are not a comma&quot;</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690177585,"creation_date":1690177585,"answer_id":76751705,"question_id":76751389,"body_markdown":"In case you want to retrive data from the string, you can use either `str.substring(start, end)` - but only if you know the exact position of the data, or you can use regular expression - this is more flexible.\r\n\r\n[regexp101.com][1]\r\n\r\n```java\r\nString str = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;;\r\nString regexp = &quot;(?i)id\\\\s*:\\\\s*(?&lt;id&gt;\\\\d+)\\\\s*,\\\\s*type\\\\s*:\\\\s*(?&lt;type&gt;\\\\S+)\\\\s*textValue\\\\s*:\\\\s*(?&lt;textValue&gt;\\\\S+),\\\\s*document\\\\s*:\\\\s*(?&lt;document&gt;\\\\S+)&quot;;\r\nPattern pattern = Pattern.compile(regexp);\r\nMatcher matcher = pattern.matcher(str);\r\n\r\nif (matcher.find()) {\r\n    System.out.println(&quot;id: &quot; + matcher.group(&quot;id&quot;));\r\n    System.out.println(&quot;textValue: &quot; + matcher.group(&quot;textValue&quot;));\r\n    System.out.println(&quot;document: &quot; + matcher.group(&quot;document&quot;));\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nid: 1\r\ntextValue: xx\r\ndocument: pdf\r\n```\r\n\r\n  [1]: https://regex101.com/r/THhMDE/1","title":"Extract specific content from String in JAVA","body":"<p>In case you want to retrive data from the string, you can use either <code>str.substring(start, end)</code> - but only if you know the exact position of the data, or you can use regular expression - this is more flexible.</p>\n<p><a href=\"https://regex101.com/r/THhMDE/1\" rel=\"nofollow noreferrer\">regexp101.com</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;;\nString regexp = &quot;(?i)id\\\\s*:\\\\s*(?&lt;id&gt;\\\\d+)\\\\s*,\\\\s*type\\\\s*:\\\\s*(?&lt;type&gt;\\\\S+)\\\\s*textValue\\\\s*:\\\\s*(?&lt;textValue&gt;\\\\S+),\\\\s*document\\\\s*:\\\\s*(?&lt;document&gt;\\\\S+)&quot;;\nPattern pattern = Pattern.compile(regexp);\nMatcher matcher = pattern.matcher(str);\n\nif (matcher.find()) {\n    System.out.println(&quot;id: &quot; + matcher.group(&quot;id&quot;));\n    System.out.println(&quot;textValue: &quot; + matcher.group(&quot;textValue&quot;));\n    System.out.println(&quot;document: &quot; + matcher.group(&quot;document&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>id: 1\ntextValue: xx\ndocument: pdf\n</code></pre>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1690180502,"creation_date":1690172426,"question_id":76751389,"body_markdown":"I need to extract the specific content from below string\r\n\r\n    String textValue = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;\r\n\r\nHow to get only `TextValue` and its value using java","title":"Extract specific content from String in JAVA","body":"<p>I need to extract the specific content from below string</p>\n<pre><code>String textValue = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;\n</code></pre>\n<p>How to get only <code>TextValue</code> and its value using java</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5179076,"reputation":11150,"user_id":4145280,"display_name":"Mark"},"score":0,"creation_date":1690175434,"post_id":76751522,"comment_id":135311188,"body_markdown":"try this: https://regex101.com/r/Utw3Hb/1","body":"try this: <a href=\"https://regex101.com/r/Utw3Hb/1\" rel=\"nofollow noreferrer\">regex101.com/r/Utw3Hb/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690176661,"creation_date":1690176117,"answer_id":76751606,"question_id":76751522,"body_markdown":"I think because, the dot `(.)` in your regex is a wildcard that matches any character, including commas and spaces\r\n\r\nso to fix it check this out :\r\n\r\n    (?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)\r\n\r\n- `(?&lt;=\\\\.\\\\s)`: to ensure it&#39;s the beginning of the title (positive lookbehind to match a dot followed by a space)\r\n- `[^\\\\.]+`: it&#39;s matching one or more characters that are not a dot,so this will exclude the author names\r\n- `(?=\\\\.\\\\sDOI)`: to ensure it&#39;s the end of the title, positive lookahead to matching a dot followed by a space and &quot;DOI&quot; ()\r\n\r\nto testing my regex : \r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String string = &quot;[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782&quot;;\r\n    \r\n            String regex = &quot;(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)&quot;;\r\n            Pattern pattern = Pattern.compile(regex);\r\n            Matcher matcher = pattern.matcher(string);\r\n    \r\n            if (matcher.find()) {\r\n                String title = matcher.group(0);\r\n                System.out.println(title);\r\n            }\r\n        }\r\n    }\r\ngood luck !","title":"Find the best regex to match title of a citation reference","body":"<p>I think because, the dot <code>(.)</code> in your regex is a wildcard that matches any character, including commas and spaces</p>\n<p>so to fix it check this out :</p>\n<pre><code>(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)\n</code></pre>\n<ul>\n<li><code>(?&lt;=\\\\.\\\\s)</code>: to ensure it's the beginning of the title (positive lookbehind to match a dot followed by a space)</li>\n<li><code>[^\\\\.]+</code>: it's matching one or more characters that are not a dot,so this will exclude the author names</li>\n<li><code>(?=\\\\.\\\\sDOI)</code>: to ensure it's the end of the title, positive lookahead to matching a dot followed by a space and &quot;DOI&quot; ()</li>\n</ul>\n<p>to testing my regex :</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String string = &quot;[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782&quot;;\n\n        String regex = &quot;(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(string);\n\n        if (matcher.find()) {\n            String title = matcher.group(0);\n            System.out.println(title);\n        }\n    }\n}\n</code></pre>\n<p>good luck !</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690180189,"creation_date":1690179540,"answer_id":76751852,"question_id":76751522,"body_markdown":"A better idea would be to use a regex to extract the DOI and use the DOI to *look up* the publication&#39;s title and other metadata using (for example) the CrossRef service&#39;s API: \r\n\r\n  - https://www.crossref.org/documentation/retrieve-metadata/rest-api/\r\n\r\nThe problem with trying to extract a title from the citation text itself is that citations are provided in all sorts of format, depending on the tools that are used to format them, the requirements of the journal and so on.  That makes extraction complicated ... and difficult to do reliably with regexes.\r\n\r\n--------------------\r\n\r\nOn the other hand, **that** DOI (10.15625/0866-708X/53/6/5782) does not resolve to anything and CrossRef doesn&#39;t know about the paper when I search for it by title.  It appears to be a genuine paper because I can find it using a Google search.  However, it looks like &quot;Vietnam Journal of Science and Technology&quot; is not properly registering the DOIs for the papers that they publish!! \r\n\r\nTsk, tsk, tsk.\r\n\r\n","title":"Find the best regex to match title of a citation reference","body":"<p>A better idea would be to use a regex to extract the DOI and use the DOI to <em>look up</em> the publication's title and other metadata using (for example) the CrossRef service's API:</p>\n<ul>\n<li><a href=\"https://www.crossref.org/documentation/retrieve-metadata/rest-api/\" rel=\"nofollow noreferrer\">https://www.crossref.org/documentation/retrieve-metadata/rest-api/</a></li>\n</ul>\n<p>The problem with trying to extract a title from the citation text itself is that citations are provided in all sorts of format, depending on the tools that are used to format them, the requirements of the journal and so on.  That makes extraction complicated ... and difficult to do reliably with regexes.</p>\n<hr />\n<p>On the other hand, <strong>that</strong> DOI (10.15625/0866-708X/53/6/5782) does not resolve to anything and CrossRef doesn't know about the paper when I search for it by title.  It appears to be a genuine paper because I can find it using a Google search.  However, it looks like &quot;Vietnam Journal of Science and Technology&quot; is not properly registering the DOIs for the papers that they publish!!</p>\n<p>Tsk, tsk, tsk.</p>\n"}],"owner":{"account_id":15798298,"reputation":786,"user_id":11399551,"display_name":"Thinh Tran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76751606,"answer_count":2,"score":0,"last_activity_date":1690180189,"creation_date":1690174901,"question_id":76751522,"body_markdown":"I have this string `[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782` which represent a citation of a paper. I want to write a regex that match only the title of this string. The result is expected to be like so `Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.`\r\n\r\nI have tried this regex `(?&lt;=. ).*?(?=[dD][oO][iI]:)` and `(?&lt;=\\\\.\\\\s)\\\\s*(.+?)\\\\s*(?=[dD][oO][iI]:)` but it only give me this which I don&#39;t know why it not match the smallest posible `Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.`\r\n\r\nHow to fix this?","title":"Find the best regex to match title of a citation reference","body":"<p>I have this string <code>[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782</code> which represent a citation of a paper. I want to write a regex that match only the title of this string. The result is expected to be like so <code>Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.</code></p>\n<p>I have tried this regex <code>(?&lt;=. ).*?(?=[dD][oO][iI]:)</code> and <code>(?&lt;=\\\\.\\\\s)\\\\s*(.+?)\\\\s*(?=[dD][oO][iI]:)</code> but it only give me this which I don't know why it not match the smallest posible <code>Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.</code></p>\n<p>How to fix this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","cdp"],"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1690198652,"post_id":76751888,"comment_id":135315342,"body_markdown":"Please describe a bit more detailed what you have tried, what result you expect and what your failed attempts produced.","body":"Please describe a bit more detailed what you have tried, what result you expect and what your failed attempts produced."}],"owner":{"account_id":29078201,"reputation":1,"user_id":22274814,"display_name":"Nilesh Kathait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690180050,"creation_date":1690180013,"question_id":76751888,"body_markdown":"I want to record iframe network calls using selenium CDP api . I am using selenium network interceptor to record website network call but unable to record for iframes . \r\n\r\nI have already tried to disable features like IsolateOrigins,site-per-process but that didn&#39;t help","title":"Record Iframe network call using selenium","body":"<p>I want to record iframe network calls using selenium CDP api . I am using selenium network interceptor to record website network call but unable to record for iframes .</p>\n<p>I have already tried to disable features like IsolateOrigins,site-per-process but that didn't help</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1690182958,"post_id":76751858,"comment_id":135312180,"body_markdown":"Very likely the `module-info.class` has not been created by Eclipse, but comes from a dependency (what&#39;s in the `module-info.class` file?). Exporting as an executable JAR means to include all dependencies in a single JAR (also called fat JAR or uber JAR). When using the [Java Platform Module System](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) by having your own `module-info.java` file, a fat JAR does not work since each module has to be in its own JAR. When using Maven, better build the JAR(s) with Maven.","body":"Very likely the <code>module-info.class</code> has not been created by Eclipse, but comes from a dependency (what&#39;s in the <code>module-info.class</code> file?). Exporting as an executable JAR means to include all dependencies in a single JAR (also called fat JAR or uber JAR). When using the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">Java Platform Module System</a> by having your own <code>module-info.java</code> file, a fat JAR does not work since each module has to be in its own JAR. When using Maven, better build the JAR(s) with Maven."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690184097,"post_id":76751858,"comment_id":135312383,"body_markdown":"ok. Will build with maven. module-info.class contains single line:  // INTERNAL ERROR //","body":"ok. Will build with maven. module-info.class contains single line:  // INTERNAL ERROR //"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1690184910,"post_id":76751858,"comment_id":135312530,"body_markdown":"Using Maven is not the solution for your problem. Your problem is either the use of a fat JAR where this is not possible or something else that is unrelated to the `module-info.class`. `// INTERNAL ERROR //` sound like you opened it in the wrong editor. `.class` files contains bytecode and cannot be opened in a text editor.","body":"Using Maven is not the solution for your problem. Your problem is either the use of a fat JAR where this is not possible or something else that is unrelated to the <code>module-info.class</code>. <code>&#47;&#47; INTERNAL ERROR &#47;&#47;</code> sound like you opened it in the wrong editor. <code>.class</code> files contains bytecode and cannot be opened in a text editor."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690188750,"post_id":76751858,"comment_id":135313269,"body_markdown":"I opened module-info.class with JD only.","body":"I opened module-info.class with JD only."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690205357,"post_id":76751858,"comment_id":135316871,"body_markdown":"The selenium site says it requires Java 11. Does that not apply to the selenium-java version you&#39;re using?","body":"The selenium site says it requires Java 11. Does that not apply to the selenium-java version you&#39;re using?"},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690216426,"post_id":76751858,"comment_id":135319337,"body_markdown":"&quot;Selenium will stop supporting Java 8 on September 30, 2023&quot; - Till now it is JDK 8 only.","body":"&quot;Selenium will stop supporting Java 8 on September 30, 2023&quot; - Till now it is JDK 8 only."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690216518,"post_id":76751858,"comment_id":135319353,"body_markdown":"I got jars builts with maven.","body":"I got jars builts with maven."}],"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690179884,"creation_date":1690179583,"question_id":76751858,"body_markdown":"I had a pom file and created jar with eclipse export option and log4j was working fine. After adding the dependency `selenium-java` the export creates `module-info` file in the jar and log4j no longer works. And `Log4j-config.xsd` becomes empty in the jar.\r\n\r\nAs my project has JDK  1.8 configured and selenium also requires 1.8 / later, could not identify the cause.\r\n```\r\n&lt;properties&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n```\r\n    \t\r\n","title":"eclipse creates module-info file in executable jar with jdk 1.8","body":"<p>I had a pom file and created jar with eclipse export option and log4j was working fine. After adding the dependency <code>selenium-java</code> the export creates <code>module-info</code> file in the jar and log4j no longer works. And <code>Log4j-config.xsd</code> becomes empty in the jar.</p>\n<p>As my project has JDK  1.8 configured and selenium also requires 1.8 / later, could not identify the cause.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1571268961,"post_id":58422723,"comment_id":103188121,"body_markdown":"Do you have a class annotated with `SpringBootApplication` or `SpringBootConfiguration`?","body":"Do you have a class annotated with <code>SpringBootApplication</code> or <code>SpringBootConfiguration</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1571291081,"post_id":58422723,"comment_id":103192840,"body_markdown":"YOur test won&#39;t work. If it would the processor would already be invoked. Do you want to test the class/logic or the fact that it is triggered upon starting your application. That isn&#39;t clear from your question...","body":"YOur test won&#39;t work. If it would the processor would already be invoked. Do you want to test the class/logic or the fact that it is triggered upon starting your application. That isn&#39;t clear from your question..."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1571329187,"post_id":58422906,"comment_id":103213921,"body_markdown":"I get again `ReportingTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration`","body":"I get again <code>ReportingTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration</code>"}],"tags":[],"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571268476,"creation_date":1571268476,"answer_id":58422906,"question_id":58422723,"body_markdown":"You should use the `@RunWith` with your `@SpringBootTest`:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ReportingTest {\r\n    \r\n        @Autowired\r\n        ReportingProcessor reportingProcessor;\r\n    \r\n        @Test\r\n        public void reportingTest() throws Exception {\r\n    \r\n            ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\r\n            Whitebox.invokeMethod(reportingProcessor, &quot;collectEnvironmentData&quot;, contextRefreshedEvent);\r\n    \r\n        }\r\n    }","title":"Unable to find a @SpringBootConfiguration","body":"<p>You should use the <code>@RunWith</code> with your <code>@SpringBootTest</code>:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ReportingTest {\n\n    @Autowired\n    ReportingProcessor reportingProcessor;\n\n    @Test\n    public void reportingTest() throws Exception {\n\n        ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\n        Whitebox.invokeMethod(reportingProcessor, \"collectEnvironmentData\", contextRefreshedEvent);\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1571352819,"post_id":58441082,"comment_id":103222877,"body_markdown":"I get this error https://stackoverflow.com/questions/58441701/illegal-reflective-access-by-org-powermock-reflect-internal-whiteboximpl-to-meth","body":"I get this error <a href=\"https://stackoverflow.com/questions/58441701/illegal-reflective-access-by-org-powermock-reflect-internal-whiteboximpl-to-meth\" title=\"illegal reflective access by org powermock reflect internal whiteboximpl to meth\">stackoverflow.com/questions/58441701/&hellip;</a>"},{"owner":{"account_id":16818241,"reputation":134,"user_id":12159372,"display_name":"Nel"},"score":0,"creation_date":1571357645,"post_id":58441082,"comment_id":103223879,"body_markdown":"Replied! Hope it helps!","body":"Replied! Hope it helps!"}],"tags":[],"owner":{"account_id":16818241,"reputation":134,"user_id":12159372,"display_name":"Nel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664530471,"creation_date":1571348558,"answer_id":58441082,"question_id":58422723,"body_markdown":"If you don&#39;t have any class annotated with `@SpringBootApplication` and the known `main()` method, you need to target your component class on the `@SpringBootTest` annotation.\r\n\r\nUsually I do this when I&#39;m building libraries and for some specific scenario I need to have the spring context to unit test them.\r\n\r\nJust add this to your code:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = ReportingProcessor.class)\r\n    public class ReportingTest {\r\n    ...\r\n\r\nJust did it and the test is running.\r\n\r\nEdit: Don&#39;t know what are you trying to test exactly, just wanted to show how can you fix the error you are getting.","title":"Unable to find a @SpringBootConfiguration","body":"<p>If you don't have any class annotated with <code>@SpringBootApplication</code> and the known <code>main()</code> method, you need to target your component class on the <code>@SpringBootTest</code> annotation.</p>\n<p>Usually I do this when I'm building libraries and for some specific scenario I need to have the spring context to unit test them.</p>\n<p>Just add this to your code:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = ReportingProcessor.class)\npublic class ReportingTest {\n...\n</code></pre>\n<p>Just did it and the test is running.</p>\n<p>Edit: Don't know what are you trying to test exactly, just wanted to show how can you fix the error you are getting.</p>\n"},{"tags":[],"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690179705,"creation_date":1690179705,"answer_id":76751864,"question_id":58422723,"body_markdown":"For future lost souls: in my case reason of this exception was that I created Junit test without package specified.\r\n\r\nYour test must be in subpackage of your main spring class (one annotated with `@SpringBootApplication`). So if you have `com.example.Application` then your test must be in some sub package, for example `com.example.subpackage`.","title":"Unable to find a @SpringBootConfiguration","body":"<p>For future lost souls: in my case reason of this exception was that I created Junit test without package specified.</p>\n<p>Your test must be in subpackage of your main spring class (one annotated with <code>@SpringBootApplication</code>). So if you have <code>com.example.Application</code> then your test must be in some sub package, for example <code>com.example.subpackage</code>.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58441082,"answer_count":3,"score":2,"last_activity_date":1690179705,"creation_date":1571266836,"question_id":58422723,"body_markdown":"I want to create a JUnit test for this private method:\r\n\r\n    @Component\r\n    public class ReportingProcessor {\r\n    \t\t\r\n    \t@EventListener\r\n    \tprivate void collectEnvironmentData(ContextRefreshedEvent event) {\r\n        }\r\n    }\r\n\r\nI tried this:\r\n\r\n    @ContextConfiguration\r\n    @SpringBootTest\r\n    public class ReportingTest {\r\n    \t\r\n    \t@Autowired\r\n        ReportingProcessor reportingProcessor;\r\n    \t\r\n    \t@Test\r\n        public void reportingTest() throws Exception {\r\n    \r\n            ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\r\n            Whitebox.invokeMethod(reportingProcessor, &quot;collectEnvironmentData&quot;, contextRefreshedEvent);\r\n    \r\n        }\r\n    }\r\n\r\nWhen I run the code I get:\r\n\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\n\r\nDo you know ho I can fix this issue?\r\n\r\n","title":"Unable to find a @SpringBootConfiguration","body":"<p>I want to create a JUnit test for this private method:</p>\n\n<pre><code>@Component\npublic class ReportingProcessor {\n\n    @EventListener\n    private void collectEnvironmentData(ContextRefreshedEvent event) {\n    }\n}\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>@ContextConfiguration\n@SpringBootTest\npublic class ReportingTest {\n\n    @Autowired\n    ReportingProcessor reportingProcessor;\n\n    @Test\n    public void reportingTest() throws Exception {\n\n        ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\n        Whitebox.invokeMethod(reportingProcessor, \"collectEnvironmentData\", contextRefreshedEvent);\n\n    }\n}\n</code></pre>\n\n<p>When I run the code I get:</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\n</code></pre>\n\n<p>Do you know ho I can fix this issue?</p>\n"},{"tags":["java","android","android-fragments","android-permissions","deprecated"],"answers":[{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1690189965,"post_id":76751846,"comment_id":135313545,"body_markdown":"So, we wouldn&#39;t ask for turning on the location service? (APIs 21 and 22). Are granting permission and asking to turn on a service different from each other?","body":"So, we wouldn&#39;t ask for turning on the location service? (APIs 21 and 22). Are granting permission and asking to turn on a service different from each other?"},{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1690190499,"post_id":76751846,"comment_id":135313667,"body_markdown":"No, you don&#39;t need to ask for permissions in runtime for API level 22 and lower. Asking for location permission and asking for turning on GPS are different.","body":"No, you don&#39;t need to ask for permissions in runtime for API level 22 and lower. Asking for location permission and asking for turning on GPS are different."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1690194991,"post_id":76751846,"comment_id":135314630,"body_markdown":"So, How do I know that whether location is on or off?","body":"So, How do I know that whether location is on or off?"},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1690196558,"post_id":76751846,"comment_id":135314934,"body_markdown":"Thanks for directing me to the correct question. [this post](https://stackoverflow.com/questions/10311834/how-to-check-if-location-services-are-enabled) solved my question.","body":"Thanks for directing me to the correct question. <a href=\"https://stackoverflow.com/questions/10311834/how-to-check-if-location-services-are-enabled\">this post</a> solved my question."},{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1690197718,"post_id":76751846,"comment_id":135315151,"body_markdown":"Yes you can use `isProviderEnabled` function of `LocationManager`.  Happy to help!","body":"Yes you can use <code>isProviderEnabled</code> function of <code>LocationManager</code>.  Happy to help!"}],"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690179462,"creation_date":1690179462,"answer_id":76751846,"question_id":76749558,"body_markdown":"Runtime permissions were introduced in Android 6.0 (API level 23) with the release of Android Marshmallow. Before Android 6.0, permissions were granted at the time of installation, and users had no control over individual permissions. \r\n\r\nStarting from Android 6.0, users have the ability to grant or deny individual permissions at runtime, giving them more control over their privacy and allowing developers to request permissions when they are actually needed by the app.","title":"Android API 21 Location Permission condition is true before accept dialog result","body":"<p>Runtime permissions were introduced in Android 6.0 (API level 23) with the release of Android Marshmallow. Before Android 6.0, permissions were granted at the time of installation, and users had no control over individual permissions.</p>\n<p>Starting from Android 6.0, users have the ability to grant or deny individual permissions at runtime, giving them more control over their privacy and allowing developers to request permissions when they are actually needed by the app.</p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751846,"answer_count":1,"score":0,"last_activity_date":1690179462,"creation_date":1690133888,"question_id":76749558,"body_markdown":"I changed the following method\r\n\r\n    public static boolean requestForLocationPermission(Fragment fragment) {\r\n    String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n         if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                        == PackageManager.PERMISSION_GRANTED)\r\n                    return true;\r\n        \r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\r\n                    PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\r\n                } else {\r\n                    fragment.requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\r\n                }\r\n                return false;\r\n    }\r\n\r\nto the following code after I found out that auto location detection doesn&#39;t work on API 21 and mainly because `fragment.requestPermissions` is deprecated:\r\n\r\n    public static boolean requestForLocationPermission(Fragment fragment) {\r\n\r\n    String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                Log.d(&quot;request_Permission 23:&quot;, &quot;has been granted!&quot;);\r\n                return true;\r\n            }\r\n        } else {\r\n            if (PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                    == PermissionChecker.PERMISSION_GRANTED) {\r\n                Log.d(&quot;request_Permission 21:&quot;, &quot;has been granted!&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\r\n            PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\r\n        } else {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                fragment.requireActivity().requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\r\n            } else {\r\n                ActivityCompat.requestPermissions(fragment.requireActivity(),\r\n                        new String[]{LOCATION_PERMISSION},\r\n                        LOCATION_PERMISSION_REQUEST_CODE);\r\n                Log.d(&quot;request_Permission:&quot;, &quot;has been requested ... &quot;);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nAfter adding these `Log` lines, it was very odd that for API 21 in the `logcat` it is showing `request_Permission 21: has been granted!` when the permission dialog appear on screen without any option-selection.\r\n\r\nSo why is `PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PermissionChecker.PERMISSION_GRANTED` always true for API 21 (and probably for API 22)?","title":"Android API 21 Location Permission condition is true before accept dialog result","body":"<p>I changed the following method</p>\n<pre><code>public static boolean requestForLocationPermission(Fragment fragment) {\nString LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\n     if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                    == PackageManager.PERMISSION_GRANTED)\n                return true;\n    \n            if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\n                PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\n            } else {\n                fragment.requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\n            }\n            return false;\n}\n</code></pre>\n<p>to the following code after I found out that auto location detection doesn't work on API 21 and mainly because <code>fragment.requestPermissions</code> is deprecated:</p>\n<pre><code>public static boolean requestForLocationPermission(Fragment fragment) {\n\nString LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                == PackageManager.PERMISSION_GRANTED) {\n            Log.d(&quot;request_Permission 23:&quot;, &quot;has been granted!&quot;);\n            return true;\n        }\n    } else {\n        if (PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                == PermissionChecker.PERMISSION_GRANTED) {\n            Log.d(&quot;request_Permission 21:&quot;, &quot;has been granted!&quot;);\n            return true;\n        }\n    }\n    if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\n        PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\n    } else {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            fragment.requireActivity().requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\n        } else {\n            ActivityCompat.requestPermissions(fragment.requireActivity(),\n                    new String[]{LOCATION_PERMISSION},\n                    LOCATION_PERMISSION_REQUEST_CODE);\n            Log.d(&quot;request_Permission:&quot;, &quot;has been requested ... &quot;);\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>After adding these <code>Log</code> lines, it was very odd that for API 21 in the <code>logcat</code> it is showing <code>request_Permission 21: has been granted!</code> when the permission dialog appear on screen without any option-selection.</p>\n<p>So why is <code>PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PermissionChecker.PERMISSION_GRANTED</code> always true for API 21 (and probably for API 22)?</p>\n"},{"tags":["java","json","serialization","jackson","jsonserializer"],"comments":[{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":1,"creation_date":1353017280,"post_id":13406568,"comment_id":18317879,"body_markdown":"provide a static factory method in your enumeration class that constructs enum by string","body":"provide a static factory method in your enumeration class that constructs enum by string"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1353027034,"post_id":13406568,"comment_id":18320809,"body_markdown":"And the reason for issue is that by default Jackson uses `enum.name()` as the id -- and in this case, name is &quot;COINS&quot;, not lowe-case &quot;coins&quot;. There are ways around this, as answers point out.","body":"And the reason for issue is that by default Jackson uses <code>enum.name()</code> as the id -- and in this case, name is &quot;COINS&quot;, not lowe-case &quot;coins&quot;. There are ways around this, as answers point out."}],"answers":[{"comments":[{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1669807894,"post_id":13407089,"comment_id":131725823,"body_markdown":"just as a note, no instances of enum are created on the fly. Enums are singletons.","body":"just as a note, no instances of enum are created on the fly. Enums are singletons."}],"tags":[],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1353017217,"creation_date":1353017217,"answer_id":13407089,"question_id":13406568,"body_markdown":"GRR! Figured it out.\r\n\r\nSolution for me was to create a static method, annotated with `@JsonCreator`, in my enum that creates an instance of the enum, based on a String parameter. It looked like this:\r\n\r\n    @JsonCreator\r\n    public static MyEnum create(String str) {\r\n        // code to return an enum based on the String parameter\r\n    }","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>GRR! Figured it out.</p>\n\n<p>Solution for me was to create a static method, annotated with <code>@JsonCreator</code>, in my enum that creates an instance of the enum, based on a String parameter. It looked like this:</p>\n\n<pre><code>@JsonCreator\npublic static MyEnum create(String str) {\n    // code to return an enum based on the String parameter\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"score":1,"creation_date":1611913622,"post_id":13407145,"comment_id":116608049,"body_markdown":"wouldn&#39;t a `return valueOf(v);` be sufficient?","body":"wouldn&#39;t a <code>return valueOf(v);</code> be sufficient?"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1621986011,"post_id":13407145,"comment_id":119658325,"body_markdown":"@StefanHendriks, it would be sufficient if author reconstructed enum by enum name (COINS), but question says it is deserialized using enum custom field (coins)","body":"@StefanHendriks, it would be sufficient if author reconstructed enum by enum name (COINS), but question says it is deserialized using enum custom field (coins)"},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1669808050,"post_id":13407145,"comment_id":131725891,"body_markdown":"@StefanHendriks in that case, a custom creator wouldn&#39;t be necessary because Jackson can handle that properly by default. Anyway, I would allways recomend ORing the condition, so it would also accept if matched name() perfectly, where it is possible. Other option is that if name is allways the uppercase of text, just toUpperCase v and perform a regular valueOf(v.toUpperCase())","body":"@StefanHendriks in that case, a custom creator wouldn&#39;t be necessary because Jackson can handle that properly by default. Anyway, I would allways recomend ORing the condition, so it would also accept if matched name() perfectly, where it is possible. Other option is that if name is allways the uppercase of text, just toUpperCase v and perform a regular valueOf(v.toUpperCase())"}],"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1353017500,"creation_date":1353017500,"answer_id":13407145,"question_id":13406568,"body_markdown":"Provide a static factory method in your enumeration class that constructs enum by string and annotate it with @JsonCreator:\r\n\r\n    @JsonCreator\r\n    public static MyEnum fromValue(String v) {\r\n    \tfor (MyEnum myEnum : values()) {\r\n    \t\tif (myEnum.text.equals(v)) {\r\n    \t\t\treturn myEnum;\r\n    \t\t}\r\n    \t}\r\n        throw new IllegalArgumentException(&quot;invalid string value passed: &quot; + v);\r\n    }\r\n\r\n","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>Provide a static factory method in your enumeration class that constructs enum by string and annotate it with @JsonCreator:</p>\n\n<pre><code>@JsonCreator\npublic static MyEnum fromValue(String v) {\n    for (MyEnum myEnum : values()) {\n        if (myEnum.text.equals(v)) {\n            return myEnum;\n        }\n    }\n    throw new IllegalArgumentException(\"invalid string value passed: \" + v);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":2,"creation_date":1669808293,"post_id":13408846,"comment_id":131725973,"body_markdown":"Keep in mind that ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING) affects all the operations of the mapper, so it may throw unexpected results if you have different enums with custom toStrings, for instance.","body":"Keep in mind that ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_&zwnj;&#8203;TO_STRING) affects all the operations of the mapper, so it may throw unexpected results if you have different enums with custom toStrings, for instance."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1690179015,"creation_date":1353027199,"answer_id":13408846,"question_id":13406568,"body_markdown":"In addition to one good solution presented (factory method), there are 2 other ways:\r\n\r\n* If `MyEnum.toString()` would return `coins`, you can make Jackson use `toString()` over `name()` with `ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)`\r\n* You could add some other method to return id to use, and mark that method with `@JsonValue` annotation (you can actually use that on `toString()` as well, instead of enabling the above feature) -- if that annotation exists, the value returned by that method is used as the id.\r\n\r\n","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>In addition to one good solution presented (factory method), there are 2 other ways:</p>\n<ul>\n<li>If <code>MyEnum.toString()</code> would return <code>coins</code>, you can make Jackson use <code>toString()</code> over <code>name()</code> with <code>ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)</code></li>\n<li>You could add some other method to return id to use, and mark that method with <code>@JsonValue</code> annotation (you can actually use that on <code>toString()</code> as well, instead of enabling the above feature) -- if that annotation exists, the value returned by that method is used as the id.</li>\n</ul>\n"}],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17655,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":13408846,"answer_count":3,"score":15,"last_activity_date":1690179015,"creation_date":1353015037,"question_id":13406568,"body_markdown":"I am trying to deserialize JSON into a Java POJO using Jackson. Without giving away confidential information, here is an example stack trace when ObjectMapper&#39;s deserialization fails:\r\n\r\n    org.codehaus.jackson.map.JsonMappingException: Can not construct Map key of type com.example.MyEnum from String &quot;coins&quot;: not a valid representation: Can not construct Map key of type com.example.MyEnum from String &quot;coins&quot;: not one of values for Enum class\r\n\r\nMy JSON looks like this:\r\n\r\n    &quot;foo&quot;: {\r\n        &quot;coins&quot;: null,\r\n        ...\r\n    }\r\n\r\nAnd the class I want to deserialize into has this field:\r\n\r\n    private Map&lt;MyEnum, MyPojo&gt; foo;\r\n\r\nAnd my enum type looks like this:\r\n\r\n    public enum MyEnum {\r\n        COINS(&quot;coins&quot;),\r\n        ...\r\n    }\r\n\r\nI do realize that I am trying to deserialize a null value. But I believe this should still work: the result of the deserialization should be equivalent to having a Map with `foo.put(MyEnum.COINS, null)`, which is indeed a valid Java instruction. Help is much appreciated, thanks in advance.","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>I am trying to deserialize JSON into a Java POJO using Jackson. Without giving away confidential information, here is an example stack trace when ObjectMapper's deserialization fails:</p>\n\n<pre><code>org.codehaus.jackson.map.JsonMappingException: Can not construct Map key of type com.example.MyEnum from String \"coins\": not a valid representation: Can not construct Map key of type com.example.MyEnum from String \"coins\": not one of values for Enum class\n</code></pre>\n\n<p>My JSON looks like this:</p>\n\n<pre><code>\"foo\": {\n    \"coins\": null,\n    ...\n}\n</code></pre>\n\n<p>And the class I want to deserialize into has this field:</p>\n\n<pre><code>private Map&lt;MyEnum, MyPojo&gt; foo;\n</code></pre>\n\n<p>And my enum type looks like this:</p>\n\n<pre><code>public enum MyEnum {\n    COINS(\"coins\"),\n    ...\n}\n</code></pre>\n\n<p>I do realize that I am trying to deserialize a null value. But I believe this should still work: the result of the deserialization should be equivalent to having a Map with <code>foo.put(MyEnum.COINS, null)</code>, which is indeed a valid Java instruction. Help is much appreciated, thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":29077361,"reputation":13,"user_id":22274166,"display_name":"Kishore Babu"},"score":0,"creation_date":1690183737,"post_id":76751808,"comment_id":135312317,"body_markdown":"working perfect, thank you.","body":"working perfect, thank you."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690179005,"creation_date":1690179005,"answer_id":76751808,"question_id":76751789,"body_markdown":"For the downstream collector of `groupingBy`, you should use the `flatMapping` collector, instead of the `mapping` collector. `mapping` would produce a `Map&lt;String, List&lt;List&lt;Employee&gt;&gt;&gt;`.\r\n\r\nEach group contains multiple `List&lt;Employee&gt;`, and you want to *flatten* them into a single `List&lt;Employee&gt;`.\r\n\r\n```\r\nMap&lt;String, List&lt;Employee&gt;&gt; secondMap = firstMap.entrySet().\r\n        stream()\r\n        .collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\r\n                Collectors.flatMapping(\r\n                        el-&gt;el.getValue().stream(), Collectors.toList())));\r\n```","title":"java Streams, How to groupby Map based on key with values of arraylist","body":"<p>For the downstream collector of <code>groupingBy</code>, you should use the <code>flatMapping</code> collector, instead of the <code>mapping</code> collector. <code>mapping</code> would produce a <code>Map&lt;String, List&lt;List&lt;Employee&gt;&gt;&gt;</code>.</p>\n<p>Each group contains multiple <code>List&lt;Employee&gt;</code>, and you want to <em>flatten</em> them into a single <code>List&lt;Employee&gt;</code>.</p>\n<pre><code>Map&lt;String, List&lt;Employee&gt;&gt; secondMap = firstMap.entrySet().\n        stream()\n        .collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\n                Collectors.flatMapping(\n                        el-&gt;el.getValue().stream(), Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":29077361,"reputation":13,"user_id":22274166,"display_name":"Kishore Babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751808,"answer_count":1,"score":1,"last_activity_date":1690179005,"creation_date":1690178634,"question_id":76751789,"body_markdown":"I have an Employee class\r\n\r\n```\r\nclass Employee{\t\r\n\tint id;\r\n\tString name;\t\r\n\tEmployee(int id, String name){\r\n\t\tthis.id=id;\r\n\t\tthis.name=name;\t\t\r\n\t}\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nin my main method\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\nMap&lt;String, List&lt;Employee&gt;&gt; firstMap = new HashMap&lt;&gt;();\r\n\t\t firstMap.put(&quot;depa&quot;, Arrays.asList(new Employee(1,&quot;aa&quot;)) );\r\n\t\t firstMap.put(&quot;depA&quot;, Arrays.asList(new Employee(2,&quot;bb&quot;)));\r\n\t\t firstMap.put(&quot;depC&quot;, Arrays.asList(new Employee(3,&quot;cc&quot;)));\r\n\t\t firstMap.put(&quot;depd&quot;, Arrays.asList(new Employee(4,&quot;dd&quot;)));\r\n\t\t firstMap.put(&quot;depak&quot;, Arrays.asList(new Employee(5,&quot;A1&quot;),new Employee(6,&quot;A2&quot;)) );\r\n\t\t firstMap.put(&quot;depaK&quot;, Arrays.asList(new Employee(7,&quot;A3&quot;)) );\r\n\t\t firstMap.put(&quot;depAk&quot;, Arrays.asList(new Employee(8,&quot;A4&quot;)) );\r\n\t\t firstMap.put(&quot;depAK&quot;, Arrays.asList(new Employee(9,&quot;A5&quot;)) );\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nFrom this I wan to convert all Keys to capitals then groupby the keys and values should be added to the list.\r\n\r\n\r\n\r\nI have tried this:\r\n\r\n```\r\nMap&lt;Object, List&lt;Object&gt;&gt; secondMap = firstMap.entrySet().\r\n\t\t\t\t stream().\r\n\t\t\t\t collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\r\n\t\t\t\t Collectors.mapping(\r\n\t\t\t\t\t\t el-&gt;el.getValue(), Collectors.toList())));\r\n\r\n```\r\n\r\n\r\nBut I am getting Map&lt;Object, List&lt;Object&gt;&gt; here where I want to get Map&lt;String, List&lt;Employee&gt;&gt;.\r\nHere I am getting List&lt;list&lt;Employee&gt;&gt; as values but I want list&lt;Employee&gt; as values\r\n\r\n\r\nThanks in advance.","title":"java Streams, How to groupby Map based on key with values of arraylist","body":"<p>I have an Employee class</p>\n<pre><code>class Employee{ \n    int id;\n    String name;    \n    Employee(int id, String name){\n        this.id=id;\n        this.name=name;     \n    }   \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>in my main method</p>\n<pre><code>public static void main(String[] args) {\n\nMap&lt;String, List&lt;Employee&gt;&gt; firstMap = new HashMap&lt;&gt;();\n         firstMap.put(&quot;depa&quot;, Arrays.asList(new Employee(1,&quot;aa&quot;)) );\n         firstMap.put(&quot;depA&quot;, Arrays.asList(new Employee(2,&quot;bb&quot;)));\n         firstMap.put(&quot;depC&quot;, Arrays.asList(new Employee(3,&quot;cc&quot;)));\n         firstMap.put(&quot;depd&quot;, Arrays.asList(new Employee(4,&quot;dd&quot;)));\n         firstMap.put(&quot;depak&quot;, Arrays.asList(new Employee(5,&quot;A1&quot;),new Employee(6,&quot;A2&quot;)) );\n         firstMap.put(&quot;depaK&quot;, Arrays.asList(new Employee(7,&quot;A3&quot;)) );\n         firstMap.put(&quot;depAk&quot;, Arrays.asList(new Employee(8,&quot;A4&quot;)) );\n         firstMap.put(&quot;depAK&quot;, Arrays.asList(new Employee(9,&quot;A5&quot;)) );\n\n}\n</code></pre>\n<p>From this I wan to convert all Keys to capitals then groupby the keys and values should be added to the list.</p>\n<p>I have tried this:</p>\n<pre><code>Map&lt;Object, List&lt;Object&gt;&gt; secondMap = firstMap.entrySet().\n                 stream().\n                 collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\n                 Collectors.mapping(\n                         el-&gt;el.getValue(), Collectors.toList())));\n\n</code></pre>\n<p>But I am getting Map&lt;Object, List&gt; here where I want to get Map&lt;String, List&gt;.\nHere I am getting List&lt;list&gt; as values but I want list as values</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson","jax-rs","jsr310"],"comments":[{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506081007,"post_id":46362969,"comment_id":79687284,"body_markdown":"This usually happens if the `JavaTimeModule` is not registered in the `ObjectMapper`: https://github.com/FasterXML/jackson-modules-java8#user-content-registering-modules","body":"This usually happens if the <code>JavaTimeModule</code> is not registered in the <code>ObjectMapper</code>: <a href=\"https://github.com/FasterXML/jackson-modules-java8#user-content-registering-modules\" rel=\"nofollow noreferrer\">github.com/FasterXML/&hellip;</a>"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506081133,"post_id":46362969,"comment_id":79687359,"body_markdown":"@Hugo I read about this, but it&#39;s unclear to me how to do this registration. Could you flesh this out into an answer?","body":"@Hugo I read about this, but it&#39;s unclear to me how to do this registration. Could you flesh this out into an answer?"},{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506081383,"post_id":46362969,"comment_id":79687540,"body_markdown":"I&#39;ve never used both jersey &amp; jackson together, so not sure about how to do it. I usually set the `ObjectMapper` programatically (like in the link provided in previous comment). Anyway, maybe this can help: https://stackoverflow.com/q/18872931/7605325","body":"I&#39;ve never used both jersey &amp; jackson together, so not sure about how to do it. I usually set the <code>ObjectMapper</code> programatically (like in the link provided in previous comment). Anyway, maybe this can help: <a href=\"https://stackoverflow.com/q/18872931/7605325\">stackoverflow.com/q/18872931/7605325</a>"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506083728,"post_id":46362969,"comment_id":79689205,"body_markdown":"@Hugo I don&#39;t understand where to get &quot;the&quot; ObjectMapper, or where to put a newly created one. Simply putting a `new ObjectMapper().registerModule(new JavaTimeModule())` somewhere in my code doesn&#39;t magically make it work. This information is what&#39;s missing from everything I find on this topic. Can you explain this?","body":"@Hugo I don&#39;t understand where to get &quot;the&quot; ObjectMapper, or where to put a newly created one. Simply putting a <code>new ObjectMapper().registerModule(new JavaTimeModule())</code> somewhere in my code doesn&#39;t magically make it work. This information is what&#39;s missing from everything I find on this topic. Can you explain this?"},{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506084150,"post_id":46362969,"comment_id":79689553,"body_markdown":"As I said, I&#39;ve never used jersey with jackson, so I really don&#39;t know where to configure it. Have you tried [this](https://stackoverflow.com/questions/20563640/using-jackson-objectmapper-with-jersey)?","body":"As I said, I&#39;ve never used jersey with jackson, so I really don&#39;t know where to configure it. Have you tried <a href=\"https://stackoverflow.com/questions/20563640/using-jackson-objectmapper-with-jersey\">this</a>?"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506084535,"post_id":46362969,"comment_id":79689839,"body_markdown":"@Hugo Actually I don&#39;t want to depend on Jersey, but just the JAX-RS API. Jersey is only included for the tests. I looked at all your examples, but there&#39;s a gap between the code snippets there, and my code. I don&#39;t understand how to transpose the offered solutions to my situation. Perhaps you understand this better and could do the translation? It would probably be a good answer.","body":"@Hugo Actually I don&#39;t want to depend on Jersey, but just the JAX-RS API. Jersey is only included for the tests. I looked at all your examples, but there&#39;s a gap between the code snippets there, and my code. I don&#39;t understand how to transpose the offered solutions to my situation. Perhaps you understand this better and could do the translation? It would probably be a good answer."},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506160462,"post_id":46362969,"comment_id":79715071,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/155140/discussion-between-rinke-and-hugo).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/155140/discussion-between-rinke-and-hugo\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1595232866,"post_id":46372229,"comment_id":111392149,"body_markdown":"Instead of a `JacksonJaxbJsonProvider`, I&#39;m using a `ResteasyJackson2Provider` and register with a priority as suggested by https://stackoverflow.com/a/47200638/698168 because the ResteasyJackson2Provider was deserializing the LocalDate before my custom mapper. But I&#39;m using the same `ObjectMapper` configuration as you.","body":"Instead of a <code>JacksonJaxbJsonProvider</code>, I&#39;m using a <code>ResteasyJackson2Provider</code> and register with a priority as suggested by <a href=\"https://stackoverflow.com/a/47200638/698168\">stackoverflow.com/a/47200638/698168</a> because the ResteasyJackson2Provider was deserializing the LocalDate before my custom mapper. But I&#39;m using the same <code>ObjectMapper</code> configuration as you."}],"tags":[],"owner":{"account_id":11831241,"reputation":111,"user_id":8657912,"display_name":"Martijn"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690177708,"creation_date":1506109735,"answer_id":46372229,"question_id":46362969,"body_markdown":"In the example code, you&#39;re currently depending on jersey-media-json-jackson. You&#39;re probably better of by depending on Jackson&#39;s JAX-RS JSON as you are able to configure the Jackson mapper using the standard JAX-RS API (and of course the Jackson API).\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter removing the jersey-media-json-jackson and adding the jackson-jaxrs-json-provider dependency, you can configure the JacksonJaxbJsonProvider and register it in the class that produces the Client:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    import com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider;\r\n    import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\r\n    \r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    \r\n    import static com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider.DEFAULT_ANNOTATIONS;\r\n    \r\n    public class ClientProducer {\r\n    \r\n        private JacksonJsonProvider jsonProvider;\r\n    \r\n        public ClientProducer() {\r\n            // Create an ObjectMapper to be used for (de)serializing to/from JSON.\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            // Register the JavaTimeModule for JSR-310 DateTime (de)serialization\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            // Configure the object mapper te serialize to timestamp strings.\r\n            objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n            // Create a Jackson Provider\r\n            this.jsonProvider = new JacksonJaxbJsonProvider(objectMapper, DEFAULT_ANNOTATIONS);\r\n        }\r\n    \r\n        @Produces\r\n        public Client produceClient() {\r\n    \r\n            return ClientBuilder.newClient()\r\n                    // Register the jsonProvider\r\n                    .register(this.jsonProvider);\r\n        }\r\n    }\r\n","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>In the example code, you're currently depending on jersey-media-json-jackson. You're probably better of by depending on Jackson's JAX-RS JSON as you are able to configure the Jackson mapper using the standard JAX-RS API (and of course the Jackson API).</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After removing the jersey-media-json-jackson and adding the jackson-jaxrs-json-provider dependency, you can configure the JacksonJaxbJsonProvider and register it in the class that produces the Client:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider;\nimport com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\n\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\n\nimport static com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider.DEFAULT_ANNOTATIONS;\n\npublic class ClientProducer {\n\n    private JacksonJsonProvider jsonProvider;\n\n    public ClientProducer() {\n        // Create an ObjectMapper to be used for (de)serializing to/from JSON.\n        ObjectMapper objectMapper = new ObjectMapper();\n        // Register the JavaTimeModule for JSR-310 DateTime (de)serialization\n        objectMapper.registerModule(new JavaTimeModule());\n        // Configure the object mapper te serialize to timestamp strings.\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        // Create a Jackson Provider\n        this.jsonProvider = new JacksonJaxbJsonProvider(objectMapper, DEFAULT_ANNOTATIONS);\n    }\n\n    @Produces\n    public Client produceClient() {\n\n        return ClientBuilder.newClient()\n                // Register the jsonProvider\n                .register(this.jsonProvider);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525487961,"creation_date":1525487961,"answer_id":50185187,"question_id":46362969,"body_markdown":"You can configure the Jackson `ObjectMapper` in a [`ContextResolver`][1]. The Jackson JAX-RS provider will lookup this resolver and get the `ObjectMapper` from it.\r\n\r\n    @Provider\r\n    public class ObjectMapperResolver implements ContextResolver&lt;ObjectMapper&gt; {\r\n        private final ObjectMapper mapper;\r\n    \r\n        public ObjectMapperResolver() {\r\n            mapper = new ObjectMapper();\r\n            // configure mapper\r\n        }\r\n    \r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; cls) {\r\n            return mapper;\r\n        }\r\n    }\r\n\r\nThen just register the resolver like you would any other provider or resource in your JAX-RS application.\r\n\r\n[1]: https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>You can configure the Jackson <code>ObjectMapper</code> in a <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html\" rel=\"nofollow noreferrer\"><code>ContextResolver</code></a>. The Jackson JAX-RS provider will lookup this resolver and get the <code>ObjectMapper</code> from it.</p>\n\n<pre><code>@Provider\npublic class ObjectMapperResolver implements ContextResolver&lt;ObjectMapper&gt; {\n    private final ObjectMapper mapper;\n\n    public ObjectMapperResolver() {\n        mapper = new ObjectMapper();\n        // configure mapper\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; cls) {\n        return mapper;\n    }\n}\n</code></pre>\n\n<p>Then just register the resolver like you would any other provider or resource in your JAX-RS application.</p>\n"}],"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7586,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1690177708,"creation_date":1506077406,"question_id":46362969,"body_markdown":"I&#39;m making a serivce client for a REST endpoint, using a JAX-RS client for the HTTP requests and Jackson to (de)serialize JSON entities. In order to handle JSR-310 (Java8) date/time objects I added the `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` module as a dependency to the service client, but I didn&#39;t get it to work.\r\n\r\n**How to configure JAX-RS and/or Jackson to use the jsr310 module?**\r\n\r\nI use the following dependencies:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${jax-rs.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI don&#39;t want to make the service client (which is released as a library) dependent on any specific implementation – like Jersey, so I only depend on the JAX-RS API. To run my integration tests I added:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInstantiation of the JAX-RS client is done in a factory object, as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n\r\n    @Produces\r\n    public Client produceClient() {\r\n        return ClientBuilder.newClient();\r\n    }\r\n\r\nA typical DTO looks like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n    import java.time.Instant;\r\n\r\n    import static java.util.Objects.requireNonNull;\r\n\r\n    @JsonPropertyOrder({&quot;n&quot;, &quot;t&quot;})\r\n    public final class Message {\r\n\r\n        private final String name;\r\n        private final Instant timestamp;\r\n\r\n        @JsonCreator\r\n        public Message(@JsonProperty(&quot;n&quot;) final String name,\r\n                       @JsonProperty(&quot;t&quot;) final Instant timestamp) {\r\n            this.name = requireNonNull(name);\r\n            this.timestamp = requireNonNull(timestamp);\r\n        }\r\n\r\n        @JsonProperty(&quot;n&quot;)\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n\r\n        @JsonProperty(&quot;t&quot;)\r\n        public Instant getTimestamp() {\r\n            return this.timestamp;\r\n        }\r\n\r\n        // equals(Object), hashCode() and toString()\r\n    }\r\n\r\nRequests are done like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import javax.ws.rs.client.Entity;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n    public final class Gateway {\r\n\r\n        private final WebTarget endpoint;\r\n\r\n        public Message postSomething(final Something something) {\r\n            return this.endpoint\r\n                    .request(MediaType.APPLICATION_JSON_TYPE)\r\n                    .post(Entity.json(something), Message.class);\r\n        }\r\n\r\n        // where Message is the class defined above and Something is a similar DTO\r\n    }\r\n\r\nJSON serialization and deserialization works fine for Strings, ints, BigIntegers, Lists, etc. However, when I do something like `System.out.println(gateway.postSomthing(new Something(&quot;x&quot;, &quot;y&quot;));` in my tests I get the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;Fri, 22 Sep 2017 10:26:52 GMT&#39;)\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[&quot;t&quot;])\r\n            at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\r\n    Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;Fri, 22 Sep 2017 10:26:52 GMT&#39;)\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[&quot;t&quot;])\r\n            at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\r\n\r\nFrom which I conclude that Jackson doesn&#39;t know how to deserialize Strings into Instants. I found blogs and SO questions about this topic, but I found no clear explanation on how to make it work.\r\n\r\nNote that I&#39;d like the service client to handle date strings like `&quot;Fri, 22 Sep 2017 10:26:52 GMT&quot;` as well as `&quot;2017-09-22T10:26:52.123Z&quot;`, but I want it to always serialize to ISO 8601 date strings.\r\n\r\nWho can explain how to make deserialization into an `Instant` work?","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>I'm making a serivce client for a REST endpoint, using a JAX-RS client for the HTTP requests and Jackson to (de)serialize JSON entities. In order to handle JSR-310 (Java8) date/time objects I added the <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> module as a dependency to the service client, but I didn't get it to work.</p>\n\n<p><strong>How to configure JAX-RS and/or Jackson to use the jsr310 module?</strong></p>\n\n<p>I use the following dependencies:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n  &lt;version&gt;${jax-rs.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I don't want to make the service client (which is released as a library) dependent on any specific implementation – like Jersey, so I only depend on the JAX-RS API. To run my integration tests I added:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Instantiation of the JAX-RS client is done in a factory object, as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.Produces;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\n\n@Produces\npublic Client produceClient() {\n    return ClientBuilder.newClient();\n}\n</code></pre>\n\n<p>A typical DTO looks like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\nimport java.time.Instant;\n\nimport static java.util.Objects.requireNonNull;\n\n@JsonPropertyOrder({\"n\", \"t\"})\npublic final class Message {\n\n    private final String name;\n    private final Instant timestamp;\n\n    @JsonCreator\n    public Message(@JsonProperty(\"n\") final String name,\n                   @JsonProperty(\"t\") final Instant timestamp) {\n        this.name = requireNonNull(name);\n        this.timestamp = requireNonNull(timestamp);\n    }\n\n    @JsonProperty(\"n\")\n    public String getName() {\n        return this.name;\n    }\n\n    @JsonProperty(\"t\")\n    public Instant getTimestamp() {\n        return this.timestamp;\n    }\n\n    // equals(Object), hashCode() and toString()\n}\n</code></pre>\n\n<p>Requests are done like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.client.Entity;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.MediaType;\n\npublic final class Gateway {\n\n    private final WebTarget endpoint;\n\n    public Message postSomething(final Something something) {\n        return this.endpoint\n                .request(MediaType.APPLICATION_JSON_TYPE)\n                .post(Entity.json(something), Message.class);\n    }\n\n    // where Message is the class defined above and Something is a similar DTO\n}\n</code></pre>\n\n<p>JSON serialization and deserialization works fine for Strings, ints, BigIntegers, Lists, etc. However, when I do something like <code>System.out.println(gateway.postSomthing(new Something(\"x\", \"y\"));</code> in my tests I get the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('Fri, 22 Sep 2017 10:26:52 GMT')\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[\"t\"])\n        at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\nCannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('Fri, 22 Sep 2017 10:26:52 GMT')\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[\"t\"])\n        at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\n</code></pre>\n\n<p>From which I conclude that Jackson doesn't know how to deserialize Strings into Instants. I found blogs and SO questions about this topic, but I found no clear explanation on how to make it work.</p>\n\n<p>Note that I'd like the service client to handle date strings like <code>\"Fri, 22 Sep 2017 10:26:52 GMT\"</code> as well as <code>\"2017-09-22T10:26:52.123Z\"</code>, but I want it to always serialize to ISO 8601 date strings.</p>\n\n<p>Who can explain how to make deserialization into an <code>Instant</code> work?</p>\n"},{"tags":["java","spring-boot","java-8"],"answers":[{"tags":[],"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690177274,"creation_date":1601966133,"answer_id":64220515,"question_id":64220324,"body_markdown":"Have you included JavaTimeModule in your Jackson configuration?\r\n\r\nA related SO question &amp; answer here https://stackoverflow.com/a/32202201/134894\r\n\r\nTo copy/paste from that answer\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new JavaTimeModule());\r\n```\r\n\r\nOnce you have the module registered, you could also potentially configure the default `LocalDate` formatting, by registering a serializer.\r\n\r\n```\r\nSimpleModule module = new SimpleModule();\r\nmodule.addSerializer(LocalTime.class, new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\nmapper.registerModule(module);\r\n```\r\n\r\nActually, I see you&#39;re using Spring Boot.. so this might be more idiomatic for that environment\r\n\r\n```\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n  return builder -&gt; {\r\n    builder.serializers(new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\n    builder.deserializers(new LocalTimeDeserializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\n    builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n };\r\n}\r\n```","title":"LocalTime into Json - unable to change time format","body":"<p>Have you included JavaTimeModule in your Jackson configuration?</p>\n<p>A related SO question &amp; answer here <a href=\"https://stackoverflow.com/a/32202201/134894\">https://stackoverflow.com/a/32202201/134894</a></p>\n<p>To copy/paste from that answer</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>Once you have the module registered, you could also potentially configure the default <code>LocalDate</code> formatting, by registering a serializer.</p>\n<pre><code>SimpleModule module = new SimpleModule();\nmodule.addSerializer(LocalTime.class, new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\nmapper.registerModule(module);\n</code></pre>\n<p>Actually, I see you're using Spring Boot.. so this might be more idiomatic for that environment</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n  return builder -&gt; {\n    builder.serializers(new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\n    builder.deserializers(new LocalTimeDeserializer(DateTimeFormatter.ISO_LOCAL_TIME));\n    builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666763759,"post_id":74172616,"comment_id":131010442,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74172616/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26710077,"reputation":1,"user_id":20315609,"display_name":"Renato Dalforne de Oliveira"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666540597,"creation_date":1666540597,"answer_id":74172616,"question_id":64220324,"body_markdown":"You need to use &quot;KK, not &quot;HH&quot;\r\n\r\nCode Below:\r\n@JsonFormat(pattern=&quot;KK:mm&quot;)","title":"LocalTime into Json - unable to change time format","body":"<p>You need to use &quot;KK, not &quot;HH&quot;</p>\n<p>Code Below:\n@JsonFormat(pattern=&quot;KK:mm&quot;)</p>\n"}],"owner":{"account_id":13045288,"reputation":50,"user_id":9427318,"display_name":"Arockiasamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64220515,"answer_count":2,"score":0,"last_activity_date":1690177274,"creation_date":1601965203,"question_id":64220324,"body_markdown":"I have a class like the following\r\n\r\n~~~ java\r\npublic class TimePeroid implements Comparable&lt;TimePeroid&gt;, Serializable {\r\n\r\n    private static final long serialVersionUID = -65707223409901256L;\r\n        \r\n    @Expose\r\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n    private LocalTime start;\r\n        \r\n    @Expose\r\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n    private LocalTime end;\r\n    //getter setter\r\n}\r\n~~~\r\n\r\nAt response time when I convert it into a JSON string with the help of `ObjectMapper`, I get a JSON string like below\r\n\r\n~~~ json\r\n{\r\n&quot;start&quot; : {&quot;hour&quot;:6,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0},  \r\n&quot;end&quot;:{&quot;hour&quot;:18,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0}  \r\n}\r\n~~~\r\n\r\nBut I need it like this\r\n\r\n~~~ json\r\n{  \r\n&quot;start&quot;:&quot;06:00:00&quot;,  \r\n&quot;end&quot;:&quot;18:00:00&quot;  \r\n}\r\n~~~\r\n\r\nWhat I&#39;ve tried until now\r\n\r\n**Solution 1**\r\n\r\n~~~ java\r\nspring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\r\n~~~\r\n\r\n**Solution 2**\r\n\r\n~~~ java\r\n@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n~~~ \r\n\r\n**Solution 3**\r\n\r\n~~~ java\r\nObjectMapper mapperObj = new ObjectMapper();\r\n    \t\t\tmapperObj.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \t\t\tDateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \t\t\tmapperObj.setDateFormat(df);\r\n~~~\r\n\r\nNone of them works. please help me on this\r\n","title":"LocalTime into Json - unable to change time format","body":"<p>I have a class like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimePeroid implements Comparable&lt;TimePeroid&gt;, Serializable {\n\n    private static final long serialVersionUID = -65707223409901256L;\n        \n    @Expose\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n    private LocalTime start;\n        \n    @Expose\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n    private LocalTime end;\n    //getter setter\n}\n</code></pre>\n<p>At response time when I convert it into a JSON string with the help of <code>ObjectMapper</code>, I get a JSON string like below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;start&quot; : {&quot;hour&quot;:6,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0},  \n&quot;end&quot;:{&quot;hour&quot;:18,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0}  \n}\n</code></pre>\n<p>But I need it like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{  \n&quot;start&quot;:&quot;06:00:00&quot;,  \n&quot;end&quot;:&quot;18:00:00&quot;  \n}\n</code></pre>\n<p>What I've tried until now</p>\n<p><strong>Solution 1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n</code></pre>\n<p><strong>Solution 3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapperObj = new ObjectMapper();\n                mapperObj.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n                DateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\n                mapperObj.setDateFormat(df);\n</code></pre>\n<p>None of them works. please help me on this</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689945196,"post_id":76737890,"comment_id":135288646,"body_markdown":"Which Quarkus extension are you using?","body":"Which Quarkus extension are you using?"},{"owner":{"account_id":7423674,"reputation":1358,"user_id":5647005,"accept_rate":62,"display_name":"Piu130"},"score":0,"creation_date":1689946196,"post_id":76737890,"comment_id":135288860,"body_markdown":"@geoand I&#39;m using &#39;resteasy-reactive&#39;. Created a project with &#39;quarkus create app org.acme:getting-started --extension=&#39;resteasy-reactive&#39;&#39;. Added it to the question.","body":"@geoand I&#39;m using &#39;resteasy-reactive&#39;. Created a project with &#39;quarkus create app org.acme:getting-started --extension=&#39;resteasy-reactive&#39;&#39;. Added it to the question."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690177007,"creation_date":1690177007,"answer_id":76751670,"question_id":76737890,"body_markdown":"RESTEasy Reactive has `io.quarkus.resteasy.reactive.server.Closer` which you would use like this:\r\n\r\n        @GET\r\n        public Response get(@Context Closer closer) {\r\n            File file = new File();  \r\n            closer.add(() -&gt; file.delete());\r\n            return RestResponse.ok(&quot;something&quot;);\r\n        }","title":"How to remove a file after the request","body":"<p>RESTEasy Reactive has <code>io.quarkus.resteasy.reactive.server.Closer</code> which you would use like this:</p>\n<pre><code>    @GET\n    public Response get(@Context Closer closer) {\n        File file = new File();  \n        closer.add(() -&gt; file.delete());\n        return RestResponse.ok(&quot;something&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":7423674,"reputation":1358,"user_id":5647005,"accept_rate":62,"display_name":"Piu130"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76751670,"answer_count":1,"score":0,"last_activity_date":1690177007,"creation_date":1689941467,"question_id":76737890,"body_markdown":"I&#39;m creating files during a request. Since they are no more needed after the request I want to remove them from the filesystem.\r\n\r\nIn RestEasy there were `Cleanables`:\r\n\r\n    File file = new File();\r\n    Cleanables cleanables = ResteasyProviderFactory.getContextData(Cleanables.class);\r\n    cleanables.addCleanable(file); // removes the file after the request\r\n\r\nIs there something similar in Quarkus with extension `resteasy-reactive`?","title":"How to remove a file after the request","body":"<p>I'm creating files during a request. Since they are no more needed after the request I want to remove them from the filesystem.</p>\n<p>In RestEasy there were <code>Cleanables</code>:</p>\n<pre><code>File file = new File();\nCleanables cleanables = ResteasyProviderFactory.getContextData(Cleanables.class);\ncleanables.addCleanable(file); // removes the file after the request\n</code></pre>\n<p>Is there something similar in Quarkus with extension <code>resteasy-reactive</code>?</p>\n"},{"tags":["java","ftp","sftp","beanshell","sailpoint"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690095384,"post_id":76746830,"comment_id":135303305,"body_markdown":"I don&#39;t see where this code outputs anything at all, let alone this XML.","body":"I don&#39;t see where this code outputs anything at all, let alone this XML."},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690095904,"post_id":76746830,"comment_id":135303350,"body_markdown":"@user207421 this line --&gt;  return fileContentsList;","body":"@user207421 this line --&gt;  return fileContentsList;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1690097747,"post_id":76746830,"comment_id":135303499,"body_markdown":"1) You have mangled your source code.  `&amp;amp;&amp;amp;` is not valid Java.  2) `return fileContentsList;` is not outputting XML.  It is returning a list that apparently contains file names.","body":"1) You have mangled your source code.  <code>&amp;amp;&amp;amp;</code> is not valid Java.  2) <code>return fileContentsList;</code> is not outputting XML.  It is returning a list that apparently contains file names."},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690098158,"post_id":76746830,"comment_id":135303534,"body_markdown":"@StephenC updated the code, its not mangled its just the format in my app on how to represent special characters, its a bean shell script --&gt; https://beanshell.github.io/manual/contents.html \n\nAnd yes, its returning the filenames in a List, but what I was looking is a way to output the file contents instead of file names","body":"@StephenC updated the code, its not mangled its just the format in my app on how to represent special characters, its a bean shell script --&gt; <a href=\"https://beanshell.github.io/manual/contents.html\" rel=\"nofollow noreferrer\">beanshell.github.io/manual/contents.html</a>   And yes, its returning the filenames in a List, but what I was looking is a way to output the file contents instead of file names"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690100327,"post_id":76746830,"comment_id":135303744,"body_markdown":"What&#39;s with the XML? Ordinarily nothing to do with sftp/ssh","body":"What&#39;s with the XML? Ordinarily nothing to do with sftp/ssh"},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690112930,"post_id":76746830,"comment_id":135305021,"body_markdown":"@g00se yes xml has nothing to do with it, the out was a list of filenames, I was looking on how to get the file contents","body":"@g00se yes xml has nothing to do with it, the out was a list of filenames, I was looking on how to get the file contents"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1690113064,"post_id":76746830,"comment_id":135305035,"body_markdown":"@DC - Advice: if something has nothing to do with the task at hand **don&#39;t put it in the question**.  It only serves to **confuse** people.  Likewise, with tags.  AFAIK, `[sailpoint]` is not relevant to your question at all.","body":"@DC - Advice: if something has nothing to do with the task at hand <b>don&#39;t put it in the question</b>.  It only serves to <b>confuse</b> people.  Likewise, with tags.  AFAIK, <code>[sailpoint]</code> is not relevant to your question at all."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690118526,"post_id":76746830,"comment_id":135305667,"body_markdown":"If you want to get files, you should be using [this](https://www.javadoc.io/static/com.hierynomus/sshj/0.23.0/net/schmizz/sshj/sftp/SFTPClient.html#get-java.lang.String-java.lang.String-)","body":"If you want to get files, you should be using <a href=\"https://www.javadoc.io/static/com.hierynomus/sshj/0.23.0/net/schmizz/sshj/sftp/SFTPClient.html#get-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690176661,"post_id":76746830,"comment_id":135311299,"body_markdown":"@DC `return fileContentsList` does not constitute outputting anything, let alone XML.","body":"@DC <code>return fileContentsList</code> does not constitute outputting anything, let alone XML."}],"answers":[{"comments":[{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690134397,"post_id":76748061,"comment_id":135307723,"body_markdown":"Solved it found the right method, thanks for your inputs :) I have updated the code","body":"Solved it found the right method, thanks for your inputs :) I have updated the code"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690114362,"creation_date":1690112933,"answer_id":76748061,"question_id":76746830,"body_markdown":"I think that the problem is that you are using the APIs incorrectly.\r\n\r\nIf you look at the [examples][1] for `SFTPClient`, they don&#39;t use a method called `getretrieveFileStream`.  In fact, there isn&#39;t a method in the API whose name remotely resembles that.   Calling non-existent methods is *never* going to work.\r\n\r\nI recommend that you look at the examples for yourself and see if they do what you want.  And look at the javadocs for the APIs.  For example:\r\n\r\n  - [`SFTPClient`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPClient.html)\r\n  - [`RemoteFile`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.html)\r\n  - [`RemoteFile.RemoteFileInputStream`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.RemoteFileInputStream.html)\r\n\r\nI suspect the pattern for extracting the contents of a file will be something like this:\r\n\r\n 1. Obtain an `SFTPClient`.\r\n 2. Call `open` on the client to obtain a `RemoteFile` handle for the file you want to read.\r\n 3. Using that handle as the outer class context, invoke the `RemoteFileInputStream` no-args constructor to get an input stream.\r\n 4. Read from the input stream in the normal way\r\n 5. Close the stream and the handle\r\n \r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/hierynomus/sshj/tree/master/examples/src/main/java/net/schmizz/sshj/examples","title":"How to read files from SFTP client without JSch","body":"<p>I think that the problem is that you are using the APIs incorrectly.</p>\n<p>If you look at the <a href=\"https://github.com/hierynomus/sshj/tree/master/examples/src/main/java/net/schmizz/sshj/examples\" rel=\"nofollow noreferrer\">examples</a> for <code>SFTPClient</code>, they don't use a method called <code>getretrieveFileStream</code>.  In fact, there isn't a method in the API whose name remotely resembles that.   Calling non-existent methods is <em>never</em> going to work.</p>\n<p>I recommend that you look at the examples for yourself and see if they do what you want.  And look at the javadocs for the APIs.  For example:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPClient.html\" rel=\"nofollow noreferrer\"><code>SFTPClient</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.html\" rel=\"nofollow noreferrer\"><code>RemoteFile</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.RemoteFileInputStream.html\" rel=\"nofollow noreferrer\"><code>RemoteFile.RemoteFileInputStream</code></a></li>\n</ul>\n<p>I suspect the pattern for extracting the contents of a file will be something like this:</p>\n<ol>\n<li>Obtain an <code>SFTPClient</code>.</li>\n<li>Call <code>open</code> on the client to obtain a <code>RemoteFile</code> handle for the file you want to read.</li>\n<li>Using that handle as the outer class context, invoke the <code>RemoteFileInputStream</code> no-args constructor to get an input stream.</li>\n<li>Read from the input stream in the normal way</li>\n<li>Close the stream and the handle</li>\n</ol>\n"}],"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76748061,"answer_count":1,"score":-2,"last_activity_date":1690175605,"creation_date":1690092354,"question_id":76746830,"body_markdown":"I&#39;m trying to read a couple of files from SecureFTP client for run a daily report task:\r\n\r\nThe file contents from both the files(**.bck** file format) looks like this in each line\r\n\r\n|00000001|FirstName|LastName|Active|0001|00000000|\\\r\n|00000002|FirstName|LastName|Incctive|0002|00000001|\\\r\n|00000003|FirstName|LastName|Active|0003|00020002|\r\n\r\nSo far, I have successfully made the connection and able to read the file names but unable to read the file contents:\r\n\r\n```\r\n  import net.schmizz.sshj.SSHClient;\r\n  import net.schmizz.sshj.sftp.SFTPClient;\r\n  import net.schmizz.sshj.transport.verification.PromiscuousVerifier;\r\n  import net.schmizz.sshj.sftp.RemoteFile.RemoteFileInputStream;\r\n  import java.io.IOException;\r\n  import java.io.InputStream;\r\n  import java.time.LocalDate;\r\n  import java.time.format.DateTimeFormatter;\r\n  import java.util.ArrayList;\r\n  import java.util.List;\r\n  import org.apache.commons.io.IOUtils;\r\n\r\n  SSHClient ssh = new SSHClient();\r\n  ssh.addHostKeyVerifier(new PromiscuousVerifier());\r\n\r\n  try {\r\n    ssh.connect(&quot;ServerName&quot;);\r\n    ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\r\n\r\n    SFTPClient sftp = ssh.newSFTPClient();\r\n    List fileContentsList = new ArrayList();\r\n\r\n    try {\r\n      List files = sftp.ls(&quot;/&quot;);\r\n      LocalDate yesterday = LocalDate.now().minusDays(1);\r\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n      boolean usFileFound = false;\r\n      boolean caFileFound = false;\r\n\r\n      for (file : files) {\r\n        String fileName = file.getName();\r\n\r\n        if (!file.isDirectory()) {\r\n          if (fileName.contains(&quot;SAPHR_POS_CAEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !caFileFound) {\r\n            RemoteFile remoteFile = sftp.open(fileName); // Obtain the RemoteFile handle\r\n            InputStream inputStream = new RemoteFileInputStream(remoteFile); // Get the input stream\r\n            //List lines = Arrays.asList(fileContents.split(&quot;\\n&quot;));\r\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;); // Read contents as a string\r\n            fileContentsList.add(fileContents); // Add the contents as string to the list\r\n            caFileFound = true;\r\n            remoteFile.close();\r\n\r\n          } else if (fileName.contains(&quot;SAPHR_POS_USEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !usFileFound) {\r\n            RemoteFile remoteFile = sftp.open(fileName); \r\n            InputStream inputStream = new RemoteFileInputStream(remoteFile);\r\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;);\r\n            fileContentsList.add(fileContents);\r\n            usFileFound = true;\r\n            remoteFile.close();\r\n          }\r\n          if (caFileFound &amp;&amp; usFileFound) {\r\n            break; // Stop after both files found\r\n          }\r\n        }\r\n      }\r\n    } finally {\r\n      sftp.close();\r\n    }\r\n\r\n    String result = String.join(&quot;\\n&quot;, fileContentsList);\r\n    return result;\r\n  } finally {\r\n    try {\r\n      ssh.disconnect();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n```\r\n\r\n\r\nThe output from current code:\r\n\r\n````\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;!DOCTYPE List PUBLIC &quot;sailpoint.dtd&quot; &quot;sailpoint.dtd&quot;&gt;\r\n&lt;List&gt;\r\n  &lt;String&gt;SAPHR_POS_CAEEMD_20230722.txt1690068889231.bck&lt;/String&gt;\r\n  &lt;String&gt;SAPHR_POS_USEEMD_20230722.txt1690068894774.bck&lt;/String&gt;\r\n&lt;/List&gt;\r\n````\r\n\r\nThe error received while trying to perform the commented lines in above code:\r\n\r\n    Exception running rule: BeanShell script error: bsh.EvalError: Sourced file: inline evaluation of: \r\n    Author: user007 Date: 16-07-2023\t Details: ********* . . . &#39;&#39; : Typed variable declaration : Error in method invocation: Method getInputStream(java.lang.String) not found in class&#39;net.schmizz.sshj.sftp.SFTPClient&#39; :\r\n    at Line: 48 : in file: inline evaluation of:\r\n    ``   /*********** Author: user007  Date: 16-07-2023\t Details: ********* . . . &#39;&#39; : sftp .getInputStream ( fileName )   BSF info: usersReport\r\n    at line: 0 column: columnNo\r\n\r\n","title":"How to read files from SFTP client without JSch","body":"<p>I'm trying to read a couple of files from SecureFTP client for run a daily report task:</p>\n<p>The file contents from both the files(<strong>.bck</strong> file format) looks like this in each line</p>\n<p>|00000001|FirstName|LastName|Active|0001|00000000|<br />\n|00000002|FirstName|LastName|Incctive|0002|00000001|<br />\n|00000003|FirstName|LastName|Active|0003|00020002|</p>\n<p>So far, I have successfully made the connection and able to read the file names but unable to read the file contents:</p>\n<pre><code>  import net.schmizz.sshj.SSHClient;\n  import net.schmizz.sshj.sftp.SFTPClient;\n  import net.schmizz.sshj.transport.verification.PromiscuousVerifier;\n  import net.schmizz.sshj.sftp.RemoteFile.RemoteFileInputStream;\n  import java.io.IOException;\n  import java.io.InputStream;\n  import java.time.LocalDate;\n  import java.time.format.DateTimeFormatter;\n  import java.util.ArrayList;\n  import java.util.List;\n  import org.apache.commons.io.IOUtils;\n\n  SSHClient ssh = new SSHClient();\n  ssh.addHostKeyVerifier(new PromiscuousVerifier());\n\n  try {\n    ssh.connect(&quot;ServerName&quot;);\n    ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\n\n    SFTPClient sftp = ssh.newSFTPClient();\n    List fileContentsList = new ArrayList();\n\n    try {\n      List files = sftp.ls(&quot;/&quot;);\n      LocalDate yesterday = LocalDate.now().minusDays(1);\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n      boolean usFileFound = false;\n      boolean caFileFound = false;\n\n      for (file : files) {\n        String fileName = file.getName();\n\n        if (!file.isDirectory()) {\n          if (fileName.contains(&quot;SAPHR_POS_CAEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !caFileFound) {\n            RemoteFile remoteFile = sftp.open(fileName); // Obtain the RemoteFile handle\n            InputStream inputStream = new RemoteFileInputStream(remoteFile); // Get the input stream\n            //List lines = Arrays.asList(fileContents.split(&quot;\\n&quot;));\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;); // Read contents as a string\n            fileContentsList.add(fileContents); // Add the contents as string to the list\n            caFileFound = true;\n            remoteFile.close();\n\n          } else if (fileName.contains(&quot;SAPHR_POS_USEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !usFileFound) {\n            RemoteFile remoteFile = sftp.open(fileName); \n            InputStream inputStream = new RemoteFileInputStream(remoteFile);\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;);\n            fileContentsList.add(fileContents);\n            usFileFound = true;\n            remoteFile.close();\n          }\n          if (caFileFound &amp;&amp; usFileFound) {\n            break; // Stop after both files found\n          }\n        }\n      }\n    } finally {\n      sftp.close();\n    }\n\n    String result = String.join(&quot;\\n&quot;, fileContentsList);\n    return result;\n  } finally {\n    try {\n      ssh.disconnect();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n<p>The output from current code:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;!DOCTYPE List PUBLIC &quot;sailpoint.dtd&quot; &quot;sailpoint.dtd&quot;&gt;\n&lt;List&gt;\n  &lt;String&gt;SAPHR_POS_CAEEMD_20230722.txt1690068889231.bck&lt;/String&gt;\n  &lt;String&gt;SAPHR_POS_USEEMD_20230722.txt1690068894774.bck&lt;/String&gt;\n&lt;/List&gt;\n</code></pre>\n<p>The error received while trying to perform the commented lines in above code:</p>\n<pre><code>Exception running rule: BeanShell script error: bsh.EvalError: Sourced file: inline evaluation of: \nAuthor: user007 Date: 16-07-2023     Details: ********* . . . '' : Typed variable declaration : Error in method invocation: Method getInputStream(java.lang.String) not found in class'net.schmizz.sshj.sftp.SFTPClient' :\nat Line: 48 : in file: inline evaluation of:\n``   /*********** Author: user007  Date: 16-07-2023  Details: ********* . . . '' : sftp .getInputStream ( fileName )   BSF info: usersReport\nat line: 0 column: columnNo\n</code></pre>\n"},{"tags":["java","spring","security","tomcat","kerberos"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690103492,"post_id":76739993,"comment_id":135304036,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":29065381,"reputation":1,"user_id":22265109,"display_name":"Olga D"},"score":0,"creation_date":1690499756,"post_id":76751507,"comment_id":135366435,"body_markdown":"Thank you for the mechanism explanation! I have implemented the logic with 401 reply with negotiate header and it works now. The problem was somewhere in config krb5.conf","body":"Thank you for the mechanism explanation! I have implemented the logic with 401 reply with negotiate header and it works now. The problem was somewhere in config krb5.conf"}],"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690174708,"creation_date":1690174708,"answer_id":76751507,"question_id":76739993,"body_markdown":"Well, &quot;WWW-Authenticate: Negotiate&quot; _literally means_ SPNEGO will be used for authentication – on the server side, you&#39;re supposed to validate the token using a SPNEGO implementation. (And when SPNEGO validates a Kerberos ticket, it _always_ does that via GSS-API, even if that stays internal to the implementation.)\r\n\r\nHowever, it all starts on the client side – Windows on the client machine requests a token specifying SPNEGO as the mechanism, and the mechanism decides whether to attempt Kerberos first, or whether to try NTLM.\r\n\r\nIf the client starts by sending an NTLM token instead of Kerberos, that is not because of a missing header – instead it usually means it has failed to obtain a Kerberos ticket for `HTTP/&lt;fqdn&gt;`, e.g. because you haven&#39;t registered a SPN for the server within Active Directory. (You would normally have done this as part of creating the service account or keytab which Tomcat/Spring needs to actually validate the Kerberos tickets.)\r\n\r\nTest from Windows clients using `klist get HTTP/&lt;fqdn&gt;` (the FQDN must exactly match the name that&#39;s in the URL – note that IP addresses will not work).","title":"Is SPNEGO/GSS-API required for Kerberos or &quot;WWW-Authenticate: Negotiate&quot; is enough?","body":"<p>Well, &quot;WWW-Authenticate: Negotiate&quot; <em>literally means</em> SPNEGO will be used for authentication – on the server side, you're supposed to validate the token using a SPNEGO implementation. (And when SPNEGO validates a Kerberos ticket, it <em>always</em> does that via GSS-API, even if that stays internal to the implementation.)</p>\n<p>However, it all starts on the client side – Windows on the client machine requests a token specifying SPNEGO as the mechanism, and the mechanism decides whether to attempt Kerberos first, or whether to try NTLM.</p>\n<p>If the client starts by sending an NTLM token instead of Kerberos, that is not because of a missing header – instead it usually means it has failed to obtain a Kerberos ticket for <code>HTTP/&lt;fqdn&gt;</code>, e.g. because you haven't registered a SPN for the server within Active Directory. (You would normally have done this as part of creating the service account or keytab which Tomcat/Spring needs to actually validate the Kerberos tickets.)</p>\n<p>Test from Windows clients using <code>klist get HTTP/&lt;fqdn&gt;</code> (the FQDN must exactly match the name that's in the URL – note that IP addresses will not work).</p>\n"}],"owner":{"account_id":29065381,"reputation":1,"user_id":22265109,"display_name":"Olga D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690174708,"creation_date":1689960114,"question_id":76739993,"body_markdown":"I am trying to implement Kerberos authentication. I have windows server with ad, windows client and application server with tomcat and Spring.\r\n\r\nThe problem is I got NTLM ticket instead of kerberos.\r\n\r\nOn applicatin server side I just return 401 with &quot;WWW-Authenticate: Negotiate&quot;. Is it enough to force windows client choose Kerberos and the problem  of NTLM somewhere on windows client/ windows server with ad configuration?\r\n\r\nOr using SPNEGO or GSS-APi is required for getting Kerberos token?\r\n\r\nI can&#39;t cofigure application server as in this tutorial https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/.\r\n\r\nWe do not use web dependency, just spring security and custom authentication/authorization logic. We have some authorization providers (Basic, LDAP and Kerberos has to be next), if one accepts - user authorized. Also there is no way to use SPNEGO filter or any other Filter. Only  AbstractPhaseInterceptor and InterceptionProvider.\r\n\r\nI tried cofigure tomcat with krb5.conf, krb5.ini adding spnego.jar to libs with no affect.","title":"Is SPNEGO/GSS-API required for Kerberos or &quot;WWW-Authenticate: Negotiate&quot; is enough?","body":"<p>I am trying to implement Kerberos authentication. I have windows server with ad, windows client and application server with tomcat and Spring.</p>\n<p>The problem is I got NTLM ticket instead of kerberos.</p>\n<p>On applicatin server side I just return 401 with &quot;WWW-Authenticate: Negotiate&quot;. Is it enough to force windows client choose Kerberos and the problem  of NTLM somewhere on windows client/ windows server with ad configuration?</p>\n<p>Or using SPNEGO or GSS-APi is required for getting Kerberos token?</p>\n<p>I can't cofigure application server as in this tutorial <a href=\"https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/</a>.</p>\n<p>We do not use web dependency, just spring security and custom authentication/authorization logic. We have some authorization providers (Basic, LDAP and Kerberos has to be next), if one accepts - user authorized. Also there is no way to use SPNEGO filter or any other Filter. Only  AbstractPhaseInterceptor and InterceptionProvider.</p>\n<p>I tried cofigure tomcat with krb5.conf, krb5.ini adding spnego.jar to libs with no affect.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1690173306,"post_id":76751118,"comment_id":135311013,"body_markdown":"No SSL/TLS server of any kind can do that, not tomcat and not any other, because the protocol doesn&#39;t allow it -- unless you also change the domain name (and the clients use SNI, which pretty much all now do). If you can&#39;t use &#39;real&#39; certs from one or more standardly-trusted CA(s), the safe method is to set all clients to accept _both_ old and new, then change server to use new, then if you want and when convenient change clients to not accept old.","body":"No SSL/TLS server of any kind can do that, not tomcat and not any other, because the protocol doesn&#39;t allow it -- unless you also change the domain name (and the clients use SNI, which pretty much all now do). If you can&#39;t use &#39;real&#39; certs from one or more standardly-trusted CA(s), the safe method is to set all clients to accept <i>both</i> old and new, then change server to use new, then if you want and when convenient change clients to not accept old."},{"owner":{"account_id":13753611,"reputation":11,"user_id":9925107,"display_name":"Farouk Osama"},"score":0,"creation_date":1690269150,"post_id":76751118,"comment_id":135325704,"body_markdown":"Many thanks Dear for your valuable comment, will read more about SNI usage","body":"Many thanks Dear for your valuable comment, will read more about SNI usage"}],"owner":{"account_id":13753611,"reputation":11,"user_id":9925107,"display_name":"Farouk Osama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690173082,"creation_date":1690166979,"question_id":76751118,"body_markdown":"I want my tomcat server to serve more than one certificate; the old certificate is about to expire, and i want to update it without denying the service for clients didn&#39;t update it yet, giving them a change to switch to new one. I have a connector configuration like this \r\n```\r\n&lt;Connector\r\n           protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n           port=&quot;8080&quot; acceptCount=&quot;100&quot; maxConnections=&quot;400&quot; maxThreads=&quot;2000&quot; maxHttpHeaderSize=&quot;65536&quot;\r\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\r\n           keystoreFile=&quot;keystore.p12&quot; keystorePass=&quot;****&quot;  keyAlias=&quot;alias_new&quot;\r\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;/&gt;\r\n```\r\nIs there any why i can change the configuration to server both certificate (both &#39;alias_new&#39; &amp; &#39;alias_old&#39;)?\r\n\r\nI tried adding two private key entries to my keystore, and removing alias field from connector, but it always picks up one of them and all clients validating the other one are declined.","title":"Updating expired certificate at tomcat, without removing the old one","body":"<p>I want my tomcat server to serve more than one certificate; the old certificate is about to expire, and i want to update it without denying the service for clients didn't update it yet, giving them a change to switch to new one. I have a connector configuration like this</p>\n<pre><code>&lt;Connector\n           protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           port=&quot;8080&quot; acceptCount=&quot;100&quot; maxConnections=&quot;400&quot; maxThreads=&quot;2000&quot; maxHttpHeaderSize=&quot;65536&quot;\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\n           keystoreFile=&quot;keystore.p12&quot; keystorePass=&quot;****&quot;  keyAlias=&quot;alias_new&quot;\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;/&gt;\n</code></pre>\n<p>Is there any why i can change the configuration to server both certificate (both 'alias_new' &amp; 'alias_old')?</p>\n<p>I tried adding two private key entries to my keystore, and removing alias field from connector, but it always picks up one of them and all clients validating the other one are declined.</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687544642,"post_id":76542601,"comment_id":134957342,"body_markdown":"*Student [] std = new Student [3];* You don&#39;t then create any instances of `Student` and store them in the array. Also, yes, when you&#39;ve solved that, don&#39;t hardcode the index as @NathanHughes said. And watch your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions). *INFO* (never method names in upper case. only the names of constants) should be `toString()`","body":"<i>Student [] std = new Student [3];</i> You don&#39;t then create any instances of <code>Student</code> and store them in the array. Also, yes, when you&#39;ve solved that, don&#39;t hardcode the index as @NathanHughes said. And watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a>. <i>INFO</i> (never method names in upper case. only the names of constants) should be <code>toString()</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687546692,"post_id":76542601,"comment_id":134957638,"body_markdown":"The array initialization won&#39;t create each instance, you&#39;ll have to manually do this before using the _set_ methods.  This is unlike primitive array initialization, which will set all values to _0_.","body":"The array initialization won&#39;t create each instance, you&#39;ll have to manually do this before using the <i>set</i> methods.  This is unlike primitive array initialization, which will set all values to <i>0</i>."}],"answers":[{"tags":[],"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687544962,"creation_date":1687544962,"answer_id":76542687,"question_id":76542601,"body_markdown":"You are missing just a few things, here you go:\r\n\r\n        for (int i = 0; i &lt; std.length; i++) {\r\n            std[i] = new Student();\r\n            System.out.println(&quot;student &quot;+ (i));\r\n            std[i].setName();\r\n            std[i].setMarks();\r\n            std[i].INFO();\r\n        }   \r\n\r\n\r\nTeh first thing was creating the object instances, the other thing was referencing them with &#39;i&#39; instead of 0;","title":"NullPointerException with an array of objects","body":"<p>You are missing just a few things, here you go:</p>\n<pre><code>    for (int i = 0; i &lt; std.length; i++) {\n        std[i] = new Student();\n        System.out.println(&quot;student &quot;+ (i));\n        std[i].setName();\n        std[i].setMarks();\n        std[i].INFO();\n    }   \n</code></pre>\n<p>Teh first thing was creating the object instances, the other thing was referencing them with 'i' instead of 0;</p>\n"},{"tags":[],"owner":{"account_id":28075822,"reputation":59,"user_id":21447701,"display_name":"Buddhima Kaushalya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690173038,"creation_date":1690173038,"answer_id":76751418,"question_id":76542601,"body_markdown":"The problem lies in how you initialize and use the std array of Student objects in the Main class. The for loop inside the main method always uses std[0] to access the elements of the array, so all other elements (std[1] and std[2]) remain null. This causes a NullPointerException when trying to call a method on a null element. To fix the error you can use this code snippet.\r\n\r\n    for (int i = 0; i &lt; std.length; i++) {\r\n            std[i] = new Student(); // Initialize each element of the array\r\n            System.out.println(&quot;student &quot; + (i + 1));\r\n            std[i].setName();\r\n            std[i].setMarks();\r\n            std[i].INFO();\r\n    }","title":"NullPointerException with an array of objects","body":"<p>The problem lies in how you initialize and use the std array of Student objects in the Main class. The for loop inside the main method always uses std[0] to access the elements of the array, so all other elements (std[1] and std[2]) remain null. This causes a NullPointerException when trying to call a method on a null element. To fix the error you can use this code snippet.</p>\n<pre><code>for (int i = 0; i &lt; std.length; i++) {\n        std[i] = new Student(); // Initialize each element of the array\n        System.out.println(&quot;student &quot; + (i + 1));\n        std[i].setName();\n        std[i].setMarks();\n        std[i].INFO();\n}\n</code></pre>\n"}],"owner":{"account_id":28257154,"reputation":1,"user_id":21602451,"display_name":"Zaid Bakdash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690173038,"creation_date":1687544155,"question_id":76542601,"body_markdown":"I dont know why std[i] is null which is making an error \r\nError :\r\nstudent 1\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Student.setName()&quot; because &quot;&lt;local1&gt;[0]&quot; is null\r\n        at Main.main(Main.java:7)\r\nStudent class :\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Student {\r\n    \r\n    private String Name;\r\n    private int [] Marks = new int [3];\r\n    Scanner in = new Scanner(System.in);\r\n    public void setName () {\r\n        System.out.print(&quot;Enter Name : &quot;);\r\n        Name = in.nextLine();\r\n    }\r\n    public void setMarks () {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            System.out.print(&quot;Enter Mark &quot;+ (i+1) +&quot; : &quot;);\r\n            Marks[i] = in.nextInt();\r\n        } \r\n    }\r\n    public Student () {}\r\n    public Student (String Name, int [] Marks) {\r\n        this.Name = Name;\r\n        this.Marks = Marks;\r\n    }\r\n    public float AVG () {\r\n        int Sum = 0;\r\n        for (int i : Marks) {\r\n            Sum += i;    \r\n        }\r\n        return (float) Sum / 3;\r\n    }\r\n    public void INFO () {\r\n        System.out.println(&quot;Name : &quot;+ Name);    \r\n        int c = 1;   \r\n        for (int i : Marks) {\r\n            System.out.println(&quot;Mark &quot;+ c +&quot;: &quot;+ i);\r\n            c++;\r\n        }\r\n        System.out.println(&quot;AVG of &quot;+ this.Name +&quot;: &quot;+ AVG());\r\n    }\r\n}\r\n```\r\nMain class :\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        Student [] std = new Student [3];\r\n        for (int i = 0; i &lt; std.length; i++) {\r\n            System.out.println(&quot;student &quot;+ (i+1));\r\n            std[0].setName();\r\n            std[0].setMarks();\r\n            std[0].INFO();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nthe code was working when declarating one object only but it is not working with an array of objects","title":"NullPointerException with an array of objects","body":"<p>I dont know why std[i] is null which is making an error\nError :\nstudent 1\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Student.setName()&quot; because &quot;[0]&quot; is null\nat Main.main(Main.java:7)\nStudent class :</p>\n<pre><code>import java.util.Scanner;\n\npublic class Student {\n    \n    private String Name;\n    private int [] Marks = new int [3];\n    Scanner in = new Scanner(System.in);\n    public void setName () {\n        System.out.print(&quot;Enter Name : &quot;);\n        Name = in.nextLine();\n    }\n    public void setMarks () {\n        for (int i = 0; i &lt; 3; i++) {\n            System.out.print(&quot;Enter Mark &quot;+ (i+1) +&quot; : &quot;);\n            Marks[i] = in.nextInt();\n        } \n    }\n    public Student () {}\n    public Student (String Name, int [] Marks) {\n        this.Name = Name;\n        this.Marks = Marks;\n    }\n    public float AVG () {\n        int Sum = 0;\n        for (int i : Marks) {\n            Sum += i;    \n        }\n        return (float) Sum / 3;\n    }\n    public void INFO () {\n        System.out.println(&quot;Name : &quot;+ Name);    \n        int c = 1;   \n        for (int i : Marks) {\n            System.out.println(&quot;Mark &quot;+ c +&quot;: &quot;+ i);\n            c++;\n        }\n        System.out.println(&quot;AVG of &quot;+ this.Name +&quot;: &quot;+ AVG());\n    }\n}\n</code></pre>\n<p>Main class :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception{\n\n        Student [] std = new Student [3];\n        for (int i = 0; i &lt; std.length; i++) {\n            System.out.println(&quot;student &quot;+ (i+1));\n            std[0].setName();\n            std[0].setMarks();\n            std[0].INFO();\n        }\n    }\n}\n</code></pre>\n<p>the code was working when declarating one object only but it is not working with an array of objects</p>\n"},{"tags":["java","maven","spring-boot","slf4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444628182,"post_id":33071002,"comment_id":53965402,"body_markdown":"How are you running it as a Spring Boot application? I don&#39;t understand what you mean.","body":"How are you running it as a Spring Boot application? I don&#39;t understand what you mean."},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1444690017,"post_id":33071002,"comment_id":53998731,"body_markdown":"@M.Deinum i meant with that to the launcher provided by STS","body":"@M.Deinum i meant with that to the launcher provided by STS"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444715027,"post_id":33071002,"comment_id":54005651,"body_markdown":"Might be that that adds (accidentally) some dependencies, not sure haven&#39;t used STS in a while :).","body":"Might be that that adds (accidentally) some dependencies, not sure haven&#39;t used STS in a while :)."}],"answers":[{"tags":[],"owner":{"account_id":5800032,"reputation":2207,"user_id":4574487,"display_name":"Avis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444631426,"creation_date":1444631426,"answer_id":33074550,"question_id":33071002,"body_markdown":"You using logback.xml on your classpath &amp; have spring-boot-starter-log4j:jar on your pom thats why the conflict for which **StaticLoggerBinder** to use. \r\n\r\n    SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n\r\nPls remove either one of the logging library, say spring-boot-starter-log4j from your pom to remove the conflict.","title":"Spring Boot: multiple SLF4J bindings","body":"<p>You using logback.xml on your classpath &amp; have spring-boot-starter-log4j:jar on your pom thats why the conflict for which <strong>StaticLoggerBinder</strong> to use. </p>\n\n<pre><code>SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n</code></pre>\n\n<p>Pls remove either one of the logging library, say spring-boot-starter-log4j from your pom to remove the conflict.</p>\n"},{"comments":[{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1444690375,"post_id":33076035,"comment_id":53998844,"body_markdown":"this solved the problem if i run it as Spring Boot App, but fails if i run it as Java Application (contrary as what were happening at the beginning). Any ideas? thanks","body":"this solved the problem if i run it as Spring Boot App, but fails if i run it as Java Application (contrary as what were happening at the beginning). Any ideas? thanks"},{"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"score":0,"creation_date":1444739150,"post_id":33076035,"comment_id":54020073,"body_markdown":"What is the difference between the two launching methods?","body":"What is the difference between the two launching methods?"},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1444785256,"post_id":33076035,"comment_id":54044304,"body_markdown":"As it is documented on [doc](https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4#running-a-boot-app-in-sts), apparently when running an app as Spring Boot App it adds some stuff","body":"As it is documented on <a href=\"https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4#running-a-boot-app-in-sts\" rel=\"nofollow noreferrer\">doc</a>, apparently when running an app as Spring Boot App it adds some stuff"},{"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"score":1,"creation_date":1444810285,"post_id":33076035,"comment_id":54053121,"body_markdown":"I have used spring-boot, but I don&#39;t have a running example here.  So I&#39;m not sure how I can help further.  I would suggest finding the code in spring boot that sets up the loggers, and check if it&#39;s being called in both launch modes.","body":"I have used spring-boot, but I don&#39;t have a running example here.  So I&#39;m not sure how I can help further.  I would suggest finding the code in spring boot that sets up the loggers, and check if it&#39;s being called in both launch modes."}],"tags":[],"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1444636861,"creation_date":1444636861,"answer_id":33076035,"question_id":33071002,"body_markdown":"Remove the dependency on `spring-boot-starter-log4j` which is bringing in `slf4j-log4j12`, I think you should use use `log4j-over-slf4j` if you have some code that depends on log4j.  See [here][1] for a distinction.\r\n\r\n\r\n  [1]: http://www.slf4j.org/legacy.html","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Remove the dependency on <code>spring-boot-starter-log4j</code> which is bringing in <code>slf4j-log4j12</code>, I think you should use use <code>log4j-over-slf4j</code> if you have some code that depends on log4j.  See <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">here</a> for a distinction.</p>\n"},{"comments":[{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1444690071,"post_id":33076643,"comment_id":53998751,"body_markdown":"I did it, and still the same. Thanks anyways","body":"I did it, and still the same. Thanks anyways"},{"owner":{"account_id":1575294,"reputation":47,"user_id":1461926,"display_name":"JZH"},"score":0,"creation_date":1444703535,"post_id":33076643,"comment_id":54002248,"body_markdown":"I have one workaround , You can remove dependency from pom.xml one by one to check logback related jar files involved by which one","body":"I have one workaround , You can remove dependency from pom.xml one by one to check logback related jar files involved by which one"}],"tags":[],"owner":{"account_id":1575294,"reputation":47,"user_id":1461926,"display_name":"JZH"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1444639045,"creation_date":1444639045,"answer_id":33076643,"question_id":33071002,"body_markdown":"This error is caused by there are more than one SLF4J implementation in class path . \r\nSLF4J is an abstraction for various logging frameworks(such as log4j or logback) ,which detects the implementation during compile phase by static method .\r\n\r\nFrom your dependency:tree , I only find log4j ,there is no logback related jar\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\r\n    [INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\r\n    [INFO] |  \\- log4j:log4j:jar:1.2.17:compile\r\n\r\nYou should try to run maven - update project firstly , and check it again .","title":"Spring Boot: multiple SLF4J bindings","body":"<p>This error is caused by there are more than one SLF4J implementation in class path . \nSLF4J is an abstraction for various logging frameworks(such as log4j or logback) ,which detects the implementation during compile phase by static method .</p>\n\n<p>From your dependency:tree , I only find log4j ,there is no logback related jar</p>\n\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\n</code></pre>\n\n<p>You should try to run maven - update project firstly , and check it again .</p>\n"},{"comments":[{"owner":{"account_id":291410,"reputation":162,"user_id":2618186,"display_name":"R. Sluiter"},"score":2,"creation_date":1514032057,"post_id":33962453,"comment_id":82874311,"body_markdown":"if I do this I get a new &#39;error&#39;:\nlog4j:WARN No appenders could be found for logger (org.springframework.core.env.StandardEnvironment).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n\nIf I ommit the log4j-over-slf4j from the exclusion list I get:\nSLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError.\nSLF4J: See also http://www.slf4j.org/codes.html#log4jDelegationLoop for more details.","body":"if I do this I get a new &#39;error&#39;: log4j:WARN No appenders could be found for logger (org.springframework.core.env.StandardEnvironment). log4j:WARN Please initialize the log4j system properly. log4j:WARN See <a href=\"http://logging.apache.org/log4j/1.2/faq.html#noconfig\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2/faq.html#noconfig</a> for more info.  If I ommit the log4j-over-slf4j from the exclusion list I get: SLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError. SLF4J: See also <a href=\"http://www.slf4j.org/codes.html#log4jDelegationLoop\" rel=\"nofollow noreferrer\">slf4j.org/codes.html#log4jDelegationLoop</a> for more details."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1562482645,"post_id":33962453,"comment_id":100382541,"body_markdown":"I get the same behaviour, if I exclude as above then log4j is not initialised. If I don&#39;t exclude I get the class path error.","body":"I get the same behaviour, if I exclude as above then log4j is not initialised. If I don&#39;t exclude I get the class path error."},{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":0,"creation_date":1674652794,"post_id":33962453,"comment_id":132759734,"body_markdown":"For maven mvn surefire plugin [exclude separatey](/q/12053316) using a `classpathDependencyExclude`. Results in `&lt;configuration&gt;\n            &lt;classpathDependencyExcludes&gt;\n              &lt;classpathDependencyExclude&gt;org.springframework.boot:spring-boot-starter-logging&lt;/classpathDependencyExclude&gt;\n            &lt;/classpathDependencyExcludes&gt;\n          &lt;/configuration&gt;`","body":"For maven mvn surefire plugin <a href=\"/q/12053316\">exclude separatey</a> using a <code>classpathDependencyExclude</code>. Results in <code>&lt;configuration&gt;             &lt;classpathDependencyExcludes&gt;               &lt;classpathDependencyExclude&gt;org.springframework.boot:spring-&zwnj;&#8203;boot-starter-logging&zwnj;&#8203;&lt;&#47;classpathDependenc&zwnj;&#8203;yExclude&gt;             &lt;&#47;classpathDependencyExcludes&gt;           &lt;&#47;configuration&gt;</code>"}],"tags":[],"owner":{"account_id":2131672,"reputation":743,"user_id":1892382,"accept_rate":50,"display_name":"Stephen"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1448646001,"creation_date":1448646001,"answer_id":33962453,"question_id":33071002,"body_markdown":"I had the exact same problem and could only see the dependency coming from spring boot. It also brought in log4j-over-slf4j, which clashed with my own requirement of slf4j-log4j12. Solved by adding the exclusions below. This is more specific that excluding the spring boot logging.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>I had the exact same problem and could only see the dependency coming from spring boot. It also brought in log4j-over-slf4j, which clashed with my own requirement of slf4j-log4j12. Solved by adding the exclusions below. This is more specific that excluding the spring boot logging.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":1,"creation_date":1600208420,"post_id":56754357,"comment_id":113014289,"body_markdown":"This IS an answer to this question.","body":"This IS an answer to this question."}],"tags":[],"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561466587,"creation_date":1561466587,"answer_id":56754357,"question_id":33071002,"body_markdown":"When want to use log4j for logging, and exclude default logback implementation, add this dependency if not already there, or add the exclusion clause.\r\n\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n     &lt;exclusions&gt;\r\n    \t &lt;exclusion&gt;\r\n    \t &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n         &lt;/exclusion&gt;\r\n     &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nRefer [Spring Logging - How To][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html","title":"Spring Boot: multiple SLF4J bindings","body":"<p>When want to use log4j for logging, and exclude default logback implementation, add this dependency if not already there, or add the exclusion clause.</p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n &lt;exclusions&gt;\n     &lt;exclusion&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n     &lt;/exclusion&gt;\n &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Refer <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"noreferrer\">Spring Logging - How To</a>.</p>\n"},{"tags":[],"owner":{"account_id":4815616,"reputation":361,"user_id":3957413,"display_name":"SaschaH"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1568131681,"creation_date":1568131681,"answer_id":57874550,"question_id":33071002,"body_markdown":"Since all earlier answers haven&#39;t been successful to get log4j2 working (at least not for me), I found the solution at https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging. Basically, exclude `org.springframework.boot:spring-boot-starter-logging` from `org.springframework.boot:spring-boot-starter` and add `org.springframework.boot:spring-boot-starter-log4j2` as dependency in your `pom.xml`.","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Since all earlier answers haven't been successful to get log4j2 working (at least not for me), I found the solution at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging</a>. Basically, exclude <code>org.springframework.boot:spring-boot-starter-logging</code> from <code>org.springframework.boot:spring-boot-starter</code> and add <code>org.springframework.boot:spring-boot-starter-log4j2</code> as dependency in your <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":7105563,"reputation":325,"user_id":6200142,"display_name":"Himadri Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583392288,"creation_date":1583392288,"answer_id":60539946,"question_id":33071002,"body_markdown":"All the above answers on this page are correct and point to the same direction, but the procedure is quite challenging and cumbersome.\r\n\r\nI highly advise to use or take help of a standard plugin e.g. [Maven helper plugin][1]  \r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7179-maven-helper","title":"Spring Boot: multiple SLF4J bindings","body":"<p>All the above answers on this page are correct and point to the same direction, but the procedure is quite challenging and cumbersome.</p>\n\n<p>I highly advise to use or take help of a standard plugin e.g. <a href=\"https://plugins.jetbrains.com/plugin/7179-maven-helper\" rel=\"nofollow noreferrer\">Maven helper plugin</a>  </p>\n"},{"comments":[{"owner":{"account_id":2464222,"reputation":885,"user_id":2147690,"display_name":"Jochen Ha&#223;furter"},"score":1,"creation_date":1602620919,"post_id":64336146,"comment_id":113777519,"body_markdown":"Your answer is not really an answer to the question. I think it would be a good comment, because it may help jscherman to go into the right direction.","body":"Your answer is not really an answer to the question. I think it would be a good comment, because it may help jscherman to go into the right direction."},{"owner":{"account_id":4239567,"reputation":734,"user_id":3469861,"display_name":"JackLeEmmerdeur"},"score":0,"creation_date":1605389571,"post_id":64336146,"comment_id":114636742,"body_markdown":"+1 Very nice Plugin. Been using IntelliJ for years and didn&#39;t knew this. Although it didn&#39;t find my conflicting imports in &quot;Conflicts&quot;, I managed to find the roots of the conflicting imports with the dependecy-lists.","body":"+1 Very nice Plugin. Been using IntelliJ for years and didn&#39;t knew this. Although it didn&#39;t find my conflicting imports in &quot;Conflicts&quot;, I managed to find the roots of the conflicting imports with the dependecy-lists."}],"tags":[],"owner":{"account_id":19672570,"reputation":136,"user_id":14401500,"display_name":"Chandra Sekhar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602595802,"creation_date":1602595802,"answer_id":64336146,"question_id":33071002,"body_markdown":"**Maven Helper** plug-in is super helpful in quickly visualizing the dependency graph and identifying the conflicts and resolving them inline with a simple click.","title":"Spring Boot: multiple SLF4J bindings","body":"<p><strong>Maven Helper</strong> plug-in is super helpful in quickly visualizing the dependency graph and identifying the conflicts and resolving them inline with a simple click.</p>\n"},{"tags":[],"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607007853,"creation_date":1607007853,"answer_id":65128539,"question_id":33071002,"body_markdown":"Posting this if anyone else faces the same issue in the future.\r\n\r\nIn large projects, there will be multiple dependencies, and putting an exclusion in one or two of them might not always work. In my case also I was not able to find `logback-classic` in the dependency tree of the project which I&#39;m trying to run. For me, the reason was \r\n\r\n - There were other internal projects that were included in Build Path. Those projects were using the `logback-classic`.\r\n\r\n **Solution:**\r\n\r\n - First step is to know what is actually required in your project, i.e. `logback-classic` or `slf4j-api`\r\n - To begin with, you can start putting exclusions of `slf4j-api` in dependencies.\r\n - If you start to get any compilation errors, then `slf4-api` is required and you just have to repeat the same process for `logback-classic` until it&#39;s completely gone from the dependency tree and other internal projects.\r\n - In case, you do not get any compilation errors, you will have to keep excluding `slf4j-api` from dependencies.\r\n - If internal projects are also included in build path, might have to repeat the process for those projects as well\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Posting this if anyone else faces the same issue in the future.</p>\n<p>In large projects, there will be multiple dependencies, and putting an exclusion in one or two of them might not always work. In my case also I was not able to find <code>logback-classic</code> in the dependency tree of the project which I'm trying to run. For me, the reason was</p>\n<ul>\n<li>There were other internal projects that were included in Build Path. Those projects were using the <code>logback-classic</code>.</li>\n</ul>\n<p><strong>Solution:</strong></p>\n<ul>\n<li>First step is to know what is actually required in your project, i.e. <code>logback-classic</code> or <code>slf4j-api</code></li>\n<li>To begin with, you can start putting exclusions of <code>slf4j-api</code> in dependencies.</li>\n<li>If you start to get any compilation errors, then <code>slf4-api</code> is required and you just have to repeat the same process for <code>logback-classic</code> until it's completely gone from the dependency tree and other internal projects.</li>\n<li>In case, you do not get any compilation errors, you will have to keep excluding <code>slf4j-api</code> from dependencies.</li>\n<li>If internal projects are also included in build path, might have to repeat the process for those projects as well</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16075718,"reputation":1849,"user_id":11602968,"display_name":"Bguess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685920507,"creation_date":1685920507,"answer_id":76402772,"question_id":33071002,"body_markdown":"If you are using kubernetes and want to fix this quickly (for testing purpose for example), you can use this as a workaround in your kuberenetes deployment:\r\n\r\n          volumeMounts:\r\n            - name: slf4j-exclude\r\n              mountPath: /exclude\r\n              readOnly: true\r\n      volumes:\r\n        - name: slf4j-exclude\r\n          emptyDir: {}\r\n\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>If you are using kubernetes and want to fix this quickly (for testing purpose for example), you can use this as a workaround in your kuberenetes deployment:</p>\n<pre><code>      volumeMounts:\n        - name: slf4j-exclude\n          mountPath: /exclude\n          readOnly: true\n  volumes:\n    - name: slf4j-exclude\n      emptyDir: {}\n</code></pre>\n"}],"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84965,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":10,"score":36,"last_activity_date":1690171978,"creation_date":1444604274,"question_id":33071002,"body_markdown":"I can&#39;t figure it out where a binding collision is. I have my `Spring Boot 1.2.6.RELEASE` service and I&#39;m getting this error when I run it: \r\n\r\n```lang-none\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n```\r\n\r\nThis is the `mvn dependency:tree` output\r\n\r\n```lang-none\r\n[INFO] com.myenterprise:product-manager:jar:0.0.1-SNAPSHOT\r\n[INFO] +- com.myenterprise.product:myproject-api:jar:0.0.1-SNAPSHOT:compile\r\n[INFO] +- com.myenterprise.product:myproject-core:jar:0.0.1-SNAPSHOT:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.0.26:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.0.26:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:8.0.26:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.0.26:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.6:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.6:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.6:compile\r\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\r\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\r\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:4.1.7.RELEASE:compile\r\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.1.7.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.7.RELEASE:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.7.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.aspectj:aspectjrt:jar:1.8.6:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.6:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.springframework:spring-jdbc:jar:4.1.7.RELEASE:compile\r\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.0.26:compile\r\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.0.26:compile\r\n[INFO] |  |  \\- org.springframework:spring-tx:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\r\n[INFO] |  |  +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\r\n[INFO] |  |  |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  |  |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\r\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\r\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n[INFO] |  |  \\- org.javassist:javassist:jar:3.18.1-GA:compile\r\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n[INFO] |  +- org.springframework:spring-orm:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.7.3.RELEASE:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.9.3.RELEASE:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.12:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.1.7.RELEASE:compile\r\n[INFO] +- mysql:mysql-connector-java:jar:5.1.36:compile\r\n[INFO] +- org.flywaydb:flyway-core:jar:3.1:compile\r\n[INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-beans:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-context:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.8.RELEASE:compile\r\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n[INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.8.RELEASE:compile\r\n[INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.8.RELEASE:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.6:compile\r\n[INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n[INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.6.RELEASE:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.14:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\r\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\r\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\r\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.2.6.RELEASE:compile\r\n[INFO]    +- junit:junit:jar:4.12:compile\r\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:compile\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:runtime\r\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:compile\r\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:compile\r\n[INFO]    \\- org.springframework:spring-test:jar:4.1.7.RELEASE:compile\r\n```\r\n\r\nSo, apparently the problem is that `logback` is still in the classpath, but I couldn&#39;t find it in the output so I don&#39;t know where the problem is.\r\n\r\nNote: This only happens when I run the server as a Spring Boot Application. If I run it as a Java application, the error is gone.\r\n\r\nCan you spot the error?\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>I can't figure it out where a binding collision is. I have my <code>Spring Boot 1.2.6.RELEASE</code> service and I'm getting this error when I run it:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n</code></pre>\n<p>This is the <code>mvn dependency:tree</code> output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] com.myenterprise:product-manager:jar:0.0.1-SNAPSHOT\n[INFO] +- com.myenterprise.product:myproject-api:jar:0.0.1-SNAPSHOT:compile\n[INFO] +- com.myenterprise.product:myproject-core:jar:0.0.1-SNAPSHOT:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.0.26:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.0.26:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:8.0.26:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.0.26:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.6:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.6:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.6:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\n[INFO] |  +- org.springframework:spring-core:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.1.7.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.1.7.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.7.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.7.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.aspectj:aspectjrt:jar:1.8.6:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.6:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-jdbc:jar:4.1.7.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.0.26:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.0.26:compile\n[INFO] |  |  \\- org.springframework:spring-tx:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\n[INFO] |  |  +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\n[INFO] |  |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  \\- org.javassist:javassist:jar:3.18.1-GA:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework:spring-orm:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.7.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.9.3.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.12:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.1.7.RELEASE:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.36:compile\n[INFO] +- org.flywaydb:flyway-core:jar:3.1:compile\n[INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-context:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.8.RELEASE:compile\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.8.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.8.RELEASE:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.6:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.6.RELEASE:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.14:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.2.6.RELEASE:compile\n[INFO]    +- junit:junit:jar:4.12:compile\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:compile\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:runtime\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:compile\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:compile\n[INFO]    \\- org.springframework:spring-test:jar:4.1.7.RELEASE:compile\n</code></pre>\n<p>So, apparently the problem is that <code>logback</code> is still in the classpath, but I couldn't find it in the output so I don't know where the problem is.</p>\n<p>Note: This only happens when I run the server as a Spring Boot Application. If I run it as a Java application, the error is gone.</p>\n<p>Can you spot the error?</p>\n"},{"tags":["java","oop","inner-classes"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1689739653,"post_id":76717880,"comment_id":135254374,"body_markdown":"You need a permissions system that renders different parts of the UI based on some role you assign to the user. Many frameworks have built in authorization systems, but since you haven&#39;t included any technical details about your project whatsoever, it&#39;s impossible to provide more guidance. Remember, Stack Overflow is not a discussion forum where you can shape your question over time -- your question has to make sense from the outset. Read up on [how to ask](https://stackoverflow.com/help/how-to-ask) well formed questions which will receive useful answers.","body":"You need a permissions system that renders different parts of the UI based on some role you assign to the user. Many frameworks have built in authorization systems, but since you haven&#39;t included any technical details about your project whatsoever, it&#39;s impossible to provide more guidance. Remember, Stack Overflow is not a discussion forum where you can shape your question over time -- your question has to make sense from the outset. Read up on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> well formed questions which will receive useful answers."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689743143,"creation_date":1689743143,"answer_id":76718123,"question_id":76717880,"body_markdown":"The visibility delegation you&#39;re looking for isn&#39;t a property of _Java_ inheritance.\r\n\r\nYou&#39;ll need to configure the data accordingly.\r\n\r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.\r\n\r\n```java\r\nclass NbOfStudents {\r\n    int value;\r\n}\r\n\r\nclass TopSecretData {\r\n    String data;\r\n}\r\n\r\nclass Staff {\r\n    TopSecretData topSecretData;\r\n}\r\n\r\nclass Course {\r\n    NbOfStudents nbOfStudents;\r\n}\r\n```","title":"Different access permissions for different classes","body":"<p>The visibility delegation you're looking for isn't a property of <em>Java</em> inheritance.</p>\n<p>You'll need to configure the data accordingly.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NbOfStudents {\n    int value;\n}\n\nclass TopSecretData {\n    String data;\n}\n\nclass Staff {\n    TopSecretData topSecretData;\n}\n\nclass Course {\n    NbOfStudents nbOfStudents;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28075822,"reputation":59,"user_id":21447701,"display_name":"Buddhima Kaushalya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690171696,"creation_date":1690170405,"answer_id":76751287,"question_id":76717880,"body_markdown":"We can define separate classes for Staff and Course, and then provide appropriate methods in the University class to allow controlled access to the fields.The University class retains control over who has access to its fields by employing these strategies. As inner classes of the University class, the Staff and Course classes are permitted to call these methods, but they are unable to directly access the private fields &quot;topSecretData&quot; and &quot;nbOfStudents&quot;. \r\n\r\n    public class University {\r\n        private String topSecretData;\r\n        private int nbOfStudents;\r\n        \r\n        // Method to allow Staff to access TopSecretData\r\n        public String getTopSecretData(Staff staff) { \r\n             return this.topSecretData;\r\n        }\r\n        // Method to allow Course to access NbOfStudents\r\n        public int getNbOfStudents(Course course) {\r\n             return this.noOfStudents;\r\n        }\r\n        public class Staff(){\r\n        }\r\n        public class Course(){\r\n        }\r\n    }","title":"Different access permissions for different classes","body":"<p>We can define separate classes for Staff and Course, and then provide appropriate methods in the University class to allow controlled access to the fields.The University class retains control over who has access to its fields by employing these strategies. As inner classes of the University class, the Staff and Course classes are permitted to call these methods, but they are unable to directly access the private fields &quot;topSecretData&quot; and &quot;nbOfStudents&quot;.</p>\n<pre><code>public class University {\n    private String topSecretData;\n    private int nbOfStudents;\n    \n    // Method to allow Staff to access TopSecretData\n    public String getTopSecretData(Staff staff) { \n         return this.topSecretData;\n    }\n    // Method to allow Course to access NbOfStudents\n    public int getNbOfStudents(Course course) {\n         return this.noOfStudents;\n    }\n    public class Staff(){\n    }\n    public class Course(){\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23126674,"reputation":1,"user_id":17232358,"display_name":"Jad Noon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690371018,"answer_count":2,"score":0,"last_activity_date":1690171696,"creation_date":1689738793,"question_id":76717880,"body_markdown":"Suppose i have class University with fields &quot;TopSecretData&quot; and field &quot;NbOfStudents&quot; and I want to make two classes Staff and Course where Staff can only see TopSecretData while Course can only see NbOfStudents. \r\n\r\nI tried to use inner classes, but it doesnt make sense as inner classes can access all fields, so any suggestions ? THANKS IN ADVANCE","title":"Different access permissions for different classes","body":"<p>Suppose i have class University with fields &quot;TopSecretData&quot; and field &quot;NbOfStudents&quot; and I want to make two classes Staff and Course where Staff can only see TopSecretData while Course can only see NbOfStudents.</p>\n<p>I tried to use inner classes, but it doesnt make sense as inner classes can access all fields, so any suggestions ? THANKS IN ADVANCE</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509525389,"creation_date":1509525389,"answer_id":47050943,"question_id":47050419,"body_markdown":"There is a [iterable-to-non-iterable](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable) example in the MapStruct examples repository. Addtionally there is a pending pull request for [non-iterable-to-iterable](https://github.com/mapstruct/mapstruct-examples/pull/33/files).\r\n\r\nIn a nutshell you can use a custom method that would do the mapping. You can also use `@Qualifier` to have more granural control","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>There is a <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable\" rel=\"nofollow noreferrer\">iterable-to-non-iterable</a> example in the MapStruct examples repository. Addtionally there is a pending pull request for <a href=\"https://github.com/mapstruct/mapstruct-examples/pull/33/files\" rel=\"nofollow noreferrer\">non-iterable-to-iterable</a>.</p>\n\n<p>In a nutshell you can use a custom method that would do the mapping. You can also use <code>@Qualifier</code> to have more granural control</p>\n"},{"comments":[{"owner":{"account_id":4412565,"reputation":589,"user_id":3595026,"accept_rate":0,"display_name":"user3595026"},"score":0,"creation_date":1586153930,"post_id":47051188,"comment_id":108012096,"body_markdown":"How to do if source has two String properties that needs to be as list on Target? E.g., public class Source {\n\n    private String myFirstString;\n\n    private String mySecondString;}","body":"How to do if source has two String properties that needs to be as list on Target? E.g., public class Source {      private String myFirstString;      private String mySecondString;}"}],"tags":[],"owner":{"account_id":11998264,"reputation":66,"user_id":8822737,"display_name":"Pablo Garc&#237;a"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1509526382,"creation_date":1509526382,"answer_id":47051188,"question_id":47050419,"body_markdown":"Here is an example for non iterable-to-iterable:\r\n\r\n    public class Source {\r\n    \t\r\n    \tprivate String myString;\r\n    \r\n    \tpublic String getMyString() {\r\n    \t\treturn myString;\r\n    \t}\r\n    \r\n    \tpublic void setMyString(String myString) {\r\n    \t\tthis.myString = myString;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    public class Target {\r\n    \t\r\n    \tprivate List&lt;String&gt; myStrings;\r\n    \r\n    \tpublic List&lt;String&gt; getMyStrings() {\r\n    \t\treturn myStrings;\r\n    \t}\r\n    \r\n    \tpublic void setMyStrings(List&lt;String&gt; myStrings) {\r\n    \t\tthis.myStrings = myStrings;\r\n    \t}\t\r\n    \t\r\n    }\r\n\r\n    @Qualifier\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    public @interface FirstElement {\r\n    }\r\n\r\n    public class NonIterableToIterableUtils {\r\n    \t\r\n    \t @FirstElement\r\n    \t    public List&lt;String&gt; first(String in ) {\r\n    \t        if (StringUtils.isNotEmpty(in)) {\r\n    \t            return Arrays.asList(in);\r\n    \t            \r\n    \t        } else {\r\n    \t            return null;\r\n    \t        }\r\n    \t    }\r\n    \r\n    }\r\n\r\n    @Mapper( uses = NonIterableToIterableUtils.class )\r\n    public interface SourceTargetMapper {\r\n    \r\n        SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\r\n    \r\n        @Mappings( {\r\n            @Mapping( source = &quot;myString&quot;, target = &quot;myStrings&quot;, qualifiedBy = FirstElement.class )\r\n        } )\r\n        Target toTarget( Source s );\r\n    }\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSource s = new Source();\r\n            s.setMyString(&quot;Item&quot;);\r\n    \r\n            Target t = SourceTargetMapper.MAPPER.toTarget( s );\r\n            System.out.println( t.getMyStrings().get(0));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Here is an example for non iterable-to-iterable:</p>\n\n<pre><code>public class Source {\n\n    private String myString;\n\n    public String getMyString() {\n        return myString;\n    }\n\n    public void setMyString(String myString) {\n        this.myString = myString;\n    }\n\n}\n\npublic class Target {\n\n    private List&lt;String&gt; myStrings;\n\n    public List&lt;String&gt; getMyStrings() {\n        return myStrings;\n    }\n\n    public void setMyStrings(List&lt;String&gt; myStrings) {\n        this.myStrings = myStrings;\n    }   \n\n}\n\n@Qualifier\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface FirstElement {\n}\n\npublic class NonIterableToIterableUtils {\n\n     @FirstElement\n        public List&lt;String&gt; first(String in ) {\n            if (StringUtils.isNotEmpty(in)) {\n                return Arrays.asList(in);\n\n            } else {\n                return null;\n            }\n        }\n\n}\n\n@Mapper( uses = NonIterableToIterableUtils.class )\npublic interface SourceTargetMapper {\n\n    SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\n\n    @Mappings( {\n        @Mapping( source = \"myString\", target = \"myStrings\", qualifiedBy = FirstElement.class )\n    } )\n    Target toTarget( Source s );\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Source s = new Source();\n        s.setMyString(\"Item\");\n\n        Target t = SourceTargetMapper.MAPPER.toTarget( s );\n        System.out.println( t.getMyStrings().get(0));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4045428,"reputation":451,"user_id":3326792,"accept_rate":75,"display_name":"yasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663747677,"creation_date":1663747281,"answer_id":73797264,"question_id":47050419,"body_markdown":"Add an empty default method in the mapper, e.g. AnimalMapper.toLions(), and overwrite the default method in a mapper decorator, e.g. AnimalMapperDecorator. It works in my test.\r\n\r\n```\r\n@Repository\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(AnimalMapperDecorator.class)\r\npublic interface AnimalMapper {\r\n\r\n    default List&lt;Lion&gt; toLions(Jungle jungle) {\r\n        return null;\r\n    }\r\n}\r\n\r\npublic abstract class AnimalMapperDecorator implements AnimalMapper {\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private AnimalMapper delegate;\r\n\r\n    @Override\r\n    public List&lt;Lion&gt; toLions(Jungle jungle) {\r\n        List&lt;Lion&gt; lions = new ArrayList&lt;&gt;();\r\n        Lion king = getKing(jungle);\r\n        Lion queen = getQueen(jungle);\r\n        Lion leo = getLeo(jungle);\r\n        lions.add(king); lions.add(queen); lions.add(leo);\r\n\r\n        return lions;\r\n    }\r\n}\r\n\r\nclass Test {\r\n    @Autowired\r\n    private AnimalMapper animalMapper;\r\n\r\n    public void test() {\r\n        Jungle jungle = generateJungle();\r\n        List&lt;Lion&gt; lions = animalMapper.toLions(jungle);\r\n        // Assert lions\r\n    }\r\n}\r\n```","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Add an empty default method in the mapper, e.g. AnimalMapper.toLions(), and overwrite the default method in a mapper decorator, e.g. AnimalMapperDecorator. It works in my test.</p>\n<pre><code>@Repository\n@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(AnimalMapperDecorator.class)\npublic interface AnimalMapper {\n\n    default List&lt;Lion&gt; toLions(Jungle jungle) {\n        return null;\n    }\n}\n\npublic abstract class AnimalMapperDecorator implements AnimalMapper {\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private AnimalMapper delegate;\n\n    @Override\n    public List&lt;Lion&gt; toLions(Jungle jungle) {\n        List&lt;Lion&gt; lions = new ArrayList&lt;&gt;();\n        Lion king = getKing(jungle);\n        Lion queen = getQueen(jungle);\n        Lion leo = getLeo(jungle);\n        lions.add(king); lions.add(queen); lions.add(leo);\n\n        return lions;\n    }\n}\n\nclass Test {\n    @Autowired\n    private AnimalMapper animalMapper;\n\n    public void test() {\n        Jungle jungle = generateJungle();\n        List&lt;Lion&gt; lions = animalMapper.toLions(jungle);\n        // Assert lions\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690171591,"creation_date":1690171591,"answer_id":76751350,"question_id":47050419,"body_markdown":"Here is a straightforward solution using a [custom method](https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods) to map a string to a `List&lt;String&gt;`:\r\n\r\n```lang-java\r\n@Mapper\r\npublic interface NonIterableToIterableMapper {\r\n    @Mapping(target = &quot;abc&quot;, source = &quot;y.xyz&quot;)\r\n    Target map(Source source);\r\n\r\n    default List&lt;String&gt; toSingletonList(String s) {\r\n        return Collections.singletonList(s);\r\n    }\r\n}\r\n```","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Here is a straightforward solution using a <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">custom method</a> to map a string to a <code>List&lt;String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface NonIterableToIterableMapper {\n    @Mapping(target = &quot;abc&quot;, source = &quot;y.xyz&quot;)\n    Target map(Source source);\n\n    default List&lt;String&gt; toSingletonList(String s) {\n        return Collections.singletonList(s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12143782,"reputation":2327,"user_id":8866740,"display_name":"Vijayant Bhatia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47051188,"answer_count":4,"score":2,"last_activity_date":1690171591,"creation_date":1509522771,"question_id":47050419,"body_markdown":"I am trying to map a non-iterable value i.e. String to a list of string using mapstruct.\r\nSo I am using \r\n\r\n    @Mapping(target = &quot;abc&quot;, expression = &quot;java(java.util.Arrays.asList(x.getY().getXyz()))&quot;)\r\n\r\nHere `abc` is `List&lt;String&gt;`\r\n\r\n`xyz` is a `String`\r\n\r\nBut for this i need to check for `null` explicitly.\r\n\r\nIs there any better way of maaping a non-iterable to iterable by converting non iterable to iterable.\r\n\r\n","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>I am trying to map a non-iterable value i.e. String to a list of string using mapstruct.\nSo I am using </p>\n\n<pre><code>@Mapping(target = \"abc\", expression = \"java(java.util.Arrays.asList(x.getY().getXyz()))\")\n</code></pre>\n\n<p>Here <code>abc</code> is <code>List&lt;String&gt;</code></p>\n\n<p><code>xyz</code> is a <code>String</code></p>\n\n<p>But for this i need to check for <code>null</code> explicitly.</p>\n\n<p>Is there any better way of maaping a non-iterable to iterable by converting non iterable to iterable.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13592575,"reputation":608,"user_id":9805514,"display_name":"IceTea"},"score":0,"creation_date":1690188261,"post_id":76751296,"comment_id":135313158,"body_markdown":"I don&#39;t mind it overwriting default system properties, I intend to load this Properties object from elsewhere and would use the `System.setProperties` method to load properties into my application.","body":"I don&#39;t mind it overwriting default system properties, I intend to load this Properties object from elsewhere and would use the <code>System.setProperties</code> method to load properties into my application."},{"owner":{"account_id":5148718,"reputation":1,"user_id":4123884,"display_name":"Desmond"},"score":0,"creation_date":1690337616,"post_id":76751296,"comment_id":135338095,"body_markdown":"It needs to read the system default properties when the Spring application starts. Using System.setProperties will remove them.","body":"It needs to read the system default properties when the Spring application starts. Using System.setProperties will remove them."}],"tags":[],"owner":{"account_id":5148718,"reputation":1,"user_id":4123884,"display_name":"Desmond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690170671,"creation_date":1690170516,"answer_id":76751296,"question_id":76751169,"body_markdown":"I think you should use the method *System.setProperty(String key,String valule)* instead of *System.setProperties*.\r\nUsing System.setProperties will overwrite the default system properties.\r\n\r\n    System.setProperty(&quot;testProperty&quot;, &quot;5&quot;)","title":"ExceptionInitializerError when setting system property before starting Spring Application","body":"<p>I think you should use the method <em>System.setProperty(String key,String valule)</em> instead of <em>System.setProperties</em>.\nUsing System.setProperties will overwrite the default system properties.</p>\n<pre><code>System.setProperty(&quot;testProperty&quot;, &quot;5&quot;)\n</code></pre>\n"}],"owner":{"account_id":13592575,"reputation":608,"user_id":9805514,"display_name":"IceTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690170671,"creation_date":1690167989,"question_id":76751169,"body_markdown":"I am facing an `ExceptionInitializerError` for a basic Spring Application when I attempt to set a system property before doing `SpringApplication.run`. If I *don&#39;t* set the system property, the Spring Application is able to start up fine.\r\n\r\nCode:\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n  public static void main(String[] args) {\r\n    // ========================================\r\n    // If I include this block, the application fails to start\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;testProperty&quot;, &quot;5&quot;);\r\n    System.setProperties(props);\r\n    // ========================================\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\nError:\r\n\r\n```\r\n10:56:51.753 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\njava.lang.ExceptionInInitializerError: null\r\n\tat org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:46)\r\n\tat org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:37)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.demo.test.Application.main(Application.java:35)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because the return value of &quot;java.lang.System.getProperty(String)&quot; is null\r\n\tat org.springframework.boot.ansi.AnsiOutput.&lt;clinit&gt;(AnsiOutput.java:40)\r\n\t... 18 common frames omitted\r\n```","title":"ExceptionInitializerError when setting system property before starting Spring Application","body":"<p>I am facing an <code>ExceptionInitializerError</code> for a basic Spring Application when I attempt to set a system property before doing <code>SpringApplication.run</code>. If I <em>don't</em> set the system property, the Spring Application is able to start up fine.</p>\n<p>Code:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n  public static void main(String[] args) {\n    // ========================================\n    // If I include this block, the application fails to start\n    Properties props = new Properties();\n    props.setProperty(&quot;testProperty&quot;, &quot;5&quot;);\n    System.setProperties(props);\n    // ========================================\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>10:56:51.753 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\njava.lang.ExceptionInInitializerError: null\n    at org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:46)\n    at org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:37)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.demo.test.Application.main(Application.java:35)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because the return value of &quot;java.lang.System.getProperty(String)&quot; is null\n    at org.springframework.boot.ansi.AnsiOutput.&lt;clinit&gt;(AnsiOutput.java:40)\n    ... 18 common frames omitted\n</code></pre>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1690313555,"post_id":76751277,"comment_id":135335358,"body_markdown":"Check that your methods are public. Also, you can print some debugging lines like `$temp.class.name`, `$a.class.name`. What does it print?","body":"Check that your methods are public. Also, you can print some debugging lines like <code>$temp.class.name</code>, <code>$a.class.name</code>. What does it print?"}],"owner":{"account_id":23973822,"reputation":3,"user_id":17962152,"display_name":"Beras0d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690170299,"creation_date":1690170299,"question_id":76751277,"body_markdown":"I have a Velocity context object $temp which contains a method calls `void MakeFile(File file)`\r\nanother method calls `File GetFile(string name)`\r\nHow to pass a file object to MakeFile Method?\r\n\r\n\r\nI can render $temp and get xxx.imp@18x678z\r\nBut when I render these\r\n`\r\n#set($a=$temp.GetFile(&quot;test&quot;))\r\n$temp.MakeFile($a)\r\n`\r\n\r\nIt doesn&#39;t work.","title":"Velocity without changing any java code. Can I pass a File object?","body":"<p>I have a Velocity context object $temp which contains a method calls <code>void MakeFile(File file)</code>\nanother method calls <code>File GetFile(string name)</code>\nHow to pass a file object to MakeFile Method?</p>\n<p>I can render $temp and get xxx.imp@18x678z\nBut when I render these\n<code>#set($a=$temp.GetFile(&quot;test&quot;)) $temp.MakeFile($a)</code></p>\n<p>It doesn't work.</p>\n"},{"tags":["java","jquery","ajax","spring-boot","content-security-policy"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":1,"creation_date":1689323390,"post_id":76685633,"comment_id":135200109,"body_markdown":"please provide some more code samples(the class that extends WebSecurityConfigurerAdapter , the controller .etc)","body":"please provide some more code samples(the class that extends WebSecurityConfigurerAdapter , the controller .etc)"},{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":0,"creation_date":1689325005,"post_id":76685633,"comment_id":135200391,"body_markdown":"@ShavarshShahoyan edited my question.","body":"@ShavarshShahoyan edited my question."}],"answers":[{"comments":[{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":0,"creation_date":1689584031,"post_id":76702139,"comment_id":135228723,"body_markdown":"Thanks for the answer. But if it does not make any sense then why it is affecting the response?","body":"Thanks for the answer. But if it does not make any sense then why it is affecting the response?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1689632728,"post_id":76702139,"comment_id":135238519,"body_markdown":"Please, consider review the response you are actually receiving in your browser, probably Spring Boot is returning some kind of error upon the reception of the `Content-Security-Header` header, probably a white label page or something similar: that may be causing your CORS issue (the server is returning an inappropriate resource for your JQuery AJAX request).\n\nThe reason could be the one exposed by @Olivier in the answer, there is no need to include the header in your request, it is a response header that should be provided by the server.","body":"Please, consider review the response you are actually receiving in your browser, probably Spring Boot is returning some kind of error upon the reception of the <code>Content-Security-Header</code> header, probably a white label page or something similar: that may be causing your CORS issue (the server is returning an inappropriate resource for your JQuery AJAX request).  The reason could be the one exposed by @Olivier in the answer, there is no need to include the header in your request, it is a response header that should be provided by the server."}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689577445,"creation_date":1689577445,"answer_id":76702139,"question_id":76685633,"body_markdown":"[`Content-Security-Policy`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy) is a **response** header:\r\n\r\n&gt; The HTTP Content-Security-Policy response header allows website\r\n&gt; administrators to control resources the user agent is allowed to load\r\n&gt; for a given page.\r\n\r\nSo it makes no sense to send it in an AJAX request.","title":"Getting CORS issue in API calling from AJAX","body":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\" rel=\"nofollow noreferrer\"><code>Content-Security-Policy</code></a> is a <strong>response</strong> header:</p>\n<blockquote>\n<p>The HTTP Content-Security-Policy response header allows website\nadministrators to control resources the user agent is allowed to load\nfor a given page.</p>\n</blockquote>\n<p>So it makes no sense to send it in an AJAX request.</p>\n"}],"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76702139,"answer_count":1,"score":1,"last_activity_date":1690170284,"creation_date":1689320370,"question_id":76685633,"body_markdown":"I am getting CORS issue while calling API from Ajax with header `Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;`. \r\n\r\n\r\nMy APIs are built in Java spring boot. API server is already configured with `Access-Control-Allow-Origin : *`. If i remove `Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;`, the API is working perfectly fine.\r\n\r\n\r\nBelow is request :\r\n```\r\n$.ajax({url: &quot;https://****.com/api/v2/login&quot;,\r\n    type: &#39;post&#39;,\r\n    data: JSON.stringify(domain),\r\n    headers: {\r\n      &quot;x-dreamfactory-api-key&quot;:&#39;*******&#39;,\r\n      &quot;x-frame-options&quot;:&#39;deny&#39;,\r\n      &quot;Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;&quot;,\r\n      &quot;pragma&quot;:&#39;no-cache&#39;,\r\n      &quot;sec-fetch-mode&quot;:&#39;cors&#39;,\r\n      &quot;Referer&quot;:&#39;https://****.com&#39;,\r\n      &quot;origin&quot;:&#39;https://****.com&#39;,\r\n      &quot;sec-fetch-site&quot;:&#39;same-site&#39;,\r\n      &quot;sec-fetch-dest&quot;:&#39;empty&#39;,\r\n      &quot;Content-Type&quot;:&#39;application/json&#39;\r\n    },\r\n    dataType: &#39;json&#39;,\r\n    success: function (data) {\r\n        console.log(JSON.stringify(data));\r\n    }\r\n  });\r\n```\r\n\r\nMy API configuration using `WebMVCConfigurationSupport` below :\r\n\r\n```\r\n@Override\r\n\r\npublic void addCorsMappings(CorsRegistry registry) {\r\n\r\nregistry.addMapping(&quot;/v2/**&quot;).allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;).allowedOrigins(&quot;*&quot;)\r\n.allowedHeaders(&quot;*&quot;).allowCredentials(true);\r\n} \r\n```","title":"Getting CORS issue in API calling from AJAX","body":"<p>I am getting CORS issue while calling API from Ajax with header <code>Content-Security-Policy&quot;:&quot;frame-ancestors 'none'</code>.</p>\n<p>My APIs are built in Java spring boot. API server is already configured with <code>Access-Control-Allow-Origin : *</code>. If i remove <code>Content-Security-Policy&quot;:&quot;frame-ancestors 'none'</code>, the API is working perfectly fine.</p>\n<p>Below is request :</p>\n<pre><code>$.ajax({url: &quot;https://****.com/api/v2/login&quot;,\n    type: 'post',\n    data: JSON.stringify(domain),\n    headers: {\n      &quot;x-dreamfactory-api-key&quot;:'*******',\n      &quot;x-frame-options&quot;:'deny',\n      &quot;Content-Security-Policy&quot;:&quot;frame-ancestors 'none'&quot;,\n      &quot;pragma&quot;:'no-cache',\n      &quot;sec-fetch-mode&quot;:'cors',\n      &quot;Referer&quot;:'https://****.com',\n      &quot;origin&quot;:'https://****.com',\n      &quot;sec-fetch-site&quot;:'same-site',\n      &quot;sec-fetch-dest&quot;:'empty',\n      &quot;Content-Type&quot;:'application/json'\n    },\n    dataType: 'json',\n    success: function (data) {\n        console.log(JSON.stringify(data));\n    }\n  });\n</code></pre>\n<p>My API configuration using <code>WebMVCConfigurationSupport</code> below :</p>\n<pre><code>@Override\n\npublic void addCorsMappings(CorsRegistry registry) {\n\nregistry.addMapping(&quot;/v2/**&quot;).allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;).allowedOrigins(&quot;*&quot;)\n.allowedHeaders(&quot;*&quot;).allowCredentials(true);\n} \n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690146022,"post_id":76749930,"comment_id":135309054,"body_markdown":"What are you doing with the boolean? And why can you not use `Intent#putExtra`?","body":"What are you doing with the boolean? And why can you not use <code>Intent#putExtra</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690169472,"creation_date":1690169472,"answer_id":76751226,"question_id":76749930,"body_markdown":"I think your question is &quot;whether when the program reaches `startActivity` and a new activity appears, the previous activity stops on that line?&quot;\r\n\r\nNo, Your activity is an object that remains in RAM, and the code written after `startActivity` is executed normally.\r\n\r\nYou probably wrote the code you shared in a `View.OnClickListener` and Android calls it when the view you specified is clicked and executes its codes, in the middle of the codes there is `startAcitivity` which is executed like other functions and also the codes are executed until the end of the onClick function.","title":"Is it okay to assign a value after starting an activity?","body":"<p>I think your question is &quot;whether when the program reaches <code>startActivity</code> and a new activity appears, the previous activity stops on that line?&quot;</p>\n<p>No, Your activity is an object that remains in RAM, and the code written after <code>startActivity</code> is executed normally.</p>\n<p>You probably wrote the code you shared in a <code>View.OnClickListener</code> and Android calls it when the view you specified is clicked and executes its codes, in the middle of the codes there is <code>startAcitivity</code> which is executed like other functions and also the codes are executed until the end of the onClick function.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690169472,"creation_date":1690139772,"question_id":76749930,"body_markdown":"Imagine that I assign a value to a boolean for example immediately after calling `startActivity(intent)` . Will the value be assigned after or before the intent is started?\r\n\r\n            Intent intent = new Intent(getApplicationContext(), activityMyClass);\r\n            startActivity(intent);\r\n            my_boolean=true;\r\n\r\n\r\napparently my_boolean is true after executing these lines of code, but why is it working if the app will go to another activity before the boolean assignment ?","title":"Is it okay to assign a value after starting an activity?","body":"<p>Imagine that I assign a value to a boolean for example immediately after calling <code>startActivity(intent)</code> . Will the value be assigned after or before the intent is started?</p>\n<pre><code>        Intent intent = new Intent(getApplicationContext(), activityMyClass);\n        startActivity(intent);\n        my_boolean=true;\n</code></pre>\n<p>apparently my_boolean is true after executing these lines of code, but why is it working if the app will go to another activity before the boolean assignment ?</p>\n"},{"tags":["java","hibernate","getter-setter"],"comments":[{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1272307350,"post_id":2715611,"comment_id":2741439,"body_markdown":"Is the setter for all mapped fields called? that is strange!","body":"Is the setter for all mapped fields called? that is strange!"}],"answers":[{"tags":[],"owner":{"account_id":127578,"reputation":3129,"user_id":324851,"display_name":"Geoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272306933,"creation_date":1272306933,"answer_id":2715922,"question_id":2715611,"body_markdown":"As far as I was aware, it should not. \r\n\r\nHibernate will call the setter for any generated fields, such as any generated IDs. Perhaps they extended this to cover all fields in case a field is updated by a trigger during the save or some such edge case. ","title":"When does Hibernate call setters other than when loading?","body":"<p>As far as I was aware, it should not. </p>\n\n<p>Hibernate will call the setter for any generated fields, such as any generated IDs. Perhaps they extended this to cover all fields in case a field is updated by a trigger during the save or some such edge case. </p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690169083,"creation_date":1272304141,"question_id":2715611,"body_markdown":"I know Hibernate calls setters when you lookup a bean.\r\n\r\nBut I recently noticed the setter was being called by Hibernate when we were not doing any lookups.  We had created our POJO&#39;s and then called save.  Why would Hibernate call setters in this case?\r\n\r\n---\r\n\r\n**Update**: The setter call seems to be happening when we are actually calling `delete()` on a Hibernate entity.   Why does Hibernate call the setter in this case?","title":"When does Hibernate call setters other than when loading?","body":"<p>I know Hibernate calls setters when you lookup a bean.</p>\n<p>But I recently noticed the setter was being called by Hibernate when we were not doing any lookups.  We had created our POJO's and then called save.  Why would Hibernate call setters in this case?</p>\n<hr />\n<p><strong>Update</strong>: The setter call seems to be happening when we are actually calling <code>delete()</code> on a Hibernate entity.   Why does Hibernate call the setter in this case?</p>\n"},{"tags":["java","installation","wix","windows-installer","jpackage"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690167915,"creation_date":1690167915,"answer_id":76751163,"question_id":76751082,"body_markdown":"Looks like I jumped the gun.\r\n\r\nAs it turns out, Windows is smart enough to recognize that 2 installations share the same parent directory. So, it will only delete `parent_directory` if there is ***no other installation at that location***.\r\n\r\nThe reason I why I thought that it would delete `parent_directory` is because I tested it with a dummy folder, and then made the (false) assumption that windows would delete the whole `parent_directory` if there was another install there. But when I tested it with an actual, second installation, that assumption proved to be false.\r\n\r\nI certainly have not stress tested this solution, but this works for my purposes, so I will accept it once the 2 days pass.","title":"How to store multiple jpackage installations under the same parent directory?","body":"<p>Looks like I jumped the gun.</p>\n<p>As it turns out, Windows is smart enough to recognize that 2 installations share the same parent directory. So, it will only delete <code>parent_directory</code> if there is <em><strong>no other installation at that location</strong></em>.</p>\n<p>The reason I why I thought that it would delete <code>parent_directory</code> is because I tested it with a dummy folder, and then made the (false) assumption that windows would delete the whole <code>parent_directory</code> if there was another install there. But when I tested it with an actual, second installation, that assumption proved to be false.</p>\n<p>I certainly have not stress tested this solution, but this works for my purposes, so I will accept it once the 2 days pass.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751163,"answer_count":1,"score":0,"last_activity_date":1690167915,"creation_date":1690165993,"question_id":76751082,"body_markdown":"I have several applications that I finally turned into modular jars, and now, I want to package them with jpackage.\r\n\r\nSince there are several applications, I want to bundle them all under the same parent directory, let&#39;s say `parent_directory`. I know that I can specify that as `--install-dir parent_directory/child_folder` for jpackage, according to this tutorial. https://dev.java/learn/jvm/tool/jpackage/\r\n\r\nThe problem is, if I specify the folder structure as above, then upon uninstallation, not only will `child_folder` get deleted, but so will `parent_directory`.\r\n\r\nHow do I get jpackage to only delete `child_folder` upon uninstallation?\r\n\r\nEDIT - as a side note, I am aware of workarounds such as this -- https://stackoverflow.com/a/67574903/10118965\r\n\r\nI am not opposed to doing that, but I would consider that a last resort, and I want to exhaust my options before doing that.","title":"How to store multiple jpackage installations under the same parent directory?","body":"<p>I have several applications that I finally turned into modular jars, and now, I want to package them with jpackage.</p>\n<p>Since there are several applications, I want to bundle them all under the same parent directory, let's say <code>parent_directory</code>. I know that I can specify that as <code>--install-dir parent_directory/child_folder</code> for jpackage, according to this tutorial. <a href=\"https://dev.java/learn/jvm/tool/jpackage/\" rel=\"nofollow noreferrer\">https://dev.java/learn/jvm/tool/jpackage/</a></p>\n<p>The problem is, if I specify the folder structure as above, then upon uninstallation, not only will <code>child_folder</code> get deleted, but so will <code>parent_directory</code>.</p>\n<p>How do I get jpackage to only delete <code>child_folder</code> upon uninstallation?</p>\n<p>EDIT - as a side note, I am aware of workarounds such as this -- <a href=\"https://stackoverflow.com/a/67574903/10118965\">https://stackoverflow.com/a/67574903/10118965</a></p>\n<p>I am not opposed to doing that, but I would consider that a last resort, and I want to exhaust my options before doing that.</p>\n"},{"tags":["java","recursion","iteration"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":6,"creation_date":1690167463,"post_id":76751136,"comment_id":135310580,"body_markdown":"Can you explain _why_ this surprises you? Iteration doesn&#39;t incur the overhead of a completely new function call, with the associated call stack management, and no, the compiler will absolutely not unroll a recursive function call. Again, _why_ did you think that would happen?","body":"Can you explain <i>why</i> this surprises you? Iteration doesn&#39;t incur the overhead of a completely new function call, with the associated call stack management, and no, the compiler will absolutely not unroll a recursive function call. Again, <i>why</i> did you think that would happen?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690167682,"post_id":76751136,"comment_id":135310592,"body_markdown":"Recursion  has its benefits, but efficiency is not necessarily one of them because of the overhead involved.","body":"Recursion  has its benefits, but efficiency is not necessarily one of them because of the overhead involved."},{"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"score":0,"creation_date":1690167821,"post_id":76751136,"comment_id":135310601,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans While I know that recursion has the extra overhead, I did not expect it to more than double the runtime. For clarity&#39;s sake, it doubled the runtime of the entire program (which this helper function was just one part of). I also expected that this could be something that the compiler could optimize automatically, minimizing the difference between the two.","body":"@Mike&#39;Pomax&#39;Kamermans While I know that recursion has the extra overhead, I did not expect it to more than double the runtime. For clarity&#39;s sake, it doubled the runtime of the entire program (which this helper function was just one part of). I also expected that this could be something that the compiler could optimize automatically, minimizing the difference between the two."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1690168481,"post_id":76751136,"comment_id":135310641,"body_markdown":"Some languages can rewrite tail calls and make them iterative. Java isn&#39;t one of them.","body":"Some languages can rewrite tail calls and make them iterative. Java isn&#39;t one of them."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1690168829,"post_id":76751136,"comment_id":135310671,"body_markdown":"&quot;For clarity&#39;s sake, it doubled the runtime of the entire program&quot; what program? You&#39;re showing two methods in isolation in your post. If you&#39;re asking about runtime, show the [mcve] and _its_ runtime. Showing a runtime that is technically not related to the code you&#39;re showing because there&#39;s an unknown quantity of additional code that you&#39;re not talking about makes for [a questionable question](/help/how-to-ask).","body":"&quot;For clarity&#39;s sake, it doubled the runtime of the entire program&quot; what program? You&#39;re showing two methods in isolation in your post. If you&#39;re asking about runtime, show the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <i>its</i> runtime. Showing a runtime that is technically not related to the code you&#39;re showing because there&#39;s an unknown quantity of additional code that you&#39;re not talking about makes for <a href=\"/help/how-to-ask\">a questionable question</a>."},{"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"score":0,"creation_date":1690306491,"post_id":76751136,"comment_id":135334031,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think that showing the entire program&#39;s code is outside the scope of the question. Unless you really want to get into the nitty gritty details of exactly how this helper function is called. The key point is that the helper function greatly increased the runtime of the overall program, and why this is the case.","body":"@Mike&#39;Pomax&#39;Kamermans I think that showing the entire program&#39;s code is outside the scope of the question. Unless you really want to get into the nitty gritty details of exactly how this helper function is called. The key point is that the helper function greatly increased the runtime of the overall program, and why this is the case."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690307437,"post_id":76751136,"comment_id":135334212,"body_markdown":"I think if the runtime you&#39;re showing is for the full program, show the full program. And if that&#39;s too much code, then redo the timing using just the code you&#39;re showing (with some minimal public static main code that invoke a bunch of calls). Don&#39;t show timings for completely different code from what you&#39;re showing, it doesn&#39;t actually tell us, or yourself, anything.","body":"I think if the runtime you&#39;re showing is for the full program, show the full program. And if that&#39;s too much code, then redo the timing using just the code you&#39;re showing (with some minimal public static main code that invoke a bunch of calls). Don&#39;t show timings for completely different code from what you&#39;re showing, it doesn&#39;t actually tell us, or yourself, anything."}],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690167669,"creation_date":1690167390,"question_id":76751136,"body_markdown":"I wrote two versions of a helper function for a leetcode problem. I was surprised to see that the iterative version runs over twice as fast, despite being essentially the same code. \r\n\r\nI was assuming that something like this would just be optimized automatically by the compiler, but there is in fast a huge difference in runtimes.\r\n\r\nRecursive version (runs in 14ms):\r\n\r\n    public boolean isPalindrome(String word, int left, int right) {\r\n        if(left &gt;= right) return true;\r\n        if(word.charAt(left) != word.charAt(right)) return false;\r\n\r\n        return isPalindrome(word, left + 1, right - 1);\r\n    }\r\n\r\nIterative version (runs in 6ms):\r\n\r\n    public boolean isPalindrome(String word, int left, int right) {\r\n        while(left &lt; right) {\r\n            if(word.charAt(left) != word.charAt(right)) return false;\r\n            \r\n            left++;\r\n            right--;\r\n        }\r\n        return true;\r\n    }\r\n\r\nWhy does the iterative version run so much faster?","title":"Why does the recursive version run slower?","body":"<p>I wrote two versions of a helper function for a leetcode problem. I was surprised to see that the iterative version runs over twice as fast, despite being essentially the same code.</p>\n<p>I was assuming that something like this would just be optimized automatically by the compiler, but there is in fast a huge difference in runtimes.</p>\n<p>Recursive version (runs in 14ms):</p>\n<pre><code>public boolean isPalindrome(String word, int left, int right) {\n    if(left &gt;= right) return true;\n    if(word.charAt(left) != word.charAt(right)) return false;\n\n    return isPalindrome(word, left + 1, right - 1);\n}\n</code></pre>\n<p>Iterative version (runs in 6ms):</p>\n<pre><code>public boolean isPalindrome(String word, int left, int right) {\n    while(left &lt; right) {\n        if(word.charAt(left) != word.charAt(right)) return false;\n        \n        left++;\n        right--;\n    }\n    return true;\n}\n</code></pre>\n<p>Why does the iterative version run so much faster?</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421429552,"post_id":27989498,"comment_id":44370069,"body_markdown":"Well, just reuse your formatter for printing instead of parsing","body":"Well, just reuse your formatter for printing instead of parsing"},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421663222,"post_id":27989498,"comment_id":44430820,"body_markdown":"Hi, Thanks for your answer and it works. Is there a way that I can get that in LocalTime instead of String. I need LocalTime as 02:51:20 and not 02:51:20.000.","body":"Hi, Thanks for your answer and it works. Is there a way that I can get that in LocalTime instead of String. I need LocalTime as 02:51:20 and not 02:51:20.000."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421663569,"post_id":27989498,"comment_id":44431048,"body_markdown":"No, the `.toString()` of `LocalTime` is fixed. You need to go through a formatter to have the format you want.","body":"No, the <code>.toString()</code> of <code>LocalTime</code> is fixed. You need to go through a formatter to have the format you want."},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421664229,"post_id":27989498,"comment_id":44431356,"body_markdown":"Ok. How to remove the milliseconds from the LocalTime. I need LocalTime only HH:mm:ss format and not the milliseconds included. Is it possible ?","body":"Ok. How to remove the milliseconds from the LocalTime. I need LocalTime only HH:mm:ss format and not the milliseconds included. Is it possible ?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421664867,"post_id":27989498,"comment_id":44431684,"body_markdown":"Hold on, I thought you said the provided solutions worked?","body":"Hold on, I thought you said the provided solutions worked?"},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421667520,"post_id":27989498,"comment_id":44433020,"body_markdown":"Yes I do, when I print it removes the .000 from the localtime. But i need the response in LocalTime in the format HH:mm:ss without the milliseconds in it. Am trying to format a String of the format HH:mm:ss to LocalTime without milliseconds. Is it possible ?","body":"Yes I do, when I print it removes the .000 from the localtime. But i need the response in LocalTime in the format HH:mm:ss without the milliseconds in it. Am trying to format a String of the format HH:mm:ss to LocalTime without milliseconds. Is it possible ?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1421429598,"creation_date":1421429598,"answer_id":27989550,"question_id":27989498,"body_markdown":"Yes - you just need to format when you print out. Currently you&#39;re just using the default `toString()` representation. If you&#39;re happy with the formatter you&#39;ve already got, you can just use:\r\n\r\n    System.out.println(&quot;LocalTime:            &quot; + fmt.print(localTime));","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>Yes - you just need to format when you print out. Currently you're just using the default <code>toString()</code> representation. If you're happy with the formatter you've already got, you can just use:</p>\n\n<pre><code>System.out.println(\"LocalTime:            \" + fmt.print(localTime));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430123137,"creation_date":1430123137,"answer_id":29890689,"question_id":27989498,"body_markdown":"You can easily use your `DateTimeFormetter print() method`. Try like this;\r\n\r\n        DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n\t\tLocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\r\n\t\tSystem.out.println(&quot;LocalTime                        :  &quot; + localTime);\r\n\t\tSystem.out.println(&quot;LocalTime with DateTimeFormatter :  &quot; + fmt.print(localTime));\r\n\r\nAnd the output is;\r\n\r\n    LocalTime                        :  02:51:20.000\r\n    LocalTime with DateTimeFormatter :  02:51:20\r\n\r\n","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>You can easily use your <code>DateTimeFormetter print() method</code>. Try like this;</p>\n\n<pre><code>    DateTimeFormatter fmt = DateTimeFormat.forPattern(\"HH:mm:ss\");\n    LocalTime localTime = fmt.parseLocalTime(\"02:51:20\");\n    System.out.println(\"LocalTime                        :  \" + localTime);\n    System.out.println(\"LocalTime with DateTimeFormatter :  \" + fmt.print(localTime));\n</code></pre>\n\n<p>And the output is;</p>\n\n<pre><code>LocalTime                        :  02:51:20.000\nLocalTime with DateTimeFormatter :  02:51:20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6490755,"reputation":1449,"user_id":5355145,"accept_rate":86,"display_name":"Jayani Sumudini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565155200,"creation_date":1565155200,"answer_id":57387418,"question_id":27989498,"body_markdown":"Fixed this using \r\n\r\n    DateTime time = new DateTime();\r\n    DateTimeFormatter format = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n    String localTime = time != null ? format.print(new LocalTime(time.getHourOfDay(), \r\n    time.getMinuteOfHour(), time.getSecondOfMinute())) : null;\r\n\r\nDateTime and LocalTime are from joda","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>Fixed this using </p>\n\n<pre><code>DateTime time = new DateTime();\nDateTimeFormatter format = DateTimeFormat.forPattern(\"HH:mm:ss\");\nString localTime = time != null ? format.print(new LocalTime(time.getHourOfDay(), \ntime.getMinuteOfHour(), time.getSecondOfMinute())) : null;\n</code></pre>\n\n<p>DateTime and LocalTime are from joda</p>\n"}],"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12841,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1690167652,"creation_date":1421429382,"question_id":27989498,"body_markdown":"    DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n    LocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\r\n    System.out.println(&quot;LocalTime:            &quot;+localTime);\r\n\r\nI need only 02:51:20 but it outputs as 02:51:20.000. Is there any way that I can remove the .000 (milliseconds) from the output?","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<pre><code>DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\nLocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\nSystem.out.println(&quot;LocalTime:            &quot;+localTime);\n</code></pre>\n<p>I need only 02:51:20 but it outputs as 02:51:20.000. Is there any way that I can remove the .000 (milliseconds) from the output?</p>\n"},{"tags":["java","kotlin","jvm","kotlin-multiplatform"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690166970,"post_id":76750951,"comment_id":135310549,"body_markdown":"Sure, you can use Java APIs in the JVM part of your multiplatform project. Did you *try* anything?","body":"Sure, you can use Java APIs in the JVM part of your multiplatform project. Did you <i>try</i> anything?"}],"answers":[{"tags":[],"owner":{"account_id":26684461,"reputation":26,"user_id":20293981,"display_name":"Robson santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690165708,"creation_date":1690165708,"answer_id":76751075,"question_id":76750951,"body_markdown":"Yes, Kotlin Multiplatform can support many Java libraries, such as Mockito, JUnit, and Guava. \r\nHowever, there are a few exceptions, like Reflection. \r\nI recommend checking the compatibility guide for more information =) https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode","title":"Can Kotlin Multiplatform support Java libs?","body":"<p>Yes, Kotlin Multiplatform can support many Java libraries, such as Mockito, JUnit, and Guava.\nHowever, there are a few exceptions, like Reflection.\nI recommend checking the compatibility guide for more information =) <a href=\"https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode</a></p>\n"}],"owner":{"account_id":19208507,"reputation":41,"user_id":14034841,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751075,"answer_count":1,"score":1,"last_activity_date":1690165708,"creation_date":1690162344,"question_id":76750951,"body_markdown":"I became aware of the new Kotlin project (https://kotlinlang.org/lp/multiplatform/). A question occurred to me.\r\nI would like to use my Java API in my Kotlin Multiplatform. Would that work? And if not, what is the best thing to do?","title":"Can Kotlin Multiplatform support Java libs?","body":"<p>I became aware of the new Kotlin project (<a href=\"https://kotlinlang.org/lp/multiplatform/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/lp/multiplatform/</a>). A question occurred to me.\nI would like to use my Java API in my Kotlin Multiplatform. Would that work? And if not, what is the best thing to do?</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689932800,"post_id":76736813,"comment_id":135286225,"body_markdown":"Are you saying the _refactored code_ seems like a code smell? Because what you had originally is duplicated code. The refactored code reuses existing code. Though I would _not_ have changed all method names to `findConfig`, as only one of them actually returns a `Configuration`. And if feasible, I&#39;d consider making the return types of all the methods `Optional`.","body":"Are you saying the <i>refactored code</i> seems like a code smell? Because what you had originally is duplicated code. The refactored code reuses existing code. Though I would <i>not</i> have changed all method names to <code>findConfig</code>, as only one of them actually returns a <code>Configuration</code>. And if feasible, I&#39;d consider making the return types of all the methods <code>Optional</code>."},{"owner":{"account_id":3414081,"reputation":1287,"user_id":2863440,"accept_rate":92,"display_name":"yadav_vi"},"score":2,"creation_date":1689932933,"post_id":76736813,"comment_id":135286248,"body_markdown":"No, I was wondering if there is a name to such a refactoring. Or when do we use such a refactoring.\n\nI have seen this in a lot of places where one method calls another one with some default value for an overloaded method. Something like super() in constructors but with a small difference.","body":"No, I was wondering if there is a name to such a refactoring. Or when do we use such a refactoring.  I have seen this in a lot of places where one method calls another one with some default value for an overloaded method. Something like super() in constructors but with a small difference."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1689935895,"post_id":76736813,"comment_id":135286824,"body_markdown":"May be you are looking for the so called **DRY: Don&#39;t Repeat Yourself - Software Design Principle** here&#39;s an article on medium you might want to glance over [dry-do-not-repeat-yourself](https://medium.com/@learnstuff.io/dry-do-not-repeat-yourself-8518055b4cf). Violations of **DRY** are referred to as **WET: We Enjoy Typing, Write Everything Twice, Waste Everyone&#39;s Time.**","body":"May be you are looking for the so called <b>DRY: Don&#39;t Repeat Yourself - Software Design Principle</b> here&#39;s an article on medium you might want to glance over <a href=\"https://medium.com/@learnstuff.io/dry-do-not-repeat-yourself-8518055b4cf\" rel=\"nofollow noreferrer\">dry-do-not-repeat-yourself</a>. Violations of <b>DRY</b> are referred to as <b>WET: We Enjoy Typing, Write Everything Twice, Waste Everyone&#39;s Time.</b>"},{"owner":{"account_id":1671774,"reputation":426,"user_id":1538111,"accept_rate":40,"display_name":"Muhammad Farag"},"score":1,"creation_date":1690162838,"post_id":76736813,"comment_id":135310277,"body_markdown":"Not directly answering your question, but your can replace `if (category.isEmpty()) return null;` with `category.orElse(null)`. That said, the point of using `Optional` is null safety, so the method should return an Optional and use the Optional methods such as `orElse` to deal with the value, instead of checking for null.","body":"Not directly answering your question, but your can replace <code>if (category.isEmpty()) return null;</code> with <code>category.orElse(null)</code>. That said, the point of using <code>Optional</code> is null safety, so the method should return an Optional and use the Optional methods such as <code>orElse</code> to deal with the value, instead of checking for null."}],"answers":[{"tags":[],"owner":{"account_id":1671774,"reputation":426,"user_id":1538111,"accept_rate":40,"display_name":"Muhammad Farag"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690165529,"creation_date":1690165529,"answer_id":76751069,"question_id":76736813,"body_markdown":"I assume the code you give us is fictitious to represent the actual use case. With that assumption in mind and some interpolation, here is a suggestion to make the code read slightly better. Please, accept my apologies if my interpolation is off. \r\n\r\n```java\r\npublic Optional&lt;Configuration&gt; findConfig(Optional&lt;String&gt; siteName) {\r\n    return siteName\r\n            .flatMap(\r\n                    (s) -&gt; lisOfConfigurations.stream()\r\n                            .filter((c) -&gt; c.hasSite(s))\r\n                            .findFirst());\r\n}\r\n\r\npublic Optional&lt;Category&gt; findCategory(Optional&lt;String&gt; siteName, String categoryType) {\r\n    return findConfig(siteName)\r\n            .map((config) -&gt; config.getCategory(categoryType));\r\n}\r\n\r\n\r\npublic Optional&lt;BoundaryData&gt; findBoundaryData(Optional&lt;String&gt; siteName, String categoryType, Double value) {\r\n    return findCategory(siteName, categoryType)\r\n            .flatMap((category) -&gt; category.getSuitableBoundary(value));\r\n}\r\n```\r\n\r\nIdeally, however, the caller should do the null check on the site or map on an optional. This would save us some of the optional mappings or if you prefer, the null checks. You may assert (or throw an exception if the site is null).\r\n\r\nAt any point, if you want to move from Optional to nullable value, I believe you can use `optionalValue.orElse(null)`, in case you do not control the interface.\r\n\r\n ```java\r\nclass Configuration {\r\n    String site;\r\n    List&lt;Category&gt; categories;\r\n    \r\n    public String getSite() {\r\n        return site;\r\n    }\r\n\r\n    public boolean hasSite(String siteName) {\r\n        return site.equals(siteName);\r\n    }\r\n    \r\n\r\n    public Category getCategory(String CategoryType) {\r\n        return categories.stream()\r\n                .filter((c) -&gt; c.getType().equals(CategoryType))\r\n                .findAny()\r\n                .orElse(null);\r\n    }\r\n}\r\n\r\nclass Category {\r\n    String type;\r\n    BoundaryData[] boundaryData;\r\n\r\n\r\n    public Optional&lt;BoundaryData&gt; getSuitableBoundary(Double value) {\r\n        return Arrays.stream(boundaryData)\r\n                .filter((c) -&gt; c.getValue() &gt; value)\r\n                .findFirst();\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n}\r\n\r\nclass BoundaryData {\r\n    Double value;\r\n\r\n    public Double getValue() {\r\n        return value;\r\n    }\r\n}\r\n```","title":"Name of this repeated definitions replaced by overloaded functions code smell/refactoring pattern","body":"<p>I assume the code you give us is fictitious to represent the actual use case. With that assumption in mind and some interpolation, here is a suggestion to make the code read slightly better. Please, accept my apologies if my interpolation is off.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Configuration&gt; findConfig(Optional&lt;String&gt; siteName) {\n    return siteName\n            .flatMap(\n                    (s) -&gt; lisOfConfigurations.stream()\n                            .filter((c) -&gt; c.hasSite(s))\n                            .findFirst());\n}\n\npublic Optional&lt;Category&gt; findCategory(Optional&lt;String&gt; siteName, String categoryType) {\n    return findConfig(siteName)\n            .map((config) -&gt; config.getCategory(categoryType));\n}\n\n\npublic Optional&lt;BoundaryData&gt; findBoundaryData(Optional&lt;String&gt; siteName, String categoryType, Double value) {\n    return findCategory(siteName, categoryType)\n            .flatMap((category) -&gt; category.getSuitableBoundary(value));\n}\n</code></pre>\n<p>Ideally, however, the caller should do the null check on the site or map on an optional. This would save us some of the optional mappings or if you prefer, the null checks. You may assert (or throw an exception if the site is null).</p>\n<p>At any point, if you want to move from Optional to nullable value, I believe you can use <code>optionalValue.orElse(null)</code>, in case you do not control the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Configuration {\n   String site;\n   List&lt;Category&gt; categories;\n   \n   public String getSite() {\n       return site;\n   }\n\n   public boolean hasSite(String siteName) {\n       return site.equals(siteName);\n   }\n   \n\n   public Category getCategory(String CategoryType) {\n       return categories.stream()\n               .filter((c) -&gt; c.getType().equals(CategoryType))\n               .findAny()\n               .orElse(null);\n   }\n}\n\nclass Category {\n   String type;\n   BoundaryData[] boundaryData;\n\n\n   public Optional&lt;BoundaryData&gt; getSuitableBoundary(Double value) {\n       return Arrays.stream(boundaryData)\n               .filter((c) -&gt; c.getValue() &gt; value)\n               .findFirst();\n   }\n\n   public String getType() {\n       return type;\n   }\n}\n\nclass BoundaryData {\n   Double value;\n\n   public Double getValue() {\n       return value;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3414081,"reputation":1287,"user_id":2863440,"accept_rate":92,"display_name":"yadav_vi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690165529,"creation_date":1689932459,"question_id":76736813,"body_markdown":"I had a set of functions which were doing repetitive things + something more.\r\n\r\n(This is a simplified code snippet)\r\n\r\n```java\r\nstatic class Configuration {\r\n    String site;\r\n    List&lt;Category&gt; categories;\r\n}\r\nstatic class Category {\r\n    String type;\r\n    BoundaryData[] boundaryData;\r\n}\r\nstatic class BoundaryData {\r\n    Double value;\r\n    ....\r\n}\r\n\r\npublic Configuration getConfiguration(String siteName) {\r\n    if (siteName == null) return null;\r\n    \r\n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\r\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\r\n                                    .findFirst();\r\n\r\n    if (configuration.isEmpty()) return null;\r\n\r\n    return configuration.get();\r\n}\r\n\r\npublic Category getCategories(String siteName, String categoryType) {\r\n    // Repeat the same configuration fetch code above\r\n    // Searching for categories\r\n}\r\n\r\npublic BoundaryData getBoundaryData(String siteName, String categoryType, Double value) {\r\n    // Repeat the same configuration and category fetch code above\r\n    // Searching for BoundaryData\r\n}\r\n\r\n```\r\n\r\n\r\nOne of my code reviewers suggested that why don&#39;t I name the function something specific and chain the use them in each more granular functions call. Something like this - \r\n\r\n```java\r\npublic Configuration findConfig(String siteName) {\r\n    if (siteName == null) return null;\r\n    \r\n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\r\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\r\n                                    .findFirst();\r\n\r\n    if (configuration.isEmpty()) return null;\r\n\r\n    return configuration.get();\r\n}\r\n\r\npublic Category findConfig(String siteName, String categoryType) {\r\n    Configuration config = findConfig(siteName);\r\n    if (config == null) return null;\r\n    \r\n    Optional&lt;Category&gt; category = config.getCategories().stream()\r\n                                    .filter((c) -&gt; c.getType().equals(categoryType))\r\n                                    .findFirst();\r\n\r\n    if (category.isEmpty()) return null;\r\n\r\n    return category.get();\r\n}\r\n\r\npublic BoundaryData findConfig(String siteName, String categoryType, Double value) {\r\n    Category category = findConfig(siteName, categoryType);\r\n    if (category == null) return null;\r\n\r\n    Optional&lt;BoundaryData&gt; boundaryData = Arrays.stream(category.getBoundaryData())\r\n                                    .filter((c) -&gt; c.getValue() &gt; value)\r\n                                    .findFirst();\r\n\r\n    if (boundaryData.isEmpty()) return null;\r\n\r\n    return boundaryData.get();\r\n}\r\n```\r\n\r\nI wonder if there is some name to such a refactoring. For e.g. This seems like code smell `Duplicated Code`. But this is something more specific.\r\n\r\nEDIT: This seems similar - https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called\r\n\r\nEDIT: Apparently they are called `convenience overloads`","title":"Name of this repeated definitions replaced by overloaded functions code smell/refactoring pattern","body":"<p>I had a set of functions which were doing repetitive things + something more.</p>\n<p>(This is a simplified code snippet)</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Configuration {\n    String site;\n    List&lt;Category&gt; categories;\n}\nstatic class Category {\n    String type;\n    BoundaryData[] boundaryData;\n}\nstatic class BoundaryData {\n    Double value;\n    ....\n}\n\npublic Configuration getConfiguration(String siteName) {\n    if (siteName == null) return null;\n    \n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\n                                    .findFirst();\n\n    if (configuration.isEmpty()) return null;\n\n    return configuration.get();\n}\n\npublic Category getCategories(String siteName, String categoryType) {\n    // Repeat the same configuration fetch code above\n    // Searching for categories\n}\n\npublic BoundaryData getBoundaryData(String siteName, String categoryType, Double value) {\n    // Repeat the same configuration and category fetch code above\n    // Searching for BoundaryData\n}\n\n</code></pre>\n<p>One of my code reviewers suggested that why don't I name the function something specific and chain the use them in each more granular functions call. Something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Configuration findConfig(String siteName) {\n    if (siteName == null) return null;\n    \n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\n                                    .findFirst();\n\n    if (configuration.isEmpty()) return null;\n\n    return configuration.get();\n}\n\npublic Category findConfig(String siteName, String categoryType) {\n    Configuration config = findConfig(siteName);\n    if (config == null) return null;\n    \n    Optional&lt;Category&gt; category = config.getCategories().stream()\n                                    .filter((c) -&gt; c.getType().equals(categoryType))\n                                    .findFirst();\n\n    if (category.isEmpty()) return null;\n\n    return category.get();\n}\n\npublic BoundaryData findConfig(String siteName, String categoryType, Double value) {\n    Category category = findConfig(siteName, categoryType);\n    if (category == null) return null;\n\n    Optional&lt;BoundaryData&gt; boundaryData = Arrays.stream(category.getBoundaryData())\n                                    .filter((c) -&gt; c.getValue() &gt; value)\n                                    .findFirst();\n\n    if (boundaryData.isEmpty()) return null;\n\n    return boundaryData.get();\n}\n</code></pre>\n<p>I wonder if there is some name to such a refactoring. For e.g. This seems like code smell <code>Duplicated Code</code>. But this is something more specific.</p>\n<p>EDIT: This seems similar - <a href=\"https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called\">https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called</a></p>\n<p>EDIT: Apparently they are called <code>convenience overloads</code></p>\n"},{"tags":["java","redis","spring-data-redis"],"comments":[{"owner":{"account_id":4866272,"reputation":327,"user_id":3924386,"accept_rate":86,"display_name":"F. Suyuti"},"score":0,"creation_date":1660537205,"post_id":72400507,"comment_id":129548146,"body_markdown":"@bhusan do you got the answer? or having alternative solution?","body":"@bhusan do you got the answer? or having alternative solution?"},{"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"score":0,"creation_date":1660765119,"post_id":72400507,"comment_id":129612873,"body_markdown":"No, I didn&#39;t get an answer nor find an alternative solution. I skipped using this functionality for now.","body":"No, I didn&#39;t get an answer nor find an alternative solution. I skipped using this functionality for now."}],"answers":[{"tags":[],"owner":{"account_id":10797409,"reputation":21,"user_id":7942634,"display_name":"Tom Clausing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670462710,"creation_date":1670462710,"answer_id":74724565,"question_id":72400507,"body_markdown":"The 3- and 4-param `setIfAbsent()` overloads pass an arg `SetOption.ifAbsent()` to `connection.set()`. This appears to populate `NX` onto the redis `SET` command similarly to what `connection.setNX()` would do. I&#39;m guessing they wanted to refactor to this approach to reduce the number of method overloads that are needed to support all combinations of options and arguments to `SET`.\r\n\r\n`SetOption.ifAbsent()`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379\r\n\r\n`LettuceConverters.toSetArgs(expiration, option)`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139\r\n\r\n`args.nx()`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>The 3- and 4-param <code>setIfAbsent()</code> overloads pass an arg <code>SetOption.ifAbsent()</code> to <code>connection.set()</code>. This appears to populate <code>NX</code> onto the redis <code>SET</code> command similarly to what <code>connection.setNX()</code> would do. I'm guessing they wanted to refactor to this approach to reduce the number of method overloads that are needed to support all combinations of options and arguments to <code>SET</code>.</p>\n<p><code>SetOption.ifAbsent()</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379</a></p>\n<p><code>LettuceConverters.toSetArgs(expiration, option)</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139</a></p>\n<p><code>args.nx()</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800</a></p>\n"},{"tags":[],"owner":{"account_id":6553958,"reputation":186,"user_id":5067339,"display_name":"Martin Ferrari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690164898,"creation_date":1690160621,"answer_id":76750880,"question_id":72400507,"body_markdown":"As of spring boot 3.1.1, using jedis and lettuce, the actual command (with a timeout of 30 seconds) sent to redis  is:\r\n\r\n&quot;SET&quot; &quot;key&quot; &quot;value&quot; &quot;NX&quot; &quot;EX&quot; &quot;30&quot;\r\n","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>As of spring boot 3.1.1, using jedis and lettuce, the actual command (with a timeout of 30 seconds) sent to redis  is:</p>\n<p>&quot;SET&quot; &quot;key&quot; &quot;value&quot; &quot;NX&quot; &quot;EX&quot; &quot;30&quot;</p>\n"}],"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690164898,"creation_date":1653626161,"question_id":72400507,"body_markdown":"According to the [documentation][1], spring data redis&#39;s `setIfAbsent(K, V)` uses `setNX` command. However, `setIfAbsent(K, V, Expiry timeout)` [seems to use][2] `set` command, instead of `setNX`. Does it mean that having to set timeout on a key,value makes it not atomic? \r\n\r\nIn my use case, I want to set TTL for each row and I&#39;m trying to understand how redis would behave if two threads (or application instances) call `setIfAbsent(K,V, sometimeoutinminutes)` at the same time? Does only one request update the key (`setNX` behavior) or both update the key?\r\n\r\n\r\nLooking at the [implementation][3], I can see that both have slightly different code paths, so which makes me wonder if the latter is really atomic.\r\n\r\nMy code looks like this:\r\n\r\n```\r\n@Bean\r\npublic RedisTemplate&lt;?, ?&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\r\n    RedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(connectionFactory);\r\n\r\n    return template;\r\n}\r\n\r\ncode that updates:\r\n\r\n//try to get value for a given key from redis.\r\nString value = redisTemplate.opsForValue().get(key);\r\n\r\n//if present, return value to the caller.\r\nif (value != null) {\r\n  return value;\r\n}\r\n\r\n//if not, fetch value from remote.\r\nvalue = makeNetworkCallToGetValue(key);\r\nif (value != null) {\r\n    // update redis. what happens if 2 threads/application instances call this at the same time?\r\n    redisTemplate.opsForValue().setIfAbsent(key, value, Duration.ofMinutes(1));\r\n}\r\n\r\nreturn value;\r\n\r\n```\r\n\r\nLibrary version: spring-data-redis:2.6.4\r\n\r\n  [1]: https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-\r\n  [2]: https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-java.time.Duration-\r\n  [3]: https://github.com/spring-projects/spring-data-redis/blob/e2e68aa57200505e89b5a30006865cb0b488e6e2/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L285","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-\" rel=\"nofollow noreferrer\">documentation</a>, spring data redis's <code>setIfAbsent(K, V)</code> uses <code>setNX</code> command. However, <code>setIfAbsent(K, V, Expiry timeout)</code> <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-java.time.Duration-\" rel=\"nofollow noreferrer\">seems to use</a> <code>set</code> command, instead of <code>setNX</code>. Does it mean that having to set timeout on a key,value makes it not atomic?</p>\n<p>In my use case, I want to set TTL for each row and I'm trying to understand how redis would behave if two threads (or application instances) call <code>setIfAbsent(K,V, sometimeoutinminutes)</code> at the same time? Does only one request update the key (<code>setNX</code> behavior) or both update the key?</p>\n<p>Looking at the <a href=\"https://github.com/spring-projects/spring-data-redis/blob/e2e68aa57200505e89b5a30006865cb0b488e6e2/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L285\" rel=\"nofollow noreferrer\">implementation</a>, I can see that both have slightly different code paths, so which makes me wonder if the latter is really atomic.</p>\n<p>My code looks like this:</p>\n<pre><code>@Bean\npublic RedisTemplate&lt;?, ?&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\n    RedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(connectionFactory);\n\n    return template;\n}\n\ncode that updates:\n\n//try to get value for a given key from redis.\nString value = redisTemplate.opsForValue().get(key);\n\n//if present, return value to the caller.\nif (value != null) {\n  return value;\n}\n\n//if not, fetch value from remote.\nvalue = makeNetworkCallToGetValue(key);\nif (value != null) {\n    // update redis. what happens if 2 threads/application instances call this at the same time?\n    redisTemplate.opsForValue().setIfAbsent(key, value, Duration.ofMinutes(1));\n}\n\nreturn value;\n\n</code></pre>\n<p>Library version: spring-data-redis:2.6.4</p>\n"},{"tags":["java","list","function","grouping","guava"],"answers":[{"comments":[{"owner":{"account_id":283806,"reputation":4839,"user_id":581528,"accept_rate":84,"display_name":"Ray"},"score":5,"creation_date":1323655366,"post_id":8464106,"comment_id":10474505,"body_markdown":"This is exactly the situation `Multimap` was designed for.","body":"This is exactly the situation <code>Multimap</code> was designed for."},{"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"score":5,"creation_date":1382471175,"post_id":8464106,"comment_id":28969950,"body_markdown":"In place of last code example `indexed.asMap().values()` would probably suffice to get `Collection&lt;List&lt;E&gt;&gt;`","body":"In place of last code example <code>indexed.asMap().values()</code> would probably suffice to get <code>Collection&lt;List&lt;E&gt;&gt;</code>"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1537931599,"post_id":8464106,"comment_id":91958899,"body_markdown":"How to use String as index for grouping in Guava?","body":"How to use String as index for grouping in Guava?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":0,"creation_date":1537952002,"post_id":8464106,"comment_id":91967085,"body_markdown":"@Alex78191 What do you mean exactly? Seems like a separate question.","body":"@Alex78191 What do you mean exactly? Seems like a separate question."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1537952374,"post_id":8464106,"comment_id":91967331,"body_markdown":"@Xaerxess ok, I found out . Replaced Integer with String.","body":"@Xaerxess ok, I found out . Replaced Integer with String."}],"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"comment_count":5,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1515166936,"creation_date":1323607899,"answer_id":8464106,"question_id":8463543,"body_markdown":"Sure it is possible, and even easier with Guava :) Use [`Multimaps.index(Iterable, Function)`][1]:\r\n\r\n    ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, groupFunction);\r\n\r\nIf you give concrete use case it would be easier to show it in action.\r\n\r\nExample from docs:\r\n\r\n    List&lt;String&gt; badGuys =\r\n       Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Function&lt;String, Integer&gt; stringLengthFunction = ...;\r\n    Multimap&lt;Integer, String&gt; index =\r\n       Multimaps.index(badGuys, stringLengthFunction);\r\n    System.out.println(index);\r\n\r\nprints\r\n\r\n    {4=[Inky], 6=[Blinky], 5=[Pinky, Pinky, Clyde]}\r\n\r\nIn your case if GroupFunction is defined as:\r\n\r\n    GroupFunction&lt;String&gt; groupFunction = new GroupFunction&lt;String&gt;() {\r\n      @Override public String sameGroup(final String s1, final String s2) {\r\n        return s1.length().equals(s2.length());\r\n      }\r\n    }\r\n\r\nthen it would translate to:\r\n\r\n    Function&lt;String, Integer&gt; stringLengthFunction = new Function&lt;String, Integer&gt;() {\r\n      @Override public Integer apply(final String s) {\r\n        return s.length();\r\n      }\r\n    }\r\n\r\nwhich is possible `stringLengthFunction` implementation used in Guava&#39;s example.\r\n\r\n---\r\n\r\nFinally, in Java 8, whole snippet could be even simpler, as lambas and method references are concise enough to be inlined:\r\n\r\n    ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, String::length);\r\n\r\nFor pure Java 8 (no Guava) example using [`Collector.groupingBy`][2] see [Jeffrey Bosboom&#39;s answer][3], although there are few differences in that approach:\r\n\r\n - it doesn&#39;t return `ImmutableListMultimap` but rather `Map` with `Collection` values,\r\n - \r\n    &gt; *There are no guarantees on the type, mutability, serializability, or thread-safety of the Map returned* ([source][4]),\r\n - it&#39;s a bit more verbose than Guava + method reference.\r\n\r\n---\r\n\r\n**EDIT**: If you don&#39;t care about indexed keys you can fetch grouped values:\r\n\r\n    List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), new Function&lt;E, List&lt;E&gt;&gt;() {\r\n            @Override public List&lt;E&gt; apply(E key) {\r\n                return indexed.get(key);\r\n            }\r\n    });\r\n\r\n    // or the same view, but with Java 8 lambdas:\r\n    List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), indexed::get);\r\n\r\nwhat gives you `Lists&lt;List&lt;E&gt;&gt;` view which contents can be easily copied to `ArrayList` or  just used as is, as you wanted in first place. Also note that `indexed.get(key)` is `ImmutableList`.\r\n\r\n    // bonus: similar as above, but not a view, instead collecting to list using streams:\r\n    List&lt;List&lt;E&gt;&gt; grouped = indexed.keySet().stream()\r\n        .map(indexed::get)\r\n        .collect(Collectors.toList());\r\n\r\n**EDIT 2**: As  Petr Gladkikh mentions [in comment below][5], if `Collection&lt;List&lt;E&gt;&gt;` is enough, above example could be simpler:\r\n\r\n    Collection&lt;List&lt;E&gt;&gt; grouped = indexed.asMap().values();\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\r\n  [3]: https://stackoverflow.com/a/25953796/708434\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\r\n  [5]: https://stackoverflow.com/questions/8463543/grouping-elements-of-a-list-into-sublists-maybe-by-using-guava/8464106#comment28969950_8464106","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>Sure it is possible, and even easier with Guava :) Use <a href=\"https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Multimaps.index(Iterable, Function)</code></a>:</p>\n\n<pre><code>ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, groupFunction);\n</code></pre>\n\n<p>If you give concrete use case it would be easier to show it in action.</p>\n\n<p>Example from docs:</p>\n\n<pre><code>List&lt;String&gt; badGuys =\n   Arrays.asList(\"Inky\", \"Blinky\", \"Pinky\", \"Pinky\", \"Clyde\");\nFunction&lt;String, Integer&gt; stringLengthFunction = ...;\nMultimap&lt;Integer, String&gt; index =\n   Multimaps.index(badGuys, stringLengthFunction);\nSystem.out.println(index);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>{4=[Inky], 6=[Blinky], 5=[Pinky, Pinky, Clyde]}\n</code></pre>\n\n<p>In your case if GroupFunction is defined as:</p>\n\n<pre><code>GroupFunction&lt;String&gt; groupFunction = new GroupFunction&lt;String&gt;() {\n  @Override public String sameGroup(final String s1, final String s2) {\n    return s1.length().equals(s2.length());\n  }\n}\n</code></pre>\n\n<p>then it would translate to:</p>\n\n<pre><code>Function&lt;String, Integer&gt; stringLengthFunction = new Function&lt;String, Integer&gt;() {\n  @Override public Integer apply(final String s) {\n    return s.length();\n  }\n}\n</code></pre>\n\n<p>which is possible <code>stringLengthFunction</code> implementation used in Guava's example.</p>\n\n<hr>\n\n<p>Finally, in Java 8, whole snippet could be even simpler, as lambas and method references are concise enough to be inlined:</p>\n\n<pre><code>ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, String::length);\n</code></pre>\n\n<p>For pure Java 8 (no Guava) example using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"noreferrer\"><code>Collector.groupingBy</code></a> see <a href=\"https://stackoverflow.com/a/25953796/708434\">Jeffrey Bosboom's answer</a>, although there are few differences in that approach:</p>\n\n<ul>\n<li>it doesn't return <code>ImmutableListMultimap</code> but rather <code>Map</code> with <code>Collection</code> values,</li>\n<li><blockquote>\n  <p><em>There are no guarantees on the type, mutability, serializability, or thread-safety of the Map returned</em> (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"noreferrer\">source</a>),</p>\n</blockquote></li>\n<li>it's a bit more verbose than Guava + method reference.</li>\n</ul>\n\n<hr>\n\n<p><strong>EDIT</strong>: If you don't care about indexed keys you can fetch grouped values:</p>\n\n<pre><code>List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), new Function&lt;E, List&lt;E&gt;&gt;() {\n        @Override public List&lt;E&gt; apply(E key) {\n            return indexed.get(key);\n        }\n});\n\n// or the same view, but with Java 8 lambdas:\nList&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), indexed::get);\n</code></pre>\n\n<p>what gives you <code>Lists&lt;List&lt;E&gt;&gt;</code> view which contents can be easily copied to <code>ArrayList</code> or  just used as is, as you wanted in first place. Also note that <code>indexed.get(key)</code> is <code>ImmutableList</code>.</p>\n\n<pre><code>// bonus: similar as above, but not a view, instead collecting to list using streams:\nList&lt;List&lt;E&gt;&gt; grouped = indexed.keySet().stream()\n    .map(indexed::get)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>EDIT 2</strong>: As  Petr Gladkikh mentions <a href=\"https://stackoverflow.com/questions/8463543/grouping-elements-of-a-list-into-sublists-maybe-by-using-guava/8464106#comment28969950_8464106\">in comment below</a>, if <code>Collection&lt;List&lt;E&gt;&gt;</code> is enough, above example could be simpler:</p>\n\n<pre><code>Collection&lt;List&lt;E&gt;&gt; grouped = indexed.asMap().values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49039,"reputation":4294,"user_id":145888,"accept_rate":74,"display_name":"David Zhao"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1690164627,"creation_date":1404949224,"answer_id":24665373,"question_id":8463543,"body_markdown":"The easiest and simplest way would be using: [Lambdaj grouping feature][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/lambdaj/wiki/LambdajFeatures\r\n\r\nThe above example can be re-written:\r\n\r\n    List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Group group = group(badGuys, by(on(String.class).length)));\r\n    System.out.println(group.keySet());\r\n","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>The easiest and simplest way would be using: <a href=\"https://code.google.com/p/lambdaj/wiki/LambdajFeatures\" rel=\"nofollow noreferrer\">Lambdaj grouping feature</a></p>\n<p>The above example can be re-written:</p>\n<pre><code>List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\nGroup group = group(badGuys, by(on(String.class).length)));\nSystem.out.println(group.keySet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1542930771,"post_id":25953796,"comment_id":93751946,"body_markdown":"For multilevel grouping you can group by List&lt;string&gt; of property values.","body":"For multilevel grouping you can group by List&lt;string&gt; of property values."}],"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"comment_count":1,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1419834844,"creation_date":1411251178,"answer_id":25953796,"question_id":8463543,"body_markdown":"[`Collector.groupingBy`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-) from the Java 8 streams library provides the same functionality as Guava&#39;s `Multimaps.index`.  Here&#39;s the example in [Xaerxess&#39;s answer](https://stackoverflow.com/a/8464106/3614835), rewritten to use Java 8 streams:\r\n\r\n    List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.stream()\r\n        .collect(Collectors.groupingBy(String::length));\r\n    System.out.println(index);\r\n\r\nThis will print\r\n\r\n    {4=[Inky], 5=[Pinky, Pinky, Clyde], 6=[Blinky]}\r\n\r\nIf you want to combine the values with the same key in some other way than creating a list, you can use the overload of `groupingBy` that takes another collector.  This example concatenates the strings with a delimiter:\r\n\r\n    Map&lt;Integer, String&gt; index = badGuys.stream()\r\n        .collect(Collectors.groupingBy(String::length, Collectors.joining(&quot; and &quot;)));\r\n\r\nThis will print\r\n\r\n    {4=Inky, 5=Pinky and Pinky and Clyde, 6=Blinky}\r\n\r\nIf you have a large list or your grouping function is expensive, you can go parallel using `parallelStream` and a concurrent collector.\r\n\r\n    Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.parallelStream()\r\n        .collect(Collectors.groupingByConcurrent(String::length));\r\n\r\nThis may print (the order is no longer deterministic)\r\n\r\n    {4=[Inky], 5=[Pinky, Clyde, Pinky], 6=[Blinky]}","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"noreferrer\"><code>Collector.groupingBy</code></a> from the Java 8 streams library provides the same functionality as Guava's <code>Multimaps.index</code>.  Here's the example in <a href=\"https://stackoverflow.com/a/8464106/3614835\">Xaerxess's answer</a>, rewritten to use Java 8 streams:</p>\n\n<pre><code>List&lt;String&gt; badGuys = Arrays.asList(\"Inky\", \"Blinky\", \"Pinky\", \"Pinky\", \"Clyde\");\nMap&lt;Integer, List&lt;String&gt;&gt; index = badGuys.stream()\n    .collect(Collectors.groupingBy(String::length));\nSystem.out.println(index);\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>{4=[Inky], 5=[Pinky, Pinky, Clyde], 6=[Blinky]}\n</code></pre>\n\n<p>If you want to combine the values with the same key in some other way than creating a list, you can use the overload of <code>groupingBy</code> that takes another collector.  This example concatenates the strings with a delimiter:</p>\n\n<pre><code>Map&lt;Integer, String&gt; index = badGuys.stream()\n    .collect(Collectors.groupingBy(String::length, Collectors.joining(\" and \")));\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>{4=Inky, 5=Pinky and Pinky and Clyde, 6=Blinky}\n</code></pre>\n\n<p>If you have a large list or your grouping function is expensive, you can go parallel using <code>parallelStream</code> and a concurrent collector.</p>\n\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.parallelStream()\n    .collect(Collectors.groupingByConcurrent(String::length));\n</code></pre>\n\n<p>This may print (the order is no longer deterministic)</p>\n\n<pre><code>{4=[Inky], 5=[Pinky, Clyde, Pinky], 6=[Blinky]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422446329,"creation_date":1422436504,"answer_id":28188426,"question_id":8463543,"body_markdown":"With Java 8, Guava and few helper functions you can implement grouping with custom Comparator\r\n\r\n    public static &lt;T&gt; Map&lt;T, List&lt;T&gt;&gt; group(List&lt;T&gt; items, Comparator&lt;T&gt; comparator)\r\n\t{\r\n\t\tListMultimap&lt;T, T&gt; blocks = LinkedListMultimap.create();\r\n\r\n\t\tif (!ArrayUtils.isNullOrEmpty(items))\r\n\t\t{\r\n\t\t\tT currentItem = null;\r\n\r\n\t\t\tfor (T item : items)\r\n\t\t\t{\r\n\t\t\t\tif (currentItem == null || comparator.compare(currentItem, item) != 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentItem = item;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tblocks.put(currentItem, ObjectUtils.clone(item));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Multimaps.asMap(blocks);\r\n\t}\r\n\r\nExample\r\n\t\r\n    Comparator&lt;SportExercise&gt; comparator = Comparator.comparingInt(SportExercise::getEstimatedTime)\r\n    \t\t\t\t.thenComparingInt(SportExercise::getActiveTime).thenComparingInt(SportExercise::getIntervalCount)\r\n    \t\t\t\t.thenComparingLong(SportExercise::getExerciseId);\r\n\r\n    Map&lt;SportExercise, List&lt;SportExercise&gt;&gt; blocks = group(sportWorkout.getTrainingExercises(), comparator);\r\n    \r\n    blocks.forEach((key, values) -&gt; {\r\n    \t\t\tSystem.out.println(key);\r\n    \t\t\tSystem.out.println(values);\r\n    \t\t});","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>With Java 8, Guava and few helper functions you can implement grouping with custom Comparator</p>\n\n<pre><code>public static &lt;T&gt; Map&lt;T, List&lt;T&gt;&gt; group(List&lt;T&gt; items, Comparator&lt;T&gt; comparator)\n{\n    ListMultimap&lt;T, T&gt; blocks = LinkedListMultimap.create();\n\n    if (!ArrayUtils.isNullOrEmpty(items))\n    {\n        T currentItem = null;\n\n        for (T item : items)\n        {\n            if (currentItem == null || comparator.compare(currentItem, item) != 0)\n            {\n                currentItem = item;\n            }\n\n            blocks.put(currentItem, ObjectUtils.clone(item));\n        }\n    }\n\n    return Multimaps.asMap(blocks);\n}\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>Comparator&lt;SportExercise&gt; comparator = Comparator.comparingInt(SportExercise::getEstimatedTime)\n                .thenComparingInt(SportExercise::getActiveTime).thenComparingInt(SportExercise::getIntervalCount)\n                .thenComparingLong(SportExercise::getExerciseId);\n\nMap&lt;SportExercise, List&lt;SportExercise&gt;&gt; blocks = group(sportWorkout.getTrainingExercises(), comparator);\n\nblocks.forEach((key, values) -&gt; {\n            System.out.println(key);\n            System.out.println(values);\n        });\n</code></pre>\n"}],"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50154,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":8464106,"answer_count":4,"score":38,"last_activity_date":1690164627,"creation_date":1323602512,"question_id":8463543,"body_markdown":"I want to group elements of a list. I&#39;m currently doing it this way: \r\n\r\n\tpublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; group(final List&lt;E&gt; list, final GroupFunction&lt;E&gt; groupFunction) {\r\n\r\n\t\tList&lt;List&lt;E&gt;&gt; result = Lists.newArrayList();\r\n\r\n\t\tfor (final E element : list) {\r\n\r\n\t\t\tboolean groupFound = false;\r\n\t\t\tfor (final List&lt;E&gt; group : result) {\r\n\t\t\t\tif (groupFunction.sameGroup(element, group.get(0))) {\r\n\t\t\t\t\tgroup.add(element);\r\n\t\t\t\t\tgroupFound = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (! groupFound) {\r\n\r\n\t\t\t\tList&lt;E&gt; newGroup = Lists.newArrayList();\r\n\t\t\t\tnewGroup.add(element);\r\n\t\t\t\tresult.add(newGroup);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic interface GroupFunction&lt;E&gt; {\r\n\t\tpublic boolean sameGroup(final E element1, final E element2);\r\n\t}\r\n\r\nIs there a better way to do this, preferably by using guava?","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>I want to group elements of a list. I'm currently doing it this way: </p>\n\n<pre><code>public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; group(final List&lt;E&gt; list, final GroupFunction&lt;E&gt; groupFunction) {\n\n    List&lt;List&lt;E&gt;&gt; result = Lists.newArrayList();\n\n    for (final E element : list) {\n\n        boolean groupFound = false;\n        for (final List&lt;E&gt; group : result) {\n            if (groupFunction.sameGroup(element, group.get(0))) {\n                group.add(element);\n                groupFound = true;\n                break;\n            }\n        }\n        if (! groupFound) {\n\n            List&lt;E&gt; newGroup = Lists.newArrayList();\n            newGroup.add(element);\n            result.add(newGroup);\n        }\n    }\n\n    return result;\n}\n\npublic interface GroupFunction&lt;E&gt; {\n    public boolean sameGroup(final E element1, final E element2);\n}\n</code></pre>\n\n<p>Is there a better way to do this, preferably by using guava?</p>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1690180402,"post_id":76751019,"comment_id":135311765,"body_markdown":"Please edit your question and add the code where you&#39;re trying to display the data. Your actual code only adds data to the Realtime Database.","body":"Please edit your question and add the code where you&#39;re trying to display the data. Your actual code only adds data to the Realtime Database."}],"owner":{"account_id":29077131,"reputation":11,"user_id":22273987,"display_name":"Fredrick Osei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690164461,"creation_date":1690164188,"question_id":76751019,"body_markdown":"```lang-java\r\nDatabaseReference referenceProfile = FirebaseDatabase.getInstance()\r\n    .getReference(&quot;Registered users&quot;);\r\n\r\nToast.makeText(\r\n    Registor.this,\r\n    &quot;user registered successfully&quot;,\r\n    Toast.LENGTH_LONG\r\n).show();\r\n\r\nreferenceProfile.child(firebaseUser.getUid())\r\n    .setValue(writeUserDetails)\r\n    .addOnCompleteListener (new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if(task.isSuccessful()) {\r\n                Toast.makeText(\r\n                    Registor.this,\r\n                    &quot;user registered well&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show();\r\n```                                    \r\n\r\n\r\n\r\nTo able to display data in  my real time database\r\n","title":"why is my realtime databse not displaying","body":"<pre class=\"lang-java prettyprint-override\"><code>DatabaseReference referenceProfile = FirebaseDatabase.getInstance()\n    .getReference(&quot;Registered users&quot;);\n\nToast.makeText(\n    Registor.this,\n    &quot;user registered successfully&quot;,\n    Toast.LENGTH_LONG\n).show();\n\nreferenceProfile.child(firebaseUser.getUid())\n    .setValue(writeUserDetails)\n    .addOnCompleteListener (new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if(task.isSuccessful()) {\n                Toast.makeText(\n                    Registor.this,\n                    &quot;user registered well&quot;,\n                    Toast.LENGTH_LONG\n                ).show();\n</code></pre>\n<p>To able to display data in  my real time database</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690162104,"creation_date":1690123138,"answer_id":76748815,"question_id":76748466,"body_markdown":"I find that the moment is just too fast to catch so we can make it longer. Add `sleep()` so that the `Blocked` period can be more obvious:\r\n```java\r\npublic synchronized String getTask() throws InterruptedException {\r\n    while (queue.isEmpty()) {\r\n        this.wait();\r\n    }\r\n    Thread.sleep(2000);\r\n    return queue.remove();\r\n}\r\n```\r\nAnd make main thread sleep longer before interrupting:\r\n```java\r\nThread.sleep(5000);\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nAccording to this post:\r\n\r\nhttps://stackoverflow.com/a/36449178/6812019\r\n\r\nThe state `Monitor` in VisualVM UI, it means `Blocked`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5Xd7.png","title":"Why do states of threads which are awakened from by `notifyAll()` is called do not turn into `BLOCKED`?","body":"<p>I find that the moment is just too fast to catch so we can make it longer. Add <code>sleep()</code> so that the <code>Blocked</code> period can be more obvious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public synchronized String getTask() throws InterruptedException {\n    while (queue.isEmpty()) {\n        this.wait();\n    }\n    Thread.sleep(2000);\n    return queue.remove();\n}\n</code></pre>\n<p>And make main thread sleep longer before interrupting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread.sleep(5000);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B5Xd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5Xd7.png\" alt=\"enter image description here\" /></a></p>\n<p>According to this post:</p>\n<p><a href=\"https://stackoverflow.com/a/36449178/6812019\">https://stackoverflow.com/a/36449178/6812019</a></p>\n<p>The state <code>Monitor</code> in VisualVM UI, it means <code>Blocked</code></p>\n"}],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690162104,"creation_date":1690118548,"question_id":76748466,"body_markdown":"- I have a piece of code like:\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n\r\n        TaskQueue q = new TaskQueue();\r\n        List&lt;Thread&gt; ts = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Thread t = new Thread(() -&gt; {\r\n                try {\r\n                    String s = q.getTask();\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(Thread.currentThread().getId() + &quot; is interrupted &quot;);\r\n                    return;\r\n                }\r\n            }, &quot;tGet&quot; + i);\r\n            t.start();\r\n            ts.add(t);\r\n        }\r\n        Thread add = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                String s = &quot;t-&quot; + Math.random();\r\n                System.out.println(LocalTime.now() + &quot; add element: &quot; + s);\r\n                q.addTask(s);\r\n\r\n            }\r\n        }, &quot;tAdd&quot;);\r\n        add.start();\r\n        add.join();\r\n        Thread.sleep(100);\r\n        for (Thread t : ts) {\r\n            t.interrupt();\r\n        }\r\n        System.out.println(&quot;main function end&quot;);\r\n}\r\n\r\npublic class TaskQueue {\r\n    Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n    public synchronized void addTask(String s) {\r\n        this.queue.add(s);\r\n        this.notifyAll();\r\n    }\r\n\r\n    public synchronized String getTask() throws InterruptedException {\r\n        while (queue.isEmpty()) {\r\n            this.wait();\r\n        }\r\n        return queue.remove();\r\n    }\r\n}\r\n```\r\n\r\n- What I expect is that, you see there is 3 threads `wait()` to get task in queue, but only 2 would be added, one per 5s, when first task is added, `notifyAll()` is called and those 3 threads should begin to compete, trying to fetch `this` lock caused by `synchronized` key word, and their status should change from `WAITING` to `BLOCKED` for a short period until one random thread successfully achieve the lock. However, the competition did not happen, and here is the thread state recorded using VisualVM:\r\n[![enter image description here][1]][1]\r\n\r\n- We can see that when the first task is added the `tGet2` achieve `this` lock and these 3 threads , their status did not turn into `BLOCKED`, maybe the `BLOCKED` period is extremly    short so the profiler had no time to record?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mHXlo.png","title":"Why do states of threads which are awakened from by `notifyAll()` is called do not turn into `BLOCKED`?","body":"<ul>\n<li>I have a piece of code like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        TaskQueue q = new TaskQueue();\n        List&lt;Thread&gt; ts = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 3; i++) {\n            Thread t = new Thread(() -&gt; {\n                try {\n                    String s = q.getTask();\n                } catch (InterruptedException e) {\n                    System.out.println(Thread.currentThread().getId() + &quot; is interrupted &quot;);\n                    return;\n                }\n            }, &quot;tGet&quot; + i);\n            t.start();\n            ts.add(t);\n        }\n        Thread add = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 2; i++) {\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                }\n                String s = &quot;t-&quot; + Math.random();\n                System.out.println(LocalTime.now() + &quot; add element: &quot; + s);\n                q.addTask(s);\n\n            }\n        }, &quot;tAdd&quot;);\n        add.start();\n        add.join();\n        Thread.sleep(100);\n        for (Thread t : ts) {\n            t.interrupt();\n        }\n        System.out.println(&quot;main function end&quot;);\n}\n\npublic class TaskQueue {\n    Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\n\n    public synchronized void addTask(String s) {\n        this.queue.add(s);\n        this.notifyAll();\n    }\n\n    public synchronized String getTask() throws InterruptedException {\n        while (queue.isEmpty()) {\n            this.wait();\n        }\n        return queue.remove();\n    }\n}\n</code></pre>\n<ul>\n<li><p>What I expect is that, you see there is 3 threads <code>wait()</code> to get task in queue, but only 2 would be added, one per 5s, when first task is added, <code>notifyAll()</code> is called and those 3 threads should begin to compete, trying to fetch <code>this</code> lock caused by <code>synchronized</code> key word, and their status should change from <code>WAITING</code> to <code>BLOCKED</code> for a short period until one random thread successfully achieve the lock. However, the competition did not happen, and here is the thread state recorded using VisualVM:\n<a href=\"https://i.stack.imgur.com/mHXlo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHXlo.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>We can see that when the first task is added the <code>tGet2</code> achieve <code>this</code> lock and these 3 threads , their status did not turn into <code>BLOCKED</code>, maybe the <code>BLOCKED</code> period is extremly    short so the profiler had no time to record?</p>\n</li>\n</ul>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658495616,"post_id":73079928,"comment_id":129072156,"body_markdown":"I would advise you to carefully study [ask]","body":"I would advise you to carefully study <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":1,"creation_date":1658498168,"post_id":73079928,"comment_id":129073265,"body_markdown":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question.","body":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658498101,"creation_date":1658498101,"answer_id":73081511,"question_id":73079928,"body_markdown":"You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\r\nWhen building your JDA instance with a `JDABuilder`, you have to use `enableIntents(GatewayIntent.MESSAGE_CONTENT)`. See the [docs](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)).","title":"Attempting to access message content without GatewayIntent","body":"<p>You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: <a href=\"https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\" rel=\"nofollow noreferrer\">https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/</a></p>\n<p>When building your JDA instance with a <code>JDABuilder</code>, you have to use <code>enableIntents(GatewayIntent.MESSAGE_CONTENT)</code>. See the <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":25534154,"reputation":11,"user_id":19321573,"display_name":"Gavier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160794,"creation_date":1689791138,"answer_id":76724239,"question_id":73079928,"body_markdown":"It&#39;s simple: you just need to allow your bot to do it in the dev portal. \r\n![](https://i.stack.imgur.com/5XX72.png)","title":"Attempting to access message content without GatewayIntent","body":"<p>It's simple: you just need to allow your bot to do it in the dev portal.\n<img src=\"https://i.stack.imgur.com/5XX72.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":25870024,"reputation":21,"user_id":19601060,"display_name":"Pizzzabote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690160794,"creation_date":1658490763,"question_id":73079928,"body_markdown":"I want that whenever I write a message that says hello, the bot responses with a message in the console, but it&#39;s just giving me an error:\r\n\r\n```none\r\n[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\r\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\r\nUseful resources to learn more:\r\n\t- https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\r\n\t- https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\t- https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\r\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\r\n```\r\n\r\nI tried using the links, but it didn&#39;t work.\r\n\r\n\r\n    public class NachrichtenReaktion extends ListenerAdapter {\r\n    \r\n        public void onMessageReceived (MessageReceivedEvent ereignis)\r\n        {\r\n    \r\n            if(ereignis.isFromGuild())\r\n            {\r\n    \r\n                if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\r\n                    \r\n                    System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Attempting to access message content without GatewayIntent","body":"<p>I want that whenever I write a message that says hello, the bot responses with a message in the console, but it's just giving me an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\nUseful resources to learn more:\n    - https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\n    - https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\n    - https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\n</code></pre>\n<p>I tried using the links, but it didn't work.</p>\n<pre><code>public class NachrichtenReaktion extends ListenerAdapter {\n\n    public void onMessageReceived (MessageReceivedEvent ereignis)\n    {\n\n        if(ereignis.isFromGuild())\n        {\n\n            if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\n                \n                System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\n                \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1327250,"reputation":420272,"user_id":1271826,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1344824031,"post_id":5787761,"comment_id":15884957,"body_markdown":"With absolutely no offense to any of the respondents, who were just answering the question, but I would **not** advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear.","body":"With absolutely no offense to any of the respondents, who were just answering the question, but I would <b>not</b> advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear."}],"answers":[{"tags":[],"owner":{"account_id":369459,"reputation":5002,"user_id":716851,"accept_rate":100,"display_name":"Chris Snowden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303806583,"creation_date":1303806583,"answer_id":5787782,"question_id":5787761,"body_markdown":"height = width = width &lt; height ? width : height;","title":"Assign smaller number to variable in 1 line","body":"<p>height = width = width &lt; height ? width : height;</p>\n"},{"tags":[],"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690160754,"creation_date":1303806589,"answer_id":5787783,"question_id":5787761,"body_markdown":"```java\r\nwidth = height = width &lt; height ? width : height;\r\n```","title":"Assign smaller number to variable in 1 line","body":"<pre class=\"lang-java prettyprint-override\"><code>width = height = width &lt; height ? width : height;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303806602,"creation_date":1303806602,"answer_id":5787787,"question_id":5787761,"body_markdown":"It is possible:\r\n\r\n\twidth = height = width &lt; height ? width : height;\r\n\r\nHowever it&#39;s generally not the convention in Java to assign multiple variables on one line.\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>It is possible:</p>\n\n<pre><code>width = height = width &lt; height ? width : height;\n</code></pre>\n\n<p>However it's generally not the convention in Java to assign multiple variables on one line.</p>\n"},{"tags":[],"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303806855,"creation_date":1303806855,"answer_id":5787840,"question_id":5787761,"body_markdown":"    width = height = Math.min(width, height);","title":"Assign smaller number to variable in 1 line","body":"<pre><code>width = height = Math.min(width, height);\n</code></pre>\n"}],"owner":{"account_id":210381,"reputation":1465,"user_id":461971,"accept_rate":82,"display_name":"Justin Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5787787,"answer_count":4,"score":1,"last_activity_date":1690160754,"creation_date":1303806452,"question_id":5787761,"body_markdown":"Is there a one-liner for this function?\r\n\r\n    int side = width &lt; height ? width : height;\r\n    width = side;\r\n    height = side;\r\n\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>Is there a one-liner for this function?</p>\n\n<pre><code>int side = width &lt; height ? width : height;\nwidth = side;\nheight = side;\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":6,"creation_date":1689875015,"post_id":76732188,"comment_id":135278736,"body_markdown":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: <a href=\"https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1689877865,"post_id":76732188,"comment_id":135279321,"body_markdown":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception).","body":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception)."},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689879216,"post_id":76732188,"comment_id":135279579,"body_markdown":"might be helpful\nhttps://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/","body":"might be helpful <a href=\"https://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/\" rel=\"nofollow noreferrer\">oreilly.com/content/handling-checked-exceptions-in-java-stre&zwnj;&#8203;ams</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1689919157,"post_id":76732188,"comment_id":135283841,"body_markdown":"I would say this code should be rewritten so that `Accountant::pay` does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences.","body":"I would say this code should be rewritten so that <code>Accountant::pay</code> does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1689929656,"post_id":76732188,"comment_id":135285636,"body_markdown":"Letting the exception handling aside, why do you think this stream version is an improvement over the original `for` loop?","body":"Letting the exception handling aside, why do you think this stream version is an improvement over the original <code>for</code> loop?"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930765,"post_id":76732188,"comment_id":135285835,"body_markdown":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code","body":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930863,"post_id":76732188,"comment_id":135285853,"body_markdown":"So I fixed the issue by making BudgetOverException extend RunTimeException","body":"So I fixed the issue by making BudgetOverException extend RunTimeException"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689933158,"post_id":76732188,"comment_id":135286295,"body_markdown":"There is no need to use `stream()` in your code. Just `employees.forEach(...)`.","body":"There is no need to use <code>stream()</code> in your code. Just <code>employees.forEach(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689913501,"creation_date":1689913501,"answer_id":76735117,"question_id":76732188,"body_markdown":"The foreach construct expects a consumer object\r\n&gt; void forEach(Consumer&lt;? super T&gt; action);\r\n\r\nThe abstract method of consumer is\r\n&gt;void accept(T t);\r\n\r\nNote the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\r\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee&#39;s pay fail so we could go ahead with it.\r\n```\r\n    private void method() {\r\n        try {\r\n        Accountant accountant = getAccountant(employees);\r\n        employees.stream()\r\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\r\n        allSalariesPaid = true;\r\n        }catch(RuntimeException e){\r\n            allSalariesPaid = false;\r\n        }\r\n    }\r\n\r\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\r\n        try {\r\n            accountant.pay(emp, currentClassRef);\r\n        } catch (BudgetIsOverException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n```","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The foreach construct expects a consumer object</p>\n<blockquote>\n<p>void forEach(Consumer&lt;? super T&gt; action);</p>\n</blockquote>\n<p>The abstract method of consumer is</p>\n<blockquote>\n<p>void accept(T t);</p>\n</blockquote>\n<p>Note the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee's pay fail so we could go ahead with it.</p>\n<pre><code>    private void method() {\n        try {\n        Accountant accountant = getAccountant(employees);\n        employees.stream()\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\n        allSalariesPaid = true;\n        }catch(RuntimeException e){\n            allSalariesPaid = false;\n        }\n    }\n\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\n        try {\n            accountant.pay(emp, currentClassRef);\n        } catch (BudgetIsOverException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160102,"creation_date":1689917923,"answer_id":76735361,"question_id":76732188,"body_markdown":"The lambda may not throw checked exceptions.\r\n\r\nYou can achieve the same result this way (and in 1 line):\r\n\r\n    boolean allSalariesPaid = employees.stream()\r\n        .allMatch(e -&gt; {\r\n            try {\r\n                accountant.pay(e, this);\r\n                return true;\r\n            } catch (BudgetIsOverException ex) {  // must catch checked exceptions\r\n                return false;\r\n            }\r\n        });\r\n","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The lambda may not throw checked exceptions.</p>\n<p>You can achieve the same result this way (and in 1 line):</p>\n<pre><code>boolean allSalariesPaid = employees.stream()\n    .allMatch(e -&gt; {\n        try {\n            accountant.pay(e, this);\n            return true;\n        } catch (BudgetIsOverException ex) {  // must catch checked exceptions\n            return false;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735117,"answer_count":2,"score":0,"last_activity_date":1690160102,"creation_date":1689872757,"question_id":76732188,"body_markdown":"I have a `for` loop as below which is working fine.\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    for (Employee person : employees) {\r\n        accountant.pay(person, this); // throws BudgetIsOverException\r\n    }\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e){\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nBut when I use a stream API instead, it asks me to handle the `BudgetIsOverException` and shows an error at `accountant.pay` even though it is properly caught after the `try` statement. Below the code:\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    employees.stream()\r\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e) {\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nMy question is why is stream API expecting an exception to be caught inside the `foreach` block?","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>I have a <code>for</code> loop as below which is working fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    for (Employee person : employees) {\n        accountant.pay(person, this); // throws BudgetIsOverException\n    }\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e){\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>But when I use a stream API instead, it asks me to handle the <code>BudgetIsOverException</code> and shows an error at <code>accountant.pay</code> even though it is properly caught after the <code>try</code> statement. Below the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    employees.stream()\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e) {\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>My question is why is stream API expecting an exception to be caught inside the <code>foreach</code> block?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7876,"page":292,"page_size":100}
