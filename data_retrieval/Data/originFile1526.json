{"items":[{"tags":["javascript","java","rxjs"],"answers":[{"tags":[],"owner":{"account_id":18529953,"reputation":7622,"user_id":13500986,"display_name":"Mrk Sef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645301353,"creation_date":1645301353,"answer_id":71188786,"question_id":71184585,"body_markdown":"In the following example, lazyNumber is assigned in the `constructor` and referenced in the `printNumber` method.\r\n\r\nThe expression isn&#39;t evaluated to 4 until it&#39;s called.\r\n\r\n```lang-ts\r\nclass a {\r\n  constructor(){\r\n    this.lazyNumber = () =&gt; 5 - 1;\r\n  }\r\n  \r\n  printNumber(){\r\n    console.log( this.lazyNumber() );\r\n  }\r\n}\r\n```\r\n\r\nThe same fundamental thing is happening in your example.\r\n\r\n----\r\n\r\nYou example is defining an attribute and the code that get runs when it&#39;s &quot;called&quot;. `addMessage` is emitting a new value on the observable, that causes the listeners assinged above to react accordingly","title":"Does &quot;subscribe&quot; call executes the Observable assignment expression","body":"<p>In the following example, lazyNumber is assigned in the <code>constructor</code> and referenced in the <code>printNumber</code> method.</p>\n<p>The expression isn't evaluated to 4 until it's called.</p>\n<pre class=\"lang-ts prettyprint-override\"><code>class a {\n  constructor(){\n    this.lazyNumber = () =&gt; 5 - 1;\n  }\n  \n  printNumber(){\n    console.log( this.lazyNumber() );\n  }\n}\n</code></pre>\n<p>The same fundamental thing is happening in your example.</p>\n<hr />\n<p>You example is defining an attribute and the code that get runs when it's &quot;called&quot;. <code>addMessage</code> is emitting a new value on the observable, that causes the listeners assinged above to react accordingly</p>\n"}],"owner":{"account_id":23056837,"reputation":159,"user_id":17172749,"display_name":"rejkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646971721,"creation_date":1645270170,"question_id":71184585,"body_markdown":"I am new to Angular and RxJS. I am analysing the following extract from the Angular tutorial (ng-book2-book-angular-11-r77-code).\r\nMy question is when the call **`this.messages = this.updates`**...  (in the constructor method) executes - is it executing in the constructor or when `addMessage (message: Message)` is called?\r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import { Subject, Observable } from &#39;rxjs&#39;;\r\n    import { User } from &#39;../user/user.model&#39;;\r\n    import { Thread } from &#39;../thread/thread.model&#39;;\r\n    import { Message } from &#39;../message/message.model&#39;;\r\n\r\n    const initialMessages: Message[] = [];\r\n    \r\n    interface IMessagesOperation extends Function {\r\n      (messages: Message[]): Message[];\r\n    }\r\n\r\n    @Injectable()\r\n    export class MessagesService {\r\n      // a stream that publishes new messages only once\r\n      newMessages: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\r\n    \r\n      // `messages` is a stream that emits an array of the most up to date messages\r\n      messages: Observable&lt;Message[]&gt;;\r\n    \r\n      // `updates` receives _operations_ to be applied to our `messages`\r\n      // it&#39;s a way we can perform changes on *all* messages (that are currently\r\n      // stored in `messages`)\r\n      updates: Subject&lt;any&gt; = new Subject&lt;any&gt;();\r\n    \r\n      // action streams\r\n      create: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\r\n      markThreadAsRead: Subject&lt;any&gt; = new Subject&lt;any&gt;();\r\n    \r\n      constructor() {\r\n        this.messages = this.updates\r\n          // watch the updates and accumulate operations on the messages\r\n          .scan((messages: Message[],\r\n                 operation: IMessagesOperation) =&gt; {\r\n                   return operation(messages);\r\n                 },\r\n                initialMessages)\r\n          // make sure we can share the most recent list of messages across anyone\r\n          // who&#39;s interested in subscribing and cache the last known list of\r\n          // messages\r\n          .publishReplay(1)\r\n          .refCount();\r\n    // `create` takes a Message and then puts an operation (the inner function)\r\n    // on the `updates` stream to add the Message to the list of messages.\r\n    //\r\n    // That is, for each item that gets added to `create` (by using `next`)\r\n    // this stream emits a concat operation function.\r\n    //\r\n    // Next we subscribe `this.updates` to listen to this stream, which means\r\n    // that it will receive each operation that is created\r\n    //\r\n    // Note that it would be perfectly acceptable to simply modify the\r\n    // &quot;addMessage&quot; function below to simply add the inner operation function to\r\n    // the update stream directly and get rid of this extra action stream\r\n    // entirely. The pros are that it is potentially clearer. The cons are that\r\n    // the stream is no longer composable.\r\n    this.create\r\n      .map( function(message: Message): IMessagesOperation {\r\n        return (messages: Message[]) =&gt; {\r\n          return messages.concat(message);\r\n        };\r\n      })\r\n      .subscribe(this.updates);\r\n\r\n    this.newMessages\r\n      .subscribe(this.create);\r\n\r\n    // similarly, `markThreadAsRead` takes a Thread and then puts an operation\r\n    // on the `updates` stream to mark the Messages as read\r\n    this.markThreadAsRead\r\n      .map( (thread: Thread) =&gt; {\r\n        return (messages: Message[]) =&gt; {\r\n          return messages.map( (message: Message) =&gt; {\r\n            // note that we&#39;re manipulating `message` directly here. Mutability\r\n            // can be confusing and there are lots of reasons why you might want\r\n            // to, say, copy the Message object or some other &#39;immutable&#39; here\r\n            if (message.thread.id === thread.id) {\r\n              message.isRead = true;\r\n            }\r\n            return message;\r\n          });\r\n        };\r\n      })\r\n      .subscribe(this.updates);\r\n\r\n    }\r\n\r\n      // an imperative function call to this action stream\r\n      addMessage(message: Message): void {\r\n        this.newMessages.next(message);\r\n      }\r\n\r\n    }\r\n    \r\n","title":"Does &quot;subscribe&quot; call executes the Observable assignment expression","body":"<p>I am new to Angular and RxJS. I am analysing the following extract from the Angular tutorial (ng-book2-book-angular-11-r77-code).\nMy question is when the call <strong><code>this.messages = this.updates</code></strong>...  (in the constructor method) executes - is it executing in the constructor or when <code>addMessage (message: Message)</code> is called?</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { User } from '../user/user.model';\nimport { Thread } from '../thread/thread.model';\nimport { Message } from '../message/message.model';\n\nconst initialMessages: Message[] = [];\n\ninterface IMessagesOperation extends Function {\n  (messages: Message[]): Message[];\n}\n\n@Injectable()\nexport class MessagesService {\n  // a stream that publishes new messages only once\n  newMessages: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\n\n  // `messages` is a stream that emits an array of the most up to date messages\n  messages: Observable&lt;Message[]&gt;;\n\n  // `updates` receives _operations_ to be applied to our `messages`\n  // it's a way we can perform changes on *all* messages (that are currently\n  // stored in `messages`)\n  updates: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n\n  // action streams\n  create: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\n  markThreadAsRead: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n\n  constructor() {\n    this.messages = this.updates\n      // watch the updates and accumulate operations on the messages\n      .scan((messages: Message[],\n             operation: IMessagesOperation) =&gt; {\n               return operation(messages);\n             },\n            initialMessages)\n      // make sure we can share the most recent list of messages across anyone\n      // who's interested in subscribing and cache the last known list of\n      // messages\n      .publishReplay(1)\n      .refCount();\n// `create` takes a Message and then puts an operation (the inner function)\n// on the `updates` stream to add the Message to the list of messages.\n//\n// That is, for each item that gets added to `create` (by using `next`)\n// this stream emits a concat operation function.\n//\n// Next we subscribe `this.updates` to listen to this stream, which means\n// that it will receive each operation that is created\n//\n// Note that it would be perfectly acceptable to simply modify the\n// &quot;addMessage&quot; function below to simply add the inner operation function to\n// the update stream directly and get rid of this extra action stream\n// entirely. The pros are that it is potentially clearer. The cons are that\n// the stream is no longer composable.\nthis.create\n  .map( function(message: Message): IMessagesOperation {\n    return (messages: Message[]) =&gt; {\n      return messages.concat(message);\n    };\n  })\n  .subscribe(this.updates);\n\nthis.newMessages\n  .subscribe(this.create);\n\n// similarly, `markThreadAsRead` takes a Thread and then puts an operation\n// on the `updates` stream to mark the Messages as read\nthis.markThreadAsRead\n  .map( (thread: Thread) =&gt; {\n    return (messages: Message[]) =&gt; {\n      return messages.map( (message: Message) =&gt; {\n        // note that we're manipulating `message` directly here. Mutability\n        // can be confusing and there are lots of reasons why you might want\n        // to, say, copy the Message object or some other 'immutable' here\n        if (message.thread.id === thread.id) {\n          message.isRead = true;\n        }\n        return message;\n      });\n    };\n  })\n  .subscribe(this.updates);\n\n}\n\n  // an imperative function call to this action stream\n  addMessage(message: Message): void {\n    this.newMessages.next(message);\n  }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22079910,"reputation":11,"user_id":16339632,"display_name":"enragedwalrus57"},"score":0,"creation_date":1646971625,"post_id":71433476,"comment_id":126260534,"body_markdown":"a lot of it is very messy, that is because i have been trying to fix the issue in different ways for the last hour. any help is appreciated, including other ways on how to get all the wrong question numbers in a seperate method.","body":"a lot of it is very messy, that is because i have been trying to fix the issue in different ways for the last hour. any help is appreciated, including other ways on how to get all the wrong question numbers in a seperate method."}],"owner":{"account_id":22079910,"reputation":11,"user_id":16339632,"display_name":"enragedwalrus57"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646971443,"creation_date":1646970982,"question_id":71433476,"body_markdown":"```java\r\nimport java.util.Scanner;\r\npublic class DriversLicense {\r\n\r\n\tpublic static void main(String[]args){\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tint wrong = 0;\r\n\t\tString pass;\r\n\t\tint j;\r\n\t\t\r\n\t\tString[] arr = {&quot;B&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;C&quot;, &quot;D&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;C&quot;, &quot;B&quot;, &quot;D&quot;, &quot;A&quot;};\r\n\t\tString[] answers = new String [arr.length];\r\n\t\tint[] w = new int[arr.length];\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.println(&quot;Enter your answer:&quot;);\r\n\t\t\tanswers[i] = input.next();\r\n\t\t\tif(answers[i].equals(arr[i])) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twrong++; \r\n\t\t\t\tw[i] = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint[] y = TestDriversLicense.numWrong(arr, answers, w, wrong);\r\n\t\tif((TestDriversLicense.Pass(count))){\r\n\t\t\tpass = &quot;Pass!&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpass = &quot;Fail!&quot;;\r\n\t\t}\r\n\t\tSystem.out.println(pass);\r\n\t\tSystem.out.println(&quot;You got &quot;+ TestDriversLicense.Total(count)+ &quot; correct!&quot;);\r\n\t\tSystem.out.println(&quot;You got &quot;+ TestDriversLicense.Inc(wrong)+ &quot; wrong!&quot;);\r\n\t\tif(wrong == 0) {\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(j = 0; j &lt; y.length; j++);\r\n\t\t\tSystem.out.println(&quot;Your wrong answers were number(s) #&quot;+ y[j]);\r\n//attempting to print out the numbers for the wrong answers\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nattempting to print out the numbers of the questions answered incorrectly\r\n\r\n```java\r\npublic class TestDriversLicense {\r\n\r\n\tpublic static boolean Pass(int n) {\r\n\t\tint pass = n;\r\n\t\tif(pass &gt;= 15) {\r\n\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tpublic static int Total(int correct) {\r\n\t\tint c = correct;\r\n\t\treturn c;\r\n\t}\r\n\tpublic static int Inc(int n) {\r\n\t\tint inc = n;\r\n\t\treturn inc;\r\n\t}\r\n\tpublic static int[] numWrong(String[] a, String[] ans, int[] b, int t) {\r\n\t\tint[] x = new int[t];\r\n\t\tfor(int i = 0; i &lt; a.length; i++) {\r\n\t\t}\r\n\t\tx =b;\r\n\t\treturn x;\r\n\t}\r\n\t\r\n}\r\n```","title":"having java.lang.ArrayIndexOutOfBoundsException error come up, as well as j not seeming like a variable in print statement, when is declared in loop","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class DriversLicense {\n\n    public static void main(String[]args){\n        \n        Scanner input = new Scanner(System.in);\n        \n        int count = 0;\n        int wrong = 0;\n        String pass;\n        int j;\n        \n        String[] arr = {&quot;B&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;C&quot;, &quot;D&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;C&quot;, &quot;B&quot;, &quot;D&quot;, &quot;A&quot;};\n        String[] answers = new String [arr.length];\n        int[] w = new int[arr.length];\n        \n        for(int i = 0; i &lt; arr.length; i++) {\n            System.out.println(&quot;Enter your answer:&quot;);\n            answers[i] = input.next();\n            if(answers[i].equals(arr[i])) {\n                count++;\n            }\n            else {\n                wrong++; \n                w[i] = i;\n            }\n        }\n        int[] y = TestDriversLicense.numWrong(arr, answers, w, wrong);\n        if((TestDriversLicense.Pass(count))){\n            pass = &quot;Pass!&quot;;\n        }\n        else {\n            pass = &quot;Fail!&quot;;\n        }\n        System.out.println(pass);\n        System.out.println(&quot;You got &quot;+ TestDriversLicense.Total(count)+ &quot; correct!&quot;);\n        System.out.println(&quot;You got &quot;+ TestDriversLicense.Inc(wrong)+ &quot; wrong!&quot;);\n        if(wrong == 0) {\n        }\n        else {\n            for(j = 0; j &lt; y.length; j++);\n            System.out.println(&quot;Your wrong answers were number(s) #&quot;+ y[j]);\n//attempting to print out the numbers for the wrong answers\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>attempting to print out the numbers of the questions answered incorrectly</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestDriversLicense {\n\n    public static boolean Pass(int n) {\n        int pass = n;\n        if(pass &gt;= 15) {\n        return true;\n        }\n        return false;\n    }\n    public static int Total(int correct) {\n        int c = correct;\n        return c;\n    }\n    public static int Inc(int n) {\n        int inc = n;\n        return inc;\n    }\n    public static int[] numWrong(String[] a, String[] ans, int[] b, int t) {\n        int[] x = new int[t];\n        for(int i = 0; i &lt; a.length; i++) {\n        }\n        x =b;\n        return x;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","fabric8","resource-monitor"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1515527738,"post_id":48172104,"comment_id":83331156,"body_markdown":"you cannot see some memory usage as the pod is not started. It is scheduled and in the ContainerCreating state. When do you retrieve the pod status? You will have to wait for it top be running.","body":"you cannot see some memory usage as the pod is not started. It is scheduled and in the ContainerCreating state. When do you retrieve the pod status? You will have to wait for it top be running."},{"owner":{"account_id":4954025,"reputation":18448,"user_id":3987161,"accept_rate":57,"display_name":"user_mda"},"score":0,"creation_date":1515534133,"post_id":48172104,"comment_id":83334146,"body_markdown":"Great, Going to try that now!","body":"Great, Going to try that now!"}],"answers":[{"tags":[],"owner":{"account_id":10338,"reputation":7192,"user_id":19477,"accept_rate":50,"display_name":"heckj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515641628,"creation_date":1515641628,"answer_id":48199385,"question_id":48172104,"body_markdown":"Take an hour and watch the video: [Load Testing Kubernetes: How to Optimize Your Cluster Resource Allocation in Production][1] which walks through a couple of techniques and recommendations on how to size your resource configuration based on load testing. The example in the video leverages cAdvisor, so once your Pod/container is up and running you can utilize that mechanism to capture at least a basic view of how much resource your container is taking.\r\n\r\n\r\n  [1]: https://m.youtube.com/watch?v=_l8yIqMpWT0","title":"Resource monitoring for Kubernetes Pods","body":"<p>Take an hour and watch the video: <a href=\"https://m.youtube.com/watch?v=_l8yIqMpWT0\" rel=\"nofollow noreferrer\">Load Testing Kubernetes: How to Optimize Your Cluster Resource Allocation in Production</a> which walks through a couple of techniques and recommendations on how to size your resource configuration based on load testing. The example in the video leverages cAdvisor, so once your Pod/container is up and running you can utilize that mechanism to capture at least a basic view of how much resource your container is taking.</p>\n"},{"tags":[],"owner":{"account_id":6093918,"reputation":280,"user_id":4755352,"accept_rate":86,"display_name":"Rishi Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519804955,"creation_date":1519799662,"answer_id":49023326,"question_id":48172104,"body_markdown":"I am not sure if k8 api-server provides an endpoint to get performance related metrics but using fabric8, you should not be able to monitor resource consumption even when Pod is in running state.\r\n\r\nHere is the [Pod response json:][1]\r\n\r\n    {\r\n      &quot;kind&quot;: &quot;Pod&quot;,\r\n      &quot;apiVersion&quot;: &quot;v1&quot;,\r\n      &quot;metadata&quot;: {\r\n        &quot;name&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc-w576m&quot;,\r\n        &quot;generateName&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc-&quot;,\r\n        &quot;namespace&quot;: &quot;default&quot;,\r\n        &quot;selfLink&quot;: &quot;/api/v1/namespaces/default/pods/nginx-41cbe3-10-json-9cc655bcc-w576m&quot;,\r\n        &quot;uid&quot;: &quot;e14a955f-18b7-11e8-a642-42010a800090&quot;,\r\n        &quot;resourceVersion&quot;: &quot;12765988&quot;,\r\n        &quot;creationTimestamp&quot;: &quot;2018-02-23T16:37:47Z&quot;,\r\n        &quot;labels&quot;: {\r\n          &quot;app&quot;: &quot;nginx&quot;,\r\n          &quot;cliqr&quot;: &quot;99911519403865240&quot;,\r\n          &quot;pod-template-hash&quot;: &quot;577211677&quot;\r\n        },\r\n        &quot;annotations&quot;: {\r\n          &quot;kubernetes.io/created-by&quot;: &quot;{\\&quot;kind\\&quot;:\\&quot;SerializedReference\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;v1\\&quot;,\\&quot;reference\\&quot;:{\\&quot;kind\\&quot;:\\&quot;ReplicaSet\\&quot;,\\&quot;namespace\\&quot;:\\&quot;default\\&quot;,\\&quot;name\\&quot;:\\&quot;nginx-41cbe3-10-json-9cc655bcc\\&quot;,\\&quot;uid\\&quot;:\\&quot;e1493bd0-18b7-11e8-a642-42010a800090\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;extensions\\&quot;,\\&quot;resourceVersion\\&quot;:\\&quot;12765971\\&quot;}}\\n&quot;,\r\n          &quot;kubernetes.io/limit-ranger&quot;: &quot;LimitRanger plugin set: cpu request for container nginx&quot;\r\n        },\r\n        &quot;ownerReferences&quot;: [\r\n          {\r\n            &quot;apiVersion&quot;: &quot;extensions/v1beta1&quot;,\r\n            &quot;kind&quot;: &quot;ReplicaSet&quot;,\r\n            &quot;name&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc&quot;,\r\n            &quot;uid&quot;: &quot;e1493bd0-18b7-11e8-a642-42010a800090&quot;,\r\n            &quot;controller&quot;: true,\r\n            &quot;blockOwnerDeletion&quot;: true\r\n          }\r\n        ]\r\n      },\r\n      &quot;spec&quot;: {\r\n        &quot;volumes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;default-token-zrhj5&quot;,\r\n            &quot;secret&quot;: {\r\n              &quot;secretName&quot;: &quot;default-token-zrhj5&quot;,\r\n              &quot;defaultMode&quot;: 420\r\n            }\r\n          }\r\n        ],\r\n        &quot;containers&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;nginx&quot;,\r\n            &quot;image&quot;: &quot;nginx:latest&quot;,\r\n            &quot;ports&quot;: [\r\n              {\r\n                &quot;containerPort&quot;: 80,\r\n                &quot;protocol&quot;: &quot;TCP&quot;\r\n              }\r\n            ],\r\n            &quot;resources&quot;: {\r\n              &quot;requests&quot;: {\r\n                &quot;cpu&quot;: &quot;100m&quot;\r\n              }\r\n            },\r\n            &quot;volumeMounts&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;default-token-zrhj5&quot;,\r\n                &quot;readOnly&quot;: true,\r\n                &quot;mountPath&quot;: &quot;/var/run/secrets/kubernetes.io/serviceaccount&quot;\r\n              }\r\n            ],\r\n            &quot;terminationMessagePath&quot;: &quot;/dev/termination-log&quot;,\r\n            &quot;terminationMessagePolicy&quot;: &quot;File&quot;,\r\n            &quot;imagePullPolicy&quot;: &quot;Always&quot;\r\n          }\r\n        ],\r\n        &quot;restartPolicy&quot;: &quot;Always&quot;,\r\n        &quot;terminationGracePeriodSeconds&quot;: 30,\r\n        &quot;dnsPolicy&quot;: &quot;ClusterFirst&quot;,\r\n        &quot;serviceAccountName&quot;: &quot;default&quot;,\r\n        &quot;serviceAccount&quot;: &quot;default&quot;,\r\n        &quot;nodeName&quot;: &quot;gke-rishi-k8-cluster-default-pool-6ca1467e-xtmw&quot;,\r\n        &quot;securityContext&quot;: {},\r\n        &quot;schedulerName&quot;: &quot;default-scheduler&quot;,\r\n        &quot;tolerations&quot;: [\r\n          {\r\n            &quot;key&quot;: &quot;node.alpha.kubernetes.io/notReady&quot;,\r\n            &quot;operator&quot;: &quot;Exists&quot;,\r\n            &quot;effect&quot;: &quot;NoExecute&quot;,\r\n            &quot;tolerationSeconds&quot;: 300\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;node.alpha.kubernetes.io/unreachable&quot;,\r\n            &quot;operator&quot;: &quot;Exists&quot;,\r\n            &quot;effect&quot;: &quot;NoExecute&quot;,\r\n            &quot;tolerationSeconds&quot;: 300\r\n          }\r\n        ]\r\n      },\r\n      &quot;status&quot;: {\r\n        &quot;phase&quot;: &quot;Running&quot;,\r\n        &quot;conditions&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;Initialized&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:47Z&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;Ready&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:53Z&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;PodScheduled&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:47Z&quot;\r\n          }\r\n        ],\r\n        &quot;hostIP&quot;: &quot;10.240.0.23&quot;,\r\n        &quot;podIP&quot;: &quot;10.20.3.164&quot;,\r\n        &quot;startTime&quot;: &quot;2018-02-23T16:37:47Z&quot;,\r\n        &quot;containerStatuses&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;nginx&quot;,\r\n            &quot;state&quot;: {\r\n              &quot;running&quot;: {\r\n                &quot;startedAt&quot;: &quot;2018-02-23T16:37:52Z&quot;\r\n              }\r\n            },\r\n            &quot;lastState&quot;: {},\r\n            &quot;ready&quot;: true,\r\n            &quot;restartCount&quot;: 0,\r\n            &quot;image&quot;: &quot;nginx:latest&quot;,\r\n            &quot;imageID&quot;: &quot;docker-pullable://nginx@sha256:600bff7fb36d7992512f8c07abd50aac08db8f17c94e3c83e47d53435a1a6f7c&quot;,\r\n            &quot;containerID&quot;: &quot;docker://2c227a901bcde4705c5b79aedf1963079dfb345fae5849616d29e8cc7af0fd74&quot;\r\n          }\r\n        ],\r\n        &quot;qosClass&quot;: &quot;Burstable&quot;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://jsoneditoronline.org/?id=4c01129a141d9468a6ae894b2194a78f","title":"Resource monitoring for Kubernetes Pods","body":"<p>I am not sure if k8 api-server provides an endpoint to get performance related metrics but using fabric8, you should not be able to monitor resource consumption even when Pod is in running state.</p>\n\n<p>Here is the <a href=\"https://jsoneditoronline.org/?id=4c01129a141d9468a6ae894b2194a78f\" rel=\"nofollow noreferrer\">Pod response json:</a></p>\n\n<pre><code>{\n  \"kind\": \"Pod\",\n  \"apiVersion\": \"v1\",\n  \"metadata\": {\n    \"name\": \"nginx-41cbe3-10-json-9cc655bcc-w576m\",\n    \"generateName\": \"nginx-41cbe3-10-json-9cc655bcc-\",\n    \"namespace\": \"default\",\n    \"selfLink\": \"/api/v1/namespaces/default/pods/nginx-41cbe3-10-json-9cc655bcc-w576m\",\n    \"uid\": \"e14a955f-18b7-11e8-a642-42010a800090\",\n    \"resourceVersion\": \"12765988\",\n    \"creationTimestamp\": \"2018-02-23T16:37:47Z\",\n    \"labels\": {\n      \"app\": \"nginx\",\n      \"cliqr\": \"99911519403865240\",\n      \"pod-template-hash\": \"577211677\"\n    },\n    \"annotations\": {\n      \"kubernetes.io/created-by\": \"{\\\"kind\\\":\\\"SerializedReference\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"reference\\\":{\\\"kind\\\":\\\"ReplicaSet\\\",\\\"namespace\\\":\\\"default\\\",\\\"name\\\":\\\"nginx-41cbe3-10-json-9cc655bcc\\\",\\\"uid\\\":\\\"e1493bd0-18b7-11e8-a642-42010a800090\\\",\\\"apiVersion\\\":\\\"extensions\\\",\\\"resourceVersion\\\":\\\"12765971\\\"}}\\n\",\n      \"kubernetes.io/limit-ranger\": \"LimitRanger plugin set: cpu request for container nginx\"\n    },\n    \"ownerReferences\": [\n      {\n        \"apiVersion\": \"extensions/v1beta1\",\n        \"kind\": \"ReplicaSet\",\n        \"name\": \"nginx-41cbe3-10-json-9cc655bcc\",\n        \"uid\": \"e1493bd0-18b7-11e8-a642-42010a800090\",\n        \"controller\": true,\n        \"blockOwnerDeletion\": true\n      }\n    ]\n  },\n  \"spec\": {\n    \"volumes\": [\n      {\n        \"name\": \"default-token-zrhj5\",\n        \"secret\": {\n          \"secretName\": \"default-token-zrhj5\",\n          \"defaultMode\": 420\n        }\n      }\n    ],\n    \"containers\": [\n      {\n        \"name\": \"nginx\",\n        \"image\": \"nginx:latest\",\n        \"ports\": [\n          {\n            \"containerPort\": 80,\n            \"protocol\": \"TCP\"\n          }\n        ],\n        \"resources\": {\n          \"requests\": {\n            \"cpu\": \"100m\"\n          }\n        },\n        \"volumeMounts\": [\n          {\n            \"name\": \"default-token-zrhj5\",\n            \"readOnly\": true,\n            \"mountPath\": \"/var/run/secrets/kubernetes.io/serviceaccount\"\n          }\n        ],\n        \"terminationMessagePath\": \"/dev/termination-log\",\n        \"terminationMessagePolicy\": \"File\",\n        \"imagePullPolicy\": \"Always\"\n      }\n    ],\n    \"restartPolicy\": \"Always\",\n    \"terminationGracePeriodSeconds\": 30,\n    \"dnsPolicy\": \"ClusterFirst\",\n    \"serviceAccountName\": \"default\",\n    \"serviceAccount\": \"default\",\n    \"nodeName\": \"gke-rishi-k8-cluster-default-pool-6ca1467e-xtmw\",\n    \"securityContext\": {},\n    \"schedulerName\": \"default-scheduler\",\n    \"tolerations\": [\n      {\n        \"key\": \"node.alpha.kubernetes.io/notReady\",\n        \"operator\": \"Exists\",\n        \"effect\": \"NoExecute\",\n        \"tolerationSeconds\": 300\n      },\n      {\n        \"key\": \"node.alpha.kubernetes.io/unreachable\",\n        \"operator\": \"Exists\",\n        \"effect\": \"NoExecute\",\n        \"tolerationSeconds\": 300\n      }\n    ]\n  },\n  \"status\": {\n    \"phase\": \"Running\",\n    \"conditions\": [\n      {\n        \"type\": \"Initialized\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:47Z\"\n      },\n      {\n        \"type\": \"Ready\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:53Z\"\n      },\n      {\n        \"type\": \"PodScheduled\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:47Z\"\n      }\n    ],\n    \"hostIP\": \"10.240.0.23\",\n    \"podIP\": \"10.20.3.164\",\n    \"startTime\": \"2018-02-23T16:37:47Z\",\n    \"containerStatuses\": [\n      {\n        \"name\": \"nginx\",\n        \"state\": {\n          \"running\": {\n            \"startedAt\": \"2018-02-23T16:37:52Z\"\n          }\n        },\n        \"lastState\": {},\n        \"ready\": true,\n        \"restartCount\": 0,\n        \"image\": \"nginx:latest\",\n        \"imageID\": \"docker-pullable://nginx@sha256:600bff7fb36d7992512f8c07abd50aac08db8f17c94e3c83e47d53435a1a6f7c\",\n        \"containerID\": \"docker://2c227a901bcde4705c5b79aedf1963079dfb345fae5849616d29e8cc7af0fd74\"\n      }\n    ],\n    \"qosClass\": \"Burstable\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10334916,"reputation":823,"user_id":7623407,"display_name":"R10t--"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646970838,"creation_date":1646970838,"answer_id":71433458,"question_id":48172104,"body_markdown":"I know this question is two years old but the answers here don&#39;t provide the actual answer to this question.\r\n\r\nIn order to get your CPU and memory utilization you need to have the [kubernetes metrics server](https://github.com/kubernetes-sigs/metrics-server) installed on your Kubernetes cluster (See also the official [Helm chart](https://artifacthub.io/packages/helm/metrics-server/metrics-server) if you use helm). Once the metrics server is installed, this lets you run kubernetes commands that will report the metrics usage. For example, running `kubectl top pods -A` will sort all of your pods by their CPU utilization, or `kubectl top nodes` will list each node&#39;s utilization. `kubectl describe pods` as well as the [Kubernetes dashboard](https://github.com/kubernetes/dashboard) will also report CPU and memory utilization numbers once the metrics server is installed.\r\n\r\nTo answer your specific question about [fabric8](https://github.com/fabric8io/kubernetes-client), once the metrics server is running, you can obtain CPU and memory utilization with the [following code](https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/TopEquivalent.java):\r\n```java\r\nKubernetesClient k8s = new KubernetesClientBuilder().build()\r\nNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\r\nfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\r\n    logger.info(&quot;{} {} {}&quot;,\r\n        nodeMetrics.getMetadata().getName(),\r\n        nodeMetrics.getUsage().get(&quot;cpu&quot;),\r\n        nodeMetrics.getUsage().get(&quot;memory&quot;)\r\n    );\r\n}\r\n```","title":"Resource monitoring for Kubernetes Pods","body":"<p>I know this question is two years old but the answers here don't provide the actual answer to this question.</p>\n<p>In order to get your CPU and memory utilization you need to have the <a href=\"https://github.com/kubernetes-sigs/metrics-server\" rel=\"nofollow noreferrer\">kubernetes metrics server</a> installed on your Kubernetes cluster (See also the official <a href=\"https://artifacthub.io/packages/helm/metrics-server/metrics-server\" rel=\"nofollow noreferrer\">Helm chart</a> if you use helm). Once the metrics server is installed, this lets you run kubernetes commands that will report the metrics usage. For example, running <code>kubectl top pods -A</code> will sort all of your pods by their CPU utilization, or <code>kubectl top nodes</code> will list each node's utilization. <code>kubectl describe pods</code> as well as the <a href=\"https://github.com/kubernetes/dashboard\" rel=\"nofollow noreferrer\">Kubernetes dashboard</a> will also report CPU and memory utilization numbers once the metrics server is installed.</p>\n<p>To answer your specific question about <a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">fabric8</a>, once the metrics server is running, you can obtain CPU and memory utilization with the <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/TopEquivalent.java\" rel=\"nofollow noreferrer\">following code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KubernetesClient k8s = new KubernetesClientBuilder().build()\nNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\nfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\n    logger.info(&quot;{} {} {}&quot;,\n        nodeMetrics.getMetadata().getName(),\n        nodeMetrics.getUsage().get(&quot;cpu&quot;),\n        nodeMetrics.getUsage().get(&quot;memory&quot;)\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":4954025,"reputation":18448,"user_id":3987161,"accept_rate":57,"display_name":"user_mda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646970838,"creation_date":1515513575,"question_id":48172104,"body_markdown":"I am using the kubernetes-client java library for the K8s REST API. I want to explore the resource monitoring feature desctibed here \r\nhttps://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/\r\n\r\nI set the resource for the Pods while creating Deployments like this \r\n\r\n    // ******************* RESOURCES*********************\r\n    \r\n    \tQuantity memLimit = new Quantity();\r\n    \tmemLimit.setAmount(&quot;400&quot;);\r\n    \tMap&lt;String, Quantity&gt; memMap = new HashMap&lt;String,Quantity&gt;();\r\n    \tmemMap.put(&quot;memory&quot;, memLimit);\r\n    \tResourceRequirements resourceRequirements = new ResourceRequirementsBuilder()\r\n    \t  .withRequests(memMap)\r\n    \t  .build();\r\n    \r\n    \t// ******************* DEPLOYMENT *********************\r\n    \tDeployment deployment = new DeploymentBuilder()\r\n    \t\t.withNewMetadata()\r\n    \t\t.withName(&quot;first-deployment&quot;)\r\n    \t\t.endMetadata()\r\n    \t\t.withNewSpec()\r\n    \t\t.withReplicas(3)\r\n    \t\t.withNewTemplate()\r\n    \t\t.withNewMetadata()\r\n    \t\t.addToLabels(namespaceID, &quot;hello-world-example&quot;)\r\n    \t\t.endMetadata()\r\n    \t\t.withNewSpec()\r\n    \t\t.addNewContainer()\t\t\r\n    \t\t.withName(&quot;nginx-one&quot;)\r\n    \t\t.withImage(&quot;nginx&quot;)\r\n    \t\t.addNewPort()\r\n    \t\t.withContainerPort(80)\r\n    \t\t.endPort()\r\n    \t\t.withResources(resourceRequirements)\r\n    \t\t.endContainer()\r\n    \t\t.endSpec()\r\n    \t\t.endTemplate()\r\n    \t\t.endSpec()\r\n    \t\t.build();\r\n    \tdeployment = client.extensions().deployments().inNamespace(namespace).create(deployment);\r\n\r\nHow do I now know, how much memory is being used out of the alocated memory for pods?\r\nThe documentation says its part of the pod status , but pod status is of the form \r\n\r\n   \r\n\r\n         (conditions=\r\n        [PodCondition\r\n        (lastProbeTime=null, lastTransitionTime=2018-01-09T15:53:28Z, \r\n        message=null, reason=null, \r\n    status=True, type=PodScheduled, \r\n        additionalProperties={})],\r\n     containerStatuses=[], hostIP=null, \r\n        initContainerStatuses=[],\r\n     message=null, phase=Pending, podIP=null,\r\n     qosClass=Burstable, reason=null, \r\n    startTime=null, additionalProperties={})\r\n\r\n\r\nAnd the container status \r\n\r\n    (containerID=null, image=nginx, \r\n    imageID=, lastState=ContainerState(running=null, terminated=null, waiting=null, additionalProperties={}),\r\n     name=nginx-one, ready=false, restartCount=0, state=ContainerState(running=null, terminated=null, waiting=\r\n    ContainerStateWaiting(message=null, reason=ContainerCreating, additionalProperties={}), additionalProperties={}), \r\n    additionalProperties={})\r\n\r\nIs there an example for monitoring resources on Pods?","title":"Resource monitoring for Kubernetes Pods","body":"<p>I am using the kubernetes-client java library for the K8s REST API. I want to explore the resource monitoring feature desctibed here \n<a href=\"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a></p>\n\n<p>I set the resource for the Pods while creating Deployments like this </p>\n\n<pre><code>// ******************* RESOURCES*********************\n\n    Quantity memLimit = new Quantity();\n    memLimit.setAmount(\"400\");\n    Map&lt;String, Quantity&gt; memMap = new HashMap&lt;String,Quantity&gt;();\n    memMap.put(\"memory\", memLimit);\n    ResourceRequirements resourceRequirements = new ResourceRequirementsBuilder()\n      .withRequests(memMap)\n      .build();\n\n    // ******************* DEPLOYMENT *********************\n    Deployment deployment = new DeploymentBuilder()\n        .withNewMetadata()\n        .withName(\"first-deployment\")\n        .endMetadata()\n        .withNewSpec()\n        .withReplicas(3)\n        .withNewTemplate()\n        .withNewMetadata()\n        .addToLabels(namespaceID, \"hello-world-example\")\n        .endMetadata()\n        .withNewSpec()\n        .addNewContainer()      \n        .withName(\"nginx-one\")\n        .withImage(\"nginx\")\n        .addNewPort()\n        .withContainerPort(80)\n        .endPort()\n        .withResources(resourceRequirements)\n        .endContainer()\n        .endSpec()\n        .endTemplate()\n        .endSpec()\n        .build();\n    deployment = client.extensions().deployments().inNamespace(namespace).create(deployment);\n</code></pre>\n\n<p>How do I now know, how much memory is being used out of the alocated memory for pods?\nThe documentation says its part of the pod status , but pod status is of the form </p>\n\n<pre><code>     (conditions=\n    [PodCondition\n    (lastProbeTime=null, lastTransitionTime=2018-01-09T15:53:28Z, \n    message=null, reason=null, \nstatus=True, type=PodScheduled, \n    additionalProperties={})],\n containerStatuses=[], hostIP=null, \n    initContainerStatuses=[],\n message=null, phase=Pending, podIP=null,\n qosClass=Burstable, reason=null, \nstartTime=null, additionalProperties={})\n</code></pre>\n\n<p>And the container status </p>\n\n<pre><code>(containerID=null, image=nginx, \nimageID=, lastState=ContainerState(running=null, terminated=null, waiting=null, additionalProperties={}),\n name=nginx-one, ready=false, restartCount=0, state=ContainerState(running=null, terminated=null, waiting=\nContainerStateWaiting(message=null, reason=ContainerCreating, additionalProperties={}), additionalProperties={}), \nadditionalProperties={})\n</code></pre>\n\n<p>Is there an example for monitoring resources on Pods?</p>\n"},{"tags":["java","kubernetes","events"],"answers":[{"tags":[],"owner":{"account_id":23782503,"reputation":845,"user_id":17795006,"display_name":"anarxz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646931007,"creation_date":1646931007,"answer_id":71427834,"question_id":71413124,"body_markdown":"As a native watching method for Kubernetes, you can watch events in real-time with `--watch`  [flag](https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes) - it is a part of API server, allowing to fetch the current state of resource/object and then subscribe to subsequent changes:\r\n```\r\nkubectl get events --watch\r\n```\r\nThere is no in-built solution in Kubernetes for storing/forward event objects on the long term as by default the events have a 1-hour life span. You would need to use third-party tools to stream the events continuously, e.g. -  [Kubernetes Event Exporter](https://github.com/caicloud/event_exporter?ref=thechiefio); to collect them and export to external systems for alerting/further processing - e.g. [kubewatch](https://github.com/bitnami-labs/kubewatch?ref=thechiefio), [kubernetes-event-exporter](https://github.com/opsgenie/kubernetes-event-exporter) tools.","title":"Kubernetes events - how to get continuous stream of events?","body":"<p>As a native watching method for Kubernetes, you can watch events in real-time with <code>--watch</code>  <a href=\"https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes\" rel=\"nofollow noreferrer\">flag</a> - it is a part of API server, allowing to fetch the current state of resource/object and then subscribe to subsequent changes:</p>\n<pre><code>kubectl get events --watch\n</code></pre>\n<p>There is no in-built solution in Kubernetes for storing/forward event objects on the long term as by default the events have a 1-hour life span. You would need to use third-party tools to stream the events continuously, e.g. -  <a href=\"https://github.com/caicloud/event_exporter?ref=thechiefio\" rel=\"nofollow noreferrer\">Kubernetes Event Exporter</a>; to collect them and export to external systems for alerting/further processing - e.g. <a href=\"https://github.com/bitnami-labs/kubewatch?ref=thechiefio\" rel=\"nofollow noreferrer\">kubewatch</a>, <a href=\"https://github.com/opsgenie/kubernetes-event-exporter\" rel=\"nofollow noreferrer\">kubernetes-event-exporter</a> tools.</p>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646969283,"creation_date":1646844891,"question_id":71413124,"body_markdown":"I was reading about Kubernetes events and it seems the only way to process events is to create a Watch over http call, which in turn processes the response and becomes Iterator of events. But that is finite and you have to recreate the event watch constantly... Is there a way to simply tail events with some callback, in Java? ","title":"Kubernetes events - how to get continuous stream of events?","body":"<p>I was reading about Kubernetes events and it seems the only way to process events is to create a Watch over http call, which in turn processes the response and becomes Iterator of events. But that is finite and you have to recreate the event watch constantly... Is there a way to simply tail events with some callback, in Java?</p>\n"},{"tags":["java","spring","mockito","spring-batch","junit5"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1646962301,"post_id":71432637,"comment_id":126259266,"body_markdown":"You&#39;re talking about `appUserEmailSender`?  What do you expect it to be set to?  Have you declared a mock somewhere?  If so, show us.  If not...well there&#39;s your answer. `@MockBean` by itself isn&#39;t going to do anything.  You have to have defined a mock of `AppUserEmailSender` for it to insert into your class.","body":"You&#39;re talking about <code>appUserEmailSender</code>?  What do you expect it to be set to?  Have you declared a mock somewhere?  If so, show us.  If not...well there&#39;s your answer. <code>@MockBean</code> by itself isn&#39;t going to do anything.  You have to have defined a mock of <code>AppUserEmailSender</code> for it to insert into your class."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646966202,"post_id":71432637,"comment_id":126259834,"body_markdown":"how do I define the mock?  I am used to defining mocks like: `appUserEmailSender = mock(AppUserEmailSender.class);`  Is that what I should do?  I thought that would overwrite the @MockBean object?","body":"how do I define the mock?  I am used to defining mocks like: <code>appUserEmailSender = mock(AppUserEmailSender.class);</code>  Is that what I should do?  I thought that would overwrite the @MockBean object?"},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646966286,"post_id":71432637,"comment_id":126259842,"body_markdown":"On my original test, the `if (appUserEmailSender == null)` was actually: `when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());`  But that of course gave a NPE","body":"On my original test, the <code>if (appUserEmailSender == null)</code> was actually: <code>when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());</code>  But that of course gave a NPE"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1646967297,"post_id":71432637,"comment_id":126259965,"body_markdown":"...sorry...I realized that my comments are probably just confusing things.  apologies.","body":"...sorry...I realized that my comments are probably just confusing things.  apologies."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646967398,"post_id":71432637,"comment_id":126259981,"body_markdown":"Thanks for sending the link - that was the exact tutorial I used to create the test class ;-)  You can see from the example that I am, in fact, using @MockBean inside my annotated test class.  Oddly, when I remove any method reference to `appUserEmailSender` in my test class (thus avoiding the NPE and allowing the test to run), the `appUserEmailSender` service is mocked inside other `@Autowired` objects.  So this tells me that the @MockBean annotation is working.  It&#39;s just not allowing me to define the mock&#39;s behavior in the test class (e.g. &#39;when().then()&#39;) since it&#39;s null.","body":"Thanks for sending the link - that was the exact tutorial I used to create the test class ;-)  You can see from the example that I am, in fact, using @MockBean inside my annotated test class.  Oddly, when I remove any method reference to <code>appUserEmailSender</code> in my test class (thus avoiding the NPE and allowing the test to run), the <code>appUserEmailSender</code> service is mocked inside other <code>@Autowired</code> objects.  So this tells me that the @MockBean annotation is working.  It&#39;s just not allowing me to define the mock&#39;s behavior in the test class (e.g. &#39;when().then()&#39;) since it&#39;s null."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646967471,"post_id":71432637,"comment_id":126259994,"body_markdown":"Do you think one of my test annotations could be messing with something?","body":"Do you think one of my test annotations could be messing with something?"},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646968598,"post_id":71432637,"comment_id":126260131,"body_markdown":"I think I solved my problem: https://github.com/spring-projects/spring-boot/issues/7177  When I removed the `@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})` annotation, it works as intended.","body":"I think I solved my problem: <a href=\"https://github.com/spring-projects/spring-boot/issues/7177\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/7177</a>  When I removed the <code>@TestExecutionListeners({DependencyInjectionTestExecutionLis&zwnj;&#8203;tener.class, DirtiesContextTestExecutionListener.class})</code> annotation, it works as intended."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1646969109,"post_id":71432637,"comment_id":126260190,"body_markdown":"Glad you got it!  Gave your answer a thumbs up","body":"Glad you got it!  Gave your answer a thumbs up"}],"answers":[{"tags":[],"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646968965,"creation_date":1646968965,"answer_id":71433284,"question_id":71432637,"body_markdown":"It turns out that if you use the annotations `@MockBean` and `@TestExecutionListeners` in the same test class, the `MockitoTestExecutionListener` may not be called.  To remedy this, you need to add `TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS` to the `@TestExecutionListeners` annotation.\r\n\r\nSo a corrected version would look like...\r\n\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners(\r\n        listeners = {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class},\r\n        mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\n@TestPropertySource(properties = &quot;app.scheduling.enable=false&quot;) // disable @Scheduled annotation\r\npublic class SimpleTest {\r\n\r\n    @MockBean\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());\r\n    }\r\n}\r\n```","title":"@MockBean results in NullPointerException for @SpringBatchTest in Junit 5","body":"<p>It turns out that if you use the annotations <code>@MockBean</code> and <code>@TestExecutionListeners</code> in the same test class, the <code>MockitoTestExecutionListener</code> may not be called.  To remedy this, you need to add <code>TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS</code> to the <code>@TestExecutionListeners</code> annotation.</p>\n<p>So a corrected version would look like...</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners(\n        listeners = {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class},\n        mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\n@TestPropertySource(properties = &quot;app.scheduling.enable=false&quot;) // disable @Scheduled annotation\npublic class SimpleTest {\n\n    @MockBean\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() throws Exception {\n        when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646968965,"creation_date":1646961655,"question_id":71432637,"body_markdown":"I am trying to use the @MockBean annotation in my Spring Batch Test, but I am unable to get it to work.  I have simplified my test to it&#39;s most basic form for this post.  Essentially, @Autowired works (so I know the class is being picked up by Spring), but when I replace it with the @MockBean annotation, the bean is not mocked (it&#39;s null). Any idea what I could be doing wrong? \r\n\r\nThis works fine.\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\npublic class EmailQueueBatchConfigTestFail {\r\n\r\n    @Autowired\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() {\r\n        if (appUserEmailSender == null) {\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the mocked object here is null\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\npublic class EmailQueueBatchConfigTestFail {\r\n\r\n    @MockBean\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() {\r\n        if (appUserEmailSender == null) {\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"@MockBean results in NullPointerException for @SpringBatchTest in Junit 5","body":"<p>I am trying to use the @MockBean annotation in my Spring Batch Test, but I am unable to get it to work.  I have simplified my test to it's most basic form for this post.  Essentially, @Autowired works (so I know the class is being picked up by Spring), but when I replace it with the @MockBean annotation, the bean is not mocked (it's null). Any idea what I could be doing wrong?</p>\n<p>This works fine.</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\npublic class EmailQueueBatchConfigTestFail {\n\n    @Autowired\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() {\n        if (appUserEmailSender == null) {\n            System.out.println(&quot;null&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However, the mocked object here is null</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\npublic class EmailQueueBatchConfigTestFail {\n\n    @MockBean\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() {\n        if (appUserEmailSender == null) {\n            System.out.println(&quot;null&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1469300995,"post_id":38545507,"comment_id":64482795,"body_markdown":"You ought to be using a connection pool, and if you&#39;re using Spring Boot, something like JdbcTemplate or JPA can make your life a lot easier.","body":"You ought to be using a connection pool, and if you&#39;re using Spring Boot, something like JdbcTemplate or JPA can make your life a lot easier."},{"owner":{"display_name":"user6616196"},"score":0,"creation_date":1469325284,"post_id":38545507,"comment_id":64487676,"body_markdown":"Yes using Spring Boot, JDBC &amp; PostgreSQL","body":"Yes using Spring Boot, JDBC &amp; PostgreSQL"}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469459502,"creation_date":1469301344,"answer_id":38545573,"question_id":38545507,"body_markdown":"How about this (This is assuming that you&#39;re using JDBC directly to open your own connections)...\r\n    \r\n    Connection conn = null;\r\n    ResultSet rs    = null;\r\n    try {\r\n        conn = getConnection();\r\n        ...\r\n    } catch (Exception ex) {\r\n        ...\r\n    } finally {\r\n         if (rs != null) { \r\n             try { rs.close(); } catch (Exception ex) { ... }\r\n         }\r\n         if (conn != null) {\r\n             try { conn.close(); } catch (Exception ex) { ... }\r\n         }\r\n    }","title":"PostgreSQL Close connection after method has finished","body":"<p>How about this (This is assuming that you're using JDBC directly to open your own connections)...</p>\n\n<pre><code>Connection conn = null;\nResultSet rs    = null;\ntry {\n    conn = getConnection();\n    ...\n} catch (Exception ex) {\n    ...\n} finally {\n     if (rs != null) { \n         try { rs.close(); } catch (Exception ex) { ... }\n     }\n     if (conn != null) {\n         try { conn.close(); } catch (Exception ex) { ... }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1469307606,"creation_date":1469306240,"answer_id":38546207,"question_id":38545507,"body_markdown":"Ok there are several issues here.\r\n\r\nFirst is that database connections really need to timeout eventually. Sometimes the timeout gets extended to something ridiculous on account of some report that takes forever or a similar issue, but it&#39;s an antipattern. You need the connections to timeout so that when there is a mistake like a stranded connection the database can recover from it.\r\n\r\nSecond, always close the connection when you&#39;re done with it. Here the easiest way is to use try-with-resources, which will make sure your resources get closed in the right order with no chance of exception-masking (where an exception getting thrown by a close causes a previous exception thrown in the try block to get lost, which is bad because it means you don&#39;t know why your code failed):\r\n\r\n    try (Connection connection = getConnection(); \r\n        Statement stmt = connection.createStatement();\r\n        ResultSet rs = stmt.executeQuery(sql)) {\r\n        StringBuffer sb = new StringBuffer();\r\n        List users = new ArrayList&lt;&gt;();\r\n        while (rs.next()) {\r\n            int id = rs.getInt(&quot;id&quot;);\r\n            String first = rs.getString(&quot;first&quot;);\r\n            String last = rs.getString(&quot;last&quot;);\r\n            String email = rs.getString(&quot;email&quot;);\r\n            String company = rs.getString(&quot;company&quot;);\r\n            String city = rs.getString(&quot;city&quot;);\r\n            users.add(new User(id,first, last, email, company, city));\r\n        }\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        return &quot;user&quot;;\r\n    }\r\n\r\nThird, consider using more Spring in your Spring Boot application. You have data access glommed into your controller, so you have no separation of concerns, and you&#39;re not taking advantage of any Spring-provided functionality like JDBC templates, with resource-closing, named parameters, data exception translation (so that the exceptions you get back from jdbc calls make sense), or transaction handling (to let you make multiple DAO calls in the same transaction). See [this link][1] for spring-jdbc documentation.\r\n\r\nMake sure you use a connection pool, by the way; it&#39;s much faster to have a request use an existing connection from a pool than it is to make a new connection. When you get a connection from the pool it comes wrapped in an object that returns the connection to the pool and does cleanup (like rolling back any transaction in progress) when you call close on it.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html","title":"PostgreSQL Close connection after method has finished","body":"<p>Ok there are several issues here.</p>\n\n<p>First is that database connections really need to timeout eventually. Sometimes the timeout gets extended to something ridiculous on account of some report that takes forever or a similar issue, but it's an antipattern. You need the connections to timeout so that when there is a mistake like a stranded connection the database can recover from it.</p>\n\n<p>Second, always close the connection when you're done with it. Here the easiest way is to use try-with-resources, which will make sure your resources get closed in the right order with no chance of exception-masking (where an exception getting thrown by a close causes a previous exception thrown in the try block to get lost, which is bad because it means you don't know why your code failed):</p>\n\n<pre><code>try (Connection connection = getConnection(); \n    Statement stmt = connection.createStatement();\n    ResultSet rs = stmt.executeQuery(sql)) {\n    StringBuffer sb = new StringBuffer();\n    List users = new ArrayList&lt;&gt;();\n    while (rs.next()) {\n        int id = rs.getInt(\"id\");\n        String first = rs.getString(\"first\");\n        String last = rs.getString(\"last\");\n        String email = rs.getString(\"email\");\n        String company = rs.getString(\"company\");\n        String city = rs.getString(\"city\");\n        users.add(new User(id,first, last, email, company, city));\n    }\n    model.addAttribute(\"users\", users);\n    return \"user\";\n}\n</code></pre>\n\n<p>Third, consider using more Spring in your Spring Boot application. You have data access glommed into your controller, so you have no separation of concerns, and you're not taking advantage of any Spring-provided functionality like JDBC templates, with resource-closing, named parameters, data exception translation (so that the exceptions you get back from jdbc calls make sense), or transaction handling (to let you make multiple DAO calls in the same transaction). See <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html\" rel=\"nofollow\">this link</a> for spring-jdbc documentation.</p>\n\n<p>Make sure you use a connection pool, by the way; it's much faster to have a request use an existing connection from a pool than it is to make a new connection. When you get a connection from the pool it comes wrapped in an object that returns the connection to the pool and does cleanup (like rolling back any transaction in progress) when you call close on it.</p>\n"}],"owner":{"display_name":"user6616196"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38546207,"answer_count":2,"score":1,"last_activity_date":1646968697,"creation_date":1469300824,"question_id":38545507,"body_markdown":"I noticed that I couldn&#39;t get access to my PostgreSQL recently. All 20 of my allowed connections were used up. I couldn&#39;t understand why as I had nothing open. Seems that things stay open even after PC is shut down or something. I&#39;m using remote real data base working locally and also when I push live its using same database. \r\n\r\nHere is a example method that i was wondering if needs closing after used \r\n\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public String users(Model model) {\r\n        try {\r\n            Connection connection = getConnection();\r\n            Statement stmt = connection.createStatement();\r\n            String sql;\r\n            sql = &quot;SELECT id, first, last, email, company, city FROM cuser&quot;;\r\n            ResultSet rs = stmt.executeQuery(sql);\r\n            StringBuffer sb = new StringBuffer();\r\n            List users = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {\r\n                int id = rs.getInt(&quot;id&quot;);\r\n                String first = rs.getString(&quot;first&quot;);\r\n                String last = rs.getString(&quot;last&quot;);\r\n                String email = rs.getString(&quot;email&quot;);\r\n                String company = rs.getString(&quot;company&quot;);\r\n                String city = rs.getString(&quot;city&quot;);\r\n                users.add(new User(id,first, last, email, company, city));\r\n            }\r\n            model.addAttribute(&quot;users&quot;, users);\r\n            return &quot;user&quot;;\r\n        }catch(Exception e) {return e.toString();}\r\n    }\r\n\r\nHow should I close connections at end of this method\r\n\r\nThanks very much anyone who gets time answer","title":"PostgreSQL Close connection after method has finished","body":"<p>I noticed that I couldn't get access to my PostgreSQL recently. All 20 of my allowed connections were used up. I couldn't understand why as I had nothing open. Seems that things stay open even after PC is shut down or something. I'm using remote real data base working locally and also when I push live its using same database. </p>\n\n<p>Here is a example method that i was wondering if needs closing after used </p>\n\n<pre><code>@RequestMapping(\"/users\")\npublic String users(Model model) {\n    try {\n        Connection connection = getConnection();\n        Statement stmt = connection.createStatement();\n        String sql;\n        sql = \"SELECT id, first, last, email, company, city FROM cuser\";\n        ResultSet rs = stmt.executeQuery(sql);\n        StringBuffer sb = new StringBuffer();\n        List users = new ArrayList&lt;&gt;();\n        while (rs.next()) {\n            int id = rs.getInt(\"id\");\n            String first = rs.getString(\"first\");\n            String last = rs.getString(\"last\");\n            String email = rs.getString(\"email\");\n            String company = rs.getString(\"company\");\n            String city = rs.getString(\"city\");\n            users.add(new User(id,first, last, email, company, city));\n        }\n        model.addAttribute(\"users\", users);\n        return \"user\";\n    }catch(Exception e) {return e.toString();}\n}\n</code></pre>\n\n<p>How should I close connections at end of this method</p>\n\n<p>Thanks very much anyone who gets time answer</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646969270,"post_id":71433186,"comment_id":126260214,"body_markdown":"If this is just for the Jackson de-serialize, then [this](https://www.baeldung.com/jackson-deserialize-immutable-objects) might help.","body":"If this is just for the Jackson de-serialize, then <a href=\"https://www.baeldung.com/jackson-deserialize-immutable-objects\" rel=\"nofollow noreferrer\">this</a> might help."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646969546,"post_id":71433186,"comment_id":126260253,"body_markdown":"Jackson can use the constructor.","body":"Jackson can use the constructor."},{"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"score":0,"creation_date":1646970795,"post_id":71433186,"comment_id":126260429,"body_markdown":"@AndrewS I considered to use the JsonCreator but my sub-class is an entity in the clean architecture, and I think the entity should not know and use this annotation which is not exactly related to business rules.","body":"@AndrewS I considered to use the JsonCreator but my sub-class is an entity in the clean architecture, and I think the entity should not know and use this annotation which is not exactly related to business rules."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646968579,"creation_date":1646968262,"answer_id":71433218,"question_id":71433186,"body_markdown":"Sure.  You have to call the superclass&#39;s constructor with a value, since that&#39;s the only option you have.  But there&#39;s no reason that value has to come  from a parameter to your constructor:\r\n\r\n    public SubClass extends SuperClass&lt;UUID&gt; {\r\n        public SubClass() {\r\n            super(UUID.fromString(&quot;whatever&quot;);  // Exactly what you pass is up to you\r\n        }\r\n        public SubClass(UUID id) {\r\n            super(id);\r\n        }\r\n    }\r\n\r\nPS: I&#39;m not sure what that &#39;ID&#39; type is that the superclass&#39;s constructor takes.  Did you mean `UUID`?  ","title":"Could I create a no parameter constructor when superclass has protected final field","body":"<p>Sure.  You have to call the superclass's constructor with a value, since that's the only option you have.  But there's no reason that value has to come  from a parameter to your constructor:</p>\n<pre><code>public SubClass extends SuperClass&lt;UUID&gt; {\n    public SubClass() {\n        super(UUID.fromString(&quot;whatever&quot;);  // Exactly what you pass is up to you\n    }\n    public SubClass(UUID id) {\n        super(id);\n    }\n}\n</code></pre>\n<p>PS: I'm not sure what that 'ID' type is that the superclass's constructor takes.  Did you mean <code>UUID</code>?</p>\n"}],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646968579,"creation_date":1646967933,"question_id":71433186,"body_markdown":"I have a super class that has a protected final field, so it has to create a constructor with parameter, like this:\r\n````\r\npublic SuperClass&lt;ID&gt; implements Serializable {\r\n    protected final ID id;\r\n    public SuperClass(ID id) {\r\n        this.id = id;\r\n    }\r\n}\r\n````\r\nThen subclass also needs to create a constructor with parameter to initialize the inherited field.\r\n````\r\npublic SubClass extends SuperClass&lt;UUID&gt; {\r\n    public SubClass(UUID id) {\r\n        super(id);\r\n    }\r\n}\r\n```` \r\nNow I have a problem is I need a constructor without parameter for other use(e.g Jackson&#39;s deserialize). So is there any solution to solute this problem?\r\n\r\nThanks in advance.","title":"Could I create a no parameter constructor when superclass has protected final field","body":"<p>I have a super class that has a protected final field, so it has to create a constructor with parameter, like this:</p>\n<pre><code>public SuperClass&lt;ID&gt; implements Serializable {\n    protected final ID id;\n    public SuperClass(ID id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Then subclass also needs to create a constructor with parameter to initialize the inherited field.</p>\n<pre><code>public SubClass extends SuperClass&lt;UUID&gt; {\n    public SubClass(UUID id) {\n        super(id);\n    }\n}\n</code></pre>\n<p>Now I have a problem is I need a constructor without parameter for other use(e.g Jackson's deserialize). So is there any solution to solute this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1646968560,"post_id":71433212,"comment_id":126260125,"body_markdown":"hi perhaps this might be of interest https://stackoverflow.com/questions/44110624/need-jackson-serializer-for-double-and-need-to-specify-precision-at-runtime","body":"hi perhaps this might be of interest <a href=\"https://stackoverflow.com/questions/44110624/need-jackson-serializer-for-double-and-need-to-specify-precision-at-runtime\" title=\"need jackson serializer for double and need to specify precision at runtime\">stackoverflow.com/questions/44110624/&hellip;</a>"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1646969197,"post_id":71433212,"comment_id":126260201,"body_markdown":"@jspcal thx. it helps in this demo, but in my real business, the CustomSerializer do more work actually, setting serialization precision maybe not enough.","body":"@jspcal thx. it helps in this demo, but in my real business, the CustomSerializer do more work actually, setting serialization precision maybe not enough."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646969388,"post_id":71433212,"comment_id":126260231,"body_markdown":"Why don&#39;t you custom serialize `f1` instead of the entire object?","body":"Why don&#39;t you custom serialize <code>f1</code> instead of the entire object?"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1646969812,"post_id":71433212,"comment_id":126260290,"body_markdown":"@shmosel that&#39;s only a simple demo to show my problem. In real business the custom serializer is more complex.","body":"@shmosel that&#39;s only a simple demo to show my problem. In real business the custom serializer is more complex."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647040817,"post_id":71433212,"comment_id":126281467,"body_markdown":"I&#39;m not sure what exactly you&#39;re trying to say, but if the problem is more complex than you&#39;re describing, how do you expect us to help you?","body":"I&#39;m not sure what exactly you&#39;re trying to say, but if the problem is more complex than you&#39;re describing, how do you expect us to help you?"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1647069410,"post_id":71433212,"comment_id":126285070,"body_markdown":"@shmosel I just want to know if it is possible to make subclass fields serialized in this situation by some settings? If not, I would consider other way instead of serializer for entire superclass. Sorry for my poor english,  hope I have expressed my intent clearly.","body":"@shmosel I just want to know if it is possible to make subclass fields serialized in this situation by some settings? If not, I would consider other way instead of serializer for entire superclass. Sorry for my poor english,  hope I have expressed my intent clearly."}],"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646968142,"creation_date":1646968142,"question_id":71433212,"body_markdown":"I create a cuztom serializer for superclass, then all subclass serialized without it&#39;s own fields. \r\n\r\n```java\r\n\r\nclass Super{\r\n   double f1;\r\n}\r\n\r\nclass Sub extends Super{\r\n   double f2;\r\n}\r\n\r\nclass CuztomSerializer extends StdSerializer&lt;Super&gt;{\r\n   @Override\r\n    public void serialize(Super s, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeNumberField(&quot;f1&quot;, BigDecimal.valueOf(s.getF1()).setScale(2, RoundingMode.FLOOR));\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs the codes above, `Sub` instance serialized only has `f1` field. How to reserve `f2` field? ","title":"Jackson ignore subclass field after create custom serializer for superclass","body":"<p>I create a cuztom serializer for superclass, then all subclass serialized without it's own fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Super{\n   double f1;\n}\n\nclass Sub extends Super{\n   double f2;\n}\n\nclass CuztomSerializer extends StdSerializer&lt;Super&gt;{\n   @Override\n    public void serialize(Super s, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartObject();\n        gen.writeNumberField(&quot;f1&quot;, BigDecimal.valueOf(s.getF1()).setScale(2, RoundingMode.FLOOR));\n        gen.writeEndObject();\n    }\n}\n\n</code></pre>\n<p>As the codes above, <code>Sub</code> instance serialized only has <code>f1</code> field. How to reserve <code>f2</code> field?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1646881610,"post_id":71418354,"comment_id":126235247,"body_markdown":"You can&#39;t scan the same file twice with the same `Scanner`.","body":"You can&#39;t scan the same file twice with the same <code>Scanner</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1646881617,"post_id":71418354,"comment_id":126235250,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1646881659,"post_id":71418354,"comment_id":126235254,"body_markdown":"You don&#39;t need to store all the values if all you&#39;re going to do is add them up.  You can just read one number at a time, and add it to your running total.","body":"You don&#39;t need to store all the values if all you&#39;re going to do is add them up.  You can just read one number at a time, and add it to your running total."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646882262,"post_id":71418354,"comment_id":126235346,"body_markdown":"Start by actually adding the input on each line to the total as you go `int runningTotal = 0; while(scan.hasNextLine()) {runningTotal += scan.nextInt();}`","body":"Start by actually adding the input on each line to the total as you go <code>int runningTotal = 0; while(scan.hasNextLine()) {runningTotal += scan.nextInt();}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646882514,"creation_date":1646882514,"answer_id":71418455,"question_id":71418354,"body_markdown":"As suggested, a lot of the code is not really needed.  But presumably the &#39;error&#39; you get is array index out of bounds.  Here:\r\n\r\n        int array[] = new int [length];\r\n        array[length++] = scan.nextInt();\r\n\r\nSo you allocate an array and **immediately** access off the end of the array. Let&#39;s assume `length` is 42. Therefore, the allocated array elements have indexes 0 to 41.  You try and assign something to array[42].  I&#39;m not sure what you&#39;re trying to do with that line.\r\n\r\nThe alternative guess (which we would not need to guess had you mentioned the actual error message) is that your counting lines leaves the scanner positioned at end of file. so the `scan.nextInt()` call in the assignment gets you an I/O error.\r\n\r\nIn any case, the core of the solution is something like\r\n\r\n    int sum = 0;\r\n    while (scan.hasNextInt())\r\n       sum += scan.nextInt();\r\n\r\nNo array is needed.\r\n","title":"How to sum up all ints in a text file?","body":"<p>As suggested, a lot of the code is not really needed.  But presumably the 'error' you get is array index out of bounds.  Here:</p>\n<pre><code>    int array[] = new int [length];\n    array[length++] = scan.nextInt();\n</code></pre>\n<p>So you allocate an array and <strong>immediately</strong> access off the end of the array. Let's assume <code>length</code> is 42. Therefore, the allocated array elements have indexes 0 to 41.  You try and assign something to array[42].  I'm not sure what you're trying to do with that line.</p>\n<p>The alternative guess (which we would not need to guess had you mentioned the actual error message) is that your counting lines leaves the scanner positioned at end of file. so the <code>scan.nextInt()</code> call in the assignment gets you an I/O error.</p>\n<p>In any case, the core of the solution is something like</p>\n<pre><code>int sum = 0;\nwhile (scan.hasNextInt())\n   sum += scan.nextInt();\n</code></pre>\n<p>No array is needed.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967965,"creation_date":1646967965,"answer_id":71433190,"question_id":71418354,"body_markdown":"You wrote in your question\r\n&gt; I keep getting an error\r\n\r\nThat would be [NoSuchElementException][1] which is thrown by this line of your code:\r\n```java\r\narray[length++] = scan.nextInt();\r\n```\r\nThis is because you have already [scanned][2] the entire file and therefore there is no next `int`.\r\n\r\nRemember that in order for people to help you with errors thrown by your code, you need to post the actual exception and the stack trace as well as your code.\r\n\r\nYou don&#39;t need to save all the numbers in the file in an array in order to get the sum of all the numbers. However if you also want to save all the numbers but you don&#39;t know in advance how many there are, you can use a [List][3].\r\n\r\nHere is a minimal example of how to read the file &amp;ndash; which I assume contains only numbers separated by whitespace &amp;ndash; and calculate the total. Of-course you need to replace *text file path* with the actual path to the text file.\r\n```java\r\nFile txtFile = new File(&quot;text file path&quot;);\r\ntry (Scanner scan = new Scanner(txtFile)) {\r\n    int total = 0;\r\n    while (scan.hasNextInt()) {\r\n        total += scan.nextInt();\r\n    }\r\n    System.out.println(&quot;Total: &quot; + total);\r\n}\r\ncatch (FileNotFoundException xFileNotFound) {\r\n    xFileNotFound.printStackTrace();\r\n}\r\n```\r\nNote that the above code uses [try-with-resources][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NoSuchElementException.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to sum up all ints in a text file?","body":"<p>You wrote in your question</p>\n<blockquote>\n<p>I keep getting an error</p>\n</blockquote>\n<p>That would be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NoSuchElementException.html\" rel=\"nofollow noreferrer\">NoSuchElementException</a> which is thrown by this line of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>array[length++] = scan.nextInt();\n</code></pre>\n<p>This is because you have already <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"nofollow noreferrer\">scanned</a> the entire file and therefore there is no next <code>int</code>.</p>\n<p>Remember that in order for people to help you with errors thrown by your code, you need to post the actual exception and the stack trace as well as your code.</p>\n<p>You don't need to save all the numbers in the file in an array in order to get the sum of all the numbers. However if you also want to save all the numbers but you don't know in advance how many there are, you can use a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">List</a>.</p>\n<p>Here is a minimal example of how to read the file – which I assume contains only numbers separated by whitespace – and calculate the total. Of-course you need to replace <em>text file path</em> with the actual path to the text file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File txtFile = new File(&quot;text file path&quot;);\ntry (Scanner scan = new Scanner(txtFile)) {\n    int total = 0;\n    while (scan.hasNextInt()) {\n        total += scan.nextInt();\n    }\n    System.out.println(&quot;Total: &quot; + total);\n}\ncatch (FileNotFoundException xFileNotFound) {\n    xFileNotFound.printStackTrace();\n}\n</code></pre>\n<p>Note that the above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n"}],"owner":{"account_id":24196735,"reputation":1,"user_id":18155161,"display_name":"CBRrider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1646967965,"creation_date":1646881414,"question_id":71418354,"body_markdown":"I need to pull integers from a text file and sum them up. I came up with this but I keep getting an error. What am I missing? I need to use a scanner class.\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class txtClass {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t\r\n\t\tFile txtFile = new File(//text file path//);\r\n\t\tScanner scan = new Scanner(txtFile);\r\n\t\t\r\n\t\tint length = 0;\r\n\t\twhile(scan.hasNextLine()) {\r\n\t\t\tscan.nextLine();\r\n\t\t\tlength++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tint array[] = new int [length];\r\n\t\tarray[length++] = scan.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(array.toString());\r\n\t\tint h = 0;\r\n\t\t\r\n\t    for (int i = 0; i&lt;array.length; i++)\r\n\t    {\r\n\t        h +=array[i];   \r\n\t    }\r\n\t    scan.close();\r\n\t    System.out.print(h);\r\n\t}\r\n\r\n}\r\n","title":"How to sum up all ints in a text file?","body":"<p>I need to pull integers from a text file and sum them up. I came up with this but I keep getting an error. What am I missing? I need to use a scanner class.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class txtClass {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        \n        File txtFile = new File(//text file path//);\n        Scanner scan = new Scanner(txtFile);\n        \n        int length = 0;\n        while(scan.hasNextLine()) {\n            scan.nextLine();\n            length++;\n        }\n        \n        \n        int array[] = new int [length];\n        array[length++] = scan.nextInt();\n        \n        System.out.println(array.toString());\n        int h = 0;\n        \n        for (int i = 0; i&lt;array.length; i++)\n        {\n            h +=array[i];   \n        }\n        scan.close();\n        System.out.print(h);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jackson","build-tools","spigot"],"answers":[{"tags":[],"owner":{"account_id":5697701,"reputation":170,"user_id":4503723,"accept_rate":100,"display_name":"DePianoman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967631,"creation_date":1646967631,"answer_id":71433158,"question_id":71418477,"body_markdown":"I have found out due to [this post][1] that this happens when you replace the jar file before shutting down the server. This would explain all of the behavior I&#39;ve been experiencing.\r\n\r\n\r\n  [1]: https://bukkit.org/threads/ondisable-throws-classnotfoundexception.182811/","title":"ClassNotFoundException with Jackson on plugin disable","body":"<p>I have found out due to <a href=\"https://bukkit.org/threads/ondisable-throws-classnotfoundexception.182811/\" rel=\"nofollow noreferrer\">this post</a> that this happens when you replace the jar file before shutting down the server. This would explain all of the behavior I've been experiencing.</p>\n"}],"owner":{"account_id":5697701,"reputation":170,"user_id":4503723,"accept_rate":100,"display_name":"DePianoman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646967631,"creation_date":1646882694,"question_id":71418477,"body_markdown":"I&#39;m making a spigot plugin and in the onDisable function (which gets called when the server shuts down) I have it save my data. The problem is is that when it disables for some reason it cannot find one of the classes (ObjectWriter) that I use to save the data.[![Traceback of the error, says that the class cannot be found][1]][1]\r\n\r\nHowever as shown in the following screenshot that class is very much there and very much present, which can also be proven by the fact that I can save it normally and it works just fine. It is only when the plugin disables that I have this issue.[![Shows the inside of the jar file, the path on the top shows where the class is located and it shows the class in the correct package][2]][2]\r\n\r\nI&#39;ve been trying to fix this issue for months. Yes, I have tried running `mvn clean`. Yes, I have tried deleting the dependency jar in case it&#39;s corrupted. I have scoured SO since I had the problem and tried every. single. post. None of them have worked. I don&#39;t think this is a problem with maven more than it is a problem with the dependencies closing before the plugin finishes, because sometimes it *does* work and *doesn&#39;t* error. It&#39;s extremely confusing to me and I have no idea what to do.\r\n\r\nHere is my pom.xml if anyone wants to review it:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.uhmily&lt;/groupId&gt;\r\n    &lt;artifactId&gt;scovilleplugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;ScovillePlugin&lt;/name&gt;\r\n\r\n    &lt;description&gt;The Main Plugin for the Scoville Parkour Server&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.nms.path&gt;C:/Users/depia/Documents/My_Stuff/Programs/Minecraft/spigot-1.12.jar&lt;/project.nms.path&gt;\r\n        &lt;project.mainClass&gt;ScovillePlugin&lt;/project.mainClass&gt;\r\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;!-- &lt;include&gt;com.fasterxml.jackson.core:jackson-databind&lt;/include&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-annotations&lt;/include&gt; --&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.*:*&lt;/include&gt;\r\n                                    &lt;include&gt;de.tr7zw:*&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;relocations&gt;\r\n                                &lt;!-- &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson.core&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.core&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson.databind&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.databind&lt;/shadedPattern&gt; --&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;de.tr7zw.changeme.nbtapi&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.de.tr7zw.changeme.nbtapi&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                            &lt;/relocations&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;module-info.class&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;LICENSE&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Main-Class&gt;${project.groupId}.${project.artifactId}.${project.mainClass}&lt;/Main-Class&gt;\r\n                                        &lt;Build-Number&gt;${project.version}&lt;/Build-Number&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;enginehub&lt;/id&gt;\r\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;plotsquared&lt;/id&gt;\r\n            &lt;url&gt;https://plotsquared.com/mvn/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;placeholderapi&lt;/id&gt;\r\n            &lt;url&gt;http://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;codemc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.codemc.org/repository/maven-public/&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sk89q-repo&lt;/id&gt;\r\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;maven-snapshot&lt;/id&gt;\r\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.minecraft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;server&lt;/artifactId&gt;\r\n            &lt;version&gt;v1.12&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.nms.path}&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.plotsquared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plotsquared-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.tr7zw&lt;/groupId&gt;\r\n            &lt;artifactId&gt;item-nbt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sk89q.worldguard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;worldguard-legacy&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sk89q.worldedit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;worldedit-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95CL3.png\r\n  [2]: https://i.stack.imgur.com/7YAbW.png","title":"ClassNotFoundException with Jackson on plugin disable","body":"<p>I'm making a spigot plugin and in the onDisable function (which gets called when the server shuts down) I have it save my data. The problem is is that when it disables for some reason it cannot find one of the classes (ObjectWriter) that I use to save the data.<a href=\"https://i.stack.imgur.com/95CL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95CL3.png\" alt=\"Traceback of the error, says that the class cannot be found\" /></a></p>\n<p>However as shown in the following screenshot that class is very much there and very much present, which can also be proven by the fact that I can save it normally and it works just fine. It is only when the plugin disables that I have this issue.<a href=\"https://i.stack.imgur.com/7YAbW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YAbW.png\" alt=\"Shows the inside of the jar file, the path on the top shows where the class is located and it shows the class in the correct package\" /></a></p>\n<p>I've been trying to fix this issue for months. Yes, I have tried running <code>mvn clean</code>. Yes, I have tried deleting the dependency jar in case it's corrupted. I have scoured SO since I had the problem and tried every. single. post. None of them have worked. I don't think this is a problem with maven more than it is a problem with the dependencies closing before the plugin finishes, because sometimes it <em>does</em> work and <em>doesn't</em> error. It's extremely confusing to me and I have no idea what to do.</p>\n<p>Here is my pom.xml if anyone wants to review it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.uhmily&lt;/groupId&gt;\n    &lt;artifactId&gt;scovilleplugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;ScovillePlugin&lt;/name&gt;\n\n    &lt;description&gt;The Main Plugin for the Scoville Parkour Server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.nms.path&gt;C:/Users/depia/Documents/My_Stuff/Programs/Minecraft/spigot-1.12.jar&lt;/project.nms.path&gt;\n        &lt;project.mainClass&gt;ScovillePlugin&lt;/project.mainClass&gt;\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;!-- &lt;include&gt;com.fasterxml.jackson.core:jackson-databind&lt;/include&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-annotations&lt;/include&gt; --&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.*:*&lt;/include&gt;\n                                    &lt;include&gt;de.tr7zw:*&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;relocations&gt;\n                                &lt;!-- &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson.core&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.core&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson.databind&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.databind&lt;/shadedPattern&gt; --&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;de.tr7zw.changeme.nbtapi&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.de.tr7zw.changeme.nbtapi&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\n                                        &lt;exclude&gt;module-info.class&lt;/exclude&gt;\n                                        &lt;exclude&gt;LICENSE&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;${project.groupId}.${project.artifactId}.${project.mainClass}&lt;/Main-Class&gt;\n                                        &lt;Build-Number&gt;${project.version}&lt;/Build-Number&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;enginehub&lt;/id&gt;\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;plotsquared&lt;/id&gt;\n            &lt;url&gt;https://plotsquared.com/mvn/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;placeholderapi&lt;/id&gt;\n            &lt;url&gt;http://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;codemc-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.codemc.org/repository/maven-public/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sk89q-repo&lt;/id&gt;\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-snapshot&lt;/id&gt;\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.12-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.minecraft&lt;/groupId&gt;\n            &lt;artifactId&gt;server&lt;/artifactId&gt;\n            &lt;version&gt;v1.12&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.nms.path}&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.plotsquared&lt;/groupId&gt;\n            &lt;artifactId&gt;plotsquared-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.tr7zw&lt;/groupId&gt;\n            &lt;artifactId&gt;item-nbt-api&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sk89q.worldguard&lt;/groupId&gt;\n            &lt;artifactId&gt;worldguard-legacy&lt;/artifactId&gt;\n            &lt;version&gt;6.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sk89q.worldedit&lt;/groupId&gt;\n            &lt;artifactId&gt;worldedit-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;5.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","netflix-eureka","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":2,"creation_date":1625759867,"post_id":68301790,"comment_id":120718941,"body_markdown":"Eureka server cannot run as webflux and therefor cannot be combined with spring cloud gateway. Did you mean for gateway to be a eureka client?","body":"Eureka server cannot run as webflux and therefor cannot be combined with spring cloud gateway. Did you mean for gateway to be a eureka client?"}],"answers":[{"tags":[],"owner":{"account_id":9679536,"reputation":101,"user_id":7181748,"display_name":"Manisha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967370,"creation_date":1646967370,"answer_id":71433139,"question_id":68301790,"body_markdown":"If it helps anybody at all.\r\n\r\nThe context was null hence NPE was fixed for me by adding tomcat-embed-core.jar into the classpath.\r\n","title":"Could not initialize Eureka servlet context","body":"<p>If it helps anybody at all.</p>\n<p>The context was null hence NPE was fixed for me by adding tomcat-embed-core.jar into the classpath.</p>\n"}],"owner":{"account_id":9026937,"reputation":155,"user_id":8182381,"display_name":"Herval NGANYA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646967370,"creation_date":1625747853,"question_id":68301790,"body_markdown":"I&#39;m upgrading my actual project to spring boot 2.5.2.\r\nI had a config server, a zuul gateway and a discovery server.\r\nNow I saw that spring cloud has an embedded gateway in my discovery server which I want to use. So I have at the end only the config server and discovery server (which includes my gateway)\r\nBut I get the following stack trace from the discovery server:\r\n\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Got 1 instances from neighboring DS node\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Renew threshold is: 1\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Changing status to UP\r\n    08-07-2021 14:03:46.467 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerBootstrap.contextInitialized - Cannot bootstrap eureka server :\r\n    java.lang.NullPointerException: null\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    08-07-2021 14:03:46.468 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerInitializerConfiguration.lambda$start$0 - Could not initialize Eureka servlet context\r\n    java.lang.RuntimeException: Cannot bootstrap eureka server :\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:77)\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\r\n    \t... 2 common frames omitted\r\n\r\nHere is my code:\r\n\r\n## Config server:\r\n### pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.geminiald&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;config-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;config-service&lt;/name&gt;\r\n    \t&lt;description&gt;Configuration service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n### application.yml\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            native:\r\n              search-locations: classpath:/shared\r\n      profiles:\r\n        active: native\r\n      security:\r\n        user:\r\n          password: configPassword\r\n    \r\n    server:\r\n      port: 8081\r\n\r\n### shared/discovery-service.yml\r\n\r\n    server:\r\n      port: 8082\r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          hibernate:\r\n            SQL: DEBUG\r\n            type:\r\n              descriptor:\r\n                sql:\r\n                  BasicBinder: TRACE\r\n\r\n## Discovery server\r\n### pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.geminiald&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;discovery-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;discovery-service&lt;/name&gt;\r\n    \t&lt;description&gt;Discovery service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n### Main\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class DiscoveryServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DiscoveryServiceApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n### GatewayDiscoveryConfiguration\r\n\r\n    @Configuration\r\n    @EnableDiscoveryClient\r\n    public class GatewayDiscoveryConfiguration {\r\n    \r\n        @Bean\r\n        public DiscoveryClientRouteDefinitionLocator\r\n                discoveryClientRouteLocator(ReactiveDiscoveryClient discoveryClient, DiscoveryLocatorProperties locatorProperties) {\r\n    \r\n            return new DiscoveryClientRouteDefinitionLocator(discoveryClient, locatorProperties);\r\n        }\r\n    }\r\n\r\n\r\nIt would be very appreciated if someone could help me.\r\n\r\nThanks in advance!","title":"Could not initialize Eureka servlet context","body":"<p>I'm upgrading my actual project to spring boot 2.5.2.\nI had a config server, a zuul gateway and a discovery server.\nNow I saw that spring cloud has an embedded gateway in my discovery server which I want to use. So I have at the end only the config server and discovery server (which includes my gateway)\nBut I get the following stack trace from the discovery server:</p>\n<pre><code>08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Got 1 instances from neighboring DS node\n08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Renew threshold is: 1\n08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Changing status to UP\n08-07-2021 14:03:46.467 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerBootstrap.contextInitialized - Cannot bootstrap eureka server :\njava.lang.NullPointerException: null\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\n    at java.lang.Thread.run(Thread.java:748)\n08-07-2021 14:03:46.468 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerInitializerConfiguration.lambda$start$0 - Could not initialize Eureka servlet context\njava.lang.RuntimeException: Cannot bootstrap eureka server :\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:77)\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException: null\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\n    ... 2 common frames omitted\n</code></pre>\n<p>Here is my code:</p>\n<h2>Config server:</h2>\n<h3>pom.xml</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.geminiald&lt;/groupId&gt;\n    &lt;artifactId&gt;config-service&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;name&gt;config-service&lt;/name&gt;\n    &lt;description&gt;Configuration service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h3>application.yml</h3>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        native:\n          search-locations: classpath:/shared\n  profiles:\n    active: native\n  security:\n    user:\n      password: configPassword\n\nserver:\n  port: 8081\n</code></pre>\n<h3>shared/discovery-service.yml</h3>\n<pre><code>server:\n  port: 8082\n\nlogging:\n  level:\n    org:\n      hibernate:\n        SQL: DEBUG\n        type:\n          descriptor:\n            sql:\n              BasicBinder: TRACE\n</code></pre>\n<h2>Discovery server</h2>\n<h3>pom.xml</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.geminiald&lt;/groupId&gt;\n    &lt;artifactId&gt;discovery-service&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;name&gt;discovery-service&lt;/name&gt;\n    &lt;description&gt;Discovery service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h3>Main</h3>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<h3>GatewayDiscoveryConfiguration</h3>\n<pre><code>@Configuration\n@EnableDiscoveryClient\npublic class GatewayDiscoveryConfiguration {\n\n    @Bean\n    public DiscoveryClientRouteDefinitionLocator\n            discoveryClientRouteLocator(ReactiveDiscoveryClient discoveryClient, DiscoveryLocatorProperties locatorProperties) {\n\n        return new DiscoveryClientRouteDefinitionLocator(discoveryClient, locatorProperties);\n    }\n}\n</code></pre>\n<p>It would be very appreciated if someone could help me.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":9149775,"reputation":1619,"user_id":6804762,"accept_rate":100,"display_name":"N.K"},"score":0,"creation_date":1524495989,"post_id":49984267,"comment_id":86984951,"body_markdown":"Where is the code causing the error ?","body":"Where is the code causing the error ?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1524496044,"post_id":49984267,"comment_id":86984986,"body_markdown":"MySQL Workbench is a query tool for MySQL, it is not involved when you access a MySQL database from Java, so it is not relevant to your question.","body":"MySQL Workbench is a query tool for MySQL, it is not involved when you access a MySQL database from Java, so it is not relevant to your question."},{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":1,"creation_date":1524496153,"post_id":49984267,"comment_id":86985045,"body_markdown":"It seems that it is a known bug https://bugs.mysql.com/bug.php?id=87846 Try upgrading your connector jar mysql-connector-java to 5.1.43 or higher","body":"It seems that it is a known bug <a href=\"https://bugs.mysql.com/bug.php?id=87846\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=87846</a> Try upgrading your connector jar mysql-connector-java to 5.1.43 or higher"}],"answers":[{"tags":[],"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1524496240,"creation_date":1524496240,"answer_id":49984380,"question_id":49984267,"body_markdown":"`query_cache_size` was removed in MySQL 8. Check the [docs][1].\r\n\r\nIt works with JDBC driver 5.1.44.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/query-cache.html","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p><code>query_cache_size</code> was removed in MySQL 8. Check the <a href=\"https://dev.mysql.com/doc/refman/5.7/en/query-cache.html\" rel=\"noreferrer\">docs</a>.</p>\n\n<p>It works with JDBC driver 5.1.44.</p>\n"},{"tags":[],"owner":{"account_id":10037500,"reputation":226,"user_id":7421561,"display_name":"ISHAN KUMAR GHOSH"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1524496338,"creation_date":1524496338,"answer_id":49984403,"question_id":49984267,"body_markdown":"Try using MySQL 8.0.3\r\nAs can be seen on the docs, the query_cache_size was removed on MySQL8. JetBrains guys have suffered the same issue, is seems to be that it is fixed by updating the driver to the version MySQL JDBC driver v 5.1.44.\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Try using MySQL 8.0.3\nAs can be seen on the docs, the query_cache_size was removed on MySQL8. JetBrains guys have suffered the same issue, is seems to be that it is fixed by updating the driver to the version MySQL JDBC driver v 5.1.44.</p>\n"},{"tags":[],"owner":{"account_id":13937536,"reputation":341,"user_id":10064210,"display_name":"vineeth sharma"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1531306732,"creation_date":1531304231,"answer_id":51282899,"question_id":49984267,"body_markdown":"&gt;java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;\r\n\r\nIn pom file of your project, just update the version of the dependency.\r\n\r\nFor example it&#39;s &lt;version&gt;6.0.2&lt;/version&gt; of mysql java connector just update it to latest one like &lt;version&gt;8.0.11&lt;/version&gt;\r\n\r\nIt works!!!!","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<blockquote>\n  <p>java.sql.SQLException: Unknown system variable 'query_cache_size'</p>\n</blockquote>\n\n<p>In pom file of your project, just update the version of the dependency.</p>\n\n<p>For example it's 6.0.2 of mysql java connector just update it to latest one like 8.0.11</p>\n\n<p>It works!!!!</p>\n"},{"tags":[],"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542030732,"creation_date":1542030732,"answer_id":53263621,"question_id":49984267,"body_markdown":"I had a similar problem.\r\nI resolved it by **specifying the version** in mysql dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.45&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWorked like a charm for me.","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I had a similar problem.\nI resolved it by <strong>specifying the version</strong> in mysql dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.45&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Worked like a charm for me.</p>\n"},{"tags":[],"owner":{"account_id":14242534,"reputation":51,"user_id":10288482,"display_name":"Đặng Ngọc Phong"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543300849,"creation_date":1543300849,"answer_id":53494083,"question_id":49984267,"body_markdown":"If you using MySql v8.0 then you should try fix this bug with \r\n\r\n&gt; mysql-connector-java-5.1.9","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>If you using MySql v8.0 then you should try fix this bug with </p>\n\n<blockquote>\n  <p>mysql-connector-java-5.1.9</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15187825,"reputation":61,"user_id":10959250,"display_name":"Mukesh Kumar yadav"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548302073,"creation_date":1548301719,"answer_id":54339106,"question_id":49984267,"body_markdown":"I stuck on this issue, spend full one day and finally i got solution.\r\n\r\nSolution : \r\n&gt;1) Use exact mysql-connector-java jar or dependency as your mysql version.  \r\n&gt;2) if your mysql version is 8 or 6+ try to use this &quot;com.mysql.cj.jdbc.Driver&quot; driver class.","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I stuck on this issue, spend full one day and finally i got solution.</p>\n\n<p>Solution : </p>\n\n<blockquote>\n  <p>1) Use exact mysql-connector-java jar or dependency as your mysql version.<br>\n  2) if your mysql version is 8 or 6+ try to use this \"com.mysql.cj.jdbc.Driver\" driver class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12177568,"reputation":121,"user_id":8890160,"display_name":"Ooguro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551978970,"creation_date":1551978970,"answer_id":55049482,"question_id":49984267,"body_markdown":"Ok so what I did as metioned above. I just added the mysql-connector-java-5.1.4 to build path and ran the project on my server and connected fine to mysql\r\n\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Ok so what I did as metioned above. I just added the mysql-connector-java-5.1.4 to build path and ran the project on my server and connected fine to mysql</p>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566212120,"creation_date":1566212120,"answer_id":57555345,"question_id":49984267,"body_markdown":"just change the version of mysql\r\nuse this in pom.xml\r\n\r\n    &lt;version&gt;8.0.11&lt;/version&gt;","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>just change the version of mysql\nuse this in pom.xml</p>\n\n<pre><code>&lt;version&gt;8.0.11&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5776525,"reputation":399,"user_id":4558451,"display_name":"Enrique Jim&#233;nez Flores"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1569476736,"creation_date":1569476736,"answer_id":58110280,"question_id":49984267,"body_markdown":"For mysql 8:\r\n\r\nmysql-connector-java-8.0.17.jar  (or above)\r\n+ \r\ndb.driver=com.mysql.cj.jdbc.Driver  instead of com.mysql.jdbc.Driver","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>For mysql 8:</p>\n\n<p>mysql-connector-java-8.0.17.jar  (or above)\n+ \ndb.driver=com.mysql.cj.jdbc.Driver  instead of com.mysql.jdbc.Driver</p>\n"},{"tags":[],"owner":{"account_id":10618213,"reputation":408,"user_id":7820062,"display_name":"Chaman Bharti"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599886262,"creation_date":1597729638,"answer_id":63462563,"question_id":49984267,"body_markdown":"**This exception is related to pom.xml dependency.**\r\n**When I use below dependency in pox.xml:** \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n**It shows exception:Caused by: java.sql.SQLException: Unknown system variable query_cache_size**\r\n\r\n**But, when I use below dependency:**\r\n\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.13&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n**It works.You have to use latest dependency**","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p><strong>This exception is related to pom.xml dependency.</strong>\n<strong>When I use below dependency in pox.xml:</strong></p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p><strong>It shows exception:Caused by: java.sql.SQLException: Unknown system variable query_cache_size</strong></p>\n<p><strong>But, when I use below dependency:</strong></p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.13&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p><strong>It works.You have to use latest dependency</strong></p>\n"},{"tags":[],"owner":{"account_id":12712477,"reputation":1,"user_id":9235657,"display_name":"Rushikesh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629268959,"creation_date":1629268959,"answer_id":68827607,"question_id":49984267,"body_markdown":"Use  Below mention dependency it will work for you!    \r\n \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Use  Below mention dependency it will work for you!</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12001272,"reputation":347,"user_id":8781119,"display_name":"Ki&#234;n Trần Trung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80478,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":49984380,"answer_count":11,"score":43,"last_activity_date":1646967357,"creation_date":1524495847,"question_id":49984267,"body_markdown":"I have a app running with JDBC and get data from MySQL, but I can&#39;t build it because of this error : \r\n\r\n    java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;\r\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2497) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2455) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1369) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.loadServerVariables(ConnectionImpl.java:3777) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3240) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2249) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2035) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]\r\n\r\nI have file application.properties here \r\n\r\n    #specs.dir=/specs/\r\n    #\r\n    #################### Spring Boot Data Source Configuration ############\r\n    #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/savingbooking?useSSL=false\r\n    #spring.datasource.username=root\r\n    #spring.datasource.password=ZAQ!2wsx\r\n    #spring.datasource.initialize=true\r\n    #spring.jpa.hibernate.ddl-auto=update\r\n    #spring.jpa.properties.hibernate.format_sql=true\r\n    #spring.jpa.show-sql=true\r\n    #spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nMysql workbench is 8.0 version\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I have a app running with JDBC and get data from MySQL, but I can't build it because of this error : </p>\n\n<pre><code>java.sql.SQLException: Unknown system variable 'query_cache_size'\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2497) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2455) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1369) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.loadServerVariables(ConnectionImpl.java:3777) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3240) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2249) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2035) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]\n</code></pre>\n\n<p>I have file application.properties here </p>\n\n<pre><code>#specs.dir=/specs/\n#\n#################### Spring Boot Data Source Configuration ############\n#spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n#spring.datasource.url=jdbc:mysql://localhost:3306/savingbooking?useSSL=false\n#spring.datasource.username=root\n#spring.datasource.password=ZAQ!2wsx\n#spring.datasource.initialize=true\n#spring.jpa.hibernate.ddl-auto=update\n#spring.jpa.properties.hibernate.format_sql=true\n#spring.jpa.show-sql=true\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n\n<p>Mysql workbench is 8.0 version</p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1646966311,"post_id":71433005,"comment_id":126259848,"body_markdown":"I can&#39;t see anything wrong with your code.  The warning that you&#39;re reporting is probably unrelated to anything in your code.  As for whether your code is wrong, it&#39;s a bit hard to tell when you haven&#39;t told us what problem you&#39;re trying to solve.  Perhaps you can paste the problem statement into this question.","body":"I can&#39;t see anything wrong with your code.  The warning that you&#39;re reporting is probably unrelated to anything in your code.  As for whether your code is wrong, it&#39;s a bit hard to tell when you haven&#39;t told us what problem you&#39;re trying to solve.  Perhaps you can paste the problem statement into this question."},{"owner":{"account_id":3308530,"reputation":2278,"user_id":2782554,"accept_rate":97,"display_name":"keypoint"},"score":0,"creation_date":1648069079,"post_id":71433005,"comment_id":126534134,"body_markdown":"your code is fine, just need to tune your JVM settings, probably your IDE did that for you.","body":"your code is fine, just need to tune your JVM settings, probably your IDE did that for you."}],"owner":{"account_id":23757702,"reputation":11,"user_id":17773589,"display_name":"chrypig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646965772,"creation_date":1646965772,"question_id":71433005,"body_markdown":"I know the getMid() method in the answer of approach 1 is like below.\r\n\r\n    public ListNode getMid(ListNode head) {\r\n        ListNode midPrev = null;\r\n        while (head != null &amp;&amp; head.next != null) {\r\n            midPrev = (midPrev == null) ? head : midPrev.next;\r\n            head = head.next.next;\r\n        }\r\n        \r\n        ListNode mid = midPrev.next;\r\n        midPrev.next = null;\r\n        return mid;\r\n    }\r\nI tried this code before:\r\n\r\n    public ListNode getMid(ListNode head) {\r\n\t\r\n\t\t// This line is different from the answer.\r\n        ListNode midPrev = head;\r\n\t\t\r\n        while (head != null &amp;&amp; head.next != null) {\r\n\t\t\r\n\t\t\t// This line is different from the answer.\r\n            midPrev = midPrev.next;\r\n\t\t\t\r\n            head = head.next.next;\r\n        }\r\n        \r\n        ListNode mid = midPrev.next;\r\n        midPrev.next = null;\r\n        return mid;\r\n    }\r\nAnd then I get this Runtime Error:\r\n\r\nWARNING: A command line option has enabled the Security Manager\r\n\r\nCan anyone tell me why the midPrev = head is wrong?","title":"Questions about LeetCode 148. Sort List","body":"<p>I know the getMid() method in the answer of approach 1 is like below.</p>\n<pre><code>public ListNode getMid(ListNode head) {\n    ListNode midPrev = null;\n    while (head != null &amp;&amp; head.next != null) {\n        midPrev = (midPrev == null) ? head : midPrev.next;\n        head = head.next.next;\n    }\n    \n    ListNode mid = midPrev.next;\n    midPrev.next = null;\n    return mid;\n}\n</code></pre>\n<p>I tried this code before:</p>\n<pre><code>public ListNode getMid(ListNode head) {\n\n    // This line is different from the answer.\n    ListNode midPrev = head;\n    \n    while (head != null &amp;&amp; head.next != null) {\n    \n        // This line is different from the answer.\n        midPrev = midPrev.next;\n        \n        head = head.next.next;\n    }\n    \n    ListNode mid = midPrev.next;\n    midPrev.next = null;\n    return mid;\n}\n</code></pre>\n<p>And then I get this Runtime Error:</p>\n<p>WARNING: A command line option has enabled the Security Manager</p>\n<p>Can anyone tell me why the midPrev = head is wrong?</p>\n"},{"tags":["java","android","embedded"],"comments":[{"owner":{"account_id":250517,"reputation":30575,"user_id":527288,"accept_rate":81,"display_name":"Kurtis Nusbaum"},"score":0,"creation_date":1319924461,"post_id":7940582,"comment_id":9704534,"body_markdown":"Sorry, I misunderstood your question. I removed my answer.","body":"Sorry, I misunderstood your question. I removed my answer."}],"answers":[{"tags":[],"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1320059651,"creation_date":1319928713,"answer_id":7942184,"question_id":7940582,"body_markdown":"The typical way to safely create a file on most reasonable platforms (Linux/Android *is* one of them) is to create a temporary file and then **rename** the file, as mentioned in the question &amp; answers that you linked to. Note the emphasis on *rename*; renaming a file is *usually* an atomic operation *within the same filesystem*, copying one is not. In addition, this method only requires enough space for a single copy of the data.\r\n\r\nTherefore you create a file in the target directory using a temporary name and then use [`File.renameTo()`](http://developer.android.com/reference/java/io/File.html#renameTo%28java.io.File%29) to give it a proper name. By using a standard naming convention for the temporary files you can always find and delete them, even if your application terminates unexpectedly due to e.g. a device power-off.\r\n\r\nIf you are really paranoid, you may want to insert a few calls to [`FileDescriptor.sync()`](http://developer.android.com/reference/java/io/FileDescriptor.html#sync%28%29) or equivalent...\r\n\r\nEDIT:\r\n\r\nBTW, you do not mention what kind of `IOException` your are getting and whether you have tracked down its cause. If it&#39;s due to insufficient space, fine, but if we are talking about a faulty SD card, then there is no such thing as &quot;safe&quot; in this case.\r\n\r\nEDIT 2:\r\n\r\nIn order to check the available free space, you can create a [`File`](http://developer.android.com/reference/java/io/File.html) object for the destination directory (i.e. the directory where your file will end up) and call [`File.getFreeSpace()`](http://developer.android.com/reference/java/io/File.html#getFreeSpace%28%29). Keep in mind that this check does not provide any guarantees - you may still end up without enough space if e.g. another process writes data to the medium.","title":"How to safely save a file to disk in android?","body":"<p>The typical way to safely create a file on most reasonable platforms (Linux/Android <em>is</em> one of them) is to create a temporary file and then <strong>rename</strong> the file, as mentioned in the question &amp; answers that you linked to. Note the emphasis on <em>rename</em>; renaming a file is <em>usually</em> an atomic operation <em>within the same filesystem</em>, copying one is not. In addition, this method only requires enough space for a single copy of the data.</p>\n\n<p>Therefore you create a file in the target directory using a temporary name and then use <a href=\"http://developer.android.com/reference/java/io/File.html#renameTo%28java.io.File%29\" rel=\"noreferrer\"><code>File.renameTo()</code></a> to give it a proper name. By using a standard naming convention for the temporary files you can always find and delete them, even if your application terminates unexpectedly due to e.g. a device power-off.</p>\n\n<p>If you are really paranoid, you may want to insert a few calls to <a href=\"http://developer.android.com/reference/java/io/FileDescriptor.html#sync%28%29\" rel=\"noreferrer\"><code>FileDescriptor.sync()</code></a> or equivalent...</p>\n\n<p>EDIT:</p>\n\n<p>BTW, you do not mention what kind of <code>IOException</code> your are getting and whether you have tracked down its cause. If it's due to insufficient space, fine, but if we are talking about a faulty SD card, then there is no such thing as \"safe\" in this case.</p>\n\n<p>EDIT 2:</p>\n\n<p>In order to check the available free space, you can create a <a href=\"http://developer.android.com/reference/java/io/File.html\" rel=\"noreferrer\"><code>File</code></a> object for the destination directory (i.e. the directory where your file will end up) and call <a href=\"http://developer.android.com/reference/java/io/File.html#getFreeSpace%28%29\" rel=\"noreferrer\"><code>File.getFreeSpace()</code></a>. Keep in mind that this check does not provide any guarantees - you may still end up without enough space if e.g. another process writes data to the medium.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319928922,"creation_date":1319928922,"answer_id":7942197,"question_id":7940582,"body_markdown":"I don&#39;t know if I&#39;d copy it, but renaming the temporary file is typical. If you get an exception during writing, just delete the temporary file.","title":"How to safely save a file to disk in android?","body":"<p>I don't know if I'd copy it, but renaming the temporary file is typical. If you get an exception during writing, just delete the temporary file.</p>\n"},{"tags":[],"owner":{"account_id":1447316,"reputation":1213,"user_id":1365340,"accept_rate":40,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1569576535,"creation_date":1487791009,"answer_id":42400359,"question_id":7940582,"body_markdown":"I know this is too late to answer, but will help anyone who come across this will find it helpful.\r\n\r\nYou need to use [AtomicFile][1].\r\n\r\nFollowing code snippet may help.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public void writeFile(File file, byte[] data) {\r\n        AtomicFile aFile = new AtomicFile(file);\r\n        FileOutputStream fos = null;\r\n\r\n        try {\r\n            fos = aFile.startWrite();\r\n            fos.write(data);\r\n            // Close stream and commit new data.\r\n            aFile.finishWrite(fos);\r\n            fos = null;\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Cannot write file &quot; + file.getPath(), e);\r\n        } finally {\r\n            if (fos != null) {\r\n                // Something went wrong.\r\n                // Close stream and roll back data.\r\n                aFile.failWrite(fos);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v4/util/AtomicFile.html","title":"How to safely save a file to disk in android?","body":"<p>I know this is too late to answer, but will help anyone who come across this will find it helpful.</p>\n\n<p>You need to use <a href=\"https://developer.android.com/reference/android/support/v4/util/AtomicFile.html\" rel=\"noreferrer\">AtomicFile</a>.</p>\n\n<p>Following code snippet may help.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void writeFile(File file, byte[] data) {\n    AtomicFile aFile = new AtomicFile(file);\n    FileOutputStream fos = null;\n\n    try {\n        fos = aFile.startWrite();\n        fos.write(data);\n        // Close stream and commit new data.\n        aFile.finishWrite(fos);\n        fos = null;\n    } catch (IOException e) {\n        Log.e(TAG, \"Cannot write file \" + file.getPath(), e);\n    } finally {\n        if (fos != null) {\n            // Something went wrong.\n            // Close stream and roll back data.\n            aFile.failWrite(fos);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14207656,"reputation":21,"user_id":10263748,"display_name":"Orienser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646963350,"creation_date":1646963350,"answer_id":71432775,"question_id":7940582,"body_markdown":"As mentioned in Pawan&#39;s answer, `AtomicFile` is recommended for writing file safely.\r\n\r\nBut you still need to be careful when using it, sometimes it&#39;s not that &#39;atomic&#39;.\r\n\r\nYou can find `AtomicFile` in `android.util`, `android.support.v4.util` and `androidx.core.util`. But their implementation are **DIFFERENT** in different versions of `API level` / `support library` / `androidx library`, so please pay attention to your dependency version before using it.\r\n\r\nIn general, you should use the latest version of [androidx&#39;s AtomicFile][1]. It&#39;s in `androidx.core:core`, and dependenced by `androidx.appcompat:appcompat`.\r\n\r\n----------\r\n\r\nLet&#39;s see what actually happens when we try to write a file with `AtomicFile` in lower versions.\r\n\r\n#### API level: [17, 29] / support library: [22.1.0, 28.0.0] / androidx core: [1.0.0, 1.3.2]\r\n\r\n```\r\npublic FileOutputStream startWrite() throws IOException {\r\n    // Step 1: rename base file to backup file, or delete it.\r\n    if (mBaseName.exists()) {\r\n        if (!mBackupName.exists()) {\r\n            if (!mBaseName.renameTo(mBackupName)) {\r\n                Log.w(&quot;AtomicFile&quot;, &quot;Couldn&#39;t rename file &quot; + mBaseName\r\n                    + &quot; to backup file &quot; + mBackupName);\r\n                }\r\n        } else {\r\n            mBaseName.delete();\r\n        }\r\n    }\r\n\r\n    // At this moment,the base file does not exist anyway.\r\n\r\n    // Step 2: open output stream to base file.\r\n    FileOutputStream str;\r\n    try {\r\n        str = new FileOutputStream(mBaseName);\r\n    } catch (FileNotFoundException e) {\r\n        // ...\r\n    }\r\n    return str;\r\n}\r\n```\r\n\r\nAs you can see, `AtomicFile` prefers to back up the base file before writing it.\r\nThis can indeed provide an effective means of recovery when writing to the base file fails. But you can only say that the write operation is safely, not atomically.\r\n\r\nImagine what happens if the system loses power between steps 1 and 2, the base file will be lost, and only the backup file will remain.\r\n\r\nAlso, because the `FileOutputStream` points to the base file, writing is not atomically either.\r\n\r\n----------\r\n\r\nBut google has improved the implementation of AtomicFile in high versions.\r\n\r\n#### API level: 30+ / androidx core: 1.5.0+\r\n```\r\npublic FileOutputStream startWrite() throws IOException {\r\n    // Step 1: recover backup file, which was used in old version.\r\n    if (mLegacyBackupName.exists()) {\r\n        rename(mLegacyBackupName, mBaseName);\r\n    }\r\n\r\n    // Step 2: open output stream to new file, not the base file.\r\n    try {\r\n        return new FileOutputStream(mNewName);\r\n    } catch (FileNotFoundException e) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nThe improved AtomicFile takes another approach: when you write content to the output stream returned by `startWrite()`, you actually write to a new file (a temporary file with suffix of `.new`), and the new file will be rename to base file after `finishWrite()` called.\r\n\r\nNow, the content of the base file will only have two cases:\r\n1. The writing fails, and the content of base file remains unchanged.\r\n2. The writing is successful.\r\n\r\nIt&#39;s real atomic now.\r\n\r\n[1]: https://developer.android.com/reference/androidx/core/util/AtomicFile","title":"How to safely save a file to disk in android?","body":"<p>As mentioned in Pawan's answer, <code>AtomicFile</code> is recommended for writing file safely.</p>\n<p>But you still need to be careful when using it, sometimes it's not that 'atomic'.</p>\n<p>You can find <code>AtomicFile</code> in <code>android.util</code>, <code>android.support.v4.util</code> and <code>androidx.core.util</code>. But their implementation are <strong>DIFFERENT</strong> in different versions of <code>API level</code> / <code>support library</code> / <code>androidx library</code>, so please pay attention to your dependency version before using it.</p>\n<p>In general, you should use the latest version of <a href=\"https://developer.android.com/reference/androidx/core/util/AtomicFile\" rel=\"nofollow noreferrer\">androidx's AtomicFile</a>. It's in <code>androidx.core:core</code>, and dependenced by <code>androidx.appcompat:appcompat</code>.</p>\n<hr />\n<p>Let's see what actually happens when we try to write a file with <code>AtomicFile</code> in lower versions.</p>\n<h4>API level: [17, 29] / support library: [22.1.0, 28.0.0] / androidx core: [1.0.0, 1.3.2]</h4>\n<pre><code>public FileOutputStream startWrite() throws IOException {\n    // Step 1: rename base file to backup file, or delete it.\n    if (mBaseName.exists()) {\n        if (!mBackupName.exists()) {\n            if (!mBaseName.renameTo(mBackupName)) {\n                Log.w(&quot;AtomicFile&quot;, &quot;Couldn't rename file &quot; + mBaseName\n                    + &quot; to backup file &quot; + mBackupName);\n                }\n        } else {\n            mBaseName.delete();\n        }\n    }\n\n    // At this moment,the base file does not exist anyway.\n\n    // Step 2: open output stream to base file.\n    FileOutputStream str;\n    try {\n        str = new FileOutputStream(mBaseName);\n    } catch (FileNotFoundException e) {\n        // ...\n    }\n    return str;\n}\n</code></pre>\n<p>As you can see, <code>AtomicFile</code> prefers to back up the base file before writing it.\nThis can indeed provide an effective means of recovery when writing to the base file fails. But you can only say that the write operation is safely, not atomically.</p>\n<p>Imagine what happens if the system loses power between steps 1 and 2, the base file will be lost, and only the backup file will remain.</p>\n<p>Also, because the <code>FileOutputStream</code> points to the base file, writing is not atomically either.</p>\n<hr />\n<p>But google has improved the implementation of AtomicFile in high versions.</p>\n<h4>API level: 30+ / androidx core: 1.5.0+</h4>\n<pre><code>public FileOutputStream startWrite() throws IOException {\n    // Step 1: recover backup file, which was used in old version.\n    if (mLegacyBackupName.exists()) {\n        rename(mLegacyBackupName, mBaseName);\n    }\n\n    // Step 2: open output stream to new file, not the base file.\n    try {\n        return new FileOutputStream(mNewName);\n    } catch (FileNotFoundException e) {\n        // ...\n    }\n}\n</code></pre>\n<p>The improved AtomicFile takes another approach: when you write content to the output stream returned by <code>startWrite()</code>, you actually write to a new file (a temporary file with suffix of <code>.new</code>), and the new file will be rename to base file after <code>finishWrite()</code> called.</p>\n<p>Now, the content of the base file will only have two cases:</p>\n<ol>\n<li>The writing fails, and the content of base file remains unchanged.</li>\n<li>The writing is successful.</li>\n</ol>\n<p>It's real atomic now.</p>\n"}],"owner":{"account_id":414958,"reputation":443,"user_id":789480,"accept_rate":100,"display_name":"brif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4153,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7942184,"answer_count":4,"score":7,"last_activity_date":1646963350,"creation_date":1319910169,"question_id":7940582,"body_markdown":"I have written an android app that saves (potentially) large files to the SD Card. Occasionally I get an IOException during the write operation which causes the file to be left in a corrupt state. Based on the answer to this question:\r\n\r\n&lt;a href=&quot;https://stackoverflow.com/questions/1812115/how-to-safely-write-to-a-file&quot;&gt;Question: How to safely write to a file?&lt;/a&gt;\r\n\r\nthe strategy I should use is to create a temporary file and then copy this file once the write has completed. My questions are:\r\n\r\n1) Is this the safest approach on Android? (e.g. Can you copy files on the android sd card and if so is the operation atomic?)\r\n\r\n2) In an embedded system with limited resources (disk space) does anyone know of another strategy  for safely writing to a disk? (instead of creating two large files)\r\n\r\n\r\nThanks","title":"How to safely save a file to disk in android?","body":"<p>I have written an android app that saves (potentially) large files to the SD Card. Occasionally I get an IOException during the write operation which causes the file to be left in a corrupt state. Based on the answer to this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1812115/how-to-safely-write-to-a-file\">Question: How to safely write to a file?</a></p>\n\n<p>the strategy I should use is to create a temporary file and then copy this file once the write has completed. My questions are:</p>\n\n<p>1) Is this the safest approach on Android? (e.g. Can you copy files on the android sd card and if so is the operation atomic?)</p>\n\n<p>2) In an embedded system with limited resources (disk space) does anyone know of another strategy  for safely writing to a disk? (instead of creating two large files)</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":23477971,"reputation":71,"user_id":17530506,"display_name":"Duong LV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646962989,"creation_date":1646962989,"answer_id":71432751,"question_id":63187382,"body_markdown":"I have the same issue too when using Spring Tool Suite, and I spent a lot of time investigating but cannot find any solutions.\r\nBut when I use Intellij, it works fine, I can go into the class file and debug it. So please try it with Intellij.","title":"How to attach the source to the jar in the Gradle (Gradle 6.3.) build that can be used in eclipse External Dependencies","body":"<p>I have the same issue too when using Spring Tool Suite, and I spent a lot of time investigating but cannot find any solutions.\nBut when I use Intellij, it works fine, I can go into the class file and debug it. So please try it with Intellij.</p>\n"}],"owner":{"account_id":9051102,"reputation":136,"user_id":6741224,"display_name":"Uday Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646962989,"creation_date":1596179781,"question_id":63187382,"body_markdown":"Problem: I have a gradle project in which I am using let&#39;s say &#39;pocdemo.jar&#39; as gradle dependency. When I try to navigate through the method call hierarchy, it doesn&#39;t show the actual code, instead it shows something like shown in image below\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FMoQb.png\r\nI want to have the source attached for the external dependency, I tried to do that by selecting the jar -&gt; properties -&gt; Java Source Attachment, but that didn&#39;t allow me to add the location for the source. Now I want to know is there a way that I can use in build.gradle file that will include the source during the jar creation itself.\r\nI have the below gradle file for the project that I use as external dependency in my main project.\r\n```\r\nbuildscript {\r\n    repositories {\r\n  maven {\r\n            url = repoUrl\r\n            allowInsecureProtocol = true\r\n            metadataSources { \r\n                mavenPom()\r\n                artifact() \r\n            }\r\n        }\r\n    maven {\r\n            url = biappsUrl\r\n            allowInsecureProtocol = true\r\n            metadataSources { \r\n                mavenPom()\r\n                artifact() \r\n            }\r\n        }\r\n  }\r\n    dependencies {\r\n        classpath(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-gradle-plugin&#39;, version: &#39;2.1.3.RELEASE&#39;)\r\n    }\r\n}\r\n\r\napply plugin: &#39;maven-publish&#39;\r\napply plugin:&#39;java&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n\r\nconfigurations.all {\r\n   exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\r\n   exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\nconfigurations {\r\n    javadocJar\r\n}\r\ndependencies {\r\n   implementation(group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;3.1.0&#39;)\r\n   implementation (group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;)\r\n   implementation(group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;27.0.1-jre&#39;)\r\n   implementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;)\r\n   implementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;)\r\n   implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.5&#39;\r\n   implementation group: &#39;commons-httpclient&#39;, name: &#39;commons-httpclient&#39;, version: &#39;3.1&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpmime&#39;, version: &#39;4.1&#39;\r\n   implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.2&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore&#39;, version: &#39;4.4.1&#39;\r\n    .\r\n    . &lt;Some more dependencies&gt;\r\n    .\r\n    testImplementation(group: &#39;org.powermock&#39;, name: &#39;powermock-api-mockito2&#39;, version: &#39;2.0.0-beta.5&#39;)\r\n    testImplementation(group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;, version: &#39;2.19.0&#39;)\r\n    testImplementation(group: &#39;org.powermock&#39;, name: &#39;powermock-module-junit4&#39;, version: &#39;2.0.0-beta.5&#39;)\r\n}\r\n\r\njavadoc {\r\n  source = sourceSets.main.allJava\r\n  classpath = sourceSets.main.compileClasspath\r\n  destinationDir = file(&quot;${buildDir}/docs/javadoc&quot;)\r\n  failOnError = true\r\n}\r\n\r\ntask javadocJar (type: Jar, dependsOn: javadoc){\r\n\tfrom javadoc.destinationDir\r\n\tarchiveFileName = &quot;myapps-pco-demo-doc-${version}.jar&quot;\r\n}\r\njar {\r\n\tbootJar.enabled = false\r\n\tjar.enabled = true\r\n\tdependsOn &#39;javadocJar&#39;\r\n  archiveFileName = provider {\r\n        &#39;pocdemo.jar&#39;\r\n    }\r\n\tenabled = true\r\n\tmanifest{\r\n\t\tattributes(&#39;Sealed&#39;: &#39;true&#39;)\r\n\t}\r\n}\r\n\r\n\r\n/* Eclipse config */\r\neclipse {\r\n    classpath {\r\n        downloadSources = true\r\n        downloadJavadoc = true\r\n    }\r\n}\r\n\r\n\r\n``` ","title":"How to attach the source to the jar in the Gradle (Gradle 6.3.) build that can be used in eclipse External Dependencies","body":"<p>Problem: I have a gradle project in which I am using let's say 'pocdemo.jar' as gradle dependency. When I try to navigate through the method call hierarchy, it doesn't show the actual code, instead it shows something like shown in image below\n<a href=\"https://i.stack.imgur.com/FMoQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FMoQb.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to have the source attached for the external dependency, I tried to do that by selecting the jar -&gt; properties -&gt; Java Source Attachment, but that didn't allow me to add the location for the source. Now I want to know is there a way that I can use in build.gradle file that will include the source during the jar creation itself.\nI have the below gradle file for the project that I use as external dependency in my main project.</p>\n<pre><code>buildscript {\n    repositories {\n  maven {\n            url = repoUrl\n            allowInsecureProtocol = true\n            metadataSources { \n                mavenPom()\n                artifact() \n            }\n        }\n    maven {\n            url = biappsUrl\n            allowInsecureProtocol = true\n            metadataSources { \n                mavenPom()\n                artifact() \n            }\n        }\n  }\n    dependencies {\n        classpath(group: 'org.springframework.boot', name: 'spring-boot-gradle-plugin', version: '2.1.3.RELEASE')\n    }\n}\n\napply plugin: 'maven-publish'\napply plugin:'java'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\n\nconfigurations.all {\n   exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\n   exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\n}\nconfigurations {\n    javadocJar\n}\ndependencies {\n   implementation(group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0')\n   implementation (group: 'org.springframework.retry', name: 'spring-retry')\n   implementation(group: 'com.google.guava', name: 'guava', version: '27.0.1-jre')\n   implementation(group: 'org.springframework.boot', name: 'spring-boot-starter-web')\n   implementation(group: 'org.springframework.boot', name: 'spring-boot-starter-actuator')\n   implementation group: 'commons-io', name: 'commons-io', version: '2.5'\n   implementation group: 'commons-httpclient', name: 'commons-httpclient', version: '3.1'\n   implementation group: 'org.apache.httpcomponents', name: 'httpmime', version: '4.1'\n   implementation group: 'commons-codec', name: 'commons-codec', version: '1.2'\n   implementation group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5'\n   implementation group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.4.1'\n    .\n    . &lt;Some more dependencies&gt;\n    .\n    testImplementation(group: 'org.powermock', name: 'powermock-api-mockito2', version: '2.0.0-beta.5')\n    testImplementation(group: 'org.mockito', name: 'mockito-core', version: '2.19.0')\n    testImplementation(group: 'org.powermock', name: 'powermock-module-junit4', version: '2.0.0-beta.5')\n}\n\njavadoc {\n  source = sourceSets.main.allJava\n  classpath = sourceSets.main.compileClasspath\n  destinationDir = file(&quot;${buildDir}/docs/javadoc&quot;)\n  failOnError = true\n}\n\ntask javadocJar (type: Jar, dependsOn: javadoc){\n    from javadoc.destinationDir\n    archiveFileName = &quot;myapps-pco-demo-doc-${version}.jar&quot;\n}\njar {\n    bootJar.enabled = false\n    jar.enabled = true\n    dependsOn 'javadocJar'\n  archiveFileName = provider {\n        'pocdemo.jar'\n    }\n    enabled = true\n    manifest{\n        attributes('Sealed': 'true')\n    }\n}\n\n\n/* Eclipse config */\neclipse {\n    classpath {\n        downloadSources = true\n        downloadJavadoc = true\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-webflow"],"owner":{"account_id":6673257,"reputation":135,"user_id":5148789,"accept_rate":75,"display_name":"Patryk Godziszewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646961532,"creation_date":1473499277,"question_id":39424598,"body_markdown":"I&#39;m having a weird problem with my Spring application with Spring Webflow. The problem is, when I set flow like in documentation:\r\n\r\n    @Bean\r\n    public FlowBuilderServices flowBuilderServices()\r\n    {\r\n    \treturn getFlowBuilderServicesBuilder()\r\n    \t\t\t.setValidator(validator)\r\n    \t\t\t.build();\r\n    }\r\nIt does not find beans in my application.I described this problem here:\r\nhttps://stackoverflow.com/questions/39171554/spring-web-flow-cant-resolve-service-bean\r\nHowever when I set application context manually like this :\r\n\r\n    @Bean\r\n    public FlowBuilderServices flowBuilderServices()\r\n    {\r\n    \tFlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\r\n    \tfbs.setApplicationContext(getApplicationContext());\r\n    \tfbs.setValidator(validator);\r\n    \treturn fbs;\r\n    }\r\nIt works fine. I haven&#39;t seen yet someone setting application config manually like I do, so i think there is some problem with config of my application.\r\nHere is my application config:\r\n\r\n    public class ElectronicsStoreWebInitialiser extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[] { RootConfig.class };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[] { WebConfig.class };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] getServletMappings() {\r\n    \t\treturn new String[] { &quot;/&quot; };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void customizeRegistration(Dynamic registration) {\r\n    \t\tregistration.setMultipartConfig(\r\n    \t\t\t\tnew MultipartConfigElement(&quot;/tmp/images&quot;,\r\n    \t\t\t\t\t\t2097152, 4194304, 0));\r\n    \t}\r\n    }\r\n\r\nWebconfig:\r\n\r\n    @Configuration\r\n    @Import(godziszewski.patryk.ElectronicsStore.config.FlowConfiguration.class)\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;godziszewski.patryk&quot;)\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \t\r\n    \t@Bean\r\n    \tpublic ViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver resolver =\tnew InternalResourceViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setExposeContextBeansAsAttributes(true); \r\n    \t\treturn resolver;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n    \t\t UrlPathHelper urlPathHelper = new UrlPathHelper();\r\n    \t     urlPathHelper.setRemoveSemicolonContent(false);\r\n    \t     configurer.setUrlPathHelper(urlPathHelper);\r\n    \t }\r\n    \t@Override\r\n    \tpublic Validator getValidator() {\r\n    \t\treturn validator();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n    \t    registry.addResourceHandler(&quot;/resource/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    \t}\r\n    \t@Bean\r\n    \tTilesConfigurer tilesConfigurer() {\r\n    \t\tTilesConfigurer tiles = new TilesConfigurer();\r\n    \t\ttiles.setDefinitions(new String[] {\r\n    \t\t\t\t&quot;/WEB-INF/tiles/definition/tile-definition.xml&quot;\r\n    \t\t});\r\n    \t\ttiles.setCheckRefresh(true);\r\n    \t\treturn tiles;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ViewResolver tilesViewResolver() {\r\n    \t\tTilesViewResolver tv = new TilesViewResolver();\r\n    \t\ttv.setOrder(-2);\r\n    \t\treturn  tv;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ResourceBundleMessageSource messageSource() {\r\n    \t\tResourceBundleMessageSource rb = new ResourceBundleMessageSource();\r\n    \t\trb.setBasename(&quot;messages&quot;);\r\n    \t\treturn rb;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic StandardServletMultipartResolver multipartResolver() {\r\n    \t\treturn new StandardServletMultipartResolver();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ContentNegotiatingViewResolver contentResolver() {\r\n    \t\tContentNegotiatingViewResolver cn = new ContentNegotiatingViewResolver();\r\n    \t\r\n    \t\tList&lt;View&gt; listOfViews = new ArrayList&lt;View&gt;();\r\n    \t\tlistOfViews.add(jsonView());\r\n    \t\tlistOfViews.add(xmlView());\r\n    \t\r\n    \t\tcn.setDefaultViews(listOfViews);\r\n    \t\t\r\n    \t\treturn cn;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic MappingJackson2JsonView jsonView() {\r\n    \t\tMappingJackson2JsonView mj= new MappingJackson2JsonView();\r\n    \t\tmj.setPrettyPrint(true);\r\n    \t\treturn mj;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic MarshallingView xmlView() {\r\n    \t\tJaxb2Marshaller ja = new Jaxb2Marshaller();\r\n    \t\tja.setClassesToBeBound(Product.class);\r\n    \t\tMarshallingView mv = new MarshallingView(ja);\r\n    \t\treturn mv;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic Validator validator() {\r\n    \t\tLocalValidatorFactoryBean lv = new LocalValidatorFactoryBean();\r\n    \t\tlv.setValidationMessageSource(messageSource());\r\n    \t\treturn lv;\r\n    \t}\r\n    }\r\n\r\n\r\nAnd flow configuration:\r\n\r\n\r\n    public class FlowConfiguration extends AbstractFlowConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tValidator validator;\r\n    \t@Bean\r\n    \tpublic FlowDefinitionRegistry flowRegistry() {\r\n    \t    return getFlowDefinitionRegistryBuilder()\r\n    \t\t    .setFlowBuilderServices(flowBuilderServices())\r\n    \t        .setBasePath(&quot;/WEB-INF/flows&quot;)\r\n    \t        .addFlowLocationPattern(&quot;/**/*-flow.xml&quot;)\r\n    \t        .build();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowExecutor flowExecutor() {\r\n    \t    return getFlowExecutorBuilder(flowRegistry())\r\n    \t    \t\t\t.addFlowExecutionListener(securityFlowExecutionListener())\r\n    \t    \t\t\t.build();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowHandlerMapping flowHandlerMapping()\r\n    \t{\r\n    \t\tFlowHandlerMapping fh = new FlowHandlerMapping();\r\n    \t\tfh.setFlowRegistry(flowRegistry());\r\n    \t\treturn fh;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowHandlerAdapter flowHandlerAdapter()\r\n    \t{\r\n    \t\tFlowHandlerAdapter fh = new FlowHandlerAdapter();\r\n    \t\tfh.setFlowExecutor(flowExecutor());\r\n    \t\treturn fh;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowBuilderServices flowBuilderServices()\r\n    \t{\r\n    \t\treturn getFlowBuilderServicesBuilder()\r\n    \t\t\t\t.setValidator(validator)\r\n    \t\t\t\t.build();\r\n    \t\t/*FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\r\n    \t\tSystem.out.println(fbs.getApplicationContext());\r\n    \t\tfbs.setApplicationContext(getApplicationContext());\r\n    \t\tfbs.setValidator(validator);\r\n    \t\treturn fbs;*/\r\n    \r\n    \t}\r\n    \t@Bean\r\n    \tpublic SecurityFlowExecutionListener securityFlowExecutionListener()\r\n    \t{\r\n    \t\treturn new SecurityFlowExecutionListener();\r\n    \t}\r\n    }\r\nNow it doesn&#39;t bother me that much, cause when I set application context manually - it works like it should, but it&#39;s rather weird behaviour and I spent some time figuring out the fix and I feel that it should not work like this. Can you take a look at my code? Thanks in advance\r\n","title":"Spring webflow - I have to set application context manually","body":"<p>I'm having a weird problem with my Spring application with Spring Webflow. The problem is, when I set flow like in documentation:</p>\n\n<pre><code>@Bean\npublic FlowBuilderServices flowBuilderServices()\n{\n    return getFlowBuilderServicesBuilder()\n            .setValidator(validator)\n            .build();\n}\n</code></pre>\n\n<p>It does not find beans in my application.I described this problem here:\n<a href=\"https://stackoverflow.com/questions/39171554/spring-web-flow-cant-resolve-service-bean\">Spring web flow can&#39;t resolve service bean?</a>\nHowever when I set application context manually like this :</p>\n\n<pre><code>@Bean\npublic FlowBuilderServices flowBuilderServices()\n{\n    FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\n    fbs.setApplicationContext(getApplicationContext());\n    fbs.setValidator(validator);\n    return fbs;\n}\n</code></pre>\n\n<p>It works fine. I haven't seen yet someone setting application config manually like I do, so i think there is some problem with config of my application.\nHere is my application config:</p>\n\n<pre><code>public class ElectronicsStoreWebInitialiser extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[] { RootConfig.class };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] { WebConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { \"/\" };\n    }\n\n    @Override\n    protected void customizeRegistration(Dynamic registration) {\n        registration.setMultipartConfig(\n                new MultipartConfigElement(\"/tmp/images\",\n                        2097152, 4194304, 0));\n    }\n}\n</code></pre>\n\n<p>Webconfig:</p>\n\n<pre><code>@Configuration\n@Import(godziszewski.patryk.ElectronicsStore.config.FlowConfiguration.class)\n@EnableWebMvc\n@ComponentScan(basePackages = \"godziszewski.patryk\")\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/views/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setExposeContextBeansAsAttributes(true); \n        return resolver;\n    }\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n         UrlPathHelper urlPathHelper = new UrlPathHelper();\n         urlPathHelper.setRemoveSemicolonContent(false);\n         configurer.setUrlPathHelper(urlPathHelper);\n     }\n    @Override\n    public Validator getValidator() {\n        return validator();\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resource/**\").addResourceLocations(\"/resources/\");\n    }\n    @Bean\n    TilesConfigurer tilesConfigurer() {\n        TilesConfigurer tiles = new TilesConfigurer();\n        tiles.setDefinitions(new String[] {\n                \"/WEB-INF/tiles/definition/tile-definition.xml\"\n        });\n        tiles.setCheckRefresh(true);\n        return tiles;\n    }\n\n    @Bean\n    public ViewResolver tilesViewResolver() {\n        TilesViewResolver tv = new TilesViewResolver();\n        tv.setOrder(-2);\n        return  tv;\n    }\n    @Bean\n    public ResourceBundleMessageSource messageSource() {\n        ResourceBundleMessageSource rb = new ResourceBundleMessageSource();\n        rb.setBasename(\"messages\");\n        return rb;\n    }\n    @Bean\n    public StandardServletMultipartResolver multipartResolver() {\n        return new StandardServletMultipartResolver();\n    }\n    @Bean\n    public ContentNegotiatingViewResolver contentResolver() {\n        ContentNegotiatingViewResolver cn = new ContentNegotiatingViewResolver();\n\n        List&lt;View&gt; listOfViews = new ArrayList&lt;View&gt;();\n        listOfViews.add(jsonView());\n        listOfViews.add(xmlView());\n\n        cn.setDefaultViews(listOfViews);\n\n        return cn;\n    }\n\n    @Bean\n    public MappingJackson2JsonView jsonView() {\n        MappingJackson2JsonView mj= new MappingJackson2JsonView();\n        mj.setPrettyPrint(true);\n        return mj;\n    }\n\n\n\n    @Bean\n    public MarshallingView xmlView() {\n        Jaxb2Marshaller ja = new Jaxb2Marshaller();\n        ja.setClassesToBeBound(Product.class);\n        MarshallingView mv = new MarshallingView(ja);\n        return mv;\n    }\n    @Bean\n    public Validator validator() {\n        LocalValidatorFactoryBean lv = new LocalValidatorFactoryBean();\n        lv.setValidationMessageSource(messageSource());\n        return lv;\n    }\n}\n</code></pre>\n\n<p>And flow configuration:</p>\n\n<pre><code>public class FlowConfiguration extends AbstractFlowConfiguration {\n\n    @Autowired\n    Validator validator;\n    @Bean\n    public FlowDefinitionRegistry flowRegistry() {\n        return getFlowDefinitionRegistryBuilder()\n            .setFlowBuilderServices(flowBuilderServices())\n            .setBasePath(\"/WEB-INF/flows\")\n            .addFlowLocationPattern(\"/**/*-flow.xml\")\n            .build();\n    }\n    @Bean\n    public FlowExecutor flowExecutor() {\n        return getFlowExecutorBuilder(flowRegistry())\n                    .addFlowExecutionListener(securityFlowExecutionListener())\n                    .build();\n    }\n    @Bean\n    public FlowHandlerMapping flowHandlerMapping()\n    {\n        FlowHandlerMapping fh = new FlowHandlerMapping();\n        fh.setFlowRegistry(flowRegistry());\n        return fh;\n    }\n    @Bean\n    public FlowHandlerAdapter flowHandlerAdapter()\n    {\n        FlowHandlerAdapter fh = new FlowHandlerAdapter();\n        fh.setFlowExecutor(flowExecutor());\n        return fh;\n    }\n    @Bean\n    public FlowBuilderServices flowBuilderServices()\n    {\n        return getFlowBuilderServicesBuilder()\n                .setValidator(validator)\n                .build();\n        /*FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\n        System.out.println(fbs.getApplicationContext());\n        fbs.setApplicationContext(getApplicationContext());\n        fbs.setValidator(validator);\n        return fbs;*/\n\n    }\n    @Bean\n    public SecurityFlowExecutionListener securityFlowExecutionListener()\n    {\n        return new SecurityFlowExecutionListener();\n    }\n}\n</code></pre>\n\n<p>Now it doesn't bother me that much, cause when I set application context manually - it works like it should, but it's rather weird behaviour and I spent some time figuring out the fix and I feel that it should not work like this. Can you take a look at my code? Thanks in advance</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"score":0,"creation_date":1645146099,"post_id":71029367,"comment_id":125800131,"body_markdown":"What gradle commands and other steps do you mean by &#39;I try to setup a workspace&#39;?\nI just downloaded and extracted the 1.12.2 mdk, ran `gradlew genEclipseRuns` twice (randomly failed the first time) followed by `gradlew eclipse` and it built without problems.","body":"What gradle commands and other steps do you mean by &#39;I try to setup a workspace&#39;? I just downloaded and extracted the 1.12.2 mdk, ran <code>gradlew genEclipseRuns</code> twice (randomly failed the first time) followed by <code>gradlew eclipse</code> and it built without problems."},{"owner":{"account_id":24032521,"reputation":1,"user_id":18013183,"display_name":"JohnBobbo59"},"score":0,"creation_date":1646895159,"post_id":71029367,"comment_id":126237461,"body_markdown":"hey sorry for taking so long to answer i ended up just using intellij and by setting up a workspace i mean exactly what you just said running both of those commands and opening it as a gradle project","body":"hey sorry for taking so long to answer i ended up just using intellij and by setting up a workspace i mean exactly what you just said running both of those commands and opening it as a gradle project"}],"owner":{"account_id":24032521,"reputation":1,"user_id":18013183,"display_name":"JohnBobbo59"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646961231,"creation_date":1644301286,"question_id":71029367,"body_markdown":"Each time i try to setup a workspace for 1.12.2 forge i get an error saying.\r\n```\r\nDescription\tResource Path Location Type\r\nCould not run build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-4.9-bin.zip&#39;.\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/4.9/userguide/gradle_daemon.html\r\nPlease read the following process output to find out more:\r\n-----------------------\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\njava.lang.ExceptionInInitializerError (no error message)\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\t\r\nBobboClient line 0 Gradle Error Marker\r\n```\r\n","title":"Cant setup eclipse workspace for 1.12.2 forge","body":"<p>Each time i try to setup a workspace for 1.12.2 forge i get an error saying.</p>\n<pre><code>Description Resource Path Location Type\nCould not run build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-4.9-bin.zip'.\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/4.9/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\nFAILURE: Build failed with an exception.\n* What went wrong:\njava.lang.ExceptionInInitializerError (no error message)\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org  \nBobboClient line 0 Gradle Error Marker\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":1,"creation_date":1646941034,"post_id":71429767,"comment_id":126254592,"body_markdown":"At the moment this code would not compile. Furthermore, I think it should be posted in https://codereview.stackexchange.com/ because code reviews are usually done there.","body":"At the moment this code would not compile. Furthermore, I think it should be posted in <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> because code reviews are usually done there."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1646941542,"post_id":71429767,"comment_id":126254749,"body_markdown":"What I can think about is `sc.nextInt()` and then catch `InputMismatchException`, you will save one line :) But for sure you should separate the whole input reading into a separate method `int readInput()`. Your variable `isInputValid` has not usage by the way :)","body":"What I can think about is <code>sc.nextInt()</code> and then catch <code>InputMismatchException</code>, you will save one line :) But for sure you should separate the whole input reading into a separate method <code>int readInput()</code>. Your variable <code>isInputValid</code> has not usage by the way :)"},{"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"score":0,"creation_date":1646943523,"post_id":71429767,"comment_id":126255311,"body_markdown":"Sorry, age should be input, I misttyped that because I was erasing some stuff before pasting the code, and I don&#39;t see how I can edit the original post","body":"Sorry, age should be input, I misttyped that because I was erasing some stuff before pasting the code, and I don&#39;t see how I can edit the original post"},{"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"score":0,"creation_date":1646943926,"post_id":71429767,"comment_id":126255448,"body_markdown":"@HonzaZidek the only reason I don&#39;t use nextInt() is that if you have some weird input like &quot; fdsa  fdsa 324 &quot; that&#39;s just completely random it will do some weird stuff on the next iteration so I just used nextLine instead.","body":"@HonzaZidek the only reason I don&#39;t use nextInt() is that if you have some weird input like &quot; fdsa  fdsa 324 &quot; that&#39;s just completely random it will do some weird stuff on the next iteration so I just used nextLine instead."}],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646961070,"creation_date":1646941609,"answer_id":71429947,"question_id":71429767,"body_markdown":"Well there are some things that can be ommited on a first look, but there is not much to remove. \r\n\n - Reduced integer parsing in a single line and removed `input` variable.\n- Change `isInputValid` to its negation  `isInputInvalid` to remove else , Boolean assignment and negation in the `while` clause.\n- Moved `if` into the `try` clause to make redundant and remove the `continue` statement.\n\n\r\n```java\r\nboolean isInputInvalid = true;\r\ndo {\r\n    System.out.print(&quot;Input: &quot;);\r\n    try {\r\n        age = Integer.parseInt(  sc.nextLine());\r\n        isInputInvalid = input &lt; 0 || 10 &lt; input;\r\n        if (isInputInvalid) {\r\n           System.out.println(&quot;Number outside of range.&quot;);\r\n        } \r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;Invalid input. Try again&quot;);\r\n    }\r\n  \r\n} while (isInputInvalid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Well there are some things that can be ommited on a first look, but there is not much to remove.</p>\n<ul>\n<li>Reduced integer parsing in a single line and removed <code>input</code> variable.</li>\n<li>Change <code>isInputValid</code> to its negation  <code>isInputInvalid</code> to remove else , Boolean assignment and negation in the <code>while</code> clause.</li>\n<li>Moved <code>if</code> into the <code>try</code> clause to make redundant and remove the <code>continue</code> statement.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isInputInvalid = true;\ndo {\n    System.out.print(&quot;Input: &quot;);\n    try {\n        age = Integer.parseInt(  sc.nextLine());\n        isInputInvalid = input &lt; 0 || 10 &lt; input;\n        if (isInputInvalid) {\n           System.out.println(&quot;Number outside of range.&quot;);\n        } \n    } catch (NumberFormatException e) {\n        System.out.println(&quot;Invalid input. Try again&quot;);\n    }\n  \n} while (isInputInvalid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24519424,"reputation":11,"user_id":18432703,"display_name":"softwarepie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646942493,"creation_date":1646942493,"answer_id":71430105,"question_id":71429767,"body_markdown":"Well by first glance, I can see that you&#39;re comparing an incorrect variable  type of string with an integer (your input variable), I&#39;m just going to assume that you meant to compare the age. You should also put the if statements within your try/catch to ensure that its handled as intended (there&#39;s also no point in having it outside the try/catch if a NFE is thrown, it won&#39;t get ran anyways).\r\n\r\n```\r\nboolean isInputValid = true;\r\ndo {\r\n            System.out.print(&quot;Input: &quot;);\r\n            final String input = sc.nextLine();\r\n\r\n            try {\r\n                age = Integer.parseInt(input);\r\n\r\n                if (age &lt; 0 || 10 &lt; age) {\r\n                    System.out.println(&quot;Number outside of range.&quot;);\r\n                    isInputValid = false;\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;Invalid input. Try again&quot;);\r\n                continue;\r\n            }\r\n        } while (isInputValid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Well by first glance, I can see that you're comparing an incorrect variable  type of string with an integer (your input variable), I'm just going to assume that you meant to compare the age. You should also put the if statements within your try/catch to ensure that its handled as intended (there's also no point in having it outside the try/catch if a NFE is thrown, it won't get ran anyways).</p>\n<pre><code>boolean isInputValid = true;\ndo {\n            System.out.print(&quot;Input: &quot;);\n            final String input = sc.nextLine();\n\n            try {\n                age = Integer.parseInt(input);\n\n                if (age &lt; 0 || 10 &lt; age) {\n                    System.out.println(&quot;Number outside of range.&quot;);\n                    isInputValid = false;\n                }\n            } catch (NumberFormatException e) {\n                System.out.println(&quot;Invalid input. Try again&quot;);\n                continue;\n            }\n        } while (isInputValid);\n</code></pre>\n"}],"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71429947,"answer_count":2,"score":2,"last_activity_date":1646961070,"creation_date":1646940686,"question_id":71429767,"body_markdown":"Just want to know if there was any better way of doing this since it&#39;s a lot of writing.\r\n\r\n```java\r\nboolean isInputValid = false;\r\ndo {\r\n    System.out.print(&quot;Input: &quot;);\r\n    final String input = sc.nextLine();\r\n\r\n    try {\r\n        age = Integer.parseInt(input);\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;Invalid input. Try again&quot;);\r\n        continue;\r\n    }\r\n\r\n    if (input &lt; 0 || 10 &lt; input) {\r\n        System.out.println(&quot;Number outside of range.&quot;);\r\n    } else {\r\n        isInputValid = true;\r\n    }\r\n} while (!isInputValid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Just want to know if there was any better way of doing this since it's a lot of writing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isInputValid = false;\ndo {\n    System.out.print(&quot;Input: &quot;);\n    final String input = sc.nextLine();\n\n    try {\n        age = Integer.parseInt(input);\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;Invalid input. Try again&quot;);\n        continue;\n    }\n\n    if (input &lt; 0 || 10 &lt; input) {\n        System.out.println(&quot;Number outside of range.&quot;);\n    } else {\n        isInputValid = true;\n    }\n} while (!isInputValid);\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646951787,"post_id":71431550,"comment_id":126257520,"body_markdown":"Using `Scanner sc = new Scanner(System.in);` I am unable to reproduce any issue with the code in your question. Are you sure that this is exactly the code that is skipping a line? Can you show us some sample input","body":"Using <code>Scanner sc = new Scanner(System.in);</code> I am unable to reproduce any issue with the code in your question. Are you sure that this is exactly the code that is skipping a line? Can you show us some sample input"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1646951884,"post_id":71431550,"comment_id":126257535,"body_markdown":"You&#39;re likely using some other `next...()` call prior to this loop. Be sure to add `nextLine()` after it just like you do after the `sc.nextDouble()` in the loop.","body":"You&#39;re likely using some other <code>next...()</code> call prior to this loop. Be sure to add <code>nextLine()</code> after it just like you do after the <code>sc.nextDouble()</code> in the loop."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1646952135,"post_id":71431550,"comment_id":126257585,"body_markdown":"you could also just use nextLine() and then convert the value to a double for the salary","body":"you could also just use nextLine() and then convert the value to a double for the salary"}],"owner":{"account_id":23424969,"reputation":1,"user_id":18206119,"display_name":"smoothlee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646951977,"answer_count":0,"score":0,"last_activity_date":1646960373,"creation_date":1646951488,"question_id":71431550,"body_markdown":"I&#39;m using a for loop to ask a user for a name and a salary. This is all the code I have for it so far so you can get the full context:\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\nimport static java.util.Collections.max;\r\n\r\npublic class EmployeeReport {\r\n\r\n    public static void main(String args[]){\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\r\n        //Ask for given number of employees\r\n        System.out.print(&quot;Enter number of employees: &quot;);\r\n        int number = sc.nextInt();\r\n\r\n        Employee[ ] employeeCollection = new Employee[number];\r\n        Employee worker = new Employee();\r\n\r\n\r\n        List&lt;Double&gt; salaries = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; number; i++){\r\n\r\n            System.out.println(&quot;Enter data for employee # &quot; + (i + 1));\r\n\r\n            System.out.print(&quot;Enter name of employee: &quot;);\r\n            String name = sc.nextLine();\r\n\r\n\r\n            System.out.print(&quot;Enter employee&#39;s salary: &quot;);\r\n            String sal = sc.nextLine();\r\n            double salary = Double.parseDouble(sal);\r\n\r\n\r\n            worker.setName(name);\r\n            worker.setSalary(salary);\r\n\r\n            salaries.add(salary);\r\n            employeeCollection[i] = new Employee(name, salary);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is just a sample output:\r\n\r\n```\r\nEnter number of employees: 3  \r\nEnter data for employee # 1                      \r\nEnter name of employee: Enter employee&#39;s salary: 12000\r\nEnter data for employee # 2\r\nEnter name of employee: Iron Man\r\nEnter employee&#39;s salary: 140000\r\nEnter data for employee # 3\r\nEnter name of employee: Peter Parker\r\nEnter employee&#39;s salary: 5000\r\n```\r\n\r\n\r\n\r\nFor some reason, the output always prints out the Enter name of employee line on the first loop but doesn&#39;t ask for a input and just asks for the salary instead. I&#39;ve tried using sc.next() but I need to have the first and last name.","title":"My code keeps skipping a line during the first run of a for loop","body":"<p>I'm using a for loop to ask a user for a name and a salary. This is all the code I have for it so far so you can get the full context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Scanner;\nimport java.util.ArrayList;\n\nimport static java.util.Collections.max;\n\npublic class EmployeeReport {\n\n    public static void main(String args[]){\n\n        Scanner sc = new Scanner(System.in);\n\n\n        //Ask for given number of employees\n        System.out.print(&quot;Enter number of employees: &quot;);\n        int number = sc.nextInt();\n\n        Employee[ ] employeeCollection = new Employee[number];\n        Employee worker = new Employee();\n\n\n        List&lt;Double&gt; salaries = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; number; i++){\n\n            System.out.println(&quot;Enter data for employee # &quot; + (i + 1));\n\n            System.out.print(&quot;Enter name of employee: &quot;);\n            String name = sc.nextLine();\n\n\n            System.out.print(&quot;Enter employee's salary: &quot;);\n            String sal = sc.nextLine();\n            double salary = Double.parseDouble(sal);\n\n\n            worker.setName(name);\n            worker.setSalary(salary);\n\n            salaries.add(salary);\n            employeeCollection[i] = new Employee(name, salary);\n        }\n    }\n}\n</code></pre>\n<p>This is just a sample output:</p>\n<pre><code>Enter number of employees: 3  \nEnter data for employee # 1                      \nEnter name of employee: Enter employee's salary: 12000\nEnter data for employee # 2\nEnter name of employee: Iron Man\nEnter employee's salary: 140000\nEnter data for employee # 3\nEnter name of employee: Peter Parker\nEnter employee's salary: 5000\n</code></pre>\n<p>For some reason, the output always prints out the Enter name of employee line on the first loop but doesn't ask for a input and just asks for the salary instead. I've tried using sc.next() but I need to have the first and last name.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":4,"creation_date":1646960195,"post_id":71432486,"comment_id":126258942,"body_markdown":"Might be an obvious one, but have you checked if `paused` is set correctly?","body":"Might be an obvious one, but have you checked if <code>paused</code> is set correctly?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1646963803,"post_id":71432486,"comment_id":126259488,"body_markdown":"Is this code run on a separate thread than your main thread? If not then the UI may just be locking up due to your code being stuck in an endless loop and there never being time for the UI to update. If you do not know how threads work, then the best place to start is the official tutorial: https://docs.oracle.com/javase/tutorial/essential/concurrency/","body":"Is this code run on a separate thread than your main thread? If not then the UI may just be locking up due to your code being stuck in an endless loop and there never being time for the UI to update. If you do not know how threads work, then the best place to start is the official tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency</a>"},{"owner":{"display_name":"user17107474"},"score":0,"creation_date":1647019966,"post_id":71432486,"comment_id":126276096,"body_markdown":"Sorry guys. It&#39;s such a silly issue, the code actually works fine, my laptop&#39;s ram was spiking to 98% usage due to AS emulator and the game was basically freezing in every frame and eventaully crashing. Apologies, simple fix - run it on my android device with debug mode! Thanks for the suggestions.","body":"Sorry guys. It&#39;s such a silly issue, the code actually works fine, my laptop&#39;s ram was spiking to 98% usage due to AS emulator and the game was basically freezing in every frame and eventaully crashing. Apologies, simple fix - run it on my android device with debug mode! Thanks for the suggestions."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":1,"creation_date":1647032635,"post_id":71432486,"comment_id":126279622,"body_markdown":"Ah yes, the perfectly good working emulator :D. Good luck with your progress!","body":"Ah yes, the perfectly good working emulator :D. Good luck with your progress!"}],"owner":{"display_name":"user17107474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646960001,"creation_date":1646960001,"question_id":71432486,"body_markdown":"Making space invaders in java through android studio, when i run the app, it loads up, everything on screen but nothing updates. There are no code errors as far as I can see &amp; It registers clicks in the logcat of AS. Any ideas? Thanks\r\n\r\nThis is the update method code in the main game class:\r\n\r\n\r\n```\r\nprivate void update(){\r\n\r\n        spaceShip.update(fps);\r\n        if(bullet.getStatus()){\r\n            bullet.update(fps);\r\n        }\r\n        if(bullet2.getStatus()){\r\n            bullet2.update(fps);\r\n        }\r\n        if(mine.getStatus()){\r\n            mine.update(fps);\r\n        }\r\n\r\n        if(redenemy.getVisibility()){\r\n            redenemy.update(fps);\r\n        }\r\n        checkCollisions();\r\n        if(redenemy.getVisibility()) {\r\n            redEnemyShoot();\r\n        }\r\n        boolean touch_side = false;\r\n        //loops through the array of invaders updating their positions\r\n        for(int i = 0; i &lt; numInvaders; i++){\r\n        if(Invaders[i].getVisibility()){\r\n            Invaders[i].update(fps);\r\n        }\r\n        //check if an invader touches the side, if so set to true\r\n        if(Invaders[i].getX() &gt; screenX - Invaders[i].getLength() || Invaders[i].getX() &lt; 0) \r\n        {\r\n            touch_side = true;\r\n        }\r\n```\r\n\r\nthere is also a run method:\r\n\r\n```\r\n@Override\r\n    public void run() {\r\n        while (playing) {\r\n            // Capture the current time in milliseconds in startFrameTime\r\n            long startFrameTime = System.currentTimeMillis();\r\n\r\n            // Update the frame\r\n            if(!paused){\r\n                update();\r\n            }\r\n\r\n            // Draw the frame\r\n            draw();\r\n\r\n\r\n            long timeThis = System.currentTimeMillis() - startTime;\r\n\r\n            timeThisFrame = System.currentTimeMillis() - startFrameTime;\r\n            if (timeThisFrame &gt;= 1) {\r\n                fps = 1000 / timeThisFrame;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n```\r\n\r\nEverything is drawn to the screen, just nothing updates. If you also require the alien enemy class, let me know. I&#39;m relatively new to java so I apologise for the state of the code and question, just need some help.","title":"space invaders game drawing but not updating","body":"<p>Making space invaders in java through android studio, when i run the app, it loads up, everything on screen but nothing updates. There are no code errors as far as I can see &amp; It registers clicks in the logcat of AS. Any ideas? Thanks</p>\n<p>This is the update method code in the main game class:</p>\n<pre><code>private void update(){\n\n        spaceShip.update(fps);\n        if(bullet.getStatus()){\n            bullet.update(fps);\n        }\n        if(bullet2.getStatus()){\n            bullet2.update(fps);\n        }\n        if(mine.getStatus()){\n            mine.update(fps);\n        }\n\n        if(redenemy.getVisibility()){\n            redenemy.update(fps);\n        }\n        checkCollisions();\n        if(redenemy.getVisibility()) {\n            redEnemyShoot();\n        }\n        boolean touch_side = false;\n        //loops through the array of invaders updating their positions\n        for(int i = 0; i &lt; numInvaders; i++){\n        if(Invaders[i].getVisibility()){\n            Invaders[i].update(fps);\n        }\n        //check if an invader touches the side, if so set to true\n        if(Invaders[i].getX() &gt; screenX - Invaders[i].getLength() || Invaders[i].getX() &lt; 0) \n        {\n            touch_side = true;\n        }\n</code></pre>\n<p>there is also a run method:</p>\n<pre><code>@Override\n    public void run() {\n        while (playing) {\n            // Capture the current time in milliseconds in startFrameTime\n            long startFrameTime = System.currentTimeMillis();\n\n            // Update the frame\n            if(!paused){\n                update();\n            }\n\n            // Draw the frame\n            draw();\n\n\n            long timeThis = System.currentTimeMillis() - startTime;\n\n            timeThisFrame = System.currentTimeMillis() - startFrameTime;\n            if (timeThisFrame &gt;= 1) {\n                fps = 1000 / timeThisFrame;\n            }\n\n        }\n\n    }\n</code></pre>\n<p>Everything is drawn to the screen, just nothing updates. If you also require the alien enemy class, let me know. I'm relatively new to java so I apologise for the state of the code and question, just need some help.</p>\n"},{"tags":["java","spring-boot","sonarqube"],"comments":[{"owner":{"account_id":2440627,"reputation":487,"user_id":2129263,"accept_rate":27,"display_name":"Zeeshan Arif"},"score":0,"creation_date":1619593928,"post_id":67295410,"comment_id":118948752,"body_markdown":"this might be helpful since it explains what teh @SpringBootApplication annotation is made-of: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","body":"this might be helpful since it explains what teh @SpringBootApplication annotation is made-of: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.x/reference/html/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1619595884,"post_id":67295410,"comment_id":118949571,"body_markdown":"I suggest you ignore that warning. The gain isn&#39;t as large as that warning assumes. Component scanning is rather fast and importing all individual components is quite tedious and error-prone. If startup performance is really an issue there are better ways to improve your performance.","body":"I suggest you ignore that warning. The gain isn&#39;t as large as that warning assumes. Component scanning is rather fast and importing all individual components is quite tedious and error-prone. If startup performance is really an issue there are better ways to improve your performance."},{"owner":{"account_id":4666244,"reputation":9,"user_id":3779230,"display_name":"user3779230"},"score":0,"creation_date":1619722329,"post_id":67295410,"comment_id":118998458,"body_markdown":"@M.Deinum This is something I cannot ignore as this is mandatory attempt as per our firm policy. Do u know how could we find beans that needs to be imported??","body":"@M.Deinum This is something I cannot ignore as this is mandatory attempt as per our firm policy. Do u know how could we find beans that needs to be imported??"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1619722374,"post_id":67295410,"comment_id":118998474,"body_markdown":"Please don&#39;t... Don&#39;t go down that path, it solves nothing and adds only complexity and will break future additions.","body":"Please don&#39;t... Don&#39;t go down that path, it solves nothing and adds only complexity and will break future additions."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1619765117,"post_id":67295410,"comment_id":119008265,"body_markdown":"Ignore it! You might shave at most a few microseconds off the startup time, so the advice is bogus, plus it requires maintenance in case what&#39;s included in `@SpringBootApplication` changes.","body":"Ignore it! You might shave at most a few microseconds off the startup time, so the advice is bogus, plus it requires maintenance in case what&#39;s included in <code>@SpringBootApplication</code> changes."}],"answers":[{"tags":[],"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619766157,"creation_date":1619766157,"answer_id":67329565,"question_id":67295410,"body_markdown":"Manually importing the beans is not recommended as it may be error-prone.\r\nAlthough there is a way to suppress the warning by the Sonar Qube itself. On the Sonar Qube check the corresponding id which is displayed along with the warning.\r\n\r\nthen in the code place this annotation.\r\n\r\n```\r\n@SuppressWarnings(&quot;squid:&lt;SonarId&gt;&quot;) // This is for suppressing sonar warning.\r\n\r\n```\r\n\r\nIf that is allowed you can follow this way in order to get rid of warnings on the Sonar Qube.\r\n ","title":"How can I handle sonar code smell for replacing @SpringBootApplication to importing list of beans manually","body":"<p>Manually importing the beans is not recommended as it may be error-prone.\nAlthough there is a way to suppress the warning by the Sonar Qube itself. On the Sonar Qube check the corresponding id which is displayed along with the warning.</p>\n<p>then in the code place this annotation.</p>\n<pre><code>@SuppressWarnings(&quot;squid:&lt;SonarId&gt;&quot;) // This is for suppressing sonar warning.\n\n</code></pre>\n<p>If that is allowed you can follow this way in order to get rid of warnings on the Sonar Qube.</p>\n"},{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646959847,"creation_date":1646959515,"answer_id":71432441,"question_id":67295410,"body_markdown":"The key word here is &quot;consider&quot;.  On many (most?) applications, you likely do not want to do this as it turns ComponentScan (automation) into a manual exercise and creates errors at runtime (on launch) if you get it wrong.  For smaller apps (microservices, etc) where the number of classes (and dependent libraries) are small, you should continue to use @SpringBootApplication.  Easier to maintain, at a small cost to boot-time performance.\r\n\r\nIf boot-time performance is a consideration *AND* as your application gets larger, and the number of dependencies grows *CONSIDER* switching.   In my situation, I had a large app (thousands of packages) with spring beans split across many, but not all of them.  Worse, they were hidden in apps-calling-jars-calling-jars, so it was a mess to begin with.  Proper organization would have likely helped avoid the issue.\r\n\r\nProbably the right way is to treat the code as a graph.   In every Spring @Component (@Service, @Configuration, etc), you simply identify the other components it refers to.   So, if Bean1 has an &quot;@Autowired Bean2&quot;, then Bean1 needs to @Import Bean2.  Bean1 may have multiple classes being imported.  Similarly, Bean1 and Bean7 might both @import Bean2.  You don&#39;t have to overthink it, just Import the beans you use in each class.  Go through your whole codebase, and you&#39;re good.  If you autowire to an interface, you likely need to @Import all the implementations (Spring will still sort out which one is injected).  When you&#39;re ready to try it out, take out the @SpringbootApplication, and replace it with just a &quot;@SpringBootConfiguration + @EnableAutoConfiguration&quot; (i.e. remove the @ComponentScan).  Your Application class will likely import your @Configuration classes, which in turn import the beans, etc, etc.  If you miss one, you will get (at container launch) a &quot;Bean not found&quot;(?) exception and it will crash - just add the @Import and try again.\r\n\r\nThis approach is pretty clumsy.  It means everytime you add an @Autowired, you have to add an @Import.  Manageable, but awkward.  The advantage is that Spring has *MUCH* less work to do when it spins up, so boot-time is improved.  Something to consider, but I don&#39;t think its a case of &quot;always use @Import&quot; (or the reverse).\r\n\r\nOur Springboot app went from 65+ second launch to &lt; 25 second launch by removing the hideous ComponentScan.  Your mileage will vary.\r\n\r\n----------\r\nWhile @Import is a useful trick, the way-easier solution is to add a @SuppressWarnings(&quot;squid:999&quot;) to your Application class.  (sorry, cannot remember the actual error).  This is the programatic way of saying &quot;I considered it, and rejected the idea&quot;.   Shuts Sonarqube up, and keeps the corporate-policy-police from knocking.","title":"How can I handle sonar code smell for replacing @SpringBootApplication to importing list of beans manually","body":"<p>The key word here is &quot;consider&quot;.  On many (most?) applications, you likely do not want to do this as it turns ComponentScan (automation) into a manual exercise and creates errors at runtime (on launch) if you get it wrong.  For smaller apps (microservices, etc) where the number of classes (and dependent libraries) are small, you should continue to use @SpringBootApplication.  Easier to maintain, at a small cost to boot-time performance.</p>\n<p>If boot-time performance is a consideration <em>AND</em> as your application gets larger, and the number of dependencies grows <em>CONSIDER</em> switching.   In my situation, I had a large app (thousands of packages) with spring beans split across many, but not all of them.  Worse, they were hidden in apps-calling-jars-calling-jars, so it was a mess to begin with.  Proper organization would have likely helped avoid the issue.</p>\n<p>Probably the right way is to treat the code as a graph.   In every Spring @Component (@Service, @Configuration, etc), you simply identify the other components it refers to.   So, if Bean1 has an &quot;@Autowired Bean2&quot;, then Bean1 needs to @Import Bean2.  Bean1 may have multiple classes being imported.  Similarly, Bean1 and Bean7 might both @import Bean2.  You don't have to overthink it, just Import the beans you use in each class.  Go through your whole codebase, and you're good.  If you autowire to an interface, you likely need to @Import all the implementations (Spring will still sort out which one is injected).  When you're ready to try it out, take out the @SpringbootApplication, and replace it with just a &quot;@SpringBootConfiguration + @EnableAutoConfiguration&quot; (i.e. remove the @ComponentScan).  Your Application class will likely import your @Configuration classes, which in turn import the beans, etc, etc.  If you miss one, you will get (at container launch) a &quot;Bean not found&quot;(?) exception and it will crash - just add the @Import and try again.</p>\n<p>This approach is pretty clumsy.  It means everytime you add an @Autowired, you have to add an @Import.  Manageable, but awkward.  The advantage is that Spring has <em>MUCH</em> less work to do when it spins up, so boot-time is improved.  Something to consider, but I don't think its a case of &quot;always use @Import&quot; (or the reverse).</p>\n<p>Our Springboot app went from 65+ second launch to &lt; 25 second launch by removing the hideous ComponentScan.  Your mileage will vary.</p>\n<hr />\n<p>While @Import is a useful trick, the way-easier solution is to add a @SuppressWarnings(&quot;squid:999&quot;) to your Application class.  (sorry, cannot remember the actual error).  This is the programatic way of saying &quot;I considered it, and rejected the idea&quot;.   Shuts Sonarqube up, and keeps the corporate-policy-police from knocking.</p>\n"}],"owner":{"account_id":4666244,"reputation":9,"user_id":3779230,"display_name":"user3779230"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646959847,"creation_date":1619593751,"question_id":67295410,"body_markdown":"Hi I have got an issue while working with Spring boot. And when I am running solar analysis on my code I see one issue bothering me all the time.\r\n\r\n&gt; Blockquote\r\n\r\nConsider replacing &quot;@SpringBootApplication&quot; by a list of beans imported with @Import to speed-up the start-up of the application&quot;. \r\n\r\n&gt; Blockquote\r\n\r\n\r\nHow Can i find list of beans that is required for my current project. is there any way to find which beans I have used so that I can manually import ?? please let me know","title":"How can I handle sonar code smell for replacing @SpringBootApplication to importing list of beans manually","body":"<p>Hi I have got an issue while working with Spring boot. And when I am running solar analysis on my code I see one issue bothering me all the time.</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>Consider replacing &quot;@SpringBootApplication&quot; by a list of beans imported with @Import to speed-up the start-up of the application&quot;.</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>How Can i find list of beans that is required for my current project. is there any way to find which beans I have used so that I can manually import ?? please let me know</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1646958239,"post_id":71432312,"comment_id":126258637,"body_markdown":"Line 211 in your  PicsActivity.java file contains code that dereferences a pointer that is null. Simple as that.","body":"Line 211 in your  PicsActivity.java file contains code that dereferences a pointer that is null. Simple as that."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646958313,"post_id":71432312,"comment_id":126258646,"body_markdown":"Looks like code around here `//if (exifInterface.getDateTime() != null)` is necessary - no?","body":"Looks like code around here <code>&#47;&#47;if (exifInterface.getDateTime() != null)</code> is necessary - no?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1646963155,"post_id":71432312,"comment_id":126259387,"body_markdown":"See: https://stackoverflow.com/questions/2382058/unboxing-null-object-to-primitive-type-results-in-nullpointerexception-fine","body":"See: <a href=\"https://stackoverflow.com/questions/2382058/unboxing-null-object-to-primitive-type-results-in-nullpointerexception-fine\" title=\"unboxing null object to primitive type results in nullpointerexception fine\">stackoverflow.com/questions/2382058/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646959818,"creation_date":1646959818,"answer_id":71432470,"question_id":71432312,"body_markdown":"It seems `exifInterface.getDateTime()` returns a `Long`, and in this case, it returns `null`. You assign it to `long dt` which involves an [unboxing operation](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html). The compiler emits code to convert the `Long` to a `long` by calling `longValue()` on it, which throws the NPE. You can see it in your stack trace:\r\n\r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;long java.lang.Long.longValue()&#39; on a null object reference\r\n\r\nEven if you were to assign it to a `Long` first:\r\n\r\n    Long dateTime = exifInterface.getDateTime();\r\n    long dt = dateTime;\r\n\r\nit would still have to unbox it, and thus, yes, an assignment can throw a `NullPointerException`.\r\n","title":"Can an assignment statement cause a null-pointer exception?","body":"<p>It seems <code>exifInterface.getDateTime()</code> returns a <code>Long</code>, and in this case, it returns <code>null</code>. You assign it to <code>long dt</code> which involves an <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">unboxing operation</a>. The compiler emits code to convert the <code>Long</code> to a <code>long</code> by calling <code>longValue()</code> on it, which throws the NPE. You can see it in your stack trace:</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'long java.lang.Long.longValue()' on a null object reference</p>\n</blockquote>\n<p>Even if you were to assign it to a <code>Long</code> first:</p>\n<pre><code>Long dateTime = exifInterface.getDateTime();\nlong dt = dateTime;\n</code></pre>\n<p>it would still have to unbox it, and thus, yes, an assignment can throw a <code>NullPointerException</code>.</p>\n"}],"owner":{"account_id":9854759,"reputation":21,"user_id":7299619,"display_name":"Hong Son"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71432470,"answer_count":1,"score":0,"last_activity_date":1646959818,"creation_date":1646958131,"question_id":71432312,"body_markdown":"This code snippet is reading camera picture Exif metadata using ExifInterface:\r\nApparently, one particular picture has no or invalid datetime and\r\n.getDateTime() is returning null. In the code I assign it to a long, dt, and that\r\nresults in the exception that is shown below. Of course, if I un-comment the null-check\r\njust prior to the assignment, all is well.\r\n\r\nSo, I have 1 question and 1 lesson:\r\n1) I&#39;m assuming getDateTime() is really the culprit. Can an assignment cause such a exception?\r\n2) As you see, the offending line is within try/catch but it wasn&#39;t catching it because \r\nI was catching only IOException. When it was changed to Exception, it caught.\r\n\r\n\r\n   \t\t\t\tString latlong = &quot;&quot;;\r\n\t\t\t\tlong dt = 0;\r\n\t\t\t\tExifInterface exifInterface;\r\n\t\t\t\ttry {\r\n\t\t\t\t\texifInterface = new ExifInterface(pf.getAbsolutePath());\r\n\t\t\t\t\tif (exifInterface != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfloat[] latLng = new float[2];\r\n\t\t\t\t\t\tif (exifInterface.getLatLong(latLng)) { //file has exif latlong info\r\n\t\t\t\t\t\t\t//etc, latLng[0] is your latitute value and latLng[1] your longitude value\r\n\t\t\t\t\t\t\tlatlong = latLng[0] + &quot;,&quot; + latLng[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//if (exifInterface.getDateTime() != null)\r\n\t                      dt = exifInterface.getDateTime();\r\n\t\t\t\t\t\tpicInfo.comments = exifInterface.getAttribute(ExifInterface.TAG_USER_COMMENT);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;ERROR: cameraPicTask.doInBackground&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-----: null exifInterface for: &quot; + pf.getAbsolutePath());\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\r\n\r\n```\r\n    E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\r\n    Process: com.example.mypics, PID: 7912\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:920)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;long java.lang.Long.longValue()&#39; on a null object reference\r\n        at com.example.mypics.PicsActivity$cameraPicTask.doInBackground(PicsActivity.java:211)\r\n        at com.example.mypics.PicsActivity$cameraPicTask.doInBackground(PicsActivity.java:185)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:920)&#160;\r\n```\r\n","title":"Can an assignment statement cause a null-pointer exception?","body":"<p>This code snippet is reading camera picture Exif metadata using ExifInterface:\nApparently, one particular picture has no or invalid datetime and\n.getDateTime() is returning null. In the code I assign it to a long, dt, and that\nresults in the exception that is shown below. Of course, if I un-comment the null-check\njust prior to the assignment, all is well.</p>\n<p>So, I have 1 question and 1 lesson:</p>\n<ol>\n<li><p>I'm assuming getDateTime() is really the culprit. Can an assignment cause such a exception?</p>\n</li>\n<li><p>As you see, the offending line is within try/catch but it wasn't catching it because\nI was catching only IOException. When it was changed to Exception, it caught.</p>\n<pre><code>         String latlong = &quot;&quot;;\n         long dt = 0;\n         ExifInterface exifInterface;\n         try {\n             exifInterface = new ExifInterface(pf.getAbsolutePath());\n             if (exifInterface != null)\n             {\n                 float[] latLng = new float[2];\n                 if (exifInterface.getLatLong(latLng)) { //file has exif latlong info\n                     //etc, latLng[0] is your latitute value and latLng[1] your longitude value\n                     latlong = latLng[0] + &quot;,&quot; + latLng[1];\n                 }\n                 //if (exifInterface.getDateTime() != null)\n                   dt = exifInterface.getDateTime();\n                 picInfo.comments = exifInterface.getAttribute(ExifInterface.TAG_USER_COMMENT);\n             }\n             else\n             {\n                 System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;ERROR: cameraPicTask.doInBackground&quot;);\n                 System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-----: null exifInterface for: &quot; + pf.getAbsolutePath());\n             }\n         } catch (IOException e) {\n             e.printStackTrace();\n         }\n</code></pre>\n</li>\n</ol>\n<pre><code>    E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\n    Process: com.example.mypics, PID: 7912\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:920)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'long java.lang.Long.longValue()' on a null object reference\n        at com.example.mypics.PicsActivity$cameraPicTask.doInBackground(PicsActivity.java:211)\n        at com.example.mypics.PicsActivity$cameraPicTask.doInBackground(PicsActivity.java:185)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:920) \n</code></pre>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1646778283,"post_id":71402125,"comment_id":126207445,"body_markdown":"Despite some other problems with your code the most basic one is that there is no usage of your card class in the program being executed at all.","body":"Despite some other problems with your code the most basic one is that there is no usage of your card class in the program being executed at all."},{"owner":{"account_id":15594762,"reputation":945,"user_id":11250643,"display_name":"Abdulmuhaymin"},"score":0,"creation_date":1646778386,"post_id":71402125,"comment_id":126207474,"body_markdown":"You should add the if statement inside a constructor and if you don&#39;t know what is the constructor read this https://www.w3schools.com/java/java_constructors.asp","body":"You should add the if statement inside a constructor and if you don&#39;t know what is the constructor read this <a href=\"https://www.w3schools.com/java/java_constructors.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_constructors.asp</a>"},{"owner":{"account_id":23602501,"reputation":25,"user_id":17638883,"display_name":"GuandaoPrime"},"score":0,"creation_date":1646779011,"post_id":71402125,"comment_id":126207611,"body_markdown":"@JorgeCampos This is by no means all of my code, it is just the most relevant pieces I thought to share. I can paste all of it but that would be a lot.","body":"@JorgeCampos This is by no means all of my code, it is just the most relevant pieces I thought to share. I can paste all of it but that would be a lot."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1646779136,"post_id":71402125,"comment_id":126207638,"body_markdown":"Well without seeing how the two pieces fit together one can only assume what I already mentioned. At least that should be on your post.","body":"Well without seeing how the two pieces fit together one can only assume what I already mentioned. At least that should be on your post."},{"owner":{"account_id":23602501,"reputation":25,"user_id":17638883,"display_name":"GuandaoPrime"},"score":0,"creation_date":1646779361,"post_id":71402125,"comment_id":126207685,"body_markdown":"@Abdulmuhaymin Would the constructor go in my Main class? or would it go in the Card class itself. Also, there are multiple objects being created by the class Card, and the suit is dependent on each objects .suit attribute. Can I take a classes attribute as an argument for its own constructor?","body":"@Abdulmuhaymin Would the constructor go in my Main class? or would it go in the Card class itself. Also, there are multiple objects being created by the class Card, and the suit is dependent on each objects .suit attribute. Can I take a classes attribute as an argument for its own constructor?"},{"owner":{"account_id":23602501,"reputation":25,"user_id":17638883,"display_name":"GuandaoPrime"},"score":1,"creation_date":1646779608,"post_id":71402125,"comment_id":126207742,"body_markdown":"@JorgeCampos added more information, hope that helps.","body":"@JorgeCampos added more information, hope that helps."}],"answers":[{"tags":[],"owner":{"account_id":24471553,"reputation":29,"user_id":18412769,"display_name":"Morezone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646959253,"creation_date":1646778256,"answer_id":71402191,"question_id":71402125,"body_markdown":"There is a data type named Color, you might want to try setting `Color cardColor = Color.yourColor` and then using this value directly as your color with cardColor.\r\n\r\nEDIT to include solution:\r\n```\r\nif(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\r\n    Color cardColor = Colors.WHITE;\r\n} else {\r\n    Color cardColor = Colors.RED;\r\n}\r\n```\r\nYou might want to give this list a look, lot of other ressources there if you are starting out:\r\nhttps://docs.oracle.com/javase/7/docs/api/overview-summary.html","title":"Need help to run an if statement inside an object to change that objects attributes (JAVA)","body":"<p>There is a data type named Color, you might want to try setting <code>Color cardColor = Color.yourColor</code> and then using this value directly as your color with cardColor.</p>\n<p>EDIT to include solution:</p>\n<pre><code>if(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\n    Color cardColor = Colors.WHITE;\n} else {\n    Color cardColor = Colors.RED;\n}\n</code></pre>\n<p>You might want to give this list a look, lot of other ressources there if you are starting out:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/overview-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/overview-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646779722,"creation_date":1646779722,"answer_id":71402358,"question_id":71402125,"body_markdown":"You need to think more object-oriented about it:\r\n\r\nFirst create some enums, I would suggest a Suit and FaceValue enum:\r\n\r\n    public enum Suit {\r\n\tSPADE(Color.BLACK, &quot;Spades&quot;),\r\n\tCLUB(Color.BLACK, &quot;Clubs&quot;),\r\n\tHEART(Color.RED, &quot;Hearts&quot;),\r\n\tDIAMOND(Color.RED, &quot;Diamonds&quot;);\r\n\t\r\n\tprivate Color color;\r\n\tprivate String displayValue;\r\n\t\r\n\tpublic Color getColor() {\r\n\t\treturn color;\r\n\t}\r\n\t\r\n\tprivate Suit(Color color, String displayValue) {\r\n\t\tthis.color = color;\r\n\t\tthis.displayValue = displayValue;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn displayValue;\r\n\t}\r\n    }\r\n\r\n    public enum FaceValue {\r\n\tTWO(&quot;2&quot;),\r\n\tTHREE(&quot;3&quot;),\r\n\tFOUR(&quot;4&quot;),\r\n\tFIVE(&quot;5&quot;),\r\n\tSIX(&quot;6&quot;),\r\n\tSEVEN(&quot;7&quot;),\r\n\tEIGHT(&quot;8&quot;),\r\n\tNINE(&quot;9&quot;),\r\n\tTEN(&quot;10&quot;),\r\n\tJACK(&quot;J&quot;),\r\n\tQUEEN(&quot;Q&quot;),\r\n\tKING(&quot;K&quot;),\r\n\tACE(&quot;A&quot;);\r\n\t\r\n\tprivate String displayValue;\r\n\t\r\n\tprivate FaceValue(String displayValue) {\r\n\t\tthis.displayValue = displayValue;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn displayValue;\r\n\t}\r\n    }\r\n\r\nThen a card class:\r\n\r\n    public class Card {\r\n\tprivate Suit suit;\r\n\tprivate FaceValue value;\r\n\t\r\n\tpublic Card(Suit suit, FaceValue value) {\r\n\t\tthis.suit = suit;\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic Suit getSuit() {\r\n\t\treturn suit;\r\n\t}\r\n\r\n\tpublic FaceValue getValue() {\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn value + &quot; of &quot; + suit; \r\n\t}\r\n    }\r\n\r\nThen you can create a deck class with basic functionality.\r\n\r\n    public class Deck {\r\n\tprivate List&lt;Card&gt; cards = new LinkedList&lt;Card&gt;();\r\n\t\r\n\tpublic Deck() {\r\n\t\tinit();\r\n\t\tshuffle();\r\n\t}\r\n\t\r\n\tpublic void init() {\r\n\t\tcards.clear();\r\n\t\tfor (Suit suit : Suit.values()) {\r\n\t\t\tfor (FaceValue faceValue : FaceValue.values()) {\r\n\t\t\t\tcards.add(new Card(suit, faceValue));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void shuffle() {\r\n\t\tCollections.shuffle(cards);\r\n\t}\r\n\t\r\n\tpublic Card drawCard() {\r\n\t\treturn cards.remove(0);\r\n\t}\r\n\r\n\tpublic boolean hasCards() {\r\n\t\treturn !cards.isEmpty();\r\n\t}\r\n\tpublic static void main(String [] args) {\r\n\t\tDeck deck = new Deck();\r\n\t\twhile (deck.hasCards()) {\r\n\t\t\tSystem.out.println(deck.drawCard());\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nFrom there you can create games and such.  A player could have a Hand of Cards.  Then it&#39;s all just a matter of adding rules.","title":"Need help to run an if statement inside an object to change that objects attributes (JAVA)","body":"<p>You need to think more object-oriented about it:</p>\n<p>First create some enums, I would suggest a Suit and FaceValue enum:</p>\n<pre><code>public enum Suit {\nSPADE(Color.BLACK, &quot;Spades&quot;),\nCLUB(Color.BLACK, &quot;Clubs&quot;),\nHEART(Color.RED, &quot;Hearts&quot;),\nDIAMOND(Color.RED, &quot;Diamonds&quot;);\n\nprivate Color color;\nprivate String displayValue;\n\npublic Color getColor() {\n    return color;\n}\n\nprivate Suit(Color color, String displayValue) {\n    this.color = color;\n    this.displayValue = displayValue;\n}\n\npublic String toString() {\n    return displayValue;\n}\n}\n\npublic enum FaceValue {\nTWO(&quot;2&quot;),\nTHREE(&quot;3&quot;),\nFOUR(&quot;4&quot;),\nFIVE(&quot;5&quot;),\nSIX(&quot;6&quot;),\nSEVEN(&quot;7&quot;),\nEIGHT(&quot;8&quot;),\nNINE(&quot;9&quot;),\nTEN(&quot;10&quot;),\nJACK(&quot;J&quot;),\nQUEEN(&quot;Q&quot;),\nKING(&quot;K&quot;),\nACE(&quot;A&quot;);\n\nprivate String displayValue;\n\nprivate FaceValue(String displayValue) {\n    this.displayValue = displayValue;\n}\n\npublic String toString() {\n    return displayValue;\n}\n}\n</code></pre>\n<p>Then a card class:</p>\n<pre><code>public class Card {\nprivate Suit suit;\nprivate FaceValue value;\n\npublic Card(Suit suit, FaceValue value) {\n    this.suit = suit;\n    this.value = value;\n}\n\npublic Suit getSuit() {\n    return suit;\n}\n\npublic FaceValue getValue() {\n    return value;\n}\n\npublic String toString() {\n    return value + &quot; of &quot; + suit; \n}\n}\n</code></pre>\n<p>Then you can create a deck class with basic functionality.</p>\n<pre><code>public class Deck {\nprivate List&lt;Card&gt; cards = new LinkedList&lt;Card&gt;();\n\npublic Deck() {\n    init();\n    shuffle();\n}\n\npublic void init() {\n    cards.clear();\n    for (Suit suit : Suit.values()) {\n        for (FaceValue faceValue : FaceValue.values()) {\n            cards.add(new Card(suit, faceValue));\n        }\n    }\n}\n\npublic void shuffle() {\n    Collections.shuffle(cards);\n}\n\npublic Card drawCard() {\n    return cards.remove(0);\n}\n\npublic boolean hasCards() {\n    return !cards.isEmpty();\n}\npublic static void main(String [] args) {\n    Deck deck = new Deck();\n    while (deck.hasCards()) {\n        System.out.println(deck.drawCard());\n    }\n}\n}\n</code></pre>\n<p>From there you can create games and such.  A player could have a Hand of Cards.  Then it's all just a matter of adding rules.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646781479,"creation_date":1646780112,"answer_id":71402409,"question_id":71402125,"body_markdown":"Your `Card` class has a severe problem: it is not a class at all, it tries to execute code outside a method.\r\n\r\nGive it a private field called `cardDisplay` and initialize it in a constructor of `Card`. Add a method to retrieve the value of cardDisplay:\r\n\r\n``` java\r\nprivate final String cardDisplay;\r\n\r\npublic Card() {\r\n  // put all the code from your version of Card here\r\n  this.cardDisplay = cardDisplay;\r\n}\r\n\r\npublic String getCardDisplay() {\r\n  return cardDisplay;\r\n}\r\n```\r\n\r\nIf you skip the declaration in your code (that&#39;s where you specify the type of the local variable), you can even save a line with \r\n\r\n``` java\r\n  cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;\r\n```\r\n\r\nJust don&#39;t skip the declaration for real local variables that are not available as fields, like probably `cardColor`.","title":"Need help to run an if statement inside an object to change that objects attributes (JAVA)","body":"<p>Your <code>Card</code> class has a severe problem: it is not a class at all, it tries to execute code outside a method.</p>\n<p>Give it a private field called <code>cardDisplay</code> and initialize it in a constructor of <code>Card</code>. Add a method to retrieve the value of cardDisplay:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String cardDisplay;\n\npublic Card() {\n  // put all the code from your version of Card here\n  this.cardDisplay = cardDisplay;\n}\n\npublic String getCardDisplay() {\n  return cardDisplay;\n}\n</code></pre>\n<p>If you skip the declaration in your code (that's where you specify the type of the local variable), you can even save a line with</p>\n<pre class=\"lang-java prettyprint-override\"><code>  cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;\n</code></pre>\n<p>Just don't skip the declaration for real local variables that are not available as fields, like probably <code>cardColor</code>.</p>\n"},{"tags":[],"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646782317,"creation_date":1646782317,"answer_id":71402678,"question_id":71402125,"body_markdown":"You mentioned it was this code that wasn&#39;t working:\r\n\r\n```java\r\n**if(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\r\n    String cardColor = Colors.WHITE;\r\n} else {\r\n    String cardColor = Colors.RED;\r\n}**\r\n```\r\n\r\nThis code is creating a variable called `color` inside each block, but then the variable is discarded without anything being done with it. If your program compiles, even though you have the code:\r\n\r\n```java\r\nString cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;\r\n```\r\n\r\nThen it means the variable called `cardColor` that that line is accessing is not the variable you assigned a color to conditionally in the code with the if statement. The solution to the problem you&#39;re encountering right now is to identify what variable called `cardColor` is being accessed on the line with `String cardDisplay =` and ensure that that variable is the one being modified depending on the suit in your if statement blocks.","title":"Need help to run an if statement inside an object to change that objects attributes (JAVA)","body":"<p>You mentioned it was this code that wasn't working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>**if(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\n    String cardColor = Colors.WHITE;\n} else {\n    String cardColor = Colors.RED;\n}**\n</code></pre>\n<p>This code is creating a variable called <code>color</code> inside each block, but then the variable is discarded without anything being done with it. If your program compiles, even though you have the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;\n</code></pre>\n<p>Then it means the variable called <code>cardColor</code> that that line is accessing is not the variable you assigned a color to conditionally in the code with the if statement. The solution to the problem you're encountering right now is to identify what variable called <code>cardColor</code> is being accessed on the line with <code>String cardDisplay =</code> and ensure that that variable is the one being modified depending on the suit in your if statement blocks.</p>\n"}],"owner":{"account_id":23602501,"reputation":25,"user_id":17638883,"display_name":"GuandaoPrime"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71402409,"answer_count":4,"score":1,"last_activity_date":1646959253,"creation_date":1646777815,"question_id":71402125,"body_markdown":"Im not extremely high level at this and this is my first time really working with objects and classes. I am trying to make a card game and want to color the card&#39;s suit name either red or black with the Java color code things. Each card is its own object, with a suit and a number value. Heres the &quot;Card&quot; class:\r\n\r\n    \t\tpublic class Card {\r\n\tString suit = Main.generateCardSuit();\r\n\tint value = Main.generateCardValue();\r\n\r\n\t**if(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\r\n\t\tString cardColor = Colors.WHITE;\r\n\t} else {\r\n\t\tString cardColor = Colors.RED;\r\n\t}**\r\n\r\n\tString cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;}\r\nthe methods in the Main class that determine the suit and values:\r\n\r\n    ` public static String generateCardSuit() {\r\n            String cardSuit = &quot;0&quot;;\r\n            int suitDeterminer = (int) Math.ceil(Math.random() * 4);\r\n            switch (suitDeterminer) {\r\n                case 1:\r\n                    cardSuit = &quot;Spades&quot;;\r\n                    break;\r\n                case 2:\r\n                    cardSuit = &quot;Clubs&quot;;\r\n                    break;\r\n                case 3:\r\n                    cardSuit = &quot;Hearts&quot;;\r\n                    break;\r\n                case 4:\r\n                    cardSuit = &quot;Diamonds&quot;;\r\n                    break;\r\n            }\r\n            return cardSuit;\r\n        }\r\n    \r\n        public static int generateCardValue() {\r\n            int gameValue = (int) Math.ceil(Math.random() * 13+1);\r\n            return gameValue;\r\n        }`\r\nHow the Card class is used:\r\n\r\n       public static void printUserHand(ArrayList &lt; Card &gt; userHand) {\r\n        for (int i = 0; i &lt; userHand.size(); i++) {\r\n            System.out.println(i + &quot;: &quot; + userHand.get(i).cardDisplay);\r\n        }\r\n    }\r\n\t\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList &lt; Card &gt; userHand = new ArrayList &lt; Card &gt; ();\r\n        for (int i = 0; i &lt; 7; i++) {\r\n            userHand.add(new Card());\r\n        }\r\n        for (int i = 7; i &gt; 0; i--) {\r\n            Card gameCard = new Card();\r\n            System.out.println(&quot;The dealer turns up a: &quot; + gameCard.cardDisplay + &quot;\\n&quot;);\r\n...\r\n\r\nSo i need each cards color to be an attribute, but the bolded IF statement I have in the object doesnt work. Based on how my code is working, I dont know of a way that it could go in the Main class without causing a lot of other problems.\r\n\t","title":"Need help to run an if statement inside an object to change that objects attributes (JAVA)","body":"<p>Im not extremely high level at this and this is my first time really working with objects and classes. I am trying to make a card game and want to color the card's suit name either red or black with the Java color code things. Each card is its own object, with a suit and a number value. Heres the &quot;Card&quot; class:</p>\n<pre><code>        public class Card {\nString suit = Main.generateCardSuit();\nint value = Main.generateCardValue();\n\n**if(suit.equals(&quot;Spades&quot;) || suit.equals(&quot;Clubs&quot;)){\n    String cardColor = Colors.WHITE;\n} else {\n    String cardColor = Colors.RED;\n}**\n\nString cardDisplay = value + &quot;, &quot;+ cardColor + suit + Colors.RESET;}\n</code></pre>\n<p>the methods in the Main class that determine the suit and values:</p>\n<pre><code>` public static String generateCardSuit() {\n        String cardSuit = &quot;0&quot;;\n        int suitDeterminer = (int) Math.ceil(Math.random() * 4);\n        switch (suitDeterminer) {\n            case 1:\n                cardSuit = &quot;Spades&quot;;\n                break;\n            case 2:\n                cardSuit = &quot;Clubs&quot;;\n                break;\n            case 3:\n                cardSuit = &quot;Hearts&quot;;\n                break;\n            case 4:\n                cardSuit = &quot;Diamonds&quot;;\n                break;\n        }\n        return cardSuit;\n    }\n\n    public static int generateCardValue() {\n        int gameValue = (int) Math.ceil(Math.random() * 13+1);\n        return gameValue;\n    }`\n</code></pre>\n<p>How the Card class is used:</p>\n<pre><code>   public static void printUserHand(ArrayList &lt; Card &gt; userHand) {\n    for (int i = 0; i &lt; userHand.size(); i++) {\n        System.out.println(i + &quot;: &quot; + userHand.get(i).cardDisplay);\n    }\n}\n\n\npublic static void main(String[] args) {\n    ArrayList &lt; Card &gt; userHand = new ArrayList &lt; Card &gt; ();\n    for (int i = 0; i &lt; 7; i++) {\n        userHand.add(new Card());\n    }\n    for (int i = 7; i &gt; 0; i--) {\n        Card gameCard = new Card();\n        System.out.println(&quot;The dealer turns up a: &quot; + gameCard.cardDisplay + &quot;\\n&quot;);\n</code></pre>\n<p>...</p>\n<p>So i need each cards color to be an attribute, but the bolded IF statement I have in the object doesnt work. Based on how my code is working, I dont know of a way that it could go in the Main class without causing a lot of other problems.</p>\n"},{"tags":["java","xhtml","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646958880,"creation_date":1646958880,"answer_id":71432395,"question_id":71391391,"body_markdown":"We need to add support for importing a hyperlink surrounding an image.\r\n\r\nNow tracking at https://github.com/plutext/docx4j-ImportXHTML/issues/83\r\n\r\nA hyperlinked image contains an a:hlinkClick element, for example:\r\n\r\n        &lt;w:drawing&gt;\r\n          &lt;wp:inline distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;0&quot; distR=&quot;0&quot; wp14:anchorId=&quot;4FD4236C&quot; wp14:editId=&quot;010E5646&quot;&gt;\r\n            &lt;wp:docPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Diagram&amp;#xA;&amp;#xA;Description automatically generated&quot;&gt;\r\n              &lt;a:hlinkClick xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; r:id=&quot;rId4&quot;/&gt;\r\n            &lt;/wp:docPr&gt;","title":"Docx4j ImportXHTML: Hyperlink around image not working","body":"<p>We need to add support for importing a hyperlink surrounding an image.</p>\n<p>Now tracking at <a href=\"https://github.com/plutext/docx4j-ImportXHTML/issues/83\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j-ImportXHTML/issues/83</a></p>\n<p>A hyperlinked image contains an a:hlinkClick element, for example:</p>\n<pre><code>    &lt;w:drawing&gt;\n      &lt;wp:inline distT=&quot;0&quot; distB=&quot;0&quot; distL=&quot;0&quot; distR=&quot;0&quot; wp14:anchorId=&quot;4FD4236C&quot; wp14:editId=&quot;010E5646&quot;&gt;\n        &lt;wp:docPr id=&quot;1&quot; name=&quot;Picture 1&quot; descr=&quot;Diagram&amp;#xA;&amp;#xA;Description automatically generated&quot;&gt;\n          &lt;a:hlinkClick xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot; r:id=&quot;rId4&quot;/&gt;\n        &lt;/wp:docPr&gt;\n</code></pre>\n"}],"owner":{"account_id":14003473,"reputation":97,"user_id":10114335,"display_name":"Prashant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71432395,"answer_count":1,"score":0,"last_activity_date":1646958880,"creation_date":1646724479,"question_id":71391391,"body_markdown":"I want to add a image in my Word doc using docx4j lib. When click on that image i want to open a link. But not able to open the link. Also the link is visible in my document (it should be hidden as per my HTML/CSS).\r\nI am using xhtml to convert the html to openxml. \r\n\r\nMy css for the image is as follows :\r\n\r\n```\r\n  \r\n\r\n      &lt;a href=&quot;https://www.google.com&quot;&gt;\r\n          &lt;img id=&quot;custom_file_logo&quot; style=&quot;width:40px;height:20px;&quot; name=&quot;Google Logo&quot; \r\n        \t         src=&quot;https://myxyzdomain.com/image8-2.jpg&quot; \r\n                     /&gt;\r\n\r\n```\r\n\r\nMy generated doc is visible as follows :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ap8my.png\r\n\r\nI want to hide the link and want to open it after click on the image.\r\n\r\nJava code is as follows :\r\n```\r\nString htmlString = &quot;&lt;a href=\\&quot;https://www.google.com\\&quot;&gt;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;  &lt;img id=\\&quot;custom_file_logo\\&quot; style=\\&quot;width:40px;height:20px;\\&quot; name=\\&quot;Google Logo\\&quot; \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t         src=\\&quot;https://myxyzdomain.com/image8-2.jpg\\&quot; \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;             /&gt;&quot;;\r\n\t\t\t\r\n\t\t\tWordprocessingMLPackage wordPackage = WordprocessingMLPackage.createPackage();\r\n\t\t\tMainDocumentPart mainDocumentPart = wordPackage.getMainDocumentPart();\r\n\t\t\t\r\n\t\t\tXHTMLImporterImpl xHTMLImporter = new XHTMLImporterImpl(wordPackage);\r\n\t\t\tString html = convertToXhtml(htmlString);\r\n\t\t\thtml = html.replace(&quot;&amp;nbsp;&quot;, &quot;\\u00A0&quot;);\r\n\t\t\twordPackage.getMainDocumentPart().getContent().addAll(xHTMLImporter.convert(html, null));\r\n\t\t\tFile exportFile = new File(&quot;xyz.docx&quot;);\r\n\t\t\twordPackage.save(exportFile)\r\n```","title":"Docx4j ImportXHTML: Hyperlink around image not working","body":"<p>I want to add a image in my Word doc using docx4j lib. When click on that image i want to open a link. But not able to open the link. Also the link is visible in my document (it should be hidden as per my HTML/CSS).\nI am using xhtml to convert the html to openxml.</p>\n<p>My css for the image is as follows :</p>\n<pre><code>  \n\n      &lt;a href=&quot;https://www.google.com&quot;&gt;\n          &lt;img id=&quot;custom_file_logo&quot; style=&quot;width:40px;height:20px;&quot; name=&quot;Google Logo&quot; \n                     src=&quot;https://myxyzdomain.com/image8-2.jpg&quot; \n                     /&gt;\n\n</code></pre>\n<p>My generated doc is visible as follows :\n<a href=\"https://i.stack.imgur.com/ap8my.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ap8my.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to hide the link and want to open it after click on the image.</p>\n<p>Java code is as follows :</p>\n<pre><code>String htmlString = &quot;&lt;a href=\\&quot;https://www.google.com\\&quot;&gt;\\r\\n&quot;\n                    + &quot;  &lt;img id=\\&quot;custom_file_logo\\&quot; style=\\&quot;width:40px;height:20px;\\&quot; name=\\&quot;Google Logo\\&quot; \\r\\n&quot;\n                    + &quot;          src=\\&quot;https://myxyzdomain.com/image8-2.jpg\\&quot; \\r\\n&quot;\n                    + &quot;             /&gt;&quot;;\n            \n            WordprocessingMLPackage wordPackage = WordprocessingMLPackage.createPackage();\n            MainDocumentPart mainDocumentPart = wordPackage.getMainDocumentPart();\n            \n            XHTMLImporterImpl xHTMLImporter = new XHTMLImporterImpl(wordPackage);\n            String html = convertToXhtml(htmlString);\n            html = html.replace(&quot;&amp;nbsp;&quot;, &quot;\\u00A0&quot;);\n            wordPackage.getMainDocumentPart().getContent().addAll(xHTMLImporter.convert(html, null));\n            File exportFile = new File(&quot;xyz.docx&quot;);\n            wordPackage.save(exportFile)\n</code></pre>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1646959285,"post_id":71432336,"comment_id":126258808,"body_markdown":"I do not know which version is needed, but you can find older downloads here: https://archive.eclipse.org/eclipse/downloads/ just select your version then scroll down to the SWT section, for example: https://archive.eclipse.org/eclipse/downloads/drops4/R-4.6-201606061100/#SWT","body":"I do not know which version is needed, but you can find older downloads here: <a href=\"https://archive.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">archive.eclipse.org/eclipse/downloads</a> just select your version then scroll down to the SWT section, for example: <a href=\"https://archive.eclipse.org/eclipse/downloads/drops4/R-4.6-201606061100/#SWT\" rel=\"nofollow noreferrer\">archive.eclipse.org/eclipse/downloads/drops4/R-4.6-201606061&zwnj;&#8203;100/&hellip;</a>"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1646983532,"post_id":71432336,"comment_id":126262821,"body_markdown":"Eclipse 4.16 (2020-06) was the last to just use Java 8 so try the SWT from that - https://archive.eclipse.org/eclipse/downloads/drops4/R-4.16-202006040540/ But note that this won&#39;t work very well on macOS","body":"Eclipse 4.16 (2020-06) was the last to just use Java 8 so try the SWT from that - <a href=\"https://archive.eclipse.org/eclipse/downloads/drops4/R-4.16-202006040540/\" rel=\"nofollow noreferrer\">archive.eclipse.org/eclipse/downloads/drops4/&hellip;</a> But note that this won&#39;t work very well on macOS"}],"owner":{"account_id":9936459,"reputation":1,"user_id":7354653,"display_name":"tn09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646958379,"creation_date":1646958379,"question_id":71432336,"body_markdown":"I have a little problem with SWT inside my project. I have written a tool with a SWT GUI but it only runs with a Java version 11 or higher. But now it is necessary for the moment that the tool is also executable under Java 8. So I installed a Java 8 version and changed the JRE in the project settings of my tool and SWT to V8 and under Java compiler I changed the version to 1.8. Now unfortunately this error occurs, does anyone of you have an idea what I can do?\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/swt/widgets/Decorations has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat mergeDataDelivery.Main.main(Main.java:21)\r\n```\r\n\r\nI thought that I would have to search for a matching SWT version to Java 8, but unfortunately my search has been unsuccessful so far.","title":"Java 8 project but swt needs Java 11","body":"<p>I have a little problem with SWT inside my project. I have written a tool with a SWT GUI but it only runs with a Java version 11 or higher. But now it is necessary for the moment that the tool is also executable under Java 8. So I installed a Java 8 version and changed the JRE in the project settings of my tool and SWT to V8 and under Java compiler I changed the version to 1.8. Now unfortunately this error occurs, does anyone of you have an idea what I can do?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/swt/widgets/Decorations has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at mergeDataDelivery.Main.main(Main.java:21)\n</code></pre>\n<p>I thought that I would have to search for a matching SWT version to Java 8, but unfortunately my search has been unsuccessful so far.</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572977943,"creation_date":1572977943,"answer_id":58717255,"question_id":58709048,"body_markdown":"There are a few issues:\r\n\r\n    public class CustomBtn extends Button{\r\n\r\n        ...    \r\n\r\n        public ComplexObject getProperties(){\r\n            return properties\r\n        }\r\n    }\r\n\r\nSince `Node` already contains a method `getProperties` with the same number of arguments and the type returned from your method is not assignment compatible to the return type of `Node.getProperties`, you are not allowed to override the method with the one in your class. You need to choose a different name for your property.\r\n\r\n&lt;br&gt;\r\n\r\n    Map&lt;String, Object&gt; ns = getNameSpace();\r\nThe method is named `getNamespace` and it&#39;s part of `FXMLLoader`, not `Application`. You need to change this line to\r\n\r\n    Map&lt;String, Object&gt; ns = loader.getNamespace();\r\n\r\nLet&#39;s change the name of your property to `myProperty`:\r\n\r\n    public class CustomBtn extends Button{\r\n    \r\n          ...\r\n    \r\n          public void setMyProperty(ComplexObject properties){\r\n               ....\r\n          }\r\n    \r\n          public ComplexObject getMyProperty(){\r\n               ...\r\n          }\r\n    }\r\nYou can use `&lt;fx:reference&gt;` to insert the property via fxml:\r\n\r\n```xml\r\n &lt;CustomBtn text=&quot;hello&quot;&gt;\r\n   &lt;myProperty&gt;\r\n     &lt;fx:reference source=&quot;props&quot;/&gt;\r\n   &lt;myProperty&gt;\r\n &lt;/CustomBtn&gt;\r\n```\r\n\r\nAlternatively use an attribute starting with `$`:\r\n\r\n```xml\r\n &lt;CustomBtn text=&quot;hello&quot; myProperty=&quot;$props&quot; /&gt;\r\n```","title":"How to Pass complex Objects into the FXML via Namespace and FXMLLoader?","body":"<p>There are a few issues:</p>\n\n<pre><code>public class CustomBtn extends Button{\n\n    ...    \n\n    public ComplexObject getProperties(){\n        return properties\n    }\n}\n</code></pre>\n\n<p>Since <code>Node</code> already contains a method <code>getProperties</code> with the same number of arguments and the type returned from your method is not assignment compatible to the return type of <code>Node.getProperties</code>, you are not allowed to override the method with the one in your class. You need to choose a different name for your property.</p>\n\n<p><br></p>\n\n<pre><code>Map&lt;String, Object&gt; ns = getNameSpace();\n</code></pre>\n\n<p>The method is named <code>getNamespace</code> and it's part of <code>FXMLLoader</code>, not <code>Application</code>. You need to change this line to</p>\n\n<pre><code>Map&lt;String, Object&gt; ns = loader.getNamespace();\n</code></pre>\n\n<p>Let's change the name of your property to <code>myProperty</code>:</p>\n\n<pre><code>public class CustomBtn extends Button{\n\n      ...\n\n      public void setMyProperty(ComplexObject properties){\n           ....\n      }\n\n      public ComplexObject getMyProperty(){\n           ...\n      }\n}\n</code></pre>\n\n<p>You can use <code>&lt;fx:reference&gt;</code> to insert the property via fxml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;CustomBtn text=\"hello\"&gt;\n   &lt;myProperty&gt;\n     &lt;fx:reference source=\"props\"/&gt;\n   &lt;myProperty&gt;\n &lt;/CustomBtn&gt;\n</code></pre>\n\n<p>Alternatively use an attribute starting with <code>$</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;CustomBtn text=\"hello\" myProperty=\"$props\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646957811,"creation_date":1572948610,"question_id":58709048,"body_markdown":"I have a custom Component.\r\n\r\n```java\r\npublic class CustomBtn extends Button{\r\n\r\n      private ComplexObject properties;\r\n\r\n      public void setProperties(ComplexObject properties){\r\n           this.properties = properties;\r\n      }\r\n\r\n      public ComplexObject getProperties(){\r\n           return properties\r\n      }\r\n}\r\n\r\npublic class ComplexObject {\r\n    String x = &quot;hello&quot;;\r\n    int y = 42;\r\n}\r\n```\r\n\r\nAnd in the FXML I could access the component via\r\n\r\n```xml\r\n&lt;Pane xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n  &lt;children&gt;\r\n     &lt;CustomBtn text=&quot;hello&quot;&gt;\r\n       &lt;properties&gt;\r\n       &lt;!-- here I want to pass the object via namespace placeholder but I don&#39;t know how --&gt;\r\n       &lt;properties&gt;\r\n     &lt;/CustomBtn&gt;\r\n  &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\nAnd I want to pass a object into the Properties via FXML loader.\r\n\r\n```java\r\npublic class SampleAppLauncher extends Application {\r\n\r\n    public void start(Stage primaryStage){\r\n\r\n        URL val = FXView.class.getClassLoader().getResource(&quot;sample.fxml&quot;);\r\n\t\tFXMLLoader loader = new FXMLLoader(val);\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; ns = getNameSpace();\r\n\t\tComplexObject property = new ComplexObject();\r\n        property.x = &quot;Bye bye&quot;;\r\n        property.y = 420;\r\n        // Here is the Object I want to pass\r\n\t\tns.put(&quot;props&quot;, property);\r\n        Pane p = loader.load();\t\r\n        Scene s = new Scene(p);\r\n        primaryStage.setScene(s);\r\n        primaryStage.show();\r\n\r\n    }\r\n```\r\n\r\nI want to pass the Parameter with \r\n\r\n&gt;${} Anotation\r\n\r\nlike: \r\n\r\n```xml\r\n&lt;Pane xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n  &lt;children&gt;\r\n     &lt;CustomBtn text=&quot;hello&quot;&gt;\r\n       &lt;properties&gt;\r\n          ${props}\r\n       &lt;properties&gt;\r\n     &lt;/CustomBtn&gt;\r\n  &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\nis that possible?\r\n\r\nI know I could just use &quot;code behind&quot; methods like @FXMl and then set after it is loaded. But I want to understand which objects are &quot;passable&quot; to the Namespace and how do I configure &quot;more complex&quot; Objects of custom Components in FXML. \r\nIs the &quot;the Namespace Map is only for &quot;primitive values&quot;?","title":"How to Pass complex Objects into the FXML via Namespace and FXMLLoader?","body":"<p>I have a custom Component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomBtn extends Button{\n\n      private ComplexObject properties;\n\n      public void setProperties(ComplexObject properties){\n           this.properties = properties;\n      }\n\n      public ComplexObject getProperties(){\n           return properties\n      }\n}\n\npublic class ComplexObject {\n    String x = &quot;hello&quot;;\n    int y = 42;\n}\n</code></pre>\n<p>And in the FXML I could access the component via</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Pane xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n  &lt;children&gt;\n     &lt;CustomBtn text=&quot;hello&quot;&gt;\n       &lt;properties&gt;\n       &lt;!-- here I want to pass the object via namespace placeholder but I don't know how --&gt;\n       &lt;properties&gt;\n     &lt;/CustomBtn&gt;\n  &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>And I want to pass a object into the Properties via FXML loader.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleAppLauncher extends Application {\n\n    public void start(Stage primaryStage){\n\n        URL val = FXView.class.getClassLoader().getResource(&quot;sample.fxml&quot;);\n        FXMLLoader loader = new FXMLLoader(val);\n        \n        Map&lt;String, Object&gt; ns = getNameSpace();\n        ComplexObject property = new ComplexObject();\n        property.x = &quot;Bye bye&quot;;\n        property.y = 420;\n        // Here is the Object I want to pass\n        ns.put(&quot;props&quot;, property);\n        Pane p = loader.load(); \n        Scene s = new Scene(p);\n        primaryStage.setScene(s);\n        primaryStage.show();\n\n    }\n</code></pre>\n<p>I want to pass the Parameter with</p>\n<blockquote>\n<p>${} Anotation</p>\n</blockquote>\n<p>like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Pane xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n  &lt;children&gt;\n     &lt;CustomBtn text=&quot;hello&quot;&gt;\n       &lt;properties&gt;\n          ${props}\n       &lt;properties&gt;\n     &lt;/CustomBtn&gt;\n  &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>is that possible?</p>\n<p>I know I could just use &quot;code behind&quot; methods like @FXMl and then set after it is loaded. But I want to understand which objects are &quot;passable&quot; to the Namespace and how do I configure &quot;more complex&quot; Objects of custom Components in FXML.\nIs the &quot;the Namespace Map is only for &quot;primitive values&quot;?</p>\n"},{"tags":["java","android","node.js","http"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1646985395,"post_id":71432270,"comment_id":126263280,"body_markdown":"Did you allow insecure HTTP connections? By default, only HTTPS is permitted for android apps.","body":"Did you allow insecure HTTP connections? By default, only HTTPS is permitted for android apps."},{"owner":{"account_id":21561728,"reputation":11,"user_id":15896185,"display_name":"Giulia"},"score":0,"creation_date":1646996005,"post_id":71432270,"comment_id":126266935,"body_markdown":"How can I do this in API 21?","body":"How can I do this in API 21?"},{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1646997997,"post_id":71432270,"comment_id":126267696,"body_markdown":"https://stackoverflow.com/questions/51902629/how-to-allow-all-network-connection-types-http-and-https-in-android-9-pie","body":"<a href=\"https://stackoverflow.com/questions/51902629/how-to-allow-all-network-connection-types-http-and-https-in-android-9-pie\" title=\"how to allow all network connection types http and https in android 9 pie\">stackoverflow.com/questions/51902629/&hellip;</a>"},{"owner":{"account_id":21561728,"reputation":11,"user_id":15896185,"display_name":"Giulia"},"score":0,"creation_date":1646998719,"post_id":71432270,"comment_id":126267958,"body_markdown":"Nothing changed :( In addition my friend tried the same code and the same server with his pc and his phone and he managed to eneter in the onsuccess method. Maybe some of my configuration is not well setted but I don&#39;t know which one","body":"Nothing changed :( In addition my friend tried the same code and the same server with his pc and his phone and he managed to eneter in the onsuccess method. Maybe some of my configuration is not well setted but I don&#39;t know which one"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1647004331,"post_id":71432270,"comment_id":126269880,"body_markdown":"Check logcat for errors/exceptions and their stack trace.","body":"Check logcat for errors/exceptions and their stack trace."},{"owner":{"account_id":21561728,"reputation":11,"user_id":15896185,"display_name":"Giulia"},"score":0,"creation_date":1647005076,"post_id":71432270,"comment_id":126270132,"body_markdown":"I checked logat and I get the Log.d with url, then nothing. It prints me neither &quot;success&quot; nor &quot;failure&quot;. It&#39;s like it get stucked in AsyncHttpClient. My phone e my pc are using the same wifi and the server is listening at port 4000.","body":"I checked logat and I get the Log.d with url, then nothing. It prints me neither &quot;success&quot; nor &quot;failure&quot;. It&#39;s like it get stucked in AsyncHttpClient. My phone e my pc are using the same wifi and the server is listening at port 4000."},{"owner":{"account_id":21561728,"reputation":11,"user_id":15896185,"display_name":"Giulia"},"score":0,"creation_date":1647005108,"post_id":71432270,"comment_id":126270140,"body_markdown":"It&#39;s like the get request can&#39;t reach the server","body":"It&#39;s like the get request can&#39;t reach the server"}],"owner":{"account_id":21561728,"reputation":11,"user_id":15896185,"display_name":"Giulia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646957703,"creation_date":1646957703,"question_id":71432270,"body_markdown":"My project involve Android Studio for the implementation of an app running in my phone and a nodejs server. As how you can see in my app code I print the address but never enter in the function onSuccess neither onfailure. Just it get stucked in new AsyncHttpClient().get(url+beaconHash, new JsonHttpResponseHandler(). What should I do to connect my app with the server?\r\nServer code app.js:\r\n\r\n    const express = require(&#39;express&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const bodyParser = require(&#39;body-parser&#39;);\r\n    const morgan = require(&#39;morgan&#39;);\r\n    const cors = require(&quot;cors&quot;)\r\n    \r\n    // Import base routes\r\n    const indexRouter = require(&#39;./routes/index&#39;);\r\n    \r\n    \r\n    // Database configuration\r\n    const host = &#39;localhost&#39;;\r\n    const dbName = &#39;foldersdb&#39;;\r\n    \r\n    const mongoose = require(&#39;mongoose&#39;);\r\n    mongoose.set(&#39;useCreateIndex&#39;, true);\r\n    mongoose.connect(&#39;mongodb://&#39; + host + &#39;/&#39; + dbName);\r\n    \r\n    const db = mongoose.connection;\r\n    db.on(&#39;error&#39;, function () {\r\n      console.error(&#39;Connection error!&#39;)\r\n    });\r\n    db.once(&#39;open&#39;, function () {\r\n      console.log(&#39;DB connection Ready&#39;);\r\n    });\r\n    \r\n    // Init express app\r\n    const app = express();\r\n    \r\n    // Enable CORS\r\n    app.use(cors())\r\n    \r\n    // Setup logger and body parser\r\n    app.use(morgan(&#39;dev&#39;));\r\n    app.use(bodyParser.json());\r\n    \r\n    // Setup static public folder\r\n    app.use(express.static(path.join(__dirname, &#39;public&#39;)));\r\n    \r\n    // Setup base routes\r\n    app.use(&#39;/&#39;, indexRouter);\r\n    \r\n    // Catch 404 errors\r\n    app.use(function (req, res, next) {\r\n      const err = new Error(&#39;Not Found&#39;);\r\n      err.status = 404;\r\n      next(err);\r\n    });\r\n    \r\n    // Error handler\r\n    app.use(function (err, req, res, next) {\r\n      res.status(err.status || 500);\r\n      res.json({\r\n        message: err.message,\r\n        error: err\r\n      });\r\n    });\r\n    \r\n    module.exports = app;\r\n\r\nServer code www.js:\r\n\r\n    #!/usr/bin/env node\r\n    \r\n    /**\r\n     * Module dependencies.\r\n     */\r\n    \r\n    const app = require(&#39;../app&#39;);\r\n    const http = require(&#39;http&#39;);\r\n    \r\n    /**\r\n     * Get port from environment and store in Express.\r\n     */\r\n    \r\n    const port = process.env.PORT || &#39;4000&#39;;\r\n    app.set(&#39;port&#39;, port);\r\n    \r\n    /**\r\n     * Create HTTP server.\r\n     */\r\n    \r\n    const server = http.createServer(app);\r\n    \r\n    /**\r\n     * Listen on provided port, on all network interfaces.\r\n     */\r\n    \r\n    server.listen(port);\r\n    server.on(&#39;error&#39;, onError);\r\n    server.on(&#39;listening&#39;, onListening);\r\n    \r\n    module.exports.server = server;\r\n    \r\n    \r\n    /**\r\n     * Event listener for HTTP server &quot;error&quot; event.\r\n     */\r\n    function onError(error) {\r\n        if (error.syscall !== &#39;listen&#39;) {\r\n            throw error;\r\n        }\r\n    \r\n        var bind = &#39;Port &#39; + port;\r\n    \r\n        // handle specific listen errors with friendly messages\r\n        switch (error.code) {\r\n        case &#39;EACCES&#39;:\r\n            console.error(bind + &#39; requires elevated privileges&#39;);\r\n            process.exit(1);\r\n            break;\r\n        case &#39;EADDRINUSE&#39;:\r\n            console.error(bind + &#39; is already in use&#39;);\r\n            process.exit(1);\r\n            break;\r\n        default:\r\n            throw error;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Event listener for HTTP server &quot;listening&quot; event.\r\n     */\r\n    function onListening() {\r\n        var addr = server.address();\r\n        var bind = &#39;port &#39; + addr.port;\r\n        console.log(&#39;Listening on &#39; + bind);\r\n    }\r\n\r\nApp code:\r\n\r\n    private static String url = &quot;http://192.168.x.xxx:4000/&quot;; //my ipv4 address \r\n    public static final Set&lt;String&gt; DEFAULT = new HashSet&lt;String&gt;();\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_beacon_results);\r\n        Log.d(&quot;Stato:&quot;, &quot;Sono su onCreate&quot;);\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n            //actionBar.setTitle(&quot;Prova&quot;);\r\n            if(getIntent().getStringExtra(&quot;BeaconHash&quot;).equals(&quot;6472324&quot;)){\r\n                Log.d(&quot;Stato:&quot;, &quot;Sto creando la cartella&quot;);\r\n                actionBar.setTitle(&quot;Folder1&quot;);\r\n            }\r\n        }\r\n    \r\n        final View progressBar2 = findViewById(R.id.progressBar2);\r\n        String beaconHash = getIntent().getStringExtra(&quot;BeaconHash&quot;);\r\n        Log.d(&quot;Stato:&quot;, &quot;URL&quot; + &quot; &quot; + url + &quot; &quot; + &quot;beaconHash&quot; + &quot; &quot; + beaconHash);\r\n        new AsyncHttpClient().get(url+beaconHash, new JsonHttpResponseHandler() {\r\n            @Override\r\n            public void onSuccess(int statusCode, Header[] headers, JSONArray responseBody) {\r\n                Log.d(&quot;Stato:&quot;, &quot;success&quot;);\r\n                progressBar2.setVisibility(View.GONE);\r\n                showResults(responseBody);\r\n                Log.d(&quot;Risultati:&quot;, &quot;response Body:&quot; + responseBody);\r\n            }\r\n            @Override\r\n            public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\r\n                Log.d(&quot;Stato:&quot;, &quot;failure&quot;);\r\n                progressBar2.setVisibility(View.GONE);\r\n                Toast.makeText(BeaconResultsActivity.this, &quot;Error to load info&quot;, Toast.LENGTH_LONG).show();\r\n                super.onFailure(statusCode, headers, responseString, throwable);\r\n            }\r\n        });\r\n    }","title":"Why my Android Studio app can&#39;t reach my nodejs server?","body":"<p>My project involve Android Studio for the implementation of an app running in my phone and a nodejs server. As how you can see in my app code I print the address but never enter in the function onSuccess neither onfailure. Just it get stucked in new AsyncHttpClient().get(url+beaconHash, new JsonHttpResponseHandler(). What should I do to connect my app with the server?\nServer code app.js:</p>\n<pre><code>const express = require('express');\nconst path = require('path');\nconst bodyParser = require('body-parser');\nconst morgan = require('morgan');\nconst cors = require(&quot;cors&quot;)\n\n// Import base routes\nconst indexRouter = require('./routes/index');\n\n\n// Database configuration\nconst host = 'localhost';\nconst dbName = 'foldersdb';\n\nconst mongoose = require('mongoose');\nmongoose.set('useCreateIndex', true);\nmongoose.connect('mongodb://' + host + '/' + dbName);\n\nconst db = mongoose.connection;\ndb.on('error', function () {\n  console.error('Connection error!')\n});\ndb.once('open', function () {\n  console.log('DB connection Ready');\n});\n\n// Init express app\nconst app = express();\n\n// Enable CORS\napp.use(cors())\n\n// Setup logger and body parser\napp.use(morgan('dev'));\napp.use(bodyParser.json());\n\n// Setup static public folder\napp.use(express.static(path.join(__dirname, 'public')));\n\n// Setup base routes\napp.use('/', indexRouter);\n\n// Catch 404 errors\napp.use(function (req, res, next) {\n  const err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// Error handler\napp.use(function (err, req, res, next) {\n  res.status(err.status || 500);\n  res.json({\n    message: err.message,\n    error: err\n  });\n});\n\nmodule.exports = app;\n</code></pre>\n<p>Server code www.js:</p>\n<pre><code>#!/usr/bin/env node\n\n/**\n * Module dependencies.\n */\n\nconst app = require('../app');\nconst http = require('http');\n\n/**\n * Get port from environment and store in Express.\n */\n\nconst port = process.env.PORT || '4000';\napp.set('port', port);\n\n/**\n * Create HTTP server.\n */\n\nconst server = http.createServer(app);\n\n/**\n * Listen on provided port, on all network interfaces.\n */\n\nserver.listen(port);\nserver.on('error', onError);\nserver.on('listening', onListening);\n\nmodule.exports.server = server;\n\n\n/**\n * Event listener for HTTP server &quot;error&quot; event.\n */\nfunction onError(error) {\n    if (error.syscall !== 'listen') {\n        throw error;\n    }\n\n    var bind = 'Port ' + port;\n\n    // handle specific listen errors with friendly messages\n    switch (error.code) {\n    case 'EACCES':\n        console.error(bind + ' requires elevated privileges');\n        process.exit(1);\n        break;\n    case 'EADDRINUSE':\n        console.error(bind + ' is already in use');\n        process.exit(1);\n        break;\n    default:\n        throw error;\n    }\n}\n\n/**\n * Event listener for HTTP server &quot;listening&quot; event.\n */\nfunction onListening() {\n    var addr = server.address();\n    var bind = 'port ' + addr.port;\n    console.log('Listening on ' + bind);\n}\n</code></pre>\n<p>App code:</p>\n<pre><code>private static String url = &quot;http://192.168.x.xxx:4000/&quot;; //my ipv4 address \npublic static final Set&lt;String&gt; DEFAULT = new HashSet&lt;String&gt;();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_beacon_results);\n    Log.d(&quot;Stato:&quot;, &quot;Sono su onCreate&quot;);\n    ActionBar actionBar = getSupportActionBar();\n    if (actionBar != null) {\n        actionBar.setDisplayHomeAsUpEnabled(true);\n        //actionBar.setTitle(&quot;Prova&quot;);\n        if(getIntent().getStringExtra(&quot;BeaconHash&quot;).equals(&quot;6472324&quot;)){\n            Log.d(&quot;Stato:&quot;, &quot;Sto creando la cartella&quot;);\n            actionBar.setTitle(&quot;Folder1&quot;);\n        }\n    }\n\n    final View progressBar2 = findViewById(R.id.progressBar2);\n    String beaconHash = getIntent().getStringExtra(&quot;BeaconHash&quot;);\n    Log.d(&quot;Stato:&quot;, &quot;URL&quot; + &quot; &quot; + url + &quot; &quot; + &quot;beaconHash&quot; + &quot; &quot; + beaconHash);\n    new AsyncHttpClient().get(url+beaconHash, new JsonHttpResponseHandler() {\n        @Override\n        public void onSuccess(int statusCode, Header[] headers, JSONArray responseBody) {\n            Log.d(&quot;Stato:&quot;, &quot;success&quot;);\n            progressBar2.setVisibility(View.GONE);\n            showResults(responseBody);\n            Log.d(&quot;Risultati:&quot;, &quot;response Body:&quot; + responseBody);\n        }\n        @Override\n        public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\n            Log.d(&quot;Stato:&quot;, &quot;failure&quot;);\n            progressBar2.setVisibility(View.GONE);\n            Toast.makeText(BeaconResultsActivity.this, &quot;Error to load info&quot;, Toast.LENGTH_LONG).show();\n            super.onFailure(statusCode, headers, responseString, throwable);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8513743,"reputation":896,"user_id":6382968,"display_name":"MCI"},"score":1,"creation_date":1646953607,"post_id":71431722,"comment_id":126257856,"body_markdown":"Can you clarify what result you&#39;re getting that is unexpected?","body":"Can you clarify what result you&#39;re getting that is unexpected?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646954179,"post_id":71431722,"comment_id":126257942,"body_markdown":"The best option is to use an ArrayList Instead of an array. However, if you insist on using an array then you either need to trim the array once finished, or you need to pre-calculate the correct array length before constructing the array so that you don&#39;t need to trim it afterwards.","body":"The best option is to use an ArrayList Instead of an array. However, if you insist on using an array then you either need to trim the array once finished, or you need to pre-calculate the correct array length before constructing the array so that you don&#39;t need to trim it afterwards."},{"owner":{"account_id":24520471,"reputation":1,"user_id":18433586,"display_name":"Zakhar"},"score":0,"creation_date":1646954684,"post_id":71431722,"comment_id":126258031,"body_markdown":"For example a have array:\n2 6 4 7  \n1 3 7 5\n3 1 7 8\n2 9 9 0\n4 4 6 6 \n\neven numbers:\n2 6 4\n8\n2 0\n4 4 6 6 \n\nso you can see that in first array was :\n5 rows by 4 columns\nand now i need to do new 2D array with\n\n4 rows with different length","body":"For example a have array: 2 6 4 7   1 3 7 5 3 1 7 8 2 9 9 0 4 4 6 6   even numbers: 2 6 4 8 2 0 4 4 6 6   so you can see that in first array was : 5 rows by 4 columns and now i need to do new 2D array with  4 rows with different length"}],"answers":[{"tags":[],"owner":{"account_id":20315541,"reputation":71,"user_id":14901513,"display_name":"Emin-35"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646954752,"creation_date":1646954752,"answer_id":71431961,"question_id":71431722,"body_markdown":"I wanted to help but didn&#39;t understand the question well\r\nLet&#39;s say your random numbers are 3x3 for n and m\r\n\r\nAnd let&#39;s say your array &quot;arr&quot; is\r\n\r\n    [1,2,3]\r\n    [4,5,6]\r\n    [7,8,9}\r\n\r\nAnd you want to be your array &quot;evenMatrix&quot; to be\r\n\r\n    [2,4,6,8] n = 1 and m = 4\r\n\r\n      or \r\n\r\n    [2,4]  n = 2 and m = 2\r\n    [6,8]\r\n\r\nNot n = 3 m = 3 just like in the array &quot;arr&quot;\r\n\r\n    [2,4,6]\r\n    [8,0,0]\r\n\r\nis that right? If so you can check n and m before creating the &quot;evenArray&quot; like\r\n\r\n        int[][] evenMatrix;\r\n        if(n&lt;m)\r\n            evenMatrix = new int[m][m];\r\n        \r\n        else\r\n            evenMatrix = new int[n][n];\r\n\r\ncreating a square matrix but this still has problems let&#39;s say your random numbers are n = 5 and m = 2 so this code will create a 5x5 matrix and fill with even numbers and let&#39;s say your randomize arr array doesn&#39;t have that many even numbers are so it will become something ugly","title":"I need to get all even numbers from random length 2D Array and make another 2D array with even numbers I&#39;ve got","body":"<p>I wanted to help but didn't understand the question well\nLet's say your random numbers are 3x3 for n and m</p>\n<p>And let's say your array &quot;arr&quot; is</p>\n<pre><code>[1,2,3]\n[4,5,6]\n[7,8,9}\n</code></pre>\n<p>And you want to be your array &quot;evenMatrix&quot; to be</p>\n<pre><code>[2,4,6,8] n = 1 and m = 4\n\n  or \n\n[2,4]  n = 2 and m = 2\n[6,8]\n</code></pre>\n<p>Not n = 3 m = 3 just like in the array &quot;arr&quot;</p>\n<pre><code>[2,4,6]\n[8,0,0]\n</code></pre>\n<p>is that right? If so you can check n and m before creating the &quot;evenArray&quot; like</p>\n<pre><code>    int[][] evenMatrix;\n    if(n&lt;m)\n        evenMatrix = new int[m][m];\n    \n    else\n        evenMatrix = new int[n][n];\n</code></pre>\n<p>creating a square matrix but this still has problems let's say your random numbers are n = 5 and m = 2 so this code will create a 5x5 matrix and fill with even numbers and let's say your randomize arr array doesn't have that many even numbers are so it will become something ugly</p>\n"},{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646957132,"creation_date":1646955235,"answer_id":71432016,"question_id":71431722,"body_markdown":"The easy solution here is to use an `ArrayList`, however, we can also create variable length rows using the following, note the comments below explaining the process, but the key is this `int[][] evenMatrix = new int[n][];`, note how we only specify the column size, not the row size.\r\n\r\nComplete code:\r\n\r\n    System.out.println(&quot;***** EvenMatrix *****&quot;);\r\n\t//Create 3D array\r\n    int[][] evenMatrix = new int[n][];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n\r\n\t\t//Create inner row that we will trim later\r\n        int[] evenElements = new int[m];\r\n\r\n\t\t//Create a counter to track variable locations\r\n\t\tint counter = 0;\r\n        for (int j = 0; j &lt; arr[i].length; j++) {\r\n            if (arr[i][j] % 2 != 0) {\r\n                continue;\r\n            } else{\r\n                evenElements[counter] = arr[i][j];\r\n                //Incriment counter\r\n\t\t\t    counter++;\r\n\t\t    }\r\n            System.out.print(arr[i][j] + &quot; &quot;);\r\n         }\r\n\r\n         System.out.println();\r\n\t\t //Trim the inner array to the correct length that we know from the `counter` \r\n\t\tevenElements = Arrays.copyOf(evenElements, counter);\r\n\r\n\t\t//Assign the inner row of variable length to the 3D matrix\r\n\t\tevenMatrix[i] = evenElements;\r\n    }\r\n\t//Print the result\r\n    System.out.println(Arrays.deepToString(evenMatrix));\r\n\r\nExample output of the above code:\r\n\r\n    1 11 15 0 15 18 10 \r\n    6 12 0 13 15 15 3 \r\n    10 13 6 1 12 4 12 \r\n    10 7 12 8 19 4 6 \r\n    5 10 4 12 4 5 5 \r\n    \r\n    ***** EvenMatrix *****\r\n    0 18 10 \r\n    6 12 0 \r\n    10 6 12 4 12 \r\n    10 12 8 4 6 \r\n    10 4 12 4 \r\n    [[0, 18, 10], [6, 12, 0], [10, 6, 12, 4, 12], [10, 12, 8, 4, 6], [10, 4, 12, 4]]","title":"I need to get all even numbers from random length 2D Array and make another 2D array with even numbers I&#39;ve got","body":"<p>The easy solution here is to use an <code>ArrayList</code>, however, we can also create variable length rows using the following, note the comments below explaining the process, but the key is this <code>int[][] evenMatrix = new int[n][];</code>, note how we only specify the column size, not the row size.</p>\n<p>Complete code:</p>\n<pre><code>System.out.println(&quot;***** EvenMatrix *****&quot;);\n//Create 3D array\nint[][] evenMatrix = new int[n][];\nfor (int i = 0; i &lt; arr.length; i++) {\n\n    //Create inner row that we will trim later\n    int[] evenElements = new int[m];\n\n    //Create a counter to track variable locations\n    int counter = 0;\n    for (int j = 0; j &lt; arr[i].length; j++) {\n        if (arr[i][j] % 2 != 0) {\n            continue;\n        } else{\n            evenElements[counter] = arr[i][j];\n            //Incriment counter\n            counter++;\n        }\n        System.out.print(arr[i][j] + &quot; &quot;);\n     }\n\n     System.out.println();\n     //Trim the inner array to the correct length that we know from the `counter` \n    evenElements = Arrays.copyOf(evenElements, counter);\n\n    //Assign the inner row of variable length to the 3D matrix\n    evenMatrix[i] = evenElements;\n}\n//Print the result\nSystem.out.println(Arrays.deepToString(evenMatrix));\n</code></pre>\n<p>Example output of the above code:</p>\n<pre><code>1 11 15 0 15 18 10 \n6 12 0 13 15 15 3 \n10 13 6 1 12 4 12 \n10 7 12 8 19 4 6 \n5 10 4 12 4 5 5 \n\n***** EvenMatrix *****\n0 18 10 \n6 12 0 \n10 6 12 4 12 \n10 12 8 4 6 \n10 4 12 4 \n[[0, 18, 10], [6, 12, 0], [10, 6, 12, 4, 12], [10, 12, 8, 4, 6], [10, 4, 12, 4]]\n</code></pre>\n"}],"owner":{"account_id":24520471,"reputation":1,"user_id":18433586,"display_name":"Zakhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1646957132,"creation_date":1646952869,"question_id":71431722,"body_markdown":"My Java code get all numbers I need, but every row in new array have length like in old array. How to make array with different row length only for numbers I&#39;ve got?\r\n\r\nPlease check for my code: \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Help {\r\n    public static void main(String[] args) {\r\n        Random random = new Random();\r\n        int n = random.nextInt(10);\r\n        int m = random.nextInt(10);\r\n        if (n &gt; 0 &amp;&amp; m &gt; 0) {\r\n            int[][] arr = new int[n][m];\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                for (int j = 0; j &lt; arr[i].length; j++) {\r\n                    arr[i][j] = random.nextInt(20);\r\n                    System.out.print(arr[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            System.out.println();\r\n            System.out.println(&quot;***** EvenMatrix *****&quot;);\r\n            int[][] evenMatrix = new int[n][m];\r\n            int evenElement = 0;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                for (int j = 0; j &lt; arr[i].length; j++) {\r\n                    if (arr[i][j] % 2 != 0) {\r\n                        continue;\r\n                    } else\r\n                        evenElement = arr[i][j];\r\n                    for (int k = 0; k &lt; arr[i].length; k++) {\r\n                        evenMatrix[i][j] = evenElement;\r\n                    }\r\n                    System.out.print(evenMatrix[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n\r\n            }\r\n            System.out.println(Arrays.deepToString(evenMatrix));\r\n\r\n        } else {\r\n            System.out.println(&quot;Incorrect array length! Try again!&quot;);\r\n            System.exit(0);\r\n\r\n        }\r\n    }\r\n}","title":"I need to get all even numbers from random length 2D Array and make another 2D array with even numbers I&#39;ve got","body":"<p>My Java code get all numbers I need, but every row in new array have length like in old array. How to make array with different row length only for numbers I've got?</p>\n<p>Please check for my code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Help {\n    public static void main(String[] args) {\n        Random random = new Random();\n        int n = random.nextInt(10);\n        int m = random.nextInt(10);\n        if (n &gt; 0 &amp;&amp; m &gt; 0) {\n            int[][] arr = new int[n][m];\n            for (int i = 0; i &lt; arr.length; i++) {\n                for (int j = 0; j &lt; arr[i].length; j++) {\n                    arr[i][j] = random.nextInt(20);\n                    System.out.print(arr[i][j] + &quot; &quot;);\n                }\n                System.out.println();\n            }\n            System.out.println();\n            System.out.println(&quot;***** EvenMatrix *****&quot;);\n            int[][] evenMatrix = new int[n][m];\n            int evenElement = 0;\n            for (int i = 0; i &lt; arr.length; i++) {\n                for (int j = 0; j &lt; arr[i].length; j++) {\n                    if (arr[i][j] % 2 != 0) {\n                        continue;\n                    } else\n                        evenElement = arr[i][j];\n                    for (int k = 0; k &lt; arr[i].length; k++) {\n                        evenMatrix[i][j] = evenElement;\n                    }\n                    System.out.print(evenMatrix[i][j] + &quot; &quot;);\n                }\n                System.out.println();\n\n            }\n            System.out.println(Arrays.deepToString(evenMatrix));\n\n        } else {\n            System.out.println(&quot;Incorrect array length! Try again!&quot;);\n            System.exit(0);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","sorting","arraylist"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646934644,"creation_date":1646934644,"answer_id":71428639,"question_id":71428492,"body_markdown":"Try this:\r\n\r\n    List&lt;Integer[]&gt; A = new ArrayList&lt;&gt;();\r\n\tA.add(new Integer[] {0,1});\r\n\tA.add(new Integer[] {5,40});\r\n\tA.add(new Integer[] {7,5});\r\n\t\t\r\n\tA.sort(Comparator.comparingInt(a -&gt; a[1]));\r\n\t\t\r\n\tfor (Integer[] a : A) {\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}","title":"Easy sort list 2D by column","body":"<p>Try this:</p>\n<pre><code>List&lt;Integer[]&gt; A = new ArrayList&lt;&gt;();\nA.add(new Integer[] {0,1});\nA.add(new Integer[] {5,40});\nA.add(new Integer[] {7,5});\n    \nA.sort(Comparator.comparingInt(a -&gt; a[1]));\n    \nfor (Integer[] a : A) {\n    System.out.println(Arrays.toString(a));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646935353,"creation_date":1646934759,"answer_id":71428666,"question_id":71428492,"body_markdown":"You can simply do:\r\n\r\n    list.sort(Comparator.comparingInt(arr -&gt; arr[1]));\r\n\r\nor you can also do:\r\n\r\n    Collections.sort(list, Comparator.comparingInt(arr -&gt; arr[1]));\r\n\r\nIf you want to sort into a new `List&lt;int[]&gt;` you can use `stream`:\r\n\r\n    List&lt;int[]&gt; listSorted = list.stream()\r\n            .sorted(Comparator.comparingInt(arr -&gt; arr[1]))\r\n            .toList();","title":"Easy sort list 2D by column","body":"<p>You can simply do:</p>\n<pre><code>list.sort(Comparator.comparingInt(arr -&gt; arr[1]));\n</code></pre>\n<p>or you can also do:</p>\n<pre><code>Collections.sort(list, Comparator.comparingInt(arr -&gt; arr[1]));\n</code></pre>\n<p>If you want to sort into a new <code>List&lt;int[]&gt;</code> you can use <code>stream</code>:</p>\n<pre><code>List&lt;int[]&gt; listSorted = list.stream()\n        .sorted(Comparator.comparingInt(arr -&gt; arr[1]))\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646934820,"creation_date":1646934820,"answer_id":71428678,"question_id":71428492,"body_markdown":"        for (int i = 0; i &lt; A.size(); i++) {\r\n            int[] temp = A.get(i);\r\n            for (int j = i + 1; j &lt; A.size(); j++) {\r\n                int[] temp2 = A.get(j);\r\n                if (temp[1] &gt; temp2[1]) {\r\n                    A.set(i, temp2);\r\n                    A.set(j, temp);\r\n                }\r\n            }\r\n        }","title":"Easy sort list 2D by column","body":"<pre><code>    for (int i = 0; i &lt; A.size(); i++) {\n        int[] temp = A.get(i);\n        for (int j = i + 1; j &lt; A.size(); j++) {\n            int[] temp2 = A.get(j);\n            if (temp[1] &gt; temp2[1]) {\n                A.set(i, temp2);\n                A.set(j, temp);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14505566,"reputation":3,"user_id":10477439,"display_name":"CrazySearcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71428666,"answer_count":3,"score":-1,"last_activity_date":1646956747,"creation_date":1646933922,"question_id":71428492,"body_markdown":"I&#39;m quiet new in Java data manipulation so I need some help if someone have a some good tips. Actually, I want just to find a easy way to sort a 2D list.\r\n\r\nI create a list like this:\r\n\r\n    List&lt;int[]&gt; A = new ArrayList&lt;int[]&gt;();\r\n    A.add(new int[] {0,1});\r\n    A.add(new int[] {5,40});\r\n    A.add(new int[] {7,5});\r\n\r\nAnd then I want to have a result sorted by the second element like:\r\n\r\n    0 -&gt; 1\r\n    7 -&gt; 5\r\n    5 -&gt; 40.\r\n\r\nI tried something like `Arrays.sort(A.toArray(), (int[]a, int[]b) -&gt; a[0] - b[0]);` but it doesn&#39;t work.\r\n\r\nIs there a simple solution to do that sort list?","title":"Easy sort list 2D by column","body":"<p>I'm quiet new in Java data manipulation so I need some help if someone have a some good tips. Actually, I want just to find a easy way to sort a 2D list.</p>\n<p>I create a list like this:</p>\n<pre><code>List&lt;int[]&gt; A = new ArrayList&lt;int[]&gt;();\nA.add(new int[] {0,1});\nA.add(new int[] {5,40});\nA.add(new int[] {7,5});\n</code></pre>\n<p>And then I want to have a result sorted by the second element like:</p>\n<pre><code>0 -&gt; 1\n7 -&gt; 5\n5 -&gt; 40.\n</code></pre>\n<p>I tried something like <code>Arrays.sort(A.toArray(), (int[]a, int[]b) -&gt; a[0] - b[0]);</code> but it doesn't work.</p>\n<p>Is there a simple solution to do that sort list?</p>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1646956004,"post_id":71432057,"comment_id":126258256,"body_markdown":"[1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers](https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#beans-autowired-annotation-qualifiers) Documentation is always the way to go","body":"<a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#beans-autowired-annotation-qualifiers\" rel=\"nofollow noreferrer\">1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers</a> Documentation is always the way to go"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":1,"creation_date":1646957954,"post_id":71432057,"comment_id":126258592,"body_markdown":"By default spring uses the class name with the first letter lowercase for the bean name. So if you have two different implementations it can easily pick which one as they will have different class names. If you have two beans registered with the same bean name and attempt to inject it you will get an error of multiple bean definitions found and will have to specify an @Qualifier","body":"By default spring uses the class name with the first letter lowercase for the bean name. So if you have two different implementations it can easily pick which one as they will have different class names. If you have two beans registered with the same bean name and attempt to inject it you will get an error of multiple bean definitions found and will have to specify an @Qualifier"}],"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646955630,"creation_date":1646955630,"question_id":71432057,"body_markdown":"I see in our codebase that we&#39;re directly injecting dependencies in the constructor instead of using `@Autowired`. My question is - how does Spring determine which dependency to inject when there are multiple implementations? Here&#39;s some sample code:   \r\n\r\n\r\n      public class UserDetailsService {\r\n        private final RestTemplate restTemplate;\r\n        \r\n        public UserDetailsService(RestTemplate restTemplate) {\r\n         this.restTemplate = restTemplate;\r\n        }\r\n\r\nLet&#39;s say there are 2 different custom `RestTemplate` configuration annotated classes returning 2 different variations of it. Does Spring favor one over the other or does it randomly pick one implementation and goes with it? I understand that we can use `@Autowired` with `@Qualifier` to choose our preference but what is Spring&#39;s default preference or if there is any at all? ","title":"Given multiple implementations how does Spring decide which implementation to inject?","body":"<p>I see in our codebase that we're directly injecting dependencies in the constructor instead of using <code>@Autowired</code>. My question is - how does Spring determine which dependency to inject when there are multiple implementations? Here's some sample code:</p>\n<pre><code>  public class UserDetailsService {\n    private final RestTemplate restTemplate;\n    \n    public UserDetailsService(RestTemplate restTemplate) {\n     this.restTemplate = restTemplate;\n    }\n</code></pre>\n<p>Let's say there are 2 different custom <code>RestTemplate</code> configuration annotated classes returning 2 different variations of it. Does Spring favor one over the other or does it randomly pick one implementation and goes with it? I understand that we can use <code>@Autowired</code> with <code>@Qualifier</code> to choose our preference but what is Spring's default preference or if there is any at all?</p>\n"},{"tags":["java","immutability","dto","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646954391,"creation_date":1646953906,"answer_id":71431846,"question_id":71429688,"body_markdown":"It is not acceptable you will lose the immutability of the object. With immutable classes, we can’t modify the state but must create a new instance with the mutated state. \r\n&lt;br&gt;The builder pattern is very useful in this case.\r\n&lt;br&gt;Example:\r\n```java\r\nAccountCreateDto existingImmutableDTO = new AccountCreateDto(&quot;name&quot;, 1L, &quot;name@aaa&quot;, LocalDate.now(), &quot;Address&quot;, null, null, null, null, null, null );\r\n        \r\n//change state of imuttable object, create new instance via builder\r\nAccountCreateDto modifiedImmutableDTO = new AccountCreateDtoBuilder(existingImmutableDTO).setAccountOpeningDate(LocalDate.now()).setInstallmentPaidDate(LocalDate.now()).build();\r\n```\r\n\r\n```java\r\npublic class AccountCreateDtoBuilder {\r\n    private String name;\r\n    private Long accountNo;\r\n    private String email;\r\n    private LocalDate dob;\r\n    private String address;\r\n    private Long phone;\r\n    private Integer amount;\r\n    private LocalDate accountOpeningDate;\r\n    private Integer installmentAmount;\r\n    private Integer totalAmount;\r\n    private LocalDate installmentPaidDate;\r\n\r\n    public AccountCreateDtoBuilder() {\r\n        \r\n    }\r\n\r\n    public AccountCreateDtoBuilder(AccountCreateDto accountCreateDto) {\r\n        this.name = accountCreateDto.getName();\r\n        this.accountNo = accountCreateDto.getAccountNo();\r\n        this.email = accountCreateDto.getEmail();\r\n        this.dob = accountCreateDto.getDob();\r\n        this.address = accountCreateDto.getAddress();\r\n        this.phone = accountCreateDto.getPhone();\r\n        this.amount = accountCreateDto.getAmount();\r\n        this.accountOpeningDate = accountCreateDto.getAccountOpeningDate();\r\n        this.installmentAmount = accountCreateDto.getInstallmentAmount();\r\n        this.totalAmount = accountCreateDto.getTotalAmount();\r\n        this.installmentPaidDate = accountCreateDto.getInstallmentPaidDate();\r\n    }\r\n\r\n    public AccountCreateDto build() {\r\n        return new AccountCreateDto(name, accountNo, email, dob, address, phone, amount, accountOpeningDate, installmentAmount, totalAmount, installmentPaidDate);\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setAccountNo(Long accountNo) {\r\n        this.accountNo = accountNo;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setEmail(String email) {\r\n        this.email = email;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setDob(LocalDate dob) {\r\n        this.dob = dob;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setAddress(String address) {\r\n        this.address = address;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setPhone(Long phone) {\r\n        this.phone = phone;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setAmount(Integer amount) {\r\n        this.amount = amount;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setAccountOpeningDate(LocalDate accountOpeningDate) {\r\n        this.accountOpeningDate = accountOpeningDate;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setInstallmentAmount(Integer installmentAmount) {\r\n        this.installmentAmount = installmentAmount;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setTotalAmount(Integer totalAmount) {\r\n        this.totalAmount = totalAmount;\r\n        return this;\r\n    }\r\n\r\n    public AccountCreateDtoBuilder setInstallmentPaidDate(LocalDate installmentPaidDate) {\r\n        this.installmentPaidDate = installmentPaidDate;\r\n        return this;\r\n    }\r\n}\r\n\r\n```","title":"Setter in DTO just for integration testing?","body":"<p>It is not acceptable you will lose the immutability of the object. With immutable classes, we can’t modify the state but must create a new instance with the mutated state.\n<br>The builder pattern is very useful in this case.\n<br>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AccountCreateDto existingImmutableDTO = new AccountCreateDto(&quot;name&quot;, 1L, &quot;name@aaa&quot;, LocalDate.now(), &quot;Address&quot;, null, null, null, null, null, null );\n        \n//change state of imuttable object, create new instance via builder\nAccountCreateDto modifiedImmutableDTO = new AccountCreateDtoBuilder(existingImmutableDTO).setAccountOpeningDate(LocalDate.now()).setInstallmentPaidDate(LocalDate.now()).build();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountCreateDtoBuilder {\n    private String name;\n    private Long accountNo;\n    private String email;\n    private LocalDate dob;\n    private String address;\n    private Long phone;\n    private Integer amount;\n    private LocalDate accountOpeningDate;\n    private Integer installmentAmount;\n    private Integer totalAmount;\n    private LocalDate installmentPaidDate;\n\n    public AccountCreateDtoBuilder() {\n        \n    }\n\n    public AccountCreateDtoBuilder(AccountCreateDto accountCreateDto) {\n        this.name = accountCreateDto.getName();\n        this.accountNo = accountCreateDto.getAccountNo();\n        this.email = accountCreateDto.getEmail();\n        this.dob = accountCreateDto.getDob();\n        this.address = accountCreateDto.getAddress();\n        this.phone = accountCreateDto.getPhone();\n        this.amount = accountCreateDto.getAmount();\n        this.accountOpeningDate = accountCreateDto.getAccountOpeningDate();\n        this.installmentAmount = accountCreateDto.getInstallmentAmount();\n        this.totalAmount = accountCreateDto.getTotalAmount();\n        this.installmentPaidDate = accountCreateDto.getInstallmentPaidDate();\n    }\n\n    public AccountCreateDto build() {\n        return new AccountCreateDto(name, accountNo, email, dob, address, phone, amount, accountOpeningDate, installmentAmount, totalAmount, installmentPaidDate);\n    }\n\n    public AccountCreateDtoBuilder setName(String name) {\n        this.name = name;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setAccountNo(Long accountNo) {\n        this.accountNo = accountNo;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setDob(LocalDate dob) {\n        this.dob = dob;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setAddress(String address) {\n        this.address = address;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setPhone(Long phone) {\n        this.phone = phone;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setAmount(Integer amount) {\n        this.amount = amount;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setAccountOpeningDate(LocalDate accountOpeningDate) {\n        this.accountOpeningDate = accountOpeningDate;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setInstallmentAmount(Integer installmentAmount) {\n        this.installmentAmount = installmentAmount;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setTotalAmount(Integer totalAmount) {\n        this.totalAmount = totalAmount;\n        return this;\n    }\n\n    public AccountCreateDtoBuilder setInstallmentPaidDate(LocalDate installmentPaidDate) {\n        this.installmentPaidDate = installmentPaidDate;\n        return this;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3074580,"reputation":597,"user_id":2604307,"accept_rate":50,"display_name":"tyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71431846,"answer_count":1,"score":1,"last_activity_date":1646954391,"creation_date":1646940155,"question_id":71429688,"body_markdown":"I couldn&#39;t find the info I&#39;m looking for hence posting here for suggestion and getting to know better approach.\r\n\r\nI have an immutable DTO object like:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import java.time.LocalDate;\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class AccountCreateDto {\r\n        String name;\r\n        Long accountNo;\r\n        String email;\r\n        LocalDate dob;\r\n        String address;\r\n        Long phone;\r\n        Integer amount;\r\n        LocalDate accountOpeningDate;\r\n        Integer installmentAmount;\r\n        Integer totalAmount;\r\n        LocalDate installmentPaidDate;\r\n    \r\n        @JsonCreator\r\n        public AccountCreateDto(\r\n                @JsonProperty(&quot;name&quot;) String name,\r\n                @JsonProperty(&quot;accountNo&quot;) Long accountNo,\r\n                @JsonProperty(&quot;email&quot;) String email,\r\n                @JsonProperty(&quot;dob&quot;) LocalDate dob,\r\n                @JsonProperty(&quot;address&quot;) String address,\r\n                @JsonProperty(&quot;phone&quot;) Long phone,\r\n                @JsonProperty(&quot;amount&quot;) Integer amount,\r\n                @JsonProperty(&quot;accountOpeningDate&quot;) LocalDate accountOpeningDate,\r\n                @JsonProperty(&quot;installmentAmount&quot;) Integer installmentAmount,\r\n                @JsonProperty(&quot;totalAmount&quot;) Integer totalAmount,\r\n                @JsonProperty(&quot;installmentPaidDate&quot;) LocalDate installmentPaidDate\r\n        ) {\r\n            this.name = name;\r\n            this.accountNo = accountNo;\r\n            this.email = email;\r\n            this.dob = dob;\r\n            this.address = address;\r\n            this.phone = phone;\r\n            this.amount = amount;\r\n            this.accountOpeningDate = accountOpeningDate;\r\n            this.installmentAmount = installmentAmount;\r\n            this.totalAmount = totalAmount;\r\n            this.installmentPaidDate = installmentPaidDate;\r\n        }\r\n        // removing getters for brevity\r\n    }\r\n\r\nNow I&#39;m working on an integration test with testcontainer where I want the ```accountOpeningDate``` and ```installmentPaidDate``` to be dynamic value hence in order to set these values from Integration Tests, is it a good idea to add only 2 setters to this DTO which is only to be used for Integration Tests like below?\r\n\r\n```\r\n    public void setAccountOpeningDate(LocalDate accountOpeningDate) {\r\n        this.accountOpeningDate = accountOpeningDate;\r\n    }\r\n\r\n    public void setInstallmentPaidDate(LocalDate installmentPaidDate) {\r\n        this.installmentPaidDate = installmentPaidDate;\r\n    }\r\n```\r\n\r\nOr is there a better approach than this? Looking for recommendations.\r\n\r\nTA","title":"Setter in DTO just for integration testing?","body":"<p>I couldn't find the info I'm looking for hence posting here for suggestion and getting to know better approach.</p>\n<p>I have an immutable DTO object like:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.time.LocalDate;\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class AccountCreateDto {\n    String name;\n    Long accountNo;\n    String email;\n    LocalDate dob;\n    String address;\n    Long phone;\n    Integer amount;\n    LocalDate accountOpeningDate;\n    Integer installmentAmount;\n    Integer totalAmount;\n    LocalDate installmentPaidDate;\n\n    @JsonCreator\n    public AccountCreateDto(\n            @JsonProperty(&quot;name&quot;) String name,\n            @JsonProperty(&quot;accountNo&quot;) Long accountNo,\n            @JsonProperty(&quot;email&quot;) String email,\n            @JsonProperty(&quot;dob&quot;) LocalDate dob,\n            @JsonProperty(&quot;address&quot;) String address,\n            @JsonProperty(&quot;phone&quot;) Long phone,\n            @JsonProperty(&quot;amount&quot;) Integer amount,\n            @JsonProperty(&quot;accountOpeningDate&quot;) LocalDate accountOpeningDate,\n            @JsonProperty(&quot;installmentAmount&quot;) Integer installmentAmount,\n            @JsonProperty(&quot;totalAmount&quot;) Integer totalAmount,\n            @JsonProperty(&quot;installmentPaidDate&quot;) LocalDate installmentPaidDate\n    ) {\n        this.name = name;\n        this.accountNo = accountNo;\n        this.email = email;\n        this.dob = dob;\n        this.address = address;\n        this.phone = phone;\n        this.amount = amount;\n        this.accountOpeningDate = accountOpeningDate;\n        this.installmentAmount = installmentAmount;\n        this.totalAmount = totalAmount;\n        this.installmentPaidDate = installmentPaidDate;\n    }\n    // removing getters for brevity\n}\n</code></pre>\n<p>Now I'm working on an integration test with testcontainer where I want the <code>accountOpeningDate</code> and <code>installmentPaidDate</code> to be dynamic value hence in order to set these values from Integration Tests, is it a good idea to add only 2 setters to this DTO which is only to be used for Integration Tests like below?</p>\n<pre><code>    public void setAccountOpeningDate(LocalDate accountOpeningDate) {\n        this.accountOpeningDate = accountOpeningDate;\n    }\n\n    public void setInstallmentPaidDate(LocalDate installmentPaidDate) {\n        this.installmentPaidDate = installmentPaidDate;\n    }\n</code></pre>\n<p>Or is there a better approach than this? Looking for recommendations.</p>\n<p>TA</p>\n"},{"tags":["java","jersey-client","yelp"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548466605,"creation_date":1548280597,"answer_id":54336308,"question_id":54328619,"body_markdown":"You aren&#39;t even making a request. You need to use one of the methods on the [`WebResource.Builder`][1]. Once you call `header()` on the `WebResource`, you get back a `WebResource.Builder`. To make the API call, you need to use a method like `get()`, `post()`, `put()`, etc. Pass `ClientResponse.class` as the argument so you get back a `ClientResponse`. The you can check the status on the `ClientResponse`. If the status is ok, then call `response.getEntity(POJO.class)`, where `POJO.class` is your own model class representation of the Yelp JSON data. Something like\r\n\r\n    ClientResponse response = webResource\r\n            .header(&quot;Authorization&quot;, &quot;Bearer My_Key&quot;)\r\n            .get(ClientResponse.class);\r\n    if (response.getStatus() == 200) {\r\n        YelpModel model = response.getEntity(YelpModel.class);\r\n    }\r\n\r\nYou need to make sure you have the `jersey-json` dependency and configure the JSON POJO feature with the client\r\n\r\n    ClientConfig clientConfig = new DefaultClientConfig();              \r\n    clientConfig.getFeatures().put(JSONConfiguration.FEATURE_POJO_MAPPING, Boolean.TRUE); \r\n    Client client = Client.create(clientConfig);\r\n\r\n`YelpModel` is your custom POJO class that models the Yelp JSON. If you don&#39;t know how to make this class, then you might need to go over some Jackson tutorials on how to map JSON to Java objects.\r\n\r\n\r\n[1]: http://javadox.com/com.sun.jersey/jersey-bundle/1.18/com/sun/jersey/api/client/WebResource.Builder.html\r\n[2]: http://javadox.com/com.sun.jersey/jersey-bundle/1.18/com/sun/jersey/api/client/WebResource.html","title":"Yelp API calls using Jersey REST Client","body":"<p>You aren't even making a request. You need to use one of the methods on the <a href=\"http://javadox.com/com.sun.jersey/jersey-bundle/1.18/com/sun/jersey/api/client/WebResource.Builder.html\" rel=\"nofollow noreferrer\"><code>WebResource.Builder</code></a>. Once you call <code>header()</code> on the <code>WebResource</code>, you get back a <code>WebResource.Builder</code>. To make the API call, you need to use a method like <code>get()</code>, <code>post()</code>, <code>put()</code>, etc. Pass <code>ClientResponse.class</code> as the argument so you get back a <code>ClientResponse</code>. The you can check the status on the <code>ClientResponse</code>. If the status is ok, then call <code>response.getEntity(POJO.class)</code>, where <code>POJO.class</code> is your own model class representation of the Yelp JSON data. Something like</p>\n\n<pre><code>ClientResponse response = webResource\n        .header(\"Authorization\", \"Bearer My_Key\")\n        .get(ClientResponse.class);\nif (response.getStatus() == 200) {\n    YelpModel model = response.getEntity(YelpModel.class);\n}\n</code></pre>\n\n<p>You need to make sure you have the <code>jersey-json</code> dependency and configure the JSON POJO feature with the client</p>\n\n<pre><code>ClientConfig clientConfig = new DefaultClientConfig();              \nclientConfig.getFeatures().put(JSONConfiguration.FEATURE_POJO_MAPPING, Boolean.TRUE); \nClient client = Client.create(clientConfig);\n</code></pre>\n\n<p><code>YelpModel</code> is your custom POJO class that models the Yelp JSON. If you don't know how to make this class, then you might need to go over some Jackson tutorials on how to map JSON to Java objects.</p>\n"}],"owner":{"account_id":5616470,"reputation":1139,"user_id":4447614,"accept_rate":47,"display_name":"Geo Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646954368,"creation_date":1548250841,"question_id":54328619,"body_markdown":"I am trying to make REST calls to the `Yelp API` to get business data from my `Java Spring MVC Web Application`. I am able to make the API call using `Postman App`. Now I am trying to use the Jersey REST client. My `REST` call will be as follows:\r\n```java\r\nClientConfig config = new DefaultClientConfig();\r\nClient client = Client.create(config);\r\nWebResource webResource = client.resource(&quot;https://api.yelp.com/v3/businesses/{id}&quot;);\r\nObject responseMsg = webResource\r\n    .header(&quot;Authorization&quot;, &quot;Bearer My_Key&quot;)\r\n    .getClass();\r\n```\r\nAccording the Yelp documentation [Yelp Documentation][1], an object will be returned if I make the API call. Is it not possible to store the returned data into a `Java Oject` and get the required data from that Object.\r\n\r\n\r\n  [1]: https://www.yelp.com/developers/documentation/v3/get_started","title":"Yelp API calls using Jersey REST Client","body":"<p>I am trying to make REST calls to the <code>Yelp API</code> to get business data from my <code>Java Spring MVC Web Application</code>. I am able to make the API call using <code>Postman App</code>. Now I am trying to use the Jersey REST client. My <code>REST</code> call will be as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientConfig config = new DefaultClientConfig();\nClient client = Client.create(config);\nWebResource webResource = client.resource(&quot;https://api.yelp.com/v3/businesses/{id}&quot;);\nObject responseMsg = webResource\n    .header(&quot;Authorization&quot;, &quot;Bearer My_Key&quot;)\n    .getClass();\n</code></pre>\n<p>According the Yelp documentation <a href=\"https://www.yelp.com/developers/documentation/v3/get_started\" rel=\"nofollow noreferrer\">Yelp Documentation</a>, an object will be returned if I make the API call. Is it not possible to store the returned data into a <code>Java Oject</code> and get the required data from that Object.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1646601627,"post_id":71373915,"comment_id":126158373,"body_markdown":"can you share what makes you think that `sharedPreferences.getString(MainActivity.CHOICE, null);` should not return null?","body":"can you share what makes you think that <code>sharedPreferences.getString(MainActivity.CHOICE, null);</code> should not return null?"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1646614493,"post_id":71373915,"comment_id":126160384,"body_markdown":"Use `.putInt()` and `.getInt()` instead, then no casting is required at all.","body":"Use <code>.putInt()</code> and <code>.getInt()</code> instead, then no casting is required at all."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646954143,"creation_date":1646601249,"answer_id":71374240,"question_id":71373915,"body_markdown":"The exception message tells us that at the line `guessRows = Integer.parseInt(choices) / 2;` the variable `choices` must be null.\r\n\r\nYou read that value in the line before:\r\n\r\n    String choices = sharedPreferences.getString(MainActivity.CHOICE, null);\r\n\r\nThis line can only set `choices` to `null` if there is no key `MainActivity.CHOICE`.\r\n\r\nInstead of using a default value of `null` you probably should use &quot;0&quot; as default value:\r\n\r\n    String choices = sharedPreferences.getString(MainActivity.CHOICE, &quot;0&quot;);\r\n\r\n---\r\nBut, as Martin Zeitler has noted in his comment: if your preference value is a number value that fits in the range of the `int` data type it is better to store it as `int` value in the shared preferences.\r\n\r\nThat would allow to replace\r\n\r\n        String choices = sharedPreferences.getString(MainActivity.CHOICE, null);\r\n        guessRows = Integer.parseInt(choices) / 2;\r\n\r\nwith\r\n\r\n        guessRows = sharedPreferences.getInt(MainActivity.CHOICE, 0) / 2;","title":"(Android Studio) java.lang.NumberFormatException: s == null","body":"<p>The exception message tells us that at the line <code>guessRows = Integer.parseInt(choices) / 2;</code> the variable <code>choices</code> must be null.</p>\n<p>You read that value in the line before:</p>\n<pre><code>String choices = sharedPreferences.getString(MainActivity.CHOICE, null);\n</code></pre>\n<p>This line can only set <code>choices</code> to <code>null</code> if there is no key <code>MainActivity.CHOICE</code>.</p>\n<p>Instead of using a default value of <code>null</code> you probably should use &quot;0&quot; as default value:</p>\n<pre><code>String choices = sharedPreferences.getString(MainActivity.CHOICE, &quot;0&quot;);\n</code></pre>\n<hr />\n<p>But, as Martin Zeitler has noted in his comment: if your preference value is a number value that fits in the range of the <code>int</code> data type it is better to store it as <code>int</code> value in the shared preferences.</p>\n<p>That would allow to replace</p>\n<pre><code>    String choices = sharedPreferences.getString(MainActivity.CHOICE, null);\n    guessRows = Integer.parseInt(choices) / 2;\n</code></pre>\n<p>with</p>\n<pre><code>    guessRows = sharedPreferences.getInt(MainActivity.CHOICE, 0) / 2;\n</code></pre>\n"}],"owner":{"account_id":18433490,"reputation":3,"user_id":13428003,"display_name":"Ayy Lmao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1646614404,"answer_count":1,"score":-5,"last_activity_date":1646954143,"creation_date":1646598027,"question_id":71373915,"body_markdown":"So I&#39;m getting the error  java.lang.NumberFormatException: s == null and I don&#39;t know why.. I posted a question earlier and it ended up being a typo, but for this one I think I can say that it&#39;s not.\r\nIf you need more info don&#39;t hesitate to say so. Thanks in advance!\r\n\r\nHere&#39;s the full error code\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n          Process: com.example.flagquiz, PID: 3343\r\n    \r\n    java.lang.NumberFormatException: s == null\r\n        \r\n        at java.lang.Integer.parseInt(Integer.java:577)\r\n        at java.lang.Integer.parseInt(Integer.java:650)\r\n        at com.example.flagquiz.MainActivityFragment.updateGuessRows(MainActivityFragment.java:104)\r\n        at com.example.flagquiz.MainActivity.onStart(MainActivity.java:65)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\r\n        at android.app.Activity.performStart(Activity.java:8018)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n\r\nand here&#39;s the affected code:\r\n\r\n   MainActivity:\r\n \r\n          protected void onStart(){\r\n            super.onStart();\r\n    \r\n            if(preferencesChanged){\r\n                MainActivityFragment quizFragment = (MainActivityFragment)\r\n                        getSupportFragmentManager().findFragmentById(\r\n                                R.id.quizFragment);\r\n    \r\n                result = quizFragment;\r\n    \r\n                quizFragment.updateGuessRows(\r\n                        PreferenceManager.getDefaultSharedPreferences(this));\r\n                quizFragment.updateRegions(\r\n                        PreferenceManager.getDefaultSharedPreferences(this));\r\n                quizFragment.resetQuiz();\r\n                preferencesChanged = false;\r\n            }\r\n        }\r\n\r\nAnd MainActivityFragment:\r\n\r\n    public void updateGuessRows(SharedPreferences sharedPreferences){\r\n            String choices =\r\n                    sharedPreferences.getString(MainActivity.CHOICE, null);\r\n            guessRows = Integer.parseInt(choices) / 2;\r\n    \r\n            for(LinearLayout layout : guessLinearLayouts)\r\n                layout.setVisibility(View.GONE);\r\n            for(int row = 0; row &lt; guessRows; row++)\r\n                guessLinearLayouts[row].setVisibility(View.VISIBLE);\r\n        }\r\n\r\n\r\n","title":"(Android Studio) java.lang.NumberFormatException: s == null","body":"<p>So I'm getting the error  java.lang.NumberFormatException: s == null and I don't know why.. I posted a question earlier and it ended up being a typo, but for this one I think I can say that it's not.\nIf you need more info don't hesitate to say so. Thanks in advance!</p>\n<p>Here's the full error code</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.flagquiz, PID: 3343\n\njava.lang.NumberFormatException: s == null\n    \n    at java.lang.Integer.parseInt(Integer.java:577)\n    at java.lang.Integer.parseInt(Integer.java:650)\n    at com.example.flagquiz.MainActivityFragment.updateGuessRows(MainActivityFragment.java:104)\n    at com.example.flagquiz.MainActivity.onStart(MainActivity.java:65)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\n    at android.app.Activity.performStart(Activity.java:8018)\n    at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\n    at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n    at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n    at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>and here's the affected code:</p>\n<p>MainActivity:</p>\n<pre><code>      protected void onStart(){\n        super.onStart();\n\n        if(preferencesChanged){\n            MainActivityFragment quizFragment = (MainActivityFragment)\n                    getSupportFragmentManager().findFragmentById(\n                            R.id.quizFragment);\n\n            result = quizFragment;\n\n            quizFragment.updateGuessRows(\n                    PreferenceManager.getDefaultSharedPreferences(this));\n            quizFragment.updateRegions(\n                    PreferenceManager.getDefaultSharedPreferences(this));\n            quizFragment.resetQuiz();\n            preferencesChanged = false;\n        }\n    }\n</code></pre>\n<p>And MainActivityFragment:</p>\n<pre><code>public void updateGuessRows(SharedPreferences sharedPreferences){\n        String choices =\n                sharedPreferences.getString(MainActivity.CHOICE, null);\n        guessRows = Integer.parseInt(choices) / 2;\n\n        for(LinearLayout layout : guessLinearLayouts)\n            layout.setVisibility(View.GONE);\n        for(int row = 0; row &lt; guessRows; row++)\n            guessLinearLayouts[row].setVisibility(View.VISIBLE);\n    }\n</code></pre>\n"},{"tags":["java","log4j2","rollingfileappender"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646916978,"post_id":71424480,"comment_id":126245147,"body_markdown":"Apparently is it final, you can create a wrapper for the `ROllingFileAPpender` instead of an extension to achieve the same.","body":"Apparently is it final, you can create a wrapper for the <code>ROllingFileAPpender</code> instead of an extension to achieve the same."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646953548,"creation_date":1646953548,"answer_id":71431802,"question_id":71424480,"body_markdown":"Log4j 2.x is very extensible. In your case you can write a [`StrLookup`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrLookup.html) that computes the parameters you require and annotate it with:\r\n\r\n```lang-java\r\n@Plugin(name=&quot;some_prefix&quot;, category=&quot;Lookup&quot;)\r\n```\r\n\r\nThe class must be compiled using the annotation processor in `log4j-core` and can be used in a configuration file as:\r\n\r\n```\r\n${some_prefix:key}\r\n```\r\n\r\nwhere `key` is the value that will be passed to [`StrLookup#lookup`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrLookup.html#lookup-java.lang.String-).","title":"log4j2 replacement for RollingFileAppender that set log directory programmatically","body":"<p>Log4j 2.x is very extensible. In your case you can write a <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrLookup.html\" rel=\"nofollow noreferrer\"><code>StrLookup</code></a> that computes the parameters you require and annotate it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Plugin(name=&quot;some_prefix&quot;, category=&quot;Lookup&quot;)\n</code></pre>\n<p>The class must be compiled using the annotation processor in <code>log4j-core</code> and can be used in a configuration file as:</p>\n<pre><code>${some_prefix:key}\n</code></pre>\n<p>where <code>key</code> is the value that will be passed to <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrLookup.html#lookup-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StrLookup#lookup</code></a>.</p>\n"}],"owner":{"account_id":1072531,"reputation":131,"user_id":1071463,"accept_rate":17,"display_name":"hobbes_child"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646953548,"creation_date":1646916861,"question_id":71424480,"body_markdown":"We are upgrading our Java application from log4j 1x to 2x.\r\n\r\nIn 1x we had an extension to RollingFileAppender specified in log4j.properties.  As well as rolling the files, it would compute the path of the logs directory according to whether it was running in JBoss/Tomcat/Webserver, and file the logs there with a specific name.\r\n\r\nIt is not possible to extend RollingFileAppender in 2x.\r\n\r\nMy question is: What can I specify in log4j2.properties (or XML if necessary) that will allow me to set the log directory programmatically as before, and roll the files.\r\n\r\nIt&#39;s something like this question, but without having to set up an Environment Variable for every installation, if possible.\r\n\r\nhttps://stackoverflow.com/questions/64584519/log4j2-customize-file-path-with-rollingfileappender-java","title":"log4j2 replacement for RollingFileAppender that set log directory programmatically","body":"<p>We are upgrading our Java application from log4j 1x to 2x.</p>\n<p>In 1x we had an extension to RollingFileAppender specified in log4j.properties.  As well as rolling the files, it would compute the path of the logs directory according to whether it was running in JBoss/Tomcat/Webserver, and file the logs there with a specific name.</p>\n<p>It is not possible to extend RollingFileAppender in 2x.</p>\n<p>My question is: What can I specify in log4j2.properties (or XML if necessary) that will allow me to set the log directory programmatically as before, and roll the files.</p>\n<p>It's something like this question, but without having to set up an Environment Variable for every installation, if possible.</p>\n<p><a href=\"https://stackoverflow.com/questions/64584519/log4j2-customize-file-path-with-rollingfileappender-java\">Log4j2 customize file path with rollingFileAppender (Java)</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":4,"creation_date":1646952892,"post_id":71431654,"comment_id":126257745,"body_markdown":"JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.2 Drop the bin.","body":"JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.2 Drop the bin."}],"answers":[{"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646952966,"creation_date":1646952966,"answer_id":71431733,"question_id":71431654,"body_markdown":"JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.2 \r\n\r\nDrop the &quot;bin&quot;","title":"Maven: The JAVA_HOME environment variable is not defined correctly, this environment variable is needed to run this program","body":"<p>JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.2</p>\n<p>Drop the &quot;bin&quot;</p>\n"}],"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646957564,"accepted_answer_id":71431733,"answer_count":1,"score":1,"last_activity_date":1646952966,"creation_date":1646952301,"question_id":71431654,"body_markdown":"I downloaded Maven from the following link: [Maven Download][1].  \r\n\r\nI set my PATH variables as follows:\r\n\r\n    echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk-17.0.2\\bin\r\n\r\n    echo %MAVEN_HOME%\r\n    C:\\Program Files\\Apache\\Maven-3.8.4\r\n\r\nWhen I run the command:\r\n\r\n    mvn -version\r\n    The JAVA_HOME environment variable is not defined correctly,\r\n    this environment variable is needed to run this program.\r\n\r\nHere is the output of my PATH:\r\n\r\n    echo %PATH%\r\n    C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Graphviz\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files (x86)\\Calibre2\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-17.0.2\\bin;C:\\Program Files\\Java\\javafx-sdk-17.0.2\\lib;C:\\Program Files\\Apache\\Maven-3.8.4\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\Troy Pilewski\\scoop\\shims;C:\\Ruby27-x64\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.3\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\atom\\bin;C:\\Users\\Troy Pilewski\\.dotnet\\tools;C:\\Program Files (x86)\\Nmap;C:\\Users\\Troy Pilewski\\AppData\\Roaming\\npm;C:\\Users\\Troy Pilewski\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\gitkraken\\bin;C:\\Users\\Troy Pilewski\\.dotnet\\tools;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Microsoft\\WindowsApps\r\n\r\nHow do I fix my JAVA_HOME path error when I run the mvn -version command?\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/download.html","title":"Maven: The JAVA_HOME environment variable is not defined correctly, this environment variable is needed to run this program","body":"<p>I downloaded Maven from the following link: <a href=\"https://maven.apache.org/download.html\" rel=\"nofollow noreferrer\">Maven Download</a>.</p>\n<p>I set my PATH variables as follows:</p>\n<pre><code>echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-17.0.2\\bin\n\necho %MAVEN_HOME%\nC:\\Program Files\\Apache\\Maven-3.8.4\n</code></pre>\n<p>When I run the command:</p>\n<pre><code>mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>Here is the output of my PATH:</p>\n<pre><code>echo %PATH%\nC:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Graphviz\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files (x86)\\Calibre2\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-17.0.2\\bin;C:\\Program Files\\Java\\javafx-sdk-17.0.2\\lib;C:\\Program Files\\Apache\\Maven-3.8.4\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\Troy Pilewski\\scoop\\shims;C:\\Ruby27-x64\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.3\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\atom\\bin;C:\\Users\\Troy Pilewski\\.dotnet\\tools;C:\\Program Files (x86)\\Nmap;C:\\Users\\Troy Pilewski\\AppData\\Roaming\\npm;C:\\Users\\Troy Pilewski\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\gitkraken\\bin;C:\\Users\\Troy Pilewski\\.dotnet\\tools;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin;C:\\Users\\Troy Pilewski\\AppData\\Local\\Microsoft\\WindowsApps\n</code></pre>\n<p>How do I fix my JAVA_HOME path error when I run the mvn -version command?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646951278,"creation_date":1646950959,"answer_id":71431480,"question_id":71431406,"body_markdown":"    @ManyToOne\r\n    @JoinColumn(name = &quot;pseudonym_profile_id&quot;, referencedColumnName = &quot;profile_id&quot;)\r\n    private Profile pseudonymProfile;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;real_profile_id&quot;, referencedColumnName = &quot;profile_id&quot;)\r\n    private Profile realProfile;\r\n\r\nJust an example which should work. [JoinColumn#referencedColumnName][1]\r\n\r\nBut I guess if you drop those `@JoinColumn`s at all everything should work as expected.\r\n\r\nUPDATE: \r\n\r\nOne more thing I find really suspicious is that you use `@OneToMany` instead of `@ManyToOne` which would make more sense. \r\n\r\n  If your business logic was to support multiple profiles for one book you would have to use `Collection&lt;Profile&gt;` with `@OneToMany`.\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/JoinColumn.html#referencedColumnName()","title":"How to map a table in Spring Data JPA that has 2 columns referencing the same table","body":"<pre><code>@ManyToOne\n@JoinColumn(name = &quot;pseudonym_profile_id&quot;, referencedColumnName = &quot;profile_id&quot;)\nprivate Profile pseudonymProfile;\n\n@ManyToOne\n@JoinColumn(name = &quot;real_profile_id&quot;, referencedColumnName = &quot;profile_id&quot;)\nprivate Profile realProfile;\n</code></pre>\n<p>Just an example which should work. <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/JoinColumn.html#referencedColumnName()\" rel=\"nofollow noreferrer\">JoinColumn#referencedColumnName</a></p>\n<p>But I guess if you drop those <code>@JoinColumn</code>s at all everything should work as expected.</p>\n<p>UPDATE:</p>\n<p>One more thing I find really suspicious is that you use <code>@OneToMany</code> instead of <code>@ManyToOne</code> which would make more sense.</p>\n<p>If your business logic was to support multiple profiles for one book you would have to use <code>Collection&lt;Profile&gt;</code> with <code>@OneToMany</code>.</p>\n"}],"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71431480,"answer_count":1,"score":0,"last_activity_date":1646952864,"creation_date":1646950301,"question_id":71431406,"body_markdown":"I have a table that has 2 fields (pseudonymProfile and realProfile) that both join to the same table. When I try to do the mapping as shown below, I run into an error because the 2 fields use the same name (profile_id) in their @JoinColumn annotation. I&#39;m under the impression that when defining a join column, I need to specify the name as &lt;jointable_primarykeyofjointable&gt; in order for spring boot to correctly do the join, but in this case they have the same name and that causes the error. Can someone help me see what I am missing? Thanks!\r\n\r\n    @Entity\r\n    @Table(name = &quot;book&quot;)\r\n    public class Book {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;profile_id&quot;)\r\n        private Profile pseudonymProfile;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;profile_id&quot;)\r\n        private Profile realProfile;\r\n    }\r\n\r\n","title":"How to map a table in Spring Data JPA that has 2 columns referencing the same table","body":"<p>I have a table that has 2 fields (pseudonymProfile and realProfile) that both join to the same table. When I try to do the mapping as shown below, I run into an error because the 2 fields use the same name (profile_id) in their @JoinColumn annotation. I'm under the impression that when defining a join column, I need to specify the name as &lt;jointable_primarykeyofjointable&gt; in order for spring boot to correctly do the join, but in this case they have the same name and that causes the error. Can someone help me see what I am missing? Thanks!</p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;profile_id&quot;)\n    private Profile pseudonymProfile;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;profile_id&quot;)\n    private Profile realProfile;\n}\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1602868037,"creation_date":1501847364,"answer_id":45506082,"question_id":45505992,"body_markdown":"You&#39;ll need to it like this : \r\n\r\n    map.keySet().removeIf(k -&gt; !(k.equals(Constants.search) || k.equals(Constants.context)));\r\n\r\nIt will iterate over the `keys` and remove the ones for those the `key` is not one of or two required `keys`","title":"clear all values of hashmap except two key/value pair","body":"<p>You'll need to it like this :</p>\n<pre><code>map.keySet().removeIf(k -&gt; !(k.equals(Constants.search) || k.equals(Constants.context)));\n</code></pre>\n<p>It will iterate over the <code>keys</code> and remove the ones for those the <code>key</code> is not one of or two required <code>keys</code></p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646952276,"creation_date":1616049311,"answer_id":66685918,"question_id":45505992,"body_markdown":"yet shorter *(since Java 2)*:\r\n==\r\n\r\n    map.keySet().retainAll(myKeys);\r\n\r\nSince keySet() still wraps the original HashMap, its #retainAll() affects the Map.\r\n\r\nmyKeys is a collection of keys, e.g.: **myKeys = List.of(&quot;key1&quot;, &quot;key2&quot;)**\r\n","title":"clear all values of hashmap except two key/value pair","body":"<h1>yet shorter <em>(since Java 2)</em>:</h1>\n<pre><code>map.keySet().retainAll(myKeys);\n</code></pre>\n<p>Since keySet() still wraps the original HashMap, its #retainAll() affects the Map.</p>\n<p>myKeys is a collection of keys, e.g.: <strong>myKeys = List.of(&quot;key1&quot;, &quot;key2&quot;)</strong></p>\n"}],"owner":{"account_id":10230486,"reputation":531,"user_id":7551432,"accept_rate":43,"display_name":"Bipin Gawand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7663,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":45506082,"answer_count":2,"score":8,"last_activity_date":1646952276,"creation_date":1501847126,"question_id":45505992,"body_markdown":"I have a `HashMap` with hundred of key/value pairs. \r\n\r\nNow I have to delete all key/values except **2** key/value.\r\nI have use this way :             \r\n\r\n    if(map!=null){\r\n         String search = map.get(Constants.search);\r\n         String context = map.get(Constants.context);\r\n         map = new HashMap&lt;&gt;();\r\n         map.put(Constants.search,search);\r\n         map.put(Constants.context,context);\r\n    }   \r\n\r\n \r\nBut java 8 introduced `removeIf()` for these kind of condition. How can I solve this problem with `removeIf()` method ?                                                                     ","title":"clear all values of hashmap except two key/value pair","body":"<p>I have a <code>HashMap</code> with hundred of key/value pairs. </p>\n\n<p>Now I have to delete all key/values except <strong>2</strong> key/value.\nI have use this way :             </p>\n\n<pre><code>if(map!=null){\n     String search = map.get(Constants.search);\n     String context = map.get(Constants.context);\n     map = new HashMap&lt;&gt;();\n     map.put(Constants.search,search);\n     map.put(Constants.context,context);\n}   \n</code></pre>\n\n<p>But java 8 introduced <code>removeIf()</code> for these kind of condition. How can I solve this problem with <code>removeIf()</code> method ?                                                                     </p>\n"},{"tags":["java","macos","version"],"answers":[{"tags":[],"owner":{"account_id":21157,"reputation":16683,"user_id":51230,"accept_rate":83,"display_name":"Maksim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646951627,"creation_date":1259176334,"answer_id":1799289,"question_id":1799268,"body_markdown":"Try \r\n\r\n    System.getProperty(&quot;os.name&quot;)\r\n\r\nand/or\r\n\r\n    System.getProperty(&quot;os.version&quot;)\r\n\r\nIt returns String\r\n\r\n[HERE][1] you can find more info about System.getProperties\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html","title":"Finding the version of OSX inside java","body":"<p>Try</p>\n<pre><code>System.getProperty(&quot;os.name&quot;)\n</code></pre>\n<p>and/or</p>\n<pre><code>System.getProperty(&quot;os.version&quot;)\n</code></pre>\n<p>It returns String</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">HERE</a> you can find more info about System.getProperties</p>\n"},{"tags":[],"owner":{"account_id":40749,"reputation":54774,"user_id":118145,"accept_rate":84,"display_name":"Yacoby"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1259176354,"creation_date":1259176354,"answer_id":1799294,"question_id":1799268,"body_markdown":"Use [System.getProperty](http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperty\\(java.lang.String\\)).\r\n\r\n    System.getProperty(&quot;os.version&quot;);\r\n\r\nThe list of valid arguments for the function can be found [here](http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties\\(\\))","title":"Finding the version of OSX inside java","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\">System.getProperty</a>.</p>\n\n<pre><code>System.getProperty(\"os.version\");\n</code></pre>\n\n<p>The list of valid arguments for the function can be found <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":24479,"reputation":12860,"user_id":62255,"accept_rate":73,"display_name":"jedierikb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259176396,"creation_date":1259176396,"answer_id":1799298,"question_id":1799268,"body_markdown":"I think the [System][1] getProperties method can get that information for you.  See &quot;os.version&quot;\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html","title":"Finding the version of OSX inside java","body":"<p>I think the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">System</a> getProperties method can get that information for you.  See \"os.version\"</p>\n"},{"tags":[],"owner":{"account_id":23684,"reputation":593,"user_id":59520,"accept_rate":80,"display_name":"danpker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259176965,"creation_date":1259176429,"answer_id":1799303,"question_id":1799268,"body_markdown":"`System.getProperty(&quot;os.version&quot;)`\r\n\r\nShould return a string with three values for OS X, like: 10.5.1\r\n\r\nYou can also do `System.getProperty(&quot;os.name&quot;)` to make sure it&#39;s OS X in the first place","title":"Finding the version of OSX inside java","body":"<p><code>System.getProperty(\"os.version\")</code></p>\n\n<p>Should return a string with three values for OS X, like: 10.5.1</p>\n\n<p>You can also do <code>System.getProperty(\"os.name\")</code> to make sure it's OS X in the first place</p>\n"}],"owner":{"account_id":44722,"reputation":7655,"user_id":131399,"accept_rate":77,"display_name":"Mike2012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1646951627,"creation_date":1259176130,"question_id":1799268,"body_markdown":"I need to test if the version of osx is &lt; 10.5 inside java is this possible?  ","title":"Finding the version of OSX inside java","body":"<p>I need to test if the version of osx is &lt; 10.5 inside java is this possible?  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1646417791,"post_id":71355634,"comment_id":126126180,"body_markdown":"To run you only need the JRE (Java *Runtime* Environment). You can package / ship it with your code; check the licenses though.","body":"To run you only need the JRE (Java <i>Runtime</i> Environment). You can package / ship it with your code; check the licenses though."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646927639,"post_id":71355634,"comment_id":126249758,"body_markdown":"@Robert - While that is true, from Java 9 onwards the official Oracle and OpenJDK distributions no longer have a JRE option.  Only JDKs are available.  Unless you opt for a 3rd-party distribution.","body":"@Robert - While that is true, from Java 9 onwards the official Oracle and OpenJDK distributions no longer have a JRE option.  Only JDKs are available.  Unless you opt for a 3rd-party distribution."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646417929,"creation_date":1646417929,"answer_id":71355672,"question_id":71355634,"body_markdown":"If you use something like GraalVM to compile a native binary, then there is nothing more you should need for a simple application (meaning, nothing is tried to dynamically load classes at runtime with reflection)\r\n\r\nOther than that, the Java JRE is required, and can be included as part of an application package; for example, IntelliJ or Eclipse IDE come with their own JRE.  ","title":"Testing for Java SDK","body":"<p>If you use something like GraalVM to compile a native binary, then there is nothing more you should need for a simple application (meaning, nothing is tried to dynamically load classes at runtime with reflection)</p>\n<p>Other than that, the Java JRE is required, and can be included as part of an application package; for example, IntelliJ or Eclipse IDE come with their own JRE.</p>\n"},{"tags":[],"owner":{"account_id":1323683,"reputation":181,"user_id":1268971,"display_name":"Tom Magaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646927339,"creation_date":1646927339,"answer_id":71426996,"question_id":71355634,"body_markdown":"Thanks everyone for your input.\r\n\r\nAfter doing more research I found that by using a jdk greater than 8.?, it is possible to bundle everything an application needs in the deployment process.","title":"Testing for Java SDK","body":"<p>Thanks everyone for your input.</p>\n<p>After doing more research I found that by using a jdk greater than 8.?, it is possible to bundle everything an application needs in the deployment process.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646951432,"creation_date":1646928071,"answer_id":71427174,"question_id":71355634,"body_markdown":"From Java 9 onwards you can use `jlink` to produce a custom JRE for your application.  The JRE includes a copy of the `java` command and (only) the libraries / classes that your application needs.  It will be platform specific.\r\n\r\nFrom Java 14 onwards, you can use `jpackage` to produce (platform specific) native executables for Java applications.\r\n\r\nThere are also 3rd-party tools that can generate executables, and third party installer generators that (in some cases) can install Java for the end user.\r\n\r\nNote: if you take the approach of distributing your application as a self-contained JRE or native executable, the user no longer has the option of updating their Java to address security related issues.  It becomes your problem / responsibility ... as the supplier of the software ... to make available in a timely fashion application updates that incorporate the new Java releases with important security patches.","title":"Testing for Java SDK","body":"<p>From Java 9 onwards you can use <code>jlink</code> to produce a custom JRE for your application.  The JRE includes a copy of the <code>java</code> command and (only) the libraries / classes that your application needs.  It will be platform specific.</p>\n<p>From Java 14 onwards, you can use <code>jpackage</code> to produce (platform specific) native executables for Java applications.</p>\n<p>There are also 3rd-party tools that can generate executables, and third party installer generators that (in some cases) can install Java for the end user.</p>\n<p>Note: if you take the approach of distributing your application as a self-contained JRE or native executable, the user no longer has the option of updating their Java to address security related issues.  It becomes your problem / responsibility ... as the supplier of the software ... to make available in a timely fashion application updates that incorporate the new Java releases with important security patches.</p>\n"}],"owner":{"account_id":1323683,"reputation":181,"user_id":1268971,"display_name":"Tom Magaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71427174,"answer_count":3,"score":0,"last_activity_date":1646951432,"creation_date":1646417707,"question_id":71355634,"body_markdown":"I am writing an application in Java.  Does a Java SDK have to be installed to run the application from the command line?  If so, can I package the SDK with the application to be installed when installing the application?","title":"Testing for Java SDK","body":"<p>I am writing an application in Java.  Does a Java SDK have to be installed to run the application from the command line?  If so, can I package the SDK with the application to be installed when installing the application?</p>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646951131,"creation_date":1646951131,"answer_id":71431507,"question_id":71422438,"body_markdown":"Really trying to write to a Tag on a Button click will always be unreliable and also using `enableForeGroundDispatch` is also unreliable in real life as it is highly likely that the Tag will be moved slightly that it will go out of range and thus generate I/O errors.\r\nThe two Apps you mention don&#39;t do it the way you are trying to do.\r\n\r\nAlso the [documentation][1] says `connect` and `writeNdefMessage`\r\n\r\n&gt; May cause RF activity and may block. Must not be called from the main application thread.\r\n\r\nand you are calling these from the main (UI) thread.\r\n\r\nYour button just needs to setup the action that &quot;when Tag comes in to range, immediately write text&quot;\r\n\r\ne.g. some thing like\r\n\r\n``` lang-java\r\nprivate String text;\r\n\r\n@Override\r\npublic void onNewIntent(Intent intent) {\r\n    super.onNewIntent(intent);\r\n    String action = intent.getAction();\r\n    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n        if (tag != null) {\r\n            if(text.isEmpty()) {\r\n               // Nothing to write so read\r\n               String serialId = Utility.bytesToHex(tag.getId());\r\n               Log.d(&quot;[WriteCard]&quot;, &quot;Serial Number: &quot; + serialId);\r\n               Toast.makeText(this, serialId, Toast.LENGTH_SHORT).show();\r\n             } else {\r\n               // Have some text to write \r\n               try {\r\n                  write(&quot;type/1&quot;, text, tag);\r\n                } catch(Exception e)  {\r\n                  Log.d(&quot;[WriteCard]&quot;, e.toString());\r\n                  Toast.makeText(this,  e.toString(), Toast.LENGTH_SHORT).show();\r\n                }\r\n               // Reset the write trigger\r\n               text = &quot;&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n// When the write Button is clicked\r\npublic void onClick(View view)    {\r\n    text = spinner_location.toString();\r\n}\r\n```\r\n\r\nAlso you really need to check that your Tag is a Formatted Ndef Tag before your try and write to it.\r\n\r\ne.g. something like\r\n\r\n``` lang-java\r\nprivate void write(String mimeType, String text, Tag tag) throws IOException, FormatException {\r\n    NdefRecord[] records = {createRecord(mimeType, text)};\r\n    NdefMessage message = new NdefMessage(records);\r\n    Ndef ndef = Ndef.get(tag);\r\n    if(ndef != null) {\r\n       // It&#39;s an already formatted Ndef Tag\r\n       ndef.connect();\r\n       ndef.writeNdefMessage(message);\r\n       ndef.close();\r\n    } else {\r\n       // Try and format at write\r\n       .... &quot;get(tag)&quot; for Ndef formattable type and check not null\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe final point is using the old `enableForegroundDispatch` is unreliable, so use the Newer and better `enableReaderMode` and `onTagDiscovered` API  instead.\r\n\r\nThis also solves the calling `connect` etc on the wrong thread as `onTagDiscovered` is automatically in it&#39;s own thread.\r\n\r\nAlso `enableReaderMode` when you disable the &quot;Platform&quot; sounds it does not prompt the user to remove the Tag from range before you have had a chance to write to it (You can play your own sound after a successful write)\r\n\r\nSee https://stackoverflow.com/a/64921434/2373819 for an example of `enableReaderMode`\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/nfc/tech/Ndef#connect()","title":"Write ndef message to NFC Tag fails with java.io.exception","body":"<p>Really trying to write to a Tag on a Button click will always be unreliable and also using <code>enableForeGroundDispatch</code> is also unreliable in real life as it is highly likely that the Tag will be moved slightly that it will go out of range and thus generate I/O errors.\nThe two Apps you mention don't do it the way you are trying to do.</p>\n<p>Also the <a href=\"https://developer.android.com/reference/android/nfc/tech/Ndef#connect()\" rel=\"nofollow noreferrer\">documentation</a> says <code>connect</code> and <code>writeNdefMessage</code></p>\n<blockquote>\n<p>May cause RF activity and may block. Must not be called from the main application thread.</p>\n</blockquote>\n<p>and you are calling these from the main (UI) thread.</p>\n<p>Your button just needs to setup the action that &quot;when Tag comes in to range, immediately write text&quot;</p>\n<p>e.g. some thing like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String text;\n\n@Override\npublic void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    String action = intent.getAction();\n    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        if (tag != null) {\n            if(text.isEmpty()) {\n               // Nothing to write so read\n               String serialId = Utility.bytesToHex(tag.getId());\n               Log.d(&quot;[WriteCard]&quot;, &quot;Serial Number: &quot; + serialId);\n               Toast.makeText(this, serialId, Toast.LENGTH_SHORT).show();\n             } else {\n               // Have some text to write \n               try {\n                  write(&quot;type/1&quot;, text, tag);\n                } catch(Exception e)  {\n                  Log.d(&quot;[WriteCard]&quot;, e.toString());\n                  Toast.makeText(this,  e.toString(), Toast.LENGTH_SHORT).show();\n                }\n               // Reset the write trigger\n               text = &quot;&quot;;\n        }\n    }\n}\n\n// When the write Button is clicked\npublic void onClick(View view)    {\n    text = spinner_location.toString();\n}\n</code></pre>\n<p>Also you really need to check that your Tag is a Formatted Ndef Tag before your try and write to it.</p>\n<p>e.g. something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void write(String mimeType, String text, Tag tag) throws IOException, FormatException {\n    NdefRecord[] records = {createRecord(mimeType, text)};\n    NdefMessage message = new NdefMessage(records);\n    Ndef ndef = Ndef.get(tag);\n    if(ndef != null) {\n       // It's an already formatted Ndef Tag\n       ndef.connect();\n       ndef.writeNdefMessage(message);\n       ndef.close();\n    } else {\n       // Try and format at write\n       .... &quot;get(tag)&quot; for Ndef formattable type and check not null\n    }\n}\n\n</code></pre>\n<p>The final point is using the old <code>enableForegroundDispatch</code> is unreliable, so use the Newer and better <code>enableReaderMode</code> and <code>onTagDiscovered</code> API  instead.</p>\n<p>This also solves the calling <code>connect</code> etc on the wrong thread as <code>onTagDiscovered</code> is automatically in it's own thread.</p>\n<p>Also <code>enableReaderMode</code> when you disable the &quot;Platform&quot; sounds it does not prompt the user to remove the Tag from range before you have had a chance to write to it (You can play your own sound after a successful write)</p>\n<p>See <a href=\"https://stackoverflow.com/a/64921434/2373819\">https://stackoverflow.com/a/64921434/2373819</a> for an example of <code>enableReaderMode</code></p>\n"}],"owner":{"account_id":11148506,"reputation":1246,"user_id":8182504,"display_name":"agentsmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646951131,"creation_date":1646907418,"question_id":71422438,"body_markdown":"I want to write simple text data to my NXP MiFARE DesFire EV1 (NDEF Type 4 Tag). However, the writing process always fails with an `IOExcetion`\r\n\r\nFor writing I get the NFC-Tag I use the function ```write```:\r\n```java\r\nprivate void write(String mimeType, String text, Tag tag) throws IOException, FormatException {\r\n    NdefRecord[] records = {createRecord(mimeType, text)};\r\n    NdefMessage message = new NdefMessage(records);\r\n    Ndef ndef = Ndef.get(tag);\r\n    ndef.connect();\r\n    ndef.writeNdefMessage(message);\r\n    ndef.close();\r\n}\r\n```\r\nThe result in the third line (```Ndef ndef = Ndef.get(tag)```) is the following:\r\n```\r\nTAG: Tech [android.nfc.tech.IsoDep, android.nfc.tech.NfcA, android.nfc.tech.Ndef]\r\n```\r\nFrom this I assumed, the Tag is formatted correclty (as NDEF).\r\nNow, when calling ```ndef.connect()``` it just says `java.io.exception` without any additional information about the error. The other parts of the code, that get called is appended.\r\n\r\n```java\r\n@Override\r\npublic void onNewIntent(Intent intent) {\r\n    super.onNewIntent(intent);\r\n    String action = intent.getAction();\r\n    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n        if (tag != null) {\r\n            String serialId = Utility.bytesToHex(tag.getId());\r\n            Log.d(&quot;[WriteCard]&quot;, &quot;Serial Number: &quot; + serialId);\r\n            Toast.makeText(this, serialId, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n\r\n// When the write Button is clicked\r\npublic void onClick(View view)    {\r\n    if (nfc_adapter == null) {\r\n        Toast.makeText(this, &quot;No NFC&quot;, Toast.LENGTH_SHORT).show();\r\n        return;\r\n    } \r\n    int id = view.getId();\r\n    Intent intent = getIntent();\r\n    try {\r\n        write(&quot;type/1&quot;, spinner_location.toString(), tag);\r\n    }\r\n    catch(Exception e)  {\r\n        Log.d(&quot;[WriteCard]&quot;, e.toString());\r\n        Toast.makeText(this,  e.toString(), Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n\r\n```\r\nThe NXP Tag Info App reports the following:\r\n * IC Type: MiFARE DESFire EV1\r\n * Type 4 Tag\r\n * NFC data set access: Read&amp;Write\r\n\r\nAdditional Info: The writing process with Android-Apps like [NFC TagWriter by NXP](https://play.google.com/store/apps/details?id=com.nxp.nfc.tagwriter&amp;hl=de_AT&amp;gl=US) or [wakdev NFC Tools](https://play.google.com/store/apps/details?id=com.wakdev.wdnfc&amp;hl=de_AT&amp;gl=US) works without any problem, thus I assume, the Tag is working correctly.\r\n","title":"Write ndef message to NFC Tag fails with java.io.exception","body":"<p>I want to write simple text data to my NXP MiFARE DesFire EV1 (NDEF Type 4 Tag). However, the writing process always fails with an <code>IOExcetion</code></p>\n<p>For writing I get the NFC-Tag I use the function <code>write</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void write(String mimeType, String text, Tag tag) throws IOException, FormatException {\n    NdefRecord[] records = {createRecord(mimeType, text)};\n    NdefMessage message = new NdefMessage(records);\n    Ndef ndef = Ndef.get(tag);\n    ndef.connect();\n    ndef.writeNdefMessage(message);\n    ndef.close();\n}\n</code></pre>\n<p>The result in the third line (<code>Ndef ndef = Ndef.get(tag)</code>) is the following:</p>\n<pre><code>TAG: Tech [android.nfc.tech.IsoDep, android.nfc.tech.NfcA, android.nfc.tech.Ndef]\n</code></pre>\n<p>From this I assumed, the Tag is formatted correclty (as NDEF).\nNow, when calling <code>ndef.connect()</code> it just says <code>java.io.exception</code> without any additional information about the error. The other parts of the code, that get called is appended.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    String action = intent.getAction();\n    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        if (tag != null) {\n            String serialId = Utility.bytesToHex(tag.getId());\n            Log.d(&quot;[WriteCard]&quot;, &quot;Serial Number: &quot; + serialId);\n            Toast.makeText(this, serialId, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n// When the write Button is clicked\npublic void onClick(View view)    {\n    if (nfc_adapter == null) {\n        Toast.makeText(this, &quot;No NFC&quot;, Toast.LENGTH_SHORT).show();\n        return;\n    } \n    int id = view.getId();\n    Intent intent = getIntent();\n    try {\n        write(&quot;type/1&quot;, spinner_location.toString(), tag);\n    }\n    catch(Exception e)  {\n        Log.d(&quot;[WriteCard]&quot;, e.toString());\n        Toast.makeText(this,  e.toString(), Toast.LENGTH_SHORT).show();\n    }\n}\n\n</code></pre>\n<p>The NXP Tag Info App reports the following:</p>\n<ul>\n<li>IC Type: MiFARE DESFire EV1</li>\n<li>Type 4 Tag</li>\n<li>NFC data set access: Read&amp;Write</li>\n</ul>\n<p>Additional Info: The writing process with Android-Apps like <a href=\"https://play.google.com/store/apps/details?id=com.nxp.nfc.tagwriter&amp;hl=de_AT&amp;gl=US\" rel=\"nofollow noreferrer\">NFC TagWriter by NXP</a> or <a href=\"https://play.google.com/store/apps/details?id=com.wakdev.wdnfc&amp;hl=de_AT&amp;gl=US\" rel=\"nofollow noreferrer\">wakdev NFC Tools</a> works without any problem, thus I assume, the Tag is working correctly.</p>\n"},{"tags":["java","selenium","maven","intellij-idea","cucumber"],"comments":[{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1643897751,"post_id":70972807,"comment_id":125465163,"body_markdown":"Best way to learn Selenium is YouTube. You can also try Udemy, SkillShare and other online courses.","body":"Best way to learn Selenium is YouTube. You can also try Udemy, SkillShare and other online courses."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1643898450,"post_id":70972807,"comment_id":125465498,"body_markdown":"To get started with Selenium in IntelliJ I&#39;d recommend you check https://www.jetbrains.com/help/idea/selenium.html .","body":"To get started with Selenium in IntelliJ I&#39;d recommend you check <a href=\"https://www.jetbrains.com/help/idea/selenium.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/selenium.html</a> ."},{"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"score":0,"creation_date":1643973538,"post_id":70972807,"comment_id":125487026,"body_markdown":"Thank you very much.  I will consider your advices, Team. :)","body":"Thank you very much.  I will consider your advices, Team. :)"}],"answers":[{"tags":[],"owner":{"account_id":9568655,"reputation":131,"user_id":14412760,"display_name":"Funky Monkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643898154,"creation_date":1643898154,"answer_id":70972927,"question_id":70972807,"body_markdown":"this question has a simple answer. Whatever your company does in Eclipse, you can do in InteliJ.\r\n\r\nBOTH Eclipse and InteliJ are IDE&#39;s (An integrated development environment for building applications that combines common developer tools into a single graphical user interface). So basically, consider them both like &quot;code editors&quot;. There is really no difference in using Eclipse or InteliJ (maybe some UI differences).\r\n\r\nPersonally, I prefer InteliJ based on cleaner UI. You pick yours.\r\n\r\nHere is one useful tutorial. Good luck :) \r\nhttps://www.youtube.com/watch?v=JPLk4Z0U0yQ","title":"Selenium for IntelliJ IDEA","body":"<p>this question has a simple answer. Whatever your company does in Eclipse, you can do in InteliJ.</p>\n<p>BOTH Eclipse and InteliJ are IDE's (An integrated development environment for building applications that combines common developer tools into a single graphical user interface). So basically, consider them both like &quot;code editors&quot;. There is really no difference in using Eclipse or InteliJ (maybe some UI differences).</p>\n<p>Personally, I prefer InteliJ based on cleaner UI. You pick yours.</p>\n<p>Here is one useful tutorial. Good luck :)\n<a href=\"https://www.youtube.com/watch?v=JPLk4Z0U0yQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=JPLk4Z0U0yQ</a></p>\n"}],"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70972927,"answer_count":1,"score":0,"last_activity_date":1646950824,"creation_date":1643897661,"question_id":70972807,"body_markdown":"I am relatively new to Selenium.\r\nCurrently in my company we use Eclipse to create and run our testing automation (Maven/Cucumber/Selenium).\r\nWe also use IntelliJ IDEA for Java development.  \r\nMy question would be if it is possible to use IntelliJ IDEA for testing automation similarly like we use Eclipse (Maven/Cucumber/Selenium)?  I mean to build test automation scripts.\r\nIf yes, so you could you kindly recommend any tutorial where it is explained how build those projects for IntelliJ IDEA.\r\nThank you in advance\r\n\r\n\r\n","title":"Selenium for IntelliJ IDEA","body":"<p>I am relatively new to Selenium.\nCurrently in my company we use Eclipse to create and run our testing automation (Maven/Cucumber/Selenium).\nWe also use IntelliJ IDEA for Java development.<br />\nMy question would be if it is possible to use IntelliJ IDEA for testing automation similarly like we use Eclipse (Maven/Cucumber/Selenium)?  I mean to build test automation scripts.\nIf yes, so you could you kindly recommend any tutorial where it is explained how build those projects for IntelliJ IDEA.\nThank you in advance</p>\n"},{"tags":["java","methods","boolean"],"answers":[{"tags":[],"owner":{"account_id":11088911,"reputation":9,"user_id":8858039,"display_name":"Peter Walker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646947527,"creation_date":1646946978,"answer_id":71430909,"question_id":71430328,"body_markdown":"Why can you not validate the input first, and then after the input is either a yes or no, decide on what to do. If it is not either, you can make the repetition statement continue to run until after you get what you need. The location of your return statement is the problem because if either if or else if statements are not true, the method will not return a boolean as your method signature suggests, and your method will just be an infinite loop. ","title":"How do I use boolean method correctly if I need two options?","body":"<p>Why can you not validate the input first, and then after the input is either a yes or no, decide on what to do. If it is not either, you can make the repetition statement continue to run until after you get what you need. The location of your return statement is the problem because if either if or else if statements are not true, the method will not return a boolean as your method signature suggests, and your method will just be an infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646948231,"creation_date":1646948231,"answer_id":71431095,"question_id":71430328,"body_markdown":"Your method is declared to return a boolean. There is no return statement in the flow.\r\n\r\nAssume you go into the endless loop. At this moment we evaluate what the user entered (why do we do that inside the endless loop? The answer does not change inbetween, does it?)\r\n\r\nIf it is &#39;y&#39;, we break the loop.\r\nIf it is &#39;n&#39;, we break the loop.\r\nIn any other case we print something and remain in the loop.\r\n\r\nBut as soon as the loop was broken -&gt; where is the return statement?\r\n\r\nSo from my POV, the function should look like this:\r\n\r\n    static boolean isAnotherGamer() {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Play another game? Type in Y or N&quot;);\r\n            String answer = scanner.nextLine();\r\n            if (answer.equalsIgnoreCase(&quot;Y&quot;)) {\r\n                return true;\r\n            } else if (answer.equalsIgnoreCase(&quot;N&quot;)) {\r\n                return false;\r\n            }\r\n            System.out.println(&quot;Input mismatch&quot;);\r\n        }\r\n    }","title":"How do I use boolean method correctly if I need two options?","body":"<p>Your method is declared to return a boolean. There is no return statement in the flow.</p>\n<p>Assume you go into the endless loop. At this moment we evaluate what the user entered (why do we do that inside the endless loop? The answer does not change inbetween, does it?)</p>\n<p>If it is 'y', we break the loop.\nIf it is 'n', we break the loop.\nIn any other case we print something and remain in the loop.</p>\n<p>But as soon as the loop was broken -&gt; where is the return statement?</p>\n<p>So from my POV, the function should look like this:</p>\n<pre><code>static boolean isAnotherGamer() {\n    Scanner scanner = new Scanner(System.in);\n\n    while (true) {\n        System.out.println(&quot;Play another game? Type in Y or N&quot;);\n        String answer = scanner.nextLine();\n        if (answer.equalsIgnoreCase(&quot;Y&quot;)) {\n            return true;\n        } else if (answer.equalsIgnoreCase(&quot;N&quot;)) {\n            return false;\n        }\n        System.out.println(&quot;Input mismatch&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24519424,"reputation":11,"user_id":18432703,"display_name":"softwarepie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646948759,"creation_date":1646948759,"answer_id":71431180,"question_id":71430328,"body_markdown":"Because you&#39;ve not set a default return value, if the user doesn&#39;t choose either &quot;Y&quot; or &quot;N&quot; then nothing is going to be returned so that&#39;s why you&#39;re getting an error. \r\n\r\nAdditionally, you shouldn&#39;t be putting any code after your break statements as those lines will be completely ignored (again, nothing returned as your return statements are after your breaks.) \r\n\r\nYou can just completely remove those break statements if you&#39;re just wanting to quit that method once you&#39;ve got your boolean value or you can update a boolean variable for future use if you&#39;re wanting to keep running code inside your method. (I&#39;ve provided an example of this)\r\n\r\n```    private static boolean isAnotherGamer() {\r\n        System.out.println(&quot;Play another game? Type in Y or N&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String answer = scanner.nextLine();\r\n\r\n        //To store the state of the user&#39;s answer\r\n        boolean providedAnswer = false;\r\n\r\n        //if the answer was yes, set the boolean&#39;s val to true\r\n        if(answer.equalsIgnoreCase(&quot;Yes&quot;)){\r\n            providedAnswer = true;\r\n        }\r\n\r\n        //output the boolean&#39;s value\r\n        System.out.println(&quot;User wanted to play again? &quot; + providedAnswer);\r\n\r\n        //return the boolean value\r\n        return providedAnswer;\r\n    }```","title":"How do I use boolean method correctly if I need two options?","body":"<p>Because you've not set a default return value, if the user doesn't choose either &quot;Y&quot; or &quot;N&quot; then nothing is going to be returned so that's why you're getting an error.</p>\n<p>Additionally, you shouldn't be putting any code after your break statements as those lines will be completely ignored (again, nothing returned as your return statements are after your breaks.)</p>\n<p>You can just completely remove those break statements if you're just wanting to quit that method once you've got your boolean value or you can update a boolean variable for future use if you're wanting to keep running code inside your method. (I've provided an example of this)</p>\n<pre><code>        System.out.println(&quot;Play another game? Type in Y or N&quot;);\n        Scanner scanner = new Scanner(System.in);\n        String answer = scanner.nextLine();\n\n        //To store the state of the user's answer\n        boolean providedAnswer = false;\n\n        //if the answer was yes, set the boolean's val to true\n        if(answer.equalsIgnoreCase(&quot;Yes&quot;)){\n            providedAnswer = true;\n        }\n\n        //output the boolean's value\n        System.out.println(&quot;User wanted to play again? &quot; + providedAnswer);\n\n        //return the boolean value\n        return providedAnswer;\n    }```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646950783,"creation_date":1646949550,"answer_id":71431289,"question_id":71430328,"body_markdown":"Here is how I would do it. This allows any part of `yes` or `no` to be entered. I think it best to pass a Scanner instance rather than creating one each time. Using a regular expression allows for some latitude in the answer.\r\n\r\n- `^$` - beginning and end of string.\r\n- `(?i)` - ignore case \r\n- `ye?s?` - says must have `y` but `e` and `s` are optional.\r\n```\r\nstatic boolean isAnotherGamer(Scanner scanner) {\r\n\tSystem.out.println(&quot;Play another game? Type in Y(es) or N(o)&quot;);\r\n\twhile (true) {\r\n\t\tString input = scanner.nextLine();\r\n\t\tif (input.matches(&quot;(?i)^ye?s?$&quot;)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (input.matches(&quot;(?i)^no?$&quot;)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Incorrect response, please enter Y(es) or N(o)&quot;);\r\n\t}\t\t\r\n}","title":"How do I use boolean method correctly if I need two options?","body":"<p>Here is how I would do it. This allows any part of <code>yes</code> or <code>no</code> to be entered. I think it best to pass a Scanner instance rather than creating one each time. Using a regular expression allows for some latitude in the answer.</p>\n<ul>\n<li><code>^$</code> - beginning and end of string.</li>\n<li><code>(?i)</code> - ignore case</li>\n<li><code>ye?s?</code> - says must have <code>y</code> but <code>e</code> and <code>s</code> are optional.</li>\n</ul>\n<pre><code>static boolean isAnotherGamer(Scanner scanner) {\n    System.out.println(&quot;Play another game? Type in Y(es) or N(o)&quot;);\n    while (true) {\n        String input = scanner.nextLine();\n        if (input.matches(&quot;(?i)^ye?s?$&quot;)) {\n            return true;\n        }\n        if (input.matches(&quot;(?i)^no?$&quot;)) {\n            return false;\n        }\n        System.out.println(&quot;Incorrect response, please enter Y(es) or N(o)&quot;);\n    }       \n}\n</code></pre>\n"}],"owner":{"account_id":23713791,"reputation":11,"user_id":17757350,"display_name":"Kango Vince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1646950783,"creation_date":1646943799,"question_id":71430328,"body_markdown":"The question is, if I need to chose only from two options in boolean method (Yes or No) how do I put it in IFs?\r\nI try to do like this (see below), it underlines very last brace. If I use default return outside while (but I don&#39;t want to), it underlines first return (after first if).\r\n\r\n\r\n    static boolean isAnotherGamer() {\r\n        System.out.println(&quot;Play another game? Type in Y or N&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String answer = scanner.nextLine();\r\n        while (true) {\r\n            if (answer.equalsIgnoreCase(&quot;Y&quot;)) {\r\n                break;\r\n                return true;\r\n            } else if (answer.equalsIgnoreCase(&quot;N&quot;)) {\r\n                break;\r\n                return false;\r\n            }\r\n            System.out.println(&quot;Input mismatch&quot;);\r\n        } //IDE underline this brace\r\n    }\r\n","title":"How do I use boolean method correctly if I need two options?","body":"<p>The question is, if I need to chose only from two options in boolean method (Yes or No) how do I put it in IFs?\nI try to do like this (see below), it underlines very last brace. If I use default return outside while (but I don't want to), it underlines first return (after first if).</p>\n<pre><code>static boolean isAnotherGamer() {\n    System.out.println(&quot;Play another game? Type in Y or N&quot;);\n    Scanner scanner = new Scanner(System.in);\n    String answer = scanner.nextLine();\n    while (true) {\n        if (answer.equalsIgnoreCase(&quot;Y&quot;)) {\n            break;\n            return true;\n        } else if (answer.equalsIgnoreCase(&quot;N&quot;)) {\n            break;\n            return false;\n        }\n        System.out.println(&quot;Input mismatch&quot;);\n    } //IDE underline this brace\n}\n</code></pre>\n"},{"tags":["java","file","object"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646950198,"creation_date":1646950198,"answer_id":71431389,"question_id":71431063,"body_markdown":"The problem here is most likely that your serialization and deserialization methods behave differently. Your serialization code always creates a new `ObjectOutputStream` and then appends the data to the file. This will write the stream header (magic &amp; version) every time. However your deserialization method only creates an `ObjectInputStream` once, and therefore also only consumes the stream header once. Therefore you either have to:\r\n- use a single `ObjectOutputStream` to write all objects\r\n- or use a separate new `ObjectInputStream` to read each object\r\n\r\nAdditionally your logic for detecting the end of file might be flawed (unless there is code you omitted). When there is no further object in the stream, `readObject()` throws an exception (currently `EOFException`, but this specific exception is not guaranteed by the documentation). Therefore you should explicitly call `writeObject(null)`; then you can detect when `readObject()` returns `null` and consider that the end of your data.\r\n\r\n---\r\n\r\nIt might also be good to consider alternatives to Java serialization, because it is in some cases not very efficient, and for untrusted data it can be pretty dangerous, leading to remote code execution in the worst case (protections against this are verbose and error-prone). See also [Secure Coding Guidelines for Java SE](https://www.oracle.com/java/technologies/javase/seccodeguide.html).","title":"Reading objects from .dat file doesn&#39;t work","body":"<p>The problem here is most likely that your serialization and deserialization methods behave differently. Your serialization code always creates a new <code>ObjectOutputStream</code> and then appends the data to the file. This will write the stream header (magic &amp; version) every time. However your deserialization method only creates an <code>ObjectInputStream</code> once, and therefore also only consumes the stream header once. Therefore you either have to:</p>\n<ul>\n<li>use a single <code>ObjectOutputStream</code> to write all objects</li>\n<li>or use a separate new <code>ObjectInputStream</code> to read each object</li>\n</ul>\n<p>Additionally your logic for detecting the end of file might be flawed (unless there is code you omitted). When there is no further object in the stream, <code>readObject()</code> throws an exception (currently <code>EOFException</code>, but this specific exception is not guaranteed by the documentation). Therefore you should explicitly call <code>writeObject(null)</code>; then you can detect when <code>readObject()</code> returns <code>null</code> and consider that the end of your data.</p>\n<hr />\n<p>It might also be good to consider alternatives to Java serialization, because it is in some cases not very efficient, and for untrusted data it can be pretty dangerous, leading to remote code execution in the worst case (protections against this are verbose and error-prone). See also <a href=\"https://www.oracle.com/java/technologies/javase/seccodeguide.html\" rel=\"nofollow noreferrer\">Secure Coding Guidelines for Java SE</a>.</p>\n"}],"owner":{"account_id":24014858,"reputation":52,"user_id":17997947,"display_name":"Zibal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71431389,"answer_count":1,"score":0,"last_activity_date":1646950198,"creation_date":1646948038,"question_id":71431063,"body_markdown":"I have a problem with reading objects from file. When I&#39;m trying to read objects from .dat file, it&#39;s only printing the first one object. Then an error message will appear **&#39;java.io.StreamCorruptedException: invalid type code: AC&#39;**. What is wrong with my code? I have tried to find a solution without succees. Every object is saved individually to the file (I have save button in my GUI). \r\n\r\n*my object saving method which parameter is object:*\r\n\r\n```java\r\npublic static void saveObject(GymDiary object){\r\n        try (ObjectOutputStream dataOut = new ObjectOutputStream(new FileOutputStream(&quot;objectFile.dat&quot;, true))){\r\n            dataOut.writeObject(object);\r\n            dataOut.flush();\r\n            dataOut.close();\r\n            System.out.println(&quot;saving succeeded!&quot;);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    } \r\n```\r\n\r\n*my object reading method:*\r\n\r\n```java\r\npublic static void readObjects() throws  IOException {\r\n\r\n        ArrayList&lt;gymDiary&gt; objectList = new ArrayList&lt;&gt;();\r\n\r\n        boolean endOfFile= true;\r\n        int x = 0;\r\n\r\n\r\n        try (ObjectInputStream objectFile = new ObjectInputStream(new FileInputStream(&quot;objectFile.dat&quot;))) {\r\n            while (endOfFile) {\r\n                gymDiary object = null;\r\n\r\n                try {\r\n                    object = (GymDiary) objectFile.readObject();\r\n                    objectList.add(object);\r\n\r\n                } catch (ClassNotFoundException e){\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                if (object != null) {\r\n                    System.out.println(objectList.get(x).getLoad());\r\n                    x++;\r\n\r\n                } else {\r\n                    endOfFile= false;\r\n                    objectFile.close();\r\n                }\r\n\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n```\r\n\r\nError joins the line: **object = (GymDiary) objectFile.readObject();**\r\n\r\nIs something wrong in that method where I save objects? Or is the problem in my saving method? or both? :D\r\n\r\nMy goal is print **all** objects that are in my file. Not only the first.\r\n\r\n.dat file looks like this with 2 objects (some stuff in my mother language, do not mind):\r\n\r\n```\r\n&#172;&#237; sr *com.example.work.gymDiary&#203;Qj$b8ˆ L kuormatt Ljava/util/ArrayList;L \r\nliikeNimetq ~ L toistotq ~ L treeninNimit Ljava/lang/String;xpsr java.util.ArrayListx&#210;™&#199;a I sizexp   w   sr java.lang.Double€&#179;&#194;J)k&#251; D valuexr java.lang.Number†&#172;•”&#224;‹  xp@I      sq ~ @I      sq ~ @I      xsq ~    w   t squatxsq ~    w   sr java.lang.Integer&#226;&#160;&#164;&#247;‡8 I valuexq ~    q ~ q ~ xt legday&#172;&#237; sr *com.example.work.gymDiary&#203;Qj$b8ˆ L kuormatt Ljava/util/ArrayList;L \r\nliikeNimetq ~ L toistotq ~ L treeninNimit Ljava/lang/String;xpsr java.util.ArrayListx&#210;™&#199;a I sizexp   w   sr java.lang.Double€&#179;&#194;J)k&#251; D valuexr java.lang.Number†&#172;•”&#224;‹  xp@I      sq ~ @I      sq ~ @I      xsq ~    w   t \r\nbenchpressxsq ~    w   sr java.lang.Integer&#226;&#160;&#164;&#247;‡8 I valuexq ~    q ~ q ~ xt upperbodyday\r\n```\r\n","title":"Reading objects from .dat file doesn&#39;t work","body":"<p>I have a problem with reading objects from file. When I'm trying to read objects from .dat file, it's only printing the first one object. Then an error message will appear <strong>'java.io.StreamCorruptedException: invalid type code: AC'</strong>. What is wrong with my code? I have tried to find a solution without succees. Every object is saved individually to the file (I have save button in my GUI).</p>\n<p><em>my object saving method which parameter is object:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void saveObject(GymDiary object){\n        try (ObjectOutputStream dataOut = new ObjectOutputStream(new FileOutputStream(&quot;objectFile.dat&quot;, true))){\n            dataOut.writeObject(object);\n            dataOut.flush();\n            dataOut.close();\n            System.out.println(&quot;saving succeeded!&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    } \n</code></pre>\n<p><em>my object reading method:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void readObjects() throws  IOException {\n\n        ArrayList&lt;gymDiary&gt; objectList = new ArrayList&lt;&gt;();\n\n        boolean endOfFile= true;\n        int x = 0;\n\n\n        try (ObjectInputStream objectFile = new ObjectInputStream(new FileInputStream(&quot;objectFile.dat&quot;))) {\n            while (endOfFile) {\n                gymDiary object = null;\n\n                try {\n                    object = (GymDiary) objectFile.readObject();\n                    objectList.add(object);\n\n                } catch (ClassNotFoundException e){\n                    e.printStackTrace();\n                }\n\n                if (object != null) {\n                    System.out.println(objectList.get(x).getLoad());\n                    x++;\n\n                } else {\n                    endOfFile= false;\n                    objectFile.close();\n                }\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n</code></pre>\n<p>Error joins the line: <strong>object = (GymDiary) objectFile.readObject();</strong></p>\n<p>Is something wrong in that method where I save objects? Or is the problem in my saving method? or both? :D</p>\n<p>My goal is print <strong>all</strong> objects that are in my file. Not only the first.</p>\n<p>.dat file looks like this with 2 objects (some stuff in my mother language, do not mind):</p>\n<pre><code>¬í sr *com.example.work.gymDiaryËQj$b8ˆ L kuormatt Ljava/util/ArrayList;L \nliikeNimetq ~ L toistotq ~ L treeninNimit Ljava/lang/String;xpsr java.util.ArrayListxÒ™Ça I sizexp   w   sr java.lang.Double€³ÂJ)kû D valuexr java.lang.Number†¬•”à‹  xp@I      sq ~ @I      sq ~ @I      xsq ~    w   t squatxsq ~    w   sr java.lang.Integerâ ¤÷‡8 I valuexq ~    q ~ q ~ xt legday¬í sr *com.example.work.gymDiaryËQj$b8ˆ L kuormatt Ljava/util/ArrayList;L \nliikeNimetq ~ L toistotq ~ L treeninNimit Ljava/lang/String;xpsr java.util.ArrayListxÒ™Ça I sizexp   w   sr java.lang.Double€³ÂJ)kû D valuexr java.lang.Number†¬•”à‹  xp@I      sq ~ @I      sq ~ @I      xsq ~    w   t \nbenchpressxsq ~    w   sr java.lang.Integerâ ¤÷‡8 I valuexq ~    q ~ q ~ xt upperbodyday\n</code></pre>\n"},{"tags":["java","spring","classpath"],"comments":[{"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"score":1,"creation_date":1345669149,"post_id":12006602,"comment_id":16140746,"body_markdown":"I suggest to read about `ResourceLoader` abstraction: http://static.springsource.org/spring/docs/3.0.x/reference/resources.html#resources-resourceloader","body":"I suggest to read about <code>ResourceLoader</code> abstraction: <a href=\"http://static.springsource.org/spring/docs/3.0.x/reference/resources.html#resources-resourceloader\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/reference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1482573,"reputation":3407,"user_id":1391578,"display_name":"Markus Mikkolainen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1646949965,"creation_date":1345209607,"answer_id":12006634,"question_id":12006602,"body_markdown":"Well you can always register URL handlers. Java also has a file:/// and jar: handler. Also class.getResource will by default read from the classpath. \r\n\r\nhttp://code.google.com/p/madura-classpath-protocol-handler/\r\n\r\napparently it is a spring feature. \r\n\r\n&quot;You can see these standard handlers, and associated implementation classes,in the JDK&#39;s RT.JAR file. Look for classes whose fully-qualified name starts with sun.net.www.protocol.For example,the class sun.net.www.protocol.http.Handler defines the HTTP protocol handler. Class sun.net.www.protocol.ftp.Handler defines the FTP protocol handler class.&quot;\r\n\r\nhttp://java.sun.com/developer/onlineTraining/protocolhandlers/\r\n\r\nTrying to use `classpath:` in Java 1.6 results in:\r\n\r\n```Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: classpath```","title":"Java URL Protocols: classpath:/?","body":"<p>Well you can always register URL handlers. Java also has a file:/// and jar: handler. Also class.getResource will by default read from the classpath.</p>\n<p><a href=\"http://code.google.com/p/madura-classpath-protocol-handler/\" rel=\"nofollow noreferrer\">http://code.google.com/p/madura-classpath-protocol-handler/</a></p>\n<p>apparently it is a spring feature.</p>\n<p>&quot;You can see these standard handlers, and associated implementation classes,in the JDK's RT.JAR file. Look for classes whose fully-qualified name starts with sun.net.www.protocol.For example,the class sun.net.www.protocol.http.Handler defines the HTTP protocol handler. Class sun.net.www.protocol.ftp.Handler defines the FTP protocol handler class.&quot;</p>\n<p><a href=\"http://java.sun.com/developer/onlineTraining/protocolhandlers/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/onlineTraining/protocolhandlers/</a></p>\n<p>Trying to use <code>classpath:</code> in Java 1.6 results in:</p>\n<p><code>Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: classpath</code></p>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418581299,"creation_date":1345217602,"answer_id":12008777,"question_id":12006602,"body_markdown":"classpath: is specific to spring.  Spring&#39;s resource resolving mechanism (ie. `PathMatchingResourcePatternResolver` or other imlementations) knows about the `&quot;classpath:&quot;` and &quot;classpath*:&quot; prefixes.\r\n\r\nIt takes that and resolves into `ClassPathResource` object(s), which happen to implement springs `Resource` interface.\r\n\r\nThe `Resource` interface, among other things, has a `getInputStream()` method which can be used to get the contents, without having to be aware of what type of resource it is.\r\n\r\nThis is entirely separate from any URL protocol handling, so you won&#39;t necessarily be able to directly add this as a protocol handler.\r\n\r\nHowever, you may be able to make some use of the `ClassPathResource` class itself as part of your protocol handler.\r\n\r\n","title":"Java URL Protocols: classpath:/?","body":"<p>classpath: is specific to spring.  Spring's resource resolving mechanism (ie. <code>PathMatchingResourcePatternResolver</code> or other imlementations) knows about the <code>\"classpath:\"</code> and \"classpath*:\" prefixes.</p>\n\n<p>It takes that and resolves into <code>ClassPathResource</code> object(s), which happen to implement springs <code>Resource</code> interface.</p>\n\n<p>The <code>Resource</code> interface, among other things, has a <code>getInputStream()</code> method which can be used to get the contents, without having to be aware of what type of resource it is.</p>\n\n<p>This is entirely separate from any URL protocol handling, so you won't necessarily be able to directly add this as a protocol handler.</p>\n\n<p>However, you may be able to make some use of the <code>ClassPathResource</code> class itself as part of your protocol handler.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27863,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":12006634,"answer_count":2,"score":15,"last_activity_date":1646949965,"creation_date":1345209480,"question_id":12006602,"body_markdown":"I&#39;ve seen some Spring code that read config files and other resources directly off the runtime classpath using the `classpath:/some/path/to/resource` URL protocol. \r\n\r\nIs this a Spring construct or a Java construct?\r\n\r\nI can&#39;t find any documentation besides this question - https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java, which doesn&#39;t indicate either way. \r\n\r\nIf it&#39;s a Java construct, can anyone point me to its official documentation?","title":"Java URL Protocols: classpath:/?","body":"<p>I've seen some Spring code that read config files and other resources directly off the runtime classpath using the <code>classpath:/some/path/to/resource</code> URL protocol. </p>\n\n<p>Is this a Spring construct or a Java construct?</p>\n\n<p>I can't find any documentation besides this question - <a href=\"https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java\">URL to load resources from the classpath in Java</a>, which doesn't indicate either way. </p>\n\n<p>If it's a Java construct, can anyone point me to its official documentation?</p>\n"},{"tags":["java","spring","webclient","content-type"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646949600,"creation_date":1646949600,"answer_id":71431300,"question_id":71430628,"body_markdown":"It happens because of the [specific handling][1] of the `application/octet-stream` in `ResourceHttpMessageWriter`. It tries to detect mime type by file extension. \r\n\r\nYou could use `InputStreamResource` instead to keep `application/octet-stream`\r\n\r\n```\r\nvar resource = new InputStreamResource(new FileInputStream(localFilename));\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/http/codec/ResourceHttpMessageWriter.java#L145\r\n\r\n","title":"Spring WebClient BodyInserters.fromResource() changes content-type?","body":"<p>It happens because of the <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/http/codec/ResourceHttpMessageWriter.java#L145\" rel=\"nofollow noreferrer\">specific handling</a> of the <code>application/octet-stream</code> in <code>ResourceHttpMessageWriter</code>. It tries to detect mime type by file extension.</p>\n<p>You could use <code>InputStreamResource</code> instead to keep <code>application/octet-stream</code></p>\n<pre><code>var resource = new InputStreamResource(new FileInputStream(localFilename));\n</code></pre>\n"}],"owner":{"account_id":1715113,"reputation":147,"user_id":1572370,"display_name":"Todd Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71431300,"answer_count":1,"score":0,"last_activity_date":1646949600,"creation_date":1646945315,"question_id":71430628,"body_markdown":"\r\nI&#39;m new to Spring&#39;s WebClient.  I&#39;m trying to post the contents of a file using the content-type application/octet-stream.  Initially I loaded the contents of the file into a byte array and used .bodyValue() to add it.  This works perfectly.\r\n\r\n```\r\nbyte[] data;\r\n \r\n// read file into byte array here ...\r\n\r\nFileUploadResponse resp = client.post().uri(uri)\r\n     .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n     .accept(MediaType.APPLICATION_JSON)\r\n     .bodyValue(data)  // From byte[]\r\n     .retrieve()\r\n     .bodyToMono(FileUploadResponse.class)\r\n     .block();\r\n```\r\n\r\nObviously loading the entire contents of the file into memory is not great.  So I did a little searching and it looks like I need to use a &quot;from resource body inserter.&quot;   So I changed the code to this:\r\n\r\n```\r\n// Use a Spring FileSystemResource that will be used to insert the data into the body.\r\nFileSystemResource resource = new FileSystemResource(localFilename);\r\n\r\n// Create a web client\r\nWebClient client = WebClient.create();\r\n\r\nFileUploadResponse resp = client.post().uri(uri)\r\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .body(BodyInserters.fromResource(resource)) // From file resource\r\n        .retrieve()\r\n        .bodyToMono(FileUploadResponse.class)\r\n        .block();\r\n```\r\n\r\nNow the content-type is being sent as &quot;text/plain&quot; (see below)\r\n\r\n```\r\nPOST /fileupload\r\naccept-encoding: gzip\r\nuser-agent: ReactorNetty/0.9.11.RELEASE\r\nhost: localhost:8080\r\nContent-Type: text/plain\r\nAccept: application/json\r\n```\r\n\r\nWhat am I doing wrong?  Does the BodyInserters.fromResource() always override the content-type to &quot;text/plain&quot;?  Is there some other way I should be doing this?\r\n\r\nThank you!\r\n","title":"Spring WebClient BodyInserters.fromResource() changes content-type?","body":"<p>I'm new to Spring's WebClient.  I'm trying to post the contents of a file using the content-type application/octet-stream.  Initially I loaded the contents of the file into a byte array and used .bodyValue() to add it.  This works perfectly.</p>\n<pre><code>byte[] data;\n \n// read file into byte array here ...\n\nFileUploadResponse resp = client.post().uri(uri)\n     .contentType(MediaType.APPLICATION_OCTET_STREAM)\n     .accept(MediaType.APPLICATION_JSON)\n     .bodyValue(data)  // From byte[]\n     .retrieve()\n     .bodyToMono(FileUploadResponse.class)\n     .block();\n</code></pre>\n<p>Obviously loading the entire contents of the file into memory is not great.  So I did a little searching and it looks like I need to use a &quot;from resource body inserter.&quot;   So I changed the code to this:</p>\n<pre><code>// Use a Spring FileSystemResource that will be used to insert the data into the body.\nFileSystemResource resource = new FileSystemResource(localFilename);\n\n// Create a web client\nWebClient client = WebClient.create();\n\nFileUploadResponse resp = client.post().uri(uri)\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n        .accept(MediaType.APPLICATION_JSON)\n        .body(BodyInserters.fromResource(resource)) // From file resource\n        .retrieve()\n        .bodyToMono(FileUploadResponse.class)\n        .block();\n</code></pre>\n<p>Now the content-type is being sent as &quot;text/plain&quot; (see below)</p>\n<pre><code>POST /fileupload\naccept-encoding: gzip\nuser-agent: ReactorNetty/0.9.11.RELEASE\nhost: localhost:8080\nContent-Type: text/plain\nAccept: application/json\n</code></pre>\n<p>What am I doing wrong?  Does the BodyInserters.fromResource() always override the content-type to &quot;text/plain&quot;?  Is there some other way I should be doing this?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","kotlin","admob","ads"],"comments":[{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":2,"creation_date":1646821788,"post_id":71406880,"comment_id":126217110,"body_markdown":"you cannot display advertisement without listing on supported app stores (not necessary play store). Refer to this link https://support.google.com/admob/answer/10564477","body":"you cannot display advertisement without listing on supported app stores (not necessary play store). Refer to this link <a href=\"https://support.google.com/admob/answer/10564477\" rel=\"nofollow noreferrer\">support.google.com/admob/answer/10564477</a>"},{"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"score":1,"creation_date":1646949345,"post_id":71406880,"comment_id":126256985,"body_markdown":"Thanks. But what if I have it on both, the Play Store and as an APK download from my website. Will Admob also display ads in the APK-version of the app? Or only if users download it from the PlayStore (or a different supported app store)?","body":"Thanks. But what if I have it on both, the Play Store and as an APK download from my website. Will Admob also display ads in the APK-version of the app? Or only if users download it from the PlayStore (or a different supported app store)?"},{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":0,"creation_date":1646989269,"post_id":71406880,"comment_id":126264579,"body_markdown":"i have seen advertisements in apk based app install ( i.e. install apk outside of play store ). But i really don&#39;t know if admob internally checks for source of install and puts limit on the ad display for invalid traffic in that case?. I think you should connect with admob team to validate it.","body":"i have seen advertisements in apk based app install ( i.e. install apk outside of play store ). But i really don&#39;t know if admob internally checks for source of install and puts limit on the ad display for invalid traffic in that case?. I think you should connect with admob team to validate it."}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646949362,"creation_date":1646817290,"question_id":71406880,"body_markdown":"I know there are a few posts with the question here, but they all are totally outdated.\r\n\r\n---\r\n\r\nI have an Android app that is not available in the Google Play Store. Instead, it is only available for download from our website as an APK file.\r\n\r\nIs it possible to show Admob ads in the app? \r\n\r\nIf so, how does it work with for example the app-ads.txt requirements?\r\n\r\n---\r\n\r\n# EDIT:\r\n\r\nThanks. But what if I have it on both, the Play Store and as an APK download from my website. Will Admob also display ads in the APK-version of the app? Or only if users download it from the PlayStore (or a different supported app store)?","title":"Admob: Display ads in an APK app that is not uploaded to Google Play Store","body":"<p>I know there are a few posts with the question here, but they all are totally outdated.</p>\n<hr />\n<p>I have an Android app that is not available in the Google Play Store. Instead, it is only available for download from our website as an APK file.</p>\n<p>Is it possible to show Admob ads in the app?</p>\n<p>If so, how does it work with for example the app-ads.txt requirements?</p>\n<hr />\n<h1>EDIT:</h1>\n<p>Thanks. But what if I have it on both, the Play Store and as an APK download from my website. Will Admob also display ads in the APK-version of the app? Or only if users download it from the PlayStore (or a different supported app store)?</p>\n"},{"tags":["java","sprite","collision","bounding-box"],"comments":[{"owner":{"account_id":3122746,"reputation":35134,"user_id":2642204,"accept_rate":95,"display_name":"BartoszKP"},"score":0,"creation_date":1388872727,"post_id":20927189,"comment_id":31422221,"body_markdown":"What are objects that can collide with a tank? Only rectangles also?","body":"What are objects that can collide with a tank? Only rectangles also?"},{"owner":{"account_id":3794707,"reputation":1921,"user_id":3150201,"accept_rate":44,"display_name":"user3150201"},"score":0,"creation_date":1388872795,"post_id":20927189,"comment_id":31422245,"body_markdown":"Yes, only rectangles.","body":"Yes, only rectangles."}],"answers":[{"tags":[],"owner":{"account_id":3806654,"reputation":33,"user_id":3158892,"display_name":"Einstein12345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388873089,"creation_date":1388872668,"answer_id":20927242,"question_id":20927189,"body_markdown":"What if you keep all the objects the tank can run into in an ArrayList, and simply use a for statement in a loop in a separate thread to determine if the tank has hit something.  For example, create a class for each object, say class Wall(), and keep the x, y variables available. Place the Wall() into the ArrayList, in this case tanks.  Then in a for loop, within a while loop: EC\r\n  \r\n    while(true) {\r\n        for(int i = 0; i &lt; tanks.size(); i++) {\r\n             //Do the code to determine if the tank has hit something.\r\n             if(tanks.get(i).x =&gt; tank.x) //Do whatever\r\n        }\r\n    }\r\nOf course adapt this to what you need, but the idea is the same.  If the object intersects the tank, or vice versa, do whatever you want to happen. To sum it up, just check the area the tank takes up, and see if that area intersects another object.\r\n\r\nActually, even better:\r\n\r\nI assume youre using the paint() method?  Whenever you update the Component, simply add some code that does basically what I just said to, checks to see if the area is intersecting with an if() statement.  EC:\r\n\r\n     if(tanks.get(i).x =&gt; tank.x || tanks.get(i).y =&gt; tank.y) DO SOMETHING\r\n\r\nof course, again adapt this if() to suit your needs","title":"Detecting collision of two sprites that can rotate","body":"<p>What if you keep all the objects the tank can run into in an ArrayList, and simply use a for statement in a loop in a separate thread to determine if the tank has hit something.  For example, create a class for each object, say class Wall(), and keep the x, y variables available. Place the Wall() into the ArrayList, in this case tanks.  Then in a for loop, within a while loop: EC</p>\n\n<pre><code>while(true) {\n    for(int i = 0; i &lt; tanks.size(); i++) {\n         //Do the code to determine if the tank has hit something.\n         if(tanks.get(i).x =&gt; tank.x) //Do whatever\n    }\n}\n</code></pre>\n\n<p>Of course adapt this to what you need, but the idea is the same.  If the object intersects the tank, or vice versa, do whatever you want to happen. To sum it up, just check the area the tank takes up, and see if that area intersects another object.</p>\n\n<p>Actually, even better:</p>\n\n<p>I assume youre using the paint() method?  Whenever you update the Component, simply add some code that does basically what I just said to, checks to see if the area is intersecting with an if() statement.  EC:</p>\n\n<pre><code> if(tanks.get(i).x =&gt; tank.x || tanks.get(i).y =&gt; tank.y) DO SOMETHING\n</code></pre>\n\n<p>of course, again adapt this if() to suit your needs</p>\n"},{"tags":[],"owner":{"account_id":1942674,"reputation":581,"user_id":2389918,"display_name":"Joshua Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388872952,"creation_date":1388872952,"answer_id":20927280,"question_id":20927189,"body_markdown":"You could use a Polygon rather than a Rectangle.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/awt/Polygon.html\r\n\r\nThis would manual calculation of the (x,y) corners however. It&#39;s possible that there is some way to construct a shape by rotating a Rectangle, but this would work at least. It has a `getBounds()` method.","title":"Detecting collision of two sprites that can rotate","body":"<p>You could use a Polygon rather than a Rectangle.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Polygon.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/awt/Polygon.html</a></p>\n\n<p>This would manual calculation of the (x,y) corners however. It's possible that there is some way to construct a shape by rotating a Rectangle, but this would work at least. It has a <code>getBounds()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646948886,"creation_date":1388881805,"answer_id":20928531,"question_id":20927189,"body_markdown":"A lot will depend on how you are managing your objects, but...\r\n\r\n![Rotate....][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Area;\r\n    import java.awt.geom.GeneralPath;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class RotateTest {\r\n\r\n        public static void main(String[] args) {\r\n            new RotateTest();\r\n        }\r\n\r\n        public RotateTest() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Rectangle rect01;\r\n            private Rectangle rect02;\r\n\r\n            private int angle = 0;\r\n\r\n            public TestPane() {\r\n\r\n                rect01 = new Rectangle(0, 0, 100, 100);\r\n                rect02 = new Rectangle(0, 0, 100, 100);\r\n\r\n                Timer timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        angle++;\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(250, 250);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                int width = getWidth();\r\n                int height = getHeight();\r\n\r\n                AffineTransform at = new AffineTransform();\r\n            \r\n                int center = width / 2;\r\n            \r\n                int x = center + (center - rect01.width) / 2;\r\n                int y = (height - rect01.height) / 2;\r\n                at.translate(x, y);\r\n                at.rotate(Math.toRadians(angle), rect01.width / 2, rect01.height / 2);\r\n                GeneralPath path1 = new GeneralPath();\r\n                path1.append(rect01.getPathIterator(at), true);\r\n                g2d.fill(path1);\r\n\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.draw(path1.getBounds());\r\n\r\n                at = new AffineTransform();\r\n                x = (center - rect02.width) / 2;\r\n                y = (height - rect02.height) / 2;\r\n                at.translate(x, y);\r\n                at.rotate(Math.toRadians(-angle), rect02.width / 2, rect02.height / 2);\r\n                GeneralPath path2 = new GeneralPath();\r\n                path2.append(rect02.getPathIterator(at), true);\r\n                g2d.fill(path2);\r\n\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.draw(path2.getBounds());\r\n\r\n                Area a1 = new Area(path1);\r\n                Area a2 = new Area(path2);\r\n                a2.intersect(a1);\r\n                if (!a2.isEmpty()) {\r\n                    g2d.setColor(Color.RED);\r\n                    g2d.fill(a2);\r\n                }\r\n            \r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nBasically, what this does, is it creates a `PathIterator` of the `Rectangle`, which allows me to apply a `AffineTransformation` to the shape without effecting the original shape...don&#39;t know if this is important or not, but this is how I did it...\r\n\r\nThen I created a `GeneralPath` which allows me to paint the `PathIterator`.\r\n\r\nNow, the funky bit...\r\n\r\nI create two `Area`s, one for each `GeneralPath` representing each object I want to check.  I then use the `Area`&#39;s `intersect` method, which generates a `Area` that represents the intersection points of the two objects and then check to see if this result is empty or not.\r\n\r\nIf it&#39;s empty, it&#39;s does not intersect, if it&#39;s not (empty), they touch.\r\n\r\nHave fun playing with that ;)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HocmL.gif","title":"Detecting collision of two sprites that can rotate","body":"<p>A lot will depend on how you are managing your objects, but...</p>\n<p><img src=\"https://i.stack.imgur.com/HocmL.gif\" alt=\"Rotate....\" /></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Area;\nimport java.awt.geom.GeneralPath;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class RotateTest {\n\n    public static void main(String[] args) {\n        new RotateTest();\n    }\n\n    public RotateTest() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Rectangle rect01;\n        private Rectangle rect02;\n\n        private int angle = 0;\n\n        public TestPane() {\n\n            rect01 = new Rectangle(0, 0, 100, 100);\n            rect02 = new Rectangle(0, 0, 100, 100);\n\n            Timer timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    angle++;\n                    repaint();\n                }\n            });\n            timer.start();\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(250, 250);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            int width = getWidth();\n            int height = getHeight();\n\n            AffineTransform at = new AffineTransform();\n        \n            int center = width / 2;\n        \n            int x = center + (center - rect01.width) / 2;\n            int y = (height - rect01.height) / 2;\n            at.translate(x, y);\n            at.rotate(Math.toRadians(angle), rect01.width / 2, rect01.height / 2);\n            GeneralPath path1 = new GeneralPath();\n            path1.append(rect01.getPathIterator(at), true);\n            g2d.fill(path1);\n\n            g2d.setColor(Color.BLUE);\n            g2d.draw(path1.getBounds());\n\n            at = new AffineTransform();\n            x = (center - rect02.width) / 2;\n            y = (height - rect02.height) / 2;\n            at.translate(x, y);\n            at.rotate(Math.toRadians(-angle), rect02.width / 2, rect02.height / 2);\n            GeneralPath path2 = new GeneralPath();\n            path2.append(rect02.getPathIterator(at), true);\n            g2d.fill(path2);\n\n            g2d.setColor(Color.BLUE);\n            g2d.draw(path2.getBounds());\n\n            Area a1 = new Area(path1);\n            Area a2 = new Area(path2);\n            a2.intersect(a1);\n            if (!a2.isEmpty()) {\n                g2d.setColor(Color.RED);\n                g2d.fill(a2);\n            }\n        \n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n<p>Basically, what this does, is it creates a <code>PathIterator</code> of the <code>Rectangle</code>, which allows me to apply a <code>AffineTransformation</code> to the shape without effecting the original shape...don't know if this is important or not, but this is how I did it...</p>\n<p>Then I created a <code>GeneralPath</code> which allows me to paint the <code>PathIterator</code>.</p>\n<p>Now, the funky bit...</p>\n<p>I create two <code>Area</code>s, one for each <code>GeneralPath</code> representing each object I want to check.  I then use the <code>Area</code>'s <code>intersect</code> method, which generates a <code>Area</code> that represents the intersection points of the two objects and then check to see if this result is empty or not.</p>\n<p>If it's empty, it's does not intersect, if it's not (empty), they touch.</p>\n<p>Have fun playing with that ;)</p>\n"}],"owner":{"account_id":3794707,"reputation":1921,"user_id":3150201,"accept_rate":44,"display_name":"user3150201"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1388890627,"answer_count":3,"score":1,"last_activity_date":1646948886,"creation_date":1388872264,"question_id":20927189,"body_markdown":"I have a problem with collision detection in a 2D Java game.\r\n\r\nNormally, what I would do is create a getBounds() method for an object that can collide with other objects. This method would return a `new Rectangle(x,y,width,height)`, where `x` and `y` are the coordinates for the top-left corner of the sprite, and `width` and `height` are the width and height of the sprite.\r\n\r\nBut in the game I&#39;m currently working on, there is a &quot;tank&quot; controlled by the user. The sprite of this tank **rotates** as long as the player holds one of the left or right arrow buttons. In other words, it can rotate to any angle. The tank&#39;s sprite is a rectangle.\r\n\r\nSo I can&#39;t simply do what I always do in this case.\r\n\r\nHow can I detect collision with this kind of sprite?\r\nThanks","title":"Detecting collision of two sprites that can rotate","body":"<p>I have a problem with collision detection in a 2D Java game.</p>\n\n<p>Normally, what I would do is create a getBounds() method for an object that can collide with other objects. This method would return a <code>new Rectangle(x,y,width,height)</code>, where <code>x</code> and <code>y</code> are the coordinates for the top-left corner of the sprite, and <code>width</code> and <code>height</code> are the width and height of the sprite.</p>\n\n<p>But in the game I'm currently working on, there is a \"tank\" controlled by the user. The sprite of this tank <strong>rotates</strong> as long as the player holds one of the left or right arrow buttons. In other words, it can rotate to any angle. The tank's sprite is a rectangle.</p>\n\n<p>So I can't simply do what I always do in this case.</p>\n\n<p>How can I detect collision with this kind of sprite?\nThanks</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"score":0,"creation_date":1645850004,"post_id":71274031,"comment_id":125985175,"body_markdown":"It&#39;s a limited design, since Java does not have lazy evaluation. Use that method only when the parameter is a literal value. You can write your own `getOrDefault(T,Supplier)` or use a 3rd party lib. If you also wanna update the value at the same time, use `computeIfAbsent`","body":"It&#39;s a limited design, since Java does not have lazy evaluation. Use that method only when the parameter is a literal value. You can write your own <code>getOrDefault(T,Supplier)</code> or use a 3rd party lib. If you also wanna update the value at the same time, use <code>computeIfAbsent</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646948775,"creation_date":1645850428,"answer_id":71274124,"question_id":71274031,"body_markdown":"Method `getOrDefault()` evaluates both arguments **before** executing its logic.\r\n\r\nIf you want to provide an optional part that will be evaluated lazily, then you need Java-8 methods like `merge()` or `computeIfAbsent()`.\r\n\r\n    Map&lt;String, Integer&gt; iMap = new HashMap&lt;&gt;();\r\n    iMap.put(&quot;a&quot;, 1);\r\n    Integer a = iMap.computeIfAbsent(&quot;a&quot;, key -&gt; getNum());\r\n\r\nSince key &quot;a&quot; is present in the map, the lambda expression will not be executed.\r\n\r\n**Note:** \r\n* `computeIfAbsent()` isn&#39;t a uniform substitution for `getOrDefault()`. These methods are meant to represent different operations on a map. By its nature, `computeIfAbsent()` is closer to `put()` or `putIfAbsent()` rather than to `getOrDefault()`. The main goal of `computeIfAbsent()` is to **make changes** in a map, while the main goal of `getOrDefault()` is to **retrieve** a value.","title":"Why putting method as param of getOrDefault, the method will be invoked anyway?","body":"<p>Method <code>getOrDefault()</code> evaluates both arguments <strong>before</strong> executing its logic.</p>\n<p>If you want to provide an optional part that will be evaluated lazily, then you need Java-8 methods like <code>merge()</code> or <code>computeIfAbsent()</code>.</p>\n<pre><code>Map&lt;String, Integer&gt; iMap = new HashMap&lt;&gt;();\niMap.put(&quot;a&quot;, 1);\nInteger a = iMap.computeIfAbsent(&quot;a&quot;, key -&gt; getNum());\n</code></pre>\n<p>Since key &quot;a&quot; is present in the map, the lambda expression will not be executed.</p>\n<p><strong>Note:</strong></p>\n<ul>\n<li><code>computeIfAbsent()</code> isn't a uniform substitution for <code>getOrDefault()</code>. These methods are meant to represent different operations on a map. By its nature, <code>computeIfAbsent()</code> is closer to <code>put()</code> or <code>putIfAbsent()</code> rather than to <code>getOrDefault()</code>. The main goal of <code>computeIfAbsent()</code> is to <strong>make changes</strong> in a map, while the main goal of <code>getOrDefault()</code> is to <strong>retrieve</strong> a value.</li>\n</ul>\n"}],"owner":{"account_id":17444074,"reputation":23,"user_id":12645446,"display_name":"lone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1645853172,"accepted_answer_id":71274124,"answer_count":1,"score":2,"last_activity_date":1646948775,"creation_date":1645848906,"question_id":71274031,"body_markdown":"```java\r\nMap&lt;String, Integer&gt; iMap = new HashMap&lt;&gt;();\r\niMap.put(&quot;a&quot;, 1);\r\nInteger a = iMap.getOrDefault(&quot;a&quot;, getNum());\r\n\r\nprivate Integer getNum() {\r\n    System.out.println(&quot;getNum Method has been invoked&quot;);\r\n    return 123;\r\n}\r\n\r\n```\r\n\r\n    output: getNum Method has been invoked\r\n\r\nthe iMap has key &quot;a&quot;, why getNum still has been invoked?\r\n","title":"Why putting method as param of getOrDefault, the method will be invoked anyway?","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; iMap = new HashMap&lt;&gt;();\niMap.put(&quot;a&quot;, 1);\nInteger a = iMap.getOrDefault(&quot;a&quot;, getNum());\n\nprivate Integer getNum() {\n    System.out.println(&quot;getNum Method has been invoked&quot;);\n    return 123;\n}\n\n</code></pre>\n<pre><code>output: getNum Method has been invoked\n</code></pre>\n<p>the iMap has key &quot;a&quot;, why getNum still has been invoked?</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":0,"creation_date":1646853277,"post_id":71414720,"comment_id":126229157,"body_markdown":"What language is running selenium? Java?","body":"What language is running selenium? Java?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1646853913,"post_id":71414720,"comment_id":126229379,"body_markdown":"_to insert random values_: _`alert(x ? p - 1 : &#39;k&#39;)`_ possibly generates a pattern. What error do you see?","body":"<i>to insert random values</i>: <i><code>alert(x ? p - 1 : &#39;k&#39;)</code></i> possibly generates a pattern. What error do you see?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646856392,"post_id":71414720,"comment_id":126230132,"body_markdown":"what are your bounds?  (include letters, numbers, extended characters?, min-length, max-length?)","body":"what are your bounds?  (include letters, numbers, extended characters?, min-length, max-length?)"},{"owner":{"account_id":24103097,"reputation":13,"user_id":18074668,"display_name":"Sofia Blanco Sanchez"},"score":0,"creation_date":1646942614,"post_id":71414720,"comment_id":126255050,"body_markdown":"@code It&#39;s Java sir","body":"@code It&#39;s Java sir"},{"owner":{"account_id":24103097,"reputation":13,"user_id":18074668,"display_name":"Sofia Blanco Sanchez"},"score":0,"creation_date":1646943133,"post_id":71414720,"comment_id":126255194,"body_markdown":"@undetectedSelenium Is that: &quot;java: method sendKeys in interface org.openqa.selenium.WebElement cannot be applied to given types;\n  required: java.lang.CharSequence[]\n  found:    double\n  reason: varargs mismatch; double cannot be converted to java.lang.CharSequence&quot;","body":"@undetectedSelenium Is that: &quot;java: method sendKeys in interface org.openqa.selenium.WebElement cannot be applied to given types;   required: java.lang.CharSequence[]   found:    double   reason: varargs mismatch; double cannot be converted to java.lang.CharSequence&quot;"}],"answers":[{"tags":[],"owner":{"account_id":13191041,"reputation":51,"user_id":9527303,"display_name":"Raj Shaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646916577,"creation_date":1646916577,"answer_id":71424418,"question_id":71414720,"body_markdown":"    driver.findElement(By.id(&quot;id1&quot;)).click();       \r\n    \r\n    \r\n     String Capital_chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            \tString Small_chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n            \tString numbers = &quot;0123456789&quot;;\r\n        int length = 8; // You can change the lenght of the random string as per your requirement\r\n        String values = Capital_chars + Small_chars + numbers ;\r\n        \t\tRandom randomGenerator = new Random();  \r\n        \t\tStringBuilder sb = new StringBuilder();\r\n        \t\tfor(int i = 0; i &lt; length; i++) {\r\n        \r\n        \t\t      // generate random index number\r\n        \t\t      int index = randomGenerator.nextInt(values.length());\r\n        \r\n        \t\t      // get character specified by index\r\n        \t\t      // from the string\r\n        \t\t      char randomChar = values.charAt(index);\r\n        \r\n        \t\t      // append the character to string builder\r\n        \t\t      sb.append(randomChar);\r\n        \t\t    }\r\n        \t\tSystem.out.println(&quot;sb====&quot;+sb.toString()); \r\n    \r\n    driver.findElement(By.id(&quot;id1&quot;)).sendKeys(sb.toString());\r\n\r\n\r\n\r\n\r\n\r\n","title":"Random values ​in selenium","body":"<pre><code>driver.findElement(By.id(&quot;id1&quot;)).click();       \n\n\n String Capital_chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            String Small_chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n            String numbers = &quot;0123456789&quot;;\n    int length = 8; // You can change the lenght of the random string as per your requirement\n    String values = Capital_chars + Small_chars + numbers ;\n            Random randomGenerator = new Random();  \n            StringBuilder sb = new StringBuilder();\n            for(int i = 0; i &lt; length; i++) {\n    \n                  // generate random index number\n                  int index = randomGenerator.nextInt(values.length());\n    \n                  // get character specified by index\n                  // from the string\n                  char randomChar = values.charAt(index);\n    \n                  // append the character to string builder\n                  sb.append(randomChar);\n                }\n            System.out.println(&quot;sb====&quot;+sb.toString()); \n\ndriver.findElement(By.id(&quot;id1&quot;)).sendKeys(sb.toString());\n</code></pre>\n"}],"owner":{"account_id":24103097,"reputation":13,"user_id":18074668,"display_name":"Sofia Blanco Sanchez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71424418,"answer_count":1,"score":0,"last_activity_date":1646948458,"creation_date":1646852466,"question_id":71414720,"body_markdown":"I&#39;m new to Selenium, and I can&#39;t quite figure out how to insert random values to a `Send.Key` in a `findElement`. I&#39;m using Selenium web driver with Java.\r\n\r\nHere&#39;s my code:\r\n\r\n    driver.findElement(By.id(&quot;id1&quot;)).click();\r\n        {\r\n            int T;\r\n            double M=0;\r\n            boolean S = true;\r\n            boolean x = false;\r\n            double p = 1;\r\n            for (T = 0; T == (int) Math.floor(T / 10);)\r\n                p = (p + T % 10 * (9 - M++ % 6)) % 11;\r\n            //return S?S-1:&#39;k&#39;;\r\n\r\n\r\n            alert(x ? p - 1 : &#39;k&#39;);\r\n\r\n            double alert;\r\n            driver.findElement(By.id(&quot;id1&quot;)).sendKeys(alert);\r\n\r\n        }\r\n\r\n\r\n\r\nCould someone tell me how to do this?","title":"Random values ​in selenium","body":"<p>I'm new to Selenium, and I can't quite figure out how to insert random values to a <code>Send.Key</code> in a <code>findElement</code>. I'm using Selenium web driver with Java.</p>\n<p>Here's my code:</p>\n<pre><code>driver.findElement(By.id(&quot;id1&quot;)).click();\n    {\n        int T;\n        double M=0;\n        boolean S = true;\n        boolean x = false;\n        double p = 1;\n        for (T = 0; T == (int) Math.floor(T / 10);)\n            p = (p + T % 10 * (9 - M++ % 6)) % 11;\n        //return S?S-1:'k';\n\n\n        alert(x ? p - 1 : 'k');\n\n        double alert;\n        driver.findElement(By.id(&quot;id1&quot;)).sendKeys(alert);\n\n    }\n</code></pre>\n<p>Could someone tell me how to do this?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1646947290,"post_id":71430356,"comment_id":126256439,"body_markdown":"I can&#39;t reproduce the exception you are getting with the code you&#39;ve posted. Please edit the question to include the full stacktrace of your exception rather than just the message.","body":"I can&#39;t reproduce the exception you are getting with the code you&#39;ve posted. Please edit the question to include the full stacktrace of your exception rather than just the message."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647014792,"post_id":71430356,"comment_id":126274005,"body_markdown":"You need to provide more detail.  Show a small sample of what the file contents should look like.  Do you want the bytes written in ASCII (so you can read them when you edit the file - i.e. a  text file ) or in raw binary?  And your error talks about format of an `input string`.  Are you then trying to read this file you created.  Otherwise we are just guessing at the problem you are having.","body":"You need to provide more detail.  Show a small sample of what the file contents should look like.  Do you want the bytes written in ASCII (so you can read them when you edit the file - i.e. a  text file ) or in raw binary?  And your error talks about format of an <code>input string</code>.  Are you then trying to read this file you created.  Otherwise we are just guessing at the problem you are having."}],"answers":[{"tags":[],"owner":{"account_id":24519424,"reputation":11,"user_id":18432703,"display_name":"softwarepie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646947816,"creation_date":1646947816,"answer_id":71431020,"question_id":71430356,"body_markdown":"I believe this is what you were looking for, I&#39;d just like to point out that the byte data type can hold values from -128 to 127 so for this program, you&#39;d likely want to use a short as they can hold up to 32k. \r\n\r\nI&#39;ll also point out that in most cases you don&#39;t need to mark the method as throwing the FNTE as you&#39;re already handling the exception within (although you could still mark it as throwing FNTE if you want to further handle it from wherever you&#39;re calling it from)\r\n\r\n```\r\n    public static void main(String args[]) {\r\n        //Call the method, pass in the required args\r\n        genRandomNums(5, 4, 10000, &quot;nums.txt&quot;);\r\n    }\r\n\r\n    public static void genRandomNums(int amount, int size, int maxVal, String fileName){\r\n        try {\r\n            //Create a file object and set the path to the passed file name\r\n            File file = new File(fileName);\r\n            //Create object of filewriter which will be used to write to the file\r\n            FileWriter fw = new FileWriter(file);\r\n\r\n            //Create an object of random, used to generate the random numbers\r\n            Random random = new Random();\r\n            \r\n            //This loop controls how many arrays are created\r\n            for(int i = 0; i &lt; amount; i++){\r\n\r\n                //Array to store the temp numbers, change this to int/long if you want to store above 32k value mark\r\n                short tempArr[] = new short[size];\r\n                \r\n                //This loop controls setting the actual elements of the array\r\n                for (int j = 0; j &lt; size; j++){\r\n                    tempArr[j] = (short) random.nextInt(maxVal);\r\n                }\r\n\r\n                //Write the array to the file, add a new line so each array is separated\r\n                fw.write(Arrays.toString(tempArr) + &quot;\\n&quot;);\r\n            }\r\n\r\n            //Close and save the file\r\n            fw.close();\r\n\r\n        }catch (IOException ex){\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Generating n random integers and putting them in a byte array, printing to file","body":"<p>I believe this is what you were looking for, I'd just like to point out that the byte data type can hold values from -128 to 127 so for this program, you'd likely want to use a short as they can hold up to 32k.</p>\n<p>I'll also point out that in most cases you don't need to mark the method as throwing the FNTE as you're already handling the exception within (although you could still mark it as throwing FNTE if you want to further handle it from wherever you're calling it from)</p>\n<pre><code>    public static void main(String args[]) {\n        //Call the method, pass in the required args\n        genRandomNums(5, 4, 10000, &quot;nums.txt&quot;);\n    }\n\n    public static void genRandomNums(int amount, int size, int maxVal, String fileName){\n        try {\n            //Create a file object and set the path to the passed file name\n            File file = new File(fileName);\n            //Create object of filewriter which will be used to write to the file\n            FileWriter fw = new FileWriter(file);\n\n            //Create an object of random, used to generate the random numbers\n            Random random = new Random();\n            \n            //This loop controls how many arrays are created\n            for(int i = 0; i &lt; amount; i++){\n\n                //Array to store the temp numbers, change this to int/long if you want to store above 32k value mark\n                short tempArr[] = new short[size];\n                \n                //This loop controls setting the actual elements of the array\n                for (int j = 0; j &lt; size; j++){\n                    tempArr[j] = (short) random.nextInt(maxVal);\n                }\n\n                //Write the array to the file, add a new line so each array is separated\n                fw.write(Arrays.toString(tempArr) + &quot;\\n&quot;);\n            }\n\n            //Close and save the file\n            fw.close();\n\n        }catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646948422,"creation_date":1646948014,"answer_id":71431059,"question_id":71430356,"body_markdown":"Try it like this. The values will be between -128 and 127 inclusive.  Separated by a comma and a space.\r\n```\r\npublic static void randomNumberGenerator(String fileName) throws FileNotFoundException {\r\n\t\r\n    Random random = new Random();\r\n    try (PrintWriter printWriter = new PrintWriter(fileName, StandardCharsets.UTF_8)) {\r\n    \tprintWriter.print(random.nextInt(255)-128); \r\n    \tfor(int i=0; i&lt;39_999; i++) {\r\n    \t        \tprintWriter.printf(&quot;, %d&quot;, random.nextInt(255)-128);        \r\n    \t}\r\n    \r\n    } catch (IOException ioe) {\r\n    \tioe.printStackTrace();\r\n    }\r\n\r\n}\r\n","title":"Generating n random integers and putting them in a byte array, printing to file","body":"<p>Try it like this. The values will be between -128 and 127 inclusive.  Separated by a comma and a space.</p>\n<pre><code>public static void randomNumberGenerator(String fileName) throws FileNotFoundException {\n    \n    Random random = new Random();\n    try (PrintWriter printWriter = new PrintWriter(fileName, StandardCharsets.UTF_8)) {\n        printWriter.print(random.nextInt(255)-128); \n        for(int i=0; i&lt;39_999; i++) {\n                    printWriter.printf(&quot;, %d&quot;, random.nextInt(255)-128);        \n        }\n    \n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24519099,"reputation":1,"user_id":18432439,"display_name":"DanielRooney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646948422,"creation_date":1646943920,"question_id":71430356,"body_markdown":"Currently working on a little project; as part of it I am creating a function called `randomNumberGenerator` which takes one parameter; `string fileName` which the name of the file/path that the user wants the integers to be written to. 10,000 random integers with a value between 0 and 100,000. From here, I want to convert the integers into an array of 4 bytes; and print the result in the filename which the user has passed into the function.\r\n\r\nI&#39;ve worked out how to generate the random numbers successfully, however I&#39;m not able to convert it to a byte array successfully. Below is the function so far:\r\n\r\n  \r\n\r\n    public void randomNumberGenerator(String fileName) throws FileNotFoundException {\r\n    \r\n    \r\n        try {\r\n          PrintWriter printWriter = new PrintWriter(fileName, StandardCharsets.UTF_8);\r\n          Random random = new Random();\r\n          for(int i=0; i&lt;10000; i++) {\r\n            byte [] bytes = ByteBuffer.allocate(4).putInt(random.nextInt(100000)).array();\r\n            printWriter.println(Arrays.toString(bytes));\r\n    \r\n          }\r\n          printWriter.close();\r\n        } catch (FileNotFoundException e) {\r\n          e.printStackTrace();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n    \r\n      }\r\n\r\n\r\n When I try running my code thus far, I&#39;m getting the error `java.lang.NumberFormatException: For input string: &quot;[0, 0, -115, -120]&quot;\r\n` - I&#39;ve tried to fix this by doing `printWriter.println(Arrays.toString(bytes));` instead, as I thought `Arrays.toString` was causing the error but I still can&#39;t get the function to turn the integers to a byte array succesffuly from there. \r\n\r\nIf anybody could advise me on what to do or where I&#39;m going wrong, I&#39;d appreciate it.","title":"Generating n random integers and putting them in a byte array, printing to file","body":"<p>Currently working on a little project; as part of it I am creating a function called <code>randomNumberGenerator</code> which takes one parameter; <code>string fileName</code> which the name of the file/path that the user wants the integers to be written to. 10,000 random integers with a value between 0 and 100,000. From here, I want to convert the integers into an array of 4 bytes; and print the result in the filename which the user has passed into the function.</p>\n<p>I've worked out how to generate the random numbers successfully, however I'm not able to convert it to a byte array successfully. Below is the function so far:</p>\n<pre><code>public void randomNumberGenerator(String fileName) throws FileNotFoundException {\n\n\n    try {\n      PrintWriter printWriter = new PrintWriter(fileName, StandardCharsets.UTF_8);\n      Random random = new Random();\n      for(int i=0; i&lt;10000; i++) {\n        byte [] bytes = ByteBuffer.allocate(4).putInt(random.nextInt(100000)).array();\n        printWriter.println(Arrays.toString(bytes));\n\n      }\n      printWriter.close();\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n\n  }\n</code></pre>\n<p>When I try running my code thus far, I'm getting the error <code>java.lang.NumberFormatException: For input string: &quot;[0, 0, -115, -120]&quot; </code> - I've tried to fix this by doing <code>printWriter.println(Arrays.toString(bytes));</code> instead, as I thought <code>Arrays.toString</code> was causing the error but I still can't get the function to turn the integers to a byte array succesffuly from there.</p>\n<p>If anybody could advise me on what to do or where I'm going wrong, I'd appreciate it.</p>\n"},{"tags":["java","grails","gsp"],"comments":[{"owner":{"account_id":393656,"reputation":8442,"user_id":755637,"accept_rate":35,"display_name":"V H"},"score":0,"creation_date":1502700607,"post_id":45669111,"comment_id":78298674,"body_markdown":"try `params=&quot;[hello:&quot;hello&quot;,world:&quot;world&quot;]&quot;` or  `params=&quot;${[hello:&quot;hello&quot;,world:&quot;world&quot;]}&quot;`","body":"try <code>params=&quot;[hello:&quot;hello&quot;,world:&quot;world&quot;]&quot;</code> or  <code>params=&quot;${[hello:&quot;hello&quot;,world:&quot;world&quot;]}&quot;</code>"},{"owner":{"account_id":5272880,"reputation":96,"user_id":4210628,"accept_rate":60,"display_name":"anishroniyar"},"score":0,"creation_date":1502714392,"post_id":45669111,"comment_id":78306844,"body_markdown":"@vahid sorry, but this doesn&#39;t work. I need both the map and named parameter in the same params link.","body":"@vahid sorry, but this doesn&#39;t work. I need both the map and named parameter in the same params link."}],"answers":[{"tags":[],"owner":{"account_id":393656,"reputation":8442,"user_id":755637,"accept_rate":35,"display_name":"V H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502716312,"creation_date":1502716312,"answer_id":45675332,"question_id":45669111,"body_markdown":"Sometimes you really can&#39;t beat simplicty:\r\n\r\n    def test() {\r\n    \tdef map1=[&#39;a&#39;:1]\r\n    \tdef map2=[&#39;a2&#39;:2]\r\n    \t\r\n    \tdef map3=map1+map2\r\n    \tprintln &quot;000 ${map3} vs ${params}&quot;\r\n    \t\r\n    \trender  view:&#39;test&#39;, model:[map1:map1,map2:map2]\r\n    }\r\n\r\nPassing the maps to the view gsp:\r\n\r\n       &lt;g:set var=&quot;map6&quot; value=&quot;${[hello1:&#39;hello2&#39;,world1:&#39;world2&#39;] }&quot;/&gt;\r\n    &lt;g:set var=&quot;currentParams&quot; value=&quot;${params}&quot;/&gt;\r\n    ${map1 } ${map6}\r\n    &lt;g:link action=&quot;test&quot; controller=&quot;test&quot; params=&quot;${map1+map6+map2+currentParams}&quot;&gt;test&lt;/g:link&gt;\r\n\r\nShows this when I click on link\r\n{a=1} {hello1=hello2, world1=world2} test\r\n\r\n\r\nMy url upon clicking is:\r\n\r\n    /test?a=1&amp;hello1=hello2&amp;world1=world2&amp;a2=2&amp;hello=hello&amp;world=world\r\n    000 [a:1, a2:2] vs [hello:hello, a:1, a2:2, world1:world2, hello1:hello2, world:world, action:test, controller:test]\r\n\r\n\r\nWhat you are trying to do ? no \r\n","title":"gsp link to put named parameters and map in the same params attribute","body":"<p>Sometimes you really can't beat simplicty:</p>\n\n<pre><code>def test() {\n    def map1=['a':1]\n    def map2=['a2':2]\n\n    def map3=map1+map2\n    println \"000 ${map3} vs ${params}\"\n\n    render  view:'test', model:[map1:map1,map2:map2]\n}\n</code></pre>\n\n<p>Passing the maps to the view gsp:</p>\n\n<pre><code>   &lt;g:set var=\"map6\" value=\"${[hello1:'hello2',world1:'world2'] }\"/&gt;\n&lt;g:set var=\"currentParams\" value=\"${params}\"/&gt;\n${map1 } ${map6}\n&lt;g:link action=\"test\" controller=\"test\" params=\"${map1+map6+map2+currentParams}\"&gt;test&lt;/g:link&gt;\n</code></pre>\n\n<p>Shows this when I click on link\n{a=1} {hello1=hello2, world1=world2} test</p>\n\n<p>My url upon clicking is:</p>\n\n<pre><code>/test?a=1&amp;hello1=hello2&amp;world1=world2&amp;a2=2&amp;hello=hello&amp;world=world\n000 [a:1, a2:2] vs [hello:hello, a:1, a2:2, world1:world2, hello1:hello2, world:world, action:test, controller:test]\n</code></pre>\n\n<p>What you are trying to do ? no </p>\n"}],"owner":{"account_id":5272880,"reputation":96,"user_id":4210628,"accept_rate":60,"display_name":"anishroniyar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45675332,"answer_count":1,"score":0,"last_activity_date":1646948417,"creation_date":1502694411,"question_id":45669111,"body_markdown":"I am getting problem in adding the named argument and map in the same params attribute in `g:link`.\r\n\r\nI can put named argument such as:\r\n\r\n    &lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params=&#39;[hello:&quot;hello&quot;,world:&quot;world&quot;]&#39;&gt;test&lt;/g:link&gt;\r\nor I can make the map in the controller and use that in gsp link params such as:\r\n\r\n    &lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params=&#39;${testParam}&#39;&gt;test&lt;/g:link&gt;\r\n\r\nThis both form the link in proper manner. But now I want to use both ways in the same link inside params attribute such as:\r\n\r\n    &lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params=&#39;${testMapParam},[hello:&quot;hello&quot;,world:&quot;world&quot;]&#39;&gt;test&lt;/g:link&gt;\r\n\r\nI am unable to do in this way. This don&#39;t make the proper link. Is there a way to do this?","title":"gsp link to put named parameters and map in the same params attribute","body":"<p>I am getting problem in adding the named argument and map in the same params attribute in <code>g:link</code>.</p>\n<p>I can put named argument such as:</p>\n<pre><code>&lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params='[hello:&quot;hello&quot;,world:&quot;world&quot;]'&gt;test&lt;/g:link&gt;\n</code></pre>\n<p>or I can make the map in the controller and use that in gsp link params such as:</p>\n<pre><code>&lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params='${testParam}'&gt;test&lt;/g:link&gt;\n</code></pre>\n<p>This both form the link in proper manner. But now I want to use both ways in the same link inside params attribute such as:</p>\n<pre><code>&lt;g:link action=&quot;action&quot; controller=&quot;controller&quot; params='${testMapParam},[hello:&quot;hello&quot;,world:&quot;world&quot;]'&gt;test&lt;/g:link&gt;\n</code></pre>\n<p>I am unable to do in this way. This don't make the proper link. Is there a way to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":544142,"reputation":1727,"user_id":913488,"accept_rate":61,"display_name":"Mahaveer Muttha"},"score":0,"creation_date":1320065927,"post_id":7953987,"comment_id":9722531,"body_markdown":"Thanks @Nathan Quirynen.. you mean to say package java.lang is pre-imported in progrm and i need not to import explicitly?????","body":"Thanks @Nathan Quirynen.. you mean to say package java.lang is pre-imported in progrm and i need not to import explicitly?????"},{"owner":{"account_id":478938,"reputation":1902,"user_id":891318,"accept_rate":93,"display_name":"Nathan Q"},"score":0,"creation_date":1320066330,"post_id":7953987,"comment_id":9722625,"body_markdown":"I meant you did not need to doubt; I know, not the most useful answer :&gt;","body":"I meant you did not need to doubt; I know, not the most useful answer :&gt;"}],"answers":[{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1407326196,"creation_date":1320065755,"answer_id":7954004,"question_id":7953987,"body_markdown":"Everything in the `java.lang` package is implicitly imported (including String) and you do not need to do so yourself. This is simply a feature of the Java language. ArrayList and HashMap are however in the `java.util` package, which is not implicitly imported.\r\n\r\nThe package java.lang mostly includes essential features, such a class version of primitives, basic exceptions and the Object class. This being integral to most programs, forcing people to import them is redundant and thus the contents of this package are implicitly imported.","title":"Java String import","body":"<p>Everything in the <code>java.lang</code> package is implicitly imported (including String) and you do not need to do so yourself. This is simply a feature of the Java language. ArrayList and HashMap are however in the <code>java.util</code> package, which is not implicitly imported.</p>\n\n<p>The package java.lang mostly includes essential features, such a class version of primitives, basic exceptions and the Object class. This being integral to most programs, forcing people to import them is redundant and thus the contents of this package are implicitly imported.</p>\n"},{"tags":[],"owner":{"account_id":335255,"reputation":12716,"user_id":662250,"accept_rate":85,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1320065778,"creation_date":1320065778,"answer_id":7954005,"question_id":7953987,"body_markdown":"`String` is present in package `java.lang` which is imported by default in all java programs.","title":"Java String import","body":"<p><code>String</code> is present in package <code>java.lang</code> which is imported by default in all java programs.</p>\n"},{"tags":[],"owner":{"account_id":3702093,"reputation":159,"user_id":3081492,"accept_rate":93,"display_name":"begginerAll"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387466017,"creation_date":1387466017,"answer_id":20685197,"question_id":7953987,"body_markdown":"Java compiler imports 3 packages by default. \r\n`1. The package without name`\r\n`2. The java.lang package(That&#39;s why you can declare String, Integer, System classes without import)`\r\n`3. The current package (current file&#39;s package)`\r\n\r\nThat&#39;s why you don&#39;t need to declare import statement for the `java.lang` package.","title":"Java String import","body":"<p>Java compiler imports 3 packages by default. \n<code>1. The package without name</code>\n<code>2. The java.lang package(That's why you can declare String, Integer, System classes without import)</code>\n<code>3. The current package (current file's package)</code></p>\n\n<p>That's why you don't need to declare import statement for the <code>java.lang</code> package.</p>\n"},{"tags":[],"owner":{"account_id":16227172,"reputation":1,"user_id":11717135,"display_name":"AZZAM JAFRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599391848,"creation_date":1599391848,"answer_id":63763649,"question_id":7953987,"body_markdown":"import java.lang.String;\r\n\r\nThis is an unnecessary import. java.lang classes are always implicitly imported.\r\nThis means that you do not have to import them manually (explicitly).","title":"Java String import","body":"<p>import java.lang.String;</p>\n<p>This is an unnecessary import. java.lang classes are always implicitly imported.\nThis means that you do not have to import them manually (explicitly).</p>\n"},{"tags":[],"owner":{"account_id":7998649,"reputation":132,"user_id":6034186,"display_name":"Avinash Nath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642277903,"creation_date":1642277903,"answer_id":70725099,"question_id":7953987,"body_markdown":"I&#39;m bit late here, but just for new reader, According to my understanding \r\n\r\n**String** is present in package `java.lang` which is imported by default at class loading time by `rt.jar` which is present at class path. ****Bootstrap Classloader** (Primodial ClassLoader)** is responsible for loading **rt.jar**. \r\n\r\nWe always include rt.jar in our classpath, otherwise, you don&#39;t have access to core java classes e.g. `java.lang.String, java.lang.Thread, java.util.ArrayList` or `java.io.InputStream` etc. and all other classes from Java API.  \r\n\r\n`rt.jar` will always reside under **$JAVA_HOME/jre/lib** and you can open it by using `WinRAR` or `WinZip` client\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3JIh.png","title":"Java String import","body":"<p>I'm bit late here, but just for new reader, According to my understanding</p>\n<p><strong>String</strong> is present in package <code>java.lang</code> which is imported by default at class loading time by <code>rt.jar</code> which is present at class path. <strong><strong>Bootstrap Classloader</strong> (Primodial ClassLoader)</strong> is responsible for loading <strong>rt.jar</strong>.</p>\n<p>We always include rt.jar in our classpath, otherwise, you don't have access to core java classes e.g. <code>java.lang.String, java.lang.Thread, java.util.ArrayList</code> or <code>java.io.InputStream</code> etc. and all other classes from Java API.</p>\n<p><code>rt.jar</code> will always reside under <strong>$JAVA_HOME/jre/lib</strong> and you can open it by using <code>WinRAR</code> or <code>WinZip</code> client</p>\n<p><a href=\"https://i.stack.imgur.com/N3JIh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3JIh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":544142,"reputation":1727,"user_id":913488,"accept_rate":61,"display_name":"Mahaveer Muttha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177962,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1646948145,"creation_date":1320065658,"question_id":7953987,"body_markdown":"I have one doubt. When we use `ArrayList` or `HashMap` in Java, we have to import `java.util.ArrayList` or `java.util.HashMap`. But when we use `String`, it doesn&#39;t require the `import` statement. Can anyone clarify, why?","title":"Java String import","body":"<p>I have one doubt. When we use <code>ArrayList</code> or <code>HashMap</code> in Java, we have to import <code>java.util.ArrayList</code> or <code>java.util.HashMap</code>. But when we use <code>String</code>, it doesn't require the <code>import</code> statement. Can anyone clarify, why?</p>\n"},{"tags":["java","maven","intellij-idea","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646948075,"creation_date":1646948075,"answer_id":71431068,"question_id":71431067,"body_markdown":"**Make `Project` SDK *match* `Module` SDK**\r\n\r\n*I happened to have a mismatch of configured SDK...*\r\n\r\n 1. `Project window &gt; right-click your [Maven] Project &gt; Open Module Settings &gt; Project Settings`\r\n 2. Set these to match on their `SDK` (and maybe also `Language level`):\r\n     - `Project &gt; SDK`\r\n     - `Modules &gt; Dependencies &gt; Module SDK`\r\n3. Now try to `mvn compile` again","title":"IntelliJ IDEA Java Maven `The type java.lang.Object cannot be resolved`","body":"<p><strong>Make <code>Project</code> SDK <em>match</em> <code>Module</code> SDK</strong></p>\n<p><em>I happened to have a mismatch of configured SDK...</em></p>\n<ol>\n<li><code>Project window &gt; right-click your [Maven] Project &gt; Open Module Settings &gt; Project Settings</code></li>\n<li>Set these to match on their <code>SDK</code> (and maybe also <code>Language level</code>):\n<ul>\n<li><code>Project &gt; SDK</code></li>\n<li><code>Modules &gt; Dependencies &gt; Module SDK</code></li>\n</ul>\n</li>\n<li>Now try to <code>mvn compile</code> again</li>\n</ol>\n"}],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646948075,"creation_date":1646948075,"question_id":71431067,"body_markdown":"### Upon `IntelliJ IDEA &gt; File &gt; New &gt; Project from Existing Sources... &gt; Import project from external model &gt; Maven`, I can&#39;t successfully `mvn compile`. ###\r\nInstead Maven fails that with..\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n...\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\n.. on seemingly *every* classtype (not just `Object` as above) in the project.\r\n\r\n**How can I configure my IntelliJ to successfully `mvn compile`?**\r\n\r\n\r\n----------\r\n\r\n\r\n*[Questions that are similar to this, but not exactly the same (although maybe tangentially helpful)]:*\r\n\r\n - https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res?noredirect=1&amp;lq=1\r\n     - Nothing is red in my IntelliJ IDEA\r\n - https://stackoverflow.com/questions/26952078/intellij-cannot-resolve-symbol-on-import\r\n     - Sounds like the wording of that [error?], &quot;Cannot resolve symbol on import&quot;, is similar but different from mine (&quot;The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files&quot;)\r\n     - A text search of that page also [CMD+F / Ctrl+F], for parts of my specific Error message {&quot;cannot be resolved&quot;, &quot;indirectly referenced&quot;, &quot;.class&quot;}, shows no matches - which further leads me to think that Question is slightly different\r\n     - Question itself makes no mention of `Maven`\r\n\r\n  [1]: https://meta.stackoverflow.com/a/250208/1357094","title":"IntelliJ IDEA Java Maven `The type java.lang.Object cannot be resolved`","body":"<h3>Upon <code>IntelliJ IDEA &gt; File &gt; New &gt; Project from Existing Sources... &gt; Import project from external model &gt; Maven</code>, I can't successfully <code>mvn compile</code>.</h3>\n<p>Instead Maven fails that with..</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n...\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>.. on seemingly <em>every</em> classtype (not just <code>Object</code> as above) in the project.</p>\n<p><strong>How can I configure my IntelliJ to successfully <code>mvn compile</code>?</strong></p>\n<hr />\n<p><em>[Questions that are similar to this, but not exactly the same (although maybe tangentially helpful)]:</em></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res?noredirect=1&amp;lq=1\">Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved</a>\n<ul>\n<li>Nothing is red in my IntelliJ IDEA</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/26952078/intellij-cannot-resolve-symbol-on-import\">Intellij Cannot resolve symbol on import</a>\n<ul>\n<li>Sounds like the wording of that [error?], &quot;Cannot resolve symbol on import&quot;, is similar but different from mine (&quot;The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files&quot;)</li>\n<li>A text search of that page also [CMD+F / Ctrl+F], for parts of my specific Error message {&quot;cannot be resolved&quot;, &quot;indirectly referenced&quot;, &quot;.class&quot;}, shows no matches - which further leads me to think that Question is slightly different</li>\n<li>Question itself makes no mention of <code>Maven</code></li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646947659,"creation_date":1646946395,"answer_id":71430819,"question_id":71430781,"body_markdown":"Remove `@RequestBody`. If your DTO will look like this\r\n\r\n    public class EmailDTO{\r\n      private String recipientAddress;\r\n      private String subjectLine;\r\n      private String messageBody;\r\n      //add getters and setters (MANDATORY)\r\n    }\r\n\r\nand if you send all your params as query params, it will work\r\n\r\nif you are indeed need to sent JSON than probably you wanted `@PostMapping` not `@GetMapping`","title":"Endpoint throwing &quot;Required request body is missing: public boolean&quot; when boolean not requested","body":"<p>Remove <code>@RequestBody</code>. If your DTO will look like this</p>\n<pre><code>public class EmailDTO{\n  private String recipientAddress;\n  private String subjectLine;\n  private String messageBody;\n  //add getters and setters (MANDATORY)\n}\n</code></pre>\n<p>and if you send all your params as query params, it will work</p>\n<p>if you are indeed need to sent JSON than probably you wanted <code>@PostMapping</code> not <code>@GetMapping</code></p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646947932,"creation_date":1646946696,"answer_id":71430859,"question_id":71430781,"body_markdown":"you should not use GET with payload as `{recipientAddress: &#39;sample@gmail.com&#39;,...}`\r\n\r\nyou can either:\r\n 1. change `@GetMapping(&quot;/SendEmail&quot;)` to `@PostMapping(&quot;/SendEmail&quot;)` and send an object (don&#39;t forget `content-type` header)\r\n```shell\r\ncurl -X POST http://localhost:8080/SendEmail -d &#39;{&quot;recipientAddress&quot;: &quot;sample@gmail.com&quot;, &quot;subjectLine&quot;: &quot;a&quot;, &quot;messageBody&quot;: &quot;s&quot;}&#39; -H &#39;Content-Type: application/json&#39;\r\n```\r\n(on postman make sure to change http method to POST)\r\n\r\n 2. keep `@GetMapping` but break you payload into query params:\r\n```shell \r\ncurl &quot;http://localhost:8080/SendEmail?recipientAddress=sample@gmail.com&amp;subjectLine=a&amp;messageBody=s&quot;\r\n```\r\n(assuming localhost:8080)\r\n\r\nlast you did not specify if you use class level annotation `@RestController` or `@Controller`, if you use `@Controller` - you should also add `@ResponseBody` on method level (use `@RestController` if you can)\r\n","title":"Endpoint throwing &quot;Required request body is missing: public boolean&quot; when boolean not requested","body":"<p>you should not use GET with payload as <code>{recipientAddress: 'sample@gmail.com',...}</code></p>\n<p>you can either:</p>\n<ol>\n<li>change <code>@GetMapping(&quot;/SendEmail&quot;)</code> to <code>@PostMapping(&quot;/SendEmail&quot;)</code> and send an object (don't forget <code>content-type</code> header)</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>curl -X POST http://localhost:8080/SendEmail -d '{&quot;recipientAddress&quot;: &quot;sample@gmail.com&quot;, &quot;subjectLine&quot;: &quot;a&quot;, &quot;messageBody&quot;: &quot;s&quot;}' -H 'Content-Type: application/json'\n</code></pre>\n<p>(on postman make sure to change http method to POST)</p>\n<ol start=\"2\">\n<li>keep <code>@GetMapping</code> but break you payload into query params:</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>curl &quot;http://localhost:8080/SendEmail?recipientAddress=sample@gmail.com&amp;subjectLine=a&amp;messageBody=s&quot;\n</code></pre>\n<p>(assuming localhost:8080)</p>\n<p>last you did not specify if you use class level annotation <code>@RestController</code> or <code>@Controller</code>, if you use <code>@Controller</code> - you should also add <code>@ResponseBody</code> on method level (use <code>@RestController</code> if you can)</p>\n"}],"owner":{"account_id":17691172,"reputation":144,"user_id":12842894,"display_name":"Serus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71430859,"answer_count":2,"score":1,"last_activity_date":1646947932,"creation_date":1646946156,"question_id":71430781,"body_markdown":"The following is a generic &quot;Send an email to a user&quot; endpoint, in a java application with SpringBoot framework. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHitting it manually with Postman works as intended, but hitting it from the mobile frontend (largely react JS based) with the following JSON:   \r\n\r\n    {recipientAddress: &#39;sample@gmail.com&#39;, subjectLine: &#39;a&#39;, messageBody: &#39;s&#39;}  \r\n\r\nThrows the following error:  \r\n\r\n    Required request body is missing: public boolean \r\n        [. . .].Controllers.API.ApplicationUserController.sendEmail([. . .].Models.DTOs.EmailDTO)\r\n\r\n\r\nI don&#39;t know where this would be coming from, as the RequestBody does not have a boolean, and the DTO it does request also does not have a boolean anywhere in it. The only boolean involved is the return value, but that wouldn&#39;t be relevant to the exception in question. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p4ts4.png","title":"Endpoint throwing &quot;Required request body is missing: public boolean&quot; when boolean not requested","body":"<p>The following is a generic &quot;Send an email to a user&quot; endpoint, in a java application with SpringBoot framework.</p>\n<p><a href=\"https://i.stack.imgur.com/p4ts4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4ts4.png\" alt=\"enter image description here\" /></a></p>\n<p>Hitting it manually with Postman works as intended, but hitting it from the mobile frontend (largely react JS based) with the following JSON:</p>\n<pre><code>{recipientAddress: 'sample@gmail.com', subjectLine: 'a', messageBody: 's'}  \n</code></pre>\n<p>Throws the following error:</p>\n<pre><code>Required request body is missing: public boolean \n    [. . .].Controllers.API.ApplicationUserController.sendEmail([. . .].Models.DTOs.EmailDTO)\n</code></pre>\n<p>I don't know where this would be coming from, as the RequestBody does not have a boolean, and the DTO it does request also does not have a boolean anywhere in it. The only boolean involved is the return value, but that wouldn't be relevant to the exception in question.</p>\n"},{"tags":["java","loops","menu","switch-statement","console-application"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1646945643,"post_id":71430556,"comment_id":126255967,"body_markdown":"use function with return type; for example boolean instead void","body":"use function with return type; for example boolean instead void"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646947767,"creation_date":1646947767,"answer_id":71431013,"question_id":71430556,"body_markdown":"If the code loops you to the accountsTable method it seems you entered &#39;1&#39;.\r\nNow assuming you do that once, go through accountTable and come back, you&#39;d expect the menu to be shown. I suspect exactly that is happening.\r\n\r\nBut then your code immediately believes that again a &#39;1&#39; was entered. I believe that is still in the input buffer - for whatever reason.\r\n\r\nTo get rid of that, empty the buffer after you display the menu and before you read input. Check out https://stackoverflow.com/questions/10604125/how-can-i-clear-the-scanner-buffer-in-java\r\n\r\nEdit: inside your accountsTable method I can see you tried something like this already. Do the same on the main menu level.","title":"Return back to main menu method after completing task","body":"<p>If the code loops you to the accountsTable method it seems you entered '1'.\nNow assuming you do that once, go through accountTable and come back, you'd expect the menu to be shown. I suspect exactly that is happening.</p>\n<p>But then your code immediately believes that again a '1' was entered. I believe that is still in the input buffer - for whatever reason.</p>\n<p>To get rid of that, empty the buffer after you display the menu and before you read input. Check out <a href=\"https://stackoverflow.com/questions/10604125/how-can-i-clear-the-scanner-buffer-in-java\">How can I clear the Scanner buffer in Java?</a></p>\n<p>Edit: inside your accountsTable method I can see you tried something like this already. Do the same on the main menu level.</p>\n"}],"owner":{"display_name":"user18292265"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646947767,"creation_date":1646944898,"question_id":71430556,"body_markdown":"All my code works well with my console. I am able to select, update, delete, and view everything perfectly fine. However, after I have the user complete any task I would like to have the original main menu from the mainMenuOptions() in order to start from the beginning. At the moment it is looping me back to the accountsTable() method. Any thoughts?\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Scanner;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.*;\r\n    import static java.lang.System.out;\r\n    \r\n    public class Menu {\r\n    \r\n        static boolean exit;\r\n        static final String DB_URL = &quot;jdbc:mysql://localhost:3306/chocolatemilk_review&quot;;\r\n        static final String USER = &quot;root&quot;;\r\n        static final String PASS = &quot;&quot;;\r\n    \r\n        private static Connection connection = null;\r\n        static Scanner input = new Scanner(System.in);\r\n    \r\n        public static void main (String [] args) throws SQLException {\r\n    \r\n            mainMenuOptions();\r\n            input.close();\r\n    \r\n        }\r\n    \r\n        public static Connection connect() throws SQLException {\r\n    \r\n            return DriverManager.getConnection(DB_URL, USER, PASS);\r\n    \r\n        }\r\n    \r\n        public static void mainMenuOptions() {\r\n    \r\n            int numEntered;\r\n    \r\n            try { \r\n    \r\n                do {\r\n    \r\n                    out.println(&quot;Choconnoisseur Menu&quot;);\r\n                    out.println();\r\n                    out.println(&quot;Enter 1 for Accounts &quot;);\r\n                    out.println(&quot;Enter 2 for Merchandise &quot;);\r\n                    out.println(&quot;Enter 3 for Merchsales &quot;);\r\n                    out.println(&quot;Enter 4 for Product Reviews &quot;);\r\n                    out.println(&quot;Enter 5 to Exit&quot;); \r\n                    out.println();\r\n                    out.println(&quot;Enter number here: &quot;);\r\n                    numEntered = input.nextInt(); \r\n                    input.nextLine();\r\n    \r\n                    switch(numEntered) {\r\n                    case 1: \r\n                        accountsTable();\r\n                        out.println(&quot;Account Options&quot;);\r\n                        break;\r\n                    case 2: \r\n                        merchandiseTable();\r\n                        out.println(&quot;Merchandise Options&quot;);\r\n                        out.println();\r\n                        break;\r\n                    case 3: \r\n                        merchsalesTable();\r\n                        out.println(&quot;Merchsales Options&quot;);\r\n                        out.println();\r\n                        break;\r\n                    case 4: \r\n                        productReviewsTable();\r\n                        out.println(&quot;Product Reviews Options&quot;);\r\n                        out.println();\r\n                        break;\r\n                    case 5: \r\n                        exit = true;\r\n                        out.println(&quot;Have a nice day! &quot;); \r\n                        out.println();\r\n                        break;\r\n                    default:\r\n                        out.println(&quot;Invalid entry, choose from one the options listed.&quot;);\r\n                        out.println();\r\n                        break;\r\n                    }\r\n    \r\n                }\r\n                while (numEntered != 5);  \r\n            } \r\n            catch (Exception e) { \r\n                out.println(&quot;Invalid entry&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void accountsTable() throws SQLException  {\r\n    \r\n            int accountOpts;\r\n    \r\n            try { \r\n    \r\n                do {\r\n    \r\n                    out.println(&quot;Accounts Table&quot;);\r\n                    out.println();\r\n                    out.println(&quot;Enter 1 for Add Account&quot;);\r\n                    out.println(&quot;Enter 2 for Edit Account&quot;);\r\n                    out.println(&quot;Enter 3 for  Remove Account&quot;);\r\n                    out.println(&quot;Enter 4 for View Account&quot;);\r\n                    out.println(&quot;Enter 5 back to Main Menu&quot;); \r\n                    out.println();\r\n                    out.println(&quot;Enter number here: &quot;);\r\n                    accountOpts = input.nextInt();\r\n                    input.nextLine();\r\n                    out.println();\r\n    \r\n                    switch (accountOpts) {\r\n                    case 1: \r\n                        out.println(&quot;Add Accounts&quot;);\r\n                        insertInfo();\r\n    \r\n                        break;\r\n                    case 2: \r\n                        out.println(&quot;Edit Accounts&quot;);\r\n                        updateAccounts();\r\n                        out.println();\r\n                        break;\r\n                    case 3: \r\n                        out.println(&quot;Remove Accounts&quot;);\r\n                        deleteAccounts(); \r\n                        out.println();\r\n                        break;\r\n                    case 4: \r\n                        out.println(&quot;View Accounts&quot;);\r\n                        selectAccounts();    \r\n                        out.println();\r\n                        break;\r\n                    case 5: \r\n                        out.println(&quot;Back to Main Menu &quot;);\r\n                        out.println();\r\n                        break; \r\n                    default:\r\n                        out.println(&quot;Invalid entry, choose from one the options listed.&quot;);\r\n                        out.println();\r\n                        break;\r\n                    }\r\n                }\r\n                while (accountOpts != 5);  \r\n            } \r\n            catch (Exception e) { \r\n                out.println(&quot;Invalid entry&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static void insertInfo() throws SQLException   {\r\n    \r\n            out.println();\r\n    \r\n            connection = connect();\r\n    \r\n            String SQL = &quot;INSERT INTO Accounts(last, first, address, city, state, email) VALUES(?,?,?,?,?,?)&quot;;\r\n            PreparedStatement prepInsertStatement = connection.prepareStatement(SQL);\r\n    \r\n            out.println(&quot;Enter last name: &quot;);\r\n            String lastName = input.nextLine();\r\n            prepInsertStatement.setString(1, lastName);\r\n    \r\n            out.println(&quot;Enter first name: &quot;);\r\n            String firstName = input.nextLine();\r\n            prepInsertStatement.setString(2, firstName);\r\n    \r\n            out.println(&quot;Enter address: &quot;);\r\n            String address = input.nextLine();\r\n            prepInsertStatement.setString(3, address);\r\n    \r\n            out.println(&quot;Enter city: &quot;);\r\n            String city = input.nextLine();\r\n            prepInsertStatement.setString(4,  city);\r\n    \r\n            out.println(&quot;Enter state: &quot;);\r\n            String state = input.nextLine();\r\n            prepInsertStatement.setString(5, state);\r\n    \r\n            out.println(&quot;Enter email: &quot;);\r\n            String email = input.nextLine();\r\n            prepInsertStatement.setString(6, email);\r\n    \r\n            int result = prepInsertStatement.executeUpdate();\r\n            if(result == 1)\r\n                out.println(&quot;Account added. &quot;);\r\n            else\r\n                out.println(&quot;Account not added. &quot;);\r\n            out.println();\r\n    \r\n        }\r\n    \r\n        private static void updateAccounts() throws SQLException {\r\n    \r\n            out.println();\r\n    \r\n            connection = connect();\r\n    \r\n            String SQL = &quot;UPDATE Accounts SET last = ?, first = ?, address = ?, city = ?, state = ?, &quot;\r\n                    + &quot;email = ? WHERE account_id = ?&quot;;\r\n            PreparedStatement prepUpdateStatement = connection.prepareStatement(SQL);\r\n    \r\n            out.println(&quot;Enter Account to Update: &quot;);\r\n            int accountUpdate = input.nextInt();\r\n            prepUpdateStatement.setInt(7, accountUpdate);\r\n            //how come when int comes first both update last and first come at same time in console?\r\n    \r\n            out.println(&quot;Update last name: &quot;);\r\n            String lastName = input.nextLine();\r\n            prepUpdateStatement.setString(1, lastName);\r\n    \r\n            out.println(&quot;Update first name: &quot;);\r\n            String firstName = input.nextLine();\r\n            prepUpdateStatement.setString(2, firstName);\r\n    \r\n            out.println(&quot;Update address: &quot;);\r\n            String address = input.nextLine();\r\n            prepUpdateStatement.setString(3, address);\r\n    \r\n            out.println(&quot;Update city: &quot;);\r\n            String city = input.nextLine();\r\n            prepUpdateStatement.setString(4,  city);\r\n    \r\n            out.println(&quot;Update state: &quot;);\r\n            String state = input.nextLine();\r\n            prepUpdateStatement.setString(5, state);\r\n    \r\n            out.println(&quot;Update email: &quot;);\r\n            String email = input.nextLine();\r\n            prepUpdateStatement.setString(6, email);\r\n    \r\n            int updateRow = prepUpdateStatement.executeUpdate();\r\n            if(updateRow == 1)\r\n                out.println(&quot;Update Successful. &quot;);\r\n            else\r\n                out.println(&quot;Update Not Successful. &quot;);\r\n    \r\n            //why 1 for updateRow == 1?\r\n    \r\n        }\r\n    \r\n        private static void deleteAccounts() throws SQLException  {\r\n    \r\n            out.println();\r\n    \r\n            connection = connect();\r\n    \r\n            String SQL = &quot;DELETE FROM Accounts WHERE account_id = ? &quot;;\r\n            PreparedStatement prepDeleteStatement = connection.prepareStatement(SQL);\r\n    \r\n            out.println(&quot;Enter an account_id to remove account: &quot;); \r\n            int enterAccount = input.nextInt();\r\n            prepDeleteStatement.setInt(1, enterAccount);\r\n    \r\n            int deleteAccount = prepDeleteStatement.executeUpdate();\r\n            if(deleteAccount == 1)\r\n                out.println(&quot;Account deleted. &quot;);\r\n            else\r\n                out.println(&quot;Account doesn&#39;t exist or not deleted. &quot;);\r\n    \r\n    \r\n        }\r\n    \r\n        private static void selectAccounts() throws SQLException  {\r\n    \r\n            out.println();\r\n    \r\n            connection = connect();\r\n    \r\n            String SQL = &quot;SELECT * FROM accounts WHERE account_id = ? &quot;;\r\n    \r\n            PreparedStatement prepSelectStatement = connection.prepareStatement(SQL);    \r\n    \r\n            out.println(&quot;Enter account ID to review account: &quot;);\r\n            int accountId = input.nextInt();\r\n            prepSelectStatement.setInt(1, accountId);\r\n            out.println();\r\n    \r\n            ResultSet rsViewAccount = prepSelectStatement.executeQuery();\r\n            if(!rsViewAccount.isBeforeFirst()) {\r\n    \r\n                out.println(&quot;No rows in Accounts&quot;);\r\n            }\r\n    \r\n            else {\r\n    \r\n                while (rsViewAccount.next()) {\r\n    \r\n                    out.println(&quot;Enter 1 for last name: &quot; + rsViewAccount.getString(2));\r\n                    out.println(&quot;Enter 2 for first name: &quot; + rsViewAccount.getString(3));\r\n                    out.println(&quot;Enter 3 for address: &quot; + rsViewAccount.getString(4));\r\n                    out.println(&quot;Enter 4 for city: &quot; + rsViewAccount.getString(5));\r\n                    out.println(&quot;Enter 5 for state: &quot; + rsViewAccount.getString(6));\r\n                    out.println(&quot;Enter 6 email: &quot; + rsViewAccount.getString(7));\r\n    \r\n                }\r\n            }\r\n        }","title":"Return back to main menu method after completing task","body":"<p>All my code works well with my console. I am able to select, update, delete, and view everything perfectly fine. However, after I have the user complete any task I would like to have the original main menu from the mainMenuOptions() in order to start from the beginning. At the moment it is looping me back to the accountsTable() method. Any thoughts?</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Scanner;\nimport java.sql.PreparedStatement;\nimport java.sql.*;\nimport static java.lang.System.out;\n\npublic class Menu {\n\n    static boolean exit;\n    static final String DB_URL = &quot;jdbc:mysql://localhost:3306/chocolatemilk_review&quot;;\n    static final String USER = &quot;root&quot;;\n    static final String PASS = &quot;&quot;;\n\n    private static Connection connection = null;\n    static Scanner input = new Scanner(System.in);\n\n    public static void main (String [] args) throws SQLException {\n\n        mainMenuOptions();\n        input.close();\n\n    }\n\n    public static Connection connect() throws SQLException {\n\n        return DriverManager.getConnection(DB_URL, USER, PASS);\n\n    }\n\n    public static void mainMenuOptions() {\n\n        int numEntered;\n\n        try { \n\n            do {\n\n                out.println(&quot;Choconnoisseur Menu&quot;);\n                out.println();\n                out.println(&quot;Enter 1 for Accounts &quot;);\n                out.println(&quot;Enter 2 for Merchandise &quot;);\n                out.println(&quot;Enter 3 for Merchsales &quot;);\n                out.println(&quot;Enter 4 for Product Reviews &quot;);\n                out.println(&quot;Enter 5 to Exit&quot;); \n                out.println();\n                out.println(&quot;Enter number here: &quot;);\n                numEntered = input.nextInt(); \n                input.nextLine();\n\n                switch(numEntered) {\n                case 1: \n                    accountsTable();\n                    out.println(&quot;Account Options&quot;);\n                    break;\n                case 2: \n                    merchandiseTable();\n                    out.println(&quot;Merchandise Options&quot;);\n                    out.println();\n                    break;\n                case 3: \n                    merchsalesTable();\n                    out.println(&quot;Merchsales Options&quot;);\n                    out.println();\n                    break;\n                case 4: \n                    productReviewsTable();\n                    out.println(&quot;Product Reviews Options&quot;);\n                    out.println();\n                    break;\n                case 5: \n                    exit = true;\n                    out.println(&quot;Have a nice day! &quot;); \n                    out.println();\n                    break;\n                default:\n                    out.println(&quot;Invalid entry, choose from one the options listed.&quot;);\n                    out.println();\n                    break;\n                }\n\n            }\n            while (numEntered != 5);  \n        } \n        catch (Exception e) { \n            out.println(&quot;Invalid entry&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    public static void accountsTable() throws SQLException  {\n\n        int accountOpts;\n\n        try { \n\n            do {\n\n                out.println(&quot;Accounts Table&quot;);\n                out.println();\n                out.println(&quot;Enter 1 for Add Account&quot;);\n                out.println(&quot;Enter 2 for Edit Account&quot;);\n                out.println(&quot;Enter 3 for  Remove Account&quot;);\n                out.println(&quot;Enter 4 for View Account&quot;);\n                out.println(&quot;Enter 5 back to Main Menu&quot;); \n                out.println();\n                out.println(&quot;Enter number here: &quot;);\n                accountOpts = input.nextInt();\n                input.nextLine();\n                out.println();\n\n                switch (accountOpts) {\n                case 1: \n                    out.println(&quot;Add Accounts&quot;);\n                    insertInfo();\n\n                    break;\n                case 2: \n                    out.println(&quot;Edit Accounts&quot;);\n                    updateAccounts();\n                    out.println();\n                    break;\n                case 3: \n                    out.println(&quot;Remove Accounts&quot;);\n                    deleteAccounts(); \n                    out.println();\n                    break;\n                case 4: \n                    out.println(&quot;View Accounts&quot;);\n                    selectAccounts();    \n                    out.println();\n                    break;\n                case 5: \n                    out.println(&quot;Back to Main Menu &quot;);\n                    out.println();\n                    break; \n                default:\n                    out.println(&quot;Invalid entry, choose from one the options listed.&quot;);\n                    out.println();\n                    break;\n                }\n            }\n            while (accountOpts != 5);  \n        } \n        catch (Exception e) { \n            out.println(&quot;Invalid entry&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    private static void insertInfo() throws SQLException   {\n\n        out.println();\n\n        connection = connect();\n\n        String SQL = &quot;INSERT INTO Accounts(last, first, address, city, state, email) VALUES(?,?,?,?,?,?)&quot;;\n        PreparedStatement prepInsertStatement = connection.prepareStatement(SQL);\n\n        out.println(&quot;Enter last name: &quot;);\n        String lastName = input.nextLine();\n        prepInsertStatement.setString(1, lastName);\n\n        out.println(&quot;Enter first name: &quot;);\n        String firstName = input.nextLine();\n        prepInsertStatement.setString(2, firstName);\n\n        out.println(&quot;Enter address: &quot;);\n        String address = input.nextLine();\n        prepInsertStatement.setString(3, address);\n\n        out.println(&quot;Enter city: &quot;);\n        String city = input.nextLine();\n        prepInsertStatement.setString(4,  city);\n\n        out.println(&quot;Enter state: &quot;);\n        String state = input.nextLine();\n        prepInsertStatement.setString(5, state);\n\n        out.println(&quot;Enter email: &quot;);\n        String email = input.nextLine();\n        prepInsertStatement.setString(6, email);\n\n        int result = prepInsertStatement.executeUpdate();\n        if(result == 1)\n            out.println(&quot;Account added. &quot;);\n        else\n            out.println(&quot;Account not added. &quot;);\n        out.println();\n\n    }\n\n    private static void updateAccounts() throws SQLException {\n\n        out.println();\n\n        connection = connect();\n\n        String SQL = &quot;UPDATE Accounts SET last = ?, first = ?, address = ?, city = ?, state = ?, &quot;\n                + &quot;email = ? WHERE account_id = ?&quot;;\n        PreparedStatement prepUpdateStatement = connection.prepareStatement(SQL);\n\n        out.println(&quot;Enter Account to Update: &quot;);\n        int accountUpdate = input.nextInt();\n        prepUpdateStatement.setInt(7, accountUpdate);\n        //how come when int comes first both update last and first come at same time in console?\n\n        out.println(&quot;Update last name: &quot;);\n        String lastName = input.nextLine();\n        prepUpdateStatement.setString(1, lastName);\n\n        out.println(&quot;Update first name: &quot;);\n        String firstName = input.nextLine();\n        prepUpdateStatement.setString(2, firstName);\n\n        out.println(&quot;Update address: &quot;);\n        String address = input.nextLine();\n        prepUpdateStatement.setString(3, address);\n\n        out.println(&quot;Update city: &quot;);\n        String city = input.nextLine();\n        prepUpdateStatement.setString(4,  city);\n\n        out.println(&quot;Update state: &quot;);\n        String state = input.nextLine();\n        prepUpdateStatement.setString(5, state);\n\n        out.println(&quot;Update email: &quot;);\n        String email = input.nextLine();\n        prepUpdateStatement.setString(6, email);\n\n        int updateRow = prepUpdateStatement.executeUpdate();\n        if(updateRow == 1)\n            out.println(&quot;Update Successful. &quot;);\n        else\n            out.println(&quot;Update Not Successful. &quot;);\n\n        //why 1 for updateRow == 1?\n\n    }\n\n    private static void deleteAccounts() throws SQLException  {\n\n        out.println();\n\n        connection = connect();\n\n        String SQL = &quot;DELETE FROM Accounts WHERE account_id = ? &quot;;\n        PreparedStatement prepDeleteStatement = connection.prepareStatement(SQL);\n\n        out.println(&quot;Enter an account_id to remove account: &quot;); \n        int enterAccount = input.nextInt();\n        prepDeleteStatement.setInt(1, enterAccount);\n\n        int deleteAccount = prepDeleteStatement.executeUpdate();\n        if(deleteAccount == 1)\n            out.println(&quot;Account deleted. &quot;);\n        else\n            out.println(&quot;Account doesn't exist or not deleted. &quot;);\n\n\n    }\n\n    private static void selectAccounts() throws SQLException  {\n\n        out.println();\n\n        connection = connect();\n\n        String SQL = &quot;SELECT * FROM accounts WHERE account_id = ? &quot;;\n\n        PreparedStatement prepSelectStatement = connection.prepareStatement(SQL);    \n\n        out.println(&quot;Enter account ID to review account: &quot;);\n        int accountId = input.nextInt();\n        prepSelectStatement.setInt(1, accountId);\n        out.println();\n\n        ResultSet rsViewAccount = prepSelectStatement.executeQuery();\n        if(!rsViewAccount.isBeforeFirst()) {\n\n            out.println(&quot;No rows in Accounts&quot;);\n        }\n\n        else {\n\n            while (rsViewAccount.next()) {\n\n                out.println(&quot;Enter 1 for last name: &quot; + rsViewAccount.getString(2));\n                out.println(&quot;Enter 2 for first name: &quot; + rsViewAccount.getString(3));\n                out.println(&quot;Enter 3 for address: &quot; + rsViewAccount.getString(4));\n                out.println(&quot;Enter 4 for city: &quot; + rsViewAccount.getString(5));\n                out.println(&quot;Enter 5 for state: &quot; + rsViewAccount.getString(6));\n                out.println(&quot;Enter 6 email: &quot; + rsViewAccount.getString(7));\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","xml","spring","spring-mvc","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646916417,"post_id":71424223,"comment_id":126244913,"body_markdown":"By just dding these files and typing them doesn&#39;t mean you atuomagically get the dependencies that are needed.","body":"By just dding these files and typing them doesn&#39;t mean you atuomagically get the dependencies that are needed."}],"answers":[{"tags":[],"owner":{"account_id":6515158,"reputation":1,"user_id":5041225,"display_name":"Harshil Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646947757,"creation_date":1646947757,"answer_id":71431011,"question_id":71424223,"body_markdown":"You didn&#39;t mention your pom.xml file, and could be missing servlet dependency.\r\n\r\n    &lt;dependency&gt;    \r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;    \r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;    \r\n        &lt;version&gt;3.0-alpha-1&lt;/version&gt;    \r\n    &lt;/dependency&gt;","title":"Why is this xml file throwing &quot;java.lang.ClassNotFoundException: org.springframework.web.servlet.DispatcherServlet&quot; error","body":"<p>You didn't mention your pom.xml file, and could be missing servlet dependency.</p>\n<pre><code>&lt;dependency&gt;    \n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;    \n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;    \n    &lt;version&gt;3.0-alpha-1&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23066018,"reputation":1,"user_id":17180439,"display_name":"Kamaljot Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646947757,"creation_date":1646915570,"question_id":71424223,"body_markdown":"hello everyone I created a spring MVC project from &quot;https://www.javatpoint.com/spring-mvc-multiple-view-page-example&quot; when I just copy-pasted the code it worked fine but when I tried creating the same project by typing instead of copy-pasting the code it showed the exception in the project \r\n&gt;&quot;SEVERE: Servlet [spring] in web application [/multipleviewpage] threw load() exception\r\njava.lang.ClassNotFoundException: org.springframework.web.servlet.DispatcherServlet&quot;\r\n\r\nthe code of the spring-servlet file is :\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \r\n        xsi:schemaLocation=&quot;  \r\n            http://www.springframework.org/schema/beans  \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n            http://www.springframework.org/schema/context  \r\n            http://www.springframework.org/schema/context/spring-context.xsd  \r\n            http://www.springframework.org/schema/mvc  \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;  \r\n      \r\n        &lt;!-- Provide support for component scanning --&gt;  \r\n        &lt;context:component-scan base-package=&quot;com.javatpoint&quot; &gt;&lt;/context:component-scan&gt;  \r\n      \r\n        &lt;!--Provide support for conversion, formatting and validation --&gt;  \r\n        &lt;mvc:annotation-driven/&gt;  \r\n    &lt;!-- Define Spring MVC view resolver --&gt;  \r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;  \r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;  \r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;          \r\n         &lt;/bean&gt;  \r\n    &lt;/beans&gt;\r\n\r\nthe web.xml file is :\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://JAVA.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;  \r\n      &lt;display-name&gt;SpringMVC&lt;/display-name&gt;  \r\n       &lt;servlet&gt;    \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;      \r\n    &lt;/servlet&gt;    \r\n    &lt;servlet-mapping&gt;    \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;    \r\n    &lt;/servlet-mapping&gt;    \r\n    &lt;/web-app&gt; \r\n\r\nalso, the HelloController.java file is \r\n\r\n    package com.javatpoint; \r\n    \r\n    import org.springframework.stereotype.Controller;  \r\n    import org.springframework.web.bind.annotation.RequestMapping;  \r\n    \r\n    @Controller  \r\n    public class HelloController \r\n    {  \r\n    \t@RequestMapping(&quot;/hello&quot;)  \r\n        public String redirect()  \r\n        \t{  \r\n            \treturn &quot;viewpage&quot;;  \r\n        \t}     \r\n    \t@RequestMapping(&quot;/helloagain&quot;)  \r\n    \tpublic String display()  \r\n    \t\t{  \r\n    \t\t\treturn &quot;final&quot;;  \r\n    \t\t}  \r\n    }  \r\n     ","title":"Why is this xml file throwing &quot;java.lang.ClassNotFoundException: org.springframework.web.servlet.DispatcherServlet&quot; error","body":"<p>hello everyone I created a spring MVC project from &quot;https://www.javatpoint.com/spring-mvc-multiple-view-page-example&quot; when I just copy-pasted the code it worked fine but when I tried creating the same project by typing instead of copy-pasting the code it showed the exception in the project</p>\n<blockquote>\n<p>&quot;SEVERE: Servlet [spring] in web application [/multipleviewpage] threw load() exception\njava.lang.ClassNotFoundException: org.springframework.web.servlet.DispatcherServlet&quot;</p>\n</blockquote>\n<p>the code of the spring-servlet file is :</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \n    xsi:schemaLocation=&quot;  \n        http://www.springframework.org/schema/beans  \n        http://www.springframework.org/schema/beans/spring-beans.xsd  \n        http://www.springframework.org/schema/context  \n        http://www.springframework.org/schema/context/spring-context.xsd  \n        http://www.springframework.org/schema/mvc  \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;  \n  \n    &lt;!-- Provide support for component scanning --&gt;  \n    &lt;context:component-scan base-package=&quot;com.javatpoint&quot; &gt;&lt;/context:component-scan&gt;  \n  \n    &lt;!--Provide support for conversion, formatting and validation --&gt;  \n    &lt;mvc:annotation-driven/&gt;  \n&lt;!-- Define Spring MVC view resolver --&gt;  \n&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;  \n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;  \n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;          \n     &lt;/bean&gt;  \n&lt;/beans&gt;\n</code></pre>\n<p>the web.xml file is :</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://JAVA.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;  \n  &lt;display-name&gt;SpringMVC&lt;/display-name&gt;  \n   &lt;servlet&gt;    \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;      \n&lt;/servlet&gt;    \n&lt;servlet-mapping&gt;    \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;    \n&lt;/servlet-mapping&gt;    \n&lt;/web-app&gt; \n</code></pre>\n<p>also, the HelloController.java file is</p>\n<pre><code>package com.javatpoint; \n\nimport org.springframework.stereotype.Controller;  \nimport org.springframework.web.bind.annotation.RequestMapping;  \n\n@Controller  \npublic class HelloController \n{  \n    @RequestMapping(&quot;/hello&quot;)  \n    public String redirect()  \n        {  \n            return &quot;viewpage&quot;;  \n        }     \n    @RequestMapping(&quot;/helloagain&quot;)  \n    public String display()  \n        {  \n            return &quot;final&quot;;  \n        }  \n}  \n \n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":75277,"reputation":33905,"user_id":215974,"display_name":"cheeken"},"score":5,"creation_date":1340312476,"post_id":11146653,"comment_id":14613795,"body_markdown":"Can you clarify?  Do you mean 24 hours, one calendar day, or do you mean &quot;adjacent 24 hour segments&quot;?","body":"Can you clarify?  Do you mean 24 hours, one calendar day, or do you mean &quot;adjacent 24 hour segments&quot;?"},{"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"score":1,"creation_date":1340312543,"post_id":11146653,"comment_id":14613823,"body_markdown":"I don&#39;t want to check if it is the next day, I want to check if it is exactly 24 hours later or greater.","body":"I don&#39;t want to check if it is the next day, I want to check if it is exactly 24 hours later or greater."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1340312595,"post_id":11146653,"comment_id":14613860,"body_markdown":"what en you think of GregorianCalendar class?","body":"what en you think of GregorianCalendar class?"},{"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"score":0,"creation_date":1340312717,"post_id":11146653,"comment_id":14613906,"body_markdown":"Why can&#39;t I just compare the dates using the compareTo method?","body":"Why can&#39;t I just compare the dates using the compareTo method?"},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":0,"creation_date":1340312808,"post_id":11146653,"comment_id":14613939,"body_markdown":"whatever you do, you will need to consider whether timezones and/or daylight savings time (DST) come into the equation.  In other words, do you want it to measure exactly 24 hours of elapsed GMT (rather UTC), or 24 hours difference between the wall clock time on clock instance 1 and clock instance 2?","body":"whatever you do, you will need to consider whether timezones and/or daylight savings time (DST) come into the equation.  In other words, do you want it to measure exactly 24 hours of elapsed GMT (rather UTC), or 24 hours difference between the wall clock time on clock instance 1 and clock instance 2?"},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":3,"creation_date":1340313004,"post_id":11146653,"comment_id":14614009,"body_markdown":"The `compareTo` method only tells you whether one `Date` is before or after another. It doesn&#39;t tell you how much of a difference there is. To see if `Date a` is at least 24 hours more than `Date b`, you need to add 24 hours to `b` and then you can call `compareTo`. A `Calendar` object is better suited for this.","body":"The <code>compareTo</code> method only tells you whether one <code>Date</code> is before or after another. It doesn&#39;t tell you how much of a difference there is. To see if <code>Date a</code> is at least 24 hours more than <code>Date b</code>, you need to add 24 hours to <code>b</code> and then you can call <code>compareTo</code>. A <code>Calendar</code> object is better suited for this."},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":0,"creation_date":1340324720,"post_id":11146653,"comment_id":14617224,"body_markdown":"Yep are these two dates are in same time zone?","body":"Yep are these two dates are in same time zone?"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1373502310,"creation_date":1340312690,"answer_id":11146740,"question_id":11146653,"body_markdown":"Use the [`Calendar`][1] class. If you already have a `Date` object, you can still use `Calendar`:\r\n\r\n    Date aDate = . . .\r\n    Calendar today = Calendar.getInstance();\r\n    today.setTime(aDate);\r\n    Calendar tomorrow = Calendar.getInstance();\r\n    tomorrow.setTime(aDate);\r\n    tomorrow.add(Calendar.DAY, 1);\r\n    Date tomorrowDate = tomorrow.getTime(); // if you need a Date object\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","title":"Check if one date is exactly 24 hours or more after another","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> class. If you already have a <code>Date</code> object, you can still use <code>Calendar</code>:</p>\n\n<pre><code>Date aDate = . . .\nCalendar today = Calendar.getInstance();\ntoday.setTime(aDate);\nCalendar tomorrow = Calendar.getInstance();\ntomorrow.setTime(aDate);\ntomorrow.add(Calendar.DAY, 1);\nDate tomorrowDate = tomorrow.getTime(); // if you need a Date object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164242,"reputation":2737,"user_id":386875,"accept_rate":97,"display_name":"Eternal Noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340312742,"creation_date":1340312742,"answer_id":11146750,"question_id":11146653,"body_markdown":"To find the delta between dates: In short,\r\n\r\n    long endL = end.getTimeInMillis() + end.getTimeZone().getOffset( end.getTimeInMillis() ); \r\n    long startL = this.getTimeInMillis() + this.getTimeZone().getOffset(this.getTimeInMillis());\r\n    return (endL - startL) / MILLISECS_PER_DAY;\r\n\r\n\r\nIn detail,\r\n\r\nhttp://user.xmission.com/~goodhill/dates/deltaDates.html\r\n","title":"Check if one date is exactly 24 hours or more after another","body":"<p>To find the delta between dates: In short,</p>\n\n<pre><code>long endL = end.getTimeInMillis() + end.getTimeZone().getOffset( end.getTimeInMillis() ); \nlong startL = this.getTimeInMillis() + this.getTimeZone().getOffset(this.getTimeInMillis());\nreturn (endL - startL) / MILLISECS_PER_DAY;\n</code></pre>\n\n<p>In detail,</p>\n\n<p><a href=\"http://user.xmission.com/~goodhill/dates/deltaDates.html\" rel=\"nofollow\">http://user.xmission.com/~goodhill/dates/deltaDates.html</a></p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1646947370,"creation_date":1340312772,"answer_id":11146755,"question_id":11146653,"body_markdown":"Answer depends on what you want to achieve. \r\n\r\nOne way, could be checking difference in milliseconds. 24 h in milliseconds can be calculated via\r\n\r\n    24  *  60  *  60  *  1000   =  86400000\r\n    h      min    sec    millis  \r\n\r\n(in code you can also write `TimeUnit.HOURS.toMillis(24)` which IMO is more readable)\r\n\r\nSo now you can just check if difference between two dates (expressed in milliseconds) is greater than 86400000.","title":"Check if one date is exactly 24 hours or more after another","body":"<p>Answer depends on what you want to achieve.</p>\n<p>One way, could be checking difference in milliseconds. 24 h in milliseconds can be calculated via</p>\n<pre><code>24  *  60  *  60  *  1000   =  86400000\nh      min    sec    millis  \n</code></pre>\n<p>(in code you can also write <code>TimeUnit.HOURS.toMillis(24)</code> which IMO is more readable)</p>\n<p>So now you can just check if difference between two dates (expressed in milliseconds) is greater than 86400000.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1478209416,"creation_date":1395720437,"answer_id":22625256,"question_id":11146653,"body_markdown":"# tl;dr\r\n\r\n    myUtilDate_B\r\n        .toInstant()\r\n        .equals( \r\n            myUtilDate_A.toInstant().plus( 24 , ChronoUnit.HOURS ) \r\n        )  // Exactly 24 hours apart.\r\n\r\n…and…\r\n\r\n    myUtilDate_B\r\n        .toInstant()\r\n        .isAfter( \r\n            myUtilDate_A.toInstant().plus( 24 , ChronoUnit.HOURS ) \r\n        )  // Over 24 hours apart.\r\n\r\nAlternatively…\r\n\r\n    Duration.between( myUtilDate_A , myUtilDate_B )\r\n            .compareTo( Duration.ofHours( 24 ) )  \r\n            // Returns 0 if exactly 24 hours apart, \r\n            //         &gt;0 if over 24 hours apart.\r\n\r\n# java.time\r\n\r\nYou specifically asked for comparing two date-times to ask if either:\r\n\r\n - Is one exactly 24 hours later than another\r\n - Is one more than 24 hours later than another.\r\n\r\nThe [`compareTo`][1] method you mentioned does not do this. It is designed to merely tell if a moment is the same, later, or sooner. The method does not care about specific spans of time such as 24 hours.\r\n\r\nYou specifically stated that the date does not matter. So you want to ignore anomalies such as Daylight Saving Time (DST) that make a day longer or shorter than 24 hours.\r\n\r\nSo we can work in [UTC][2]. No need for time zones.\r\n\r\nIf you were referring to `java.util.Date` objects, first convert them to java.time objects. The `Date` class is part of the troublesome old date-time classes, along with `Calendar`, that are now legacy, supplanted by the java.time classes.\r\n\r\nThe equivalent of `java.util.Date` is `java.time.Instant`. The [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\nYou can convert to/from java.time types via new methods added to the old classes.\r\n\r\n    Instant start = myUtilDate_Start.toInstant();\r\n    Instant stop = myUtilDate_Stop.toInstant();\r\n\r\nDefine the gap we care about, in this case twenty four hours, as a [`Duration`][3] object.\r\n\r\n    Duration d = Duration.ofHours( 24 );  // We mean literally 24 hours, not a day.\r\n\r\nUse that `Duration` to calculate the 24-hours-later value. Define the unit of hours by the [`ChronoUnit`][4] enum.\r\n\r\n    Instant target = start.plus( 24 , ChronoUnit.HOURS );\r\n\r\nLastly, compare the second date-time value. Call [`equals`][5] and [`isAfter`][6].\r\n\r\n    Boolean isExactly24HoursLater = stop.equals( target );\r\n    Boolean isOver24HoursLater = stop.isAfter( target );\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\n**UPDATE:** The [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the java.time classes. This section is left here intact for history.\r\n\r\n[Joda-Time][7] makes this work easier.\r\n\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Europe/Paris&quot; );\r\n    DateTime dateTimeInQuestion = new DateTime( 2014, 1, 2, 3, 4, 5, 6, timeZone );  // Or: new DateTime( someJavaDotUtilDotDateObject );\r\n    DateTime now = new DateTime( timeZone );\r\n    DateTime twentyFourHoursFromNow = now.plusHours( 24 ); // Ignores Daylight Saving Time (DST). If you want to adjust for that, call: plusDays( 1 ) instead.\r\n    DateTime isDateTimeInQuestionAfter24HoursFromNow = dateTime.isAfter( twentyFourHoursFromNow );\r\n\r\n# 1 Day ≠ 24 Hours\r\n\r\nIf you really meant to consider the same [wall-clock time][8] of the next day, call `plusDays( 1 )` rather than `plusHours( 24 )`. Joda-Time then adjusts for Daylight Saving Time (DST) or other anomalies. For example, here in the United States, that might mean 25-hours rather than 24-hours because of our 1-hour DST silliness.\r\n\r\n# Compare Within 24-Hours\r\n\r\nIf really meant to test if the date-time in question lands *within* that 24-hour span of time, use one of Joda-Time&#39;s three classes for spans of time: Interval, Duration, and Period.\r\n\r\n    Interval interval = new Interval( now, twentyFourHoursFromNow );\r\n    boolean isDateTimeInQuestionContainedWithinNext24Hours = interval.contains( dateTimeInQuestion );\r\n\r\nFor that kind of comparison, Joda-Time uses &quot;Half-Open&quot; logic. This means the beginning date-time is *inclusive* while the ending is *exclusive*. In other words, comparing for GREATER THAN OR EQUAL TO (&gt;=) the start, but LESS THAN (&lt;) the ending. This approach usually makes the most sense when working with date-time.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#equals-java.lang.Object-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#isAfter-java.time.Instant-\r\n  [7]: http://www.joda.org/joda-time/\r\n  [8]: https://en.wikipedia.org/wiki/Wall-clock_time","title":"Check if one date is exactly 24 hours or more after another","body":"<h1>tl;dr</h1>\n\n<pre><code>myUtilDate_B\n    .toInstant()\n    .equals( \n        myUtilDate_A.toInstant().plus( 24 , ChronoUnit.HOURS ) \n    )  // Exactly 24 hours apart.\n</code></pre>\n\n<p>…and…</p>\n\n<pre><code>myUtilDate_B\n    .toInstant()\n    .isAfter( \n        myUtilDate_A.toInstant().plus( 24 , ChronoUnit.HOURS ) \n    )  // Over 24 hours apart.\n</code></pre>\n\n<p>Alternatively…</p>\n\n<pre><code>Duration.between( myUtilDate_A , myUtilDate_B )\n        .compareTo( Duration.ofHours( 24 ) )  \n        // Returns 0 if exactly 24 hours apart, \n        //         &gt;0 if over 24 hours apart.\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>You specifically asked for comparing two date-times to ask if either:</p>\n\n<ul>\n<li>Is one exactly 24 hours later than another</li>\n<li>Is one more than 24 hours later than another.</li>\n</ul>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-\" rel=\"noreferrer\"><code>compareTo</code></a> method you mentioned does not do this. It is designed to merely tell if a moment is the same, later, or sooner. The method does not care about specific spans of time such as 24 hours.</p>\n\n<p>You specifically stated that the date does not matter. So you want to ignore anomalies such as Daylight Saving Time (DST) that make a day longer or shorter than 24 hours.</p>\n\n<p>So we can work in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. No need for time zones.</p>\n\n<p>If you were referring to <code>java.util.Date</code> objects, first convert them to java.time objects. The <code>Date</code> class is part of the troublesome old date-time classes, along with <code>Calendar</code>, that are now legacy, supplanted by the java.time classes.</p>\n\n<p>The equivalent of <code>java.util.Date</code> is <code>java.time.Instant</code>. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<p>You can convert to/from java.time types via new methods added to the old classes.</p>\n\n<pre><code>Instant start = myUtilDate_Start.toInstant();\nInstant stop = myUtilDate_Stop.toInstant();\n</code></pre>\n\n<p>Define the gap we care about, in this case twenty four hours, as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> object.</p>\n\n<pre><code>Duration d = Duration.ofHours( 24 );  // We mean literally 24 hours, not a day.\n</code></pre>\n\n<p>Use that <code>Duration</code> to calculate the 24-hours-later value. Define the unit of hours by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> enum.</p>\n\n<pre><code>Instant target = start.plus( 24 , ChronoUnit.HOURS );\n</code></pre>\n\n<p>Lastly, compare the second date-time value. Call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#equals-java.lang.Object-\" rel=\"noreferrer\"><code>equals</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#isAfter-java.time.Instant-\" rel=\"noreferrer\"><code>isAfter</code></a>.</p>\n\n<pre><code>Boolean isExactly24HoursLater = stop.equals( target );\nBoolean isOver24HoursLater = stop.isAfter( target );\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p><strong>UPDATE:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the java.time classes. This section is left here intact for history.</p>\n\n<p><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> makes this work easier.</p>\n\n<pre><code>DateTimeZone timeZone = DateTimeZone.forID( \"Europe/Paris\" );\nDateTime dateTimeInQuestion = new DateTime( 2014, 1, 2, 3, 4, 5, 6, timeZone );  // Or: new DateTime( someJavaDotUtilDotDateObject );\nDateTime now = new DateTime( timeZone );\nDateTime twentyFourHoursFromNow = now.plusHours( 24 ); // Ignores Daylight Saving Time (DST). If you want to adjust for that, call: plusDays( 1 ) instead.\nDateTime isDateTimeInQuestionAfter24HoursFromNow = dateTime.isAfter( twentyFourHoursFromNow );\n</code></pre>\n\n<h1>1 Day ≠ 24 Hours</h1>\n\n<p>If you really meant to consider the same <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"noreferrer\">wall-clock time</a> of the next day, call <code>plusDays( 1 )</code> rather than <code>plusHours( 24 )</code>. Joda-Time then adjusts for Daylight Saving Time (DST) or other anomalies. For example, here in the United States, that might mean 25-hours rather than 24-hours because of our 1-hour DST silliness.</p>\n\n<h1>Compare Within 24-Hours</h1>\n\n<p>If really meant to test if the date-time in question lands <em>within</em> that 24-hour span of time, use one of Joda-Time's three classes for spans of time: Interval, Duration, and Period.</p>\n\n<pre><code>Interval interval = new Interval( now, twentyFourHoursFromNow );\nboolean isDateTimeInQuestionContainedWithinNext24Hours = interval.contains( dateTimeInQuestion );\n</code></pre>\n\n<p>For that kind of comparison, Joda-Time uses \"Half-Open\" logic. This means the beginning date-time is <em>inclusive</em> while the ending is <em>exclusive</em>. In other words, comparing for GREATER THAN OR EQUAL TO (>=) the start, but LESS THAN (&lt;) the ending. This approach usually makes the most sense when working with date-time.</p>\n"},{"tags":[],"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429205077,"creation_date":1429205077,"answer_id":29681865,"question_id":11146653,"body_markdown":"This will help you check if your date was yesterday\r\n\r\n    public static final long ONE_MINUTE = 60 * 1000;\r\n    public static final long ONE_HOUR = 60 * ONE_MINUTE;\r\n    public static final long ONE_DAY = 24 * ONE_HOUR;\r\n    \r\n    public static boolean isYesterday(Date d) {\r\n        return DateUtils.isToday(d.getTime() + ONE_DAY);\r\n    } \r\n\r\n       ","title":"Check if one date is exactly 24 hours or more after another","body":"<p>This will help you check if your date was yesterday</p>\n\n<pre><code>public static final long ONE_MINUTE = 60 * 1000;\npublic static final long ONE_HOUR = 60 * ONE_MINUTE;\npublic static final long ONE_DAY = 24 * ONE_HOUR;\n\npublic static boolean isYesterday(Date d) {\n    return DateUtils.isToday(d.getTime() + ONE_DAY);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7385805,"reputation":41,"user_id":5620865,"display_name":"uebeL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478301474,"creation_date":1478175884,"answer_id":40401428,"question_id":11146653,"body_markdown":"In your Activity OnCreate\r\n\r\n        //Get current date - yymmdd increases only\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyMMdd&quot;);\r\n        Date now = new Date();\r\n        int nowTime= Integer.parseInt(formatter.format(now));\r\n\r\n        //Get last login date - stored in db\r\n        int lastLogin= dbManager.getLastLoginDate();\r\n       \r\n        //Check if next day\r\n        if(nowTime&gt; lastLogin){\r\n\r\n            //Do your stuff\r\n            //Update last login date\r\n            dbManager.saveLoginDate(nowTime);\r\n        }\r\n\r\n","title":"Check if one date is exactly 24 hours or more after another","body":"<p>In your Activity OnCreate</p>\n\n<pre><code>    //Get current date - yymmdd increases only\n    SimpleDateFormat formatter = new SimpleDateFormat(\"yyMMdd\");\n    Date now = new Date();\n    int nowTime= Integer.parseInt(formatter.format(now));\n\n    //Get last login date - stored in db\n    int lastLogin= dbManager.getLastLoginDate();\n\n    //Check if next day\n    if(nowTime&gt; lastLogin){\n\n        //Do your stuff\n        //Update last login date\n        dbManager.saveLoginDate(nowTime);\n    }\n</code></pre>\n"}],"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28557,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":11146755,"answer_count":6,"score":17,"last_activity_date":1646947370,"creation_date":1340312364,"question_id":11146653,"body_markdown":"I am using the compareTo method in Java to try and check if a certain date is greater than or equal than 24 hours after another date.\r\n\r\nHow do I determine what integer to compare the date to?","title":"Check if one date is exactly 24 hours or more after another","body":"<p>I am using the compareTo method in Java to try and check if a certain date is greater than or equal than 24 hours after another date.</p>\n\n<p>How do I determine what integer to compare the date to?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1646979061,"post_id":71430880,"comment_id":126261818,"body_markdown":"According to the error `apache poi` gets confused by a formula using structured references to a table which is in an external workbook. I doubt there is a simple solution except not to use such formulas. But `apache poi` gets further developed very fast. What `apache poi` version are you using? If it is not the last version, try upgrading. Else do post a bug report to `apache poi`.","body":"According to the error <code>apache poi</code> gets confused by a formula using structured references to a table which is in an external workbook. I doubt there is a simple solution except not to use such formulas. But <code>apache poi</code> gets further developed very fast. What <code>apache poi</code> version are you using? If it is not the last version, try upgrading. Else do post a bug report to <code>apache poi</code>."},{"owner":{"account_id":24519550,"reputation":1,"user_id":18432807,"display_name":"mongoose777"},"score":0,"creation_date":1647015698,"post_id":71430880,"comment_id":126274440,"body_markdown":"im using version 4.0.0. so its kind of old.","body":"im using version 4.0.0. so its kind of old."}],"owner":{"account_id":24519550,"reputation":1,"user_id":18432807,"display_name":"mongoose777"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646946834,"creation_date":1646946834,"question_id":71430880,"body_markdown":"I have a workbook with 4 sheets in it. I cloned the 4th sheet. I&#39;m trying to shift all the data from the new cloned sheet down by 1 row. But when i try the shiftRow in one of my methods, it gives a FormulaParseException. Any help appreciated.\r\n\r\n    public class SanityChecker extends BaseCostSheetCmd { \r\n\r\n\tString fileName = &quot;C:/Users/.../.xlsx&quot;;\r\n\tFile file = new File(fileName);\r\n\tString vendorFile = &quot;C:/Users/.../.xlsx&quot;;\r\n\r\n\tpublic void initWB() throws IOException {\r\n\t\tFileInputStream is = new FileInputStream(fileName);\r\n\t\tXSSFWorkbook wb = (XSSFWorkbook) XSSFWorkbookFactory.create(is);\r\n\t\tXSSFSheet out = wb.cloneSheet(3, &quot;sanity check&quot;);\r\n\r\n\t\tFileOutputStream fs = new FileOutputStream(fileName);\r\n\r\n\t\tis.close();\r\n\t\twb.write(fs);\r\n\t\tfs.close();\r\n\t\twb.close(); \r\n     }\r\n\r\n    public void addRow(File file, int amount, int currentRow) throws Exception {\r\n\t    FileInputStream is = new FileInputStream(file);\r\n\t    XSSFWorkbook workbook = new XSSFWorkbook(is);\r\n\t    XSSFSheet sheet = workbook.getSheetAt(4);\r\n\t    sheet.shiftRows(currentRow, sheet.getLastRowNum() + 1, amount, true,true);\r\n\t    is.close();\r\n\t    FileOutputStream out = new FileOutputStream(file);\r\n\t    workbook.write(out);\r\n\t    out.close();\r\n\t    workbook.close();\r\n\t}\r\n\r\n    @Override\r\n\tpublic void process(Matcher m) throws Exception {\r\n\t\t// TODO start here\r\n\t\tinitWB();\r\n\t\taddRow(file, 1, 0);\r\n\t\tlogln(&quot;hello world&quot;);\r\n\t}\r\n\r\n\r\nException:\r\n\r\norg.apache.poi.ss.formula.FormulaParseException: Unused input [[[#All],[TRIMMED CAT NUM]:[DISTRIBUTOR MULTIPLIER]]] after attempting to parse the formula [[1]!018128_1634058909268[[#All],[TRIMMED CAT NUM]:[DISTRIBUTOR MULTIPLIER]]]","title":"How can i shift all rows without giving exception?","body":"<p>I have a workbook with 4 sheets in it. I cloned the 4th sheet. I'm trying to shift all the data from the new cloned sheet down by 1 row. But when i try the shiftRow in one of my methods, it gives a FormulaParseException. Any help appreciated.</p>\n<pre><code>public class SanityChecker extends BaseCostSheetCmd { \n\nString fileName = &quot;C:/Users/.../.xlsx&quot;;\nFile file = new File(fileName);\nString vendorFile = &quot;C:/Users/.../.xlsx&quot;;\n\npublic void initWB() throws IOException {\n    FileInputStream is = new FileInputStream(fileName);\n    XSSFWorkbook wb = (XSSFWorkbook) XSSFWorkbookFactory.create(is);\n    XSSFSheet out = wb.cloneSheet(3, &quot;sanity check&quot;);\n\n    FileOutputStream fs = new FileOutputStream(fileName);\n\n    is.close();\n    wb.write(fs);\n    fs.close();\n    wb.close(); \n }\n\npublic void addRow(File file, int amount, int currentRow) throws Exception {\n    FileInputStream is = new FileInputStream(file);\n    XSSFWorkbook workbook = new XSSFWorkbook(is);\n    XSSFSheet sheet = workbook.getSheetAt(4);\n    sheet.shiftRows(currentRow, sheet.getLastRowNum() + 1, amount, true,true);\n    is.close();\n    FileOutputStream out = new FileOutputStream(file);\n    workbook.write(out);\n    out.close();\n    workbook.close();\n}\n\n@Override\npublic void process(Matcher m) throws Exception {\n    // TODO start here\n    initWB();\n    addRow(file, 1, 0);\n    logln(&quot;hello world&quot;);\n}\n</code></pre>\n<p>Exception:</p>\n<p>org.apache.poi.ss.formula.FormulaParseException: Unused input [[[#All],[TRIMMED CAT NUM]:[DISTRIBUTOR MULTIPLIER]]] after attempting to parse the formula [[1]!018128_1634058909268[[#All],[TRIMMED CAT NUM]:[DISTRIBUTOR MULTIPLIER]]]</p>\n"},{"tags":["java","swing","2d","intersection"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646943537,"post_id":71430237,"comment_id":126255317,"body_markdown":"For [example](https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531)","body":"For <a href=\"https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646946243,"creation_date":1646946243,"answer_id":71430796,"question_id":71430237,"body_markdown":"With a simple modification to the answer form https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531\r\n\r\nYou can end up with something like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Area;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.GeneralPath;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Ellipse2D rect01;\r\n            private Rectangle rect02;\r\n\r\n            private int angle = 0;\r\n\r\n            public TestPane() {\r\n\r\n                rect01 = new Ellipse2D.Double(0, 0, 200, 50);\r\n                rect02 = new Rectangle(0, 0, 100, 100);\r\n\r\n                Timer timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        angle++;\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(250, 250);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                int width = getWidth();\r\n                int height = getHeight();\r\n\r\n                AffineTransform at = new AffineTransform();\r\n\r\n                int center = width / 2;\r\n\r\n                int x = center + (center - rect01.getBounds().width) / 2;\r\n                int y = (height - rect01.getBounds().height) / 2;\r\n                at.translate(x, y);\r\n                at.rotate(Math.toRadians(angle), rect01.getBounds().width / 2, rect01.getBounds().height / 2);\r\n                GeneralPath path1 = new GeneralPath();\r\n                path1.append(rect01.getPathIterator(at), true);\r\n                g2d.fill(path1);\r\n\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.draw(path1.getBounds());\r\n\r\n                at = new AffineTransform();\r\n                x = (center - rect02.width) / 2;\r\n                y = (height - rect02.height) / 2;\r\n                at.translate(x, y);\r\n                at.rotate(Math.toRadians(-angle), rect02.width / 2, rect02.height / 2);\r\n                GeneralPath path2 = new GeneralPath();\r\n                path2.append(rect02.getPathIterator(at), true);\r\n                g2d.fill(path2);\r\n\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.draw(path2.getBounds());\r\n\r\n                Area a1 = new Area(path1);\r\n                Area a2 = new Area(path2);\r\n                a2.intersect(a1);\r\n                if (!a2.isEmpty()) {\r\n                    g2d.setColor(Color.RED);\r\n                    g2d.fill(a2);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3VCzG.gif","title":"Java - Determining if two Ellipses intersect","body":"<p>With a simple modification to the answer form <a href=\"https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531\">Detecting collision of two sprites that can rotate</a></p>\n<p>You can end up with something like...</p>\n<p><a href=\"https://i.stack.imgur.com/3VCzG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3VCzG.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Area;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.GeneralPath;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Ellipse2D rect01;\n        private Rectangle rect02;\n\n        private int angle = 0;\n\n        public TestPane() {\n\n            rect01 = new Ellipse2D.Double(0, 0, 200, 50);\n            rect02 = new Rectangle(0, 0, 100, 100);\n\n            Timer timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    angle++;\n                    repaint();\n                }\n            });\n            timer.start();\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(250, 250);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            int width = getWidth();\n            int height = getHeight();\n\n            AffineTransform at = new AffineTransform();\n\n            int center = width / 2;\n\n            int x = center + (center - rect01.getBounds().width) / 2;\n            int y = (height - rect01.getBounds().height) / 2;\n            at.translate(x, y);\n            at.rotate(Math.toRadians(angle), rect01.getBounds().width / 2, rect01.getBounds().height / 2);\n            GeneralPath path1 = new GeneralPath();\n            path1.append(rect01.getPathIterator(at), true);\n            g2d.fill(path1);\n\n            g2d.setColor(Color.BLUE);\n            g2d.draw(path1.getBounds());\n\n            at = new AffineTransform();\n            x = (center - rect02.width) / 2;\n            y = (height - rect02.height) / 2;\n            at.translate(x, y);\n            at.rotate(Math.toRadians(-angle), rect02.width / 2, rect02.height / 2);\n            GeneralPath path2 = new GeneralPath();\n            path2.append(rect02.getPathIterator(at), true);\n            g2d.fill(path2);\n\n            g2d.setColor(Color.BLUE);\n            g2d.draw(path2.getBounds());\n\n            Area a1 = new Area(path1);\n            Area a2 = new Area(path2);\n            a2.intersect(a1);\n            if (!a2.isEmpty()) {\n                g2d.setColor(Color.RED);\n                g2d.fill(a2);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24432818,"reputation":5,"user_id":18357501,"display_name":"yeah_man_i_get_it"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646946243,"creation_date":1646943254,"question_id":71430237,"body_markdown":"I&#39;m creating a 2D topdown shooter game with Java Swing in which I want circular hitboxes for my player and enemies as well as projectiles. For hit detection I need to figure out if there is an intersection between a projtile and a `Sprite` (player or enemy). My issue is that `Ellipse2D`&#39;s `intersect` function (that takes a position a width and height) creates a `Rectangle` out of the arguments. In its description it advises using `Area` for high precision and I was hoping it had an `intersect` function for any shape but that also casts its argument to a `Rectangle`.    \r\nHere&#39;s the jist of my Sprite object:  \r\n```java\r\npublic class Sprite {\r\n    protected float worldX;\r\n    protected float worldY;\r\n    protected float drawX;\r\n    protected float drawY;\r\n    protected int width;\r\n    protected int height;\r\n    protected Image image;\r\n    ...\r\n}\r\n``` \r\nIn essence I&#39;m storing their x and y coordinates as well as their width and height.(drawX and drawY are only used for rendering)    \r\n\r\nIs there a build-in method (preferably in Swing) to intersect Ellipses with other shapes (specifically other Ellipses and Rectangles) or is there no better option then implementing these by hand? ","title":"Java - Determining if two Ellipses intersect","body":"<p>I'm creating a 2D topdown shooter game with Java Swing in which I want circular hitboxes for my player and enemies as well as projectiles. For hit detection I need to figure out if there is an intersection between a projtile and a <code>Sprite</code> (player or enemy). My issue is that <code>Ellipse2D</code>'s <code>intersect</code> function (that takes a position a width and height) creates a <code>Rectangle</code> out of the arguments. In its description it advises using <code>Area</code> for high precision and I was hoping it had an <code>intersect</code> function for any shape but that also casts its argument to a <code>Rectangle</code>.<br />\nHere's the jist of my Sprite object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sprite {\n    protected float worldX;\n    protected float worldY;\n    protected float drawX;\n    protected float drawY;\n    protected int width;\n    protected int height;\n    protected Image image;\n    ...\n}\n</code></pre>\n<p>In essence I'm storing their x and y coordinates as well as their width and height.(drawX and drawY are only used for rendering)</p>\n<p>Is there a build-in method (preferably in Swing) to intersect Ellipses with other shapes (specifically other Ellipses and Rectangles) or is there no better option then implementing these by hand?</p>\n"},{"tags":["java","merge","nested","hashmap"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646945002,"post_id":71430402,"comment_id":126255786,"body_markdown":"What you&#39;re describing is a tree.  You can certainly add hash functionality to a TreeNode to quickly find it, but it&#39;s usually unnecessary.  I would suggest building a tree with FolderNodes and DataNodes.  Then to find a value you pass the full key to the root and have it recursively find what you&#39;re looking for.","body":"What you&#39;re describing is a tree.  You can certainly add hash functionality to a TreeNode to quickly find it, but it&#39;s usually unnecessary.  I would suggest building a tree with FolderNodes and DataNodes.  Then to find a value you pass the full key to the root and have it recursively find what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646946103,"creation_date":1646946103,"answer_id":71430773,"question_id":71430402,"body_markdown":"Not exactly sure about your specific problem, but you could simply insert the values into the same structure instead of merging them afterward. For example, you can make a recursive insert that creates the nested maps until it inserts your value on the last key part. If the nested map already exists it uses the existing one. Something like this could do the trick:\r\n```\r\npublic static void main(String[] args) {\r\n    String k1 = &quot;a.b.c.d&quot;;\r\n    String v1 = &quot;123&quot;;\r\n    String k2 = &quot;a.b.c.e&quot;;\r\n    String v2 = &quot;456&quot;;\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    recursiveInsert(map,k1, v1);\r\n    recursiveInsert(map,k2, v2);\r\n\r\n    System.out.println(map);\r\n}\r\n\r\npublic static void recursiveInsert(Map&lt;String, Object&gt; map, String key, String value) {\r\n    int index = key.indexOf(&#39;.&#39;);\r\n    if (index == -1) {\r\n        map.put(key, value);\r\n    } else {\r\n        String subKey = key.substring(0, index);\r\n        map.putIfAbsent(subKey, new HashMap&lt;&gt;());\r\n        recursiveInsert((Map&lt;String, Object&gt;) map.get(subKey), key.substring(index + 1), value);\r\n    }\r\n}\r\n```\r\nThe output of this is what you requested:\r\n```\r\n{a={b={c={d=123, e=456}}}}\r\n```","title":"Java Merge Nested HashMaps at the innermost/leaf level","body":"<p>Not exactly sure about your specific problem, but you could simply insert the values into the same structure instead of merging them afterward. For example, you can make a recursive insert that creates the nested maps until it inserts your value on the last key part. If the nested map already exists it uses the existing one. Something like this could do the trick:</p>\n<pre><code>public static void main(String[] args) {\n    String k1 = &quot;a.b.c.d&quot;;\n    String v1 = &quot;123&quot;;\n    String k2 = &quot;a.b.c.e&quot;;\n    String v2 = &quot;456&quot;;\n\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    recursiveInsert(map,k1, v1);\n    recursiveInsert(map,k2, v2);\n\n    System.out.println(map);\n}\n\npublic static void recursiveInsert(Map&lt;String, Object&gt; map, String key, String value) {\n    int index = key.indexOf('.');\n    if (index == -1) {\n        map.put(key, value);\n    } else {\n        String subKey = key.substring(0, index);\n        map.putIfAbsent(subKey, new HashMap&lt;&gt;());\n        recursiveInsert((Map&lt;String, Object&gt;) map.get(subKey), key.substring(index + 1), value);\n    }\n}\n</code></pre>\n<p>The output of this is what you requested:</p>\n<pre><code>{a={b={c={d=123, e=456}}}}\n</code></pre>\n"}],"owner":{"account_id":6067917,"reputation":23,"user_id":4737641,"display_name":"DKR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71430773,"answer_count":1,"score":0,"last_activity_date":1646946103,"creation_date":1646944118,"question_id":71430402,"body_markdown":"Say I got 2 Key Value pairs:\r\n\r\n\tString k1 = &quot;a.b.c.d&quot;;\r\n\tString v1 = &quot;123&quot;;\r\n\tString k2 = &quot;a.b.c.d&quot;;\r\n\tString v2 = &quot;456&quot;;\r\n\r\nAnd the desired output is:\r\n\r\n    a {\r\n      b {\r\n        c {\r\n          d = &quot;123&quot;,\r\n          e = &quot;456&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nSo, I&#39;ve decided the split the keys by &quot;.&quot; and form nested HashMaps and then trying to merge them when they have duplicate keys. However, it needs to merge at the leaf or innermost level instead of the outermost level.\r\n\r\nThis is the full code:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    \r\n    public class TestClass {\r\n        public static void main(String []args)\r\n        {\r\n        \tMap&lt;String, Object&gt; finalMap = new HashMap&lt;&gt;();\r\n        \tMap&lt;String, Object&gt; outerMap1 = new HashMap&lt;&gt;();\r\n        \tMap&lt;String, Object&gt; outerMap2 = new HashMap&lt;&gt;();\r\n        \tString k = &quot;a.b.c.d&quot;;\r\n        \tString v = &quot;123&quot;;\r\n       \r\n        \touterMap1 = createNestedStructure(k, v);\r\n        \t\r\n        \tk = &quot;a.b.c.e&quot;;\r\n        \tv = &quot;456&quot;;\r\n        \touterMap2 = createNestedStructure(k, v);\r\n\r\n        \t\r\n        \tfinalMap = Stream\r\n        \t        .concat(outerMap1.entrySet().stream(),\r\n        \t        \t\touterMap2.entrySet().stream())\r\n        \t        .collect(Collectors.toMap(Entry::getKey,\r\n        \t                Entry::getValue, (a, b) -&gt; {\r\n        \t                    String c = a.toString() + &quot;\\n&quot; + b.toString();\r\n        \t                    return c;\r\n        \t                }, HashMap::new));\r\n           \r\n        \tSystem.out.println(finalMap.toString());\r\n       }\r\n       public static Map&lt;String, Object&gt; createNestedStructure(String k, String v)\r\n       {\r\n           String[] tokens = k.split(&quot;\\\\.&quot;);\r\n           Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\r\n           v = &quot;\\&quot;&quot; + v + &quot;\\&quot;&quot;;\r\n           innerMap.put(tokens[tokens.length-1], v);\r\n           \r\n           Map&lt;String, Object&gt; middleMap = new HashMap&lt;&gt;();\r\n           middleMap.put(tokens[tokens.length-2], innerMap);\r\n           for(int i=tokens.length-3; i&gt;=0; i--)\r\n           {\r\n               Map&lt;String, Object&gt; middleMapTmp = new HashMap&lt;&gt;();\r\n               middleMapTmp.put(tokens[i], middleMap);\r\n               middleMap = middleMapTmp;\r\n           }\r\n    //       Map&lt;String, Object&gt; outerMap = new HashMap&lt;&gt;();\r\n    //       outerMap.put(tokens[0], middleMap);\r\n    //       return outerMap;\r\n           return middleMap;\r\n       }\r\n    }\r\n\r\nI&#39;m not sure if this is the correct approach. So suggestions on better approaches are also welcome.","title":"Java Merge Nested HashMaps at the innermost/leaf level","body":"<p>Say I got 2 Key Value pairs:</p>\n<pre><code>String k1 = &quot;a.b.c.d&quot;;\nString v1 = &quot;123&quot;;\nString k2 = &quot;a.b.c.d&quot;;\nString v2 = &quot;456&quot;;\n</code></pre>\n<p>And the desired output is:</p>\n<pre><code>a {\n  b {\n    c {\n      d = &quot;123&quot;,\n      e = &quot;456&quot;\n    }\n  }\n}\n</code></pre>\n<p>So, I've decided the split the keys by &quot;.&quot; and form nested HashMaps and then trying to merge them when they have duplicate keys. However, it needs to merge at the leaf or innermost level instead of the outermost level.</p>\n<p>This is the full code:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n\npublic class TestClass {\n    public static void main(String []args)\n    {\n        Map&lt;String, Object&gt; finalMap = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; outerMap1 = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; outerMap2 = new HashMap&lt;&gt;();\n        String k = &quot;a.b.c.d&quot;;\n        String v = &quot;123&quot;;\n   \n        outerMap1 = createNestedStructure(k, v);\n        \n        k = &quot;a.b.c.e&quot;;\n        v = &quot;456&quot;;\n        outerMap2 = createNestedStructure(k, v);\n\n        \n        finalMap = Stream\n                .concat(outerMap1.entrySet().stream(),\n                        outerMap2.entrySet().stream())\n                .collect(Collectors.toMap(Entry::getKey,\n                        Entry::getValue, (a, b) -&gt; {\n                            String c = a.toString() + &quot;\\n&quot; + b.toString();\n                            return c;\n                        }, HashMap::new));\n       \n        System.out.println(finalMap.toString());\n   }\n   public static Map&lt;String, Object&gt; createNestedStructure(String k, String v)\n   {\n       String[] tokens = k.split(&quot;\\\\.&quot;);\n       Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\n       v = &quot;\\&quot;&quot; + v + &quot;\\&quot;&quot;;\n       innerMap.put(tokens[tokens.length-1], v);\n       \n       Map&lt;String, Object&gt; middleMap = new HashMap&lt;&gt;();\n       middleMap.put(tokens[tokens.length-2], innerMap);\n       for(int i=tokens.length-3; i&gt;=0; i--)\n       {\n           Map&lt;String, Object&gt; middleMapTmp = new HashMap&lt;&gt;();\n           middleMapTmp.put(tokens[i], middleMap);\n           middleMap = middleMapTmp;\n       }\n//       Map&lt;String, Object&gt; outerMap = new HashMap&lt;&gt;();\n//       outerMap.put(tokens[0], middleMap);\n//       return outerMap;\n       return middleMap;\n   }\n}\n</code></pre>\n<p>I'm not sure if this is the correct approach. So suggestions on better approaches are also welcome.</p>\n"},{"tags":["java","http","authentication","authorization","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1646934588,"post_id":71427163,"comment_id":126252431,"body_markdown":"If you can&#39;t move your client to use standards, can you give some information about your app?  I&#39;ve written filters for servlet apps and a ContainerRequestFilter for JAX-RS apps that would solve your issue.","body":"If you can&#39;t move your client to use standards, can you give some information about your app?  I&#39;ve written filters for servlet apps and a ContainerRequestFilter for JAX-RS apps that would solve your issue."},{"owner":{"account_id":5887273,"reputation":69,"user_id":4634860,"display_name":"Mike Degteariov"},"score":0,"creation_date":1646939340,"post_id":71427163,"comment_id":126254037,"body_markdown":"@stdunbar Thank you. As a matter of fact, the RFC 7235 says that HTTP Authentication Basic header should not be case sensitive, so using BASIC shouldn&#39;t cause issues. One of earlier Undertow bugs refers to this RFC and confirms that, see the link below. Looks like this bug was active in some earlier releases, than was fixed, and probably was reintroduced at some point later on. https://issues.redhat.com/browse/UNDERTOW-629","body":"@stdunbar Thank you. As a matter of fact, the RFC 7235 says that HTTP Authentication Basic header should not be case sensitive, so using BASIC shouldn&#39;t cause issues. One of earlier Undertow bugs refers to this RFC and confirms that, see the link below. Looks like this bug was active in some earlier releases, than was fixed, and probably was reintroduced at some point later on. <a href=\"https://issues.redhat.com/browse/UNDERTOW-629\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/UNDERTOW-629</a>"},{"owner":{"account_id":5887273,"reputation":69,"user_id":4634860,"display_name":"Mike Degteariov"},"score":0,"creation_date":1646939675,"post_id":71427163,"comment_id":126254144,"body_markdown":"@stdunbar As of our app,  we expose bunch of restful APIs, we use resteasy, which is JAX-RS implementation","body":"@stdunbar As of our app,  we expose bunch of restful APIs, we use resteasy, which is JAX-RS implementation"}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646945637,"creation_date":1646945637,"answer_id":71430678,"question_id":71427163,"body_markdown":"Thanks Mike - I missed that the  *value* is case insensitive too (HTTP keys have always been case insensitive).  Below is what I have used for my own JaxRS services.\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import javax.annotation.Priority;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.ws.rs.BadRequestException;\r\n    import javax.ws.rs.NotAuthorizedException;\r\n    import javax.ws.rs.Priorities;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerRequestFilter;\r\n    import javax.ws.rs.container.PreMatching;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.SecurityContext;\r\n    import javax.ws.rs.core.UriInfo;\r\n    import javax.ws.rs.ext.Provider;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.Principal;\r\n    import java.util.Base64;\r\n    \r\n\r\n    @Provider\r\n    @Priority(Priorities.AUTHENTICATION)\r\n    @PreMatching\r\n    public class AuthContainerRequestFilter implements ContainerRequestFilter {\r\n        private static final Logger logger = LoggerFactory.getLogger(AuthContainerRequestFilter.class);\r\n    \r\n        private static final Boolean authEnabled = Boolean.TRUE;\r\n    \r\n        @Context\r\n        private HttpServletResponse httpServletResponse;\r\n    \r\n\r\n        @Override\r\n        public void filter(ContainerRequestContext containerRequestContext)  {\r\n    \r\n            SamplePrincipal samplePrincipal;\r\n    \r\n            if( authEnabled ) {   \r\n                String authToken = containerRequestContext.getHeaderString(&quot;Authorization&quot;);\r\n    \r\n                if (authToken == null) {\r\n                    logger.warn(&quot;this request has no Authorization header or parameter&quot;);\r\n                    httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\r\n                    throw new NotAuthorizedException(Response.status(Response.Status.UNAUTHORIZED)\r\n                            .entity(&quot;no authorization header&quot;)\r\n                            .type(MediaType.TEXT_PLAIN_TYPE)\r\n                            .build());\r\n                }\r\n    \r\n                if (!authToken.toLowerCase().startsWith(&quot;basic&quot;)) {\r\n\r\n                    httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\r\n                    throw new NotAuthorizedException(Response.status(Response.Status.UNAUTHORIZED)\r\n                            .entity(&quot;expected Basic auth for Authorization header&quot;)\r\n                            .type(MediaType.TEXT_PLAIN_TYPE)\r\n                            .build());\r\n                }\r\n    \r\n                String[] basicAuthHeaderParts = authToken.split(&quot; &quot;);\r\n                if (basicAuthHeaderParts.length != 2) {\r\n                    httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\r\n                    throw new BadRequestException(Response.status(Response.Status.BAD_REQUEST)\r\n                            .entity(&quot;malformed Basic auth for Authorization header - missing auth value&quot;)\r\n                            .type(MediaType.TEXT_PLAIN_TYPE)\r\n                            .build());\r\n                }\r\n    \r\n                String userAndPassword = new String(Base64.getDecoder().decode(basicAuthHeaderParts[1]), StandardCharsets.UTF_8);\r\n                String[] userAndPasswordValues = userAndPassword.split(&quot;:&quot;);\r\n    \r\n                if (userAndPasswordValues.length != 2) {\r\n                    httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\r\n                    throw new BadRequestException(Response.status(Response.Status.BAD_REQUEST)\r\n                            .entity(&quot;malformed Basic auth for Authorization header - can&#39;t split user/password&quot;)\r\n                            .type(MediaType.TEXT_PLAIN_TYPE)\r\n                            .build());\r\n                }\r\n              \r\n                // validate user/password combo\r\n   \r\n                // fill the principal with the appropriate values.\r\n                // this allows for the @RolesAllowed annotation too.\r\n\r\n                samplePrincipal = new SamplePrincipal(userAndPasswordValues[0], &quot;Some Name&quot;);\r\n                samplePrincipal.addRole(&quot;normal&quot;);\r\n            }\r\n            else {\r\n                samplePrincipal = new SamplePrincipal(&quot;blah@blah.com&quot;, &quot;Some Name&quot;);\r\n            }\r\n    \r\n            containerRequestContext.setSecurityContext(new SecurityContext() {\r\n                @Override\r\n                public Principal getUserPrincipal() {\r\n                    return samplePrincipal;\r\n                }\r\n                @Override\r\n                public boolean isUserInRole(String role) {\r\n                    return samplePrincipal.isUserInRole(role);\r\n                }\r\n                @Override\r\n                public boolean isSecure() {\r\n                    return containerRequestContext.getUriInfo().getAbsolutePath().toString().startsWith(&quot;https&quot;);\r\n                }\r\n                @Override\r\n                public String getAuthenticationScheme() {\r\n                    return SecurityContext.BASIC_AUTH;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nwith the SamplePrincipal:\r\n\r\n\r\n    import java.security.Principal;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n\r\n    public class SamplePrincipal implements Principal {\r\n    \r\n        private String userName;\r\n        private String name;\r\n        private List&lt;String&gt; roles = null;\r\n    \r\n    \r\n        public SamplePrincipal(String userName, String name) {\r\n            this.userName = userName;\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    \r\n        public void setUserName(String userName) {\r\n            this.userName = userName;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void addRole(String role) {\r\n            if( roles == null)\r\n                roles = new ArrayList&lt;&gt;();\r\n    \r\n            roles.add(role);\r\n        }\r\n    \r\n        public void setRoles(List&lt;String&gt; roles) {\r\n            this.roles = new ArrayList&lt;&gt;(roles);\r\n        }\r\n    \r\n        public boolean isUserInRole(String role) {\r\n            if( roles == null )\r\n                return false;\r\n    \r\n            return roles.contains(role);\r\n        }\r\n    }\r\n\r\nAs part of my code I use the `@RolesAllowed` annotation on my services to validate the permission.  Ultimately I did a DB query for the user/password/roll information.\r\n\r\nI do realize that I&#39;m re-writing code that already exists but it simplified an application that had an existing user database that was more complicated than the default Wildfly configuration allowed me to handle.  In your case there is really just a single line from this that needs to exist where the header is compared with the string &quot;basic&quot;.  I&#39;m not positive that this is worth it but when the bug comes back into Undertow you&#39;ll be ready I guess.","title":"Wildfly 26.0.1 fails basic authentication when Authorization header has BASIC with all capitals","body":"<p>Thanks Mike - I missed that the  <em>value</em> is case insensitive too (HTTP keys have always been case insensitive).  Below is what I have used for my own JaxRS services.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.annotation.Priority;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.ws.rs.BadRequestException;\nimport javax.ws.rs.NotAuthorizedException;\nimport javax.ws.rs.Priorities;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerRequestFilter;\nimport javax.ws.rs.container.PreMatching;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.SecurityContext;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\nimport java.nio.charset.StandardCharsets;\nimport java.security.Principal;\nimport java.util.Base64;\n\n\n@Provider\n@Priority(Priorities.AUTHENTICATION)\n@PreMatching\npublic class AuthContainerRequestFilter implements ContainerRequestFilter {\n    private static final Logger logger = LoggerFactory.getLogger(AuthContainerRequestFilter.class);\n\n    private static final Boolean authEnabled = Boolean.TRUE;\n\n    @Context\n    private HttpServletResponse httpServletResponse;\n\n\n    @Override\n    public void filter(ContainerRequestContext containerRequestContext)  {\n\n        SamplePrincipal samplePrincipal;\n\n        if( authEnabled ) {   \n            String authToken = containerRequestContext.getHeaderString(&quot;Authorization&quot;);\n\n            if (authToken == null) {\n                logger.warn(&quot;this request has no Authorization header or parameter&quot;);\n                httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\n                throw new NotAuthorizedException(Response.status(Response.Status.UNAUTHORIZED)\n                        .entity(&quot;no authorization header&quot;)\n                        .type(MediaType.TEXT_PLAIN_TYPE)\n                        .build());\n            }\n\n            if (!authToken.toLowerCase().startsWith(&quot;basic&quot;)) {\n\n                httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\n                throw new NotAuthorizedException(Response.status(Response.Status.UNAUTHORIZED)\n                        .entity(&quot;expected Basic auth for Authorization header&quot;)\n                        .type(MediaType.TEXT_PLAIN_TYPE)\n                        .build());\n            }\n\n            String[] basicAuthHeaderParts = authToken.split(&quot; &quot;);\n            if (basicAuthHeaderParts.length != 2) {\n                httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\n                throw new BadRequestException(Response.status(Response.Status.BAD_REQUEST)\n                        .entity(&quot;malformed Basic auth for Authorization header - missing auth value&quot;)\n                        .type(MediaType.TEXT_PLAIN_TYPE)\n                        .build());\n            }\n\n            String userAndPassword = new String(Base64.getDecoder().decode(basicAuthHeaderParts[1]), StandardCharsets.UTF_8);\n            String[] userAndPasswordValues = userAndPassword.split(&quot;:&quot;);\n\n            if (userAndPasswordValues.length != 2) {\n                httpServletResponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Sample Service\\&quot;, charset=\\&quot;UTF-8\\&quot;&quot;);\n                throw new BadRequestException(Response.status(Response.Status.BAD_REQUEST)\n                        .entity(&quot;malformed Basic auth for Authorization header - can't split user/password&quot;)\n                        .type(MediaType.TEXT_PLAIN_TYPE)\n                        .build());\n            }\n          \n            // validate user/password combo\n\n            // fill the principal with the appropriate values.\n            // this allows for the @RolesAllowed annotation too.\n\n            samplePrincipal = new SamplePrincipal(userAndPasswordValues[0], &quot;Some Name&quot;);\n            samplePrincipal.addRole(&quot;normal&quot;);\n        }\n        else {\n            samplePrincipal = new SamplePrincipal(&quot;blah@blah.com&quot;, &quot;Some Name&quot;);\n        }\n\n        containerRequestContext.setSecurityContext(new SecurityContext() {\n            @Override\n            public Principal getUserPrincipal() {\n                return samplePrincipal;\n            }\n            @Override\n            public boolean isUserInRole(String role) {\n                return samplePrincipal.isUserInRole(role);\n            }\n            @Override\n            public boolean isSecure() {\n                return containerRequestContext.getUriInfo().getAbsolutePath().toString().startsWith(&quot;https&quot;);\n            }\n            @Override\n            public String getAuthenticationScheme() {\n                return SecurityContext.BASIC_AUTH;\n            }\n        });\n    }\n}\n</code></pre>\n<p>with the SamplePrincipal:</p>\n<pre><code>import java.security.Principal;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class SamplePrincipal implements Principal {\n\n    private String userName;\n    private String name;\n    private List&lt;String&gt; roles = null;\n\n\n    public SamplePrincipal(String userName, String name) {\n        this.userName = userName;\n        this.name = name;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void addRole(String role) {\n        if( roles == null)\n            roles = new ArrayList&lt;&gt;();\n\n        roles.add(role);\n    }\n\n    public void setRoles(List&lt;String&gt; roles) {\n        this.roles = new ArrayList&lt;&gt;(roles);\n    }\n\n    public boolean isUserInRole(String role) {\n        if( roles == null )\n            return false;\n\n        return roles.contains(role);\n    }\n}\n</code></pre>\n<p>As part of my code I use the <code>@RolesAllowed</code> annotation on my services to validate the permission.  Ultimately I did a DB query for the user/password/roll information.</p>\n<p>I do realize that I'm re-writing code that already exists but it simplified an application that had an existing user database that was more complicated than the default Wildfly configuration allowed me to handle.  In your case there is really just a single line from this that needs to exist where the header is compared with the string &quot;basic&quot;.  I'm not positive that this is worth it but when the bug comes back into Undertow you'll be ready I guess.</p>\n"}],"owner":{"account_id":5887273,"reputation":69,"user_id":4634860,"display_name":"Mike Degteariov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646945637,"creation_date":1646928005,"question_id":71427163,"body_markdown":"We are in the process of upgrade of our platform to Wildfly 26.0.1\r\nWe noticed that when HTTP request comes in to one of basic auth-protected endpoints , and if the HTTP &quot;Authorization&quot; header has value that starts with the word BASIC - with all capitals - then the request immediately result it HTTP 401 response, despite correct login and password in base64-encoded second part. It works properly if the value starts with &quot;Basic&quot; (&quot;B&quot; in uppercase, the rest is lowercase).\r\n\r\nThe problem is very similar, if not identical to [this bug][1] opened and fixed a few years ago (opened for WF9.0.2, fixed in 10.1.0)\r\n\r\nWe also confirmed that this issue exist in previous versions of Wildfly, the earliest we were able to reproduce it is WF18, and we also know for sure the 10.1.0 did not have it - as this is the version we trying to migrate from.\r\n\r\nHas anyone come across this issue and knows how to tweak configuration / otherwise fix it? Asking clients to use &quot;Basic&quot; instead of &quot;BASIC&quot; is not an option.\r\n\r\n    $ curl -vH &quot;Authorization: BASIC ZnJhbms6cGFzc3dvcmQxMjM=&quot; http://localhost:8080/http-basic/secure\r\n    * Trying 127.0.0.1...\r\n    * TCP_NODELAY set\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /http-basic/secure HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/7.54.0\r\n    &gt; Accept: */*\r\n    &gt; Authorization: BASIC ZnJhbms6cGFzc3dvcmQxMjM=\r\n    &gt;\r\n    &lt; HTTP/1.1 401 Unauthorized\r\n    &lt; Expires: 0\r\n    &lt; Connection: keep-alive\r\n    &lt; WWW-Authenticate: Basic realm=&quot;RealmUsersRoles&quot;\r\n    &lt; Cache-Control: no-cache, no-store, must-revalidate\r\n    &lt; Pragma: no-cache\r\n    &lt; Content-Type: text/html;charset=UTF-8\r\n    &lt; Content-Length: 71\r\n    &lt; Date: Thu, 10 Mar 2022 15:38:55 GMT\r\n    &lt;\r\n    * Connection #0 to host localhost left intact\r\n    &lt;html&gt;&lt;head&gt;&lt;title&gt;Error&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Unauthorized&lt;/body&gt;&lt;/html&gt;mark_mac:enstream-identity-warTrunk mwei$\r\n    \r\n    $ curl -vH &quot;Authorization: Basic ZnJhbms6cGFzc3dvcmQxMjM=&quot; http://localhost:8080/http-basic/secure\r\n    * Trying 127.0.0.1...\r\n    * TCP_NODELAY set\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /http-basic/secure HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/7.54.0\r\n    &gt; Accept: */*\r\n    &gt; Authorization: Basic ZnJhbms6cGFzc3dvcmQxMjM=\r\n    &gt;\r\n    &lt; HTTP/1.1 200 OK\r\n    &lt; Expires: 0\r\n    &lt; Connection: keep-alive\r\n    &lt; Cache-Control: no-cache, no-store, must-revalidate\r\n    &lt; Pragma: no-cache\r\n    &lt; Content-Length: 206\r\n    &lt; Date: Thu, 10 Mar 2022 15:39:11 GMT\r\n    &lt;\r\n    &lt;html&gt;&lt;head&gt;&lt;title&gt;servlet-security&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\r\n    &lt;h1&gt;Successfully called Secured Servlet &lt;/h1&gt;\r\n    &lt;p&gt;Principal : frank&lt;/p&gt;\r\n    &lt;p&gt;Remote User : frank&lt;/p&gt;\r\n    &lt;p&gt;Authentication Type : BASIC&lt;/p&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n    * Connection #0 to host localhost left intact\r\n\r\n  [1]: https://issues.redhat.com/browse/WFLY-5618?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=13160586\r\n","title":"Wildfly 26.0.1 fails basic authentication when Authorization header has BASIC with all capitals","body":"<p>We are in the process of upgrade of our platform to Wildfly 26.0.1\nWe noticed that when HTTP request comes in to one of basic auth-protected endpoints , and if the HTTP &quot;Authorization&quot; header has value that starts with the word BASIC - with all capitals - then the request immediately result it HTTP 401 response, despite correct login and password in base64-encoded second part. It works properly if the value starts with &quot;Basic&quot; (&quot;B&quot; in uppercase, the rest is lowercase).</p>\n<p>The problem is very similar, if not identical to <a href=\"https://issues.redhat.com/browse/WFLY-5618?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=13160586\" rel=\"nofollow noreferrer\">this bug</a> opened and fixed a few years ago (opened for WF9.0.2, fixed in 10.1.0)</p>\n<p>We also confirmed that this issue exist in previous versions of Wildfly, the earliest we were able to reproduce it is WF18, and we also know for sure the 10.1.0 did not have it - as this is the version we trying to migrate from.</p>\n<p>Has anyone come across this issue and knows how to tweak configuration / otherwise fix it? Asking clients to use &quot;Basic&quot; instead of &quot;BASIC&quot; is not an option.</p>\n<pre><code>$ curl -vH &quot;Authorization: BASIC ZnJhbms6cGFzc3dvcmQxMjM=&quot; http://localhost:8080/http-basic/secure\n* Trying 127.0.0.1...\n* TCP_NODELAY set\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /http-basic/secure HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.54.0\n&gt; Accept: */*\n&gt; Authorization: BASIC ZnJhbms6cGFzc3dvcmQxMjM=\n&gt;\n&lt; HTTP/1.1 401 Unauthorized\n&lt; Expires: 0\n&lt; Connection: keep-alive\n&lt; WWW-Authenticate: Basic realm=&quot;RealmUsersRoles&quot;\n&lt; Cache-Control: no-cache, no-store, must-revalidate\n&lt; Pragma: no-cache\n&lt; Content-Type: text/html;charset=UTF-8\n&lt; Content-Length: 71\n&lt; Date: Thu, 10 Mar 2022 15:38:55 GMT\n&lt;\n* Connection #0 to host localhost left intact\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Error&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Unauthorized&lt;/body&gt;&lt;/html&gt;mark_mac:enstream-identity-warTrunk mwei$\n\n$ curl -vH &quot;Authorization: Basic ZnJhbms6cGFzc3dvcmQxMjM=&quot; http://localhost:8080/http-basic/secure\n* Trying 127.0.0.1...\n* TCP_NODELAY set\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /http-basic/secure HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.54.0\n&gt; Accept: */*\n&gt; Authorization: Basic ZnJhbms6cGFzc3dvcmQxMjM=\n&gt;\n&lt; HTTP/1.1 200 OK\n&lt; Expires: 0\n&lt; Connection: keep-alive\n&lt; Cache-Control: no-cache, no-store, must-revalidate\n&lt; Pragma: no-cache\n&lt; Content-Length: 206\n&lt; Date: Thu, 10 Mar 2022 15:39:11 GMT\n&lt;\n&lt;html&gt;&lt;head&gt;&lt;title&gt;servlet-security&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Successfully called Secured Servlet &lt;/h1&gt;\n&lt;p&gt;Principal : frank&lt;/p&gt;\n&lt;p&gt;Remote User : frank&lt;/p&gt;\n&lt;p&gt;Authentication Type : BASIC&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n* Connection #0 to host localhost left intact\n</code></pre>\n"},{"tags":["java","selenium","window","applitools"],"answers":[{"tags":[],"owner":{"account_id":19015487,"reputation":61,"user_id":13880548,"display_name":"MJApplitools"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646945467,"creation_date":1646945467,"answer_id":71430653,"question_id":71430352,"body_markdown":"You&#39;ll need to switch the driver context to the new tab using Selenium before taking the screenshot with Applitools.\r\n\r\nYou can see methods on tab switching in Java Selenium from this answer: [link][1]\r\n\r\nAt a high level, what you should do is:\r\n1. Open the new tab\r\n2. Use Selenium to switch the driver context to the new tab\r\n3. Call eyes.check()\r\n\r\nAdditionally, be sure to set the driver object equal to the return value of your call to eyes.open(). Doing this will ensure the Applitools Eyes object can keep track of the context the driver is in.\r\n\r\n    myDriver = eyes.open(driver, appName, testName, viewportSize);\r\n    // switch browser context using myDriver variable\r\n    // take screenshot etc.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java","title":"Selenium Applitools swtich Tab/Window for checkpoint","body":"<p>You'll need to switch the driver context to the new tab using Selenium before taking the screenshot with Applitools.</p>\n<p>You can see methods on tab switching in Java Selenium from this answer: <a href=\"https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java\">link</a></p>\n<p>At a high level, what you should do is:</p>\n<ol>\n<li>Open the new tab</li>\n<li>Use Selenium to switch the driver context to the new tab</li>\n<li>Call eyes.check()</li>\n</ol>\n<p>Additionally, be sure to set the driver object equal to the return value of your call to eyes.open(). Doing this will ensure the Applitools Eyes object can keep track of the context the driver is in.</p>\n<pre><code>myDriver = eyes.open(driver, appName, testName, viewportSize);\n// switch browser context using myDriver variable\n// take screenshot etc.\n</code></pre>\n"}],"owner":{"account_id":17191948,"reputation":53,"user_id":12445565,"display_name":"Karol Odwald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71430653,"answer_count":1,"score":1,"last_activity_date":1646945467,"creation_date":1646943898,"question_id":71430352,"body_markdown":"How do I switch the browser tab/window to compare the views in Applitools?\r\nProblem is I&#39;ve got eyes.check on a login window and after loggin in there is a new window opened but the checkpoint compares the old tab/window. Target.window() does not take any parameters. How do I do that?\r\n\r\nThanks","title":"Selenium Applitools swtich Tab/Window for checkpoint","body":"<p>How do I switch the browser tab/window to compare the views in Applitools?\nProblem is I've got eyes.check on a login window and after loggin in there is a new window opened but the checkpoint compares the old tab/window. Target.window() does not take any parameters. How do I do that?</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1646885495,"post_id":71415078,"comment_id":126235773,"body_markdown":"Please provide the generated SQL so we can discuss it from that point of view.","body":"Please provide the generated SQL so we can discuss it from that point of view."},{"owner":{"account_id":16700910,"reputation":33,"user_id":12070709,"display_name":"anaz_Zean07"},"score":0,"creation_date":1646886009,"post_id":71415078,"comment_id":126235837,"body_markdown":"Hi Rick, yes I have pasted the screenshot of the generated SQL query.","body":"Hi Rick, yes I have pasted the screenshot of the generated SQL query."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646944914,"creation_date":1646893595,"answer_id":71419709,"question_id":71415078,"body_markdown":"If the two name columns have a collation that is &quot;case_insensive&quot; you don&#39;t need the `LOWER()` calls.  Then the the `WHERE` clause might be as simple as\r\n\r\n    WHERE first_name = ? OR last_name = ?\r\n\r\nIf you are planning to allow wild cards, then\r\n\r\n    WHERE first_name LIKE ? OR last_name LIKE ?\r\n\r\nWhat the heck is the `CONCAT()` for?\r\n\r\nHowever, my suggestion is mostly a simplification, it still requires checking every row.  That is because of the `OR`.\r\n\r\nAbout the only way to get rid of the `OR` is to use a `UNION`, but that gets messy:\r\n\r\n    ( SELECT ...\r\n        FROM ...\r\n        JOIN ... ON ...\r\n        WHERE first_name LIKE ? \r\n        LIMIT ?)\r\n    UNION DISTINCT\r\n    ( SELECT ...\r\n        FROM ...\r\n        JOIN ... ON ...\r\n        WHERE last_name LIKE ?\r\n        LIMIT ? )\r\n    LIMIT ?\r\n\r\nplus\r\n\r\n    INDEX(first_name),\r\n    INDEX(last_name)\r\n\r\nThen there are outer issues...\r\n\r\n* A `LIMIT` without an `ORDER BY` does not make much sense.\r\n* If you will also have `OFFSET`, it gets messier\r\n* If the user provides a _leading_ wild card on the `LIKE` string, then it will still have to do a table scan; in fact two scans.\r\n\r\nA `FULLTEXT` index could be used, but it has limitations, and you would need to combine the two columns into a single column.  That way one name would match either first or last _very_ efficiently.  But the user would have to enter the full first and/or last name, not just an initial.\r\n\r\n**Auto-complete**\r\n\r\nSince the purpose is for an auto-complete UI, I will assume there is no leading wildcard on the `LIKE`.  But, if you still need to check the entry of either first or last name, then the UNION is necessary.\r\n\r\nHave the Javascript avoid asking for names until the user has entered at least two letters.  This will limit the returned list to under 1% of the total (usually).  I suspect that currently you are asking for a list after the first letter and it is looking at 10% of the names.\r\n\r\nWithout the indexes and union, up to 100% of the table is read each time.  My suggestions above limit it to &quot;up to 1%&quot;, thereby making things 100x faster.  (Well, for various reasons, do not count on a full 100x.)\r\n\r\nYou must decide what to do about ordering of the subqueries of the Union and of the union as a whole.  Otherwise, there will be some surprising lists coming back.  The user experience will be sub-par.","title":"How to do a efficient contained search among two columns?","body":"<p>If the two name columns have a collation that is &quot;case_insensive&quot; you don't need the <code>LOWER()</code> calls.  Then the the <code>WHERE</code> clause might be as simple as</p>\n<pre><code>WHERE first_name = ? OR last_name = ?\n</code></pre>\n<p>If you are planning to allow wild cards, then</p>\n<pre><code>WHERE first_name LIKE ? OR last_name LIKE ?\n</code></pre>\n<p>What the heck is the <code>CONCAT()</code> for?</p>\n<p>However, my suggestion is mostly a simplification, it still requires checking every row.  That is because of the <code>OR</code>.</p>\n<p>About the only way to get rid of the <code>OR</code> is to use a <code>UNION</code>, but that gets messy:</p>\n<pre><code>( SELECT ...\n    FROM ...\n    JOIN ... ON ...\n    WHERE first_name LIKE ? \n    LIMIT ?)\nUNION DISTINCT\n( SELECT ...\n    FROM ...\n    JOIN ... ON ...\n    WHERE last_name LIKE ?\n    LIMIT ? )\nLIMIT ?\n</code></pre>\n<p>plus</p>\n<pre><code>INDEX(first_name),\nINDEX(last_name)\n</code></pre>\n<p>Then there are outer issues...</p>\n<ul>\n<li>A <code>LIMIT</code> without an <code>ORDER BY</code> does not make much sense.</li>\n<li>If you will also have <code>OFFSET</code>, it gets messier</li>\n<li>If the user provides a <em>leading</em> wild card on the <code>LIKE</code> string, then it will still have to do a table scan; in fact two scans.</li>\n</ul>\n<p>A <code>FULLTEXT</code> index could be used, but it has limitations, and you would need to combine the two columns into a single column.  That way one name would match either first or last <em>very</em> efficiently.  But the user would have to enter the full first and/or last name, not just an initial.</p>\n<p><strong>Auto-complete</strong></p>\n<p>Since the purpose is for an auto-complete UI, I will assume there is no leading wildcard on the <code>LIKE</code>.  But, if you still need to check the entry of either first or last name, then the UNION is necessary.</p>\n<p>Have the Javascript avoid asking for names until the user has entered at least two letters.  This will limit the returned list to under 1% of the total (usually).  I suspect that currently you are asking for a list after the first letter and it is looking at 10% of the names.</p>\n<p>Without the indexes and union, up to 100% of the table is read each time.  My suggestions above limit it to &quot;up to 1%&quot;, thereby making things 100x faster.  (Well, for various reasons, do not count on a full 100x.)</p>\n<p>You must decide what to do about ordering of the subqueries of the Union and of the union as a whole.  Otherwise, there will be some surprising lists coming back.  The user experience will be sub-par.</p>\n"}],"owner":{"account_id":16700910,"reputation":33,"user_id":12070709,"display_name":"anaz_Zean07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646944914,"creation_date":1646854499,"question_id":71415078,"body_markdown":"I have a DriverEntity which is having a private property i.e., DriverInfoEntity which is having driver&#39;s first name and last name.\r\n\r\nSample code : \r\n\r\n    public class DriverEntity{\r\n        \r\n        @JsonManagedReference(value = &quot;driver-info&quot;)\r\n        @OneToOne(mappedBy = &quot;driver&quot;, cascade = CascadeType.ALL)\r\n        private DriverInfoEntity driverInfo;\r\n    .\r\n    .\r\n    .\r\n    //few other private attributes\r\n\r\n    }\r\n    \r\n    public class DriverInfoEntity  {\r\n\r\n        @Column(name = &quot;FIRST_NAME&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;MIDDLE_NAME&quot;)\r\n        private String middleName;\r\n    \r\n        @Column(name = &quot;LAST_NAME&quot;)\r\n        private String lastName;\r\n    .\r\n    .\r\n    //few other private attributes\r\n    \r\n     }\r\n\r\n\r\nAnd I am doing a contained search on the firstName and lastName columns using specification Builder. Idea is to search based on the provided **driverName** which may be **only firstName** or **(firstName +&#39; &#39;+ lastName)** or **only lastName**.\r\n\r\nLogic written is: \r\n\r\n    public Specification buildSpecification(Specification specification) {\r\n    if (driverSearchRequestFilterDTO.getDriverName() != null) {\r\n                List&lt;Object&gt; referenceList = new ArrayList&lt;&gt;();\r\n                referenceList.add(DriverEntity_.driverInfo);\r\n                specification = specification.and(specificationBuilder\r\n                        .getSpecificationForConcatField(referenceList, DriverInfoEntity_.firstName,\r\n                                DriverInfoEntity_.lastName, driverSearchRequestFilterDTO.getDriverName()));\r\n            }\r\n            return specification;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    public static Predicate buildConcatPredicateWithJoin(Root root, Join joinCondition, CriteriaBuilder criteriaBuilder,\r\n            SingularAttribute firstColumn, SingularAttribute secondColumn, String inputQuery) {\r\n\r\n        Predicate firstColumnLike;\r\n        Predicate secondColumnLike;\r\n        Predicate firstSecondColumnLike;\r\n        Predicate secondFirstColumnLike;\r\n\r\n        if (Objects.nonNull(root)) {\r\n            firstColumnLike = criteriaBuilder.like(criteriaBuilder.lower(root.get(firstColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n            secondColumnLike = criteriaBuilder.like(criteriaBuilder.lower(root.get(secondColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n\r\n            //combination of firstColumn + &quot; &quot; + second column\r\n            Expression&lt;String&gt; exp1 = criteriaBuilder.concat(criteriaBuilder.lower(root.get(firstColumn)), &quot; &quot;);\r\n            exp1 = criteriaBuilder.concat(exp1, criteriaBuilder.lower(root.get(secondColumn)));\r\n            firstSecondColumnLike = criteriaBuilder.like(exp1, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n\r\n            //combination of secondColumn + &quot; &quot; + firstColumn\r\n            Expression&lt;String&gt; exp2 = criteriaBuilder.concat(criteriaBuilder.lower(root.get(secondColumn)), &quot; &quot;);\r\n            exp2 = criteriaBuilder.concat(exp2, criteriaBuilder.lower(root.get(firstColumn)));\r\n            secondFirstColumnLike = criteriaBuilder.like(exp2, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n        } else {\r\n            firstColumnLike = criteriaBuilder.like(criteriaBuilder.lower(joinCondition.get(firstColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n            secondColumnLike = criteriaBuilder.like(criteriaBuilder.lower(joinCondition.get(secondColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n            // to search by first name\r\n            Expression&lt;String&gt; exp1 = criteriaBuilder.concat(criteriaBuilder.lower(joinCondition.get(firstColumn)), &quot; &quot;);\r\n            exp1 = criteriaBuilder.concat(exp1, criteriaBuilder.lower(joinCondition.get(secondColumn)));\r\n\r\n            firstSecondColumnLike = criteriaBuilder.like(exp1, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n\r\n            //to search by last name\r\n            Expression&lt;String&gt; exp2 = criteriaBuilder.concat(criteriaBuilder.lower(joinCondition.get(secondColumn)), &quot; &quot;);\r\n            exp2 = criteriaBuilder.concat(exp2, criteriaBuilder.lower(joinCondition.get(firstColumn)));\r\n\r\n            secondFirstColumnLike = criteriaBuilder.like(exp2, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\r\n        }\r\n        return criteriaBuilder.or(firstColumnLike, secondColumnLike, firstSecondColumnLike, secondFirstColumnLike);\r\n    }\r\n\r\n\r\nAnd the main SQL query which is getting created :\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe whole code is working fine but having **mojor impact on performance** when we are having lots of data. As the processing at the **backend taking lot of time** for huge data set.\r\nI would need some enlightenment to make this process quick enough so that it can filter out the huge set of drivers efficiently ?\r\n\r\n**Info regarding front-end** : At the UI we have auto-complete feature which shows only 20 records at a time if if the search is successful whereas the record per page is being implemented at the backend. And that&#39;s why I am using **Limit** in the SQL query.\r\n\r\nAs you can see it shows the results here in the drop down.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6mRvk.png\r\n  [2]: https://i.stack.imgur.com/1JhVG.png\r\n  [3]: https://i.stack.imgur.com/hRdYp.png","title":"How to do a efficient contained search among two columns?","body":"<p>I have a DriverEntity which is having a private property i.e., DriverInfoEntity which is having driver's first name and last name.</p>\n<p>Sample code :</p>\n<pre><code>public class DriverEntity{\n    \n    @JsonManagedReference(value = &quot;driver-info&quot;)\n    @OneToOne(mappedBy = &quot;driver&quot;, cascade = CascadeType.ALL)\n    private DriverInfoEntity driverInfo;\n.\n.\n.\n//few other private attributes\n\n}\n\npublic class DriverInfoEntity  {\n\n    @Column(name = &quot;FIRST_NAME&quot;)\n    private String firstName;\n\n    @Column(name = &quot;MIDDLE_NAME&quot;)\n    private String middleName;\n\n    @Column(name = &quot;LAST_NAME&quot;)\n    private String lastName;\n.\n.\n//few other private attributes\n\n }\n</code></pre>\n<p>And I am doing a contained search on the firstName and lastName columns using specification Builder. Idea is to search based on the provided <strong>driverName</strong> which may be <strong>only firstName</strong> or <strong>(firstName +' '+ lastName)</strong> or <strong>only lastName</strong>.</p>\n<p>Logic written is:</p>\n<pre><code>public Specification buildSpecification(Specification specification) {\nif (driverSearchRequestFilterDTO.getDriverName() != null) {\n            List&lt;Object&gt; referenceList = new ArrayList&lt;&gt;();\n            referenceList.add(DriverEntity_.driverInfo);\n            specification = specification.and(specificationBuilder\n                    .getSpecificationForConcatField(referenceList, DriverInfoEntity_.firstName,\n                            DriverInfoEntity_.lastName, driverSearchRequestFilterDTO.getDriverName()));\n        }\n        return specification;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6mRvk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6mRvk.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public static Predicate buildConcatPredicateWithJoin(Root root, Join joinCondition, CriteriaBuilder criteriaBuilder,\n        SingularAttribute firstColumn, SingularAttribute secondColumn, String inputQuery) {\n\n    Predicate firstColumnLike;\n    Predicate secondColumnLike;\n    Predicate firstSecondColumnLike;\n    Predicate secondFirstColumnLike;\n\n    if (Objects.nonNull(root)) {\n        firstColumnLike = criteriaBuilder.like(criteriaBuilder.lower(root.get(firstColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n        secondColumnLike = criteriaBuilder.like(criteriaBuilder.lower(root.get(secondColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n\n        //combination of firstColumn + &quot; &quot; + second column\n        Expression&lt;String&gt; exp1 = criteriaBuilder.concat(criteriaBuilder.lower(root.get(firstColumn)), &quot; &quot;);\n        exp1 = criteriaBuilder.concat(exp1, criteriaBuilder.lower(root.get(secondColumn)));\n        firstSecondColumnLike = criteriaBuilder.like(exp1, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n\n        //combination of secondColumn + &quot; &quot; + firstColumn\n        Expression&lt;String&gt; exp2 = criteriaBuilder.concat(criteriaBuilder.lower(root.get(secondColumn)), &quot; &quot;);\n        exp2 = criteriaBuilder.concat(exp2, criteriaBuilder.lower(root.get(firstColumn)));\n        secondFirstColumnLike = criteriaBuilder.like(exp2, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n    } else {\n        firstColumnLike = criteriaBuilder.like(criteriaBuilder.lower(joinCondition.get(firstColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n        secondColumnLike = criteriaBuilder.like(criteriaBuilder.lower(joinCondition.get(secondColumn)), inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n        // to search by first name\n        Expression&lt;String&gt; exp1 = criteriaBuilder.concat(criteriaBuilder.lower(joinCondition.get(firstColumn)), &quot; &quot;);\n        exp1 = criteriaBuilder.concat(exp1, criteriaBuilder.lower(joinCondition.get(secondColumn)));\n\n        firstSecondColumnLike = criteriaBuilder.like(exp1, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n\n        //to search by last name\n        Expression&lt;String&gt; exp2 = criteriaBuilder.concat(criteriaBuilder.lower(joinCondition.get(secondColumn)), &quot; &quot;);\n        exp2 = criteriaBuilder.concat(exp2, criteriaBuilder.lower(joinCondition.get(firstColumn)));\n\n        secondFirstColumnLike = criteriaBuilder.like(exp2, inputQuery.replaceAll(&quot;\\\\*&quot;, &quot;%&quot;));\n    }\n    return criteriaBuilder.or(firstColumnLike, secondColumnLike, firstSecondColumnLike, secondFirstColumnLike);\n}\n</code></pre>\n<p>And the main SQL query which is getting created :\n<a href=\"https://i.stack.imgur.com/1JhVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JhVG.png\" alt=\"enter image description here\" /></a></p>\n<p>The whole code is working fine but having <strong>mojor impact on performance</strong> when we are having lots of data. As the processing at the <strong>backend taking lot of time</strong> for huge data set.\nI would need some enlightenment to make this process quick enough so that it can filter out the huge set of drivers efficiently ?</p>\n<p><strong>Info regarding front-end</strong> : At the UI we have auto-complete feature which shows only 20 records at a time if if the search is successful whereas the record per page is being implemented at the backend. And that's why I am using <strong>Limit</strong> in the SQL query.</p>\n<p>As you can see it shows the results here in the drop down.</p>\n<p><a href=\"https://i.stack.imgur.com/hRdYp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRdYp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","firefox","encryption","certificate","firefox-addon-webextensions"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1646952545,"post_id":71430488,"comment_id":126257666,"body_markdown":"The first comment of your other question tells you that you cannot sign something using a public key, you need the private key. And it has to be your private key, not some random website&#39;s key.","body":"The first comment of your other question tells you that you cannot sign something using a public key, you need the private key. And it has to be your private key, not some random website&#39;s key."},{"owner":{"account_id":2322124,"reputation":77,"user_id":2037567,"display_name":"VSTech"},"score":0,"creation_date":1646969954,"post_id":71430488,"comment_id":126260306,"body_markdown":"Thanks @PresidentJamesK.Polk for the response. I understood the requirement of the private key from the previous question. I am trying to use the class 3 certificate which I purchased (listed in my browser certificate list) to sign an xml payload. Two options for this I got to after lots of searching i. Use Webcrypto API or ii. Create Webextension. This question of mine has code of a webextension i created. Can I perform my signing requirement using chrome.certificateProvider etc ?","body":"Thanks @PresidentJamesK.Polk for the response. I understood the requirement of the private key from the previous question. I am trying to use the class 3 certificate which I purchased (listed in my browser certificate list) to sign an xml payload. Two options for this I got to after lots of searching i. Use Webcrypto API or ii. Create Webextension. This question of mine has code of a webextension i created. Can I perform my signing requirement using chrome.certificateProvider etc ?"}],"owner":{"account_id":2322124,"reputation":77,"user_id":2037567,"display_name":"VSTech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646944530,"creation_date":1646944530,"question_id":71430488,"body_markdown":"I have been pursuing an implementation where an xml payload can be digitally signed using the digital certificate. I have elaborated my question previously [here][1]\r\n\r\nI decided to try using webextensions to perform this target of mine. I started off my POC with \r\n\r\n       {\r\n    &quot;manifest_version&quot;: 2,\r\n    &quot;name&quot;: &quot;Test extension&quot;,\r\n    &quot;version&quot;: &quot;1.0&quot;,\r\n    &quot;description&quot;: &quot;Test extension.&quot;,\r\n    &quot;icons&quot;: {\r\n        &quot;48&quot;: &quot;icons/border-48.png&quot;\r\n    },\r\n    &quot;background&quot;: {\r\n        &quot;scripts&quot;: [&quot;background.js&quot;]\r\n    },\r\n    &quot;permissions&quot;: [\r\n        &quot;webRequest&quot;,\r\n        &quot;webRequestBlocking&quot;,\r\n        &quot;&lt;all_urls&gt;&quot;\r\n    ]\r\n    }\r\n\r\nAnd the following background.js from a lead I got online\r\n\r\n    \t\t\t\tvar log = console.log.bind(console)\r\n\r\n\t\t\t\tlog(`\\n\\nTLS browser extension loaded`)\r\n\r\n\t\t\t\t// https://developer.chrome.com/extensions/match_patterns\r\n\t\t\t\tvar ALL_SITES = { urls: [&#39;&lt;all_urls&gt;&#39;] }\r\n\r\n\t\t\t\t// Mozilla doesn&#39;t use tlsInfo in extraInfoSpec \r\n\t\t\t\tvar extraInfoSpec = [&#39;blocking&#39;]; \r\n\r\n\t\t\t\t// https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/webRequest/onHeadersReceived\r\n\t\t\t\tbrowser.webRequest.onHeadersReceived.addListener(async function(details){\r\n\t\t\t\t\tlog(`\\n\\nGot a request for ${details.url} with ID ${details.requestId}`)\r\n\r\n\t\t\t\t\t// Yeah this is a String, even though the content is a Number\r\n\t\t\t\t\tvar requestId = details.requestId\r\n\r\n\t\t\t\t\tvar securityInfo = await browser.webRequest.getSecurityInfo(requestId, {\r\n\t\t\t\t\t\tcertificateChain: true,\r\n\t\t\t\t\t\trawDER: false\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tlog(`securityInfo: ${JSON.stringify(securityInfo, null, 2)}`)\r\n\r\n\t\t\t\t}, ALL_SITES, extraInfoSpec) \r\n\r\n\t\t\t\tlog(&#39;Added listener&#39;)\r\n\r\nI am getting the below output on Firefox console after adding this as a custom extension. However it is just informing the certificate details of the sites I am visiting. With this foundation I needed help with a starting point where I can use the certificate on my own browser and sign a document as I am pursuing. Any inputs will be of great help. Thanks!\r\n\r\n[![This is the output I am getting on Firefox console][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71319526/how-to-sign-a-text-file-using-x509-certificate-in-java\r\n  [2]: https://i.stack.imgur.com/ZjTlG.png","title":"Can browser certificate be used for signing payload using web extension on Firefox","body":"<p>I have been pursuing an implementation where an xml payload can be digitally signed using the digital certificate. I have elaborated my question previously <a href=\"https://stackoverflow.com/questions/71319526/how-to-sign-a-text-file-using-x509-certificate-in-java\">here</a></p>\n<p>I decided to try using webextensions to perform this target of mine. I started off my POC with</p>\n<pre><code>   {\n&quot;manifest_version&quot;: 2,\n&quot;name&quot;: &quot;Test extension&quot;,\n&quot;version&quot;: &quot;1.0&quot;,\n&quot;description&quot;: &quot;Test extension.&quot;,\n&quot;icons&quot;: {\n    &quot;48&quot;: &quot;icons/border-48.png&quot;\n},\n&quot;background&quot;: {\n    &quot;scripts&quot;: [&quot;background.js&quot;]\n},\n&quot;permissions&quot;: [\n    &quot;webRequest&quot;,\n    &quot;webRequestBlocking&quot;,\n    &quot;&lt;all_urls&gt;&quot;\n]\n}\n</code></pre>\n<p>And the following background.js from a lead I got online</p>\n<pre><code>                var log = console.log.bind(console)\n\n            log(`\\n\\nTLS browser extension loaded`)\n\n            // https://developer.chrome.com/extensions/match_patterns\n            var ALL_SITES = { urls: ['&lt;all_urls&gt;'] }\n\n            // Mozilla doesn't use tlsInfo in extraInfoSpec \n            var extraInfoSpec = ['blocking']; \n\n            // https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/webRequest/onHeadersReceived\n            browser.webRequest.onHeadersReceived.addListener(async function(details){\n                log(`\\n\\nGot a request for ${details.url} with ID ${details.requestId}`)\n\n                // Yeah this is a String, even though the content is a Number\n                var requestId = details.requestId\n\n                var securityInfo = await browser.webRequest.getSecurityInfo(requestId, {\n                    certificateChain: true,\n                    rawDER: false\n                });\n\n                log(`securityInfo: ${JSON.stringify(securityInfo, null, 2)}`)\n\n            }, ALL_SITES, extraInfoSpec) \n\n            log('Added listener')\n</code></pre>\n<p>I am getting the below output on Firefox console after adding this as a custom extension. However it is just informing the certificate details of the sites I am visiting. With this foundation I needed help with a starting point where I can use the certificate on my own browser and sign a document as I am pursuing. Any inputs will be of great help. Thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/ZjTlG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZjTlG.png\" alt=\"This is the output I am getting on Firefox console\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1646943726,"post_id":71430287,"comment_id":126255372,"body_markdown":"What do you mean &quot;class object&quot;?  Can you add details to the question to explain better?","body":"What do you mean &quot;class object&quot;?  Can you add details to the question to explain better?"}],"answers":[{"tags":[],"owner":{"account_id":8396347,"reputation":453,"user_id":6303265,"display_name":"Edoardo Vignati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646944031,"creation_date":1646944031,"answer_id":71430386,"question_id":71430287,"body_markdown":"I think you are asking for this:\r\n\r\n```\r\n// Adding objects guitar and ukulele to class array i\r\n   i[0] = guitar;\r\n   i[1] = ukulele;\r\n\r\n// Returning object with maximum number of strings\r\n   int max = i[0].getStrings();\r\n   for (Instrument inst : i) {\r\n       if(inst.getStrings() &gt; max)\r\n       max = inst.getStrings();\r\n    }\r\n    System.out.println(max);\r\n```\r\n\r\nFirst of all assign the objects to the array. Then iterate them keeping track of the highest value. I suggest you to study deeper the basics of Java to solve this simple problems :) ","title":"How to return a class object?","body":"<p>I think you are asking for this:</p>\n<pre><code>// Adding objects guitar and ukulele to class array i\n   i[0] = guitar;\n   i[1] = ukulele;\n\n// Returning object with maximum number of strings\n   int max = i[0].getStrings();\n   for (Instrument inst : i) {\n       if(inst.getStrings() &gt; max)\n       max = inst.getStrings();\n    }\n    System.out.println(max);\n</code></pre>\n<p>First of all assign the objects to the array. Then iterate them keeping track of the highest value. I suggest you to study deeper the basics of Java to solve this simple problems :)</p>\n"},{"tags":[],"owner":{"account_id":24519424,"reputation":11,"user_id":18432703,"display_name":"softwarepie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646944402,"creation_date":1646944402,"answer_id":71430466,"question_id":71430287,"body_markdown":"Here&#39;s some code showing the implementation you were asking about, hope it helps (I&#39;d suggest looking more at object and array fundamentals)\r\n\r\n```\r\npublic class Demo{\r\n    public static void main(String[] args) {\r\n\r\n        Instrument guitar = new Instrument(&quot;Guitar&quot;, 6);\r\n        Instrument ukulele = new Instrument(&quot;Ukulele&quot;, 4);\r\n\r\n        Instrument i[] = new Instrument[2];\r\n\r\n        // Since you declared your array with empty elements, you&#39;ll have to get the current element and set the new vals manually (or use iteration)\r\n        i[0] = guitar;\r\n        i[1] = ukulele;\r\n        //Alternatively, you could initialise your array with the values already set like this\r\n        Instrument arr[] = new Instrument[] {guitar, ukulele};\r\n\r\n        // Returning object with maximum number of strings\r\n        Instrument highestStrung = getHighestStrungInstrument(arr);\r\n\r\n        System.out.println(&quot;Highest: &quot; + highestStrung.getName());\r\n\r\n    }\r\n\r\n    private static Instrument getHighestStrungInstrument(Instrument[] arr){\r\n\r\n        //Var to hold current highest strings\r\n        int highestStrings = 0;\r\n        //Var to hold the obj with the current highest strings\r\n        Instrument currentHighest = null;\r\n\r\n        //loop through all the objects in the array\r\n        for(Instrument inst : arr)\r\n            //compare the current instrument&#39;s strings with that of the var&#39;s val\r\n            if(inst.getStrings() &gt; highestStrings){\r\n                //set the new highest\r\n                currentHighest = inst;\r\n                highestStrings = inst.getStrings();\r\n            }\r\n\r\n        //Return the highest obj (Keep in mind that the val could be null)\r\n        return currentHighest;\r\n    }\r\n}\r\n\r\nclass Instrument{\r\n\r\n    private String name;\r\n    private int numOfStrings;\r\n\r\n    public Instrument(String name, int numOfStrings){\r\n\r\n        this.name = name;\r\n        this.numOfStrings = numOfStrings;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public int getStrings() {\r\n        return numOfStrings;\r\n    }\r\n    public void setStrings(int numOfStrings) {\r\n        this.numOfStrings = numOfStrings;\r\n    }\r\n}\r\n```","title":"How to return a class object?","body":"<p>Here's some code showing the implementation you were asking about, hope it helps (I'd suggest looking more at object and array fundamentals)</p>\n<pre><code>public class Demo{\n    public static void main(String[] args) {\n\n        Instrument guitar = new Instrument(&quot;Guitar&quot;, 6);\n        Instrument ukulele = new Instrument(&quot;Ukulele&quot;, 4);\n\n        Instrument i[] = new Instrument[2];\n\n        // Since you declared your array with empty elements, you'll have to get the current element and set the new vals manually (or use iteration)\n        i[0] = guitar;\n        i[1] = ukulele;\n        //Alternatively, you could initialise your array with the values already set like this\n        Instrument arr[] = new Instrument[] {guitar, ukulele};\n\n        // Returning object with maximum number of strings\n        Instrument highestStrung = getHighestStrungInstrument(arr);\n\n        System.out.println(&quot;Highest: &quot; + highestStrung.getName());\n\n    }\n\n    private static Instrument getHighestStrungInstrument(Instrument[] arr){\n\n        //Var to hold current highest strings\n        int highestStrings = 0;\n        //Var to hold the obj with the current highest strings\n        Instrument currentHighest = null;\n\n        //loop through all the objects in the array\n        for(Instrument inst : arr)\n            //compare the current instrument's strings with that of the var's val\n            if(inst.getStrings() &gt; highestStrings){\n                //set the new highest\n                currentHighest = inst;\n                highestStrings = inst.getStrings();\n            }\n\n        //Return the highest obj (Keep in mind that the val could be null)\n        return currentHighest;\n    }\n}\n\nclass Instrument{\n\n    private String name;\n    private int numOfStrings;\n\n    public Instrument(String name, int numOfStrings){\n\n        this.name = name;\n        this.numOfStrings = numOfStrings;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getStrings() {\n        return numOfStrings;\n    }\n    public void setStrings(int numOfStrings) {\n        this.numOfStrings = numOfStrings;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14749648,"reputation":1,"user_id":13913610,"display_name":"ap00rva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646945709,"answer_count":2,"score":-1,"last_activity_date":1646944402,"creation_date":1646943492,"question_id":71430287,"body_markdown":"*I have seen ArrayList examples but I want to know how to add objects guitar and ukulele to array i.\r\nAnd also, how to return the object which has the highest number of strings?*    \r\n\r\n\r\n    public class Demo{\r\n            public static void main(String[] args) {\r\n        \r\n                Instrument guitar = new Instrument(&quot;Guitar&quot;, 6);\r\n                Instrument ukulele = new Instrument(&quot;Ukulele&quot;, 4);\r\n        \r\n                Instrument i[] = new Instrument[2];\r\n        \r\n                // Adding objects guitar and ukulele to class array i\r\n        \r\n                // Returning object with maximum number of strings\r\n        \r\n            }\r\n        }\r\n        \r\n        class Instrument{\r\n        \r\n            private String name;\r\n            private int numOfStrings;\r\n        \r\n            public Instrument(String name, int numOfStrings){\r\n        \r\n                this.name = name;\r\n                this.numOfStrings = numOfStrings;\r\n            }\r\n        \r\n            public String getName() {\r\n                return name;\r\n            }\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n            public int getStrings() {\r\n                return numOfStrings;\r\n            }\r\n            public void setStrings(int numOfStrings) {\r\n                this.numOfStrings = numOfStrings;\r\n            }   \r\n        }","title":"How to return a class object?","body":"<p><em>I have seen ArrayList examples but I want to know how to add objects guitar and ukulele to array i.\nAnd also, how to return the object which has the highest number of strings?</em></p>\n<pre><code>public class Demo{\n        public static void main(String[] args) {\n    \n            Instrument guitar = new Instrument(&quot;Guitar&quot;, 6);\n            Instrument ukulele = new Instrument(&quot;Ukulele&quot;, 4);\n    \n            Instrument i[] = new Instrument[2];\n    \n            // Adding objects guitar and ukulele to class array i\n    \n            // Returning object with maximum number of strings\n    \n        }\n    }\n    \n    class Instrument{\n    \n        private String name;\n        private int numOfStrings;\n    \n        public Instrument(String name, int numOfStrings){\n    \n            this.name = name;\n            this.numOfStrings = numOfStrings;\n        }\n    \n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public int getStrings() {\n            return numOfStrings;\n        }\n        public void setStrings(int numOfStrings) {\n            this.numOfStrings = numOfStrings;\n        }   \n    }\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"answers":[{"tags":[],"owner":{"account_id":116759,"reputation":7831,"user_id":306060,"accept_rate":72,"display_name":"Yanki Twizzy"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1322914057,"creation_date":1322914057,"answer_id":8367524,"question_id":8367500,"body_markdown":"Try this&lt;pre&gt;&lt;code&gt;JButton play = new JButton(&quot;This&quot;,new ImageIcon(&quot;src\\\\play.png&quot;));\r\n        play.setBorderPainted(false); \r\n        play.setContentAreaFilled(false); \r\n        play.setFocusPainted(false); \r\n        play.setOpaque(false);\r\n&lt;/code&gt;&lt;/pre&gt;","title":"how to hide background of JButton (which containt icon image)?","body":"<p>Try this<pre><code>JButton play = new JButton(\"This\",new ImageIcon(\"src\\play.png\"));\n        play.setBorderPainted(false); \n        play.setContentAreaFilled(false); \n        play.setFocusPainted(false); \n        play.setOpaque(false);\n</code></pre></p>\n"},{"tags":[],"owner":{"account_id":18002972,"reputation":1,"user_id":13084471,"display_name":"zknnvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646944280,"creation_date":1646943962,"answer_id":71430369,"question_id":8367500,"body_markdown":"It should work if you do the following:\r\n\r\n    play.setBorder(null);\r\n    play.setContentAreaFilled(false);","title":"how to hide background of JButton (which containt icon image)?","body":"<p>It should work if you do the following:</p>\n<pre><code>play.setBorder(null);\nplay.setContentAreaFilled(false);\n</code></pre>\n"}],"owner":{"account_id":188909,"reputation":1439,"user_id":427913,"accept_rate":56,"display_name":"Jason4Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18883,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8367524,"answer_count":2,"score":9,"last_activity_date":1646944280,"creation_date":1322913794,"question_id":8367500,"body_markdown":"I have this code to make a Jbutton with icon image ,and it works.But the problem is that the borders and background of button don&#39;t disappear.\r\n\r\n I want only the icon image is appear without borders &amp; background of button.\r\n\r\nI tried to set `setOpaque(false)`, but all of button disappeared!\r\n\r\nWhat is the wrong in my code ?\r\n\r\n    _button  = new JButton(&quot;Exit&quot;);\r\n    _button.setHorizontalTextPosition(SwingConstants.CENTER);\r\n    _button.setSize(200,130);\r\n    //_button.setContentAreaFilled(false);\r\n    _button.setBorderPainted(false);\r\n    //_button.setOpaque(false);\r\n    _button.setIgnoreRepaint(true);\r\n    //_button.setFocusable(false);\r\n    _button.setIcon(button_icon);\r\n    _button.setBounds(200, 200,200, 170);\r\n    _button.setRolloverEnabled(true);\r\n    _button.setRolloverIcon(button_icon_hover);\r\n    _button.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n    //_button.addActionListener(this);\r\n    _button.setBackground(null);\r\n    _button.setFocusable(true);\r\n    _button.setFocusPainted(true);\r\n    _button.setForeground(Color.WHITE);\r\n    _button.setFont(new Font(&quot;Times New Roman&quot;,Font.BOLD,35));","title":"how to hide background of JButton (which containt icon image)?","body":"<p>I have this code to make a Jbutton with icon image ,and it works.But the problem is that the borders and background of button don't disappear.</p>\n\n<p>I want only the icon image is appear without borders &amp; background of button.</p>\n\n<p>I tried to set <code>setOpaque(false)</code>, but all of button disappeared!</p>\n\n<p>What is the wrong in my code ?</p>\n\n<pre><code>_button  = new JButton(\"Exit\");\n_button.setHorizontalTextPosition(SwingConstants.CENTER);\n_button.setSize(200,130);\n//_button.setContentAreaFilled(false);\n_button.setBorderPainted(false);\n//_button.setOpaque(false);\n_button.setIgnoreRepaint(true);\n//_button.setFocusable(false);\n_button.setIcon(button_icon);\n_button.setBounds(200, 200,200, 170);\n_button.setRolloverEnabled(true);\n_button.setRolloverIcon(button_icon_hover);\n_button.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n//_button.addActionListener(this);\n_button.setBackground(null);\n_button.setFocusable(true);\n_button.setFocusPainted(true);\n_button.setForeground(Color.WHITE);\n_button.setFont(new Font(\"Times New Roman\",Font.BOLD,35));\n</code></pre>\n"},{"tags":["java","reactjs","spring","heroku","axios"],"owner":{"account_id":19190866,"reputation":67,"user_id":14020617,"display_name":"Robert Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646944142,"creation_date":1646270488,"question_id":71331056,"body_markdown":"So I have an application with an open controller for creating a new user, when I test this on postman and on my local machine it works, however when I try it on my deployed app it does not. Heroku is saying that I have a timeout issue.\r\n\r\nAlso the post is actually working because when I check if the user is posting with the get request I get the newly created user, it appears like the issue is somewhere between creating the user and trying to get the 201 created status sent back. Any help would be greatly apprecaiated! Below are the open controller and the registration js for quick reference. However I cant fit everything on here so this is the repo if you need to see other files: https://github.com/robertmasters/pokehuddleSpringApp/tree/main/pokehuddlebackend \r\n\r\nthis is the open controller\r\n\r\n```\r\n@RestController\r\npublic class OpenController {\r\n\r\n    @Autowired\r\n    UserServices userServices;\r\n\r\n    @Autowired\r\n    RoleServices roleServices;\r\n\r\n    //http:/localhost:2019/createnewuser\r\n    //body -&gt; username, password, email\r\n\r\n    @PostMapping(value = &quot;/createnewuser&quot;, consumes = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\r\n    public ResponseEntity&lt;?&gt; addSelf(HttpServletRequest httpServletRequest, @RequestBody UserMinimum newminuser)  throws Exception {\r\n        //create new user\r\n        User newuser = new User();\r\n        //set up needed data\r\n        newuser.setUsername(newminuser.getUsername());\r\n        newuser.setPassword(newminuser.getPassword());\r\n        newuser.setEmail(newminuser.getEmail());\r\n        //set up roles that is needed\r\n        Set&lt;UserRoles&gt; newRoles = new HashSet&lt;&gt;();\r\n        newRoles.add(new UserRoles(newuser, roleServices.findByName(&quot;USER&quot;)));\r\n\r\n        //save it\r\n        newuser = userServices.save(newuser);\r\n\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        //http://localhost:2019/users/user/id\r\n        URI newUserURI = ServletUriComponentsBuilder.fromUriString(httpServletRequest.getServerName() + &quot;:&quot; + httpServletRequest.getLocalPort() + &quot;/users/user/{userid}&quot;)\r\n                        .buildAndExpand(newuser.getUserid()).toUri();\r\n        responseHeaders.setLocation((newUserURI));\r\n\r\n\r\n        //make it so that user can register and receive access token after registering\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        //creating the url to call\r\n        String requestURI = &quot;http://&quot; + httpServletRequest.getServerName() + &quot;:&quot; + httpServletRequest.getLocalPort() + &quot;/login&quot;;\r\n\r\n        //sending application json\r\n        List&lt;MediaType&gt; acceptableMediaTypes = new ArrayList&lt;&gt;();\r\n        acceptableMediaTypes.add(MediaType.APPLICATION_JSON);\r\n\r\n        //headers and body that goes with request\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        headers.setAccept(acceptableMediaTypes);\r\n        //authorization part of header\r\n        headers.setBasicAuth(System.getenv(&quot;OAUTHCLIENTID&quot;), System.getenv(&quot;OAUTHCLIENTSECRET&quot;));\r\n\r\n        //include username and password\r\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n        map.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n        map.add(&quot;scope&quot;, &quot;read write trust&quot;);\r\n        map.add(&quot;username&quot;, newminuser.getUsername());\r\n        map.add(&quot;password&quot;, newminuser.getPassword());\r\n\r\n        //all headers go into a single request\r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n\r\n        //plain string in json format that has access token\r\n        String theToken = restTemplate.postForObject(requestURI, request, String.class);\r\n\r\n        //return access token in body as well as body and status of created\r\n        return new ResponseEntity&lt;&gt;(theToken,\r\n                responseHeaders,\r\n                HttpStatus.CREATED);\r\n    }\r\n\r\n}\r\n\r\n```\r\nhere is the registration file\r\n\r\n```\r\nimport React, { useState } from &quot;react&quot;\r\nimport { Link, useNavigate } from &quot;react-router-dom&quot;;\r\nimport { useForm, useWatch } from &quot;react-hook-form&quot;\r\nimport axios from &quot;axios&quot;;\r\nimport { axiosWithAuth } from &quot;../../utils/axiosWithAuth&quot;;\r\nconst client = process.env.REACT_APP_CLIENT_ID\r\nconst secret = process.env.REACT_APP_CLIENT_SECRET\r\nfunction Register() {\r\n const [isLoading, setIsLoading ] = useState(false)\r\n const [loginError, setLoginError ] = useState()\r\n const { register, watch, formState: {errors}, handleSubmit } = useForm({mode: &quot;onBlur&quot;})\r\n const navigate = useNavigate()\r\n\r\n function goToLogin (data) {\r\n  const body = JSON.stringify(\r\n    {\r\n      &quot;username&quot;: data.username,\r\n      &quot;password&quot;: data.password,\r\n      &quot;email&quot;: data.email,\r\n      &quot;articles&quot;: [],\r\n      &quot;roles&quot;: [\r\n     {\r\n      &quot;role&quot;: {\r\n       &quot;roleid&quot;: 2,\r\n       &quot;name&quot;: &quot;user&quot;\r\n      }\r\n     }\r\n    ]}\r\n  )\r\n  console.log(&quot;body: &quot;, body)\r\n  setIsLoading(true)\r\n  axios\r\n  .post(\r\n    &quot;https://masters-pokehuddlerest.herokuapp.com/createnewuser&quot;,\r\n    body,\r\n    // {timeout: 40000}, tried this but didnt work?\r\n  {\r\n    headers: {\r\n     Authorization: `Basic ${Buffer.from(`${client}:${secret}`).toString(&quot;base64&quot;)}`,\r\n     &quot;Content-Type&quot;: &quot;application/json&quot;\r\n  }})\r\n  .then((res) =&gt; {\r\n    setIsLoading(true)\r\n    console.log(&quot;response: &quot;, res)\r\n    navigate(&quot;/&quot;)\r\n  })\r\n  .catch((err)=&gt; {\r\n    setIsLoading(false)\r\n    setLoginError(&quot;Registration Error please try again&quot;)\r\n    console.log(err)\r\n  })\r\n }\r\n const password = watch(&quot;password&quot;)\r\n\r\n return (\r\n  &lt;div className = &quot;main-container&quot;&gt;\r\n    &lt;div&gt;Registration not fully set up,&lt;Link className = &quot;link&quot; to =&quot;/&quot;&gt;click here &lt;/Link&gt;to go back to login&lt;/div&gt;\r\n\r\n   &lt;div className = &quot;middle-section&quot;&gt;\r\n    &lt;div className = &quot;ashPikaimg-container&quot;&gt;\r\n        &lt;img className =&quot;ashpikaimg&quot; src = {require(&quot;../../images/ashpika.png&quot;).default} alt = &quot;Ash and Pikachu landing page&quot; /&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div className= &quot;login-section&quot;&gt;\r\n     &lt;div className = &quot;description login-flex-item&quot;&gt;\r\n      &lt;div className = &quot;registration-prompt&quot;&gt;\r\n       &lt;div className =&quot;reg-desc&quot;&gt;Welcome to PokeHuddle!&lt;/div&gt;\r\n      &lt;/div&gt;                \r\n     &lt;/div&gt;\r\n\r\n     &lt;div className = &quot;selection login-flex-item&quot;&gt;\r\n      Already a member? &amp;nbsp;\r\n      &lt;Link to =&quot;/&quot; className = &quot;select-logreg&quot;&gt;Login&lt;/Link&gt;\r\n     &lt;/div&gt;\r\n\r\n     &lt;form className = &quot;login-flex-item&quot; onSubmit = {handleSubmit(goToLogin)}&gt;\r\n     {\r\n      loginError ? &lt;span role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{loginError}&lt;/span&gt; : null\r\n     }\r\n     &lt;input className = &quot;form-item&quot;\r\n      type = &quot;text&quot;\r\n      name = &quot;username&quot;\r\n      placeholder = &quot;Username&quot;\r\n      data-testid=&quot;username-input&quot;\r\n      {...register(&quot;username&quot;, { required: &quot;Username is required&quot; })}\r\n     /&gt;\r\n      {errors.username &amp;&amp; (\r\n       &lt;p \r\n       role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.username.message}&lt;/p&gt;\r\n      )}\r\n\r\n     &lt;input className = &quot;form-item&quot;\r\n      type = &quot;email&quot;\r\n      name = &quot;email&quot;\r\n      placeholder = &quot;Email&quot;\r\n      data-testid=&quot;email-input&quot;\r\n      {...register(&quot;email&quot;, {\r\n       required: &quot;Email is required&quot; ,\r\n       pattern : {\r\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n        message: &quot;invalid email address&quot;\r\n       }\r\n      })}\r\n     /&gt;\r\n    {errors.email &amp;&amp; (\r\n     &lt;p \r\n     role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.email.message}&lt;/p&gt;\r\n    )}\r\n\r\n     &lt;input className = &quot;form-item&quot;\r\n      type=&quot;password&quot;\r\n      name=&quot;password&quot;\r\n      placeholder = &quot;Password&quot;\r\n      data-testid=&quot;password-input&quot;\r\n      {...register(&quot;password&quot;, { required: &quot;Password is required&quot; })}\r\n     /&gt;\r\n     {errors.password &amp;&amp; (\r\n        &lt;p \r\n        role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.password.message}&lt;/p&gt;\r\n     )}\r\n     &lt;input className = &quot;form-item relative&quot;\r\n      type=&quot;password&quot;\r\n      name=&quot;confirm-password&quot;\r\n      placeholder = &quot;Confirm Password&quot;\r\n      data-testid=&quot;confirm-password-input&quot;\r\n      {...register(&quot;confirmPassword&quot;, {required: &quot;Please confirm password&quot;, validate: (value) =&gt; value === password || &quot;Passwords do not match&quot;  })}\r\n     /&gt;\r\n     {errors.confirmPassword &amp;&amp; (\r\n      &lt;p \r\n      role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.confirmPassword.message}&lt;/p&gt;\r\n     )}\r\n     { isLoading ? &lt;span&gt;Loading...&lt;/span&gt; : \r\n     &lt;button className = &quot;form-item btn&quot;&gt;Register&lt;/button&gt; }\r\n     &lt;/form&gt;\r\n    &lt;/div&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n );\r\n};\r\n\r\nexport default Register;\r\n\r\n```\r\nand this is the heroku logs that give me the timeout error\r\n```\r\n2022-03-10T18:26:22.851591+00:00 heroku[router]: at=info method=OPTIONS path=&quot;/createnewuser&quot; host=masters-pokehuddlerest.herokuapp.com request_id=ecd8ef78-e4d2-4d77-bef9-6b2b51849af8 fwd=&quot;xxxxxxxxxxxxxx&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=220 protocol=https\r\n2022-03-10T18:26:52.891397+00:00 heroku[router]: at=error code=H12 desc=&quot;Request timeout&quot; method=POST path=&quot;/createnewuser&quot; host=masters-pokehuddlerest.herokuapp.com request_id=1342fed3-2d97-4792-8614-1394a723fb89 fwd=&quot;xxxxxxxxxx&quot; dyno=web.1 connect=0ms service=30000ms status=503 bytes=0 protocol=https\r\n2022-03-10T18:28:31.383651+00:00 app[web.1]: 2022-03-10 18:28:31.383 ERROR 4 --- [io-29682-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://masters-pokehuddlerest.herokuapp.com:29682/login&quot;: Connection timed out (Connection timed out); nested exception is java.net.ConnectException: Connection timed out (Connection timed out)] with root cause\r\n2022-03-10T18:28:31.383664+00:00 app[web.1]: \r\n2022-03-10T18:28:31.383665+00:00 app[web.1]: java.net.ConnectException: Connection timed out (Connection timed out)\r\n2022-03-10T18:28:31.383665+00:00 app[web.1]: \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n2022-03-10T18:28:31.383666+00:00 app[web.1]: \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n2022-03-10T18:28:31.383666+00:00 app[web.1]: \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n2022-03-10T18:28:31.383666+00:00 app[web.1]: \tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n2022-03-10T18:28:31.383667+00:00 app[web.1]: \tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n2022-03-10T18:28:31.383667+00:00 app[web.1]: \tat java.base/java.net.Socket.connect(Socket.java:558) ~[na:na]\r\n2022-03-10T18:28:31.383668+00:00 app[web.1]: \tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182) ~[na:na]\r\n2022-03-10T18:28:31.383668+00:00 app[web.1]: \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474) ~[na:na]\r\n2022-03-10T18:28:31.383669+00:00 app[web.1]: \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569) ~[na:na]\r\n2022-03-10T18:28:31.383669+00:00 app[web.1]: \tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242) ~[na:na]\r\n2022-03-10T18:28:31.383669+00:00 app[web.1]: \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341) ~[na:na]\r\n2022-03-10T18:28:31.383669+00:00 app[web.1]: \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362) ~[na:na]\r\n2022-03-10T18:28:31.383670+00:00 app[web.1]: \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253) ~[na:na]\r\n2022-03-10T18:28:31.383670+00:00 app[web.1]: \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187) ~[na:na]\r\n2022-03-10T18:28:31.383670+00:00 app[web.1]: \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081) ~[na:na]\r\n2022-03-10T18:28:31.383670+00:00 app[web.1]: \tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015) ~[na:na]\r\n2022-03-10T18:28:31.383671+00:00 app[web.1]: \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383672+00:00 app[web.1]: \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383672+00:00 app[web.1]: \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383673+00:00 app[web.1]: \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:739) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383673+00:00 app[web.1]: \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383673+00:00 app[web.1]: \tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:418) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383673+00:00 app[web.1]: \tat com.pokehuddle.pokehuddlebackend.controllers.OpenController.addSelf(OpenController.java:87) ~[classes!/:0.0.1-SNAPSHOT]\r\n2022-03-10T18:28:31.383674+00:00 app[web.1]: \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n2022-03-10T18:28:31.383674+00:00 app[web.1]: \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n2022-03-10T18:28:31.383674+00:00 app[web.1]: \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n2022-03-10T18:28:31.383674+00:00 app[web.1]: \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n2022-03-10T18:28:31.383675+00:00 app[web.1]: \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383675+00:00 app[web.1]: \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383676+00:00 app[web.1]: \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383680+00:00 app[web.1]: \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383681+00:00 app[web.1]: \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383681+00:00 app[web.1]: \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383681+00:00 app[web.1]: \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383682+00:00 app[web.1]: \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383682+00:00 app[web.1]: \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383682+00:00 app[web.1]: \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383682+00:00 app[web.1]: \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar!/:4.0.FR]\r\n2022-03-10T18:28:31.383682+00:00 app[web.1]: \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar!/:4.0.FR]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383683+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383684+00:00 app[web.1]: \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383685+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383685+00:00 app[web.1]: \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383685+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383685+00:00 app[web.1]: \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383688+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383688+00:00 app[web.1]: \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383689+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383689+00:00 app[web.1]: \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.6.RELEASE.jar!/:na]\r\n2022-03-10T18:28:31.383689+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383689+00:00 app[web.1]: \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383690+00:00 app[web.1]: \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383690+00:00 app[web.1]: \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383690+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383691+00:00 app[web.1]: \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383691+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383691+00:00 app[web.1]: \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383691+00:00 app[web.1]: \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383692+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383692+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383692+00:00 app[web.1]: \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n2022-03-10T18:28:31.383692+00:00 app[web.1]: \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383693+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383694+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383694+00:00 app[web.1]: \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383701+00:00 app[web.1]: \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383701+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383702+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383702+00:00 app[web.1]: \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383702+00:00 app[web.1]: \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\r\n2022-03-10T18:28:31.383702+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383703+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383703+00:00 app[web.1]: \tat com.pokehuddle.pokehuddlebackend.config.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:58) ~[classes!/:0.0.1-SNAPSHOT]\r\n2022-03-10T18:28:31.383703+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383703+00:00 app[web.1]: \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383704+00:00 app[web.1]: \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383704+00:00 app[web.1]: \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383704+00:00 app[web.1]: \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383704+00:00 app[web.1]: \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383705+00:00 app[web.1]: \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \tatjava.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \r\n```","title":"Spring REST API deployed on Heroku is timing out when trying to create a new user. However the user is created? but I get 503 instead of 201 status","body":"<p>So I have an application with an open controller for creating a new user, when I test this on postman and on my local machine it works, however when I try it on my deployed app it does not. Heroku is saying that I have a timeout issue.</p>\n<p>Also the post is actually working because when I check if the user is posting with the get request I get the newly created user, it appears like the issue is somewhere between creating the user and trying to get the 201 created status sent back. Any help would be greatly apprecaiated! Below are the open controller and the registration js for quick reference. However I cant fit everything on here so this is the repo if you need to see other files: <a href=\"https://github.com/robertmasters/pokehuddleSpringApp/tree/main/pokehuddlebackend\" rel=\"nofollow noreferrer\">https://github.com/robertmasters/pokehuddleSpringApp/tree/main/pokehuddlebackend</a></p>\n<p>this is the open controller</p>\n<pre><code>@RestController\npublic class OpenController {\n\n    @Autowired\n    UserServices userServices;\n\n    @Autowired\n    RoleServices roleServices;\n\n    //http:/localhost:2019/createnewuser\n    //body -&gt; username, password, email\n\n    @PostMapping(value = &quot;/createnewuser&quot;, consumes = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\n    public ResponseEntity&lt;?&gt; addSelf(HttpServletRequest httpServletRequest, @RequestBody UserMinimum newminuser)  throws Exception {\n        //create new user\n        User newuser = new User();\n        //set up needed data\n        newuser.setUsername(newminuser.getUsername());\n        newuser.setPassword(newminuser.getPassword());\n        newuser.setEmail(newminuser.getEmail());\n        //set up roles that is needed\n        Set&lt;UserRoles&gt; newRoles = new HashSet&lt;&gt;();\n        newRoles.add(new UserRoles(newuser, roleServices.findByName(&quot;USER&quot;)));\n\n        //save it\n        newuser = userServices.save(newuser);\n\n        HttpHeaders responseHeaders = new HttpHeaders();\n        //http://localhost:2019/users/user/id\n        URI newUserURI = ServletUriComponentsBuilder.fromUriString(httpServletRequest.getServerName() + &quot;:&quot; + httpServletRequest.getLocalPort() + &quot;/users/user/{userid}&quot;)\n                        .buildAndExpand(newuser.getUserid()).toUri();\n        responseHeaders.setLocation((newUserURI));\n\n\n        //make it so that user can register and receive access token after registering\n        RestTemplate restTemplate = new RestTemplate();\n        //creating the url to call\n        String requestURI = &quot;http://&quot; + httpServletRequest.getServerName() + &quot;:&quot; + httpServletRequest.getLocalPort() + &quot;/login&quot;;\n\n        //sending application json\n        List&lt;MediaType&gt; acceptableMediaTypes = new ArrayList&lt;&gt;();\n        acceptableMediaTypes.add(MediaType.APPLICATION_JSON);\n\n        //headers and body that goes with request\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        headers.setAccept(acceptableMediaTypes);\n        //authorization part of header\n        headers.setBasicAuth(System.getenv(&quot;OAUTHCLIENTID&quot;), System.getenv(&quot;OAUTHCLIENTSECRET&quot;));\n\n        //include username and password\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n        map.add(&quot;grant_type&quot;, &quot;password&quot;);\n        map.add(&quot;scope&quot;, &quot;read write trust&quot;);\n        map.add(&quot;username&quot;, newminuser.getUsername());\n        map.add(&quot;password&quot;, newminuser.getPassword());\n\n        //all headers go into a single request\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n\n        //plain string in json format that has access token\n        String theToken = restTemplate.postForObject(requestURI, request, String.class);\n\n        //return access token in body as well as body and status of created\n        return new ResponseEntity&lt;&gt;(theToken,\n                responseHeaders,\n                HttpStatus.CREATED);\n    }\n\n}\n\n</code></pre>\n<p>here is the registration file</p>\n<pre><code>import React, { useState } from &quot;react&quot;\nimport { Link, useNavigate } from &quot;react-router-dom&quot;;\nimport { useForm, useWatch } from &quot;react-hook-form&quot;\nimport axios from &quot;axios&quot;;\nimport { axiosWithAuth } from &quot;../../utils/axiosWithAuth&quot;;\nconst client = process.env.REACT_APP_CLIENT_ID\nconst secret = process.env.REACT_APP_CLIENT_SECRET\nfunction Register() {\n const [isLoading, setIsLoading ] = useState(false)\n const [loginError, setLoginError ] = useState()\n const { register, watch, formState: {errors}, handleSubmit } = useForm({mode: &quot;onBlur&quot;})\n const navigate = useNavigate()\n\n function goToLogin (data) {\n  const body = JSON.stringify(\n    {\n      &quot;username&quot;: data.username,\n      &quot;password&quot;: data.password,\n      &quot;email&quot;: data.email,\n      &quot;articles&quot;: [],\n      &quot;roles&quot;: [\n     {\n      &quot;role&quot;: {\n       &quot;roleid&quot;: 2,\n       &quot;name&quot;: &quot;user&quot;\n      }\n     }\n    ]}\n  )\n  console.log(&quot;body: &quot;, body)\n  setIsLoading(true)\n  axios\n  .post(\n    &quot;https://masters-pokehuddlerest.herokuapp.com/createnewuser&quot;,\n    body,\n    // {timeout: 40000}, tried this but didnt work?\n  {\n    headers: {\n     Authorization: `Basic ${Buffer.from(`${client}:${secret}`).toString(&quot;base64&quot;)}`,\n     &quot;Content-Type&quot;: &quot;application/json&quot;\n  }})\n  .then((res) =&gt; {\n    setIsLoading(true)\n    console.log(&quot;response: &quot;, res)\n    navigate(&quot;/&quot;)\n  })\n  .catch((err)=&gt; {\n    setIsLoading(false)\n    setLoginError(&quot;Registration Error please try again&quot;)\n    console.log(err)\n  })\n }\n const password = watch(&quot;password&quot;)\n\n return (\n  &lt;div className = &quot;main-container&quot;&gt;\n    &lt;div&gt;Registration not fully set up,&lt;Link className = &quot;link&quot; to =&quot;/&quot;&gt;click here &lt;/Link&gt;to go back to login&lt;/div&gt;\n\n   &lt;div className = &quot;middle-section&quot;&gt;\n    &lt;div className = &quot;ashPikaimg-container&quot;&gt;\n        &lt;img className =&quot;ashpikaimg&quot; src = {require(&quot;../../images/ashpika.png&quot;).default} alt = &quot;Ash and Pikachu landing page&quot; /&gt;\n    &lt;/div&gt;\n\n    &lt;div className= &quot;login-section&quot;&gt;\n     &lt;div className = &quot;description login-flex-item&quot;&gt;\n      &lt;div className = &quot;registration-prompt&quot;&gt;\n       &lt;div className =&quot;reg-desc&quot;&gt;Welcome to PokeHuddle!&lt;/div&gt;\n      &lt;/div&gt;                \n     &lt;/div&gt;\n\n     &lt;div className = &quot;selection login-flex-item&quot;&gt;\n      Already a member? &amp;nbsp;\n      &lt;Link to =&quot;/&quot; className = &quot;select-logreg&quot;&gt;Login&lt;/Link&gt;\n     &lt;/div&gt;\n\n     &lt;form className = &quot;login-flex-item&quot; onSubmit = {handleSubmit(goToLogin)}&gt;\n     {\n      loginError ? &lt;span role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{loginError}&lt;/span&gt; : null\n     }\n     &lt;input className = &quot;form-item&quot;\n      type = &quot;text&quot;\n      name = &quot;username&quot;\n      placeholder = &quot;Username&quot;\n      data-testid=&quot;username-input&quot;\n      {...register(&quot;username&quot;, { required: &quot;Username is required&quot; })}\n     /&gt;\n      {errors.username &amp;&amp; (\n       &lt;p \n       role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.username.message}&lt;/p&gt;\n      )}\n\n     &lt;input className = &quot;form-item&quot;\n      type = &quot;email&quot;\n      name = &quot;email&quot;\n      placeholder = &quot;Email&quot;\n      data-testid=&quot;email-input&quot;\n      {...register(&quot;email&quot;, {\n       required: &quot;Email is required&quot; ,\n       pattern : {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: &quot;invalid email address&quot;\n       }\n      })}\n     /&gt;\n    {errors.email &amp;&amp; (\n     &lt;p \n     role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.email.message}&lt;/p&gt;\n    )}\n\n     &lt;input className = &quot;form-item&quot;\n      type=&quot;password&quot;\n      name=&quot;password&quot;\n      placeholder = &quot;Password&quot;\n      data-testid=&quot;password-input&quot;\n      {...register(&quot;password&quot;, { required: &quot;Password is required&quot; })}\n     /&gt;\n     {errors.password &amp;&amp; (\n        &lt;p \n        role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.password.message}&lt;/p&gt;\n     )}\n     &lt;input className = &quot;form-item relative&quot;\n      type=&quot;password&quot;\n      name=&quot;confirm-password&quot;\n      placeholder = &quot;Confirm Password&quot;\n      data-testid=&quot;confirm-password-input&quot;\n      {...register(&quot;confirmPassword&quot;, {required: &quot;Please confirm password&quot;, validate: (value) =&gt; value === password || &quot;Passwords do not match&quot;  })}\n     /&gt;\n     {errors.confirmPassword &amp;&amp; (\n      &lt;p \n      role = &quot;alert&quot; className=&quot;error-message&quot;&gt;{errors.confirmPassword.message}&lt;/p&gt;\n     )}\n     { isLoading ? &lt;span&gt;Loading...&lt;/span&gt; : \n     &lt;button className = &quot;form-item btn&quot;&gt;Register&lt;/button&gt; }\n     &lt;/form&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n );\n};\n\nexport default Register;\n\n</code></pre>\n<p>and this is the heroku logs that give me the timeout error</p>\n<pre><code>2022-03-10T18:26:22.851591+00:00 heroku[router]: at=info method=OPTIONS path=&quot;/createnewuser&quot; host=masters-pokehuddlerest.herokuapp.com request_id=ecd8ef78-e4d2-4d77-bef9-6b2b51849af8 fwd=&quot;xxxxxxxxxxxxxx&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=220 protocol=https\n2022-03-10T18:26:52.891397+00:00 heroku[router]: at=error code=H12 desc=&quot;Request timeout&quot; method=POST path=&quot;/createnewuser&quot; host=masters-pokehuddlerest.herokuapp.com request_id=1342fed3-2d97-4792-8614-1394a723fb89 fwd=&quot;xxxxxxxxxx&quot; dyno=web.1 connect=0ms service=30000ms status=503 bytes=0 protocol=https\n2022-03-10T18:28:31.383651+00:00 app[web.1]: 2022-03-10 18:28:31.383 ERROR 4 --- [io-29682-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://masters-pokehuddlerest.herokuapp.com:29682/login&quot;: Connection timed out (Connection timed out); nested exception is java.net.ConnectException: Connection timed out (Connection timed out)] with root cause\n2022-03-10T18:28:31.383664+00:00 app[web.1]: \n2022-03-10T18:28:31.383665+00:00 app[web.1]: java.net.ConnectException: Connection timed out (Connection timed out)\n2022-03-10T18:28:31.383665+00:00 app[web.1]:    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n2022-03-10T18:28:31.383666+00:00 app[web.1]:    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n2022-03-10T18:28:31.383666+00:00 app[web.1]:    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n2022-03-10T18:28:31.383666+00:00 app[web.1]:    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n2022-03-10T18:28:31.383667+00:00 app[web.1]:    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n2022-03-10T18:28:31.383667+00:00 app[web.1]:    at java.base/java.net.Socket.connect(Socket.java:558) ~[na:na]\n2022-03-10T18:28:31.383668+00:00 app[web.1]:    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182) ~[na:na]\n2022-03-10T18:28:31.383668+00:00 app[web.1]:    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474) ~[na:na]\n2022-03-10T18:28:31.383669+00:00 app[web.1]:    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569) ~[na:na]\n2022-03-10T18:28:31.383669+00:00 app[web.1]:    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242) ~[na:na]\n2022-03-10T18:28:31.383669+00:00 app[web.1]:    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341) ~[na:na]\n2022-03-10T18:28:31.383669+00:00 app[web.1]:    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362) ~[na:na]\n2022-03-10T18:28:31.383670+00:00 app[web.1]:    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253) ~[na:na]\n2022-03-10T18:28:31.383670+00:00 app[web.1]:    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187) ~[na:na]\n2022-03-10T18:28:31.383670+00:00 app[web.1]:    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081) ~[na:na]\n2022-03-10T18:28:31.383670+00:00 app[web.1]:    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015) ~[na:na]\n2022-03-10T18:28:31.383671+00:00 app[web.1]:    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383672+00:00 app[web.1]:    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383672+00:00 app[web.1]:    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383673+00:00 app[web.1]:    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:739) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383673+00:00 app[web.1]:    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383673+00:00 app[web.1]:    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:418) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383673+00:00 app[web.1]:    at com.pokehuddle.pokehuddlebackend.controllers.OpenController.addSelf(OpenController.java:87) ~[classes!/:0.0.1-SNAPSHOT]\n2022-03-10T18:28:31.383674+00:00 app[web.1]:    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n2022-03-10T18:28:31.383674+00:00 app[web.1]:    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n2022-03-10T18:28:31.383674+00:00 app[web.1]:    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n2022-03-10T18:28:31.383674+00:00 app[web.1]:    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n2022-03-10T18:28:31.383675+00:00 app[web.1]:    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383675+00:00 app[web.1]:    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383676+00:00 app[web.1]:    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383680+00:00 app[web.1]:    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383681+00:00 app[web.1]:    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383681+00:00 app[web.1]:    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383681+00:00 app[web.1]:    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383682+00:00 app[web.1]:    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383682+00:00 app[web.1]:    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383682+00:00 app[web.1]:    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383682+00:00 app[web.1]:    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar!/:4.0.FR]\n2022-03-10T18:28:31.383682+00:00 app[web.1]:    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar!/:4.0.FR]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383683+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383684+00:00 app[web.1]:    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383685+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383685+00:00 app[web.1]:    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383685+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383685+00:00 app[web.1]:    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383688+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383688+00:00 app[web.1]:    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383689+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383689+00:00 app[web.1]:    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.6.RELEASE.jar!/:na]\n2022-03-10T18:28:31.383689+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383689+00:00 app[web.1]:    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383690+00:00 app[web.1]:    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383690+00:00 app[web.1]:    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383690+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383691+00:00 app[web.1]:    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383691+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383691+00:00 app[web.1]:    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383691+00:00 app[web.1]:    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383692+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383692+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383692+00:00 app[web.1]:    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n2022-03-10T18:28:31.383692+00:00 app[web.1]:    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383693+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383694+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383694+00:00 app[web.1]:    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383701+00:00 app[web.1]:    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383701+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383702+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383702+00:00 app[web.1]:    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383702+00:00 app[web.1]:    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar!/:5.2.8.RELEASE]\n2022-03-10T18:28:31.383702+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383703+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383703+00:00 app[web.1]:    at com.pokehuddle.pokehuddlebackend.config.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:58) ~[classes!/:0.0.1-SNAPSHOT]\n2022-03-10T18:28:31.383703+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383703+00:00 app[web.1]:    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383704+00:00 app[web.1]:    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383704+00:00 app[web.1]:    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383704+00:00 app[web.1]:    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383704+00:00 app[web.1]:    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383705+00:00 app[web.1]:    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n2022-03-10T18:28:31.383706+00:00 app[web.1]:    atjava.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n2022-03-10T18:28:31.383706+00:00 app[web.1]: \n</code></pre>\n"},{"tags":["java","math","random","double","unique"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1458513667,"post_id":36119583,"comment_id":59881213,"body_markdown":"You cannot avoid searching for duplicates.  You can, however, delegate it to a library routine.","body":"You cannot avoid searching for duplicates.  You can, however, delegate it to a library routine."},{"owner":{"account_id":1919325,"reputation":4519,"user_id":1731200,"accept_rate":83,"display_name":"Matthias"},"score":0,"creation_date":1458641720,"post_id":36119583,"comment_id":59940229,"body_markdown":"@Thorbj&#248;rnRavnAndersen if you know the period of a Linear Congruential Generator is larger than your required number of samples, you do not need to search for duplicates.","body":"@Thorbj&#248;rnRavnAndersen if you know the period of a Linear Congruential Generator is larger than your required number of samples, you do not need to search for duplicates."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1458642798,"post_id":36119583,"comment_id":59941015,"body_markdown":"Apparently OP did not know this.","body":"Apparently OP did not know this."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1458507990,"creation_date":1458507990,"answer_id":36119613,"question_id":36119583,"body_markdown":"You may use `streams` for that.\r\n\r\n\tdouble[] array = new Random().doubles()\r\n\t\t\t                     .distinct()\r\n\t\t\t                     .limit(500) // How many you want.\r\n\t\t\t                     .toArray();","title":"Generating random unique double values in Java","body":"<p>You may use <code>streams</code> for that.</p>\n\n<pre><code>double[] array = new Random().doubles()\n                             .distinct()\n                             .limit(500) // How many you want.\n                             .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458508029,"creation_date":1458508029,"answer_id":36119622,"question_id":36119583,"body_markdown":"You can use `Set` collection. It won&#39;t allow insertion of unique values. Below is an example:\r\n\r\n    Set&lt;Double&gt; doubles = new HashSet&lt;Double&gt;();\r\n    Random r = new Random();\r\n    for(int i=0 ; i&lt;100 ; i++){\r\n    \tdoubles.add(r.nextDouble() * 100);\r\n    }","title":"Generating random unique double values in Java","body":"<p>You can use <code>Set</code> collection. It won't allow insertion of unique values. Below is an example:</p>\n\n<pre><code>Set&lt;Double&gt; doubles = new HashSet&lt;Double&gt;();\nRandom r = new Random();\nfor(int i=0 ; i&lt;100 ; i++){\n    doubles.add(r.nextDouble() * 100);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3529638,"reputation":315,"user_id":2949605,"accept_rate":25,"display_name":"Georg Fuss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459233390,"creation_date":1458555087,"answer_id":36128149,"question_id":36119583,"body_markdown":"At first you need to understand, how a random-number-generator works. A sequence of positive integers, long integers, with no doubles in it, is calculated. This sequence is at least 2^31 elements long. The real doubles in the range of 0.0 ..... 1.0 are the result of a floating point division.Floating point division is never exact. \r\nIf you use this real numbers to generate integer in smaller interval, it is the quickest method,to use a random-number-generator, which gives you positive integer from that interval.\r\nThe algorithm for the Lehmer-generator is\r\nx1 = (x0 * m) % div\r\nx0 : the last random number,x1 the next random number. Div and m are prime numbers. m &lt; div. The first x0 is select by the user.called seed number.\r\nIt is clear, that the x_i are smaller then div. For the other properties of good random-number-generator, there is no short proof.\r\n\r\nMy suggestion:\r\nWrite a method for a Lehmer-generator with m = 279470273 and div = 4294967291. I found these numbers on several web pages. Div = 2^32-5, so you can be sure to get a sequence of nearly 2^32 positive long integer,all different. Convert them to doubles and divide them with div as double. You get doubles in the open interval (0.0, ..... 1.0) and all these doubles are different. \r\nThe random integers are small enough, that the quotients are also different. If you use a random generator, which generate bigger integer random numbers, you can not sure, that doubles are also different, the reason are rounding errors.","title":"Generating random unique double values in Java","body":"<p>At first you need to understand, how a random-number-generator works. A sequence of positive integers, long integers, with no doubles in it, is calculated. This sequence is at least 2^31 elements long. The real doubles in the range of 0.0 ..... 1.0 are the result of a floating point division.Floating point division is never exact. \nIf you use this real numbers to generate integer in smaller interval, it is the quickest method,to use a random-number-generator, which gives you positive integer from that interval.\nThe algorithm for the Lehmer-generator is\nx1 = (x0 * m) % div\nx0 : the last random number,x1 the next random number. Div and m are prime numbers. m &lt; div. The first x0 is select by the user.called seed number.\nIt is clear, that the x_i are smaller then div. For the other properties of good random-number-generator, there is no short proof.</p>\n\n<p>My suggestion:\nWrite a method for a Lehmer-generator with m = 279470273 and div = 4294967291. I found these numbers on several web pages. Div = 2^32-5, so you can be sure to get a sequence of nearly 2^32 positive long integer,all different. Convert them to doubles and divide them with div as double. You get doubles in the open interval (0.0, ..... 1.0) and all these doubles are different. \nThe random integers are small enough, that the quotients are also different. If you use a random generator, which generate bigger integer random numbers, you can not sure, that doubles are also different, the reason are rounding errors.</p>\n"}],"owner":{"account_id":8076060,"reputation":410,"user_id":6087087,"display_name":"Fırat Kıyak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":36119613,"answer_count":3,"score":-3,"last_activity_date":1646944061,"creation_date":1458507840,"question_id":36119583,"body_markdown":"I need a collection of 64-bit floating point random numbers, and they should be distinct. Is there a library routine for this, or should I manually search for duplicates?\r\n\r\nIt is actually more important to have the numbers not being closer than some very small constant \\epsilon. Is there a library routine for that as well?","title":"Generating random unique double values in Java","body":"<p>I need a collection of 64-bit floating point random numbers, and they should be distinct. Is there a library routine for this, or should I manually search for duplicates?</p>\n<p>It is actually more important to have the numbers not being closer than some very small constant \\epsilon. Is there a library routine for that as well?</p>\n"},{"tags":["java","jakarta-ee","jboss","javabeans"],"answers":[{"tags":[],"owner":{"account_id":1817014,"reputation":416,"user_id":1651912,"accept_rate":67,"display_name":"Mateusz"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1561381901,"creation_date":1561381901,"answer_id":56737346,"question_id":56731870,"body_markdown":"Change your xsd file location to: `http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/javaee/beans_1_1.xsd`. It seems that they enforced https, and added redirect, which is not supported. ","title":"Premature end of file on beans.xml","body":"<p>Change your xsd file location to: <code>http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/javaee/beans_1_1.xsd</code>. It seems that they enforced https, and added redirect, which is not supported. </p>\n"},{"tags":[],"owner":{"account_id":9936552,"reputation":1641,"user_id":7354710,"display_name":"Jacek Grobelny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646943972,"creation_date":1646943972,"answer_id":71430370,"question_id":56731870,"body_markdown":"Because Oracle site is recently very unstable, I ended with local beans_1_1.xsd, bundled along with XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n                           ./beans_1_1.xsd&quot;\r\n       version=&quot;1.1&quot; bean-discovery-mode=&quot;none&quot;&gt;\r\n    &lt;/beans&gt;","title":"Premature end of file on beans.xml","body":"<p>Because Oracle site is recently very unstable, I ended with local beans_1_1.xsd, bundled along with XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n                       ./beans_1_1.xsd&quot;\n   version=&quot;1.1&quot; bean-discovery-mode=&quot;none&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n"}],"owner":{"account_id":897379,"reputation":875,"user_id":934347,"accept_rate":100,"display_name":"hEngi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56737346,"answer_count":2,"score":4,"last_activity_date":1646943972,"creation_date":1561361951,"question_id":56731870,"body_markdown":"The contents of the xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n                           http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n       version=&quot;1.1&quot; bean-discovery-mode=&quot;none&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nIt started to fail with the error:\r\n\r\n    Caused by: org.xml.sax.SAXParseException; Premature end of file","title":"Premature end of file on beans.xml","body":"<p>The contents of the xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n                       http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\"\n   version=\"1.1\" bean-discovery-mode=\"none\"&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>It started to fail with the error:</p>\n\n<pre><code>Caused by: org.xml.sax.SAXParseException; Premature end of file\n</code></pre>\n"},{"tags":["java","maven","dependencies","pom.xml","target"],"answers":[{"tags":[],"owner":{"account_id":23513369,"reputation":17,"user_id":17561650,"display_name":"CodingJava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646943038,"creation_date":1646943038,"answer_id":71430208,"question_id":71429879,"body_markdown":"   MY pom.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;at.ac.fhcampuswien&lt;/groupId&gt;\r\n        &lt;artifactId&gt;newsApp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n                &lt;classifier&gt;win&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n                &lt;classifier&gt;win&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n    \r\n    \r\n                &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;at.ac.fhcampuswien.App&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"What should I add in java to pom.xml to add fxml document to target folder in maven","body":"<p>MY pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;at.ac.fhcampuswien&lt;/groupId&gt;\n    &lt;artifactId&gt;newsApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n\n            &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;at.ac.fhcampuswien.App&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":23513369,"reputation":17,"user_id":17561650,"display_name":"CodingJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646943038,"creation_date":1646941247,"question_id":71429879,"body_markdown":"\r\n\r\n\r\n**Does anyone know what I should add to my pom.xml to also copy the .fxml to the target folder?** \r\n[![Target][1]][1]\r\n\r\n\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5hPI3.png\r\n  [2]: https://i.stack.imgur.com/ZDngS.png\r\n\r\n","title":"What should I add in java to pom.xml to add fxml document to target folder in maven","body":"<p><strong>Does anyone know what I should add to my pom.xml to also copy the .fxml to the target folder?</strong>\n<a href=\"https://i.stack.imgur.com/5hPI3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hPI3.png\" alt=\"Target\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZDngS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDngS.png\" alt=\"\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1646867825,"post_id":71414956,"comment_id":126233068,"body_markdown":"Thanks for the GitHub sample. It doesn&#39;t appear to have any build information, e.g. a pom.xml or the required libraries. Can you update it?","body":"Thanks for the GitHub sample. It doesn&#39;t appear to have any build information, e.g. a pom.xml or the required libraries. Can you update it?"},{"owner":{"account_id":23991593,"reputation":9,"user_id":17977669,"display_name":"Brian B."},"score":0,"creation_date":1646874380,"post_id":71414956,"comment_id":126234153,"body_markdown":"I added the pom.xml to Git.  Thanks for looking.","body":"I added the pom.xml to Git.  Thanks for looking."}],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646942537,"creation_date":1646942537,"answer_id":71430115,"question_id":71414956,"body_markdown":"Spring Boot is what is picking up the Spring Security Filter Chain and registering it with the container. Without Spring Boot, you need to register it yourself.\r\n\r\nThe simplest way to do this is to use [Spring Security&#39;s `AbstractSecurityWebApplicationInitializer`][1] like so:\r\n\r\n```java\r\npublic class SpringSecurityFilterChainInitializer \r\n    extends AbstractSecurityWebApplicationInitializer {\r\n}\r\n```\r\n\r\n`AbstractSecurityWebApplicationInitializer#onStartup` registers the Spring Security filter chain for you. Tomcat will pick up this class just like it picks up the `WebInitializer` in your project.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_abstractsecuritywebapplicationinitializer","title":"Authentication Filter Works in Spring Boot, But Not In Spring Web MVC","body":"<p>Spring Boot is what is picking up the Spring Security Filter Chain and registering it with the container. Without Spring Boot, you need to register it yourself.</p>\n<p>The simplest way to do this is to use <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_abstractsecuritywebapplicationinitializer\" rel=\"nofollow noreferrer\">Spring Security's <code>AbstractSecurityWebApplicationInitializer</code></a> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringSecurityFilterChainInitializer \n    extends AbstractSecurityWebApplicationInitializer {\n}\n</code></pre>\n<p><code>AbstractSecurityWebApplicationInitializer#onStartup</code> registers the Spring Security filter chain for you. Tomcat will pick up this class just like it picks up the <code>WebInitializer</code> in your project.</p>\n"}],"owner":{"account_id":23991593,"reputation":9,"user_id":17977669,"display_name":"Brian B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1425,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646942537,"creation_date":1646853740,"question_id":71414956,"body_markdown":"I&#39;m working on a project that will that requires for users to be authenticated by a proxy on the network.  Username will be provided in a request header to my app.\r\n\r\nSpring 5 is being used to handle requests and security.\r\n\r\nThe AbstractAuthenticationProcessingFilter has been extended with my own custom filter to grab the necessary header info.\r\n\r\nA prototype was written using Spring Boot and it was successful.\r\n\r\nIn the Spring Web MVC version, the filter is loaded, but is not triggered.\r\n\r\nThe goal is for every page in my app to require authentication.  For testing purposes the &#39;index&#39; page is public, and the &#39;blogs&#39; page requires elevated privilege.\r\n\r\nWhy does it work in a Spring Boot project (v2.6.1), but not in Spring Web MVC (5.x)?\r\n\r\nAny help is appreciated.\r\n\r\n\r\n[Prototype Source Code on GitHub][1]\r\n\r\n\r\nAnd some of relevant bits of code are shown below:\r\n\r\n\r\nWebSecurityConfig.java\r\n```\r\npackage org.westwood.mvc.config;\r\n\r\nimport javax.servlet.Filter;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.RequestMatcher;\r\nimport org.westwood.mvc.security.CustomAuthenticationProcessingFilter;\r\nimport org.westwood.mvc.security.CustomAuthenticationProvider;\r\nimport org.westwood.mvc.security.CustomUserDetailsService;\r\n\r\n \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n\t\r\n\tprivate CustomAuthenticationProvider customAuthenticationProvider = new CustomAuthenticationProvider();\r\n\t\r\n\t\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return new CustomUserDetailsService();\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    public CustomAuthenticationProvider authenticationProvider() {\r\n    \t\r\n    \tif (customAuthenticationProvider == null) {\r\n    \t\tcustomAuthenticationProvider = new CustomAuthenticationProvider();\r\n    \t}\r\n    \t\r\n    \tif (customAuthenticationProvider.userDetailsServiceIsNull()) {\r\n    \t\tcustomAuthenticationProvider.setUserDetailsService(userDetailsService());\r\n    \t}\r\n    \t\r\n    \treturn customAuthenticationProvider;\r\n    }\r\n \r\n    \r\n \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t\t.httpBasic().disable()\r\n    \t\t.csrf().disable()\r\n    \t\t.formLogin().disable()\r\n    \t\t.logout().disable()\r\n    \t\t.authenticationProvider(authenticationProvider())\r\n    \t\t.addFilterBefore(getFilter(), UsernamePasswordAuthenticationFilter.class).authorizeRequests()\r\n    \t\t.antMatchers(&quot;/blogs&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n    \t\t.anyRequest().permitAll();\r\n\r\n    }\r\n\r\n    \r\n    private RequestMatcher getRequestMatchers() {\r\n    \treturn new OrRequestMatcher(new AntPathRequestMatcher(&quot;/**&quot;));\r\n    }\r\n    \r\n    \r\n    private Filter getFilter() throws Exception {\r\n    \treturn new CustomAuthenticationProcessingFilter(getRequestMatchers(), authenticationManager());\r\n    }\r\n    \r\n    \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \tauth.authenticationProvider(authenticationProvider());\r\n    }\r\n    \r\n}\r\n```\r\n    \r\nCustomAuthenticationProcessingFilter.java\r\n```\r\npackage org.westwood.mvc.security;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\r\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\r\nimport org.springframework.security.web.util.matcher.RequestMatcher;\r\n\r\npublic class CustomAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n\tpublic CustomAuthenticationProcessingFilter(RequestMatcher requiresAuthenticationRequestMatcher, \r\n\t\t\tAuthenticationManager authenticationManager) {\r\n\t\tsuper(requiresAuthenticationRequestMatcher);\r\n\t\tsetAuthenticationManager(authenticationManager);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows AuthenticationException, IOException, ServletException {\r\n\t\t\r\n\t\t// extract user name from request\r\n\t\tString header = request.getHeader(&quot;REMOTE_USER&quot;);\r\n\t\t\r\n\t\t// hard code for testing\r\n\t\theader = &quot;john-smith@gmail.com&quot;;\r\n\t\t\r\n\t\t// create a token object to pass to authentication provider\r\n\t\tPreAuthenticatedAuthenticationToken token = new PreAuthenticatedAuthenticationToken(header, null);\r\n\t\treturn getAuthenticationManager().authenticate(token);\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, \r\n\t\t\tFilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n\t\t\r\n\t\t// save user principle in security context\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authResult);\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/brianbinwv/papas-es-aqui/tree/main/src/main","title":"Authentication Filter Works in Spring Boot, But Not In Spring Web MVC","body":"<p>I'm working on a project that will that requires for users to be authenticated by a proxy on the network.  Username will be provided in a request header to my app.</p>\n<p>Spring 5 is being used to handle requests and security.</p>\n<p>The AbstractAuthenticationProcessingFilter has been extended with my own custom filter to grab the necessary header info.</p>\n<p>A prototype was written using Spring Boot and it was successful.</p>\n<p>In the Spring Web MVC version, the filter is loaded, but is not triggered.</p>\n<p>The goal is for every page in my app to require authentication.  For testing purposes the 'index' page is public, and the 'blogs' page requires elevated privilege.</p>\n<p>Why does it work in a Spring Boot project (v2.6.1), but not in Spring Web MVC (5.x)?</p>\n<p>Any help is appreciated.</p>\n<p><a href=\"https://github.com/brianbinwv/papas-es-aqui/tree/main/src/main\" rel=\"nofollow noreferrer\">Prototype Source Code on GitHub</a></p>\n<p>And some of relevant bits of code are shown below:</p>\n<p>WebSecurityConfig.java</p>\n<pre><code>package org.westwood.mvc.config;\n\nimport javax.servlet.Filter;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\nimport org.westwood.mvc.security.CustomAuthenticationProcessingFilter;\nimport org.westwood.mvc.security.CustomAuthenticationProvider;\nimport org.westwood.mvc.security.CustomUserDetailsService;\n\n \n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    \n    private CustomAuthenticationProvider customAuthenticationProvider = new CustomAuthenticationProvider();\n    \n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new CustomUserDetailsService();\n    }\n    \n    \n    @Bean\n    public CustomAuthenticationProvider authenticationProvider() {\n        \n        if (customAuthenticationProvider == null) {\n            customAuthenticationProvider = new CustomAuthenticationProvider();\n        }\n        \n        if (customAuthenticationProvider.userDetailsServiceIsNull()) {\n            customAuthenticationProvider.setUserDetailsService(userDetailsService());\n        }\n        \n        return customAuthenticationProvider;\n    }\n \n    \n \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .httpBasic().disable()\n            .csrf().disable()\n            .formLogin().disable()\n            .logout().disable()\n            .authenticationProvider(authenticationProvider())\n            .addFilterBefore(getFilter(), UsernamePasswordAuthenticationFilter.class).authorizeRequests()\n            .antMatchers(&quot;/blogs&quot;).hasAuthority(&quot;ADMIN&quot;)\n            .anyRequest().permitAll();\n\n    }\n\n    \n    private RequestMatcher getRequestMatchers() {\n        return new OrRequestMatcher(new AntPathRequestMatcher(&quot;/**&quot;));\n    }\n    \n    \n    private Filter getFilter() throws Exception {\n        return new CustomAuthenticationProcessingFilter(getRequestMatchers(), authenticationManager());\n    }\n    \n    \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n    \n}\n</code></pre>\n<p>CustomAuthenticationProcessingFilter.java</p>\n<pre><code>package org.westwood.mvc.security;\n\nimport java.io.IOException;\n\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\n\npublic class CustomAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\n\n    public CustomAuthenticationProcessingFilter(RequestMatcher requiresAuthenticationRequestMatcher, \n            AuthenticationManager authenticationManager) {\n        super(requiresAuthenticationRequestMatcher);\n        setAuthenticationManager(authenticationManager);\n    }\n\n    \n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException, IOException, ServletException {\n        \n        // extract user name from request\n        String header = request.getHeader(&quot;REMOTE_USER&quot;);\n        \n        // hard code for testing\n        header = &quot;john-smith@gmail.com&quot;;\n        \n        // create a token object to pass to authentication provider\n        PreAuthenticatedAuthenticationToken token = new PreAuthenticatedAuthenticationToken(header, null);\n        return getAuthenticationManager().authenticate(token);\n    }\n    \n    \n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, \n            FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        \n        // save user principle in security context\n        SecurityContextHolder.getContext().setAuthentication(authResult);\n        chain.doFilter(request, response);\n    }\n    \n}\n</code></pre>\n"},{"tags":["python","java","excel","csv"],"answers":[{"tags":[],"owner":{"account_id":19137308,"reputation":234,"user_id":13978044,"display_name":"Sheldon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646935566,"creation_date":1646935566,"answer_id":71428817,"question_id":71428549,"body_markdown":"Since your file format is CSV, i assume that you don&#39;t want to add just `D11`, but also another CSV field separator, which seems to be `,`. The following python script reads a file `input.csv` and writes a new file `output.csv`, with an additional `,D11` at the end of each line.\r\n\r\n```\r\n#!/usr/bin/python3                                                                                                 \r\n\r\nimport sys\r\n\r\nadditionalText=&quot;,D11&quot;\r\ninputfile=&#39;input.csv&#39;\r\nsys.stdout = open(&#39;output.csv&#39;, &#39;w&#39;)\r\n\r\nwith open(inputfile) as file:\r\n\tfor line in file:\r\n\t\tprint(line.rstrip() + additionalText)\r\n```\r\n","title":"how to edit the end of each line in a .csv file with the same data","body":"<p>Since your file format is CSV, i assume that you don't want to add just <code>D11</code>, but also another CSV field separator, which seems to be <code>,</code>. The following python script reads a file <code>input.csv</code> and writes a new file <code>output.csv</code>, with an additional <code>,D11</code> at the end of each line.</p>\n<pre><code>#!/usr/bin/python3                                                                                                 \n\nimport sys\n\nadditionalText=&quot;,D11&quot;\ninputfile='input.csv'\nsys.stdout = open('output.csv', 'w')\n\nwith open(inputfile) as file:\n    for line in file:\n        print(line.rstrip() + additionalText)\n</code></pre>\n"}],"owner":{"account_id":24518165,"reputation":1,"user_id":18431626,"display_name":"Arham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646942150,"creation_date":1646934160,"question_id":71428549,"body_markdown":"I have attempted to look around but have not found many solutions that are similar. I am sure it is a relatively easy solution that I am overlooking.\r\n\r\nI would like to add the same information at the end of every line of a `.csv`. I tried moving the `.csv` file into excel and manually editing and then converting it back to a `.csv` but it does not move over to Tableau in a compatible manner, as that is where the `.csv` file will be ending up as a scatter plot. Doing it manually for 450 lines is counterproductive. I have tried using a separate file that can be attached but again going into tableau it does not work well. \r\n\r\nThe line below is what the data looks like and at the end I need to add ```D11```\r\n\r\n    0,-11.0,0022-03-01 1:05:29.70,611846.0\r\n\r\n","title":"how to edit the end of each line in a .csv file with the same data","body":"<p>I have attempted to look around but have not found many solutions that are similar. I am sure it is a relatively easy solution that I am overlooking.</p>\n<p>I would like to add the same information at the end of every line of a <code>.csv</code>. I tried moving the <code>.csv</code> file into excel and manually editing and then converting it back to a <code>.csv</code> but it does not move over to Tableau in a compatible manner, as that is where the <code>.csv</code> file will be ending up as a scatter plot. Doing it manually for 450 lines is counterproductive. I have tried using a separate file that can be attached but again going into tableau it does not work well.</p>\n<p>The line below is what the data looks like and at the end I need to add <code>D11</code></p>\n<pre><code>0,-11.0,0022-03-01 1:05:29.70,611846.0\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":1,"creation_date":1625142510,"post_id":68209658,"comment_id":120552433,"body_markdown":"what does it mean refresh? why do you need to refresh your poll connection with the same settings?  if you need to get many different connections try receive them on method arguments `dataSource(String  driver, String user , String pass, String url... )` and save them in a `ConcurrentHashMap&lt;String,HikariDataSource&gt;` to use as you need. or if you need to controll the active time connection for each poll you can use all  power of hikari `setMaximumPoolSize`, `setMaxLifetime`, `setIdleTimeout` , `setMinimumIdle` and others. could you explain more about your problem?","body":"what does it mean refresh? why do you need to refresh your poll connection with the same settings?  if you need to get many different connections try receive them on method arguments <code>dataSource(String  driver, String user , String pass, String url... )</code> and save them in a <code>ConcurrentHashMap&lt;String,HikariDataSource&gt;</code> to use as you need. or if you need to controll the active time connection for each poll you can use all  power of hikari <code>setMaximumPoolSize</code>, <code>setMaxLifetime</code>, <code>setIdleTimeout</code> , <code>setMinimumIdle</code> and others. could you explain more about your problem?"},{"owner":{"account_id":5807304,"reputation":1125,"user_id":6804134,"display_name":"Lazycoder-007"},"score":0,"creation_date":1625165267,"post_id":68209658,"comment_id":120562122,"body_markdown":"Thanks @DilermandoLima for the info. So, the databaseProperties if refreshed with the new settings, but the dataSource bean is not getting refreshed. I just have to refresh it manually.\nI have tired below, but it did not work.\n\n``RefreshScope refreshScope = new RefreshScope();\nrefreshScope.refreshAll();``","body":"Thanks @DilermandoLima for the info. So, the databaseProperties if refreshed with the new settings, but the dataSource bean is not getting refreshed. I just have to refresh it manually. I have tired below, but it did not work.  <code>RefreshScope refreshScope = new RefreshScope(); refreshScope.refreshAll();</code>"}],"owner":{"account_id":5807304,"reputation":1125,"user_id":6804134,"display_name":"Lazycoder-007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646942139,"creation_date":1625140270,"question_id":68209658,"body_markdown":"I have a MyDataSource class annotated with ``@Configuration`` and it has method returning &quot;HikariDatasource&quot; bean. This method is annotated with ``@Bean`` as well as ``RefreshScoope``.\r\n\r\n\r\n    @Configuration\r\n    public class MyDataSource {\r\n    \r\n        @Autowired\r\n        private DatabaseProperties databaseProperties;\r\n    \r\n    \r\n        @RefreshScope\r\n        @Bean(name = &quot;dataSource&quot;)\r\n        public DataSource dataSource() throws SQLException {\r\n            HikariDataSource dataSource = new HikariDataSource();\r\n            dataSource.setDriverClassName(databaseProperties.getDriverClassName());\r\n            dataSource.setUsername(databaseProperties.getUserName());\r\n            dataSource.setConnectionTimeout(databaseProperties.getConnectionTimeout());\r\n            dataSource.setConnectionInitSql(databaseProperties.getTestConnectionSql());\r\n            dataSource.setConnectionTestQuery(databaseProperties.getTestConnectionSql());\r\n            Log.i(&quot;DataSource bean created&quot;);\r\n            return dataSource;\r\n        }\r\n    }\r\n\r\nNow, **I have to refresh ``dataSource`` manually or programmatically from a different class**. And only just need to refresh this bean. It does not automatically gets refreshed even though the refreshScope annotation is there, because the changes are not done in ``databaseProperties``.\r\nHow do I do this??\r\n\r\nI am aware of this method ``refresh(beanName)`` provided by ``@RefreshScope`` but not sure how to use it, if it can be used in this scenario??\r\n","title":"How to refresh a Bean programmatically in spring boot","body":"<p>I have a MyDataSource class annotated with <code>@Configuration</code> and it has method returning &quot;HikariDatasource&quot; bean. This method is annotated with <code>@Bean</code> as well as <code>RefreshScoope</code>.</p>\n<pre><code>@Configuration\npublic class MyDataSource {\n\n    @Autowired\n    private DatabaseProperties databaseProperties;\n\n\n    @RefreshScope\n    @Bean(name = &quot;dataSource&quot;)\n    public DataSource dataSource() throws SQLException {\n        HikariDataSource dataSource = new HikariDataSource();\n        dataSource.setDriverClassName(databaseProperties.getDriverClassName());\n        dataSource.setUsername(databaseProperties.getUserName());\n        dataSource.setConnectionTimeout(databaseProperties.getConnectionTimeout());\n        dataSource.setConnectionInitSql(databaseProperties.getTestConnectionSql());\n        dataSource.setConnectionTestQuery(databaseProperties.getTestConnectionSql());\n        Log.i(&quot;DataSource bean created&quot;);\n        return dataSource;\n    }\n}\n</code></pre>\n<p>Now, <strong>I have to refresh <code>dataSource</code> manually or programmatically from a different class</strong>. And only just need to refresh this bean. It does not automatically gets refreshed even though the refreshScope annotation is there, because the changes are not done in <code>databaseProperties</code>.\nHow do I do this??</p>\n<p>I am aware of this method <code>refresh(beanName)</code> provided by <code>@RefreshScope</code> but not sure how to use it, if it can be used in this scenario??</p>\n"},{"tags":["java","macos","intellij-idea","java-10"],"answers":[{"tags":[],"owner":{"account_id":455772,"reputation":1136,"user_id":854151,"accept_rate":71,"display_name":"Anders Rabo Thorbeck"},"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1528201278,"creation_date":1528201278,"answer_id":50699973,"question_id":50699972,"body_markdown":"It turned out that **upgrading to the newest IntelliJ IDEA** version was (for some reason) what was required. After installing IDEA 2018.1, I was able to add JDK 10 without issue.","title":"IntelliJ IDEA adding JDK 10: “The selected directory is not a valid home for JDK”","body":"<p>It turned out that <strong>upgrading to the newest IntelliJ IDEA</strong> version was (for some reason) what was required. After installing IDEA 2018.1, I was able to add JDK 10 without issue.</p>\n"}],"owner":{"account_id":455772,"reputation":1136,"user_id":854151,"accept_rate":71,"display_name":"Anders Rabo Thorbeck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12862,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":50699973,"answer_count":1,"score":14,"last_activity_date":1646941993,"creation_date":1528201278,"question_id":50699972,"body_markdown":"I&#39;m creating this question only because the duplicate questions I found were marked with [Windows](https://stackoverflow.com/questions/21713414/intellij-idea-the-selected-directory-is-not-a-valid-home-for-jdk) and [Ubuntu](https://stackoverflow.com/questions/30116439/selected-directory-is-not-a-valid-home-for-jdk-intellij-idea-on-ubuntu/30116654) respectively, whereas I am experiencing this issue on macOS\r\n\r\nI have IntelliJ Ultimate 2017.2 installed, with JDK 8 added, and want to add JDK 10. After downloading and installing Oracle&#39;s JDK 10, and attempting to add `/Library/Java/JavaVirtualMachines/jdk-10.0.1.jdk/Contents/Home` as a new JDK to IntelliJ, I got the error message\r\n&gt; The selected directory is not a valid home for JDK\r\n\r\ndespite the fact that the path and file permissions of this JDK 10 directory were seemingly all aligned with the JDK 8 ones.","title":"IntelliJ IDEA adding JDK 10: “The selected directory is not a valid home for JDK”","body":"<p>I'm creating this question only because the duplicate questions I found were marked with <a href=\"https://stackoverflow.com/questions/21713414/intellij-idea-the-selected-directory-is-not-a-valid-home-for-jdk\">Windows</a> and <a href=\"https://stackoverflow.com/questions/30116439/selected-directory-is-not-a-valid-home-for-jdk-intellij-idea-on-ubuntu/30116654\">Ubuntu</a> respectively, whereas I am experiencing this issue on macOS</p>\n\n<p>I have IntelliJ Ultimate 2017.2 installed, with JDK 8 added, and want to add JDK 10. After downloading and installing Oracle's JDK 10, and attempting to add <code>/Library/Java/JavaVirtualMachines/jdk-10.0.1.jdk/Contents/Home</code> as a new JDK to IntelliJ, I got the error message</p>\n\n<blockquote>\n  <p>The selected directory is not a valid home for JDK</p>\n</blockquote>\n\n<p>despite the fact that the path and file permissions of this JDK 10 directory were seemingly all aligned with the JDK 8 ones.</p>\n"},{"tags":["java","spring","spring-security","spring-boot","spring-java-config"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":2,"creation_date":1459243849,"post_id":36280181,"comment_id":60186987,"body_markdown":"http://stackoverflow.com/questions/23894010/spring-boot-security-disable-security","body":"<a href=\"http://stackoverflow.com/questions/23894010/spring-boot-security-disable-security\" title=\"spring boot security disable security\">stackoverflow.com/questions/23894010/&hellip;</a>"},{"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"score":1,"creation_date":1604407501,"post_id":36280181,"comment_id":114333336,"body_markdown":"Does this answer your question? [Spring boot Security Disable security](https://stackoverflow.com/questions/23894010/spring-boot-security-disable-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23894010/spring-boot-security-disable-security\">Spring boot Security Disable security</a>"}],"answers":[{"tags":[],"owner":{"account_id":5839221,"reputation":691,"user_id":4601349,"accept_rate":60,"display_name":"nukie"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1459243687,"creation_date":1459243687,"answer_id":36280344,"question_id":36280181,"body_markdown":"I think you must also remove security auto config from your `@SpringBootApplication` annotated class:\r\n\r\n    @EnableAutoConfiguration(exclude = {\r\n        org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\r\n        org.springframework.boot.actuate.autoconfigure.ManagementSecurityAutoConfiguration.class})","title":"disabling spring security in spring boot app","body":"<p>I think you must also remove security auto config from your <code>@SpringBootApplication</code> annotated class:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {\n    org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\n    org.springframework.boot.actuate.autoconfigure.ManagementSecurityAutoConfiguration.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006751,"reputation":1610,"user_id":5370863,"accept_rate":53,"display_name":"bmarkham"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1459243787,"creation_date":1459243787,"answer_id":36280378,"question_id":36280181,"body_markdown":"Try this. Make a new class\r\n\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n    \t\thttpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n    }\r\n    \r\n    }\r\n\r\n\r\nBasically this tells Spring to allow access to every url. `@Configuration` tells spring it&#39;s a configuration class","title":"disabling spring security in spring boot app","body":"<p>Try this. Make a new class</p>\n\n<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests().antMatchers(\"/\").permitAll();\n}\n\n}\n</code></pre>\n\n<p>Basically this tells Spring to allow access to every url. <code>@Configuration</code> tells spring it's a configuration class</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":2,"up_vote_count":78,"is_accepted":true,"score":76,"last_activity_date":1459244275,"creation_date":1459243872,"answer_id":36280413,"question_id":36280181,"body_markdown":"Use `security.ignored` property:\r\n\r\n    security.ignored=/**\r\n`security.basic.enable: false` will just disable some part of the security auto-configurations but your `WebSecurityConfig` still will be registered.\r\n\r\n&gt; There is a default security password generated at startup\r\n\r\nTry to `Autowired` the `AuthenticationManagerBuilder`:\r\n\r\n    @Override\r\n    @Autowired\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception { ... }","title":"disabling spring security in spring boot app","body":"<p>Use <code>security.ignored</code> property:</p>\n\n<pre><code>security.ignored=/**\n</code></pre>\n\n<p><code>security.basic.enable: false</code> will just disable some part of the security auto-configurations but your <code>WebSecurityConfig</code> still will be registered.</p>\n\n<blockquote>\n  <p>There is a default security password generated at startup</p>\n</blockquote>\n\n<p>Try to <code>Autowired</code> the <code>AuthenticationManagerBuilder</code>:</p>\n\n<pre><code>@Override\n@Autowired\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512761923,"creation_date":1512573873,"answer_id":47677790,"question_id":36280181,"body_markdown":"Use `@profile(&quot;whatever-name-profile-to-activate-if-needed&quot;)` on your security configuration class that extends `WebSecurityConfigurerAdapter`\r\n\r\n    security.ignored=/**\r\n    \r\n    security.basic.enable: false\r\n\r\nNB. I need to debug to know why why exclude auto configuration did not work for me. But the profile is sot so bad as you can still re-activate it via configuration properties if needed\r\n","title":"disabling spring security in spring boot app","body":"<p>Use <code>@profile(\"whatever-name-profile-to-activate-if-needed\")</code> on your security configuration class that extends <code>WebSecurityConfigurerAdapter</code></p>\n\n<pre><code>security.ignored=/**\n\nsecurity.basic.enable: false\n</code></pre>\n\n<p>NB. I need to debug to know why why exclude auto configuration did not work for me. But the profile is sot so bad as you can still re-activate it via configuration properties if needed</p>\n"},{"tags":[],"owner":{"account_id":1604548,"reputation":5081,"user_id":4314902,"display_name":"Maoz Zadok"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1531750970,"creation_date":1531750970,"answer_id":51364032,"question_id":36280181,"body_markdown":"This was the only thing that worked for me, I added the following annotation to my Application class and exclude SecurityAutoConfiguration\r\n\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    \r\n    @EnableAutoConfiguration(exclude = {\r\n            SecurityAutoConfiguration.class\r\n    })","title":"disabling spring security in spring boot app","body":"<p>This was the only thing that worked for me, I added the following annotation to my Application class and exclude SecurityAutoConfiguration</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\n\n@EnableAutoConfiguration(exclude = {\n        SecurityAutoConfiguration.class\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568090,"reputation":11,"user_id":2979124,"display_name":"user2979124"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538723548,"creation_date":1538721952,"answer_id":52659778,"question_id":36280181,"body_markdown":"Just add the following line to disable spring auto configuration in application.properties file\r\n\r\n`spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration`\r\n\r\n\r\nit works on spring 2.0.5 :)","title":"disabling spring security in spring boot app","body":"<p>Just add the following line to disable spring auto configuration in application.properties file</p>\n\n<p><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration</code></p>\n\n<p>it works on spring 2.0.5 :)</p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1540567330,"creation_date":1540566938,"answer_id":53011731,"question_id":36280181,"body_markdown":"With this solution you can fully enable/disable the security by activating a specific profile by command line. I defined the profile in a file `application-nosecurity.yaml`\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration\r\n\r\nThen I modified my custom `WebSecurityConfigurerAdapter` by adding the `@Profile(&quot;!nosecurity&quot;)` as follows:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    @Profile(&quot;!nosecurity&quot;)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {...}\r\n\r\nTo fully disable the security it&#39;s enough to start the application up by specifying the **nosecurity** profile, i.e.:\r\n\r\n    java -jar  target/myApp.jar --spring.profiles.active=nosecurity\r\n\r\n","title":"disabling spring security in spring boot app","body":"<p>With this solution you can fully enable/disable the security by activating a specific profile by command line. I defined the profile in a file <code>application-nosecurity.yaml</code></p>\n\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration\n</code></pre>\n\n<p>Then I modified my custom <code>WebSecurityConfigurerAdapter</code> by adding the <code>@Profile(\"!nosecurity\")</code> as follows:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n@Profile(\"!nosecurity\")\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {...}\n</code></pre>\n\n<p>To fully disable the security it's enough to start the application up by specifying the <strong>nosecurity</strong> profile, i.e.:</p>\n\n<pre><code>java -jar  target/myApp.jar --spring.profiles.active=nosecurity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10324607,"reputation":1937,"user_id":7616442,"accept_rate":75,"display_name":"Mehdi Bouzidi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542754877,"creation_date":1542754877,"answer_id":53402897,"question_id":36280181,"body_markdown":"You could just comment the maven dependency for a while:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;!--\t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIt worked fine for me\r\n\r\n&gt; Disabling it from `application.properties` is deprecated for Spring Boot\r\n&gt; 2.0","title":"disabling spring security in spring boot app","body":"<p>You could just comment the maven dependency for a while:</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>It worked fine for me</p>\n\n<blockquote>\n  <p>Disabling it from <code>application.properties</code> is deprecated for Spring Boot\n  2.0</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3556889,"reputation":2353,"user_id":2970422,"display_name":"Joker"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1544188575,"creation_date":1544188575,"answer_id":53670356,"question_id":36280181,"body_markdown":"security.ignored is [deprecated][1] since Spring Boot 2.\r\n\r\n\r\nFor me simply extend the Annotation of your Application class did the Trick:\r\n\r\n    @SpringBootApplication(exclude = SecurityAutoConfiguration.class)\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#security","title":"disabling spring security in spring boot app","body":"<p>security.ignored is <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#security\" rel=\"noreferrer\">deprecated</a> since Spring Boot 2.</p>\n\n<p>For me simply extend the Annotation of your Application class did the Trick:</p>\n\n<pre><code>@SpringBootApplication(exclude = SecurityAutoConfiguration.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296506,"reputation":2368,"user_id":1079659,"display_name":"Cmyker"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1544461303,"creation_date":1544461303,"answer_id":53710315,"question_id":36280181,"body_markdown":"Since security.disable option is banned from usage there is still a way to achieve it from pure config without touching any class flies (for me it creates convenience with environments manipulation and possibility to activate it with ENV variable) if you use Boot\r\n\r\n    spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration","title":"disabling spring security in spring boot app","body":"<p>Since security.disable option is banned from usage there is still a way to achieve it from pure config without touching any class flies (for me it creates convenience with environments manipulation and possibility to activate it with ENV variable) if you use Boot</p>\n\n<pre><code>spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3464,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550239707,"creation_date":1550239163,"answer_id":54710915,"question_id":36280181,"body_markdown":"The accepted answer didn&#39;t work for me.\r\n\r\nIf you have a multi configuration, adding the following to your WebSecurityConfig class worked for me (ensure that your Order(1) is lower than all of your other Order annotations in the class):\r\n\r\n    /* UNCOMMENT TO DISABLE SPRING SECURITY */\r\n    \t/*@Configuration\r\n    \t@Order(1)\r\n    \tpublic static class DisableSecurityConfigurationAdapater extends WebSecurityConfigurerAdapter {\r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().anyRequest().permitAll();\r\n    \t\t}\r\n    \t}*/","title":"disabling spring security in spring boot app","body":"<p>The accepted answer didn't work for me.</p>\n\n<p>If you have a multi configuration, adding the following to your WebSecurityConfig class worked for me (ensure that your Order(1) is lower than all of your other Order annotations in the class):</p>\n\n<pre><code>/* UNCOMMENT TO DISABLE SPRING SECURITY */\n    /*@Configuration\n    @Order(1)\n    public static class DisableSecurityConfigurationAdapater extends WebSecurityConfigurerAdapter {\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.antMatcher(\"/**\").authorizeRequests().anyRequest().permitAll();\n        }\n    }*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330754,"reputation":860,"user_id":12553922,"display_name":"Anis KCHAOU"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586105406,"creation_date":1586105406,"answer_id":61046071,"question_id":36280181,"body_markdown":"just add\r\n\r\n@SpringBootApplication(exclude = SecurityAutoConfiguration.class)","title":"disabling spring security in spring boot app","body":"<p>just add</p>\n\n<p>@SpringBootApplication(exclude = SecurityAutoConfiguration.class)</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598125163,"creation_date":1598125163,"answer_id":63540383,"question_id":36280181,"body_markdown":"For me only excluding the following classes worked:\r\n\r\n    import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class, ManagementWebSecurityAutoConfiguration.class}) {\r\n      // ... \r\n    }","title":"disabling spring security in spring boot app","body":"<p>For me only excluding the following classes worked:</p>\n<pre><code>import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class, ManagementWebSecurityAutoConfiguration.class}) {\n  // ... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19648020,"reputation":81,"user_id":14382554,"display_name":"Shubham Patel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646941630,"creation_date":1602686479,"answer_id":64355769,"question_id":36280181,"body_markdown":"Change `WebSecurityConfig.java`: comment out everything in the `configure` method and add\r\n````\r\nhttp.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();\r\n````\r\nThis will allow any request to hit every URL without any authentication.","title":"disabling spring security in spring boot app","body":"<p>Change <code>WebSecurityConfig.java</code>: comment out everything in the <code>configure</code> method and add</p>\n<pre><code>http.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();\n</code></pre>\n<p>This will allow any request to hit every URL without any authentication.</p>\n"}],"owner":{"account_id":104210,"reputation":1661,"user_id":278740,"accept_rate":61,"display_name":"jayjaypg22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262564,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"closed_date":1604500438,"accepted_answer_id":36280413,"answer_count":14,"score":86,"last_activity_date":1646941630,"creation_date":1459243232,"question_id":36280181,"body_markdown":"I have a spring boot web app with spring security configured. I want to disable authentication for a while (until needed).\r\n\r\nI add this to the `application.properties`: \r\n\r\n    security.basic.enable: false   \r\n    management.security.enabled: false  \r\n\r\nHere is some part of my \r\n\r\nBut I still have a basic security included : There is a default security password generated at startup and I am still getting HTTP Authentication prompt box. \r\n\r\nMy pom.xml :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;fr.test.sample&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;navigo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;!-- Inherit defaults from Spring Boot --&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n    \t\t&lt;jsoup.version&gt;1.8.3&lt;/jsoup.version&gt;\r\n    \t\t&lt;guava.version&gt;18.0&lt;/guava.version&gt;\r\n    \t\t&lt;postgresql.version&gt;9.3-1103-jdbc41&lt;/postgresql.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;!-- Add typical dependencies for a web application --&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jsoup.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${guava.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;!-- Package as an executable jar --&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;!-- Add Spring repositories --&gt;\r\n    \t&lt;!-- (you don&#39;t need this if you are using a .RELEASE version) --&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe security is configured in WebSecurityConfig.java (I have commented the annotation to disable it) :\r\n\r\n\r\n\r\n    //@Configuration\r\n    //@EnableWebSecurity\r\n    //@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    //@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Autowired\r\n    \tUserDetailsService userDetailsService;\r\n    \t\r\n    \t@Autowired\r\n        UserService userService;\r\n    \r\n    \t@Autowired\r\n    \tprivate DataSource datasource;\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t// http.authorizeRequests().antMatchers(&quot;/bus/topologie&quot;, &quot;/home&quot;)\r\n    \t\t// http.authorizeRequests().anyRequest().authenticated()\r\n    \t\t// .antMatchers(&quot;/admin/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;).and()\r\n    \t\t// .formLogin().failureUrl(&quot;/login?error&quot;)\r\n    \t\t// .defaultSuccessUrl(&quot;/bus/topologie&quot;).loginPage(&quot;/login&quot;)\r\n    \t\t// .permitAll().and().logout()\r\n    \t\t// .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n    \t\t// .logoutSuccessUrl(&quot;/login&quot;).permitAll().and().rememberMe()\r\n    \t\t// .rememberMeParameter(&quot;remember-me&quot;)\r\n    \t\t// .tokenRepository(persistentTokenRepository())\r\n    \t\t// .tokenValiditySeconds(86400).and().csrf();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PersistentTokenRepository persistentTokenRepository() {\r\n    \t\tJdbcTokenRepositoryImpl tokenRepositoryImpl = new JdbcTokenRepositoryImpl();\r\n    \t\ttokenRepositoryImpl.setDataSource(datasource);\r\n    \t\treturn tokenRepositoryImpl;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth)\r\n    \t\t\tthrows Exception {\r\n    \r\n    \t\tPasswordEncoder encoder = new BCryptPasswordEncoder();\r\n    \r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(encoder);\r\n    \t\tauth.jdbcAuthentication().dataSource(datasource);\r\n    \r\n    \t\tif (!userService.userExists(&quot;user&quot;)) {\r\n    \t\t\tUser userAdmin = new User(&quot;user&quot;, encoder.encode(&quot;password&quot;), true);\r\n    \t\t\tSet&lt;Authorities&gt; authorities = new HashSet&lt;Authorities&gt;();\r\n    \t\t\tauthorities.add(new Authorities(userAdmin,&quot;ADMIN&quot;));\r\n    \t\t\tauthorities.add(new Authorities(userAdmin,&quot;CRIP&quot;));\r\n    \t\t\tauthorities.add(new Authorities(userAdmin,&quot;USER&quot;));\r\n    \t\t\tuserAdmin.setAuthorities(authorities);\r\n    \t\t\t\r\n    \t\t\tuserService.createUser(userAdmin);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"disabling spring security in spring boot app","body":"<p>I have a spring boot web app with spring security configured. I want to disable authentication for a while (until needed).</p>\n\n<p>I add this to the <code>application.properties</code>: </p>\n\n<pre><code>security.basic.enable: false   \nmanagement.security.enabled: false  \n</code></pre>\n\n<p>Here is some part of my </p>\n\n<p>But I still have a basic security included : There is a default security password generated at startup and I am still getting HTTP Authentication prompt box. </p>\n\n<p>My pom.xml :</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;fr.test.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;navigo&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;!-- Inherit defaults from Spring Boot --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;jsoup.version&gt;1.8.3&lt;/jsoup.version&gt;\n        &lt;guava.version&gt;18.0&lt;/guava.version&gt;\n        &lt;postgresql.version&gt;9.3-1103-jdbc41&lt;/postgresql.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- Add typical dependencies for a web application --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;${jsoup.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;!-- Package as an executable jar --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;!-- Add Spring repositories --&gt;\n    &lt;!-- (you don't need this if you are using a .RELEASE version) --&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>The security is configured in WebSecurityConfig.java (I have commented the annotation to disable it) :</p>\n\n<pre><code>//@Configuration\n//@EnableWebSecurity\n//@EnableGlobalMethodSecurity(prePostEnabled = true)\n//@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Autowired\n    UserService userService;\n\n    @Autowired\n    private DataSource datasource;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // http.authorizeRequests().antMatchers(\"/bus/topologie\", \"/home\")\n        // http.authorizeRequests().anyRequest().authenticated()\n        // .antMatchers(\"/admin/**\").access(\"hasRole('ADMIN')\").and()\n        // .formLogin().failureUrl(\"/login?error\")\n        // .defaultSuccessUrl(\"/bus/topologie\").loginPage(\"/login\")\n        // .permitAll().and().logout()\n        // .logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\"))\n        // .logoutSuccessUrl(\"/login\").permitAll().and().rememberMe()\n        // .rememberMeParameter(\"remember-me\")\n        // .tokenRepository(persistentTokenRepository())\n        // .tokenValiditySeconds(86400).and().csrf();\n    }\n\n    @Bean\n    public PersistentTokenRepository persistentTokenRepository() {\n        JdbcTokenRepositoryImpl tokenRepositoryImpl = new JdbcTokenRepositoryImpl();\n        tokenRepositoryImpl.setDataSource(datasource);\n        return tokenRepositoryImpl;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth)\n            throws Exception {\n\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\n\n        auth.userDetailsService(userDetailsService).passwordEncoder(encoder);\n        auth.jdbcAuthentication().dataSource(datasource);\n\n        if (!userService.userExists(\"user\")) {\n            User userAdmin = new User(\"user\", encoder.encode(\"password\"), true);\n            Set&lt;Authorities&gt; authorities = new HashSet&lt;Authorities&gt;();\n            authorities.add(new Authorities(userAdmin,\"ADMIN\"));\n            authorities.add(new Authorities(userAdmin,\"CRIP\"));\n            authorities.add(new Authorities(userAdmin,\"USER\"));\n            userAdmin.setAuthorities(authorities);\n\n            userService.createUser(userAdmin);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","calllog"],"answers":[{"tags":[],"owner":{"account_id":953055,"reputation":59,"user_id":978839,"display_name":"inec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646940820,"creation_date":1646940820,"answer_id":71429801,"question_id":71427493,"body_markdown":"With this permissons with the method below Android read the Manifest and works from Android 6+\r\n\r\n    public static boolean comprobar_Permisos_CALL_LOG(Context myContext, Activity myActivity){\r\n\r\n        try {\r\n\r\n                // Check whether this app has the call log allowed\r\n                int writeExternalStoragePermission = ContextCompat.checkSelfPermission(myContext, Manifest.permission.READ_CALL_LOG);\r\n                if(writeExternalStoragePermission!= PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    // Request user to grant write external storage permission.\r\n                    ActivityCompat.requestPermissions(myActivity, new String[]{\r\n                            Manifest.permission.READ_CALL_LOG\r\n                    }, REQUEST_CODE_CALL_LOG_PERMISSION);\r\n\r\n\r\n                    if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R ) {\r\n                        try {\r\n                            Intent intent = new Intent();\r\n                            Uri uri = Uri.fromParts(&quot;package&quot;, myActivity.getPackageName(), null);\r\n                            intent.setData(uri);\r\n                            myActivity.startActivityForResult(intent,REQUEST_CODE_CALL_LOG_PERMISSION);\r\n                            return false;\r\n                        } catch (Exception e) {\r\n                            return false; //if anything needs adjusting it would be this\r\n                        }\r\n                    } else {\r\n                        return false;\r\n                    }\r\n\r\n\r\n                }else {\r\n\r\n                    return true;\r\n                }\r\n        }catch (Exception ex)\r\n        {\r\n            Log.e(LOG_TAG_EXTERNAL_STORAGE, ex.getMessage(), ex);\r\n        }\r\n\r\n        return false;\r\n    } ","title":"How to access CALL LOG Permission Android 11 (API 30)?","body":"<p>With this permissons with the method below Android read the Manifest and works from Android 6+</p>\n<pre><code>public static boolean comprobar_Permisos_CALL_LOG(Context myContext, Activity myActivity){\n\n    try {\n\n            // Check whether this app has the call log allowed\n            int writeExternalStoragePermission = ContextCompat.checkSelfPermission(myContext, Manifest.permission.READ_CALL_LOG);\n            if(writeExternalStoragePermission!= PackageManager.PERMISSION_GRANTED)\n            {\n                // Request user to grant write external storage permission.\n                ActivityCompat.requestPermissions(myActivity, new String[]{\n                        Manifest.permission.READ_CALL_LOG\n                }, REQUEST_CODE_CALL_LOG_PERMISSION);\n\n\n                if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R ) {\n                    try {\n                        Intent intent = new Intent();\n                        Uri uri = Uri.fromParts(&quot;package&quot;, myActivity.getPackageName(), null);\n                        intent.setData(uri);\n                        myActivity.startActivityForResult(intent,REQUEST_CODE_CALL_LOG_PERMISSION);\n                        return false;\n                    } catch (Exception e) {\n                        return false; //if anything needs adjusting it would be this\n                    }\n                } else {\n                    return false;\n                }\n\n\n            }else {\n\n                return true;\n            }\n    }catch (Exception ex)\n    {\n        Log.e(LOG_TAG_EXTERNAL_STORAGE, ex.getMessage(), ex);\n    }\n\n    return false;\n} \n</code></pre>\n"}],"owner":{"account_id":953055,"reputation":59,"user_id":978839,"display_name":"inec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646940820,"creation_date":1646929386,"question_id":71427493,"body_markdown":"I need to acces Android (API 30) CALL LOG, from my app, I have this method below, but throws the exception, requires the permisson : **android.permission.READ_CALL_LOG** or **android.permission.WRITE_CALL_LOG**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the Manifest \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PROFILE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;    \r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\n\r\nThis us the function Java:\r\n\r\n    public static String obtenerDetallesLlamadas(Context context) {\r\n\r\n        StringBuffer stringBuffer = new StringBuffer();\r\n        Cursor cursor = context.getContentResolver().query(CallLog.Calls.CONTENT_URI,\r\n                null, null, null, CallLog.Calls.DATE + &quot; DESC&quot;);\r\n        int number = cursor.getColumnIndex(CallLog.Calls.NUMBER);\r\n        int type = cursor.getColumnIndex(CallLog.Calls.TYPE);\r\n        int date = cursor.getColumnIndex(CallLog.Calls.DATE);\r\n        int duration = cursor.getColumnIndex(CallLog.Calls.DURATION);\r\n        while (cursor.moveToNext()) {\r\n            String phNumber = cursor.getString(number);\r\n            String callType = cursor.getString(type);\r\n            String callDate = cursor.getString(date);\r\n            Date callDayTime = new Date(Long.valueOf(callDate));\r\n            String callDuration = cursor.getString(duration);\r\n            String dir = null;\r\n            int dircode = Integer.parseInt(callType);\r\n            switch (dircode) {\r\n                case CallLog.Calls.OUTGOING_TYPE:\r\n                    dir = &quot;OUTGOING&quot;;\r\n                    break;\r\n                case CallLog.Calls.INCOMING_TYPE:\r\n                    dir = &quot;INCOMING&quot;;\r\n                    break;\r\n\r\n                case CallLog.Calls.MISSED_TYPE:\r\n                    dir = &quot;MISSED&quot;;\r\n                    break;\r\n            }\r\n            stringBuffer.append(&quot;\\nPhone Number:--- &quot; + phNumber + &quot; \\nCall Type:--- &quot;\r\n                    + dir + &quot; \\nCall Date:--- &quot; + callDayTime\r\n                    + &quot; \\nCall duration in sec :--- &quot; + callDuration);\r\n            stringBuffer.append(&quot;\\n----------------------------------&quot;);\r\n        }\r\n        cursor.close();\r\n        return stringBuffer.toString();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wbId5.jpg","title":"How to access CALL LOG Permission Android 11 (API 30)?","body":"<p>I need to acces Android (API 30) CALL LOG, from my app, I have this method below, but throws the exception, requires the permisson : <strong>android.permission.READ_CALL_LOG</strong> or <strong>android.permission.WRITE_CALL_LOG</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wbId5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbId5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the Manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PROFILE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;    \n&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n</code></pre>\n<p>This us the function Java:</p>\n<pre><code>public static String obtenerDetallesLlamadas(Context context) {\n\n    StringBuffer stringBuffer = new StringBuffer();\n    Cursor cursor = context.getContentResolver().query(CallLog.Calls.CONTENT_URI,\n            null, null, null, CallLog.Calls.DATE + &quot; DESC&quot;);\n    int number = cursor.getColumnIndex(CallLog.Calls.NUMBER);\n    int type = cursor.getColumnIndex(CallLog.Calls.TYPE);\n    int date = cursor.getColumnIndex(CallLog.Calls.DATE);\n    int duration = cursor.getColumnIndex(CallLog.Calls.DURATION);\n    while (cursor.moveToNext()) {\n        String phNumber = cursor.getString(number);\n        String callType = cursor.getString(type);\n        String callDate = cursor.getString(date);\n        Date callDayTime = new Date(Long.valueOf(callDate));\n        String callDuration = cursor.getString(duration);\n        String dir = null;\n        int dircode = Integer.parseInt(callType);\n        switch (dircode) {\n            case CallLog.Calls.OUTGOING_TYPE:\n                dir = &quot;OUTGOING&quot;;\n                break;\n            case CallLog.Calls.INCOMING_TYPE:\n                dir = &quot;INCOMING&quot;;\n                break;\n\n            case CallLog.Calls.MISSED_TYPE:\n                dir = &quot;MISSED&quot;;\n                break;\n        }\n        stringBuffer.append(&quot;\\nPhone Number:--- &quot; + phNumber + &quot; \\nCall Type:--- &quot;\n                + dir + &quot; \\nCall Date:--- &quot; + callDayTime\n                + &quot; \\nCall duration in sec :--- &quot; + callDuration);\n        stringBuffer.append(&quot;\\n----------------------------------&quot;);\n    }\n    cursor.close();\n    return stringBuffer.toString();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646940563,"creation_date":1646940563,"answer_id":71429740,"question_id":71428067,"body_markdown":"You would need to deserialize the error response first and then include required details into the result exception\r\n\r\n```\r\nwebClient.get().uri(&quot;external/api&quot;)\r\n\t\t.retrieve()\r\n\t\t.onStatus(HttpStatus::isError, response -&gt;\r\n\t\t\t\tresponse.bodyToMono(ErrorResponse.class)\r\n\t\t\t\t\t\t.flatMap(errorResponse -&gt;\r\n\t\t\t\t\t\t\t\tresponse.createException()\r\n\t\t\t\t\t\t\t\t\t\t.flatMap(ex -&gt; Mono.error(new RuntimeException(errorResponse.getDetails(), ex)))\r\n\t\t\t\t\t\t)\r\n\t\t)\r\n\t\t.bodyToMono(Object.class);\r\n```\r\n\r\nYou could also use custom expection instead of `RuntimeException` to include more details and handle it doownstream.","title":"How to forward external api errors through WebClient in Spring WebFlux?","body":"<p>You would need to deserialize the error response first and then include required details into the result exception</p>\n<pre><code>webClient.get().uri(&quot;external/api&quot;)\n        .retrieve()\n        .onStatus(HttpStatus::isError, response -&gt;\n                response.bodyToMono(ErrorResponse.class)\n                        .flatMap(errorResponse -&gt;\n                                response.createException()\n                                        .flatMap(ex -&gt; Mono.error(new RuntimeException(errorResponse.getDetails(), ex)))\n                        )\n        )\n        .bodyToMono(Object.class);\n</code></pre>\n<p>You could also use custom expection instead of <code>RuntimeException</code> to include more details and handle it doownstream.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646940563,"creation_date":1646931908,"question_id":71428067,"body_markdown":"I have a controller that forwards content from an external api through a GET request.\r\n\r\nQuestion: how can I also expose the original external response in case of exceptions (means: forward the statuscode, response body, and also content type).\r\n\r\n\t@RestController\r\n\tpublic class ProxyController {\r\n\t\t@Autowired\r\n\t\tprivate WebClient client;\r\n\r\n\t\t@GetMapping(value = &quot;/proxy&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t\tpublic Mono&lt;Object&gt; proxy() {\r\n\t\t\treturn client.get().uri(&quot;external/api&quot;)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(Object.class);\r\n\t\t}\r\n\t}","title":"How to forward external api errors through WebClient in Spring WebFlux?","body":"<p>I have a controller that forwards content from an external api through a GET request.</p>\n<p>Question: how can I also expose the original external response in case of exceptions (means: forward the statuscode, response body, and also content type).</p>\n<pre><code>@RestController\npublic class ProxyController {\n    @Autowired\n    private WebClient client;\n\n    @GetMapping(value = &quot;/proxy&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;Object&gt; proxy() {\n        return client.get().uri(&quot;external/api&quot;)\n            .retrieve()\n            .bodyToMono(Object.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","webdriverwait","gettext"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1646844821,"post_id":71412919,"comment_id":126226139,"body_markdown":"Can you crosscheck the HTML if that is the exact one?","body":"Can you crosscheck the HTML if that is the exact one?"},{"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"score":0,"creation_date":1646925372,"post_id":71412919,"comment_id":126248796,"body_markdown":"Thats the exact HTML part. Nothing is missing.","body":"Thats the exact HTML part. Nothing is missing."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646845061,"creation_date":1646845061,"answer_id":71413154,"question_id":71412919,"body_markdown":"To extract the text **username1** you have to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n           \t\r\n- Using _xpath_ and `split()`:\r\n\r\n\t  String[] xpathParts = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(., &#39;Your user name is&#39;)]&quot;))).getText().split(&quot; &quot;);\r\n\t  System.out.println(xpathParts[4]);","title":"How to extract text using Selenium getText() method and Java","body":"<p>To extract the text <strong>username1</strong> you have to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>split()</code>:</p>\n<pre><code>String[] xpathParts = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(., 'Your user name is')]&quot;))).getText().split(&quot; &quot;);\nSystem.out.println(xpathParts[4]);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71413154,"answer_count":1,"score":1,"last_activity_date":1646940501,"creation_date":1646844106,"question_id":71412919,"body_markdown":"My problem is to exactly identify a specific text on a website.\r\n\r\nMy actual solution is with Xpath and it works but I do not want to use Xpath and I only get the whole string and not just the specific pattern.\r\n\r\nI tried with cssSelector and I did not figure it out. Same for `id=&quot;top&quot;`.\r\n\r\nI want from this pattern:\r\n```\r\nYour user name is: username1 ... \r\nJust this part: username1\r\n```\r\nEnvironment:\r\n\r\n    openjdk 11 2018-09-25\r\n    OpenJDK Runtime Environment 18.9 (build 11+28)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n    \r\n    JUnit5\r\n    selenium-java-4.0.0-alpha-1\r\n    Eclipse Version: 2021-03 (4.19.0)\r\n\r\nHTML: \r\n\r\n    &lt;vaadin-horizontal-layout style=&quot;width: 100%; align-items: center;&quot; id=&quot;top&quot; slot=&quot;navi&quot;&gt;\r\n\t&lt;/iron-icon&gt;\r\n\t&lt;iron-icon style=&quot;cursor: pointer; color: var(--lumo-primary-color); margin-right: 20px;&quot; icon=&quot;vaadin:top-o&quot; title=&quot;Sitename&quot;&gt;\r\n\t&lt;/iron-icon&gt;&lt;iron-icon style=&quot;cursor: pointer; color: var(--lumo-primary-color); margin-right: 20px;&quot; icon=&quot;vaadin:tabs&quot; title=&quot;new window&quot;&gt;\r\n\t&lt;/iron-icon&gt;\r\n\t&lt;span style=&quot;margin-left: auto; color: var(--lumo-primary-color); margin-right: 20px;&quot;&gt;Your user name is: username1&lt;/span&gt;\r\n&lt;/vaadin-horizontal-layout&gt;\r\n\r\nAs I read it it is not an iron-icon.\r\n\r\nThis is what I have but it is not what I want:\r\n\r\nJava Selenium Xpath:\r\n\r\n    System.out.println(&quot;text username&quot;);\r\n    Assert.assertEquals(&quot;Your user name is: username1&quot;, driver.findElement(By.xpath(&quot;/html/body/vaadin-app-layout/vaadin-horizontal-layout/span&quot;)).getText());\r\n    System.out.println(&quot;Get Text: &quot;);\r\n    System.out.println(driver.findElement(By.xpath(&quot;/html/body/vaadin-app-layout/vaadin-horizontal-layout/span&quot;)).getText());\r\n\r\nDoes anyone has an idea how to address that specific username1 pattern in this vaadin environment?","title":"How to extract text using Selenium getText() method and Java","body":"<p>My problem is to exactly identify a specific text on a website.</p>\n<p>My actual solution is with Xpath and it works but I do not want to use Xpath and I only get the whole string and not just the specific pattern.</p>\n<p>I tried with cssSelector and I did not figure it out. Same for <code>id=&quot;top&quot;</code>.</p>\n<p>I want from this pattern:</p>\n<pre><code>Your user name is: username1 ... \nJust this part: username1\n</code></pre>\n<p>Environment:</p>\n<pre><code>openjdk 11 2018-09-25\nOpenJDK Runtime Environment 18.9 (build 11+28)\nOpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n\nJUnit5\nselenium-java-4.0.0-alpha-1\nEclipse Version: 2021-03 (4.19.0)\n</code></pre>\n<p>HTML:</p>\n<pre><code>&lt;vaadin-horizontal-layout style=&quot;width: 100%; align-items: center;&quot; id=&quot;top&quot; slot=&quot;navi&quot;&gt;\n&lt;/iron-icon&gt;\n&lt;iron-icon style=&quot;cursor: pointer; color: var(--lumo-primary-color); margin-right: 20px;&quot; icon=&quot;vaadin:top-o&quot; title=&quot;Sitename&quot;&gt;\n&lt;/iron-icon&gt;&lt;iron-icon style=&quot;cursor: pointer; color: var(--lumo-primary-color); margin-right: 20px;&quot; icon=&quot;vaadin:tabs&quot; title=&quot;new window&quot;&gt;\n&lt;/iron-icon&gt;\n&lt;span style=&quot;margin-left: auto; color: var(--lumo-primary-color); margin-right: 20px;&quot;&gt;Your user name is: username1&lt;/span&gt;\n</code></pre>\n\n<p>As I read it it is not an iron-icon.</p>\n<p>This is what I have but it is not what I want:</p>\n<p>Java Selenium Xpath:</p>\n<pre><code>System.out.println(&quot;text username&quot;);\nAssert.assertEquals(&quot;Your user name is: username1&quot;, driver.findElement(By.xpath(&quot;/html/body/vaadin-app-layout/vaadin-horizontal-layout/span&quot;)).getText());\nSystem.out.println(&quot;Get Text: &quot;);\nSystem.out.println(driver.findElement(By.xpath(&quot;/html/body/vaadin-app-layout/vaadin-horizontal-layout/span&quot;)).getText());\n</code></pre>\n<p>Does anyone has an idea how to address that specific username1 pattern in this vaadin environment?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1646936890,"post_id":71425550,"comment_id":126253246,"body_markdown":"And what have you tried?","body":"And what have you tried?"},{"owner":{"account_id":15595086,"reputation":149,"user_id":11250879,"display_name":"Vikas Adyar"},"score":0,"creation_date":1646982001,"post_id":71425550,"comment_id":126262490,"body_markdown":"I was using flatMapIterable to retrieve the values but was running into class cast excdption. The answer from @lkatiforis works.","body":"I was using flatMapIterable to retrieve the values but was running into class cast excdption. The answer from @lkatiforis works."}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646940493,"creation_date":1646937467,"answer_id":71429172,"question_id":71425550,"body_markdown":"You can  simply use a `flatMapMany` to achieve this:\r\n```java\r\n  return findCouponById(id) \r\n      .flatMapMany(coupon -&gt; {\r\n        if(...) {\r\n          return Flux.empty();\r\n        } else if(...) {\r\n          return Flux.fromIterable(List.of(...));\r\n        } else {\r\n          return externalCall();\r\n        }\r\n      });\r\n```","title":"Retrieve Flux of iterable from an object","body":"<p>You can  simply use a <code>flatMapMany</code> to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  return findCouponById(id) \n      .flatMapMany(coupon -&gt; {\n        if(...) {\n          return Flux.empty();\n        } else if(...) {\n          return Flux.fromIterable(List.of(...));\n        } else {\n          return externalCall();\n        }\n      });\n</code></pre>\n"}],"owner":{"account_id":15595086,"reputation":149,"user_id":11250879,"display_name":"Vikas Adyar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71429172,"answer_count":1,"score":0,"last_activity_date":1646940493,"creation_date":1646921517,"question_id":71425550,"body_markdown":"I have a Coupon service which gives me the coupon based on id and the return type is Mono&lt;Coupon&gt;. Also I have another service to list down all the employees for an organisation with return type Flux&lt;Employee&gt;.\r\n\r\nI want to create a reactive function to return Flux&lt;Employees&gt; for a given coupon-id. If the ```employeeDestinationType``` is ```&#39;NONE&#39;``` then return empty flux, if it is ```&#39;SPECIFIED&#39;``` then return the set of employee-ids from Coupon object, else if it is ```&#39;ALL&#39;``` make a call to the external service and return the &#39;ids&#39; from the Flux&lt;Employee&gt;.\r\n\r\nHere is a reference object.\r\n```\r\nCoupon {\r\nid,                        //Long\r\nemployeeDestinationType,   //NONE, SPECIFIED, ALL\r\nemployeeList               //Set&lt;Long&gt;\r\n} \r\n```\r\n\r\nBelow are the method signatures.\r\n```\r\npublic Mono&lt;Coupon&gt; findCouponById(long id) {}\r\n\r\npublic Flux&lt;Employee&gt; listAllEmployees() {}\r\n```\r\n","title":"Retrieve Flux of iterable from an object","body":"<p>I have a Coupon service which gives me the coupon based on id and the return type is Mono. Also I have another service to list down all the employees for an organisation with return type Flux.</p>\n<p>I want to create a reactive function to return Flux for a given coupon-id. If the <code>employeeDestinationType</code> is <code>'NONE'</code> then return empty flux, if it is <code>'SPECIFIED'</code> then return the set of employee-ids from Coupon object, else if it is <code>'ALL'</code> make a call to the external service and return the 'ids' from the Flux.</p>\n<p>Here is a reference object.</p>\n<pre><code>Coupon {\nid,                        //Long\nemployeeDestinationType,   //NONE, SPECIFIED, ALL\nemployeeList               //Set&lt;Long&gt;\n} \n</code></pre>\n<p>Below are the method signatures.</p>\n<pre><code>public Mono&lt;Coupon&gt; findCouponById(long id) {}\n\npublic Flux&lt;Employee&gt; listAllEmployees() {}\n</code></pre>\n"},{"tags":["java","decimalformat"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646841875,"post_id":71412310,"comment_id":126224891,"body_markdown":"Please don&#39;t **explain** what parts of your code is doing. Give us a [mcve] that contains all relevant pieces of code, and that we ideally can easily compile and run ourselves. And especially in this case, a mcve should be really easy: you only need some variables, and then apply the formatter.","body":"Please don&#39;t <b>explain</b> what parts of your code is doing. Give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that contains all relevant pieces of code, and that we ideally can easily compile and run ourselves. And especially in this case, a mcve should be really easy: you only need some variables, and then apply the formatter."},{"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"score":0,"creation_date":1646842332,"post_id":71412310,"comment_id":126225057,"body_markdown":"Okay, noted. Thx","body":"Okay, noted. Thx"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1646843036,"post_id":71412310,"comment_id":126225374,"body_markdown":"`.` and `,` in `DecimalFormat` strings **always** denote decimal separator and grouping separator respectively, irrespective of the output language. If you want &quot;12,34&quot; as an output in a locale where , is used as a decimal separator, your format string needs to be `##.##`.","body":"<code>.</code> and <code>,</code> in <code>DecimalFormat</code> strings <b>always</b> denote decimal separator and grouping separator respectively, irrespective of the output language. If you want &quot;12,34&quot; as an output in a locale where , is used as a decimal separator, your format string needs to be <code>##.##</code>."},{"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"score":0,"creation_date":1646844322,"post_id":71412310,"comment_id":126225928,"body_markdown":"My Statistics class is made of 3 `doubles`. Which are `firstTeamWinPercent` etc. and these are calculated with their counters. (i.e. `firstTeamWinCounter`) I have to convert back to `doubles` because my `Statistics` class requires a `double` in its constructor.","body":"My Statistics class is made of 3 <code>doubles</code>. Which are <code>firstTeamWinPercent</code> etc. and these are calculated with their counters. (i.e. <code>firstTeamWinCounter</code>) I have to convert back to <code>doubles</code> because my <code>Statistics</code> class requires a <code>double</code> in its constructor."}],"answers":[{"tags":[],"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853330,"creation_date":1646853330,"answer_id":71414878,"question_id":71412310,"body_markdown":"I failed to make use of the `DecimalFormat` in order to parse my variables to two digit decimals. However The following sollution works fine aswell: \r\n\r\n     BigDecimal twoDecimalFirstTeamWinPercentageBigDecimal = new BigDecimal(twoDecimalFirstTeamWinPercentage).setScale(2, RoundingMode.HALF_UP);\r\n\r\nwhere\r\n\r\n    twoDecimalFirstTeamWinPercentage\r\n    \r\nis a `double`","title":"Decimal formatter fails to parse to the right form?","body":"<p>I failed to make use of the <code>DecimalFormat</code> in order to parse my variables to two digit decimals. However The following sollution works fine aswell:</p>\n<pre><code> BigDecimal twoDecimalFirstTeamWinPercentageBigDecimal = new BigDecimal(twoDecimalFirstTeamWinPercentage).setScale(2, RoundingMode.HALF_UP);\n</code></pre>\n<p>where</p>\n<pre><code>twoDecimalFirstTeamWinPercentage\n</code></pre>\n<p>is a <code>double</code></p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646940102,"creation_date":1646940102,"answer_id":71429676,"question_id":71412310,"body_markdown":"There&#39;s no point in formatting your double to a string, then parsing it to a double again. Depending on how you generate your string, trailing zeroes will be stripped.\r\n\r\nIf you require two decimal places, you could use [`String#format`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)):\r\n\r\n```\r\ndouble d = 1.2;\r\nString s = String.format(&quot;Your value = %.2f&quot;, d);\r\nSystem.out.println(s); // Your value = 1.20\r\n```\r\n\r\nThe crucial part is missing from your question: how is `Statistics#toString` implemented? (Or whichever method generates the string output for your statistics class.","title":"Decimal formatter fails to parse to the right form?","body":"<p>There's no point in formatting your double to a string, then parsing it to a double again. Depending on how you generate your string, trailing zeroes will be stripped.</p>\n<p>If you require two decimal places, you could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String#format</code></a>:</p>\n<pre><code>double d = 1.2;\nString s = String.format(&quot;Your value = %.2f&quot;, d);\nSystem.out.println(s); // Your value = 1.20\n</code></pre>\n<p>The crucial part is missing from your question: how is <code>Statistics#toString</code> implemented? (Or whichever method generates the string output for your statistics class.</p>\n"}],"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646940102,"creation_date":1646841670,"question_id":71412310,"body_markdown":"Im making a toto app, which should return the Statistics of all games. It should return the win percentage of `team#1, team#2` and `draws` with 2 friction digits. \r\nI tried to do it with the following:\r\n \r\n\r\n    DecimalFormat dec = new DecimalFormat(&quot;##,##&quot;);\r\n    double firstTeamWinPercentage = firstTeamWinCounter/totalMatches*100;\r\n        double secondTeamWinPercentage = secondTeamWinCounter/totalMatches*100;\r\n        double drawPercentage = drawPercentageCounter/totalMatches*100;\r\n\r\n        statistics.setFirstTeamWinPercentage(Double.parseDouble(dec.format(firstTeamWinPercentage)));\r\n        statistics.setSecondTeamWinPrecentage(Double.parseDouble(dec.format(secondTeamWinPercentage)));\r\n        statistics.setDrawPercentage(Double.parseDouble(dec.format(drawPercentage)));\r\n\r\nHowever somehow it doesn&#39;t parse like it should do. With this method, the Statistics looks like this: \r\n`Statistics:  Team #1 won: 45.0 %, Team #2 won: 29.0 %, draw: 26.0 %`\r\n\r\nIf I add ` dec.setMinimumFractionDigits(2);`, then the following exception is thrown:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;45,09&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n\r\nIm using jdk-17. Any ideas why it is thrown like this?\r\nI already tried using `DecimalFormat dec = new DecimalFormat(&quot;00,00&quot;);`\r\nand `DecimalFormat dec = new DecimalFormat(&quot;##,00&quot;);`\r\nThey also throw exceptions.","title":"Decimal formatter fails to parse to the right form?","body":"<p>Im making a toto app, which should return the Statistics of all games. It should return the win percentage of <code>team#1, team#2</code> and <code>draws</code> with 2 friction digits.\nI tried to do it with the following:</p>\n<pre><code>DecimalFormat dec = new DecimalFormat(&quot;##,##&quot;);\ndouble firstTeamWinPercentage = firstTeamWinCounter/totalMatches*100;\n    double secondTeamWinPercentage = secondTeamWinCounter/totalMatches*100;\n    double drawPercentage = drawPercentageCounter/totalMatches*100;\n\n    statistics.setFirstTeamWinPercentage(Double.parseDouble(dec.format(firstTeamWinPercentage)));\n    statistics.setSecondTeamWinPrecentage(Double.parseDouble(dec.format(secondTeamWinPercentage)));\n    statistics.setDrawPercentage(Double.parseDouble(dec.format(drawPercentage)));\n</code></pre>\n<p>However somehow it doesn't parse like it should do. With this method, the Statistics looks like this:\n<code>Statistics:  Team #1 won: 45.0 %, Team #2 won: 29.0 %, draw: 26.0 %</code></p>\n<p>If I add <code> dec.setMinimumFractionDigits(2);</code>, then the following exception is thrown:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;45,09&quot;\nat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\nat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n</code></pre>\n<p>Im using jdk-17. Any ideas why it is thrown like this?\nI already tried using <code>DecimalFormat dec = new DecimalFormat(&quot;00,00&quot;);</code>\nand <code>DecimalFormat dec = new DecimalFormat(&quot;##,00&quot;);</code>\nThey also throw exceptions.</p>\n"},{"tags":["java","eclipse","lombok"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646940601,"post_id":71429639,"comment_id":126254442,"body_markdown":"Why is your Eclipse out of date? Why is your Lombok out of date? Did you installed Lombok into your Eclipse or do you use it only as dependency?","body":"Why is your Eclipse out of date? Why is your Lombok out of date? Did you installed Lombok into your Eclipse or do you use it only as dependency?"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1646940728,"post_id":71429639,"comment_id":126254478,"body_markdown":"You have to install lombok in eclipse https://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna","body":"You have to install lombok in eclipse <a href=\"https://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna\" title=\"how to configure lombok in eclipse luna\">stackoverflow.com/questions/22310414/&hellip;</a>"},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1646940779,"post_id":71429639,"comment_id":126254498,"body_markdown":"Does this answer your question? [how to configure lombok in eclipse luna](https://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna\">how to configure lombok in eclipse luna</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1646941229,"post_id":71429639,"comment_id":126254649,"body_markdown":"@howlger There are all sorts of reasons not to compulsively update the IDE, and I only updated to 4.22 when new updates were made by GRECLIPSE. Last fall is not terribly out of date.","body":"@howlger There are all sorts of reasons not to compulsively update the IDE, and I only updated to 4.22 when new updates were made by GRECLIPSE. Last fall is not terribly out of date."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646947562,"post_id":71429639,"comment_id":126256513,"body_markdown":"@chrylis-cautiouslyoptimistic- It&#39;s up to you not to care about security and waste your time by not keeping your software up to date. But before you ask or report a bug, you should check if your issue is reproducible with the current versions to avoid wasting other people&#39;s time. If here Lombok was not missed being installed in Eclipse, the problem is most likely that Lombok 1.18.12 being even older than Eclipse 2021-09 will not work with Eclipse 2021-09 or/and with the Java version used to run Eclipse.","body":"@chrylis-cautiouslyoptimistic- It&#39;s up to you not to care about security and waste your time by not keeping your software up to date. But before you ask or report a bug, you should check if your issue is reproducible with the current versions to avoid wasting other people&#39;s time. If here Lombok was not missed being installed in Eclipse, the problem is most likely that Lombok 1.18.12 being even older than Eclipse 2021-09 will not work with Eclipse 2021-09 or/and with the Java version used to run Eclipse."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1646965059,"post_id":71429639,"comment_id":126259654,"body_markdown":"@Deadpool Yes, I did. I executed the jar provided by lombok and specified the Eclipse installation directory. Further, I also tried adding the jar explicitly, but it didn&#39;t care. It&#39;s not working.","body":"@Deadpool Yes, I did. I executed the jar provided by lombok and specified the Eclipse installation directory. Further, I also tried adding the jar explicitly, but it didn&#39;t care. It&#39;s not working."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1646973572,"post_id":71429639,"comment_id":126260837,"body_markdown":"Lombok version 1.18.12 is from early 2020. It doesn&#39;t recognize and support an Eclipse release from late 2021. Try a newer one as @ chrylis-cautiouslyoptimistic mentioned.","body":"Lombok version 1.18.12 is from early 2020. It doesn&#39;t recognize and support an Eclipse release from late 2021. Try a newer one as @ chrylis-cautiouslyoptimistic mentioned."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646983606,"post_id":71429639,"comment_id":126262836,"body_markdown":"@nitind Exactly. Except that @ chrylis-cautiouslyoptimistic- is the guy telling the opposite here.","body":"@nitind Exactly. Except that @ chrylis-cautiouslyoptimistic- is the guy telling the opposite here."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1647021798,"post_id":71429639,"comment_id":126276737,"body_markdown":"@howlger I tend to agree with @ chrylis-cautionslyoptimistic. It&#39;s generally not reasonable to upgrade Eclipse everyday, and this plugin had worked with Eclipse in the past. It&#39;s not like I was using Eclipse Luna. Nonetheless, I downloaded the 2021-12 version.  But it could not open insisted I install webtools then wouldn&#39;t go any further.","body":"@howlger I tend to agree with @ chrylis-cautionslyoptimistic. It&#39;s generally not reasonable to upgrade Eclipse everyday, and this plugin had worked with Eclipse in the past. It&#39;s not like I was using Eclipse Luna. Nonetheless, I downloaded the 2021-12 version.  But it could not open insisted I install webtools then wouldn&#39;t go any further."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1647036902,"post_id":71429639,"comment_id":126280610,"body_markdown":"Lombok uses internals from Eclipse (it shouldn&#39;t, but that&#39;s how it is). It is known that [Lombok 1.18.12, which was released on February 1, 2020](https://projectlombok.org/changelog), does not work properly in Eclipse 2021-09, which was released on September 15, 2021. In contrast, the current version of Lombok works in the current version of Eclipse running with the current version of Java (which could be part of your Eclipse and which is a different thing than the Java version you use in your project).  _&quot;compulsively update&quot;_, _&quot;upgrade everyday&quot;_ - really guys?!","body":"Lombok uses internals from Eclipse (it shouldn&#39;t, but that&#39;s how it is). It is known that <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">Lombok 1.18.12, which was released on February 1, 2020</a>, does not work properly in Eclipse 2021-09, which was released on September 15, 2021. In contrast, the current version of Lombok works in the current version of Eclipse running with the current version of Java (which could be part of your Eclipse and which is a different thing than the Java version you use in your project).  <i>&quot;compulsively update&quot;</i>, <i>&quot;upgrade everyday&quot;</i> - really guys?!"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646939867,"creation_date":1646939867,"question_id":71429639,"body_markdown":"I&#39;m using \r\nEclipse Version: 2021-09 (4.21.0) Build id: 20210910-1417\r\nLombok: 1.18.12\r\n\r\nBut Eclipse complains in the &quot;Problems&quot; tab:\r\n&quot;The method getTest() is undefined for the type RootResponse&quot;\r\n\r\nThe problem class is:\r\n```\r\n@Getter\r\n@Builder\r\n@ToString\r\npublic class RootResponse extends Serializer {\r\n\tprivate String test;\r\n\r\n\t// for use in the cleanup routine\r\n\t@Override\r\n\tpublic String[] getDeletionIdentifiers() {\r\n\t\tthrow new UnsupportedOperationException(&quot;Deletion not supported: &quot;+ this.getClass().getName());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI&#39;m using Gradle, but am far from an expert at it. Nonetheless, I think this is relevant from the build.gradle file:\r\n```\r\next {\r\n    groupId = project.property(&#39;groupId&#39;)\r\n    version = project.property(&#39;version&#39;)\r\n\r\n    lombok_version=&#39;1.18.12&#39;\r\n    functional_api_test_version=&#39;1.0-SNAPSHOT&#39;\r\n    redwoodCommonVersion=&#39;3.5-SNAPSHOT&#39;\r\n}\r\n\r\ndependencies {\r\n    compile group: &#39;com.tii&#39;, name: &#39;redwood-common&#39;, version: &quot;${redwoodCommonVersion}&quot;\r\n\r\n    implementation &quot;org.projectlombok:lombok:${lombok_version}&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\r\n    testAnnotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\r\n\r\n    implementation &#39;com.tii:java-functional-testlib:0.5-SNAPSHOT&#39;\r\n    implementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.4.0-b180830.0359&#39;\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n}\r\n\r\n```\r\n\r\nI also tried adding an external library to Eclipse:\r\n[![enter image description here][1]][1]\r\n\r\nIf I click on the @Getter annotation in Eclipse, it finds and opens the lombok.Getter annotation.\r\n\r\nI&#39;d like to fix this in Eclipse in a way that I don&#39;t need to check in and modify the source. How can I force Eclipse to do this?\r\n\r\nThx, Woodsman\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kZAGJ.png","title":"Eclipse refuses to support lombok annotation","body":"<p>I'm using\nEclipse Version: 2021-09 (4.21.0) Build id: 20210910-1417\nLombok: 1.18.12</p>\n<p>But Eclipse complains in the &quot;Problems&quot; tab:\n&quot;The method getTest() is undefined for the type RootResponse&quot;</p>\n<p>The problem class is:</p>\n<pre><code>@Getter\n@Builder\n@ToString\npublic class RootResponse extends Serializer {\n    private String test;\n\n    // for use in the cleanup routine\n    @Override\n    public String[] getDeletionIdentifiers() {\n        throw new UnsupportedOperationException(&quot;Deletion not supported: &quot;+ this.getClass().getName());\n    }\n\n}\n</code></pre>\n<p>I'm using Gradle, but am far from an expert at it. Nonetheless, I think this is relevant from the build.gradle file:</p>\n<pre><code>ext {\n    groupId = project.property('groupId')\n    version = project.property('version')\n\n    lombok_version='1.18.12'\n    functional_api_test_version='1.0-SNAPSHOT'\n    redwoodCommonVersion='3.5-SNAPSHOT'\n}\n\ndependencies {\n    compile group: 'com.tii', name: 'redwood-common', version: &quot;${redwoodCommonVersion}&quot;\n\n    implementation &quot;org.projectlombok:lombok:${lombok_version}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\n    testAnnotationProcessor &quot;org.projectlombok:lombok:${lombok_version}&quot;\n\n    implementation 'com.tii:java-functional-testlib:0.5-SNAPSHOT'\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.4.0-b180830.0359'\n    testCompile 'junit:junit:4.12'\n}\n\n</code></pre>\n<p>I also tried adding an external library to Eclipse:\n<a href=\"https://i.stack.imgur.com/kZAGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kZAGJ.png\" alt=\"enter image description here\" /></a></p>\n<p>If I click on the @Getter annotation in Eclipse, it finds and opens the lombok.Getter annotation.</p>\n<p>I'd like to fix this in Eclipse in a way that I don't need to check in and modify the source. How can I force Eclipse to do this?</p>\n<p>Thx, Woodsman</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2492359,"reputation":1290,"user_id":2169571,"accept_rate":64,"display_name":"Keval Trivedi"},"score":1,"creation_date":1403677451,"post_id":24401467,"comment_id":37745377,"body_markdown":"http://docs.oracle.com/javase/tutorial/essential/io/buffers.html you can visit this link","body":"<a href=\"http://docs.oracle.com/javase/tutorial/essential/io/buffers.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/buffers.html</a> you can visit this link"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1403677216,"creation_date":1403677216,"answer_id":24401538,"question_id":24401467,"body_markdown":"[`System.out`](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out) is the &quot;standard&quot; output. On most [operating systems](http://en.wikipedia.org/wiki/Standard_streams) that terminal io is buffered, and paging is supported.\r\n\r\nFrom the Javadoc,\r\n&gt; The &quot;standard&quot; output stream. This stream is already open and ready to accept output data. Typically this stream corresponds to display output or another output destination specified by the host environment or user. \r\n\r\n","title":"Is System.out buffered or unbuffered?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\" rel=\"nofollow\"><code>System.out</code></a> is the \"standard\" output. On most <a href=\"http://en.wikipedia.org/wiki/Standard_streams\" rel=\"nofollow\">operating systems</a> that terminal io is buffered, and paging is supported.</p>\n\n<p>From the Javadoc,</p>\n\n<blockquote>\n  <p>The \"standard\" output stream. This stream is already open and ready to accept output data. Typically this stream corresponds to display output or another output destination specified by the host environment or user. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646939858,"creation_date":1403677631,"answer_id":24401657,"question_id":24401467,"body_markdown":"From http://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html :\r\n\r\n&gt; Optionally, a `PrintStream` can be created so as to flush automatically; this means that the `flush` method is automatically invoked after a byte array is written, one of the `println` methods is invoked, or a newline character or byte (`&#39;\\n&#39;`) is written. ","title":"Is System.out buffered or unbuffered?","body":"<p>From <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html</a> :</p>\n<blockquote>\n<p>Optionally, a <code>PrintStream</code> can be created so as to flush automatically; this means that the <code>flush</code> method is automatically invoked after a byte array is written, one of the <code>println</code> methods is invoked, or a newline character or byte (<code>'\\n'</code>) is written.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4495283,"reputation":31,"user_id":3655212,"accept_rate":50,"display_name":"Rits"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455088652,"creation_date":1403678166,"answer_id":24401782,"question_id":24401467,"body_markdown":"System.out.println prints the argument passed, into the System.out which is generally stdout.\r\n\r\n    System – is a final class and cannot be inherited. As per javadoc, “…Among the facilities provided by the System class are standard input, standard output, and error output streams; access to externally defined properties and environment variables; a means of loading files and libraries; and a utility method for quickly copying a portion of an array…”\r\n    out – is a static member field of System class and is of type PrintStream. Its access specifiers are public final. This gets instantiated during startup and gets mapped with standard output console of the host. This stream is open by itself immediately after its instantiation and ready to accept data.\r\n    println – println prints the argument passed to the standard console and a newline. There are multiple println methods with different arguments (overloading). Every println makes a call to print method and adds a newline. print calls write() and the story goes on like that.\r\n","title":"Is System.out buffered or unbuffered?","body":"<p>System.out.println prints the argument passed, into the System.out which is generally stdout.</p>\n\n<pre><code>System – is a final class and cannot be inherited. As per javadoc, “…Among the facilities provided by the System class are standard input, standard output, and error output streams; access to externally defined properties and environment variables; a means of loading files and libraries; and a utility method for quickly copying a portion of an array…”\nout – is a static member field of System class and is of type PrintStream. Its access specifiers are public final. This gets instantiated during startup and gets mapped with standard output console of the host. This stream is open by itself immediately after its instantiation and ready to accept data.\nprintln – println prints the argument passed to the standard console and a newline. There are multiple println methods with different arguments (overloading). Every println makes a call to print method and adds a newline. print calls write() and the story goes on like that.\n</code></pre>\n"}],"owner":{"account_id":3695306,"reputation":198,"user_id":3076827,"accept_rate":100,"display_name":"Muhammad Yasir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3710,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24401538,"answer_count":3,"score":7,"last_activity_date":1646939858,"creation_date":1403676937,"question_id":24401467,"body_markdown":"Is `System.out` buffered or unbuffered?\r\n\r\nI read this is an object of `InputStream` and `PrinterStream` is the type of object referenced by `System.out`.\r\n\r\nAnd they Both are Unbuffered so Why `println()` flushes the unbuffered...is it possible to flush unbuffered and I have read they are written immediately.\r\n\r\n","title":"Is System.out buffered or unbuffered?","body":"<p>Is <code>System.out</code> buffered or unbuffered?</p>\n\n<p>I read this is an object of <code>InputStream</code> and <code>PrinterStream</code> is the type of object referenced by <code>System.out</code>.</p>\n\n<p>And they Both are Unbuffered so Why <code>println()</code> flushes the unbuffered...is it possible to flush unbuffered and I have read they are written immediately.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1646937047,"post_id":71429051,"comment_id":126253299,"body_markdown":"You have the `try/catch` around the wrong code. Put `sum += Integer.parseInt(word); count++;` in a `try/catch`.","body":"You have the <code>try&#47;catch</code> around the wrong code. Put <code>sum += Integer.parseInt(word); count++;</code> in a <code>try&#47;catch</code>."}],"answers":[{"tags":[],"owner":{"account_id":15884887,"reputation":125,"user_id":11461574,"display_name":"xEdziu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646937392,"creation_date":1646937392,"answer_id":71429157,"question_id":71429051,"body_markdown":"Make a function to check if given string can be converted to int:\r\n\r\n```java\r\npublic static boolean isInteger(String str) {\r\n    if (str == null) {\r\n        return false;\r\n    }\r\n    int length = str.length();\r\n    if (length == 0) {\r\n        return false;\r\n    }\r\n    int i = 0;\r\n    if (str.charAt(0) == &#39;-&#39;) {\r\n        if (length == 1) {\r\n            return false;\r\n        }\r\n        i = 1;\r\n    }\r\n    for (; i &lt; length; i++) {\r\n        char c = str.charAt(i);\r\n        if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\n&gt; Note: I copied this function from this [thread][1]\r\n\r\nAnd than edit your code to something like this:\r\n```java\r\n      while(scan.hasNextLine()){ \r\n           \r\n           word = scan.next();\r\n           if (isInteger(word)) {\r\n              sum += Integer.parseInt(word);\r\n              count++;\r\n           } else {\r\n              System.out.println(&quot;Not a number&quot;);\r\n           }\r\n      }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java","title":"Parsing Integers in Java, making code continuous","body":"<p>Make a function to check if given string can be converted to int:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isInteger(String str) {\n    if (str == null) {\n        return false;\n    }\n    int length = str.length();\n    if (length == 0) {\n        return false;\n    }\n    int i = 0;\n    if (str.charAt(0) == '-') {\n        if (length == 1) {\n            return false;\n        }\n        i = 1;\n    }\n    for (; i &lt; length; i++) {\n        char c = str.charAt(i);\n        if (c &lt; '0' || c &gt; '9') {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<blockquote>\n<p>Note: I copied this function from this <a href=\"https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java\">thread</a></p>\n</blockquote>\n<p>And than edit your code to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      while(scan.hasNextLine()){ \n           \n           word = scan.next();\n           if (isInteger(word)) {\n              sum += Integer.parseInt(word);\n              count++;\n           } else {\n              System.out.println(&quot;Not a number&quot;);\n           }\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646939528,"creation_date":1646939528,"answer_id":71429569,"question_id":71429051,"body_markdown":"As @Johnny Mopp said. You can use `try/catch`, and inside catch `break` the loop the get the output wanted:\r\n\r\n            try {\r\n\t\t\t\tsum += Integer.parseInt(word);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\noutput: \r\n\r\n    h\r\n    There are no VALID input provided!","title":"Parsing Integers in Java, making code continuous","body":"<p>As @Johnny Mopp said. You can use <code>try/catch</code>, and inside catch <code>break</code> the loop the get the output wanted:</p>\n<pre><code>        try {\n            sum += Integer.parseInt(word);\n        } catch (Exception e) {\n            break;\n        }\n</code></pre>\n<p>output:</p>\n<pre><code>h\nThere are no VALID input provided!\n</code></pre>\n"}],"owner":{"account_id":23500207,"reputation":5,"user_id":17550185,"display_name":"CoderLala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646939528,"creation_date":1646936811,"question_id":71429051,"body_markdown":"I have a code that accepts String as an input and parses it into a number. Here, whenever user input consists of elements that is not a number it will throw a NumberFormatException. However, I want to make it continuous,such as if program ran one time, it does not terminate but rather waits for further input. \r\n\r\n    public class ParseNumbers {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);// reading from standard input\r\n            \r\n            String line = scan.nextLine(), word = null;\r\n           \r\n           \r\n            scan = new Scanner(line); \r\n          \r\n          \r\n            int sum = 0, count = 0;\r\n          while(scan.hasNextLine()){ \r\n               \r\n               word = scan.next();\r\n               sum += Integer.parseInt(word);\r\n               count++;\r\n              \r\n          }\r\n          try{\r\n            if (count ==0)\r\n    \r\n                System.out.println(&quot;There are no VALID input provided!&quot;);\r\n               \r\n            else\r\n            \r\n             System.out.printf(&quot;Sum = %d\\nCount = %d\\nAverage = %.3f\\n&quot;, sum, count, (float) sum / count);\r\n             \r\n            }catch(NumberFormatException e){\r\n                 System.out.println(e.getMessage());\r\n                 \r\n             }\r\n       \r\n    \r\n    \r\n          \r\n        \r\n        }\r\n    }\r\n\r\n    \r\n","title":"Parsing Integers in Java, making code continuous","body":"<p>I have a code that accepts String as an input and parses it into a number. Here, whenever user input consists of elements that is not a number it will throw a NumberFormatException. However, I want to make it continuous,such as if program ran one time, it does not terminate but rather waits for further input.</p>\n<pre><code>public class ParseNumbers {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);// reading from standard input\n        \n        String line = scan.nextLine(), word = null;\n       \n       \n        scan = new Scanner(line); \n      \n      \n        int sum = 0, count = 0;\n      while(scan.hasNextLine()){ \n           \n           word = scan.next();\n           sum += Integer.parseInt(word);\n           count++;\n          \n      }\n      try{\n        if (count ==0)\n\n            System.out.println(&quot;There are no VALID input provided!&quot;);\n           \n        else\n        \n         System.out.printf(&quot;Sum = %d\\nCount = %d\\nAverage = %.3f\\n&quot;, sum, count, (float) sum / count);\n         \n        }catch(NumberFormatException e){\n             System.out.println(e.getMessage());\n             \n         }\n   \n\n\n      \n    \n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","uwsgi","java-11"],"answers":[{"tags":[],"owner":{"account_id":1346130,"reputation":33,"user_id":1286847,"display_name":"Hut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646939445,"creation_date":1646939445,"answer_id":71429548,"question_id":71429278,"body_markdown":"sorry, figured it out there is a --jvm-classpath switch and a uwsgi.jar at  \r\n/usr/share/java/uwsgi.jar  \r\n  \r\nmy bad, sorry!","title":"JWSGI on Ubuntu Focal","body":"<p>sorry, figured it out there is a --jvm-classpath switch and a uwsgi.jar at<br />\n/usr/share/java/uwsgi.jar</p>\n<p>my bad, sorry!</p>\n"}],"owner":{"account_id":1346130,"reputation":33,"user_id":1286847,"display_name":"Hut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646939445,"creation_date":1646938085,"question_id":71429278,"body_markdown":"I am trying to run the example from [uwsgi-doc][1]  \r\nI am running Ubuntu Focal (completely fresh install [VM])  \r\nhere is everything that i install\r\n\r\n    aptitude install uwsgi-plugin-jvm-openjdk-11 uwsgi-plugin-jwsgi-openjdk-11\r\n\r\nbut when i try to run the examples i get\r\n\r\n&gt; [...]  \r\nJVM 11.0.14+9-Ubuntu-0ubuntu2.20.04 initialized at 0x555b6858c348 (worker: 1 pid: 5177)\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: uwsgi\r\nCaused by: java.lang.ClassNotFoundException: uwsgi\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\r\n\r\ni am trying to run this code (it does compile)  \r\n\r\n    import java.util.*;\r\n    public class MyApp {\r\n    \r\n        public static Object[] application(HashMap env) {\r\n    \r\n            int status = 200;\r\n    \r\n            HashMap&lt;String,Object&gt; headers = new HashMap&lt;String,Object&gt;();\r\n            headers.put(&quot;Content-type&quot;, &quot;text/html&quot;);\r\n            // a response header can have multiple values\r\n            String[] servers = {&quot;uWSGI&quot;, &quot;Unbit&quot;};\r\n            headers.put(&quot;Server&quot;, servers);\r\n    \r\n            String body = &quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot; + env.get(&quot;REQUEST_URI&quot;);\r\n    \r\n            Object[] response = { status, headers, body };\r\n    \r\n            return response;\r\n        }\r\n    }\r\n\r\nwith the command  \r\n\r\n    ./uwsgi --socket /tmp/uwsgi.socket --plugins jvm,jwsgi --jwsgi MyApp:application --threads 40\r\n\r\n\r\nbut even running this command (without the class and method specified)\r\n\r\n    uwsgi --socket /tmp/uwsgi.socket --plugins jvm,jwsgi --threads 40\r\n\r\ni get the exact same error....  \r\n\r\nanyone know why that is?  \r\nor what i am doing wrong?  \r\n  \r\nthx in advance!\r\n\r\n  [1]: https://uwsgi-docs.readthedocs.io/en/latest/JWSGI.html","title":"JWSGI on Ubuntu Focal","body":"<p>I am trying to run the example from <a href=\"https://uwsgi-docs.readthedocs.io/en/latest/JWSGI.html\" rel=\"nofollow noreferrer\">uwsgi-doc</a><br />\nI am running Ubuntu Focal (completely fresh install [VM])<br />\nhere is everything that i install</p>\n<pre><code>aptitude install uwsgi-plugin-jvm-openjdk-11 uwsgi-plugin-jwsgi-openjdk-11\n</code></pre>\n<p>but when i try to run the examples i get</p>\n<blockquote>\n<p>[...]<br />\nJVM 11.0.14+9-Ubuntu-0ubuntu2.20.04 initialized at 0x555b6858c348 (worker: 1 pid: 5177)\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: uwsgi\nCaused by: java.lang.ClassNotFoundException: uwsgi\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)</p>\n</blockquote>\n<p>i am trying to run this code (it does compile)</p>\n<pre><code>import java.util.*;\npublic class MyApp {\n\n    public static Object[] application(HashMap env) {\n\n        int status = 200;\n\n        HashMap&lt;String,Object&gt; headers = new HashMap&lt;String,Object&gt;();\n        headers.put(&quot;Content-type&quot;, &quot;text/html&quot;);\n        // a response header can have multiple values\n        String[] servers = {&quot;uWSGI&quot;, &quot;Unbit&quot;};\n        headers.put(&quot;Server&quot;, servers);\n\n        String body = &quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot; + env.get(&quot;REQUEST_URI&quot;);\n\n        Object[] response = { status, headers, body };\n\n        return response;\n    }\n}\n</code></pre>\n<p>with the command</p>\n<pre><code>./uwsgi --socket /tmp/uwsgi.socket --plugins jvm,jwsgi --jwsgi MyApp:application --threads 40\n</code></pre>\n<p>but even running this command (without the class and method specified)</p>\n<pre><code>uwsgi --socket /tmp/uwsgi.socket --plugins jvm,jwsgi --threads 40\n</code></pre>\n<p>i get the exact same error....</p>\n<p>anyone know why that is?<br />\nor what i am doing wrong?</p>\n<p>thx in advance!</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1646939437,"post_id":71429492,"comment_id":126254062,"body_markdown":"Is the res folder built into the jar?","body":"Is the res folder built into the jar?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646940412,"post_id":71429492,"comment_id":126254371,"body_markdown":"/src/main/resources/ is where you need to keep resources if you want them to be loadable and address them beginning &#39;/&#39;","body":"/src/main/resources/ is where you need to keep resources if you want them to be loadable and address them beginning &#39;/&#39;"}],"owner":{"account_id":24501769,"reputation":1,"user_id":18417286,"display_name":"Ankit Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646939380,"creation_date":1646939157,"question_id":71429492,"body_markdown":"I am trying to add images using this code in NetBeans but the image is not getting added &lt;br /&gt;\r\nI have used multiple ways by adding &#39;/&#39; in front of res but it is still not working&lt;br /&gt;\r\n\r\n\r\n\r\nThis is the file structure &lt;br /&gt;\r\n\r\n    --src\r\n      -res(inside src folder)\r\n        -imgglug(inside res folder)\r\n          -blue.png(inside imgglug folder)\r\n          -no2.png\r\n           ..(more png images are stored in imgglug folder)\r\n\r\n\r\n---\r\n\r\n \r\n    private void loadNumberTiles()\r\n    {\r\n      numberTiles=new Hashtable();\r\n     \r\n      ClassLoader cldr=this.getClass().getClassLoader();\r\n     java.net.URL url0000=cldr.getResource(&quot;res/imgglug/blue.png&quot;);\r\n     java.net.URL url0002=cldr.getResource(&quot;res/imgglug/no2.png&quot;);\r\n     java.net.URL url0004=cldr.getResource(&quot;res/imgglug/no4.png&quot;);\r\n     java.net.URL url0008=cldr.getResource(&quot;res/imgglug/no8.png&quot;);\r\n     java.net.URL url0016=cldr.getResource(&quot;res/imgglug/no16.png&quot;);\r\n     java.net.URL url0032=cldr.getResource(&quot;res/imgglug/no32.png&quot;);\r\n     java.net.URL url0064=cldr.getResource(&quot;res/imgglug/no64.png&quot;);\r\n     java.net.URL url0128=cldr.getResource(&quot;res/imgglug/no128.png&quot;);\r\n     java.net.URL url0256=cldr.getResource(&quot;res/imgglug/no256.png&quot;);\r\n     java.net.URL url0512=cldr.getResource(&quot;res/imgglug/no.512.png&quot;);\r\n     java.net.URL url1024=cldr.getResource(&quot;res/imgglug/no.1024.png&quot;);\r\n     java.net.URL url2048=cldr.getResource(&quot;res/imgglug/no.2048.png&quot;);\r\n     if(url0000!=null)\r\n         {\r\n             numberTiles.put(0,new ImageIcon(url0000));\r\n         }\r\n         if(url0002!=null)\r\n                 {\r\n                    numberTiles.put(2,new ImageIcon(url0002)); \r\n                 }\r\n         if(url0004!=null)\r\n                 {\r\n                    numberTiles.put(4,new ImageIcon(url0004)); \r\n                 }\r\n         if(url0008!=null)\r\n                 {\r\n                     numberTiles.put(8,new ImageIcon(url0008));\r\n                 }\r\n         if(url0016!=null)\r\n                 {\r\n                     numberTiles.put(16,new ImageIcon(url0016));\r\n                 }\r\n         if(url0032!=null)\r\n                 {\r\n                     numberTiles.put(32,new ImageIcon(url0032));\r\n                 }\r\n         if(url0064!=null)\r\n                 {\r\n                     numberTiles.put(64,new ImageIcon(url0064));\r\n                 }\r\n         if(url0128!=null)\r\n                 {\r\n                      numberTiles.put(128,new ImageIcon(url0128));\r\n                 }\r\n         if(url0256!=null)\r\n                 {\r\n                     numberTiles.put(256,new ImageIcon(url0256));\r\n                 }\r\n         if(url0512!=null)\r\n                 {\r\n                     numberTiles.put(512,new ImageIcon(url0512));\r\n                 }\r\n         \r\n         if(url1024!=null)\r\n                 {\r\n                     numberTiles.put(1024,new ImageIcon(url1024));\r\n                 }\r\n         if(url2048!=null)\r\n                 {\r\n                     numberTiles.put(2048,new ImageIcon(url2048));\r\n                 } }\r\n\r\n  ","title":"How to add image using getResource() in NetBeans in a Maven project","body":"<p>I am trying to add images using this code in NetBeans but the image is not getting added <br />\nI have used multiple ways by adding '/' in front of res but it is still not working<br /></p>\n<p>This is the file structure <br /></p>\n<pre><code>--src\n  -res(inside src folder)\n    -imgglug(inside res folder)\n      -blue.png(inside imgglug folder)\n      -no2.png\n       ..(more png images are stored in imgglug folder)\n</code></pre>\n<hr />\n<pre><code>private void loadNumberTiles()\n{\n  numberTiles=new Hashtable();\n \n  ClassLoader cldr=this.getClass().getClassLoader();\n java.net.URL url0000=cldr.getResource(&quot;res/imgglug/blue.png&quot;);\n java.net.URL url0002=cldr.getResource(&quot;res/imgglug/no2.png&quot;);\n java.net.URL url0004=cldr.getResource(&quot;res/imgglug/no4.png&quot;);\n java.net.URL url0008=cldr.getResource(&quot;res/imgglug/no8.png&quot;);\n java.net.URL url0016=cldr.getResource(&quot;res/imgglug/no16.png&quot;);\n java.net.URL url0032=cldr.getResource(&quot;res/imgglug/no32.png&quot;);\n java.net.URL url0064=cldr.getResource(&quot;res/imgglug/no64.png&quot;);\n java.net.URL url0128=cldr.getResource(&quot;res/imgglug/no128.png&quot;);\n java.net.URL url0256=cldr.getResource(&quot;res/imgglug/no256.png&quot;);\n java.net.URL url0512=cldr.getResource(&quot;res/imgglug/no.512.png&quot;);\n java.net.URL url1024=cldr.getResource(&quot;res/imgglug/no.1024.png&quot;);\n java.net.URL url2048=cldr.getResource(&quot;res/imgglug/no.2048.png&quot;);\n if(url0000!=null)\n     {\n         numberTiles.put(0,new ImageIcon(url0000));\n     }\n     if(url0002!=null)\n             {\n                numberTiles.put(2,new ImageIcon(url0002)); \n             }\n     if(url0004!=null)\n             {\n                numberTiles.put(4,new ImageIcon(url0004)); \n             }\n     if(url0008!=null)\n             {\n                 numberTiles.put(8,new ImageIcon(url0008));\n             }\n     if(url0016!=null)\n             {\n                 numberTiles.put(16,new ImageIcon(url0016));\n             }\n     if(url0032!=null)\n             {\n                 numberTiles.put(32,new ImageIcon(url0032));\n             }\n     if(url0064!=null)\n             {\n                 numberTiles.put(64,new ImageIcon(url0064));\n             }\n     if(url0128!=null)\n             {\n                  numberTiles.put(128,new ImageIcon(url0128));\n             }\n     if(url0256!=null)\n             {\n                 numberTiles.put(256,new ImageIcon(url0256));\n             }\n     if(url0512!=null)\n             {\n                 numberTiles.put(512,new ImageIcon(url0512));\n             }\n     \n     if(url1024!=null)\n             {\n                 numberTiles.put(1024,new ImageIcon(url1024));\n             }\n     if(url2048!=null)\n             {\n                 numberTiles.put(2048,new ImageIcon(url2048));\n             } }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1646935172,"post_id":71428721,"comment_id":126252653,"body_markdown":"What&#39;s your question? Does your implementation not work? (you could also start j at i so you don&#39;t double-check)","body":"What&#39;s your question? Does your implementation not work? (you could also start j at i so you don&#39;t double-check)"},{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1646937245,"post_id":71428721,"comment_id":126253357,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":24518487,"reputation":1,"user_id":18431899,"display_name":"Farooq"},"score":0,"creation_date":1646939901,"post_id":71428721,"comment_id":126254205,"body_markdown":"The game is wordle. I want to not let the player enter in a word that contains 4 of the same letter. When i run that code and enter a word like &quot;wiwww&quot;, it comes up as 6 words are the same. I was wondering if my iteration is messed up somewhere.","body":"The game is wordle. I want to not let the player enter in a word that contains 4 of the same letter. When i run that code and enter a word like &quot;wiwww&quot;, it comes up as 6 words are the same. I was wondering if my iteration is messed up somewhere."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646939063,"creation_date":1646936270,"answer_id":71428941,"question_id":71428721,"body_markdown":"You can use `stream`:\r\n\r\n - Split the word into a letters array and `stream` the resulting array.\r\n - Collect the `stream` grouping by letters and collect downstream counting the number of elements.\r\n - `Stream` the values of the resulting `map` and validate that all values are less than the max number of duplicate letters.\r\n\r\n```\r\npublic static boolean check(String str, int max) {\r\n    Map&lt;String, Long&gt; map = Arrays.stream(str.split(&quot;&quot;))\r\n        .collect(Collectors.groupingBy(Function.identity(), \r\n                Collectors.counting()));\r\n    return map.values().stream().anyMatch(count -&gt; count &gt;= max);\r\n}\r\n```\r\n\r\nTest:\r\n\r\n    String str1 = &quot;abcdefg&quot;;\r\n    String str2 = &quot;abadafa&quot;;\r\n\r\n    int max = 4;\r\n\r\n    String msg = &quot;Word &#39;%s&#39;&quot; + &quot; exceeds the limit of %s: %s&quot;;\r\n    \r\n    System.out.println(String.format(msg, str1, max, check(str1, max)));\r\n    System.out.println(String.format(msg, str2, max, check(str2, max)));\r\n\r\nOutput:\r\n\r\n    Word &#39;abcdefg&#39; exceeds the limit of 4: false\r\n    Word &#39;abadafa&#39; exceeds the limit of 4: true\r\n\r\n","title":"How to check if characters are repeating in a string","body":"<p>You can use <code>stream</code>:</p>\n<ul>\n<li>Split the word into a letters array and <code>stream</code> the resulting array.</li>\n<li>Collect the <code>stream</code> grouping by letters and collect downstream counting the number of elements.</li>\n<li><code>Stream</code> the values of the resulting <code>map</code> and validate that all values are less than the max number of duplicate letters.</li>\n</ul>\n<pre><code>public static boolean check(String str, int max) {\n    Map&lt;String, Long&gt; map = Arrays.stream(str.split(&quot;&quot;))\n        .collect(Collectors.groupingBy(Function.identity(), \n                Collectors.counting()));\n    return map.values().stream().anyMatch(count -&gt; count &gt;= max);\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>String str1 = &quot;abcdefg&quot;;\nString str2 = &quot;abadafa&quot;;\n\nint max = 4;\n\nString msg = &quot;Word '%s'&quot; + &quot; exceeds the limit of %s: %s&quot;;\n\nSystem.out.println(String.format(msg, str1, max, check(str1, max)));\nSystem.out.println(String.format(msg, str2, max, check(str2, max)));\n</code></pre>\n<p>Output:</p>\n<pre><code>Word 'abcdefg' exceeds the limit of 4: false\nWord 'abadafa' exceeds the limit of 4: true\n</code></pre>\n"}],"owner":{"account_id":24518487,"reputation":1,"user_id":18431899,"display_name":"Farooq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646939063,"creation_date":1646935008,"question_id":71428721,"body_markdown":"I have a list giving out a random word, that the user has to try to guess. \r\n\r\nI need to prevent cheating, so i&#39;m trying to check if there are 4 of the same characters in the word that they guess.\r\n\r\n```\r\nfor(int i = 0; i &lt; guess.length(); i++){\r\n\r\n    for(int j = 0; j &lt; guess.length(); j++){\r\n        if(guess.charAt(i) == guess.charAt(j)){\r\n            antiCheat++;\r\n        }\r\n    }\r\n```","title":"How to check if characters are repeating in a string","body":"<p>I have a list giving out a random word, that the user has to try to guess.</p>\n<p>I need to prevent cheating, so i'm trying to check if there are 4 of the same characters in the word that they guess.</p>\n<pre><code>for(int i = 0; i &lt; guess.length(); i++){\n\n    for(int j = 0; j &lt; guess.length(); j++){\n        if(guess.charAt(i) == guess.charAt(j)){\n            antiCheat++;\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1646939007,"post_id":71429206,"comment_id":126253936,"body_markdown":"Welcome back to Stack Overflow. As a refresher, please read [ask] and https://ericlippert.com/2014/03/05/how-to-debug-small-programs/ and https://stackoverflow.com/help/minimal-reproducible-example and https://meta.stackoverflow.com/questions/261592 and https://meta.stackoverflow.com/questions/284236.","body":"Welcome back to Stack Overflow. As a refresher, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> and <a href=\"https://meta.stackoverflow.com/questions/261592\">meta.stackoverflow.com/questions/261592</a> and <a href=\"https://meta.stackoverflow.com/questions/284236\">meta.stackoverflow.com/questions/284236</a>."}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646938658,"creation_date":1646938658,"answer_id":71429393,"question_id":71429206,"body_markdown":"You have to use the `findheight` instead of `n` variable in your `if (n == height[i])` condition:\r\n\r\ntry this it&#39;s work :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main{\r\n    \tpublic static void main(String[]args){\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot; Welcome to VictoRoar Information System &quot; );\r\n    \t\tSystem.out.println( &quot; ********************&quot;);\r\n    \r\n    \t\tSystem.out.print(&quot; Enter n , number of player: &quot;);\r\n    \t\tint n = sc.nextInt();\r\n    \t\t//declare,initialize array \r\n    \t\tString [] name = new String[n];\r\n    \t\tdouble [] height = new double[n];\r\n    \t\tsc.nextLine();\r\n    \r\n    \t\t//put input in the array \r\n    \t\tfor (int i=0; i&lt;n;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print(&quot; Enter player&#39;s name :&quot; );\r\n    \t\t\tname[i] = sc.nextLine();\r\n    \t\t\tSystem.out.print(&quot; Enter player&#39;s height (cm) :&quot; );\r\n    \t\t\theight[i] = Double.valueOf(sc.nextLine());\r\n    \t\t}\r\n    \r\n    \t\t//search array\r\n    \t\tSystem.out.print(&quot; Write the player height that you want to know : &quot;);\r\n    \t\tdouble findheight=sc.nextDouble();\r\n    \t\tboolean noheight = false;\r\n    \t\tfor(int i = 0; i&lt;n; i++)\r\n    \t\t{ \r\n    \t\t\tif (findheight == height[i])\r\n    \t\t\t{\r\n    \t\t\t\tnoheight = true;\r\n    \t\t\t\tSystem.out.println(&quot;Player name &quot;+ name[i] + &quot; with height &quot; + height[i]+ &quot; present at index &quot; +i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (noheight == false ) \r\n    \t\t\tSystem.out.println(&quot;Player not found&quot;);\r\n    \t\tSystem.out.println(&quot;**********************&quot;);\r\n    \t} \r\n    }\r\n\r\nresult: \r\n\r\n    Welcome to VictoRoar Information System \r\n    ********************\r\n    Enter n , number of player: 2\r\n    Enter player&#39;s name :Alex\r\n    Enter player&#39;s height (cm) :120\r\n    Enter player&#39;s name :David\r\n    Enter player&#39;s height (cm) :122\r\n    Write the player height that you want to know : 120\r\n    Player name Alex with height 120.0 present at index 0\r\n    **********************\r\n\r\n","title":"Can&#39;t find array value","body":"<p>You have to use the <code>findheight</code> instead of <code>n</code> variable in your <code>if (n == height[i])</code> condition:</p>\n<p>try this it's work :</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n    public static void main(String[]args){\n        Scanner sc=new Scanner(System.in);\n\n        System.out.println(&quot; Welcome to VictoRoar Information System &quot; );\n        System.out.println( &quot; ********************&quot;);\n\n        System.out.print(&quot; Enter n , number of player: &quot;);\n        int n = sc.nextInt();\n        //declare,initialize array \n        String [] name = new String[n];\n        double [] height = new double[n];\n        sc.nextLine();\n\n        //put input in the array \n        for (int i=0; i&lt;n;i++)\n        {\n            System.out.print(&quot; Enter player's name :&quot; );\n            name[i] = sc.nextLine();\n            System.out.print(&quot; Enter player's height (cm) :&quot; );\n            height[i] = Double.valueOf(sc.nextLine());\n        }\n\n        //search array\n        System.out.print(&quot; Write the player height that you want to know : &quot;);\n        double findheight=sc.nextDouble();\n        boolean noheight = false;\n        for(int i = 0; i&lt;n; i++)\n        { \n            if (findheight == height[i])\n            {\n                noheight = true;\n                System.out.println(&quot;Player name &quot;+ name[i] + &quot; with height &quot; + height[i]+ &quot; present at index &quot; +i);\n            }\n        }\n        if (noheight == false ) \n            System.out.println(&quot;Player not found&quot;);\n        System.out.println(&quot;**********************&quot;);\n    } \n}\n</code></pre>\n<p>result:</p>\n<pre><code>Welcome to VictoRoar Information System \n********************\nEnter n , number of player: 2\nEnter player's name :Alex\nEnter player's height (cm) :120\nEnter player's name :David\nEnter player's height (cm) :122\nWrite the player height that you want to know : 120\nPlayer name Alex with height 120.0 present at index 0\n**********************\n</code></pre>\n"}],"owner":{"display_name":"user17961043"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71429393,"answer_count":1,"score":0,"last_activity_date":1646938702,"creation_date":1646937662,"question_id":71429206,"body_markdown":"Can someone help me with this problem. \r\n\r\nI have been given to do some coding exercise \r\n\r\nI need to do search Array problem\r\nBelow is the output that i want :\r\n[![Output that i want][1]][1]\r\n\r\nI have a problem where when I put the correct value it will not come out the output I want instead it will come out the output &quot;Player not Found&quot; so how to solve this. I feel like I missed something.\r\n\r\nHere my code:\r\n\r\n    \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main{\r\n        public static void main(String[]args){\r\n        Scanner sc=new Scanner(System.in);\r\n           \r\n           System.out.println(&quot; Welcome to VictoRoar Information System &quot; );\r\n           System.out.println( &quot; ********************&quot;);\r\n           \r\n           System.out.print(&quot; Enter n , number of player: &quot;);\r\n           int n = sc.nextInt();\r\n           //declare,initialize array \r\n           String [] name = new String[n];\r\n           double [] height = new double[n];\r\n           sc.nextLine();\r\n           \r\n           //put input in the array \r\n           for (int i=0; i&lt;n;i++)\r\n           {\r\n           System.out.print(&quot; Enter player&#39;s name :&quot; );\r\n           name[i] = sc.nextLine();\r\n           System.out.print(&quot; Enter player&#39;s height (cm) :&quot; );\r\n           height[i] = sc.nextLine();\r\n           }\r\n           \r\n           //search array\r\n           System.out.print(&quot; Write the player height that you want to know : &quot;);\r\n           double findheight=sc.nextDouble();\r\n           boolean noheight = false;\r\n            for(int i = 0; i&lt;n; i++)\r\n           { \r\n              if (n == height[i])\r\n           {\r\n              noheight = true;\r\n              System.out.println(&quot;Player name &quot;+ name[i] + &quot; with height &quot; + height[i]+ &quot; present at index &quot; +i);\r\n           }\r\n           }\r\n              if (noheight == false ) \r\n           System.out.println(&quot;Player not found&quot;);\r\n           System.out.println(&quot;**********************&quot;);\r\n        } \r\n    }\r\n\r\nI hope you guys can help me to solve this problem.\r\n\r\n  [1]: https://i.stack.imgur.com/q3HOk.jpg\r\n","title":"Can&#39;t find array value","body":"<p>Can someone help me with this problem.</p>\n<p>I have been given to do some coding exercise</p>\n<p>I need to do search Array problem\nBelow is the output that i want :\n<a href=\"https://i.stack.imgur.com/q3HOk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3HOk.jpg\" alt=\"Output that i want\" /></a></p>\n<p>I have a problem where when I put the correct value it will not come out the output I want instead it will come out the output &quot;Player not Found&quot; so how to solve this. I feel like I missed something.</p>\n<p>Here my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n    public static void main(String[]args){\n    Scanner sc=new Scanner(System.in);\n       \n       System.out.println(&quot; Welcome to VictoRoar Information System &quot; );\n       System.out.println( &quot; ********************&quot;);\n       \n       System.out.print(&quot; Enter n , number of player: &quot;);\n       int n = sc.nextInt();\n       //declare,initialize array \n       String [] name = new String[n];\n       double [] height = new double[n];\n       sc.nextLine();\n       \n       //put input in the array \n       for (int i=0; i&lt;n;i++)\n       {\n       System.out.print(&quot; Enter player's name :&quot; );\n       name[i] = sc.nextLine();\n       System.out.print(&quot; Enter player's height (cm) :&quot; );\n       height[i] = sc.nextLine();\n       }\n       \n       //search array\n       System.out.print(&quot; Write the player height that you want to know : &quot;);\n       double findheight=sc.nextDouble();\n       boolean noheight = false;\n        for(int i = 0; i&lt;n; i++)\n       { \n          if (n == height[i])\n       {\n          noheight = true;\n          System.out.println(&quot;Player name &quot;+ name[i] + &quot; with height &quot; + height[i]+ &quot; present at index &quot; +i);\n       }\n       }\n          if (noheight == false ) \n       System.out.println(&quot;Player not found&quot;);\n       System.out.println(&quot;**********************&quot;);\n    } \n}\n</code></pre>\n<p>I hope you guys can help me to solve this problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1646863530,"post_id":71416444,"comment_id":126232168,"body_markdown":"If you mean computing different portions using threads, chances are that will probably show things down unless you have a huge number to factor since setting up threads and managing synchronization increases overhead.  And if you do have a huge number you may want to search for factorization algorithms which do more than just check for division by existing primes.","body":"If you mean computing different portions using threads, chances are that will probably show things down unless you have a huge number to factor since setting up threads and managing synchronization increases overhead.  And if you do have a huge number you may want to search for factorization algorithms which do more than just check for division by existing primes."},{"owner":{"account_id":23610888,"reputation":19,"user_id":17645928,"display_name":"JohnD"},"score":0,"creation_date":1646902694,"post_id":71416444,"comment_id":126239838,"body_markdown":"Yes, I tried searching online but couldn’t find anything. Could you please be more specific, have you heard of some specific algorithm?","body":"Yes, I tried searching online but couldn’t find anything. Could you please be more specific, have you heard of some specific algorithm?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1646934018,"post_id":71416444,"comment_id":126252270,"body_markdown":"This should keep you busy for a while.  [Integer Factorization](https://en.wikipedia.org/wiki/Integer_factorization)","body":"This should keep you busy for a while.  <a href=\"https://en.wikipedia.org/wiki/Integer_factorization\" rel=\"nofollow noreferrer\">Integer Factorization</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646938677,"creation_date":1646935915,"answer_id":71428881,"question_id":71416444,"body_markdown":"If you have a list of primes. You can do it like this (for real large numbers it can take a while). Use a map to hold a frequency count of prime factors and the number of times they occur.\r\n\r\n- continue dividing target by current prime until it doesn&#39;t divide\r\n- then use `BigInteger` to check the value to see if it is a prime (this greatly speeds up the process if the remaining value is huge and a prime).\r\n- continue until all factors have been found or you run out of primes.\r\n\r\n```\r\nlong candidate = 498977279919318060L;\r\n\r\nMap&lt;Long, Integer&gt; factors = new TreeMap&lt;&gt;();\r\nfor (long p : primes) {\r\n\twhile (candidate % p == 0) {\r\n\t\tfactors.compute(p, (k,v) -&gt; v == null ? 1 : v+1);\r\n\t\tcandidate/=p;\r\n\t}\r\n\tif (BigInteger.valueOf(candidate).isProbablePrime(99)) {\r\n\t\tfactors.put(candidate,1);\r\n\t\tcandidate = 1;\r\n\t\tbreak;\r\n\t}\r\n}\r\nif (candidate != 1) {\r\n    System.out.println(&quot;factorization incomplete - stopped at &quot; + candidate);\r\n}\r\n\r\nfactors.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n2=2\r\n3=5\r\n5=1\r\n7=1\r\n19=3\r\n29=1\r\n73=2\r\n101=1\r\n137=1\r\n```\r\nYou can verify the result by first, raising each factor to its frequency and then computing the product of those results using reduce.\r\n```\r\nlong val = factors.entrySet().stream()\r\n\t\t.mapToLong(e -&gt; (long) Math\r\n\t\t\t\t.pow(e.getKey().doubleValue(), e.getValue()))\r\n\t\t.reduce(1L, (a, b) -&gt; a * b);\r\n\r\nSystem.out.println(val);\r\n```\r\nprints\r\n```\t\r\n498977279919318060","title":"Parallel prime factorization using an array of primes up to target","body":"<p>If you have a list of primes. You can do it like this (for real large numbers it can take a while). Use a map to hold a frequency count of prime factors and the number of times they occur.</p>\n<ul>\n<li>continue dividing target by current prime until it doesn't divide</li>\n<li>then use <code>BigInteger</code> to check the value to see if it is a prime (this greatly speeds up the process if the remaining value is huge and a prime).</li>\n<li>continue until all factors have been found or you run out of primes.</li>\n</ul>\n<pre><code>long candidate = 498977279919318060L;\n\nMap&lt;Long, Integer&gt; factors = new TreeMap&lt;&gt;();\nfor (long p : primes) {\n    while (candidate % p == 0) {\n        factors.compute(p, (k,v) -&gt; v == null ? 1 : v+1);\n        candidate/=p;\n    }\n    if (BigInteger.valueOf(candidate).isProbablePrime(99)) {\n        factors.put(candidate,1);\n        candidate = 1;\n        break;\n    }\n}\nif (candidate != 1) {\n    System.out.println(&quot;factorization incomplete - stopped at &quot; + candidate);\n}\n\nfactors.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>2=2\n3=5\n5=1\n7=1\n19=3\n29=1\n73=2\n101=1\n137=1\n</code></pre>\n<p>You can verify the result by first, raising each factor to its frequency and then computing the product of those results using reduce.</p>\n<pre><code>long val = factors.entrySet().stream()\n        .mapToLong(e -&gt; (long) Math\n                .pow(e.getKey().doubleValue(), e.getValue()))\n        .reduce(1L, (a, b) -&gt; a * b);\n\nSystem.out.println(val);\n</code></pre>\n<p>prints</p>\n<pre><code>498977279919318060\n</code></pre>\n"}],"owner":{"account_id":23610888,"reputation":19,"user_id":17645928,"display_name":"JohnD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71428881,"answer_count":1,"score":-2,"last_activity_date":1646938677,"creation_date":1646863020,"question_id":71416444,"body_markdown":"I’ve seen this question already being  asked on Stack but I couldn’t find any concrete answer or at least the answer I understand. \r\nSo here is my question:\r\n \r\nHow could I parallelize the factorization of a big number?\r\n\r\nI’ve seen answers like this:\r\n“ … He just needs to spawn a new thread for each factor found, then have some sort of synchronized object to collect all the factors”\r\n\r\nBut I don’t quite understand how this could be done. \r\nCould someone please explain it using an example? \r\n\r\n","title":"Parallel prime factorization using an array of primes up to target","body":"<p>I’ve seen this question already being  asked on Stack but I couldn’t find any concrete answer or at least the answer I understand.\nSo here is my question:</p>\n<p>How could I parallelize the factorization of a big number?</p>\n<p>I’ve seen answers like this:\n“ … He just needs to spawn a new thread for each factor found, then have some sort of synchronized object to collect all the factors”</p>\n<p>But I don’t quite understand how this could be done.\nCould someone please explain it using an example?</p>\n"},{"tags":["java","mongodb","enums","mongodb-java","morphia"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646937714,"creation_date":1646937714,"answer_id":71429218,"question_id":71429217,"body_markdown":"This error is raised when there are `String` values in the Mongodb not existing in the `enum`. \r\n\r\nHere I have realized there are db entries with empty string fields: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DE9K2.png\r\n\r\nAfter replacing the empty string values in the Mongo Db to those with one of enum, the error has gone. ","title":"Morphia throws error when the field was changed its type from String to enum: No enum constant","body":"<p>This error is raised when there are <code>String</code> values in the Mongodb not existing in the <code>enum</code>.</p>\n<p>Here I have realized there are db entries with empty string fields:</p>\n<p><a href=\"https://i.stack.imgur.com/DE9K2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DE9K2.png\" alt=\"enter image description here\" /></a></p>\n<p>After replacing the empty string values in the Mongo Db to those with one of enum, the error has gone.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71429218,"answer_count":1,"score":-1,"last_activity_date":1646938362,"creation_date":1646937714,"question_id":71429217,"body_markdown":"In DAO class I use with Morphia I have replaced the `String` filed type to `enums.Currency` and I expect that everything will work fine, when the data is retrieved from the db:\r\n\r\nwas \r\n\r\n        public String currency;\r\n\r\nnow\r\n\r\n        public Currency currency;\r\n\r\nwhere Currency is:\r\n\r\n    public enum Currency {\r\n        EUR, USD, RUB\r\n    }\r\n\r\nI expect that nothing should change, however, I&#39;m getting the error message like that:\r\n\r\n    Caused by: java.util.concurrent.CompletionException: java.lang.RuntimeException: java.lang.IllegalArgumentException: No enum constant enums.Currency.\r\n            at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n            at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n            at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)\r\n            ... 6 common frames omitted\r\n    Caused by: java.lang.RuntimeException: java.lang.IllegalArgumentException: No enum constant enums.Currency.\r\n            at dev.morphia.mapping.EmbeddedMapper.fromDBObject(EmbeddedMapper.java:84)\r\n            at dev.morphia.mapping.Mapper.readMappedField(Mapper.java:906)\r\n            at dev.morphia.mapping.Mapper.fromDb(Mapper.java:308)\r\n            at dev.morphia.mapping.Mapper.fromDBObject(Mapper.java:215)\r\n            at dev.morphia.query.internal.MorphiaCursor.next(MorphiaCursor.java:87)\r\n            at dev.morphia.query.internal.MorphiaCursor.toList(MorphiaCursor.java:57)\r\n             ... 6 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: No enum constant enums.Currency.\r\n            at java.base/java.lang.Enum.valueOf(Enum.java:264)\r\n            at dev.morphia.converters.EnumConverter.decode(EnumConverter.java:19)\r\n            at dev.morphia.converters.Converters.fromDBObject(Converters.java:127)\r\n            at dev.morphia.mapping.ValueMapper.fromDBObject(ValueMapper.java:19)\r\n            at dev.morphia.mapping.Mapper.readMappedField(Mapper.java:906)\r\n            at dev.morphia.mapping.Mapper.fromDb(Mapper.java:308)\r\n            at dev.morphia.mapping.EmbeddedMapper.fromDBObject(EmbeddedMapper.java:73)\r\n            ... 35 common frames omitted\r\n\r\nWhat would be the reason and why string values are not just interpreted as enum values?","title":"Morphia throws error when the field was changed its type from String to enum: No enum constant","body":"<p>In DAO class I use with Morphia I have replaced the <code>String</code> filed type to <code>enums.Currency</code> and I expect that everything will work fine, when the data is retrieved from the db:</p>\n<p>was</p>\n<pre><code>    public String currency;\n</code></pre>\n<p>now</p>\n<pre><code>    public Currency currency;\n</code></pre>\n<p>where Currency is:</p>\n<pre><code>public enum Currency {\n    EUR, USD, RUB\n}\n</code></pre>\n<p>I expect that nothing should change, however, I'm getting the error message like that:</p>\n<pre><code>Caused by: java.util.concurrent.CompletionException: java.lang.RuntimeException: java.lang.IllegalArgumentException: No enum constant enums.Currency.\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n        at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)\n        ... 6 common frames omitted\nCaused by: java.lang.RuntimeException: java.lang.IllegalArgumentException: No enum constant enums.Currency.\n        at dev.morphia.mapping.EmbeddedMapper.fromDBObject(EmbeddedMapper.java:84)\n        at dev.morphia.mapping.Mapper.readMappedField(Mapper.java:906)\n        at dev.morphia.mapping.Mapper.fromDb(Mapper.java:308)\n        at dev.morphia.mapping.Mapper.fromDBObject(Mapper.java:215)\n        at dev.morphia.query.internal.MorphiaCursor.next(MorphiaCursor.java:87)\n        at dev.morphia.query.internal.MorphiaCursor.toList(MorphiaCursor.java:57)\n         ... 6 common frames omitted\nCaused by: java.lang.IllegalArgumentException: No enum constant enums.Currency.\n        at java.base/java.lang.Enum.valueOf(Enum.java:264)\n        at dev.morphia.converters.EnumConverter.decode(EnumConverter.java:19)\n        at dev.morphia.converters.Converters.fromDBObject(Converters.java:127)\n        at dev.morphia.mapping.ValueMapper.fromDBObject(ValueMapper.java:19)\n        at dev.morphia.mapping.Mapper.readMappedField(Mapper.java:906)\n        at dev.morphia.mapping.Mapper.fromDb(Mapper.java:308)\n        at dev.morphia.mapping.EmbeddedMapper.fromDBObject(EmbeddedMapper.java:73)\n        ... 35 common frames omitted\n</code></pre>\n<p>What would be the reason and why string values are not just interpreted as enum values?</p>\n"},{"tags":["java","abstract-syntax-tree"],"comments":[{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":0,"creation_date":1422345144,"post_id":28095303,"comment_id":44701535,"body_markdown":"Not familiar with &quot;Java AST&quot;, but if the commentNode is really a node *in* the tree, making it null might damage navigability of the tree?","body":"Not familiar with &quot;Java AST&quot;, but if the commentNode is really a node <i>in</i> the tree, making it null might damage navigability of the tree?"},{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":0,"creation_date":1422346411,"post_id":28095303,"comment_id":44702066,"body_markdown":"... the docs for astRewrite.remove suggest the second argument must be a TextEditGroup; it doesn&#39;t say it can be null.","body":"... the docs for astRewrite.remove suggest the second argument must be a TextEditGroup; it doesn&#39;t say it can be null."}],"answers":[{"tags":[],"owner":{"account_id":4464695,"reputation":307,"user_id":3632641,"accept_rate":38,"display_name":"Patze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422290148,"creation_date":1422290148,"answer_id":28154468,"question_id":28095303,"body_markdown":"I managed it via a workaround which uses `Comment.getStartPosition()` and `Comment.getLength()`. I use these methods to exract the comments from my source code file and replace them with &quot;&quot;. After that I need to re-create the AST tree from the modified source code. This is far away from perfect, but I didn&#180;t find an alternative solution. ","title":"Remove LineComment in Java AST","body":"<p>I managed it via a workaround which uses <code>Comment.getStartPosition()</code> and <code>Comment.getLength()</code>. I use these methods to exract the comments from my source code file and replace them with \"\". After that I need to re-create the AST tree from the modified source code. This is far away from perfect, but I didn´t find an alternative solution. </p>\n"},{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646937913,"creation_date":1646773179,"answer_id":71401361,"question_id":28095303,"body_markdown":"A tiny bit late here but I&#39;m sure the answer will help other people. \r\n\r\nI can confirm the NPE with `remove` method when it lacks the required context of a `ICompilationUnit` to execute. This results in :\r\n\r\n    REMOVE COMMENT\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.core.dom.StructuralPropertyDescriptor.isChildListProperty()&quot; because &quot;property&quot; is null\r\n    \tat org.eclipse.jdt.core.dom.rewrite.ASTRewrite.remove(ASTRewrite.java:398)\r\n\r\n\r\nHere&#39;s how I do when I don&#39;t have such context:\r\n\r\n```java\r\nString sourceCode = &quot;/* block comment */ public class Hello {} // line comment&quot;;\r\nDocument doc = new Document(sourceCode);\r\nASTParser parser = ASTParser.newParser(AST.getJLSLatest());\r\nparser.setSource(doc.get().toCharArray());\r\nCompilationUnit cu = (CompilationUnit) parser.createAST(null);\r\nASTRewrite astRewrite = ASTRewrite.create(cu.getAST());\r\nTextEdit edits = astRewrite.rewriteAST(doc, null);\r\nfinal List&lt;Comment&gt; comments = cu.getCommentList();\r\nList&lt;TextEdit&gt; textEdits = new ArrayList&lt;&gt;();\r\nfor (Comment curComment : comments) {\r\n\tif (curComment.isLineComment()) {\r\n\t\tfinal LineComment lineComment = (LineComment) curComment;\r\n\t\tint commentStart = lineComment.getStartPosition();\r\n\t\tint commentLength = lineComment.getLength();\r\n\t\tint commentEnd = commentStart + commentLength;\r\n\t\tString comment = sourceCode.substring(commentStart, commentEnd);\r\n\t\tif (comment != null &amp;&amp; comment.equalsIgnoreCase(&quot;// line comment&quot;)) {\r\n\t\t\ttextEdits.add(new DeleteEdit(commentStart, commentLength));\r\n\t\t}\r\n\t}\r\n}\r\nedits.addChildren(textEdits.toArray(TextEdit[]::new));\r\ntry {\r\n\tedits.apply(doc);\r\n\tSystem.out.println(doc.get());\r\n} catch (MalformedTreeException | BadLocationException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nSee also this project https://github.com/JnRouvignac/AutoRefactor and especially these 2 classes below:\r\n- ASTCommentRewriter.java for the solution above with the list of `DeleteEdit`\r\n- CommentsCleanUp.java for the usage of `ASTRewrite.remove()`\r\n\r\n","title":"Remove LineComment in Java AST","body":"<p>A tiny bit late here but I'm sure the answer will help other people.</p>\n<p>I can confirm the NPE with <code>remove</code> method when it lacks the required context of a <code>ICompilationUnit</code> to execute. This results in :</p>\n<pre><code>REMOVE COMMENT\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.core.dom.StructuralPropertyDescriptor.isChildListProperty()&quot; because &quot;property&quot; is null\n    at org.eclipse.jdt.core.dom.rewrite.ASTRewrite.remove(ASTRewrite.java:398)\n</code></pre>\n<p>Here's how I do when I don't have such context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sourceCode = &quot;/* block comment */ public class Hello {} // line comment&quot;;\nDocument doc = new Document(sourceCode);\nASTParser parser = ASTParser.newParser(AST.getJLSLatest());\nparser.setSource(doc.get().toCharArray());\nCompilationUnit cu = (CompilationUnit) parser.createAST(null);\nASTRewrite astRewrite = ASTRewrite.create(cu.getAST());\nTextEdit edits = astRewrite.rewriteAST(doc, null);\nfinal List&lt;Comment&gt; comments = cu.getCommentList();\nList&lt;TextEdit&gt; textEdits = new ArrayList&lt;&gt;();\nfor (Comment curComment : comments) {\n    if (curComment.isLineComment()) {\n        final LineComment lineComment = (LineComment) curComment;\n        int commentStart = lineComment.getStartPosition();\n        int commentLength = lineComment.getLength();\n        int commentEnd = commentStart + commentLength;\n        String comment = sourceCode.substring(commentStart, commentEnd);\n        if (comment != null &amp;&amp; comment.equalsIgnoreCase(&quot;// line comment&quot;)) {\n            textEdits.add(new DeleteEdit(commentStart, commentLength));\n        }\n    }\n}\nedits.addChildren(textEdits.toArray(TextEdit[]::new));\ntry {\n    edits.apply(doc);\n    System.out.println(doc.get());\n} catch (MalformedTreeException | BadLocationException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>See also this project <a href=\"https://github.com/JnRouvignac/AutoRefactor\" rel=\"nofollow noreferrer\">https://github.com/JnRouvignac/AutoRefactor</a> and especially these 2 classes below:</p>\n<ul>\n<li>ASTCommentRewriter.java for the solution above with the list of <code>DeleteEdit</code></li>\n<li>CommentsCleanUp.java for the usage of <code>ASTRewrite.remove()</code></li>\n</ul>\n"}],"owner":{"account_id":4464695,"reputation":307,"user_id":3632641,"accept_rate":38,"display_name":"Patze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646937913,"creation_date":1421948616,"question_id":28095303,"body_markdown":"I&#180;m trying to remove a LineComment from a java file via AST. I read the document from a source file, create an AST parser (AST.JLS3) and afterwards create a CompilationUnit and an ASTRewrite instance.\r\n\r\n    doc = new Document( doctext );\r\n    parser = ASTParser.newParser( AST.JLS3 );\r\n    parser.setSource( doc.get().toCharArray() );\r\n    cu = (CompilationUnit) parser.createAST( null );\r\n    astRewrite = ASTRewrite.create( cu.getAST() );\r\n\r\nNothing special so far, I&#180;m able to add and remove fields a.s.o. Now I&#180;m trying to remove comments from the unit with the following code:\r\n\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    final List&lt;Comment&gt; comments = (List&lt;Comment&gt;) cu.getCommentList();\r\n    final Iterator&lt;Comment&gt; commentIter = comments.iterator();\r\n    while ( commentIter.hasNext() ) {\r\n      final Comment curComment = commentIter.next();\r\n      if ( curComment.isLineComment() ) {\r\n        final LineComment lineComment = (LineComment) curComment;\r\n        lineComment.accept( new CommentCopyrightFieldVisitor( cu, document.get(), astRewrite ) );\r\n      }\r\n    }\r\n\r\nHere&#180;s the visitor that should perform the action and remove the comment.\r\n\r\n    public class CommentFieldVisitor extends ASTVisitor {\r\n\r\n      final CompilationUnit cu;\r\n\r\n      final String sourceCode;\r\n\r\n      final ASTRewrite astRewrite;\r\n\r\n      public CommentFieldVisitor( final CompilationUnit cu, final String sourceCode, final ASTRewrite astRewrite ) {\r\n        this.cu = cu;\r\n        this.sourceCode = sourceCode;\r\n        this.astRewrite = astRewrite;\r\n      }\r\n\r\n      @Override\r\n      public boolean visit( final LineComment commentNode ) {\r\n        int start = commentNode.getStartPosition();\r\n        int end = start + commentNode.getLength();\r\n        final String comment = sourceCode.substring( start, end );\r\n        final String fieldComment = Config.INSTANCE.getTargetFieldComment();\r\n\r\n        if ( comment != null &amp;&amp; comment.equalsIgnoreCase( fieldComment ) ) {\r\n          System.out.println( &quot;REMOVE COMMENT&quot; );\r\n          assert astRewrite != null : &quot;ERROR: AST Rewriter is null&quot;;\r\n          astRewrite.remove( commentNode, null );\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\nI iterate all comments in the compilation unit, I create a visitor for every comment in the list. This visitor checks, if the content of the comment equals a preconfigured string. If it does, it should be removed. Though if I call \r\n\r\n    astRewrite.remove( commentNode, null );\r\n\r\nI always get a NPE from inside the remove method. astRewrite and commentNode are defined (because the remove-code is reached. \r\n\r\nDoes anyone have an idea, what I might be doing wrong? Or another approach how to remove such a comment via AST?","title":"Remove LineComment in Java AST","body":"<p>I´m trying to remove a LineComment from a java file via AST. I read the document from a source file, create an AST parser (AST.JLS3) and afterwards create a CompilationUnit and an ASTRewrite instance.</p>\n\n<pre><code>doc = new Document( doctext );\nparser = ASTParser.newParser( AST.JLS3 );\nparser.setSource( doc.get().toCharArray() );\ncu = (CompilationUnit) parser.createAST( null );\nastRewrite = ASTRewrite.create( cu.getAST() );\n</code></pre>\n\n<p>Nothing special so far, I´m able to add and remove fields a.s.o. Now I´m trying to remove comments from the unit with the following code:</p>\n\n<pre><code>@SuppressWarnings( \"unchecked\" )\nfinal List&lt;Comment&gt; comments = (List&lt;Comment&gt;) cu.getCommentList();\nfinal Iterator&lt;Comment&gt; commentIter = comments.iterator();\nwhile ( commentIter.hasNext() ) {\n  final Comment curComment = commentIter.next();\n  if ( curComment.isLineComment() ) {\n    final LineComment lineComment = (LineComment) curComment;\n    lineComment.accept( new CommentCopyrightFieldVisitor( cu, document.get(), astRewrite ) );\n  }\n}\n</code></pre>\n\n<p>Here´s the visitor that should perform the action and remove the comment.</p>\n\n<pre><code>public class CommentFieldVisitor extends ASTVisitor {\n\n  final CompilationUnit cu;\n\n  final String sourceCode;\n\n  final ASTRewrite astRewrite;\n\n  public CommentFieldVisitor( final CompilationUnit cu, final String sourceCode, final ASTRewrite astRewrite ) {\n    this.cu = cu;\n    this.sourceCode = sourceCode;\n    this.astRewrite = astRewrite;\n  }\n\n  @Override\n  public boolean visit( final LineComment commentNode ) {\n    int start = commentNode.getStartPosition();\n    int end = start + commentNode.getLength();\n    final String comment = sourceCode.substring( start, end );\n    final String fieldComment = Config.INSTANCE.getTargetFieldComment();\n\n    if ( comment != null &amp;&amp; comment.equalsIgnoreCase( fieldComment ) ) {\n      System.out.println( \"REMOVE COMMENT\" );\n      assert astRewrite != null : \"ERROR: AST Rewriter is null\";\n      astRewrite.remove( commentNode, null );\n    }\n    return false;\n  }\n}\n</code></pre>\n\n<p>I iterate all comments in the compilation unit, I create a visitor for every comment in the list. This visitor checks, if the content of the comment equals a preconfigured string. If it does, it should be removed. Though if I call </p>\n\n<pre><code>astRewrite.remove( commentNode, null );\n</code></pre>\n\n<p>I always get a NPE from inside the remove method. astRewrite and commentNode are defined (because the remove-code is reached. </p>\n\n<p>Does anyone have an idea, what I might be doing wrong? Or another approach how to remove such a comment via AST?</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646859212,"creation_date":1646859212,"answer_id":71415869,"question_id":71415683,"body_markdown":"Have you tried something like that :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n          .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;...&quot;).permitAll()\r\n\r\n            .and()\r\n                .addFilter(...)\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n            .and()\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Gettig error while trying to access unsecured route","body":"<p>Have you tried something like that :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>      .and()\n            .authorizeRequests()\n            .antMatchers(\"...\").permitAll()\n\n        .and()\n            .addFilter(...)\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n        .and()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646937291,"creation_date":1646867394,"answer_id":71417038,"question_id":71415683,"body_markdown":"I realize you didn&#39;t ask this, but I&#39;d first recommend that you use Spring Security&#39;s [built-in JWT support][1] instead of building your own. Security is hard, and using vetted support is likely more secure.\r\n\r\nRegarding your question about having separate auth mechanisms for separate endpoints, you can instead publish two filter chains, one for open endpoints and one for token-based endpoints like so:\r\n\r\n```java\r\n@Bean\r\n@Order(0)\r\nSecurityFilterChain open(HttpSecurity http) {\r\n    http\r\n        .requestMatchers((requests) -&gt; requests.antMatchers(&quot;/auth/reset&quot;))\r\n        .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\r\n\r\n    return http.build();\r\n}\r\n\r\n@Bean\r\nSecurityFilterChain tokenBased(HttpSecurity http) {\r\n    http\r\n        .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\r\n        .addFilter(...)\r\n        .addFilterAfter(...);\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login","title":"Gettig error while trying to access unsecured route","body":"<p>I realize you didn't ask this, but I'd first recommend that you use Spring Security's <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login\" rel=\"nofollow noreferrer\">built-in JWT support</a> instead of building your own. Security is hard, and using vetted support is likely more secure.</p>\n<p>Regarding your question about having separate auth mechanisms for separate endpoints, you can instead publish two filter chains, one for open endpoints and one for token-based endpoints like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(0)\nSecurityFilterChain open(HttpSecurity http) {\n    http\n        .requestMatchers((requests) -&gt; requests.antMatchers(&quot;/auth/reset&quot;))\n        .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\n\n    return http.build();\n}\n\n@Bean\nSecurityFilterChain tokenBased(HttpSecurity http) {\n    http\n        .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\n        .addFilter(...)\n        .addFilterAfter(...);\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71417038,"answer_count":2,"score":0,"last_activity_date":1646937291,"creation_date":1646857984,"question_id":71415683,"body_markdown":"I am using spring security in my java project to secure web services.\r\nAll my web services are secured here are filter chain configuiration that i use:\r\n\r\n \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(new JwtEmailAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\r\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig),JwtEmailAndPasswordAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\t\t\r\n\r\nNow I have a requirement to create one web service that will be accessible to everybody.\r\nFor this purpose I add this row:\r\n\r\n    .and().authorizeRequests().antMatchers(&quot;/auth/reset&quot;).permitAll()\r\n\r\nTo chained filers and it looks like that:\r\n\r\n\t@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(new JwtEmailAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\r\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig),JwtEmailAndPasswordAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n\t\t\t\t.and().authorizeRequests().antMatchers(&quot;/auth/reset&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\t\r\nAfter adding the row above I get exception JWT not found, it comes from this JwtTokenVerifier bean which is fired by \r\naddFilterAfter.\r\n\r\nMy question is how can I prevent trigger addFilterAfter or any other filter that is needed only for the secured routes in case of the request for an unsecured web service? \r\n\r\n**UPDATE**\r\n\r\nHere is definition of JwtTokenVerifier bean:\r\n\r\n\tpublic class JwtTokenVerifier extends OncePerRequestFilter {\r\n\t\tprivate final SecretKey secretKey;\r\n\t\tprivate final JwtConfig jwtConfig;\r\n\r\n\t\tpublic JwtTokenVerifier(SecretKey secretKey,\r\n\t\t\t\t\t\t\t\tJwtConfig jwtConfig) {\r\n\t\t\tthis.secretKey = secretKey;\r\n\t\t\tthis.jwtConfig = jwtConfig;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void doFilterInternal(HttpServletRequest request,\r\n\t\t\t\t\t\t\t\t\t\tHttpServletResponse response,\r\n\t\t\t\t\t\t\t\t\t\tFilterChain filterChain) throws ServletException, IOException {\r\n\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tString authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\r\n\r\n\t\t\t\tif (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\r\n\t\t\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tString token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tJws&lt;Claims&gt; claimsJws = Jwts.parser()\r\n\t\t\t\t\t\t\t.setSigningKey(secretKey)\r\n\t\t\t\t\t\t\t.parseClaimsJws(token);\r\n\r\n\t\t\t\t\tClaims body = claimsJws.getBody();\r\n\r\n\t\t\t\t\tString email = body.getSubject();\r\n\r\n\t\t\t\t\tvar authorities = (List&lt;Map&lt;String, String&gt;&gt;) body.get(&quot;authorities&quot;);\r\n\r\n\t\t\t\t\tSet&lt;SimpleGrantedAuthority&gt; simpleGrantedAuthorities = authorities.stream()\r\n\t\t\t\t\t\t\t.map(m -&gt; new SimpleGrantedAuthority(m.get(&quot;authority&quot;)))\r\n\t\t\t\t\t\t\t.collect(Collectors.toSet());\r\n\r\n\t\t\t\t\tAuthentication authentication = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\tsimpleGrantedAuthorities\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n\t\t\t\t} catch (JwtException e) {\r\n\t\t\t\t\tthrow new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\t} catch (JwtException e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t  }\r\n\t} \t\r\n\r\n \t\r\n\r\n\t","title":"Gettig error while trying to access unsecured route","body":"<p>I am using spring security in my java project to secure web services.\nAll my web services are secured here are filter chain configuiration that i use:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .cors().and()\n            .csrf().disable()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(new JwtEmailAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\n            .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig),JwtEmailAndPasswordAuthenticationFilter.class)\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated();\n}\n    \n</code></pre>\n<p>Now I have a requirement to create one web service that will be accessible to everybody.\nFor this purpose I add this row:</p>\n<pre><code>.and().authorizeRequests().antMatchers(&quot;/auth/reset&quot;).permitAll()\n</code></pre>\n<p>To chained filers and it looks like that:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .cors().and()\n            .csrf().disable()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(new JwtEmailAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\n            .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig),JwtEmailAndPasswordAuthenticationFilter.class)\n            .authorizeRequests()\n            .and().authorizeRequests().antMatchers(&quot;/auth/reset&quot;).permitAll()\n            .anyRequest()\n            .authenticated();\n}\n</code></pre>\n<p>After adding the row above I get exception JWT not found, it comes from this JwtTokenVerifier bean which is fired by\naddFilterAfter.</p>\n<p>My question is how can I prevent trigger addFilterAfter or any other filter that is needed only for the secured routes in case of the request for an unsecured web service?</p>\n<p><strong>UPDATE</strong></p>\n<p>Here is definition of JwtTokenVerifier bean:</p>\n<pre><code>public class JwtTokenVerifier extends OncePerRequestFilter {\n    private final SecretKey secretKey;\n    private final JwtConfig jwtConfig;\n\n    public JwtTokenVerifier(SecretKey secretKey,\n                            JwtConfig jwtConfig) {\n        this.secretKey = secretKey;\n        this.jwtConfig = jwtConfig;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        try {\n            \n            String authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\n\n            if (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\n                filterChain.doFilter(request, response);\n                return;\n            }\n\n            String token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\n\n            try {\n\n                Jws&lt;Claims&gt; claimsJws = Jwts.parser()\n                        .setSigningKey(secretKey)\n                        .parseClaimsJws(token);\n\n                Claims body = claimsJws.getBody();\n\n                String email = body.getSubject();\n\n                var authorities = (List&lt;Map&lt;String, String&gt;&gt;) body.get(&quot;authorities&quot;);\n\n                Set&lt;SimpleGrantedAuthority&gt; simpleGrantedAuthorities = authorities.stream()\n                        .map(m -&gt; new SimpleGrantedAuthority(m.get(&quot;authority&quot;)))\n                        .collect(Collectors.toSet());\n\n                Authentication authentication = new UsernamePasswordAuthenticationToken(\n                        email,\n                        null,\n                        simpleGrantedAuthorities\n                );\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            } catch (JwtException e) {\n                throw new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\n            }\n\n            filterChain.doFilter(request, response);\n        } catch (JwtException e) {\n        throw e;\n    }\n  }\n}   \n</code></pre>\n"},{"tags":["java","google-cloud-storage","gcs"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646938130,"post_id":71429077,"comment_id":126253667,"body_markdown":"The exception is being thrown in your `storage.list(bucketName)` call, which isn&#39;t in a `try/catch` block...","body":"The exception is being thrown in your <code>storage.list(bucketName)</code> call, which isn&#39;t in a <code>try&#47;catch</code> block..."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1646943376,"post_id":71429077,"comment_id":126255271,"body_markdown":"DOH! thanks - I was asleep at the wheel","body":"DOH! thanks - I was asleep at the wheel"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646936956,"creation_date":1646936956,"question_id":71429077,"body_markdown":"    import com.google.cloud.storage.Blob;\r\n    import com.google.cloud.storage.StorageException;\r\n    import com.google.cloud.storage.StorageOptions;\r\n    \r\n    public class CleanUp {\r\n    \r\n        public static void main(String... args) {\r\n    \r\n            final var storage = StorageOptions.getDefaultInstance().getService();\r\n\r\n            var bucketName = Utilities.getBucketName();\r\n\r\n            for (Blob blob : storage.list(bucketName).iterateAll()) {\r\n                blob.delete(Blob.BlobSourceOption.generationMatch());\r\n                System.out.println(blob.getName() + &quot; deleted&quot;);\r\n            }\r\n    \r\n            try {\r\n                storage.delete(bucketName);\r\n                System.out.println(bucketName + &quot; deleted&quot;);\r\n            }\r\n            catch (StorageException cause) {\r\n                System.err.println(bucketName + &quot; does not exist&quot;);\r\n            }\r\n            catch (Throwable cause) {\r\n                System.err.println(bucketName + &quot; does not exist&quot;);\r\n            }\r\n        }\r\n     }\r\n\r\nBut when I run this I get\r\n\r\n    Exception in thread &quot;main&quot; com.google.cloud.storage.StorageException: The specified bucket does not exist.\r\n\t    at com.google.cloud.storage.spi.v1.HttpStorageRpc.translate(HttpStorageRpc.java:233)\r\n\t    at com.google.cloud.storage.spi.v1.HttpStorageRpc.list(HttpStorageRpc.java:376)\r\n\t    at com.google.cloud.storage.StorageImpl.lambda$listBlobs$11(StorageImpl.java:391)\r\n\t    at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\r\n\t    at com.google.cloud.RetryHelper.run(RetryHelper.java:76)\r\n\t    at com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\r\n\t    at com.google.cloud.storage.Retrying.run(Retrying.java:51)\r\n\t    at com.google.cloud.storage.StorageImpl.listBlobs(StorageImpl.java:388)\r\n\t    at com.google.cloud.storage.StorageImpl.list(StorageImpl.java:359)\r\n\t    at com.forgerock.poc.bq.CleanUp.main(CleanUp.java:17)\r\n    Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found\r\n    GET https://storage.googleapis.com/storage/v1/b/eric_kolotyluk-bq-poc/o?projection=full\r\n    {\r\n      &quot;code&quot; : 404,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;The specified bucket does not exist.&quot;,\r\n        &quot;reason&quot; : &quot;notFound&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;The specified bucket does not exist.&quot;\r\n    }\r\n\t    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\r\n\t    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\r\n\t    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\r\n\t    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:428)\r\n\t    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\r\n\t    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514)\r\n\t    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455)\r\n\t    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\r\n\t    at com.google.cloud.storage.spi.v1.HttpStorageRpc.list(HttpStorageRpc.java:366)\r\n\t    ... 8 more\r\n\r\n***Why can&#39;t I catch this exception/throwable? What is the GCS API doing to bypass try-catch?***\r\n\r\nI am running this code from IntelliJ, not from the command line.","title":"Why can&#39;t I catch GCS excpetions","body":"<pre><code>import com.google.cloud.storage.Blob;\nimport com.google.cloud.storage.StorageException;\nimport com.google.cloud.storage.StorageOptions;\n\npublic class CleanUp {\n\n    public static void main(String... args) {\n\n        final var storage = StorageOptions.getDefaultInstance().getService();\n\n        var bucketName = Utilities.getBucketName();\n\n        for (Blob blob : storage.list(bucketName).iterateAll()) {\n            blob.delete(Blob.BlobSourceOption.generationMatch());\n            System.out.println(blob.getName() + &quot; deleted&quot;);\n        }\n\n        try {\n            storage.delete(bucketName);\n            System.out.println(bucketName + &quot; deleted&quot;);\n        }\n        catch (StorageException cause) {\n            System.err.println(bucketName + &quot; does not exist&quot;);\n        }\n        catch (Throwable cause) {\n            System.err.println(bucketName + &quot; does not exist&quot;);\n        }\n    }\n }\n</code></pre>\n<p>But when I run this I get</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.cloud.storage.StorageException: The specified bucket does not exist.\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.translate(HttpStorageRpc.java:233)\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.list(HttpStorageRpc.java:376)\n    at com.google.cloud.storage.StorageImpl.lambda$listBlobs$11(StorageImpl.java:391)\n    at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\n    at com.google.cloud.RetryHelper.run(RetryHelper.java:76)\n    at com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\n    at com.google.cloud.storage.Retrying.run(Retrying.java:51)\n    at com.google.cloud.storage.StorageImpl.listBlobs(StorageImpl.java:388)\n    at com.google.cloud.storage.StorageImpl.list(StorageImpl.java:359)\n    at com.forgerock.poc.bq.CleanUp.main(CleanUp.java:17)\nCaused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found\nGET https://storage.googleapis.com/storage/v1/b/eric_kolotyluk-bq-poc/o?projection=full\n{\n  &quot;code&quot; : 404,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;The specified bucket does not exist.&quot;,\n    &quot;reason&quot; : &quot;notFound&quot;\n  } ],\n  &quot;message&quot; : &quot;The specified bucket does not exist.&quot;\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:428)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.list(HttpStorageRpc.java:366)\n    ... 8 more\n</code></pre>\n<p><em><strong>Why can't I catch this exception/throwable? What is the GCS API doing to bypass try-catch?</strong></em></p>\n<p>I am running this code from IntelliJ, not from the command line.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1530603741,"post_id":51149043,"comment_id":89281950,"body_markdown":"*I have an application here where the unit tests are written in a way that they cannot be run in parallel* - They are written the wrong way. A test must be able to run independently from other tests. If your test depends on the results of other tests it&#39;s not a good test, you should rework it to be independent.","body":"<i>I have an application here where the unit tests are written in a way that they cannot be run in parallel</i> - They are written the wrong way. A test must be able to run independently from other tests. If your test depends on the results of other tests it&#39;s not a good test, you should rework it to be independent."},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":1,"creation_date":1530603935,"post_id":51149043,"comment_id":89282039,"body_markdown":"@BackSlash I know that. It&#39;s not my code. But it is as it is. Until the tests (and maybe the code) have been reworked to support parallel runs, I want to get this to correctly execute the tests.","body":"@BackSlash I know that. It&#39;s not my code. But it is as it is. Until the tests (and maybe the code) have been reworked to support parallel runs, I want to get this to correctly execute the tests."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1530604062,"post_id":51149043,"comment_id":89282091,"body_markdown":"I&#39;m not sure about that, but I&#39;d expect it to not be possible, since tests are made to run parallelly without dependencies on other tests. So it _might be_ that the library won&#39;t allow you to do that. I could be wrong though.","body":"I&#39;m not sure about that, but I&#39;d expect it to not be possible, since tests are made to run parallelly without dependencies on other tests. So it <i>might be</i> that the library won&#39;t allow you to do that. I could be wrong though."},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":0,"creation_date":1530604523,"post_id":51149043,"comment_id":89282315,"body_markdown":"BTW: The tests do not _depend_ on each other. They interfere each other when run in parallel. This seems to caused by the usage of some static mutable data.","body":"BTW: The tests do not <i>depend</i> on each other. They interfere each other when run in parallel. This seems to caused by the usage of some static mutable data."},{"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1530604901,"post_id":51149043,"comment_id":89282514,"body_markdown":"It must not. as by default : surefire (JUnit runner here) doesn&#39;t execute test in parallel.   \nSequential test execution is indeed the default behavior. So you don&#39;t need to set anything to get it.   \nBesides, the debug output confirms that no parallel execution is enabled :\n\n`&gt; [DEBUG]   (f) parallelMavenExecution = false`. Please provide a Minimal, Complete, and Verifiable example.","body":"It must not. as by default : surefire (JUnit runner here) doesn&#39;t execute test in parallel.    Sequential test execution is indeed the default behavior. So you don&#39;t need to set anything to get it.    Besides, the debug output confirms that no parallel execution is enabled :  <code>&gt; [DEBUG]   (f) parallelMavenExecution = false</code>. Please provide a Minimal, Complete, and Verifiable example."},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":0,"creation_date":1642357585,"post_id":51149043,"comment_id":125044018,"body_markdown":"@backslash There are many reasons why you might not want test run in parallel. In my case I can&#39;t read the log files if the test run in parallel. I would be happy with a temporary solution for debugging only. Why is everybody so quick to dismiss the need for a certain feature?","body":"@backslash There are many reasons why you might not want test run in parallel. In my case I can&#39;t read the log files if the test run in parallel. I would be happy with a temporary solution for debugging only. Why is everybody so quick to dismiss the need for a certain feature?"},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1642371153,"post_id":51149043,"comment_id":125047134,"body_markdown":"@Martin I understand your point. In a scenario like yours I&#39;d stub (part of) the log library so that each test writes logs in a stream that you own and can control, independent from what other tests are doing. I don&#39;t think it&#39;s about dismissing the need for a certain feature, in my opinion it&#39;s a matter of understanding how tests work. A unit test should be self contained, so libraries take this for granted, shared resources aren&#39;t an option. The fact that you need a feature doesn&#39;t mean it&#39;s missing, instead you might need to re-engineer your solution to meet the library&#39;s standards.","body":"@Martin I understand your point. In a scenario like yours I&#39;d stub (part of) the log library so that each test writes logs in a stream that you own and can control, independent from what other tests are doing. I don&#39;t think it&#39;s about dismissing the need for a certain feature, in my opinion it&#39;s a matter of understanding how tests work. A unit test should be self contained, so libraries take this for granted, shared resources aren&#39;t an option. The fact that you need a feature doesn&#39;t mean it&#39;s missing, instead you might need to re-engineer your solution to meet the library&#39;s standards."}],"answers":[{"tags":[],"owner":{"account_id":1544346,"reputation":117,"user_id":1438245,"display_name":"MortusUK"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1530608672,"creation_date":1530608672,"answer_id":51150605,"question_id":51149043,"body_markdown":"I would recomend you follow this guidance: \r\n \r\n&gt; Since of maven-surefire-plugin:2.18, you can apply the JCIP annotation @net.jcip.annotations.NotThreadSafe on the Java class of JUnit test (pure test class, Suite, Parameterized, etc.) in order to execute it in single Thread instance. The Thread has name maven-surefire-plugin@NotThreadSafe and it is executed at the end of the test run.\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#Parallel_Test_Execution_and_Single_Thread_Execution\r\n\r\nLike others have said they should really be rewritten and by exception the tests that absolutely cannot run in parallel should be annotated.\r\n\r\nFor your plugin definition i suggest you do let it run in parallel as it can be quite a bit faster on modern machines.\r\n\r\nI have mine defined as:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n\t\t\t&lt;runOrder&gt;random&lt;/runOrder&gt;\r\n\t\t\t&lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n\t\t\t&lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n\t\t\t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n\t\t\t&lt;forkedProcessExitTimeoutInSeconds&gt;2&lt;/forkedProcessExitTimeoutInSeconds&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"How to avoid surefire test to be run in parallel","body":"<p>I would recomend you follow this guidance: </p>\n\n<blockquote>\n  <p>Since of maven-surefire-plugin:2.18, you can apply the JCIP annotation @net.jcip.annotations.NotThreadSafe on the Java class of JUnit test (pure test class, Suite, Parameterized, etc.) in order to execute it in single Thread instance. The Thread has name maven-surefire-plugin@NotThreadSafe and it is executed at the end of the test run.\n  <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#Parallel_Test_Execution_and_Single_Thread_Execution\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#Parallel_Test_Execution_and_Single_Thread_Execution</a></p>\n</blockquote>\n\n<p>Like others have said they should really be rewritten and by exception the tests that absolutely cannot run in parallel should be annotated.</p>\n\n<p>For your plugin definition i suggest you do let it run in parallel as it can be quite a bit faster on modern machines.</p>\n\n<p>I have mine defined as:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;runOrder&gt;random&lt;/runOrder&gt;\n        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n        &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n        &lt;parallel&gt;methods&lt;/parallel&gt;\n        &lt;forkedProcessExitTimeoutInSeconds&gt;2&lt;/forkedProcessExitTimeoutInSeconds&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24517630,"reputation":41,"user_id":18431169,"display_name":"Raymond Xia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646936574,"creation_date":1646936574,"answer_id":71429010,"question_id":51149043,"body_markdown":"I just spent a few hours dealing with this and ended up resolving it by explicitly setting forkCount to 1. The default is supposed to be 1, but it sure doesn&#39;t act like it. \r\n\r\nI confirmed this by printing unique names for the running JVM (using ManagementFactory.getRuntimeMXBean().getName()) in a few test cases, each in their own class, along with 30 second Thread.sleep() calls. Without explicitly setting forkCount, sleep() did not block execution of other test cases - teach test clearly ran simultaneously, and getName() returned clearly different values. When I explicitly set forkCount to 1, the sleep() calls blocked execution as expected and getName() returned the same value every time.\r\n\r\n\r\nAlso, just wanted to add @NotThreadSafe is apparently [not working as intended][1] either. I tried it first with no luck. \r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-1373","title":"How to avoid surefire test to be run in parallel","body":"<p>I just spent a few hours dealing with this and ended up resolving it by explicitly setting forkCount to 1. The default is supposed to be 1, but it sure doesn't act like it.</p>\n<p>I confirmed this by printing unique names for the running JVM (using ManagementFactory.getRuntimeMXBean().getName()) in a few test cases, each in their own class, along with 30 second Thread.sleep() calls. Without explicitly setting forkCount, sleep() did not block execution of other test cases - teach test clearly ran simultaneously, and getName() returned clearly different values. When I explicitly set forkCount to 1, the sleep() calls blocked execution as expected and getName() returned the same value every time.</p>\n<p>Also, just wanted to add @NotThreadSafe is apparently <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1373\" rel=\"nofollow noreferrer\">not working as intended</a> either. I tried it first with no luck.</p>\n"}],"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10019,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1646936574,"creation_date":1530603576,"question_id":51149043,"body_markdown":"I have an application here where the unit tests are written in a way that they cannot be run in parallel.\r\n\r\nWhen running the tests with maven some of them fail for that reason.\r\nI could verify that they are run in parallel by doing a \r\n\r\n    System.out.println(System.currentTimeMillis() +&quot;&gt;&gt;&gt; executing testXXX&quot;);\r\n    System.out.println(System.currentTimeMillis() +&quot;&gt;&gt;&gt; finished  testXXX&quot;);\r\n\r\nat the start and end of each method.\r\nThe output is:\r\n\r\n    1530602546964&gt;&gt;&gt; executing testInstantiation                                                                                                                         \r\n    1530602547036&lt;&lt;&lt; finished  testInstantiation                                                                                                                         \r\n    1530602547042&gt;&gt;&gt; executing testSimilarNamedResources                                                                                                                 \r\n    1530602547050&gt;&gt;&gt; executing testTranslateWithMissingKey                                                                                                               \r\n    1530602547051&gt;&gt;&gt; executing testTryTranslateWithMissingKey                                                                                                            \r\n    1530602547051&lt;&lt;&lt; finished  testTryTranslateWithMissingKey                                                                                                            \r\n    1530602547051&gt;&gt;&gt; executing testTranslationMapWithMissingKey                                                                                                          \r\n    1530602547055&gt;&gt;&gt; executing testSilentlyIgnoringExceptionTranslationMapWithMissingKey                                                                                 \r\n    1530602547055&lt;&lt;&lt; finished  testSilentlyIgnoringExceptionTranslationMapWithMissingKey   \r\n\r\nAs we can see after testSimilarNamedResources started, some other tests are started, too.\r\n\r\nI tried to configure the surefire plugin to not run in parallel:\r\n\r\n    &lt;build&gt;                                                                                                                                                           \r\n       &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.22.0&lt;/version&gt;\r\n           &lt;configuration&gt;\r\n             &lt;!--parallel&gt;false&lt;/parallel--&gt;\r\n             &lt;threadCount&gt;1&lt;/threadCount&gt;\r\n             &lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;\r\n           &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBut it still executes these tests in paralled.\r\nI ran mvn with the `-X` option to see whether my configuration was applied and got this output:\r\n\r\n    $ mvn -X test | grep -iE &quot;(parallel|threadcount)&quot;                                                                                                                \r\n      &lt;parallel&gt;${parallel}&lt;/parallel&gt;                                                                                                                               \r\n      &lt;parallelMavenExecution default-value=&quot;${session.parallel}&quot;/&gt;                                                                                                  \r\n      &lt;parallelOptimized default-value=&quot;true&quot;&gt;${parallelOptimized}&lt;/parallelOptimized&gt;                                                                               \r\n      &lt;parallelTestsTimeoutForcedInSeconds&gt;${surefire.parallel.forcedTimeout}&lt;parallelTestsTimeoutForcedInSeconds&gt;                                                   \r\n      &lt;parallelTestsTimeoutInSeconds&gt;${surefire.parallel.timeout}&lt;parallelTestsTimeoutInSeconds&gt;                                                                     \r\n      &lt;perCoreThreadCount default-value=&quot;true&quot;&gt;false&lt;/perCoreThreadCount&gt;                                                                                            \r\n      &lt;threadCount&gt;0&lt;/threadCount&gt;                                                                                                                                   \r\n      &lt;threadCountClasses default-value=&quot;0&quot;&gt;${threadCountClasses}&lt;/threadCountClasses&gt;                                                                               \r\n      &lt;threadCountMethods default-value=&quot;0&quot;&gt;${threadCountMethods}&lt;/threadCountMethods&gt;                                                                               \r\n      &lt;threadCountSuites default-value=&quot;0&quot;&gt;${threadCountSuites}&lt;/threadCountSuites&gt;                                                                                  \r\n    [DEBUG]   (f) parallelMavenExecution = false                                                                                                                     \r\n    [DEBUG]   (s) parallelOptimized = true                                                                                                                           \r\n    [DEBUG]   (s) perCoreThreadCount = false                                                                                                                         \r\n    [DEBUG]   (s) threadCount = 0                                                                                                                                    \r\n    [DEBUG]   (s) threadCountClasses = 0                                                                                                                             \r\n    [DEBUG]   (s) threadCountMethods = 0                                                                                                                             \r\n    [DEBUG]   (s) threadCountSuites = 0                    \r\n\r\nDo I miss something in the plugin configuration?\r\n\r\n\r\n**UPDATE:**\r\n\r\nI have given up. The behaviour was too strange. Trying to create simple sample didn&#39;t work. Those tests were not run in parallel. I didn&#39;t found out why this was the case here. \r\nWe will revamp the whole code and therefore also the unit tests. Not need to find a solution anymore, but it still puzzles me why it showed this strange behaviour…","title":"How to avoid surefire test to be run in parallel","body":"<p>I have an application here where the unit tests are written in a way that they cannot be run in parallel.</p>\n\n<p>When running the tests with maven some of them fail for that reason.\nI could verify that they are run in parallel by doing a </p>\n\n<pre><code>System.out.println(System.currentTimeMillis() +\"&gt;&gt;&gt; executing testXXX\");\nSystem.out.println(System.currentTimeMillis() +\"&gt;&gt;&gt; finished  testXXX\");\n</code></pre>\n\n<p>at the start and end of each method.\nThe output is:</p>\n\n<pre><code>1530602546964&gt;&gt;&gt; executing testInstantiation                                                                                                                         \n1530602547036&lt;&lt;&lt; finished  testInstantiation                                                                                                                         \n1530602547042&gt;&gt;&gt; executing testSimilarNamedResources                                                                                                                 \n1530602547050&gt;&gt;&gt; executing testTranslateWithMissingKey                                                                                                               \n1530602547051&gt;&gt;&gt; executing testTryTranslateWithMissingKey                                                                                                            \n1530602547051&lt;&lt;&lt; finished  testTryTranslateWithMissingKey                                                                                                            \n1530602547051&gt;&gt;&gt; executing testTranslationMapWithMissingKey                                                                                                          \n1530602547055&gt;&gt;&gt; executing testSilentlyIgnoringExceptionTranslationMapWithMissingKey                                                                                 \n1530602547055&lt;&lt;&lt; finished  testSilentlyIgnoringExceptionTranslationMapWithMissingKey   \n</code></pre>\n\n<p>As we can see after testSimilarNamedResources started, some other tests are started, too.</p>\n\n<p>I tried to configure the surefire plugin to not run in parallel:</p>\n\n<pre><code>&lt;build&gt;                                                                                                                                                           \n   &lt;plugins&gt;\n     &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;version&gt;2.22.0&lt;/version&gt;\n       &lt;configuration&gt;\n         &lt;!--parallel&gt;false&lt;/parallel--&gt;\n         &lt;threadCount&gt;1&lt;/threadCount&gt;\n         &lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;\n       &lt;/configuration&gt;\n     &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>But it still executes these tests in paralled.\nI ran mvn with the <code>-X</code> option to see whether my configuration was applied and got this output:</p>\n\n<pre><code>$ mvn -X test | grep -iE \"(parallel|threadcount)\"                                                                                                                \n  &lt;parallel&gt;${parallel}&lt;/parallel&gt;                                                                                                                               \n  &lt;parallelMavenExecution default-value=\"${session.parallel}\"/&gt;                                                                                                  \n  &lt;parallelOptimized default-value=\"true\"&gt;${parallelOptimized}&lt;/parallelOptimized&gt;                                                                               \n  &lt;parallelTestsTimeoutForcedInSeconds&gt;${surefire.parallel.forcedTimeout}&lt;parallelTestsTimeoutForcedInSeconds&gt;                                                   \n  &lt;parallelTestsTimeoutInSeconds&gt;${surefire.parallel.timeout}&lt;parallelTestsTimeoutInSeconds&gt;                                                                     \n  &lt;perCoreThreadCount default-value=\"true\"&gt;false&lt;/perCoreThreadCount&gt;                                                                                            \n  &lt;threadCount&gt;0&lt;/threadCount&gt;                                                                                                                                   \n  &lt;threadCountClasses default-value=\"0\"&gt;${threadCountClasses}&lt;/threadCountClasses&gt;                                                                               \n  &lt;threadCountMethods default-value=\"0\"&gt;${threadCountMethods}&lt;/threadCountMethods&gt;                                                                               \n  &lt;threadCountSuites default-value=\"0\"&gt;${threadCountSuites}&lt;/threadCountSuites&gt;                                                                                  \n[DEBUG]   (f) parallelMavenExecution = false                                                                                                                     \n[DEBUG]   (s) parallelOptimized = true                                                                                                                           \n[DEBUG]   (s) perCoreThreadCount = false                                                                                                                         \n[DEBUG]   (s) threadCount = 0                                                                                                                                    \n[DEBUG]   (s) threadCountClasses = 0                                                                                                                             \n[DEBUG]   (s) threadCountMethods = 0                                                                                                                             \n[DEBUG]   (s) threadCountSuites = 0                    \n</code></pre>\n\n<p>Do I miss something in the plugin configuration?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have given up. The behaviour was too strange. Trying to create simple sample didn't work. Those tests were not run in parallel. I didn't found out why this was the case here. \nWe will revamp the whole code and therefore also the unit tests. Not need to find a solution anymore, but it still puzzles me why it showed this strange behaviour…</p>\n"},{"tags":["java","spring-mvc","spring-validator"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1527276390,"post_id":50535214,"comment_id":88083394,"body_markdown":"Both of your &quot;obviously invalid&quot; addresses are in fact legal (if not generally very useful).","body":"Both of your &quot;obviously invalid&quot; addresses are in fact legal (if not generally very useful)."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1527330962,"creation_date":1527275989,"answer_id":50535614,"question_id":50535214,"body_markdown":"A email without `.` may be considered as valid according to the validators.   \r\nIn a general way, validator implementations (here it is probably the Hibernate Validator) are not very restrictive about emails.   \r\nFor example the [`org.hibernate.validator.internal.constraintvalidators.AbstractEmailValidator`][1] javadoc states :\r\n\r\n\r\n&gt; The specification of a valid email can be found in [RFC 2822][2] and one\r\n&gt; can come up with a regular expression matching all valid email\r\n&gt; addresses as per specification. **However, as [this article][2] discusses it\r\n&gt; is not necessarily practical to implement a 100% compliant email\r\n&gt; validator.** This implementation is a trade-off trying to match most\r\n&gt; email while ignoring for example emails with double quotes or\r\n&gt; comments. \r\n\r\nAnd as a side note, I noticed similarly things with HTML Validator for emails.\r\n\r\nSo I think that the behavior that you encounter actually is which one expected.  \r\nAnd about your question :\r\n\r\n&gt; *Do I need to pass my own regex implementation for @Email(regex=&quot;&quot;)*\r\n\r\nIndeed. You don&#39;t have any other choice if you want to make the validation more restrictive.    \r\nAs alternative, this [answer][3] creating its own validator via a constraints composition is really interesting  as it is DRY (you can reuse your custom `ConstraintValidator` without specified at each time the pattern as it will be included in) and it reuses the &quot;good part&quot; of the `@Email` `ConstraintValidator` :\r\n\r\n    @Email(message=&quot;Please provide a valid email address&quot;)\r\n    @Pattern(regexp=&quot;.+@.+\\\\..+&quot;, message=&quot;Please provide a valid email address&quot;)\r\n    @Target( { METHOD, FIELD, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {})\r\n    @Documented\r\n    public @interface ExtendedEmailValidator {\r\n        String message() default &quot;Please provide a valid email address&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/AbstractEmailValidator.html\r\n  [2]: http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html\r\n  [3]: https://stackoverflow.com/a/12515543/270371","title":"javax.validation.constraints.Email matching invalid email address","body":"<p>A email without <code>.</code> may be considered as valid according to the validators.<br>\nIn a general way, validator implementations (here it is probably the Hibernate Validator) are not very restrictive about emails.<br>\nFor example the <a href=\"http://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/AbstractEmailValidator.html\" rel=\"noreferrer\"><code>org.hibernate.validator.internal.constraintvalidators.AbstractEmailValidator</code></a> javadoc states :</p>\n\n<blockquote>\n  <p>The specification of a valid email can be found in <a href=\"http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html\" rel=\"noreferrer\">RFC 2822</a> and one\n  can come up with a regular expression matching all valid email\n  addresses as per specification. <strong>However, as <a href=\"http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html\" rel=\"noreferrer\">this article</a> discusses it\n  is not necessarily practical to implement a 100% compliant email\n  validator.</strong> This implementation is a trade-off trying to match most\n  email while ignoring for example emails with double quotes or\n  comments. </p>\n</blockquote>\n\n<p>And as a side note, I noticed similarly things with HTML Validator for emails.</p>\n\n<p>So I think that the behavior that you encounter actually is which one expected.<br>\nAnd about your question :</p>\n\n<blockquote>\n  <p><em>Do I need to pass my own regex implementation for @Email(regex=\"\")</em></p>\n</blockquote>\n\n<p>Indeed. You don't have any other choice if you want to make the validation more restrictive.<br>\nAs alternative, this <a href=\"https://stackoverflow.com/a/12515543/270371\">answer</a> creating its own validator via a constraints composition is really interesting  as it is DRY (you can reuse your custom <code>ConstraintValidator</code> without specified at each time the pattern as it will be included in) and it reuses the \"good part\" of the <code>@Email</code> <code>ConstraintValidator</code> :</p>\n\n<pre><code>@Email(message=\"Please provide a valid email address\")\n@Pattern(regexp=\".+@.+\\\\..+\", message=\"Please provide a valid email address\")\n@Target( { METHOD, FIELD, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = {})\n@Documented\npublic @interface ExtendedEmailValidator {\n    String message() default \"Please provide a valid email address\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2426200,"reputation":474,"user_id":2118060,"accept_rate":25,"display_name":"Ajay Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646936478,"creation_date":1646936478,"answer_id":71428993,"question_id":50535214,"body_markdown":"Or you can simply add \r\n```\r\n@Email(regexp = &quot;.+[@].+[\\\\.].+&quot;)\r\n```\r\nto the column you want to be validated.","title":"javax.validation.constraints.Email matching invalid email address","body":"<p>Or you can simply add</p>\n<pre><code>@Email(regexp = &quot;.+[@].+[\\\\.].+&quot;)\n</code></pre>\n<p>to the column you want to be validated.</p>\n"}],"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43724,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":50535614,"answer_count":2,"score":18,"last_activity_date":1646936478,"creation_date":1527274056,"question_id":50535214,"body_markdown":"I have a `User` entity having email property annotated with `@Email`\r\n\r\n    @Email\r\n    private String email;\r\nI am using `@Valid` (javax.validation.Valid) annotation on my Controller class. The issue is that the controller validator is passing the invalid emails. Example:    \r\n**pusp@1** - obviously this is an invalid email address   \r\n**pusp@fake**    \r\nThe pattern I noticed is, the `@Email` only want **sometext@text**, it don&#39;t care for the extensions(.com/org etc). Is it the expected behaviour? Do I need to pass my own regex implementation for `@Email(regex=&quot;&quot;)` ","title":"javax.validation.constraints.Email matching invalid email address","body":"<p>I have a <code>User</code> entity having email property annotated with <code>@Email</code></p>\n\n<pre><code>@Email\nprivate String email;\n</code></pre>\n\n<p>I am using <code>@Valid</code> (javax.validation.Valid) annotation on my Controller class. The issue is that the controller validator is passing the invalid emails. Example:<br>\n<strong>pusp@1</strong> - obviously this is an invalid email address<br>\n<strong>pusp@fake</strong><br>\nThe pattern I noticed is, the <code>@Email</code> only want <strong>sometext@text</strong>, it don't care for the extensions(.com/org etc). Is it the expected behaviour? Do I need to pass my own regex implementation for <code>@Email(regex=\"\")</code> </p>\n"},{"tags":["java","security","assembly","jit","side-channel-attacks"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1646198744,"post_id":71316831,"comment_id":126061449,"body_markdown":"I&#39;d guess you&#39;d want to call out to a native library for crypto, avoiding the JIT.  Both for performance and security.  But that&#39;s of course not an answer to the question; there might be a portable or JVM-specific way to get it to compile your non-branching code into branchless asm.  Compilers / JITs don&#39;t usually invent branches, unless you&#39;re doing something convoluted exactly because you&#39;re trying to do something conditional without branching.","body":"I&#39;d guess you&#39;d want to call out to a native library for crypto, avoiding the JIT.  Both for performance and security.  But that&#39;s of course not an answer to the question; there might be a portable or JVM-specific way to get it to compile your non-branching code into branchless asm.  Compilers / JITs don&#39;t usually invent branches, unless you&#39;re doing something convoluted exactly because you&#39;re trying to do something conditional without branching."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1646453809,"post_id":71316831,"comment_id":126132972,"body_markdown":"Just a rough idea: You could use several different but compatible implementations of loop bodies that consume most of the run time and then use a UUID-seeded crypto-secure rng to switch among the implementations as the algorithm runs.  That would at least make the side channels much harder to interpret.","body":"Just a rough idea: You could use several different but compatible implementations of loop bodies that consume most of the run time and then use a UUID-seeded crypto-secure rng to switch among the implementations as the algorithm runs.  That would at least make the side channels much harder to interpret."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1646926689,"post_id":71316831,"comment_id":126249372,"body_markdown":"This question got [reposted to security.SE](https://security.stackexchange.com/questions/260130/how-are-code-branch-side-channel-attacks-mitigated-on-java) where it has a couple answers.","body":"This question got <a href=\"https://security.stackexchange.com/questions/260130/how-are-code-branch-side-channel-attacks-mitigated-on-java\">reposted to security.SE</a> where it has a couple answers."}],"answers":[{"tags":[],"owner":{"account_id":23218352,"reputation":168,"user_id":17310966,"display_name":"fish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646936311,"creation_date":1646925858,"answer_id":71426645,"question_id":71316831,"body_markdown":"When performing side-channel attacks, one of the main ways of doing these are to read the power-consumption of the chip using *differential power analysis (DPA)*. When you have a branch in a code, such as an if statement, this can adversely affect the power draw in such a way that correlations can be made as to which choices are being made. To thwart this analysis, it would be in your interest to have a &quot;linear&quot; power consumption. This can do some degree be mitigated by code, but would ultimately depend upon the device itself. According Brennan et.al [1], some chose to tackle the java JIT issue by caching instructions. In code, the &quot;best&quot; you could do would be to program using canaries, in order to confuse an attacker, as proposed by Brennan et.al [2], and demonstrated in the following (very simplified) example code:\r\n\r\n\r\n    public bool check(String guess) {\r\n    \tfor(int i=0; i&lt;guess.len; i++)\r\n    \t\treturn false;\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\nversus;\r\n\r\n    public bool check(String guess) {\r\n    \tbool flag=true, fakeFlag=true;\r\n    \tfor(int i=0; i&lt;guess.len; i++) {\r\n    \t\tif (guess[i] != password[i])\r\n    \t\t\tflag=false;\r\n    \t\telse\r\n    \t\t\tfakeFlag = false:\r\n    \t\t}\r\n    \treturn flag;\r\n    \t}\r\n    }\r\n\r\n\r\n[1]: T. Brennan, &quot;Detection and Mitigation of JIT-Induced Side Channels*,&quot; 2020 IEEE/ACM 42nd International Conference on Software Engineering: Companion Proceedings (ICSE-Companion), 2020, pp. 143-145.\r\n\r\n[2]: T. Brennan, N. Rosner and T. Bultan, &quot;JIT Leaks: Inducing Timing Side Channels through Just-In-Time Compilation,&quot; 2020 IEEE Symposium on Security and Privacy (SP), 2020, pp. 1207-1222, doi: 10.1109/SP40000.2020.00007.\r\n\r\n","title":"How are code-branch side channel attacks mitigated on Java?","body":"<p>When performing side-channel attacks, one of the main ways of doing these are to read the power-consumption of the chip using <em>differential power analysis (DPA)</em>. When you have a branch in a code, such as an if statement, this can adversely affect the power draw in such a way that correlations can be made as to which choices are being made. To thwart this analysis, it would be in your interest to have a &quot;linear&quot; power consumption. This can do some degree be mitigated by code, but would ultimately depend upon the device itself. According Brennan et.al [1], some chose to tackle the java JIT issue by caching instructions. In code, the &quot;best&quot; you could do would be to program using canaries, in order to confuse an attacker, as proposed by Brennan et.al [2], and demonstrated in the following (very simplified) example code:</p>\n<pre><code>public bool check(String guess) {\n    for(int i=0; i&lt;guess.len; i++)\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>versus;</p>\n<pre><code>public bool check(String guess) {\n    bool flag=true, fakeFlag=true;\n    for(int i=0; i&lt;guess.len; i++) {\n        if (guess[i] != password[i])\n            flag=false;\n        else\n            fakeFlag = false:\n        }\n    return flag;\n    }\n}\n</code></pre>\n<p>[1]: T. Brennan, &quot;Detection and Mitigation of JIT-Induced Side Channels*,&quot; 2020 IEEE/ACM 42nd International Conference on Software Engineering: Companion Proceedings (ICSE-Companion), 2020, pp. 143-145.</p>\n<p>[2]: T. Brennan, N. Rosner and T. Bultan, &quot;JIT Leaks: Inducing Timing Side Channels through Just-In-Time Compilation,&quot; 2020 IEEE Symposium on Security and Privacy (SP), 2020, pp. 1207-1222, doi: 10.1109/SP40000.2020.00007.</p>\n"}],"owner":{"account_id":4796691,"reputation":2276,"user_id":10116440,"display_name":"Guerlando OCs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71426645,"answer_count":1,"score":4,"last_activity_date":1646936311,"creation_date":1646188784,"question_id":71316831,"body_markdown":"When you are working with secret keys, if your code branches unequally it could reveal bits of the secret keys via side channels. So for some algorithms it should branch uniformly independently of the secret key.\r\n\r\nOn C/C++/Rust, you can use assembly to be sure that no compiler optimizations will mess with the branching. However, on Java, the situation is difficult. First of all, it does JIT for desktop, and AOT on Android, so there are 2 possibilities for the code to be optimized in an unpredictable way, as JIT and AOT are always changing and can be different for each device. So, how are side channel attacks that take advantage of branching prevented on Java?","title":"How are code-branch side channel attacks mitigated on Java?","body":"<p>When you are working with secret keys, if your code branches unequally it could reveal bits of the secret keys via side channels. So for some algorithms it should branch uniformly independently of the secret key.</p>\n<p>On C/C++/Rust, you can use assembly to be sure that no compiler optimizations will mess with the branching. However, on Java, the situation is difficult. First of all, it does JIT for desktop, and AOT on Android, so there are 2 possibilities for the code to be optimized in an unpredictable way, as JIT and AOT are always changing and can be different for each device. So, how are side channel attacks that take advantage of branching prevented on Java?</p>\n"},{"tags":["java","gradle","netty","micronaut","gradle-shadow-plugin"],"comments":[{"owner":{"account_id":3929018,"reputation":179,"user_id":3248370,"display_name":"Serverfrog"},"score":0,"creation_date":1574680190,"post_id":58755410,"comment_id":104304782,"body_markdown":"Isn&#39;t it exactly that plugin that creates the fat-jar? So without a Plugin that create a fat-jar, you must do it yourself inside Gradle the hard and ugly way (building yourself a JAR with correct manifest, with logic for overwriting classes,etc.). It&#39;s a bit more that just put all libs extracted in the jar","body":"Isn&#39;t it exactly that plugin that creates the fat-jar? So without a Plugin that create a fat-jar, you must do it yourself inside Gradle the hard and ugly way (building yourself a JAR with correct manifest, with logic for overwriting classes,etc.). It&#39;s a bit more that just put all libs extracted in the jar"},{"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"score":0,"creation_date":1574837024,"post_id":58755410,"comment_id":104367481,"body_markdown":"This question really has nothing to do with Micronaut. You should explain your reasoning for not using the shadow plugin otherwise it doesn&#39;t make sense.","body":"This question really has nothing to do with Micronaut. You should explain your reasoning for not using the shadow plugin otherwise it doesn&#39;t make sense."},{"owner":{"account_id":1018172,"reputation":822,"user_id":1029247,"accept_rate":89,"display_name":"thisdotnull"},"score":0,"creation_date":1575326810,"post_id":58755410,"comment_id":104521263,"body_markdown":"@Serverfrog Yes, `shadow-jar` works fine with micronaut. Other approach to create a fat-jar is by using `jar` task of `java` plugin in gradle. It&#39;s mentioned up there if you read the entire question. I am trying to understand why the latter isn&#39;t working for micronaut while it works for a simple java app.","body":"@Serverfrog Yes, <code>shadow-jar</code> works fine with micronaut. Other approach to create a fat-jar is by using <code>jar</code> task of <code>java</code> plugin in gradle. It&#39;s mentioned up there if you read the entire question. I am trying to understand why the latter isn&#39;t working for micronaut while it works for a simple java app."},{"owner":{"account_id":1018172,"reputation":822,"user_id":1029247,"accept_rate":89,"display_name":"thisdotnull"},"score":1,"creation_date":1575326882,"post_id":58755410,"comment_id":104521280,"body_markdown":"@JamesKleeh Yes it might not be a micronaut problem. I am trying to understand why `jar` task of `java` gradle plugin isn&#39;t working for micronaut while it works for a simple java app.","body":"@JamesKleeh Yes it might not be a micronaut problem. I am trying to understand why <code>jar</code> task of <code>java</code> gradle plugin isn&#39;t working for micronaut while it works for a simple java app."},{"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"score":0,"creation_date":1575386662,"post_id":58755410,"comment_id":104544991,"body_markdown":"shadow jar combines your code and your dependencies into a single jar. If you just use jar you have to add your dependencies to the classpath when running the app via java -jar","body":"shadow jar combines your code and your dependencies into a single jar. If you just use jar you have to add your dependencies to the classpath when running the app via java -jar"},{"owner":{"account_id":1018172,"reputation":822,"user_id":1029247,"accept_rate":89,"display_name":"thisdotnull"},"score":0,"creation_date":1575502360,"post_id":58755410,"comment_id":104592323,"body_markdown":"resulting `fat-jar` contains all the classes and it is executable. When Micronaut entry point is invoked, it doesn&#39;t find any embedded server in context which I am guessing should be `io.micronaut.http.server.netty.NettyHttpServer`, although I can see this class file in packaged jar.","body":"resulting <code>fat-jar</code> contains all the classes and it is executable. When Micronaut entry point is invoked, it doesn&#39;t find any embedded server in context which I am guessing should be <code>io.micronaut.http.server.netty.NettyHttpServer</code>, although I can see this class file in packaged jar."}],"owner":{"account_id":1018172,"reputation":822,"user_id":1029247,"accept_rate":89,"display_name":"thisdotnull"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646936171,"creation_date":1573153457,"question_id":58755410,"body_markdown":"What started as a roadblock to setup a new Micronaut project with corporate repo, is now more about curiosity of how Embedded server is bootstrapped. I have a [Micronaut][1] CLI generated project with `com.github.johnrengelman.shadow` **gradle** plugin which works fine when I run the jar using-\r\n\r\n    $ java -Dmicronaut.environments=E1 -jar build/appBundle/app.jar\r\n\r\n**build.gradle**-\r\n\r\n    plugins {\r\n      id &quot;com.github.johnrengelman.shadow&quot; version &quot;5.0.0&quot;\r\n    }\r\n\r\n    ...\r\n\r\n    shadowJar {\r\n        mergeServiceFiles()\r\n    }\r\n\r\n\r\nWhen I replace `shadow` plugin/task with `jar` task and `java` plugin, then I am able to create an executable fat-jar , but it fails with following error-\r\n\r\n    $ java -Dmicronaut.environments=E1 -jar build/appBundle/app.jar\r\n    16:12:22.662 [main] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [E1]\r\n    16:12:22.863 [main] INFO  io.micronaut.runtime.Micronaut - No embedded container found. Running as CLI application\r\n\r\n**build.gradle**-\r\n\r\n    plugins {\r\n      id &quot;java&quot;\r\n    }\r\n\r\n    ...\r\n\r\n    jar {\r\n      manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;foo.bar.someclass&quot;\r\n      }\r\n\r\n      from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n      }\r\n    }\r\n\r\n\r\n1. What I would like to understand is how the embedded server bean is getting injected with shadow plugin but not otherwise?\r\n2. How to create a `fat-jar` with embedded Netty server and without using `com.github.johnrengelman.shadow` gradle plugin?\r\n\r\n  [1]: https://docs.micronaut.io/latest/guide/index.html","title":"How to create Micronaut&#39;s fat-jar without shadow plugin?","body":"<p>What started as a roadblock to setup a new Micronaut project with corporate repo, is now more about curiosity of how Embedded server is bootstrapped. I have a <a href=\"https://docs.micronaut.io/latest/guide/index.html\" rel=\"nofollow noreferrer\">Micronaut</a> CLI generated project with <code>com.github.johnrengelman.shadow</code> <strong>gradle</strong> plugin which works fine when I run the jar using-</p>\n<pre><code>$ java -Dmicronaut.environments=E1 -jar build/appBundle/app.jar\n</code></pre>\n<p><strong>build.gradle</strong>-</p>\n<pre><code>plugins {\n  id &quot;com.github.johnrengelman.shadow&quot; version &quot;5.0.0&quot;\n}\n\n...\n\nshadowJar {\n    mergeServiceFiles()\n}\n</code></pre>\n<p>When I replace <code>shadow</code> plugin/task with <code>jar</code> task and <code>java</code> plugin, then I am able to create an executable fat-jar , but it fails with following error-</p>\n<pre><code>$ java -Dmicronaut.environments=E1 -jar build/appBundle/app.jar\n16:12:22.662 [main] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [E1]\n16:12:22.863 [main] INFO  io.micronaut.runtime.Micronaut - No embedded container found. Running as CLI application\n</code></pre>\n<p><strong>build.gradle</strong>-</p>\n<pre><code>plugins {\n  id &quot;java&quot;\n}\n\n...\n\njar {\n  manifest {\n    attributes &quot;Main-Class&quot;: &quot;foo.bar.someclass&quot;\n  }\n\n  from {\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n  }\n}\n</code></pre>\n<ol>\n<li>What I would like to understand is how the embedded server bean is getting injected with shadow plugin but not otherwise?</li>\n<li>How to create a <code>fat-jar</code> with embedded Netty server and without using <code>com.github.johnrengelman.shadow</code> gradle plugin?</li>\n</ol>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626357097,"creation_date":1626357097,"answer_id":68395143,"question_id":68395082,"body_markdown":"How about:\r\n\r\n    if (choosenThings != null) {\r\n        // your filtering logic\r\n    }\r\n\r\nIf all you have is streams, everything looks like a lambda...","title":"how to filter a list only if the another list is not null","body":"<p>How about:</p>\n<pre><code>if (choosenThings != null) {\n    // your filtering logic\n}\n</code></pre>\n<p>If all you have is streams, everything looks like a lambda...</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626357797,"creation_date":1626357797,"answer_id":68395315,"question_id":68395082,"body_markdown":"It is possible to do the null check in filter but ugly as hell:\r\n\r\n    myList.stream()\r\n          .filter(e-&gt; choosenThings != null ? choosenThings.contains(e.getKindId()) : true)\r\n          .collect(Collectors.toList())","title":"how to filter a list only if the another list is not null","body":"<p>It is possible to do the null check in filter but ugly as hell:</p>\n<pre><code>myList.stream()\n      .filter(e-&gt; choosenThings != null ? choosenThings.contains(e.getKindId()) : true)\n      .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626358466,"creation_date":1626358466,"answer_id":68395498,"question_id":68395082,"body_markdown":"```\r\nmyList.stream()\r\n      .filter(e -&gt; choosenThings == null || choosenThings.contains(e.getKindId()))\r\n      .collect(Collectors.toList())\r\n```","title":"how to filter a list only if the another list is not null","body":"<pre><code>myList.stream()\n      .filter(e -&gt; choosenThings == null || choosenThings.contains(e.getKindId()))\n      .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11595728"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626380322,"creation_date":1626359757,"answer_id":68395858,"question_id":68395082,"body_markdown":"Why test `chosenThings`&#39;s reference for every element in the stream? Here&#39;s a variant on @Adriaan_Koster&#39;s solution:\r\n\r\n```java\r\nPredicate&lt;Element&gt; predicate = \r\n    chosenThings == null ? e -&gt; true: e -&gt; chosenThings.contains(e);\r\nmyList.stream()\r\n    .filter(predicate)\r\n    .collect(Collectors.toList());\r\n```","title":"how to filter a list only if the another list is not null","body":"<p>Why test <code>chosenThings</code>'s reference for every element in the stream? Here's a variant on @Adriaan_Koster's solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Element&gt; predicate = \n    chosenThings == null ? e -&gt; true: e -&gt; chosenThings.contains(e);\nmyList.stream()\n    .filter(predicate)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":22217508,"reputation":21,"user_id":16455710,"display_name":"herny.sienk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1646935921,"creation_date":1626356888,"question_id":68395082,"body_markdown":"I&#39;m trying to filter a list `myList`, but only if the another list `choosenThings` is NOT null.\r\n\r\n**Optionally:** Check if it has at least one element.\r\n\r\n\r\n`myList` - the base list I&#39;m filtering\r\n\r\n`choosenThings` - list with something data\r\n\r\n    myList.stream()\r\n          .filter(e -&gt; choosenThings.contains(e.getKindId()))\r\n          .collect(Collectors.toList());\r\n\r\n  \r\n  How can I do this? Is it possible to do this in filter?","title":"how to filter a list only if the another list is not null","body":"<p>I'm trying to filter a list <code>myList</code>, but only if the another list <code>choosenThings</code> is NOT null.</p>\n<p><strong>Optionally:</strong> Check if it has at least one element.</p>\n<p><code>myList</code> - the base list I'm filtering</p>\n<p><code>choosenThings</code> - list with something data</p>\n<pre><code>myList.stream()\n      .filter(e -&gt; choosenThings.contains(e.getKindId()))\n      .collect(Collectors.toList());\n</code></pre>\n<p>How can I do this? Is it possible to do this in filter?</p>\n"},{"tags":["java","arrays","binaryfiles"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":6,"creation_date":1646924458,"post_id":71426196,"comment_id":126248423,"body_markdown":"You&#39;re not reading into the array: you&#39;re repeatedly reading into a single  `&#236;nt` variable. Try it again","body":"You&#39;re not reading into the array: you&#39;re repeatedly reading into a single  <code>&#236;nt</code> variable. Try it again"},{"owner":{"account_id":24516627,"reputation":11,"user_id":18430280,"display_name":"Fuzzy_Pancake"},"score":0,"creation_date":1646931768,"post_id":71426196,"comment_id":126251482,"body_markdown":"Thank you!  I&#39;m quite new here (clearly), I really appreciate the response!","body":"Thank you!  I&#39;m quite new here (clearly), I really appreciate the response!"}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646935862,"creation_date":1646935862,"answer_id":71428867,"question_id":71426196,"body_markdown":"You need just to modify the array passed in parameters, your `readArray` function is just read and does not modify the array.\r\n\r\ntry ramplacing your `readArray` function by this one:\r\n\r\n        public static void readArray(String filename, int[] array) throws IOException{\r\n    \t\tint number;\r\n    \t\tboolean endOfFile = false;\r\n    \r\n    \t\t//Open the file.\r\n    \t\tFileInputStream fstream = new FileInputStream(&quot;MyNumbers.txt&quot;);\r\n    \t\tDataInputStream inputFile = new DataInputStream(fstream);\r\n    \r\n    \t\t//Read values from the array.\r\n    \t\tint i = 0;\r\n    \t\twhile (!endOfFile){\r\n    \t\t\ttry{\r\n    \t\t\t\tnumber = inputFile.readInt();\r\n    \t\t\t\tarray[i] = number;\r\n    \t\t\t\ti++;\r\n    \t\t\t\t\r\n    \t\t\t}catch (EOFException e)\r\n    \t\t\t{\r\n    \t\t\t\tendOfFile = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t//Close the file.\r\n    \t\tinputFile.close();\r\n    \t}\r\n\r\nresult :\r\n\r\n    The numbers read from the file are:\r\n    1 2 3 4 5 6 7 8 ","title":"Trying to read from a binary file to an array","body":"<p>You need just to modify the array passed in parameters, your <code>readArray</code> function is just read and does not modify the array.</p>\n<p>try ramplacing your <code>readArray</code> function by this one:</p>\n<pre><code>    public static void readArray(String filename, int[] array) throws IOException{\n        int number;\n        boolean endOfFile = false;\n\n        //Open the file.\n        FileInputStream fstream = new FileInputStream(&quot;MyNumbers.txt&quot;);\n        DataInputStream inputFile = new DataInputStream(fstream);\n\n        //Read values from the array.\n        int i = 0;\n        while (!endOfFile){\n            try{\n                number = inputFile.readInt();\n                array[i] = number;\n                i++;\n                \n            }catch (EOFException e)\n            {\n                endOfFile = true;\n            }\n        }\n\n        //Close the file.\n        inputFile.close();\n    }\n</code></pre>\n<p>result :</p>\n<pre><code>The numbers read from the file are:\n1 2 3 4 5 6 7 8 \n</code></pre>\n"}],"owner":{"account_id":24516627,"reputation":11,"user_id":18430280,"display_name":"Fuzzy_Pancake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646935862,"creation_date":1646924070,"question_id":71426196,"body_markdown":"I&#39;m working on a school assignment, the requirements are as follows: &quot;Design a class that has a static method named writeArray.  The method should take two arguments: the name of the file and a reference to an int array.  The file should be opened as a binary file, the contents of the array should be written to the file, then the file should be closed.  Write a second method in the class named readArray.  The method should take two arguments: the name of a file, and a reference to an int array.  The file should be opened, data should be read from the file and stored in the array, then the file should be closed.  Demonstrate both methods in a program.&quot;\r\n\r\nHere&#39;s my code so far for the class and demo:\r\n\r\n    import java.io.*;\r\n    \r\n    public class FileArray\r\n    \r\n    {\r\n        \r\n    public static void writeArray(String filename, int[] array) throws IOException\r\n    {\r\n        //Open the file.\r\n\r\n        DataOutputStream outputFile = new DataOutputStream(new FileOutputStream(&quot;MyNumbers.txt&quot;));\r\n        \r\n        //Write the array.\r\n        for(int index = 0; index &lt; array.length; index++)\r\n        {\r\n            outputFile.writeInt(array[index]);\r\n        }\r\n        \r\n        //Close the file.\r\n        outputFile.close();\r\n    }\r\n    \r\n    public static void readArray(String filename, int[] array) throws IOException\r\n    {\r\n        int number;\r\n        boolean endOfFile = false;\r\n        \r\n        //Open the file.\r\n        FileInputStream fstream = new FileInputStream(&quot;MyNumbers.txt&quot;);\r\n        DataInputStream inputFile = new DataInputStream(fstream);\r\n        \r\n        //Read values from the array.\r\n        while (!endOfFile)\r\n        {\r\n            try\r\n            {\r\n                number = inputFile.readInt();\r\n            }\r\n            catch (EOFException e)\r\n            {\r\n                endOfFile = true;\r\n            }\r\n        }\r\n        \r\n        //Close the file.\r\n        inputFile.close();\r\n    }\r\n    }\r\n\r\nSecond class:\r\n\r\n    import java.io.*;\r\n    \r\n    public class FileArrayDemo extends FileArray\r\n    \r\n    {\r\n    \r\n        public static void main(String[] args)\r\n    \r\n        {\r\n            //Create arrays.\r\n            int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8};\r\n            int[] test = new int[8];\r\n            \r\n            //Try/catch clause.\r\n            try\r\n            {\r\n                //Write the contents of the numbers array to the file MyNumbers.txt.\r\n                FileArray fileArray = new FileArray();\r\n                fileArray.writeArray(&quot;MyNumbers.txt&quot;, numbers);\r\n                \r\n                //Read the contents of the file MyNumbers.txt into the test array.\r\n                fileArray.readArray(&quot;MyNumbers.txt&quot;, test);\r\n                \r\n                //Display the numbers from the test array.\r\n                System.out.println(&quot;The numbers read from the file are:&quot;);\r\n                for (int i = 0; i &lt; test.length; i++)\r\n                System.out.print(test[i] + &quot; &quot;);\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                System.out.println(&quot;Error = &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I try to use the demo file, my array is showing all 0&#39;s instead of numbers 1-8.  I&#39;m not sure what I&#39;m doing wrong here at all.  I&#39;ve been following along with the examples from my book, but they only provide demonstrations in one class instead of having a class that creates methods to perform the write/read operations.\r\n\r\n\r\n","title":"Trying to read from a binary file to an array","body":"<p>I'm working on a school assignment, the requirements are as follows: &quot;Design a class that has a static method named writeArray.  The method should take two arguments: the name of the file and a reference to an int array.  The file should be opened as a binary file, the contents of the array should be written to the file, then the file should be closed.  Write a second method in the class named readArray.  The method should take two arguments: the name of a file, and a reference to an int array.  The file should be opened, data should be read from the file and stored in the array, then the file should be closed.  Demonstrate both methods in a program.&quot;</p>\n<p>Here's my code so far for the class and demo:</p>\n<pre><code>import java.io.*;\n\npublic class FileArray\n\n{\n    \npublic static void writeArray(String filename, int[] array) throws IOException\n{\n    //Open the file.\n\n    DataOutputStream outputFile = new DataOutputStream(new FileOutputStream(&quot;MyNumbers.txt&quot;));\n    \n    //Write the array.\n    for(int index = 0; index &lt; array.length; index++)\n    {\n        outputFile.writeInt(array[index]);\n    }\n    \n    //Close the file.\n    outputFile.close();\n}\n\npublic static void readArray(String filename, int[] array) throws IOException\n{\n    int number;\n    boolean endOfFile = false;\n    \n    //Open the file.\n    FileInputStream fstream = new FileInputStream(&quot;MyNumbers.txt&quot;);\n    DataInputStream inputFile = new DataInputStream(fstream);\n    \n    //Read values from the array.\n    while (!endOfFile)\n    {\n        try\n        {\n            number = inputFile.readInt();\n        }\n        catch (EOFException e)\n        {\n            endOfFile = true;\n        }\n    }\n    \n    //Close the file.\n    inputFile.close();\n}\n}\n</code></pre>\n<p>Second class:</p>\n<pre><code>import java.io.*;\n\npublic class FileArrayDemo extends FileArray\n\n{\n\n    public static void main(String[] args)\n\n    {\n        //Create arrays.\n        int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8};\n        int[] test = new int[8];\n        \n        //Try/catch clause.\n        try\n        {\n            //Write the contents of the numbers array to the file MyNumbers.txt.\n            FileArray fileArray = new FileArray();\n            fileArray.writeArray(&quot;MyNumbers.txt&quot;, numbers);\n            \n            //Read the contents of the file MyNumbers.txt into the test array.\n            fileArray.readArray(&quot;MyNumbers.txt&quot;, test);\n            \n            //Display the numbers from the test array.\n            System.out.println(&quot;The numbers read from the file are:&quot;);\n            for (int i = 0; i &lt; test.length; i++)\n            System.out.print(test[i] + &quot; &quot;);\n        }\n        catch (IOException e)\n        {\n            System.out.println(&quot;Error = &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>When I try to use the demo file, my array is showing all 0's instead of numbers 1-8.  I'm not sure what I'm doing wrong here at all.  I've been following along with the examples from my book, but they only provide demonstrations in one class instead of having a class that creates methods to perform the write/read operations.</p>\n"},{"tags":["java","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646935214,"creation_date":1646935214,"answer_id":71428753,"question_id":71428621,"body_markdown":"Why don&#39;t you just inject the `StreamBridge` into your runner instead of the message channel?\r\n\r\nBy default, stream bridge output channels are created on-demand (first send).","title":"Polled Consumer With Functional Programming &amp; Stream bridge","body":"<p>Why don't you just inject the <code>StreamBridge</code> into your runner instead of the message channel?</p>\n<p>By default, stream bridge output channels are created on-demand (first send).</p>\n"}],"owner":{"account_id":15567123,"reputation":133,"user_id":11230529,"display_name":"AlanC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71428753,"answer_count":1,"score":0,"last_activity_date":1646935214,"creation_date":1646934568,"question_id":71428621,"body_markdown":"I&#39;m using spring cloud stream with kafka broker for microservice inter-communication. As part of which, `stream bridge` will be used to send the message, which is fine. \r\n\r\n**But during consumption of said message, the message need not be immediately consumed, rather when a condition is satisfied, then only, it should be consumed**. \r\n\r\nFrom the documentation, I understand that I need to use `Polled Consumers`(do correct me if I&#39;m mistaken) for this. \r\n\r\nThis is what I&#39;ve tried from what I&#39;ve understood of the [documentation][1].\r\n\r\n\r\napplication.properties\r\n\r\n    spring.cloud.stream.pollable-source = consumeResponse\r\n    spring.cloud.stream.function.definition = consumeResponse\r\n    \r\n    #stream bridge\r\n    spring.cloud.stream.bindings.outputchannel1.destination = REQUEST_TOPIC\r\n    spring.cloud.stream.bindings.outputchannel1.binder= kafka1\r\n    \r\n    #polled Consumer\r\n    spring.cloud.stream.bindings.consumeResponse-in-0.binder= kafka1\r\n    spring.cloud.stream.bindings.consumeResponse-in-0.destination = REQUEST_TOPIC\r\n    spring.cloud.stream.bindings.consumeResponse-in-0.group = consumer_cloud_stream1\r\n\r\n    spring.cloud.stream.binders.kafka1.type=kafka\r\n    \r\nMainApplication.java\r\n\r\n    @Bean\r\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n    \treturn args -&gt; {\r\n    \t\t//produce message\r\n    \t\tfor (int i = 0; i &lt; 5; i++) {\r\n    \t\t\tstreamBridge.send(&quot;outputchannel1&quot;, &quot;msg&quot;+i);\r\n    \t\t\tSystem.out.println(&quot;Request :: &quot; + &quot;msg&quot;+i);\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    public Consumer&lt;String&gt; consumeResponse() {\r\n    \treturn (response) -&gt; {\r\n    \t\t//consume message\r\n    \t\tSystem.out.println(&quot;Response :: &quot; + response);\r\n    \t};\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    public ApplicationRunner poller(PollableMessageSource destIn, MessageChannel destOut) {\r\n    \treturn args -&gt; {\r\n    \t\twhile (someCondition) { //some condition that checks whether or not to consume the message\r\n    \t\t\ttry {\r\n    \t\t\t\t//condition satisfied, so forward message to consumer\r\n    \t\t\t\tif (!destIn.poll(m -&gt; {\r\n    \t\t\t\t\tString newPayload = ((String) m.getPayload());\r\n    \t\t\t\t\tdestOut.send(new GenericMessage&lt;&gt;(newPayload));\r\n    \t\t\t\t})) {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\nBut this throws the following exception:-\r\n\r\n\r\n    Parameter 1 of method poller in com.MainApplication required a single bean, but 2 were found:\r\n    \t- nullChannel: defined in null\r\n    \t- errorChannel: defined in null\r\n\r\n\r\nI&#39;d appreciate it if someone could help me out here or point me towards a working example for the same.\r\n\r\nSpring boot version: 2.6.4,\r\nSpring cloud version: 2021.0.1\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-streams-overview-using-polled-consumers","title":"Polled Consumer With Functional Programming &amp; Stream bridge","body":"<p>I'm using spring cloud stream with kafka broker for microservice inter-communication. As part of which, <code>stream bridge</code> will be used to send the message, which is fine.</p>\n<p><strong>But during consumption of said message, the message need not be immediately consumed, rather when a condition is satisfied, then only, it should be consumed</strong>.</p>\n<p>From the documentation, I understand that I need to use <code>Polled Consumers</code>(do correct me if I'm mistaken) for this.</p>\n<p>This is what I've tried from what I've understood of the <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-streams-overview-using-polled-consumers\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>application.properties</p>\n<pre><code>spring.cloud.stream.pollable-source = consumeResponse\nspring.cloud.stream.function.definition = consumeResponse\n\n#stream bridge\nspring.cloud.stream.bindings.outputchannel1.destination = REQUEST_TOPIC\nspring.cloud.stream.bindings.outputchannel1.binder= kafka1\n\n#polled Consumer\nspring.cloud.stream.bindings.consumeResponse-in-0.binder= kafka1\nspring.cloud.stream.bindings.consumeResponse-in-0.destination = REQUEST_TOPIC\nspring.cloud.stream.bindings.consumeResponse-in-0.group = consumer_cloud_stream1\n\nspring.cloud.stream.binders.kafka1.type=kafka\n</code></pre>\n<p>MainApplication.java</p>\n<pre><code>@Bean\npublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n    return args -&gt; {\n        //produce message\n        for (int i = 0; i &lt; 5; i++) {\n            streamBridge.send(&quot;outputchannel1&quot;, &quot;msg&quot;+i);\n            System.out.println(&quot;Request :: &quot; + &quot;msg&quot;+i);\n        }\n    };\n}\n\n\n@Bean\npublic Consumer&lt;String&gt; consumeResponse() {\n    return (response) -&gt; {\n        //consume message\n        System.out.println(&quot;Response :: &quot; + response);\n    };\n}\n\n\n@Bean\npublic ApplicationRunner poller(PollableMessageSource destIn, MessageChannel destOut) {\n    return args -&gt; {\n        while (someCondition) { //some condition that checks whether or not to consume the message\n            try {\n                //condition satisfied, so forward message to consumer\n                if (!destIn.poll(m -&gt; {\n                    String newPayload = ((String) m.getPayload());\n                    destOut.send(new GenericMessage&lt;&gt;(newPayload));\n                })) {\n                    Thread.sleep(1000);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n}\n</code></pre>\n<p>But this throws the following exception:-</p>\n<pre><code>Parameter 1 of method poller in com.MainApplication required a single bean, but 2 were found:\n    - nullChannel: defined in null\n    - errorChannel: defined in null\n</code></pre>\n<p>I'd appreciate it if someone could help me out here or point me towards a working example for the same.</p>\n<p>Spring boot version: 2.6.4,\nSpring cloud version: 2021.0.1</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1646241229,"post_id":71326541,"comment_id":126076278,"body_markdown":"Doing both operations is not going to affect your program’s performance.  Each line takes nanoseconds to execute at worst.  Consider how many math operations take place each second in a modern videogame.","body":"Doing both operations is not going to affect your program’s performance.  Each line takes nanoseconds to execute at worst.  Consider how many math operations take place each second in a modern videogame."},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1646241522,"post_id":71326541,"comment_id":126076397,"body_markdown":"Ignore my previous comment about negative numbers. When you find yourself asking &quot;is this more efficient?&quot;, the quickest way to find out is to run both of them and time how long they take. Different hardware may produce different results","body":"Ignore my previous comment about negative numbers. When you find yourself asking &quot;is this more efficient?&quot;, the quickest way to find out is to run both of them and time how long they take. Different hardware may produce different results"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1646249237,"post_id":71326541,"comment_id":126079038,"body_markdown":"You need to consider that if you need to do this often it would make sense to write a method.  But invoking a method can also decrease performance.  But having run some simple tests I can assure you that any noticeable performance hit would not be due to this operation.   After about 10M iterations, the difference in combined running time between using operators and computing as you suggested was about `.1` seconds.  And this included putting results in an ArrayList so the compiler would not optimize out unused results.","body":"You need to consider that if you need to do this often it would make sense to write a method.  But invoking a method can also decrease performance.  But having run some simple tests I can assure you that any noticeable performance hit would not be due to this operation.   After about 10M iterations, the difference in combined running time between using operators and computing as you suggested was about <code>.1</code> seconds.  And this included putting results in an ArrayList so the compiler would not optimize out unused results."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646934860,"creation_date":1646934860,"answer_id":71428688,"question_id":71326541,"body_markdown":"When you use `BigInteger`, you can query quotient and remainder in one operation\r\n\r\n```java\r\nBigInteger myNumber = BigInteger.valueOf(125), denominator = BigInteger.valueOf(6);\r\nBigInteger[] result = myNumber.divideAndRemainder(denominator);\r\nSystem.out.println(myNumber + &quot; / &quot; + denominator + &quot; = &quot; + result[0]);\r\nSystem.out.println(myNumber + &quot; % &quot; + denominator + &quot; = &quot; + result[1]);\r\n```\r\n```none\r\n125 / 6 = 20\r\n125 % 6 = 5\r\n```\r\n\r\nHowever, when you are calculating with integral values, it’s best to trust the JIT&#160;compiler/ hotspot&#160;optimizer.\r\n\r\nE.g. when I use\r\n\r\n```java\r\nstatic void test(int myNumber, int denominator) {\r\n    int division = myNumber / denominator;  // 20\r\n    int modulo1   = myNumber % denominator;  // 5\r\n\r\n    // prevent over-optimization\r\n    if(division != 20 || modulo1 != 5) throw new AssertionError();\r\n}\r\n```\r\n\r\nand run `test(125, 6)` often enough, I get the following compiled native code with JDK&#160;11/x86\r\n\r\n```asm\r\n  0x0000029f3ef97b2c: mov     eax,edx\r\n  0x0000029f3ef97b2e: test    r8d,r8d\r\n  0x0000029f3ef97b31: je      29f3ef97b63h      ;*idiv {reexecute=0 rethrow=0 return_oop=0}\r\n                                                ; - SO71326541::test@2 (line 23)\r\n\r\n  0x0000029f3ef97b33: cmp     eax,80000000h\r\n  0x0000029f3ef97b38: jne     29f3ef97b42h\r\n  0x0000029f3ef97b3a: xor     edx,edx\r\n  0x0000029f3ef97b3c: cmp     r8d,0ffffffffh\r\n  0x0000029f3ef97b40: je      29f3ef97b46h\r\n  0x0000029f3ef97b42: cdq\r\n  0x0000029f3ef97b43: idiv    eax,r8d\r\n  0x0000029f3ef97b46: mov     r11d,edx\r\n  0x0000029f3ef97b49: cmp     eax,14h\r\n  0x0000029f3ef97b4c: jne     29f3ef97b72h      ;*if_icmpne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                ; - SO71326541::test@11 (line 27)\r\n\r\n  0x0000029f3ef97b4e: cmp     edx,5h\r\n  0x0000029f3ef97b51: jne     29f3ef97b86h      ;*if_icmpeq {reexecute=0 rethrow=0 return_oop=0}\r\n                                                ; - SO71326541::test@16 (line 27)\r\n```\r\n\r\nWe can clearly see that the two operations, `myNumber / denominator` and `myNumber % denominator` have been fused into a single `idiv` instruction.\r\n","title":"Best way to get both modulo and result of division?","body":"<p>When you use <code>BigInteger</code>, you can query quotient and remainder in one operation</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigInteger myNumber = BigInteger.valueOf(125), denominator = BigInteger.valueOf(6);\nBigInteger[] result = myNumber.divideAndRemainder(denominator);\nSystem.out.println(myNumber + &quot; / &quot; + denominator + &quot; = &quot; + result[0]);\nSystem.out.println(myNumber + &quot; % &quot; + denominator + &quot; = &quot; + result[1]);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>125 / 6 = 20\n125 % 6 = 5\n</code></pre>\n<p>However, when you are calculating with integral values, it’s best to trust the JIT compiler/ hotspot optimizer.</p>\n<p>E.g. when I use</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void test(int myNumber, int denominator) {\n    int division = myNumber / denominator;  // 20\n    int modulo1   = myNumber % denominator;  // 5\n\n    // prevent over-optimization\n    if(division != 20 || modulo1 != 5) throw new AssertionError();\n}\n</code></pre>\n<p>and run <code>test(125, 6)</code> often enough, I get the following compiled native code with JDK 11/x86</p>\n<pre><code>  0x0000029f3ef97b2c: mov     eax,edx\n  0x0000029f3ef97b2e: test    r8d,r8d\n  0x0000029f3ef97b31: je      29f3ef97b63h      ;*idiv {reexecute=0 rethrow=0 return_oop=0}\n                                                ; - SO71326541::test@2 (line 23)\n\n  0x0000029f3ef97b33: cmp     eax,80000000h\n  0x0000029f3ef97b38: jne     29f3ef97b42h\n  0x0000029f3ef97b3a: xor     edx,edx\n  0x0000029f3ef97b3c: cmp     r8d,0ffffffffh\n  0x0000029f3ef97b40: je      29f3ef97b46h\n  0x0000029f3ef97b42: cdq\n  0x0000029f3ef97b43: idiv    eax,r8d\n  0x0000029f3ef97b46: mov     r11d,edx\n  0x0000029f3ef97b49: cmp     eax,14h\n  0x0000029f3ef97b4c: jne     29f3ef97b72h      ;*if_icmpne {reexecute=0 rethrow=0 return_oop=0}\n                                                ; - SO71326541::test@11 (line 27)\n\n  0x0000029f3ef97b4e: cmp     edx,5h\n  0x0000029f3ef97b51: jne     29f3ef97b86h      ;*if_icmpeq {reexecute=0 rethrow=0 return_oop=0}\n                                                ; - SO71326541::test@16 (line 27)\n</code></pre>\n<p>We can clearly see that the two operations, <code>myNumber / denominator</code> and <code>myNumber % denominator</code> have been fused into a single <code>idiv</code> instruction.</p>\n"}],"owner":{"account_id":23473009,"reputation":21,"user_id":17526213,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1646934860,"creation_date":1646240828,"question_id":71326541,"body_markdown":"Seeing as modulo and integer division are closely related, you&#39;d think it would make sense to get both values in one operation. Are there languages that have this capability? \r\n\r\nFollow up question: For languages that don&#39;t have this capability, is it best to compute the modulo by subtracting off the result of the division * denominator?\r\n\r\n\r\n```java\r\n// In java, if I want both values I need to do this:\r\nint myNumber = 125;\r\nint denominator = 6;\r\n\r\nint division = myNumber / denominator;  // 20\r\nint modulo1   = myNumber % denominator;  // 5\r\n\r\n// Follow up: Is this a more efficient way to compute the modulo?\r\nint modulo2 = myNumber - division * denominator;\r\n```\r\n\r\n","title":"Best way to get both modulo and result of division?","body":"<p>Seeing as modulo and integer division are closely related, you'd think it would make sense to get both values in one operation. Are there languages that have this capability?</p>\n<p>Follow up question: For languages that don't have this capability, is it best to compute the modulo by subtracting off the result of the division * denominator?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In java, if I want both values I need to do this:\nint myNumber = 125;\nint denominator = 6;\n\nint division = myNumber / denominator;  // 20\nint modulo1   = myNumber % denominator;  // 5\n\n// Follow up: Is this a more efficient way to compute the modulo?\nint modulo2 = myNumber - division * denominator;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8466,"page":1526,"page_size":100}
